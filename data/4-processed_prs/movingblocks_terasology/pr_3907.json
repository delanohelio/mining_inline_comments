{"pr_number": 3907, "pr_title": "feat: Add events to scale character", "pr_createdAt": "2020-04-24T18:28:37Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/3907", "timeline": [{"oid": "cebbc3367d07e8f868ebc6a6d90ad9c3046274f7", "url": "https://github.com/MovingBlocks/Terasology/commit/cebbc3367d07e8f868ebc6a6d90ad9c3046274f7", "message": "feat: Add event to scale character", "committedDate": "2020-04-24T18:27:52Z", "type": "commit"}, {"oid": "ad54797413de6a938b54ab5fc5a752715d6d1b2f", "url": "https://github.com/MovingBlocks/Terasology/commit/ad54797413de6a938b54ab5fc5a752715d6d1b2f", "message": "fix: Loop through all vertical blocks a character occupies in checkBlockEntry", "committedDate": "2020-04-26T16:44:46Z", "type": "commit"}, {"oid": "5e9b663089e29d0a47dde04b0fba43c8ff831d52", "url": "https://github.com/MovingBlocks/Terasology/commit/5e9b663089e29d0a47dde04b0fba43c8ff831d52", "message": "fix: refresh the character collider after scaling", "committedDate": "2020-04-26T17:19:10Z", "type": "commit"}, {"oid": "830f11181719cabafe26563da050f06ec7be9746", "url": "https://github.com/MovingBlocks/Terasology/commit/830f11181719cabafe26563da050f06ec7be9746", "message": "doc: Add Javadoc and utility methods for ScaleCharacterEvent", "committedDate": "2020-04-26T19:55:39Z", "type": "commit"}, {"oid": "b405d807a1469b5e7e691ac36ecac3617e59e1a8", "url": "https://github.com/MovingBlocks/Terasology/commit/b405d807a1469b5e7e691ac36ecac3617e59e1a8", "message": "chore: Remove BoxShape component from player", "committedDate": "2020-04-26T20:04:29Z", "type": "commit"}, {"oid": "d8fdcd4c1fa7541cfc0b22a9dbdfb97a2bd2afcd", "url": "https://github.com/MovingBlocks/Terasology/commit/d8fdcd4c1fa7541cfc0b22a9dbdfb97a2bd2afcd", "message": "feat: Store original and target value instead of factor", "committedDate": "2020-04-26T20:30:26Z", "type": "commit"}, {"oid": "908ad99891cee997c780426bfd000b4395fe235f", "url": "https://github.com/MovingBlocks/Terasology/commit/908ad99891cee997c780426bfd000b4395fe235f", "message": "feat: Move gaze mount point handling to proper system (+ doc)", "committedDate": "2020-04-26T20:52:48Z", "type": "commit"}, {"oid": "e5ba789b329f68b8ac41ec5d143d35a810181917", "url": "https://github.com/MovingBlocks/Terasology/commit/e5ba789b329f68b8ac41ec5d143d35a810181917", "message": "feat: Introduce scale request and on scale notification events", "committedDate": "2020-04-27T20:42:24Z", "type": "commit"}, {"oid": "d8689f1710fb567d6ddfa3f2f9e6d4d09aedd768", "url": "https://github.com/MovingBlocks/Terasology/commit/d8689f1710fb567d6ddfa3f2f9e6d4d09aedd768", "message": "feat: adjust player location on scaling", "committedDate": "2020-04-27T21:05:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1MjI4Nw==", "url": "https://github.com/MovingBlocks/Terasology/pull/3907#discussion_r416152287", "bodyText": "are you planning on added some javadocs to this class?", "author": "pollend", "createdAt": "2020-04-27T21:12:13Z", "path": "engine/src/main/java/org/terasology/logic/characters/CharacterSystem.java", "diffHunk": "@@ -62,7 +64,10 @@\n import org.terasology.world.block.BlockComponent;\n import org.terasology.world.block.regions.ActAsBlockComponent;\n \n+import java.util.Optional;\n+\n /**\n+ *\n  */", "originalCommit": "d8689f1710fb567d6ddfa3f2f9e6d4d09aedd768", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQxMjYwMA==", "url": "https://github.com/MovingBlocks/Terasology/pull/3907#discussion_r416412600", "bodyText": "eventually yes - this is just an auto-formatting change. The CharacterSystem does a lot of stuff right now, maybe it can be slimmed down to have a better idea how each part is working...", "author": "skaldarnar", "createdAt": "2020-04-28T08:04:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1MjI4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1Mzc3Mw==", "url": "https://github.com/MovingBlocks/Terasology/pull/3907#discussion_r416153773", "bodyText": "does the mount point update before the game starts?", "author": "pollend", "createdAt": "2020-04-27T21:15:04Z", "path": "engine/src/main/resources/assets/prefabs/player/player.prefab", "diffHunk": "@@ -74,11 +67,5 @@\n         \"translate\": [-0.4, 0.45, 0.3],\n         \"scale\": 0.35\n   },\n-  \"GazeMountPoint\": {", "originalCommit": "d8689f1710fb567d6ddfa3f2f9e6d4d09aedd768", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQxNDQ1MA==", "url": "https://github.com/MovingBlocks/Terasology/pull/3907#discussion_r416414450", "bodyText": "Currently yes, it is updated upon player spawn with the value from the player settings. I want to touch the player settings and see what we can get rid of.\nI'd likely remove these settings, but keep the scale event upon player spawn to make sure the gaze mount point is correctly computed. I'd like to avoid managing default values in several places, thus, I'd like to get it out of the prefab...", "author": "skaldarnar", "createdAt": "2020-04-28T08:07:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1Mzc3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1NTgwNA==", "url": "https://github.com/MovingBlocks/Terasology/pull/3907#discussion_r416155804", "bodyText": "do we still need the BoxShape and does it still serve a purpose? I remember there was some discussion about the there being two colliders on the player.", "author": "pollend", "createdAt": "2020-04-27T21:18:37Z", "path": "engine/src/main/resources/assets/prefabs/player/player.prefab", "diffHunk": "@@ -20,13 +20,6 @@\n   },\n   \"VisualCharacter\": {\n   },\n-  \"BoxShape\": {\n-    \"extents\": [\n-      1.5,\n-      1.8,\n-      1.5\n-    ]\n-  },", "originalCommit": "d8689f1710fb567d6ddfa3f2f9e6d4d09aedd768", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQxNTYzOQ==", "url": "https://github.com/MovingBlocks/Terasology/pull/3907#discussion_r416415639", "bodyText": "yeah, we discussed this on Discord - nobody seems to know what this is used for, and the numbers are off from the capsule shape used otherwise for the player.\nPeople suggested to remove it now - we can easily bring it back if we encounter some bugs (hard part will be to connect these potential bugs with the lack of a BoxShapeComponent on the player, though)", "author": "skaldarnar", "createdAt": "2020-04-28T08:09:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjE1NTgwNA=="}], "type": "inlineReview"}]}