{"pr_number": 4285, "pr_title": "fix: tweak lighting for over exposure problem", "pr_createdAt": "2020-11-28T03:38:18Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/4285", "timeline": [{"oid": "184cdbfa8ec04aefd92341d1431c3711b7f9d06f", "url": "https://github.com/MovingBlocks/Terasology/commit/184cdbfa8ec04aefd92341d1431c3711b7f9d06f", "message": "tweak lighting for over saturation problem", "committedDate": "2020-11-28T03:32:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjExNzE0Mw==", "url": "https://github.com/MovingBlocks/Terasology/pull/4285#discussion_r532117143", "bodyText": "So now the ambientIntensity is a threshold rather than a base value? Was the ambient intensity used to get this bloom effect?\nI think having everything more evenly lit is quite nice, I'm just wondering whether it might be a bit too dull...", "author": "skaldarnar", "createdAt": "2020-11-28T23:07:15Z", "path": "engine/src/main/resources/org/terasology/include/globalFunctionsFragIncl.glsl", "diffHunk": "@@ -186,7 +186,7 @@ float calcDayAndNightLightingFactor(float daylightValue, float daylight) {\n }\n \n vec3 calcSunlightColorDeferred(float daylightValue, float diffuseLighting, float ambientIntensity, float diffuseIntensity, vec3 ambientColor, vec3 diffuseColor) {\n-    vec3 daylightColorValue = vec3(ambientIntensity) + diffuseLighting * diffuseIntensity * diffuseColor;\n+    vec3 daylightColorValue = max(vec3(ambientIntensity),diffuseLighting * diffuseIntensity * diffuseColor);", "originalCommit": "184cdbfa8ec04aefd92341d1431c3711b7f9d06f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjExNzY4Nw==", "url": "https://github.com/MovingBlocks/Terasology/pull/4285#discussion_r532117687", "bodyText": "yea, the colors are starting to look a bit dull. we need to really look at the lighting and rework the shaders. I kind of prefer this over the everything being blown out.", "author": "pollend", "createdAt": "2020-11-28T23:14:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjExNzE0Mw=="}], "type": "inlineReview"}, {"oid": "d8e1368fe317b0f4591a4204a113edc0a9c20d4a", "url": "https://github.com/MovingBlocks/Terasology/commit/d8e1368fe317b0f4591a4204a113edc0a9c20d4a", "message": "Merge branch 'develop' into feature/tweak-lighting", "committedDate": "2020-11-28T23:22:40Z", "type": "commit"}, {"oid": "3cc833887d320293f6aad8dbee2ca0e9a923f6ad", "url": "https://github.com/MovingBlocks/Terasology/commit/3cc833887d320293f6aad8dbee2ca0e9a923f6ad", "message": "Merge branch 'develop' into feature/tweak-lighting", "committedDate": "2020-11-28T23:53:21Z", "type": "commit"}]}