{"pr_number": 4051, "pr_title": "feat(JOML): partial migrate of LocationComponent", "pr_createdAt": "2020-06-14T08:10:20Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/4051", "timeline": [{"oid": "d55ebcd62e8194bef89a4cb40fa472843ec55c35", "url": "https://github.com/MovingBlocks/Terasology/commit/d55ebcd62e8194bef89a4cb40fa472843ec55c35", "message": "feat(JOML) partial migration of LocationComponent", "committedDate": "2020-06-14T08:09:30Z", "type": "commit"}, {"oid": "09d17b05883538f6184cab0ac76e825ae79cab04", "url": "https://github.com/MovingBlocks/Terasology/commit/09d17b05883538f6184cab0ac76e825ae79cab04", "message": "add replacement locationComponent", "committedDate": "2020-06-14T20:47:06Z", "type": "commit"}, {"oid": "ee94a16a8daeb7ac5d2b26e4843825e4adcfb0f6", "url": "https://github.com/MovingBlocks/Terasology/commit/ee94a16a8daeb7ac5d2b26e4843825e4adcfb0f6", "message": "updated test cases to LocationComponent", "committedDate": "2020-06-14T23:19:59Z", "type": "commit"}, {"oid": "0e130a57df0206ab7b15010c8158b6bd377723ce", "url": "https://github.com/MovingBlocks/Terasology/commit/0e130a57df0206ab7b15010c8158b6bd377723ce", "message": "Merge remote-tracking branch 'upstream/develop' into feature/JOML_partial_migrate_LocationComponent", "committedDate": "2020-08-06T23:36:02Z", "type": "commit"}, {"oid": "ef3635d4a976fd64f34094633ba940c3c1a1c397", "url": "https://github.com/MovingBlocks/Terasology/commit/ef3635d4a976fd64f34094633ba940c3c1a1c397", "message": "update location component", "committedDate": "2020-08-06T23:41:08Z", "type": "commit"}, {"oid": "8f6caccc89dddba6660d5b63c222f560dd5a654a", "url": "https://github.com/MovingBlocks/Terasology/commit/8f6caccc89dddba6660d5b63c222f560dd5a654a", "message": "mapped older methods to replacment methods", "committedDate": "2020-08-07T01:55:36Z", "type": "commit"}, {"oid": "ae6f308b125559224f6730cffc09b47548fc6b8c", "url": "https://github.com/MovingBlocks/Terasology/commit/ae6f308b125559224f6730cffc09b47548fc6b8c", "message": "update docs for LocationComponent", "committedDate": "2020-08-07T02:06:25Z", "type": "commit"}, {"oid": "0e2dfb4dfddd8a9442d358b5dc382b91ee825a2e", "url": "https://github.com/MovingBlocks/Terasology/commit/0e2dfb4dfddd8a9442d358b5dc382b91ee825a2e", "message": "add missing @Deprecated", "committedDate": "2020-08-07T02:19:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTkxNjc1Mw==", "url": "https://github.com/MovingBlocks/Terasology/pull/4051#discussion_r479916753", "bodyText": "Unused.", "author": "DarkWeird", "createdAt": "2020-08-31T06:19:31Z", "path": "engine-tests/src/test/java/org/terasology/logic/location/LocationComponentTest.java", "diffHunk": "@@ -15,11 +15,13 @@\n  */\n package org.terasology.logic.location;\n \n+import org.joml.Quaternionf;\n import org.junit.jupiter.api.BeforeEach;\n import org.junit.jupiter.api.Test;\n import org.terasology.TerasologyTestingEnvironment;\n import org.terasology.entitySystem.entity.EntityRef;\n import org.terasology.entitySystem.entity.lifecycleEvents.BeforeRemoveComponent;\n+import org.terasology.math.JomlUtil;\n import org.terasology.math.TeraMath;\n import org.terasology.math.geom.Quat4f;", "originalCommit": "0e2dfb4dfddd8a9442d358b5dc382b91ee825a2e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTkxNzMwNA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4051#discussion_r479917304", "bodyText": "Better change it to joml's Vector3f. Make less FQN usages.\ntera's Vector3f usages: 3\njoml's Vector3f usages: 38", "author": "DarkWeird", "createdAt": "2020-08-31T06:21:07Z", "path": "engine-tests/src/test/java/org/terasology/logic/location/LocationComponentTest.java", "diffHunk": "@@ -15,11 +15,13 @@\n  */\n package org.terasology.logic.location;\n \n+import org.joml.Quaternionf;\n import org.junit.jupiter.api.BeforeEach;\n import org.junit.jupiter.api.Test;\n import org.terasology.TerasologyTestingEnvironment;\n import org.terasology.entitySystem.entity.EntityRef;\n import org.terasology.entitySystem.entity.lifecycleEvents.BeforeRemoveComponent;\n+import org.terasology.math.JomlUtil;\n import org.terasology.math.TeraMath;\n import org.terasology.math.geom.Quat4f;\n import org.terasology.math.geom.Vector3f;", "originalCommit": "0e2dfb4dfddd8a9442d358b5dc382b91ee825a2e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTkyMDIwNw==", "url": "https://github.com/MovingBlocks/Terasology/pull/4051#discussion_r479920207", "bodyText": "You can remove method assertEquals(Quat4f, Quat4f, float) - it is not used now (omega)", "author": "DarkWeird", "createdAt": "2020-08-31T06:29:28Z", "path": "engine-tests/src/main/java/org/terasology/testUtil/TeraAssert.java", "diffHunk": "@@ -138,4 +139,18 @@ public static void assertEquals(Quat4f expected, Quat4f actual, float error) {\n             org.junit.jupiter.api.Assertions.assertEquals(expected.w, actual.w, error, errorMessageSupplier);\n         }\n     }\n+\n+\n+    public static void assertEquals(Quaternionfc expected, Quaternionfc actual, float error) {", "originalCommit": "0e2dfb4dfddd8a9442d358b5dc382b91ee825a2e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTkyMDc0MA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4051#discussion_r479920740", "bodyText": "Oh, I don't noticed this migration junit4-junit5 T_T\nCan you fix it? (change to import usage) Assertions.assertEquals", "author": "DarkWeird", "createdAt": "2020-08-31T06:30:49Z", "path": "engine-tests/src/main/java/org/terasology/testUtil/TeraAssert.java", "diffHunk": "@@ -138,4 +139,18 @@ public static void assertEquals(Quat4f expected, Quat4f actual, float error) {\n             org.junit.jupiter.api.Assertions.assertEquals(expected.w, actual.w, error, errorMessageSupplier);\n         }\n     }\n+\n+\n+    public static void assertEquals(Quaternionfc expected, Quaternionfc actual, float error) {\n+        if (expected == null) {\n+            assertNull(actual);\n+        } else {\n+            assertNotNull(actual);\n+            Supplier<String> errorMessageSupplier = () -> \"Expected \" + expected + \", actual\" + actual;\n+            org.junit.jupiter.api.Assertions.assertEquals(expected.x(), actual.x(), error, errorMessageSupplier);", "originalCommit": "0e2dfb4dfddd8a9442d358b5dc382b91ee825a2e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b9ce35eca4302ed9c2332386d0a374380bd988cd", "url": "https://github.com/MovingBlocks/Terasology/commit/b9ce35eca4302ed9c2332386d0a374380bd988cd", "message": "clean up code", "committedDate": "2020-08-31T16:34:18Z", "type": "commit"}, {"oid": "530f03e16b857ef72a08eb71526b833b5bdaaa0f", "url": "https://github.com/MovingBlocks/Terasology/commit/530f03e16b857ef72a08eb71526b833b5bdaaa0f", "message": "clean up terassert", "committedDate": "2020-08-31T16:37:01Z", "type": "commit"}]}