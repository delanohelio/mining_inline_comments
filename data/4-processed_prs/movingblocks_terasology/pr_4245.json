{"pr_number": 4245, "pr_title": "Extract  \"run game\" task configurations", "pr_createdAt": "2020-11-12T14:22:10Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/4245", "timeline": [{"oid": "559ab45ba013b6e4807c84a35644f025a49a007b", "url": "https://github.com/MovingBlocks/Terasology/commit/559ab45ba013b6e4807c84a35644f025a49a007b", "message": "feature(build.gradle): extract common configuration for game tasks", "committedDate": "2020-11-12T13:50:22Z", "type": "commit"}, {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f", "url": "https://github.com/MovingBlocks/Terasology/commit/e3080eb2455da2ff166476bba4dbf1987c6f343f", "message": "feature(build.gradle): make setting of args and jvmArgs to append way.", "committedDate": "2020-11-12T14:18:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI2MDcxMA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522260710", "bodyText": "so that's ... all .. we need?", "author": "skaldarnar", "createdAt": "2020-11-12T16:55:40Z", "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -129,109 +123,45 @@ tasks.register<JavaExec>(\"game\") {\n     main = mainClassName\n     workingDir = rootDir\n \n+    classpath(sourceSets[\"main\"].runtimeClasspath)", "originalCommit": "e3080eb2455da2ff166476bba4dbf1987c6f343f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI4NDU1OQ==", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522284559", "bodyText": "Yeah.\nFacade classes + dependencies.\nModule classes not present. We haven't link to them as dependency.", "author": "DarkWeird", "createdAt": "2020-11-12T17:28:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI2MDcxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMxNzgwOA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522317808", "bodyText": "and I expect this is the default classpath of the run task.\nWhat I don't know is how to take advantage of those defaults for making and customizing several different tasks. Last time I looked, run wasn't its own Class of task, it was a customized JavaExec a lot like this.\nEither way, I think this is a big improvement! We can update it later if we figure out how bring it closer to defaults, and we won't have to worry about finding all the duplicates if/when we do.", "author": "keturn", "createdAt": "2020-11-12T18:18:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI2MDcxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMyODkxOA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522328918", "bodyText": "Yeah. This is default parameter in unknown place.\nJavaExec have default as null there.\n(It can be used for run external java code)", "author": "DarkWeird", "createdAt": "2020-11-12T18:36:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI2MDcxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMxMzE1Mg==", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522313152", "bodyText": "Use function-definition syntax here instead of assigning an anonymous function to this variable?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            val commonConfigure : JavaExec.()-> Unit = {\n          \n          \n            \n            fun JavaExec.commonConfigure(): Unit {\n          \n      \n    \n    \n  \n\nI think that's what you were going for. I'm a little rusty.", "author": "keturn", "createdAt": "2020-11-12T18:11:11Z", "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,16 +111,10 @@ configurations {\n     }\n }\n \n-tasks.register<JavaExec>(\"game\") {\n-    description = \"Run 'Terasology' to play the game as a standard PC application\"\n+// Used for all game configs.\n+val commonConfigure : JavaExec.()-> Unit = {", "originalCommit": "e3080eb2455da2ff166476bba4dbf1987c6f343f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}