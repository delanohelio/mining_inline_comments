{"pr_number": 4269, "pr_title": "Drop creation of unnecessary array on new chunk event", "pr_createdAt": "2020-11-24T12:25:34Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/4269", "timeline": [{"oid": "b2438755a89f95f716368394a22e4f0b5fd65bbc", "url": "https://github.com/MovingBlocks/Terasology/commit/b2438755a89f95f716368394a22e4f0b5fd65bbc", "message": "Drop creation of unnecessary array on new chunk event", "committedDate": "2020-11-24T11:53:13Z", "type": "commit"}, {"oid": "1f0c96e6828828718abab53af5a34ee1dbfb7325", "url": "https://github.com/MovingBlocks/Terasology/commit/1f0c96e6828828718abab53af5a34ee1dbfb7325", "message": "Merge branch 'develop' into develop-hajdam", "committedDate": "2020-11-24T12:26:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc3MjIzOQ==", "url": "https://github.com/MovingBlocks/Terasology/pull/4269#discussion_r529772239", "bodyText": "What is the reason the order here changed from x, y, z to z, x, y?", "author": "skaldarnar", "createdAt": "2020-11-24T17:59:01Z", "path": "engine/src/main/java/org/terasology/physics/engine/VoxelLiquidWorldSystem.java", "diffHunk": "@@ -146,20 +146,15 @@ public void onNewChunk(OnChunkLoaded chunkAvailable, EntityRef worldEntity) {\n         ByteBuffer buffer =\n             ByteBuffer.allocateDirect(2 * (ChunkConstants.SIZE_X * ChunkConstants.SIZE_Y * ChunkConstants.SIZE_Z));\n         buffer.order(ByteOrder.nativeOrder());\n-        short[] entries = new short[ChunkConstants.SIZE_X * ChunkConstants.SIZE_Y * ChunkConstants.SIZE_Z];\n-        for (int x = 0; x < ChunkConstants.SIZE_X; x++) {\n-            for (int y = 0; y < ChunkConstants.SIZE_Y; y++) {\n-                for (int z = 0; z < ChunkConstants.SIZE_Z; z++) {\n-                    int index = (z * ChunkConstants.SIZE_X * ChunkConstants.SIZE_Y) + (x * ChunkConstants.SIZE_Y) + y;\n+        for (int z = 0; z < ChunkConstants.SIZE_Z; z++) {\n+            for (int x = 0; x < ChunkConstants.SIZE_X; x++) {\n+                for (int y = 0; y < ChunkConstants.SIZE_Y; y++) {", "originalCommit": "1f0c96e6828828718abab53af5a34ee1dbfb7325", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc3NjcxMg==", "url": "https://github.com/MovingBlocks/Terasology/pull/4269#discussion_r529776712", "bodyText": "This is how the data are organized in the Buffer (see. index variable on removed line 153 which has Y as 1+ increment)", "author": "hajdam", "createdAt": "2020-11-24T18:05:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc3MjIzOQ=="}], "type": "inlineReview"}]}