{"pr_number": 3099, "pr_title": "[NCL-5665] Make sure build is successful even after OpenShift connect\u2026", "pr_createdAt": "2020-06-16T09:04:38Z", "pr_url": "https://github.com/project-ncl/pnc/pull/3099", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTUwMDgxMA==", "url": "https://github.com/project-ncl/pnc/pull/3099#discussion_r441500810", "bodyText": "Build executor should not depend on Openshift client. The Openshift client is an implementation detail of the driver.", "author": "matejonnet", "createdAt": "2020-06-17T12:18:40Z", "path": "build-executor/pom.xml", "diffHunk": "@@ -129,6 +129,10 @@\n       <groupId>com.fasterxml.jackson.core</groupId>\n       <artifactId>jackson-databind</artifactId>\n     </dependency>\n+      <dependency>\n+          <groupId>com.openshift</groupId>\n+          <artifactId>openshift-restclient-java</artifactId>\n+      </dependency>", "originalCommit": "2b4441a75354203d7828c466e1b6d001c3ed5b77", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTUwMTg1Mw==", "url": "https://github.com/project-ncl/pnc/pull/3099#discussion_r441501853", "bodyText": "If the case is that the environment is not destroyed that have to be written in the log.", "author": "matejonnet", "createdAt": "2020-06-17T12:20:31Z", "path": "build-executor/src/main/java/org/jboss/pnc/executor/DefaultBuildExecutor.java", "diffHunk": "@@ -446,6 +447,8 @@ private void destroyEnvironment(BuildExecutionSession buildExecutionSession) {\n             } else {\n                 userLog.warn(\"Unable to destroy environment. Most likely due to cancelled operation.\");\n             }\n+        } catch (OpenShiftException e) {\n+            log.error(\"OpenShift connection ERROR.\", e);", "originalCommit": "2b4441a75354203d7828c466e1b6d001c3ed5b77", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f2b009dd66bbc948955bd07b3e83305692a83428", "url": "https://github.com/project-ncl/pnc/commit/f2b009dd66bbc948955bd07b3e83305692a83428", "message": "[NCL-5665] Make sure build is successful even after OpenShift connection error when destroying environment", "committedDate": "2020-06-17T12:51:17Z", "type": "forcePushed"}, {"oid": "3c6fb3534683452bcd01d192c2eac0b128e1868a", "url": "https://github.com/project-ncl/pnc/commit/3c6fb3534683452bcd01d192c2eac0b128e1868a", "message": "[NCL-5665] Make sure build is successful even after OpenShift connection error when destroying environment", "committedDate": "2020-06-17T13:48:29Z", "type": "forcePushed"}, {"oid": "52f10789dbb4cb9f8b110835cd9a2b1ae6d4b214", "url": "https://github.com/project-ncl/pnc/commit/52f10789dbb4cb9f8b110835cd9a2b1ae6d4b214", "message": "[NCL-5665] Make sure build is successful even after OpenShift connection error when destroying environment", "committedDate": "2020-06-17T14:57:37Z", "type": "commit"}, {"oid": "52f10789dbb4cb9f8b110835cd9a2b1ae6d4b214", "url": "https://github.com/project-ncl/pnc/commit/52f10789dbb4cb9f8b110835cd9a2b1ae6d4b214", "message": "[NCL-5665] Make sure build is successful even after OpenShift connection error when destroying environment", "committedDate": "2020-06-17T14:57:37Z", "type": "forcePushed"}]}