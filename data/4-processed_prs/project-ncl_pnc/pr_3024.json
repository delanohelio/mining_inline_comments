{"pr_number": 3024, "pr_title": "[NCL-5720] - Remove build execution non-final status updates", "pr_createdAt": "2020-05-07T07:53:43Z", "pr_url": "https://github.com/project-ncl/pnc/pull/3024", "timeline": [{"oid": "b154bc759249cdf253a4086ad07c78a4f9e17c4a", "url": "https://github.com/project-ncl/pnc/commit/b154bc759249cdf253a4086ad07c78a4f9e17c4a", "message": "[NCL-5720] - Remove build execution non-final status updates", "committedDate": "2020-05-07T07:49:26Z", "type": "commit"}, {"oid": "8046819d13efcd420c16304b231d4f203702253c", "url": "https://github.com/project-ncl/pnc/commit/8046819d13efcd420c16304b231d4f203702253c", "message": "Revert removal of non-final update status events; notify bpm only for final status updates", "committedDate": "2020-05-07T15:26:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA5ODc2NQ==", "url": "https://github.com/project-ncl/pnc/pull/3024#discussion_r422098765", "bodyText": "I think this whole block is redundant as the final result is sent by bpmNotifier.sendBuildExecutionCompleted", "author": "matejonnet", "createdAt": "2020-05-08T11:47:50Z", "path": "facade/src/main/java/org/jboss/pnc/facade/executor/BuildExecutorTriggerer.java", "diffHunk": "@@ -94,7 +94,10 @@ public BuildExecutionSession executeBuild(\n                         .getBpmTaskByBuildTaskId(bpmManager, statusChangedEvent.getBuildTaskId());\n \n                 if (bpmTask.isPresent()) {", "originalCommit": "8046819d13efcd420c16304b231d4f203702253c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjEzMTAyNQ==", "url": "https://github.com/project-ncl/pnc/pull/3024#discussion_r422131025", "bodyText": "Ok I was worried that since only statusChangedEvent with buildResults are sent by bpmNotifier.sendBuildExecutionCompleted, we could have missed some notifications. But, looking at DefaultBuildExecutionSession.setStatus, every DefaultBuildExecutorStatusChangedEvent which is final, has buildResults set. So I think that yes we are fine to remove it.", "author": "vibe13", "createdAt": "2020-05-08T13:05:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA5ODc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjEzNjcyNw==", "url": "https://github.com/project-ncl/pnc/pull/3024#discussion_r422136727", "bodyText": "@matejonnet OK I have pushed the changes and made some cleanup", "author": "vibe13", "createdAt": "2020-05-08T13:17:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA5ODc2NQ=="}], "type": "inlineReview"}, {"oid": "9d022eeb0f506df9d55d083d83196d4476b1dfd5", "url": "https://github.com/project-ncl/pnc/commit/9d022eeb0f506df9d55d083d83196d4476b1dfd5", "message": "Removal of unnecessary code to notify the final statuses change", "committedDate": "2020-05-08T13:16:18Z", "type": "commit"}, {"oid": "ec4c16a2ed8a2ff927236f2e16d05d9e80203746", "url": "https://github.com/project-ncl/pnc/commit/ec4c16a2ed8a2ff927236f2e16d05d9e80203746", "message": "Removal of unnecessary code to notify the final statuses change in the facade package", "committedDate": "2020-05-11T10:02:13Z", "type": "commit"}]}