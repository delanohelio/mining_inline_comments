{"pr_number": 3373, "pr_title": "[NCL-6011] Fire product milestone events", "pr_createdAt": "2020-10-29T13:05:21Z", "pr_url": "https://github.com/project-ncl/pnc/pull/3373", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg2NTg3OA==", "url": "https://github.com/project-ncl/pnc/pull/3373#discussion_r515865878", "bodyText": "What about when milestone closing fails? We definitely need to send a notification in that case.", "author": "michalovjan", "createdAt": "2020-11-02T10:11:44Z", "path": "bpm/src/main/java/org/jboss/pnc/bpm/causeway/ProductMilestoneReleaseManager.java", "diffHunk": "@@ -187,6 +199,8 @@ private void storeResult(ProductMilestone milestone, MilestoneReleaseResultRest\n             milestoneRepository.save(milestone);\n \n             removeCurrentFlagFromMilestone(milestone);\n+\n+            productMilestoneCloseResultEvent.fire(mapper.toDTO(productMilestoneRelease));", "originalCommit": "3159169dc0a42cdae8aa92850adcb5aa38325eef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcxNTE0NQ==", "url": "https://github.com/project-ncl/pnc/pull/3373#discussion_r519715145", "bodyText": "My point still stands. You are firing an event only when result.getReleaseStatus().getMilestoneReleaseStatus() == MilestoneCloseStatus.SUCCEEDED, which means, only when the closing succeeded. You don't take care of other cases, (f.e. exception thrown, FAILED result...) and users need to be notified.", "author": "michalovjan", "createdAt": "2020-11-09T10:47:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTg2NTg3OA=="}], "type": "inlineReview"}, {"oid": "434c14b6a15aba67cd9d8bc041a76c0d72b3b481", "url": "https://github.com/project-ncl/pnc/commit/434c14b6a15aba67cd9d8bc041a76c0d72b3b481", "message": "[NCL-6011] Fire product milestone events", "committedDate": "2020-11-06T10:19:47Z", "type": "forcePushed"}, {"oid": "30ad854323a1b4a0cb0b3a208f41ad4344cae502", "url": "https://github.com/project-ncl/pnc/commit/30ad854323a1b4a0cb0b3a208f41ad4344cae502", "message": "[NCL-6011] Fire product milestone events", "committedDate": "2020-11-09T14:48:19Z", "type": "commit"}, {"oid": "30ad854323a1b4a0cb0b3a208f41ad4344cae502", "url": "https://github.com/project-ncl/pnc/commit/30ad854323a1b4a0cb0b3a208f41ad4344cae502", "message": "[NCL-6011] Fire product milestone events", "committedDate": "2020-11-09T14:48:19Z", "type": "forcePushed"}]}