{"pr_number": 3324, "pr_title": "[NCL-6085] Allow only SUCCESS builds to be pushed to brew", "pr_createdAt": "2020-09-24T12:46:34Z", "pr_url": "https://github.com/project-ncl/pnc/pull/3324", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzI3NjYwMQ==", "url": "https://github.com/project-ncl/pnc/pull/3324#discussion_r497276601", "bodyText": "@dominikbrazdil  please prefer const next time, or let if it needs to be reassigned\nI think status DONE is not valid option anymore, so I would prefer using $isSuccess() in pncBrewPushButton.js or add comment why it can not be there", "author": "matedo1", "createdAt": "2020-09-30T06:45:04Z", "path": "ui/app/common/pnc-client/resources/helpers/buildStatusHelper.js", "diffHunk": "@@ -125,10 +125,11 @@\n           }\n \n           function isSuccess(build) {\n-            return !isFailed(build);\n+            var status = getStatus(build);", "originalCommit": "5ef3ed43e74f5132e3570861abb0da52445b804d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA2NDAyOQ==", "url": "https://github.com/project-ncl/pnc/pull/3324#discussion_r498064029", "bodyText": "Ok, if it is not valid anymore, then I'll leave there just SUCCESS state. Till now it returned true on every state that is not failed and that includes many of them. I just did not want to break something that may be using DONE status. Should I create an issue for removing the old statuses?", "author": "dominikbrazdil", "createdAt": "2020-10-01T08:16:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzI3NjYwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA5MjQxNA==", "url": "https://github.com/project-ncl/pnc/pull/3324#discussion_r498092414", "bodyText": "+1 to create new issue to refactor DONE status out in favour of SUCCESS, there can be also some other deprecated statuses so creating a new jira fixing it all would be the best\nFeel free to mention also this file https://github.com/project-ncl/pnc/blob/master/constants/src/main/java/org/jboss/pnc/enums/BuildStatus.java#L165 there.", "author": "matedo1", "createdAt": "2020-10-01T09:03:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzI3NjYwMQ=="}], "type": "inlineReview"}, {"oid": "75ea124d68006c28cd844d008c4ba04673e5d922", "url": "https://github.com/project-ncl/pnc/commit/75ea124d68006c28cd844d008c4ba04673e5d922", "message": "[NCL-6085] Allow only SUCCESS builds to be pushed to brew", "committedDate": "2020-10-01T08:36:21Z", "type": "commit"}, {"oid": "75ea124d68006c28cd844d008c4ba04673e5d922", "url": "https://github.com/project-ncl/pnc/commit/75ea124d68006c28cd844d008c4ba04673e5d922", "message": "[NCL-6085] Allow only SUCCESS builds to be pushed to brew", "committedDate": "2020-10-01T08:36:21Z", "type": "forcePushed"}]}