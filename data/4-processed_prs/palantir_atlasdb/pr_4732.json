{"pr_number": 4732, "pr_title": "[PDS-117161] Add additional logging on close of Snapshot Transaction Manager", "pr_createdAt": "2020-04-24T10:02:44Z", "pr_url": "https://github.com/palantir/atlasdb/pull/4732", "timeline": [{"oid": "91aa6c356a5aa046fe972723dd8ce80a337b0545", "url": "https://github.com/palantir/atlasdb/commit/91aa6c356a5aa046fe972723dd8ce80a337b0545", "message": "add extra logging lines on close of snapshot txn manager", "committedDate": "2020-04-24T09:44:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDQ2MDAyMA==", "url": "https://github.com/palantir/atlasdb/pull/4732#discussion_r414460020", "bodyText": "Maybe logging also towards the end of the method before we exit?", "author": "jkozlowski", "createdAt": "2020-04-24T10:12:38Z", "path": "atlasdb-impl-shared/src/main/java/com/palantir/atlasdb/transaction/impl/SnapshotTransactionManager.java", "diffHunk": "@@ -326,7 +326,9 @@ public void registerClosingCallback(Runnable closingCallback) {\n      */\n     @Override\n     public void close() {\n+        log.info(\"Calling close on snapshot transaction manager\");\n         if (!isClosed.compareAndSet(false, true)) {\n+            log.info(\"Snapshot transaction manager has already been closed, performing no action\");\n             return;\n         }", "originalCommit": "91aa6c356a5aa046fe972723dd8ce80a337b0545", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "42ae278d16ab91a2f94c0015a8a131d82dc4f456", "url": "https://github.com/palantir/atlasdb/commit/42ae278d16ab91a2f94c0015a8a131d82dc4f456", "message": "add more logging towards end of method", "committedDate": "2020-04-24T10:35:58Z", "type": "commit"}]}