{"pr_number": 5094, "pr_title": "[LE] Add timing to additional endpoints", "pr_createdAt": "2020-11-03T10:59:00Z", "pr_url": "https://github.com/palantir/atlasdb/pull/5094", "timeline": [{"oid": "a938b65fc9d3228026e498fd670e7e0f2584284b", "url": "https://github.com/palantir/atlasdb/commit/a938b65fc9d3228026e498fd670e7e0f2584284b", "message": "add tests", "committedDate": "2020-11-02T14:26:32Z", "type": "commit"}, {"oid": "462f295aa8c91499ff85d72dc52bb1d145ec0260", "url": "https://github.com/palantir/atlasdb/commit/462f295aa8c91499ff85d72dc52bb1d145ec0260", "message": "temp", "committedDate": "2020-11-02T14:31:41Z", "type": "commit"}, {"oid": "0d9e7abc1520b8b7a0ba9e87b63c55c3b3323d1b", "url": "https://github.com/palantir/atlasdb/commit/0d9e7abc1520b8b7a0ba9e87b63c55c3b3323d1b", "message": "spotless", "committedDate": "2020-11-03T10:55:50Z", "type": "commit"}, {"oid": "5748c09c6acc474cd38c4a0ea5d835254217b5d2", "url": "https://github.com/palantir/atlasdb/commit/5748c09c6acc474cd38c4a0ea5d835254217b5d2", "message": "Merge branch 'develop' into le/extra-timing", "committedDate": "2020-11-03T10:58:28Z", "type": "commit"}, {"oid": "b5d7783a25fb03d844e00fce3fb6e71e92a11755", "url": "https://github.com/palantir/atlasdb/commit/b5d7783a25fb03d844e00fce3fb6e71e92a11755", "message": "Add generated changelog entries", "committedDate": "2020-11-03T10:58:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU4Mzg3Ng==", "url": "https://github.com/palantir/atlasdb/pull/5094#discussion_r516583876", "bodyText": "the method to create from a UUID is not public.", "author": "Jolyon-S", "createdAt": "2020-11-03T11:01:55Z", "path": "lock-api/src/test/java/com/palantir/lock/client/LeaderElectionReportingTimelockServiceTest.java", "diffHunk": "@@ -49,13 +55,17 @@\n import org.mockito.stubbing.OngoingStubbing;\n \n public class LeaderElectionReportingTimelockServiceTest {\n-    private static final UUID LEADER_1 = UUID.randomUUID();\n+    private static final LeaderTime LEADER_1_TIME = LeaderTime.of(LeadershipId.random(), NanoTime.createForTests(999L));", "originalCommit": "b5d7783a25fb03d844e00fce3fb6e71e92a11755", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU5NjgwNQ==", "url": "https://github.com/palantir/atlasdb/pull/5094#discussion_r516596805", "bodyText": "a bit leaky, but I don't really have a better suggestion.", "author": "jeremyk-91", "createdAt": "2020-11-03T11:25:41Z", "path": "lock-api/src/test/java/com/palantir/lock/client/LeaderElectionReportingTimelockServiceTest.java", "diffHunk": "@@ -302,6 +335,11 @@ public void detectWhenOldLeaderBecomesLongTerm() {\n         assertExpectedDuration(Instant.ofEpochMilli(3L), Instant.ofEpochMilli(15L));\n     }\n \n+    private void verifyEndpointRunsWithTiming(Runnable endpointCall) {\n+        endpointCall.run();\n+        verify(mockedClock, times(2)).instant();", "originalCommit": "b5d7783a25fb03d844e00fce3fb6e71e92a11755", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjYwNTI1NQ==", "url": "https://github.com/palantir/atlasdb/pull/5094#discussion_r516605255", "bodyText": "I totally agree with both sentiments here :)", "author": "Jolyon-S", "createdAt": "2020-11-03T11:41:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU5NjgwNQ=="}], "type": "inlineReview"}]}