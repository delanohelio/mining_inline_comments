{"pr_number": 1418, "pr_title": "FINERACT-1207: Clean up fineract-provider/config/swagger following in\u2026", "pr_createdAt": "2020-10-17T20:09:18Z", "pr_url": "https://github.com/apache/fineract/pull/1418", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTQ4OA==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506981488", "bodyText": "@vidakovic this doesn't look right, is this intentional? Why?", "author": "vorburger", "createdAt": "2020-10-17T20:36:08Z", "path": ".gitignore", "diffHunk": "@@ -21,3 +21,4 @@ fineract-provider/src/main/resources/application.properties\n fineract-provider/out/\n fineract-provider/config/swagger/config.json\n fineract-provider/config/swagger/fineract-input.yaml\n+fineract-client/config/swagger/templates/*.mustache", "originalCommit": "06ac729f327754a67adda140deb63928072ae149", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MjkzOQ==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506982939", "bodyText": "@vorburger It is. That way you can still give advanced users the option to add their own templates if they need something custom we don't support. There's also a disclaimer in the client doc that we don't manage any custom templates.\nI've added that reading the previous doc where this was described as some kind of feature. If we don't want that then I can remove again.", "author": "vidakovic", "createdAt": "2020-10-17T20:52:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTQ4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTU0Nw==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506981547", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The client JAR can be found in `build/libs`.\n          \n          \n            \n            The client JAR can be found in `fineract-client/build/libs`.", "author": "vorburger", "createdAt": "2020-10-17T20:36:56Z", "path": "docs/developers/swagger/client.md", "diffHunk": "@@ -1,46 +1,31 @@\n Generate Apache Fineract API Client\n ============\n \n-Apache Fineract supports client code generation using [Swagger Codegen](https://github.com/swagger-api/swagger-codegen). Project supports [all clients](https://github.com/swagger-api/swagger-codegen#overview) supported by Swagger Codegen. It uses [OpenAPI Specification Version 3.0.3](https://swagger.io/specification/).\n+Apache Fineract supports client code generation using [OpenAPI Generator](https://openapi-generator.tech). It uses [OpenAPI Specification Version 3.0.3](https://swagger.io/specification/).\n \n ## Generate API Client\n \n-In root directory of the project:\n+The API client is built as part of the overall Fineract Gradle build. If you want to save (maybe) some time you can try to execute just the following line in root directory of the project:\n \n-- Run `./gradlew resolve`\n-- Run `./gradlew generateSwaggerCode`\n+- Run `./gradlew :fineract-client:build`\n \n-The client code will be generated under `build/swagger-code-fineract`\n+The client JAR can be found in `build/libs`.", "originalCommit": "06ac729f327754a67adda140deb63928072ae149", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MzExNQ==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506983115", "bodyText": "Done", "author": "vidakovic", "createdAt": "2020-10-17T20:54:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTU0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTYwMg==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506981602", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note: just build fineract-client might or might not save you some time. There are still project module dependencies that might trigger a complete build.\n          \n          \n            \n            Note: Build only `fineract-client` may or may not actually save you some build time. There are still project module dependencies that might trigger a complete build.", "author": "vorburger", "createdAt": "2020-10-17T20:37:36Z", "path": "docs/developers/swagger/client.md", "diffHunk": "@@ -1,46 +1,31 @@\n Generate Apache Fineract API Client\n ============\n \n-Apache Fineract supports client code generation using [Swagger Codegen](https://github.com/swagger-api/swagger-codegen). Project supports [all clients](https://github.com/swagger-api/swagger-codegen#overview) supported by Swagger Codegen. It uses [OpenAPI Specification Version 3.0.3](https://swagger.io/specification/).\n+Apache Fineract supports client code generation using [OpenAPI Generator](https://openapi-generator.tech). It uses [OpenAPI Specification Version 3.0.3](https://swagger.io/specification/).\n \n ## Generate API Client\n \n-In root directory of the project:\n+The API client is built as part of the overall Fineract Gradle build. If you want to save (maybe) some time you can try to execute just the following line in root directory of the project:\n \n-- Run `./gradlew resolve`\n-- Run `./gradlew generateSwaggerCode`\n+- Run `./gradlew :fineract-client:build`\n \n-The client code will be generated under `build/swagger-code-fineract`\n+The client JAR can be found in `build/libs`.\n \n-## Build API Client\n+Note: just build fineract-client might or might not save you some time. There are still project module dependencies that might trigger a complete build.", "originalCommit": "06ac729f327754a67adda140deb63928072ae149", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MzEzOA==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506983138", "bodyText": "Done", "author": "vidakovic", "createdAt": "2020-10-17T20:54:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTYwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTczOA==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506981738", "bodyText": "Oh, that's why the ignore. But... do we want this? Should we \"support\" that? Why? Should we just remove this entire section, to simplify things? I understand it's TECHNICALLY possible. I'm not sure we would want to deal with questions from anyone. @Grandolf49 any thoughts? @ptuomola any views?", "author": "vorburger", "createdAt": "2020-10-17T20:39:22Z", "path": "docs/developers/swagger/client.md", "diffHunk": "@@ -1,46 +1,31 @@\n Generate Apache Fineract API Client\n ============\n \n-Apache Fineract supports client code generation using [Swagger Codegen](https://github.com/swagger-api/swagger-codegen). Project supports [all clients](https://github.com/swagger-api/swagger-codegen#overview) supported by Swagger Codegen. It uses [OpenAPI Specification Version 3.0.3](https://swagger.io/specification/).\n+Apache Fineract supports client code generation using [OpenAPI Generator](https://openapi-generator.tech). It uses [OpenAPI Specification Version 3.0.3](https://swagger.io/specification/).\n \n ## Generate API Client\n \n-In root directory of the project:\n+The API client is built as part of the overall Fineract Gradle build. If you want to save (maybe) some time you can try to execute just the following line in root directory of the project:\n \n-- Run `./gradlew resolve`\n-- Run `./gradlew generateSwaggerCode`\n+- Run `./gradlew :fineract-client:build`\n \n-The client code will be generated under `build/swagger-code-fineract`\n+The client JAR can be found in `build/libs`.\n \n-## Build API Client\n+Note: just build fineract-client might or might not save you some time. There are still project module dependencies that might trigger a complete build.\n \n-- Run `cd build/swagger-code-fineract`\n-- Run `./gradlew build`\n+## Customize Generated Code using Mustache Templates\n \n-Alternatively, if you have Maven installed on your system, you can also do:\n-\n-- Run `cd build/swagger-code-fineract`\n-- Run `mvn clean package`\n-\n-## Customize Generated Code\n-\n-Swagger Codegen provides several options to customize the generated code. [Here](https://openapi-generator.tech/docs/generators/java/) are the options available for customization.\n-\n-- Open the [config.json.template](https://github.com/apache/fineract/blob/develop/fineract-provider/config/swagger/config.json.template) file\n-- Customize options\n-- Build the project again as mentioned in **Generate API Client Code** section\n-\n-## Customize using Mustache Templates\n-\n-Swagger Codegen uses Mustache Templates for generating the client library. For additional customizations you can add/edit custom templates inside the `fineract-provider/config/swagger/templates` folder.\n+The OpenAPI code generator uses Mustache Templates for generating the client library. For additional customizations you can add/edit custom templates inside the `fineract-client/config/swagger/templates` folder. Note: we are not maintaining any custom templates in the Git repository. Files that are added to this folder are ignored by Git.", "originalCommit": "06ac729f327754a67adda140deb63928072ae149", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MzQwNw==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506983407", "bodyText": "You tell me... I'm neither here nor their. Personally I tend more to explicitly providing generated clients like \"normal\" Java client, RxJava client, TypeScript client etc. (see SDK discussion). Otherwise people will start asking about their custom templates...", "author": "vidakovic", "createdAt": "2020-10-17T20:57:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTczOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzA2NzI0MA==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r507067240", "bodyText": "You tell me... I'm neither here nor their. Personally I tend more to explicitly providing generated clients like \"normal\" Java client, RxJava client, TypeScript client etc. (see SDK discussion). Otherwise people will start asking about their custom templates...\n\nWell, that makes 2 of us! Let's decide to remove the customizable templates. Our whole modularity project here is about people NOT forking and making local changes to Fineract (but be able to extend it), so why enable it here? I'd be happy to review and probably merge this PR once you have entirely removed the templates support.", "author": "vorburger", "createdAt": "2020-10-18T09:50:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTczOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTgxNg==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506981816", "bodyText": "as above, let's see what we agree. Sorry I'm so adamant about not wanting to keep this simple.", "author": "vorburger", "createdAt": "2020-10-17T20:40:09Z", "path": "fineract-client/build.gradle", "diffHunk": "@@ -56,6 +56,7 @@ task buildJavaSdk(type: org.openapitools.generator.gradle.plugin.tasks.GenerateT\n     ]\n     generateModelTests = false\n     generateApiTests = false\n+    templateDir = \"$projectDir/config/swagger/templates\"", "originalCommit": "06ac729f327754a67adda140deb63928072ae149", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MzQzNA==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506983434", "bodyText": "Yup, see my comments", "author": "vidakovic", "createdAt": "2020-10-17T20:57:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTgxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzEwNTIxNw==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r507105217", "bodyText": "FYI: removed all template related references (also from client.md).", "author": "vidakovic", "createdAt": "2020-10-18T11:31:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTgxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTk0MQ==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506981941", "bodyText": "I didn't follow this in full details, but @ptuomola and/or @thesmallstar should review and sign off particularly on this change.. does that conversioning you wanted in the Swagger UI still work after this is removed?", "author": "vorburger", "createdAt": "2020-10-17T20:41:26Z", "path": "fineract-provider/build.gradle", "diffHunk": "@@ -600,21 +600,3 @@ gitProperties {\n \n // make sure the generateGitProperties task always executes (even when git.properties is not changed)\n generateGitProperties.outputs.upToDateWhen { false }\n-\n-task prepareConfigJson(dependsOn: 'generateGitProperties') {", "originalCommit": "06ac729f327754a67adda140deb63928072ae149", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MzU2Mg==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r506983562", "bodyText": "I didn't see that this was copied to swagger-ui; I did see that there is a similar file there (though not sure why it's needed there). I could only see that config.json was used as parameter input for the command line generator.", "author": "vidakovic", "createdAt": "2020-10-17T20:59:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTk0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk2NTc3NA==", "url": "https://github.com/apache/fineract/pull/1418#discussion_r507965774", "bodyText": "Yes - this should be OK - the Swagger UI should only depend on the index.html that has been checked in, not on this config.json file. As far as I recall this is only used for the code generator...", "author": "ptuomola", "createdAt": "2020-10-19T18:15:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk4MTk0MQ=="}], "type": "inlineReview"}, {"oid": "213da2c807c111a29d34305ae443617ea9f439a2", "url": "https://github.com/apache/fineract/commit/213da2c807c111a29d34305ae443617ea9f439a2", "message": "FINERACT-1207: Clean up fineract-provider/config/swagger following introduction of fineract-client/", "committedDate": "2020-10-17T21:00:03Z", "type": "forcePushed"}, {"oid": "7f37e21373ff42ad55e98c4f788b2448bc0dad11", "url": "https://github.com/apache/fineract/commit/7f37e21373ff42ad55e98c4f788b2448bc0dad11", "message": "FINERACT-1207: Clean up fineract-provider/config/swagger following introduction of fineract-client/", "committedDate": "2020-10-17T23:03:06Z", "type": "forcePushed"}, {"oid": "bb9d93036f8722b7fc3c25df605dcdd0ca1e2dbc", "url": "https://github.com/apache/fineract/commit/bb9d93036f8722b7fc3c25df605dcdd0ca1e2dbc", "message": "FINERACT-1207: Clean up fineract-provider/config/swagger following introduction of fineract-client/", "committedDate": "2020-10-18T11:30:37Z", "type": "forcePushed"}, {"oid": "9ea3804078074e9d99d4131631d66756cdd72b36", "url": "https://github.com/apache/fineract/commit/9ea3804078074e9d99d4131631d66756cdd72b36", "message": "FINERACT-1207: Clean up fineract-provider/config/swagger following introduction of fineract-client/", "committedDate": "2020-10-18T11:32:35Z", "type": "forcePushed"}, {"oid": "225a1ef704c5ff83b7a1276631d5f769a138bc6d", "url": "https://github.com/apache/fineract/commit/225a1ef704c5ff83b7a1276631d5f769a138bc6d", "message": "FINERACT-1207: Clean up fineract-provider/config/swagger following introduction of fineract-client/", "committedDate": "2020-10-18T19:56:14Z", "type": "forcePushed"}, {"oid": "1965b4d89a416d03ab8f193479559be0780add46", "url": "https://github.com/apache/fineract/commit/1965b4d89a416d03ab8f193479559be0780add46", "message": "FINERACT-1207: Clean up fineract-provider/config/swagger following introduction of fineract-client/", "committedDate": "2020-10-18T20:11:02Z", "type": "commit"}, {"oid": "1965b4d89a416d03ab8f193479559be0780add46", "url": "https://github.com/apache/fineract/commit/1965b4d89a416d03ab8f193479559be0780add46", "message": "FINERACT-1207: Clean up fineract-provider/config/swagger following introduction of fineract-client/", "committedDate": "2020-10-18T20:11:02Z", "type": "forcePushed"}]}