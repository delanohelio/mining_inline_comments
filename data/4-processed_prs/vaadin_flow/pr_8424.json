{"pr_number": 8424, "pr_title": "Create new mixin interface HasLabel(#3241)", "pr_createdAt": "2020-05-26T15:13:35Z", "pr_url": "https://github.com/vaadin/flow/pull/8424", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDg5OTAxMQ==", "url": "https://github.com/vaadin/flow/pull/8424#discussion_r430899011", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * @since 3.0\n          \n          \n            \n             * @since", "author": "pleku", "createdAt": "2020-05-27T07:04:04Z", "path": "flow-server/src/main/java/com/vaadin/flow/component/HasLabel.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package com.vaadin.flow.component;\n+\n+import com.vaadin.flow.dom.ElementConstants;\n+\n+/**\n+ * A component that supports label definition.\n+ * <p>\n+ * The default implementations set the label of the component to the given text for\n+ * {@link #getElement()}. Override all methods in this interface if the text\n+ * should be added to some other element.\n+ *\n+ *\n+ * @author Vaadin Ltd\n+ * @since 3.0", "originalCommit": "12ba880f57a4efe1924eafde6eae7afa67d1f585", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkyMjcyMQ==", "url": "https://github.com/vaadin/flow/pull/8424#discussion_r430922721", "bodyText": "return getElement().getProperty(ElementConstants.LABEL_PROPERTY_NAME, \"\");\n\nBecause currently all of our text components like TextField work in an inconsistent way and return either null for initial value or \"\" if cleared after value has been set, we will discuss internally that how we want to fix this design flaw that is existing. I'll comment later on if/how we'll want to change the current behavior.", "author": "pleku", "createdAt": "2020-05-27T07:50:08Z", "path": "flow-server/src/main/java/com/vaadin/flow/component/HasLabel.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package com.vaadin.flow.component;\n+\n+import com.vaadin.flow.dom.ElementConstants;\n+\n+/**\n+ * A component that supports label definition.\n+ * <p>\n+ * The default implementations set the label of the component to the given text for\n+ * {@link #getElement()}. Override all methods in this interface if the text\n+ * should be added to some other element.\n+ *\n+ *\n+ * @author Vaadin Ltd\n+ * @since 3.0\n+ */\n+public interface HasLabel extends HasElement{\n+    /**\n+     * Set the label of the component to the given text.\n+     *\n+     * @param label\n+     *            the label text to set\n+     */\n+    default void setLabel(String label) {\n+        getElement().setProperty(ElementConstants.LABEL_PROPERTY_NAME, label == null ? \"\" : label);\n+    }\n+\n+    /**\n+     * Gets the label of the component.\n+     *\n+     * @return the label of the component or <code>\"\"</code> if no label has\n+     *         been set\n+     */\n+    default String getLabel() {\n+        return getElement().getProperty(ElementConstants.LABEL_PROPERTY_NAME, \"\");", "originalCommit": "12ba880f57a4efe1924eafde6eae7afa67d1f585", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3MTA1NA==", "url": "https://github.com/vaadin/flow/pull/8424#discussion_r431171054", "bodyText": "Ok, sure. Let me know when there's a decision \ud83d\udc4d", "author": "ovidiupopa91", "createdAt": "2020-05-27T14:22:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkyMjcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDY0ODQyNA==", "url": "https://github.com/vaadin/flow/pull/8424#discussion_r440648424", "bodyText": "Sorry for the delay.\nThe decision is to go with returning null for the default value when setLabel(null) has been done.\nPlease change the setter to also just to pass null as the value of the property and not \"\".", "author": "pleku", "createdAt": "2020-06-16T07:41:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkyMjcyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI4NTk0OA==", "url": "https://github.com/vaadin/flow/pull/8424#discussion_r441285948", "bodyText": "HI @pleku . Just updated the implementation and the unit tests. Also I added 2 new unit tests.\nLet me know if there is something else that I should improve.", "author": "ovidiupopa91", "createdAt": "2020-06-17T05:18:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkyMjcyMQ=="}], "type": "inlineReview"}, {"oid": "fd061b7e8492491282f71c5bb9e8e657294a78d0", "url": "https://github.com/vaadin/flow/commit/fd061b7e8492491282f71c5bb9e8e657294a78d0", "message": "Create new mixin interface HasLabel(#3241)\n\nAdd new HasLabel interface to be used by components that supports label\ndefinitions", "committedDate": "2020-06-17T06:09:21Z", "type": "commit"}, {"oid": "c1740644b65d1b6b0bfa00cddca3373d3247ad91", "url": "https://github.com/vaadin/flow/commit/c1740644b65d1b6b0bfa00cddca3373d3247ad91", "message": "Code formating", "committedDate": "2020-06-17T06:09:22Z", "type": "commit"}, {"oid": "86bfe72f961f20c61ed3e22f93b24279d64af327", "url": "https://github.com/vaadin/flow/commit/86bfe72f961f20c61ed3e22f93b24279d64af327", "message": "Fix sonar issues", "committedDate": "2020-06-17T06:09:23Z", "type": "commit"}, {"oid": "3007ed6b4cd409189c74a817a89ae7e657a9083b", "url": "https://github.com/vaadin/flow/commit/3007ed6b4cd409189c74a817a89ae7e657a9083b", "message": "Fix sonar issue\n\nMove LABEL_PROPERTY_NAME constant to ElementConstants class", "committedDate": "2020-06-17T06:09:24Z", "type": "commit"}, {"oid": "a3c82bef39555266b9d5ade46f3999f7b9534859", "url": "https://github.com/vaadin/flow/commit/a3c82bef39555266b9d5ade46f3999f7b9534859", "message": "Fix sonar issue with javadoc", "committedDate": "2020-06-17T06:09:25Z", "type": "commit"}, {"oid": "9ee85cb6cd6a139f3d20e3ace2cec8fe77462732", "url": "https://github.com/vaadin/flow/commit/9ee85cb6cd6a139f3d20e3ace2cec8fe77462732", "message": "Make since tag empty for now", "committedDate": "2020-06-17T06:09:26Z", "type": "commit"}, {"oid": "a5614e08e270f9a420075d0bfe4b4076c4e59e71", "url": "https://github.com/vaadin/flow/commit/a5614e08e270f9a420075d0bfe4b4076c4e59e71", "message": "Create new mixin interface HasLabel(#3241)\n\nAdd new HasLabel interface to be used by components that supports label\ndefinitions", "committedDate": "2020-06-17T06:11:24Z", "type": "commit"}, {"oid": "cffee096b6bb417db5c30d19fbeccd435527ceba", "url": "https://github.com/vaadin/flow/commit/cffee096b6bb417db5c30d19fbeccd435527ceba", "message": "Fix sonar issues", "committedDate": "2020-06-17T06:17:59Z", "type": "commit"}, {"oid": "cad6da14ec1edf0bda91d713a9f8ca9ed7d94c1f", "url": "https://github.com/vaadin/flow/commit/cad6da14ec1edf0bda91d713a9f8ca9ed7d94c1f", "message": "Fix sonar issue\n\nMove LABEL_PROPERTY_NAME constant to ElementConstants class", "committedDate": "2020-06-17T06:18:31Z", "type": "commit"}, {"oid": "2911cb5ed68bd17ebda1db69d656a6d2068ee6d3", "url": "https://github.com/vaadin/flow/commit/2911cb5ed68bd17ebda1db69d656a6d2068ee6d3", "message": "Fix sonar issue with javadoc", "committedDate": "2020-06-17T06:18:32Z", "type": "commit"}, {"oid": "00824f7bcfc7f4b1c9639684ae53ee94243177c8", "url": "https://github.com/vaadin/flow/commit/00824f7bcfc7f4b1c9639684ae53ee94243177c8", "message": "Make since tag empty for now", "committedDate": "2020-06-17T06:18:33Z", "type": "commit"}, {"oid": "1ec61408bf4ec5a1934b4332e213dbb2a1567089", "url": "https://github.com/vaadin/flow/commit/1ec61408bf4ec5a1934b4332e213dbb2a1567089", "message": "Update HasLabel mixin interface to return null as default value(#3241)\n\nchanged from empty string default value to null\nupdated the unit tests and added a few more to check the behaviour of\nthe HasLabel mixin interface", "committedDate": "2020-06-17T06:18:52Z", "type": "commit"}, {"oid": "1ec61408bf4ec5a1934b4332e213dbb2a1567089", "url": "https://github.com/vaadin/flow/commit/1ec61408bf4ec5a1934b4332e213dbb2a1567089", "message": "Update HasLabel mixin interface to return null as default value(#3241)\n\nchanged from empty string default value to null\nupdated the unit tests and added a few more to check the behaviour of\nthe HasLabel mixin interface", "committedDate": "2020-06-17T06:18:52Z", "type": "forcePushed"}, {"oid": "f47039689d902969359b38eac37711613ce6a3a0", "url": "https://github.com/vaadin/flow/commit/f47039689d902969359b38eac37711613ce6a3a0", "message": "Forgot to save the file after solving rebase conflicts", "committedDate": "2020-06-17T06:26:30Z", "type": "commit"}, {"oid": "66c54a3947091d5e9c6cd33122bfb97fe02dbb55", "url": "https://github.com/vaadin/flow/commit/66c54a3947091d5e9c6cd33122bfb97fe02dbb55", "message": "Fix Sonar issue: Re-add the header. Deleted after rebase conflict", "committedDate": "2020-06-17T08:34:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYxNTA2Nw==", "url": "https://github.com/vaadin/flow/pull/8424#discussion_r441615067", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 *            the label text to set\n          \n          \n            \n                 *            the label text to set or {@code null} to clear", "author": "pleku", "createdAt": "2020-06-17T15:02:15Z", "path": "flow-server/src/main/java/com/vaadin/flow/component/HasLabel.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package com.vaadin.flow.component;\n+\n+import com.vaadin.flow.dom.ElementConstants;\n+\n+/**\n+ * A component that supports label definition.\n+ * <p>\n+ * The default implementations set the label of the component to the given text for\n+ * {@link #getElement()}. Override all methods in this interface if the text\n+ * should be added to some other element.\n+ *\n+ *\n+ * @author Vaadin Ltd\n+ * @since\n+ */\n+public interface HasLabel extends HasElement{\n+    /**\n+     * Set the label of the component to the given text.\n+     *\n+     * @param label\n+     *            the label text to set", "originalCommit": "66c54a3947091d5e9c6cd33122bfb97fe02dbb55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYxNTQ2Nw==", "url": "https://github.com/vaadin/flow/pull/8424#discussion_r441615467", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return the label of the component or <code>\"\"</code> if no label has\n          \n          \n            \n                 * @return the label of the component or {@code null} if no label has", "author": "pleku", "createdAt": "2020-06-17T15:02:44Z", "path": "flow-server/src/main/java/com/vaadin/flow/component/HasLabel.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ * Copyright 2000-2020 Vaadin Ltd.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+package com.vaadin.flow.component;\n+\n+import com.vaadin.flow.dom.ElementConstants;\n+\n+/**\n+ * A component that supports label definition.\n+ * <p>\n+ * The default implementations set the label of the component to the given text for\n+ * {@link #getElement()}. Override all methods in this interface if the text\n+ * should be added to some other element.\n+ *\n+ *\n+ * @author Vaadin Ltd\n+ * @since\n+ */\n+public interface HasLabel extends HasElement{\n+    /**\n+     * Set the label of the component to the given text.\n+     *\n+     * @param label\n+     *            the label text to set\n+     */\n+    default void setLabel(String label) {\n+        getElement().setProperty(ElementConstants.LABEL_PROPERTY_NAME, label);\n+    }\n+\n+    /**\n+     * Gets the label of the component.\n+     *\n+     * @return the label of the component or <code>\"\"</code> if no label has", "originalCommit": "66c54a3947091d5e9c6cd33122bfb97fe02dbb55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1626ebffa2f3d6ef331008921851bef13a17e505", "url": "https://github.com/vaadin/flow/commit/1626ebffa2f3d6ef331008921851bef13a17e505", "message": "Apply suggestions from code review\r\n\r\nUpdate javadocs about null", "committedDate": "2020-06-17T15:03:26Z", "type": "commit"}]}