{"pr_number": 7886, "pr_title": "Added toggle for live-reload on a per-window basis", "pr_createdAt": "2020-03-25T16:18:25Z", "pr_url": "https://github.com/vaadin/flow/pull/7886", "timeline": [{"oid": "ce59b2e79ef48104e8536d9046d1285ba23a5a39", "url": "https://github.com/vaadin/flow/commit/ce59b2e79ef48104e8536d9046d1285ba23a5a39", "message": "Added toggle for live-reload on a per-window basis", "committedDate": "2020-03-25T16:17:35Z", "type": "commit"}, {"oid": "2f1e889ca8ab8bbf949d2f401bca3081cad57354", "url": "https://github.com/vaadin/flow/commit/2f1e889ca8ab8bbf949d2f401bca3081cad57354", "message": "Fix test", "committedDate": "2020-03-25T20:03:02Z", "type": "commit"}, {"oid": "2616b878ecd0d675e1d9ce930fbff4cae28dc9de", "url": "https://github.com/vaadin/flow/commit/2616b878ecd0d675e1d9ce930fbff4cae28dc9de", "message": "Use closeWebSOcketConnection method, formatting.", "committedDate": "2020-03-25T20:21:06Z", "type": "commit"}, {"oid": "9e2035cbee8eca09955e6d67c67398cae8c75c74", "url": "https://github.com/vaadin/flow/commit/9e2035cbee8eca09955e6d67c67398cae8c75c74", "message": "Show an error state", "committedDate": "2020-03-26T13:17:04Z", "type": "commit"}, {"oid": "74787b7913589f3639d1e044e65501104e919703", "url": "https://github.com/vaadin/flow/commit/74787b7913589f3639d1e044e65501104e919703", "message": "Tuned message", "committedDate": "2020-03-26T13:21:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODU3MzMyMg==", "url": "https://github.com/vaadin/flow/pull/7886#discussion_r398573322", "bodyText": "Remove this unused method parameter \"ev\".", "author": "vaadin-bot", "createdAt": "2020-03-26T13:31:59Z", "path": "flow-client/src/main/java/com/vaadin/client/LiveReload.java", "diffHunk": "@@ -84,16 +104,35 @@ private native WebSocket createWebSocket(String url)\n     private void handleMessageEvent(Event evt) {\n         MessageEvent messageEvent = (MessageEvent) evt;\n         JsonObject data = Json.parse((String) messageEvent.getData());\n-        indicator = getOrCreateIndicator();\n-        Element indicatorMessage = Browser.getDocument()\n-                .getElementById(\"vaadin-live-reload-message\");\n         if (\"hello\".equals(data.getString(\"command\"))) {\n-            indicatorMessage.setInnerHTML(\"Live reload: enabled\");\n+            updateActiveIndicator();\n+            showMessage(\"Live reload: available\");\n         } else if (\"reload\".equals(data.getString(\"command\"))) {\n-            indicatorMessage.setInnerHTML(\"Live reload: in progress ...\");\n-            Browser.getWindow().getLocation().reload();\n+            if (isActive()) {\n+                showMessage(\"Live reload: in progress ...\");\n+                Browser.getWindow().getLocation().reload();\n+            }\n+        } else {\n+            showMessage(null);\n+        }\n+    }\n+\n+    private void handleErrorEvent(Event ev) {", "originalCommit": "74787b7913589f3639d1e044e65501104e919703", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}