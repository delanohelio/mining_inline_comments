{"pr_number": 8510, "pr_title": "Address DX feedback for data views #8497", "pr_createdAt": "2020-06-05T12:18:30Z", "pr_url": "https://github.com/vaadin/flow/pull/8510", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkwODE0OA==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r435908148", "bodyText": "Cast one of the operands of this subtraction operation to a \"long\".", "author": "vaadin-bot", "createdAt": "2020-06-05T13:06:32Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/AbstractListDataView.java", "diffHunk": "@@ -54,33 +56,19 @@ public AbstractListDataView(\n     }\n \n     @Override\n-    public boolean hasNextItem(T item) {\n+    public Optional<T> getNextItem(T item) {\n         int index = getItemIndex(item);\n         if (index < 0)\n-            return false;\n-        return getAllItems().skip(index + 1).findAny().isPresent();\n+            return Optional.empty();\n+        return getItems().skip(index + 1).findFirst();\n     }\n \n     @Override\n-    public T getNextItem(T item) {\n-        int index = getItemIndex(item);\n-        if (index < 0)\n-            return null;\n-        return getAllItems().skip(index + 1).findFirst().orElse(null);\n-    }\n-\n-    @Override\n-    public boolean hasPreviousItem(T item) {\n-        int index = getItemIndex(item);\n-        return index > 0;\n-    }\n-\n-    @Override\n-    public T getPreviousItem(T item) {\n+    public Optional<T> getPreviousItem(T item) {\n         int index = getItemIndex(item);\n         if (index <= 0)\n-            return null;\n-        return getAllItems().skip(index - 1).findFirst().orElse(null);\n+            return Optional.empty();\n+        return getItems().skip(index - 1).findFirst();", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkwODE2Nw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r435908167", "bodyText": "Cast one of the operands of this addition operation to a \"long\".", "author": "vaadin-bot", "createdAt": "2020-06-05T13:06:34Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/AbstractListDataView.java", "diffHunk": "@@ -54,33 +56,19 @@ public AbstractListDataView(\n     }\n \n     @Override\n-    public boolean hasNextItem(T item) {\n+    public Optional<T> getNextItem(T item) {\n         int index = getItemIndex(item);\n         if (index < 0)\n-            return false;\n-        return getAllItems().skip(index + 1).findAny().isPresent();\n+            return Optional.empty();\n+        return getItems().skip(index + 1).findFirst();", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkwODE3NA==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r435908174", "bodyText": "Complete the task associated to this TODO comment.", "author": "vaadin-bot", "createdAt": "2020-06-05T13:06:35Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/AbstractListDataView.java", "diffHunk": "@@ -90,30 +78,56 @@ public T getPreviousItem(T item) {\n     }\n \n     @Override\n-    public AbstractListDataView<T> clearFilters() {\n+    public AbstractListDataView<T> removeFilters() {\n         getDataProvider().clearFilters();\n         return this;\n     }\n \n     @Override\n-    public AbstractListDataView<T> withFilter(SerializablePredicate<T> filter) {\n-        return withFilterOrOrder(\n+    public AbstractListDataView<T> setFilter(SerializablePredicate<T> filter) {\n+        return setFilterOrOrder(\n                 dataProvider -> dataProvider.setFilter(filter));\n     }\n \n     @Override\n-    public AbstractListDataView<T> withSortComparator(\n+    public AbstractListDataView<T> setSortComparator(\n             SerializableComparator<T> sortComparator) {\n-        return withFilterOrOrder(\n+        return setFilterOrOrder(\n                 dataProvider -> dataProvider.setSortComparator(sortComparator));\n     }\n \n     @Override\n-    public boolean isItemPresent(T item) {\n+    public AbstractListDataView<T> addSortComparator(\n+            SerializableComparator<T> sortComparator) {\n+        return setFilterOrOrder(\n+                dataProvider -> dataProvider.addSortComparator(sortComparator));\n+    }\n+\n+    @Override\n+    public AbstractListDataView<T> removeSorting() {\n+        return setSortComparator(null);\n+    }\n+\n+    @Override\n+    public <VALUE extends Comparable<? super VALUE>> AbstractListDataView<T> setSortOrder(\n+            ValueProvider<T, VALUE> valueProvider, SortDirection sortDirection) {\n+        return setFilterOrOrder(\n+                dataProvider -> dataProvider.setSortOrder(valueProvider, sortDirection));\n+    }\n+\n+    @Override\n+    public <VALUE extends Comparable<? super VALUE>> AbstractListDataView<T> addSortOrder(\n+            ValueProvider<T, VALUE> valueProvider, SortDirection sortDirection) {\n+        return setFilterOrOrder(\n+                dataProvider -> dataProvider.addSortOrder(valueProvider, sortDirection));\n+    }\n+\n+    @Override\n+    public boolean contains(T item) {\n         // TODO: delegate this to the data communicator/component, since the", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NDMxMw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436464313", "bodyText": "Missing Braces {} for if", "author": "caalador", "createdAt": "2020-06-08T05:31:30Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/AbstractListDataView.java", "diffHunk": "@@ -54,33 +56,19 @@ public AbstractListDataView(\n     }\n \n     @Override\n-    public boolean hasNextItem(T item) {\n+    public Optional<T> getNextItem(T item) {\n         int index = getItemIndex(item);\n         if (index < 0)\n-            return false;\n-        return getAllItems().skip(index + 1).findAny().isPresent();\n+            return Optional.empty();", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjM3Nw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502377", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NDMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NDMzOA==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436464338", "bodyText": "Missing Braces {} for if", "author": "caalador", "createdAt": "2020-06-08T05:31:35Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/AbstractListDataView.java", "diffHunk": "@@ -54,33 +56,19 @@ public AbstractListDataView(\n     }\n \n     @Override\n-    public boolean hasNextItem(T item) {\n+    public Optional<T> getNextItem(T item) {\n         int index = getItemIndex(item);\n         if (index < 0)\n-            return false;\n-        return getAllItems().skip(index + 1).findAny().isPresent();\n+            return Optional.empty();\n+        return getItems().skip(index + 1).findFirst();\n     }\n \n     @Override\n-    public T getNextItem(T item) {\n-        int index = getItemIndex(item);\n-        if (index < 0)\n-            return null;\n-        return getAllItems().skip(index + 1).findFirst().orElse(null);\n-    }\n-\n-    @Override\n-    public boolean hasPreviousItem(T item) {\n-        int index = getItemIndex(item);\n-        return index > 0;\n-    }\n-\n-    @Override\n-    public T getPreviousItem(T item) {\n+    public Optional<T> getPreviousItem(T item) {\n         int index = getItemIndex(item);\n         if (index <= 0)\n-            return null;\n-        return getAllItems().skip(index - 1).findFirst().orElse(null);\n+            return Optional.empty();", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjQxNA==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502414", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NDMzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NTI0MQ==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436465241", "bodyText": "or not in current filtered items sounds more precise", "author": "caalador", "createdAt": "2020-06-08T05:35:24Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -29,66 +32,61 @@\n  */\n public interface ListDataView<T, V extends ListDataView<T, ?>> extends DataView<T> {\n     /**\n-     * Check if the given item has a next item in the filtered and sorted data.\n-     *\n-     * @param item\n-     *         item to check if it has a next item\n-     * @return true if the item is present and it is not the last item\n-     */\n-    boolean hasNextItem(T item);\n-\n-    /**\n-     * Get the item after given item from the filtered and sorted data.\n+     * Gets the item after given item from the filtered and sorted data.\n+     * <p>\n+     * Note! Item might be present in the data set, but be filtered out\n+     * so that the next item won't be available.\n      *\n      * @param item\n      *         item to get next for\n-     * @return next item if available, else null\n-     */\n-    T getNextItem(T item);\n-\n-    /**\n-     * Check if the given item has a previous item in the filtered and sorted\n-     * data.\n+     * @return next item if available, else empty optional if item\n+     *         doesn't exist or filtered out", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjQ1Ng==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502456", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NTI0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NTU1Mw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436465553", "bodyText": "be filtered out or be the first item so ..", "author": "caalador", "createdAt": "2020-06-08T05:36:38Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -29,66 +32,61 @@\n  */\n public interface ListDataView<T, V extends ListDataView<T, ?>> extends DataView<T> {\n     /**\n-     * Check if the given item has a next item in the filtered and sorted data.\n-     *\n-     * @param item\n-     *         item to check if it has a next item\n-     * @return true if the item is present and it is not the last item\n-     */\n-    boolean hasNextItem(T item);\n-\n-    /**\n-     * Get the item after given item from the filtered and sorted data.\n+     * Gets the item after given item from the filtered and sorted data.\n+     * <p>\n+     * Note! Item might be present in the data set, but be filtered out\n+     * so that the next item won't be available.\n      *\n      * @param item\n      *         item to get next for\n-     * @return next item if available, else null\n-     */\n-    T getNextItem(T item);\n-\n-    /**\n-     * Check if the given item has a previous item in the filtered and sorted\n-     * data.\n+     * @return next item if available, else empty optional if item\n+     *         doesn't exist or filtered out\n      *\n-     * @param item\n-     *         item to check if it has a previous item\n-     * @return true if the item is present and it is not the first item\n+     * @see #getPreviousItem(Object)\n      */\n-    boolean hasPreviousItem(T item);\n+    Optional<T> getNextItem(T item);\n \n     /**\n-     * Get the item before given item from the filtered and sorted data.\n+     * Gets the item before given item from the filtered and sorted data.\n+     * <p>\n+     * Note! Item might be present in the data set, but be filtered out\n+     * so that the previous item won't be available.", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjQ5MQ==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502491", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NTU1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NTYyNg==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436465626", "bodyText": "be filtered out or be the last item so ..", "author": "caalador", "createdAt": "2020-06-08T05:36:56Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -29,66 +32,61 @@\n  */\n public interface ListDataView<T, V extends ListDataView<T, ?>> extends DataView<T> {\n     /**\n-     * Check if the given item has a next item in the filtered and sorted data.\n-     *\n-     * @param item\n-     *         item to check if it has a next item\n-     * @return true if the item is present and it is not the last item\n-     */\n-    boolean hasNextItem(T item);\n-\n-    /**\n-     * Get the item after given item from the filtered and sorted data.\n+     * Gets the item after given item from the filtered and sorted data.\n+     * <p>\n+     * Note! Item might be present in the data set, but be filtered out\n+     * so that the next item won't be available.", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjUzNg==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502536", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NTYyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NjkxNQ==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436466915", "bodyText": "Given filter replaces any previous filter. Setting {@code null} clears filtering. -> The filter replaces any filter that has been set or added previously. {@code null} will clear all filters.", "author": "caalador", "createdAt": "2020-06-08T05:41:53Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -118,45 +117,162 @@\n      *         if backing collection doesn't support modification\n      * @throws IllegalArgumentException\n      *         if item doesn't exist or collection is not a list\n+     * @see #addItemAfter(Object, Object)\n      */\n     V addItemBefore(T item, T before);\n \n     /**\n-     * Adds a filter to be applied to all queries. The filter will be used in\n-     * addition to any filter that has been set or added previously.\n+     * Sets a filter to be applied to the data. Given filter replaces any\n+     * previous filter. Setting {@code null} clears filtering.", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjU3MA==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502570", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NjkxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NzE4Mg==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436467182", "bodyText": "Drop data as it just confuses the line. Also on the next line I would drop of the data", "author": "caalador", "createdAt": "2020-06-08T05:43:02Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -118,45 +117,162 @@\n      *         if backing collection doesn't support modification\n      * @throws IllegalArgumentException\n      *         if item doesn't exist or collection is not a list\n+     * @see #addItemAfter(Object, Object)\n      */\n     V addItemBefore(T item, T before);\n \n     /**\n-     * Adds a filter to be applied to all queries. The filter will be used in\n-     * addition to any filter that has been set or added previously.\n+     * Sets a filter to be applied to the data. Given filter replaces any\n+     * previous filter. Setting {@code null} clears filtering.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means this filter\n+     * won't be retained when a new data or data provider is set to the\n+     * component. Any other component using the same data provider object\n+     * would be affected by setting a filter through data view of another\n+     * component.\n      *\n      * @param filter\n-     *         the filter to add, not <code>null</code>\n+     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V addFilter(SerializablePredicate<T> filter);\n+    V setFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Remove all in-memory filters set or added.\n+     * Adds a filter to be applied to all queries. The filter will be\n+     * used in addition to any filter that has been set or added previously.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means\n+     * this filter and previously added filters won't be retained when\n+     * a new data or data provider is set to the component. Any other\n+     * component using the same data provider object would be affected\n+     * by adding a filter through data view of another component.\n      *\n+     * @param filter\n+     *         the filter to add, not <code>null</code>\n      * @return ListDataView instance\n+     *\n+     * @see #setFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V clearFilters();\n+    V addFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Set a filter to be applied to the data. Given filter replaces any\n-     * previous filter. Setting {@code null} clears filtering.\n+     * Removes all in-memory filters set or added.\n      *\n-     * @param filter\n-     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #setFilter(SerializablePredicate)\n      */\n-    V withFilter(SerializablePredicate<T> filter);\n+    V removeFilters();\n \n     /**\n-     * Sets the comparator to use as the default sorting for data.\n+     * Sets the comparator to use as the data default sorting.", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjYwMA==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502600", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NzE4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NzUzMA==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436467530", "bodyText": "Remove data and only use default sorting", "author": "caalador", "createdAt": "2020-06-08T05:44:31Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -118,45 +117,162 @@\n      *         if backing collection doesn't support modification\n      * @throws IllegalArgumentException\n      *         if item doesn't exist or collection is not a list\n+     * @see #addItemAfter(Object, Object)\n      */\n     V addItemBefore(T item, T before);\n \n     /**\n-     * Adds a filter to be applied to all queries. The filter will be used in\n-     * addition to any filter that has been set or added previously.\n+     * Sets a filter to be applied to the data. Given filter replaces any\n+     * previous filter. Setting {@code null} clears filtering.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means this filter\n+     * won't be retained when a new data or data provider is set to the\n+     * component. Any other component using the same data provider object\n+     * would be affected by setting a filter through data view of another\n+     * component.\n      *\n      * @param filter\n-     *         the filter to add, not <code>null</code>\n+     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V addFilter(SerializablePredicate<T> filter);\n+    V setFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Remove all in-memory filters set or added.\n+     * Adds a filter to be applied to all queries. The filter will be\n+     * used in addition to any filter that has been set or added previously.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means\n+     * this filter and previously added filters won't be retained when\n+     * a new data or data provider is set to the component. Any other\n+     * component using the same data provider object would be affected\n+     * by adding a filter through data view of another component.\n      *\n+     * @param filter\n+     *         the filter to add, not <code>null</code>\n      * @return ListDataView instance\n+     *\n+     * @see #setFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V clearFilters();\n+    V addFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Set a filter to be applied to the data. Given filter replaces any\n-     * previous filter. Setting {@code null} clears filtering.\n+     * Removes all in-memory filters set or added.\n      *\n-     * @param filter\n-     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #setFilter(SerializablePredicate)\n      */\n-    V withFilter(SerializablePredicate<T> filter);\n+    V removeFilters();\n \n     /**\n-     * Sets the comparator to use as the default sorting for data.\n+     * Sets the comparator to use as the data default sorting.\n      * This overrides the sorting set by any other method that manipulates the\n      * default sorting of the data.\n+     * <p>\n+     * A comparator bound to data set, not to the component. That means\n+     * the default sorting won't be retained when a new data or data provider\n+     * is set to the component. Any other component using the same\n+     * data provider object would be affected by setting a sort comparator\n+     * through data view of another component.\n      *\n      * @param sortComparator\n      *         a comparator to use, or <code>null</code> to clear any\n      *         previously set sort order\n      * @return ListDataView instance\n+     *\n+     * @see #addSortComparator(SerializableComparator)\n+     */\n+    V setSortComparator(SerializableComparator<T> sortComparator);\n+\n+    /**\n+     * Adds a comparator to the data default sorting. If no\n+     * default sorting has been defined, then the provided comparator will be\n+     * used as the default sorting. If a default sorting has been defined, then\n+     * the provided comparator will be used to determine the ordering of items\n+     * that are considered equal by the previously defined default sorting.\n+     * <p>\n+     * A comparator added to data set, not to the component. That means\n+     * the default sorting won't be retained when a new data or {@link DataProvider}\n+     * is set to the component. Any other component using the same\n+     * data provider object would be affected by adding a sort comparator\n+     * through data view of another component.\n+     *\n+     * @param sortComparator\n+     *         a comparator to add, not <code>null</code>\n+     * @return ListDataView instance\n+     *\n+     * @see #setSortComparator(SerializableComparator)\n+     */\n+    V addSortComparator(SerializableComparator<T> sortComparator);\n+\n+    /**\n+     * Removes any data default sorting that has been set or added previously.", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjYzNw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502637", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:26:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2NzUzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2ODIyNw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436468227", "bodyText": "drop for data  also the mention of data provider in the first paragraph should be unified through out the sorting JavaDocs", "author": "caalador", "createdAt": "2020-06-08T05:47:03Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -118,45 +117,162 @@\n      *         if backing collection doesn't support modification\n      * @throws IllegalArgumentException\n      *         if item doesn't exist or collection is not a list\n+     * @see #addItemAfter(Object, Object)\n      */\n     V addItemBefore(T item, T before);\n \n     /**\n-     * Adds a filter to be applied to all queries. The filter will be used in\n-     * addition to any filter that has been set or added previously.\n+     * Sets a filter to be applied to the data. Given filter replaces any\n+     * previous filter. Setting {@code null} clears filtering.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means this filter\n+     * won't be retained when a new data or data provider is set to the\n+     * component. Any other component using the same data provider object\n+     * would be affected by setting a filter through data view of another\n+     * component.\n      *\n      * @param filter\n-     *         the filter to add, not <code>null</code>\n+     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V addFilter(SerializablePredicate<T> filter);\n+    V setFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Remove all in-memory filters set or added.\n+     * Adds a filter to be applied to all queries. The filter will be\n+     * used in addition to any filter that has been set or added previously.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means\n+     * this filter and previously added filters won't be retained when\n+     * a new data or data provider is set to the component. Any other\n+     * component using the same data provider object would be affected\n+     * by adding a filter through data view of another component.\n      *\n+     * @param filter\n+     *         the filter to add, not <code>null</code>\n      * @return ListDataView instance\n+     *\n+     * @see #setFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V clearFilters();\n+    V addFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Set a filter to be applied to the data. Given filter replaces any\n-     * previous filter. Setting {@code null} clears filtering.\n+     * Removes all in-memory filters set or added.\n      *\n-     * @param filter\n-     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #setFilter(SerializablePredicate)\n      */\n-    V withFilter(SerializablePredicate<T> filter);\n+    V removeFilters();\n \n     /**\n-     * Sets the comparator to use as the default sorting for data.\n+     * Sets the comparator to use as the data default sorting.\n      * This overrides the sorting set by any other method that manipulates the\n      * default sorting of the data.\n+     * <p>\n+     * A comparator bound to data set, not to the component. That means\n+     * the default sorting won't be retained when a new data or data provider\n+     * is set to the component. Any other component using the same\n+     * data provider object would be affected by setting a sort comparator\n+     * through data view of another component.\n      *\n      * @param sortComparator\n      *         a comparator to use, or <code>null</code> to clear any\n      *         previously set sort order\n      * @return ListDataView instance\n+     *\n+     * @see #addSortComparator(SerializableComparator)\n+     */\n+    V setSortComparator(SerializableComparator<T> sortComparator);\n+\n+    /**\n+     * Adds a comparator to the data default sorting. If no\n+     * default sorting has been defined, then the provided comparator will be\n+     * used as the default sorting. If a default sorting has been defined, then\n+     * the provided comparator will be used to determine the ordering of items\n+     * that are considered equal by the previously defined default sorting.\n+     * <p>\n+     * A comparator added to data set, not to the component. That means\n+     * the default sorting won't be retained when a new data or {@link DataProvider}\n+     * is set to the component. Any other component using the same\n+     * data provider object would be affected by adding a sort comparator\n+     * through data view of another component.\n+     *\n+     * @param sortComparator\n+     *         a comparator to add, not <code>null</code>\n+     * @return ListDataView instance\n+     *\n+     * @see #setSortComparator(SerializableComparator)\n+     */\n+    V addSortComparator(SerializableComparator<T> sortComparator);\n+\n+    /**\n+     * Removes any data default sorting that has been set or added previously.\n+     * <p>\n+     * Any other component using the same data provider object would be affected\n+     * by removing default sorting through data view of another component.\n+     *\n+     * @return ListDataView instance\n+     *\n+     * @see #setSortComparator(SerializableComparator)\n+     * @see #addSortComparator(SerializableComparator)\n+     */\n+    V removeSorting();\n+\n+    /**\n+     * Sets the property and direction to use as the default sorting for data.", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjY3MQ==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502671", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:27:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2ODIyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2ODQ5Nw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436468497", "bodyText": "Drop for data", "author": "caalador", "createdAt": "2020-06-08T05:48:01Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -118,45 +117,162 @@\n      *         if backing collection doesn't support modification\n      * @throws IllegalArgumentException\n      *         if item doesn't exist or collection is not a list\n+     * @see #addItemAfter(Object, Object)\n      */\n     V addItemBefore(T item, T before);\n \n     /**\n-     * Adds a filter to be applied to all queries. The filter will be used in\n-     * addition to any filter that has been set or added previously.\n+     * Sets a filter to be applied to the data. Given filter replaces any\n+     * previous filter. Setting {@code null} clears filtering.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means this filter\n+     * won't be retained when a new data or data provider is set to the\n+     * component. Any other component using the same data provider object\n+     * would be affected by setting a filter through data view of another\n+     * component.\n      *\n      * @param filter\n-     *         the filter to add, not <code>null</code>\n+     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V addFilter(SerializablePredicate<T> filter);\n+    V setFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Remove all in-memory filters set or added.\n+     * Adds a filter to be applied to all queries. The filter will be\n+     * used in addition to any filter that has been set or added previously.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means\n+     * this filter and previously added filters won't be retained when\n+     * a new data or data provider is set to the component. Any other\n+     * component using the same data provider object would be affected\n+     * by adding a filter through data view of another component.\n      *\n+     * @param filter\n+     *         the filter to add, not <code>null</code>\n      * @return ListDataView instance\n+     *\n+     * @see #setFilter(SerializablePredicate)\n+     * @see #removeFilters()\n      */\n-    V clearFilters();\n+    V addFilter(SerializablePredicate<T> filter);\n \n     /**\n-     * Set a filter to be applied to the data. Given filter replaces any\n-     * previous filter. Setting {@code null} clears filtering.\n+     * Removes all in-memory filters set or added.\n      *\n-     * @param filter\n-     *         filter to add for the data\n      * @return ListDataView instance\n+     *\n+     * @see #addFilter(SerializablePredicate)\n+     * @see #setFilter(SerializablePredicate)\n      */\n-    V withFilter(SerializablePredicate<T> filter);\n+    V removeFilters();\n \n     /**\n-     * Sets the comparator to use as the default sorting for data.\n+     * Sets the comparator to use as the data default sorting.\n      * This overrides the sorting set by any other method that manipulates the\n      * default sorting of the data.\n+     * <p>\n+     * A comparator bound to data set, not to the component. That means\n+     * the default sorting won't be retained when a new data or data provider\n+     * is set to the component. Any other component using the same\n+     * data provider object would be affected by setting a sort comparator\n+     * through data view of another component.\n      *\n      * @param sortComparator\n      *         a comparator to use, or <code>null</code> to clear any\n      *         previously set sort order\n      * @return ListDataView instance\n+     *\n+     * @see #addSortComparator(SerializableComparator)\n+     */\n+    V setSortComparator(SerializableComparator<T> sortComparator);\n+\n+    /**\n+     * Adds a comparator to the data default sorting. If no\n+     * default sorting has been defined, then the provided comparator will be\n+     * used as the default sorting. If a default sorting has been defined, then\n+     * the provided comparator will be used to determine the ordering of items\n+     * that are considered equal by the previously defined default sorting.\n+     * <p>\n+     * A comparator added to data set, not to the component. That means\n+     * the default sorting won't be retained when a new data or {@link DataProvider}\n+     * is set to the component. Any other component using the same\n+     * data provider object would be affected by adding a sort comparator\n+     * through data view of another component.\n+     *\n+     * @param sortComparator\n+     *         a comparator to add, not <code>null</code>\n+     * @return ListDataView instance\n+     *\n+     * @see #setSortComparator(SerializableComparator)\n+     */\n+    V addSortComparator(SerializableComparator<T> sortComparator);\n+\n+    /**\n+     * Removes any data default sorting that has been set or added previously.\n+     * <p>\n+     * Any other component using the same data provider object would be affected\n+     * by removing default sorting through data view of another component.\n+     *\n+     * @return ListDataView instance\n+     *\n+     * @see #setSortComparator(SerializableComparator)\n+     * @see #addSortComparator(SerializableComparator)\n+     */\n+    V removeSorting();\n+\n+    /**\n+     * Sets the property and direction to use as the default sorting for data.\n+     * This overrides the sorting set by any other method that\n+     * manipulates the default sorting of this data provider.\n+     * <p>\n+     * A sort order bound to data set, not to the component. That means\n+     * the default sorting won't be retained when a new data or\n+     * {@link DataProvider} is set to the component. Any other component\n+     * using the same data provider object would be affected by setting\n+     * a sort order through data view of another component.\n+     *\n+     * @param valueProvider\n+     *            the value provider that defines the property do sort by, not\n+     *            <code>null</code>\n+     * @param sortDirection\n+     *            the sort direction to use, not <code>null</code>\n+     * @param <VALUE>\n+     *            the provided value type\n+     *\n+     * @return ListDataView instance\n+     *\n+     * @see #addSortOrder(ValueProvider, SortDirection)\n+     */\n+    <VALUE extends Comparable<? super VALUE>> V setSortOrder(\n+            ValueProvider<T, VALUE> valueProvider, SortDirection sortDirection);\n+\n+    /**\n+     * Adds a property and direction to the default sorting for data.", "originalCommit": "0546159def17c955058c55c8c6f58f7400339af5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUwMjczNw==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436502737", "bodyText": "Done", "author": "mshabarov", "createdAt": "2020-06-08T07:27:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjQ2ODQ5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjUyMjk5OQ==", "url": "https://github.com/vaadin/flow/pull/8510#discussion_r436522999", "bodyText": "This is set filter, but the param documents it as to add", "author": "caalador", "createdAt": "2020-06-08T08:08:55Z", "path": "flow-data/src/main/java/com/vaadin/flow/data/provider/ListDataView.java", "diffHunk": "@@ -118,45 +117,164 @@\n      *         if backing collection doesn't support modification\n      * @throws IllegalArgumentException\n      *         if item doesn't exist or collection is not a list\n+     * @see #addItemAfter(Object, Object)\n      */\n     V addItemBefore(T item, T before);\n \n     /**\n-     * Adds a filter to be applied to all queries. The filter will be used in\n-     * addition to any filter that has been set or added previously.\n+     * Sets a filter to be applied to the data. The filter replaces any filter\n+     * that has been set or added previously. {@code null} will clear all filters.\n+     * <p>\n+     * A filter bound to data set, not to the component. That means this filter\n+     * won't be retained when a new data or {@link DataProvider} is set to the\n+     * component. Any other component using the same {@link DataProvider} object\n+     * would be affected by setting a filter through data view of another\n+     * component.\n      *\n      * @param filter\n-     *         the filter to add, not <code>null</code>\n+     *         filter to add for the data", "originalCommit": "8bb61f53c82309ce644e7d36a7340888bf01fc7a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "85946d640d22ed46e9e71015f063376af315af46", "url": "https://github.com/vaadin/flow/commit/85946d640d22ed46e9e71015f063376af315af46", "message": "Address DX feedback for data views #8497", "committedDate": "2020-06-08T09:10:39Z", "type": "commit"}, {"oid": "421c1305e7efec23b7d99c93ebbd1334d3a57f88", "url": "https://github.com/vaadin/flow/commit/421c1305e7efec23b7d99c93ebbd1334d3a57f88", "message": "Javadoc polishing, Sonarqube issues fix", "committedDate": "2020-06-08T09:10:39Z", "type": "commit"}, {"oid": "21d3e6978f923fd58b5808a2aa1649b3a20add26", "url": "https://github.com/vaadin/flow/commit/21d3e6978f923fd58b5808a2aa1649b3a20add26", "message": "setFilter javadoc fix", "committedDate": "2020-06-08T09:10:39Z", "type": "commit"}, {"oid": "a1bde5d373c1567c5fcde4a34157171b122491cf", "url": "https://github.com/vaadin/flow/commit/a1bde5d373c1567c5fcde4a34157171b122491cf", "message": "Resolve merge conflicts", "committedDate": "2020-06-08T09:14:36Z", "type": "commit"}, {"oid": "a1bde5d373c1567c5fcde4a34157171b122491cf", "url": "https://github.com/vaadin/flow/commit/a1bde5d373c1567c5fcde4a34157171b122491cf", "message": "Resolve merge conflicts", "committedDate": "2020-06-08T09:14:36Z", "type": "forcePushed"}]}