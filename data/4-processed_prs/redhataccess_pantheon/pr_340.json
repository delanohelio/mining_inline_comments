{"pr_number": 340, "pr_title": "add github builds", "pr_createdAt": "2020-07-14T16:35:32Z", "pr_url": "https://github.com/redhataccess/pantheon/pull/340", "timeline": [{"oid": "6169624570a3ab1a47606ae61a3f21091f5bd43e", "url": "https://github.com/redhataccess/pantheon/commit/6169624570a3ab1a47606ae61a3f21091f5bd43e", "message": "create maven.yml for github CI", "committedDate": "2020-07-13T16:06:22Z", "type": "commit"}, {"oid": "f7287a8091caacb24173023d9e682ecbad7a3391", "url": "https://github.com/redhataccess/pantheon/commit/f7287a8091caacb24173023d9e682ecbad7a3391", "message": "fix maven executable name", "committedDate": "2020-07-13T16:06:28Z", "type": "commit"}, {"oid": "7cda626e9cfe3261f6fd3db6fbcf08b80d9e7600", "url": "https://github.com/redhataccess/pantheon/commit/7cda626e9cfe3261f6fd3db6fbcf08b80d9e7600", "message": "add maven repository caching", "committedDate": "2020-07-13T16:06:28Z", "type": "commit"}, {"oid": "c753df68b097bdbd98988451afb9adcbcba56e52", "url": "https://github.com/redhataccess/pantheon/commit/c753df68b097bdbd98988451afb9adcbcba56e52", "message": "revert os change", "committedDate": "2020-07-13T16:06:29Z", "type": "commit"}, {"oid": "8385efb92cf9da2a44a352e0a9cdc1bd4c09d991", "url": "https://github.com/redhataccess/pantheon/commit/8385efb92cf9da2a44a352e0a9cdc1bd4c09d991", "message": "add a codecov github action", "committedDate": "2020-07-13T16:10:28Z", "type": "commit"}, {"oid": "5cdec195aa3e76051127452c5ee22a920734e3dc", "url": "https://github.com/redhataccess/pantheon/commit/5cdec195aa3e76051127452c5ee22a920734e3dc", "message": "add a matrixed step to run with java 1.8 and 11", "committedDate": "2020-07-13T17:00:21Z", "type": "commit"}, {"oid": "d2a83285d9c38876f3c3fffa47463b3f73c3da94", "url": "https://github.com/redhataccess/pantheon/commit/d2a83285d9c38876f3c3fffa47463b3f73c3da94", "message": "add a trigger for pull requests", "committedDate": "2020-07-13T17:04:56Z", "type": "commit"}, {"oid": "48accfdaed3d1629b91c1450680df806826a4763", "url": "https://github.com/redhataccess/pantheon/commit/48accfdaed3d1629b91c1450680df806826a4763", "message": "ignore docs paths when building (no need to build the code)", "committedDate": "2020-07-13T17:11:37Z", "type": "commit"}, {"oid": "f8022b4b371b2c8fc76dab935d3204a62edf0488", "url": "https://github.com/redhataccess/pantheon/commit/f8022b4b371b2c8fc76dab935d3204a62edf0488", "message": "upgrade the cache action to v2", "committedDate": "2020-07-13T17:47:34Z", "type": "commit"}, {"oid": "8e5a977f5020fe8492cd1bf689ecf5f8fca76352", "url": "https://github.com/redhataccess/pantheon/commit/8e5a977f5020fe8492cd1bf689ecf5f8fca76352", "message": "add steps for building and testing git2pantheon", "committedDate": "2020-07-14T16:27:27Z", "type": "commit"}, {"oid": "4c83302922a055dffee4aabb760ef7fe9f355ae2", "url": "https://github.com/redhataccess/pantheon/commit/4c83302922a055dffee4aabb760ef7fe9f355ae2", "message": "remove travis build file", "committedDate": "2020-07-14T18:22:27Z", "type": "commit"}, {"oid": "a933779c679b467de90f3d744205d0382530bda9", "url": "https://github.com/redhataccess/pantheon/commit/a933779c679b467de90f3d744205d0382530bda9", "message": "increase version of the checkout action", "committedDate": "2020-07-14T18:50:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg5MjM4MQ==", "url": "https://github.com/redhataccess/pantheon/pull/340#discussion_r457892381", "bodyText": "Providing  modules' list for building would make knowing errors, if encountered, easy to trace.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  run: ./mvnw clean install\n          \n          \n            \n                  run: ./mvnw clean install -pl pantheon-bundle,pantheon-karaf-feature,pantheon-karaf-dist", "author": "aprajshekhar", "createdAt": "2020-07-21T07:28:29Z", "path": ".github/workflows/maven.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+name: CI build\n+\n+on:\n+  push:\n+    paths-ignore:\n+      - docs/**\n+  pull_request:\n+    paths-ignore:\n+      - docs/**\n+\n+jobs:\n+  maven-build:\n+\n+    runs-on: [ubuntu-latest]\n+    strategy:\n+      matrix:\n+        java: [1.8]\n+\n+    steps:\n+    - uses: actions/checkout@v2\n+    \n+    - name: Set up JDK ${{ matrix.java }}\n+      uses: actions/setup-java@v1\n+      with:\n+        java-version: ${{ matrix.java }}\n+\n+    - name: Set up Go\n+      uses: actions/setup-go@v2\n+    \n+    - name: Cache maven dependencies\n+      uses: actions/cache@v2\n+      with:\n+        path: ~/.m2\n+        key: ${{ runner.os }}-maven-${{ hashFiles('**/pom.xml') }}\n+        restore-keys: |\n+          ${{ runner.os }}-maven-\n+    \n+    - name: Build with Maven\n+      run: ./mvnw clean install", "originalCommit": "a933779c679b467de90f3d744205d0382530bda9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA4OTAwOA==", "url": "https://github.com/redhataccess/pantheon/pull/340#discussion_r458089008", "bodyText": "I'm fine with this change, as long as we understand that if we ever add new maven modules to the larger project they will be ignored by the builder.", "author": "carlosmunoz", "createdAt": "2020-07-21T13:19:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg5MjM4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA5NzA5OA==", "url": "https://github.com/redhataccess/pantheon/pull/340#discussion_r458097098", "bodyText": "If we ever add a new module this would have to be updated as well. I am ok with clean install. Only thought was if a new module is added, then its easily understandable from the workflow file.", "author": "aprajshekhar", "createdAt": "2020-07-21T13:29:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg5MjM4MQ=="}], "type": "inlineReview"}, {"oid": "7605ea9ffc62c5200ace563c9ea8e61b15bdaa3e", "url": "https://github.com/redhataccess/pantheon/commit/7605ea9ffc62c5200ace563c9ea8e61b15bdaa3e", "message": "limit the build to specific maven modules\n\nCo-authored-by: A.P.Rajshekhar <randalap@redhat.com>", "committedDate": "2020-07-21T13:43:31Z", "type": "commit"}]}