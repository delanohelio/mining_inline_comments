{"pr_number": 230, "pr_title": "FCCEUD-20 Describe the pantheon2.yml file", "pr_createdAt": "2020-02-12T13:34:48Z", "pr_url": "https://github.com/redhataccess/pantheon/pull/230", "timeline": [{"oid": "74893873f4d2372c64e08354fea0c1d872a217d3", "url": "https://github.com/redhataccess/pantheon/commit/74893873f4d2372c64e08354fea0c1d872a217d3", "message": "FCCEUD-20 Added topic describing Pantheon configuration file.", "committedDate": "2020-02-12T13:17:30Z", "type": "commit"}, {"oid": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "url": "https://github.com/redhataccess/pantheon/commit/a49aba53a87ac98a156120ed6f14a51b4f07e88c", "message": "FCCEUD-20 Edited topic about uploader tool.", "committedDate": "2020-02-12T13:20:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTI3OQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r378571279", "bodyText": "The current URL for Pantheon is internal only, so we should probably change this and all other references to a replaceable such as '<server_url>' for the time being.", "author": "adahms", "createdAt": "2020-02-12T23:25:30Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/con_pantheon_yaml_file.adoc", "diffHunk": "@@ -0,0 +1,45 @@\n+[id='con-pantheon-yaml-file_{context}']\n+\n+= The Pantheon configuration file\n+\n+In order to use a Git repository to import content to Pantheon, you need to create a configuration file in the root directory of your repository named `pantheon2.yml`. This yaml file indicates to Pantheon that it can interact with files in the repository.\n+\n+The configuration file enables the following:\n+\n+* Importing content from a Git repository into Pantheon\n+* Uploading modules into Pantheon using the uploader tool\n+\n+The configuration file defines the following:\n+\n+`server`:: The URL of the Pantheon server.\n+`repository`:: A unique ID to reference the URL of the repository. You specify the actual URL of the repository when you synchronize the repository the first time.\n+`modules`:: Patterns for modules that will show up in the search results on Pantheon.\n+`resources`:: Image files, legal information or other content that is not.\n+\n+You need to define the values for `server` and `repository`.\n+\n+.Example configuration file\n+\n+// [options=\"nowrap\" subs=\"normal\"]\n+----\n+# Config file for Pantheon\n+## server: Pantheon server URL\n+## repository: a unique name, which is visible in the user facing URL\n+\n+## Note: Due to yaml syntax, any filepaths that start with a wildcard must be surrounded in quotes like so:\n+# modules:\n+#  - '*.adoc'\n+\n+server: http://pantheon2.int.us-west.aws.prod.paas.redhat.com[]", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNjMzNA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380036334", "bodyText": "@adahms I think this is a good candidate for an attribute. We can define it as :ProductUrl: (or some such) in the attributes file.", "author": "theashiot", "createdAt": "2020-02-17T08:21:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTI3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwMzE1Ng==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382003156", "bodyText": "@adahms Done. Re @theashiot's suggestion, will we have a downstream version of this doc in which we put Red-Hat-specific info, like our Pantheon server, or will there only be a single, upstream version of the doc?", "author": "stoobie", "createdAt": "2020-02-20T13:39:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTI3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTEwMDUzMQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r385100531", "bodyText": "@stoobie - we won't have a separate downstream and upstream version right away, but I agree that using an attribute as suggested could be a good approach for now.\nWould you be able to add the attribute in the attributes file for this, and make the value a replaceable for now?", "author": "adahms", "createdAt": "2020-02-27T12:39:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTI3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDM5NjYwOQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r394396609", "bodyText": "Done:\n:ProductUrl: http://pantheon2.int.us-west.aws.prod.paas.redhat.com[]", "author": "stoobie", "createdAt": "2020-03-18T14:39:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTI3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTQ5MQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r378571491", "bodyText": "Should this and the procedure below be separate procedure modules?\nHappy to change this into an assembly with three procedures if that's easier.", "author": "adahms", "createdAt": "2020-02-12T23:26:08Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_uploader_tool.adoc", "diffHunk": "@@ -0,0 +1,66 @@\n+[id=\"uploader_tool\"]\n+\n+= Uploading content with the Uploader tool\n+\n+Many of the operations available in the Pantheon user interface can also be performed using commands in the command line interface.\n+\n+Before you can use the uploader tool, you need to install the tool and make sure that the Pantheon2.yml configuration script is present.\n+\n+.To install the uploader tool:\n+. Install the uploader script with `setup.sh`.\n++\n+[options=\"nowrap\" subs=\"normal\"]\n+----\n+curl -S https://raw.githubusercontent.com/redhataccess/pantheon/master/uploader/setup.sh | sh -\n+----\n+. Enter \u2018pantheon\u2019 to confirm it was properly installed.\n++\n+[options=\"nowrap\" subs=\"normal\"]\n+----\n+$ pantheon\n+----\n+\n+The following output appears:\n+[options=\"nowrap\" subs=\"normal\"]\n+----\n+usage: pantheon [-h] [--server SERVER] [--repository REPOSITORY] [--user USER]\n+[--password PASSWORD] [--directory DIRECTORY] [--verbose]\n+[--dry] [--sandbox] [--sample]\n+push [push ...]\n+pantheon: error: the following arguments are required: push\n+----\n+\n+.To configure the repository as a content source for Pantheon:", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA0MDc1MQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380040751", "bodyText": "Agree with @adahms that these should be different procedures:\n\nInstalling and configuring the uploader\nUploading content using the uploader\n\nHowever, I don't think an assembly is required at this point.", "author": "theashiot", "createdAt": "2020-02-17T08:32:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTQ5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAxOTY1Ng==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382019656", "bodyText": "@theashiot @adahms I agree, that's what I suggested at first for this task. Configuration here is not just about the uploader tool, it's about configuring your repo to import content into Pantheon. Now that I've written a draft, including the example file, I suggest having the following modules:\n\ncon_pantheon_yaml_file.adoc: The Pantheon configuration file\nproc_config_repo.adoc: Configuring a repo as a content source for Pantheon\nproc_installing_uploader.adoc: Installing the Uploader tool\nproc_uploader_tool.adoc:  Uploading content using the Uploader tool\nproc_importing_content.adoc: Importing content from a Git repository", "author": "stoobie", "createdAt": "2020-02-20T14:07:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTQ5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA3MjM0OQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382072349", "bodyText": "I've added:\n\nproc_config_repo.adoc\nproc_installing_uploader.adoc\n\nI've edited con_pantheon_yaml_file.adoc and proc_uploader_tool.adoc.\nI don't have the info for importing content from a Git repo.", "author": "stoobie", "createdAt": "2020-02-20T15:27:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU3MTQ5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzMzAwNA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380033004", "bodyText": "Perhaps an introductory statement about what is a pantheon configuration file here?", "author": "theashiot", "createdAt": "2020-02-17T08:13:12Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/con_pantheon_yaml_file.adoc", "diffHunk": "@@ -0,0 +1,45 @@\n+[id='con-pantheon-yaml-file_{context}']\n+\n+= The Pantheon configuration file\n+", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwNDA3Ng==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382004076", "bodyText": "I thought that's what the first sentence is. What do you suggest?", "author": "stoobie", "createdAt": "2020-02-20T13:41:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzMzAwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY2NTg4Mg==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r383665882", "bodyText": "Something on the lines of \"A Pantheon configuration file is a yaml file containing configuration information required by Pantheon for publishing modules\".\nThe reason for this suggestion is that when a user read the title \"The configuration file\", the reader would expect the following text to say what is the configuration file. The first sentence, however, is about using a Git repository to import content into pantheon. Reversing the clauses, such as \"You need to create a configuration file, named pantheon2.yml in the root directory ..\" should suffice though. Although, I'm not a big fan of having instructions in a conceptual topic - but that's just my thing!", "author": "theashiot", "createdAt": "2020-02-25T05:30:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzMzAwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY5OTE5OA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r383699198", "bodyText": "I made the change you suggested. Please take a look at my changes:\n\nYou need to create a configuration file, named pantheon2.yml, in the root directory of your repository, to enable a Git repository as a source that Pantheon can use to import content. This yaml file provides necessary information that Pantheon uses to interact with files in the repository.\n\nI understand what you're saying about not including instructions in a conceptual file. I don't really see these as instructions, per se. It's more a statement that this is something that is required, and it requires you to take action to do it. It doesn't tell you how to do it.", "author": "stoobie", "createdAt": "2020-02-25T07:29:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzMzAwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MjUyNg==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r392652526", "bodyText": "Agreed.", "author": "theashiot", "createdAt": "2020-03-15T08:31:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzMzAwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDczMA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380034730", "bodyText": "I did not understand the difference between a unique ID and the actual URL.", "author": "theashiot", "createdAt": "2020-02-17T08:17:46Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/con_pantheon_yaml_file.adoc", "diffHunk": "@@ -0,0 +1,45 @@\n+[id='con-pantheon-yaml-file_{context}']\n+\n+= The Pantheon configuration file\n+\n+In order to use a Git repository to import content to Pantheon, you need to create a configuration file in the root directory of your repository named `pantheon2.yml`. This yaml file indicates to Pantheon that it can interact with files in the repository.\n+\n+The configuration file enables the following:\n+\n+* Importing content from a Git repository into Pantheon\n+* Uploading modules into Pantheon using the uploader tool\n+\n+The configuration file defines the following:\n+\n+`server`:: The URL of the Pantheon server.\n+`repository`:: A unique ID to reference the URL of the repository. You specify the actual URL of the repository when you synchronize the repository the first time.", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwNjQwOA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382006408", "bodyText": "Yeah, I think an example would help. @benradey Can you please provide an example of a unique ID vs a URL for a repo, and how the unique ID and repo are associated with each other in a command-line?", "author": "stoobie", "createdAt": "2020-02-20T13:45:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDczMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjYzNTU1Mw==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382635553", "bodyText": "Sure.\nThe repository field is supposed to be a unique human-readable name that currently serves only one purpose - to ensure that the mapping between 'git repository' and 'pantheon repository' is persistent. (Otherwise, Pantheon currently has no memory of a repository that has been previously synced, vs. a brand-new repository being synced for the first time.) In the future, the repository name might also be used to achieve cross-repository module includes for assemblies, but details here haven't been ironed out yet.\nThe server field is used mostly for debugging right now - it's only used when invoking the pantheon uploader from the command line (keep in mind that command line usage is unsupported for MS2) so that the uploader knows where to attempt to sync the files to. What invoking a git sync from the Pantheon UI, the server field is ignored because the location of the Pantheon instance is obviously known.\nDoes that help?", "author": "benradey", "createdAt": "2020-02-21T15:13:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDczMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY5OTkzNQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r383699935", "bodyText": "keep in mind that command line usage is unsupported for MS2\n\nWill it be supported in the future? In other words, should I document it or not?", "author": "stoobie", "createdAt": "2020-02-25T07:31:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDczMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzk0NjYzNg==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r383946636", "bodyText": "It will be supported in the future for uploading to personal sandboxes, which is a feature that does not exist today.\nIt might be helpful to document the usage of the tool for troubleshooting purposes. Users can't run the tool against our production instance of Pantheon, but they could run it against our lower environments. Perhaps somebody is trying to troubleshoot their module/resource wildcard patterns, and is running the tool against our stage environment to make sure that the correct set of files gets uploaded.\nSo bottom line, I believe that having it documented would be helpful.", "author": "benradey", "createdAt": "2020-02-25T15:21:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDczMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzk0ODM4Ng==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r383948386", "bodyText": "I think that for it to be useful in the way you describe, we should have a separate topic on Troubleshooting, where we say specifically how to do what you're referring to. Otherwise, I don't see it as helpful. Also, who would be doing the troubleshooting you're talking about? CCS? DPX? @adahms I'd like your input here.", "author": "stoobie", "createdAt": "2020-02-25T15:23:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDczMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA5OTQyMQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r385099421", "bodyText": "Thanks for the ping, @stoobie, and my apologies for the delay in getting back to you.\nI think it's useful to have the content and procedures today, even if we don't necessarily include them in the official help section in the software right away. We can always expand on or refine them in the future as the need arises, and since it's a piece of functionality that does already exist, the content you've created can help general users understand what it's all about.\nAs for a troubleshooting procedure, I'm a little worried that could expand the scope of this particular issue beyond its original boundaries, so perhaps that's something we can raise a ticket for in the future when it's needed.", "author": "adahms", "createdAt": "2020-02-27T12:37:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDczMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDk4MA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380034980", "bodyText": "Incomplete sentence!", "author": "theashiot", "createdAt": "2020-02-17T08:18:24Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/con_pantheon_yaml_file.adoc", "diffHunk": "@@ -0,0 +1,45 @@\n+[id='con-pantheon-yaml-file_{context}']\n+\n+= The Pantheon configuration file\n+\n+In order to use a Git repository to import content to Pantheon, you need to create a configuration file in the root directory of your repository named `pantheon2.yml`. This yaml file indicates to Pantheon that it can interact with files in the repository.\n+\n+The configuration file enables the following:\n+\n+* Importing content from a Git repository into Pantheon\n+* Uploading modules into Pantheon using the uploader tool\n+\n+The configuration file defines the following:\n+\n+`server`:: The URL of the Pantheon server.\n+`repository`:: A unique ID to reference the URL of the repository. You specify the actual URL of the repository when you synchronize the repository the first time.\n+`modules`:: Patterns for modules that will show up in the search results on Pantheon.\n+`resources`:: Image files, legal information or other content that is not.", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwNzAwMA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382007000", "bodyText": "Good catch. I guess you don't like to play guessing games, huh?", "author": "stoobie", "createdAt": "2020-02-20T13:46:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzNDk4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzODg5Mw==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380038893", "bodyText": "I suggest not referring to the Pantheon user interface in this module. I think \"The pantheon uploader tool provides many Pantheon operations in the CLI\" (something on these lines) should suffice.", "author": "theashiot", "createdAt": "2020-02-17T08:28:06Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_uploader_tool.adoc", "diffHunk": "@@ -0,0 +1,66 @@\n+[id=\"uploader_tool\"]\n+\n+= Uploading content with the Uploader tool\n+\n+Many of the operations available in the Pantheon user interface can also be performed using commands in the command line interface.", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAxMDM2OA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382010368", "bodyText": "Fixed.", "author": "stoobie", "createdAt": "2020-02-20T13:52:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDAzODg5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA1ODAwMg==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380058002", "bodyText": "s / con-pantheon-yaml-file_{context} / pantheon-yaml-file_{context}", "author": "theashiot", "createdAt": "2020-02-17T09:09:37Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/con_pantheon_yaml_file.adoc", "diffHunk": "@@ -0,0 +1,45 @@\n+[id='con-pantheon-yaml-file_{context}']", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwNDczNw==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382004737", "bodyText": "Done.", "author": "stoobie", "createdAt": "2020-02-20T13:42:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA1ODAwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA1ODU4Nw==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r380058587", "bodyText": "s / uploader_tool / uploading-content-with-the-uploader-tool_{context}", "author": "theashiot", "createdAt": "2020-02-17T09:10:49Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_uploader_tool.adoc", "diffHunk": "@@ -0,0 +1,66 @@\n+[id=\"uploader_tool\"]", "originalCommit": "a49aba53a87ac98a156120ed6f14a51b4f07e88c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAwOTc3OA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r382009778", "bodyText": "Done", "author": "stoobie", "createdAt": "2020-02-20T13:51:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDA1ODU4Nw=="}], "type": "inlineReview"}, {"oid": "2912a8a82a37ac948744a142015a9c8d9a65180f", "url": "https://github.com/redhataccess/pantheon/commit/2912a8a82a37ac948744a142015a9c8d9a65180f", "message": "FCCEUD-20 Separated out content in proc_uploader_tool.adoc; Implemented other reviewer comments.", "committedDate": "2020-02-20T15:28:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzY2NzU5NQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r383667595", "bodyText": "s \" \"config_repo_{context}\" \"/\" \"configuring-a-repository-as-a-content-source-for-pantheon_{context}\" \"", "author": "theashiot", "createdAt": "2020-02-25T05:37:18Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_config_repo.adoc", "diffHunk": "@@ -0,0 +1,29 @@\n+[id=\"config_repo_{context}\"]", "originalCommit": "2912a8a82a37ac948744a142015a9c8d9a65180f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "url": "https://github.com/redhataccess/pantheon/commit/69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "message": "FCCEUD-20 Implemented peer reviewer comments", "committedDate": "2020-02-25T07:32:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2MjIwMg==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391662202", "bodyText": "I think including the ''') here is a mistake.", "author": "benradey", "createdAt": "2020-03-12T14:32:27Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/con_pantheon_yaml_file.adoc", "diffHunk": "@@ -0,0 +1,47 @@\n+[id='pantheon-yaml-file_{context}']\n+\n+= The Pantheon configuration file\n+\n+You need to create a configuration file, named `pantheon2.yml`, in the root directory of your repository, to enable a Git repository as a source that Pantheon can use to import content. This yaml file provides necessary information that Pantheon uses to interact with files in the repository.\n+\n+The configuration file enables the following:\n+\n+* Importing content from a Git repository into Pantheon\n+* Uploading modules into Pantheon using the Uploader tool\n+\n+The configuration file defines the following:\n+\n+`server`:: The URL of the Pantheon server.\n+`repository`:: A unique ID that Pantheon uses to reference the URL of the repository. You specify the actual URL of the repository when you synchronize the repository the first time.\n+`modules`:: Patterns for modules that will show up in the search results on Pantheon.\n+`resources`:: Image files, legal information or other content that is not a complete module or assembly.\n+\n+You need to define the values for `server` and `repository`.\n+\n+.Example configuration file\n+\n+// [options=\"nowrap\" subs=\"normal\"]\n+----\n+# Config file for Pantheon\n+## server: Pantheon server URL\n+## repository: a unique name, which is visible in the user facing URL\n+\n+## Note: Due to yaml syntax, any filepaths that start with a wildcard must be surrounded in quotes like so:\n+# modules:\n+#  - '*.adoc'\n+\n+server: {server_url}\n+# Example\n+#server: http://pantheon.redhat.com[]\n+repository: repo_id\n+\n+modules:\n+ - master.adoc\n+ - modules/*.adoc\n+\n+resources:\n+ - shared/legal.adoc\n+ - shared/foreword.adoc\n+ - resources/*\n+''')", "originalCommit": "69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY5NTU1MA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391695550", "bodyText": "@benradey I copied this directly from the sample file. So if this is a bug, then I guess you have to fix it in the sample file too.", "author": "stoobie", "createdAt": "2020-03-12T15:20:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2MjIwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY5NTg0OQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391695849", "bodyText": "Is the request here to delete line 46?", "author": "stoobie", "createdAt": "2020-03-12T15:20:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2MjIwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc3Njg5NQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391776895", "bodyText": "Yes, it looks like this was copy/pasted from the python source, and line 46 with the triple-quote is the signal to python that that's where the content ends.", "author": "benradey", "createdAt": "2020-03-12T17:25:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2MjIwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDM5ODYyNg==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r394398626", "bodyText": "I removed  ''')", "author": "stoobie", "createdAt": "2020-03-18T14:42:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2MjIwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NDEwOA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391664108", "bodyText": "and \u2018repository\u2019 with U seems like this is a text artifact that should be removed?", "author": "benradey", "createdAt": "2020-03-12T14:35:03Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_config_repo.adoc", "diffHunk": "@@ -0,0 +1,29 @@\n+[id=\"configuring-a-repository-as-a-content-source-for-pantheon_{context}\"]\n+\n+= Configuring a repository as a content source for Pantheon\n+\n+.Procedure\n+\n+. In a text editor, paste the content of the sample configuration file in xref:pantheon-yaml-file_{context}[] into a new text file. Name the file [filename]`pantheon2.yml`. This file is the Pantheon configuration file for your repository.\n+\n+. Replace the default value for \u2018server\u2019 with the URL you receive from a Pantheon administrator. and \u2018repository\u2019 with U:", "originalCommit": "69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY5NjI1OA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391696258", "bodyText": "Yep. I missed that.", "author": "stoobie", "createdAt": "2020-03-12T15:21:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NDEwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDM5OTUwNQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r394399505", "bodyText": "Fixed.", "author": "stoobie", "createdAt": "2020-03-18T14:43:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NDEwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NzQ1NQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391667455", "bodyText": "I think this discussion came up in another EUD PR, but ultimately, users will not have much use for the uploader tool until we implement sandboxes in Pantheon. At that point, users can follow this procedure to upload their docs to their personal sandbox.\nI call this out because currently, this text as-written implies that that the uploader will be used to sync repository content, which is not the case.", "author": "benradey", "createdAt": "2020-03-12T14:40:01Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_uploader_tool.adoc", "diffHunk": "@@ -0,0 +1,33 @@\n+[id=\"uploading-content-with-the-uploader-tool_{context}\"]", "originalCommit": "69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY5NzAxNQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r391697015", "bodyText": "OK. I'll take a look. Maybe we need to just remove this topic.", "author": "stoobie", "createdAt": "2020-03-12T15:22:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NzQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQwMDI4Nw==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r394400287", "bodyText": "As per @adahms in another comment, we'll keep the module since it's already authored, but we don't have to include it when we publish the docs.", "author": "stoobie", "createdAt": "2020-03-18T14:44:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NzQ1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MTQ3MA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r392651470", "bodyText": "I suggest:\ns / 'xref:pantheon-yaml-file_{context}[]' / 'xref:pantheon-yaml-file_{context}[pantheon-yaml-file]' or some such, so that the rendered text looks better.\nAlso, would it not be better to use 'link' instead of 'xref'?", "author": "theashiot", "createdAt": "2020-03-15T08:15:55Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_config_repo.adoc", "diffHunk": "@@ -0,0 +1,29 @@\n+[id=\"configuring-a-repository-as-a-content-source-for-pantheon_{context}\"]\n+\n+= Configuring a repository as a content source for Pantheon\n+\n+.Procedure\n+\n+. In a text editor, paste the content of the sample configuration file in xref:pantheon-yaml-file_{context}[] into a new text file. Name the file [filename]`pantheon2.yml`. This file is the Pantheon configuration file for your repository.", "originalCommit": "69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQwMjIyOA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r394402228", "bodyText": "@theashiot Why is it better to use link instead of xref?\nAnd why would the rendered text look better the way you suggest?", "author": "stoobie", "createdAt": "2020-03-18T14:46:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MTQ3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MTY3Mg==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r392651672", "bodyText": "Require + above [NOTE]", "author": "theashiot", "createdAt": "2020-03-15T08:19:39Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_config_repo.adoc", "diffHunk": "@@ -0,0 +1,29 @@\n+[id=\"configuring-a-repository-as-a-content-source-for-pantheon_{context}\"]\n+\n+= Configuring a repository as a content source for Pantheon\n+\n+.Procedure\n+\n+. In a text editor, paste the content of the sample configuration file in xref:pantheon-yaml-file_{context}[] into a new text file. Name the file [filename]`pantheon2.yml`. This file is the Pantheon configuration file for your repository.\n+\n+. Replace the default value for \u2018server\u2019 with the URL you receive from a Pantheon administrator. and \u2018repository\u2019 with U:\n++\n+[options=\"nowrap\" subs=\"normal\"]\n+----\n+server: http://pantheon.example.com[]\n+repository: <UNIQUE_ID>\n+----\n+. Replace the default value for \u2018repository\u2019 with a unique ID, not a URL:\n++\n+[options=\"nowrap\" subs=\"normal\"]\n+----\n+repository: <UNIQUE_ID>\n+----\n+[NOTE]", "originalCommit": "69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQwMjY0MQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r394402641", "bodyText": "Good catch. Fixed.", "author": "stoobie", "createdAt": "2020-03-18T14:47:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MTY3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MjI2NA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r392652264", "bodyText": "Wouldn't wget be better than curl? curl only displays the file content and there is then an additional step to store the displayed contents in a file.\nIf using curl, I suggest modifying the step to:\ncurl -S https://raw.githubusercontent.com/redhataccess/pantheon/master/uploader/setup.sh > setup.sh\nso that we don't need another step to store the script.", "author": "theashiot", "createdAt": "2020-03-15T08:28:05Z", "path": "pantheon-bundle/src/main/resources/SLING-INF/content/docs/modules/proc_installing_uploader_tool.adoc", "diffHunk": "@@ -0,0 +1,34 @@\n+[id=\"installing-uploader-tool_{context}\"]\n+\n+= Installing the Uploader tool\n+\n+.Procedure\n+\n+. Download the Uploader script.\n++\n+[options=\"nowrap\" subs=\"normal\"]\n+----\n+$ curl -S https://raw.githubusercontent.com/redhataccess/pantheon/master/uploader/setup.sh", "originalCommit": "69ac02bc74d5732fbb51ca35cb30d7c4d76518d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDQwNTgxMQ==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r394405811", "bodyText": "@benradey I refer @theashiot's question about curl vs wget to you. For now, I'm taking the suggestion and changing curl to wget.", "author": "stoobie", "createdAt": "2020-03-18T14:51:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MjI2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTAyNzAzMA==", "url": "https://github.com/redhataccess/pantheon/pull/230#discussion_r395027030", "bodyText": "The intention is to pipe the script to bash, not redirect to a file. But it works either way. I will admit that piping to bash is generally bad practice, but I would consider us a trustworthy source, IMHO.", "author": "benradey", "createdAt": "2020-03-19T13:33:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY1MjI2NA=="}], "type": "inlineReview"}, {"oid": "8dcdd3951c03c9ef76f85d19d3aeab40f222ea97", "url": "https://github.com/redhataccess/pantheon/commit/8dcdd3951c03c9ef76f85d19d3aeab40f222ea97", "message": "Merge branch 'master' of github.com:redhataccess/pantheon into FCCEUD-20", "committedDate": "2020-03-18T14:30:46Z", "type": "commit"}, {"oid": "7ed927bc9cbd28e145ac4006465ca33d7bcd8f23", "url": "https://github.com/redhataccess/pantheon/commit/7ed927bc9cbd28e145ac4006465ca33d7bcd8f23", "message": "FCCEUD-20 Reviewer comments.", "committedDate": "2020-03-18T14:53:32Z", "type": "commit"}, {"oid": "0a5630d806249f85c92fd59310d8ac50fd5c0d3e", "url": "https://github.com/redhataccess/pantheon/commit/0a5630d806249f85c92fd59310d8ac50fd5c0d3e", "message": "FCCEUD-20 got rid of the future tense in a sentence.", "committedDate": "2020-03-18T15:14:35Z", "type": "commit"}]}