{"pr_number": 459, "pr_title": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up.", "pr_createdAt": "2020-10-29T07:10:47Z", "pr_url": "https://github.com/redhataccess/pantheon/pull/459", "timeline": [{"oid": "992bfc3448073ea865c554e42e48998a8e512f19", "url": "https://github.com/redhataccess/pantheon/commit/992bfc3448073ea865c554e42e48998a8e512f19", "message": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up.", "committedDate": "2020-10-29T07:01:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA4OTE1Mw==", "url": "https://github.com/redhataccess/pantheon/pull/459#discussion_r514089153", "bodyText": "In future can we check if publish event can have different approach for this condition ?", "author": "rednitish", "createdAt": "2020-10-29T08:43:08Z", "path": "pantheon-bundle/frontend/src/app/assemblyDisplay.tsx", "diffHunk": "@@ -271,10 +281,33 @@ class AssemblyDisplay extends Component<any, IAssemblyDisplayState> {\n     }\n \n     private onPublishEvent = () => {\n-        this.getVersionUUID(this.props.location.pathname)\n-        setTimeout(()=> {\n-            this.getPortalUrl(this.props.location.pathname.substring(PathPrefixes.MODULE_PATH_PREFIX.length), this.state.variant)\n-        }, 500)\n+        // try to get the url from api only if the component has been published\n+        if (this.state.releaseUpdateDate.trim() !== \"\"\n+        && this.state.releaseUpdateDate.length >= 15 ?\n+            new Intl.DateTimeFormat(\"en-GB\", { year: \"numeric\", month: \"long\", day: \"numeric\" }).format(new Date(this.state.releaseUpdateDate)) : \"--\") {", "originalCommit": "992bfc3448073ea865c554e42e48998a8e512f19", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA5MzE2OQ==", "url": "https://github.com/redhataccess/pantheon/pull/459#discussion_r514093169", "bodyText": "Thanks for the review. Once CCS-3860 is done, the whole publish event itself would change.", "author": "aprajshekhar", "createdAt": "2020-10-29T08:49:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA4OTE1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDEwMTM4NQ==", "url": "https://github.com/redhataccess/pantheon/pull/459#discussion_r514101385", "bodyText": "Anyways updated to simplify the logic.", "author": "aprajshekhar", "createdAt": "2020-10-29T09:03:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA4OTE1Mw=="}], "type": "inlineReview"}, {"oid": "6241337d74491129ac78fb1c7ceb509c05e32648", "url": "https://github.com/redhataccess/pantheon/commit/6241337d74491129ac78fb1c7ceb509c05e32648", "message": "CCS-3812: Module details page needs to be refreshed for the \"View on portal\" link to show-up. Code review changes", "committedDate": "2020-10-29T08:59:11Z", "type": "commit"}]}