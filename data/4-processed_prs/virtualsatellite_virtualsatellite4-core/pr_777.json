{"pr_number": 777, "pr_title": "Feature/task 774 swt bot to check that ", "pr_createdAt": "2020-10-08T14:26:40Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/777", "timeline": [{"oid": "b6035d479bb3f9799cf3471f77d5b42600dc0a9b", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/b6035d479bb3f9799cf3471f77d5b42600dc0a9b", "message": "Added SWTBot test for checking license presence - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-08T13:35:19Z", "type": "commit"}, {"oid": "0b768de34628378a5cca65b266c722d8925f85b6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0b768de34628378a5cca65b266c722d8925f85b6", "message": "Added license test to the suite - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-08T13:42:05Z", "type": "commit"}, {"oid": "55a676c119ff53a413fc9938b3430a27840225d6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/55a676c119ff53a413fc9938b3430a27840225d6", "message": "Fixed vendor information - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-08T13:50:15Z", "type": "commit"}, {"oid": "5c8f820a60ea8b5a2d103e5db1eb4db09218b8c0", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/5c8f820a60ea8b5a2d103e5db1eb4db09218b8c0", "message": "Added missing abouts - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-08T14:16:36Z", "type": "commit"}, {"oid": "c18987dac38fd778c57687eaeeaa856c5f1f2e4b", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c18987dac38fd778c57687eaeeaa856c5f1f2e4b", "message": "Removed inheritance to ASwtBotTestCase from license tests - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-08T14:18:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc3NTQ0Mg==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/777#discussion_r501775442", "bodyText": "Some comment on why we need to press Close twice would be good.\nI guess there are two dialogues open at this stage?", "author": "SaMuellerDLR", "createdAt": "2020-10-08T14:39:59Z", "path": "de.dlr.sc.virsat.swtbot.test/src/de/dlr/sc/virsat/swtbot/test/LicenseTest.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*******************************************************************************\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *******************************************************************************/\n+package de.dlr.sc.virsat.swtbot.test;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+import org.eclipse.swtbot.eclipse.finder.SWTWorkbenchBot;\n+import org.eclipse.swtbot.eclipse.finder.waits.Conditions;\n+import org.eclipse.swtbot.swt.finder.widgets.SWTBotTableItem;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+public class LicenseTest {\n+\n+\tprotected SWTWorkbenchBot bot;\n+\n+\t\n+\t@Before\n+\tpublic void before() throws Exception {\n+\t\tbot = new SWTWorkbenchBot();\n+\t}\n+\t\n+\t@Test\n+\tpublic void licenseTest() {\n+\t\tfinal String VIRSAT_PACKAGE_PREFIX = \"de.dlr.sc.virsat\";\n+\t\tfinal String EXPECTED_PROVIDER = \"DLR (German Aerospace Center)\";\n+\t\t\n+\t\tfinal int COLUMN_FEATURE_ID = 3;\n+\t\tfinal int COLUMN_PLUGIN_ID = 4;\n+\t\t\n+\t\tbot.menu(\"Help\").menu(\"About VirSat 4 - Core\").click();\n+\t\tbot.button(\"Installation Details\").click();\n+\n+\t\tbot.cTabItem(\"Features\").activate();\n+\n+\t\tassertTrue(\"There is at least one VirSat feature\", bot.table().containsText(EXPECTED_PROVIDER));\n+\t\t\n+\t\tint rowCount = bot.table().rowCount();\n+\t\tfor (int i = 0; i < rowCount; i++) {\n+\t\t\tSWTBotTableItem row = bot.table().getTableItem(i);\n+\t\t\tString featureId = row.getText(COLUMN_FEATURE_ID);\n+\t\t\tif (featureId.startsWith(VIRSAT_PACKAGE_PREFIX)) {\n+\t\t\t\tbot.table().select(i);\n+\t\t\t\tassertEquals(\"Correct provider is set for feature \" + featureId, EXPECTED_PROVIDER, row.getText(0));\n+\t\t\t\tassertTrue(\"Licensing information set for feature \" + featureId, bot.button(\"License\").isEnabled());\n+\t\t\t}\n+\t\t}\n+\t\t\n+\t\tbot.cTabItem(\"Plug-ins\").activate();\n+\t\t\n+\t\t// Wait until plugin table is populated\n+\t\tbot.waitWhile(Conditions.tableHasRows(bot.table(), 0), ASwtBotTestCase.MAX_TEST_CASE_TIMEOUT_MILLISECONDS, ASwtBotTestCase.SWTBOT_RETRY_WAIT_TIME);\n+\t\t\n+\t\tassertTrue(\"There is at least one VirSat plugin\", bot.table().containsText(EXPECTED_PROVIDER));\n+\t\t\n+\t\trowCount = bot.table().rowCount();\n+\t\tfor (int i = 0; i < rowCount; i++) {\n+\t\t\tSWTBotTableItem row = bot.table().getTableItem(i);\n+\t\t\tString pluginId = row.getText(COLUMN_PLUGIN_ID);\n+\t\t\tif (pluginId.startsWith(VIRSAT_PACKAGE_PREFIX)) {\n+\t\t\t\tbot.table().select(i);\n+\t\t\t\tassertEquals(\"Correct provider for plugin \" + pluginId, EXPECTED_PROVIDER, row.getText(1));\n+\t\t\t\tassertTrue(\"Licensing information is set for plugin \" + pluginId, bot.button(\"Legal Info\").isEnabled());\n+\t\t\t}\n+\t\t}\n+\t\t\n+\t\tbot.button(\"Close\").click();\n+\t\tbot.button(\"Close\").click();", "originalCommit": "c18987dac38fd778c57687eaeeaa856c5f1f2e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc4MTM4MA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/777#discussion_r501781380", "bodyText": "Yes, for installation details and about window, added a comment to clarify.", "author": "andriikovalov-dlr", "createdAt": "2020-10-08T14:47:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc3NTQ0Mg=="}], "type": "inlineReview"}, {"oid": "126d48c00a434b481a538c5ffa4c112905e7d9b6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/126d48c00a434b481a538c5ffa4c112905e7d9b6", "message": "Added clarifying comment - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-08T14:44:52Z", "type": "commit"}, {"oid": "7124914cc9ddf427e8e1519198d3d0b225b6eba3", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/7124914cc9ddf427e8e1519198d3d0b225b6eba3", "message": "Added waiting to populate feature table - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-08T14:55:41Z", "type": "commit"}, {"oid": "8b2c69a3f088e8abbd6710d05baf36ec29170fba", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8b2c69a3f088e8abbd6710d05baf36ec29170fba", "message": "Removed feature check from SWTBot license test - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-09T14:17:06Z", "type": "commit"}, {"oid": "3c5e8cd87e6e61f797350d6dff46ce4b94ab7a02", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/3c5e8cd87e6e61f797350d6dff46ce4b94ab7a02", "message": "Inherit License SWTBot test from ASWTBotTestCase - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-09T14:54:36Z", "type": "commit"}, {"oid": "9358ab2e7a0593c3c2da8747ef8f3f53d70573ae", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9358ab2e7a0593c3c2da8747ef8f3f53d70573ae", "message": "Only check plugins - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-09T15:32:32Z", "type": "commit"}, {"oid": "7daeeb6b4a95614c8a4a666795f79a81b47c208a", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/7daeeb6b4a95614c8a4a666795f79a81b47c208a", "message": "Added new abouts to build properties - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-09T16:53:23Z", "type": "commit"}, {"oid": "fd3796ee8ad1d2c1ea200203711e44943ec438b1", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/fd3796ee8ad1d2c1ea200203711e44943ec438b1", "message": "Added about to build properties - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-12T07:13:53Z", "type": "commit"}, {"oid": "c42dece55056f47c106c4c6b125b6dfb44875e37", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c42dece55056f47c106c4c6b125b6dfb44875e37", "message": "Added about to build properties - (Task #774)\n\n---\nTask #774: SWTBot to check that licensing info is present in all our\nfeatures and plugins", "committedDate": "2020-10-12T07:17:18Z", "type": "commit"}, {"oid": "08447db77c8206da2721043aecf0d28b2b4b610b", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/08447db77c8206da2721043aecf0d28b2b4b610b", "message": "Merge branch 'development' into feature/task_774-SWTBot_to_check_that_", "committedDate": "2020-10-12T09:20:18Z", "type": "commit"}]}