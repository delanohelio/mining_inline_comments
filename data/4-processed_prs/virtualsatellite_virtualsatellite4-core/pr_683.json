{"pr_number": 683, "pr_title": "Test cases for checking values after reference change in a bean", "pr_createdAt": "2020-07-03T20:29:46Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/683", "timeline": [{"oid": "bd3a95939d3635dd02206f8511bd8411339662fa", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/bd3a95939d3635dd02206f8511bd8411339662fa", "message": "Added a failing test - (Task #486)\n\n[skip ci]", "committedDate": "2020-07-03T15:46:47Z", "type": "commit"}, {"oid": "9c0195959e01b7a69b7a27f91f6393684e81c4e5", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9c0195959e01b7a69b7a27f91f6393684e81c4e5", "message": "Added a test for a primitive field - (Task #486)\n\n[skip ci]", "committedDate": "2020-07-03T18:10:50Z", "type": "commit"}, {"oid": "62d2ae53a9fd117e9b81555c389e900120e36a7c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/62d2ae53a9fd117e9b81555c389e900120e36a7c", "message": "Added a temporary fix into the generated code - (Task #486)", "committedDate": "2020-07-03T20:23:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDAzNzY4NQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/683#discussion_r450037685", "bodyText": "We still need to add these changes to the generator here, right?", "author": "JAmmermann-DLR", "createdAt": "2020-07-06T07:38:43Z", "path": "de.dlr.sc.virsat.model.extension.tests/src-gen/de/dlr/sc/virsat/model/extension/tests/model/ATestCategoryBase.java", "diffHunk": "@@ -144,13 +144,11 @@ private void safeAccessTestReference() {\n \t\tReferencePropertyInstance propertyInstance = (ReferencePropertyInstance) helper.getPropertyInstance(\"testReference\");\r\n \t\tCategoryAssignment ca = (CategoryAssignment) propertyInstance.getReference();\r\n \t\t\r\n-\t\tif (ca != null) {\r\n-\t\t\tif (testReference == null) {\r\n-\t\t\t\tcreateTestReference(ca);\r\n-\t\t\t}\r\n-\t\t\ttestReference.setTypeInstance(ca);\r\n-\t\t} else {\r\n+\t\t// Temporary manual fix before all generated code is updated\r\n+\t\tif (ca == null) {\r\n \t\t\ttestReference = null;\r\n+\t\t} else if (testReference == null || !testReference.getTypeInstance().equals(ca)) {\r\n+\t\t\tcreateTestReference(ca);\r", "originalCommit": "62d2ae53a9fd117e9b81555c389e900120e36a7c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2MzEzMg==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/683#discussion_r450063132", "bodyText": "No, because in the new generator this logic is moved to the BeanPropertyReference, and the bug doesn't reproduce.", "author": "andriikovalov-dlr", "createdAt": "2020-07-06T08:27:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDAzNzY4NQ=="}], "type": "inlineReview"}]}