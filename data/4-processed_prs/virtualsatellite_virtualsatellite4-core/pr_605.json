{"pr_number": 605, "pr_title": "Add trace element to requirements concept", "pr_createdAt": "2020-05-18T12:14:37Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605", "timeline": [{"oid": "97c3ef648669f7d3d8676a320b0ed2af7efc9426", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/97c3ef648669f7d3d8676a320b0ed2af7efc9426", "message": "Add req trace to concept - Task #306", "committedDate": "2020-05-13T11:16:03Z", "type": "commit"}, {"oid": "b521d3a3be621570821c4267f68c6c6c6d50639a", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/b521d3a3be621570821c4267f68c6c6c6d50639a", "message": "Fix spot bugs fix - task #216\n\n(cherry picked from commit eae68d618cc8f478996fff7a5d20ca75487cfa6e)", "committedDate": "2020-05-13T17:47:27Z", "type": "commit"}, {"oid": "0e7101018e0b21ca0368d1801a4e3770397d4eff", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0e7101018e0b21ca0368d1801a4e3770397d4eff", "message": "Add trace column to specification table - (task #306)", "committedDate": "2020-05-14T14:19:35Z", "type": "commit"}, {"oid": "1a7168cd63112b5cb3b857da9b7ce42bac60350a", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/1a7168cd63112b5cb3b857da9b7ce42bac60350a", "message": "Refactoring of trace label - task #306", "committedDate": "2020-05-15T09:16:19Z", "type": "commit"}, {"oid": "45b83035393f7d9ea0ddf596a038431ff11cd3c3", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/45b83035393f7d9ea0ddf596a038431ff11cd3c3", "message": "Create dialog for editing requirements trace - task #306", "committedDate": "2020-05-15T09:18:02Z", "type": "commit"}, {"oid": "14427ea770b98e4cba173e3e884b3de87703e019", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/14427ea770b98e4cba173e3e884b3de87703e019", "message": "IMplement basic tracing UI - task #306", "committedDate": "2020-05-15T15:05:35Z", "type": "commit"}, {"oid": "53845a280dd2c781f370b20028105596096a135c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/53845a280dd2c781f370b20028105596096a135c", "message": "Changed table hight - task #306", "committedDate": "2020-05-16T18:19:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4MTg0NQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605#discussion_r429881845", "bodyText": "Either we should leave the class comment out or actually write something.\nEmpty comment blocks to evade check style dont make sense to me.", "author": "SaMuellerDLR", "createdAt": "2020-05-25T11:22:15Z", "path": "de.dlr.sc.virsat.model.extension.requirements.ui/src/de/dlr/sc/virsat/model/extension/requirements/ui/celleditor/RequirementTraceEditingSupport.java", "diffHunk": "@@ -0,0 +1,125 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.requirements.ui.celleditor;\r\n+\r\n+import org.eclipse.emf.common.command.Command;\r\n+import org.eclipse.emf.common.command.UnexecutableCommand;\r\n+import org.eclipse.emf.edit.command.SetCommand;\r\n+import org.eclipse.emf.edit.domain.EditingDomain;\r\n+import org.eclipse.jface.dialogs.Dialog;\r\n+import org.eclipse.jface.viewers.CellEditor;\r\n+import org.eclipse.jface.viewers.ColumnViewer;\r\n+import org.eclipse.jface.viewers.DialogCellEditor;\r\n+import org.eclipse.swt.SWT;\r\n+import org.eclipse.swt.widgets.Button;\r\n+import org.eclipse.swt.widgets.Composite;\r\n+import org.eclipse.swt.widgets.Control;\r\n+import org.eclipse.ui.PlatformUI;\r\n+import org.eclipse.ui.forms.widgets.FormToolkit;\r\n+\r\n+import de.dlr.sc.virsat.model.dvlm.categories.ATypeInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.CategoryAssignment;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertydefinitions.AProperty;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.APropertyInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.ComposedPropertyInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.PropertyinstancesPackage;\r\n+import de.dlr.sc.virsat.model.extension.requirements.model.Requirement;\r\n+import de.dlr.sc.virsat.model.extension.requirements.ui.snippet.dialog.RequirementsTraceEditingDialog;\r\n+import de.dlr.sc.virsat.project.editingDomain.VirSatEditingDomainRegistry;\r\n+import de.dlr.sc.virsat.uiengine.ui.cellEditor.aproperties.APropertyCellEditingSupport;\r\n+\r\n+/**\r\n+ *\r", "originalCommit": "53845a280dd2c781f370b20028105596096a135c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4MjQ2Ng==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605#discussion_r429882466", "bodyText": "A small comment why we can oberride the parent canEdit and ignore the setCommand executability would be nice here.", "author": "SaMuellerDLR", "createdAt": "2020-05-25T11:23:48Z", "path": "de.dlr.sc.virsat.model.extension.requirements.ui/src/de/dlr/sc/virsat/model/extension/requirements/ui/celleditor/RequirementTraceEditingSupport.java", "diffHunk": "@@ -0,0 +1,125 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.requirements.ui.celleditor;\r\n+\r\n+import org.eclipse.emf.common.command.Command;\r\n+import org.eclipse.emf.common.command.UnexecutableCommand;\r\n+import org.eclipse.emf.edit.command.SetCommand;\r\n+import org.eclipse.emf.edit.domain.EditingDomain;\r\n+import org.eclipse.jface.dialogs.Dialog;\r\n+import org.eclipse.jface.viewers.CellEditor;\r\n+import org.eclipse.jface.viewers.ColumnViewer;\r\n+import org.eclipse.jface.viewers.DialogCellEditor;\r\n+import org.eclipse.swt.SWT;\r\n+import org.eclipse.swt.widgets.Button;\r\n+import org.eclipse.swt.widgets.Composite;\r\n+import org.eclipse.swt.widgets.Control;\r\n+import org.eclipse.ui.PlatformUI;\r\n+import org.eclipse.ui.forms.widgets.FormToolkit;\r\n+\r\n+import de.dlr.sc.virsat.model.dvlm.categories.ATypeInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.CategoryAssignment;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertydefinitions.AProperty;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.APropertyInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.ComposedPropertyInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.PropertyinstancesPackage;\r\n+import de.dlr.sc.virsat.model.extension.requirements.model.Requirement;\r\n+import de.dlr.sc.virsat.model.extension.requirements.ui.snippet.dialog.RequirementsTraceEditingDialog;\r\n+import de.dlr.sc.virsat.project.editingDomain.VirSatEditingDomainRegistry;\r\n+import de.dlr.sc.virsat.uiengine.ui.cellEditor.aproperties.APropertyCellEditingSupport;\r\n+\r\n+/**\r\n+ *\r\n+ */\r\n+public class RequirementTraceEditingSupport extends APropertyCellEditingSupport {\r\n+\r\n+\tprotected FormToolkit toolkit;\r\n+\t\r\n+\t/**\r\n+\t * constructor of the value property cell editing support instantiate the editor\r\n+\t * @param editingDomain the editing domain\r\n+\t * @param viewer the table viewer\r\n+\t * @param property an aproperty\r\n+\t */\r\n+\tpublic RequirementTraceEditingSupport(EditingDomain editingDomain, ColumnViewer viewer, AProperty property, FormToolkit toolkit) {\r\n+\t\tsuper(editingDomain, viewer, property);\r\n+\t\tthis.toolkit = toolkit;\r\n+\t}\r\n+\r\n+\t@Override\r\n+\tprotected CellEditor getCellEditor(Object element) {\r\n+\t\t\r\n+\t\tif (element instanceof ComposedPropertyInstance) {\r\n+\t\t\tRequirement req = new Requirement(((ComposedPropertyInstance) element).getTypeInstance());\r\n+\t\t\tfinal CategoryAssignment referencedTypeInstance = req.getTrace().getTypeInstance();\r\n+\t\t\teditor = new DialogCellEditor((Composite) viewer.getControl()) {\r\n+\t\t\t\t\r\n+\t\t\t\t@Override\r\n+\t\t\t\tprotected Object openDialogBox(Control cellEditorWindow) {\r\n+\t\t\t\t\tEditingDomain editingDomain = VirSatEditingDomainRegistry.INSTANCE.getEd(referencedTypeInstance);\r\n+\t\t\t\t\tif (referencedTypeInstance != null) {\r\n+\t\t\t\t\t\tDialog dialog = new RequirementsTraceEditingDialog(\r\n+\t\t\t\t\t\t\t\tPlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell(), toolkit, editingDomain,\r\n+\t\t\t\t\t\t\t\treferencedTypeInstance);\r\n+\t\t\t\t\t\tif (dialog.open() == Dialog.OK) {\r\n+\t\t\t\t\t\t\treturn referencedTypeInstance;\r\n+\t\t\t\t\t\t} \r\n+\t\t\t\t\t}\r\n+\t\t\t\t\treturn null;\r\n+\t\t\t\t}\r\n+\t\t\t\t\r\n+\t\t\t\t@Override\r\n+\t\t\t\tprotected Button createButton(final Composite parent) {\r\n+\t\t\t\t\t// This override is needed to the following eclipse bug\r\n+\t\t\t\t\t// https://bugs.eclipse.org/bugs/show_bug.cgi?id=193081\r\n+\t\t\t\t\tButton button = super.createButton(parent);\r\n+\r\n+\t\t\t\t\t// This listener hands back traversal control to the cell rather the button. \r\n+\t\t\t\t\t// This is important if TableEditor functionality is used. if the button handles the traverse \r\n+\t\t\t\t\t// signal, it will try to select the next button but not the next cell.\r\n+\t\t\t\t\tbutton.addListener(SWT.Traverse, (event) -> parent.notifyListeners(SWT.Traverse, event));\r\n+\t\t\t\t\treturn button;\r\n+\t\t\t\t}\r\n+\t\t\t};\r\n+\t\t}\r\n+\t\t\r\n+\t\treturn editor;\r\n+\t}\r\n+\t\r\n+\t@Override\r\n+\tprotected Object getValue(Object element) {\r\n+\t\tAPropertyInstance propertyInstance = getPropertyInstance(element);\r\n+\t\tATypeInstance value = ((ComposedPropertyInstance) propertyInstance).getTypeInstance();\r\n+\t\treturn value;\r\n+\t}\r\n+\t\r\n+\t@Override\r\n+\tprotected boolean canEdit(Object element) {\r\n+\t\treturn true;\r", "originalCommit": "53845a280dd2c781f370b20028105596096a135c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY1ODEwNg==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605#discussion_r447658106", "bodyText": "I added a comment... In short this editing support is not actually doing any change but rather forwarding it... It's not even executing a command... That's why we're not doing the check.", "author": "franzTobiasDLR", "createdAt": "2020-06-30T12:53:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4MjQ2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5NjczMw==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605#discussion_r429896733", "bodyText": "Same as above. What is the reason we have to override the behavior since this looks like the parent class behavior with less checks.", "author": "SaMuellerDLR", "createdAt": "2020-05-25T11:58:53Z", "path": "de.dlr.sc.virsat.model.extension.requirements.ui/src/de/dlr/sc/virsat/model/extension/requirements/ui/celleditor/RequirementTraceEditingSupport.java", "diffHunk": "@@ -0,0 +1,125 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.requirements.ui.celleditor;\r\n+\r\n+import org.eclipse.emf.common.command.Command;\r\n+import org.eclipse.emf.common.command.UnexecutableCommand;\r\n+import org.eclipse.emf.edit.command.SetCommand;\r\n+import org.eclipse.emf.edit.domain.EditingDomain;\r\n+import org.eclipse.jface.dialogs.Dialog;\r\n+import org.eclipse.jface.viewers.CellEditor;\r\n+import org.eclipse.jface.viewers.ColumnViewer;\r\n+import org.eclipse.jface.viewers.DialogCellEditor;\r\n+import org.eclipse.swt.SWT;\r\n+import org.eclipse.swt.widgets.Button;\r\n+import org.eclipse.swt.widgets.Composite;\r\n+import org.eclipse.swt.widgets.Control;\r\n+import org.eclipse.ui.PlatformUI;\r\n+import org.eclipse.ui.forms.widgets.FormToolkit;\r\n+\r\n+import de.dlr.sc.virsat.model.dvlm.categories.ATypeInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.CategoryAssignment;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertydefinitions.AProperty;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.APropertyInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.ComposedPropertyInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.categories.propertyinstances.PropertyinstancesPackage;\r\n+import de.dlr.sc.virsat.model.extension.requirements.model.Requirement;\r\n+import de.dlr.sc.virsat.model.extension.requirements.ui.snippet.dialog.RequirementsTraceEditingDialog;\r\n+import de.dlr.sc.virsat.project.editingDomain.VirSatEditingDomainRegistry;\r\n+import de.dlr.sc.virsat.uiengine.ui.cellEditor.aproperties.APropertyCellEditingSupport;\r\n+\r\n+/**\r\n+ *\r\n+ */\r\n+public class RequirementTraceEditingSupport extends APropertyCellEditingSupport {\r\n+\r\n+\tprotected FormToolkit toolkit;\r\n+\t\r\n+\t/**\r\n+\t * constructor of the value property cell editing support instantiate the editor\r\n+\t * @param editingDomain the editing domain\r\n+\t * @param viewer the table viewer\r\n+\t * @param property an aproperty\r\n+\t */\r\n+\tpublic RequirementTraceEditingSupport(EditingDomain editingDomain, ColumnViewer viewer, AProperty property, FormToolkit toolkit) {\r\n+\t\tsuper(editingDomain, viewer, property);\r\n+\t\tthis.toolkit = toolkit;\r\n+\t}\r\n+\r\n+\t@Override\r\n+\tprotected CellEditor getCellEditor(Object element) {\r\n+\t\t\r\n+\t\tif (element instanceof ComposedPropertyInstance) {\r\n+\t\t\tRequirement req = new Requirement(((ComposedPropertyInstance) element).getTypeInstance());\r\n+\t\t\tfinal CategoryAssignment referencedTypeInstance = req.getTrace().getTypeInstance();\r\n+\t\t\teditor = new DialogCellEditor((Composite) viewer.getControl()) {\r\n+\t\t\t\t\r\n+\t\t\t\t@Override\r\n+\t\t\t\tprotected Object openDialogBox(Control cellEditorWindow) {\r\n+\t\t\t\t\tEditingDomain editingDomain = VirSatEditingDomainRegistry.INSTANCE.getEd(referencedTypeInstance);\r\n+\t\t\t\t\tif (referencedTypeInstance != null) {\r\n+\t\t\t\t\t\tDialog dialog = new RequirementsTraceEditingDialog(\r\n+\t\t\t\t\t\t\t\tPlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell(), toolkit, editingDomain,\r\n+\t\t\t\t\t\t\t\treferencedTypeInstance);\r\n+\t\t\t\t\t\tif (dialog.open() == Dialog.OK) {\r\n+\t\t\t\t\t\t\treturn referencedTypeInstance;\r\n+\t\t\t\t\t\t} \r\n+\t\t\t\t\t}\r\n+\t\t\t\t\treturn null;\r\n+\t\t\t\t}\r\n+\t\t\t\t\r\n+\t\t\t\t@Override\r\n+\t\t\t\tprotected Button createButton(final Composite parent) {\r\n+\t\t\t\t\t// This override is needed to the following eclipse bug\r\n+\t\t\t\t\t// https://bugs.eclipse.org/bugs/show_bug.cgi?id=193081\r\n+\t\t\t\t\tButton button = super.createButton(parent);\r\n+\r\n+\t\t\t\t\t// This listener hands back traversal control to the cell rather the button. \r\n+\t\t\t\t\t// This is important if TableEditor functionality is used. if the button handles the traverse \r\n+\t\t\t\t\t// signal, it will try to select the next button but not the next cell.\r\n+\t\t\t\t\tbutton.addListener(SWT.Traverse, (event) -> parent.notifyListeners(SWT.Traverse, event));\r\n+\t\t\t\t\treturn button;\r\n+\t\t\t\t}\r\n+\t\t\t};\r\n+\t\t}\r\n+\t\t\r\n+\t\treturn editor;\r\n+\t}\r\n+\t\r\n+\t@Override\r\n+\tprotected Object getValue(Object element) {\r\n+\t\tAPropertyInstance propertyInstance = getPropertyInstance(element);\r\n+\t\tATypeInstance value = ((ComposedPropertyInstance) propertyInstance).getTypeInstance();\r\n+\t\treturn value;\r\n+\t}\r\n+\t\r\n+\t@Override\r\n+\tprotected boolean canEdit(Object element) {\r\n+\t\treturn true;\r\n+\t}\r\n+\t\r\n+\t@Override\r\n+\tprotected Command createSetCommand(Object element, Object userInputValue) {\r\n+\t\tAPropertyInstance propertyInstance = getPropertyInstance(element);\r\n+\t\tif (propertyInstance != null) {\r\n+\t\t\tCommand cmd = SetCommand.create(editingDomain, propertyInstance, PropertyinstancesPackage.Literals.REFERENCE_PROPERTY_INSTANCE__REFERENCE, userInputValue); \r\n+\t\t\treturn cmd;\r\n+\t\t}\r\n+\t\treturn UnexecutableCommand.INSTANCE;\r\n+\t}\r\n+\t\r\n+\t@Override\r\n+\tprotected void setValue(Object element, Object userInputValue) {\r\n+\t\tCommand cmd = createSetCommand(element, userInputValue);  \r", "originalCommit": "53845a280dd2c781f370b20028105596096a135c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY1ODc5NQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605#discussion_r447658795", "bodyText": "I changed the method to only update the viewer... The getSetCommand was actually never doing anything... I also added a comment to this method why we need to overwrite it", "author": "franzTobiasDLR", "createdAt": "2020-06-30T12:54:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5NjczMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkwMjAyMA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605#discussion_r429902020", "bodyText": "I only recently learned this one:\nIf you use a List instead of StringBuilder you can do \"{\" + String.join(\" ,\", myList) + \"}\" you can get java to do the delimiting for you without needing these nasty if logic blocks.", "author": "SaMuellerDLR", "createdAt": "2020-05-25T12:11:50Z", "path": "de.dlr.sc.virsat.model.extension.requirements.ui/src/de/dlr/sc/virsat/model/extension/requirements/ui/provider/RequirementsAttributeLabelProvider.java", "diffHunk": "@@ -163,27 +174,60 @@ public Image getColumnImage(Object object, int columnIndex) {\n \r\n \t\treturn super.getColumnImage(object, columnIndex);\r\n \t}\r\n-\t\r\n+\r\n \t/**\r\n-\t * Clean up requirements if their type or a type of an attribute does not exist anymore\r\n+\t * Clean up requirements if their type or a type of an attribute does not exist\r\n+\t * anymore\r\n+\t * \r\n \t * @param att the attribute value\r\n \t */\r\n \tprotected void cleanUpAttribue(AttributeValue att) {\r\n \t\tRequirement containingRequirement = att.getCaBeanFromParentSei(Requirement.class);\r\n \t\tVirSatTransactionalEditingDomain editingDomain = VirSatEditingDomainRegistry.INSTANCE\r\n \t\t\t\t.getEd(att.getTypeInstance());\r\n-\t\t\r\n+\r\n \t\tif (containingRequirement != null && containingRequirement.getReqType() == null) {\r\n-\t\t\t//requirement does not have a type anymore... completely delete it\r\n-\t\t\t\r\n+\t\t\t// requirement does not have a type anymore... completely delete it\r\n+\r\n \t\t\teditingDomain.getVirSatCommandStack().execute(containingRequirement.delete(editingDomain));\r\n-\t\t\t\r\n+\r\n \t\t} else if (att.getAttType() == null) {\r\n-\t\t\t//Only the attribute does not have a type anymore... clean the attribute value\r\n-\t\t\t\r\n+\t\t\t// Only the attribute does not have a type anymore... clean the attribute value\r\n+\r\n \t\t\teditingDomain.getVirSatCommandStack().execute(att.delete(editingDomain));\r\n \t\t}\r\n-\t\t\r\n+\t}\r\n+\t\r\n+\t/**\r\n+\t * Create a label for requirements traces customized to this table \r\n+\t * \r\n+\t * @param req the requirement for which a trace label is created\r\n+\t * @return the trace label\r\n+\t */\r\n+\tprotected String getTraceLabel(Requirement req) {\r\n+\t\tif (req.getTrace().getTarget() == null || req.getTrace().getTarget().isEmpty()) {\r\n+\t\t\treturn EMPTY_TRACE_STRING;\r\n+\t\t} else {\r\n+\t\t\tStringBuilder traceString = new StringBuilder();\r\n+\t\t\ttraceString.append(\"{\");\r\n+\r\n+\t\t\t// Some heavy casting necessary because Bean GenericCategory is abstract\r\n+\t\t\tAPropertyInstance targetProperty = req.getTrace().getTypeInstance().getPropertyInstances()\r\n+\t\t\t\t\t.get(REQUIREMENT_TRACE_TARGET_PROPERTY_NUMBER);\r\n+\t\t\tfor (APropertyInstance targetRPI : ((ArrayInstance) targetProperty).getArrayInstances()) {\r\n+\t\t\t\tCategoryAssignment target = (CategoryAssignment) ((ReferencePropertyInstance) targetRPI)\r\n+\t\t\t\t\t\t.getReference();\r\n+\t\t\t\tif (target != null) {\r\n+\t\t\t\t\ttraceString.append(target.getName());\r\n+\t\t\t\t\tif (((ArrayInstance) targetProperty).getArrayInstances()\r", "originalCommit": "53845a280dd2c781f370b20028105596096a135c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY1NzQyOQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/605#discussion_r447657429", "bodyText": "Ah, that's cool! Didn't know that...", "author": "franzTobiasDLR", "createdAt": "2020-06-30T12:52:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkwMjAyMA=="}], "type": "inlineReview"}, {"oid": "37df50579cd51844ef15e482fc9bbe2e67ad02cd", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/37df50579cd51844ef15e482fc9bbe2e67ad02cd", "message": "Add comments why methods need to be overwritten - (Task #306)", "committedDate": "2020-06-30T12:41:36Z", "type": "commit"}, {"oid": "44a3e9e58fe8699fd7122c14793fbd772e136d80", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/44a3e9e58fe8699fd7122c14793fbd772e136d80", "message": "Imporve string handling in label provider - (Task #306)", "committedDate": "2020-06-30T12:51:22Z", "type": "commit"}, {"oid": "c1a20384300553888f61990fc2c9c786f6f48fd3", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c1a20384300553888f61990fc2c9c786f6f48fd3", "message": "Merge remote-tracking branch 'origin/development' into feature/task_306-Requirements_tracing_UI", "committedDate": "2020-07-01T13:58:23Z", "type": "commit"}, {"oid": "f696bb28b5ac5dccec45018f564f224d7f7a3fb9", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/f696bb28b5ac5dccec45018f564f224d7f7a3fb9", "message": "Merge remote-tracking branch 'origin/development' into feature/task_306-Requirements_tracing_UI", "committedDate": "2020-07-02T14:48:13Z", "type": "commit"}, {"oid": "8f6dcb5855872c532d03523d3fa7b3863e8388a1", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8f6dcb5855872c532d03523d3fa7b3863e8388a1", "message": "Merge branch 'development' into feature/task_306-Requirements_tracing_UI", "committedDate": "2020-07-02T20:36:23Z", "type": "commit"}]}