{"pr_number": 538, "pr_title": "Feature/task 519 refactor version cont", "pr_createdAt": "2020-03-25T17:05:54Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/538", "timeline": [{"oid": "5e2b9d804e105dd8adc7061079abb1d44bad4b26", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/5e2b9d804e105dd8adc7061079abb1d44bad4b26", "message": "Add version control UI Commands and Git Command Handler- (Task #519)\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T09:47:25Z", "type": "commit"}, {"oid": "29ad4ebfc3861cc527f99d6ed75340994f19b3da", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/29ad4ebfc3861cc527f99d6ed75340994f19b3da", "message": "Added initial git Backend implementation - (Task #519)\n\n- Added Interface for Repository Access without UI\n- Started implementing Git Backend based on jGit and eGit\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T09:47:26Z", "type": "commit"}, {"oid": "d509d55c604bdce2edd3fa858cbd7512ab3179ac", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d509d55c604bdce2edd3fa858cbd7512ab3179ac", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of https://github.com/virtualsatellite/VirtualSatellite4-Core.git into feature/task_519-Refactor_version_cont", "committedDate": "2020-03-05T09:47:55Z", "type": "commit"}, {"oid": "1456be64f3f15d8bf1a996bff96d2f4e525ee6a5", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/1456be64f3f15d8bf1a996bff96d2f4e525ee6a5", "message": "Implemented test handler - (Task #519)\n\n- Now calling new functionality to commit and push.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T10:30:09Z", "type": "commit"}, {"oid": "55815d8e9921f5236109f5c4bb9c8c671092705c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/55815d8e9921f5236109f5c4bb9c8c671092705c", "message": "Added access to credentials store for git backend - (Task #519)\n\n- Added generic credentials in non ui code.\n- Adjusted handler to take and use and instance of the EGit\nCredentialsProvider\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T11:38:21Z", "type": "commit"}, {"oid": "ae84ec5316aa39f1b2d21420da42adc8cfa77c69", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/ae84ec5316aa39f1b2d21420da42adc8cfa77c69", "message": "Add CommitMessageDialog to GitCommitHandler - (Task #519)\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T11:49:16Z", "type": "commit"}, {"oid": "460ee02ec05ba937d11e6a223a260e83e21603f6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/460ee02ec05ba937d11e6a223a260e83e21603f6", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of\nhttps://github.com/virtualsatellite/VirtualSatellite4-Core.git into\nfeature/task_519-Refactor_version_cont\n\nConflicts:\n\tde.dlr.sc.virsat.team.ui/src/de/dlr/sc/virsat/team/ui/action/git/GitCommitHandler.java", "committedDate": "2020-03-05T11:55:41Z", "type": "commit"}, {"oid": "1855f918180093be2b21d6739361160226760388", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/1855f918180093be2b21d6739361160226760388", "message": "Add GitUpdateHandler implementation - (Task #519)\n\nAlso fix bug of selected project root in GitCommitHandler.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T12:48:21Z", "type": "commit"}, {"oid": "04136dafb43baed98952479b3f5befdf6d991f1c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/04136dafb43baed98952479b3f5befdf6d991f1c", "message": "First test case implemented - (Task #519)\n\n- Implemented test case with two local and one remote repo\n- Implemented commit from a Sei from Local1 via remote to Local2\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T16:14:19Z", "type": "commit"}, {"oid": "ae95a9eef3c002a9b190e601e97ba2b8c9a801e4", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/ae95a9eef3c002a9b190e601e97ba2b8c9a801e4", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of https://github.com/virtualsatellite/VirtualSatellite4-Core.git into feature/task_519-Refactor_version_cont", "committedDate": "2020-03-05T16:14:32Z", "type": "commit"}, {"oid": "0ef1cf8605964b3c57cbc7604f5fac23817ad3d6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0ef1cf8605964b3c57cbc7604f5fac23817ad3d6", "message": "Implemented Git Checkout - (Task #519)\n\n- Implemented Checkout Method\n- Added test case to it\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-05T17:52:18Z", "type": "commit"}, {"oid": "2b152720e3e395549906e14f88a03252c085b7b3", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/2b152720e3e395549906e14f88a03252c085b7b3", "message": "Improving TestCase - (Task #519)\n\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-06T13:11:24Z", "type": "commit"}, {"oid": "6d61d503eb1cc2f029107ad8fc1ccb17edbce77e", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/6d61d503eb1cc2f029107ad8fc1ccb17edbce77e", "message": "Implemented Checkin for Git - (Task #519)\n\n- Implemented Checkin of new Git project\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-06T14:55:53Z", "type": "commit"}, {"oid": "b66e8bdccdc03220346dcafe6c4cb54a8f86a426", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/b66e8bdccdc03220346dcafe6c4cb54a8f86a426", "message": "Add AVirSatVersionControlBackendTest - (Task #519)\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-23T11:49:16Z", "type": "commit"}, {"oid": "61db20af7465570c953f9edc30c6cc0c97c2cf29", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/61db20af7465570c953f9edc30c6cc0c97c2cf29", "message": "Created SVN test class - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-23T13:29:46Z", "type": "commit"}, {"oid": "9f7f576776df7ee1893dd807685bc1f119e1f3a0", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9f7f576776df7ee1893dd807685bc1f119e1f3a0", "message": "Setting up SVN repo for test - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-23T14:36:22Z", "type": "commit"}, {"oid": "64f095a5c49d55faaf34197ed1b341a122ec3412", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/64f095a5c49d55faaf34197ed1b341a122ec3412", "message": "Trying to improve git mapping detection - (Task #519)\n\n- trying to actively sync and check for a non null project mapping in\ntest case.\n- Additionally make sure, that before git checkin, no mapped project\nexists before checkin.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-23T15:42:10Z", "type": "commit"}, {"oid": "866eef243e4725c5b56d786b45497cd69f09e43c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/866eef243e4725c5b56d786b45497cd69f09e43c", "message": "Trying to fix repo to git provider mapping - (Task #519)\n\n- test cases fail since mapping is not correctly identified.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-23T16:29:07Z", "type": "commit"}, {"oid": "73781b403c2eadc41853d94775df1ddc46525ca1", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/73781b403c2eadc41853d94775df1ddc46525ca1", "message": "Fixed dependency issue with executing all tests - (Task #519)\n\n- Changed code for git backend tests to try to ramp up the egit plugins\nas early as possible.\n- Fixed some formatting in the abstract backend test class\n- Enabled interactive osgi console in test launcher config\n- Updated feature dependencies for not just svn but also egit and jgit\nfeatures\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T08:33:21Z", "type": "commit"}, {"oid": "e222543c84d00f44abf538ad9c41cc8762ae1648", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/e222543c84d00f44abf538ad9c41cc8762ae1648", "message": "Managed to get test setup going - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T08:59:18Z", "type": "commit"}, {"oid": "da4f15309fa8f192ab46041caabbd6519a3e6ba2", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/da4f15309fa8f192ab46041caabbd6519a3e6ba2", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of https://github.com/virtualsatellite/VirtualSatellite4-Core into feature/task_519-Refactor_version_cont", "committedDate": "2020-03-24T08:59:54Z", "type": "commit"}, {"oid": "09723a478fa07b23f770b6fdd2640a25ccf3eb63", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/09723a478fa07b23f770b6fdd2640a25ccf3eb63", "message": "Enhancing git wait for - (Task #519)\n\nAlso checking if the mapping exists.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T10:06:41Z", "type": "commit"}, {"oid": "9ee135524ca20d1d825b245adf32905b03d4597c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9ee135524ca20d1d825b245adf32905b03d4597c", "message": "Add mapping to git checkin - (Task #519)\n\n- Added some code for safe mapping of project to GitProvider\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T10:13:37Z", "type": "commit"}, {"oid": "2ff80944184a1c1e808603ebb4a3b04656704592", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/2ff80944184a1c1e808603ebb4a3b04656704592", "message": "Chasing mapping bug - (Task #519)\n\nPut your Message here.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T10:53:35Z", "type": "commit"}, {"oid": "173bed308bdf239f808d280405c46be5e41b5f7a", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/173bed308bdf239f808d280405c46be5e41b5f7a", "message": "First working version of SVN backend commit - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T11:54:51Z", "type": "commit"}, {"oid": "6d2dbc1784d2dc610be3a7af117cf7ed2bc8f652", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/6d2dbc1784d2dc610be3a7af117cf7ed2bc8f652", "message": "Use ConnectProviderOperation to fix mapping bug - (Task #519)\n\nCall egit ConnectProviderOperation, that connects Eclipse to the created\n(existing) Git repository.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T12:31:39Z", "type": "commit"}, {"oid": "e36cb671ff9d05fc488b65d3254c81f8b6f8f6e1", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/e36cb671ff9d05fc488b65d3254c81f8b6f8f6e1", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of https://github.com/virtualsatellite/VirtualSatellite4-Core.git into feature/task_519-Refactor_version_cont", "committedDate": "2020-03-24T12:32:05Z", "type": "commit"}, {"oid": "7e913a90214254e5bdd2a36452d3e07a6b7baddd", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/7e913a90214254e5bdd2a36452d3e07a6b7baddd", "message": "Fixing dependency for maven tycho - (Task #519)\n\n- Maven Tycho needs implicit package import in test fragment so that\nAProjectTestCase becomes available.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T13:01:49Z", "type": "commit"}, {"oid": "c9754f37fed0ce762ec91955975f402c4baea8f3", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c9754f37fed0ce762ec91955975f402c4baea8f3", "message": "Refactored name of connect operation - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T13:11:42Z", "type": "commit"}, {"oid": "8322be94774bf8a1db6a76e4d75e5b6cdcaee02e", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8322be94774bf8a1db6a76e4d75e5b6cdcaee02e", "message": "Fixed SVN commit filter for unversioned files - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T14:00:37Z", "type": "commit"}, {"oid": "26d4615dbf0a1abec523fde439530f5dccacb16e", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/26d4615dbf0a1abec523fde439530f5dccacb16e", "message": "Switched to simple SVN project layout - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-24T15:21:53Z", "type": "commit"}, {"oid": "5e5476354dcbda346fe6cda5d1ac33ffc2e193b6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/5e5476354dcbda346fe6cda5d1ac33ffc2e193b6", "message": "Added notification operations to SVN backend - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T08:20:05Z", "type": "commit"}, {"oid": "7c6ea758c9e2b2a4ff9ee1a125967b9185ac2039", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/7c6ea758c9e2b2a4ff9ee1a125967b9185ac2039", "message": "Added existance check for project - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T10:50:23Z", "type": "commit"}, {"oid": "e32bc6b775f23b42843a9abdfdb3bbeddfcc1bf2", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/e32bc6b775f23b42843a9abdfdb3bbeddfcc1bf2", "message": "Update test setup - (Task #519)\n\nSolves the problem of being unable to have the same project (at\ndifferent file system locations) in one workspace:\n- setUp now creates only one local project\n- createTestProject now creates a subfolder with the corresponding\nproject name\n- a new local project has to be created after the other one is deleted\nin the test cases\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T11:14:38Z", "type": "commit"}, {"oid": "4a1793e07096e70596de678d7d9fee485980efdd", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/4a1793e07096e70596de678d7d9fee485980efdd", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of https://github.com/virtualsatellite/VirtualSatellite4-Core.git into feature/task_519-Refactor_version_cont", "committedDate": "2020-03-25T11:14:52Z", "type": "commit"}, {"oid": "f8e90c719dab1478087a837e3a083a179aa009c4", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/f8e90c719dab1478087a837e3a083a179aa009c4", "message": "Fix git testCheckout() - (Task #519)\n\nNow works with the new test setup\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T11:55:37Z", "type": "commit"}, {"oid": "c19f0dcf2808790debfdd60dbbc900851da71d8c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c19f0dcf2808790debfdd60dbbc900851da71d8c", "message": "Fix git checkin - (Task #519)\n\n- Adjust checkin in backend to create the repository in the parent\nfolder of the project\n- Adjust testCheckin\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T14:16:56Z", "type": "commit"}, {"oid": "bdf83edb53720a285100b3400a3e109473fd718f", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/bdf83edb53720a285100b3400a3e109473fd718f", "message": "Cleaning up and commenting - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T16:55:38Z", "type": "commit"}, {"oid": "1f8c68a37811cdfb100ccfe7b505d5941e4dcdd0", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/1f8c68a37811cdfb100ccfe7b505d5941e4dcdd0", "message": "Merge remote-tracking branch 'origin/development' into\nfeature/task_519-Refactor_version_cont\n\nConflicts:\n\tde.dlr.sc.virsat.test/src/de/dlr/sc/virsat/test/ProjectAllTest.java", "committedDate": "2020-03-25T17:12:07Z", "type": "commit"}, {"oid": "d15f3f8db42b422bc4b8fce0319782f2381f4600", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d15f3f8db42b422bc4b8fce0319782f2381f4600", "message": "Some cleanup - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T17:41:12Z", "type": "commit"}, {"oid": "eaf853d3c901e54552ce798f2617670700832401", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/eaf853d3c901e54552ce798f2617670700832401", "message": "Removed old code - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-25T17:50:14Z", "type": "commit"}, {"oid": "351481efdbe51c4f4e21fd4f4d4132f3e1239472", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/351481efdbe51c4f4e21fd4f4d4132f3e1239472", "message": "Added logging and exception throwing for SVN - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T08:10:53Z", "type": "commit"}, {"oid": "c10a81cb94118cc61b2f3656538b75fbdab0092d", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c10a81cb94118cc61b2f3656538b75fbdab0092d", "message": "Improved svn monitoring - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T08:23:33Z", "type": "commit"}, {"oid": "89ec57a8691888cdd044608d598264d4df2831cf", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/89ec57a8691888cdd044608d598264d4df2831cf", "message": "Using simpler check logic in status check - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T08:26:24Z", "type": "commit"}, {"oid": "aff8efc0e88c2713415b6d8a595b9110305671b8", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/aff8efc0e88c2713415b6d8a595b9110305671b8", "message": "Fixed some commenting - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T08:26:59Z", "type": "commit"}, {"oid": "98fbfb11fe0973466ba87e76c9c6252973e6bf99", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/98fbfb11fe0973466ba87e76c9c6252973e6bf99", "message": "Added svn as package to travis - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T08:47:45Z", "type": "commit"}, {"oid": "819152f8ca2771a44d8dab15b542c01221d4bf4b", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/819152f8ca2771a44d8dab15b542c01221d4bf4b", "message": "Changed svn package to subversion package - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T09:03:33Z", "type": "commit"}, {"oid": "bb927e19f24125237069b3871663a6296ef918df", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/bb927e19f24125237069b3871663a6296ef918df", "message": "Fixed incorrect throws declaration - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T09:11:09Z", "type": "commit"}, {"oid": "78d848217bf57c7ea9959519bbc027819746e658", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/78d848217bf57c7ea9959519bbc027819746e658", "message": "Improved error logging - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T09:18:52Z", "type": "commit"}, {"oid": "cc81f4d8349cba20ec0a7ddd96e78e7cd4b0f467", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/cc81f4d8349cba20ec0a7ddd96e78e7cd4b0f467", "message": "Further test logging improvements - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T09:22:34Z", "type": "commit"}, {"oid": "8f46b41f965f547651928c1d6d5362294517b96a", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8f46b41f965f547651928c1d6d5362294517b96a", "message": "Removed svn installation from travis - (Task #519)\n\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T09:56:10Z", "type": "commit"}, {"oid": "db231eba7860025c875ca8c8d8c0e9d0bc75da8a", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/db231eba7860025c875ca8c8d8c0e9d0bc75da8a", "message": "Add comments and remove old ui handlers - (Task #519)\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T09:56:47Z", "type": "commit"}, {"oid": "69298bdc6f277683d8fad1493e251d5113a98ea9", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/69298bdc6f277683d8fad1493e251d5113a98ea9", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of https://github.com/virtualsatellite/VirtualSatellite4-Core.git into feature/task_519-Refactor_version_cont", "committedDate": "2020-03-26T09:56:59Z", "type": "commit"}, {"oid": "e9bf5b0c9dc1fafdd15b95218961ef6112dee765", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/e9bf5b0c9dc1fafdd15b95218961ef6112dee765", "message": "Removed SVN Backend implementation - (Task #519)\n\nWill be moved to another PR.\n\n---\nTask #519: Refactor version control integration", "committedDate": "2020-03-26T10:01:48Z", "type": "commit"}, {"oid": "8871bc0c987a457ca7282acc77e46298e35d1336", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8871bc0c987a457ca7282acc77e46298e35d1336", "message": "Merge branch 'feature/task_519-Refactor_version_cont' of https://github.com/virtualsatellite/VirtualSatellite4-Core into feature/task_519-Refactor_version_cont", "committedDate": "2020-03-26T10:02:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQ4ODE3Ng==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/538#discussion_r398488176", "bodyText": "Let's maybe move getting projects from selection into VirSatSelectionHelper to reduce duplication?", "author": "andriikovalov-dlr", "createdAt": "2020-03-26T11:07:08Z", "path": "de.dlr.sc.virsat.team.ui/src/de/dlr/sc/virsat/team/ui/action/git/GitUpdateHandler.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.team.ui.action.git;\r\n+\r\n+import java.util.ArrayList;\r\n+import java.util.HashSet;\r\n+import java.util.List;\r\n+import java.util.Set;\r\n+\r\n+import org.eclipse.core.commands.AbstractHandler;\r\n+import org.eclipse.core.commands.ExecutionEvent;\r\n+import org.eclipse.core.commands.ExecutionException;\r\n+import org.eclipse.core.resources.IProject;\r\n+import org.eclipse.core.runtime.IProgressMonitor;\r\n+import org.eclipse.core.runtime.IStatus;\r\n+import org.eclipse.core.runtime.MultiStatus;\r\n+import org.eclipse.core.runtime.Status;\r\n+import org.eclipse.core.runtime.SubMonitor;\r\n+import org.eclipse.core.runtime.jobs.Job;\r\n+import org.eclipse.egit.ui.internal.credentials.EGitCredentialsProvider;\r\n+import org.eclipse.emf.ecore.EObject;\r\n+import org.eclipse.jface.dialogs.ErrorDialog;\r\n+import org.eclipse.jface.viewers.IStructuredSelection;\r\n+import org.eclipse.swt.widgets.Display;\r\n+import org.eclipse.ui.handlers.HandlerUtil;\r\n+\r\n+import de.dlr.sc.virsat.project.editingDomain.VirSatEditingDomainRegistry;\r\n+import de.dlr.sc.virsat.project.editingDomain.VirSatTransactionalEditingDomain;\r\n+import de.dlr.sc.virsat.project.resources.VirSatProjectResource;\r\n+import de.dlr.sc.virsat.team.IVirSatVersionControlBackend;\r\n+import de.dlr.sc.virsat.team.git.VirSatGitVersionControlBackend;\r\n+import de.dlr.sc.virsat.team.ui.Activator;\r\n+\r\n+\r\n+@SuppressWarnings(\"restriction\")\r\n+public class GitUpdateHandler extends AbstractHandler {\r\n+\r\n+\t@Override\r\n+\tpublic Object execute(ExecutionEvent event) throws ExecutionException {\r\n+\t\t\r\n+\t\tIStructuredSelection selection = HandlerUtil.getCurrentStructuredSelection(event);\r\n+\r\n+\t\tSet<IProject> selectedProjects = new HashSet<>();\r\n+\t\tList<IStatus> status = new ArrayList<>();\r\n+\t\t\r\n+\t\t// Get all projects associated with selected resources\r\n+\t\tfor (Object object : selection.toList()) {\r", "originalCommit": "8871bc0c987a457ca7282acc77e46298e35d1336", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQ5NTMzOQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/538#discussion_r398495339", "bodyText": "Shall we maybe extract this job into an abstract class like VersionControlJob, where we can have all common code?", "author": "andriikovalov-dlr", "createdAt": "2020-03-26T11:20:06Z", "path": "de.dlr.sc.virsat.team.ui/src/de/dlr/sc/virsat/team/ui/action/git/GitUpdateHandler.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.team.ui.action.git;\r\n+\r\n+import java.util.ArrayList;\r\n+import java.util.HashSet;\r\n+import java.util.List;\r\n+import java.util.Set;\r\n+\r\n+import org.eclipse.core.commands.AbstractHandler;\r\n+import org.eclipse.core.commands.ExecutionEvent;\r\n+import org.eclipse.core.commands.ExecutionException;\r\n+import org.eclipse.core.resources.IProject;\r\n+import org.eclipse.core.runtime.IProgressMonitor;\r\n+import org.eclipse.core.runtime.IStatus;\r\n+import org.eclipse.core.runtime.MultiStatus;\r\n+import org.eclipse.core.runtime.Status;\r\n+import org.eclipse.core.runtime.SubMonitor;\r\n+import org.eclipse.core.runtime.jobs.Job;\r\n+import org.eclipse.egit.ui.internal.credentials.EGitCredentialsProvider;\r\n+import org.eclipse.emf.ecore.EObject;\r\n+import org.eclipse.jface.dialogs.ErrorDialog;\r\n+import org.eclipse.jface.viewers.IStructuredSelection;\r\n+import org.eclipse.swt.widgets.Display;\r\n+import org.eclipse.ui.handlers.HandlerUtil;\r\n+\r\n+import de.dlr.sc.virsat.project.editingDomain.VirSatEditingDomainRegistry;\r\n+import de.dlr.sc.virsat.project.editingDomain.VirSatTransactionalEditingDomain;\r\n+import de.dlr.sc.virsat.project.resources.VirSatProjectResource;\r\n+import de.dlr.sc.virsat.team.IVirSatVersionControlBackend;\r\n+import de.dlr.sc.virsat.team.git.VirSatGitVersionControlBackend;\r\n+import de.dlr.sc.virsat.team.ui.Activator;\r\n+\r\n+\r\n+@SuppressWarnings(\"restriction\")\r\n+public class GitUpdateHandler extends AbstractHandler {\r\n+\r\n+\t@Override\r\n+\tpublic Object execute(ExecutionEvent event) throws ExecutionException {\r\n+\t\t\r\n+\t\tIStructuredSelection selection = HandlerUtil.getCurrentStructuredSelection(event);\r\n+\r\n+\t\tSet<IProject> selectedProjects = new HashSet<>();\r\n+\t\tList<IStatus> status = new ArrayList<>();\r\n+\t\t\r\n+\t\t// Get all projects associated with selected resources\r\n+\t\tfor (Object object : selection.toList()) {\r\n+\t\t\tif (object instanceof EObject) {\r\n+\t\t\t\tVirSatTransactionalEditingDomain ed = VirSatEditingDomainRegistry.INSTANCE.getEd((EObject) object);\r\n+\t\t\t\ted.saveAll();\r\n+\t\t\t\tIProject project = ed.getResourceSet().getProject();\r\n+\t\t\t\tselectedProjects.add(project);\r\n+\t\t\t} else if (object instanceof VirSatProjectResource) {\r\n+\t\t\t\t// Project root object\r\n+\t\t\t\tIProject project = ((VirSatProjectResource) object).getWrappedProject();\r\n+\t\t\t\tVirSatTransactionalEditingDomain ed = VirSatEditingDomainRegistry.INSTANCE.getEd(project);\r\n+\t\t\t\ted.saveAll();\r\n+\t\t\t\tselectedProjects.add(project);\r\n+\t\t\t}\r\n+\t\t}\r\n+\t\t\r\n+\t\tIVirSatVersionControlBackend gitBackend = new VirSatGitVersionControlBackend(new EGitCredentialsProvider());\r\n+\t\t\r\n+\t\tJob job = new Job(\"Virtual Satellite Git Update\") {\r\n+\t\t\t\r\n+\t\t\t@Override\r\n+\t\t\tprotected IStatus run(IProgressMonitor monitor) {\r", "originalCommit": "8871bc0c987a457ca7282acc77e46298e35d1336", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUwNjkxNQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/538#discussion_r398506915", "bodyText": "Let's move all fields to the top of the class", "author": "andriikovalov-dlr", "createdAt": "2020-03-26T11:41:25Z", "path": "de.dlr.sc.virsat.team.test/src/de/dlr/sc/virsat/team/test/AVirSatVersionControlBackendTest.java", "diffHunk": "@@ -0,0 +1,237 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2020 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.team.test;\r\n+\r\n+import static org.junit.Assert.assertNull;\r\n+import static org.junit.Assert.assertTrue;\r\n+\r\n+import java.io.File;\r\n+import java.io.IOException;\r\n+import java.net.URI;\r\n+import java.nio.file.Files;\r\n+import java.nio.file.Path;\r\n+import java.util.Comparator;\r\n+\r\n+import org.eclipse.core.internal.resources.Resource;\r\n+import org.eclipse.core.resources.IFile;\r\n+import org.eclipse.core.resources.IProject;\r\n+import org.eclipse.core.resources.IProjectDescription;\r\n+import org.eclipse.core.resources.ResourcesPlugin;\r\n+import org.eclipse.core.runtime.CoreException;\r\n+import org.eclipse.core.runtime.NullProgressMonitor;\r\n+import org.eclipse.core.runtime.Status;\r\n+import org.eclipse.egit.core.project.RepositoryMapping;\r\n+import org.junit.After;\r\n+import org.junit.Before;\r\n+import org.junit.Test;\r\n+\r\n+import de.dlr.sc.virsat.model.dvlm.structural.StructuralElementInstance;\r\n+import de.dlr.sc.virsat.model.dvlm.structural.StructuralFactory;\r\n+import de.dlr.sc.virsat.project.resources.VirSatResourceSet;\r\n+import de.dlr.sc.virsat.project.structure.VirSatProjectCommons;\r\n+import de.dlr.sc.virsat.project.test.AProjectTestCase;\r\n+import de.dlr.sc.virsat.team.Activator;\r\n+import de.dlr.sc.virsat.team.IVirSatVersionControlBackend;\r\n+\r\n+@SuppressWarnings(\"restriction\")\r\n+public abstract class AVirSatVersionControlBackendTest extends AProjectTestCase {\r\n+\r\n+\t/**\r\n+\t * This method is used to create a project \r\n+\t * in a sub folder of a repository at given file system location.\r\n+\t * The project creation waits until the Project is mapped as Repository.\r\n+\t * \r\n+\t * @param projectName    name of the project to be created\r\n+\t * @param fsRepoLocation Path of the repository in the file system\r\n+\t * @return an IProject which is mapped to the repository\r\n+\t * @throws CoreException\r\n+\t */\r\n+\tprotected IProject createTestProject(String projectName, Path fsRepoLocation, boolean waitForMapping) throws CoreException {\r\n+\t\tIProjectDescription projectDescription = ResourcesPlugin.getWorkspace().newProjectDescription(projectName);\r\n+\t\tprojectDescription.setLocationURI(fsRepoLocation.toUri());\r\n+\t\treturn createTestProject(projectName, projectDescription, waitForMapping);\r\n+\t}\r\n+\r\n+\t/**\r\n+\t * This method is used to create a project \r\n+\t * in a sub folder of a repository at the location\r\n+\t * specified by the given project descriptor.\r\n+\t * The project creation waits until the Project is mapped as Repository.\r\n+\t * \r\n+\t * @param projectName        name of the project to be created\r\n+\t * @param projectDescription descriptor pointing to the repository\r\n+\t * @return an IProject which is mapped to the repository\r\n+\t * @throws CoreException\r\n+\t */\r\n+\tprotected IProject createTestProject(String projectName, IProjectDescription projectDescription, boolean waitForMapping) throws CoreException {\r\n+\t\t// Create a new sub folder with the project name in the repository\r\n+\t\tURI uriProjectLocal = projectDescription.getLocationURI().resolve(projectDescription.getName());\r\n+\t\tprojectDescription.setLocationURI(uriProjectLocal);\r\n+\t\t\r\n+\t\t// If the project does not exists already, create it\r\n+\t\tIProject project = ResourcesPlugin.getWorkspace().getRoot().getProject(projectName);\r\n+\t\ttestProjects.add(project);\r\n+\t\tif (!project.exists()) {\r\n+\t\t\tproject.create(projectDescription, null);\r\n+\t\t\tproject.open(null);\r\n+\t\t\tActivator.getDefault().getLog().log(\r\n+\t\t\t\t\tnew Status(Status.INFO, Activator.getPluginId(), \"Created new test project \" + project.getName()));\r\n+\t\t}\r\n+\r\n+\t\t// Wait for the mapping to complete\r\n+\t\tif (waitForMapping) {\r\n+\t\t\twaitForProjectToRepoMapping(project);\r\n+\t\t}\r\n+\t\treturn project;\r\n+\t}\r\n+\t\r\n+\t/**\r\n+\t * Method to ensure the project is mapped to the repository.\r\n+\t * Can be overwritten by the derived classes for specific handling.\r\n+\t * @param project to be mapped\r\n+\t * @throws CoreException\r\n+\t */\r\n+\tprotected void waitForProjectToRepoMapping(IProject project) throws CoreException {\r\n+\t\tproject.refreshLocal(Resource.DEPTH_INFINITE, null);\r\n+\t}\r\n+\r\n+\tprotected Path pathRepoRemote;\r", "originalCommit": "8871bc0c987a457ca7282acc77e46298e35d1336", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}