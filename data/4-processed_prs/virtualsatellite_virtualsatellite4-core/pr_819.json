{"pr_number": 819, "pr_title": "Updated state machine concept - (Task #818)", "pr_createdAt": "2020-11-06T11:09:42Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/819", "timeline": [{"oid": "93eb66cff8e5be9af87d688a69fea3d66665a9da", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/93eb66cff8e5be9af87d688a69fea3d66665a9da", "message": "Updated state machine concept - (Task #818)\n\n- Added simple detail description field for states\n- Added simple trigger field for transitions\n\n---\nTask #818: Extend state machines concept with additional properties", "committedDate": "2020-11-06T11:07:58Z", "type": "commit"}, {"oid": "78fbdaf2cf6dcf3e3e2465171a9d4a539c9f31a7", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/78fbdaf2cf6dcf3e3e2465171a9d4a539c9f31a7", "message": "Updated code generator - (Task #818)\n\n\n---\nTask #818: Extend state machines concept with additional properties", "committedDate": "2020-11-06T11:24:58Z", "type": "commit"}, {"oid": "ee0c439a466ccb09300863e561546ba1a08860d5", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/ee0c439a466ccb09300863e561546ba1a08860d5", "message": "Reverted generated class changes - (Task #818)\n\n\n---\nTask #818: Extend state machines concept with additional properties", "committedDate": "2020-11-06T11:32:02Z", "type": "commit"}, {"oid": "50e91e46004392ece13b9d084d1b7f79c86d7862", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/50e91e46004392ece13b9d084d1b7f79c86d7862", "message": "Removed untested code - (Task #818)\n\n\n---\nTask #818: Extend state machines concept with additional properties", "committedDate": "2020-11-06T12:45:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDQxMzcwMA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/819#discussion_r520413700", "bodyText": "Should a trigger be of type generic? I think we are sacrifying some semantics for the sake of simplicity. I think we should at least provide a simple Category such as a generic Event or Trigger that can be referenced and used in other Concepts.", "author": "PhilMFischer", "createdAt": "2020-11-10T09:29:08Z", "path": "de.dlr.sc.virsat.model.extension.statemachines/concept/concept.concept", "diffHunk": "@@ -7,15 +7,17 @@\n  *\r\n  * SPDX-License-Identifier: EPL-2.0\r\n  *******************************************************************************/\r\n-Concept de.dlr.sc.virsat.model.extension.statemachines displayname \"State Machines\" description \"Concept for modeling State Machines\"  version 1.2 beta {\r\n+Concept de.dlr.sc.virsat.model.extension.statemachines displayname \"State Machines\" description \"Concept for modeling State Machines\"  version 1.3 beta {\r\n \tImport de.dlr.sc.virsat.model.extension.ps.*; \r\n \t\r\n \tCategory State description \"State of the component at a given time\"{\r\n+\t\tStringProperty detail description \"Optional additional detail information about the state\";\r\n \t}\t\r\n \t\r\n \tCategory Transition description \"Transitions among states\" { \r\n \t\tReference stateFrom of Type State description \"The Transition starts in this state\";\r\n \t\tReference stateTo of Type State description \"The Transition ends in this state\";\r\n+\t\tReference trigger of Type GenericCategory description \"The event that triggers the Transition\";\r", "originalCommit": "50e91e46004392ece13b9d084d1b7f79c86d7862", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f4b97d7709abfa92ad6772eccd36f160a193711b", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/f4b97d7709abfa92ad6772eccd36f160a193711b", "message": "Update concept to have a trigger event - (Task #818)", "committedDate": "2020-11-10T11:43:11Z", "type": "commit"}, {"oid": "c56557f7e9bd9a483aeb4848566ec179ece4c98c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c56557f7e9bd9a483aeb4848566ec179ece4c98c", "message": "Add transition label provider - (Task #818)", "committedDate": "2020-11-10T11:44:08Z", "type": "commit"}, {"oid": "babe062443c18709353a22cc4f527bc116f250b6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/babe062443c18709353a22cc4f527bc116f250b6", "message": "Load label provider from registry - (Task #818)", "committedDate": "2020-11-10T12:30:02Z", "type": "commit"}, {"oid": "6ef81535edeeafef099c87191d6ff383342c6b2f", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/6ef81535edeeafef099c87191d6ff383342c6b2f", "message": "Add icons for new event - (Task #818)", "committedDate": "2020-11-10T12:40:02Z", "type": "commit"}, {"oid": "d7849c2721c8de27c9886663e8eddddbd962b47f", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d7849c2721c8de27c9886663e8eddddbd962b47f", "message": "Merge branch 'feature/task_818-Extend_state_machines' of https://github.com/virtualsatellite/VirtualSatellite4-Core.git into feature/task_818-Extend_state_machines", "committedDate": "2020-11-10T12:43:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU0MjUwNw==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/819#discussion_r520542507", "bodyText": "Probably critical, since we cannot assume which label provider will be loaded. Not sure if there is an order in the extension registry or if it depends on the order of loaded plugins. I suggest that the Labelprovider should somehow concatenate the outputs of the various different provider.\nOr, the whole functionality is intended to override the existing one. Then we could argue having a kind of score in the extension point or maybe an activation policy, to be clear on which label provider should be active.", "author": "PhilMFischer", "createdAt": "2020-11-10T12:59:17Z", "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/transitions/LabelProviderInstantiator.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.transitions;\r\n+\r\n+import org.eclipse.core.runtime.CoreException;\r\n+import org.eclipse.core.runtime.IConfigurationElement;\r\n+import org.eclipse.core.runtime.IExtensionRegistry;\r\n+import org.eclipse.core.runtime.Platform;\r\n+\r\n+import de.dlr.sc.virsat.model.extension.statemachines.ui.Activator;\r\n+\r\n+/**\r\n+ * Returns the relevant label provider for transitions\r\n+ *\r\n+ */\r\n+public class LabelProviderInstantiator {\r\n+\t\r\n+\tpublic static final String EXTENSION_POINT_ID_TRANSITION_LABEL_PROVIDER = \"de.dlr.sc.virsat.model.extension.statemachines.transition.LabelProvider\";\r\n+\t\r\n+\t/**\r\n+\t * Get most relevant label provider from the registry or use the default one\r\n+\t * @return the label provider\r\n+\t */\r\n+\tpublic ITransitionLabelProvider getLabelProvider() {\r\n+\t\tIExtensionRegistry registry = Platform.getExtensionRegistry();\r\n+\t\tIConfigurationElement[] configElements = registry.getConfigurationElementsFor(EXTENSION_POINT_ID_TRANSITION_LABEL_PROVIDER);\r\n+\t\tif (configElements.length > 0) {\r\n+\t\t\t// Get the last registered configuration element\r\n+\t\t\tIConfigurationElement extension = configElements[configElements.length - 1];\r", "originalCommit": "d7849c2721c8de27c9886663e8eddddbd962b47f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c75c3c54aab0a4b5c3d6ddafd7b4dd07262059ad", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c75c3c54aab0a4b5c3d6ddafd7b4dd07262059ad", "message": "Add level attribute to extension point to get order - (Task #818)", "committedDate": "2020-11-10T14:48:03Z", "type": "commit"}, {"oid": "5c52f1bd991ffe60c599db6391f97feff742fa09", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/5c52f1bd991ffe60c599db6391f97feff742fa09", "message": "IMplement double click behavior for transitions - (Task #818)", "committedDate": "2020-11-10T17:23:45Z", "type": "commit"}, {"oid": "d92481ef449054fe4786e803435be3dc3d6e5636", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d92481ef449054fe4786e803435be3dc3d6e5636", "message": "FIx sputbugs error - (Task #818)", "committedDate": "2020-11-10T18:24:32Z", "type": "commit"}]}