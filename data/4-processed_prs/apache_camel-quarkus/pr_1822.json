{"pr_number": 1822, "pr_title": "OptaPlanner native support fixes #1721", "pr_createdAt": "2020-09-23T08:31:14Z", "pr_url": "https://github.com/apache/camel-quarkus/pull/1822", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMyNTg2Nw==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493325867", "bodyText": "Is the versions hardcoded or dont the branch use camel.version for the SNAPSHOT also to track master ?", "author": "davsclaus", "createdAt": "2020-09-23T08:47:22Z", "path": "poms/bom/pom.xml", "diffHunk": "@@ -1446,7 +1446,13 @@\n             <dependency>\n                 <groupId>org.apache.camel</groupId>\n                 <artifactId>camel-optaplanner</artifactId>\n-                <version>${camel.version}</version>\n+                <version>3.6.0-SNAPSHOT</version>", "originalCommit": "309081cada72ccbb1142df0695c039d3463385ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzNDU2NA==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493334564", "bodyText": "@davsclaus it's a mistake. I'll correct that!!", "author": "zbendhiba", "createdAt": "2020-09-23T08:55:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMyNTg2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMyOTA0Nw==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493329047", "bodyText": "Is this needed? If there is some version misalignment, then we need to handle it without disabling plugin executions.", "author": "jamesnetherton", "createdAt": "2020-09-23T08:50:35Z", "path": "integration-tests/optaplanner/pom.xml", "diffHunk": "@@ -95,6 +132,42 @@\n                     </execution>\n                 </executions>\n             </plugin>\n+            <plugin>\n+                <artifactId>maven-enforcer-plugin</artifactId>\n+                <configuration>\n+                    <skip>true</skip>", "originalCommit": "309081cada72ccbb1142df0695c039d3463385ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzM0MTYyMw==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493341623", "bodyText": "I created this JIRA : https://issues.redhat.com/browse/PLANNER-2149", "author": "zbendhiba", "createdAt": "2020-09-23T09:03:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMyOTA0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzM0MjQ4OQ==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493342489", "bodyText": "it would be fixed at some point, meanwhile I can't run it with enforcer", "author": "zbendhiba", "createdAt": "2020-09-23T09:04:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMyOTA0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzM2NjY3NA==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493366674", "bodyText": "I can deal with it by exclusion and setting the right mvel2 version, but we have to be careful for future versions of optaplanner. Or wait next optaplanner release to add this extension. I don't know what's the best solution?", "author": "zbendhiba", "createdAt": "2020-09-23T09:28:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMyOTA0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ0NjQwMw==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493446403", "bodyText": "I can deal with it by exclusion and setting the right mvel2 version\n\nThat's probably better. If we skip the enforcer plugin, then it potentially hides other issues that might appear that are unrelated to mvel.\nWe can create an issue to track removal of the exclusion etc when a fixed optaplanner is available. PLANNER-2173 seems to suggest the fix will be in 7.45.\nThere is no rush to merge this since Camel 3.6.0 is not GA. Maybe by the time that it is GA, 7.45 will be ready.", "author": "jamesnetherton", "createdAt": "2020-09-23T10:53:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMyOTA0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzMzNTAwMQ==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493335001", "bodyText": "quarksu -> quarkus (same for the other places where this is mentioned).", "author": "jamesnetherton", "createdAt": "2020-09-23T08:56:20Z", "path": "integration-tests/optaplanner/src/main/java/org/apache/camel/quarkus/component/optaplanner/it/domain/Room.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.quarkus.component.optaplanner.it.domain;\n+\n+import java.util.concurrent.atomic.AtomicLong;\n+\n+import javax.validation.constraints.NotBlank;\n+import javax.validation.constraints.NotNull;\n+\n+import org.optaplanner.core.api.domain.lookup.PlanningId;\n+\n+/**\n+ * adapted from optaplanner quarksu quickstart :", "originalCommit": "309081cada72ccbb1142df0695c039d3463385ff", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ0OTUxOQ==", "url": "https://github.com/apache/camel-quarkus/pull/1822#discussion_r493449519", "bodyText": "Shouldn't we use the latest 7.43.1.Final release?\n7.42.0.Final is aligned with Quarkus 1.5.2.Final, which is quite old now.\n7.43.1.Final at least aligns with Quarkus 1.7.x.", "author": "jamesnetherton", "createdAt": "2020-09-23T10:57:15Z", "path": "pom.xml", "diffHunk": "@@ -74,6 +74,7 @@\n         <nimbus-jose-jwt.version>4.41.1</nimbus-jose-jwt.version><!-- Mess in hdfs transitive deps -->\n         <okhttp.version>3.14.6</okhttp.version><!-- keep in sync with okio -->\n         <okio.version>1.17.2</okio.version><!-- keep in sync with okhttp -->\n+        <optaplanner.version>7.42.0.Final</optaplanner.version>", "originalCommit": "309081cada72ccbb1142df0695c039d3463385ff", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aae8afdf47d1185fac5b813fdc1b9c0b06c53b6f", "url": "https://github.com/apache/camel-quarkus/commit/aae8afdf47d1185fac5b813fdc1b9c0b06c53b6f", "message": "OptaPlanner native support fixes #1721", "committedDate": "2020-09-24T07:10:34Z", "type": "forcePushed"}, {"oid": "bf508d827dd1def78e6c19a697f1ca469cc22282", "url": "https://github.com/apache/camel-quarkus/commit/bf508d827dd1def78e6c19a697f1ca469cc22282", "message": "OptaPlanner native support fixes #1721", "committedDate": "2020-10-05T14:23:55Z", "type": "forcePushed"}, {"oid": "76c152063d3a92ce279b3b15c51257910b911616", "url": "https://github.com/apache/camel-quarkus/commit/76c152063d3a92ce279b3b15c51257910b911616", "message": "Fixup Optaplanner native support, simplify dependency management", "committedDate": "2020-10-20T14:34:15Z", "type": "forcePushed"}, {"oid": "b80eca8b8c69273c5ba4994729bcf6e7b2d0d961", "url": "https://github.com/apache/camel-quarkus/commit/b80eca8b8c69273c5ba4994729bcf6e7b2d0d961", "message": "update optaplanner version", "committedDate": "2020-11-24T10:13:50Z", "type": "forcePushed"}, {"oid": "fb659409605c83b1865d43cfb7d4274a8f8ee38c", "url": "https://github.com/apache/camel-quarkus/commit/fb659409605c83b1865d43cfb7d4274a8f8ee38c", "message": "OptaPlanner native support fixes #1721", "committedDate": "2020-11-27T08:25:05Z", "type": "commit"}, {"oid": "f71f03599df333e7bd7e385c95a6a16c23ca14af", "url": "https://github.com/apache/camel-quarkus/commit/f71f03599df333e7bd7e385c95a6a16c23ca14af", "message": "Fixup Optaplanner native support, simplify dependency management", "committedDate": "2020-11-27T08:25:05Z", "type": "commit"}, {"oid": "8999db24610fb79a60f76c28824b6a42d7f957a5", "url": "https://github.com/apache/camel-quarkus/commit/8999db24610fb79a60f76c28824b6a42d7f957a5", "message": "update optaplanner version", "committedDate": "2020-11-27T08:26:01Z", "type": "commit"}, {"oid": "8999db24610fb79a60f76c28824b6a42d7f957a5", "url": "https://github.com/apache/camel-quarkus/commit/8999db24610fb79a60f76c28824b6a42d7f957a5", "message": "update optaplanner version", "committedDate": "2020-11-27T08:26:01Z", "type": "forcePushed"}]}