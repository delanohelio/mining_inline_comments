{"pr_number": 1169, "pr_title": "Replace hard coded native test categories with dynamic lookup", "pr_createdAt": "2020-04-30T06:25:02Z", "pr_url": "https://github.com/apache/camel-quarkus/pull/1169", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3ODgyNA==", "url": "https://github.com/apache/camel-quarkus/pull/1169#discussion_r419578824", "bodyText": "I wonder if we could eliminate the sed -e 's/categories.//g' step by flattening the .github/test-categories.yaml file?", "author": "ppalaga", "createdAt": "2020-05-04T16:50:54Z", "path": ".github/workflows/camel-master-cron.yaml", "diffHunk": "@@ -74,6 +76,13 @@ jobs:\n         with:\n           name: maven-repo\n           path: maven-repo.tgz\n+      - name: Setup Native Test Matrix\n+        id: set-native-matrix\n+        run: |\n+          sudo wget -O /usr/local/bin/yq \"https://github.com/mikefarah/yq/releases/download/3.2.1/yq_linux_amd64\"\n+          sudo chmod +x /usr/local/bin/yq\n+          CATEGORIES=$(cat .github/test-categories.yaml | yq r - --printMode p \"categories.*\" | sed -e 's/categories.//g' -e \"s/\\(.*\\)/'\\1'/\" | sed ':a;N;$!ba;s/\\n/,/g')", "originalCommit": "db2a82d7956c291330ad8be14dbcf2a51b3ca808", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYwMzc2Mg==", "url": "https://github.com/apache/camel-quarkus/pull/1169#discussion_r419603762", "bodyText": "Yes, good point. I think I only kept the categories parent in case we ever wanted to define other stuff in there. But that's probably an unlikely scenario, so I can look at flattening it.", "author": "jamesnetherton", "createdAt": "2020-05-04T17:30:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3ODgyNA=="}], "type": "inlineReview"}, {"oid": "ecbd567b0e94a2a8bac2ff2322a390df404eaa66", "url": "https://github.com/apache/camel-quarkus/commit/ecbd567b0e94a2a8bac2ff2322a390df404eaa66", "message": "Replace hard coded native test categories with dynamic lookup", "committedDate": "2020-05-05T06:38:34Z", "type": "forcePushed"}, {"oid": "9d2114372e2d7c091ad7ff8e759dfae6cd53c594", "url": "https://github.com/apache/camel-quarkus/commit/9d2114372e2d7c091ad7ff8e759dfae6cd53c594", "message": "Replace hard coded native test categories with dynamic lookup", "committedDate": "2020-05-05T06:40:08Z", "type": "forcePushed"}, {"oid": "eff4d88831efd8124174327cdc8c5f0ec86fd529", "url": "https://github.com/apache/camel-quarkus/commit/eff4d88831efd8124174327cdc8c5f0ec86fd529", "message": "Replace hard coded native test categories with dynamic lookup", "committedDate": "2020-05-05T06:43:49Z", "type": "forcePushed"}, {"oid": "6c1bc811539d53b1f30c9b7d104627bdfe7fd733", "url": "https://github.com/apache/camel-quarkus/commit/6c1bc811539d53b1f30c9b7d104627bdfe7fd733", "message": "Replace hard coded native test categories with dynamic lookup", "committedDate": "2020-05-05T07:35:58Z", "type": "commit"}, {"oid": "6c1bc811539d53b1f30c9b7d104627bdfe7fd733", "url": "https://github.com/apache/camel-quarkus/commit/6c1bc811539d53b1f30c9b7d104627bdfe7fd733", "message": "Replace hard coded native test categories with dynamic lookup", "committedDate": "2020-05-05T07:35:58Z", "type": "forcePushed"}]}