{"pr_number": 970, "pr_title": "Update to add the camel-servicenow extension", "pr_createdAt": "2020-03-24T16:36:24Z", "pr_url": "https://github.com/apache/camel-quarkus/pull/970", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQxOTg5Nw==", "url": "https://github.com/apache/camel-quarkus/pull/970#discussion_r397419897", "bodyText": "I have concerns how stable the CXF client will be in the native mode. We could perhaps use preview instead of stable.", "author": "ppalaga", "createdAt": "2020-03-24T19:50:55Z", "path": "extensions/servicenow/runtime/src/main/resources/META-INF/quarkus-extension.yaml", "diffHunk": "@@ -0,0 +1,30 @@\n+#\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#      http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+#\n+\n+---\n+name: \"ServiceNow\"\n+description: \"The servicenow component is used to integrate Camel with ServiceNow cloud services.\"\n+metadata:\n+  keywords:\n+  - \"camel\"\n+  - \"api\"\n+  - \"cloud\"\n+  - \"management\"\n+  guide: \"https://quarkus.io/guides/camel\"\n+  categories:\n+  - \"integration\"\n+  status: \"stable\"", "originalCommit": "c6789b0ee3bede1c027e84c5d8584139156d17f1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU3NjUxOQ==", "url": "https://github.com/apache/camel-quarkus/pull/970#discussion_r397576519", "bodyText": "I agree.", "author": "zhfeng", "createdAt": "2020-03-25T02:36:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQxOTg5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQyMTk1OA==", "url": "https://github.com/apache/camel-quarkus/pull/970#discussion_r397421958", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @NativeImageTest\n          \n          \n            \n            @EnabledIfEnvironmentVariable(named = \"SERVICENOW_INSTANCE\", matches = \".+\")\n          \n          \n            \n            @EnabledIfEnvironmentVariable(named = \"SERVICENOW_USERNAME\", matches = \".+\")\n          \n          \n            \n            @EnabledIfEnvironmentVariable(named = \"SERVICENOW_PASSWORD\", matches = \".+\")\n          \n          \n            \n            @NativeImageTest", "author": "ppalaga", "createdAt": "2020-03-24T19:54:35Z", "path": "integration-tests/servicenow/src/test/java/org/apache/camel/quarkus/component/servicenow/it/ServicenowIT.java", "diffHunk": "@@ -0,0 +1,24 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.quarkus.component.servicenow.it;\n+\n+import io.quarkus.test.junit.NativeImageTest;\n+\n+@NativeImageTest", "originalCommit": "c6789b0ee3bede1c027e84c5d8584139156d17f1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQyNDc3MA==", "url": "https://github.com/apache/camel-quarkus/pull/970#discussion_r397424770", "bodyText": "If https this is required for the regular case to work, then we should do the setting programmatically from the Processor by producing a ExtensionSslNativeSupportBuildItem, like we do e.g. here https://github.com/apache/camel-quarkus/blob/master/extensions/activemq/deployment/src/main/java/org/apache/camel/quarkus/component/activemq/deployment/ActiveMQProcessor.java#L40-L43", "author": "ppalaga", "createdAt": "2020-03-24T19:59:42Z", "path": "integration-tests/servicenow/pom.xml", "diffHunk": "@@ -0,0 +1,114 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+\n+    Licensed to the Apache Software Foundation (ASF) under one or more\n+    contributor license agreements.  See the NOTICE file distributed with\n+    this work for additional information regarding copyright ownership.\n+    The ASF licenses this file to You under the Apache License, Version 2.0\n+    (the \"License\"); you may not use this file except in compliance with\n+    the License.  You may obtain a copy of the License at\n+\n+         http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing, software\n+    distributed under the License is distributed on an \"AS IS\" BASIS,\n+    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+    See the License for the specific language governing permissions and\n+    limitations under the License.\n+\n+-->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+    <parent>\n+        <groupId>org.apache.camel.quarkus</groupId>\n+        <artifactId>camel-quarkus-integration-tests</artifactId>\n+        <version>1.1.0-SNAPSHOT</version>\n+    </parent>\n+\n+    <artifactId>camel-quarkus-integration-test-servicenow</artifactId>\n+    <name>Camel Quarkus :: Integration Tests :: ServiceNow</name>\n+    <description>Integration tests for Camel Quarkus ServiceNow extension</description>\n+\n+    <properties>\n+        <!-- mvnd, a.k.a. Maven Daemon: https://github.com/gnodet/mvnd -->\n+        <!-- The following rule tells mvnd to build the listed deployment modules before this module. -->\n+        <!-- This is important because mvnd builds modules in parallel by default. The deployment modules are not -->\n+        <!-- explicit dependencies of this module in the Maven sense, although they are required by the Quarkus Maven plugin. -->\n+        <!-- Please update rule whenever you change the dependencies of this module by running -->\n+        <!--     mvn process-resources -Pformat    from the root directory -->\n+        <mvnd.builder.rule>camel-quarkus-servicenow-deployment,camel-quarkus-support-policy-deployment</mvnd.builder.rule>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.apache.camel.quarkus</groupId>\n+            <artifactId>camel-quarkus-servicenow</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-resteasy</artifactId>\n+        </dependency>\n+\n+        <!-- test dependencies -->\n+        <dependency>\n+            <groupId>io.quarkus</groupId>\n+            <artifactId>quarkus-junit5</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.rest-assured</groupId>\n+            <artifactId>rest-assured</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>io.quarkus</groupId>\n+                <artifactId>quarkus-maven-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <goals>\n+                            <goal>build</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+    <profiles>\n+        <profile>\n+            <id>native</id>\n+            <activation>\n+                <property>\n+                    <name>native</name>\n+                </property>\n+            </activation>\n+            <properties>\n+                <quarkus.package.type>native</quarkus.package.type>\n+\t\t<quarkus.native.additional-build-args>-H:EnableURLProtocols=https</quarkus.native.additional-build-args>", "originalCommit": "c6789b0ee3bede1c027e84c5d8584139156d17f1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4MjI3Ng==", "url": "https://github.com/apache/camel-quarkus/pull/970#discussion_r397582276", "bodyText": "Thanks for pointing it out !", "author": "zhfeng", "createdAt": "2020-03-25T02:58:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQyNDc3MA=="}], "type": "inlineReview"}, {"oid": "ecf93308738e9e10da394a9ba23a1c9e47f30487", "url": "https://github.com/apache/camel-quarkus/commit/ecf93308738e9e10da394a9ba23a1c9e47f30487", "message": "Update to add the camel-servicenow extension", "committedDate": "2020-03-25T03:02:44Z", "type": "commit"}, {"oid": "ecf93308738e9e10da394a9ba23a1c9e47f30487", "url": "https://github.com/apache/camel-quarkus/commit/ecf93308738e9e10da394a9ba23a1c9e47f30487", "message": "Update to add the camel-servicenow extension", "committedDate": "2020-03-25T03:02:44Z", "type": "forcePushed"}, {"oid": "91c7b1859b977f5a270e6b52f0af0e4e895e61b2", "url": "https://github.com/apache/camel-quarkus/commit/91c7b1859b977f5a270e6b52f0af0e4e895e61b2", "message": "[camel-servicenow] excludes the javax.xml.ws:jaxws-api and com.sun.xml.messaging.saaj:saaj-impl", "committedDate": "2020-03-25T07:20:05Z", "type": "commit"}]}