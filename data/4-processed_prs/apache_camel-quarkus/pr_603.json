{"pr_number": 603, "pr_title": "WIP - Prepare for Quarkus 1.2", "pr_createdAt": "2020-01-06T16:11:39Z", "pr_url": "https://github.com/apache/camel-quarkus/pull/603", "timeline": [{"oid": "3759612b889800c71b72f9613e7376b37c89daf2", "url": "https://github.com/apache/camel-quarkus/commit/3759612b889800c71b72f9613e7376b37c89daf2", "message": "Add the mongodb-driver-legacy artifact and a substitution", "committedDate": "2020-01-13T14:07:12Z", "type": "forcePushed"}, {"oid": "6cd289ebf4ce90a3757432fef2ea447520cb19c1", "url": "https://github.com/apache/camel-quarkus/commit/6cd289ebf4ce90a3757432fef2ea447520cb19c1", "message": "Add the mongodb-driver-legacy artifact and a substitution", "committedDate": "2020-01-13T14:28:16Z", "type": "forcePushed"}, {"oid": "fe3de2190dbd44fbee25e14d5f8143384b7159b5", "url": "https://github.com/apache/camel-quarkus/commit/fe3de2190dbd44fbee25e14d5f8143384b7159b5", "message": "Make the tests succeed with latest quarkus and graalvm 19.3.1", "committedDate": "2020-01-16T11:45:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTAzOQ==", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367375039", "bodyText": "Hmmm, so, JNI is not enabled by default in 19.2 and we will support both. So if you need JNI, you should add a JniBuildItem in your extension.", "author": "gsmet", "createdAt": "2020-01-16T11:48:24Z", "path": "integration-tests/aws/pom.xml", "diffHunk": "@@ -152,7 +152,6 @@\n                                     <enableHttpUrlHandler>true</enableHttpUrlHandler>\n                                     <enableServer>false</enableServer>\n                                     <dumpProxies>false</dumpProxies>\n-                                    <enableJni>true</enableJni>", "originalCommit": "fe3de2190dbd44fbee25e14d5f8143384b7159b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3Njk3Nw==", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367376977", "bodyText": "we'll have a look", "author": "lburgazzoli", "createdAt": "2020-01-16T11:53:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTAzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTI3Mg==", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367375272", "bodyText": "I don't think we should have that ones in this branch because it only hides the errors and we need to be able to diagnose them.", "author": "gsmet", "createdAt": "2020-01-16T11:49:04Z", "path": "integration-tests/http/pom.xml", "diffHunk": "@@ -122,13 +135,30 @@\n                                     <goal>native-image</goal>\n                                 </goals>\n                                 <configuration>\n-                                    <reportErrorsAtRuntime>false</reportErrorsAtRuntime>\n+                                    <!--\n+                                        With GraalVM Version 19.3.1 CE this test fails with:\n+\n+                                            Fatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered\n+                                            while parsing com.oracle.svm.reflect.ClassLoader_defineClass_c6c343b4d6dc22ca64eb2d8503b13ac9c340dcb3.invoke(java.lang.Object, java.lang.Object[])\n+\n+                                            Parsing context:\n+                                                parsing java.lang.reflect.Method.invoke(Method.java:498)\n+                                                parsing org.apache.camel.support.ObjectHelper.invokeMethod(ObjectHelper.java:182)\n+                                                parsing org.apache.camel.main.BaseMainSupport.loadConfigurations(BaseMainSupport.java:467)\n+                                                parsing org.apache.camel.main.BaseMainSupport.postProcessCamelContext(BaseMainSupport.java:522)\n+\n+                                        but it looks like the stack trace is unrelated to the actual error as that method\n+                                        is invoked also in other tests hence I've enable reporting error at runtime to\n+                                        get the test succeed.\n+\n+                                        TODO: investigate what is the real issue\n+                                    -->\n+                                    <reportErrorsAtRuntime>true</reportErrorsAtRuntime>", "originalCommit": "fe3de2190dbd44fbee25e14d5f8143384b7159b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM5NDQ5NQ==", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367394495", "bodyText": "we just need to revert my commit", "author": "lburgazzoli", "createdAt": "2020-01-16T12:37:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTI3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM5NDc5MA==", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367394790", "bodyText": "Yeah, I think we should do that. It will it easier to reproduce the actual problem", "author": "geoand", "createdAt": "2020-01-16T12:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTI3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQwMzQ3Mg==", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367403472", "bodyText": "do it :)", "author": "lburgazzoli", "createdAt": "2020-01-16T13:00:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTI3Mg=="}], "type": "inlineReview"}, {"oid": "559858199c193c0ad4b49a37d71ec35f75f57465", "url": "https://github.com/apache/camel-quarkus/commit/559858199c193c0ad4b49a37d71ec35f75f57465", "message": "Fix a JAXB dependency to avoid a warning", "committedDate": "2020-01-16T14:09:51Z", "type": "forcePushed"}, {"oid": "01d317ab8354888572e0bc0e65060fb5fbea44a8", "url": "https://github.com/apache/camel-quarkus/commit/01d317ab8354888572e0bc0e65060fb5fbea44a8", "message": "Fix a JAXB dependency to avoid a warning", "committedDate": "2020-01-17T11:06:18Z", "type": "forcePushed"}, {"oid": "9632932fa500bd7f812e92d23adb1d8396411843", "url": "https://github.com/apache/camel-quarkus/commit/9632932fa500bd7f812e92d23adb1d8396411843", "message": "Revert \"Create substitutions for jsch\"\n\nThis reverts commit da0a462f17652b199ab8d3097783c4efdd5a290d.", "committedDate": "2020-01-21T10:33:04Z", "type": "commit"}, {"oid": "a0237295f4edfa51fda097dcbc8c475b4840d16a", "url": "https://github.com/apache/camel-quarkus/commit/a0237295f4edfa51fda097dcbc8c475b4840d16a", "message": "Use the quarkus-jsch extension instead of having substitutions", "committedDate": "2020-01-21T11:00:39Z", "type": "commit"}, {"oid": "b392ec32ced5b9a900c16209a6ad4856eb998475", "url": "https://github.com/apache/camel-quarkus/commit/b392ec32ced5b9a900c16209a6ad4856eb998475", "message": "Upgrade to Quarkus 1.2.0.CR1", "committedDate": "2020-01-21T11:00:39Z", "type": "commit"}, {"oid": "0b899a663d6e5f342a72f8f98af5c03b15726794", "url": "https://github.com/apache/camel-quarkus/commit/0b899a663d6e5f342a72f8f98af5c03b15726794", "message": "Add the mongodb-driver-legacy artifact and a substitution", "committedDate": "2020-01-21T11:00:39Z", "type": "commit"}, {"oid": "9522872d8ecb5f54a117533d9451fb7056dc2b71", "url": "https://github.com/apache/camel-quarkus/commit/9522872d8ecb5f54a117533d9451fb7056dc2b71", "message": "Workaround for https://github.com/oracle/graal/issues/1971", "committedDate": "2020-01-21T11:00:39Z", "type": "commit"}, {"oid": "dcf78509155482d590cc5acd1b0e9d640c5e39eb", "url": "https://github.com/apache/camel-quarkus/commit/dcf78509155482d590cc5acd1b0e9d640c5e39eb", "message": "Fix a JAXB dependency to avoid a warning", "committedDate": "2020-01-21T11:00:39Z", "type": "commit"}, {"oid": "dcf78509155482d590cc5acd1b0e9d640c5e39eb", "url": "https://github.com/apache/camel-quarkus/commit/dcf78509155482d590cc5acd1b0e9d640c5e39eb", "message": "Fix a JAXB dependency to avoid a warning", "committedDate": "2020-01-21T11:00:39Z", "type": "forcePushed"}, {"oid": "fc769eb245d4f3f07e6175cab29b63f23789a7de", "url": "https://github.com/apache/camel-quarkus/commit/fc769eb245d4f3f07e6175cab29b63f23789a7de", "message": "Temporarily force a locale with a country to work around a Quarkus issue", "committedDate": "2020-01-21T11:28:09Z", "type": "commit"}, {"oid": "fc769eb245d4f3f07e6175cab29b63f23789a7de", "url": "https://github.com/apache/camel-quarkus/commit/fc769eb245d4f3f07e6175cab29b63f23789a7de", "message": "Temporarily force a locale with a country to work around a Quarkus issue", "committedDate": "2020-01-21T11:28:09Z", "type": "forcePushed"}]}