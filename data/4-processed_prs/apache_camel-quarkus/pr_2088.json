{"pr_number": 2088, "pr_title": "Added JSONata extension", "pr_createdAt": "2020-12-21T09:21:23Z", "pr_url": "https://github.com/apache/camel-quarkus/pull/2088", "timeline": [{"oid": "e3e6199044eed085740ccd0a4241ad9e2703bb9d", "url": "https://github.com/apache/camel-quarkus/commit/e3e6199044eed085740ccd0a4241ad9e2703bb9d", "message": "Added JSONata extension", "committedDate": "2020-12-21T09:16:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjU5ODg3MQ==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546598871", "bodyText": "I see that this is supposed to be some sort of JSONata transformation recipe, but I still wonder whether it is valid JSON?", "author": "ppalaga", "createdAt": "2020-12-21T09:29:26Z", "path": "integration-tests/jsonata/src/main/resources/spec/expressions.json", "diffHunk": "@@ -0,0 +1,5 @@\n+{\n+    \"name\": FirstName & \" \" & Surname,\n+    \"mobile\": Phone[type = \"mobile\"].number", "originalCommit": "e3e6199044eed085740ccd0a4241ad9e2703bb9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYxMzg4NQ==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546613885", "bodyText": "It's not valid JSON. The best term I could find is \"spec\" from the camel-jsontata documentation, so I would propose to rename it to expressions.spec then. What do you think ?", "author": "aldettinger", "createdAt": "2020-12-21T10:00:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjU5ODg3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYxOTE2Nw==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546619167", "bodyText": "Yes, I think using somethig else than .json would be less misleading for both users and IDEs/editors :)", "author": "ppalaga", "createdAt": "2020-12-21T10:11:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjU5ODg3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwNTM5Nw==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546605397", "bodyText": "This is OK for now, but in the long term, we should aim at inheriting ${gson-version} from camel-dependencies here. Could you plz. perform the necessary changes in Camel so that all their components dependent on Gson use their ${gson-version} that should be upgraded to 2.8.6?", "author": "ppalaga", "createdAt": "2020-12-21T09:43:45Z", "path": "pom.xml", "diffHunk": "@@ -60,7 +60,7 @@\n         <google-http-client.version>1.34.0</google-http-client.version>\n         <google-auth-library-oauth2-http.version>0.21.1</google-auth-library-oauth2-http.version> <!-- Mess in google-cloud-bom -->\n         <guava.version>29.0-jre</guava.version>\n-        <gson.version>2.8.5</gson.version>\n+        <gson.version>2.8.6</gson.version><!-- JSONata -->", "originalCommit": "e3e6199044eed085740ccd0a4241ad9e2703bb9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYxNzQxMA==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546617410", "bodyText": "That could be discussed in CAMEL-15981.", "author": "aldettinger", "createdAt": "2020-12-21T10:08:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwNTM5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyMTM5Mg==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546621392", "bodyText": "Could you plz change the comment to something like\n<!-- 2.8.6 is required by JSONata; replace with ${gson-version} from camel-dependencies once https://issues.apache.org/jira/browse/CAMEL-15981 is fixed -->", "author": "ppalaga", "createdAt": "2020-12-21T10:16:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwNTM5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyMTczNQ==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546621735", "bodyText": "2.8.6 doesn't work in OSGi. This is why is not updated.", "author": "oscerd", "createdAt": "2020-12-21T10:16:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwNTM5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYzMTM3Mw==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546631373", "bodyText": "Thanks for the info. Is there a Gson issue so that we can track the progress?", "author": "ppalaga", "createdAt": "2020-12-21T10:36:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwNTM5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY0MzI4OQ==", "url": "https://github.com/apache/camel-quarkus/pull/2088#discussion_r546643289", "bodyText": "google/gson#1677\nThis one is the latest one. It seems they will solve with 2.8.7, but there is no ETA", "author": "oscerd", "createdAt": "2020-12-21T11:02:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwNTM5Nw=="}], "type": "inlineReview"}, {"oid": "62eee3192d9ecc04814d58ffae72abda9d4caeba", "url": "https://github.com/apache/camel-quarkus/commit/62eee3192d9ecc04814d58ffae72abda9d4caeba", "message": "Changed camel-jsonata spec file extension as it was not valid JSON", "committedDate": "2020-12-21T10:44:02Z", "type": "commit"}, {"oid": "980c1ca622cd5119fba2706fe4a8c3feace4bce3", "url": "https://github.com/apache/camel-quarkus/commit/980c1ca622cd5119fba2706fe4a8c3feace4bce3", "message": "Fixed validate issue", "committedDate": "2020-12-21T10:55:47Z", "type": "commit"}]}