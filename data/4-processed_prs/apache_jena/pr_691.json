{"pr_number": 691, "pr_title": " JENA-1840: Add --syntax to tdbloader (TDB1 and TDB2)", "pr_createdAt": "2020-02-15T09:10:45Z", "pr_url": "https://github.com/apache/jena/pull/691", "timeline": [{"oid": "8bdee0279a77eac674e5c5099482f312a4920588", "url": "https://github.com/apache/jena/commit/8bdee0279a77eac674e5c5099482f312a4920588", "message": "JENA-1840: Add --syntax to tdbloader (TDB2)", "committedDate": "2020-02-15T00:01:37Z", "type": "commit"}, {"oid": "08102d534b5c4d5591f0257cc63f8d0d1846430c", "url": "https://github.com/apache/jena/commit/08102d534b5c4d5591f0257cc63f8d0d1846430c", "message": "JENA-1840: Add --syntax to tdbloader (TDB1)", "committedDate": "2020-02-15T00:02:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA0NjQxMg==", "url": "https://github.com/apache/jena/pull/691#discussion_r382046412", "bodyText": "So if I specify --syntax=LANG but also specify --graph=URL then my syntax spec is ignored?", "author": "rvesse", "createdAt": "2020-02-20T14:49:19Z", "path": "jena-cmds/src/main/java/tdb2/tdbloader.java", "diffHunk": "@@ -92,6 +97,17 @@ else if ( loadername.matches(\"light\") )\n                 throw new CmdException(\"Not a boolean value: \"+getValue(argStats));\n             generateStats = super.hasValueOfTrue(argStats);\n         }\n+        \n+        if ( super.contains(argSyntax) ) {\n+            String syntax = super.getValue(argSyntax) ;\n+            Lang lang$ = RDFLanguages.nameToLang(syntax) ;\n+            if ( lang$ == null )\n+                throw new CmdException(\"Can not detemine the syntax from '\" + syntax + \"'\") ;\n+            this.lang = lang$ ;\n+        }\n+        \n+        if ( super.graphName != null )", "originalCommit": "08102d534b5c4d5591f0257cc63f8d0d1846430c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA3NTgyMw==", "url": "https://github.com/apache/jena/pull/691#discussion_r382075823", "bodyText": "Thanks for spotting that - default syntax should be set before --syntax is processed.", "author": "afs", "createdAt": "2020-02-20T15:32:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA0NjQxMg=="}], "type": "inlineReview"}, {"oid": "5d96bc0b0fea58d025a85f26f9023dad74c52b4b", "url": "https://github.com/apache/jena/commit/5d96bc0b0fea58d025a85f26f9023dad74c52b4b", "message": "Correct arg processing order", "committedDate": "2020-02-20T15:31:30Z", "type": "commit"}]}