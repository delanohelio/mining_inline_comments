{"pr_number": 491, "pr_title": "Add Singleton Documents for AngularClient", "pr_createdAt": "2020-04-01T05:18:47Z", "pr_url": "https://github.com/vmware/singleton/pull/491", "timeline": [{"oid": "939850686905e5a4edea0d73c3d7307bcd39179e", "url": "https://github.com/vmware/singleton/commit/939850686905e5a4edea0d73c3d7307bcd39179e", "message": "add demo page", "committedDate": "2019-12-06T09:47:01Z", "type": "commit"}, {"oid": "b098f2970088296108db42b8bab9f41470f62c1a", "url": "https://github.com/vmware/singleton/commit/b098f2970088296108db42b8bab9f41470f62c1a", "message": "update title", "committedDate": "2019-12-06T09:50:28Z", "type": "commit"}, {"oid": "51250e1eead5be1dbeeb4eb6744b0fc552b7bfa2", "url": "https://github.com/vmware/singleton/commit/51250e1eead5be1dbeeb4eb6744b0fc552b7bfa2", "message": "test add js-client", "committedDate": "2019-12-12T10:14:59Z", "type": "commit"}, {"oid": "1add63fe95754b5bdab35e7595e2b19287b6debe", "url": "https://github.com/vmware/singleton/commit/1add63fe95754b5bdab35e7595e2b19287b6debe", "message": "add pic tet", "committedDate": "2020-03-19T08:04:50Z", "type": "commit"}, {"oid": "2494b2331a0e2538e16fb2e27111d25328c6a7ce", "url": "https://github.com/vmware/singleton/commit/2494b2331a0e2538e16fb2e27111d25328c6a7ce", "message": "update pics", "committedDate": "2020-03-19T09:17:16Z", "type": "commit"}, {"oid": "d122f158bce692ca1d0618d94f0ffe153070d08d", "url": "https://github.com/vmware/singleton/commit/d122f158bce692ca1d0618d94f0ffe153070d08d", "message": "update", "committedDate": "2020-03-20T07:44:38Z", "type": "commit"}, {"oid": "19aab7eda004526121a38f5a11d08578cfd40e14", "url": "https://github.com/vmware/singleton/commit/19aab7eda004526121a38f5a11d08578cfd40e14", "message": "update pics", "committedDate": "2020-03-20T08:19:51Z", "type": "commit"}, {"oid": "c1048c91475d03500ad697daa98bf785847d5118", "url": "https://github.com/vmware/singleton/commit/c1048c91475d03500ad697daa98bf785847d5118", "message": "update and add page", "committedDate": "2020-03-20T09:33:01Z", "type": "commit"}, {"oid": "9c853f2b9ee85eae959bcea8283fcfde758627c5", "url": "https://github.com/vmware/singleton/commit/9c853f2b9ee85eae959bcea8283fcfde758627c5", "message": "add pics and pages", "committedDate": "2020-03-20T15:31:54Z", "type": "commit"}, {"oid": "e18a4eba8704eca7885a6116f23c51c07b0670ec", "url": "https://github.com/vmware/singleton/commit/e18a4eba8704eca7885a6116f23c51c07b0670ec", "message": "add pages and pics", "committedDate": "2020-03-21T11:28:30Z", "type": "commit"}, {"oid": "0d3a00d38a9dfc47ef8af5bbd4aacc99a877f2ed", "url": "https://github.com/vmware/singleton/commit/0d3a00d38a9dfc47ef8af5bbd4aacc99a877f2ed", "message": "add pages and pics", "committedDate": "2020-03-24T04:43:16Z", "type": "commit"}, {"oid": "d3c8536c624f7fb70b3747e3cb42960914459199", "url": "https://github.com/vmware/singleton/commit/d3c8536c624f7fb70b3747e3cb42960914459199", "message": "update", "committedDate": "2020-03-24T04:47:53Z", "type": "commit"}, {"oid": "a2c8956926bc8c0a45b80d308e7b003a19118792", "url": "https://github.com/vmware/singleton/commit/a2c8956926bc8c0a45b80d308e7b003a19118792", "message": "change 'vip' to 'singleton' in the text", "committedDate": "2020-03-30T02:35:26Z", "type": "commit"}, {"oid": "e0f31ff594edf8bdae57887dce0a1cc8d28fb05a", "url": "https://github.com/vmware/singleton/commit/e0f31ff594edf8bdae57887dce0a1cc8d28fb05a", "message": "change 'vip' to 'singleton' in text", "committedDate": "2020-03-31T06:07:22Z", "type": "commit"}, {"oid": "d16f7b1a3780469bd64378fd920c05af0c37135f", "url": "https://github.com/vmware/singleton/commit/d16f7b1a3780469bd64378fd920c05af0c37135f", "message": "update", "committedDate": "2020-04-03T03:20:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAxMjc3MQ==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406012771", "bodyText": "It displays  extremely ugly on UI as below.", "author": "songjiang320", "createdAt": "2020-04-09T07:37:59Z", "path": "content/en/docs/overview/singleton-sdk/Angular Client Introduction/i18n-service.md", "diffHunk": "@@ -0,0 +1,144 @@\n+---\n+title: \"I18n Service\"", "originalCommit": "d16f7b1a3780469bd64378fd920c05af0c37135f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwOTQwMw==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406609403", "bodyText": "I have fixed it.", "author": "zmengjiao", "createdAt": "2020-04-10T05:32:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAxMjc3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAxNTA4Mg==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406015082", "bodyText": "The URI shouldn't link to internal ngx-component, it should redirect to isolated-feature-module.md", "author": "songjiang320", "createdAt": "2020-04-09T07:42:44Z", "path": "content/en/docs/overview/singleton-sdk/Angular Client Introduction/data-initialization.md", "diffHunk": "@@ -0,0 +1,49 @@\n+---\n+title: \"Data Initialization\"\n+date: 2019-09-24T20:08:31+08:00\n+draft: false\n+weight: 30\n+---\n+\n+\n+In general, for most of products, it's good enough to load all translations and patterns one time in root module when the application starts, but for some special requirements, such like: isolated translation for feature module or using lazy module to enhance performance, please refer to [Isolated feature module](https://ngx.eng.vmware.com/@vmw/ngx-vip/isolated-module/documentation) and [Lazy Load Module](https://ngx.eng.vmware.com/@vmw/ngx-vip/lazy-load/documentation). singleton client provides two ways to load i18n data and initialize the services in root module:", "originalCommit": "d16f7b1a3780469bd64378fd920c05af0c37135f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYwOTc1NA==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406609754", "bodyText": "I have fixed it.", "author": "zmengjiao", "createdAt": "2020-04-10T05:34:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAxNTA4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAxNzEzOQ==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406017139", "bodyText": "It should redirect to singleton-instances.md", "author": "songjiang320", "createdAt": "2020-04-09T07:46:52Z", "path": "content/en/docs/overview/singleton-sdk/Angular Client Introduction/_index.md", "diffHunk": "@@ -0,0 +1,122 @@\n+---\n+title: \"Angular Client Introduction\"\n+date: 2019-09-24T20:08:31+08:00\n+draft: false\n+weight: 30\n+---\n+\n+singleton for Angular client is common lib developed by VMware G11n team to provide i18n support for Angular framework. The client will communicate with singleton server for fetching translation and i18n patterns.\n+\n+Most translations provided by singleton service comes from Human translators, when new application is connected to singleton service, source strings (English strings), required language and related information will be sent to singleton service, singleton service doesn\u2019t return real translation immediately since the human translators need time to figure out the quilted translation, at this moment, singleton service just delivers pseudo tag as placeholder to indicate singleton client works well with singleton service and App itself in development stage. Once the translations are ready, when the client side calls singleton service again, the real translations will be delivered via HTTP request. Please note that under English locale, the client doesn't make a network call to singleton service, but return English directly.\n+\n+Besides Localization, singleton client also provides I18n support for Datetime format, number format, currency and plural. singleton I18n service is based on CLDR data repository and keep the same scope in supported locales set. For the specific usages and API details please refer to following sections, if you find below APIs can't cover all usages of your application requirement, please feel free to contact with our team to add related API.\n+\n+\n+\n+#### **Features**\n+\n+- Level-2 Dates, Times, Numbers and Currencies formatting support. For more details refer to  [i18n Level-2](https://confluence.eng.vmware.com/display/GQ/I18n+Level-2).\n+- Level-3 support. For more details refer to [i18n Level-3](https://confluence.eng.vmware.com/display/GQ/I18n+Level-3).\n+\n+\n+#### **Version**\n+\n+- 8.x (support Angular8)\n+- 7.x (support Angular7.x)\n+- 6.x (support Angular6.x)\n+- 1.x (support Angular4.x & Angular5.x)\n+- 0.7.x is no longer maintained, only for bugfix\n+\n+>\"VIPServiceConfig\" has been removed from Version 8.x and the singleton host information are listed here: [Singleton instances](https://ngx.eng.vmware.com/@vmw/ngx-vip/vip-instance/documentation). For more changes in Version 8.x, please check the changelog.", "originalCommit": "d16f7b1a3780469bd64378fd920c05af0c37135f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYxMDM1OQ==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406610359", "bodyText": "I have fixed it now, it redirects to singleton-instances.md.", "author": "zmengjiao", "createdAt": "2020-04-10T05:36:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAxNzEzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAxOTIzMA==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406019230", "bodyText": "The link can't reach", "author": "songjiang320", "createdAt": "2020-04-09T07:50:51Z", "path": "content/en/docs/overview/singleton-sdk/Angular Client Introduction/currency-format-pipe.md", "diffHunk": "@@ -0,0 +1,52 @@\n+---\n+title: \"Currency Format Pipe\"\n+date: 2019-09-24T20:08:31+08:00\n+draft: false\n+weight: 30\n+---\n+\n+#### **Overview**\n+\n+Formats a number into currency string. Group sizing and separator and other locale-specific configurations are based on the pattern data.\n+\n+#### **Usage**\n+\n+```\n+{{ value | currencyFormat [ : currencyCode ]  }}\n+\n+```\n+\n+#### **Parameters**\n+\n+|  Parameter   |  Type  |                         Description                          |\n+| :----------: | :----: | :----------------------------------------------------------: |\n+| currencyCode | string | Currencycode should be in accordance with [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) standard, such as USD for the US dollar and EUR for the euro. Optional. Default value is USD. |", "originalCommit": "d16f7b1a3780469bd64378fd920c05af0c37135f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAyMTI2NQ==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406021265", "bodyText": "URL issue [here] and [stream API]  as above", "author": "songjiang320", "createdAt": "2020-04-09T07:54:26Z", "path": "content/en/docs/overview/singleton-sdk/Angular Client Introduction/i18n-service.md", "diffHunk": "@@ -0,0 +1,144 @@\n+---\n+title: \"I18n Service\"\n+date: 2019-09-24T20:08:31+08:00\n+draft: false\n+weight: 30\n+---\n+\n+\n+#### **Overview**\n+\n+I18n service provides APIs which are supposed to be used in JavaScript module to get supported languages & regions, and format locale-sensitive data.\n+\n+![i18n-service-1](https://github.com/zmengjiao/singleton/raw/website/content/en/images/i18n-service/i18n-service-1.png)\n+\n+\n+#### **Supported Language & Region APIs**\n+\n+##### **getSupportedLanguages**\n+\n+Get the supported languages which are available in singleton service for the specific product.\n+\n+```\n+getSupportedLanguages(): Promise<languagesList>;\n+\n+```\n+\n+##### **getSupportedRegions**\n+\n+Get the supported regions from singleton service, the supported region list should be unified in all products.\n+\n+```\n+getSupportedRegions(languageTag: string): Promise<regionsList>;\n+\n+```\n+\n+|  Parameter  |  Type  |                         Description                          |\n+| :---------: | :----: | :----------------------------------------------------------: |\n+| languageTag | String | Get supported region list with the localized display name by the 'languageTag'. |\n+\n+\n+##### **Example Code**\n+\n+![i18n-service-2](https://github.com/zmengjiao/singleton/raw/website/content/en/images/i18n-service/i18n-service-2.png)\n+\n+\n+\n+#### **Data Formatting APIs**\n+\n+Data formatting APIs are locale-sensitive, they return depends on the locale. So when using these formatting APIs in JavaScript module, locale is a required parameter which can be fetched through the locale service by synchronous or asynchronous API that depends on the way of i18n data initialization. if the i18n data was loaded in synchronous by 'APP_INITIALIZER' token, the synchronous API can be used to get locale directly. Otherwise, the stream API is a right way to get locale through the subscription. For more details, please refer to the sessions 'Data initialization' and 'Locale Management'.\n+\n+\n+##### **Format date**\n+\n+Formats a date according to the given options and locale.\n+\n+\n+```\n+formatDate(value: any, pattern: string, locale?: string, timezone?: string): string;\n+\n+```\n+\n+| Parameter |  Type  |                         Description                          |\n+| :-------: | :----: | :----------------------------------------------------------: |\n+|   value   |  any   | a date object or a number (milliseconds since UTC epoch) or an ISO string (https://www.w3.org/TR/NOTE-datetime). |\n+|  pattern  | string | indicates which date/time components to include. The format can be predefined as shown [here](https://ngx.eng.vmware.com/@vmw/ngx-vip/date-format). Default is 'mediumDate'. |\n+|  locale   | string | The locale is only required in async mode for non-blocking loading. Please refer to the [stream API](https://ngx.eng.vmware.com/@vmw/ngx-vip/locale-management/documentation#Asynchronous-API) usage. |", "originalCommit": "d16f7b1a3780469bd64378fd920c05af0c37135f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYxMDk2Nw==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406610967", "bodyText": "I fixed them all.", "author": "zmengjiao", "createdAt": "2020-04-10T05:39:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAyMTI2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAyMTk5NA==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406021994", "bodyText": "display ugly as above", "author": "songjiang320", "createdAt": "2020-04-09T07:55:45Z", "path": "content/en/docs/overview/singleton-sdk/Angular Client Introduction/l10n-service.md", "diffHunk": "@@ -0,0 +1,96 @@\n+---\n+title: \"L10n Service\"", "originalCommit": "d16f7b1a3780469bd64378fd920c05af0c37135f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYxMTEyMA==", "url": "https://github.com/vmware/singleton/pull/491#discussion_r406611120", "bodyText": "fixed.", "author": "zmengjiao", "createdAt": "2020-04-10T05:40:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAyMTk5NA=="}], "type": "inlineReview"}, {"oid": "d8dbf4812b184e217a5803f12feb14db0eb04327", "url": "https://github.com/vmware/singleton/commit/d8dbf4812b184e217a5803f12feb14db0eb04327", "message": "fix url issue", "committedDate": "2020-04-09T09:29:57Z", "type": "commit"}, {"oid": "1a900561400fdb0a81014d0b4243dde010686fbc", "url": "https://github.com/vmware/singleton/commit/1a900561400fdb0a81014d0b4243dde010686fbc", "message": "fix title issue", "committedDate": "2020-04-10T05:16:57Z", "type": "commit"}, {"oid": "ac1508586bde4c7535305f1ee9c3f08e00a37c74", "url": "https://github.com/vmware/singleton/commit/ac1508586bde4c7535305f1ee9c3f08e00a37c74", "message": "fix url issue", "committedDate": "2020-04-29T01:30:25Z", "type": "commit"}, {"oid": "24a934150c91d87f99d1cd5f7b3c5222c1b91524", "url": "https://github.com/vmware/singleton/commit/24a934150c91d87f99d1cd5f7b3c5222c1b91524", "message": "update singleton instance", "committedDate": "2020-04-30T08:40:44Z", "type": "commit"}, {"oid": "dca728360c2376ee593e2a174fe4f1fe087c93d4", "url": "https://github.com/vmware/singleton/commit/dca728360c2376ee593e2a174fe4f1fe087c93d4", "message": "delete useless files", "committedDate": "2020-05-06T02:13:26Z", "type": "commit"}, {"oid": "c0fa8732c7c2c23c575b47265edb1c9f086fa4b2", "url": "https://github.com/vmware/singleton/commit/c0fa8732c7c2c23c575b47265edb1c9f086fa4b2", "message": "delete useless file", "committedDate": "2020-05-06T02:18:15Z", "type": "commit"}, {"oid": "f3d6541de60341da2d4aa6e2e3c9c04159cffad3", "url": "https://github.com/vmware/singleton/commit/f3d6541de60341da2d4aa6e2e3c9c04159cffad3", "message": "update", "committedDate": "2020-05-06T03:10:20Z", "type": "commit"}]}