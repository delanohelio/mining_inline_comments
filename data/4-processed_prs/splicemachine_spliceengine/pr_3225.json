{"pr_number": 3225, "pr_title": "DB-9157 Support DATE + n {YEAR,MONTH,DAY}(S) and ADD_{DAYS,MONTHS,YEARS}()", "pr_createdAt": "2020-02-14T07:49:38Z", "pr_url": "https://github.com/splicemachine/spliceengine/pull/3225", "timeline": [{"oid": "817a62c944a3b625cafa34785c31d741891bbbe6", "url": "https://github.com/splicemachine/spliceengine/commit/817a62c944a3b625cafa34785c31d741891bbbe6", "message": "DB-9140 Support tuples in predicates", "committedDate": "2020-02-12T23:26:30Z", "type": "commit"}, {"oid": "95cdfd5378e113c7b6f3cf8f824b7c5635e52d8d", "url": "https://github.com/splicemachine/spliceengine/commit/95cdfd5378e113c7b6f3cf8f824b7c5635e52d8d", "message": "DB-9157 Support DATE + n {YEAR,MONTH,DAY}(S) and ADD_{DAYS,MONTHS,YEARS}()", "committedDate": "2020-02-14T07:33:40Z", "type": "commit"}, {"oid": "e43f47f513196b9e22679627140a600640dd917c", "url": "https://github.com/splicemachine/spliceengine/commit/e43f47f513196b9e22679627140a600640dd917c", "message": "DB-9157 Unreserve YEARS keyword", "committedDate": "2020-02-14T16:48:49Z", "type": "commit"}, {"oid": "66068d7d7f3a6b32c9e5efdbd404248ffbc921f6", "url": "https://github.com/splicemachine/spliceengine/commit/66068d7d7f3a6b32c9e5efdbd404248ffbc921f6", "message": "DB-9157 Update system procedures in upgrade script", "committedDate": "2020-02-19T08:39:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI1Mjk5OQ==", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r381252999", "bodyText": "We need to update the build number", "author": "dgomezferro", "createdAt": "2020-02-19T12:12:45Z", "path": "splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java", "diffHunk": "@@ -76,6 +76,7 @@ else if(v1==v2)\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1933), new UpgradeScriptToUpdateViewForSYSCONGLOMERATEINSCHEMAS(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1938), new UpgradeScriptForTriggerWhenClause(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1941), new UpgradeScriptForTableColumnViewInSYSIBM(sdd,tc));\n+        scripts.put(new Splice_DD_Version(sdd,3,1,0, 1947), new UpgradeScriptBase(sdd,tc));", "originalCommit": "66068d7d7f3a6b32c9e5efdbd404248ffbc921f6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwMDY1NA==", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r381300654", "bodyText": "What should it be updated to?\n1949 because this will tentatively be part of build 1949?", "author": "arnaud-splice", "createdAt": "2020-02-19T13:49:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI1Mjk5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMyODY1Ng==", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r381328656", "bodyText": "1948 if it's part of the next build, 1949 otherwise", "author": "dgomezferro", "createdAt": "2020-02-19T14:34:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI1Mjk5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTYxMDY1NQ==", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r381610655", "bodyText": "Done", "author": "arnaud-splice", "createdAt": "2020-02-19T23:39:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI1Mjk5OQ=="}], "type": "inlineReview"}, {"oid": "ac8f9d03b7afbe2e8cf951b92cdccb47f8b4dddb", "url": "https://github.com/splicemachine/spliceengine/commit/ac8f9d03b7afbe2e8cf951b92cdccb47f8b4dddb", "message": "DB-9140 Remove support for le/lt/gt/ge in tuple comparison until we support lexicographical comparison", "committedDate": "2020-02-19T14:21:38Z", "type": "commit"}, {"oid": "f88faddf2cfda2f73407da043dc8ab5436dc90ac", "url": "https://github.com/splicemachine/spliceengine/commit/f88faddf2cfda2f73407da043dc8ab5436dc90ac", "message": "DB-9140 Introduce ValueTupleNode", "committedDate": "2020-02-19T23:23:31Z", "type": "commit"}, {"oid": "c866b36999da3e060fc712fb42b89b26f2012722", "url": "https://github.com/splicemachine/spliceengine/commit/c866b36999da3e060fc712fb42b89b26f2012722", "message": "Merge branch 'DB-9140' into DB-9157", "committedDate": "2020-02-19T23:32:23Z", "type": "commit"}, {"oid": "868d9b349637ed5888401d29061f38232c1b3b44", "url": "https://github.com/splicemachine/spliceengine/commit/868d9b349637ed5888401d29061f38232c1b3b44", "message": "DB-9157 update upgrade version", "committedDate": "2020-02-19T23:40:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI5NTI1Mg==", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r382295252", "bodyText": "I just have a minor comment to change 1949 to 1948 in anticipation that this PR will be merged to the 1948 build. So if the system is already running 1948, this script won't be triggered again when upgrading to 1949 (a script will be trigged only if the system is running a version lower than the build number specified here. If the running version is same as the build number, SpliceDataDictionary.needToUpgrade() ensures that no upgrade script will be triggered).", "author": "yxia92", "createdAt": "2020-02-20T22:31:18Z", "path": "splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java", "diffHunk": "@@ -76,6 +76,7 @@ else if(v1==v2)\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1933), new UpgradeScriptToUpdateViewForSYSCONGLOMERATEINSCHEMAS(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1938), new UpgradeScriptForTriggerWhenClause(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1941), new UpgradeScriptForTableColumnViewInSYSIBM(sdd,tc));\n+        scripts.put(new Splice_DD_Version(sdd,3,1,0, 1949), new UpgradeScriptBase(sdd,tc));", "originalCommit": "868d9b349637ed5888401d29061f38232c1b3b44", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjUyNjgyMg==", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r382526822", "bodyText": "Done :)", "author": "arnaud-splice", "createdAt": "2020-02-21T11:12:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI5NTI1Mg=="}], "type": "inlineReview"}, {"oid": "8b27824f4b44c1a000dd5cac3d8563d0636a5f3f", "url": "https://github.com/splicemachine/spliceengine/commit/8b27824f4b44c1a000dd5cac3d8563d0636a5f3f", "message": "Merge branch 'master' into DB-9157", "committedDate": "2020-02-21T11:11:47Z", "type": "commit"}, {"oid": "48a653cb027eb351329a7d327a223fd3491fdc6a", "url": "https://github.com/splicemachine/spliceengine/commit/48a653cb027eb351329a7d327a223fd3491fdc6a", "message": "DB-9157 Address comments", "committedDate": "2020-02-21T11:13:46Z", "type": "commit"}]}