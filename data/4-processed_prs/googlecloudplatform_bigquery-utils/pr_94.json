{"pr_number": 94, "pr_title": "Add getbit function", "pr_createdAt": "2020-07-12T01:47:28Z", "pr_url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/94", "timeline": [{"oid": "2737bc6d2a392f4bdb7b618259cf8986d0b1d8c2", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/2737bc6d2a392f4bdb7b618259cf8986d0b1d8c2", "message": "Changed repo description since migration directory contains other databases besides Teradata", "committedDate": "2019-10-24T22:23:15Z", "type": "commit"}, {"oid": "8e37290a1c9d48c4955aa902dc29d1843bf8613d", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/8e37290a1c9d48c4955aa902dc29d1843bf8613d", "message": "Implementation of translate function", "committedDate": "2019-10-24T22:37:43Z", "type": "commit"}, {"oid": "1b52784546a621b849ac7fd050a8df1a4f6bac07", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1b52784546a621b849ac7fd050a8df1a4f6bac07", "message": "Implementation of otranslate function", "committedDate": "2019-10-24T22:45:07Z", "type": "commit"}, {"oid": "820311553687734642cb98ab76ac1d3d00035b34", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/820311553687734642cb98ab76ac1d3d00035b34", "message": "The function parses Redshift interval literal and converts it to seconds", "committedDate": "2019-10-25T23:17:35Z", "type": "commit"}, {"oid": "5befad31659e0821ed3e19591e7999b1924c3114", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/5befad31659e0821ed3e19591e7999b1924c3114", "message": "Update README.md", "committedDate": "2019-11-07T17:53:14Z", "type": "commit"}, {"oid": "db8ff9e0f067f69b8c5cd9d31037e6feba40b1d3", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/db8ff9e0f067f69b8c5cd9d31037e6feba40b1d3", "message": "Update README.md", "committedDate": "2019-11-07T17:56:25Z", "type": "commit"}, {"oid": "c9e9c9890dd75416c481529491fc901dd7aac6f4", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/c9e9c9890dd75416c481529491fc901dd7aac6f4", "message": "Update README.md", "committedDate": "2019-11-08T00:03:43Z", "type": "commit"}, {"oid": "f6cb215dcaca6a13b209395c6d6c07d372c43da5", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/f6cb215dcaca6a13b209395c6d6c07d372c43da5", "message": "Update README.md", "committedDate": "2019-11-08T00:04:38Z", "type": "commit"}, {"oid": "39bac1925b949a95b7ecb7ad55c7ce237f92a424", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/39bac1925b949a95b7ecb7ad55c7ce237f92a424", "message": "Update README.md", "committedDate": "2019-11-08T00:11:33Z", "type": "commit"}, {"oid": "69014b3395b02859c8731075191a9d2c0d26caf8", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/69014b3395b02859c8731075191a9d2c0d26caf8", "message": "Update README.md", "committedDate": "2019-11-08T00:15:07Z", "type": "commit"}, {"oid": "9d275dac233bd2d726b411f15909e6475ce1180d", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/9d275dac233bd2d726b411f15909e6475ce1180d", "message": "Update README.md", "committedDate": "2019-11-08T00:17:40Z", "type": "commit"}, {"oid": "82de3d277b333f6b2030013182d39ccdf843cdd6", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/82de3d277b333f6b2030013182d39ccdf843cdd6", "message": "Formatted code with BQ UI", "committedDate": "2019-11-08T00:35:43Z", "type": "commit"}, {"oid": "d4482e3cbee08538cbed3de1335e23d52f1af48d", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/d4482e3cbee08538cbed3de1335e23d52f1af48d", "message": "Update README.md", "committedDate": "2019-11-14T16:31:31Z", "type": "commit"}, {"oid": "7ccf7d594ed1d3e0ecacabfd37056029a34a3f5e", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/7ccf7d594ed1d3e0ecacabfd37056029a34a3f5e", "message": "Update README.md", "committedDate": "2019-11-14T16:33:09Z", "type": "commit"}, {"oid": "41078ca7e0da3eb10b0bf73e898c87755a8aa870", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/41078ca7e0da3eb10b0bf73e898c87755a8aa870", "message": "Update README.md", "committedDate": "2019-11-14T16:35:26Z", "type": "commit"}, {"oid": "6ff7114beeb33353cf6d98713d576336c2caed55", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/6ff7114beeb33353cf6d98713d576336c2caed55", "message": "Changed code formatting", "committedDate": "2019-11-14T16:41:36Z", "type": "commit"}, {"oid": "3c0761ff12ea8b531517c6577af7f1c10b2ec275", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/3c0761ff12ea8b531517c6577af7f1c10b2ec275", "message": "Merge branch 'master' of https://github.com/epishova/bigquery-utils", "committedDate": "2019-11-14T16:43:25Z", "type": "commit"}, {"oid": "8cf44f558a12519f32c040b8c0f3c77a4fcb6f7f", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/8cf44f558a12519f32c040b8c0f3c77a4fcb6f7f", "message": "Updated code formatting", "committedDate": "2019-11-14T16:49:07Z", "type": "commit"}, {"oid": "663ff31810c055b39bdb8f3364b2e15791b21732", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/663ff31810c055b39bdb8f3364b2e15791b21732", "message": "Update README.md", "committedDate": "2019-11-14T16:59:18Z", "type": "commit"}, {"oid": "012aa7b80885a04fa9ff3c0c1afb10ea9921ab6a", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/012aa7b80885a04fa9ff3c0c1afb10ea9921ab6a", "message": "Changed code formatting", "committedDate": "2019-11-14T17:12:47Z", "type": "commit"}, {"oid": "0d9b1c29b1224eb3e69088881425257c0e8ddc21", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/0d9b1c29b1224eb3e69088881425257c0e8ddc21", "message": "Merge branch 'master' of https://github.com/epishova/bigquery-utils", "committedDate": "2019-11-14T17:13:19Z", "type": "commit"}, {"oid": "cf41a35a5417ede0b74e778afcebcc224e3d4fd9", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/cf41a35a5417ede0b74e778afcebcc224e3d4fd9", "message": "Merge branch 'master' into master", "committedDate": "2019-11-14T17:49:07Z", "type": "commit"}, {"oid": "1b6508848a93a3fef7dcea2e04c575ea43e52c9f", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/1b6508848a93a3fef7dcea2e04c575ea43e52c9f", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-02-13T23:11:16Z", "type": "commit"}, {"oid": "52fe01967637c501e3e09b81664472296afdbcee", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/52fe01967637c501e3e09b81664472296afdbcee", "message": "Update README.md", "committedDate": "2020-02-13T23:34:35Z", "type": "commit"}, {"oid": "f90ce1371c759cc1ba276485b4c97a99f0786ea5", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/f90ce1371c759cc1ba276485b4c97a99f0786ea5", "message": "Update README.md", "committedDate": "2020-02-13T23:37:59Z", "type": "commit"}, {"oid": "5ca0550751f8c3a6932042c1de6a201e84470e86", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/5ca0550751f8c3a6932042c1de6a201e84470e86", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-05-11T01:23:55Z", "type": "commit"}, {"oid": "82123daae6dced87aa53c7ec1a6c086c917bc606", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/82123daae6dced87aa53c7ec1a6c086c917bc606", "message": "Merge with upstream/master", "committedDate": "2020-05-11T01:33:08Z", "type": "commit"}, {"oid": "75b319119fa71db5fdb150941118b09dfe3cc43d", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/75b319119fa71db5fdb150941118b09dfe3cc43d", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-07-03T15:28:46Z", "type": "commit"}, {"oid": "78a650eb9fb3ae38a5f23659713ad676e23f8e29", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/78a650eb9fb3ae38a5f23659713ad676e23f8e29", "message": "Merge remote-tracking branch 'upstream/master' into master", "committedDate": "2020-07-12T01:34:09Z", "type": "commit"}, {"oid": "468d4e2f862f668fd7ead9558f7434a3cfab6920", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/468d4e2f862f668fd7ead9558f7434a3cfab6920", "message": "Add getbit", "committedDate": "2020-07-12T01:41:27Z", "type": "commit"}, {"oid": "8cbe082576f5d6ba497db8dba2c06554e9a0e098", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/8cbe082576f5d6ba497db8dba2c06554e9a0e098", "message": "Update README.md", "committedDate": "2020-07-12T01:44:03Z", "type": "commit"}, {"oid": "736fc211a03efa1b5decc9cdf3f64a2958a25c2c", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/736fc211a03efa1b5decc9cdf3f64a2958a25c2c", "message": "Merge branch 'master' into getbit", "committedDate": "2020-08-17T19:50:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc4NjI5NA==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/94#discussion_r493786294", "bodyText": "please add one more test which checks for an expected 0 result like the following:\ninput: CAST(23 AS INT64), CAST(3 AS INT64)\nexpected_output: CAST(0 AS INT64)", "author": "danieldeleo", "createdAt": "2020-09-23T18:02:07Z", "path": "udfs/community/test_cases.yaml", "diffHunk": "@@ -293,4 +293,7 @@ percentage_difference:\n   - test:\n     input: CAST(1.0 AS FLOAT64), CAST(1000000000 AS INT64)\n     expected_output: CAST(2.0 AS FLOAT64)\n- \n+getbit:\n+  - test:", "originalCommit": "736fc211a03efa1b5decc9cdf3f64a2958a25c2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDM1ODA5Mg==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/94#discussion_r580358092", "bodyText": "Hey @epishova any chance you can push this final change through and resolve the merge conflict? This is otherwise ready to go!", "author": "danieldeleo", "createdAt": "2021-02-22T15:47:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc4NjI5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDM2MDAwOA==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/94#discussion_r580360008", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            CREATE OR REPLACE FUNCTION fn.getbit(target_arg INT64, target_bit_arg INT64) AS \n          \n          \n            \n            (\n          \n          \n            \n              (\n          \n          \n            \n                SELECT\n          \n          \n            \n                  (target_arg & 1 << target_bit_arg) >> target_bit_arg\n          \n          \n            \n              )\n          \n          \n            \n            );\n          \n          \n            \n            CREATE OR REPLACE FUNCTION fn.getbit(target_arg INT64, target_bit_arg INT64) AS \n          \n          \n            \n            ((\n          \n          \n            \n                SELECT\n          \n          \n            \n                  (target_arg & 1 << target_bit_arg) >> target_bit_arg\n          \n          \n            \n            ));", "author": "danieldeleo", "createdAt": "2021-02-22T15:50:04Z", "path": "udfs/community/getbit.sql", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+-- gitbit: Given an INTEGER value, returns the value of a bit at a specified position.\n+-- Input: target_arg value, INT64 target_bit_arg position of the bit, starting at 0 \n+-- Output: value of the bit (0 or 1) at the specified position.\n+CREATE OR REPLACE FUNCTION fn.getbit(target_arg INT64, target_bit_arg INT64) AS \n+(\n+  (\n+    SELECT\n+      (target_arg & 1 << target_bit_arg) >> target_bit_arg\n+  )\n+);", "originalCommit": "736fc211a03efa1b5decc9cdf3f64a2958a25c2c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "602927040b4a7104455e0a4df371ac231cc13299", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/602927040b4a7104455e0a4df371ac231cc13299", "message": "Update udfs/community/getbit.sql\n\nCo-authored-by: Daniel De Leo <danieldeleo@users.noreply.github.com>", "committedDate": "2021-08-26T20:08:42Z", "type": "commit"}, {"oid": "7f33dbc839efd7b9d360e5b5530e744d8a1270e6", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/7f33dbc839efd7b9d360e5b5530e744d8a1270e6", "message": "Update test_cases.yaml\n\nAdded a test case for 0.", "committedDate": "2021-08-27T12:36:09Z", "type": "commit"}, {"oid": "8c8223a71981720e9090bad83710f5e961a8f02f", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/8c8223a71981720e9090bad83710f5e961a8f02f", "message": "Merge branch 'master' into getbit", "committedDate": "2021-08-27T12:44:12Z", "type": "commit"}]}