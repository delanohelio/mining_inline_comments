{"pr_number": 65, "pr_title": "Get last day of the month as date", "pr_createdAt": "2020-05-23T15:45:27Z", "pr_url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65", "timeline": [{"oid": "afa46cfe9acd0f17ca242d243abb74ffec7b67c9", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/afa46cfe9acd0f17ca242d243abb74ffec7b67c9", "message": "add udf for getting the last day of the month", "committedDate": "2020-05-23T15:40:18Z", "type": "commit"}, {"oid": "912359ed92fb74376c963ebb12096d8d0aa020d3", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/912359ed92fb74376c963ebb12096d8d0aa020d3", "message": "update data type used in readme example", "committedDate": "2020-05-23T15:48:05Z", "type": "commit"}, {"oid": "f8d944ba38c7b43cc8d74484c19d5f41f743228b", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/f8d944ba38c7b43cc8d74484c19d5f41f743228b", "message": "add bqutil prefix to function calls in readme examples", "committedDate": "2020-05-23T15:54:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyMzY0MA==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#discussion_r433023640", "bodyText": "I would rename this to LAST_DAY as that's how this function appears in other data warehouses:\n\nSnowflake - https://docs.snowflake.com/en/sql-reference/functions/last_day.html\nTerdata - https://docs.teradata.com/reader/kmuOwjp1zEYg98JsB8fu_A/FhiYdsm_Lmhy_GaOgXC26A\n\nAlso, since this appears in the Teradata migration functions, it would be best to make the Teradata function refer to the community one for consistency.", "author": "ryanmcdowell", "createdAt": "2020-06-01T03:05:19Z", "path": "udfs/community/month_ceil.sql", "diffHunk": "@@ -0,0 +1,25 @@\n+/*\n+ * Copyright 2019 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+CREATE OR REPLACE FUNCTION fn.month_ceil(dt DATE) RETURNS DATE AS", "originalCommit": "f8d944ba38c7b43cc8d74484c19d5f41f743228b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAzNzA3Mw==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#discussion_r433037073", "bodyText": "I had no idea this already existed.. and here I was thinking I'd come up with something super unique and novel \ud83d\ude09", "author": "christippett", "createdAt": "2020-06-01T04:33:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyMzY0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNDA1MA==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#discussion_r433024050", "bodyText": "I'm confused at what this restructure is doing.", "author": "ryanmcdowell", "createdAt": "2020-06-01T03:07:50Z", "path": "udfs/community/README.md", "diffHunk": "@@ -13,24 +13,29 @@ SELECT bqutil.fn.int(1.684)\n \n ## UDFs\n \n-* [csv_to_struct](#csv_to_structstrlist-string)\n-* [find_in_set](#find_in_setstr-string-strlist-string)\n-* [freq_table](#freq_tablearr-any-type)\n-* [get_array_value](#get_array_valuek-string-arr-any-type)\n-* [get_value](#get_valuek-string-arr-any-type)\n-* [int](#intv-any-type)\n-* [median](#medianarr-any-type)\n-* [nlp_compromise_number](#nlp_compromise_numberstr-string)\n-* [nlp_compromise_people](#nlp_compromise_peoplestr-string)\n-* [radians](#radiansx-any-type)\n-* [random_int](#random_intmin-any-type-max-any-type)\n-* [random_value](#random_valuearr-any-type)\n-* [translate](#translateexpression-string-characters_to_replace-string-characters_to_substitute-string)\n-* [typeof](#typeofinput-any-type)\n-* [url_keys](#url_keysquery-string)\n-* [url_param](#url_paramquery-string-p-string)\n-* [url_parse](#url_parseurlstring-string-parttoextract-string)\n-* [zeronorm](#zeronormx-any-type-meanx-float64-stddevx-float64)\n+- [Community UDFs](#community-udfs)", "originalCommit": "f8d944ba38c7b43cc8d74484c19d5f41f743228b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyODQ3Nw==", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/pull/65#discussion_r433028477", "bodyText": "Opps, that'll be my overzealous auto-formatter. Not sure how I missed that when staging my changes - I'll revert it back to the way it was.", "author": "christippett", "createdAt": "2020-06-01T03:36:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAyNDA1MA=="}], "type": "inlineReview"}, {"oid": "08723494474130d543e66b3513d4188284f57950", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/08723494474130d543e66b3513d4188284f57950", "message": "rename `month_ceil` to `last_day`", "committedDate": "2020-06-01T04:25:17Z", "type": "commit"}, {"oid": "4bfc66efb4ecf70d78e5b373cce5563d27c8db16", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/4bfc66efb4ecf70d78e5b373cce5563d27c8db16", "message": "point teradata function to community version", "committedDate": "2020-06-01T04:30:29Z", "type": "commit"}, {"oid": "e3ba971ee4a1d319e001a8060dbdf6181f512142", "url": "https://github.com/GoogleCloudPlatform/bigquery-utils/commit/e3ba971ee4a1d319e001a8060dbdf6181f512142", "message": "merge latest changes from bigquery-utils/master", "committedDate": "2020-06-01T04:46:45Z", "type": "commit"}]}