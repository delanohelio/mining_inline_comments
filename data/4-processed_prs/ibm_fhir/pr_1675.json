{"pr_number": 1675, "pr_title": "fix: change to use a single RUN and change deprecated command in lieu of a label", "pr_createdAt": "2020-11-06T21:31:33Z", "pr_url": "https://github.com/IBM/FHIR/pull/1675", "timeline": [{"oid": "03076c9742d4326f4e78aae44a6e4a61309b6523", "url": "https://github.com/IBM/FHIR/commit/03076c9742d4326f4e78aae44a6e4a61309b6523", "message": "fix: change to use a single RUN and change deprecated command in lieu of a label\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-11-06T21:30:37Z", "type": "commit"}, {"oid": "251a493cb43bacd33b93952076a378b2c1a51b70", "url": "https://github.com/IBM/FHIR/commit/251a493cb43bacd33b93952076a378b2c1a51b70", "message": "fix: add a yum clean all\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-11-06T21:33:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ4Mjc5Ng==", "url": "https://github.com/IBM/FHIR/pull/1675#discussion_r519482796", "bodyText": "I'd be fine to totally drop this line...similar to how we decied now to include the @author tag on the source files", "author": "lmsurpre", "createdAt": "2020-11-08T21:59:11Z", "path": "fhir-install/Dockerfile", "diffHunk": "@@ -23,7 +23,7 @@ RUN unzip -qq /tmp/fhir-server-distribution.zip -d /tmp && \\\n FROM openliberty/open-liberty:20.0.0.9-full-java8-openj9-ubi\n COPY --chown=1001:0 --from=base /opt/ol/wlp /opt/ol/wlp\n \n-MAINTAINER Lee Surprenant <lmsurpre@us.ibm.com>\n+LABEL MAINTAINER=\"Lee Surprenant <lmsurpre@us.ibm.com>\"", "originalCommit": "251a493cb43bacd33b93952076a378b2c1a51b70", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgxNjg0OQ==", "url": "https://github.com/IBM/FHIR/pull/1675#discussion_r519816849", "bodyText": "OK - will remove", "author": "prb112", "createdAt": "2020-11-09T13:33:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ4Mjc5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ4Mjk4OQ==", "url": "https://github.com/IBM/FHIR/pull/1675#discussion_r519482989", "bodyText": "we don't do anything with yum in here at the moment...are you thinking to add a yum update too?", "author": "lmsurpre", "createdAt": "2020-11-08T22:00:33Z", "path": "fhir-install/Dockerfile", "diffHunk": "@@ -36,15 +36,16 @@ ENV WLP_OUTPUT_DIR=/opt/ol/wlp/usr/servers\n # Tell liberty not to worry about a keystore since we provide our own at a different path\n ENV KEYSTORE_REQUIRED \"false\"\n \n-# Replace links to defaultServer with links to fhir-server\n+# Replace links to defaultServer with links to fhir-server and \n+# create the configDropins directories for the fhir-server\n USER root\n RUN ln -sfn ${FHIR} /output && \\\n     ln -sfn ${FHIR} /config && \\\n     rm -rf /opt/ol/wlp/output && \\\n-    rm -rf /opt/ol/wlp/usr/servers/defaultServer\n+    rm -rf /opt/ol/wlp/usr/servers/defaultServer && \\\n+    mkdir -p /config/configDropins/defaults /config/configDropins/overrides && \\\n+    chown -R 1001:1001 /config/configDropins/ && \\\n+    yum clean all", "originalCommit": "251a493cb43bacd33b93952076a378b2c1a51b70", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgxOTEwNQ==", "url": "https://github.com/IBM/FHIR/pull/1675#discussion_r519819105", "bodyText": "Yes, I should have added it.", "author": "prb112", "createdAt": "2020-11-09T13:36:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ4Mjk4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgxOTE4MQ==", "url": "https://github.com/IBM/FHIR/pull/1675#discussion_r519819181", "bodyText": "It's now added", "author": "prb112", "createdAt": "2020-11-09T13:37:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ4Mjk4OQ=="}], "type": "inlineReview"}, {"oid": "c95d0d2c38d5f4a161966411feebdbcc17c8e02d", "url": "https://github.com/IBM/FHIR/commit/c95d0d2c38d5f4a161966411feebdbcc17c8e02d", "message": "fix: update per review and added yum update\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-11-09T13:36:40Z", "type": "commit"}]}