{"pr_number": 1800, "pr_title": "doc: update must gather to include open shift details", "pr_createdAt": "2020-12-05T02:13:50Z", "pr_url": "https://github.com/IBM/FHIR/pull/1800", "timeline": [{"oid": "e3118823de2b66f48184b64b57da7c952c71a08e", "url": "https://github.com/IBM/FHIR/commit/e3118823de2b66f48184b64b57da7c952c71a08e", "message": "doc: update must gather to include open shift details\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-12-05T02:11:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzU2MjYyOQ==", "url": "https://github.com/IBM/FHIR/pull/1800#discussion_r537562629", "bodyText": "What is icp4acluster?", "author": "tbieste", "createdAt": "2020-12-07T14:46:13Z", "path": "docs/src/pages/MustGather.md", "diffHunk": "@@ -35,3 +35,101 @@ The IBM FHIR Server - Must-Gather Information\n 3. If possible, please include a trace.log (or snippet) which shows the server activity when the problem occurred.\n     The liberty \"traceSpecification\" string should include `com.ibm.fhir.*=fine`\n \n+<hr>\n+\n+# Gathering logs on Red Hat OpenShift\n+\n+To help IBM Support troubleshoot any issues with your *IBM FHIR Server instance* on OpenShift, use the `oc adm must-gather` command to capture the must gather logs. The logs are stored in a folder in the current working directory.\n+\n+To gather diagnostic logs, run the following commands as Cluster Administrator and replace ` <YOUR_NAMESPACE>` with your namespace that the IBM FHIR Server and the IBM FHIR Server Schematool is running.\n+\n+1. Log in to your Red Hat OpenShift Container Platform as a cluster administrator by using the oc CLI.\n+\n+1. Provide the output of the OpenShift version.\n+\n+```\n+oc version > version.txt\n+```\n+\n+1. Provide the output of the Kubectl version.\n+\n+```\n+kubectl version >> version.txt\n+```\n+\n+1. Collection information about the nodes.\n+\n+```\n+oc get nodes -o wide -n <YOUR_NAMESPACE> > nodes.txt\n+```\n+\n+1. Collect information about the pod statuses\n+\n+```\n+oc get pods -n <YOUR_NAMESPACE> > pods.txt\n+```\n+\n+1. Collect information about the pod containers\n+\n+```\n+oc get pods -o jsonpath=\"{..image}\"  -n <YOUR_NAMESPACE> > containerInfo.txt\n+```\n+\n+1. Collect the defined secrets\n+\n+```\n+oc get secrets  -n <YOUR_NAMESPACE> > secrets.txt\n+```\n+\n+1. Collect the defined persistent volume claims\n+\n+```\n+oc get pvc -n <YOUR_NAMESPACE> > pvcs.txt\n+```\n+\n+1. Collect the description and log of any pod you are having issues with:\n+\n+```\n+oc describe pod <pod-name> -n <YOUR_NAMESPACE> > describe-<podname>.txt\n+oc logs <podname>  -n <YOUR_NAMESPACE> > log-<podname>.log\n+```\n+\n+1. The oc adm must-gather CLI command collects the information from your cluster that is most likely needed for debugging issues, such as:\n+\n+```\n+oc adm must-gather\n+```\n+\n+1. To obtain your cluster ID using the OpenShift CLI (oc), run the following command:\n+\n+```\n+oc get clusterversion -o jsonpath='{.items[].spec.clusterID}{\"\\n\"}'\n+```\n+\n+1. Provide the Custom Resource(CR) .yaml file used by the operator to configure the environment\n+\n+```\n+kubectl get icp4acluster -o yaml > config.yaml", "originalCommit": "e3118823de2b66f48184b64b57da7c952c71a08e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzYxMTYyNw==", "url": "https://github.com/IBM/FHIR/pull/1800#discussion_r537611627", "bodyText": "Thanks, I'll clean that up", "author": "prb112", "createdAt": "2020-12-07T15:47:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzU2MjYyOQ=="}], "type": "inlineReview"}]}