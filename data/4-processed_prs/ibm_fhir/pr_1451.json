{"pr_number": 1451, "pr_title": "feat: DaVinci Payer Data Exchange US Drug Formulary STU1 #1432 #1433", "pr_createdAt": "2020-08-26T20:31:12Z", "pr_url": "https://github.com/IBM/FHIR/pull/1451", "timeline": [{"oid": "ad30be9a42305d5c61932a840d959125a24723de", "url": "https://github.com/IBM/FHIR/commit/ad30be9a42305d5c61932a840d959125a24723de", "message": "feat: DaVinci Payer Data Exchange US Drug Formulary STU1 #1432\n\n- Add DaVinci PDEX Formulary Examples to fhir-examples\n  - Kept it to the Relevant profiles for List/MedicationKnowledge\n  - Change references for Davinci-drug-formulary changed to\ndavinci-drug-formulary\nA corresponding JIRA issue is opened\nhttps://jira.hl7.org/browse/FHIR-28361\n- Add DaVinci PDEX Formulary Profile to\nconformance/fhir-ig-davinci-pdex-formulary\n  - Had to Run the ResourceProcessor\n  - Generated the Index for 28 Resources\n  - Change references for Davinci-drug-formulary changed to\ndavinci-drug-formulary\n- Add DaVinci PDEX Formulary Profile Tests\n- Added fhir-ig-davinci-formulary to the fhir-validation as a profile so\nit is built into the fhir-validation zip\n- Added fhir-ig-davinci-formulary to the fhir-install so it's picked up\nin the distribution\n- Added fhir-ig-davinci-formulary to fhir-parent modules\n- Update CHANGELOG.md\n- Update README.md with the reference to the new ig\n- Update docs/src/pages/guides/CreateFHIRValidationAssembly.md to\ninclude new ig in the zip generation\n- Include fhir-ig-davinci-pdex-plan-net to build.sh\n- Add Integration Tests\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-26T20:26:10Z", "type": "commit"}, {"oid": "ea4eaa9a8283a1368cb34e8bf0f7708a33d5c31a", "url": "https://github.com/IBM/FHIR/commit/ea4eaa9a8283a1368cb34e8bf0f7708a33d5c31a", "message": "fix: updated with Da Vinci PDEX Formulary\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-26T20:43:53Z", "type": "commit"}, {"oid": "07c0d99e20c1a4abe08294f64849527d76a21522", "url": "https://github.com/IBM/FHIR/commit/07c0d99e20c1a4abe08294f64849527d76a21522", "message": "fix: integration tests across multiple absent or existing profiles\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-26T21:00:37Z", "type": "commit"}, {"oid": "d888c60c61dca9deed0ad91a1e92085345536c5a", "url": "https://github.com/IBM/FHIR/commit/d888c60c61dca9deed0ad91a1e92085345536c5a", "message": "fix: refactor the profile checks to be more dynamic\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-27T00:00:38Z", "type": "commit"}, {"oid": "7e167d85a1d0c077b78debc55dd1af3b1726138b", "url": "https://github.com/IBM/FHIR/commit/7e167d85a1d0c077b78debc55dd1af3b1726138b", "message": "fix: reconciled the profile name in the tests\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-27T00:21:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3MjgzMg==", "url": "https://github.com/IBM/FHIR/pull/1451#discussion_r478372832", "bodyText": "I was thinking our zip installer copies these here already.  Maybe we just need to make sure fhir-ig-davinci-pdex-formulary-*.jar is included in that instead of adding this step to the pre-integration-test script?", "author": "lmsurpre", "createdAt": "2020-08-27T12:15:28Z", "path": "build/pre-integration-test.sh", "diffHunk": "@@ -52,6 +52,10 @@ echo \"Copying test artifacts to install location...\"\n rm -rf ${SIT}/wlp/usr/servers/fhir-server/userlib/*\n cp -pr ${WORKSPACE}/operation/fhir-operation-test/target/fhir-operation-*-tests.jar ${SIT}/wlp/usr/servers/fhir-server/userlib/\n \n+echo \"Copying profiles into the server\"\n+cp -pr ${WORKSPACE}/conformance/fhir-ig-davinci-pdex-formulary/target/fhir-ig-davinci-pdex-formulary-*.jar ${SIT}/wlp/usr/servers/fhir-server/userlib/\n+cp -pr ${WORKSPACE}/conformance/fhir-ig-carin-bb/target/fhir-ig-carin-bb-*.jar ${SIT}/wlp/usr/servers/fhir-server/userlib/\n+cp -pr ${WORKSPACE}/conformance/fhir-ig-us-core/target/fhir-ig-us-core-*.jar ${SIT}/wlp/usr/servers/fhir-server/userlib/", "originalCommit": "7e167d85a1d0c077b78debc55dd1af3b1726138b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3NDg1OA==", "url": "https://github.com/IBM/FHIR/pull/1451#discussion_r478374858", "bodyText": "that's a good question... I wasn't sure, and may have added this without really knowing the root cause of the error I was chasing.", "author": "prb112", "createdAt": "2020-08-27T12:18:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3MjgzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3Njk2NQ==", "url": "https://github.com/IBM/FHIR/pull/1451#discussion_r478376965", "bodyText": "I removed that copy (letting the CI test it)", "author": "prb112", "createdAt": "2020-08-27T12:22:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3MjgzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3MzQ2MQ==", "url": "https://github.com/IBM/FHIR/pull/1451#discussion_r478373461", "bodyText": "is it bad that I don't even remember what these maven profiles do?  is it documented somewhere?", "author": "lmsurpre", "createdAt": "2020-08-27T12:16:34Z", "path": "build/release/build.sh", "diffHunk": "@@ -68,7 +68,7 @@ function build_all {\n     PROFILES_ARR+=(search-all-tests)\n     PROFILES_ARR+=(jdbc-all-tests)\n     PROFILES=$(IFS=, ; echo \"${PROFILES_ARR[*]}\")\n-    _mvn 'fhir-parent' \"-Pdeploy-bintray,fhir-javadocs,fhir-validation-distribution,fhir-ig-carin-bb,fhir-ig-davinci-pdex-plan-net,fhir-ig-mcode,fhir-ig-us-core,fhir-term,${PROFILES}\"\n+    _mvn 'fhir-parent' \"-Pdeploy-bintray,fhir-javadocs,fhir-validation-distribution,fhir-ig-carin-bb,fhir-ig-davinci-pdex-plan-net,fhir-ig-davinci-pdex-plan-net,fhir-ig-mcode,fhir-ig-us-core,fhir-term,${PROFILES}\"", "originalCommit": "7e167d85a1d0c077b78debc55dd1af3b1726138b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3NDI5MQ==", "url": "https://github.com/IBM/FHIR/pull/1451#discussion_r478374291", "bodyText": "Yes, documented in CreateValidationAssembly.md it dumps the profile in the validation zip.", "author": "prb112", "createdAt": "2020-08-27T12:17:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3MzQ2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3NTYxMA==", "url": "https://github.com/IBM/FHIR/pull/1451#discussion_r478375610", "bodyText": "ah yes, now I see it in CreateFHIRValidationAssembly.md ...these were introduced to break a potential dependency cycle so that we can include the profiles in the \"validation-assembly\"", "author": "lmsurpre", "createdAt": "2020-08-27T12:19:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3MzQ2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3Njc0Mg==", "url": "https://github.com/IBM/FHIR/pull/1451#discussion_r478376742", "bodyText": "right", "author": "prb112", "createdAt": "2020-08-27T12:21:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM3MzQ2MQ=="}], "type": "inlineReview"}, {"oid": "141136628e5a39f383f4d904ef8d73370fd47f24", "url": "https://github.com/IBM/FHIR/commit/141136628e5a39f383f4d904ef8d73370fd47f24", "message": "fix: removed copy that was added for profiles\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-27T12:21:20Z", "type": "commit"}, {"oid": "b9d6532c9f5680f9e18424c543ae51f294a1542d", "url": "https://github.com/IBM/FHIR/commit/b9d6532c9f5680f9e18424c543ae51f294a1542d", "message": "doc: add drug formulary to FHIRValidationGuide\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-27T12:26:00Z", "type": "commit"}, {"oid": "f2819b32b19483dede383f3456dc34662fd8e7b7", "url": "https://github.com/IBM/FHIR/commit/f2819b32b19483dede383f3456dc34662fd8e7b7", "message": "doc: add drug formulary to FHIRValidationGuide\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-27T12:31:35Z", "type": "commit"}, {"oid": "2af184ac3e652b8dcfaf82e88dbfb12861092e2c", "url": "https://github.com/IBM/FHIR/commit/2af184ac3e652b8dcfaf82e88dbfb12861092e2c", "message": "fix: remove the bulkdata client from the analysis\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-08-27T12:54:54Z", "type": "commit"}]}