{"pr_number": 1088, "pr_title": "Issue 1053 - execute all fhir-server-test tests by default", "pr_createdAt": "2020-05-13T20:36:49Z", "pr_url": "https://github.com/IBM/FHIR/pull/1088", "timeline": [{"oid": "2789ca86f34fb1fc2227ff5107f5e6f7c7ccc425", "url": "https://github.com/IBM/FHIR/commit/2789ca86f34fb1fc2227ff5107f5e6f7c7ccc425", "message": "Update fhir-server-test #1053\n\n- Remove unused LOINC.java\n- Refactor the testng.xml (package,classes) usage\n- Fix $apply operation issue where detail was not set\n- Move tests with special considerations to their own packages\n\t- bulkdata, db2, kafka\n\t- introduced controls in test.properties to disable or enable tests\n- Enabled all Tests\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:06:16Z", "type": "commit"}, {"oid": "c8d6ab693b68499ead5704613c94b7e94be4ca24", "url": "https://github.com/IBM/FHIR/commit/c8d6ab693b68499ead5704613c94b7e94be4ca24", "message": "Update fhir-server-test #1053\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:13:26Z", "type": "commit"}, {"oid": "9cd60d3842a085c5dd5f13e3ac76e8b1e83bf1f8", "url": "https://github.com/IBM/FHIR/commit/9cd60d3842a085c5dd5f13e3ac76e8b1e83bf1f8", "message": "Update fhir-server-test #1053\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:52:10Z", "type": "commit"}, {"oid": "19b30c4d98f25b6e9a4910a04763fc5424413834", "url": "https://github.com/IBM/FHIR/commit/19b30c4d98f25b6e9a4910a04763fc5424413834", "message": "Update fhir-server-test #1053\n\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-13T20:58:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxNzY4NA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r424817684", "bodyText": "Given that test.client.oauth.enabled = false by default, I think this comment is misleading.\nTechnically it is \"executed\" but we skip all the logic.", "author": "lmsurpre", "createdAt": "2020-05-14T01:16:55Z", "path": "fhir-server-test/src/test/java/testng.xml", "diffHunk": "@@ -1,43 +1,53 @@\n <!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" >\n <suite name=\"FHIRServerIntegrationTests\">\n     <test name=\"ExampleTest\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.R4ExampleServerTest\" />\n-        </classes>\n+        <!-- All of these tests are automatically executed and are from fhir-examples -->\n+        <packages>\n+            <package name=\"com.ibm.fhir.server.test.examples\" />\n+        </packages>\n     </test>\n- \n     <test name=\"ServerTests\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.Base64BinaryTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BasicServerTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ServerSpecTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BundleTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ConditionalReadTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DeleteTest\" />\n-            <class name=\"com.ibm.fhir.server.test.UpdateTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DuplicateResourceIdTest\"/>\n-            <class name=\"com.ibm.fhir.server.test.FHIRDocumentOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRValidateOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRHealthcheckOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.PrettyServerFormatTest\" />\n-            <class name=\"com.ibm.fhir.server.test.MultiDataStoreTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchAllTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchExtensionsTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SortingTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchNearTest\" />\n-            \n-            <class name=\"com.ibm.fhir.client.test.FHIRClientTest\" />\n-\n-            <class name=\"com.ibm.fhir.cli.test.FHIRCliTest\" />\n-            <!-- requires $hello operation to be deployed. \n-            Include the fhir-operation-[version]-tests jar in the fhir-server userlib dir before running the test:\n-            -->\n-            <class name=\"com.ibm.fhir.server.test.FHIROperationTest\" />\n-            \n-            <!-- The following class is intentionally moved to last.  \n-                During debug, the other tests interfere with the asynch nature of the test -->\n-            <class name=\"com.ibm.fhir.server.test.WebSocketNotificationsTest\" />\n-        </classes>\n-    </test>\n-</suite>\n+        <packages>\n+            <!-- All of these tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test\" />\n+        </packages>\n+    </test>\n+    <test name=\"ClientTests\">\n+        <packages>\n+            <!-- All of these tests are automatically executed -->", "originalCommit": "19b30c4d98f25b6e9a4910a04763fc5424413834", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4MjkzMA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425082930", "bodyText": "They are automatically executed, let me add to the existing statement and clarify.", "author": "prb112", "createdAt": "2020-05-14T12:02:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxNzY4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4ODQzNQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425088435", "bodyText": "Clarified", "author": "prb112", "createdAt": "2020-05-14T12:12:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxNzY4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxODEzMA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r424818130", "bodyText": "Given that test.websocket.enabled = false by default, I think this comment is misleading.\nTechnically it is \"executed\" but we skip all the logic, right?", "author": "lmsurpre", "createdAt": "2020-05-14T01:18:34Z", "path": "fhir-server-test/src/test/java/testng.xml", "diffHunk": "@@ -1,43 +1,53 @@\n <!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" >\n <suite name=\"FHIRServerIntegrationTests\">\n     <test name=\"ExampleTest\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.R4ExampleServerTest\" />\n-        </classes>\n+        <!-- All of these tests are automatically executed and are from fhir-examples -->\n+        <packages>\n+            <package name=\"com.ibm.fhir.server.test.examples\" />\n+        </packages>\n     </test>\n- \n     <test name=\"ServerTests\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.Base64BinaryTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BasicServerTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ServerSpecTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BundleTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ConditionalReadTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DeleteTest\" />\n-            <class name=\"com.ibm.fhir.server.test.UpdateTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DuplicateResourceIdTest\"/>\n-            <class name=\"com.ibm.fhir.server.test.FHIRDocumentOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRValidateOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRHealthcheckOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.PrettyServerFormatTest\" />\n-            <class name=\"com.ibm.fhir.server.test.MultiDataStoreTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchAllTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchExtensionsTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SortingTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchNearTest\" />\n-            \n-            <class name=\"com.ibm.fhir.client.test.FHIRClientTest\" />\n-\n-            <class name=\"com.ibm.fhir.cli.test.FHIRCliTest\" />\n-            <!-- requires $hello operation to be deployed. \n-            Include the fhir-operation-[version]-tests jar in the fhir-server userlib dir before running the test:\n-            -->\n-            <class name=\"com.ibm.fhir.server.test.FHIROperationTest\" />\n-            \n-            <!-- The following class is intentionally moved to last.  \n-                During debug, the other tests interfere with the asynch nature of the test -->\n-            <class name=\"com.ibm.fhir.server.test.WebSocketNotificationsTest\" />\n-        </classes>\n-    </test>\n-</suite>\n+        <packages>\n+            <!-- All of these tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test\" />\n+        </packages>\n+    </test>\n+    <test name=\"ClientTests\">\n+        <packages>\n+            <!-- All of these tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.cli.test\" />\n+            <package name=\"com.ibm.fhir.client.test\" />\n+            <package name=\"com.ibm.fhir.client.test.oauth\" />\n+        </packages>\n+    </test>\n+    <test name=\"BulkDataTests\">\n+        <packages>\n+            <!-- All of these Bulk Data tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test.bulkdata\" />\n+        </packages>\n+    </test>\n+    <test name=\"Db2Tests\">\n+        <packages>\n+            <!-- All of these Db2 tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test.db2\" />\n+        </packages>\n+    </test>\n+    <test name=\"KafkaTests\">\n+        <packages>\n+            <!-- All of these Kafka tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test.kafka\" />\n+        </packages>\n+    </test>\n+    <test name=\"WebsocketTests\">\n+        <packages>\n+            <!-- All of these websocket tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test.websocket\" />", "originalCommit": "19b30c4d98f25b6e9a4910a04763fc5424413834", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4Mjg3OQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425082879", "bodyText": "It is executed locally, on the server it is run, let me clarify this in the comment", "author": "prb112", "createdAt": "2020-05-14T12:02:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxODEzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MzQwNA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425093404", "bodyText": "Clarified this actually, it's disabled = false by default.", "author": "prb112", "createdAt": "2020-05-14T12:21:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxODEzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxODUwMg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r424818502", "bodyText": "Given that test.db2.enabled = false by default, I think this comment is misleading.", "author": "lmsurpre", "createdAt": "2020-05-14T01:20:07Z", "path": "fhir-server-test/src/test/java/testng.xml", "diffHunk": "@@ -1,43 +1,53 @@\n <!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" >\n <suite name=\"FHIRServerIntegrationTests\">\n     <test name=\"ExampleTest\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.R4ExampleServerTest\" />\n-        </classes>\n+        <!-- All of these tests are automatically executed and are from fhir-examples -->\n+        <packages>\n+            <package name=\"com.ibm.fhir.server.test.examples\" />\n+        </packages>\n     </test>\n- \n     <test name=\"ServerTests\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.Base64BinaryTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BasicServerTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ServerSpecTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BundleTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ConditionalReadTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DeleteTest\" />\n-            <class name=\"com.ibm.fhir.server.test.UpdateTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DuplicateResourceIdTest\"/>\n-            <class name=\"com.ibm.fhir.server.test.FHIRDocumentOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRValidateOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRHealthcheckOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.PrettyServerFormatTest\" />\n-            <class name=\"com.ibm.fhir.server.test.MultiDataStoreTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchAllTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchExtensionsTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SortingTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchNearTest\" />\n-            \n-            <class name=\"com.ibm.fhir.client.test.FHIRClientTest\" />\n-\n-            <class name=\"com.ibm.fhir.cli.test.FHIRCliTest\" />\n-            <!-- requires $hello operation to be deployed. \n-            Include the fhir-operation-[version]-tests jar in the fhir-server userlib dir before running the test:\n-            -->\n-            <class name=\"com.ibm.fhir.server.test.FHIROperationTest\" />\n-            \n-            <!-- The following class is intentionally moved to last.  \n-                During debug, the other tests interfere with the asynch nature of the test -->\n-            <class name=\"com.ibm.fhir.server.test.WebSocketNotificationsTest\" />\n-        </classes>\n-    </test>\n-</suite>\n+        <packages>\n+            <!-- All of these tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test\" />\n+        </packages>\n+    </test>\n+    <test name=\"ClientTests\">\n+        <packages>\n+            <!-- All of these tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.cli.test\" />\n+            <package name=\"com.ibm.fhir.client.test\" />\n+            <package name=\"com.ibm.fhir.client.test.oauth\" />\n+        </packages>\n+    </test>\n+    <test name=\"BulkDataTests\">\n+        <packages>\n+            <!-- All of these Bulk Data tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test.bulkdata\" />\n+        </packages>\n+    </test>\n+    <test name=\"Db2Tests\">\n+        <packages>\n+            <!-- All of these Db2 tests are automatically executed -->", "originalCommit": "19b30c4d98f25b6e9a4910a04763fc5424413834", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxODkyNg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r424818926", "bodyText": "Given that test.bulkdata.import.enabled and test.bulkdata.export.enabled are false, I think this comment is misleading.", "author": "lmsurpre", "createdAt": "2020-05-14T01:21:43Z", "path": "fhir-server-test/src/test/java/testng.xml", "diffHunk": "@@ -1,43 +1,53 @@\n <!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\" >\n <suite name=\"FHIRServerIntegrationTests\">\n     <test name=\"ExampleTest\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.R4ExampleServerTest\" />\n-        </classes>\n+        <!-- All of these tests are automatically executed and are from fhir-examples -->\n+        <packages>\n+            <package name=\"com.ibm.fhir.server.test.examples\" />\n+        </packages>\n     </test>\n- \n     <test name=\"ServerTests\">\n-        <classes>\n-            <class name=\"com.ibm.fhir.server.test.Base64BinaryTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BasicServerTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ServerSpecTest\" />\n-            <class name=\"com.ibm.fhir.server.test.BundleTest\" />\n-            <class name=\"com.ibm.fhir.server.test.ConditionalReadTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DeleteTest\" />\n-            <class name=\"com.ibm.fhir.server.test.UpdateTest\" />\n-            <class name=\"com.ibm.fhir.server.test.DuplicateResourceIdTest\"/>\n-            <class name=\"com.ibm.fhir.server.test.FHIRDocumentOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRValidateOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.FHIRHealthcheckOperationTest\" />\n-            <class name=\"com.ibm.fhir.server.test.PrettyServerFormatTest\" />\n-            <class name=\"com.ibm.fhir.server.test.MultiDataStoreTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchAllTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchExtensionsTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SortingTest\" />\n-            <class name=\"com.ibm.fhir.server.test.SearchNearTest\" />\n-            \n-            <class name=\"com.ibm.fhir.client.test.FHIRClientTest\" />\n-\n-            <class name=\"com.ibm.fhir.cli.test.FHIRCliTest\" />\n-            <!-- requires $hello operation to be deployed. \n-            Include the fhir-operation-[version]-tests jar in the fhir-server userlib dir before running the test:\n-            -->\n-            <class name=\"com.ibm.fhir.server.test.FHIROperationTest\" />\n-            \n-            <!-- The following class is intentionally moved to last.  \n-                During debug, the other tests interfere with the asynch nature of the test -->\n-            <class name=\"com.ibm.fhir.server.test.WebSocketNotificationsTest\" />\n-        </classes>\n-    </test>\n-</suite>\n+        <packages>\n+            <!-- All of these tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.server.test\" />\n+        </packages>\n+    </test>\n+    <test name=\"ClientTests\">\n+        <packages>\n+            <!-- All of these tests are automatically executed -->\n+            <package name=\"com.ibm.fhir.cli.test\" />\n+            <package name=\"com.ibm.fhir.client.test\" />\n+            <package name=\"com.ibm.fhir.client.test.oauth\" />\n+        </packages>\n+    </test>\n+    <test name=\"BulkDataTests\">\n+        <packages>\n+            <!-- All of these Bulk Data tests are automatically executed -->", "originalCommit": "19b30c4d98f25b6e9a4910a04763fc5424413834", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4MjU1MA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425082550", "bodyText": "They are automatically executed, let me add to the existing statement and clarify.", "author": "prb112", "createdAt": "2020-05-14T12:01:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxODkyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4ODU1Mg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425088552", "bodyText": "Clarified", "author": "prb112", "createdAt": "2020-05-14T12:13:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxODkyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r424819650", "bodyText": "what are we missing by skipping this step by default?", "author": "lmsurpre", "createdAt": "2020-05-14T01:24:32Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/BundleTest.java", "diffHunk": "@@ -156,7 +156,9 @@ public Bundle getEntityWithExtraWork(Response response, String method) throws Ex\n     public void commonWork(Bundle responseBundle, String method) throws Exception{\n         assertNotNull(responseBundle);\n         printBundle(method, \"response\", responseBundle);\n-        checkForIssuesWithValidation(responseBundle, true, false);\n+        if(DEBUG) {\n+            checkForIssuesWithValidation(responseBundle, true, false);\n+        }", "originalCommit": "19b30c4d98f25b6e9a4910a04763fc5424413834", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4MjM1NQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425082355", "bodyText": "in this case, it's just outputing the bundle report and was driving a lot of logging.\nMainly missing narrative statements.", "author": "prb112", "createdAt": "2020-05-14T12:01:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA4ODc0NQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425088745", "bodyText": "Clarified (added a comment)", "author": "prb112", "createdAt": "2020-05-14T12:13:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTA5MTUxNg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425091516", "bodyText": "refactored slightly... pushed the debugging to checkForIssuesWithValidation (I pass DEBUG down to it, so we can see/not see non-fatal/warning errors. )", "author": "prb112", "createdAt": "2020-05-14T12:18:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgxOTY1MA=="}], "type": "inlineReview"}, {"oid": "30425525f086342fe9431d361993c51f28d6bc44", "url": "https://github.com/IBM/FHIR/commit/30425525f086342fe9431d361993c51f28d6bc44", "message": "Update fhir-server-test #1053\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>", "committedDate": "2020-05-14T12:21:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUxOTQzNw==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425519437", "bodyText": "Just a minor style comment, but I'd prefer to see this line indented one more level so that its clear that its a continuation of the method declaration and make it stand out from the first line in the method impl.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    MultivaluedMap<String, String> queryParameters, Parameters parameters) throws FHIROperationException {\n          \n          \n            \n                        MultivaluedMap<String, String> queryParameters, Parameters parameters)\n          \n          \n            \n                        throws FHIROperationException {", "author": "lmsurpre", "createdAt": "2020-05-15T01:39:22Z", "path": "fhir-operation-apply/src/main/java/com/ibm/fhir/operation/apply/ApplyOperation.java", "diffHunk": "@@ -138,8 +136,7 @@ protected Parameters doInvoke(FHIROperationContext operationContext,\n \n     // Process the Parameters bodies for the contents\n     private CodeableConcept checkAndProcessSettingContext(FHIROperationContext operationContext,\n-        MultivaluedMap<String, String> queryParameters, Parameters parameters)\n-        throws FHIROperationException {\n+        MultivaluedMap<String, String> queryParameters, Parameters parameters) throws FHIROperationException {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMDU4NQ==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425520585", "bodyText": "style-only comment\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        CodeableConcept cc =\n          \n          \n            \n                                CodeableConcept.builder().text(string(\"userTaskContext\")).coding(Coding.builder().code(Code.of(userTaskContext)).build()).build();\n          \n          \n            \n                        CodeableConcept cc = CodeableConcept.builder()\n          \n          \n            \n                                .text(string(\"userTaskContext\"))\n          \n          \n            \n                                .coding(Coding.builder().code(Code.of(userTaskContext)).build())\n          \n          \n            \n                                .build();", "author": "lmsurpre", "createdAt": "2020-05-15T01:43:47Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -295,7 +299,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n             parameters.add(Parameter.builder().name(string(\"userLanguage\")).value(cc).build());\n         }\n         if (userTaskContext != null) {\n-            CodeableConcept cc = CodeableConcept.builder().text(string(\"userTaskContext\")).coding(Coding.builder().code(Code.of(userTaskContext)).build()).build();\n+            CodeableConcept cc =\n+                    CodeableConcept.builder().text(string(\"userTaskContext\")).coding(Coding.builder().code(Code.of(userTaskContext)).build()).build();", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMDgwNA==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425520804", "bodyText": "style-only comment\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        CodeableConcept cc =\n          \n          \n            \n                                CodeableConcept.builder().text(string(\"settingContext\")).coding(Coding.builder().code(Code.of(settingContext)).build()).build();\n          \n          \n            \n                        CodeableConcept cc = CodeableConcept.builder()\n          \n          \n            \n                                .text(string(\"settingContext\"))\n          \n          \n            \n                                .coding(Coding.builder().code(Code.of(settingContext)).build())\n          \n          \n            \n                                .build();", "author": "lmsurpre", "createdAt": "2020-05-15T01:44:46Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -305,7 +310,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n         }\n \n         if (settingContext != null) {\n-            CodeableConcept cc = CodeableConcept.builder().text(string(\"settingContext\")).coding(Coding.builder().code(Code.of(settingContext)).build()).build();\n+            CodeableConcept cc =\n+                    CodeableConcept.builder().text(string(\"settingContext\")).coding(Coding.builder().code(Code.of(settingContext)).build()).build();", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMTAyNg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425521026", "bodyText": "same as earlier comment\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                    String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {\n          \n          \n            \n                public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "author": "lmsurpre", "createdAt": "2020-05-15T01:45:31Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -330,10 +336,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n      * @param settingContext\n      * @return\n      */\n-    public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject,\n-        String encounter, String practitioner,\n-        String organization, String userType, String userLanguage, String userTaskContext,\n-        String setting, String settingContext) {\n+    public List<ApplyOperationResult> runValidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n+        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMTEzMw==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425521133", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                    String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {\n          \n          \n            \n                public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n          \n          \n            \n                        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "author": "lmsurpre", "createdAt": "2020-05-15T01:45:54Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -368,9 +372,8 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n      * @param settingContext\n      * @return\n      */\n-    public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject,\n-        String encounter, String practitioner, String organization, String userType,\n-        String userLanguage, String userTaskContext, String setting, String settingContext) {\n+    public List<ApplyOperationResult> runInvalidTest(String planDefinition, List<String> subject, String encounter, String practitioner, String organization,\n+        String userType, String userLanguage, String userTaskContext, String setting, String settingContext) {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTUyMTIyMg==", "url": "https://github.com/IBM/FHIR/pull/1088#discussion_r425521222", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root, boolean invalid, String planDefinition, List<String> subject,\n          \n          \n            \n                    String encounter, String practitioner, String organization, String userType, String userLanguage, String userTaskContext, String setting,\n          \n          \n            \n                    String settingContext) {\n          \n          \n            \n                public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root, boolean invalid, String planDefinition, List<String> subject,\n          \n          \n            \n                        String encounter, String practitioner, String organization, String userType, String userLanguage, String userTaskContext, String setting,\n          \n          \n            \n                        String settingContext) {", "author": "lmsurpre", "createdAt": "2020-05-15T01:46:17Z", "path": "fhir-server-test/src/test/java/com/ibm/fhir/server/test/PlanDefinitionApplyOperationTest.java", "diffHunk": "@@ -404,10 +407,9 @@ public Parameters generateParameters(String planDefinition, List<String> subject\n      * @param settingContext\n      * @return\n      */\n-    public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root,\n-        boolean invalid, String planDefinition, List<String> subject, String encounter,\n-        String practitioner, String organization, String userType, String userLanguage,\n-        String userTaskContext, String setting, String settingContext) {\n+    public ApplyOperationResult runIndividualPlanDefinition(String mimeType, boolean root, boolean invalid, String planDefinition, List<String> subject,\n+        String encounter, String practitioner, String organization, String userType, String userLanguage, String userTaskContext, String setting,\n+        String settingContext) {", "originalCommit": "30425525f086342fe9431d361993c51f28d6bc44", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3bcb505d31615d82e66080581bb4c736a694a7f2", "url": "https://github.com/IBM/FHIR/commit/3bcb505d31615d82e66080581bb4c736a694a7f2", "message": "Apply suggestions from code review\r\n\r\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>\n\nCo-authored-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-05-15T10:36:06Z", "type": "commit"}]}