{"pr_number": 1691, "pr_title": "Issue #1669 - fix composite search queries", "pr_createdAt": "2020-11-10T19:23:37Z", "pr_url": "https://github.com/IBM/FHIR/pull/1691", "timeline": [{"oid": "21d62eb10a2751b552d2c057c407221b2582fa49", "url": "https://github.com/IBM/FHIR/commit/21d62eb10a2751b552d2c057c407221b2582fa49", "message": "Issue #1669 - fix composite search queries\n\nSigned-off-by: Mike Schroeder <mschroed@us.ibm.com>", "committedDate": "2020-11-10T19:21:42Z", "type": "commit"}, {"oid": "18d489e1351a8480b36c1242ff6bfcbae0d3bd05", "url": "https://github.com/IBM/FHIR/commit/18d489e1351a8480b36c1242ff6bfcbae0d3bd05", "message": "Issue #1669 - remove non-existent test from testng.xml\n\nSigned-off-by: Mike Schroeder <mschroed@us.ibm.com>", "committedDate": "2020-11-10T19:35:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg5NzIxNw==", "url": "https://github.com/IBM/FHIR/pull/1691#discussion_r520897217", "bodyText": "Might be worth a comment noting the issue number and the fact that composites still use the old token values table (for now)", "author": "punktilious", "createdAt": "2020-11-10T21:52:34Z", "path": "fhir-persistence-jdbc/src/main/java/com/ibm/fhir/persistence/jdbc/util/JDBCQueryBuilder.java", "diffHunk": "@@ -826,12 +826,16 @@ private void appendInnerSelect(StringBuilder whereClauseSegment, QueryParameter\n                 for (int componentNum = 1; componentNum <= components.size(); componentNum++) {\n                     String alias = chainedParmVar + \"_p\" + componentNum;\n                     QueryParameter component = components.get(componentNum - 1);\n+                    String tableName = QuerySegmentAggregator.tableName(resourceTypeName, component);", "originalCommit": "18d489e1351a8480b36c1242ff6bfcbae0d3bd05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkwNjk5NQ==", "url": "https://github.com/IBM/FHIR/pull/1691#discussion_r520906995", "bodyText": "Done.", "author": "michaelwschroeder", "createdAt": "2020-11-10T22:12:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg5NzIxNw=="}], "type": "inlineReview"}, {"oid": "eec446b7627a21bfc81a6f8747bfef4e155f19e3", "url": "https://github.com/IBM/FHIR/commit/eec446b7627a21bfc81a6f8747bfef4e155f19e3", "message": "Issue #1669 - add some clarifying comments\n\nSigned-off-by: Mike Schroeder <mschroed@us.ibm.com>", "committedDate": "2020-11-10T22:11:11Z", "type": "commit"}]}