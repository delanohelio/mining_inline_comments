{"pr_number": 1767, "pr_title": "issue #1680 - add a server.env to the server and set TZ=UTC", "pr_createdAt": "2020-12-01T14:26:59Z", "pr_url": "https://github.com/IBM/FHIR/pull/1767", "timeline": [{"oid": "ee20124d4755445c1ec2608c482789cf4cb8286b", "url": "https://github.com/IBM/FHIR/commit/ee20124d4755445c1ec2608c482789cf4cb8286b", "message": "issue #1680 - add a server.env to the server and set TZ=UTC\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-12-01T14:53:52Z", "type": "commit"}, {"oid": "ee20124d4755445c1ec2608c482789cf4cb8286b", "url": "https://github.com/IBM/FHIR/commit/ee20124d4755445c1ec2608c482789cf4cb8286b", "message": "issue #1680 - add a server.env to the server and set TZ=UTC\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-12-01T14:53:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3NzQ5NA==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533477494", "bodyText": "fhir-server.xml? or server.xml?", "author": "prb112", "createdAt": "2020-12-01T14:58:39Z", "path": "docs/src/pages/guides/FHIRServerUsersGuide.md", "diffHunk": "@@ -121,7 +120,7 @@ Complete the following steps to upgrade the server:\n 1. Run the fhir-installer on a separate server.  \n 2. Configure the new server as appropriate (`fhir-server.xml` and anything under the `fhir-server/config` and `fhir-server/userlib` directories).  ", "originalCommit": "ee20124d4755445c1ec2608c482789cf4cb8286b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU1ODIzNQ==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533558235", "bodyText": "good catch.  This wasn't even a line I changed, but I'm pretty sure that should be server.xml.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            2. Configure the new server as appropriate (`fhir-server.xml` and anything under the `fhir-server/config` and `fhir-server/userlib` directories).  \n          \n          \n            \n            2. Configure the new server as appropriate (`server.xml` and anything under the `fhir-server/config` and `fhir-server/userlib` directories).", "author": "lmsurpre", "createdAt": "2020-12-01T16:40:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3NzQ5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU2NDE0Mg==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533564142", "bodyText": "should be addressed now", "author": "lmsurpre", "createdAt": "2020-12-01T16:48:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3NzQ5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3ODA3OQ==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533478079", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              * [3.1 Liberty server configuraiton](#31-liberty-server-configuration)\n          \n          \n            \n              * [3.1 Liberty server configuration](#31-liberty-server-configuration)", "author": "prb112", "createdAt": "2020-12-01T14:59:18Z", "path": "docs/src/pages/guides/FHIRServerUsersGuide.md", "diffHunk": "@@ -13,10 +13,9 @@ permalink: /FHIRServerUsersGuide/\n   * [2.2 Upgrading an existing server](#22-upgrading-an-existing-server)\n   * [2.3 Docker](#23-docker)\n - [3 Configuration](#3-configuration)\n-  * [3.1 Encoded passwords](#31-encoded-passwords)\n-  * [3.2 Property names](#32-property-names)\n-  * [3.3 Tenant-specific configuration properties](#33-tenant-specific-configuration-properties)\n-  * [3.4 Persistence layer configuration](#34-persistence-layer-configuration)\n+  * [3.1 Liberty server configuraiton](#31-liberty-server-configuration)", "originalCommit": "ee20124d4755445c1ec2608c482789cf4cb8286b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU2NDMyOQ==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533564329", "bodyText": "good catch, fixed in a subsequent commit", "author": "lmsurpre", "createdAt": "2020-12-01T16:49:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ3ODA3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ4MDk4Ng==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533480986", "bodyText": "probably should have a documentation reference", "author": "prb112", "createdAt": "2020-12-01T15:02:52Z", "path": "fhir-server/liberty-config/server.env", "diffHunk": "@@ -0,0 +1 @@\n+TZ=UTC", "originalCommit": "ee20124d4755445c1ec2608c482789cf4cb8286b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU2MDcwMw==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533560703", "bodyText": "not quite sure what you had in mind on this one.  a comment that points at our user's guide?  or you mean something that points to liberty's use of the TZ env var?", "author": "lmsurpre", "createdAt": "2020-12-01T16:44:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ4MDk4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU2NTkzMQ==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533565931", "bodyText": "points to the use of the TZ env variable. I think a quick statement is probably worthwhile", "author": "prb112", "createdAt": "2020-12-01T16:51:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ4MDk4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU4NTU4OQ==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533585589", "bodyText": "unfortunately I didn't find anything about this in the openliberty docs.\nhttps://www.ibm.com/support/knowledgecenter/SSEQTP_8.5.5/com.ibm.websphere.base.doc/ae/trun_svr_timezones.html is a reasonable link, but quite old.\nhttps://www.gnu.org/software/libc/manual/html_node/TZ-Variable.html is pretty generic, but begs the question \"does it work on windows?\"\nhttps://stackoverflow.com/questions/2493749/how-to-set-a-jvm-timezone-properly is probably the most authoritative but the accepted answer recommends using the java property instead of the env var.", "author": "lmsurpre", "createdAt": "2020-12-01T17:19:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ4MDk4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY2MzkxNA==", "url": "https://github.com/IBM/FHIR/pull/1767#discussion_r533663914", "bodyText": "I do know it needs to be in the server.env file. We tried -D in the jvm options and that doesn't work.", "author": "punktilious", "createdAt": "2020-12-01T19:23:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzQ4MDk4Ng=="}], "type": "inlineReview"}, {"oid": "be09519b92f14aaed89dd3ce31c78f1898f1cf32", "url": "https://github.com/IBM/FHIR/commit/be09519b92f14aaed89dd3ce31c78f1898f1cf32", "message": "user's guide cleanup\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-12-01T16:46:21Z", "type": "commit"}]}