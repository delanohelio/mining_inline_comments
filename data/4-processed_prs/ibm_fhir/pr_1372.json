{"pr_number": 1372, "pr_title": "reserve disk space early in build", "pr_createdAt": "2020-07-28T18:41:21Z", "pr_url": "https://github.com/IBM/FHIR/pull/1372", "timeline": [{"oid": "40616a68023db103d78f5e76d2c88dacf31116ea", "url": "https://github.com/IBM/FHIR/commit/40616a68023db103d78f5e76d2c88dacf31116ea", "message": "reserve disk space early in build\n\ncreate a 200MB file and then remove it to reduce allocating writes during pipeline\r\n\r\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-07-28T18:41:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTgwMDMwNg==", "url": "https://github.com/IBM/FHIR/pull/1372#discussion_r461800306", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    dd if=/dev/urandom of=balloon.dat bs=1024k count=200\n          \n          \n            \n                    dd if=/dev/urandom oflag=direct of=balloon.dat bs=1024k count=200", "author": "lmsurpre", "createdAt": "2020-07-28T18:53:31Z", "path": ".github/workflows/build.yml", "diffHunk": "@@ -123,6 +123,14 @@ jobs:\n       uses: joschi/setup-jdk@v1\n       with:\n         java-version: ${{ matrix.java }}\n+    - name: free disk space\n+      run: |\n+        # create and remove a 200 MB file to make sure we have the room needed later\n+        dd if=/dev/urandom of=balloon.dat bs=1024k count=200", "originalCommit": "40616a68023db103d78f5e76d2c88dacf31116ea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTgwMDU0MQ==", "url": "https://github.com/IBM/FHIR/pull/1372#discussion_r461800541", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    dd if=/dev/urandom of=balloon.dat bs=1024k count=200\n          \n          \n            \n                    dd if=/dev/urandom oflag=direct of=balloon.dat bs=1024k count=200", "author": "lmsurpre", "createdAt": "2020-07-28T18:53:57Z", "path": ".github/workflows/build.yml", "diffHunk": "@@ -237,6 +245,9 @@ jobs:\n         java-version: ${{ matrix.java }}\n     - name: free disk space\n       run: |\n+        # create and remove a 200 MB file to make sure we have the room needed later\n+        dd if=/dev/urandom of=balloon.dat bs=1024k count=200", "originalCommit": "40616a68023db103d78f5e76d2c88dacf31116ea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTgwMDY3Ng==", "url": "https://github.com/IBM/FHIR/pull/1372#discussion_r461800676", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    dd if=/dev/urandom of=balloon.dat bs=1024k count=200\n          \n          \n            \n                    dd if=/dev/urandom oflag=direct of=balloon.dat bs=1024k count=200", "author": "lmsurpre", "createdAt": "2020-07-28T18:54:09Z", "path": ".github/workflows/build.yml", "diffHunk": "@@ -297,6 +308,9 @@ jobs:\n         java-version: ${{ matrix.java }}\n     - name: free disk space\n       run: |\n+        # create and remove a 200 MB file to make sure we have the room needed later\n+        dd if=/dev/urandom of=balloon.dat bs=1024k count=200", "originalCommit": "40616a68023db103d78f5e76d2c88dacf31116ea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "776e08aff6c90a9eb55903895db43718068c2e6b", "url": "https://github.com/IBM/FHIR/commit/776e08aff6c90a9eb55903895db43718068c2e6b", "message": "add oflag=direct and move directly before SIT\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-07-28T19:27:06Z", "type": "commit"}, {"oid": "70a6032fdcb4e343964c4a8c93793481abeb4db3", "url": "https://github.com/IBM/FHIR/commit/70a6032fdcb4e343964c4a8c93793481abeb4db3", "message": "another try\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-07-28T21:48:46Z", "type": "commit"}, {"oid": "4dfba89741fec7b583bdd2a92d350cc7cf197fe7", "url": "https://github.com/IBM/FHIR/commit/4dfba89741fec7b583bdd2a92d350cc7cf197fe7", "message": "add docker system prune\n\ninstead of rmi\r\n\r\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-07-28T22:27:59Z", "type": "commit"}, {"oid": "dafc86024ce56998add11c46f4031d0f76689cd6", "url": "https://github.com/IBM/FHIR/commit/dafc86024ce56998add11c46f4031d0f76689cd6", "message": "create and delete 200MB file as part of server start\n\nyet another attempt to avoid extremely slow server starts on the CI\r\n\r\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>", "committedDate": "2020-07-30T02:04:23Z", "type": "commit"}]}