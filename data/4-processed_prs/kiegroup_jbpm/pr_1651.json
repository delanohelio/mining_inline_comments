{"pr_number": 1651, "pr_title": "[RHPAM-2591] Task identifers are recorded on the DB with negative numbers", "pr_createdAt": "2020-05-15T11:33:09Z", "pr_url": "https://github.com/kiegroup/jbpm/pull/1651", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgxNzY1Mg==", "url": "https://github.com/kiegroup/jbpm/pull/1651#discussion_r425817652", "bodyText": "Why this seq sets increment by to 50? It's not referenced by any entity in the code.", "author": "afalhambra", "createdAt": "2020-05-15T13:54:00Z", "path": "jbpm-db-scripts/src/main/resources/db/ddl-scripts/oracle/oracle-jbpm-schema.sql", "diffHunk": "@@ -708,73 +708,40 @@\n         foreign key (TaskData_Comments_Id) \n         references Task;\n \n-    create sequence ATTACHMENT_ID_SEQ;\n-\n-    create sequence AUDIT_ID_SEQ;\n-\n-    create sequence BAM_TASK_ID_SEQ;\n-\n-    create sequence BOOLEANEXPR_ID_SEQ;\n-    \n-    create sequence CASE_ID_INFO_ID_SEQ;\n-    \n-    create sequence CASE_FILE_DATA_LOG_ID_SEQ;\n-\n-    create sequence CASE_ROLE_ASSIGN_LOG_ID_SEQ;    \n-\n-    create sequence COMMENT_ID_SEQ;\n-\n-    create sequence CONTENT_ID_SEQ;\n-\n-    create sequence CONTEXT_MAPPING_INFO_ID_SEQ;\n-\n-    create sequence CORRELATION_KEY_ID_SEQ;\n-\n-    create sequence CORRELATION_PROP_ID_SEQ;\n-\n-    create sequence DEADLINE_ID_SEQ;\n-\n-    create sequence DEPLOY_STORE_ID_SEQ;\n-\n-    create sequence EMAILNOTIFHEAD_ID_SEQ;\n-\n-    create sequence ERROR_INFO_ID_SEQ;\n-\n-    create sequence ESCALATION_ID_SEQ;\n+    create sequence ATTACHMENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence AUDIT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence BAM_TASK_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence BOOLEANEXPR_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CASE_FILE_DATA_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CASE_ID_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence CASE_ROLE_ASSIGN_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence COMMENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CONTENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CONTEXT_MAPPING_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence CORRELATION_KEY_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence CORRELATION_PROP_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence DEADLINE_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence DEPLOY_STORE_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence EMAILNOTIFHEAD_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence ERROR_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence ESCALATION_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence EXEC_ERROR_INFO_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence I18NTEXT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence NODE_INST_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence NOTIFICATION_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence PROC_INST_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence PROCESS_INSTANCE_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence QUERY_DEF_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence REASSIGNMENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence REQUEST_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence SESSIONINFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence TASK_DEF_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence TASK_EVENT_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence TASK_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence TASK_VAR_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence VAR_INST_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence WORKITEMINFO_ID_SEQ start with 1 increment by 50;", "originalCommit": "a27b091364384d4005353e8452085dd9299f8bca", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQxMDIxOQ==", "url": "https://github.com/kiegroup/jbpm/pull/1651#discussion_r426410219", "bodyText": "allocation size in jpa entity = INCREMENT BY", "author": "elguardian", "createdAt": "2020-05-18T07:08:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgxNzY1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgxOTg5MA==", "url": "https://github.com/kiegroup/jbpm/pull/1651#discussion_r425819890", "bodyText": "This sequence is only used by a test java class, so it won't really be used in a production environment.\nMaybe we can keep it for consistency. Wdyt?", "author": "afalhambra", "createdAt": "2020-05-15T13:57:10Z", "path": "jbpm-db-scripts/src/main/resources/db/ddl-scripts/oracle/oracle-jbpm-schema.sql", "diffHunk": "@@ -708,73 +708,40 @@\n         foreign key (TaskData_Comments_Id) \n         references Task;\n \n-    create sequence ATTACHMENT_ID_SEQ;\n-\n-    create sequence AUDIT_ID_SEQ;\n-\n-    create sequence BAM_TASK_ID_SEQ;\n-\n-    create sequence BOOLEANEXPR_ID_SEQ;\n-    \n-    create sequence CASE_ID_INFO_ID_SEQ;\n-    \n-    create sequence CASE_FILE_DATA_LOG_ID_SEQ;\n-\n-    create sequence CASE_ROLE_ASSIGN_LOG_ID_SEQ;    \n-\n-    create sequence COMMENT_ID_SEQ;\n-\n-    create sequence CONTENT_ID_SEQ;\n-\n-    create sequence CONTEXT_MAPPING_INFO_ID_SEQ;\n-\n-    create sequence CORRELATION_KEY_ID_SEQ;\n-\n-    create sequence CORRELATION_PROP_ID_SEQ;\n-\n-    create sequence DEADLINE_ID_SEQ;\n-\n-    create sequence DEPLOY_STORE_ID_SEQ;\n-\n-    create sequence EMAILNOTIFHEAD_ID_SEQ;\n-\n-    create sequence ERROR_INFO_ID_SEQ;\n-\n-    create sequence ESCALATION_ID_SEQ;\n+    create sequence ATTACHMENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence AUDIT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence BAM_TASK_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence BOOLEANEXPR_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CASE_FILE_DATA_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CASE_ID_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence CASE_ROLE_ASSIGN_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence COMMENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CONTENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence CONTEXT_MAPPING_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence CORRELATION_KEY_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence CORRELATION_PROP_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence DEADLINE_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence DEPLOY_STORE_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence EMAILNOTIFHEAD_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence ERROR_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence ESCALATION_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence EXEC_ERROR_INFO_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence I18NTEXT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence NODE_INST_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence NOTIFICATION_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence PROC_INST_LOG_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence PROCESS_INSTANCE_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence QUERY_DEF_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence REASSIGNMENT_ID_SEQ start with 1 increment by 1;\n+\tcreate sequence REQUEST_INFO_ID_SEQ start with 1 increment by 50;\n+\tcreate sequence SESSIONINFO_ID_SEQ start with 1 increment by 50;", "originalCommit": "a27b091364384d4005353e8452085dd9299f8bca", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjU4NTYwOA==", "url": "https://github.com/kiegroup/jbpm/pull/1651#discussion_r426585608", "bodyText": "Hi, the old DDL has this sequence. So it matches the old thing.", "author": "elguardian", "createdAt": "2020-05-18T12:23:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTgxOTg5MA=="}], "type": "inlineReview"}, {"oid": "09bd613358d363bfeb5319426130dc3c3152a6c3", "url": "https://github.com/kiegroup/jbpm/commit/09bd613358d363bfeb5319426130dc3c3152a6c3", "message": "[RHPAM-2591] Task identifers are recorded on the DB with negative numbers\n\nchanged oracle scripts to reflect properly the increment by", "committedDate": "2020-05-28T09:17:15Z", "type": "forcePushed"}, {"oid": "b1227ba09ffa37bdcd0c1fcd987b141ec06f6322", "url": "https://github.com/kiegroup/jbpm/commit/b1227ba09ffa37bdcd0c1fcd987b141ec06f6322", "message": "[RHPAM-2591] Task identifers are recorded on the DB with negative numbers", "committedDate": "2020-05-28T09:35:15Z", "type": "forcePushed"}, {"oid": "e6bbc7ec8d0aa2475544a7711706ec803467b311", "url": "https://github.com/kiegroup/jbpm/commit/e6bbc7ec8d0aa2475544a7711706ec803467b311", "message": "[RHPAM-2591] Task identifers are recorded on the DB with negative numbers", "committedDate": "2020-05-28T09:37:19Z", "type": "forcePushed"}, {"oid": "0aebd239676540f0c1ebf35f68b325cc5df176d9", "url": "https://github.com/kiegroup/jbpm/commit/0aebd239676540f0c1ebf35f68b325cc5df176d9", "message": "[RHPAM-2591] Task identifers are recorded on the DB with negative numbers", "committedDate": "2020-05-28T09:48:59Z", "type": "commit"}, {"oid": "0aebd239676540f0c1ebf35f68b325cc5df176d9", "url": "https://github.com/kiegroup/jbpm/commit/0aebd239676540f0c1ebf35f68b325cc5df176d9", "message": "[RHPAM-2591] Task identifers are recorded on the DB with negative numbers", "committedDate": "2020-05-28T09:48:59Z", "type": "forcePushed"}]}