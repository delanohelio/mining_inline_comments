{"pr_number": 1638, "pr_title": "[RHPAM-2805] memory growth when starting a high number of process instances with a high timers", "pr_createdAt": "2020-04-24T09:25:53Z", "pr_url": "https://github.com/kiegroup/jbpm/pull/1638", "timeline": [{"oid": "0acf5f8951f2e342e6ce5b2869cefbb354f4ae75", "url": "https://github.com/kiegroup/jbpm/commit/0acf5f8951f2e342e6ce5b2869cefbb354f4ae75", "message": "[RHPAM-2805] memory growth when starting a high number of process instances with a high timers\n\nremoving transient objects when the timer is created.", "committedDate": "2020-04-24T09:21:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ1NjY2NA==", "url": "https://github.com/kiegroup/jbpm/pull/1638#discussion_r416456664", "bodyText": "Wouldn't it be easier to just set these transient fields to null?", "author": "MarianMacik", "createdAt": "2020-04-28T09:11:40Z", "path": "jbpm-services/jbpm-services-ejb/jbpm-services-ejb-timer/src/main/java/org/jbpm/services/ejb/timer/EJBTimerScheduler.java", "diffHunk": "@@ -204,6 +210,22 @@ public void internalSchedule(TimerJobInstance timerJobInstance) {\n \t}\n \n \n+    private Serializable removeTransientFields(Serializable info) {\n+        // removing transient fields", "originalCommit": "0acf5f8951f2e342e6ce5b2869cefbb354f4ae75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEwNjE0OQ==", "url": "https://github.com/kiegroup/jbpm/pull/1638#discussion_r417106149", "bodyText": "It is fairly more complex do that. You cannot guarantee how deep is the  tree and it is error prone", "author": "elguardian", "createdAt": "2020-04-29T07:04:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ1NjY2NA=="}], "type": "inlineReview"}]}