{"pr_number": 1703, "pr_title": "[JBPM-9249] Process upgrade fails in RHPAM 7.7 if process instance ha\u2026", "pr_createdAt": "2020-07-21T08:04:36Z", "pr_url": "https://github.com/kiegroup/jbpm/pull/1703", "timeline": [{"oid": "840b4d7c1c48570002a3baf8abb30e95b6f0b6a3", "url": "https://github.com/kiegroup/jbpm/commit/840b4d7c1c48570002a3baf8abb30e95b6f0b6a3", "message": "[JBPM-9249] Process upgrade fails in RHPAM 7.7 if process instance has active timer and its migrated from BPMS 6.4 release", "committedDate": "2020-07-21T08:02:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY2OTA3Nw==", "url": "https://github.com/kiegroup/jbpm/pull/1703#discussion_r458669077", "bodyText": "Format: add blanks around the parenthesis:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                if(timerInstance==null){\n          \n          \n            \n                                                if (timerInstance==null) {", "author": "gmunozfe", "createdAt": "2020-07-22T09:42:49Z", "path": "jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java", "diffHunk": "@@ -601,7 +601,10 @@ protected TimerManager getTimerManager(KieSession ksession) {\n                                 List<TimerInstance> collected = new ArrayList<>();\n                                 for (Long timerId : timers) {\n                                     TimerInstance timerInstance = timerManager.getTimerMap().get(timerId);\n-\n+                                    if(timerInstance==null){", "originalCommit": "840b4d7c1c48570002a3baf8abb30e95b6f0b6a3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY3MDI5Mw==", "url": "https://github.com/kiegroup/jbpm/pull/1703#discussion_r458670293", "bodyText": "TimerId may be added also to the report (fix a typo at timer also):\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                                    report.addEntry(Type.WARN, \"Could not find any timeer instance to cancel.\");\n          \n          \n            \n                                                    report.addEntry(Type.WARN, \"Could not find timer instance with id \"+timerId+\" to cancel.\");", "author": "gmunozfe", "createdAt": "2020-07-22T09:45:05Z", "path": "jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java", "diffHunk": "@@ -601,7 +601,10 @@ protected TimerManager getTimerManager(KieSession ksession) {\n                                 List<TimerInstance> collected = new ArrayList<>();\n                                 for (Long timerId : timers) {\n                                     TimerInstance timerInstance = timerManager.getTimerMap().get(timerId);\n-\n+                                    if(timerInstance==null){\n+                                        report.addEntry(Type.WARN, \"Could not find any timeer instance to cancel.\");", "originalCommit": "840b4d7c1c48570002a3baf8abb30e95b6f0b6a3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "49936cd674a44ebeb58feb1f0e5f79d60e9fd078", "url": "https://github.com/kiegroup/jbpm/commit/49936cd674a44ebeb58feb1f0e5f79d60e9fd078", "message": "Update jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java\n\nCo-authored-by: Gonzalo Mu\u00f1oz <gmunozfe@redhat.com>", "committedDate": "2020-07-22T09:53:41Z", "type": "commit"}, {"oid": "3f8d4053b23242441731d0080d002197ca971f10", "url": "https://github.com/kiegroup/jbpm/commit/3f8d4053b23242441731d0080d002197ca971f10", "message": "Update jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java\n\nCo-authored-by: Gonzalo Mu\u00f1oz <gmunozfe@redhat.com>", "committedDate": "2020-07-22T09:53:54Z", "type": "commit"}]}