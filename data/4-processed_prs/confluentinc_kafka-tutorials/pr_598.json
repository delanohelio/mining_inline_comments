{"pr_number": 598, "pr_title": "DEVX-2185: \"Data Masking\" recipe migration", "pr_createdAt": "2020-10-20T19:14:05Z", "pr_url": "https://github.com/confluentinc/kafka-tutorials/pull/598", "timeline": [{"oid": "dbc11ff19facaa7cb37b65485bdc7abd2ef4efee", "url": "https://github.com/confluentinc/kafka-tutorials/commit/dbc11ff19facaa7cb37b65485bdc7abd2ef4efee", "message": "DEVX-2185; first commit w/basic instructions", "committedDate": "2020-10-16T00:33:13Z", "type": "commit"}, {"oid": "879c3d7755f637b670fea19a9493eda910fe281e", "url": "https://github.com/confluentinc/kafka-tutorials/commit/879c3d7755f637b670fea19a9493eda910fe281e", "message": "DEVX-2185; clean up adocs", "committedDate": "2020-10-16T19:53:47Z", "type": "commit"}, {"oid": "8b7ec5559cc190895300380609cf2a5560e74a2f", "url": "https://github.com/confluentinc/kafka-tutorials/commit/8b7ec5559cc190895300380609cf2a5560e74a2f", "message": "DEVX-2185; add tests + clean up", "committedDate": "2020-10-19T18:05:26Z", "type": "commit"}, {"oid": "60aa699c13f1b445b1647764702bc66618571b04", "url": "https://github.com/confluentinc/kafka-tutorials/commit/60aa699c13f1b445b1647764702bc66618571b04", "message": "DEVX-2185; add kafka_topic for each stream", "committedDate": "2020-10-19T18:10:02Z", "type": "commit"}, {"oid": "a42131888f89380b852d966cbe27e4564e3f234e", "url": "https://github.com/confluentinc/kafka-tutorials/commit/a42131888f89380b852d966cbe27e4564e3f234e", "message": "DEVX-2185; fix tests, still need to match output+input", "committedDate": "2020-10-19T22:59:11Z", "type": "commit"}, {"oid": "5389b191808aa00ad5a2003f03fa9b7ddc6f635f", "url": "https://github.com/confluentinc/kafka-tutorials/commit/5389b191808aa00ad5a2003f03fa9b7ddc6f635f", "message": "DEVX-2185; fix col width", "committedDate": "2020-10-20T16:47:06Z", "type": "commit"}, {"oid": "01ae6280c73521defe13bc271f65ecc648f14e11", "url": "https://github.com/confluentinc/kafka-tutorials/commit/01ae6280c73521defe13bc271f65ecc648f14e11", "message": "DEVX-2185; alter tutorial text", "committedDate": "2020-10-20T18:32:26Z", "type": "commit"}, {"oid": "51047e983e95dc3db0a9b37913de80abe8837892", "url": "https://github.com/confluentinc/kafka-tutorials/commit/51047e983e95dc3db0a9b37913de80abe8837892", "message": "DEVX-2185; add newlines + prod/ccloud tests", "committedDate": "2020-10-20T18:57:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMDIxNg==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509430216", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              question: \"If I have a Kafka topic, how do I continuously mask a set of fields?\"\n          \n          \n            \n              question: \"How can I mask fields in my Kafka topic?\"", "author": "bbejeck", "createdAt": "2020-10-21T16:28:43Z", "path": "_data/tutorials.yaml", "diffHunk": "@@ -465,3 +465,22 @@ kafka-streams-schedule-operations:\n     scala: disabled\n     swift: disabled\n \n+\n+masking-data:\n+  title: \"Masking data\"\n+  meta-description: \"Masking data\"\n+  slug: \"/masking-data\"\n+  question: \"If I have a Kafka topic, how do I continuously mask a set of fields?\"", "originalCommit": "51047e983e95dc3db0a9b37913de80abe8837892", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQzMTEzNQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509431135", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The second technique for masking data utilizes KSQL's built in `MASK` functions. Here we retain the customer name and date of birth, but obfuscated.\n          \n          \n            \n            The second technique for masking data utilizes ksqlDB's built in `MASK` functions. Here we retain the customer name and date of birth, but obfuscated.", "author": "bbejeck", "createdAt": "2020-10-21T16:30:02Z", "path": "_includes/tutorials/masking-data/ksql/markup/dev/create-purchases-pii-obfuscated.adoc", "diffHunk": "@@ -0,0 +1,5 @@\n+The second technique for masking data utilizes KSQL's built in `MASK` functions. Here we retain the customer name and date of birth, but obfuscated.", "originalCommit": "51047e983e95dc3db0a9b37913de80abe8837892", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0MjY5OQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509442699", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            KSQL offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the KSQL documentation link:https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*link here*,window=_blank] for more information.\n          \n          \n            \n            ksqlDB offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*ksqlDB documentation*,window=_blank] for more information.\n          \n      \n    \n    \n  \n\nJust a thought about the link text you can leave it as is.\nBut we should change KSQL to ksqlDB though.", "author": "bbejeck", "createdAt": "2020-10-21T16:47:28Z", "path": "_includes/tutorials/masking-data/ksql/markup/dev/print-purchases-obfuscated-topic.adoc", "diffHunk": "@@ -0,0 +1,24 @@\n+Use the command below to query the contents of the purchases_pii_obfuscated stream:\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/print-purchases-obfuscated-topic.sql %}</code></pre>\n++++++\n+\n+We can see that the sensitive data is masked with x's or n's.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/expected-purchases-obfuscated-output.log %}</code></pre>\n++++++\n+\n+[TIP]\n+.`MASK` Function Options\n+====\n+There are a few types of masking functions and optional parameters that may be of use to you. +\n+\n+*Optional arguments:* +\n+`MASK(CUSTOMER_NAME, 'X', 'x', 'n', '-')` +\n+In the example above, the following types of characters in `CUSTOMER_NAME` would be masked: upper-case letters would become `X`, lower-case letters would become `x`, numbers would become `n`, and other characters would become `-`. This is the default setting if no mask characters are present. Set a given mask character to NULL to prevent any masking of that character type. +\n+\n+*Other types of `MASK` Functions:* +\n+KSQL offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the KSQL documentation link:https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*link here*,window=_blank] for more information.", "originalCommit": "51047e983e95dc3db0a9b37913de80abe8837892", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0NjE5NQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509446195", "bodyText": "Maybe at the end of this step instruct the user they can shutdown ksqlDB with a CTRL+D", "author": "bbejeck", "createdAt": "2020-10-21T16:52:51Z", "path": "_includes/tutorials/masking-data/ksql/markup/dev/print-purchases-obfuscated-topic.adoc", "diffHunk": "@@ -0,0 +1,24 @@\n+Use the command below to query the contents of the purchases_pii_obfuscated stream:\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/print-purchases-obfuscated-topic.sql %}</code></pre>\n++++++\n+\n+We can see that the sensitive data is masked with x's or n's.\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/masking-data/ksql/code/tutorial-steps/dev/expected-purchases-obfuscated-output.log %}</code></pre>\n++++++\n+\n+[TIP]\n+.`MASK` Function Options\n+====\n+There are a few types of masking functions and optional parameters that may be of use to you. +\n+\n+*Optional arguments:* +\n+`MASK(CUSTOMER_NAME, 'X', 'x', 'n', '-')` +\n+In the example above, the following types of characters in `CUSTOMER_NAME` would be masked: upper-case letters would become `X`, lower-case letters would become `x`, numbers would become `n`, and other characters would become `-`. This is the default setting if no mask characters are present. Set a given mask character to NULL to prevent any masking of that character type. +\n+\n+*Other types of `MASK` Functions:* +\n+KSQL offers a variety of different masking functions that allow you to mask the farthest or nearest _x_ number of characters on right or left. Check out the KSQL documentation link:https://docs.ksqldb.io/en/latest/developer-guide/ksqldb-reference/scalar-functions/#mask[*link here*,window=_blank] for more information.\n+====", "originalCommit": "51047e983e95dc3db0a9b37913de80abe8837892", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ3MDMzOQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509470339", "bodyText": "A few other tutorials have something along the lines of Type 'exit' and hit enter to exit the ksqlDB cli. I just added a very similar statement to the end of the dev instructions. I can change this to CTRL+D if you prefer.", "author": "awalther28", "createdAt": "2020-10-21T17:22:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0NjE5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ3NDE4OQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509474189", "bodyText": "I can change this to CTRL+D if you prefer.\n\nI like what you've done better.", "author": "bbejeck", "createdAt": "2020-10-21T17:26:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0NjE5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0NzUxMw==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509447513", "bodyText": "Maybe move this link to the top of this section; since it will be a new tutorial, it will be easier for users to find.\nAs a side note, we've been discussing ways of organizing the KT main page, but for the near term moving it up in the list should work.", "author": "bbejeck", "createdAt": "2020-10-21T16:54:40Z", "path": "index.html", "diffHunk": "@@ -70,6 +70,7 @@ <h2 class=\"subtitle\">Apache Kafka is a powerful, scalable, fault-tolerant distri\n             <li class=\"more is-hidden\"><a href=\"dynamic-output-topic/kstreams.html\">Choose the output topic dynamically</a></li>\n             <li class=\"more is-hidden\"><a href=\"naming-stateful-operations/kstreams.html\">Name stateful operations</a></li>\n             <li class=\"more is-hidden\"><a href=\"kafka-streams-convert-to-ktable/kstreams.html\">Convert a KStream to a KTable</a></li>\n+            <li class=\"more is-hidden\"><a href=\"masking-data/ksql.html\">Masking data</a></li>", "originalCommit": "51047e983e95dc3db0a9b37913de80abe8837892", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ2ODcwMw==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/598#discussion_r509468703", "bodyText": "Makes sense, I moved it to the top of the list.", "author": "awalther28", "createdAt": "2020-10-21T17:21:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ0NzUxMw=="}], "type": "inlineReview"}, {"oid": "93b3d2e8fc1dfd15a2b20c598c32f242f64ed5ec", "url": "https://github.com/confluentinc/kafka-tutorials/commit/93b3d2e8fc1dfd15a2b20c598c32f242f64ed5ec", "message": "Apply suggestions from code review\n\nCo-authored-by: Bill Bejeck <bill@confluent.io>", "committedDate": "2020-10-21T17:05:26Z", "type": "commit"}, {"oid": "15572b109997729480ebdc393c81d06d8ac575b7", "url": "https://github.com/confluentinc/kafka-tutorials/commit/15572b109997729480ebdc393c81d06d8ac575b7", "message": "DEVX-2185; add exit + move up in index.html", "committedDate": "2020-10-21T17:18:39Z", "type": "commit"}]}