{"pr_number": 671, "pr_title": "DEVX-2352: Convert column difference recipe", "pr_createdAt": "2020-12-16T22:41:46Z", "pr_url": "https://github.com/confluentinc/kafka-tutorials/pull/671", "timeline": [{"oid": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "url": "https://github.com/confluentinc/kafka-tutorials/commit/7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "message": "DEVX-2352: Convert column difference recipe", "committedDate": "2020-12-16T22:23:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxOTA3NQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545219075", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              title: \"Column Differnce\"\n          \n          \n            \n              title: \"Column Difference\"\n          \n      \n    \n    \n  \n\ntypo", "author": "awalther28", "createdAt": "2020-12-17T16:20:39Z", "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxOTIxOQ==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545219219", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              meta-description: \"Column Differnce\"\n          \n          \n            \n              meta-description: \"Column Difference\"\n          \n      \n    \n    \n  \n\ntypo", "author": "awalther28", "createdAt": "2020-12-17T16:20:48Z", "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"\n+  meta-description: \"Column Differnce\"", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIxOTY5Mw==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545219693", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              question: \"How do I calculate the differnence between two columns?\"\n          \n          \n            \n              question: \"How do I calculate the difference between two columns?\"", "author": "awalther28", "createdAt": "2020-12-17T16:21:24Z", "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"\n+  meta-description: \"Column Differnce\"\n+  slug: \"/column-difference\"\n+  question: \"How do I calculate the differnence between two columns?\"", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTIyMDIyOA==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545220228", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              introduction: \"Suppose you have a table and you need to calculate the differnence between two columns.  In this tutorial we'll show how to calculate the difference between two columns\"\n          \n          \n            \n              introduction: \"Suppose you have a table or stream and you need to calculate the difference between two columns.  In this tutorial we'll show how to calculate the difference between two columns.\"", "author": "awalther28", "createdAt": "2020-12-17T16:22:03Z", "path": "_data/tutorials.yaml", "diffHunk": "@@ -612,3 +612,22 @@ concatenation:\n     ruby: disabled\n     scala: disabled\n     swift: disabled\n+\n+column-difference:\n+  title: \"Column Differnce\"\n+  meta-description: \"Column Differnce\"\n+  slug: \"/column-difference\"\n+  question: \"How do I calculate the differnence between two columns?\"\n+  introduction: \"Suppose you have a table and you need to calculate the differnence between two columns.  In this tutorial we'll show how to calculate the difference between two columns\"", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2ODcxNw==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545268717", "bodyText": "I think this is from the tutorial you copied, and that you should be talking about difference and - here instead of concatenate & +.", "author": "awalther28", "createdAt": "2020-12-17T17:28:37Z", "path": "_includes/tutorials/column-difference/ksql/markup/dev/transient-reporting.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+Now we write a query to concatenate multiple columns. To achieve this, we will use the `+` operator between the fields in our `SELECT` statement rather than a comma.", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI3MDYyMg==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545270622", "bodyText": "Maybe right here would be a good place to mention the numeric comment you had in the \"Short Answer\" section. I could see people skipping over the \"Short Answer\" and missing that key piece of info. Just a thought.", "author": "awalther28", "createdAt": "2020-12-17T17:31:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2ODcxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2OTIyMg==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545269222", "bodyText": "\".\" or \":\" here?", "author": "awalther28", "createdAt": "2020-12-17T17:29:19Z", "path": "_includes/tutorials/column-difference/ksql/markup/dev/transient-reporting.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+Now we write a query to concatenate multiple columns. To achieve this, we will use the `+` operator between the fields in our `SELECT` statement rather than a comma.\n+\n+[source, sql]\n+----\n+\n+SELECT FIRST_NAME,\n+       LAST_NAME,\n+       CURRENT_PURCHASE - PREVIOUS_PURCHASE as PURCHASE_DIFF <1>\n+FROM PURCHASE_STREAM\n+EMIT CHANGES\n+LIMIT 4;\n+\n+\n+----\n+\n+<1> Using the `-` operator to calculate the difference between two columns\n+\n+\n+This query should produce the following output:\n+\n++++++\n+<pre class=\"snippet\"><code class=\"shell\">{% include_raw tutorials/column-difference/ksql/code/tutorial-steps/dev/expected-transient-reporting.log %}</code></pre>\n++++++\n+\n+Now that the reporting query works, let's update it to create a continuous query for your reporting scenario", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI3MTQ2Mg==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545271462", "bodyText": "Could you please remove some of these white lines? It looks odd in the rendering for the \"Short Answer\" section.", "author": "awalther28", "createdAt": "2020-12-17T17:32:30Z", "path": "_includes/tutorials/column-difference/ksql/code/tutorial-steps/dev/query-with-column-difference.sql", "diffHunk": "@@ -0,0 +1,6 @@\n+SELECT FIRST_NAME,\n+       LAST_NAME,\n+       CURRENT_PURCHASE - PREVIOUS_PURCHASE as PURCHASE_DIFF\n+       ", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI3MTg0OA==", "url": "https://github.com/confluentinc/kafka-tutorials/pull/671#discussion_r545271848", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note that the `-` operator expects numerical values.  So if have columns where the numbers are stored as `VARCHAR` you'll have to use a `CAST` operation to covert them to a numerical type, otherwise you'll get an error in your query.\n          \n          \n            \n            Note that the `-` operator expects numerical values.  So if have columns where the numbers are stored as `VARCHAR` you'll have to use a `CAST` operation to convert them to a numerical type, otherwise you'll get an error in your query.", "author": "awalther28", "createdAt": "2020-12-17T17:33:05Z", "path": "_includes/tutorials/column-difference/ksql/markup/answer/column-difference-answer.adoc", "diffHunk": "@@ -0,0 +1,7 @@\n+Take the fields you want to calculate the difference between and use the `-` operator between them `field_1 - field_2`\n+\n++++++\n+<pre class=\"snippet\"><code class=\"sql\">{% include_raw tutorials/column-difference/ksql/code/tutorial-steps/dev/query-with-column-difference.sql %}</code></pre>\n++++++\n+\n+Note that the `-` operator expects numerical values.  So if have columns where the numbers are stored as `VARCHAR` you'll have to use a `CAST` operation to covert them to a numerical type, otherwise you'll get an error in your query.", "originalCommit": "7953dbdf418e0ffc3367e6912c09c048d15cd5f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6936e493cce294cfbc90f09743a42ff305c98b73", "url": "https://github.com/confluentinc/kafka-tutorials/commit/6936e493cce294cfbc90f09743a42ff305c98b73", "message": "Updates per comments", "committedDate": "2020-12-17T20:15:25Z", "type": "commit"}]}