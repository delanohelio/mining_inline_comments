{"pr_number": 3264, "pr_title": "Fix commodore", "pr_createdAt": "2020-04-30T14:22:19Z", "pr_url": "https://github.com/PaperMC/Paper/pull/3264", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA0OTA3NA==", "url": "https://github.com/PaperMC/Paper/pull/3264#discussion_r418049074", "bodyText": "Oopsie woopsie? I'm pretty sure relocations of the packages are on purpose, at least the NMS & CraftBukkit ones.", "author": "Proximyst", "createdAt": "2020-04-30T14:23:45Z", "path": "Spigot-Server-Patches/0496-Fix-commodore.patch", "diffHunk": "@@ -0,0 +1,1300 @@\n+From c2bba414a8becfa3358c61e80270fd69bae73156 Mon Sep 17 00:00:00 2001\n+From: MiniDigger <admin@minidigger.me>\n+Date: Thu, 30 Apr 2020 16:17:14 +0200\n+Subject: [PATCH] Fix commodore\n+\n+Had to patch ASM to make this work as they check caller class for class file version,\n+not the class that is being rewritten...\n+\n+diff --git a/pom.xml b/pom.xml\n+index fd417a9ee..fcbcc8030 100644\n+--- a/pom.xml\n++++ b/pom.xml\n+@@ -249,33 +249,33 @@\n+                                     <!--<pattern>it.unimi</pattern>-->\n+                                     <!--<shadedPattern>org.bukkit.craftbukkit.libs.it.unimi</shadedPattern>-->\n+                                 <!--</relocation>-->\n+-                                <relocation>\n+-                                    <pattern>org.apache.commons.codec</pattern>\n+-                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.apache.commons.codec</shadedPattern>\n+-                                </relocation>\n+-                                <relocation>\n+-                                    <pattern>org.apache.commons.io</pattern>\n+-                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.apache.commons.io</shadedPattern>\n+-                                </relocation>\n+-                                <relocation>\n+-                                    <pattern>org.apache.commons.lang3</pattern>\n+-                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.apache.commons.lang3</shadedPattern>\n+-                                </relocation>\n+-                                <relocation>\n+-                                    <pattern>org.objectweb.asm</pattern>\n+-                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.objectweb.asm</shadedPattern>\n+-                                </relocation>\n+-                                <relocation>\n+-                                    <pattern>org.bukkit.craftbukkit</pattern>\n+-                                    <shadedPattern>org.bukkit.craftbukkit.v${minecraft_version}</shadedPattern>\n+-                                    <excludes>\n+-                                        <exclude>org.bukkit.craftbukkit.Main*</exclude>\n+-                                    </excludes>\n+-                                </relocation>\n+-                                <relocation>\n+-                                    <pattern>net.minecraft.server</pattern>\n+-                                    <shadedPattern>net.minecraft.server.v${minecraft_version}</shadedPattern>\n+-                                </relocation>\n++<!--                                <relocation>-->\n++<!--                                    <pattern>org.apache.commons.codec</pattern>-->\n++<!--                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.apache.commons.codec</shadedPattern>-->\n++<!--                                </relocation>-->\n++<!--                                <relocation>-->\n++<!--                                    <pattern>org.apache.commons.io</pattern>-->\n++<!--                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.apache.commons.io</shadedPattern>-->\n++<!--                                </relocation>-->\n++<!--                                <relocation>-->\n++<!--                                    <pattern>org.apache.commons.lang3</pattern>-->\n++<!--                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.apache.commons.lang3</shadedPattern>-->\n++<!--                                </relocation>-->\n++<!--                                <relocation>-->\n++<!--                                    <pattern>org.objectweb.asm</pattern>-->\n++<!--                                    <shadedPattern>org.bukkit.craftbukkit.libs.org.objectweb.asm</shadedPattern>-->\n++<!--                                </relocation>-->\n++<!--                                <relocation>-->\n++<!--                                    <pattern>org.bukkit.craftbukkit</pattern>-->\n++<!--                                    <shadedPattern>org.bukkit.craftbukkit.v${minecraft_version}</shadedPattern>-->\n++<!--                                    <excludes>-->\n++<!--                                        <exclude>org.bukkit.craftbukkit.Main*</exclude>-->\n++<!--                                    </excludes>-->\n++<!--                                </relocation>-->\n++<!--                                <relocation>-->\n++<!--                                    <pattern>net.minecraft.server</pattern>-->\n++<!--                                    <shadedPattern>net.minecraft.server.v${minecraft_version}</shadedPattern>-->\n++<!--                                </relocation>-->", "originalCommit": "a2c5c2bc5dd942e625461e03da86c595d5db9f9a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "685cb0558760c275cf0cfbeb848f6224ee29d46e", "url": "https://github.com/PaperMC/Paper/commit/685cb0558760c275cf0cfbeb848f6224ee29d46e", "message": "Fix commodore by updating asm", "committedDate": "2020-04-30T14:28:01Z", "type": "commit"}, {"oid": "685cb0558760c275cf0cfbeb848f6224ee29d46e", "url": "https://github.com/PaperMC/Paper/commit/685cb0558760c275cf0cfbeb848f6224ee29d46e", "message": "Fix commodore by updating asm", "committedDate": "2020-04-30T14:28:01Z", "type": "forcePushed"}, {"oid": "b207f9ac2d0106a35dc40e6e0bec5b99d20d22c2", "url": "https://github.com/PaperMC/Paper/commit/b207f9ac2d0106a35dc40e6e0bec5b99d20d22c2", "message": "paper comment", "committedDate": "2020-04-30T17:04:54Z", "type": "commit"}]}