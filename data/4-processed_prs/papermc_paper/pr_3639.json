{"pr_number": 3639, "pr_title": "1.16 updates", "pr_createdAt": "2020-06-27T18:42:00Z", "pr_url": "https://github.com/PaperMC/Paper/pull/3639", "timeline": [{"oid": "989d44ebe3ab2c8db2cd9c1cdaadbd291cc887ef", "url": "https://github.com/PaperMC/Paper/commit/989d44ebe3ab2c8db2cd9c1cdaadbd291cc887ef", "message": "organize patches", "committedDate": "2020-06-27T15:41:45Z", "type": "commit"}, {"oid": "52f850363902fee93f1cb8272a78aa6155d67ca6", "url": "https://github.com/PaperMC/Paper/commit/52f850363902fee93f1cb8272a78aa6155d67ca6", "message": "someone left this in?", "committedDate": "2020-06-27T16:44:50Z", "type": "commit"}, {"oid": "501c1c78006ba7bac39ad3ba81c7944ec7dd520a", "url": "https://github.com/PaperMC/Paper/commit/501c1c78006ba7bac39ad3ba81c7944ec7dd520a", "message": "port 4 patches", "committedDate": "2020-06-27T18:35:52Z", "type": "commit"}, {"oid": "2192ff1bf72c94b1b7edd2bc2b357b5a46ecbd2d", "url": "https://github.com/PaperMC/Paper/commit/2192ff1bf72c94b1b7edd2bc2b357b5a46ecbd2d", "message": "fix headers", "committedDate": "2020-06-27T18:38:26Z", "type": "commit"}, {"oid": "5958abd63f978ab897253b0595a1e60c4a3fbcd7", "url": "https://github.com/PaperMC/Paper/commit/5958abd63f978ab897253b0595a1e60c4a3fbcd7", "message": "delete ported patches", "committedDate": "2020-06-27T18:40:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjA2NA==", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556064", "bodyText": "Seems you mixed two patches somehow?", "author": "Proximyst", "createdAt": "2020-06-27T18:53:55Z", "path": "Spigot-Server-Patches/0521-Limit-lightning-strike-effect-distance.patch", "diffHunk": "@@ -1,17 +1,43 @@\n From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n-From: Trigary <trigary0@gmail.com>\n-Date: Fri, 14 Sep 2018 17:42:08 +0200\n-Subject: [PATCH] Limit lightning strike effect distance\n+From: Aikar <aikar@aikar.co>\n+Date: Mon, 17 Sep 2018 23:05:31 -0400\n+Subject: [PATCH] Support Overriding World Seeds", "originalCommit": "5958abd63f978ab897253b0595a1e60c4a3fbcd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjA4Nw==", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556087", "bodyText": "Unnecessary diff (just moved down).", "author": "Proximyst", "createdAt": "2020-06-27T18:54:13Z", "path": "Spigot-Server-Patches/0521-Limit-lightning-strike-effect-distance.patch", "diffHunk": "@@ -1,17 +1,43 @@\n From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n-From: Trigary <trigary0@gmail.com>\n-Date: Fri, 14 Sep 2018 17:42:08 +0200\n-Subject: [PATCH] Limit lightning strike effect distance\n+From: Aikar <aikar@aikar.co>\n+Date: Mon, 17 Sep 2018 23:05:31 -0400\n+Subject: [PATCH] Support Overriding World Seeds\n \n \n diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n-index 487b0d5cd608e84a793eba5fdbd50a9f3d95c79b..b8789c8ecc5a6e4117bb7ce0d5487a6e5774b67f 100644\n+index 0f4fca90fd6c3788a5762c96c344899cb1665466..4a59d42b778e681e93f1243ecd16c5cf46160b97 100644\n --- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n +++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n-@@ -242,6 +242,28 @@ public class PaperWorldConfig {\n+@@ -1,11 +1,5 @@\n+ package com.destroystokyo.paper;\n+ \n+-import java.util.Arrays;", "originalCommit": "5958abd63f978ab897253b0595a1e60c4a3fbcd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjI0NQ==", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556245", "bodyText": "This seems like something that would benefit from an obf helper.", "author": "Proximyst", "createdAt": "2020-06-27T18:55:36Z", "path": "Spigot-Server-Patches/0522-Add-permission-for-command-blocks.patch", "diffHunk": "@@ -5,58 +5,58 @@ Subject: [PATCH] Add permission for command blocks\n \n \n diff --git a/src/main/java/net/minecraft/server/BlockCommand.java b/src/main/java/net/minecraft/server/BlockCommand.java\n-index d0f75c8f93d3ceb1ee358baeb51f64e7e575bbc0..48cc48bd999c02268fa3270401c0df77a327ab13 100644\n+index dd7066d1a72f5c6f54c1f40a7b694deb827410dc..6b353a99c04e0312f520f8559c05ddaf51c26aaf 100644\n --- a/src/main/java/net/minecraft/server/BlockCommand.java\n +++ b/src/main/java/net/minecraft/server/BlockCommand.java\n-@@ -110,7 +110,7 @@ public class BlockCommand extends BlockTileEntity {\n+@@ -105,7 +105,7 @@ public class BlockCommand extends BlockTileEntity {\n      public EnumInteractionResult interact(IBlockData iblockdata, World world, BlockPosition blockposition, EntityHuman entityhuman, EnumHand enumhand, MovingObjectPositionBlock movingobjectpositionblock) {\n          TileEntity tileentity = world.getTileEntity(blockposition);\n  \n -        if (tileentity instanceof TileEntityCommand && entityhuman.isCreativeAndOp()) {\n +        if (tileentity instanceof TileEntityCommand && (entityhuman.isCreativeAndOp() || (entityhuman.isCreative() && entityhuman.getBukkitEntity().hasPermission(\"minecraft.commandblock\")))) { // Paper - command block permission\n              entityhuman.a((TileEntityCommand) tileentity);\n-             return EnumInteractionResult.SUCCESS;\n+             return EnumInteractionResult.a(world.isClientSide);", "originalCommit": "5958abd63f978ab897253b0595a1e60c4a3fbcd7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjY3NA==", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556674", "bodyText": "we don't touch those lines, its irrelevent", "author": "kickash32", "createdAt": "2020-06-27T19:00:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjI0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjI3Mw==", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556273", "bodyText": "Again, moving down.", "author": "Proximyst", "createdAt": "2020-06-27T18:56:04Z", "path": "Spigot-Server-Patches/0523-Ensure-Entity-AABB-s-are-never-invalid.patch", "diffHunk": "@@ -0,0 +1,129 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Aikar <aikar@aikar.co>\n+Date: Sun, 10 May 2020 22:12:46 -0400\n+Subject: [PATCH] Ensure Entity AABB's are never invalid\n+\n+\n+diff --git a/src/main/java/net/minecraft/server/Entity.java b/src/main/java/net/minecraft/server/Entity.java\n+index b11383b35662b1e59b89e916e55340cee2726944..2aa40f2a41e21526eb86acd903de024665109ab6 100644\n+--- a/src/main/java/net/minecraft/server/Entity.java\n++++ b/src/main/java/net/minecraft/server/Entity.java\n+@@ -1,53 +1,54 @@\n+ package net.minecraft.server;\n+ \n++import co.aikar.timings.MinecraftTimings;\n++import co.aikar.timings.Timing;\n+ import com.google.common.collect.Iterables;\n+ import com.google.common.collect.Lists;\n+ import com.google.common.collect.Sets;\n+ import it.unimi.dsi.fastutil.objects.Object2DoubleArrayMap;\n+ import it.unimi.dsi.fastutil.objects.Object2DoubleMap;\n+-import java.util.Arrays;", "originalCommit": "5958abd63f978ab897253b0595a1e60c4a3fbcd7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "527dd9f1850c635a2d1c36713ed13f1038e82a64", "url": "https://github.com/PaperMC/Paper/commit/527dd9f1850c635a2d1c36713ed13f1038e82a64", "message": "fixup", "committedDate": "2020-06-27T19:02:40Z", "type": "commit"}, {"oid": "e94688ca39b5f80a5ac8b65b88da2c675abeff4e", "url": "https://github.com/PaperMC/Paper/commit/e94688ca39b5f80a5ac8b65b88da2c675abeff4e", "message": "Fix comment mistake", "committedDate": "2020-06-27T20:00:08Z", "type": "commit"}]}