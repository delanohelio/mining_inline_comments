{"pr_number": 3139, "pr_title": "Add player elytra boost API", "pr_createdAt": "2020-04-14T10:13:15Z", "pr_url": "https://github.com/PaperMC/Paper/pull/3139", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDYyNDk5MA==", "url": "https://github.com/PaperMC/Paper/pull/3139#discussion_r414624990", "bodyText": "If the creation of the entity is cancelled, no boosting is done. would perhaps sound more natural? I can at least see the current wording confusing non-native english speakers.", "author": "Proximyst", "createdAt": "2020-04-24T14:35:40Z", "path": "Spigot-API-Patches/0196-Player-elytra-boost-API.patch", "diffHunk": "@@ -0,0 +1,35 @@\n+From 73e3ac8293d97ebba0c2100a6a988af4e0b8e243 Mon Sep 17 00:00:00 2001\n+From: Trigary <trigary0@gmail.com>\n+Date: Tue, 14 Apr 2020 12:06:14 +0200\n+Subject: [PATCH] Player elytra boost API\n+\n+\n+diff --git a/src/main/java/org/bukkit/entity/Player.java b/src/main/java/org/bukkit/entity/Player.java\n+index 3600b4c8..316f55cc 100644\n+--- a/src/main/java/org/bukkit/entity/Player.java\n++++ b/src/main/java/org/bukkit/entity/Player.java\n+@@ -1635,6 +1635,21 @@ public interface Player extends HumanEntity, Conversable, OfflinePlayer, PluginM\n+      */\n+     public void openBook(@NotNull ItemStack book);\n+ \n++    // Paper start\n++    /**\n++     * Boost a Player that's {@link #isGliding()} using a {@link Firework}.\n++     * The creation of the entity can get cancelled, no boosting is done in that case.", "originalCommit": "174970ff806616b75fd88ecc04a7fdfd4e4c788d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDYzOTE5MA==", "url": "https://github.com/PaperMC/Paper/pull/3139#discussion_r414639190", "bodyText": "Sounds good! I shall make that change sometime in the future.", "author": "Trigary", "createdAt": "2020-04-24T14:54:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDYyNDk5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgyOTg4Mw==", "url": "https://github.com/PaperMC/Paper/pull/3139#discussion_r449829883", "bodyText": "You probably don't need to end the Paper comment section and just remove the following paper start.", "author": "Machine-Maker", "createdAt": "2020-07-05T03:35:00Z", "path": "Spigot-API-Patches/0196-Player-elytra-boost-API.patch", "diffHunk": "@@ -0,0 +1,35 @@\n+From 1b90910d523a5e8ff429c7b0dde0cde8ec3c4a6f Mon Sep 17 00:00:00 2001\n+From: Trigary <trigary0@gmail.com>\n+Date: Tue, 14 Apr 2020 12:06:14 +0200\n+Subject: [PATCH] Player elytra boost API\n+\n+\n+diff --git a/src/main/java/org/bukkit/entity/Player.java b/src/main/java/org/bukkit/entity/Player.java\n+index 3600b4c8..bde3ca97 100644\n+--- a/src/main/java/org/bukkit/entity/Player.java\n++++ b/src/main/java/org/bukkit/entity/Player.java\n+@@ -1635,6 +1635,21 @@ public interface Player extends HumanEntity, Conversable, OfflinePlayer, PluginM\n+      */\n+     public void openBook(@NotNull ItemStack book);\n+ \n++    // Paper start\n++    /**\n++     * Boost a Player that's {@link #isGliding()} using a {@link Firework}.\n++     * If the creation of the entity is cancelled, no boosting is done.\n++     * This method does not fire {@link com.destroystokyo.paper.event.player.PlayerElytraBoostEvent}.\n++     *\n++     * @param firework The {@link Material#FIREWORK_ROCKET} to boost the player with\n++     * @return The {@link Firework} boosting the Player or null if the spawning of the entity was cancelled\n++     * @throws IllegalArgumentException if {@link #isGliding()} is false\n++     * or if the {@code firework} isn't a {@link Material#FIREWORK_ROCKET}\n++     */\n++    @Nullable\n++    Firework boostElytra(@NotNull ItemStack firework);\n++    // Paper end", "originalCommit": "e8a80b36693bd283f81067c523a2f5c8778df87d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY5MTU3Mw==", "url": "https://github.com/PaperMC/Paper/pull/3139#discussion_r508691573", "bodyText": "moved the method to the bottom of the paper additions", "author": "MiniDigger", "createdAt": "2020-10-20T16:58:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgyOTg4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTgyOTkwNw==", "url": "https://github.com/PaperMC/Paper/pull/3139#discussion_r449829907", "bodyText": "same as above", "author": "Machine-Maker", "createdAt": "2020-07-05T03:35:20Z", "path": "Spigot-Server-Patches/0477-Player-elytra-boost-API.patch", "diffHunk": "@@ -0,0 +1,36 @@\n+From 759f8919a78f183e26b6e04bf11381ee30a2fe2f Mon Sep 17 00:00:00 2001\n+From: Trigary <trigary0@gmail.com>\n+Date: Tue, 14 Apr 2020 12:05:22 +0200\n+Subject: [PATCH] Player elytra boost API\n+\n+\n+diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java\n+index 33cac5fcb..ff3bf9637 100644\n+--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java\n++++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java\n+@@ -1938,6 +1938,22 @@ public class CraftPlayer extends CraftHumanEntity implements Player {\n+         getInventory().setItemInMainHand(hand);\n+     }\n+ \n++    // Paper start\n++    @Override\n++    public org.bukkit.entity.Firework boostElytra(ItemStack firework) {\n++        Validate.isTrue(isGliding(), \"Player must be gliding\");\n++        Validate.isTrue(firework != null, \"firework == null\");\n++        Validate.isTrue(firework.getType() == Material.FIREWORK_ROCKET, \"Firework must be Material.FIREWORK_ROCKET\");\n++        \n++        net.minecraft.server.ItemStack item = org.bukkit.craftbukkit.inventory.CraftItemStack.asNMSCopy(firework);\n++        net.minecraft.server.World world = ((CraftWorld) getWorld()).getHandle();\n++        net.minecraft.server.EntityFireworks entity = new net.minecraft.server.EntityFireworks(world, item, getHandle());\n++        return world.addEntity(entity)\n++                ? (org.bukkit.entity.Firework) entity.getBukkitEntity()\n++                : null;\n++    }\n++    // Paper end", "originalCommit": "e8a80b36693bd283f81067c523a2f5c8778df87d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5e0af0b17cded12407e865499e1637aba544f48d", "url": "https://github.com/PaperMC/Paper/commit/5e0af0b17cded12407e865499e1637aba544f48d", "message": "Add player elytra boost API", "committedDate": "2020-10-20T16:58:47Z", "type": "commit"}, {"oid": "5e0af0b17cded12407e865499e1637aba544f48d", "url": "https://github.com/PaperMC/Paper/commit/5e0af0b17cded12407e865499e1637aba544f48d", "message": "Add player elytra boost API", "committedDate": "2020-10-20T16:58:47Z", "type": "forcePushed"}]}