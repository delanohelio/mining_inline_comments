{"pr_number": 1299, "pr_title": "TINKERPOP-2076 Build on Java 11", "pr_createdAt": "2020-06-17T15:35:17Z", "pr_url": "https://github.com/apache/tinkerpop/pull/1299", "timeline": [{"oid": "fbf479755f784efe7526404013f6917742a69675", "url": "https://github.com/apache/tinkerpop/commit/fbf479755f784efe7526404013f6917742a69675", "message": "TINKERPOP-2076 Initial effort to get TinkerPop building on Java 11", "committedDate": "2020-06-17T11:26:22Z", "type": "commit"}, {"oid": "1c6d7486a097a0959f4bdff91fa94255a3804efe", "url": "https://github.com/apache/tinkerpop/commit/1c6d7486a097a0959f4bdff91fa94255a3804efe", "message": "TINKERPOP-2076 Bumped Hadoop to 2.7.7", "committedDate": "2020-06-17T11:26:44Z", "type": "commit"}, {"oid": "03e8418db691ca0020925d3af43a146b01c4955b", "url": "https://github.com/apache/tinkerpop/commit/03e8418db691ca0020925d3af43a146b01c4955b", "message": "TINKERPOP-2076 Made expectations around mock more explicit\n\nThe upgrade of mockito must have tightened some requirements around stubbing and the use of nulls. Setting expected arguments seemed to get the test working as it was before.", "committedDate": "2020-06-17T11:26:44Z", "type": "commit"}, {"oid": "71934b116dcf36ed18b618cbc72872c3af60023f", "url": "https://github.com/apache/tinkerpop/commit/71934b116dcf36ed18b618cbc72872c3af60023f", "message": "TINKERPOP-2076 Fixed failing GraphComputer test after Java 11 upgrade\n\nNeeded to explicitly count elements in ConcurrentSkipListSet as size() is not a constant-time operation. Wasn't failing at all on Java 8 but 11 made it fail every time.", "committedDate": "2020-06-17T11:26:44Z", "type": "commit"}, {"oid": "c2bef0e0a2a917c0bd5b96b7ca1454c7cd643c91", "url": "https://github.com/apache/tinkerpop/commit/c2bef0e0a2a917c0bd5b96b7ca1454c7cd643c91", "message": "TINKERPOP-2076 Fixed Gremlin Server integration tests after Java 11", "committedDate": "2020-06-17T11:26:44Z", "type": "commit"}, {"oid": "8595edff3204c8487bb80862fcec013884698969", "url": "https://github.com/apache/tinkerpop/commit/8595edff3204c8487bb80862fcec013884698969", "message": "TINKERPOP-2076 Bump to spark 3.0 with jdk11 support", "committedDate": "2020-06-17T11:27:13Z", "type": "commit"}, {"oid": "7c6b4f4963c28c2b5b7f42bfcd4015b27080520b", "url": "https://github.com/apache/tinkerpop/commit/7c6b4f4963c28c2b5b7f42bfcd4015b27080520b", "message": "TINKERPOP-2076 Removed a scala class registration from gryo\n\nNot sure why that class was necessary as test seem to pass without it. I guess if it comes up again later, we'll just add it back.", "committedDate": "2020-06-17T11:27:13Z", "type": "commit"}, {"oid": "fe8b792554c3780aedbeff0691f462fb7ba7b234", "url": "https://github.com/apache/tinkerpop/commit/fe8b792554c3780aedbeff0691f462fb7ba7b234", "message": "TINKERPOP-2076 Fixed bad merge operation in the MemoryAccumulator", "committedDate": "2020-06-17T11:27:13Z", "type": "commit"}, {"oid": "8c5d5ab8b14a2f9ff46de52a8ff0dd89dfd25750", "url": "https://github.com/apache/tinkerpop/commit/8c5d5ab8b14a2f9ff46de52a8ff0dd89dfd25750", "message": "TINKERPOP-2076 Minor adjustments to gryo registrations to get spark integration tests passing", "committedDate": "2020-06-17T11:27:13Z", "type": "commit"}, {"oid": "482e02a04067f03f6346ad77c007f27020c37ce1", "url": "https://github.com/apache/tinkerpop/commit/482e02a04067f03f6346ad77c007f27020c37ce1", "message": "TINKERPOP-2076 Made docker build compatible with jdk11", "committedDate": "2020-06-17T11:27:13Z", "type": "commit"}, {"oid": "51b77cec98e4845e1bc5bbe81672700f9844a756", "url": "https://github.com/apache/tinkerpop/commit/51b77cec98e4845e1bc5bbe81672700f9844a756", "message": "TINKERPOP-2076 Cleaned up references to \"java 8\"", "committedDate": "2020-06-17T11:27:38Z", "type": "commit"}, {"oid": "de02f3206ed675e41e3b12251c8a736eacaf7e1a", "url": "https://github.com/apache/tinkerpop/commit/de02f3206ed675e41e3b12251c8a736eacaf7e1a", "message": "TINKERPOP-2076 More Java 11 documentation updates", "committedDate": "2020-06-17T11:27:58Z", "type": "commit"}, {"oid": "2e1694fc7cedf0e52881c07905370c4ece072344", "url": "https://github.com/apache/tinkerpop/commit/2e1694fc7cedf0e52881c07905370c4ece072344", "message": "TINKERPOP-2076 Enforce java 11 with enforcer plugin", "committedDate": "2020-06-17T11:27:58Z", "type": "commit"}, {"oid": "d6f202ae7b760dd564cd93c9c8c4e91e956b61b9", "url": "https://github.com/apache/tinkerpop/commit/d6f202ae7b760dd564cd93c9c8c4e91e956b61b9", "message": "TINKERPOP-2076 Re-enabled javadoc for gremlin-groovy", "committedDate": "2020-06-17T11:27:58Z", "type": "commit"}, {"oid": "15c6cdbbc6ca19493aaaa3ed1ff40dd7af437528", "url": "https://github.com/apache/tinkerpop/commit/15c6cdbbc6ca19493aaaa3ed1ff40dd7af437528", "message": "TINKERPOP-2076 Use bionic for testing with travis and bump to jdk11", "committedDate": "2020-06-17T11:27:58Z", "type": "commit"}, {"oid": "ff286d70f655876abde3abe34f84b7c41b6dd556", "url": "https://github.com/apache/tinkerpop/commit/ff286d70f655876abde3abe34f84b7c41b6dd556", "message": "TINKERPOP-2076 Registered scala.reflect.ManifestFactory$AnyManifest with gryo\n\nSeems we did need some sort of replacement for scala.reflect.ManifestFactory$$anon$1", "committedDate": "2020-06-17T11:27:58Z", "type": "commit"}, {"oid": "011490535839db6b95f1c63d420e2e95d715a9fb", "url": "https://github.com/apache/tinkerpop/commit/011490535839db6b95f1c63d420e2e95d715a9fb", "message": "TINKERPOP-2076 Polished up benchmarking dependencies", "committedDate": "2020-06-17T11:27:58Z", "type": "commit"}, {"oid": "94e7ec33df69404ae7493505a1b64bdecf4b5e43", "url": "https://github.com/apache/tinkerpop/commit/94e7ec33df69404ae7493505a1b64bdecf4b5e43", "message": "updated user-facing docker base images to adoptopenjdk/openjdk11:alpine-slim", "committedDate": "2020-06-17T11:27:58Z", "type": "commit"}, {"oid": "f2c61df3f23cb94d2fbe051fa2b9dfbecd49c43c", "url": "https://github.com/apache/tinkerpop/commit/f2c61df3f23cb94d2fbe051fa2b9dfbecd49c43c", "message": "TINKERPOP-2076 Use jdk11 after rebase on revised docker image that combines 8 and 11 support", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "ed21235e1b727d59cdbc2322bff10dbdc2d9e419", "url": "https://github.com/apache/tinkerpop/commit/ed21235e1b727d59cdbc2322bff10dbdc2d9e419", "message": "TINKERPOP-2076 Resolve test inconsistency\n\nMissed a spot where we needed to explicitly count items in a ConcurrentSkipListSet rather than use size() which seems more sensitive in jdk11.", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "2a548391b57081fb968fe24a831365a8d31d489e", "url": "https://github.com/apache/tinkerpop/commit/2a548391b57081fb968fe24a831365a8d31d489e", "message": "TINKERPOP-2076 Fixed more warnings in maven build", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "5b68e7b6e96daec01fb014843af63b7c3a5b6eef", "url": "https://github.com/apache/tinkerpop/commit/5b68e7b6e96daec01fb014843af63b7c3a5b6eef", "message": "TINKERPOP-2076 Bumped to spark 3.0.0-preview2", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "3fcceafe5f8d18f352c2a1ad873fbd8e7d5464e0", "url": "https://github.com/apache/tinkerpop/commit/3fcceafe5f8d18f352c2a1ad873fbd8e7d5464e0", "message": "TINKERPOP-2076 Resolve commons-text conflict after rebase\n\nSpark 3.0 conflicted with gremlin-core", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "55e7c582a345e7d9c42e2e020156313fa9be6cee", "url": "https://github.com/apache/tinkerpop/commit/55e7c582a345e7d9c42e2e020156313fa9be6cee", "message": "TINKERPOP-2076 Ignored two failing tests after rebase on master\n\nTests are SSL related and were added at #1244", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "3b2929de999a8ebf58c6ce7c31b12b868e7a04f0", "url": "https://github.com/apache/tinkerpop/commit/3b2929de999a8ebf58c6ce7c31b12b868e7a04f0", "message": "TINKERPOP-2076 Use python3 to run console integration tests", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "dc158f551a71a111d0c26777d8738ffca1744ad7", "url": "https://github.com/apache/tinkerpop/commit/dc158f551a71a111d0c26777d8738ffca1744ad7", "message": "Removed two tests from GremlinServerSslIntegrationTest\n\nSince Java 11 would try to pick and select correct keyStoreType", "committedDate": "2020-06-17T11:29:12Z", "type": "commit"}, {"oid": "99b150881ff6f48322ddcf10a1ff9cc826b18be8", "url": "https://github.com/apache/tinkerpop/commit/99b150881ff6f48322ddcf10a1ff9cc826b18be8", "message": "TINKERPOP-2076 Bump to official spark 3.0\n\nFixed compile problem with console after rebase", "committedDate": "2020-06-17T12:14:40Z", "type": "commit"}, {"oid": "71a171523fa7570102d0ed68ee2c5de2a43b94a7", "url": "https://github.com/apache/tinkerpop/commit/71a171523fa7570102d0ed68ee2c5de2a43b94a7", "message": "TINKERPOP-2076 Cleanup groovy 3.0 imports", "committedDate": "2020-06-17T13:52:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA4OTI1OQ==", "url": "https://github.com/apache/tinkerpop/pull/1299#discussion_r442089259", "bodyText": "I think we should add a job below using openjdk8, that way we know that we are not breaking java 8 support.", "author": "jorgebay", "createdAt": "2020-06-18T09:20:16Z", "path": ".travis.yml", "diffHunk": "@@ -2,9 +2,9 @@ language: java\n os:\n   - linux\n jdk:\n-  - openjdk8\n+  - openjdk11", "originalCommit": "71a171523fa7570102d0ed68ee2c5de2a43b94a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "23fe7dea89f5d65f6e11b828e5fa5d4d62a68767", "url": "https://github.com/apache/tinkerpop/commit/23fe7dea89f5d65f6e11b828e5fa5d4d62a68767", "message": "TINKERPOP-2076 Set compiler plugin <release> to jdk8", "committedDate": "2020-06-18T12:12:07Z", "type": "commit"}, {"oid": "a8f54f971b78c8a9e7bcca494999e671c983a825", "url": "https://github.com/apache/tinkerpop/commit/a8f54f971b78c8a9e7bcca494999e671c983a825", "message": "TINKERPOP-2076 build on jdk8 or jdk11\n\nAdded a jdk11 maven profile and set all source to java 8.", "committedDate": "2020-06-24T14:38:24Z", "type": "commit"}, {"oid": "cef148299eceae0a6ef33da2d625103621f05a88", "url": "https://github.com/apache/tinkerpop/commit/cef148299eceae0a6ef33da2d625103621f05a88", "message": "TINKERPOP-2076 Do basic build on jdk8.\n\nAll other travis builds will operate on jdk11. No need for a full matrix build especially for non-JVM builds for GLVs.", "committedDate": "2020-06-24T14:43:49Z", "type": "commit"}, {"oid": "cef148299eceae0a6ef33da2d625103621f05a88", "url": "https://github.com/apache/tinkerpop/commit/cef148299eceae0a6ef33da2d625103621f05a88", "message": "TINKERPOP-2076 Do basic build on jdk8.\n\nAll other travis builds will operate on jdk11. No need for a full matrix build especially for non-JVM builds for GLVs.", "committedDate": "2020-06-24T14:43:49Z", "type": "forcePushed"}, {"oid": "658a7270c25ee45b05142d7bb8ee6dde268d4131", "url": "https://github.com/apache/tinkerpop/commit/658a7270c25ee45b05142d7bb8ee6dde268d4131", "message": "TINKERPOP-2076 Update dev docs to mention continued support of jdk8", "committedDate": "2020-06-24T15:12:54Z", "type": "commit"}, {"oid": "be461f71deb6d2147024f216422db7afb5ac7fc5", "url": "https://github.com/apache/tinkerpop/commit/be461f71deb6d2147024f216422db7afb5ac7fc5", "message": "TINKERPOP-2076 added jdk8 build as a second job so it can run in parallel", "committedDate": "2020-06-24T16:52:36Z", "type": "forcePushed"}, {"oid": "25cdb978a455770f86bd6ccf9adfda363f343944", "url": "https://github.com/apache/tinkerpop/commit/25cdb978a455770f86bd6ccf9adfda363f343944", "message": "TINKERPOP-2076 added jdk8 build as a second job so it can run in parallel", "committedDate": "2020-06-24T17:37:00Z", "type": "forcePushed"}, {"oid": "cd86b8e277fb2847417516d2afa053796bd824f3", "url": "https://github.com/apache/tinkerpop/commit/cd86b8e277fb2847417516d2afa053796bd824f3", "message": "TINKERPOP-2076 added jdk8 build as a second job so it can run in parallel", "committedDate": "2020-06-24T18:13:01Z", "type": "forcePushed"}, {"oid": "121910ca7a57c940cea3adfc041e8a68527ec900", "url": "https://github.com/apache/tinkerpop/commit/121910ca7a57c940cea3adfc041e8a68527ec900", "message": "TINKERPOP-2076 added jdk8 build as a second job so it can run in parallel", "committedDate": "2020-06-24T18:34:12Z", "type": "commit"}, {"oid": "121910ca7a57c940cea3adfc041e8a68527ec900", "url": "https://github.com/apache/tinkerpop/commit/121910ca7a57c940cea3adfc041e8a68527ec900", "message": "TINKERPOP-2076 added jdk8 build as a second job so it can run in parallel", "committedDate": "2020-06-24T18:34:12Z", "type": "forcePushed"}, {"oid": "72ae2fb604d562683953c59bfa0bc584402264ce", "url": "https://github.com/apache/tinkerpop/commit/72ae2fb604d562683953c59bfa0bc584402264ce", "message": "TINKERPOP-2076 Fix spark/yarn execution\n\nDocs were failing. Wrong spark-yarn version for spark 3.0 was being pulled in by the plugin. Then that brought in a paranamer dependency conflict with hadoop - fixed that. Updated a few dev docs as well.", "committedDate": "2020-06-25T18:32:04Z", "type": "commit"}, {"oid": "7e5ad431afdfbb9471c6281050ae728df2379151", "url": "https://github.com/apache/tinkerpop/commit/7e5ad431afdfbb9471c6281050ae728df2379151", "message": "TINKERPOP-2076 Bumped surefire/failsafe plugin versions.\n\nSeems like there are some problems with these plugins and jdk11. Not sure why it wasn't an issue before the last day or so.", "committedDate": "2020-06-26T19:01:50Z", "type": "commit"}, {"oid": "35490a8571e3543d238ec1bebaee7b4396a0e045", "url": "https://github.com/apache/tinkerpop/commit/35490a8571e3543d238ec1bebaee7b4396a0e045", "message": "TINKERPOP-2076 Bumped to surfire/filesafe 3.0.0-M3\n\nThis seems to solve jdk11/SUREFIRE-1614 and some other issues (2.22.2 should do the same but doesn't seem to want to behave). We don't use  milestone releases for primary dependencies but historically it has been ok on build plugins.", "committedDate": "2020-06-29T16:02:16Z", "type": "commit"}, {"oid": "7b19463ce7bad394745c385d8b0fc6573ad2ee91", "url": "https://github.com/apache/tinkerpop/commit/7b19463ce7bad394745c385d8b0fc6573ad2ee91", "message": "TINKERPOP-2076 Allow integration tests to pass on both jdk 8/11\n\nPassed jdk11 surefire/failsafe params as build property - seems like passing them to jdk8 causes weirdness. Set forkCount/reuseForks explicitly to avoid some odd jdk shutdowns for both jdk8/11. Must be something related to the newer surefire/failsafe plugins.", "committedDate": "2020-06-30T02:00:40Z", "type": "commit"}, {"oid": "03500f98d39a40750ca3b36aa3870ffc677fee0c", "url": "https://github.com/apache/tinkerpop/commit/03500f98d39a40750ca3b36aa3870ffc677fee0c", "message": "TINKERPOP-2076 Added suresafe parameter to ci/coverage profiles", "committedDate": "2020-06-30T10:23:41Z", "type": "commit"}, {"oid": "84a0e6d5d0ad3e8f575a6c0e09df9b17b0ee9037", "url": "https://github.com/apache/tinkerpop/commit/84a0e6d5d0ad3e8f575a6c0e09df9b17b0ee9037", "message": "TINKERPOP-2076 Reverted back to 2.22.2 on failsafe/surefire\n\nSeems like 2.22.2 is ok with the appropriate settings - save us from a milestone release.", "committedDate": "2020-06-30T15:43:31Z", "type": "commit"}]}