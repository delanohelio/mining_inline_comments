{"pr_number": 1293, "pr_title": "TINKERPOP-2264 update gremlin-python tests to be timezone/system-independent, related minor Docker changes", "pr_createdAt": "2020-06-10T11:00:21Z", "pr_url": "https://github.com/apache/tinkerpop/pull/1293", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NTYzMg==", "url": "https://github.com/apache/tinkerpop/pull/1293#discussion_r438045632", "bodyText": "I think I'd like to keep the same assumptions we've always had about local dev environments as we're deep into 3.4.x at this point and python2 is gone in 3.5.0. Do you mind reverting this change and doing a alias or something in your environment locally to accommodate this configuration?", "author": "spmallette", "createdAt": "2020-06-10T11:15:22Z", "path": "gremlin-python/pom.xml", "diffHunk": "@@ -311,7 +311,7 @@ limitations under the License.\n                                             <fileset dir=\"src/main/jython\"/>\n                                         </copy>\n                                         <!-- print versions of python and virtualenv -->\n-                                        <exec dir=\"${project.build.directory}/python2\" executable=\"python2\"\n+                                        <exec dir=\"${project.build.directory}/python2\" executable=\"python\"", "originalCommit": "15f6923823a54429f21c71cff1c4b87d26f28da9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NjA0NQ==", "url": "https://github.com/apache/tinkerpop/pull/1293#discussion_r438046045", "bodyText": "I'm still not smart enough about docker to know why this worked all this time without the -p - @robertdale or @dkuppitz  any ideas?", "author": "spmallette", "createdAt": "2020-06-10T11:16:13Z", "path": "docker/gremlin-server.sh", "diffHunk": "@@ -57,7 +57,7 @@ echo \"Using Gremlin Server $GREMLIN_SERVER_VERSION\"\n sed -e \"s/GREMLIN_SERVER_VERSION\\$/${GREMLIN_SERVER_VERSION}/\" docker/gremlin-server/Dockerfile.template > Dockerfile\n \n docker build -t tinkerpop:${BUILD_TAG} .\n-docker run ${TINKERPOP_TEST_DOCKER_OPTS} ${REMOVE_CONTAINER} -ti -v \"${HOME}\"/.groovy:/root/.groovy -v \"${HOME}\"/.m2:/root/.m2 tinkerpop:${BUILD_TAG} ${@}\n+docker run ${TINKERPOP_TEST_DOCKER_OPTS} ${REMOVE_CONTAINER} -ti -p 45940:45940 -p 45941:45941 -v \"${HOME}\"/.groovy:/root/.groovy -v \"${HOME}\"/.m2:/root/.m2 tinkerpop:${BUILD_TAG} ${@}", "originalCommit": "15f6923823a54429f21c71cff1c4b87d26f28da9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA3NDA4Nw==", "url": "https://github.com/apache/tinkerpop/pull/1293#discussion_r438074087", "bodyText": "I suspect it's because Docker on Mac runs in its own VM, instead of in a container directly on the (Linux) host, so there's more to it than just EXPOSE commands in the Dockerfile.", "author": "humbleengineer", "createdAt": "2020-06-10T12:13:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NjA0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODEwOTI3Nw==", "url": "https://github.com/apache/tinkerpop/pull/1293#discussion_r438109277", "bodyText": "ahhh - so maybe no one has been running on mac until now.", "author": "spmallette", "createdAt": "2020-06-10T13:11:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA0NjA0NQ=="}], "type": "inlineReview"}, {"oid": "417a1eca335b3397cd179698fa6babfee076c99a", "url": "https://github.com/apache/tinkerpop/commit/417a1eca335b3397cd179698fa6babfee076c99a", "message": "TINKERPOP-2264 update Python graphson tests to use calendar.timegm and utctimetuple when testing g:Date->datetime conversion - they were failing for some timezones/systems.", "committedDate": "2020-06-10T17:26:25Z", "type": "commit"}, {"oid": "eca776983c02cf0298b706ec8ab92e8a49278085", "url": "https://github.com/apache/tinkerpop/commit/eca776983c02cf0298b706ec8ab92e8a49278085", "message": "EXPOSE secure port 45941 in gremlin-server Dockfile.template. Add -p arguments to docker run in gremlin-server.sh so that the ports are exposed on macos.", "committedDate": "2020-06-10T17:29:39Z", "type": "commit"}, {"oid": "eca776983c02cf0298b706ec8ab92e8a49278085", "url": "https://github.com/apache/tinkerpop/commit/eca776983c02cf0298b706ec8ab92e8a49278085", "message": "EXPOSE secure port 45941 in gremlin-server Dockfile.template. Add -p arguments to docker run in gremlin-server.sh so that the ports are exposed on macos.", "committedDate": "2020-06-10T17:29:39Z", "type": "forcePushed"}]}