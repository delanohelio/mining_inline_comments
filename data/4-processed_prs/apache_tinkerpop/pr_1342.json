{"pr_number": 1342, "pr_title": "TINKERPOP-2436 The gremlin server starts even if all graphs instantiation has failed", "pr_createdAt": "2020-10-08T14:17:17Z", "pr_url": "https://github.com/apache/tinkerpop/pull/1342", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY3MDA5Ng==", "url": "https://github.com/apache/tinkerpop/pull/1342#discussion_r507670096", "bodyText": "I'm afraid that using the full package name blows out the documentation formatting pretty badly. Could you please remove that? If you feel it important to have, then you can use a footnote of some sort and post the full package name at the bottom of the table.", "author": "spmallette", "createdAt": "2020-10-19T11:24:50Z", "path": "docs/src/reference/gremlin-applications.asciidoc", "diffHunk": "@@ -949,7 +949,7 @@ The following table describes the various YAML configuration options that Gremli\n |authentication.config |A `Map` of configuration settings to be passes to the `Authenticator` when it is constructed.  The settings available are dependent on the implementation. |_none_\n |authentication.enableAuditLog |The available authenticators can issue audit logging messages, binding the authenticated user to his remote socket address and binding requests with a gremlin query to the remote socket address. For privacy reasons, the default value of this setting is false. The audit logging messages are logged at the INFO level via the `audit.org.apache.tinkerpop.gremlin.server` logger, which can be configured using the log4j.properties file. |false\n |channelizer |The fully qualified classname of the `Channelizer` implementation to use.  A `Channelizer` is a \"channel initializer\" which Gremlin Server uses to define the type of processing pipeline to use.  By allowing different `Channelizer` implementations, Gremlin Server can support different communication protocols (e.g. WebSocket). |`WebSocketChannelizer`\n-|graphManager |The fully qualified classname of the `GraphManager` implementation to use.  A `GraphManager` is a class that adheres to the TinkerPop `GraphManager` interface, allowing custom implementations for storing and managing graph references, as well as defining custom methods to open and close graphs instantiations. It is important to note that the TinkerPop HTTP and WebSocketChannelizers auto-commit and auto-rollback based on the graphs stored in the graphManager upon script execution completion. |`DefaultGraphManager`\n+|graphManager |The fully qualified classname of the `GraphManager` implementation to use.  A `GraphManager` is a class that adheres to the TinkerPop `GraphManager` interface, allowing custom implementations for storing and managing graph references, as well as defining custom methods to open and close graphs instantiations. It is important to note that the TinkerPop HTTP and WebSocketChannelizers auto-commit and auto-rollback based on the graphs stored in the graphManager upon script execution completion. To prevent gremlin-server to start when all graphs fails, the `org.apache.tinkerpop.gremlin.server.util.CheckedGraphManager` can be used.|`org.apache.tinkerpop.gremlin.server.util.DefaultGraphManager`", "originalCommit": "1e1329bee4bf022d64c33770b35f6f310fbabb1e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY3Mzk5OA==", "url": "https://github.com/apache/tinkerpop/pull/1342#discussion_r507673998", "bodyText": "I think you should keep GremlinServer.class for the logger name (and prefer it as well for the CheckedGraphManager. We've considered the GraphManager part of the general Gremlin Server startup. I don't think there's much value in being able to configure the GraphManager logs separate from GremlinServer.", "author": "spmallette", "createdAt": "2020-10-19T11:32:05Z", "path": "gremlin-server/src/main/java/org/apache/tinkerpop/gremlin/server/util/DefaultGraphManager.java", "diffHunk": "@@ -42,8 +45,8 @@\n  * the configuration file. The {@link TraversalSource} instances are rebound to the {@code GraphManager} once\n  * initialization scripts construct them.\n  */\n-public final class DefaultGraphManager implements GraphManager {\n-    private static final Logger logger = LoggerFactory.getLogger(GremlinServer.class);", "originalCommit": "1e1329bee4bf022d64c33770b35f6f310fbabb1e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDA5OTA4NQ==", "url": "https://github.com/apache/tinkerpop/pull/1342#discussion_r510099085", "bodyText": "I have changed not for configuration purpose, but to easily be able to find the source code from a log entry.\nIt has been hard for me to debug, as I saw a log with GremlinServer, but I could not find the log in the source code for this class.\nUsing a logger per class does not make configuration harder, as configuration can be set at package level (for instance org.apache.tinkerpop.gremlin.server: INFO)", "author": "mmadoo", "createdAt": "2020-10-22T11:53:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY3Mzk5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDEwMTIzNA==", "url": "https://github.com/apache/tinkerpop/pull/1342#discussion_r510101234", "bodyText": "true - i withdraw that suggestion.", "author": "spmallette", "createdAt": "2020-10-22T11:57:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY3Mzk5OA=="}], "type": "inlineReview"}, {"oid": "14fafd54b4003fc13810ac9084d3781308d50b2f", "url": "https://github.com/apache/tinkerpop/commit/14fafd54b4003fc13810ac9084d3781308d50b2f", "message": "TINKERPOP-2436 The gremlin server starts even if all graphs instantiation has failed", "committedDate": "2020-10-22T12:45:23Z", "type": "forcePushed"}, {"oid": "730d349955efcbe19882f15f605c1dff0d41dece", "url": "https://github.com/apache/tinkerpop/commit/730d349955efcbe19882f15f605c1dff0d41dece", "message": "TINKERPOP-2436 The gremlin server starts even if all graphs instantiation has failed", "committedDate": "2020-10-27T13:37:52Z", "type": "commit"}, {"oid": "730d349955efcbe19882f15f605c1dff0d41dece", "url": "https://github.com/apache/tinkerpop/commit/730d349955efcbe19882f15f605c1dff0d41dece", "message": "TINKERPOP-2436 The gremlin server starts even if all graphs instantiation has failed", "committedDate": "2020-10-27T13:37:52Z", "type": "forcePushed"}]}