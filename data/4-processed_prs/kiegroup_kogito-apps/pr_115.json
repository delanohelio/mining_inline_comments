{"pr_number": 115, "pr_title": "KOGITO-1467 Invalid enpoint url in process instance list", "pr_createdAt": "2020-03-20T06:14:54Z", "pr_url": "https://github.com/kiegroup/kogito-apps/pull/115", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ1NDkxMg==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r395454912", "bodyText": "not exposed to filter on", "author": "cristianonicolai", "createdAt": "2020-03-20T06:24:18Z", "path": "packages/management-console/server/MockData/types.js", "diffHunk": "@@ -135,6 +136,7 @@ module.exports = typeDefs = gql`\n     error: ProcessInstanceErrorArgument\n     nodes: NodeInstanceArgument\n     endpoint: StringArgument\n+    serviceUrl: StringArgument", "originalCommit": "47f2bad9c9406989cc7159cd5c4eb7f1410d2762", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ1NDk1NA==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r395454954", "bodyText": "remove endpoint?", "author": "cristianonicolai", "createdAt": "2020-03-20T06:24:31Z", "path": "packages/management-console/src/components/Molecules/DataListItemComponent/DataListItemComponent.tsx", "diffHunk": "@@ -53,6 +54,7 @@ interface IProcessInstance {\n   start: string;\n   state: string;\n   addons: string[];\n+  serviceUrl: string | null;\n   endpoint: string;", "originalCommit": "47f2bad9c9406989cc7159cd5c4eb7f1410d2762", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ1NTA0MA==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r395455040", "bodyText": "use TypeScript ProcessInstance?", "author": "cristianonicolai", "createdAt": "2020-03-20T06:24:58Z", "path": "packages/management-console/src/components/Molecules/DataListItemComponent/DataListItemComponent.tsx", "diffHunk": "@@ -37,6 +37,7 @@ import {\n } from '@patternfly/react-icons';\n import ErrorPopover from '../../Atoms/ErrorPopoverComponent/ErrorPopoverComponent';\n import ProcessBulkModalComponent from '../../Atoms/ProcessBulkModalComponent/ProcessBulkModalComponent';\n+import DisablePopupWithCheckboxComponent from '../DiablePopupComponent/DisablePopupComponent';\n \n /* tslint:disable:no-string-literal */\n export interface IProcessInstanceError {", "originalCommit": "47f2bad9c9406989cc7159cd5c4eb7f1410d2762", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ1NTI3MA==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r395455270", "bodyText": "I think you should keep this, only update the state if the request succeds", "author": "cristianonicolai", "createdAt": "2020-03-20T06:26:02Z", "path": "packages/management-console/src/components/Molecules/DataListItemComponent/DataListItemComponent.tsx", "diffHunk": "@@ -244,15 +245,15 @@ const DataListItemComponent: React.FC<IOwnProps> = ({\n   const handleAbortActiveInstances = useCallback(\n     (processInstanceId, processId) => {\n       setModalTitle('Abort operation');\n+      processInstanceData.state = ProcessInstanceState.Aborted;\n       axios\n         .delete(\n-          `${processInstanceData.endpoint}/management/processes/${processId}/instances/${processInstanceId}`\n+          `${processInstanceData.serviceUrl}/management/processes/${processId}/instances/${processInstanceId}`\n         )\n         .then(() => {\n           setModalTitle('Process aborted');\n           setModalContent(`${processId} - process execution has been aborted.`);\n           setTitleType('success');\n-          processInstanceData.state = 'ABORTED';", "originalCommit": "47f2bad9c9406989cc7159cd5c4eb7f1410d2762", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ1NTYyMw==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r395455623", "bodyText": "remove endpoint?", "author": "cristianonicolai", "createdAt": "2020-03-20T06:27:42Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -24,6 +24,7 @@ const GET_PROCESS_INSTANCES = gql`\n       lastUpdate\n       addons\n       endpoint", "originalCommit": "47f2bad9c9406989cc7159cd5c4eb7f1410d2762", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQ1NTY0NQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r395455645", "bodyText": "remove endpoint?", "author": "cristianonicolai", "createdAt": "2020-03-20T06:27:45Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -47,6 +48,7 @@ const GET_CHILD_INSTANCES = gql`\n       start\n       lastUpdate\n       endpoint", "originalCommit": "47f2bad9c9406989cc7159cd5c4eb7f1410d2762", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1a94bf8c559758f555fd39a18adef057ad90b1af", "url": "https://github.com/kiegroup/kogito-apps/commit/1a94bf8c559758f555fd39a18adef057ad90b1af", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-20T06:36:06Z", "type": "forcePushed"}, {"oid": "678aee4a937537c8b436e1879bf2dea037b085bf", "url": "https://github.com/kiegroup/kogito-apps/commit/678aee4a937537c8b436e1879bf2dea037b085bf", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-20T06:57:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU5NTY4OA==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r395595688", "bodyText": "@AjayJagan there are quite a lot of changes in this file, just concerned if we dont break something. Could it be just the formatting? Is tslint running when you commit?", "author": "cristianonicolai", "createdAt": "2020-03-20T12:11:06Z", "path": "packages/management-console/src/graphql/types.tsx", "diffHunk": "@@ -518,27 +514,27 @@ export type __Field = {\n   deprecationReason?: Maybe<Scalars['String']>;\n };\n \n-/** \n+/**", "originalCommit": "678aee4a937537c8b436e1879bf2dea037b085bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b6d03ec84aefee9c89a1ee694725f0f718e7ce96", "url": "https://github.com/kiegroup/kogito-apps/commit/b6d03ec84aefee9c89a1ee694725f0f718e7ce96", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-23T04:41:20Z", "type": "forcePushed"}, {"oid": "bb866174655e9bc530b5e7c69262cc1d25a83d18", "url": "https://github.com/kiegroup/kogito-apps/commit/bb866174655e9bc530b5e7c69262cc1d25a83d18", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-23T05:31:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjIyMTQxNQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r396221415", "bodyText": "@srambach - if a button is disabled , does the Tooltip work? I tried and it is not working for me. Thoughts on this please :)", "author": "AjayJagan", "createdAt": "2020-03-23T05:35:08Z", "path": "packages/management-console/src/components/Molecules/DataListItemComponent/DataListItemComponent.tsx", "diffHunk": "@@ -499,6 +505,23 @@ const DataListItemComponent: React.FC<IOwnProps> = ({\n                   >\n                     Endpoint{<ExternalLinkAltIcon className=\"pf-u-ml-xs\" />}\n                   </Button>\n+                ) : (\n+                  <Button\n+                    component={'a'}\n+                    variant={'link'}\n+                    target={'_blank'}\n+                    isDisabled\n+                    href={`${processInstanceData.endpoint}/management/processes/${processInstanceData.processId}/instances/${processInstanceData.id}`}\n+                    isInline={true}\n+                  >\n+                    Endpoint\n+                    {\n+                      <ExternalLinkAltIcon\n+                        className=\"pf-u-ml-xs\"\n+                        color=\"grey\"\n+                      />\n+                    }\n+                  </Button>\n                 )}", "originalCommit": "bb866174655e9bc530b5e7c69262cc1d25a83d18", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c09466611bcd55ac5a73e3baf444a4b6ae8dfb08", "url": "https://github.com/kiegroup/kogito-apps/commit/c09466611bcd55ac5a73e3baf444a4b6ae8dfb08", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-24T06:31:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkyOTMzMQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r396929331", "bodyText": "ProcessInstance  type?", "author": "cristianonicolai", "createdAt": "2020-03-24T06:40:05Z", "path": "packages/management-console/src/components/Molecules/DiablePopupComponent/DisablePopupComponent.tsx", "diffHunk": "@@ -0,0 +1,64 @@\n+import React from 'react';\n+import { Tooltip, DataListCheck } from '@patternfly/react-core';\n+\n+interface IOwnProps {\n+  processInstanceData: any;", "originalCommit": "c09466611bcd55ac5a73e3baf444a4b6ae8dfb08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkzMjQxMA==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r396932410", "bodyText": "aah sorry forgot :(", "author": "AjayJagan", "createdAt": "2020-03-24T06:49:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkyOTMzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkzNzYzNg==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r396937636", "bodyText": "done", "author": "AjayJagan", "createdAt": "2020-03-24T07:04:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkyOTMzMQ=="}], "type": "inlineReview"}, {"oid": "e21de168b85157218f40fe74c79e4e493b7e392f", "url": "https://github.com/kiegroup/kogito-apps/commit/e21de168b85157218f40fe74c79e4e493b7e392f", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-24T07:04:18Z", "type": "forcePushed"}, {"oid": "2786884bf5a59f3dc121823a9d35eb3ce2c3a503", "url": "https://github.com/kiegroup/kogito-apps/commit/2786884bf5a59f3dc121823a9d35eb3ce2c3a503", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-24T09:17:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMyMjAxMg==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r398322012", "bodyText": "drop Component from the name?", "author": "cristianonicolai", "createdAt": "2020-03-26T05:14:31Z", "path": "packages/management-console/src/components/Molecules/DataListItemComponent/DataListItemComponent.tsx", "diffHunk": "@@ -38,10 +41,13 @@ import {\n } from '@patternfly/react-icons';\n import ErrorPopover from '../../Atoms/ErrorPopoverComponent/ErrorPopoverComponent';\n import ProcessBulkModalComponent from '../../Atoms/ProcessBulkModalComponent/ProcessBulkModalComponent';\n-interface IOwnProps {\n+import DisablePopupWithCheckboxComponent from '../DiablePopupComponent/DisablePopupComponent';", "originalCommit": "2786884bf5a59f3dc121823a9d35eb3ce2c3a503", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMyMjExMQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/115#discussion_r398322111", "bodyText": "is this still needed?", "author": "cristianonicolai", "createdAt": "2020-03-26T05:14:54Z", "path": "packages/management-console/src/components/Molecules/DataListItemComponent/DataListItemComponent.tsx", "diffHunk": "@@ -38,10 +41,13 @@ import {\n } from '@patternfly/react-icons';\n import ErrorPopover from '../../Atoms/ErrorPopoverComponent/ErrorPopoverComponent';\n import ProcessBulkModalComponent from '../../Atoms/ProcessBulkModalComponent/ProcessBulkModalComponent';\n-interface IOwnProps {\n+import DisablePopupWithCheckboxComponent from '../DiablePopupComponent/DisablePopupComponent';\n+\n+/* tslint:disable:no-string-literal */", "originalCommit": "2786884bf5a59f3dc121823a9d35eb3ce2c3a503", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "05cf2463af88cfa18190b29183c9095d30dc5a1f", "url": "https://github.com/kiegroup/kogito-apps/commit/05cf2463af88cfa18190b29183c9095d30dc5a1f", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-26T06:25:35Z", "type": "forcePushed"}, {"oid": "22fc52db4eab346044383978fe3084e4a5b957dd", "url": "https://github.com/kiegroup/kogito-apps/commit/22fc52db4eab346044383978fe3084e4a5b957dd", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-26T06:45:15Z", "type": "forcePushed"}, {"oid": "8bb2b19132fccdad0652e059486be1e91df44eed", "url": "https://github.com/kiegroup/kogito-apps/commit/8bb2b19132fccdad0652e059486be1e91df44eed", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-26T07:02:37Z", "type": "forcePushed"}, {"oid": "46712ebe7be83565bdd4db7f3e6fc4c8fcc437bf", "url": "https://github.com/kiegroup/kogito-apps/commit/46712ebe7be83565bdd4db7f3e6fc4c8fcc437bf", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-26T09:58:31Z", "type": "forcePushed"}, {"oid": "ea2fb6ee674e9b26b641205099a874ccd0de74a3", "url": "https://github.com/kiegroup/kogito-apps/commit/ea2fb6ee674e9b26b641205099a874ccd0de74a3", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-26T18:06:41Z", "type": "forcePushed"}, {"oid": "a4dea650f6ede660375f005e649a71a730ef53ee", "url": "https://github.com/kiegroup/kogito-apps/commit/a4dea650f6ede660375f005e649a71a730ef53ee", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-27T03:44:57Z", "type": "forcePushed"}, {"oid": "ae3089e89063236cf67beb40aabdc1c4bb6ac02b", "url": "https://github.com/kiegroup/kogito-apps/commit/ae3089e89063236cf67beb40aabdc1c4bb6ac02b", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-27T05:38:59Z", "type": "forcePushed"}, {"oid": "6e4384302eed45f6c9a7cdbde5a1bdcad1a28a4d", "url": "https://github.com/kiegroup/kogito-apps/commit/6e4384302eed45f6c9a7cdbde5a1bdcad1a28a4d", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-27T06:52:29Z", "type": "commit"}, {"oid": "6e4384302eed45f6c9a7cdbde5a1bdcad1a28a4d", "url": "https://github.com/kiegroup/kogito-apps/commit/6e4384302eed45f6c9a7cdbde5a1bdcad1a28a4d", "message": "KOGITO-1467 Invalid enpoint url in process instance list", "committedDate": "2020-03-27T06:52:29Z", "type": "forcePushed"}]}