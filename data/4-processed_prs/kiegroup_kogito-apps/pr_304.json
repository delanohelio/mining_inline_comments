{"pr_number": 304, "pr_title": "KOGITO-2598 Move DataTable component to Common Module", "pr_createdAt": "2020-07-02T21:34:47Z", "pr_url": "https://github.com/kiegroup/kogito-apps/pull/304", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM1NzkxNQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r449357915", "bodyText": "@yzhao583 we recently added some naming convention for the css classes, see https://github.com/kiegroup/kogito-apps/blob/master/ui-packages/packages/management-console/src/components/Templates/DomainExplorerPage/DomainExplorerPage.css#L1", "author": "cristianonicolai", "createdAt": "2020-07-03T03:27:23Z", "path": "ui-packages/packages/task-console/src/components/Templates/UserTaskDataTableContainer/UserTaskDataTable.css", "diffHunk": "@@ -0,0 +1,3 @@\n+.user-task-data-table{", "originalCommit": "28fea7a20f7745c7b0d23fd8c835b0d0b51fd89a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYyMjg4Ng==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r449622886", "bodyText": "@cristianonicolai Thanks, will check and update", "author": "yzhao583", "createdAt": "2020-07-03T14:57:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM1NzkxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU4NTYxMw==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r449585613", "bodyText": "I would argue here for a partial mock of the imported package (to hide the common package structure):\nconst MockedComponent = (): React.ReactElement => {\n    return <></>;\n}\njest.mock('@kogito-apps/common', ()=>({\n   ...jest.requireActual('@kogito-apps/common'),\n   DataTable: ()=>{return <MockedComponent />}\n}))", "author": "jstastny-cz", "createdAt": "2020-07-03T13:32:03Z", "path": "ui-packages/packages/task-console/src/components/Templates/UserTaskDataTableContainer/tests/UserTaskDataTableContainer.test.tsx", "diffHunk": "@@ -1,10 +1,10 @@\n import React from 'react';\n-import DataTableContainer from '../DataTableContainer';\n+import UserTaskDataTableContainer from '../UserTaskDataTableContainer';\n import { getWrapperAsync } from '@kogito-apps/common';\n import { MemoryRouter as Router } from 'react-router-dom';\n import { MockedProvider } from '@apollo/react-testing';\n \n-jest.mock('../../../Organisms/DataTable/DataTable');\n+jest.mock('@kogito-apps/common/src/components/Organisms/DataTable/DataTable');", "originalCommit": "28fea7a20f7745c7b0d23fd8c835b0d0b51fd89a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYyMzA3Ng==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r449623076", "bodyText": "@jstastny-cz Thanks, will check and update", "author": "yzhao583", "createdAt": "2020-07-03T14:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU4NTYxMw=="}], "type": "inlineReview"}, {"oid": "60a41ea06c777eb09f34abdbdede23801e399868", "url": "https://github.com/kiegroup/kogito-apps/commit/60a41ea06c777eb09f34abdbdede23801e399868", "message": "Move DataTable component to Common Module", "committedDate": "2020-07-06T16:37:52Z", "type": "commit"}, {"oid": "60a41ea06c777eb09f34abdbdede23801e399868", "url": "https://github.com/kiegroup/kogito-apps/commit/60a41ea06c777eb09f34abdbdede23801e399868", "message": "Move DataTable component to Common Module", "committedDate": "2020-07-06T16:37:52Z", "type": "forcePushed"}, {"oid": "985d5b1e6f6fab6dd52d760ef382b8fbf93b7fb2", "url": "https://github.com/kiegroup/kogito-apps/commit/985d5b1e6f6fab6dd52d760ef382b8fbf93b7fb2", "message": "Built the UserTaskPageHeader Component so it can be used in other components", "committedDate": "2020-07-06T19:55:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5Mjc4OQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r452092789", "bodyText": "I understand that this component is rather light-weight and (transitively) covered by tests. Still I think we should add tests for this component - easily a simple snapshot for us to serve as a unit-test level coverage (so that for any change in UserTaskPageHeader component its own tests fail - not relying on tests for other components where we can easily loose coverage by mocking this component).", "author": "jstastny-cz", "createdAt": "2020-07-09T09:38:29Z", "path": "ui-packages/packages/task-console/src/components/Molecules/UserTaskPageHeader/UserTaskPageHeader.tsx", "diffHunk": "@@ -0,0 +1,27 @@\n+import React from 'react';\n+import { Link } from 'react-router-dom';\n+import {\n+  Breadcrumb,\n+  BreadcrumbItem,\n+  PageSection\n+} from '@patternfly/react-core';\n+\n+import PageTitle from '../PageTitle/PageTitle';\n+\n+const UserTaskPageHeader: React.FC = () => {", "originalCommit": "985d5b1e6f6fab6dd52d760ef382b8fbf93b7fb2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIyNDkzNw==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r452224937", "bodyText": "@jstastny-cz Sure, sorry for the oversight, will modify.", "author": "yzhao583", "createdAt": "2020-07-09T13:40:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5Mjc4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5NDMyMQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r452094321", "bodyText": "can we mock this one?", "author": "jstastny-cz", "createdAt": "2020-07-09T09:41:15Z", "path": "ui-packages/packages/task-console/src/components/Templates/UserTaskDataTableContainer/tests/__snapshots__/UserTaskDataTableContainer.test.tsx.snap", "diffHunk": "@@ -1,144 +1,146 @@\n // Jest Snapshot v1, https://goo.gl/fbAQLP\n \n-exports[`DataTableContainer component tests Should render DataTableContainer correctly 1`] = `\n-<DataTableContainer\n+exports[`UserTaskDataTableContainer component tests Should render UserTaskDataTableContainer correctly 1`] = `\n+<UserTaskDataTableContainer\n   ouiaContext={\n     Object {\n       \"isOuia\": false,\n       \"ouiaId\": null,\n     }\n   }\n >\n-  <PageSection\n-    variant=\"light\"\n-  >\n-    <section\n-      className=\"pf-c-page__main-section pf-m-light\"\n+  <UserTaskPageHeader>\n+    <PageSection\n+      variant=\"light\"\n     >\n-      <PageTitle\n-        title=\"User Tasks\"\n+      <section\n+        className=\"pf-c-page__main-section pf-m-light\"\n       >\n-        <Title\n-          headingLevel=\"h1\"\n-          size=\"4xl\"\n+        <PageTitle\n+          title=\"User Tasks\"\n         >\n-          <h1\n-            className=\"pf-c-title pf-m-4xl\"\n+          <Title\n+            headingLevel=\"h1\"\n+            size=\"4xl\"\n           >\n-            User Tasks\n-          </h1>\n-        </Title>\n-      </PageTitle>\n-      <Component>\n-        <ComponentWithOuia\n-          component={[Function]}\n-          componentProps={\n-            Object {\n-              \"children\": Array [\n-                <BreadcrumbItem>\n-                  <Link\n-                    to=\"/\"\n+            <h1\n+              className=\"pf-c-title pf-m-4xl\"\n+            >\n+              User Tasks\n+            </h1>\n+          </Title>\n+        </PageTitle>\n+        <Component>\n+          <ComponentWithOuia\n+            component={[Function]}\n+            componentProps={\n+              Object {\n+                \"children\": Array [\n+                  <BreadcrumbItem>\n+                    <Link\n+                      to=\"/\"\n+                    >\n+                      Home\n+                    </Link>\n+                  </BreadcrumbItem>,\n+                  <BreadcrumbItem\n+                    isActive={true}\n                   >\n-                    Home\n-                  </Link>\n-                </BreadcrumbItem>,\n-                <BreadcrumbItem\n-                  isActive={true}\n-                >\n-                  User Tasks\n-                </BreadcrumbItem>,\n-              ],\n-            }\n-          }\n-          consumerContext={\n-            Object {\n-              \"isOuia\": false,\n-              \"ouiaId\": null,\n+                    User Tasks\n+                  </BreadcrumbItem>,\n+                ],\n+              }\n             }\n-          }\n-        >\n-          <Breadcrumb\n-            ouiaContext={\n+            consumerContext={\n               Object {\n                 \"isOuia\": false,\n                 \"ouiaId\": null,\n               }\n             }\n           >\n-            <nav\n-              aria-label=\"Breadcrumb\"\n-              className=\"pf-c-breadcrumb\"\n+            <Breadcrumb\n+              ouiaContext={\n+                Object {\n+                  \"isOuia\": false,\n+                  \"ouiaId\": null,\n+                }\n+              }\n             >\n-              <ol\n-                className=\"pf-c-breadcrumb__list\"\n+              <nav\n+                aria-label=\"Breadcrumb\"\n+                className=\"pf-c-breadcrumb\"\n               >\n-                <BreadcrumbItem>\n-                  <li\n-                    className=\"pf-c-breadcrumb__item\"\n-                  >\n-                    <Link\n-                      to=\"/\"\n+                <ol\n+                  className=\"pf-c-breadcrumb__list\"\n+                >\n+                  <BreadcrumbItem>\n+                    <li\n+                      className=\"pf-c-breadcrumb__item\"\n                     >\n-                      <LinkAnchor\n-                        href=\"/\"\n-                        navigate={[Function]}\n+                      <Link\n+                        to=\"/\"\n                       >\n-                        <a\n+                        <LinkAnchor\n                           href=\"/\"\n-                          onClick={[Function]}\n+                          navigate={[Function]}\n                         >\n-                          Home\n-                        </a>\n-                      </LinkAnchor>\n-                    </Link>\n-                    <span\n-                      className=\"pf-c-breadcrumb__item-divider\"\n-                    >\n-                      <AngleRightIcon\n-                        color=\"currentColor\"\n-                        noVerticalAlign={false}\n-                        size=\"sm\"\n-                        title={null}\n+                          <a\n+                            href=\"/\"\n+                            onClick={[Function]}\n+                          >\n+                            Home\n+                          </a>\n+                        </LinkAnchor>\n+                      </Link>\n+                      <span\n+                        className=\"pf-c-breadcrumb__item-divider\"\n                       >\n-                        <svg\n-                          aria-hidden={true}\n-                          aria-labelledby={null}\n-                          fill=\"currentColor\"\n-                          height=\"1em\"\n-                          role=\"img\"\n-                          style={\n-                            Object {\n-                              \"verticalAlign\": \"-0.125em\",\n-                            }\n-                          }\n-                          viewBox=\"0 0 256 512\"\n-                          width=\"1em\"\n+                        <AngleRightIcon", "originalCommit": "985d5b1e6f6fab6dd52d760ef382b8fbf93b7fb2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5NDU2MQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r452094561", "bodyText": "can we mock?", "author": "jstastny-cz", "createdAt": "2020-07-09T09:41:40Z", "path": "ui-packages/packages/task-console/src/components/Templates/UserTaskDataTableContainer/tests/__snapshots__/UserTaskDataTableContainer.test.tsx.snap", "diffHunk": "@@ -258,148 +262,150 @@ exports[`DataTableContainer component tests Should render DataTableContainer cor\n       </Grid>\n     </section>\n   </PageSection>\n-</DataTableContainer>\n+</UserTaskDataTableContainer>\n `;\n \n-exports[`DataTableContainer component tests Should render DataTableContainer with no data 1`] = `\n-<DataTableContainer\n+exports[`UserTaskDataTableContainer component tests Should render UserTaskDataTableContainer with no data 1`] = `\n+<UserTaskDataTableContainer\n   ouiaContext={\n     Object {\n       \"isOuia\": false,\n       \"ouiaId\": null,\n     }\n   }\n >\n-  <PageSection\n-    variant=\"light\"\n-  >\n-    <section\n-      className=\"pf-c-page__main-section pf-m-light\"\n+  <UserTaskPageHeader>\n+    <PageSection\n+      variant=\"light\"\n     >\n-      <PageTitle\n-        title=\"User Tasks\"\n+      <section\n+        className=\"pf-c-page__main-section pf-m-light\"\n       >\n-        <Title\n-          headingLevel=\"h1\"\n-          size=\"4xl\"\n+        <PageTitle\n+          title=\"User Tasks\"\n         >\n-          <h1\n-            className=\"pf-c-title pf-m-4xl\"\n+          <Title\n+            headingLevel=\"h1\"\n+            size=\"4xl\"\n           >\n-            User Tasks\n-          </h1>\n-        </Title>\n-      </PageTitle>\n-      <Component>\n-        <ComponentWithOuia\n-          component={[Function]}\n-          componentProps={\n-            Object {\n-              \"children\": Array [\n-                <BreadcrumbItem>\n-                  <Link\n-                    to=\"/\"\n+            <h1\n+              className=\"pf-c-title pf-m-4xl\"\n+            >\n+              User Tasks\n+            </h1>\n+          </Title>\n+        </PageTitle>\n+        <Component>\n+          <ComponentWithOuia\n+            component={[Function]}\n+            componentProps={\n+              Object {\n+                \"children\": Array [\n+                  <BreadcrumbItem>\n+                    <Link\n+                      to=\"/\"\n+                    >\n+                      Home\n+                    </Link>\n+                  </BreadcrumbItem>,\n+                  <BreadcrumbItem\n+                    isActive={true}\n                   >\n-                    Home\n-                  </Link>\n-                </BreadcrumbItem>,\n-                <BreadcrumbItem\n-                  isActive={true}\n-                >\n-                  User Tasks\n-                </BreadcrumbItem>,\n-              ],\n-            }\n-          }\n-          consumerContext={\n-            Object {\n-              \"isOuia\": false,\n-              \"ouiaId\": null,\n+                    User Tasks\n+                  </BreadcrumbItem>,\n+                ],\n+              }\n             }\n-          }\n-        >\n-          <Breadcrumb\n-            ouiaContext={\n+            consumerContext={\n               Object {\n                 \"isOuia\": false,\n                 \"ouiaId\": null,\n               }\n             }\n           >\n-            <nav\n-              aria-label=\"Breadcrumb\"\n-              className=\"pf-c-breadcrumb\"\n+            <Breadcrumb\n+              ouiaContext={\n+                Object {\n+                  \"isOuia\": false,\n+                  \"ouiaId\": null,\n+                }\n+              }\n             >\n-              <ol\n-                className=\"pf-c-breadcrumb__list\"\n+              <nav\n+                aria-label=\"Breadcrumb\"\n+                className=\"pf-c-breadcrumb\"\n               >\n-                <BreadcrumbItem>\n-                  <li\n-                    className=\"pf-c-breadcrumb__item\"\n-                  >\n-                    <Link\n-                      to=\"/\"\n+                <ol\n+                  className=\"pf-c-breadcrumb__list\"\n+                >\n+                  <BreadcrumbItem>\n+                    <li\n+                      className=\"pf-c-breadcrumb__item\"\n                     >\n-                      <LinkAnchor\n-                        href=\"/\"\n-                        navigate={[Function]}\n+                      <Link\n+                        to=\"/\"\n                       >\n-                        <a\n+                        <LinkAnchor\n                           href=\"/\"\n-                          onClick={[Function]}\n+                          navigate={[Function]}\n                         >\n-                          Home\n-                        </a>\n-                      </LinkAnchor>\n-                    </Link>\n-                    <span\n-                      className=\"pf-c-breadcrumb__item-divider\"\n-                    >\n-                      <AngleRightIcon\n-                        color=\"currentColor\"\n-                        noVerticalAlign={false}\n-                        size=\"sm\"\n-                        title={null}\n+                          <a\n+                            href=\"/\"\n+                            onClick={[Function]}\n+                          >\n+                            Home\n+                          </a>\n+                        </LinkAnchor>\n+                      </Link>\n+                      <span\n+                        className=\"pf-c-breadcrumb__item-divider\"\n                       >\n-                        <svg\n-                          aria-hidden={true}\n-                          aria-labelledby={null}\n-                          fill=\"currentColor\"\n-                          height=\"1em\"\n-                          role=\"img\"\n-                          style={\n-                            Object {\n-                              \"verticalAlign\": \"-0.125em\",\n-                            }\n-                          }\n-                          viewBox=\"0 0 256 512\"\n-                          width=\"1em\"\n+                        <AngleRightIcon", "originalCommit": "985d5b1e6f6fab6dd52d760ef382b8fbf93b7fb2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5NTY1OA==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r452095658", "bodyText": "We can mock UserTaskPageHeader.", "author": "jstastny-cz", "createdAt": "2020-07-09T09:43:28Z", "path": "ui-packages/packages/task-console/src/components/Templates/UserTaskDataTableContainer/tests/__snapshots__/UserTaskDataTableContainer.test.tsx.snap", "diffHunk": "@@ -1,144 +1,146 @@\n // Jest Snapshot v1, https://goo.gl/fbAQLP\n \n-exports[`DataTableContainer component tests Should render DataTableContainer correctly 1`] = `\n-<DataTableContainer\n+exports[`UserTaskDataTableContainer component tests Should render UserTaskDataTableContainer correctly 1`] = `\n+<UserTaskDataTableContainer\n   ouiaContext={\n     Object {\n       \"isOuia\": false,\n       \"ouiaId\": null,\n     }\n   }\n >\n-  <PageSection\n-    variant=\"light\"\n-  >\n-    <section\n-      className=\"pf-c-page__main-section pf-m-light\"\n+  <UserTaskPageHeader>", "originalCommit": "985d5b1e6f6fab6dd52d760ef382b8fbf93b7fb2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIyNTY5Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/304#discussion_r452225697", "bodyText": "@jstastny-cz Sure", "author": "yzhao583", "createdAt": "2020-07-09T13:41:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5NTY1OA=="}], "type": "inlineReview"}, {"oid": "c6cca360810338a798d78fd4b6538050b5f933bc", "url": "https://github.com/kiegroup/kogito-apps/commit/c6cca360810338a798d78fd4b6538050b5f933bc", "message": "Add test cases for UserTaskPageHeader component and modify related test cases", "committedDate": "2020-07-09T18:35:54Z", "type": "commit"}]}