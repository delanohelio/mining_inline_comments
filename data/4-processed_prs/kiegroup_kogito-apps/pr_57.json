{"pr_number": 57, "pr_title": "KOGITO-452 Domain Explorer Version-1", "pr_createdAt": "2020-01-31T06:12:28Z", "pr_url": "https://github.com/kiegroup/kogito-apps/pull/57", "timeline": [{"oid": "a773eb75be265ae125459de5a73b61a912959624", "url": "https://github.com/kiegroup/kogito-apps/commit/a773eb75be265ae125459de5a73b61a912959624", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-01-31T09:35:39Z", "type": "forcePushed"}, {"oid": "b70ae1dd4faa02a8c624b22b479c519e57878d54", "url": "https://github.com/kiegroup/kogito-apps/commit/b70ae1dd4faa02a8c624b22b479c519e57878d54", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-01-31T10:09:50Z", "type": "forcePushed"}, {"oid": "c09b0832506e2c230094d464772832d596ce9ad8", "url": "https://github.com/kiegroup/kogito-apps/commit/c09b0832506e2c230094d464772832d596ce9ad8", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-10T06:03:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4MTUxNA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377481514", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      aria-label=\"Filterable Table Demo\"\n          \n          \n            \n                      aria-label=\"Domain Explorer Table\"", "author": "cristianonicolai", "createdAt": "2020-02-11T07:52:20Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,91 @@\n+import React from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  EmptyStateSecondaryActions,\n+  Bullseye,\n+  Button\n+} from '@patternfly/react-core';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({ columnFilters, tableLoading, displayTable }) => {\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' > ' + i : i;\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+          if (rest.hasOwnProperty) {\n+            tempValue.push(data[i]);\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({ cells: result.tempValue });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />\n+            </Bullseye>\n+          )\n+        }\n+      ];\n+      values.push(rowObject);\n+    }\n+  }\n+  const finalKeys = keys[0];\n+\n+  const onRowSelect = (event, isSelected, rowId) => {\n+    return null;\n+  };\n+\n+  const onDelete = (type = '', id = '') => {\n+    return null;\n+  };\n+\n+  return (\n+    <React.Fragment>\n+      {displayTable && (\n+        <Table\n+          cells={finalKeys}\n+          rows={values}\n+          onSelect={onRowSelect}\n+          aria-label=\"Filterable Table Demo\"", "originalCommit": "c09b0832506e2c230094d464772832d596ce9ad8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzUxNjc5OA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377516798", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-11T09:23:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4MTUxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4MzQ0OQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377483449", "bodyText": "please remove comment out code.", "author": "cristianonicolai", "createdAt": "2020-02-11T07:58:21Z", "path": "packages/management-console/src/components/Templates/DashboardComponent/Dashboard.tsx", "diffHunk": "@@ -1,24 +1,69 @@\n-import { Page, SkipToContent } from '@patternfly/react-core';\n-import React from 'react';\n-import { Redirect, Route } from 'react-router-dom';\n-import HeaderComponent from '../../Organisms/PageHeaderComponent/HeaderComponent';\n+import {\n+  Page,\n+  SkipToContent,\n+  PageSidebar,\n+  PageHeader,\n+  Nav,\n+  NavList,\n+  NavItem\n+} from '@patternfly/react-core';\n+import React, { useState } from 'react';\n+import { Redirect, Route, Link } from 'react-router-dom';\n+// import HeaderComponent from '../../Organisms/PageHeaderComponent/HeaderComponent';", "originalCommit": "c09b0832506e2c230094d464772832d596ce9ad8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzUxNjM5MQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377516391", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-11T09:22:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4MzQ0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4MzcxNA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377483714", "bodyText": "@Sara4994 can we remote the check box column from this version?", "author": "cristianonicolai", "createdAt": "2020-02-11T07:59:13Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,91 @@\n+import React from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  EmptyStateSecondaryActions,\n+  Bullseye,\n+  Button\n+} from '@patternfly/react-core';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({ columnFilters, tableLoading, displayTable }) => {\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' > ' + i : i;\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+          if (rest.hasOwnProperty) {\n+            tempValue.push(data[i]);\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({ cells: result.tempValue });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />\n+            </Bullseye>\n+          )\n+        }\n+      ];\n+      values.push(rowObject);\n+    }\n+  }\n+  const finalKeys = keys[0];\n+\n+  const onRowSelect = (event, isSelected, rowId) => {\n+    return null;\n+  };\n+\n+  const onDelete = (type = '', id = '') => {\n+    return null;\n+  };\n+\n+  return (\n+    <React.Fragment>\n+      {displayTable && (\n+        <Table\n+          cells={finalKeys}\n+          rows={values}\n+          onSelect={onRowSelect}\n+          aria-label=\"Filterable Table Demo\"\n+        >\n+          <TableHeader />", "originalCommit": "c09b0832506e2c230094d464772832d596ce9ad8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzUxNjQ0NQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377516445", "bodyText": "removed", "author": "Sara4994", "createdAt": "2020-02-11T09:22:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4MzcxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4NDM3NQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377484375", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  const label = title + '>' + attr.join();\n          \n          \n            \n                  const label = title + ' > ' + attr.join();\n          \n      \n    \n    \n  \n\njust adding a extra space here, before and after the string.", "author": "cristianonicolai", "createdAt": "2020-02-11T08:01:35Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerColumnPicker/DomainExplorerColumnPicker.tsx", "diffHunk": "@@ -0,0 +1,239 @@\n+import React, { useState } from 'react';\n+import { useQuery } from '@apollo/react-hooks';\n+import {\n+  Select,\n+  SelectOption,\n+  SelectVariant,\n+  SelectGroup,\n+  Button,\n+  Grid,\n+  GridItem\n+} from '@patternfly/react-core';\n+import { query } from 'gql-query-builder';\n+import axios from 'axios';\n+import _ from 'lodash';\n+import { useGetPickerQuery } from '../../../graphql/types';\n+\n+export interface IOwnProps {\n+  columnPickerType: any;\n+  setColumnFilters: any;\n+  setTableLoading: any;\n+  getQueryTypes: any;\n+  setDisplayTable: any;\n+}\n+\n+const DomainExplorerColumnPicker: React.FC<IOwnProps> = ({\n+  columnPickerType,\n+  setColumnFilters,\n+  setTableLoading,\n+  getQueryTypes,\n+  setDisplayTable\n+}) => {\n+  const [selected, setSelected] = useState([]);\n+  const [isExpanded, setIsExpanded] = useState(false);\n+  const [parameters, setParameters] = useState([]);\n+\n+  const nullTypes = [null, 'String', 'Boolean', 'Int', 'DateTime'];\n+  const onSelect = (event, selection) => {\n+    if (selected.includes(selection)) {\n+      setSelected(prevState => prevState.filter(item => item !== selection));\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState =>\n+        prevState.filter(obj => {\n+          if (!_.isEqual(obj, rest)) {\n+            return obj;\n+          }\n+        })\n+      );\n+    } else {\n+      setSelected(prevState => [...prevState, selection]);\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState => [...prevState, rest]);\n+    }\n+  };\n+\n+  const filterColumnSelection = (event, selection) => {\n+    const parent = event.nativeEvent.target.parentElement.parentElement.getAttribute(\n+      'aria-labelledby'\n+    );\n+    let res = {};\n+    const tempParents = parent.split('-');\n+\n+    for (let i = tempParents.length - 1; i >= 0; i--) {\n+      if (i === tempParents.length - 1) {\n+        res = { [tempParents[i]]: [selection] }; // assign the value\n+      } else {\n+        res = { [tempParents[i]]: [res] }; // put the prev object\n+      }\n+    }\n+    return res;\n+  };\n+  const onToggle = _isExpanded => {\n+    setIsExpanded(_isExpanded);\n+  };\n+\n+  const getPicker = useGetPickerQuery({\n+    variables: { columnPickerType }\n+  });\n+\n+  async function generateQuery() {\n+    try {\n+      await axios\n+        .post(\n+          'http://localhost:4000/graphql',\n+          query({\n+            operation: columnPickerType,\n+            fields: parameters\n+          })\n+        )\n+        .then(response => {\n+          setTableLoading(false);\n+          setColumnFilters(response.data.data);\n+          setDisplayTable(true);\n+          return response;\n+        });\n+    } catch (error) {\n+      return error;\n+    }\n+  }\n+\n+  const data = [];\n+  !getPicker.loading &&\n+    getPicker.data.__type &&\n+    getPicker.data.__type.fields.filter(i => {\n+      if (i.type.kind !== 'SCALAR') {\n+        return data.push(i);\n+      }\n+    });\n+  const fetchSchema = option => {\n+    return (\n+      !getQueryTypes.loading &&\n+      getQueryTypes.data.__schema &&\n+      getQueryTypes.data.__schema.queryType.find(item => {\n+        if (item.name === option.type.name) {\n+          return item;\n+        }\n+      })\n+    );\n+  };\n+\n+  let b;\n+  let finalResult: any = [];\n+  let a: any;\n+\n+  const childSelectionItems = (_data, title, ...attr) => {\n+    let nestedTitles = '';\n+    b = _data.map(group => {\n+      const label = title + '>' + attr.join();", "originalCommit": "c09b0832506e2c230094d464772832d596ce9ad8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzUxNjQ5Mw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377516493", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-11T09:22:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4NDM3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzQ4NDgxNw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r377484817", "bodyText": "should we create a new query type for this? That would probably avoid having the data index URL in here as well.", "author": "cristianonicolai", "createdAt": "2020-02-11T08:03:07Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerColumnPicker/DomainExplorerColumnPicker.tsx", "diffHunk": "@@ -0,0 +1,239 @@\n+import React, { useState } from 'react';\n+import { useQuery } from '@apollo/react-hooks';\n+import {\n+  Select,\n+  SelectOption,\n+  SelectVariant,\n+  SelectGroup,\n+  Button,\n+  Grid,\n+  GridItem\n+} from '@patternfly/react-core';\n+import { query } from 'gql-query-builder';\n+import axios from 'axios';\n+import _ from 'lodash';\n+import { useGetPickerQuery } from '../../../graphql/types';\n+\n+export interface IOwnProps {\n+  columnPickerType: any;\n+  setColumnFilters: any;\n+  setTableLoading: any;\n+  getQueryTypes: any;\n+  setDisplayTable: any;\n+}\n+\n+const DomainExplorerColumnPicker: React.FC<IOwnProps> = ({\n+  columnPickerType,\n+  setColumnFilters,\n+  setTableLoading,\n+  getQueryTypes,\n+  setDisplayTable\n+}) => {\n+  const [selected, setSelected] = useState([]);\n+  const [isExpanded, setIsExpanded] = useState(false);\n+  const [parameters, setParameters] = useState([]);\n+\n+  const nullTypes = [null, 'String', 'Boolean', 'Int', 'DateTime'];\n+  const onSelect = (event, selection) => {\n+    if (selected.includes(selection)) {\n+      setSelected(prevState => prevState.filter(item => item !== selection));\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState =>\n+        prevState.filter(obj => {\n+          if (!_.isEqual(obj, rest)) {\n+            return obj;\n+          }\n+        })\n+      );\n+    } else {\n+      setSelected(prevState => [...prevState, selection]);\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState => [...prevState, rest]);\n+    }\n+  };\n+\n+  const filterColumnSelection = (event, selection) => {\n+    const parent = event.nativeEvent.target.parentElement.parentElement.getAttribute(\n+      'aria-labelledby'\n+    );\n+    let res = {};\n+    const tempParents = parent.split('-');\n+\n+    for (let i = tempParents.length - 1; i >= 0; i--) {\n+      if (i === tempParents.length - 1) {\n+        res = { [tempParents[i]]: [selection] }; // assign the value\n+      } else {\n+        res = { [tempParents[i]]: [res] }; // put the prev object\n+      }\n+    }\n+    return res;\n+  };\n+  const onToggle = _isExpanded => {\n+    setIsExpanded(_isExpanded);\n+  };\n+\n+  const getPicker = useGetPickerQuery({\n+    variables: { columnPickerType }\n+  });\n+\n+  async function generateQuery() {\n+    try {\n+      await axios\n+        .post(\n+          'http://localhost:4000/graphql',", "originalCommit": "c09b0832506e2c230094d464772832d596ce9ad8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "26e983a05c08294eef6700819542fb72e8b0f377", "url": "https://github.com/kiegroup/kogito-apps/commit/26e983a05c08294eef6700819542fb72e8b0f377", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-11T09:46:00Z", "type": "forcePushed"}, {"oid": "16f3e650212e3164ffd5ba3508123da4ea7c71a4", "url": "https://github.com/kiegroup/kogito-apps/commit/16f3e650212e3164ffd5ba3508123da4ea7c71a4", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-11T09:48:22Z", "type": "forcePushed"}, {"oid": "540cf297a1993c39b0d542712a923fec88195db6", "url": "https://github.com/kiegroup/kogito-apps/commit/540cf297a1993c39b0d542712a923fec88195db6", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-11T09:59:09Z", "type": "forcePushed"}, {"oid": "219819bfb9e19317db84c7796178126ff26d8d21", "url": "https://github.com/kiegroup/kogito-apps/commit/219819bfb9e19317db84c7796178126ff26d8d21", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-12T08:48:53Z", "type": "forcePushed"}, {"oid": "29105af513edc25bab9873b1893213048e8b0398", "url": "https://github.com/kiegroup/kogito-apps/commit/29105af513edc25bab9873b1893213048e8b0398", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-12T08:53:08Z", "type": "forcePushed"}, {"oid": "68fd72d67d2021733224870e2eed6fe8620adefe", "url": "https://github.com/kiegroup/kogito-apps/commit/68fd72d67d2021733224870e2eed6fe8620adefe", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-13T09:53:10Z", "type": "forcePushed"}, {"oid": "215fc61fa3696d00f0055f3f09959747f0d4dc5c", "url": "https://github.com/kiegroup/kogito-apps/commit/215fc61fa3696d00f0055f3f09959747f0d4dc5c", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-13T12:11:41Z", "type": "forcePushed"}, {"oid": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "url": "https://github.com/kiegroup/kogito-apps/commit/69c7f0f56f1814487d3e88601a6d3398d52e0354", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-13T18:02:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MDM0Ng==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379260346", "bodyText": "perhaps give a more intutive name for variables a and b :)", "author": "cristianonicolai", "createdAt": "2020-02-14T05:50:31Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerColumnPicker/DomainExplorerColumnPicker.tsx", "diffHunk": "@@ -0,0 +1,264 @@\n+import React, { useState, useEffect } from 'react';\n+import {\n+  Select,\n+  SelectOption,\n+  SelectVariant,\n+  SelectGroup,\n+  Button,\n+  Grid,\n+  GridItem\n+} from '@patternfly/react-core';\n+import { query } from 'gql-query-builder';\n+import axios from 'axios';\n+import _ from 'lodash';\n+import { useGetPickerQuery } from '../../../graphql/types';\n+import { useApolloClient } from 'react-apollo';\n+\n+export interface IOwnProps {\n+  columnPickerType: any;\n+  setColumnFilters: any;\n+  setTableLoading: any;\n+  getQueryTypes: any;\n+  setDisplayTable: any;\n+}\n+\n+const DomainExplorerColumnPicker: React.FC<IOwnProps> = ({\n+  columnPickerType,\n+  setColumnFilters,\n+  setTableLoading,\n+  getQueryTypes,\n+  setDisplayTable\n+}) => {\n+  const [selected, setSelected] = useState([]);\n+  const [isExpanded, setIsExpanded] = useState(false);\n+  const [parameters, setParameters] = useState([]);\n+\n+  const nullTypes = [null, 'String', 'Boolean', 'Int', 'DateTime'];\n+\n+  useEffect(() => {\n+    setParameters([]);\n+    setSelected([]);\n+  }, [columnPickerType]);\n+\n+  const onSelect = (event, selection) => {\n+    if (selected.includes(selection)) {\n+      setSelected(prevState => prevState.filter(item => item !== selection));\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState =>\n+        prevState.filter(obj => {\n+          if (!_.isEqual(obj, rest)) {\n+            return obj;\n+          }\n+        })\n+      );\n+    } else {\n+      setSelected(prevState => [...prevState, selection]);\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState => [...prevState, rest]);\n+    }\n+  };\n+\n+  const filterColumnSelection = (event, selection) => {\n+    const parent = event.nativeEvent.target.parentElement.parentElement.getAttribute(\n+      'aria-labelledby'\n+    );\n+    let res = {};\n+    const tempParents = parent.split('---');\n+\n+    for (let i = tempParents.length - 1; i >= 0; i--) {\n+      if (i === tempParents.length - 1) {\n+        if (tempParents[i] === '-') {\n+          res = selection;\n+        } else {\n+          res = { [tempParents[i]]: [selection] }; // assign the value\n+        }\n+      } else {\n+        res = { [tempParents[i]]: [res] }; // put the prev object\n+      }\n+    }\n+    return res;\n+  };\n+  const onToggle = _isExpanded => {\n+    setIsExpanded(_isExpanded);\n+  };\n+\n+  const getPicker = useGetPickerQuery({\n+    variables: { columnPickerType }\n+  });\n+\n+  async function generateQuery() {\n+    if (columnPickerType) {\n+      try {\n+        await axios\n+          .post(\n+            process.env.KOGITO_DATAINDEX_HTTP_URL + '/graphql',\n+            query({\n+              operation: columnPickerType,\n+              fields: parameters\n+            })\n+          )\n+          .then(response => {\n+            setTableLoading(false);\n+            setColumnFilters(response.data.data);\n+            setDisplayTable(true);\n+            return response;\n+          });\n+      } catch (error) {\n+        return error;\n+      }\n+    }\n+  }\n+\n+  let data = [];\n+  const tempArray = [];\n+  !getPicker.loading &&\n+    getPicker.data.__type &&\n+    getPicker.data.__type.fields.filter(i => {\n+      if (i.type.kind === 'SCALAR') {\n+        tempArray.push(i);\n+      } else {\n+        data.push(i);\n+      }\n+    });\n+  data = tempArray.concat(data);\n+\n+  const fetchSchema = option => {\n+    return (\n+      !getQueryTypes.loading &&\n+      getQueryTypes.data.__schema &&\n+      getQueryTypes.data.__schema.queryType.find(item => {\n+        if (item.name === option.type.name) {\n+          return item;\n+        }\n+      })\n+    );\n+  };\n+\n+  let b;", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM3OTY5NA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379379694", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T11:20:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MDM0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MDk5Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379260997", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          Nothing to display\n          \n          \n            \n                          No domain data to display", "author": "cristianonicolai", "createdAt": "2020-02-14T05:53:42Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,103 @@\n+import React, { useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  EmptyStateSecondaryActions,\n+  Bullseye,\n+  Button\n+} from '@patternfly/react-core';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({ columnFilters, tableLoading, displayTable }) => {\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' > ' + i : i;\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+          if (rest.hasOwnProperty) {\n+            tempValue.push(data[i]);\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({ cells: result.tempValue });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />\n+            </Bullseye>\n+          )\n+        }\n+      ];\n+      values.push(rowObject);\n+    }\n+  }\n+  const finalKeys = keys[0];\n+\n+  const onRowSelect = (event, isSelected, rowId) => {\n+    return null;\n+  };\n+\n+  const onDelete = (type = '', id = '') => {\n+    return null;\n+  };\n+\n+  return (\n+    <React.Fragment>\n+      {displayTable && (\n+        <Table\n+          cells={finalKeys}\n+          rows={values}\n+          aria-label=\"Domain Explorer Table\"\n+        >\n+          <TableHeader />\n+          <TableBody />\n+        </Table>\n+      )}\n+      {!displayTable && (\n+        <Bullseye>\n+          <EmptyState>\n+            <EmptyStateIcon icon={SearchIcon} />\n+            <Title headingLevel=\"h5\" size=\"lg\">\n+              Nothing to display", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM0NjQ3Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379346477", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T10:07:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MDk5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM3OTc4NA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379379784", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T11:21:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MDk5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MTY1Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379261657", "bodyText": "Perhaps give a more meaningful name for the query like getFieldsFromType?", "author": "cristianonicolai", "createdAt": "2020-02-14T05:56:29Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -78,3 +78,109 @@ const GET_PROCESS_INSTANCE = gql`\n     }\n   }\n `;\n+\n+const GET_PICKER = gql`\n+  query getPicker($columnPickerType: String!) {", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MTcxNw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379261717", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              query getPicker($columnPickerType: String!) {\n          \n          \n            \n              query getPicker($type: String!) {", "author": "cristianonicolai", "createdAt": "2020-02-14T05:56:46Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -78,3 +78,109 @@ const GET_PROCESS_INSTANCE = gql`\n     }\n   }\n `;\n+\n+const GET_PICKER = gql`\n+  query getPicker($columnPickerType: String!) {", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM0NjQyMA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379346420", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T10:06:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MTcxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MTgyNA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379261824", "bodyText": "getQueryFields?", "author": "cristianonicolai", "createdAt": "2020-02-14T05:57:19Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -78,3 +78,109 @@ const GET_PROCESS_INSTANCE = gql`\n     }\n   }\n `;\n+\n+const GET_PICKER = gql`\n+  query getPicker($columnPickerType: String!) {\n+    __type(name: $columnPickerType) {\n+      name\n+      fields {\n+        name\n+        type {\n+          name\n+          kind\n+          fields {\n+            name\n+            type {\n+              name\n+              kind\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY_TYPES = gql`\n+  query getQueryTypes {\n+    __schema {\n+      queryType: types {\n+        name\n+        kind\n+        fields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+        inputFields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY = gql`\n+  query getQuery {", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM4ODQyMA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379388420", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T11:43:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MTgyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MTkzOA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379261938", "bodyText": "getInputFieldsFromQuery?", "author": "cristianonicolai", "createdAt": "2020-02-14T05:57:52Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -78,3 +78,109 @@ const GET_PROCESS_INSTANCE = gql`\n     }\n   }\n `;\n+\n+const GET_PICKER = gql`\n+  query getPicker($columnPickerType: String!) {\n+    __type(name: $columnPickerType) {\n+      name\n+      fields {\n+        name\n+        type {\n+          name\n+          kind\n+          fields {\n+            name\n+            type {\n+              name\n+              kind\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY_TYPES = gql`\n+  query getQueryTypes {\n+    __schema {\n+      queryType: types {\n+        name\n+        kind\n+        fields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+        inputFields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY = gql`\n+  query getQuery {\n+    __type(name: \"Query\") {\n+      name\n+      fields {\n+        name\n+        args {\n+          name\n+          type {\n+            kind\n+            name\n+          }\n+        }\n+        type {\n+          ofType {\n+            name\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_SCHEMA = gql`\n+  query getSchema($currentQuery: String!) {", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM0OTY4MA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379349680", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T10:13:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MTkzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MjAwMg==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379262002", "bodyText": "getInputFieldsFromType?", "author": "cristianonicolai", "createdAt": "2020-02-14T05:58:10Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -78,3 +78,109 @@ const GET_PROCESS_INSTANCE = gql`\n     }\n   }\n `;\n+\n+const GET_PICKER = gql`\n+  query getPicker($columnPickerType: String!) {\n+    __type(name: $columnPickerType) {\n+      name\n+      fields {\n+        name\n+        type {\n+          name\n+          kind\n+          fields {\n+            name\n+            type {\n+              name\n+              kind\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY_TYPES = gql`\n+  query getQueryTypes {\n+    __schema {\n+      queryType: types {\n+        name\n+        kind\n+        fields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+        inputFields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY = gql`\n+  query getQuery {\n+    __type(name: \"Query\") {\n+      name\n+      fields {\n+        name\n+        args {\n+          name\n+          type {\n+            kind\n+            name\n+          }\n+        }\n+        type {\n+          ofType {\n+            name\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_SCHEMA = gql`\n+  query getSchema($currentQuery: String!) {\n+    __type(name: $currentQuery) {\n+      name\n+      inputFields {\n+        name\n+        type {\n+          name\n+          kind\n+          inputFields {\n+            name\n+            type {\n+              name\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_TYPES = gql`\n+  query getTypes($currentArgument: String!) {", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM0OTU5Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379349597", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T10:13:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MjAwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MjA0NQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379262045", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              query getTypes($currentArgument: String!) {\n          \n          \n            \n              query getTypes($type: String!) {", "author": "cristianonicolai", "createdAt": "2020-02-14T05:58:24Z", "path": "packages/management-console/src/graphql/queries.tsx", "diffHunk": "@@ -78,3 +78,109 @@ const GET_PROCESS_INSTANCE = gql`\n     }\n   }\n `;\n+\n+const GET_PICKER = gql`\n+  query getPicker($columnPickerType: String!) {\n+    __type(name: $columnPickerType) {\n+      name\n+      fields {\n+        name\n+        type {\n+          name\n+          kind\n+          fields {\n+            name\n+            type {\n+              name\n+              kind\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY_TYPES = gql`\n+  query getQueryTypes {\n+    __schema {\n+      queryType: types {\n+        name\n+        kind\n+        fields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+        inputFields {\n+          name\n+          type {\n+            name\n+            kind\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_QUERY = gql`\n+  query getQuery {\n+    __type(name: \"Query\") {\n+      name\n+      fields {\n+        name\n+        args {\n+          name\n+          type {\n+            kind\n+            name\n+          }\n+        }\n+        type {\n+          ofType {\n+            name\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_SCHEMA = gql`\n+  query getSchema($currentQuery: String!) {\n+    __type(name: $currentQuery) {\n+      name\n+      inputFields {\n+        name\n+        type {\n+          name\n+          kind\n+          inputFields {\n+            name\n+            type {\n+              name\n+            }\n+          }\n+        }\n+      }\n+    }\n+  }\n+`;\n+\n+const GET_TYPES = gql`\n+  query getTypes($currentArgument: String!) {", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTM4ODU1MQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379388551", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-14T11:43:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI2MjA0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI3NzAzNA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r379277034", "bodyText": "review if apollo client can be used instead.", "author": "cristianonicolai", "createdAt": "2020-02-14T07:04:46Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerColumnPicker/DomainExplorerColumnPicker.tsx", "diffHunk": "@@ -0,0 +1,264 @@\n+import React, { useState, useEffect } from 'react';\n+import {\n+  Select,\n+  SelectOption,\n+  SelectVariant,\n+  SelectGroup,\n+  Button,\n+  Grid,\n+  GridItem\n+} from '@patternfly/react-core';\n+import { query } from 'gql-query-builder';\n+import axios from 'axios';\n+import _ from 'lodash';\n+import { useGetPickerQuery } from '../../../graphql/types';\n+import { useApolloClient } from 'react-apollo';\n+\n+export interface IOwnProps {\n+  columnPickerType: any;\n+  setColumnFilters: any;\n+  setTableLoading: any;\n+  getQueryTypes: any;\n+  setDisplayTable: any;\n+}\n+\n+const DomainExplorerColumnPicker: React.FC<IOwnProps> = ({\n+  columnPickerType,\n+  setColumnFilters,\n+  setTableLoading,\n+  getQueryTypes,\n+  setDisplayTable\n+}) => {\n+  const [selected, setSelected] = useState([]);\n+  const [isExpanded, setIsExpanded] = useState(false);\n+  const [parameters, setParameters] = useState([]);\n+\n+  const nullTypes = [null, 'String', 'Boolean', 'Int', 'DateTime'];\n+\n+  useEffect(() => {\n+    setParameters([]);\n+    setSelected([]);\n+  }, [columnPickerType]);\n+\n+  const onSelect = (event, selection) => {\n+    if (selected.includes(selection)) {\n+      setSelected(prevState => prevState.filter(item => item !== selection));\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState =>\n+        prevState.filter(obj => {\n+          if (!_.isEqual(obj, rest)) {\n+            return obj;\n+          }\n+        })\n+      );\n+    } else {\n+      setSelected(prevState => [...prevState, selection]);\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState => [...prevState, rest]);\n+    }\n+  };\n+\n+  const filterColumnSelection = (event, selection) => {\n+    const parent = event.nativeEvent.target.parentElement.parentElement.getAttribute(\n+      'aria-labelledby'\n+    );\n+    let res = {};\n+    const tempParents = parent.split('---');\n+\n+    for (let i = tempParents.length - 1; i >= 0; i--) {\n+      if (i === tempParents.length - 1) {\n+        if (tempParents[i] === '-') {\n+          res = selection;\n+        } else {\n+          res = { [tempParents[i]]: [selection] }; // assign the value\n+        }\n+      } else {\n+        res = { [tempParents[i]]: [res] }; // put the prev object\n+      }\n+    }\n+    return res;\n+  };\n+  const onToggle = _isExpanded => {\n+    setIsExpanded(_isExpanded);\n+  };\n+\n+  const getPicker = useGetPickerQuery({\n+    variables: { columnPickerType }\n+  });\n+\n+  async function generateQuery() {\n+    if (columnPickerType) {\n+      try {\n+        await axios\n+          .post(", "originalCommit": "69c7f0f56f1814487d3e88601a6d3398d52e0354", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aa80bac36747358eb792781dbdb5f00a78953297", "url": "https://github.com/kiegroup/kogito-apps/commit/aa80bac36747358eb792781dbdb5f00a78953297", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-14T18:24:59Z", "type": "forcePushed"}, {"oid": "66b9d9469bfad1fa33f7c2454c420b64e2935e04", "url": "https://github.com/kiegroup/kogito-apps/commit/66b9d9469bfad1fa33f7c2454c420b64e2935e04", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-16T17:59:13Z", "type": "forcePushed"}, {"oid": "bae6f905b8c16556b393c2d0434085b30a0c9464", "url": "https://github.com/kiegroup/kogito-apps/commit/bae6f905b8c16556b393c2d0434085b30a0c9464", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-17T06:57:32Z", "type": "forcePushed"}, {"oid": "94c96571f5c16c2bdf9ba752c91fba8c758e25bf", "url": "https://github.com/kiegroup/kogito-apps/commit/94c96571f5c16c2bdf9ba752c91fba8c758e25bf", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-17T10:10:49Z", "type": "forcePushed"}, {"oid": "0f88fe35e1a36e46e1bb4eb59f5a3cc05afcb4ca", "url": "https://github.com/kiegroup/kogito-apps/commit/0f88fe35e1a36e46e1bb4eb59f5a3cc05afcb4ca", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-17T10:54:53Z", "type": "forcePushed"}, {"oid": "3edfd54ab27e86c11e03c43aff0e1b862fce6925", "url": "https://github.com/kiegroup/kogito-apps/commit/3edfd54ab27e86c11e03c43aff0e1b862fce6925", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-17T11:17:10Z", "type": "forcePushed"}, {"oid": "cf157cb73d6a348858f64d0202fdc3f12460a942", "url": "https://github.com/kiegroup/kogito-apps/commit/cf157cb73d6a348858f64d0202fdc3f12460a942", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-17T11:58:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDIzMzM3OQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380233379", "bodyText": "I suggest adding a Card component around the Bullseye, which will make the white background to match the table. Also, I suggest some wording changes:\n        <Card component={'div'}>\n          <CardBody>\n            <Bullseye>\n              <EmptyState>\n                <EmptyStateIcon icon={SearchIcon} />\n                <Title headingLevel=\"h5\" size=\"lg\">\n                  No domain data to display\n                </Title>\n                <EmptyStateBody>\n                  To see content, select a domain from the dropdown, and then select the columns to view.\n                </EmptyStateBody>\n              </EmptyState>\n            </Bullseye>\n          </CardBody>\n        </Card>", "author": "srambach", "createdAt": "2020-02-17T15:06:34Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,112 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  EmptyStateSecondaryActions,\n+  Bullseye,\n+  Button\n+} from '@patternfly/react-core';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({\n+  columnFilters,\n+  tableLoading,\n+  displayTable,\n+  cols,\n+  setDisplayTable\n+}) => {\n+  useEffect(() => {\n+    setDisplayTable(false);\n+  }, [cols]);\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' / ' + i : i;\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+          if (rest.hasOwnProperty) {\n+            tempValue.push(data[i].toString());\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({ cells: result.tempValue });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />\n+            </Bullseye>\n+          )\n+        }\n+      ];\n+      values.push(rowObject);\n+    }\n+  }\n+  const finalKeys = keys[0];\n+\n+  const onRowSelect = (event, isSelected, rowId) => {\n+    return null;\n+  };\n+\n+  const onDelete = (type = '', id = '') => {\n+    return null;\n+  };\n+\n+  return (\n+    <React.Fragment>\n+      {displayTable && (\n+        <Table\n+          cells={finalKeys}\n+          rows={values}\n+          aria-label=\"Domain Explorer Table\"\n+        >\n+          <TableHeader />\n+          <TableBody />\n+        </Table>\n+      )}\n+      {!displayTable && (\n+        <Bullseye>\n+          <EmptyState>\n+            <EmptyStateIcon icon={SearchIcon} />\n+            <Title headingLevel=\"h5\" size=\"lg\">\n+              No domain data to display\n+            </Title>\n+            <EmptyStateBody>\n+              Select a Domain from dropdown to see content\n+            </EmptyStateBody>\n+          </EmptyState>\n+        </Bullseye>", "originalCommit": "cf157cb73d6a348858f64d0202fdc3f12460a942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMxNDIwMA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380314200", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-17T18:01:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDIzMzM3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI0MTcwMw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380241703", "bodyText": "I think this is unused, so it can be removed", "author": "srambach", "createdAt": "2020-02-17T15:21:56Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,112 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  EmptyStateSecondaryActions,", "originalCommit": "cf157cb73d6a348858f64d0202fdc3f12460a942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMxNTUyMA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380315520", "bodyText": "Removed EmptyStateSecondaryActions, other things are used", "author": "Sara4994", "createdAt": "2020-02-17T18:05:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI0MTcwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI0MTk4MQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380241981", "bodyText": "This also looks like it's not used here, so it can be removed", "author": "srambach", "createdAt": "2020-02-17T15:22:27Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,112 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  EmptyStateSecondaryActions,\n+  Bullseye,\n+  Button", "originalCommit": "cf157cb73d6a348858f64d0202fdc3f12460a942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMxNTMxMg==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380315312", "bodyText": "Removed Button and EmptyStateSecondaryActions... Other things are used", "author": "Sara4994", "createdAt": "2020-02-17T18:04:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI0MTk4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI1NTEzNA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380255134", "bodyText": "Let's start using a modified BEM naming system similar to Patternfly's. (let's discuss specifics in chat)\nSo for now, let's name this --kogito-runtime-tooling--table-container\nAnd, I think we need overflow-x here, not y, so that we ensure a horizontal scroll when needed.", "author": "srambach", "createdAt": "2020-02-17T15:46:52Z", "path": "packages/management-console/src/components/Templates/DomainExplorerPage/DomainExplorerPage.css", "diffHunk": "@@ -0,0 +1,5 @@\n+.table-OverFlow {\n+    overflow-y: auto;", "originalCommit": "cf157cb73d6a348858f64d0202fdc3f12460a942", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MDA2MQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380260061", "bodyText": "This will apply to every PF table on the page, which right now is just one, but this isn't really good practice to rely on. So a better way would be to add another class to that table, say .kogito-runtime-tooling--domain-explorer__table and then we can apply this style just to that class.\nAlso, even though it's just one attribute, I'd put the min-width:10em; on its own line.\n.kogito-runtime-tooling--domain-explorer__table td {\n  min-width: 10em;\n}", "author": "srambach", "createdAt": "2020-02-17T15:56:12Z", "path": "packages/management-console/src/components/Templates/DomainExplorerPage/DomainExplorerPage.css", "diffHunk": "@@ -0,0 +1,5 @@\n+.table-OverFlow {\n+    overflow-y: auto;\n+}\n+\n+table.pf-c-table td {min-width: 10em;}", "originalCommit": "cf157cb73d6a348858f64d0202fdc3f12460a942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMxNDc2Mg==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380314762", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-17T18:02:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2MDA2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2Mzc1Ng==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380263756", "bodyText": "(See comment on the CSS file)\nAdd className=\"kogito-runtime-tooling--domain-explorer__table\" to define a new class for styling the cells inside.", "author": "srambach", "createdAt": "2020-02-17T16:03:15Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,112 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  EmptyStateSecondaryActions,\n+  Bullseye,\n+  Button\n+} from '@patternfly/react-core';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({\n+  columnFilters,\n+  tableLoading,\n+  displayTable,\n+  cols,\n+  setDisplayTable\n+}) => {\n+  useEffect(() => {\n+    setDisplayTable(false);\n+  }, [cols]);\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' / ' + i : i;\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+          if (rest.hasOwnProperty) {\n+            tempValue.push(data[i].toString());\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({ cells: result.tempValue });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />\n+            </Bullseye>\n+          )\n+        }\n+      ];\n+      values.push(rowObject);\n+    }\n+  }\n+  const finalKeys = keys[0];\n+\n+  const onRowSelect = (event, isSelected, rowId) => {\n+    return null;\n+  };\n+\n+  const onDelete = (type = '', id = '') => {\n+    return null;\n+  };\n+\n+  return (\n+    <React.Fragment>\n+      {displayTable && (\n+        <Table\n+          cells={finalKeys}\n+          rows={values}\n+          aria-label=\"Domain Explorer Table\"\n+        >", "originalCommit": "cf157cb73d6a348858f64d0202fdc3f12460a942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMxNTE0Mw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380315143", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-17T18:04:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDI2Mzc1Ng=="}], "type": "inlineReview"}, {"oid": "5f81dc4cd5e9e337f082140dacc810f233305dae", "url": "https://github.com/kiegroup/kogito-apps/commit/5f81dc4cd5e9e337f082140dacc810f233305dae", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-18T06:35:48Z", "type": "forcePushed"}, {"oid": "a83a54295ec8d35520c6188829eeb7338dbe296a", "url": "https://github.com/kiegroup/kogito-apps/commit/a83a54295ec8d35520c6188829eeb7338dbe296a", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-18T06:39:49Z", "type": "forcePushed"}, {"oid": "3c1f035fef9d1ec8492e90f442fa2e1a560ebd99", "url": "https://github.com/kiegroup/kogito-apps/commit/3c1f035fef9d1ec8492e90f442fa2e1a560ebd99", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-18T11:43:09Z", "type": "forcePushed"}, {"oid": "9022d170393a412f7c992372426dcba00540e14c", "url": "https://github.com/kiegroup/kogito-apps/commit/9022d170393a412f7c992372426dcba00540e14c", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-18T11:47:00Z", "type": "forcePushed"}, {"oid": "56eb111cdefb4ad3ab1b48a08a6d85ccce5c1c6d", "url": "https://github.com/kiegroup/kogito-apps/commit/56eb111cdefb4ad3ab1b48a08a6d85ccce5c1c6d", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-18T20:09:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkyNjc4Ng==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380926786", "bodyText": "Change to\n     values.push({ cells: result.tempValue, rowKey: Math.random().toString() });", "author": "srambach", "createdAt": "2020-02-18T20:50:20Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,121 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  Bullseye,\n+  Card,\n+  CardBody\n+} from '@patternfly/react-core';\n+import './DomainExplorerTable.css';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({\n+  columnFilters,\n+  tableLoading,\n+  displayTable,\n+  cols,\n+  setDisplayTable\n+}) => {\n+  // useEffect(() => {\n+  //   setDisplayTable(false);\n+  // }, [cols]);\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' / ' + i : i;\n+\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          if (rest !== '__typename' && !rest.match('/ __typename')) {\n+            !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+            if (rest.hasOwnProperty) {\n+              tempValue.push(data[i].toString());\n+            }\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({ cells: result.tempValue, id: Math.random().toString() });", "originalCommit": "56eb111cdefb4ad3ab1b48a08a6d85ccce5c1c6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkyOTAyMw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380929023", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-18T20:54:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkyNjc4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkyNjkyOA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380926928", "bodyText": "Change to\n         <TableBody rowKey=\"rowKey\" />", "author": "srambach", "createdAt": "2020-02-18T20:50:40Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,121 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  Bullseye,\n+  Card,\n+  CardBody\n+} from '@patternfly/react-core';\n+import './DomainExplorerTable.css';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({\n+  columnFilters,\n+  tableLoading,\n+  displayTable,\n+  cols,\n+  setDisplayTable\n+}) => {\n+  // useEffect(() => {\n+  //   setDisplayTable(false);\n+  // }, [cols]);\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' / ' + i : i;\n+\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          if (rest !== '__typename' && !rest.match('/ __typename')) {\n+            !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+            if (rest.hasOwnProperty) {\n+              tempValue.push(data[i].toString());\n+            }\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({ cells: result.tempValue, id: Math.random().toString() });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />\n+            </Bullseye>\n+          )\n+        }\n+      ];\n+      values.push(rowObject);\n+    }\n+  }\n+  const finalKeys = keys[0];\n+\n+  const onRowSelect = (event, isSelected, rowId) => {\n+    return null;\n+  };\n+\n+  const onDelete = (type = '', id = '') => {\n+    return null;\n+  };\n+\n+  return (\n+    <React.Fragment>\n+      {displayTable && (\n+        <Table\n+          cells={finalKeys}\n+          rows={values}\n+          aria-label=\"Domain Explorer Table\"\n+          className=\"kogito-management-console--domain-explorer__table\"\n+        >\n+          <TableHeader />\n+          <TableBody rowKey={'iqu911'} />", "originalCommit": "56eb111cdefb4ad3ab1b48a08a6d85ccce5c1c6d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkyODk2Mw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r380928963", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-18T20:54:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkyNjkyOA=="}], "type": "inlineReview"}, {"oid": "0bf465d4d14f148042c8acb5e11c03196cd4850e", "url": "https://github.com/kiegroup/kogito-apps/commit/0bf465d4d14f148042c8acb5e11c03196cd4850e", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-19T06:40:01Z", "type": "forcePushed"}, {"oid": "550f5bd7a0aab125188682b25532bca440faf580", "url": "https://github.com/kiegroup/kogito-apps/commit/550f5bd7a0aab125188682b25532bca440faf580", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-19T11:34:42Z", "type": "forcePushed"}, {"oid": "5ff46127986ef0f64b36efd22593fdca058f8132", "url": "https://github.com/kiegroup/kogito-apps/commit/5ff46127986ef0f64b36efd22593fdca058f8132", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-19T11:42:06Z", "type": "forcePushed"}, {"oid": "dd3094b0f2a52a0037773645d93c1a4be7880c66", "url": "https://github.com/kiegroup/kogito-apps/commit/dd3094b0f2a52a0037773645d93c1a4be7880c66", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-19T13:30:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MzAyNA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381383024", "bodyText": "Sentence case - use Apply columns :-D", "author": "srambach", "createdAt": "2020-02-19T16:19:17Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerColumnPicker/DomainExplorerColumnPicker.tsx", "diffHunk": "@@ -0,0 +1,277 @@\n+import React, { useState } from 'react';\n+import {\n+  Select,\n+  SelectOption,\n+  SelectVariant,\n+  SelectGroup,\n+  Button\n+} from '@patternfly/react-core';\n+import { query } from 'gql-query-builder';\n+import _ from 'lodash';\n+import gql from 'graphql-tag';\n+import { useGetColumnPickerAttributesQuery } from '../../../graphql/types';\n+import { useApolloClient } from 'react-apollo';\n+\n+export interface IOwnProps {\n+  columnPickerType: any;\n+  setColumnFilters: any;\n+  setTableLoading: any;\n+  getQueryTypes: any;\n+  setDisplayTable: any;\n+  parameters: any;\n+  setParameters: any;\n+  selected: any;\n+  setSelected: any;\n+}\n+\n+const DomainExplorerColumnPicker: React.FC<IOwnProps> = ({\n+  columnPickerType,\n+  setColumnFilters,\n+  setTableLoading,\n+  getQueryTypes,\n+  setDisplayTable,\n+  parameters,\n+  setParameters,\n+  selected,\n+  setSelected\n+}) => {\n+  const [isExpanded, setIsExpanded] = useState(false);\n+\n+  const nullTypes = [null, 'String', 'Boolean', 'Int', 'DateTime'];\n+  const client = useApolloClient();\n+\n+  const onSelect = (event, selection) => {\n+    if (selected.includes(selection)) {\n+      setSelected(prevState => prevState.filter(item => item !== selection));\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState =>\n+        prevState.filter(obj => {\n+          if (!_.isEqual(obj, rest)) {\n+            return obj;\n+          }\n+        })\n+      );\n+    } else {\n+      setSelected(prevState => [...prevState, selection]);\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState => [...prevState, rest]);\n+    }\n+  };\n+\n+  const filterColumnSelection = (event, selection) => {\n+    const parent = event.nativeEvent.target.parentElement.parentElement.getAttribute(\n+      'aria-labelledby'\n+    );\n+    let res = {};\n+    const tempParents = parent.split('---');\n+\n+    for (let i = tempParents.length - 1; i >= 0; i--) {\n+      if (i === tempParents.length - 1) {\n+        if (tempParents[i] === '-') {\n+          res = selection;\n+        } else {\n+          res = { [tempParents[i]]: [selection] }; // assign the value\n+        }\n+      } else {\n+        res = { [tempParents[i]]: [res] }; // put the prev object\n+      }\n+    }\n+    return res;\n+  };\n+  const onToggle = _isExpanded => {\n+    setIsExpanded(_isExpanded);\n+  };\n+\n+  const getPicker = useGetColumnPickerAttributesQuery({\n+    variables: { columnPickerType }\n+  });\n+\n+  async function generateQuery() {\n+    if (columnPickerType && parameters.length > 0) {\n+      const Query = query({\n+        operation: columnPickerType,\n+        fields: parameters\n+      });\n+\n+      try {\n+        await client\n+          .query({\n+            query: gql`\n+              ${Query.query}\n+            `\n+          })\n+          .then(response => {\n+            setTableLoading(false);\n+            setColumnFilters(response.data);\n+            setDisplayTable(true);\n+            return response;\n+          });\n+      } catch (error) {\n+        return error;\n+      }\n+    } else {\n+      setDisplayTable(false);\n+    }\n+  }\n+\n+  let data = [];\n+  const tempArray = [];\n+  !getPicker.loading &&\n+    getPicker.data.__type &&\n+    getPicker.data.__type.fields.filter(i => {\n+      if (i.type.kind === 'SCALAR') {\n+        tempArray.push(i);\n+      } else {\n+        data.push(i);\n+      }\n+    });\n+  data = tempArray.concat(data);\n+\n+  const fetchSchema = option => {\n+    return (\n+      !getQueryTypes.loading &&\n+      getQueryTypes.data.__schema &&\n+      getQueryTypes.data.__schema.queryType.find(item => {\n+        if (item.name === option.type.name) {\n+          return item;\n+        }\n+      })\n+    );\n+  };\n+\n+  let childItems;\n+  let finalResult: any = [];\n+  let parentItems: any;\n+\n+  const childSelectionItems = (_data, title, ...attr) => {\n+    let nestedTitles = '';\n+    childItems = _data.map(group => {\n+      const label = title + ' / ' + attr.join();\n+      const childEle = (\n+        <SelectGroup\n+          label={label.replace(/\\,/g, '')}\n+          key={Math.random()}\n+          id={group.name}\n+          value={title + group.name}\n+        >\n+          {group.fields\n+            .filter((item, _index) => {\n+              if (!nullTypes.includes(item.type.name)) {\n+                const tempData = [];\n+                const n = fetchSchema(item);\n+                tempData.push(n);\n+                nestedTitles = nestedTitles + ' / ' + item.name;\n+                childSelectionItems(tempData, title, attr, nestedTitles);\n+              } else {\n+                return item;\n+              }\n+            })\n+            .map(item => (\n+              <SelectOption\n+                key={Math.random()}\n+                value={item.name + title + group.name}\n+              >\n+                {item.name}\n+              </SelectOption>\n+            ))}\n+        </SelectGroup>\n+      );\n+      return childEle;\n+    });\n+    finalResult.push(childItems);\n+  };\n+  const child = [];\n+  const selectionItems = _data => {\n+    parentItems =\n+      !getPicker.loading &&\n+      _data\n+        .filter((group, index) => {\n+          if (group.type.kind !== 'SCALAR') {\n+            return group;\n+          } else {\n+            child.push(<SelectOption key={group.name} value={group.name} />);\n+          }\n+        })\n+        .map((group, index) => {\n+          let ele;\n+          ele = (\n+            <SelectGroup\n+              label={group.name}\n+              key={index}\n+              id={group.name}\n+              value={group.name}\n+            >\n+              {group.type.fields &&\n+                group.type.fields\n+                  .filter((item, _index) => {\n+                    if (!nullTypes.includes(item.type.name)) {\n+                      const tempData = [];\n+                      const _v = fetchSchema(item);\n+                      tempData.push(_v);\n+                      childSelectionItems(tempData, group.name, item.name);\n+                    } else {\n+                      if (item.type.kind !== 'LIST') {\n+                        return item;\n+                      }\n+                    }\n+                  })\n+                  .map((item, _index) => (\n+                    <SelectOption key={_index} value={item.name + group.name}>\n+                      {item.name}\n+                    </SelectOption>\n+                  ))}\n+            </SelectGroup>\n+          );\n+\n+          !finalResult.includes(ele) && finalResult.push(ele);\n+        });\n+  };\n+\n+  columnPickerType && selectionItems(data);\n+  const rootElement: any = (\n+    <SelectGroup label=\" \" key={Math.random()} id=\"\" value=\" \">\n+      {child}\n+    </SelectGroup>\n+  );\n+  finalResult = finalResult.flat();\n+  finalResult.unshift(rootElement);\n+\n+  function getAllChilds(arr, comp) {\n+    const unique = arr\n+      .map(e => e[comp])\n+      .map((e, i, final) => final.indexOf(e) === i && i)\n+      .filter(e => arr[e])\n+      .map(e => arr[e]);\n+\n+    return unique;\n+  }\n+  return (\n+    <React.Fragment>\n+      {!getPicker.loading && columnPickerType && (\n+        <>\n+          <Select\n+            variant={SelectVariant.checkbox}\n+            aria-label=\"Select Input\"\n+            onToggle={onToggle}\n+            onSelect={onSelect}\n+            selections={selected}\n+            isExpanded={isExpanded}\n+            placeholderText=\"Pick Columns\"\n+            ariaLabelledBy=\"Column Picker dropdown\"\n+            isGrouped\n+            maxHeight=\"60vh\"\n+          >\n+            {getAllChilds(finalResult, 'props')}\n+          </Select>\n+          <Button variant=\"primary\" onClick={generateQuery}>\n+            Apply Columns", "originalCommit": "dd3094b0f2a52a0037773645d93c1a4be7880c66", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NTAzNA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381385034", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-19T16:22:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MzAyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MzM1MA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381383350", "bodyText": "Sentence case Loading domain explorer", "author": "srambach", "createdAt": "2020-02-19T16:19:43Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,115 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  Bullseye,\n+  Card,\n+  CardBody\n+} from '@patternfly/react-core';\n+import './DomainExplorerTable.css';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({ columnFilters, tableLoading, displayTable }) => {\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' / ' + i : i;\n+\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          if (rest !== '__typename' && !rest.match('/ __typename')) {\n+            !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+            if (rest.hasOwnProperty) {\n+              tempValue.push(data[i].toString());\n+            }\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({\n+        cells: result.tempValue,\n+        rowKey: Math.random().toString()\n+      });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />", "originalCommit": "dd3094b0f2a52a0037773645d93c1a4be7880c66", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NTA4OQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381385089", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-19T16:22:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4MzM1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NDExMw==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381384113", "bodyText": "Sentence case, and \"the\" \ud83d\ude38   Select a domain from the dropdown to see content", "author": "srambach", "createdAt": "2020-02-19T16:20:46Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerTable/DomainExplorerTable.tsx", "diffHunk": "@@ -0,0 +1,115 @@\n+import React, { useState, useEffect } from 'react';\n+import { Table, TableHeader, TableBody } from '@patternfly/react-table';\n+import {\n+  Title,\n+  EmptyState,\n+  EmptyStateIcon,\n+  EmptyStateBody,\n+  Bullseye,\n+  Card,\n+  CardBody\n+} from '@patternfly/react-core';\n+import './DomainExplorerTable.css';\n+import { SearchIcon } from '@patternfly/react-icons';\n+import SpinnerComponent from '../../Atoms/SpinnerComponent/SpinnerComponent';\n+\n+const DomainExplorerTable = ({ columnFilters, tableLoading, displayTable }) => {\n+  const getKeys = object => {\n+    const iter = (data, k = '') => {\n+      // tslint:disable-next-line: forin\n+      for (const i in data) {\n+        const rest = k.length ? ' / ' + i : i;\n+\n+        if (typeof data[i] === 'object') {\n+          if (!Array.isArray(data[i])) {\n+            iter(data[i], k + rest);\n+          }\n+        } else {\n+          if (rest !== '__typename' && !rest.match('/ __typename')) {\n+            !tempKeys.includes(k + rest) && tempKeys.push(k + rest);\n+            if (rest.hasOwnProperty) {\n+              tempValue.push(data[i].toString());\n+            }\n+          }\n+        }\n+      }\n+    };\n+    const tempKeys = [];\n+    const tempValue = [];\n+    iter(object);\n+    return { tempKeys, tempValue };\n+  };\n+  const firstKey = Object.keys(columnFilters)[0];\n+  const tableContent = columnFilters[firstKey];\n+\n+  const keys = [];\n+  const values = [];\n+  if (tableContent) {\n+    const finalResult = tableContent.map(item => getKeys(item));\n+    finalResult.map(result => {\n+      keys.push(result.tempKeys);\n+      values.push({\n+        cells: result.tempValue,\n+        rowKey: Math.random().toString()\n+      });\n+    });\n+    const rowObject: any = {};\n+    if (tableLoading) {\n+      rowObject.cells = [\n+        {\n+          props: { colSpan: 8 },\n+          title: (\n+            <Bullseye>\n+              <SpinnerComponent spinnerText=\"Loading Domain Explorer...\" />\n+            </Bullseye>\n+          )\n+        }\n+      ];\n+      values.push(rowObject);\n+    }\n+  }\n+  const finalKeys = keys[0];\n+\n+  const onRowSelect = (event, isSelected, rowId) => {\n+    return null;\n+  };\n+\n+  const onDelete = (type = '', id = '') => {\n+    return null;\n+  };\n+\n+  return (\n+    <React.Fragment>\n+      {displayTable && (\n+        <Table\n+          cells={finalKeys}\n+          rows={values}\n+          aria-label=\"Domain Explorer Table\"\n+          className=\"kogito-management-console--domain-explorer__table\"\n+        >\n+          <TableHeader />\n+          <TableBody rowKey=\"rowKey\" />\n+        </Table>\n+      )}\n+      {!displayTable && (\n+        <Card component={'div'}>\n+          <CardBody>\n+            <Bullseye>\n+              <EmptyState>\n+                <EmptyStateIcon icon={SearchIcon} />\n+                <Title headingLevel=\"h5\" size=\"lg\">\n+                  No domain data to display\n+                </Title>\n+                <EmptyStateBody>\n+                  Select a Domain from dropdown to see content", "originalCommit": "dd3094b0f2a52a0037773645d93c1a4be7880c66", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NjI2MA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381386260", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-19T16:23:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NDExMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NDc1NA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381384754", "bodyText": "Sentence case \"Pick columns\"", "author": "srambach", "createdAt": "2020-02-19T16:21:41Z", "path": "packages/management-console/src/components/Organisms/DomainExplorerColumnPicker/DomainExplorerColumnPicker.tsx", "diffHunk": "@@ -0,0 +1,277 @@\n+import React, { useState } from 'react';\n+import {\n+  Select,\n+  SelectOption,\n+  SelectVariant,\n+  SelectGroup,\n+  Button\n+} from '@patternfly/react-core';\n+import { query } from 'gql-query-builder';\n+import _ from 'lodash';\n+import gql from 'graphql-tag';\n+import { useGetColumnPickerAttributesQuery } from '../../../graphql/types';\n+import { useApolloClient } from 'react-apollo';\n+\n+export interface IOwnProps {\n+  columnPickerType: any;\n+  setColumnFilters: any;\n+  setTableLoading: any;\n+  getQueryTypes: any;\n+  setDisplayTable: any;\n+  parameters: any;\n+  setParameters: any;\n+  selected: any;\n+  setSelected: any;\n+}\n+\n+const DomainExplorerColumnPicker: React.FC<IOwnProps> = ({\n+  columnPickerType,\n+  setColumnFilters,\n+  setTableLoading,\n+  getQueryTypes,\n+  setDisplayTable,\n+  parameters,\n+  setParameters,\n+  selected,\n+  setSelected\n+}) => {\n+  const [isExpanded, setIsExpanded] = useState(false);\n+\n+  const nullTypes = [null, 'String', 'Boolean', 'Int', 'DateTime'];\n+  const client = useApolloClient();\n+\n+  const onSelect = (event, selection) => {\n+    if (selected.includes(selection)) {\n+      setSelected(prevState => prevState.filter(item => item !== selection));\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState =>\n+        prevState.filter(obj => {\n+          if (!_.isEqual(obj, rest)) {\n+            return obj;\n+          }\n+        })\n+      );\n+    } else {\n+      setSelected(prevState => [...prevState, selection]);\n+      const innerText = event.nativeEvent.target.nextSibling.innerText;\n+      const rest = filterColumnSelection(event, innerText);\n+      setParameters(prevState => [...prevState, rest]);\n+    }\n+  };\n+\n+  const filterColumnSelection = (event, selection) => {\n+    const parent = event.nativeEvent.target.parentElement.parentElement.getAttribute(\n+      'aria-labelledby'\n+    );\n+    let res = {};\n+    const tempParents = parent.split('---');\n+\n+    for (let i = tempParents.length - 1; i >= 0; i--) {\n+      if (i === tempParents.length - 1) {\n+        if (tempParents[i] === '-') {\n+          res = selection;\n+        } else {\n+          res = { [tempParents[i]]: [selection] }; // assign the value\n+        }\n+      } else {\n+        res = { [tempParents[i]]: [res] }; // put the prev object\n+      }\n+    }\n+    return res;\n+  };\n+  const onToggle = _isExpanded => {\n+    setIsExpanded(_isExpanded);\n+  };\n+\n+  const getPicker = useGetColumnPickerAttributesQuery({\n+    variables: { columnPickerType }\n+  });\n+\n+  async function generateQuery() {\n+    if (columnPickerType && parameters.length > 0) {\n+      const Query = query({\n+        operation: columnPickerType,\n+        fields: parameters\n+      });\n+\n+      try {\n+        await client\n+          .query({\n+            query: gql`\n+              ${Query.query}\n+            `\n+          })\n+          .then(response => {\n+            setTableLoading(false);\n+            setColumnFilters(response.data);\n+            setDisplayTable(true);\n+            return response;\n+          });\n+      } catch (error) {\n+        return error;\n+      }\n+    } else {\n+      setDisplayTable(false);\n+    }\n+  }\n+\n+  let data = [];\n+  const tempArray = [];\n+  !getPicker.loading &&\n+    getPicker.data.__type &&\n+    getPicker.data.__type.fields.filter(i => {\n+      if (i.type.kind === 'SCALAR') {\n+        tempArray.push(i);\n+      } else {\n+        data.push(i);\n+      }\n+    });\n+  data = tempArray.concat(data);\n+\n+  const fetchSchema = option => {\n+    return (\n+      !getQueryTypes.loading &&\n+      getQueryTypes.data.__schema &&\n+      getQueryTypes.data.__schema.queryType.find(item => {\n+        if (item.name === option.type.name) {\n+          return item;\n+        }\n+      })\n+    );\n+  };\n+\n+  let childItems;\n+  let finalResult: any = [];\n+  let parentItems: any;\n+\n+  const childSelectionItems = (_data, title, ...attr) => {\n+    let nestedTitles = '';\n+    childItems = _data.map(group => {\n+      const label = title + ' / ' + attr.join();\n+      const childEle = (\n+        <SelectGroup\n+          label={label.replace(/\\,/g, '')}\n+          key={Math.random()}\n+          id={group.name}\n+          value={title + group.name}\n+        >\n+          {group.fields\n+            .filter((item, _index) => {\n+              if (!nullTypes.includes(item.type.name)) {\n+                const tempData = [];\n+                const n = fetchSchema(item);\n+                tempData.push(n);\n+                nestedTitles = nestedTitles + ' / ' + item.name;\n+                childSelectionItems(tempData, title, attr, nestedTitles);\n+              } else {\n+                return item;\n+              }\n+            })\n+            .map(item => (\n+              <SelectOption\n+                key={Math.random()}\n+                value={item.name + title + group.name}\n+              >\n+                {item.name}\n+              </SelectOption>\n+            ))}\n+        </SelectGroup>\n+      );\n+      return childEle;\n+    });\n+    finalResult.push(childItems);\n+  };\n+  const child = [];\n+  const selectionItems = _data => {\n+    parentItems =\n+      !getPicker.loading &&\n+      _data\n+        .filter((group, index) => {\n+          if (group.type.kind !== 'SCALAR') {\n+            return group;\n+          } else {\n+            child.push(<SelectOption key={group.name} value={group.name} />);\n+          }\n+        })\n+        .map((group, index) => {\n+          let ele;\n+          ele = (\n+            <SelectGroup\n+              label={group.name}\n+              key={index}\n+              id={group.name}\n+              value={group.name}\n+            >\n+              {group.type.fields &&\n+                group.type.fields\n+                  .filter((item, _index) => {\n+                    if (!nullTypes.includes(item.type.name)) {\n+                      const tempData = [];\n+                      const _v = fetchSchema(item);\n+                      tempData.push(_v);\n+                      childSelectionItems(tempData, group.name, item.name);\n+                    } else {\n+                      if (item.type.kind !== 'LIST') {\n+                        return item;\n+                      }\n+                    }\n+                  })\n+                  .map((item, _index) => (\n+                    <SelectOption key={_index} value={item.name + group.name}>\n+                      {item.name}\n+                    </SelectOption>\n+                  ))}\n+            </SelectGroup>\n+          );\n+\n+          !finalResult.includes(ele) && finalResult.push(ele);\n+        });\n+  };\n+\n+  columnPickerType && selectionItems(data);\n+  const rootElement: any = (\n+    <SelectGroup label=\" \" key={Math.random()} id=\"\" value=\" \">\n+      {child}\n+    </SelectGroup>\n+  );\n+  finalResult = finalResult.flat();\n+  finalResult.unshift(rootElement);\n+\n+  function getAllChilds(arr, comp) {\n+    const unique = arr\n+      .map(e => e[comp])\n+      .map((e, i, final) => final.indexOf(e) === i && i)\n+      .filter(e => arr[e])\n+      .map(e => arr[e]);\n+\n+    return unique;\n+  }\n+  return (\n+    <React.Fragment>\n+      {!getPicker.loading && columnPickerType && (\n+        <>\n+          <Select\n+            variant={SelectVariant.checkbox}\n+            aria-label=\"Select Input\"\n+            onToggle={onToggle}\n+            onSelect={onSelect}\n+            selections={selected}\n+            isExpanded={isExpanded}\n+            placeholderText=\"Pick Columns\"", "originalCommit": "dd3094b0f2a52a0037773645d93c1a4be7880c66", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NjYyOA==", "url": "https://github.com/kiegroup/kogito-apps/pull/57#discussion_r381386628", "bodyText": "done", "author": "Sara4994", "createdAt": "2020-02-19T16:24:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM4NDc1NA=="}], "type": "inlineReview"}, {"oid": "3925a3ce224a38fd4a3a9ce89c42a144e3d44fb9", "url": "https://github.com/kiegroup/kogito-apps/commit/3925a3ce224a38fd4a3a9ce89c42a144e3d44fb9", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-19T16:24:39Z", "type": "commit"}, {"oid": "3925a3ce224a38fd4a3a9ce89c42a144e3d44fb9", "url": "https://github.com/kiegroup/kogito-apps/commit/3925a3ce224a38fd4a3a9ce89c42a144e3d44fb9", "message": "KOGITO-452 Domain Explorer Version-1", "committedDate": "2020-02-19T16:24:39Z", "type": "forcePushed"}]}