{"pr_number": 396, "pr_title": "KOGITO-2776 Add trustyAI execution-detail and outcome-detail", "pr_createdAt": "2020-08-18T07:45:00Z", "pr_url": "https://github.com/kiegroup/kogito-apps/pull/396", "timeline": [{"oid": "a58cfa158f9342d35aa3c25683beac6f3c698348", "url": "https://github.com/kiegroup/kogito-apps/commit/a58cfa158f9342d35aa3c25683beac6f3c698348", "message": "KOGITO-2776 Importing components", "committedDate": "2020-08-18T06:58:44Z", "type": "commit"}, {"oid": "bec4161663c6c43f42e621394b94d4eba29c548e", "url": "https://github.com/kiegroup/kogito-apps/commit/bec4161663c6c43f42e621394b94d4eba29c548e", "message": "KOGITO-2776 Added tests, Fixed interfaces names", "committedDate": "2020-08-18T06:59:03Z", "type": "commit"}, {"oid": "0bc397efd73704c07e789b099e84775795f42e0a", "url": "https://github.com/kiegroup/kogito-apps/commit/0bc397efd73704c07e789b099e84775795f42e0a", "message": "KOGITO-2776 Updated TrustyApp component to handle menu toggler", "committedDate": "2020-08-18T06:59:08Z", "type": "commit"}, {"oid": "6da533c2d4a43a81addf149789ebb2e7e83dcd2c", "url": "https://github.com/kiegroup/kogito-apps/commit/6da533c2d4a43a81addf149789ebb2e7e83dcd2c", "message": "KOGITO-2776 Removed PatternFly from local deps, updated snapshots", "committedDate": "2020-08-18T06:59:12Z", "type": "commit"}, {"oid": "78683586ee6ac83e643e1c73cefea481986d76a1", "url": "https://github.com/kiegroup/kogito-apps/commit/78683586ee6ac83e643e1c73cefea481986d76a1", "message": "KOGITO-2776 Updated interfaces names, added more tests", "committedDate": "2020-08-18T06:59:16Z", "type": "commit"}, {"oid": "7e8fd264185a7a116b6afb4f0034c56115f2be35", "url": "https://github.com/kiegroup/kogito-apps/commit/7e8fd264185a7a116b6afb4f0034c56115f2be35", "message": "KOGITO-2776 Imported Explanation components, refactored api handling", "committedDate": "2020-08-18T06:59:19Z", "type": "commit"}, {"oid": "353ed640297a811f259e8f038f410fead12ba61d", "url": "https://github.com/kiegroup/kogito-apps/commit/353ed640297a811f259e8f038f410fead12ba61d", "message": "KOGITO-2776 Added tests and minor fixes", "committedDate": "2020-08-18T06:59:25Z", "type": "commit"}, {"oid": "70b0e6771c02cea26700837cdeacb907520fb418", "url": "https://github.com/kiegroup/kogito-apps/commit/70b0e6771c02cea26700837cdeacb907520fb418", "message": "KOGITO-2776 Fixed wrongful import of ChartTooltipProps", "committedDate": "2020-08-18T06:59:28Z", "type": "commit"}, {"oid": "61c4c91fd8f4a45b3b7e2cc490c7b130b0768a1c", "url": "https://github.com/kiegroup/kogito-apps/commit/61c4c91fd8f4a45b3b7e2cc490c7b130b0768a1c", "message": "KOGITO-2776 Updated yarn.lock", "committedDate": "2020-08-18T07:27:57Z", "type": "commit"}, {"oid": "369245c51aa7c193596d67dc438567c2ed52e81e", "url": "https://github.com/kiegroup/kogito-apps/commit/369245c51aa7c193596d67dc438567c2ed52e81e", "message": "KOGITO-2776 Fixed typo", "committedDate": "2020-08-18T12:14:11Z", "type": "commit"}, {"oid": "44c40df937a7de8bd2eff598d4252cf8317ead94", "url": "https://github.com/kiegroup/kogito-apps/commit/44c40df937a7de8bd2eff598d4252cf8317ead94", "message": "KOGITO-2776 Added support for decisions outcomes without explanation info", "committedDate": "2020-08-18T15:10:42Z", "type": "commit"}, {"oid": "3194eb355e1833f89c4a0b2cb8d0b01f14a642d6", "url": "https://github.com/kiegroup/kogito-apps/commit/3194eb355e1833f89c4a0b2cb8d0b01f14a642d6", "message": "KOGITO-2776 Removed stats distribution info from InputDataBrowser", "committedDate": "2020-08-18T15:15:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMyMzEzNg==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r472323136", "bodyText": "I replaced KogitoPageLayout because it does not support breadcrumb currently. I opened a jira ticket for that.", "author": "kelvah", "createdAt": "2020-08-18T16:24:54Z", "path": "ui-packages/packages/trusty/src/components/Templates/TrustyApp/TrustyApp.tsx", "diffHunk": "@@ -32,18 +66,37 @@ const TrustyApp = () => {\n     </Nav>\n   );\n \n-  const sidebar = <PageSidebar nav={PageNav} isNavOpen={true} theme=\"dark\" />;\n+  const Sidebar = (\n+    <PageSidebar\n+      nav={PageNav}\n+      isNavOpen={isMobileView ? isNavOpenMobile : isNavOpenDesktop}\n+      theme=\"dark\"\n+    />\n+  );\n \n-  const handleBrandClick = () => {\n-    history.push('/');\n-  };\n+  const Header = (\n+    <PageHeader\n+      logo={\n+        <Brand src={kogitoLogo} alt=\"Kogito TrustyAI\" className=\"trusty-logo\" />\n+      }\n+      logoProps={{ href: '#/' }}\n+      headerTools={\n+        <PageHeaderTools>\n+          <Avatar src={imgAvatar} alt=\"Avatar image\" />\n+        </PageHeaderTools>\n+      }\n+      showNavToggle\n+      onNavToggle={isMobileView ? onNavToggleMobile : onNavToggleDesktop}\n+      isNavOpen={isMobileView ? isNavOpenMobile : isNavOpenDesktop}\n+    />\n+  );\n \n   return (\n-    <KogitoPageLayout\n-      PageNav={sidebar}\n-      BrandSrc={kogitoLogo}\n-      BrandAltText=\"Kogito TrustyAI\"\n-      BrandClick={handleBrandClick}\n+    <Page\n+      header={Header}\n+      sidebar={Sidebar}\n+      breadcrumb={<Breadcrumbs />}\n+      onPageResize={handlePageResize}", "originalCommit": "3194eb355e1833f89c4a0b2cb8d0b01f14a642d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyOTI5Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r474629297", "bodyText": "just a nitpick - rowsCount would be more descriptive name here.\nThe one below ... as it's either number or array of numbers denoting the setup of the columns, I think it would also deserve better desriptive naming, sth like colsSpec, colsDefinition ?", "author": "jstastny-cz", "createdAt": "2020-08-21T11:05:09Z", "path": "ui-packages/packages/trusty/src/components/Molecules/SkeletonGrid/SkeletonGrid.tsx", "diffHunk": "@@ -0,0 +1,46 @@\n+import React from 'react';\n+import { Grid, GridItem, gridSpans } from '@patternfly/react-core';\n+import SkeletonStripe from '../../Atoms/SkeletonStripe/SkeletonStripe';\n+\n+type SkeletonGridProps = {\n+  rowsNumber: number;", "originalCommit": "3194eb355e1833f89c4a0b2cb8d0b01f14a642d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDcxMzU2Mw==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r474713563", "bodyText": "I agree, especially on colsNumber. Changed both, also in other Skeleton components that used the same prop names.", "author": "kelvah", "createdAt": "2020-08-21T13:55:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDYyOTI5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDY0OTQzMA==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r474649430", "bodyText": "Wasn't our goal to unify the patternfly version we use? Can you identify which dependencies prevent the replacement of 4.23.3 ?", "author": "jstastny-cz", "createdAt": "2020-08-21T11:53:04Z", "path": "ui-packages/yarn.lock", "diffHunk": "@@ -2753,6 +2753,39 @@\n   resolved \"https://registry.yarnpkg.com/@patternfly/patternfly/-/patternfly-4.23.3.tgz#ecc60fe2a1c1315951dc39bf7d52ced9c1c74079\"\n   integrity sha512-q8C98ihcRYBY+FB+KY3bQ9y1Pn/NjBff4hwKsxatrs/MSO/++CuEncg4q7WHjIq2zadA4/7W+Vg3CXuiOP0geg==\n \n+\"@patternfly/patternfly@4.31.6\":", "originalCommit": "3194eb355e1833f89c4a0b2cb8d0b01f14a642d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDY1MjQwMw==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r474652403", "bodyText": "IMO it's @patternfly/react-table@4.12.1 .... can we upgrade this here already? I think 4.15.5 should be in sync with the react-charts version used.", "author": "jstastny-cz", "createdAt": "2020-08-21T12:00:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDY0OTQzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDcxNzk4Mg==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r474717982", "bodyText": "The duplication was caused by @patternfly/react-charts. I used the ^ notation for that in the trusty package.json.\nReplaced it with the fixed 6.6.0 version, which is the one used by PatternFly 4.2.23. The redundant PatternFly dependency is now gone from yarn.lock.", "author": "kelvah", "createdAt": "2020-08-21T14:02:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDY0OTQzMA=="}], "type": "inlineReview"}, {"oid": "2769b6d0fb397957a17ad9df487f6bcf48e12113", "url": "https://github.com/kiegroup/kogito-apps/commit/2769b6d0fb397957a17ad9df487f6bcf48e12113", "message": "KOGITO-2776 Updates following review", "committedDate": "2020-08-21T13:52:30Z", "type": "commit"}, {"oid": "11562ba58810c18b6133e6d98e3260c3e6e60c97", "url": "https://github.com/kiegroup/kogito-apps/commit/11562ba58810c18b6133e6d98e3260c3e6e60c97", "message": "KOGITO-2776 Fixed visualization of not successful outcomes inside outcome details", "committedDate": "2020-08-21T15:45:24Z", "type": "commit"}, {"oid": "f221290f930aab49774b14114da65f62459a3179", "url": "https://github.com/kiegroup/kogito-apps/commit/f221290f930aab49774b14114da65f62459a3179", "message": "KOGITO-2776 Fixed API endpoints urls", "committedDate": "2020-08-23T18:39:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjM2MTU2MQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r476361561", "bodyText": "IDK if these magic numbers are worthy of a code comment?\nOr even inclusion as defaults in the properties that can be overridden if ever needed?", "author": "manstis", "createdAt": "2020-08-25T11:00:46Z", "path": "ui-packages/packages/trusty/src/components/Molecules/SkeletonTornadoChart/SkeletonTornadoChart.tsx", "diffHunk": "@@ -0,0 +1,44 @@\n+import React from 'react';\n+import { v4 as uuid } from 'uuid';\n+import SkeletonStripe from '../../Atoms/SkeletonStripe/SkeletonStripe';\n+import './SkeletonTornadoChart.scss';\n+\n+type SkeletonTornadoChartProps = {\n+  valuesCount: number;\n+  width?: number;\n+  height: number;\n+};\n+\n+const SkeletonTornadoChart = (props: SkeletonTornadoChartProps) => {\n+  const { valuesCount = 10, width = '100%', height = 500 } = props;\n+  const stripes = [];\n+\n+  for (let i = 0; i < valuesCount; i++) {\n+    const stripeWidth = 45 - (40 / valuesCount) * i;", "originalCommit": "f221290f930aab49774b14114da65f62459a3179", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNDI0Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/396#discussion_r476414247", "bodyText": "Thank you for the suggestion, I've added some comments explaining how they work. I don't think we need them to be configurable because they are meant to provide a classic tornado chart resemblance. They are also used as percentages relative to the configurable chart width/height.", "author": "kelvah", "createdAt": "2020-08-25T12:37:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjM2MTU2MQ=="}], "type": "inlineReview"}, {"oid": "4bb5bf97babcf7f790071757d235e6c9330fd81a", "url": "https://github.com/kiegroup/kogito-apps/commit/4bb5bf97babcf7f790071757d235e6c9330fd81a", "message": "KOGITO-2776 Added comments explaining how SkeletonTornadoChart is generated", "committedDate": "2020-08-25T12:29:31Z", "type": "commit"}]}