{"pr_number": 337, "pr_title": "KOGITO-2837 PR check: checkout all repos at once", "pr_createdAt": "2020-07-23T08:14:04Z", "pr_url": "https://github.com/kiegroup/kogito-apps/pull/337", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI4NTc1OA==", "url": "https://github.com/kiegroup/kogito-apps/pull/337#discussion_r459285758", "bodyText": "@cristianonicolai following https://issues.redhat.com/browse/KOGITO-2715, do we really need to build the examples here ?", "author": "radtriste", "createdAt": "2020-07-23T08:18:19Z", "path": "Jenkinsfile", "diffHunk": "@@ -21,74 +21,89 @@ pipeline {\n         SONARCLOUD_TOKEN = credentials('SONARCLOUD_TOKEN')\n     }\n     stages {\n-        stage('Prepare') {\n+        stage('Initialize') {\n             steps {\n                 sh \"export XAUTHORITY=$HOME/.Xauthority\"\n                 sh \"chmod 600 $HOME/.vnc/passwd\"\n+                \n+                checkoutRepo(\"kogito-runtimes\")\n+                checkoutRepo(\"kogito-apps\")\n+                checkoutRepo(\"kogito-examples\")\n+                checkoutRepo(\"kogito-examples\", \"kogito-examples-persistence\")\n+                checkoutRepo(\"kogito-examples\", \"kogito-examples-events\")\n             }\n         }\n         stage('Build kogito-runtimes') {\n             steps {\n-                dir(\"kogito-runtimes\") {\n-                    script {\n-                        githubscm.checkoutIfExists('kogito-runtimes', changeAuthor, changeBranch, 'kiegroup', changeTarget, true)\n-                        maven.runMavenWithSubmarineSettings('clean install', false)\n-                    }\n-                }\n+                mavenCleanInstall(\"kogito-runtimes\")\n             }\n         }\n         stage('Build kogito-apps') {\n             steps {\n-                dir(\"kogito-apps\") {\n-                    script {\n-                        githubscm.checkoutIfExists('kogito-apps', changeAuthor, changeBranch, 'kiegroup', changeTarget, true)\n-                        maven.runMavenWithSubmarineSettings('clean install -Prun-code-coverage', false)\n-                        maven.runMavenWithSubmarineSettings('-e -nsu validate -Psonarcloud-analysis', false)\n-                    }\n-                }\n+                mavenCleanInstall(\"kogito-apps\", false, [\"run-code-coverage\"])\n+                runMaven(\"validate\", \"kogito-apps\", false, [\"sonarcloud-analysis\"], \"-e -nsu\")\n             }\n         }\n         stage('Build kogito-examples') {", "originalCommit": "8a565528817fac853a77d43a61ce8ba27ec0832c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5ODU3Nw==", "url": "https://github.com/kiegroup/kogito-apps/pull/337#discussion_r459298577", "bodyText": "same, needs to remove the dependency to job service in examples first.", "author": "cristianonicolai", "createdAt": "2020-07-23T08:41:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI4NTc1OA=="}], "type": "inlineReview"}, {"oid": "4264ef6b15f48e76df2b65a0c86b26cb3a42055e", "url": "https://github.com/kiegroup/kogito-apps/commit/4264ef6b15f48e76df2b65a0c86b26cb3a42055e", "message": "KOGITO-2837 PR check: checkout all repos at once", "committedDate": "2020-07-23T09:40:08Z", "type": "commit"}, {"oid": "4264ef6b15f48e76df2b65a0c86b26cb3a42055e", "url": "https://github.com/kiegroup/kogito-apps/commit/4264ef6b15f48e76df2b65a0c86b26cb3a42055e", "message": "KOGITO-2837 PR check: checkout all repos at once", "committedDate": "2020-07-23T09:40:08Z", "type": "forcePushed"}]}