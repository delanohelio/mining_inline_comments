{"pr_number": 4269, "pr_title": "cks: assorted fixes, test refactoring", "pr_createdAt": "2020-08-17T03:34:55Z", "pr_url": "https://github.com/apache/cloudstack/pull/4269", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM5NTQ5NQ==", "url": "https://github.com/apache/cloudstack/pull/4269#discussion_r471395495", "bodyText": "@shwstppr you'll need to sync changes in test_data in trillian specific test_data as well", "author": "rhtyd", "createdAt": "2020-08-17T10:44:51Z", "path": "tools/marvin/marvin/config/test_data.py", "diffHunk": "@@ -1847,119 +1847,187 @@\n         },\n     },\n     \"configurableData\":\n-        {\n-            \"portableIpRange\": {\n-                \"gateway\": \"10.223.59.1\",\n-                \"netmask\": \"255.255.255.0\",\n-                \"startip\": \"10.223.59.200\",\n-                \"endip\": \"10.223.59.240\",\n-                \"vlan\": \"1000\"\n-            },\n-            \"netscaler\": {\n-                \"ipaddress\": \"\",\n-                \"username\": \"\",\n-                \"password\": \"\",\n-                \"networkdevicetype\": \"\",\n-                \"publicinterface\": \"\",\n-                \"privateinterface\": \"\",\n-                \"numretries\": \"\",\n-                \"lbdevicededicated\": \"False\",\n-                \"lbdevicecapacity\": 2,\n-                \"port\": 22\n-            },\n-            \"iscsi\": {\n-                \"url\": \"\",\n-                \"name\": \"Primary iSCSI\"\n-            },\n-            \"host\": {\n-                \"publicport\": 22,\n-                \"username\": \"root\",\n-                \"password\": \"password\",\n-            },\n-            \"ldap_account\": {\n-                \"email\": \"\",\n-                \"firstname\": \"\",\n-                \"lastname\": \"\",\n-                \"username\": \"\",\n-                \"password\": \"\",\n-            },\n-            \"link_ldap_details\": {\n-                \"domain_name\": \"\",\n-                \"accounttype\": \"\",\n-                \"name\": \"\",\n-                \"type\": \"\",\n-                \"admin\": \"\",\n-                \"linkLdapUsername\": \"\",\n-                \"linkLdapPassword\": \"\",\n-                \"linkLdapNestedUser\": \"\",\n-                \"linkLdapNestedPassword\": \"\"\n+    {\n+        \"portableIpRange\": {\n+            \"gateway\": \"10.223.59.1\",\n+            \"netmask\": \"255.255.255.0\",\n+            \"startip\": \"10.223.59.200\",\n+            \"endip\": \"10.223.59.240\",\n+            \"vlan\": \"1000\"\n+        },\n+        \"netscaler\": {\n+            \"ipaddress\": \"\",\n+            \"username\": \"\",\n+            \"password\": \"\",\n+            \"networkdevicetype\": \"\",\n+            \"publicinterface\": \"\",\n+            \"privateinterface\": \"\",\n+            \"numretries\": \"\",\n+            \"lbdevicededicated\": \"False\",\n+            \"lbdevicecapacity\": 2,\n+            \"port\": 22\n+        },\n+        \"iscsi\": {\n+            \"url\": \"\",\n+            \"name\": \"Primary iSCSI\"\n+        },\n+        \"host\": {\n+            \"publicport\": 22,\n+            \"username\": \"root\",\n+            \"password\": \"password\",\n+        },\n+        \"ldap_account\": {\n+            \"email\": \"\",\n+            \"firstname\": \"\",\n+            \"lastname\": \"\",\n+            \"username\": \"\",\n+            \"password\": \"\",\n+        },\n+        \"link_ldap_details\": {\n+            \"domain_name\": \"\",\n+            \"accounttype\": \"\",\n+            \"name\": \"\",\n+            \"type\": \"\",\n+            \"admin\": \"\",\n+            \"linkLdapUsername\": \"\",\n+            \"linkLdapPassword\": \"\",\n+            \"linkLdapNestedUser\": \"\",\n+            \"linkLdapNestedPassword\": \"\"\n \n+        },\n+        \"ldap_configuration\": {\n+            \"basedn\": \"\",\n+            \"emailAttribute\": \"\",\n+            \"userObject\": \"\",\n+            \"usernameAttribute\": \"\",\n+            \"hostname\": \"\",\n+            \"port\": \"\",\n+            \"ldapUsername\": \"\",\n+            \"ldapPassword\": \"\"\n+        },\n+        \"systemVmDelay\": 120,\n+        \"setUsageConfigurationThroughTestCase\": True,\n+        \"vmware_cluster\": {\n+            \"hypervisor\": 'VMware',\n+            \"clustertype\": 'ExternalManaged',\n+            \"username\": '',\n+            \"password\": '',\n+            \"url\": '',\n+            \"clustername\": 'VMWare Cluster with Space in DC name',\n+        },\n+        \"upload_volume\": {\n+            \"diskname\": \"UploadVol\",\n+            \"format\": \"VHD\",\n+            \"url\": \"http://download.cloudstack.org/releases/2.0.0/UbuntuServer-10-04-64bit.vhd.bz2\",\n+            \"checksum\": \"\",\n+        },\n+        \"bootableIso\":\n+            {\n+                \"displaytext\": \"Test Bootable ISO\",\n+                \"name\": \"testISO\",\n+                \"bootable\": True,\n+                \"ispublic\": False,\n+                \"url\": \"http://dl.openvm.eu/cloudstack/iso/TinyCore-8.0.iso\",\n+                \"ostype\": 'Other Linux (64-bit)',\n+                \"mode\": 'HTTP_DOWNLOAD'\n             },\n-            \"ldap_configuration\": {\n-                \"basedn\": \"\",\n-                \"emailAttribute\": \"\",\n-                \"userObject\": \"\",\n-                \"usernameAttribute\": \"\",\n-                \"hostname\": \"\",\n-                \"port\": \"\",\n-                \"ldapUsername\": \"\",\n-                \"ldapPassword\": \"\"\n+        \"setHostConfigurationForIngressRule\": False,\n+        \"restartManagementServerThroughTestCase\": False,\n+        \"vmxnet3template\": {\n+            \"displaytext\": \"VMXNET3 Template\",\n+            \"name\": \"VMXNET3 template\",\n+            \"ostype\": \"CentOS 5.6 (64-bit)\",\n+            \"isfeatured\": True,\n+            \"ispublic\": False,\n+            \"isextractable\": True,\n+            \"mode\": \"HTTP_DOWNLOAD\",\n+            \"templatefilter\": \"self\",\n+            \"url\": \"http://people.apache.org/~sanjeev/systemvm64template-2014-09-30-4.3-vmware.ova\",\n+            \"hypervisor\": \"vmware\",\n+            \"format\": \"OVA\",\n+            \"nicadapter\": \"vmxnet3\",\n+            \"kvm\": {\n+                \"url\": \"\"\n             },\n-            \"systemVmDelay\": 120,\n-            \"setUsageConfigurationThroughTestCase\": True,\n-            \"vmware_cluster\": {\n-                \"hypervisor\": 'VMware',\n-                \"clustertype\": 'ExternalManaged',\n-                \"username\": '',\n-                \"password\": '',\n-                \"url\": '',\n-                \"clustername\": 'VMWare Cluster with Space in DC name',\n+            \"vmware\": {\n+                \"url\": \"\"\n             },\n-            \"upload_volume\": {\n-                \"diskname\": \"UploadVol\",\n-                \"format\": \"VHD\",\n-                \"url\": \"http://download.cloudstack.org/releases/2.0.0/UbuntuServer-10-04-64bit.vhd.bz2\",\n-                \"checksum\": \"\",\n+            \"xenserver\": {\n+                \"url\": \"\"\n             },\n-            \"bootableIso\":\n-                {\n-                    \"displaytext\": \"Test Bootable ISO\",\n-                    \"name\": \"testISO\",\n-                    \"bootable\": True,\n-                    \"ispublic\": False,\n-                    \"url\": \"http://dl.openvm.eu/cloudstack/iso/TinyCore-8.0.iso\",\n-                    \"ostype\": 'Other Linux (64-bit)',\n-                    \"mode\": 'HTTP_DOWNLOAD'\n-                },\n-            \"setHostConfigurationForIngressRule\": False,\n-            \"restartManagementServerThroughTestCase\": False,\n-            \"vmxnet3template\": {\n-                \"displaytext\": \"VMXNET3 Template\",\n-                \"name\": \"VMXNET3 template\",\n-                \"ostype\": \"CentOS 5.6 (64-bit)\",\n-                \"isfeatured\": True,\n-                \"ispublic\": False,\n-                \"isextractable\": True,\n-                \"mode\": \"HTTP_DOWNLOAD\",\n-                \"templatefilter\": \"self\",\n-                \"url\": \"http://people.apache.org/~sanjeev/systemvm64template-2014-09-30-4.3-vmware.ova\",\n-                \"hypervisor\": \"vmware\",\n-                \"format\": \"OVA\",\n-                \"nicadapter\": \"vmxnet3\",\n-                \"kvm\": {\n-                    \"url\": \"\"\n-                },\n-                \"vmware\": {\n-                    \"url\": \"\"\n-                },\n-                \"xenserver\": {\n-                    \"url\": \"\"\n-                },\n-                \"hyperv\": {\n-                    \"url\": \"\"\n-                },\n-                \"ostype\": 'CentOS 5.3 (64-bit)',\n-                \"mode\": 'HTTP_DOWNLOAD'\n-            }\n+            \"hyperv\": {\n+                \"url\": \"\"\n+            },\n+            \"ostype\": 'CentOS 5.3 (64-bit)',\n+            \"mode\": 'HTTP_DOWNLOAD'\n+        }\n+    },\n+    \"cks_kubernetes_versions\": {\n+        \"1.14.9\": {\n+            \"semanticversion\": \"1.14.9\",\n+            \"url\": \"http://download.cloudstack.org/cks/setup-1.14.9.iso\",\n+            \"mincpunumber\": 2,\n+            \"minmemory\": 2048\n+        },\n+        \"1.15.0\": {\n+            \"semanticversion\": \"1.15.0\",\n+            \"url\": \"http://download.cloudstack.org/cks/setup-1.15.0.iso\",\n+            \"mincpunumber\": 2,\n+            \"minmemory\": 2048\n+        },\n+        \"1.16.0\": {\n+            \"semanticversion\": \"1.16.0\",\n+            \"url\": \"http://download.cloudstack.org/cks/setup-1.16.0.iso\",\n+            \"mincpunumber\": 2,\n+            \"minmemory\": 2048\n+        },\n+        \"1.16.3\": {\n+            \"semanticversion\": \"1.16.3\",\n+            \"url\": \"http://download.cloudstack.org/cks/setup-1.16.3.iso\",\n+            \"mincpunumber\": 2,\n+            \"minmemory\": 2048\n         }\n+    },\n+    \"cks_templates\": {", "originalCommit": "c0924bd12a6404fba5089c8d3aa161a590720357", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQ1NjY1OQ==", "url": "https://github.com/apache/cloudstack/pull/4269#discussion_r474456659", "bodyText": "Have done that", "author": "shwstppr", "createdAt": "2020-08-21T07:13:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTM5NTQ5NQ=="}], "type": "inlineReview"}, {"oid": "72b1691a003dac11895455f3c139fd09460eb89f", "url": "https://github.com/apache/cloudstack/commit/72b1691a003dac11895455f3c139fd09460eb89f", "message": "fix logging exception\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-08-31T13:55:38Z", "type": "forcePushed"}, {"oid": "258b9521517dc226b7423c11596ca2e412b6d9c3", "url": "https://github.com/apache/cloudstack/commit/258b9521517dc226b7423c11596ca2e412b6d9c3", "message": "wip: move params to test_data\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:53:47Z", "type": "commit"}, {"oid": "53c9e48819cb8788009d52e01b4c6f135848ca0a", "url": "https://github.com/apache/cloudstack/commit/53c9e48819cb8788009d52e01b4c6f135848ca0a", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:54:13Z", "type": "commit"}, {"oid": "03ac47ac02b4d70dba53857345d456677bee35d1", "url": "https://github.com/apache/cloudstack/commit/03ac47ac02b4d70dba53857345d456677bee35d1", "message": "fix version test\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:54:32Z", "type": "commit"}, {"oid": "13f9b0c65f0b54d60178f5ce4c3c10729336a5a9", "url": "https://github.com/apache/cloudstack/commit/13f9b0c65f0b54d60178f5ce4c3c10729336a5a9", "message": "fix cluster test\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:54:47Z", "type": "commit"}, {"oid": "732f8d3ddd287c00822a29450e4c7fea6d2483c3", "url": "https://github.com/apache/cloudstack/commit/732f8d3ddd287c00822a29450e4c7fea6d2483c3", "message": "changes\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:55:03Z", "type": "commit"}, {"oid": "3a7776ddfd17dafe2ab39b49e845a53b3342234f", "url": "https://github.com/apache/cloudstack/commit/3a7776ddfd17dafe2ab39b49e845a53b3342234f", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:55:18Z", "type": "commit"}, {"oid": "8f9d1bb5bfcd2439b6c1eb611e295e2e66827424", "url": "https://github.com/apache/cloudstack/commit/8f9d1bb5bfcd2439b6c1eb611e295e2e66827424", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:55:31Z", "type": "commit"}, {"oid": "e03af5c9dd8f83be2f21fed13e982f51acd83270", "url": "https://github.com/apache/cloudstack/commit/e03af5c9dd8f83be2f21fed13e982f51acd83270", "message": "fix template var\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:55:48Z", "type": "commit"}, {"oid": "2a167b0509e9aa11f35b22fffa429dd9336f9686", "url": "https://github.com/apache/cloudstack/commit/2a167b0509e9aa11f35b22fffa429dd9336f9686", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:56:00Z", "type": "commit"}, {"oid": "639dac3bb2ecdac99a60c47d162fdedb99e7068b", "url": "https://github.com/apache/cloudstack/commit/639dac3bb2ecdac99a60c47d162fdedb99e7068b", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:56:12Z", "type": "commit"}, {"oid": "adc63332e8b1958e93bae70eb0fade0be7c63980", "url": "https://github.com/apache/cloudstack/commit/adc63332e8b1958e93bae70eb0fade0be7c63980", "message": "fix cleanup\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:56:26Z", "type": "commit"}, {"oid": "3d5a83e96d0462a1fd484a6b89f63bcf926e4611", "url": "https://github.com/apache/cloudstack/commit/3d5a83e96d0462a1fd484a6b89f63bcf926e4611", "message": "uncomment versions\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:56:37Z", "type": "commit"}, {"oid": "d085b85401bf64d468d04615b410065143d7f2f7", "url": "https://github.com/apache/cloudstack/commit/d085b85401bf64d468d04615b410065143d7f2f7", "message": "refactor error messages, api param description\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:56:50Z", "type": "commit"}, {"oid": "26c23f9331702010681f827753701bfb63f11fca", "url": "https://github.com/apache/cloudstack/commit/26c23f9331702010681f827753701bfb63f11fca", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:57:00Z", "type": "commit"}, {"oid": "395096334c7eeefb35a0e120f15542253da21f64", "url": "https://github.com/apache/cloudstack/commit/395096334c7eeefb35a0e120f15542253da21f64", "message": "fix deleted template state\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:57:10Z", "type": "commit"}, {"oid": "741684d6849d7e9084edfc15387aa18944007caf", "url": "https://github.com/apache/cloudstack/commit/741684d6849d7e9084edfc15387aa18944007caf", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:57:26Z", "type": "commit"}, {"oid": "a1b86216c49734cc65ebfe7362e6fc3e574e07a2", "url": "https://github.com/apache/cloudstack/commit/a1b86216c49734cc65ebfe7362e6fc3e574e07a2", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:57:40Z", "type": "commit"}, {"oid": "4e8dd1f5aa7b3030dd894dd70cdd3c6c7ee7c51e", "url": "https://github.com/apache/cloudstack/commit/4e8dd1f5aa7b3030dd894dd70cdd3c6c7ee7c51e", "message": "fix deleted network check\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:57:51Z", "type": "commit"}, {"oid": "e86914bcf4c5a77cd032599a4bd90109d5c2a2b5", "url": "https://github.com/apache/cloudstack/commit/e86914bcf4c5a77cd032599a4bd90109d5c2a2b5", "message": "fix capacity check\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:58:13Z", "type": "commit"}, {"oid": "e86914bcf4c5a77cd032599a4bd90109d5c2a2b5", "url": "https://github.com/apache/cloudstack/commit/e86914bcf4c5a77cd032599a4bd90109d5c2a2b5", "message": "fix capacity check\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T06:58:13Z", "type": "forcePushed"}, {"oid": "3b594a7260c12f1ab0d864b77a377bac036a5c0c", "url": "https://github.com/apache/cloudstack/commit/3b594a7260c12f1ab0d864b77a377bac036a5c0c", "message": "logging fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T07:24:21Z", "type": "commit"}, {"oid": "b36a800d4b4affe8eb9cc886f238ca4b55c1225d", "url": "https://github.com/apache/cloudstack/commit/b36a800d4b4affe8eb9cc886f238ca4b55c1225d", "message": "fix typo\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-08T14:43:04Z", "type": "commit"}, {"oid": "ce5ebe9c1cbf424930814399c73dbc5bf0b8d51c", "url": "https://github.com/apache/cloudstack/commit/ce5ebe9c1cbf424930814399c73dbc5bf0b8d51c", "message": "refactor tests\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-15T10:20:54Z", "type": "commit"}, {"oid": "41351655827b9eb34f75651e7331c8336c9053d9", "url": "https://github.com/apache/cloudstack/commit/41351655827b9eb34f75651e7331c8336c9053d9", "message": "fix event description\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-15T12:53:10Z", "type": "commit"}, {"oid": "4b4dceaa623aea775af57e494578ef9b656f67fc", "url": "https://github.com/apache/cloudstack/commit/4b4dceaa623aea775af57e494578ef9b656f67fc", "message": "improvements\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-16T19:38:47Z", "type": "commit"}, {"oid": "d29d177c0833f06d6c9a9028d6ab2d3d86cc42ef", "url": "https://github.com/apache/cloudstack/commit/d29d177c0833f06d6c9a9028d6ab2d3d86cc42ef", "message": "fix\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-17T07:12:36Z", "type": "commit"}, {"oid": "96aa16f4baa22cabc9fa991293618f030b9f9f1b", "url": "https://github.com/apache/cloudstack/commit/96aa16f4baa22cabc9fa991293618f030b9f9f1b", "message": "temp change to mention version\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-21T15:34:39Z", "type": "commit"}, {"oid": "7e90a052229528185b18817f677a3748d266f6d1", "url": "https://github.com/apache/cloudstack/commit/7e90a052229528185b18817f677a3748d266f6d1", "message": "changes for specifying k8s version\n\nSigned-off-by: Abhishek Kumar <abhishek.mrt22@gmail.com>", "committedDate": "2020-09-22T05:20:10Z", "type": "commit"}]}