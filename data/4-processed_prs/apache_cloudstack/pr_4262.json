{"pr_number": 4262, "pr_title": "fix test failure", "pr_createdAt": "2020-08-12T10:43:56Z", "pr_url": "https://github.com/apache/cloudstack/pull/4262", "timeline": [{"oid": "d01a11c5ccacb13c76973f45472f62e0201dc2ce", "url": "https://github.com/apache/cloudstack/commit/d01a11c5ccacb13c76973f45472f62e0201dc2ce", "message": "fix test failure", "committedDate": "2020-08-12T10:51:25Z", "type": "forcePushed"}, {"oid": "9678b2ae46d0f239c69b6856c95e2c7f7639ce87", "url": "https://github.com/apache/cloudstack/commit/9678b2ae46d0f239c69b6856c95e2c7f7639ce87", "message": "fix test failure", "committedDate": "2020-08-12T15:12:45Z", "type": "commit"}, {"oid": "9678b2ae46d0f239c69b6856c95e2c7f7639ce87", "url": "https://github.com/apache/cloudstack/commit/9678b2ae46d0f239c69b6856c95e2c7f7639ce87", "message": "fix test failure", "committedDate": "2020-08-12T15:12:45Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzNzM2Mw==", "url": "https://github.com/apache/cloudstack/pull/4262#discussion_r469837363", "bodyText": "@Pearl1594 what was the issue during the reboot test, does this fix that? If so, do we need to port it back to 4.14/4.13?", "author": "rhtyd", "createdAt": "2020-08-13T09:56:52Z", "path": "systemvm/agent/scripts/ssvm-check.sh", "diffHunk": "@@ -118,7 +118,7 @@ fi\n # check for connectivity to the management server\n echo ================================================\n echo Management server is $MGMTSERVER.  Checking connectivity.\n-socatout=$(echo | socat - TCP:$MGMTSERVER:8250,connect-timeout=3 2>&1)\n+socatout=$(echo | socat - TCP:$MGMTSERVER:8250,connect-timeout=3 | tr -d '\\0' 2>&1)", "originalCommit": "9678b2ae46d0f239c69b6856c95e2c7f7639ce87", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0NjM2Mg==", "url": "https://github.com/apache/cloudstack/pull/4262#discussion_r469846362", "bodyText": "while it reports a failure in ssvm reboot test, the logs report a failure in ssvm check:\n2020-08-11 23:39:12,513 - CRITICAL - FAILED: test_07_reboot_ssvm: ['Traceback (most recent call last):\\n', '  File \"/usr/lib64/python2.7/unittest/case.py\", line 369, in run\\n    testMethod()\\n', '  File \"/marvin/tests/smoke/test_ssvm.py\", line 897, in test_07_reboot_ssvm\\n    self.test_03_ssvm_internals()\\n', '  File \"/marvin/tests/smoke/test_ssvm.py\", line 460, in test_03_ssvm_internals\\n    \"Check for Errors in tests\"\\n', '  File \"/usr/lib64/python2.7/unittest/case.py\", line 553, in assertEqual\\n    assertion_func(first, second, msg=msg)\\n', '  File \"/usr/lib64/python2.7/unittest/case.py\", line 546, in _baseAssertEqual\\n    raise self.failureException(msg)\\n', 'AssertionError: Check for Errors in tests\\n']\n\nThis would be an issue in the older versions too", "author": "Pearl1594", "createdAt": "2020-08-13T10:13:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzNzM2Mw=="}], "type": "inlineReview"}, {"oid": "103c6cc86c913b19db133a8cf39848e625b61981", "url": "https://github.com/apache/cloudstack/commit/103c6cc86c913b19db133a8cf39848e625b61981", "message": "add sleep before ssvm health check script is run on reboot", "committedDate": "2020-08-14T12:41:00Z", "type": "commit"}]}