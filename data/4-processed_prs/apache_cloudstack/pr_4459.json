{"pr_number": 4459, "pr_title": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "pr_createdAt": "2020-11-11T06:57:48Z", "pr_url": "https://github.com/apache/cloudstack/pull/4459", "timeline": [{"oid": "453615bfc1474d130a7b253108ac817cf9223c8a", "url": "https://github.com/apache/cloudstack/commit/453615bfc1474d130a7b253108ac817cf9223c8a", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-11T06:57:40Z", "type": "forcePushed"}, {"oid": "208ad442cf80eca0cac9a2fed75a4369fdc05fbe", "url": "https://github.com/apache/cloudstack/commit/208ad442cf80eca0cac9a2fed75a4369fdc05fbe", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-11T06:58:29Z", "type": "forcePushed"}, {"oid": "83b611fe439b08381563f81b8cba18ce9dc07a00", "url": "https://github.com/apache/cloudstack/commit/83b611fe439b08381563f81b8cba18ce9dc07a00", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-11T07:49:42Z", "type": "forcePushed"}, {"oid": "62c286467ba90c03723ecc85ab3739f16817b6ec", "url": "https://github.com/apache/cloudstack/commit/62c286467ba90c03723ecc85ab3739f16817b6ec", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-11T08:33:14Z", "type": "forcePushed"}, {"oid": "f356da2c48c5e8b4dc15d8efdb4657165760b87a", "url": "https://github.com/apache/cloudstack/commit/f356da2c48c5e8b4dc15d8efdb4657165760b87a", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-11T09:04:31Z", "type": "forcePushed"}, {"oid": "4860f60102265ac1737f1f4d97dcd63db7f2c1a4", "url": "https://github.com/apache/cloudstack/commit/4860f60102265ac1737f1f4d97dcd63db7f2c1a4", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-11T09:10:30Z", "type": "forcePushed"}, {"oid": "bf3c782cf979ae9d8b2df3c0ed144846792e5dff", "url": "https://github.com/apache/cloudstack/commit/bf3c782cf979ae9d8b2df3c0ed144846792e5dff", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-11T09:11:04Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg3MTA1Ng==", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r525871056", "bodyText": "printf has only one specifier in the format and two arguments. What is intended here?", "author": "DaanHoogland", "createdAt": "2020-11-18T07:43:34Z", "path": "scripts/util/create-kubernetes-binaries-iso.sh", "diffHunk": "@@ -87,6 +91,14 @@ if [ $? -ne 0 ]; then\n fi\n mkdir -p \"${working_dir}/docker\"\n output=`${k8s_dir}/kubeadm config images list --kubernetes-version=${RELEASE}`\n+\n+# Don't forget about the yaml images !\n+for i in ${network_conf_file} ${dashboard_conf_file}\n+do\n+  images=`grep \"image:\" $i | cut -d ':' -f2- | tr -d ' ' | tr -d \"'\"`\n+  output=`printf \"%s\\n\" ${output} ${images}`", "originalCommit": "bf3c782cf979ae9d8b2df3c0ed144846792e5dff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NDE2OA==", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r525994168", "bodyText": "It's a simpler way of doing printf \"%s\\n%s\\n\" ${output} ${images} :D", "author": "davidjumani", "createdAt": "2020-11-18T10:55:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg3MTA1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAyODcxMg==", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r526028712", "bodyText": "ok, never encountered that before, tnx", "author": "DaanHoogland", "createdAt": "2020-11-18T11:53:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg3MTA1Ng=="}], "type": "inlineReview"}, {"oid": "efb11c9c0c30104a0eef34bd0c1706ca63cfb1c1", "url": "https://github.com/apache/cloudstack/commit/efb11c9c0c30104a0eef34bd0c1706ca63cfb1c1", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-18T10:54:19Z", "type": "commit"}, {"oid": "efb11c9c0c30104a0eef34bd0c1706ca63cfb1c1", "url": "https://github.com/apache/cloudstack/commit/efb11c9c0c30104a0eef34bd0c1706ca63cfb1c1", "message": "createkubertetesbinariesiso: Saving images in network and dashboard yaml", "committedDate": "2020-11-18T10:54:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAzNDM2MQ==", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r526034361", "bodyText": "\ud83c\uddf9\ud83c\uddf7 red flag ;) but fine by me. we allow this script to exit and leave garbage behind. in view of the function of this script fine. (a comment or so would be appropriate, i think)", "author": "DaanHoogland", "createdAt": "2020-11-18T12:03:29Z", "path": "scripts/util/create-kubernetes-binaries-iso.sh", "diffHunk": "@@ -16,9 +16,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+set -e", "originalCommit": "efb11c9c0c30104a0eef34bd0c1706ca63cfb1c1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}