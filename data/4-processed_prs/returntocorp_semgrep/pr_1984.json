{"pr_number": 1984, "pr_title": "Clarify CLI documentation for '--include' and '--no-git-ignore'.", "pr_createdAt": "2020-11-06T23:20:49Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/1984", "timeline": [{"oid": "55a9c9a710fc22befccccfddb057b85f7d249e96", "url": "https://github.com/returntocorp/semgrep/commit/55a9c9a710fc22befccccfddb057b85f7d249e96", "message": "Clarify CLI documentation for '--include' and '--no-git-ignore'.", "committedDate": "2020-11-06T03:30:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTA1Mjk0MQ==", "url": "https://github.com/returntocorp/semgrep/pull/1984#discussion_r519052941", "bodyText": "According to python docs they are called \"glob-style patterns\" https://docs.python.org/3/library/pathlib.html#pathlib.PurePath.match idk if we care to add that detail.", "author": "brendongo", "createdAt": "2020-11-06T23:24:17Z", "path": "semgrep/semgrep/cli.py", "diffHunk": "@@ -102,14 +102,30 @@ def cli() -> None:\n         \"--include\",\n         action=\"append\",\n         default=[],\n-        help=\"Scan only files or directories that match this pattern; --include='*.jsx' will scan\"\n-        \" the following: foo.jsx, src/foo.jsx, foo.jsx/bar.sh. --include='src' will scan src/foo.py\"\n-        \" as well as a/b/src/c/foo.py. Can add multiple times.\",\n+        help=\"Filter files or directories by path. The argument is a pattern\"", "originalCommit": "55a9c9a710fc22befccccfddb057b85f7d249e96", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTA1MzMzNA==", "url": "https://github.com/returntocorp/semgrep/pull/1984#discussion_r519053334", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \" It does nothing if the scanning root is not\"\n          \n          \n            \n                    \" Setting this flag does nothing if the scanning root is not\"", "author": "brendongo", "createdAt": "2020-11-06T23:25:56Z", "path": "semgrep/semgrep/cli.py", "diffHunk": "@@ -102,14 +102,30 @@ def cli() -> None:\n         \"--include\",\n         action=\"append\",\n         default=[],\n-        help=\"Scan only files or directories that match this pattern; --include='*.jsx' will scan\"\n-        \" the following: foo.jsx, src/foo.jsx, foo.jsx/bar.sh. --include='src' will scan src/foo.py\"\n-        \" as well as a/b/src/c/foo.py. Can add multiple times.\",\n+        help=\"Filter files or directories by path. The argument is a pattern\"\n+        \" such as 'foo.*' that must match the path. \"\n+        \" This is an extra filter in addition to other applicable filters.\"\n+        \" For example, specifying the language with '-l javascript' might\"\n+        \" preselect files 'src/foo.jsx' and 'lib/bar.js'. Specifying one of\"\n+        \" '--include=src', '--include=*.jsx', or '--include=src/foo.*'\"\n+        \" will restrict the selection to the single file 'src/foo.jsx'.\"\n+        \" A choice of multiple '--include' patterns can be specified.\"\n+        \" For example, '--include=foo.* --include=bar.*' will select\"\n+        \" both 'src/foo.jsx' and 'lib/bar.js'.\",\n     )\n     parser.add_argument(\n         \"--no-git-ignore\",\n         action=\"store_true\",\n-        help=\"Scan all files even those ignored by a projects gitignore(s)\",\n+        help=\"Don't skip files ignored by git.\"\n+        \" Scanning starts from the root folder specified on the semgrep\"\n+        \" command line.\"\n+        \" Normally, if the scanning root is within a git repository, \"\n+        \" only the tracked files and the new files\"\n+        \" would be scanned. Git submodules and git-ignored files would\"\n+        \" normally be skipped.\"\n+        \" This option will disable git-aware filtering.\"\n+        \" It does nothing if the scanning root is not\"", "originalCommit": "55a9c9a710fc22befccccfddb057b85f7d249e96", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3e2489953d2eca1e652271ff3d0c1023bfc05243", "url": "https://github.com/returntocorp/semgrep/commit/3e2489953d2eca1e652271ff3d0c1023bfc05243", "message": "Update semgrep/semgrep/cli.py\n\nCo-authored-by: Brendon Go <brendon.go@gmail.com>", "committedDate": "2020-11-06T23:28:06Z", "type": "commit"}, {"oid": "754dbfacce9885150fabd4bbaf2f07da0f2d31e7", "url": "https://github.com/returntocorp/semgrep/commit/754dbfacce9885150fabd4bbaf2f07da0f2d31e7", "message": "Document glob patterns", "committedDate": "2020-11-06T23:35:54Z", "type": "commit"}]}