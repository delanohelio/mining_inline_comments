{"pr_number": 481, "pr_title": "Move files in sgrep_lint into sgrep_lint/semgrep", "pr_createdAt": "2020-04-16T07:44:44Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/481", "timeline": [{"oid": "957b4395ab1c1b4c81a26432df545d120e3bef9a", "url": "https://github.com/returntocorp/semgrep/commit/957b4395ab1c1b4c81a26432df545d120e3bef9a", "message": "Rename sgrep.py to __main__.py", "committedDate": "2020-04-15T21:55:02Z", "type": "commit"}, {"oid": "97aa3099d4ced9e0df4e78c8f9fb90f57824cf6b", "url": "https://github.com/returntocorp/semgrep/commit/97aa3099d4ced9e0df4e78c8f9fb90f57824cf6b", "message": "Move to subdir and start imports from semgrep module", "committedDate": "2020-04-16T01:30:35Z", "type": "commit"}, {"oid": "57309e14d9220221485dcafc245859524df84110", "url": "https://github.com/returntocorp/semgrep/commit/57309e14d9220221485dcafc245859524df84110", "message": "sgrep_lint: refactor separate branching flows\n\nBefore this commit most work was being done in a single function\nin sgrep_lint even if the commands were largely separate. In particular\nthe --validate and --dump-ast options did not need to go through\nthe entire program as they are self contained.", "committedDate": "2020-04-16T07:44:07Z", "type": "commit"}, {"oid": "a995cf1f04f40a966961ac0e889317dcb8c54cae", "url": "https://github.com/returntocorp/semgrep/commit/a995cf1f04f40a966961ac0e889317dcb8c54cae", "message": "Use poetry", "committedDate": "2020-04-16T07:46:03Z", "type": "commit"}, {"oid": "2f03bf6e2bf0115058484321e257b73f43b3b45e", "url": "https://github.com/returntocorp/semgrep/commit/2f03bf6e2bf0115058484321e257b73f43b3b45e", "message": "Factor out output related code", "committedDate": "2020-04-16T07:59:25Z", "type": "commit"}, {"oid": "02e406be2caa7b7fef3f5b31d4ee563acc3b312c", "url": "https://github.com/returntocorp/semgrep/commit/02e406be2caa7b7fef3f5b31d4ee563acc3b312c", "message": "Change build path", "committedDate": "2020-04-16T08:04:01Z", "type": "commit"}, {"oid": "2affd205196e810b86f84846adc73c7e93d0dc9e", "url": "https://github.com/returntocorp/semgrep/commit/2affd205196e810b86f84846adc73c7e93d0dc9e", "message": "Remove poetry", "committedDate": "2020-04-16T17:42:34Z", "type": "commit"}, {"oid": "fd0b223a20d128ccb12271af5c2b81eca6d138bb", "url": "https://github.com/returntocorp/semgrep/commit/fd0b223a20d128ccb12271af5c2b81eca6d138bb", "message": "Fix build scripts", "committedDate": "2020-04-16T18:01:15Z", "type": "commit"}, {"oid": "d9869186554002a0c55b170ec1c99df319e6265f", "url": "https://github.com/returntocorp/semgrep/commit/d9869186554002a0c55b170ec1c99df319e6265f", "message": "Merge branch 'develop' into brendon/sanity", "committedDate": "2020-04-16T18:11:35Z", "type": "commit"}, {"oid": "bfadc661d2db15091c95e97e5d79ad1f0e45d878", "url": "https://github.com/returntocorp/semgrep/commit/bfadc661d2db15091c95e97e5d79ad1f0e45d878", "message": "Add pythonpath to make test", "committedDate": "2020-04-16T18:48:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgzMjY3Mg==", "url": "https://github.com/returntocorp/semgrep/pull/481#discussion_r409832672", "bodyText": "nice", "author": "DrewDennison", "createdAt": "2020-04-16T20:36:11Z", "path": "sgrep_lint/semgrep/__main__.py", "diffHunk": "@@ -0,0 +1,21 @@\n+#!/usr/bin/env python3\n+import sys\n+\n+from semgrep.cli import cli", "originalCommit": "bfadc661d2db15091c95e97e5d79ad1f0e45d878", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgzMzIyNw==", "url": "https://github.com/returntocorp/semgrep/pull/481#discussion_r409833227", "bodyText": "is __main__.py standard practice? I was expecting to see semgrep/semgrep.py or something", "author": "DrewDennison", "createdAt": "2020-04-16T20:37:14Z", "path": "sgrep_lint/tests/run-lint-tests.sh", "diffHunk": "@@ -101,7 +101,7 @@ cd \"${THIS_DIR}\"\n PYTHONPATH=.. pytest .\n \n local_tests() {\n-    SGREP=\"./sgrep.py\"\n+    SGREP=\"./semgrep/__main__.py\"", "originalCommit": "bfadc661d2db15091c95e97e5d79ad1f0e45d878", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgzNDA5Mg==", "url": "https://github.com/returntocorp/semgrep/pull/481#discussion_r409834092", "bodyText": "Yeahp. If you want to run from source. main.py runs when you run the module. When we package this for people semgrep will work. See @mschwager comment above.", "author": "brendongo", "createdAt": "2020-04-16T20:38:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTgzMzIyNw=="}], "type": "inlineReview"}, {"oid": "e960b162de2a19b25161bc80debcf29d561a6825", "url": "https://github.com/returntocorp/semgrep/commit/e960b162de2a19b25161bc80debcf29d561a6825", "message": "Add instructions on how to run semgrep locally", "committedDate": "2020-04-16T20:46:10Z", "type": "commit"}]}