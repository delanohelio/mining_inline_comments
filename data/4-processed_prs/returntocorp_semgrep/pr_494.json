{"pr_number": 494, "pr_title": "Run validate on sgrep-rules during testing", "pr_createdAt": "2020-04-16T23:37:06Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/494", "timeline": [{"oid": "04aebf36b6f99de12329419f9de66b4bb7eb1eec", "url": "https://github.com/returntocorp/semgrep/commit/04aebf36b6f99de12329419f9de66b4bb7eb1eec", "message": "Run validate on sgrep-rules during testing", "committedDate": "2020-04-16T23:34:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ2MjY5MA==", "url": "https://github.com/returntocorp/semgrep/pull/494#discussion_r410462690", "bodyText": "Why not just replace both these lines with cd /tmp/sgrep-rules && make test?", "author": "ievans", "createdAt": "2020-04-17T20:49:19Z", "path": "sgrep_lint/tests/run-lint-tests.sh", "diffHunk": "@@ -147,6 +147,7 @@ $SGREP --strict --config=tests/python/good.yaml tests/lint\n #echo TODO: disabled sgrep-rules regression testing for now\n rm -rf /tmp/sgrep-rules && git clone https://github.com/returntocorp/sgrep-rules /tmp/sgrep-rules\n $SGREP --dangerously-allow-arbitrary-code-execution-from-rules --strict --test --test-ignore-todo /tmp/sgrep-rules", "originalCommit": "04aebf36b6f99de12329419f9de66b4bb7eb1eec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDUwMzM1MA==", "url": "https://github.com/returntocorp/semgrep/pull/494#discussion_r410503350", "bodyText": "This runs locally using python while sgrep-rules make test needs a binary executable called sgrep-lint", "author": "brendongo", "createdAt": "2020-04-17T22:43:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ2MjY5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDUxNDY4NQ==", "url": "https://github.com/returntocorp/semgrep/pull/494#discussion_r410514685", "bodyText": "Should/couldn't we just alias the local python run to $sgrep-lint?", "author": "ievans", "createdAt": "2020-04-17T23:33:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ2MjY5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDUyMjg5Mw==", "url": "https://github.com/returntocorp/semgrep/pull/494#discussion_r410522893", "bodyText": "I tried (not very hard) but couldn't get make to pickup the new alias", "author": "brendongo", "createdAt": "2020-04-18T00:19:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ2MjY5MA=="}], "type": "inlineReview"}]}