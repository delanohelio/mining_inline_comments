{"pr_number": 1895, "pr_title": "Can specify config without full url", "pr_createdAt": "2020-10-26T21:07:55Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/1895", "timeline": [{"oid": "270f42aeb1c2723c3a3cdd1712660c11bf8418c2", "url": "https://github.com/returntocorp/semgrep/commit/270f42aeb1c2723c3a3cdd1712660c11bf8418c2", "message": "Can specify config without full url", "committedDate": "2020-10-26T21:06:16Z", "type": "commit"}, {"oid": "7049971c7a8dd1bc9c84327970484de733aa5e03", "url": "https://github.com/returntocorp/semgrep/commit/7049971c7a8dd1bc9c84327970484de733aa5e03", "message": "fixup! Can specify config without full url", "committedDate": "2020-10-26T21:08:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI4NjY1Nw==", "url": "https://github.com/returntocorp/semgrep/pull/1895#discussion_r512286657", "bodyText": "can this use registry_id_to_url(f\"s/...\")?", "author": "DrewDennison", "createdAt": "2020-10-26T21:41:56Z", "path": "semgrep/semgrep/config_resolver.py", "diffHunk": "@@ -389,13 +389,46 @@ def download_config(config_url: str) -> Dict[str, YamlTree]:\n     return None\n \n \n+def is_registry_id(config_str: str) -> bool:\n+    \"\"\"\n+        Starts with r/, p/, s/ for registry, pack, and snippet respectively\n+    \"\"\"\n+    return config_str[:2] in {\"r/\", \"p/\", \"s/\"}\n+\n+\n+def is_saved_snippet(config_str: str) -> bool:\n+    \"\"\"\n+        config_str is saved snippet which has format username:snippetname\n+    \"\"\"\n+    return len(config_str.split(\":\")) == 2\n+\n+\n+def registry_id_to_url(registry_id: str) -> str:\n+    \"\"\"\n+        Convert from registry_id to semgrep.dev url\n+    \"\"\"\n+    return f\"https://semgrep.dev/{registry_id}\"\n+\n+\n+def saved_snippet_to_url(snippet_id: str) -> str:\n+    \"\"\"\n+        Convert from username:snippetname to semgrep.dev url\n+    \"\"\"\n+    username, snippetname = snippet_id.split(\":\")\n+    return f\"https://semgrep.dev/s/{username}/{snippetname}\"", "originalCommit": "7049971c7a8dd1bc9c84327970484de733aa5e03", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI4Njk3Ng==", "url": "https://github.com/returntocorp/semgrep/pull/1895#discussion_r512286976", "bodyText": "can we use from semgrep.constants import SEMGREP_URL?", "author": "DrewDennison", "createdAt": "2020-10-26T21:42:37Z", "path": "semgrep/semgrep/config_resolver.py", "diffHunk": "@@ -389,13 +389,46 @@ def download_config(config_url: str) -> Dict[str, YamlTree]:\n     return None\n \n \n+def is_registry_id(config_str: str) -> bool:\n+    \"\"\"\n+        Starts with r/, p/, s/ for registry, pack, and snippet respectively\n+    \"\"\"\n+    return config_str[:2] in {\"r/\", \"p/\", \"s/\"}\n+\n+\n+def is_saved_snippet(config_str: str) -> bool:\n+    \"\"\"\n+        config_str is saved snippet which has format username:snippetname\n+    \"\"\"\n+    return len(config_str.split(\":\")) == 2\n+\n+\n+def registry_id_to_url(registry_id: str) -> str:\n+    \"\"\"\n+        Convert from registry_id to semgrep.dev url\n+    \"\"\"\n+    return f\"https://semgrep.dev/{registry_id}\"", "originalCommit": "7049971c7a8dd1bc9c84327970484de733aa5e03", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c63c6ebe681962cc34a089147433ff974a9c297f", "url": "https://github.com/returntocorp/semgrep/commit/c63c6ebe681962cc34a089147433ff974a9c297f", "message": "fixup! fixup! Can specify config without full url", "committedDate": "2020-10-26T21:49:48Z", "type": "commit"}]}