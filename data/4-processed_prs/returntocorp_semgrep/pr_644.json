{"pr_number": 644, "pr_title": "Python 3.6 Compatibility & Tox Tests", "pr_createdAt": "2020-05-01T14:45:30Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/644", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODYzNTUxOQ==", "url": "https://github.com/returntocorp/semgrep/pull/644#discussion_r418635519", "bodyText": "Can probably make tox and pytest dev dependencies as part of #631", "author": "brendongo", "createdAt": "2020-05-01T17:05:05Z", "path": "semgrep/requirements.txt", "diffHunk": "@@ -2,3 +2,4 @@ colorama==0.4.3\n pytest==5.3.5\n pyyaml==5.3\n requests==2.22.0\n+tox==3.14.6", "originalCommit": "21c4c4b50d6a25c5c9ed9b1072feeca166830071", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7d9ea8bc71f6eba18768ed0b45f687787e6a932d", "url": "https://github.com/returntocorp/semgrep/commit/7d9ea8bc71f6eba18768ed0b45f687787e6a932d", "message": "Add tox", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "4194cf91b77280539b28cb8e05eb5fbca7ffd81f", "url": "https://github.com/returntocorp/semgrep/commit/4194cf91b77280539b28cb8e05eb5fbca7ffd81f", "message": "Run tox tests for 3.6", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "79122c5bc891358118a500bb5fde3531b80dfd02", "url": "https://github.com/returntocorp/semgrep/commit/79122c5bc891358118a500bb5fde3531b80dfd02", "message": "Add comment about mypy's issues", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "0069f2f754a9b04e88b0f6609a4567fe17c784ca", "url": "https://github.com/returntocorp/semgrep/commit/0069f2f754a9b04e88b0f6609a4567fe17c784ca", "message": "Add script to download latest precompiled semgrep core", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "6ce8336dfab32e5711e93631b93af7ca064ffbcd", "url": "https://github.com/returntocorp/semgrep/commit/6ce8336dfab32e5711e93631b93af7ca064ffbcd", "message": "Set the github auth token", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "749aea7ac98b953b016a851a05f76f3e55ae990b", "url": "https://github.com/returntocorp/semgrep/commit/749aea7ac98b953b016a851a05f76f3e55ae990b", "message": "Install with sudo", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "a8933bec74722b52d96aaf730c8b4b0e60d05932", "url": "https://github.com/returntocorp/semgrep/commit/a8933bec74722b52d96aaf730c8b4b0e60d05932", "message": "Where is the github token", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "0e9cbab2e51518f8f99c354413895bdd3f5a33dc", "url": "https://github.com/returntocorp/semgrep/commit/0e9cbab2e51518f8f99c354413895bdd3f5a33dc", "message": "rename to auth token to avoid prefix clash", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "dfebdf057b4eca3d2eab84b67860aa8624cc6e5b", "url": "https://github.com/returntocorp/semgrep/commit/dfebdf057b4eca3d2eab84b67860aa8624cc6e5b", "message": "Print environ", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "024201223010854f97b42a7386987305afaeb6e3", "url": "https://github.com/returntocorp/semgrep/commit/024201223010854f97b42a7386987305afaeb6e3", "message": "pass environ to sudo", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "79dc5599eb1bfacb1df5851421290495df5a2ba9", "url": "https://github.com/returntocorp/semgrep/commit/79dc5599eb1bfacb1df5851421290495df5a2ba9", "message": "Make semgrep-core executable", "committedDate": "2020-05-01T17:43:55Z", "type": "commit"}, {"oid": "79dc5599eb1bfacb1df5851421290495df5a2ba9", "url": "https://github.com/returntocorp/semgrep/commit/79dc5599eb1bfacb1df5851421290495df5a2ba9", "message": "Make semgrep-core executable", "committedDate": "2020-05-01T17:43:55Z", "type": "forcePushed"}, {"oid": "94fc0a6bca4c0152c3640ede6521af56f75f531b", "url": "https://github.com/returntocorp/semgrep/commit/94fc0a6bca4c0152c3640ede6521af56f75f531b", "message": "Backout changes to ubuntu-generic.sh", "committedDate": "2020-05-01T17:46:06Z", "type": "commit"}, {"oid": "9576cbec8561c71e336bc930da6bff4777853141", "url": "https://github.com/returntocorp/semgrep/commit/9576cbec8561c71e336bc930da6bff4777853141", "message": "Can we type ignore our way out of this?", "committedDate": "2020-05-01T17:49:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODY3NDA4OQ==", "url": "https://github.com/returntocorp/semgrep/pull/644#discussion_r418674089", "bodyText": "Wont this cause issues if a PR has a breaking change in both semgrep-core and semgrep?", "author": "brendongo", "createdAt": "2020-05-01T18:29:02Z", "path": ".github/workflows/tox-tests.yml", "diffHunk": "@@ -0,0 +1,31 @@\n+name: Semgrep Python Tests\n+\n+on:\n+  pull_request:\n+    branches: [master, develop]\n+  push:\n+    branches: [master, develop]\n+\n+jobs:\n+  build:\n+\n+    runs-on: ubuntu-latest\n+    strategy:\n+      matrix:\n+        python: [3.6, 3.7, 3.8]\n+    steps:\n+      - uses: actions/checkout@v2\n+      - name: Setup Python\n+        uses: actions/setup-python@v1\n+        with:\n+          python-version: ${{ matrix.python }}\n+      - name: Install semgrep-core from develop\n+        run: sudo -E ./install-scripts/latest-artifact-for-branch.py", "originalCommit": "9576cbec8561c71e336bc930da6bff4777853141", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODY3Nzc0MA==", "url": "https://github.com/returntocorp/semgrep/pull/644#discussion_r418677740", "bodyText": "yeah, but just land the core changes first \ud83e\udd37 . Or ignore the build failure. Seems like a reasonable trade off vs. waiting 20 minutes for a new build to test Python changes.", "author": "rcoh", "createdAt": "2020-05-01T18:37:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODY3NDA4OQ=="}], "type": "inlineReview"}, {"oid": "e4fff083f52792326d1eab197b08673abad1b339", "url": "https://github.com/returntocorp/semgrep/commit/e4fff083f52792326d1eab197b08673abad1b339", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error", "committedDate": "2020-05-01T20:30:11Z", "type": "forcePushed"}, {"oid": "9057d37c29c27c9213a4a7618e997d7ced157f3e", "url": "https://github.com/returntocorp/semgrep/commit/9057d37c29c27c9213a4a7618e997d7ced157f3e", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error", "committedDate": "2020-05-01T20:33:02Z", "type": "forcePushed"}, {"oid": "a76937d81be558c1c1f1ff5c7a3d0d0ac4fe9fc5", "url": "https://github.com/returntocorp/semgrep/commit/a76937d81be558c1c1f1ff5c7a3d0d0ac4fe9fc5", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error", "committedDate": "2020-05-01T20:34:46Z", "type": "forcePushed"}, {"oid": "f354930c9348dec33c7440ae2c2a8e5800b65a86", "url": "https://github.com/returntocorp/semgrep/commit/f354930c9348dec33c7440ae2c2a8e5800b65a86", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error", "committedDate": "2020-05-01T20:36:19Z", "type": "commit"}, {"oid": "f354930c9348dec33c7440ae2c2a8e5800b65a86", "url": "https://github.com/returntocorp/semgrep/commit/f354930c9348dec33c7440ae2c2a8e5800b65a86", "message": "Set branch (so builds for experimental will work, eg.) & give a nicer error", "committedDate": "2020-05-01T20:36:19Z", "type": "forcePushed"}, {"oid": "a2ae91d13d1c8344aeb8adb6af1d24efa4093365", "url": "https://github.com/returntocorp/semgrep/commit/a2ae91d13d1c8344aeb8adb6af1d24efa4093365", "message": "Add loging", "committedDate": "2020-05-01T20:39:19Z", "type": "commit"}, {"oid": "b2a8c61e0309a3badeab11bc2a46d259d46dc479", "url": "https://github.com/returntocorp/semgrep/commit/b2a8c61e0309a3badeab11bc2a46d259d46dc479", "message": "Try a hierarchy of branches", "committedDate": "2020-05-01T20:52:07Z", "type": "commit"}, {"oid": "c9ed62fa28118ea8cf607737813b46042dab577e", "url": "https://github.com/returntocorp/semgrep/commit/c9ed62fa28118ea8cf607737813b46042dab577e", "message": "Got the order of assets wrong", "committedDate": "2020-05-01T20:56:08Z", "type": "commit"}]}