{"pr_number": 855, "pr_title": "Benchmark CI Job", "pr_createdAt": "2020-05-28T18:10:08Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/855", "timeline": [{"oid": "efb8dc262b5c3bb00fae71262e2810ab8ccc5a92", "url": "https://github.com/returntocorp/semgrep/commit/efb8dc262b5c3bb00fae71262e2810ab8ccc5a92", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:10:45Z", "type": "forcePushed"}, {"oid": "7b73e3e5b1cd006943f93cfcca627acae729bea9", "url": "https://github.com/returntocorp/semgrep/commit/7b73e3e5b1cd006943f93cfcca627acae729bea9", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:15:09Z", "type": "forcePushed"}, {"oid": "0063533130469caf70e2fa043bb50d474d22e0d6", "url": "https://github.com/returntocorp/semgrep/commit/0063533130469caf70e2fa043bb50d474d22e0d6", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:17:19Z", "type": "forcePushed"}, {"oid": "df1d1b7b47e490ecb18174fa46e172c50660c6a8", "url": "https://github.com/returntocorp/semgrep/commit/df1d1b7b47e490ecb18174fa46e172c50660c6a8", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:18:31Z", "type": "forcePushed"}, {"oid": "cd44766df2282a1e680efafc176f0ebbce5c7980", "url": "https://github.com/returntocorp/semgrep/commit/cd44766df2282a1e680efafc176f0ebbce5c7980", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:30:50Z", "type": "forcePushed"}, {"oid": "57f99fba6e9c291cbe5aa11b9a7edd285e6933cb", "url": "https://github.com/returntocorp/semgrep/commit/57f99fba6e9c291cbe5aa11b9a7edd285e6933cb", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:31:51Z", "type": "forcePushed"}, {"oid": "dde51a126c4b5881492da72f25323a8eb042c40b", "url": "https://github.com/returntocorp/semgrep/commit/dde51a126c4b5881492da72f25323a8eb042c40b", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:44:42Z", "type": "forcePushed"}, {"oid": "ed89973ea4e28c0b5bd59890925f44be9f724c35", "url": "https://github.com/returntocorp/semgrep/commit/ed89973ea4e28c0b5bd59890925f44be9f724c35", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:56:22Z", "type": "forcePushed"}, {"oid": "6b801c64248ff722192a82705a89028d1dee28e9", "url": "https://github.com/returntocorp/semgrep/commit/6b801c64248ff722192a82705a89028d1dee28e9", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T18:59:34Z", "type": "forcePushed"}, {"oid": "f575c88c84a81894883511d5edb15d2e96cc6192", "url": "https://github.com/returntocorp/semgrep/commit/f575c88c84a81894883511d5edb15d2e96cc6192", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T19:22:07Z", "type": "forcePushed"}, {"oid": "79f57df1b41b4107398badcde868361826a2af06", "url": "https://github.com/returntocorp/semgrep/commit/79f57df1b41b4107398badcde868361826a2af06", "message": "Fix bugs in latest-artifact script", "committedDate": "2020-05-28T20:05:33Z", "type": "forcePushed"}, {"oid": "bc71e6deb6ee5c3d6ff92bb5a6b1a50a2002cf68", "url": "https://github.com/returntocorp/semgrep/commit/bc71e6deb6ee5c3d6ff92bb5a6b1a50a2002cf68", "message": "Fix bugs in latest-artifact script", "committedDate": "2020-05-28T20:14:09Z", "type": "forcePushed"}, {"oid": "f50fc7f80d69f970adc4438b26abd98ebdaaa515", "url": "https://github.com/returntocorp/semgrep/commit/f50fc7f80d69f970adc4438b26abd98ebdaaa515", "message": "Fix bugs in latest-artifact script", "committedDate": "2020-05-28T20:22:56Z", "type": "forcePushed"}, {"oid": "301fdc5d81dbbea0e3460ea42c5000d6aa624019", "url": "https://github.com/returntocorp/semgrep/commit/301fdc5d81dbbea0e3460ea42c5000d6aa624019", "message": "Fix bugs in latest-artifact script", "committedDate": "2020-05-28T20:27:07Z", "type": "forcePushed"}, {"oid": "e0dd86c2e848d3d1753acda95cdae0ef4cfc3e66", "url": "https://github.com/returntocorp/semgrep/commit/e0dd86c2e848d3d1753acda95cdae0ef4cfc3e66", "message": "Fix bugs in latest-artifact script", "committedDate": "2020-05-28T20:28:15Z", "type": "forcePushed"}, {"oid": "6ea813eb582a635c7a3fdd2a28f614d064237c2a", "url": "https://github.com/returntocorp/semgrep/commit/6ea813eb582a635c7a3fdd2a28f614d064237c2a", "message": "Fix bugs in latest-artifact script", "committedDate": "2020-05-28T20:35:43Z", "type": "forcePushed"}, {"oid": "bc74e1c954eb3107cd38337bc3c02b8557a1c54f", "url": "https://github.com/returntocorp/semgrep/commit/bc74e1c954eb3107cd38337bc3c02b8557a1c54f", "message": "Fix bugs in latest-artifact script", "committedDate": "2020-05-28T20:38:55Z", "type": "forcePushed"}, {"oid": "57baf8ab5b73eef6fe78f52a6a58b72e15c0301e", "url": "https://github.com/returntocorp/semgrep/commit/57baf8ab5b73eef6fe78f52a6a58b72e15c0301e", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T20:52:14Z", "type": "commit"}, {"oid": "57baf8ab5b73eef6fe78f52a6a58b72e15c0301e", "url": "https://github.com/returntocorp/semgrep/commit/57baf8ab5b73eef6fe78f52a6a58b72e15c0301e", "message": "Setup benchmarking flow", "committedDate": "2020-05-28T20:52:14Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjIxNzg1MQ==", "url": "https://github.com/returntocorp/semgrep/pull/855#discussion_r432217851", "bodyText": "REBUILD_SEMGREP_CORE might be more helpful", "author": "brendongo", "createdAt": "2020-05-29T02:05:58Z", "path": ".github/workflows/benchmark.yml", "diffHunk": "@@ -0,0 +1,56 @@\n+on:\n+  push:\n+    # Sequence of patterns matched against refs/tags\n+    branches:\n+      - \"develop\"\n+      - \"master\"\n+    tags:\n+      - \"v*\" # Push events to matching v*, i.e. v1.0, v20.15.10\n+\n+name: Incorporate Benchmark Data\n+jobs:\n+  benchmark-persist:\n+    runs-on: ubuntu-latest\n+    steps:\n+      - uses: actions/checkout@v2\n+      - name: Setup Python\n+        uses: actions/setup-python@v1\n+        with:\n+          python-version: 3.7\n+        # TODO: once the job is working, build semgrep-core from source\n+      - name: Install semgrep-core from develop\n+        run: sudo -E ./install-scripts/latest-artifact-for-branch.py\n+        env:\n+          SEMGREP_CORE: \"y\"", "originalCommit": "57baf8ab5b73eef6fe78f52a6a58b72e15c0301e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjIzNzg3Nw==", "url": "https://github.com/returntocorp/semgrep/pull/855#discussion_r432237877", "bodyText": "it doesn't rebuild semgrep core - this is just a janky way of telling it what asset to download.\nsemgrep-core from source coming later.", "author": "rcoh", "createdAt": "2020-05-29T03:35:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjIxNzg1MQ=="}], "type": "inlineReview"}]}