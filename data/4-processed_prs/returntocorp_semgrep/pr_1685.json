{"pr_number": 1685, "pr_title": "Add env variable for appending to user agent", "pr_createdAt": "2020-09-16T19:51:21Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/1685", "timeline": [{"oid": "3c38a0e6d64ed92b407073a3e08e2537cb49cd8d", "url": "https://github.com/returntocorp/semgrep/commit/3c38a0e6d64ed92b407073a3e08e2537cb49cd8d", "message": "Add env variable for appending to user agent", "committedDate": "2020-09-16T19:46:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcxODQzMA==", "url": "https://github.com/returntocorp/semgrep/pull/1685#discussion_r489718430", "bodyText": "Should this be None so that we don't get faulty data in non-Docker environments?", "author": "minusworld", "createdAt": "2020-09-16T19:55:42Z", "path": "Dockerfile", "diffHunk": "@@ -61,6 +61,7 @@ RUN adduser -D -u 1000 semgrep\n USER 1000\n ENV SEMGREP_IN_DOCKER=1\n ENV SEMGREP_VERSION_CACHE_PATH=/tmp/.cache/semgrep_version\n+ENV SEMGREP_USER_AGENT_APPEND=\"(Docker)\"", "originalCommit": "3c38a0e6d64ed92b407073a3e08e2537cb49cd8d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcyMTcyNQ==", "url": "https://github.com/returntocorp/semgrep/pull/1685#discussion_r489721725", "bodyText": "I'm not following. Can you elaborate? This only affects the Semgrep Docker image/container's environment, so there shouldn't be any faulty data elsewhere. In fact, it can even be overwritten at runtime with docker run -e SEMGREP_USER_AGENT_APPEND=....", "author": "mschwager", "createdAt": "2020-09-16T20:02:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcxODQzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcyMjU0Mw==", "url": "https://github.com/returntocorp/semgrep/pull/1685#discussion_r489722543", "bodyText": "Oh, I see -- this is in the Dockerfile \ud83e\udd26\u200d\u2642\ufe0f  I thought it was in the code itself. \ud83d\udc4d", "author": "minusworld", "createdAt": "2020-09-16T20:03:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTcxODQzMA=="}], "type": "inlineReview"}]}