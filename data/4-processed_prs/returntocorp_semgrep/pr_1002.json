{"pr_number": 1002, "pr_title": "core_runner: use semgrep-core ast cache", "pr_createdAt": "2020-06-13T02:03:07Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/1002", "timeline": [{"oid": "4665560708f9431a2bd869e9ae1702117b798aa1", "url": "https://github.com/returntocorp/semgrep/commit/4665560708f9431a2bd869e9ae1702117b798aa1", "message": "core_runner: use semgrep-core ast cache\n\nUse semgrep-core ast cache while running a set of rules. Automatically\nuses a fresh cache (and cleans it up after use) on every run of semgrep\nso there is no need to worry about cache invalidation etc.\n\nChange semgrep-core cache argument to take in a path to a directory\nto use as a cache. This makes it so that the caller can handle clearing\nthe cache instead of hard coding a directory that semgrep-core uses.", "committedDate": "2020-06-15T20:30:32Z", "type": "commit"}, {"oid": "4665560708f9431a2bd869e9ae1702117b798aa1", "url": "https://github.com/returntocorp/semgrep/commit/4665560708f9431a2bd869e9ae1702117b798aa1", "message": "core_runner: use semgrep-core ast cache\n\nUse semgrep-core ast cache while running a set of rules. Automatically\nuses a fresh cache (and cleans it up after use) on every run of semgrep\nso there is no need to worry about cache invalidation etc.\n\nChange semgrep-core cache argument to take in a path to a directory\nto use as a cache. This makes it so that the caller can handle clearing\nthe cache instead of hard coding a directory that semgrep-core uses.", "committedDate": "2020-06-15T20:30:32Z", "type": "forcePushed"}, {"oid": "a838f4f19382c6c851ffff41653b49552a6ec528", "url": "https://github.com/returntocorp/semgrep/commit/a838f4f19382c6c851ffff41653b49552a6ec528", "message": "fixup! core_runner: use semgrep-core ast cache", "committedDate": "2020-06-15T21:26:11Z", "type": "commit"}, {"oid": "012fef283f15bd640e52e22121ca008a75d0d804", "url": "https://github.com/returntocorp/semgrep/commit/012fef283f15bd640e52e22121ca008a75d0d804", "message": "fixup! core_runner: use semgrep-core ast cache", "committedDate": "2020-06-15T22:20:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU5NjM4MQ==", "url": "https://github.com/returntocorp/semgrep/pull/1002#discussion_r440596381", "bodyText": "this is quite long and may screw a bit semgrep-core --help layout", "author": "aryx", "createdAt": "2020-06-16T05:35:38Z", "path": "semgrep-core/bin/Main.ml", "diffHunk": "@@ -894,8 +892,8 @@ let options () =\n     ),\n     \" do not stop at first parsing error with -e/-f\";\n     (*e: [[Main_semgrep_core.options]] other cases *)\n-    \"-use_parsing_cache\", Arg.Set use_parsing_cache,\n-    \" save and use parsed ASTs in a cache\";\n+    \"-use_parsing_cache\", Arg.Set_string use_parsing_cache,\n+    \" <dir> save and use parsed ASTs in a cache at given directory. Caller responsiblity to clear cache\";", "originalCommit": "012fef283f15bd640e52e22121ca008a75d0d804", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}