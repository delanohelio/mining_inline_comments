{"pr_number": 809, "pr_title": "Add rules OWASP coverage chart. Move 'registry' higher up in the README.", "pr_createdAt": "2020-05-21T01:56:02Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/809", "timeline": [{"oid": "380e87a23536843435f745f50ca7893cb26fa853", "url": "https://github.com/returntocorp/semgrep/commit/380e87a23536843435f745f50ca7893cb26fa853", "message": "Add rules OWASP coverage chart. Move 'registry' higher up in the README.", "committedDate": "2020-05-21T01:55:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5NTQwOA==", "url": "https://github.com/returntocorp/semgrep/pull/809#discussion_r428695408", "bodyText": "I was thinking we'd move this up even higher. Now that we're starting to hook people on the idea of semgrep it'd be great to start strongly advocating for using the registry. I think AppSec-types will love this kind of coverage.\nMy original thoughts were to include the bar chart in the \"Overview\" right under the example patterns. We can then add something like \"For more information see  or the registry section below.\"\nThoughts? @ievans may have thoughts here too.", "author": "mschwager", "createdAt": "2020-05-21T14:42:32Z", "path": "README.md", "diffHunk": "@@ -91,6 +91,30 @@ handles a multitude of input configuration types:\n In the absence of this flag, a default configuration is loaded from `.semgrep.yml`\n or multiple files matching `.semgrep/**/*.yml`.\n \n+### Registry\n+\n+As mentioned above, you may also specify a `registry_name` as configuration.\n+[r2c](https://r2c.dev) provides a [registry](https://github.com/returntocorp/semgrep-rules)\n+of configuration files. These rules have been tuned on thousands of repositories\n+using our [analysis platform](https://app.r2c.dev).\n+\n+You can browse the registry at https://semgrep.live/r. To run a set of rules, use a rule ID or namespace.\n+\n+```bash\n+# Run a specific rule\n+semgrep --config=https://semgrep.live/c/r/java.spring.security.audit.cookie-missing-samesite\n+\n+# Run a set of rules\n+semgrep --config=https://semgrep.live/c/r/java.spring.security\n+```\n+\n+The registry features rules for many programming errors, including security issues and correctness bugs. Security rules are annotated with CWE and OWASP metadata when applicable. OWASP rule coverage per language is displayed below.\n+\n+<p align=\"center\">\n+    <img width=\"600\" src=\"https://web-assets.r2c.dev/semgrep-rules-owasp-coverage-20200520.png\" style=\"max-width:100%;\" />", "originalCommit": "380e87a23536843435f745f50ca7893cb26fa853", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3MzgxMQ==", "url": "https://github.com/returntocorp/semgrep/pull/809#discussion_r428773811", "bodyText": "I wouldn't put this chart here in the README -- seems much more useful in the enterprise deck, or as something automatically generated on semgrep.live.", "author": "ievans", "createdAt": "2020-05-21T16:39:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5NTQwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgwNTgxMg==", "url": "https://github.com/returntocorp/semgrep/pull/809#discussion_r428805812", "bodyText": "We can pretty much put this chart wherever we want. I added an endpoint to calculate the CWE and OWASP coverage to semgrep.live yesterday. Example: https://semgrep.live/api/registry/r2c.python.django.security.injection/stats\n(This chart isn't auto-generated yet, but you can see how it would be easy to do.)\nI agree that these charts should go on semgrep.live too; but we can also include them here if we think it's flashy enough.\nAn alternative is making the chart less obtrusive and making it more prominent in the semgrep-rules README. lmk your thoughts @mschwager @ievans", "author": "minusworld", "createdAt": "2020-05-21T17:35:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5NTQwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkzODgzMA==", "url": "https://github.com/returntocorp/semgrep/pull/809#discussion_r428938830", "bodyText": "I wouldn't put this chart here in the README -- seems much more useful in the enterprise deck, or as something automatically generated on semgrep.live.\n\nWhy not both? My thoughts here were that a prominent display of these stats would entice users to check out and use the registry rules. Which makes me wonder, are we currently gathering any stats on which registry rules are being used most? I know when I'm skimming a README it's easy enough to pass over text, but a big image with relevant information is harder to miss. The downside I see is that readers may think we only do OWASP Top 10-type stuff.\nOverall, I don't have too strong of feelings, but I agree that we should be including this data wherever is relevant - I think it's a great push for the registry.", "author": "mschwager", "createdAt": "2020-05-21T21:58:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5NTQwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc3MzIyMw==", "url": "https://github.com/returntocorp/semgrep/pull/809#discussion_r428773223", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You can browse the registry at https://semgrep.live/r. To run a set of rules, use a rule ID or namespace.\n          \n          \n            \n            You can browse the registry at [semgrep.live/r](https://semgrep.live/r). To run a set of rules, use a rule ID or namespace.", "author": "ievans", "createdAt": "2020-05-21T16:38:22Z", "path": "README.md", "diffHunk": "@@ -91,6 +91,30 @@ handles a multitude of input configuration types:\n In the absence of this flag, a default configuration is loaded from `.semgrep.yml`\n or multiple files matching `.semgrep/**/*.yml`.\n \n+### Registry\n+\n+As mentioned above, you may also specify a `registry_name` as configuration.\n+[r2c](https://r2c.dev) provides a [registry](https://github.com/returntocorp/semgrep-rules)\n+of configuration files. These rules have been tuned on thousands of repositories\n+using our [analysis platform](https://app.r2c.dev).\n+\n+You can browse the registry at https://semgrep.live/r. To run a set of rules, use a rule ID or namespace.", "originalCommit": "380e87a23536843435f745f50ca7893cb26fa853", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "84e6acc284c409348ecef12d72a037a289b4de0a", "url": "https://github.com/returntocorp/semgrep/commit/84e6acc284c409348ecef12d72a037a289b4de0a", "message": "Hide direct link to registry\n\nCo-authored-by: Isaac Evans <409041+ievans@users.noreply.github.com>", "committedDate": "2020-05-21T17:31:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkwNzQ3Nw==", "url": "https://github.com/returntocorp/semgrep/pull/809#discussion_r428907477", "bodyText": "Thoughts on leading with the semgrep.live/registry page instead of the repository?", "author": "dlukeomalley", "createdAt": "2020-05-21T20:51:31Z", "path": "README.md", "diffHunk": "@@ -91,6 +91,30 @@ handles a multitude of input configuration types:\n In the absence of this flag, a default configuration is loaded from `.semgrep.yml`\n or multiple files matching `.semgrep/**/*.yml`.\n \n+### Registry\n+\n+As mentioned above, you may also specify a `registry_name` as configuration.\n+[r2c](https://r2c.dev) provides a [registry](https://github.com/returntocorp/semgrep-rules)", "originalCommit": "84e6acc284c409348ecef12d72a037a289b4de0a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM3NzY5MA==", "url": "https://github.com/returntocorp/semgrep/pull/809#discussion_r429377690", "bodyText": "Oh, I thought I did this already actually. Must've been in a different README.", "author": "minusworld", "createdAt": "2020-05-22T17:46:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkwNzQ3Nw=="}], "type": "inlineReview"}, {"oid": "b5fc4db65ef586ee2595f4e46199f204ea31de70", "url": "https://github.com/returntocorp/semgrep/commit/b5fc4db65ef586ee2595f4e46199f204ea31de70", "message": "Use semgrep.live registry", "committedDate": "2020-05-22T17:47:19Z", "type": "commit"}]}