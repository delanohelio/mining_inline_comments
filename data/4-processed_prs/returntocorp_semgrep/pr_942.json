{"pr_number": 942, "pr_title": "Update integrations docs to include CI information", "pr_createdAt": "2020-06-08T16:41:28Z", "pr_url": "https://github.com/returntocorp/semgrep/pull/942", "timeline": [{"oid": "6a25c0d55315ff44fbbe9efa85a890a601c68dd9", "url": "https://github.com/returntocorp/semgrep/commit/6a25c0d55315ff44fbbe9efa85a890a601c68dd9", "message": "Update integrations docs to include CI information\n\nFix #935.", "committedDate": "2020-06-08T16:40:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MTI3NQ==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436961275", "bodyText": "Is there an easy way to always run the latest version of semgrep? Would that be better/preferred?", "author": "clintgibler", "createdAt": "2020-06-08T19:50:49Z", "path": "docs/integrations.md", "diffHunk": "@@ -1,21 +1,127 @@\n # Integrations\n \n-> Note that all integrations are currently under development and are not officially supported. Please contact semgrep@r2c.dev or [join our slack](https://join.slack.com/t/r2c-community/shared_invite/enQtNjU0NDYzMjAwODY4LWE3NTg1MGNhYTAwMzk5ZGRhMjQ2MzVhNGJiZjI1ZWQ0NjQ2YWI4ZGY3OGViMGJjNzA4ODQ3MjEzOWExNjZlNTA) for help getting started\n+This document describes integrating `semgrep` into other pieces of software.\n \n-## Github Action\n+Contents:\n \n-See our [semgrep](https://github.com/marketplace/actions/semgrep-action) action for easy use of `semgrep` in CI. We dogfood it [here](https://github.com/returntocorp/semgrep/tree/develop/.github/workflows/semgrep-action.yml)\n+* [Pre-Commit Hook](#pre-commit-hook)\n+* [Continuous Integration](#continuous-integration)\n+  * [AppVeyor](#appveyor)\n+  * [CircleCI](#circleci)\n+  * [TravisCI](#travisci)\n+  * [GitHub Actions](#github-actions)\n+  * [GitLab](#gitlab)\n \n ## Pre-Commit Hook\n \n-You can run `semgrep` as a pre-commit hook using [pre-commit](https://pre-commit.com)\n+Include `semgrep` as a pre-commit hook using [pre-commit](https://pre-commit.com).\n \n ```yaml\n repos:\n-  - repo: https://github.com/returntocorp/semgrep\n-    rev: '0.5.0'\n-    hooks:\n-      - id: semgrep\n-        args: ['--precommit', '--error'] # exit 1\n+    - repo: https://github.com/returntocorp/semgrep\n+      rev: '0.9.0'", "originalCommit": "6a25c0d55315ff44fbbe9efa85a890a601c68dd9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk3MTY1Ng==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436971656", "bodyText": "I don't think there's a way to specify the latest version. I believe we can specify master, but that's probably too bleeding edge and may be buggy before release/QA. pre-commit has autoupdate functionality, which is close to what you're describing, but not exactly: https://pre-commit.com/#pre-commit-autoupdate", "author": "mschwager", "createdAt": "2020-06-08T20:11:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MTI3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MTgxNg==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436961816", "bodyText": "\"To choose another rule pack, see.\" - add comma?", "author": "clintgibler", "createdAt": "2020-06-08T19:51:52Z", "path": "docs/integrations.md", "diffHunk": "@@ -1,21 +1,127 @@\n # Integrations\n \n-> Note that all integrations are currently under development and are not officially supported. Please contact semgrep@r2c.dev or [join our slack](https://join.slack.com/t/r2c-community/shared_invite/enQtNjU0NDYzMjAwODY4LWE3NTg1MGNhYTAwMzk5ZGRhMjQ2MzVhNGJiZjI1ZWQ0NjQ2YWI4ZGY3OGViMGJjNzA4ODQ3MjEzOWExNjZlNTA) for help getting started\n+This document describes integrating `semgrep` into other pieces of software.\n \n-## Github Action\n+Contents:\n \n-See our [semgrep](https://github.com/marketplace/actions/semgrep-action) action for easy use of `semgrep` in CI. We dogfood it [here](https://github.com/returntocorp/semgrep/tree/develop/.github/workflows/semgrep-action.yml)\n+* [Pre-Commit Hook](#pre-commit-hook)\n+* [Continuous Integration](#continuous-integration)\n+  * [AppVeyor](#appveyor)\n+  * [CircleCI](#circleci)\n+  * [TravisCI](#travisci)\n+  * [GitHub Actions](#github-actions)\n+  * [GitLab](#gitlab)\n \n ## Pre-Commit Hook\n \n-You can run `semgrep` as a pre-commit hook using [pre-commit](https://pre-commit.com)\n+Include `semgrep` as a pre-commit hook using [pre-commit](https://pre-commit.com).\n \n ```yaml\n repos:\n-  - repo: https://github.com/returntocorp/semgrep\n-    rev: '0.5.0'\n-    hooks:\n-      - id: semgrep\n-        args: ['--precommit', '--error'] # exit 1\n+    - repo: https://github.com/returntocorp/semgrep\n+      rev: '0.9.0'\n+      hooks:\n+          - id: semgrep\n+            args: ['--config', 'https://semgrep.live/p/r2c', '--precommit', '--error']\n ```\n \n+## Continuous Integration\n+\n+This section describes integrating `semgrep` into your continuous integration\n+(CI) system. This allows you to continuously search your codebase for bugs,\n+anti-patterns, and security issues.\n+\n+### AppVeyor\n+\n+Include `semgrep` in your `.appveyor.yml` configuration file:\n+\n+```yaml\n+build: off\n+environment:\n+    matrix:\n+        - PYTHON: \"C:\\\\Python36\"\n+        - PYTHON: \"C:\\\\Python37\"\n+        - ...\n+install:\n+    - python -m pip install semgrep\n+test_script:\n+    - semgrep --config https://semgrep.live/p/r2c /path/to/code\n+```\n+\n+This will default to using the [`r2c` rule pack](https://semgrep.live/p/r2c).\n+To choose another rule pack see https://semgrep.live/packs.", "originalCommit": "6a25c0d55315ff44fbbe9efa85a890a601c68dd9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk3MjI2NQ==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436972265", "bodyText": "Sounds good to me", "author": "mschwager", "createdAt": "2020-06-08T20:12:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MTgxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk3MjI4Mw==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436972283", "bodyText": "Sounds good!", "author": "mschwager", "createdAt": "2020-06-08T20:12:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MTgxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MzcwNw==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436963707", "bodyText": "Thoughts on \"search\" vs \"monitor\" or another term? I don't feel strongly about, just curious about what people think.", "author": "clintgibler", "createdAt": "2020-06-08T19:55:28Z", "path": "docs/integrations.md", "diffHunk": "@@ -1,21 +1,127 @@\n # Integrations\n \n-> Note that all integrations are currently under development and are not officially supported. Please contact semgrep@r2c.dev or [join our slack](https://join.slack.com/t/r2c-community/shared_invite/enQtNjU0NDYzMjAwODY4LWE3NTg1MGNhYTAwMzk5ZGRhMjQ2MzVhNGJiZjI1ZWQ0NjQ2YWI4ZGY3OGViMGJjNzA4ODQ3MjEzOWExNjZlNTA) for help getting started\n+This document describes integrating `semgrep` into other pieces of software.\n \n-## Github Action\n+Contents:\n \n-See our [semgrep](https://github.com/marketplace/actions/semgrep-action) action for easy use of `semgrep` in CI. We dogfood it [here](https://github.com/returntocorp/semgrep/tree/develop/.github/workflows/semgrep-action.yml)\n+* [Pre-Commit Hook](#pre-commit-hook)\n+* [Continuous Integration](#continuous-integration)\n+  * [AppVeyor](#appveyor)\n+  * [CircleCI](#circleci)\n+  * [TravisCI](#travisci)\n+  * [GitHub Actions](#github-actions)\n+  * [GitLab](#gitlab)\n \n ## Pre-Commit Hook\n \n-You can run `semgrep` as a pre-commit hook using [pre-commit](https://pre-commit.com)\n+Include `semgrep` as a pre-commit hook using [pre-commit](https://pre-commit.com).\n \n ```yaml\n repos:\n-  - repo: https://github.com/returntocorp/semgrep\n-    rev: '0.5.0'\n-    hooks:\n-      - id: semgrep\n-        args: ['--precommit', '--error'] # exit 1\n+    - repo: https://github.com/returntocorp/semgrep\n+      rev: '0.9.0'\n+      hooks:\n+          - id: semgrep\n+            args: ['--config', 'https://semgrep.live/p/r2c', '--precommit', '--error']\n ```\n \n+## Continuous Integration\n+\n+This section describes integrating `semgrep` into your continuous integration\n+(CI) system. This allows you to continuously search your codebase for bugs,", "originalCommit": "6a25c0d55315ff44fbbe9efa85a890a601c68dd9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk3MTc5Ng==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436971796", "bodyText": "Monitor sounds good to me!", "author": "mschwager", "createdAt": "2020-06-08T20:11:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MzcwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2NjMzNg==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436966336", "bodyText": "Some high level meta comments:\nWould it be useful to include 1-2 links to supporting docs for each CI platform? Makes it easier if the user wants to slightly adjust something, if something breaks, etc.\nA couple of places there's /path/to/code - do CI platforms tend to mount code in the same location? If not, what's the default place for each platform?\n\nCan we make this placeholder more explicit so there's no ambiguity about how to change it to get up and running? (e.g. /root/code/<repo_name>/)", "author": "clintgibler", "createdAt": "2020-06-08T20:00:33Z", "path": "docs/integrations.md", "diffHunk": "@@ -1,21 +1,127 @@\n # Integrations\n \n-> Note that all integrations are currently under development and are not officially supported. Please contact semgrep@r2c.dev or [join our slack](https://join.slack.com/t/r2c-community/shared_invite/enQtNjU0NDYzMjAwODY4LWE3NTg1MGNhYTAwMzk5ZGRhMjQ2MzVhNGJiZjI1ZWQ0NjQ2YWI4ZGY3OGViMGJjNzA4ODQ3MjEzOWExNjZlNTA) for help getting started\n+This document describes integrating `semgrep` into other pieces of software.\n \n-## Github Action\n+Contents:", "originalCommit": "6a25c0d55315ff44fbbe9efa85a890a601c68dd9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2ODY3MA==", "url": "https://github.com/returntocorp/semgrep/pull/942#discussion_r436968670", "bodyText": "Would it be useful to include 1-2 links to supporting docs for each CI platform? Makes it easier if the user wants to slightly adjust something, if something breaks, etc.\n\nYup, definitely, let's do it\n\nA couple of places there's /path/to/code - do CI platforms tend to mount code in the same location? If not, what's the default place for each platform?\n\nI had a similar thought on this. I think they tend to mount the code then change the working directory to it before starting your commands, so we could probably just use . (or nothing at all since that's what semgrep defaults to).", "author": "mschwager", "createdAt": "2020-06-08T20:05:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2NjMzNg=="}], "type": "inlineReview"}]}