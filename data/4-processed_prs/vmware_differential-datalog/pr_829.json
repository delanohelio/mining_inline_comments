{"pr_number": 829, "pr_title": "initial syntax highlighting for ddlog vscode", "pr_createdAt": "2020-11-27T05:24:05Z", "pr_url": "https://github.com/vmware/differential-datalog/pull/829", "timeline": [{"oid": "7590d63ddb57eb64196d9a0e43447262baa7cd86", "url": "https://github.com/vmware/differential-datalog/commit/7590d63ddb57eb64196d9a0e43447262baa7cd86", "message": "initial syntax highlighting for ddlog vscode", "committedDate": "2020-11-27T05:19:48Z", "type": "commit"}, {"oid": "f50dcee5dce94a4df65072e7d602025d90977b73", "url": "https://github.com/vmware/differential-datalog/commit/f50dcee5dce94a4df65072e7d602025d90977b73", "message": ".gitignore ddlog vsix added", "committedDate": "2020-11-27T09:54:57Z", "type": "commit"}, {"oid": "d68f341a28fdc380abb832091f154419290af6b8", "url": "https://github.com/vmware/differential-datalog/commit/d68f341a28fdc380abb832091f154419290af6b8", "message": "color changed for variables", "committedDate": "2020-11-30T08:40:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1NjA1NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532856054", "bodyText": "This should probably be 2020.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:46:57Z", "path": "tools/vscode/ddlog-language/LICENSE", "diffHunk": "@@ -0,0 +1,22 @@\n+MIT License\n+\n+Copyright (c) 2018 VMware, Inc.", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1NjU0Mw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532856543", "bodyText": "I would add a brief description: this directory holds the files required for syntax highlighting ddlog programs in Visual Studio Code.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:47:38Z", "path": "tools/vscode/ddlog-language/README.md", "diffHunk": "@@ -0,0 +1,15 @@\n+# DDLog ", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1Njk5Mw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532856993", "bodyText": "is this necessary?", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:48:02Z", "path": "tools/vscode/ddlog-language/gulpfile.js", "diffHunk": "@@ -0,0 +1,30 @@\n+const gulp  = require('gulp');\n+const merge = require('gulp-merge-json');\n+const json5 = require('gulp-json5-to-json');\n+\n+gulp.task('default', (done) => {done() });\n+\n+gulp.task('compile-json', (done ) => {\n+  gulp.src('./src/**/*.json5')\n+    .pipe(merge({\n+      fileName: \"ddlog.tmLanguage.json\",\n+      json5: true,\n+    }))\n+    .pipe(json5({\n+      beautify: true,\n+    }))\n+    .pipe(gulp.dest('./syntaxes'));\n+done()\n+});\n+\n+gulp.task('watch', (done) => {\n+  gulp.watch('./src/**/*.json5', [ 'compile-json' ]);\n+  done()", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY0OTM0Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534649347", "bodyText": "the file defines various gulp tasks like compile-json. The command gulp compile-json can be used to generate textmate grammer file", "author": "desharchana19", "createdAt": "2020-12-03T03:56:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1Njk5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1NzMzMw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532857333", "bodyText": "no empty lines", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:48:20Z", "path": "tools/vscode/ddlog-language/language-configuration.json", "diffHunk": "@@ -0,0 +1,35 @@\n+{\n+    \"comments\": {\n+        \"lineComment\": \"//\",\n+    },\n+    \"brackets\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"]\n+    ],\n+    \"autoClosingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+\n+    ],\n+    \"surroundingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY1Nzk1Mw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534657953", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:23:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg1NzMzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MTk5MA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532861990", "bodyText": "please fix the indentation here. make sure you don't use tabs.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:52:19Z", "path": "tools/vscode/ddlog-language/src/good/base.json5", "diffHunk": "@@ -0,0 +1,21 @@\n+{\n+  \"$schema\":   \"https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json\",\n+\t\"name\":      \"ddlog\",\n+\t\"scopeName\": \"source.ddlog\",\n+\t\"patterns\": [\n+    { \"include\": \"#comment\" },\n+    { \"include\": \"#constant\" },\n+    { \"include\": \"#entity\" },\n+    { \"include\": \"#meta\" },\n+    { \"include\": \"#punctuation\" },\n+    { \"include\": \"#string\" },\n+    { \"include\": \"#support\" },\n+    { \"include\": \"#type\" },\n+    { \"include\": \"#variable\" },\n+    { \"include\": \"#operator\" },\n+    { \"include\": \"#keyword\" },\n+    { \"include\": \"#storage\" },\n+   ],\n+\t\"repository\": {\n+  }", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY1Nzg4NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534657884", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:23:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MTk5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY1ODY2Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534658667", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:25:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MTk5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MzM5Mw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532863393", "bodyText": "This case seems to be covered by the previous one.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:53:29Z", "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,47 @@\n+{\n+  \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b\"\n+                },\n+                {\n+                    \"comment\": \"Floating point literal (with exponent)\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY1Nzc4Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534657787", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:23:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MzM5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MzY0Mg==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532863642", "bodyText": "This seems to cover both with and without exponent.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:53:42Z", "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,47 @@\n+{\n+  \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY1OTI1MQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534659251", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:27:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2MzY0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NDk1Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532864957", "bodyText": "The width of the literal should be part of the literal - similar with the floating point. So you need an (\\\\d+')? as part of the grammar. This applies to all cases below.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:54:56Z", "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,47 @@\n+{\n+  \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b\"\n+                },\n+                {\n+                    \"comment\": \"Floating point literal (with exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*[eE][+-][0-9_]+\\\\b\"\n+                }, \n+                {\n+                    \"comment\": \"Floating point literal (exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?([0-9][0-9_]*\\\\.)?[0-9][0-9_]*[eE][+-][0-9_]+\\\\b\"\n+                },                                                                        \n+                {\n+                    \"comment\": \"Integer literal (decimal)\",\n+                    \"name\": \"constant.numeric.integer.decimal.ddlog\",\n+                    \"match\": \"\\\\b([\\\\d]+|['][s]?[d]\\\\s*[0-9_]+)\\\\b\"", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NTI1OA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532865258", "bodyText": "Is this really necessary? Doesn't \\\\b take care of spaces too?", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:55:27Z", "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,40 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|control|skip|continue|break)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\s(else|if|in|for|return|control|skip|continue|break)\\\\s\"", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY1OTQ5NQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534659495", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:28:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NTI1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NjM3NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532866374", "bodyText": "rule is not a keyword.\nSome of these keywords should probably be in the group control.ddlog - e.g., function and match.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:57:20Z", "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,40 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|control|skip|continue|break)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\s(else|if|in|for|return|control|skip|continue|break)\\\\s\"\n+                },\n+                {\n+                    \"name\": \"keyword.graph.ddlog\",\n+                    \"match\": \"\\\\b(input|output|relation|function|match|rule)\\\\b\"", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY1OTg4Mg==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534659882", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:29:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NjM3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NjU2OA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532866568", "bodyText": "as does not belong here, it is really a cast operator.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T19:57:42Z", "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,40 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|control|skip|continue|break)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\s(else|if|in|for|return|control|skip|continue|break)\\\\s\"\n+                },\n+                {\n+                    \"name\": \"keyword.graph.ddlog\",\n+                    \"match\": \"\\\\b(input|output|relation|function|match|rule)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.module.ddlog\",\n+                    \"match\": \"\\\\b(import|extern|as)\\\\b\"", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcyODA2Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r540728067", "bodyText": "import statement can have as clause", "author": "desharchana19", "createdAt": "2020-12-11T06:49:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NjU2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2ODIwNw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532868207", "bodyText": "no empty lines", "author": "mbudiu-vmw", "createdAt": "2020-11-30T20:00:30Z", "path": "tools/vscode/ddlog-language/src/good/punctuation.json5", "diffHunk": "@@ -0,0 +1,13 @@\n+{\n+  \"repository\": {\n+        \"punctuation\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"punctuation.other.comma.ddlog\",\n+                    \"match\": \",\"\n+                }\n+\t\t", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY2MDE1Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534660157", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:30:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2ODIwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY2MTYyMw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534661623", "bodyText": "There is no need to reply to every comment.", "author": "mbudiu-vmw", "createdAt": "2020-12-03T04:35:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2ODIwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2ODQ0NQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532868445", "bodyText": "I would imagine that the dot belongs here too, and perhaps :-.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T20:00:55Z", "path": "tools/vscode/ddlog-language/src/good/punctuation.json5", "diffHunk": "@@ -0,0 +1,13 @@\n+{\n+  \"repository\": {\n+        \"punctuation\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"punctuation.other.comma.ddlog\",\n+                    \"match\": \",\"", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2OTU2NQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532869565", "bodyText": "We actually do not have character constants in ddlog. I suspect these should be deleted.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T20:02:54Z", "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,76 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5OTY3OA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532899678", "bodyText": "I don't know what this is.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T20:59:23Z", "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,76 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                },\n+                {\n+                    \"name\": \"constant.character.ddlog\",\n+                    \"match\": \"b?'([^'\\\\\\\\]|\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.))'\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwNTM0OQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532905349", "bodyText": "I don't think this rule is correct. An interpolated string should first of all be inside a string. Second, everything starting from the ${ sign is actually highlighted as an expression. So the regex for character below is not the correct one.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:10:21Z", "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,76 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                },\n+                {\n+                    \"name\": \"constant.character.ddlog\",\n+                    \"match\": \"b?'([^'\\\\\\\\]|\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.))'\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",\n+                            \"match\": \"(\\\\{)([a-zA-Z0-9_?:$.*<>]+)?(\\\\})\"\n+                        }\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\(x[0-9A-Fa-f]{2}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)\"\n+                        },\n+                        {\n+                            \"name\": \"constant.other.placeholder.ddlog\",\n+                            \"match\": \"(\\\\{)([a-zA-Z0-9_?:$.*<>]+)?(\\\\})\"\n+                        }\n+                    ]                                       \n+                },                \n+                {\n+                    \"name\": \"string.quoted.interpolated.ddlog\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwNjcxOA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532906718", "bodyText": "So I think that the interpolated string should actually be one of the patterns in string.quoted.double.raw.ddlog", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:12:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwNTM0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY2Mzg3Mg==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534663872", "bodyText": "Modified code", "author": "desharchana19", "createdAt": "2020-12-03T04:42:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwNTM0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwOTc1MA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532909750", "bodyText": "this pattern does not have three groups, so I am not sure what this \"3\" refers to.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:18:54Z", "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY2MDUzMg==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534660532", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:31:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkwOTc1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMTI3NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532911274", "bodyText": "this pattern has no groups at all, so I don't know what 1 here refers to.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:20:58Z", "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"[\\\\{\\\\=]\",\n+                    \"endCaptures\": {\n+                        \"0\": {", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA2MjI4OA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r535062288", "bodyText": "1 refers to \"function\" pattern in begin", "author": "desharchana19", "createdAt": "2020-12-03T10:22:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMTI3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjA4Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532912087", "bodyText": "I would actually say that this is part of the function beginning. There are two grammars for function, but we will deprecate the one with =, so let's just focus on the grammar with function f(params) { }.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:22:34Z", "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"[\\\\{\\\\=]\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDY2MDcyMQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534660721", "bodyText": "Modified code\n0b469a5", "author": "desharchana19", "createdAt": "2020-12-03T04:32:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjA4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjYxOA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532912618", "bodyText": "if this is meant to indicate that entity can appear in a declaration, this is not actually true.\nIf I read this correctly, you are now matching the parameters only. So this should be a parameter list only.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:23:44Z", "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,132 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\":          \n+            [\n+                {\n+                    \"name\": \"meta.function-definition.ddlog\",\n+                    \"begin\": \"\\\\b(function)\\\\s+([a-z_][a-zA-Z0-9_]*)\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.graph.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"entity.name.function.ddlog\"\n+                        },\n+                        \"3\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"[\\\\{\\\\=]\",\n+                    \"endCaptures\": {\n+                        \"0\": {\n+                            \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                        },\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.assignment.ddlog\"\n+                        }                        \n+                    },\n+                    \"patterns\":\n+                    [\n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjYwNTg5Ng==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r536605896", "bodyText": "entity.name.type-variable.ddlog is needed for declaration of arguments like 'A.\nfunction f(arg1: 'A, arg2: type2<'A,'B>): 'A {\nvar x: 'A = arg1;\nx\n}", "author": "desharchana19", "createdAt": "2020-12-05T09:33:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjYxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjY4NzQ2NQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r536687465", "bodyText": "modified code to fix this", "author": "desharchana19", "createdAt": "2020-12-05T11:12:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjYxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE5MDcxNQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548190715", "bodyText": "This looks incorrect; inside of an attribute you can only have a series of key=value pairs. So the grammar should reflect this. Look at the Rust grammar for attribute here: https://github.com/rust-lang/vscode-rust/blob/c957ad5ff0eee266e9b2506ad3367fcef1f17cab/rust-analyzer/editors/code/rust.tmGrammar.json#L76", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:02:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkxMjYxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyNzA2Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532927067", "bodyText": "I think that the type parameters should be separated using a \"begin\"/\"end\" pair. See for example the Rust types from https://github.com/dustypomerleau/rust-syntax/blob/master/syntaxes/rust.tmLanguage.json in the section \"types\".", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:51:50Z", "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,237 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDk4MzMwNQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534983305", "bodyText": "Type parameters are separated using begin\"/\"end pair. The pattern is \"entity.name.type.param.ddlog\".\nThis pattern is for type name", "author": "desharchana19", "createdAt": "2020-12-03T09:11:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyNzA2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyNzk3MA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532927970", "bodyText": "why is this under type?", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:53:40Z", "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,237 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+                },\n+                {\n+                    \"name\": \"entity.name.type.param.ddlog\",\n+                    \"begin\": \"<(?![=<])\",\n+                    \"end\": \"(?<![-])>\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.param.ddlog\",\n+                        \"begin\": \"<(?![=<])\",\n+                        \"end\": \"(?<![-])>\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.relation-type.ddlog\",\n+                    \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                    \"end\": \"(\\\\])\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.relation-type.ddlog\",\n+                        \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                        \"end\": \"(\\\\])\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.function-param.ddlog\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyODMyNA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532928324", "bodyText": "is this the same as above?", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:54:21Z", "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,237 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+                },\n+                {\n+                    \"name\": \"entity.name.type.param.ddlog\",\n+                    \"begin\": \"<(?![=<])\",\n+                    \"end\": \"(?<![-])>\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.param.ddlog\",\n+                        \"begin\": \"<(?![=<])\",\n+                        \"end\": \"(?<![-])>\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.relation-type.ddlog\",\n+                    \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                    \"end\": \"(\\\\])\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.relation-type.ddlog\",\n+                        \"begin\": \"(?<=([A-Z0-9_][a-zA-Z0-9_]*))(\\\\[)\",\n+                        \"end\": \"(\\\\])\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"match\": \"\\\\b([A-Za-z][_A-Za-z0-9]+)\\\\b(?=<[_a-zA-Z']+>)\",\n+                        \"name\": \"entity.name.type.ddlog\"\n+                    },                      \n+                    {\n+                        \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                        \"name\": \"entity.name.type-variable.ddlog\"\n+                    },\n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"punctuation.other.comma.ddlog\",\n+                        \"match\": \",\"\n+                    },\n+                    {\n+                        \"name\": \"storage.modifier.mutable.ddlog\",\n+                        \"match\": \"\\\\b(mut)\\\\b\"\n+                    },                \n+                    {\n+                        \"name\": \"storage.type.function.ddlog\",\n+                        \"match\": \"\\\\b(function)\\\\b\"\n+                    },                    \n+                    {\n+                        \"name\": \"storage.type.ddlog\",\n+                        \"match\": \"\\\\b(bigint|bool|string|bit|signed|double|float)\\\\b\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.function-param.ddlog\",\n+                    \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]+))(\\\\()\",\n+                    \"end\": \"(\\\\))\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                    {\n+                        \"name\": \"entity.name.type.function-param.ddlog\",\n+                        \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]+))(\\\\()\",\n+                        \"end\": \"(\\\\))\",\n+                        \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                        \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}}\n+                    },\n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:] )([a-z_][a-zA-Z0-9_]+)\"\n+                    },\n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:] )([a-z_]+)\"\n+                    }, \n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:])([a-z_][a-zA-Z0-9_]+)\"\n+                    },\n+                    {\n+                        \"name\": \"variable.parameter.ddlog\",\n+                        \"match\": \"(?<![:])([a-z_]+)\"\n+                    },                                       \n+                    {\n+                        \"include\": \"#comment\"\n+                    },\n+                    {\n+                        \"include\": \"#constant\"\n+                    },\n+                    {\n+                        \"include\": \"#entity\"\n+                    },\n+                    {\n+                        \"include\": \"#meta\"\n+                    },\n+                    {\n+                        \"include\": \"#punctuation\"\n+                    },\n+                    {\n+                        \"include\": \"#string\"\n+                    },\n+                    {\n+                        \"include\": \"#support\"\n+                    },\n+                    {\n+                        \"include\": \"#type\"\n+                    },\n+                    {\n+                        \"include\": \"#variable\"\n+                    },\n+                    {\n+                        \"include\": \"#operator\"\n+                    },\n+                    {\n+                        \"include\": \"#keyword\"\n+                    },\n+                    {\n+                        \"include\": \"#storage\"\n+                    }\n+                    ]\n+                  },\n+                  {\n+                    \"name\": \"entity.name.type.function-param.ddlog\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyOTEwOQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532929109", "bodyText": "This seems to be matched by other regular expressions as well. Why is it needed?", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:55:53Z", "path": "tools/vscode/ddlog-language/src/good/variable.json5", "diffHunk": "@@ -0,0 +1,45 @@\n+{\n+  \"repository\": {\n+        \"variable\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"variable.parameter.ddlog\",\n+                    \"match\": \"([a-z_][a-zA-Z0-9_]+)(?=[:] )\"\n+                },\n+                {\n+                    \"name\": \"variable.parameter.ddlog\",\n+                    \"match\": \"([a-z_]+)(?=[:] )\"\n+                },                     \n+                {\n+                    \"name\": \"variable.local.ddlog\",\n+                    \"match\": \"\\\\b(?<=var)(\\\\s)([a-z_][a-zA-Z0-9_]*)\"\n+                },  \n+                {\n+                    \"name\": \"variable.local.ddlog\",\n+                    \"match\": \"\\\\b(?<=var)(\\\\S)([a-z_][a-zA-Z0-9_]*)\"\n+                },\n+                {\n+                    \"name\": \"variable.local.ddlog\",\n+                    \"match\": \"\\\\b([a-z_][a-zA-Z0-9_]*)(\\\\s)(?=in)\"\n+                }, \n+                {\n+                    \"name\": \"variable.language.ddlog\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDk5OTU4NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r534999584", "bodyText": "These are variations of variable - parameter variable, local variable", "author": "desharchana19", "createdAt": "2020-12-03T09:28:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyOTEwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyOTU3Ng==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532929576", "bodyText": "aren't functions already in meta?", "author": "mbudiu-vmw", "createdAt": "2020-11-30T21:56:47Z", "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA3MTA1Mg==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r535071052", "bodyText": "This pattern identifies function name", "author": "desharchana19", "createdAt": "2020-12-03T10:30:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjkyOTU3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MDA5MA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532940090", "bodyText": "why are all these named \"entity.name.function.ddlog\"?", "author": "mbudiu-vmw", "createdAt": "2020-11-30T22:18:16Z", "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTA3NDg2Mw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r535074863", "bodyText": "These patterns identify function name", "author": "desharchana19", "createdAt": "2020-12-03T10:33:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MDA5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MTM1MQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532941351", "bodyText": "I think that the apostrophe should be part of the type variable.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T22:20:52Z", "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MTk4Ng==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532941986", "bodyText": "| exists both as a type constructor and as a binary expression. I hope this is used within the right context, but I had the impression that the matching of | as a constructor alternative does not work very well.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T22:22:16Z", "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type-variable.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\=))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\|))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0MjUwOA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532942508", "bodyText": "after = you have a type_spec in the ddlog grammar, which is not just an identifier as in your description here. Also,\nthere are no optional spaces in your regex.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T22:23:32Z", "path": "tools/vscode/ddlog-language/src/syntax/entity.json5", "diffHunk": "@@ -0,0 +1,84 @@\n+{\n+  \"repository\": {\n+        \"entity\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_][a-zA-Z0-9_]+)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(\\\\b)(?<=relation)(\\\\s)([A-Z0-9_]*)\",\n+                    \"name\": \"entity.name.relation.ddlog\"\n+                },                             \n+                {\n+                    \"match\": \"\\\\b(?<=function)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(\\\\b)([a-z_]+)(?=[(])\",\n+                    \"name\": \"entity.name.function.ddlog\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.group.parameters.ddlog\"\n+                        }\n+                    }\n+                },\n+                {\n+                    \"match\": \"(?<=')([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type-variable.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\=))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },\n+                {\n+                    \"match\": \"(?<=(\\\\|))(\\\\s*)([A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },                                 \n+                {\n+                    \"match\": \"(\\\\b)(?<=import)(\\\\b)([a-z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.import_decl.ddlog\"\n+                },\n+                {\n+                    \"match\": \"\\\\b(?<=typedef)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+\n+                }, \n+                {\n+                    \"match\": \"\\\\b(?<=type)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type.ddlog\"\n+\n+                },\n+                {\n+                    \"begin\": \"\\\\b(typedef)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)(=)([A-Z][a-zA-Z0-9_]+)\",", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0NTE1NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532945154", "bodyText": "is this file generated by some tools? If so it should not be in the repository but in .gitignore.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T22:29:15Z", "path": "tools/vscode/ddlog-language/syntaxes/ddlog.tmLanguage.json", "diffHunk": "@@ -0,0 +1,1080 @@\n+{", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0NTU0NQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532945545", "bodyText": "This should be *.vsix", "author": "mbudiu-vmw", "createdAt": "2020-11-30T22:29:56Z", "path": "tools/vscode/ddlog-theme/.gitignore", "diffHunk": "@@ -0,0 +1,2 @@\n+ddlogtheme-0.0.1.vsix", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk0NTc5Mw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r532945793", "bodyText": "We do not really maintain change logs anymore, these are maintained by git automatically, so you can probably delete this file.", "author": "mbudiu-vmw", "createdAt": "2020-11-30T22:30:24Z", "path": "tools/vscode/ddlog-theme/CHANGELOG.md", "diffHunk": "@@ -0,0 +1,4 @@\n+# Change Log", "originalCommit": "d68f341a28fdc380abb832091f154419290af6b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0b469a5a8aaf77664435f92148000a500ab7e05f", "url": "https://github.com/vmware/differential-datalog/commit/0b469a5a8aaf77664435f92148000a500ab7e05f", "message": "Fixes for review comments", "committedDate": "2020-12-01T12:47:18Z", "type": "commit"}, {"oid": "c19990055d75eccc8650a944d6fac17366d99466", "url": "https://github.com/vmware/differential-datalog/commit/c19990055d75eccc8650a944d6fac17366d99466", "message": "removed character constant regex. Modified escape character regex", "committedDate": "2020-12-02T02:15:10Z", "type": "commit"}, {"oid": "8101c2d78672e433bf6ca3b77b704d393a21b403", "url": "https://github.com/vmware/differential-datalog/commit/8101c2d78672e433bf6ca3b77b704d393a21b403", "message": "interpolated string pattern modified", "committedDate": "2020-12-03T02:00:28Z", "type": "commit"}, {"oid": "1ca1523e9366e4e01b5c6cef2746af2119e54d0b", "url": "https://github.com/vmware/differential-datalog/commit/1ca1523e9366e4e01b5c6cef2746af2119e54d0b", "message": "Generated files added to gitignore", "committedDate": "2020-12-03T04:18:40Z", "type": "commit"}, {"oid": "5a23a505147cf5405fbf08294b1ed66e35e67d3b", "url": "https://github.com/vmware/differential-datalog/commit/5a23a505147cf5405fbf08294b1ed66e35e67d3b", "message": "Delete CHANGELOG.md\n\nBased on review comment - Git maintains change log automatically", "committedDate": "2020-12-03T05:51:15Z", "type": "commit"}, {"oid": "13274e4e8d5c4801d7f66c760a7fe0ae62ad4258", "url": "https://github.com/vmware/differential-datalog/commit/13274e4e8d5c4801d7f66c760a7fe0ae62ad4258", "message": "Delete CHANGELOG.md\n\nBased on review comment - Git maintains change log automatically", "committedDate": "2020-12-03T05:59:54Z", "type": "commit"}, {"oid": "0a58907e1dc5565c6e8ed822feb4748136b1a530", "url": "https://github.com/vmware/differential-datalog/commit/0a58907e1dc5565c6e8ed822feb4748136b1a530", "message": "function changed to keyword.control.ddlog group", "committedDate": "2020-12-03T10:00:59Z", "type": "commit"}, {"oid": "208b156d287b98658881bf7c19cfbc8abd36649d", "url": "https://github.com/vmware/differential-datalog/commit/208b156d287b98658881bf7c19cfbc8abd36649d", "message": "apostrophe is part of variable name", "committedDate": "2020-12-03T12:12:47Z", "type": "commit"}, {"oid": "7275a3f9132d501b212fb35c81d0c1f722793f41", "url": "https://github.com/vmware/differential-datalog/commit/7275a3f9132d501b212fb35c81d0c1f722793f41", "message": ":- moved to punctuation", "committedDate": "2020-12-03T12:44:13Z", "type": "commit"}, {"oid": "1b84cf159b8e23e1d0c8251cef54cbd48fb545c7", "url": "https://github.com/vmware/differential-datalog/commit/1b84cf159b8e23e1d0c8251cef54cbd48fb545c7", "message": ".gitignore modified for vsix", "committedDate": "2020-12-03T12:58:00Z", "type": "commit"}, {"oid": "113c75012a8dc67dea5de840de004268b5bb246e", "url": "https://github.com/vmware/differential-datalog/commit/113c75012a8dc67dea5de840de004268b5bb246e", "message": "function parameters pattern moved to meta", "committedDate": "2020-12-03T16:48:28Z", "type": "commit"}, {"oid": "3bc9c6bf2b1a8ab4d484af67dc7c1407a74a176a", "url": "https://github.com/vmware/differential-datalog/commit/3bc9c6bf2b1a8ab4d484af67dc7c1407a74a176a", "message": "floating point literal fix", "committedDate": "2020-12-04T02:37:23Z", "type": "commit"}, {"oid": "94f99d32d4d4a9e1422956f35e6e5bac5c6d8e98", "url": "https://github.com/vmware/differential-datalog/commit/94f99d32d4d4a9e1422956f35e6e5bac5c6d8e98", "message": "literal grammer modified", "committedDate": "2020-12-04T10:35:46Z", "type": "commit"}, {"oid": "18f6e31e38c19d4367984a81dc2bc8d17fe1ffde", "url": "https://github.com/vmware/differential-datalog/commit/18f6e31e38c19d4367984a81dc2bc8d17fe1ffde", "message": "dot moved to punctuation", "committedDate": "2020-12-04T12:21:08Z", "type": "commit"}, {"oid": "d636e9173036181988b2dedc5534b89b38b84ee0", "url": "https://github.com/vmware/differential-datalog/commit/d636e9173036181988b2dedc5534b89b38b84ee0", "message": "scope moved to punctuation", "committedDate": "2020-12-05T05:14:48Z", "type": "commit"}, {"oid": "480fca3fe9794af877e51565bda43ce9504c191f", "url": "https://github.com/vmware/differential-datalog/commit/480fca3fe9794af877e51565bda43ce9504c191f", "message": "entity moved from function arguments", "committedDate": "2020-12-05T11:05:25Z", "type": "commit"}, {"oid": "d66262bdbc2c7bf3d87bb546c1193ffd78b6df65", "url": "https://github.com/vmware/differential-datalog/commit/d66262bdbc2c7bf3d87bb546c1193ffd78b6df65", "message": "Delete vscode-ddlog-syntax-0.0.1.vsix\n\nvscode-ddlog-syntax-0.0.1.vsix is output package file.", "committedDate": "2020-12-05T13:59:28Z", "type": "commit"}, {"oid": "c82649327f78b2524f707d1945d03b1ab3a47d15", "url": "https://github.com/vmware/differential-datalog/commit/c82649327f78b2524f707d1945d03b1ab3a47d15", "message": "Delete ddlog.tmLanguage.json\n\nddlog.tmLanguage.json is generated file", "committedDate": "2020-12-05T14:02:41Z", "type": "commit"}, {"oid": "424cc09e9242a629ad0105fd607f27e464021953", "url": "https://github.com/vmware/differential-datalog/commit/424cc09e9242a629ad0105fd607f27e464021953", "message": "untracked *.vsix and ddlog.tmLanguage.json", "committedDate": "2020-12-06T03:27:37Z", "type": "commit"}, {"oid": "5a49e5ac7b78e14a33ada3268266ff73d24911f2", "url": "https://github.com/vmware/differential-datalog/commit/5a49e5ac7b78e14a33ada3268266ff73d24911f2", "message": "optimized code for local variable", "committedDate": "2020-12-06T05:35:53Z", "type": "commit"}, {"oid": "a7ab0faed099aebe44af594f5de993ee4b59130f", "url": "https://github.com/vmware/differential-datalog/commit/a7ab0faed099aebe44af594f5de993ee4b59130f", "message": "escape character pattern modified and removed placeholder pattern", "committedDate": "2020-12-07T16:28:24Z", "type": "commit"}, {"oid": "dd667f2f73c7feae42b9924ce168500b452f2995", "url": "https://github.com/vmware/differential-datalog/commit/dd667f2f73c7feae42b9924ce168500b452f2995", "message": "review comments fixed", "committedDate": "2020-12-11T06:32:58Z", "type": "commit"}, {"oid": "5d331bfeffe94b12a44da66cb7afa7e8d938afd5", "url": "https://github.com/vmware/differential-datalog/commit/5d331bfeffe94b12a44da66cb7afa7e8d938afd5", "message": "review comments fixed", "committedDate": "2020-12-11T16:06:08Z", "type": "commit"}, {"oid": "836d32288bf331c72ac91d90679d2565877fa407", "url": "https://github.com/vmware/differential-datalog/commit/836d32288bf331c72ac91d90679d2565877fa407", "message": "typedef review comments fixed", "committedDate": "2020-12-18T11:48:42Z", "type": "commit"}, {"oid": "817390695608fba4541b0e1c3e170f61679fc0b0", "url": "https://github.com/vmware/differential-datalog/commit/817390695608fba4541b0e1c3e170f61679fc0b0", "message": "function-type implementation", "committedDate": "2020-12-22T16:40:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE2NTU2OQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548165569", "bodyText": "there are no instructions for loading the extension into vscode.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T19:29:09Z", "path": "tools/vscode/ddlog-language/README.md", "diffHunk": "@@ -0,0 +1,16 @@\n+# DDLog \n+[![GitHub](https://github.com/vmware/differential-datalog)](https://github.com/vmware/differential-datalog)\n+* This directory holds the files required for syntax highlighting ddlog programs in Visual Studio Code.\n+\n+## Resources\n+- [DDlog Language Reference Manual](https://github.com/vmware/differential-datalog/blob/master/doc/language_reference/language_reference.md)\n+\n+## [License](https://github.com/vmware/differential-datalog/blob/master/LICENSE)\n+", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE2NjI3NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548166274", "bodyText": "I believe this file should be deleted.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T19:30:06Z", "path": "tools/vscode/ddlog-language/desktop.ini", "diffHunk": "@@ -0,0 +1,4 @@\n+[ViewState]", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE2OTE4OQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548169189", "bodyText": "Based on this file https://github.com/rust-lang/vscode-rust/blob/master/language-configuration.json you can add a few more here, including <>, /* */, and [| |]. You may want to use the notIn condition as well.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T19:33:39Z", "path": "tools/vscode/ddlog-language/language-configuration.json", "diffHunk": "@@ -0,0 +1,33 @@\n+{", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE3MDAxNA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548170014", "bodyText": "This looks wrong, I suspect this section can be entirely removed.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T19:34:57Z", "path": "tools/vscode/ddlog-language/language-configuration.json", "diffHunk": "@@ -0,0 +1,33 @@\n+{\n+    \"comments\": {\n+        \"lineComment\": \"//\",\n+    },\n+    \"brackets\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"]\n+    ],\n+    \"autoClosingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+    ],\n+    \"surroundingPairs\": [\n+        [\"{\", \"}\"],\n+        [\"[\", \"]\"],\n+        [\"(\", \")\"],\n+        [\"\\\"\", \"\\\"\"]\n+    ],\n+    \"folding\": {", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE4MjgwMQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548182801", "bodyText": "I believe you can combine the previous and this rule into only one using this pattern:\n\\\\b(32'f|64'f)?([0-9][0-9_]*\\\\.)?[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b", "author": "mbudiu-vmw", "createdAt": "2020-12-23T19:51:46Z", "path": "tools/vscode/ddlog-language/src/good/constant.json5", "diffHunk": "@@ -0,0 +1,42 @@\n+{\n+    \"repository\": {\n+        \"constant\": {\n+            \"patterns\": [\n+                {\n+                    \"comment\": \"Floating point literal (without exponent)\",\n+                    \"name\": \"constant.numeric.float.ddlog\",\n+                    \"match\": \"\\\\b(32'f|64'f)?[0-9][0-9_]*\\\\.[0-9][0-9_]*([eE][+-]?[0-9_]+)?\\\\b\"\n+                },\n+                {\n+                    \"comment\": \"Floating point literal (exponent)\",", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODQwMDk2NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548400964", "bodyText": "With this pattern scope of decimal e.g. 1 is  constant.numeric.float.ddlog instead of constant.numeric.integer.decimal.ddlog", "author": "desharchana19", "createdAt": "2020-12-24T06:03:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE4MjgwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE4NjQzMQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548186431", "bodyText": "I suspect that primary key can have any number of spaces, so the pattern should be primary\\\\s+key", "author": "mbudiu-vmw", "createdAt": "2020-12-23T19:56:54Z", "path": "tools/vscode/ddlog-language/src/good/keyword.json5", "diffHunk": "@@ -0,0 +1,36 @@\n+{\n+  \"repository\": {\n+        \"keyword\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.control.ddlog\",\n+                    \"match\": \"\\\\b(else|if|in|for|return|skip|continue|break|function|match)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.graph.ddlog\",\n+                    \"match\": \"\\\\b(input|output|relation)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.module.ddlog\",\n+                    \"match\": \"\\\\b(import|extern|as)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.type.ddlog\",\n+                    \"match\": \"\\\\b(typedef|type)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.special.ddlog\",\n+                    \"match\": \"\\\\b(Aggregate|FlatMap)\\\\b\"\n+                },\n+                {\n+                    \"name\": \"keyword.other.ddlog\",\n+                    \"match\": \"\\\\b(group_by|primary key|index|on)\\\\b\"", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyNzQ4Mg==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548227482", "bodyText": "why is 1 a punctuation?", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:52:00Z", "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,106 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"meta.attributes.ddlog\",\n+                    \"begin\": \"(#\\\\[)\",\n+                    \"end\": \"(\\\\])\", \n+                    \"patterns\": [  \n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]                                                         \n+                },\n+                {\n+                    \"name\": \"meta.function-param.ddlog\",\n+                    \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]*))(\\\\()\",\n+                    \"end\": \"(\\\\))\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                        {\n+                            \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]*)(?=[(])\",\n+                            \"name\": \"entity.name.function.ddlog\",\n+                            \"captures\": {\n+                            \"1\": {\n+                               \"name\": \"punctuation.definition.type.ddlog\"", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyODA5OA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548228098", "bodyText": "Why are you listing all these types here? I suggest making a pattern named type_spec, that corresponds to the type_spec production from the ddlog grammar in the section https://github.com/vmware/differential-datalog/blob/master/doc/language_reference/language_reference.md#types. In general, these files should be very similar to the grammar from the language reference document.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:53:09Z", "path": "tools/vscode/ddlog-language/src/good/meta.json5", "diffHunk": "@@ -0,0 +1,106 @@\n+{\n+  \"repository\": {\n+        \"meta\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"meta.attributes.ddlog\",\n+                    \"begin\": \"(#\\\\[)\",\n+                    \"end\": \"(\\\\])\", \n+                    \"patterns\": [  \n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]                                                         \n+                },\n+                {\n+                    \"name\": \"meta.function-param.ddlog\",\n+                    \"begin\": \"(?<=(\\\\b)([a-z_][a-zA-Z0-9_]*))(\\\\()\",\n+                    \"end\": \"(\\\\))\",\n+                    \"beginCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"endCaptures\": {\"0\": {\"name\": \"punctuation.definition.type.ddlog\"}},\n+                    \"patterns\": [\n+                        {\n+                            \"match\": \"(\\\\b)([a-z_][a-zA-Z0-9_]*)(?=[(])\",\n+                            \"name\": \"entity.name.function.ddlog\",\n+                            \"captures\": {\n+                            \"1\": {\n+                               \"name\": \"punctuation.definition.type.ddlog\"\n+                             }\n+                            }\n+                        },\n+                        {\n+                            \"name\": \"variable.parameter.ddlog\",\n+                            \"match\": \"(?<![:]\\\\s*)(?!.*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map))\\\\s*([a-z_][a-zA-Z0-9_]*)(\\\\b)\"", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTI3MTI4NA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r551271284", "bodyText": "This pattern is a match for a argument of a function. The argument is of pattern ([a-z_][a-zA-Z0-9_]). This pattern should exclude types. Hence, ?!.(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map) is added.", "author": "desharchana19", "createdAt": "2021-01-04T11:49:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyODA5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyODQ4Nw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548228487", "bodyText": "this is called \"turnstyle\"", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:53:39Z", "path": "tools/vscode/ddlog-language/src/good/punctuation.json5", "diffHunk": "@@ -0,0 +1,24 @@\n+{\n+  \"repository\": {\n+        \"punctuation\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"punctuation.separator.comma.ddlog\",\n+                    \"match\": \"\\\\s*(,)\\\\s*\"\n+                },\n+                {\n+                    \"name\": \"punctuation.other.delimiter.ddlog\",", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyOTYwMA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548229600", "bodyText": "since you just defined this in the previous pattern, can't you just use that?", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:55:08Z", "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMDk0Ng==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548230946", "bodyText": "I would suggest using a rule that looks more like the rust escaped character https://github.com/rust-lang/vscode-rust/blob/c957ad5ff0eee266e9b2506ad3367fcef1f17cab/rust-analyzer/editors/code/rust.tmGrammar.json#L515", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:56:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyOTYwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIyOTk3OQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548229979", "bodyText": "Actually I don't think you can have comments inside an interpolated string.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:55:36Z", "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                        },\n+                        {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                                  \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                            }\n+                            },\n+                             \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMTY3OA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548231678", "bodyText": "I also don't think we allow comments inside raw strings", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:57:45Z", "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                        },\n+                        {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                                  \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                            }\n+                            },\n+                             \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"\n+                                },\n+                                {\n+                                    \"include\": \"#constant\"\n+                                },\n+                                {\n+                                    \"include\": \"#entity\"\n+                                },\n+                                {\n+                                    \"include\": \"#meta\"\n+                                },\n+                                {\n+                                    \"include\": \"#punctuation\"\n+                                },\n+                                {\n+                                    \"include\": \"#string\"\n+                                },\n+                                {\n+                                    \"include\": \"#support\"\n+                                },\n+                                {\n+                                    \"include\": \"#type\"\n+                                },\n+                                {\n+                                    \"include\": \"#variable\"\n+                                },\n+                                {\n+                                    \"include\": \"#operator\"\n+                                },\n+                                {\n+                                    \"include\": \"#keyword\"\n+                                },\n+                                {\n+                                    \"include\": \"#storage\"\n+                                }\n+                            ]                    \n+                        },\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                       {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                               \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                               }\n+                            },\n+                            \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMTkzNw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548231937", "bodyText": "or type, or punctuation, etc.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:58:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMTY3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzMjk3OA==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548232978", "bodyText": "There are two types of raw strings: the ones starting with [| do not allow interpolation, they look more like the Rust raw strings: https://github.com/rust-lang/vscode-rust/blob/c957ad5ff0eee266e9b2506ad3367fcef1f17cab/rust-analyzer/editors/code/rust.tmGrammar.json#L530\nThe interpolated raw strings start with $[| and they do allow interpolation", "author": "mbudiu-vmw", "createdAt": "2020-12-23T20:59:22Z", "path": "tools/vscode/ddlog-language/src/good/string.json5", "diffHunk": "@@ -0,0 +1,136 @@\n+{\n+  \"repository\": {\n+        \"string\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"constant.character.escape.ddlog\",\n+                    \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.ddlog\",\n+                    \"begin\": \"\\\"\",\n+                    \"end\": \"\\\"\",\n+                    \"patterns\": [\n+                        {\n+                            \"name\": \"constant.character.escape.ddlog\",\n+                            \"match\": \"\\\\\\\\[0nrvtbfa&\\\"\\\\\\\\]\"\n+                        },\n+                        {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",\n+                            \"begin\": \"(\\\\$\\\\{)\",\n+                            \"beginCaptures\": {\n+                            \"1\": {\n+                                  \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                                }\n+                            },\n+                            \"end\": \"\\\\}\",\n+                            \"endCaptures\": {\n+                            \"0\": {\n+                                \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                            }\n+                            },\n+                             \"patterns\": [\n+                                {\n+                                    \"include\": \"#comment\"\n+                                },\n+                                {\n+                                    \"include\": \"#constant\"\n+                                },\n+                                {\n+                                    \"include\": \"#entity\"\n+                                },\n+                                {\n+                                    \"include\": \"#meta\"\n+                                },\n+                                {\n+                                    \"include\": \"#punctuation\"\n+                                },\n+                                {\n+                                    \"include\": \"#string\"\n+                                },\n+                                {\n+                                    \"include\": \"#support\"\n+                                },\n+                                {\n+                                    \"include\": \"#type\"\n+                                },\n+                                {\n+                                    \"include\": \"#variable\"\n+                                },\n+                                {\n+                                    \"include\": \"#operator\"\n+                                },\n+                                {\n+                                    \"include\": \"#keyword\"\n+                                },\n+                                {\n+                                    \"include\": \"#storage\"\n+                                }\n+                            ]                    \n+                        },\n+                    ]\n+                },\n+                {\n+                    \"name\": \"string.quoted.double.raw.ddlog\",\n+                    \"begin\": \"(\\\\[)(\\\\|)\",               \n+                    \"end\": \"(\\\\|)(\\\\])\",\n+                    \"patterns\": [\n+                       {\n+                            \"name\": \"string.quoted.interpolated.ddlog\",", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNDg5Mg==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548234892", "bodyText": "these rules for typedef are too specific. The grammar of typedef is\n\"typedef\" type_name (* unique type name *)\n            [\"<\" typevar_name [(\",\" typevar_name)*] \">\"] \n            \"=\" type_spec (* type definition *)\n\nI suspect you can parallel this definition in your grammar. Having all these base types is too specific, you should probably have a rule for type_spec.", "author": "mbudiu-vmw", "createdAt": "2020-12-23T21:02:46Z", "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,576 @@\n+{\n+  \"repository\": {\n+        \"type\": {\n+            \"patterns\": [\n+                {\n+                    \"match\": \"(\\\\s*)(?!.*(Some|None|Ok|Err))([A-Z][a-zA-Z0-9_]*)(\\\\s*)(?=((\\\\s*)\\\\{))\",\n+                    \"name\": \"entity.name.constructor.ddlog\"\n+                },                \n+                {\n+                    \"match\": \"('[A-Z][a-zA-Z0-9_]*)\",\n+                    \"name\": \"entity.name.type-variable.ddlog\"\n+                }, \n+                {\n+                    \"name\": \"entity.name.typedef-typespec.ddlog\",                    \n+                    \"match\": \"\\\\b(typedef)\\\\s*([a-zA-Z_][a-zA-Z0-9_]*)\\\\s*(=)\\\\s*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map)(\\\\b)\",", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODIzNTg0NQ==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548235845", "bodyText": "you sould probably call this typedef and not type", "author": "mbudiu-vmw", "createdAt": "2020-12-23T21:04:04Z", "path": "tools/vscode/ddlog-language/src/good/type.json5", "diffHunk": "@@ -0,0 +1,576 @@\n+{\n+  \"repository\": {\n+        \"type\": {", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODI0NDU0Mw==", "url": "https://github.com/vmware/differential-datalog/pull/829#discussion_r548244543", "bodyText": "all these rules should use type_spec", "author": "mbudiu-vmw", "createdAt": "2020-12-23T21:15:38Z", "path": "tools/vscode/ddlog-language/src/syntax/operator.json5", "diffHunk": "@@ -0,0 +1,254 @@\n+{\n+  \"repository\": {\n+        \"operator\": {\n+            \"patterns\": [\n+                {\n+                    \"name\": \"keyword.operator.group.parameters.ddlog\",\n+                    \"begin\": \"\\\\(\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"\\\\)\",\n+                    \"endCaptures\": {\n+                        \"0\": {\n+                            \"name\": \"keyword.operator.grouping.ddlog\"\n+                        }\n+                    },\n+                    \"patterns\": [\n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]\n+                },\n+                {\n+                    \"name\": \"keyword.operator.group.block.ddlog\",\n+                    \"begin\": \"\\\\{\",\n+                    \"beginCaptures\": {\n+                        \"1\": {\n+                            \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                        }\n+                    },\n+                    \"end\": \"\\\\}\",\n+                    \"endCaptures\": {\n+                        \"0\": {\n+                            \"name\": \"keyword.operator.alternate-grouping.ddlog\"\n+                        }\n+                    },\n+                    \"patterns\": [\n+                        {\n+                            \"include\": \"#comment\"\n+                        },\n+                        {\n+                            \"include\": \"#constant\"\n+                        },\n+                        {\n+                            \"include\": \"#entity\"\n+                        },\n+                        {\n+                            \"include\": \"#meta\"\n+                        },\n+                        {\n+                            \"include\": \"#punctuation\"\n+                        },\n+                        {\n+                            \"include\": \"#string\"\n+                        },\n+                        {\n+                            \"include\": \"#support\"\n+                        },\n+                        {\n+                            \"include\": \"#type\"\n+                        },\n+                        {\n+                            \"include\": \"#variable\"\n+                        },\n+                        {\n+                            \"include\": \"#operator\"\n+                        },\n+                        {\n+                            \"include\": \"#keyword\"\n+                        },\n+                        {\n+                            \"include\": \"#storage\"\n+                        }\n+                    ]\n+                },                \n+                {\n+                    \"name\": \"keyword.operator.type-annotation.ddlog\",\n+                    \"match\": \":\\\\s*(?=(mut)?\\\\s*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map)(\\\\b))\",\n+                    \"captures\": {\n+                        \"1\": {\n+                            \"name\": \"storage.modifier.mutable.ddlog\"\n+                        },\n+                        \"2\": {\n+                            \"name\": \"storage.type.ddlog\"\n+                        }                        \n+                    }\n+                }, \n+                {\n+                    \"name\": \"keyword.operator.type-annotation.ddlog\",\n+                    \"match\": \":\\\\s*(?=(function\\\\s*)(\\\\(\\\\s*))\",\n+                },                \n+                {\n+                    \"name\": \"keyword.operator.type-annotation.ddlog\",\n+                    \"match\": \":\\\\s*(?=(\\\\(\\\\s*)\\\\s*(bigint|bit|bool|signed|double|float|string|Vec|Ref|Set|Map)(\\\\b))\",", "originalCommit": "817390695608fba4541b0e1c3e170f61679fc0b0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f4d339de09b6d4fa87b78cacd16b71f83a52fcf3", "url": "https://github.com/vmware/differential-datalog/commit/f4d339de09b6d4fa87b78cacd16b71f83a52fcf3", "message": "Delete desktop.ini", "committedDate": "2020-12-24T16:53:06Z", "type": "commit"}, {"oid": "0b817ac39a433ea8fb2e294fc89a134561b1be4f", "url": "https://github.com/vmware/differential-datalog/commit/0b817ac39a433ea8fb2e294fc89a134561b1be4f", "message": "review comment fixes except fix for type-spec", "committedDate": "2021-01-12T16:28:11Z", "type": "commit"}, {"oid": "ccd98e1215ae6eff72f8052b982b65c81e54afd9", "url": "https://github.com/vmware/differential-datalog/commit/ccd98e1215ae6eff72f8052b982b65c81e54afd9", "message": "README formatting", "committedDate": "2021-01-13T08:15:54Z", "type": "commit"}, {"oid": "4347dd4c9ca5fe0809fcde3bcde3d7d8baed5407", "url": "https://github.com/vmware/differential-datalog/commit/4347dd4c9ca5fe0809fcde3bcde3d7d8baed5407", "message": "README formatting", "committedDate": "2021-01-13T08:43:41Z", "type": "commit"}, {"oid": "aadb4b4723b097b29f6af0d078414bca017a4064", "url": "https://github.com/vmware/differential-datalog/commit/aadb4b4723b097b29f6af0d078414bca017a4064", "message": "return variable code added", "committedDate": "2021-01-26T15:34:19Z", "type": "commit"}, {"oid": "6ec25a5eef2b81520bc5ea75e01db741689914b3", "url": "https://github.com/vmware/differential-datalog/commit/6ec25a5eef2b81520bc5ea75e01db741689914b3", "message": "relation name after turnstyle", "committedDate": "2021-01-27T06:09:21Z", "type": "commit"}]}