{"pr_number": 1435, "pr_title": "Course Date Page view designs", "pr_createdAt": "2020-07-09T12:17:15Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1435", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1OTkxMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469459910", "bodyText": "IMO rv_dates is a more appropriate id.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T18:32:12Z", "path": "OpenEdXMobile/res/layout/fragment_course_dates_page.xml", "diffHunk": "@@ -0,0 +1,32 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <FrameLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        tools:context=\".view.CourseDatesPageFragment\">\n+\n+        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n+            android:id=\"@+id/swipe_container\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"match_parent\">\n+\n+            <androidx.recyclerview.widget.RecyclerView\n+                android:id=\"@+id/date_list\"", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwMTkwMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475501901", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:27:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ1OTkxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2ODUwMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469468503", "bodyText": "Padding should be around 10dp, cuz mobile screen margins/padding are usually small as compared to the web.\nSo I think we can use widget_margin or create a new resource for dates screen.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T18:47:28Z", "path": "OpenEdXMobile/res/layout/fragment_course_dates_page.xml", "diffHunk": "@@ -0,0 +1,32 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <FrameLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        tools:context=\".view.CourseDatesPageFragment\">\n+\n+        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n+            android:id=\"@+id/swipe_container\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"match_parent\">\n+\n+            <androidx.recyclerview.widget.RecyclerView\n+                android:id=\"@+id/date_list\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"match_parent\"\n+                android:background=\"@color/white\"\n+                android:clipToPadding=\"false\"\n+                android:padding=\"@dimen/edx_margin\" />", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwMTk5OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475501998", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:27:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ2ODUwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUxODI5NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469518295", "bodyText": "Should be renamed to binding .", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T20:24:06Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwNDIxNg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475504216", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:30:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUxODI5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUxOTI4Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469519282", "bodyText": "there should be the following line of code\nreturn errorNotification != null && errorNotification.isShowing();", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T20:25:49Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwNDUxOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475504519", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:30:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUxOTI4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUyMTc4Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469521783", "bodyText": "courseId and return type Bundle should not be nullable.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T20:30:39Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwNDMwMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475504303", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:30:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUyMTc4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUyODc5MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469528791", "bodyText": "return type View should not be nullable", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T20:36:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwNDYzOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475504638", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:30:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUyODc5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUzMTQyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469531425", "bodyText": "This can be in lambda notitaion.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T20:38:53Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwNDcyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475504725", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:30:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUzMTQyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUzODUyNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469538527", "bodyText": "loadingIndicator should be visible on bases on some boolean. e.g showProgress", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T20:50:12Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwNDgzMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475504832", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:30:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUzODUyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUzOTcyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469539725", "bodyText": "api should be lateinit cus declared as the Injected member.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T20:52:24Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwMzkxMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475503913", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:29:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTUzOTcyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU0NDUyOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469544529", "bodyText": "try to remove the use of !!.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:01:32Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwNDkxMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475504912", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:30:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU0NDUyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU0NTE1NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469545155", "bodyText": "need to remove extra line.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:02:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {\n+                    response.body()?.course_date_blocks?.let {\n+                        populateCourseDates(it)\n+", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1MTM2Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469551363", "bodyText": "The app should cover the following scenarios too\n\n401 if the user is not authenticated.\n404 if the course is not available or cannot be seen.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:15:26Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1MjY2Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469552662", "bodyText": "Initialization can be HashMap().", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:18:17Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {\n+                    response.body()?.course_date_blocks?.let {\n+                        populateCourseDates(it)\n+\n+                    }\n+                } else {\n+                    context?.let {\n+                        errorNotification.showError(it,\n+                                HttpStatusException(Response.error<Any>(response.code(),\n+                                        ResponseBody.create(MediaType.parse(\"text/plain\"), response.message()))),\n+                                -1, null)\n+                    }\n+                }\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+                mBinding.swipeContainer.isRefreshing = false\n+            }\n+\n+            override fun onFailure(call: Call<CourseDates>, t: Throwable) {\n+                context?.let { errorNotification.showError(it, t, -1, null) }\n+                mBinding.swipeContainer.isRefreshing = false\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            }\n+        })\n+    }\n+\n+    private fun populateCourseDates(list: List<CourseDateBlock>) {\n+        data = HashMap<String, ArrayList<CourseDateBlock>>()", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwMTQzOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475501438", "bodyText": "I did this just to be specific", "author": "omerhabib26", "createdAt": "2020-08-24T10:27:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1MjY2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1MzYzMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469553631", "bodyText": "Need doc strings.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:20:29Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {\n+                    response.body()?.course_date_blocks?.let {\n+                        populateCourseDates(it)\n+\n+                    }\n+                } else {\n+                    context?.let {\n+                        errorNotification.showError(it,\n+                                HttpStatusException(Response.error<Any>(response.code(),\n+                                        ResponseBody.create(MediaType.parse(\"text/plain\"), response.message()))),\n+                                -1, null)\n+                    }\n+                }\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+                mBinding.swipeContainer.isRefreshing = false\n+            }\n+\n+            override fun onFailure(call: Call<CourseDates>, t: Throwable) {\n+                context?.let { errorNotification.showError(it, t, -1, null) }\n+                mBinding.swipeContainer.isRefreshing = false\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            }\n+        })\n+    }\n+\n+    private fun populateCourseDates(list: List<CourseDateBlock>) {\n+        data = HashMap<String, ArrayList<CourseDateBlock>>()\n+        sortKeys = ArrayList()\n+        if (list.isNotEmpty()) {\n+            list.forEach { item ->\n+                if (data.containsKey(item.getSimpleDateTime())) {\n+                    (data[item.getSimpleDateTime()] as ArrayList).add(item)\n+                } else {\n+                    data[item.getSimpleDateTime()] = arrayListOf(item)\n+                    sortKeys.add(item.getSimpleDateTime())\n+                }\n+            }\n+            if (isContainToday(list).not() && DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+                var ind = 0\n+                sortKeys.forEachIndexed { index, str ->\n+                    if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                        ind = index + 1\n+                    }\n+                }\n+                sortKeys.add(ind, getTodayDateBlock().getSimpleDateTime())\n+\n+            }", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1MzcxOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469553718", "bodyText": "Need doc strings.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:20:40Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {\n+                    response.body()?.course_date_blocks?.let {\n+                        populateCourseDates(it)\n+\n+                    }\n+                } else {\n+                    context?.let {\n+                        errorNotification.showError(it,\n+                                HttpStatusException(Response.error<Any>(response.code(),\n+                                        ResponseBody.create(MediaType.parse(\"text/plain\"), response.message()))),\n+                                -1, null)\n+                    }\n+                }\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+                mBinding.swipeContainer.isRefreshing = false\n+            }\n+\n+            override fun onFailure(call: Call<CourseDates>, t: Throwable) {\n+                context?.let { errorNotification.showError(it, t, -1, null) }\n+                mBinding.swipeContainer.isRefreshing = false\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            }\n+        })\n+    }\n+\n+    private fun populateCourseDates(list: List<CourseDateBlock>) {\n+        data = HashMap<String, ArrayList<CourseDateBlock>>()\n+        sortKeys = ArrayList()\n+        if (list.isNotEmpty()) {\n+            list.forEach { item ->\n+                if (data.containsKey(item.getSimpleDateTime())) {\n+                    (data[item.getSimpleDateTime()] as ArrayList).add(item)\n+                } else {\n+                    data[item.getSimpleDateTime()] = arrayListOf(item)\n+                    sortKeys.add(item.getSimpleDateTime())\n+                }\n+            }\n+            if (isContainToday(list).not() && DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+                var ind = 0\n+                sortKeys.forEachIndexed { index, str ->\n+                    if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                        ind = index + 1\n+                    }\n+                }\n+                sortKeys.add(ind, getTodayDateBlock().getSimpleDateTime())\n+\n+            }\n+            setDateBlockTag()\n+            mBinding.dateList.apply {\n+                layoutManager = LinearLayoutManager(context)\n+                adapter = CourseDatesAdapter(data, sortKeys, onLinkClick)\n+            }\n+        } else {\n+            context?.let {\n+                errorNotification.showError(it,\n+                        HttpStatusException(Response.error<Any>(HttpStatus.NO_CONTENT,\n+                                ResponseBody.create(MediaType.parse(\"text/plain\"), \"Currently no date available for this course\"))),\n+                        -1, null)\n+            }\n+        }\n+\n+    }\n+\n+    private fun isContainToday(list: List<CourseDateBlock>): Boolean {\n+        list.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    private fun setDateBlockTag() {", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1NDM2NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469554365", "bodyText": "Better to create separate methods while arranging the list for the list.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:22:01Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {\n+                    response.body()?.course_date_blocks?.let {\n+                        populateCourseDates(it)\n+\n+                    }\n+                } else {\n+                    context?.let {\n+                        errorNotification.showError(it,\n+                                HttpStatusException(Response.error<Any>(response.code(),\n+                                        ResponseBody.create(MediaType.parse(\"text/plain\"), response.message()))),\n+                                -1, null)\n+                    }\n+                }\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+                mBinding.swipeContainer.isRefreshing = false\n+            }\n+\n+            override fun onFailure(call: Call<CourseDates>, t: Throwable) {\n+                context?.let { errorNotification.showError(it, t, -1, null) }\n+                mBinding.swipeContainer.isRefreshing = false\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            }\n+        })\n+    }\n+\n+    private fun populateCourseDates(list: List<CourseDateBlock>) {\n+        data = HashMap<String, ArrayList<CourseDateBlock>>()\n+        sortKeys = ArrayList()\n+        if (list.isNotEmpty()) {\n+            list.forEach { item ->\n+                if (data.containsKey(item.getSimpleDateTime())) {\n+                    (data[item.getSimpleDateTime()] as ArrayList).add(item)\n+                } else {\n+                    data[item.getSimpleDateTime()] = arrayListOf(item)\n+                    sortKeys.add(item.getSimpleDateTime())\n+                }\n+            }\n+            if (isContainToday(list).not() && DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+                var ind = 0\n+                sortKeys.forEachIndexed { index, str ->\n+                    if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                        ind = index + 1\n+                    }\n+                }\n+                sortKeys.add(ind, getTodayDateBlock().getSimpleDateTime())", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUxMzAzOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475513039", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:45:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1NDM2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1OTY0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469559643", "bodyText": "use == instated of equals.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:33:38Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {\n+                    response.body()?.course_date_blocks?.let {\n+                        populateCourseDates(it)\n+\n+                    }\n+                } else {\n+                    context?.let {\n+                        errorNotification.showError(it,\n+                                HttpStatusException(Response.error<Any>(response.code(),\n+                                        ResponseBody.create(MediaType.parse(\"text/plain\"), response.message()))),\n+                                -1, null)\n+                    }\n+                }\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+                mBinding.swipeContainer.isRefreshing = false\n+            }\n+\n+            override fun onFailure(call: Call<CourseDates>, t: Throwable) {\n+                context?.let { errorNotification.showError(it, t, -1, null) }\n+                mBinding.swipeContainer.isRefreshing = false\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            }\n+        })\n+    }\n+\n+    private fun populateCourseDates(list: List<CourseDateBlock>) {\n+        data = HashMap<String, ArrayList<CourseDateBlock>>()\n+        sortKeys = ArrayList()\n+        if (list.isNotEmpty()) {\n+            list.forEach { item ->\n+                if (data.containsKey(item.getSimpleDateTime())) {\n+                    (data[item.getSimpleDateTime()] as ArrayList).add(item)\n+                } else {\n+                    data[item.getSimpleDateTime()] = arrayListOf(item)\n+                    sortKeys.add(item.getSimpleDateTime())\n+                }\n+            }\n+            if (isContainToday(list).not() && DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+                var ind = 0\n+                sortKeys.forEachIndexed { index, str ->\n+                    if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                        ind = index + 1\n+                    }\n+                }\n+                sortKeys.add(ind, getTodayDateBlock().getSimpleDateTime())\n+\n+            }\n+            setDateBlockTag()\n+            mBinding.dateList.apply {\n+                layoutManager = LinearLayoutManager(context)\n+                adapter = CourseDatesAdapter(data, sortKeys, onLinkClick)\n+            }\n+        } else {\n+            context?.let {\n+                errorNotification.showError(it,\n+                        HttpStatusException(Response.error<Any>(HttpStatus.NO_CONTENT,\n+                                ResponseBody.create(MediaType.parse(\"text/plain\"), \"Currently no date available for this course\"))),\n+                        -1, null)\n+            }\n+        }\n+\n+    }\n+\n+    private fun isContainToday(list: List<CourseDateBlock>): Boolean {\n+        list.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    private fun setDateBlockTag() {\n+        var dueNextCount = 0\n+        sortKeys.forEach { key ->\n+            data[key]?.forEach { item ->\n+                var dateBlockTag: CourseDateType = getDateTypeTag(item)\n+                if (dateBlockTag.equals(CourseDateType.DUE_NEXT)) {", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU1OTg3Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469559877", "bodyText": "Need doc strings.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:34:04Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,220 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    var api: CourseAPI? = null\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var mBinding: FragmentCourseDatesPageBinding\n+    private var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap()\n+    private var sortKeys: ArrayList<String> = ArrayList()\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String?): Bundle? {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return false\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View? {\n+        mBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return mBinding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        errorNotification = FullScreenErrorNotification(mBinding.swipeContainer)\n+\n+        mBinding.swipeContainer.setOnRefreshListener(OnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            getCourseDates()\n+        })\n+        UiUtil.setSwipeRefreshLayoutColors(mBinding.swipeContainer)\n+        getCourseDates()\n+    }\n+\n+    private fun getCourseDates() {\n+        mBinding.loadingIndicator.loadingIndicator.visibility = View.VISIBLE\n+        var courseDates: Call<CourseDates> = api?.getCourseDates(arguments?.getString(Router.EXTRA_COURSE_ID)!!)!!\n+        courseDates.enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                if (response.isSuccessful) {\n+                    response.body()?.course_date_blocks?.let {\n+                        populateCourseDates(it)\n+\n+                    }\n+                } else {\n+                    context?.let {\n+                        errorNotification.showError(it,\n+                                HttpStatusException(Response.error<Any>(response.code(),\n+                                        ResponseBody.create(MediaType.parse(\"text/plain\"), response.message()))),\n+                                -1, null)\n+                    }\n+                }\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+                mBinding.swipeContainer.isRefreshing = false\n+            }\n+\n+            override fun onFailure(call: Call<CourseDates>, t: Throwable) {\n+                context?.let { errorNotification.showError(it, t, -1, null) }\n+                mBinding.swipeContainer.isRefreshing = false\n+                mBinding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            }\n+        })\n+    }\n+\n+    private fun populateCourseDates(list: List<CourseDateBlock>) {\n+        data = HashMap<String, ArrayList<CourseDateBlock>>()\n+        sortKeys = ArrayList()\n+        if (list.isNotEmpty()) {\n+            list.forEach { item ->\n+                if (data.containsKey(item.getSimpleDateTime())) {\n+                    (data[item.getSimpleDateTime()] as ArrayList).add(item)\n+                } else {\n+                    data[item.getSimpleDateTime()] = arrayListOf(item)\n+                    sortKeys.add(item.getSimpleDateTime())\n+                }\n+            }\n+            if (isContainToday(list).not() && DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+                var ind = 0\n+                sortKeys.forEachIndexed { index, str ->\n+                    if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                        ind = index + 1\n+                    }\n+                }\n+                sortKeys.add(ind, getTodayDateBlock().getSimpleDateTime())\n+\n+            }\n+            setDateBlockTag()\n+            mBinding.dateList.apply {\n+                layoutManager = LinearLayoutManager(context)\n+                adapter = CourseDatesAdapter(data, sortKeys, onLinkClick)\n+            }\n+        } else {\n+            context?.let {\n+                errorNotification.showError(it,\n+                        HttpStatusException(Response.error<Any>(HttpStatus.NO_CONTENT,\n+                                ResponseBody.create(MediaType.parse(\"text/plain\"), \"Currently no date available for this course\"))),\n+                        -1, null)\n+            }\n+        }\n+\n+    }\n+\n+    private fun isContainToday(list: List<CourseDateBlock>): Boolean {\n+        list.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    private fun setDateBlockTag() {\n+        var dueNextCount = 0\n+        sortKeys.forEach { key ->\n+            data[key]?.forEach { item ->\n+                var dateBlockTag: CourseDateType = getDateTypeTag(item)\n+                if (dateBlockTag.equals(CourseDateType.DUE_NEXT)) {\n+                    if (dueNextCount == 0)\n+                        dueNextCount += 1\n+                    else\n+                        dateBlockTag = CourseDateType.BLANK\n+                }\n+                item.dateBlockTag = dateBlockTag\n+            }\n+        }\n+    }\n+\n+    private fun getDateTypeTag(item: CourseDateBlock): CourseDateType {", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU2MDgyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469560825", "bodyText": "Why we need to add this dependency.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:36:11Z", "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -214,16 +215,17 @@ dependencies {\n     // Branch SDK\n     // Check this link for guide to updating Branch integration:\n     // https://github.com/BranchMetrics/android-branch-deep-linking\n-    implementation ('io.branch.sdk.android:library:2.19.2') {\n+    implementation('io.branch.sdk.android:library:2.19.2') {\n         exclude module: 'answers-shim'\n     }\n \n     //New Relic Integration\n     implementation 'com.newrelic.agent.android:android-agent:5.4.1'\n \n     // test project configuration\n+    implementation 'androidx.legacy:legacy-support-v4:1.0.0'", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyMTgyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488721825", "bodyText": "Still pending, if necessary, please add docstring why we need this dependency.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T14:39:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU2MDgyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTI4MDAzOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r489280039", "bodyText": "sorry it was added by android-studio", "author": "omerhabib26", "createdAt": "2020-09-16T09:01:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU2MDgyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU2NTI2MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469565261", "bodyText": "Should not reflect changes of unrelated code in this file.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:46:25Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -1,6 +1,7 @@\n package org.edx.mobile.util;", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwMzcyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475503725", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:29:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU2NTI2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU2NzEzMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469567132", "bodyText": "unused import.", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T21:50:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/course/CourseAPI.java", "diffHunk": "@@ -28,6 +28,8 @@\n import org.edx.mobile.model.course.BlockModel;\n import org.edx.mobile.model.course.BlockType;\n import org.edx.mobile.model.course.CourseComponent;\n+import org.edx.mobile.model.course.CourseDateBlock;", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUwMjIwMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r475502203", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-08-24T10:27:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU2NzEzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU3ODMxMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r469578313", "bodyText": "Now CourseDatesFragment.java is unused, I think we can remove this.\n@miankhalid thoughts?", "author": "farhan-arshad-dev", "createdAt": "2020-08-12T22:19:01Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseTabsDashboardFragment.java", "diffHunk": "@@ -287,9 +287,9 @@ public void onFragmentSelected() {\n         }\n         // Add important dates tab\n         if (environment.getConfig().isCourseDatesEnabled()) {\n-            items.add(new FragmentItemModel(CourseDatesFragment.class,", "originalCommit": "cb1f92b8c73cb30b1a3ce76da86ccc293ebf8e4b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTQyNDE5Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r471424192", "bodyText": "I'll remove it", "author": "omerhabib26", "createdAt": "2020-08-17T11:46:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU3ODMxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI2NTM1NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r472265354", "bodyText": "Yep, nuke it!", "author": "miankhalid", "createdAt": "2020-08-18T15:01:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTU3ODMxMw=="}], "type": "inlineReview"}, {"oid": "4c88b6908bbc9c1ece52a61dbfd335c9249e7b94", "url": "https://github.com/edx/edx-app-android/commit/4c88b6908bbc9c1ece52a61dbfd335c9249e7b94", "message": "Address PR comments, except MVVM implementation\nWill do it in separate commit", "committedDate": "2020-08-24T19:34:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyNjU4MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488726580", "bodyText": "Need doc why we need this plugin.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T14:45:20Z", "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -25,6 +25,7 @@ apply plugin: 'edxapp'\n apply plugin: 'kotlin-android-extensions'\n apply plugin: 'com.android.application'\n apply plugin: 'kotlin-android'\n+apply plugin: 'kotlin-kapt'", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyODE5Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488728197", "bodyText": "no need for this change.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T14:47:17Z", "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -480,7 +482,7 @@ android {\n         debug {\n             testCoverageEnabled true\n             pseudoLocalesEnabled true // Set device language to \"en_XA\" to test glyphs, or \"ar_XB\" to test RTL support\n-            manifestPlaceholders = [ supportsRtl:\"true\"]\n+            manifestPlaceholders = [supportsRtl: \"true\"]", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTI4MDE3NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r489280175", "bodyText": "change revert", "author": "omerhabib26", "createdAt": "2020-09-16T09:02:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyODE5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkwMDgxMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488900812", "bodyText": "better to add the following line of code to show the sample layout in the editor.\ntools:listitem=\"@layout/item_course_date_block\"", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T19:04:05Z", "path": "OpenEdXMobile/res/layout/fragment_course_dates_page.xml", "diffHunk": "@@ -0,0 +1,32 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <FrameLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        tools:context=\".view.CourseDatesPageFragment\">\n+\n+        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n+            android:id=\"@+id/swipe_container\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"match_parent\">\n+\n+            <androidx.recyclerview.widget.RecyclerView\n+                android:id=\"@+id/rv_dates\"\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"match_parent\"\n+                android:background=\"@color/white\"\n+                android:clipToPadding=\"false\"\n+                android:padding=\"@dimen/date_block_half_x_margin\" />", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkxMjkzOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488912938", "bodyText": "need doc string why need these methods.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T19:24:17Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/base/BaseFragment.java", "diffHunk": "@@ -29,6 +30,19 @@ public void onCreate(Bundle savedInstanceState) {\n         EventBus.getDefault().post(new NewRelicEvent(getClass().getSimpleName()));\n     }\n \n+    public Context getContextOrThrow() {\n+        if (getContext() != null)\n+            return getContext();\n+        throw new IllegalStateException(\"Context can only be accessed when attached with activity\");\n+    }\n+\n+    public String getArgumentString(String key) {\n+        if (getArguments() != null && getArguments().getString(key) != null) {\n+            return getArguments().getString(key);\n+        }\n+        throw new IllegalArgumentException(\"Arguments or key not found in bundle\");\n+    }\n+", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkyNzM0MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488927341", "bodyText": "IMO, it's better to move this method in the CourseDateBlock.kt.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T19:40:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,107 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkyOTYzNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488929634", "bodyText": "need docstring/purpose of this class.\nPlease share a reference for the inspiration of MVVM architecture.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T19:43:40Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/viewModel/ViewModelFactory.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.lifecycle.ViewModel\n+import androidx.lifecycle.ViewModelProvider\n+import org.edx.mobile.course.CourseAPI\n+\n+class ViewModelFactory(private val courseAPI: CourseAPI) : ViewModelProvider.NewInstanceFactory() {", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3MTYyMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490271621", "bodyText": "Still pending.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T14:02:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkyOTYzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5MDY4MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490890681", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T11:39:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkyOTYzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkzMzIzNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488933234", "bodyText": "We are adopting camelCase notation for naming a variable/data member, so need to update.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T19:49:59Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDateBlock.kt", "diffHunk": "@@ -0,0 +1,43 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDateBlock(\n+        @SerializedName(\"complete\") var complete: Boolean = false,\n+        @SerializedName(\"date\") val date: String = \"\",\n+        @SerializedName(\"date_type\") var date_type: String? = \"\",\n+        @SerializedName(\"description\") val description: String = \"\",\n+        @SerializedName(\"learner_has_access\") var learner_has_access: Boolean = false,\n+        @SerializedName(\"link\") val link: String = \"\",\n+        @SerializedName(\"link_text\") val link_text: String = \"\",\n+        @SerializedName(\"title\") val title: String = \"\",", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MDE1Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488940152", "bodyText": "No need to show progress as swipe to refresh has its own loader.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:02:37Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,107 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return errorNotification.isShowing\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View {\n+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        viewModel = ViewModelProvider(this, ViewModelFactory(courseAPI = courseAPI)).get(CourseDateViewModel::class.java)\n+\n+        errorNotification = FullScreenErrorNotification(binding.swipeContainer)\n+\n+        binding.swipeContainer.setOnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            binding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            viewModel.fetchCourseDates()", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MDQ2NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488940465", "bodyText": "IMO, it's better to initObserver first.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:03:14Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,107 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+\n+        @JvmStatic\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), date_type = CourseDateBlock.DateTypes.TODAY_DATE)\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return errorNotification.isShowing\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View {\n+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        viewModel = ViewModelProvider(this, ViewModelFactory(courseAPI = courseAPI)).get(CourseDateViewModel::class.java)\n+\n+        errorNotification = FullScreenErrorNotification(binding.swipeContainer)\n+\n+        binding.swipeContainer.setOnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            binding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            viewModel.fetchCourseDates()\n+        }\n+        UiUtil.setSwipeRefreshLayoutColors(binding.swipeContainer)\n+        viewModel.startViewModel(courseID = getArgumentString(Router.EXTRA_COURSE_ID))\n+        initObserver()", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MTI4Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488941287", "bodyText": "is CourseDateViewModel representing the Repository in MVVM architecture?\nif Yes then better to update the name accordingly.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:04:58Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,107 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTI4OTI4MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r489289280", "bodyText": "No, we are not using repository in current architecture", "author": "omerhabib26", "createdAt": "2020-09-16T09:16:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MTI4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc3Mzc3Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490773776", "bodyText": "Now we have implemented the repository based architecture", "author": "omerhabib26", "createdAt": "2020-09-18T08:05:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MTI4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0NzQ1OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488947458", "bodyText": "The callback should cover the following scenarios too.\n\n401 if the user is not authenticated.\n404 if the course is not available or cannot be seen.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:17:06Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/viewModel/CourseDateViewModel.kt", "diffHunk": "@@ -0,0 +1,71 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.lifecycle.LiveData\n+import androidx.lifecycle.MutableLiveData\n+import androidx.lifecycle.ViewModel\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.model.course.CourseDates\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+\n+class CourseDateViewModel(private val courseAPI: CourseAPI) : ViewModel() {\n+\n+    private val _showLoader = MutableLiveData<Boolean>()\n+    val showLoader: LiveData<Boolean>\n+        get() = _showLoader\n+\n+    private val _swipeRefresh = MutableLiveData<Boolean>()\n+    val swipeRefresh: LiveData<Boolean>\n+        get() = _swipeRefresh\n+\n+    private val _courseDates = MutableLiveData<CourseDates>()\n+    val courseDates: LiveData<CourseDates>\n+        get() = _courseDates\n+\n+    private val _errorMessage = MutableLiveData<Throwable>()\n+    val errorMessage: LiveData<Throwable>\n+        get() = _errorMessage\n+\n+    private lateinit var courseID: String\n+\n+    fun startViewModel(courseID: String) {\n+        this.courseID = courseID\n+        fetchCourseDates()\n+    }\n+\n+    fun fetchCourseDates() {\n+        _errorMessage.value = null\n+        _swipeRefresh.value = false\n+        _showLoader.value = true\n+        courseAPI.getCourseDates(courseID).enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                _showLoader.postValue(false)\n+                if (response.isSuccessful && response.body() != null) {\n+                    response.body()?.let {\n+                        _courseDates.value = it\n+                    }\n+                } else {\n+                    _errorMessage.value = HttpStatusException(Response.error<Any>(response.code(),\n+                            ResponseBody.create(MediaType.parse(\"text/plain\"), response.message())))\n+                }", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0NzY0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488947643", "bodyText": "The extra line needs to remove.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:17:27Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/viewModel/CourseDateViewModel.kt", "diffHunk": "@@ -0,0 +1,71 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.lifecycle.LiveData\n+import androidx.lifecycle.MutableLiveData\n+import androidx.lifecycle.ViewModel\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.model.course.CourseDates\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+\n+class CourseDateViewModel(private val courseAPI: CourseAPI) : ViewModel() {\n+\n+    private val _showLoader = MutableLiveData<Boolean>()\n+    val showLoader: LiveData<Boolean>\n+        get() = _showLoader\n+\n+    private val _swipeRefresh = MutableLiveData<Boolean>()\n+    val swipeRefresh: LiveData<Boolean>\n+        get() = _swipeRefresh\n+\n+    private val _courseDates = MutableLiveData<CourseDates>()\n+    val courseDates: LiveData<CourseDates>\n+        get() = _courseDates\n+\n+    private val _errorMessage = MutableLiveData<Throwable>()\n+    val errorMessage: LiveData<Throwable>\n+        get() = _errorMessage\n+\n+    private lateinit var courseID: String\n+\n+    fun startViewModel(courseID: String) {\n+        this.courseID = courseID\n+        fetchCourseDates()\n+    }\n+\n+    fun fetchCourseDates() {\n+        _errorMessage.value = null\n+        _swipeRefresh.value = false\n+        _showLoader.value = true\n+        courseAPI.getCourseDates(courseID).enqueue(object : Callback<CourseDates> {\n+            override fun onResponse(call: Call<CourseDates>, response: Response<CourseDates>) {\n+                _showLoader.postValue(false)\n+                if (response.isSuccessful && response.body() != null) {\n+                    response.body()?.let {\n+                        _courseDates.value = it\n+                    }\n+                } else {\n+                    _errorMessage.value = HttpStatusException(Response.error<Any>(response.code(),\n+                            ResponseBody.create(MediaType.parse(\"text/plain\"), response.message())))\n+                }\n+                _swipeRefresh.postValue(false)\n+            }\n+\n+            override fun onFailure(call: Call<CourseDates>, t: Throwable) {\n+                _showLoader.postValue(false)\n+                _errorMessage.value = t\n+                _swipeRefresh.postValue(false)\n+            }\n+", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NjI4Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490886287", "bodyText": "extra line added due to auto formating", "author": "omerhabib26", "createdAt": "2020-09-18T11:32:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0NzY0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0OTMwOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488949309", "bodyText": "@return Course dates against the given course id", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:20:29Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/course/CourseAPI.java", "diffHunk": "@@ -98,6 +99,14 @@ public CourseAPI(@NonNull CourseService courseService, @NonNull UserPrefs userPr\n         return courseService.getEnrolledCourses(getUsername(), config.getOrganizationCode());\n     }\n \n+    /**\n+     * @return Course dates.", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0OTk4Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488949986", "bodyText": "We are adopting camelCase notation for naming a variable/data member, so need to update.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:21:49Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,137 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.view.CourseDatesPageFragment\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val dates_banner_info: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val course_date_blocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missed_deadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missed_gated_content: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learner_is_full_access: Boolean = false,\n+        @SerializedName(\"user_timezone\") val user_timezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verified_upgrade_link: String = \"\",\n+        var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1MDcwMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488950703", "bodyText": "Need to update the method name as per the functionality.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:23:12Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,137 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.view.CourseDatesPageFragment\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val dates_banner_info: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val course_date_blocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missed_deadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missed_gated_content: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learner_is_full_access: Boolean = false,\n+        @SerializedName(\"user_timezone\") val user_timezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verified_upgrade_link: String = \"\",\n+        var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun populateCourseDates() {\n+        populateCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Rearrange the date blocks according to design and stack all the blocks of same date in one key\n+     */\n+    private fun populateCourseDatesInBlock() {", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1MTA0Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488951046", "bodyText": "We are adopting camelCase notation for naming a variable/data member, so need to update.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:23:50Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDatesBannerInfo.kt", "diffHunk": "@@ -0,0 +1,11 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+\n+\n+data class CourseDatesBannerInfo(\n+        @SerializedName(\"missed_deadlines\") val missed_deadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missed_gated_content: Boolean = false,\n+        @SerializedName(\"verified_upgrade_link\") val verified_upgrade_link: String = \"\",\n+        @SerializedName(\"content_type_gating_enabled\") val content_type_gating_enabled: Boolean = false", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1MjE1Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488952157", "bodyText": "Please add the test cases against these utility methods.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:25:50Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,137 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+import org.edx.mobile.view.CourseDatesPageFragment\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val dates_banner_info: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val course_date_blocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missed_deadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missed_gated_content: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learner_is_full_access: Boolean = false,\n+        @SerializedName(\"user_timezone\") val user_timezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verified_upgrade_link: String = \"\",\n+        var data: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun populateCourseDates() {\n+        populateCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Rearrange the date blocks according to design and stack all the blocks of same date in one key\n+     */\n+    private fun populateCourseDatesInBlock() {", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1MzA1OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488953059", "bodyText": "IMO getCourseDates is more appropriate.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:27:33Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/course/CourseService.java", "diffHunk": "@@ -134,6 +135,9 @@ public CourseService get() {\n     @POST(\"/api/completion/v1/completion-batch\")\n     Call<JSONObject> markBlocksCompletion(@Body BlocksCompletionBody completionBody);\n \n+    @GET(\"api/course_home/v1/dates/{course_key}\")\n+    Call<CourseDates> getCourseDate(@Path(\"course_key\") String courseId);", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1MzkxNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488953915", "bodyText": "IMO getStringArgument is more suitable here.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:29:12Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/base/BaseFragment.java", "diffHunk": "@@ -29,6 +30,19 @@ public void onCreate(Bundle savedInstanceState) {\n         EventBus.getDefault().post(new NewRelicEvent(getClass().getSimpleName()));\n     }\n \n+    public Context getContextOrThrow() {\n+        if (getContext() != null)\n+            return getContext();\n+        throw new IllegalStateException(\"Context can only be accessed when attached with activity\");\n+    }\n+\n+    public String getArgumentString(String key) {", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NDcwOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488954709", "bodyText": "is it approved by the product?", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:30:43Z", "path": "OpenEdXMobile/res/values/strings.xml", "diffHunk": "@@ -232,6 +232,8 @@\n     <string name=\"label_ended\">Ended {date}</string>\n     <!-- Label for date when course is ending -->\n     <string name=\"label_ending\">Ending {date}</string>\n+    <!-- Error Message when course dates are not available -->\n+    <string name=\"course_dates_unavailable_message\">Course dates are not currently available.</string>", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTI3Mjk3MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r489272971", "bodyText": "it was suggested by iOS", "author": "omerhabib26", "createdAt": "2020-09-16T08:51:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NDcwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM2MzQ2Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r489363462", "bodyText": "@mumer92 is this string approved by PO ?", "author": "omerhabib26", "createdAt": "2020-09-16T11:27:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NDcwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM4MjYyOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r489382629", "bodyText": "@omerhabib26 @farhan\nThis string was already in the iOS code base when web view was being used, this error was shown if web view was not loaded properly, so now this string is being used in native dates view if api returns error.", "author": "mumer92", "createdAt": "2020-09-16T12:02:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NDcwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NTczNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488955735", "bodyText": "better to use ErrorHandlingCallback instated of.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:32:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/viewModel/CourseDateViewModel.kt", "diffHunk": "@@ -0,0 +1,71 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.lifecycle.LiveData\n+import androidx.lifecycle.MutableLiveData\n+import androidx.lifecycle.ViewModel\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.model.course.CourseDates\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+\n+class CourseDateViewModel(private val courseAPI: CourseAPI) : ViewModel() {\n+\n+    private val _showLoader = MutableLiveData<Boolean>()\n+    val showLoader: LiveData<Boolean>\n+        get() = _showLoader\n+\n+    private val _swipeRefresh = MutableLiveData<Boolean>()\n+    val swipeRefresh: LiveData<Boolean>\n+        get() = _swipeRefresh\n+\n+    private val _courseDates = MutableLiveData<CourseDates>()\n+    val courseDates: LiveData<CourseDates>\n+        get() = _courseDates\n+\n+    private val _errorMessage = MutableLiveData<Throwable>()\n+    val errorMessage: LiveData<Throwable>\n+        get() = _errorMessage\n+\n+    private lateinit var courseID: String\n+\n+    fun startViewModel(courseID: String) {\n+        this.courseID = courseID\n+        fetchCourseDates()\n+    }\n+\n+    fun fetchCourseDates() {\n+        _errorMessage.value = null\n+        _swipeRefresh.value = false\n+        _showLoader.value = true\n+        courseAPI.getCourseDates(courseID).enqueue(object : Callback<CourseDates> {", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTI5NDI5Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r489294293", "bodyText": "ErrorHandlingCallback required context", "author": "omerhabib26", "createdAt": "2020-09-16T09:24:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NTczNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NzI5NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r488957295", "bodyText": "I think there is no need to update the generic implementation for the single usage only.", "author": "farhan-arshad-dev", "createdAt": "2020-09-15T20:35:35Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/custom/IconProgressBar.java", "diffHunk": "@@ -89,6 +90,10 @@ public void setIndeterminateIconColor(@NonNull ColorStateList colorStateList) {\n         }\n     }\n \n+    public void showProgress(boolean isShow) {\n+        this.setVisibility(isShow ? View.VISIBLE : View.GONE);", "originalCommit": "40f7cac752eaaf41f776940f8d6090db7e6e60fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDAwMjc4MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490002781", "bodyText": "IMO, the following is better.\n// To enable data binding with kotlin", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T06:34:57Z", "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -25,6 +25,7 @@ apply plugin: 'edxapp'\n apply plugin: 'kotlin-android-extensions'\n apply plugin: 'com.android.application'\n apply plugin: 'kotlin-android'\n+apply plugin: 'kotlin-kapt' //used for data binding utils functions", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc2NTAyNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490765024", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T07:49:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDAwMjc4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDExNzE2NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490117164", "bodyText": "IMO onDateClick click is more appropriate here.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T09:51:33Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+\n+    @Inject\n+    private lateinit var environment: EdxEnvironment\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc3Mzk0NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490773944", "bodyText": "changed to \"onDateItemClick\"", "author": "omerhabib26", "createdAt": "2020-09-18T08:05:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDExNzE2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDE3ODQwMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490178401", "bodyText": "IMO, it's better to inject directly in CourseDatesRepository.\nref: https://medium.com/@amtechnovation/android-architecture-component-mvvm-part-1-a2e7cff07a76", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T11:44:50Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3ODUwMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490878503", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:18:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDE3ODQwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDE4NTQ5OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490185499", "bodyText": "Remove courseAPI parameter after directly inject in CourseDatesRepository, and pass Context if required.\nIMO it will make more generic for future migration to MVVM.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T11:56:54Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+\n+    @Inject\n+    private lateinit var environment: EdxEnvironment\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return errorNotification.isShowing\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View {\n+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        viewModel = ViewModelProvider(this, ViewModelFactory(courseAPI = courseAPI)).get(CourseDateViewModel::class.java)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3OTc2Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490879766", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:21:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDE4NTQ5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIyNzU2MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490227561", "bodyText": "IMO there is no need to create 2 different methods there should only one method is enough named fetchCourseDates. Also no need to store courseID.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T13:05:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/viewModel/CourseDateViewModel.kt", "diffHunk": "@@ -0,0 +1,73 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.lifecycle.LiveData\n+import androidx.lifecycle.MutableLiveData\n+import androidx.lifecycle.ViewModel\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.model.Result\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.repositorie.CourseDatesRepository\n+import retrofit2.Response\n+import org.edx.mobile.http.model.NetworkResponseCallback as NetworkResponseCallback1\n+\n+class CourseDateViewModel(val courseAPI: CourseAPI) : ViewModel() {\n+\n+    private val repository: CourseDatesRepository = CourseDatesRepository.getInstance(courseAPI = courseAPI)\n+\n+    private val _showLoader = MutableLiveData<Boolean>()\n+    val showLoader: LiveData<Boolean>\n+        get() = _showLoader\n+\n+    private val _swipeRefresh = MutableLiveData<Boolean>()\n+    val swipeRefresh: LiveData<Boolean>\n+        get() = _swipeRefresh\n+\n+    private val _courseDates = MutableLiveData<CourseDates>()\n+    val courseDates: LiveData<CourseDates>\n+        get() = _courseDates\n+\n+    private val _errorMessage = MutableLiveData<Throwable>()\n+    val errorMessage: LiveData<Throwable>\n+        get() = _errorMessage\n+\n+    private lateinit var courseID: String\n+\n+    fun startViewModel(courseID: String) {\n+        this.courseID = courseID\n+        fetchCourseDates()", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NTU3Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490885576", "bodyText": "Implemented", "author": "omerhabib26", "createdAt": "2020-09-18T11:31:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIyNzU2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI4NzQ0MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490287440", "bodyText": "Better to receive context, and the courseApi instance through RoboGuice.getInjector(context).getInstance(CourseAPI::class.java)", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T14:22:32Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/repositorie/CourseDatesRepository.kt", "diffHunk": "@@ -0,0 +1,38 @@\n+package org.edx.mobile.repositorie\n+\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.model.NetworkResponseCallback\n+import org.edx.mobile.http.model.Result\n+import org.edx.mobile.model.course.CourseDates\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+\n+class CourseDatesRepository(val courseAPI: CourseAPI) {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc2ODgwMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490768803", "bodyText": "Removed and injected CourseAPI directly through using MainApplication.application.applicationContext in Repository", "author": "omerhabib26", "createdAt": "2020-09-18T07:55:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI4NzQ0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI4ODc2Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490288767", "bodyText": "I think there is no need to check the null, cuz instance is non-static.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T14:24:14Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/repositorie/CourseDatesRepository.kt", "diffHunk": "@@ -0,0 +1,38 @@\n+package org.edx.mobile.repositorie\n+\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.model.NetworkResponseCallback\n+import org.edx.mobile.http.model.Result\n+import org.edx.mobile.model.course.CourseDates\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+\n+class CourseDatesRepository(val courseAPI: CourseAPI) {\n+    companion object {\n+        private var instance: CourseDatesRepository? = null\n+        fun getInstance(courseAPI: CourseAPI): CourseDatesRepository {\n+            instance?.let { it ->", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc3MDE3Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490770172", "bodyText": "it is a static object and used for singlton purpose defined in companion object", "author": "omerhabib26", "createdAt": "2020-09-18T07:58:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI4ODc2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5MDI3Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490290277", "bodyText": "directly initialize to instance instated of.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T14:26:05Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/repositorie/CourseDatesRepository.kt", "diffHunk": "@@ -0,0 +1,38 @@\n+package org.edx.mobile.repositorie\n+\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.model.NetworkResponseCallback\n+import org.edx.mobile.http.model.Result\n+import org.edx.mobile.model.course.CourseDates\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+\n+class CourseDatesRepository(val courseAPI: CourseAPI) {\n+    companion object {\n+        private var instance: CourseDatesRepository? = null\n+        fun getInstance(courseAPI: CourseAPI): CourseDatesRepository {\n+            instance?.let { it ->\n+                return it\n+            }\n+            val repository = CourseDatesRepository(courseAPI = courseAPI)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3MjY3NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490872675", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:06:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5MDI3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5MDYxOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490290618", "bodyText": "better to rename repository.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T14:26:31Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/repositorie/CourseDatesRepository.kt", "diffHunk": "@@ -0,0 +1,38 @@\n+package org.edx.mobile.repositorie\n+\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.model.NetworkResponseCallback\n+import org.edx.mobile.http.model.Result\n+import org.edx.mobile.model.course.CourseDates\n+import retrofit2.Call\n+import retrofit2.Callback\n+import retrofit2.Response\n+\n+class CourseDatesRepository(val courseAPI: CourseAPI) {\n+    companion object {\n+        private var instance: CourseDatesRepository? = null", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3MDg2NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490870864", "bodyText": "used instance for singlton purpose as a mutable property", "author": "omerhabib26", "createdAt": "2020-09-18T11:03:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5MDYxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5NTQzOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490295438", "bodyText": "no need to define an alias.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T14:32:42Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/viewModel/CourseDateViewModel.kt", "diffHunk": "@@ -0,0 +1,73 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.lifecycle.LiveData\n+import androidx.lifecycle.MutableLiveData\n+import androidx.lifecycle.ViewModel\n+import okhttp3.MediaType\n+import okhttp3.ResponseBody\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.model.Result\n+import org.edx.mobile.model.course.CourseDates\n+import org.edx.mobile.repositorie.CourseDatesRepository\n+import retrofit2.Response\n+import org.edx.mobile.http.model.NetworkResponseCallback as NetworkResponseCallback1", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NTY2Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490885666", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-09-18T11:31:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5NTQzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5NzE4Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490297183", "bodyText": "Need docString, and inspiration for this class.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T14:34:34Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/http/model/NetworkResponse.kt", "diffHunk": "@@ -0,0 +1,11 @@\n+package org.edx.mobile.http.model\n+\n+sealed class Result<out R> {\n+    data class Success<out T>(val isSuccessful: Boolean, val data: T?, val code: Int, val message: String) : Result<T>()\n+    data class Error(val throwable: Throwable) : Result<Nothing>()\n+}\n+\n+interface NetworkResponseCallback<T>{\n+    fun onSuccess(result: Result.Success<T>)\n+    fun onError(error: Result.Error)\n+}", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg2MDY0MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490860641", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:43:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI5NzE4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzMDcxOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490330718", "bodyText": "it's better to add this check in CourseDateViewModel -> onSuccess.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T15:11:07Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+\n+    @Inject\n+    private lateinit var environment: EdxEnvironment\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return errorNotification.isShowing\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View {\n+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        viewModel = ViewModelProvider(this, ViewModelFactory(courseAPI = courseAPI)).get(CourseDateViewModel::class.java)\n+\n+        errorNotification = FullScreenErrorNotification(binding.swipeContainer)\n+\n+        binding.swipeContainer.setOnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            binding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            viewModel.fetchCourseDates(true)\n+        }\n+        UiUtil.setSwipeRefreshLayoutColors(binding.swipeContainer)\n+        initObserver()\n+        viewModel.startViewModel(courseID = getStringArgument(Router.EXTRA_COURSE_ID))\n+    }\n+\n+    private fun initObserver() {\n+        viewModel.showLoader.observe(this, Observer { showLoader ->\n+            binding.loadingIndicator.loadingIndicator.visibility = if (showLoader) View.VISIBLE else View.GONE\n+        })\n+\n+        viewModel.courseDates.observe(this, Observer { dates ->\n+            if (dates.courseDateBlocks.isNullOrEmpty()) {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4MzAyMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490883020", "bodyText": "we are showing local msg from string.xml based on empty dates list which required context", "author": "omerhabib26", "createdAt": "2020-09-18T11:27:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzMDcxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzMjAwOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490332008", "bodyText": "I think the following code works the same as above.\nif (throwable != null) {\n                if (throwable is HttpStatusException) {\n                    when (throwable.statusCode) {\n                        HttpStatus.UNAUTHORIZED -> {\n                            environment.router?.forceLogout(contextOrThrow,\n                                    environment.analyticsRegistry,\n                                    environment.notificationDelegate)\n                            return@Observer\n                        }\n                    }\n                }\n                errorNotification.showError(contextOrThrow, throwable, -1, null)\n            }", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T15:12:50Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+\n+    @Inject\n+    private lateinit var environment: EdxEnvironment\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return errorNotification.isShowing\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View {\n+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        viewModel = ViewModelProvider(this, ViewModelFactory(courseAPI = courseAPI)).get(CourseDateViewModel::class.java)\n+\n+        errorNotification = FullScreenErrorNotification(binding.swipeContainer)\n+\n+        binding.swipeContainer.setOnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            binding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            viewModel.fetchCourseDates(true)\n+        }\n+        UiUtil.setSwipeRefreshLayoutColors(binding.swipeContainer)\n+        initObserver()\n+        viewModel.startViewModel(courseID = getStringArgument(Router.EXTRA_COURSE_ID))\n+    }\n+\n+    private fun initObserver() {\n+        viewModel.showLoader.observe(this, Observer { showLoader ->\n+            binding.loadingIndicator.loadingIndicator.visibility = if (showLoader) View.VISIBLE else View.GONE\n+        })\n+\n+        viewModel.courseDates.observe(this, Observer { dates ->\n+            if (dates.courseDateBlocks.isNullOrEmpty()) {\n+                viewModel.setError(HttpStatus.NO_CONTENT, getString(R.string.course_dates_unavailable_message))\n+            } else {\n+                dates.organiseCourseDates()\n+                binding.rvDates.apply {\n+                    layoutManager = LinearLayoutManager(context)\n+                    adapter = CourseDatesAdapter(dates.courseDatesMap, dates.sortKeys, onLinkClick)\n+                }\n+            }\n+        })\n+\n+        viewModel.errorMessage.observe(this, Observer { throwable ->\n+            if (throwable != null) {\n+                if (throwable is HttpStatusException) {\n+                    when (throwable.statusCode) {\n+                        HttpStatus.UNAUTHORIZED -> {\n+                            environment.router?.forceLogout(contextOrThrow,\n+                                    environment.analyticsRegistry,\n+                                    environment.notificationDelegate)\n+                        }\n+                        else ->\n+                            errorNotification.showError(contextOrThrow, throwable, -1, null)\n+                    }\n+                } else {\n+                    errorNotification.showError(contextOrThrow, throwable, -1, null)\n+                }", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4MzgzOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490883839", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:28:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzMjAwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzNzAyNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490337027", "bodyText": "need to remove the extra line.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T15:19:34Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDatesBannerInfo.kt", "diffHunk": "@@ -0,0 +1,11 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+\n+", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg2NDgyOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490864828", "bodyText": "Removed", "author": "omerhabib26", "createdAt": "2020-09-18T10:51:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzNzAyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzOTUyMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490339523", "bodyText": "need java doc for dateBlockTag  data member.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T15:23:12Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDateBlock.kt", "diffHunk": "@@ -0,0 +1,47 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDateBlock(\n+        @SerializedName(\"complete\") var complete: Boolean = false,\n+        @SerializedName(\"date\") val date: String = \"\",\n+        @SerializedName(\"date_type\") var dateType: String? = \"\",\n+        @SerializedName(\"description\") val description: String = \"\",\n+        @SerializedName(\"learner_has_access\") var learnerHasAccess: Boolean = false,\n+        @SerializedName(\"link\") val link: String = \"\",\n+        @SerializedName(\"link_text\") val linkText: String = \"\",\n+        @SerializedName(\"title\") val title: String = \"\",\n+        var dateBlockTag: CourseDateType = CourseDateType.BLANK", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5MzA4MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490893081", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T11:43:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzOTUyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM0MDYwNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490340604", "bodyText": "can remove CourseDateBlock in CourseDateBlock.DateTypes.TODAY_DATE", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T15:24:31Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDateBlock.kt", "diffHunk": "@@ -0,0 +1,47 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDateBlock(\n+        @SerializedName(\"complete\") var complete: Boolean = false,\n+        @SerializedName(\"date\") val date: String = \"\",\n+        @SerializedName(\"date_type\") var dateType: String? = \"\",\n+        @SerializedName(\"description\") val description: String = \"\",\n+        @SerializedName(\"learner_has_access\") var learnerHasAccess: Boolean = false,\n+        @SerializedName(\"link\") val link: String = \"\",\n+        @SerializedName(\"link_text\") val linkText: String = \"\",\n+        @SerializedName(\"title\") val title: String = \"\",\n+        var dateBlockTag: CourseDateType = CourseDateType.BLANK\n+\n+) {\n+    companion object {\n+        fun getTodayDateBlock() = CourseDateBlock(date = DateUtil.getCurrentTimeStamp(), dateType = CourseDateBlock.DateTypes.TODAY_DATE)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5MzEyMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490893122", "bodyText": "Removed", "author": "omerhabib26", "createdAt": "2020-09-18T11:44:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM0MDYwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM0NzIxMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490347212", "bodyText": "need docstring for these data members.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T15:33:28Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5OTU0Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490899542", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T11:57:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM0NzIxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM2MTI1NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490361254", "bodyText": "no need to store the keys separately, as keys can be get from courseDatesMap.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T15:53:33Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5OTQ5Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490899492", "bodyText": "storing key separately to maintin the sorting of dates", "author": "omerhabib26", "createdAt": "2020-09-18T11:57:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM2MTI1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM3MTU4Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490371583", "bodyText": "Utility method to check that list contains today's date block or not.\nIMO above one is better.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T16:06:44Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Map the date blocks according to dates and stack all the blocks of same date against one key\n+     */\n+    private fun organiseCourseDatesInBlock() {\n+        courseDatesMap = HashMap()\n+        sortKeys = ArrayList()\n+        courseDateBlocks?.forEach { item ->\n+            if (courseDatesMap.containsKey(item.getSimpleDateTime())) {\n+                (courseDatesMap[item.getSimpleDateTime()] as ArrayList).add(item)\n+            } else {\n+                courseDatesMap[item.getSimpleDateTime()] = arrayListOf(item)\n+                sortKeys.add(item.getSimpleDateTime())\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Utility Method to check if the list contains the today date block or not", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5NjAyMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490896023", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:50:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM3MTU4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM3MzUxOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490373519", "bodyText": "I think the app should sort the map ascending dates order.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T16:08:26Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Map the date blocks according to dates and stack all the blocks of same date against one key\n+     */\n+    private fun organiseCourseDatesInBlock() {\n+        courseDatesMap = HashMap()\n+        sortKeys = ArrayList()\n+        courseDateBlocks?.forEach { item ->\n+            if (courseDatesMap.containsKey(item.getSimpleDateTime())) {\n+                (courseDatesMap[item.getSimpleDateTime()] as ArrayList).add(item)\n+            } else {\n+                courseDatesMap[item.getSimpleDateTime()] = arrayListOf(item)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5NTcwOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490895709", "bodyText": "due to multiple time of adding data in the map, sorting got disturbed", "author": "omerhabib26", "createdAt": "2020-09-18T11:49:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM3MzUxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM4MzcxNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490383717", "bodyText": "Add today's date block manually if not present in the date list\nis better IMO.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T16:17:17Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Map the date blocks according to dates and stack all the blocks of same date against one key\n+     */\n+    private fun organiseCourseDatesInBlock() {\n+        courseDatesMap = HashMap()\n+        sortKeys = ArrayList()\n+        courseDateBlocks?.forEach { item ->\n+            if (courseDatesMap.containsKey(item.getSimpleDateTime())) {\n+                (courseDatesMap[item.getSimpleDateTime()] as ArrayList).add(item)\n+            } else {\n+                courseDatesMap[item.getSimpleDateTime()] = arrayListOf(item)\n+                sortKeys.add(item.getSimpleDateTime())\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Utility Method to check if the list contains the today date block or not\n+     */\n+    private fun isContainToday(): Boolean {\n+        courseDateBlocks?.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    /**\n+     * Add today date block manually if not present in date list", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5OTE3OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490899178", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-09-18T11:56:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM4MzcxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM5OTQ2Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490399467", "bodyText": "this condition is not working properly if the app needs to add today's block in the last position.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T16:31:03Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Map the date blocks according to dates and stack all the blocks of same date against one key\n+     */\n+    private fun organiseCourseDatesInBlock() {\n+        courseDatesMap = HashMap()\n+        sortKeys = ArrayList()\n+        courseDateBlocks?.forEach { item ->\n+            if (courseDatesMap.containsKey(item.getSimpleDateTime())) {\n+                (courseDatesMap[item.getSimpleDateTime()] as ArrayList).add(item)\n+            } else {\n+                courseDatesMap[item.getSimpleDateTime()] = arrayListOf(item)\n+                sortKeys.add(item.getSimpleDateTime())\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Utility Method to check if the list contains the today date block or not\n+     */\n+    private fun isContainToday(): Boolean {\n+        courseDateBlocks?.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    /**\n+     * Add today date block manually if not present in date list\n+     */\n+    private fun addTodayBlock() {\n+        if (DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5NzEzOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490897139", "bodyText": "IMO, We shouldn't add today's block before the course started or after the course date expires or completed.", "author": "omerhabib26", "createdAt": "2020-09-18T11:52:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM5OTQ2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0MDgwMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491740801", "bodyText": "not sure, but on web end show today's block before the course started or after the course date expires\nShow before start date:\n\nShow after end date:", "author": "farhan-arshad-dev", "createdAt": "2020-09-20T22:14:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM5OTQ2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQwMDA2Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490400062", "bodyText": "need to remove the extra line.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T16:31:59Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3OTY3Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490879673", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-09-18T11:21:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQwMDA2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3NzYyMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490477621", "bodyText": "Need more detailed comment for this method.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T18:43:31Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Map the date blocks according to dates and stack all the blocks of same date against one key\n+     */\n+    private fun organiseCourseDatesInBlock() {\n+        courseDatesMap = HashMap()\n+        sortKeys = ArrayList()\n+        courseDateBlocks?.forEach { item ->\n+            if (courseDatesMap.containsKey(item.getSimpleDateTime())) {\n+                (courseDatesMap[item.getSimpleDateTime()] as ArrayList).add(item)\n+            } else {\n+                courseDatesMap[item.getSimpleDateTime()] = arrayListOf(item)\n+                sortKeys.add(item.getSimpleDateTime())\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Utility Method to check if the list contains the today date block or not\n+     */\n+    private fun isContainToday(): Boolean {\n+        courseDateBlocks?.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    /**\n+     * Add today date block manually if not present in date list\n+     */\n+    private fun addTodayBlock() {\n+        if (DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+            var ind = 0\n+            sortKeys.forEachIndexed { index, str ->\n+                if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                    ind = index + 1\n+                }\n+            }\n+            sortKeys.add(ind, CourseDateBlock.getTodayDateBlock().getSimpleDateTime())\n+        }\n+    }\n+\n+    /**\n+     * Set the Date Block Tag against single date set\n+     */\n+    private fun setDateBlockTag() {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5OTExNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490899115", "bodyText": "Updated", "author": "omerhabib26", "createdAt": "2020-09-18T11:56:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3NzYyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3NzY3OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490477679", "bodyText": "Need more detailed comment for this method.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T18:43:37Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Map the date blocks according to dates and stack all the blocks of same date against one key\n+     */\n+    private fun organiseCourseDatesInBlock() {\n+        courseDatesMap = HashMap()\n+        sortKeys = ArrayList()\n+        courseDateBlocks?.forEach { item ->\n+            if (courseDatesMap.containsKey(item.getSimpleDateTime())) {\n+                (courseDatesMap[item.getSimpleDateTime()] as ArrayList).add(item)\n+            } else {\n+                courseDatesMap[item.getSimpleDateTime()] = arrayListOf(item)\n+                sortKeys.add(item.getSimpleDateTime())\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Utility Method to check if the list contains the today date block or not\n+     */\n+    private fun isContainToday(): Boolean {\n+        courseDateBlocks?.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    /**\n+     * Add today date block manually if not present in date list\n+     */\n+    private fun addTodayBlock() {\n+        if (DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+            var ind = 0\n+            sortKeys.forEachIndexed { index, str ->\n+                if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                    ind = index + 1\n+                }\n+            }\n+            sortKeys.add(ind, CourseDateBlock.getTodayDateBlock().getSimpleDateTime())\n+        }\n+    }\n+\n+    /**\n+     * Set the Date Block Tag against single date set\n+     */\n+    private fun setDateBlockTag() {\n+        var dueNextCount = 0\n+        sortKeys.forEach { key ->\n+            courseDatesMap[key]?.forEach { item ->\n+                var dateBlockTag: CourseDateType = getDateTypeTag(item)\n+                //Setting Due Next only for first occurrence\n+                if (dateBlockTag == CourseDateType.DUE_NEXT) {\n+                    if (dueNextCount == 0)\n+                        dueNextCount += 1\n+                    else\n+                        dateBlockTag = CourseDateType.BLANK\n+                }\n+                item.dateBlockTag = dateBlockTag\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Method to get the Tag to be set on Pill/Badge of date block\n+     */\n+    private fun getDateTypeTag(item: CourseDateBlock): CourseDateType {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5ODk4OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490898988", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T11:56:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3NzY3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3ODIwMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490478202", "bodyText": "renamed it to a more appropriate method name.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T18:44:28Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,136 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockTag()\n+    }\n+\n+    /**\n+     * Map the date blocks according to dates and stack all the blocks of same date against one key\n+     */\n+    private fun organiseCourseDatesInBlock() {\n+        courseDatesMap = HashMap()\n+        sortKeys = ArrayList()\n+        courseDateBlocks?.forEach { item ->\n+            if (courseDatesMap.containsKey(item.getSimpleDateTime())) {\n+                (courseDatesMap[item.getSimpleDateTime()] as ArrayList).add(item)\n+            } else {\n+                courseDatesMap[item.getSimpleDateTime()] = arrayListOf(item)\n+                sortKeys.add(item.getSimpleDateTime())\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Utility Method to check if the list contains the today date block or not\n+     */\n+    private fun isContainToday(): Boolean {\n+        courseDateBlocks?.forEach {\n+            if (it.isToday()) {\n+                return true\n+            }\n+        }\n+        return false\n+    }\n+\n+    /**\n+     * Add today date block manually if not present in date list\n+     */\n+    private fun addTodayBlock() {\n+        if (DateUtil.isDatePast(sortKeys.first()) && DateUtil.isDateDue(sortKeys.last())) {\n+            var ind = 0\n+            sortKeys.forEachIndexed { index, str ->\n+                if (index < sortKeys.lastIndex && DateUtil.isDatePast(str) && DateUtil.isDateDue(sortKeys[index + 1])) {\n+                    ind = index + 1\n+                }\n+            }\n+            sortKeys.add(ind, CourseDateBlock.getTodayDateBlock().getSimpleDateTime())\n+        }\n+    }\n+\n+    /**\n+     * Set the Date Block Tag against single date set\n+     */\n+    private fun setDateBlockTag() {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg5OTA2MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490899061", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:56:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3ODIwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4MzYyMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490483623", "bodyText": "no need to add the word Utility.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T18:54:33Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/base/BaseFragment.java", "diffHunk": "@@ -29,6 +30,28 @@ public void onCreate(Bundle savedInstanceState) {\n         EventBus.getDefault().post(new NewRelicEvent(getClass().getSimpleName()));\n     }\n \n+    /**\n+     * Utility method to make getContext null safe", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NzM0MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490857340", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T10:36:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4MzYyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4MzY5Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490483697", "bodyText": "no need to add the word Utility.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T18:54:41Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/base/BaseFragment.java", "diffHunk": "@@ -29,6 +30,28 @@ public void onCreate(Bundle savedInstanceState) {\n         EventBus.getDefault().post(new NewRelicEvent(getClass().getSimpleName()));\n     }\n \n+    /**\n+     * Utility method to make getContext null safe\n+     * @return context if not null or throw exception else wise\n+     */\n+    public Context getContextOrThrow() {\n+        if (getContext() != null)\n+            return getContext();\n+        throw new IllegalStateException(\"Context can only be accessed when attached with activity\");\n+    }\n+\n+    /**\n+     * Utility method to get String argument null safe", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NzMxMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490857312", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T10:36:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4MzY5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4NTg0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490485843", "bodyText": "can directly return the value.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T18:58:38Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -62,6 +62,67 @@ public static String formatCourseNotStartedDate(String date) {\n         }\n     }\n \n+    /**\n+     * This function returns course date in the EEE, MMM dd, yyyy format\n+     */\n+    public static String formatCourseDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEE, MMM dd, yyyy\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);\n+            return formattedDate;", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxODczMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490918732", "bodyText": "Implemented", "author": "omerhabib26", "createdAt": "2020-09-18T12:36:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4NTg0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4NzE0Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490487146", "bodyText": "/**\n     * This function match the provide date with the current date\n     *\n     * @return true if the provided date is today else false.\n     */\nis better.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:00:54Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -62,6 +62,67 @@ public static String formatCourseNotStartedDate(String date) {\n         }\n     }\n \n+    /**\n+     * This function returns course date in the EEE, MMM dd, yyyy format\n+     */\n+    public static String formatCourseDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEE, MMM dd, yyyy\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);\n+            return formattedDate;\n+        } catch (Exception e) {\n+            //This will be removed when the PR for log changes is merged with master\n+            logger.error(e);\n+            return \"\";\n+        }\n+    }\n+\n+    /**\n+     * This function match the provide date with current date\n+     *\n+     * @return true if the provided date is today\n+     */", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxODY1Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490918653", "bodyText": "Updated", "author": "omerhabib26", "createdAt": "2020-09-18T12:36:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4NzE0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4OTE0Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490489147", "bodyText": "IMO: isPastDate is more suitable here.\nneed doc-string here.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:04:31Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -62,6 +62,67 @@ public static String formatCourseNotStartedDate(String date) {\n         }\n     }\n \n+    /**\n+     * This function returns course date in the EEE, MMM dd, yyyy format\n+     */\n+    public static String formatCourseDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEE, MMM dd, yyyy\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);\n+            return formattedDate;\n+        } catch (Exception e) {\n+            //This will be removed when the PR for log changes is merged with master\n+            logger.error(e);\n+            return \"\";\n+        }\n+    }\n+\n+    /**\n+     * This function match the provide date with current date\n+     *\n+     * @return true if the provided date is today\n+     */\n+    public static boolean isDateToday(String date) {\n+        return convertToSimpleDate(date).equals(convertToSimpleDate(getCurrentTimeStamp()));\n+    }\n+\n+    public static boolean isDatePast(String date) {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxODQyNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490918427", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T12:36:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ4OTE0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MDUwMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490490502", "bodyText": "no need to get current date in string form and then convert into a date object, we can directly use new Date() or Calendar.getInstance().getTime().", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:06:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -62,6 +62,67 @@ public static String formatCourseNotStartedDate(String date) {\n         }\n     }\n \n+    /**\n+     * This function returns course date in the EEE, MMM dd, yyyy format\n+     */\n+    public static String formatCourseDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEE, MMM dd, yyyy\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);\n+            return formattedDate;\n+        } catch (Exception e) {\n+            //This will be removed when the PR for log changes is merged with master\n+            logger.error(e);\n+            return \"\";\n+        }\n+    }\n+\n+    /**\n+     * This function match the provide date with current date\n+     *\n+     * @return true if the provided date is today\n+     */\n+    public static boolean isDateToday(String date) {\n+        return convertToSimpleDate(date).equals(convertToSimpleDate(getCurrentTimeStamp()));\n+    }\n+\n+    public static boolean isDatePast(String date) {\n+        Date currentDate = convertToDate(getCurrentTimeStamp());", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxODYxOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490918618", "bodyText": "Updated", "author": "omerhabib26", "createdAt": "2020-09-18T12:36:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MDUwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MDU2Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490490566", "bodyText": "no need to get current date in string form and then convert into a date object, we can directly use new Date() or Calendar.getInstance().getTime().", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:06:54Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -62,6 +62,67 @@ public static String formatCourseNotStartedDate(String date) {\n         }\n     }\n \n+    /**\n+     * This function returns course date in the EEE, MMM dd, yyyy format\n+     */\n+    public static String formatCourseDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEE, MMM dd, yyyy\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);\n+            return formattedDate;\n+        } catch (Exception e) {\n+            //This will be removed when the PR for log changes is merged with master\n+            logger.error(e);\n+            return \"\";\n+        }\n+    }\n+\n+    /**\n+     * This function match the provide date with current date\n+     *\n+     * @return true if the provided date is today\n+     */\n+    public static boolean isDateToday(String date) {\n+        return convertToSimpleDate(date).equals(convertToSimpleDate(getCurrentTimeStamp()));\n+    }\n+\n+    public static boolean isDatePast(String date) {\n+        Date currentDate = convertToDate(getCurrentTimeStamp());\n+        Date pastDate = convertToDate(date);\n+        if (currentDate != null && pastDate != null) {\n+            return pastDate.compareTo(currentDate) < 0;\n+        }\n+        return false;\n+    }\n+\n+    public static boolean isDateDue(String date) {\n+        Date currentDate = convertToDate(getCurrentTimeStamp());", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxODU0NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490918545", "bodyText": "Updated", "author": "omerhabib26", "createdAt": "2020-09-18T12:36:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MDU2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MDg2MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490490860", "bodyText": "IMO: isDueDate is more suitable here.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:07:27Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -62,6 +62,67 @@ public static String formatCourseNotStartedDate(String date) {\n         }\n     }\n \n+    /**\n+     * This function returns course date in the EEE, MMM dd, yyyy format\n+     */\n+    public static String formatCourseDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEE, MMM dd, yyyy\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);\n+            return formattedDate;\n+        } catch (Exception e) {\n+            //This will be removed when the PR for log changes is merged with master\n+            logger.error(e);\n+            return \"\";\n+        }\n+    }\n+\n+    /**\n+     * This function match the provide date with current date\n+     *\n+     * @return true if the provided date is today\n+     */\n+    public static boolean isDateToday(String date) {\n+        return convertToSimpleDate(date).equals(convertToSimpleDate(getCurrentTimeStamp()));\n+    }\n+\n+    public static boolean isDatePast(String date) {\n+        Date currentDate = convertToDate(getCurrentTimeStamp());\n+        Date pastDate = convertToDate(date);\n+        if (currentDate != null && pastDate != null) {\n+            return pastDate.compareTo(currentDate) < 0;\n+        }\n+        return false;\n+    }\n+\n+    public static boolean isDateDue(String date) {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxODQ5MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490918490", "bodyText": "Updated", "author": "omerhabib26", "createdAt": "2020-09-18T12:36:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MDg2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MjAzMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490492031", "bodyText": "can directly return the value.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:09:41Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DateUtil.java", "diffHunk": "@@ -62,6 +62,67 @@ public static String formatCourseNotStartedDate(String date) {\n         }\n     }\n \n+    /**\n+     * This function returns course date in the EEE, MMM dd, yyyy format\n+     */\n+    public static String formatCourseDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"EEE, MMM dd, yyyy\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);\n+            return formattedDate;\n+        } catch (Exception e) {\n+            //This will be removed when the PR for log changes is merged with master\n+            logger.error(e);\n+            return \"\";\n+        }\n+    }\n+\n+    /**\n+     * This function match the provide date with current date\n+     *\n+     * @return true if the provided date is today\n+     */\n+    public static boolean isDateToday(String date) {\n+        return convertToSimpleDate(date).equals(convertToSimpleDate(getCurrentTimeStamp()));\n+    }\n+\n+    public static boolean isDatePast(String date) {\n+        Date currentDate = convertToDate(getCurrentTimeStamp());\n+        Date pastDate = convertToDate(date);\n+        if (currentDate != null && pastDate != null) {\n+            return pastDate.compareTo(currentDate) < 0;\n+        }\n+        return false;\n+    }\n+\n+    public static boolean isDateDue(String date) {\n+        Date currentDate = convertToDate(getCurrentTimeStamp());\n+        Date dueDate = convertToDate(date);\n+        if (currentDate != null && dueDate != null) {\n+            return dueDate.compareTo(currentDate) > 0;\n+        }\n+        return false;\n+    }\n+\n+    /**\n+     * This function returns Simple date in the yyyy-MM-dd format\n+     */\n+    public static String convertToSimpleDate(String date) {\n+        try {\n+            SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n+            Date startDate = DateUtil.convertToDate(date);\n+\n+            String formattedDate = dateFormat.format(startDate);", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3NjcyNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490876727", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:15:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MjAzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5Mjg0MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490492840", "bodyText": "unnecessary change.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:10:56Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/custom/IconProgressBar.java", "diffHunk": "@@ -10,6 +10,7 @@\n import androidx.annotation.NonNull;\n import androidx.annotation.Nullable;\n import android.util.AttributeSet;\n+import android.view.View;", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NTE1Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490885157", "bodyText": "Removed", "author": "omerhabib26", "createdAt": "2020-09-18T11:31:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5Mjg0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5NTMwNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490495305", "bodyText": "need auto-format.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:15:33Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseDatesAdapter.kt", "diffHunk": "@@ -0,0 +1,74 @@\n+package org.edx.mobile.view.adapters\n+\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.RecyclerView\n+import org.edx.mobile.BR\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.ItemCourseDateBlockBinding\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import java.util.*\n+import kotlin.collections.HashMap\n+\n+class CourseDatesAdapter(private val data: HashMap<String, ArrayList<CourseDateBlock>>, private val keys: ArrayList<String>, private val onLinkClick: OnDateBlockListener) : RecyclerView.Adapter<CourseDatesAdapter.CourseDateHolder>() {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NDg3NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490884874", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:30:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5NTMwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxMzQ2Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490513463", "bodyText": "need auto-format", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:35:59Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,127 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg0NzA3NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490847074", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T10:16:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxMzQ2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxNDI1Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490514257", "bodyText": "need to add sample text for the editor preview.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:36:54Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,127 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <data>\n+\n+        <variable\n+            name=\"dateType\"\n+            type=\"org.edx.mobile.model.course.CourseDateBlock\" />\n+\n+        <variable\n+            name=\"listener\"\n+            type=\"org.edx.mobile.interfaces.OnDateBlockListener\" />\n+\n+        <variable\n+            name=\"list\"\n+            type=\"java.util.ArrayList&lt;org.edx.mobile.model.course.CourseDateBlock&gt;\" />\n+    </data>\n+\n+    <androidx.constraintlayout.widget.ConstraintLayout\n+        android:id=\"@+id/item_container\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:background=\"@color/white\"\n+        android:orientation=\"horizontal\">\n+\n+\n+        <View\n+            android:id=\"@+id/line_above_dot\"\n+            android:layout_width=\"@dimen/width_hairline\"\n+            android:layout_height=\"0dp\"\n+            android:background=\"@drawable/black_line_vertical\"\n+            app:layout_constraintBottom_toTopOf=\"@+id/bullet\"\n+            app:layout_constraintEnd_toEndOf=\"@+id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+        <ImageView\n+            android:id=\"@+id/bullet\"\n+            android:layout_width=\"@dimen/bullet_width\"\n+            android:layout_height=\"@dimen/bullet_height\"\n+            app:layout_constraintBottom_toBottomOf=\"@id/bullet_today\"\n+            app:layout_constraintEnd_toEndOf=\"@id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toTopOf=\"@id/bullet_today\"\n+            binding:bulletBackground=\"@{dateType.dateBlockTag}\"\n+            binding:isDatePast=\"@{dateType.isDatePassed()}\"\n+            binding:isVisible=\"@{!dateType.isToday()}\"\n+            tools:ignore=\"ContentDescription\" />\n+\n+        <ImageView\n+            android:id=\"@+id/bullet_today\"\n+            android:layout_width=\"@dimen/today_bullet_width\"\n+            android:layout_height=\"@dimen/today_bullet_height\"\n+            android:layout_marginStart=\"@dimen/edx_half_margin\"\n+            android:layout_marginTop=\"@dimen/widget_margin_half\"\n+            android:layout_marginEnd=\"@dimen/edx_half_margin\"\n+            android:src=\"@drawable/yellow_circle_black_border\"\n+            android:visibility=\"invisible\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            binding:isVisible=\"@{dateType.isToday()}\"\n+            tools:ignore=\"ContentDescription\"\n+            tools:visibility=\"visible\" />\n+\n+        <View\n+            android:id=\"@+id/line_below_dot\"\n+            android:layout_width=\"@dimen/width_hairline\"\n+            android:layout_height=\"0dp\"\n+            android:background=\"@drawable/black_line_vertical\"\n+            app:layout_constraintBottom_toBottomOf=\"@+id/date_info_container\"\n+            app:layout_constraintEnd_toEndOf=\"@+id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toBottomOf=\"@+id/bullet\" />\n+\n+        <LinearLayout\n+            android:id=\"@+id/date_info_container\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:orientation=\"vertical\"\n+            android:paddingStart=\"@dimen/edx_margin\"\n+            android:paddingBottom=\"@dimen/edx_double_margin\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintStart_toEndOf=\"@+id/bullet\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            binding:addView=\"@{list}\"\n+            binding:clickListener=\"@{listener}\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"horizontal\">\n+\n+                <TextView\n+                    android:id=\"@+id/date\"\n+                    android:layout_width=\"wrap_content\"\n+                    android:layout_height=\"wrap_content\"\n+                    android:text=\"@{dateType.getFormattedDate()}\"\n+                    android:textColor=\"@color/switch_text_color\"\n+                    android:textSize=\"@dimen/edx_large\"\n+                    fontPath=\"fonts/OpenSans-Semibold.ttf\" />\n+\n+                <TextView\n+                    android:id=\"@+id/date_tag\"", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg0NzYyMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490847621", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:17:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxNDI1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxNDMzNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490514335", "bodyText": "need to add sample text for the editor preview.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:36:58Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,127 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <data>\n+\n+        <variable\n+            name=\"dateType\"\n+            type=\"org.edx.mobile.model.course.CourseDateBlock\" />\n+\n+        <variable\n+            name=\"listener\"\n+            type=\"org.edx.mobile.interfaces.OnDateBlockListener\" />\n+\n+        <variable\n+            name=\"list\"\n+            type=\"java.util.ArrayList&lt;org.edx.mobile.model.course.CourseDateBlock&gt;\" />\n+    </data>\n+\n+    <androidx.constraintlayout.widget.ConstraintLayout\n+        android:id=\"@+id/item_container\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:background=\"@color/white\"\n+        android:orientation=\"horizontal\">\n+\n+\n+        <View\n+            android:id=\"@+id/line_above_dot\"\n+            android:layout_width=\"@dimen/width_hairline\"\n+            android:layout_height=\"0dp\"\n+            android:background=\"@drawable/black_line_vertical\"\n+            app:layout_constraintBottom_toTopOf=\"@+id/bullet\"\n+            app:layout_constraintEnd_toEndOf=\"@+id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+        <ImageView\n+            android:id=\"@+id/bullet\"\n+            android:layout_width=\"@dimen/bullet_width\"\n+            android:layout_height=\"@dimen/bullet_height\"\n+            app:layout_constraintBottom_toBottomOf=\"@id/bullet_today\"\n+            app:layout_constraintEnd_toEndOf=\"@id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toTopOf=\"@id/bullet_today\"\n+            binding:bulletBackground=\"@{dateType.dateBlockTag}\"\n+            binding:isDatePast=\"@{dateType.isDatePassed()}\"\n+            binding:isVisible=\"@{!dateType.isToday()}\"\n+            tools:ignore=\"ContentDescription\" />\n+\n+        <ImageView\n+            android:id=\"@+id/bullet_today\"\n+            android:layout_width=\"@dimen/today_bullet_width\"\n+            android:layout_height=\"@dimen/today_bullet_height\"\n+            android:layout_marginStart=\"@dimen/edx_half_margin\"\n+            android:layout_marginTop=\"@dimen/widget_margin_half\"\n+            android:layout_marginEnd=\"@dimen/edx_half_margin\"\n+            android:src=\"@drawable/yellow_circle_black_border\"\n+            android:visibility=\"invisible\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            binding:isVisible=\"@{dateType.isToday()}\"\n+            tools:ignore=\"ContentDescription\"\n+            tools:visibility=\"visible\" />\n+\n+        <View\n+            android:id=\"@+id/line_below_dot\"\n+            android:layout_width=\"@dimen/width_hairline\"\n+            android:layout_height=\"0dp\"\n+            android:background=\"@drawable/black_line_vertical\"\n+            app:layout_constraintBottom_toBottomOf=\"@+id/date_info_container\"\n+            app:layout_constraintEnd_toEndOf=\"@+id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toBottomOf=\"@+id/bullet\" />\n+\n+        <LinearLayout\n+            android:id=\"@+id/date_info_container\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:orientation=\"vertical\"\n+            android:paddingStart=\"@dimen/edx_margin\"\n+            android:paddingBottom=\"@dimen/edx_double_margin\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintStart_toEndOf=\"@+id/bullet\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            binding:addView=\"@{list}\"\n+            binding:clickListener=\"@{listener}\">\n+\n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:orientation=\"horizontal\">\n+\n+                <TextView\n+                    android:id=\"@+id/date\"", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg0NzM1MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490847350", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:16:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUxNDMzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyNjE5Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490526197", "bodyText": "Better to use Badge instated of Tag. as word Badge used in documentation", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T19:57:26Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {\n+\n+    companion object {\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isUserHasAccess\")\n+        fun isViewAccessible(view: View, type: CourseDateType) {\n+            when (type) {\n+                CourseDateType.VERIFIED_ONLY,\n+                CourseDateType.NOT_YET_RELEASED ->\n+                    view.isEnabled = false\n+                else ->\n+                    view.isEnabled = true\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:setText\")\n+        fun setText(textView: TextView, text: String?) {\n+            if (text.isNullOrBlank().not()) {\n+                textView.text = text\n+                textView.visibility = View.VISIBLE\n+            } else {\n+                textView.visibility = View.GONE\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isVisible\")\n+        fun isViewVisible(imageView: ImageView, isVisible: Boolean) {\n+            imageView.visibility = if (isVisible) View.VISIBLE else View.INVISIBLE\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:addView\", \"binding:clickListener\", requireAll = true)\n+        fun addView(linearLayout: LinearLayout, list: ArrayList<CourseDateBlock>, clickListener: OnDateBlockListener) {\n+            val inflater: LayoutInflater = linearLayout.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n+            if (linearLayout.childCount < 2) {\n+                list.forEach { item ->\n+                    val childView = inflater.inflate(R.layout.sub_item_course_date_block, null)\n+\n+                    setText(childView.title, item.title)\n+                    isViewAccessible(childView.title, item.dateBlockTag)\n+\n+                    setText(childView.description, item.description)\n+                    isViewAccessible(childView.description, item.dateBlockTag)\n+\n+                    if (item.showLink()) {\n+                        childView.title.paintFlags = Paint.UNDERLINE_TEXT_FLAG\n+                    }\n+\n+                    childView.setOnClickListener {\n+                        if (item.showLink()) {\n+                            clickListener.onClick(item.link)\n+                        }\n+                    }\n+                    linearLayout.addView(childView)\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:bulletBackground\", \"binding:isDatePast\", requireAll = true)\n+        fun setBulletBackground(bulletView: ImageView, type: CourseDateType, isDatePast: Boolean) {\n+            bulletView.bringToFront()\n+            when (type) {\n+                CourseDateType.PAST_DUE -> {\n+                    bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_gray_circle)\n+                }\n+                CourseDateType.BLANK,\n+                CourseDateType.COMPLETED,\n+                CourseDateType.DUE_NEXT,\n+                CourseDateType.NOT_YET_RELEASED,\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    if (isDatePast && (type == CourseDateType.VERIFIED_ONLY).not()) {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_white_circle)\n+                    } else {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_circle)\n+                    }\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:tagBackground\", \"binding:isToday\", requireAll = true)\n+        fun setTagBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkwMjA4Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490902086", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T12:02:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyNjE5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyODgxOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490528819", "bodyText": "as per feature document text color should be black.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:02:26Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {\n+\n+    companion object {\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isUserHasAccess\")\n+        fun isViewAccessible(view: View, type: CourseDateType) {\n+            when (type) {\n+                CourseDateType.VERIFIED_ONLY,\n+                CourseDateType.NOT_YET_RELEASED ->\n+                    view.isEnabled = false\n+                else ->\n+                    view.isEnabled = true\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:setText\")\n+        fun setText(textView: TextView, text: String?) {\n+            if (text.isNullOrBlank().not()) {\n+                textView.text = text\n+                textView.visibility = View.VISIBLE\n+            } else {\n+                textView.visibility = View.GONE\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isVisible\")\n+        fun isViewVisible(imageView: ImageView, isVisible: Boolean) {\n+            imageView.visibility = if (isVisible) View.VISIBLE else View.INVISIBLE\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:addView\", \"binding:clickListener\", requireAll = true)\n+        fun addView(linearLayout: LinearLayout, list: ArrayList<CourseDateBlock>, clickListener: OnDateBlockListener) {\n+            val inflater: LayoutInflater = linearLayout.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n+            if (linearLayout.childCount < 2) {\n+                list.forEach { item ->\n+                    val childView = inflater.inflate(R.layout.sub_item_course_date_block, null)\n+\n+                    setText(childView.title, item.title)\n+                    isViewAccessible(childView.title, item.dateBlockTag)\n+\n+                    setText(childView.description, item.description)\n+                    isViewAccessible(childView.description, item.dateBlockTag)\n+\n+                    if (item.showLink()) {\n+                        childView.title.paintFlags = Paint.UNDERLINE_TEXT_FLAG\n+                    }\n+\n+                    childView.setOnClickListener {\n+                        if (item.showLink()) {\n+                            clickListener.onClick(item.link)\n+                        }\n+                    }\n+                    linearLayout.addView(childView)\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:bulletBackground\", \"binding:isDatePast\", requireAll = true)\n+        fun setBulletBackground(bulletView: ImageView, type: CourseDateType, isDatePast: Boolean) {\n+            bulletView.bringToFront()\n+            when (type) {\n+                CourseDateType.PAST_DUE -> {\n+                    bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_gray_circle)\n+                }\n+                CourseDateType.BLANK,\n+                CourseDateType.COMPLETED,\n+                CourseDateType.DUE_NEXT,\n+                CourseDateType.NOT_YET_RELEASED,\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    if (isDatePast && (type == CourseDateType.VERIFIED_ONLY).not()) {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_white_circle)\n+                    } else {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_circle)\n+                    }\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:tagBackground\", \"binding:isToday\", requireAll = true)\n+        fun setTagBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n+            if (isToday || type == CourseDateType.TODAY) {\n+                textView.text = CourseDateType.TODAY.getTitle()\n+                textView.setTextColor(Color.BLACK)\n+                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n+            } else {\n+                setText(textView, type.getTitle())\n+                when (type) {\n+                    CourseDateType.VERIFIED_ONLY -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n+                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n+                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n+                                        .colorRes(textView.context, R.color.white),\n+                                null, null, null\n+                        )\n+                    }\n+                    CourseDateType.COMPLETED -> {\n+                        textView.setTextColor(Color.DKGRAY)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxMDM3NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490910375", "bodyText": "updated on doc", "author": "omerhabib26", "createdAt": "2020-09-18T12:20:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyODgxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTM5NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490529395", "bodyText": "better to define the color in color.xml, which can help in future development related to the multiple themes app.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:03:35Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {\n+\n+    companion object {\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isUserHasAccess\")\n+        fun isViewAccessible(view: View, type: CourseDateType) {\n+            when (type) {\n+                CourseDateType.VERIFIED_ONLY,\n+                CourseDateType.NOT_YET_RELEASED ->\n+                    view.isEnabled = false\n+                else ->\n+                    view.isEnabled = true\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:setText\")\n+        fun setText(textView: TextView, text: String?) {\n+            if (text.isNullOrBlank().not()) {\n+                textView.text = text\n+                textView.visibility = View.VISIBLE\n+            } else {\n+                textView.visibility = View.GONE\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isVisible\")\n+        fun isViewVisible(imageView: ImageView, isVisible: Boolean) {\n+            imageView.visibility = if (isVisible) View.VISIBLE else View.INVISIBLE\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:addView\", \"binding:clickListener\", requireAll = true)\n+        fun addView(linearLayout: LinearLayout, list: ArrayList<CourseDateBlock>, clickListener: OnDateBlockListener) {\n+            val inflater: LayoutInflater = linearLayout.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n+            if (linearLayout.childCount < 2) {\n+                list.forEach { item ->\n+                    val childView = inflater.inflate(R.layout.sub_item_course_date_block, null)\n+\n+                    setText(childView.title, item.title)\n+                    isViewAccessible(childView.title, item.dateBlockTag)\n+\n+                    setText(childView.description, item.description)\n+                    isViewAccessible(childView.description, item.dateBlockTag)\n+\n+                    if (item.showLink()) {\n+                        childView.title.paintFlags = Paint.UNDERLINE_TEXT_FLAG\n+                    }\n+\n+                    childView.setOnClickListener {\n+                        if (item.showLink()) {\n+                            clickListener.onClick(item.link)\n+                        }\n+                    }\n+                    linearLayout.addView(childView)\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:bulletBackground\", \"binding:isDatePast\", requireAll = true)\n+        fun setBulletBackground(bulletView: ImageView, type: CourseDateType, isDatePast: Boolean) {\n+            bulletView.bringToFront()\n+            when (type) {\n+                CourseDateType.PAST_DUE -> {\n+                    bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_gray_circle)\n+                }\n+                CourseDateType.BLANK,\n+                CourseDateType.COMPLETED,\n+                CourseDateType.DUE_NEXT,\n+                CourseDateType.NOT_YET_RELEASED,\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    if (isDatePast && (type == CourseDateType.VERIFIED_ONLY).not()) {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_white_circle)\n+                    } else {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_circle)\n+                    }\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:tagBackground\", \"binding:isToday\", requireAll = true)\n+        fun setTagBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n+            if (isToday || type == CourseDateType.TODAY) {\n+                textView.text = CourseDateType.TODAY.getTitle()\n+                textView.setTextColor(Color.BLACK)\n+                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n+            } else {\n+                setText(textView, type.getTitle())\n+                when (type) {\n+                    CourseDateType.VERIFIED_ONLY -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n+                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n+                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n+                                        .colorRes(textView.context, R.color.white),\n+                                null, null, null\n+                        )\n+                    }\n+                    CourseDateType.COMPLETED -> {\n+                        textView.setTextColor(Color.DKGRAY)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxMDIxMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490910211", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-09-18T12:19:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTM5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTY1NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490529655", "bodyText": "same.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:04:04Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {\n+\n+    companion object {\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isUserHasAccess\")\n+        fun isViewAccessible(view: View, type: CourseDateType) {\n+            when (type) {\n+                CourseDateType.VERIFIED_ONLY,\n+                CourseDateType.NOT_YET_RELEASED ->\n+                    view.isEnabled = false\n+                else ->\n+                    view.isEnabled = true\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:setText\")\n+        fun setText(textView: TextView, text: String?) {\n+            if (text.isNullOrBlank().not()) {\n+                textView.text = text\n+                textView.visibility = View.VISIBLE\n+            } else {\n+                textView.visibility = View.GONE\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isVisible\")\n+        fun isViewVisible(imageView: ImageView, isVisible: Boolean) {\n+            imageView.visibility = if (isVisible) View.VISIBLE else View.INVISIBLE\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:addView\", \"binding:clickListener\", requireAll = true)\n+        fun addView(linearLayout: LinearLayout, list: ArrayList<CourseDateBlock>, clickListener: OnDateBlockListener) {\n+            val inflater: LayoutInflater = linearLayout.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n+            if (linearLayout.childCount < 2) {\n+                list.forEach { item ->\n+                    val childView = inflater.inflate(R.layout.sub_item_course_date_block, null)\n+\n+                    setText(childView.title, item.title)\n+                    isViewAccessible(childView.title, item.dateBlockTag)\n+\n+                    setText(childView.description, item.description)\n+                    isViewAccessible(childView.description, item.dateBlockTag)\n+\n+                    if (item.showLink()) {\n+                        childView.title.paintFlags = Paint.UNDERLINE_TEXT_FLAG\n+                    }\n+\n+                    childView.setOnClickListener {\n+                        if (item.showLink()) {\n+                            clickListener.onClick(item.link)\n+                        }\n+                    }\n+                    linearLayout.addView(childView)\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:bulletBackground\", \"binding:isDatePast\", requireAll = true)\n+        fun setBulletBackground(bulletView: ImageView, type: CourseDateType, isDatePast: Boolean) {\n+            bulletView.bringToFront()\n+            when (type) {\n+                CourseDateType.PAST_DUE -> {\n+                    bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_gray_circle)\n+                }\n+                CourseDateType.BLANK,\n+                CourseDateType.COMPLETED,\n+                CourseDateType.DUE_NEXT,\n+                CourseDateType.NOT_YET_RELEASED,\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    if (isDatePast && (type == CourseDateType.VERIFIED_ONLY).not()) {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_white_circle)\n+                    } else {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_circle)\n+                    }\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:tagBackground\", \"binding:isToday\", requireAll = true)\n+        fun setTagBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n+            if (isToday || type == CourseDateType.TODAY) {\n+                textView.text = CourseDateType.TODAY.getTitle()\n+                textView.setTextColor(Color.BLACK)\n+                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n+            } else {\n+                setText(textView, type.getTitle())\n+                when (type) {\n+                    CourseDateType.VERIFIED_ONLY -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n+                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n+                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n+                                        .colorRes(textView.context, R.color.white),\n+                                null, null, null\n+                        )\n+                    }\n+                    CourseDateType.COMPLETED -> {\n+                        textView.setTextColor(Color.DKGRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n+                    }\n+                    CourseDateType.PAST_DUE -> {\n+                        textView.setTextColor(Color.DKGRAY)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxMDE1NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490910154", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-09-18T12:19:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTY1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTczMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490529733", "bodyText": "same.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:04:13Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {\n+\n+    companion object {\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isUserHasAccess\")\n+        fun isViewAccessible(view: View, type: CourseDateType) {\n+            when (type) {\n+                CourseDateType.VERIFIED_ONLY,\n+                CourseDateType.NOT_YET_RELEASED ->\n+                    view.isEnabled = false\n+                else ->\n+                    view.isEnabled = true\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:setText\")\n+        fun setText(textView: TextView, text: String?) {\n+            if (text.isNullOrBlank().not()) {\n+                textView.text = text\n+                textView.visibility = View.VISIBLE\n+            } else {\n+                textView.visibility = View.GONE\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isVisible\")\n+        fun isViewVisible(imageView: ImageView, isVisible: Boolean) {\n+            imageView.visibility = if (isVisible) View.VISIBLE else View.INVISIBLE\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:addView\", \"binding:clickListener\", requireAll = true)\n+        fun addView(linearLayout: LinearLayout, list: ArrayList<CourseDateBlock>, clickListener: OnDateBlockListener) {\n+            val inflater: LayoutInflater = linearLayout.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n+            if (linearLayout.childCount < 2) {\n+                list.forEach { item ->\n+                    val childView = inflater.inflate(R.layout.sub_item_course_date_block, null)\n+\n+                    setText(childView.title, item.title)\n+                    isViewAccessible(childView.title, item.dateBlockTag)\n+\n+                    setText(childView.description, item.description)\n+                    isViewAccessible(childView.description, item.dateBlockTag)\n+\n+                    if (item.showLink()) {\n+                        childView.title.paintFlags = Paint.UNDERLINE_TEXT_FLAG\n+                    }\n+\n+                    childView.setOnClickListener {\n+                        if (item.showLink()) {\n+                            clickListener.onClick(item.link)\n+                        }\n+                    }\n+                    linearLayout.addView(childView)\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:bulletBackground\", \"binding:isDatePast\", requireAll = true)\n+        fun setBulletBackground(bulletView: ImageView, type: CourseDateType, isDatePast: Boolean) {\n+            bulletView.bringToFront()\n+            when (type) {\n+                CourseDateType.PAST_DUE -> {\n+                    bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_gray_circle)\n+                }\n+                CourseDateType.BLANK,\n+                CourseDateType.COMPLETED,\n+                CourseDateType.DUE_NEXT,\n+                CourseDateType.NOT_YET_RELEASED,\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    if (isDatePast && (type == CourseDateType.VERIFIED_ONLY).not()) {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_white_circle)\n+                    } else {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_circle)\n+                    }\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:tagBackground\", \"binding:isToday\", requireAll = true)\n+        fun setTagBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n+            if (isToday || type == CourseDateType.TODAY) {\n+                textView.text = CourseDateType.TODAY.getTitle()\n+                textView.setTextColor(Color.BLACK)\n+                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n+            } else {\n+                setText(textView, type.getTitle())\n+                when (type) {\n+                    CourseDateType.VERIFIED_ONLY -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n+                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n+                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n+                                        .colorRes(textView.context, R.color.white),\n+                                null, null, null\n+                        )\n+                    }\n+                    CourseDateType.COMPLETED -> {\n+                        textView.setTextColor(Color.DKGRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n+                    }\n+                    CourseDateType.PAST_DUE -> {\n+                        textView.setTextColor(Color.DKGRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n+                    }\n+                    CourseDateType.DUE_NEXT -> {\n+                        textView.setTextColor(Color.WHITE)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxMDQ2OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490910468", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-09-18T12:20:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTczMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTc4NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490529784", "bodyText": "same.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:04:19Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {\n+\n+    companion object {\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isUserHasAccess\")\n+        fun isViewAccessible(view: View, type: CourseDateType) {\n+            when (type) {\n+                CourseDateType.VERIFIED_ONLY,\n+                CourseDateType.NOT_YET_RELEASED ->\n+                    view.isEnabled = false\n+                else ->\n+                    view.isEnabled = true\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:setText\")\n+        fun setText(textView: TextView, text: String?) {\n+            if (text.isNullOrBlank().not()) {\n+                textView.text = text\n+                textView.visibility = View.VISIBLE\n+            } else {\n+                textView.visibility = View.GONE\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isVisible\")\n+        fun isViewVisible(imageView: ImageView, isVisible: Boolean) {\n+            imageView.visibility = if (isVisible) View.VISIBLE else View.INVISIBLE\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:addView\", \"binding:clickListener\", requireAll = true)\n+        fun addView(linearLayout: LinearLayout, list: ArrayList<CourseDateBlock>, clickListener: OnDateBlockListener) {\n+            val inflater: LayoutInflater = linearLayout.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n+            if (linearLayout.childCount < 2) {\n+                list.forEach { item ->\n+                    val childView = inflater.inflate(R.layout.sub_item_course_date_block, null)\n+\n+                    setText(childView.title, item.title)\n+                    isViewAccessible(childView.title, item.dateBlockTag)\n+\n+                    setText(childView.description, item.description)\n+                    isViewAccessible(childView.description, item.dateBlockTag)\n+\n+                    if (item.showLink()) {\n+                        childView.title.paintFlags = Paint.UNDERLINE_TEXT_FLAG\n+                    }\n+\n+                    childView.setOnClickListener {\n+                        if (item.showLink()) {\n+                            clickListener.onClick(item.link)\n+                        }\n+                    }\n+                    linearLayout.addView(childView)\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:bulletBackground\", \"binding:isDatePast\", requireAll = true)\n+        fun setBulletBackground(bulletView: ImageView, type: CourseDateType, isDatePast: Boolean) {\n+            bulletView.bringToFront()\n+            when (type) {\n+                CourseDateType.PAST_DUE -> {\n+                    bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_gray_circle)\n+                }\n+                CourseDateType.BLANK,\n+                CourseDateType.COMPLETED,\n+                CourseDateType.DUE_NEXT,\n+                CourseDateType.NOT_YET_RELEASED,\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    if (isDatePast && (type == CourseDateType.VERIFIED_ONLY).not()) {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_white_circle)\n+                    } else {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_circle)\n+                    }\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:tagBackground\", \"binding:isToday\", requireAll = true)\n+        fun setTagBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n+            if (isToday || type == CourseDateType.TODAY) {\n+                textView.text = CourseDateType.TODAY.getTitle()\n+                textView.setTextColor(Color.BLACK)\n+                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n+            } else {\n+                setText(textView, type.getTitle())\n+                when (type) {\n+                    CourseDateType.VERIFIED_ONLY -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n+                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n+                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n+                                        .colorRes(textView.context, R.color.white),\n+                                null, null, null\n+                        )\n+                    }\n+                    CourseDateType.COMPLETED -> {\n+                        textView.setTextColor(Color.DKGRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n+                    }\n+                    CourseDateType.PAST_DUE -> {\n+                        textView.setTextColor(Color.DKGRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n+                    }\n+                    CourseDateType.DUE_NEXT -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n+                    }\n+                    CourseDateType.NOT_YET_RELEASED -> {\n+                        textView.setTextColor(Color.GRAY)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxMDUxNg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490910516", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-09-18T12:20:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUyOTc4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMDQ5Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490530492", "bodyText": "We need to use semi bold instated of bold. this will set bold typeface to text.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:05:35Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {\n+\n+    companion object {\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isUserHasAccess\")\n+        fun isViewAccessible(view: View, type: CourseDateType) {\n+            when (type) {\n+                CourseDateType.VERIFIED_ONLY,\n+                CourseDateType.NOT_YET_RELEASED ->\n+                    view.isEnabled = false\n+                else ->\n+                    view.isEnabled = true\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:setText\")\n+        fun setText(textView: TextView, text: String?) {\n+            if (text.isNullOrBlank().not()) {\n+                textView.text = text\n+                textView.visibility = View.VISIBLE\n+            } else {\n+                textView.visibility = View.GONE\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:isVisible\")\n+        fun isViewVisible(imageView: ImageView, isVisible: Boolean) {\n+            imageView.visibility = if (isVisible) View.VISIBLE else View.INVISIBLE\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:addView\", \"binding:clickListener\", requireAll = true)\n+        fun addView(linearLayout: LinearLayout, list: ArrayList<CourseDateBlock>, clickListener: OnDateBlockListener) {\n+            val inflater: LayoutInflater = linearLayout.context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n+            if (linearLayout.childCount < 2) {\n+                list.forEach { item ->\n+                    val childView = inflater.inflate(R.layout.sub_item_course_date_block, null)\n+\n+                    setText(childView.title, item.title)\n+                    isViewAccessible(childView.title, item.dateBlockTag)\n+\n+                    setText(childView.description, item.description)\n+                    isViewAccessible(childView.description, item.dateBlockTag)\n+\n+                    if (item.showLink()) {\n+                        childView.title.paintFlags = Paint.UNDERLINE_TEXT_FLAG\n+                    }\n+\n+                    childView.setOnClickListener {\n+                        if (item.showLink()) {\n+                            clickListener.onClick(item.link)\n+                        }\n+                    }\n+                    linearLayout.addView(childView)\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:bulletBackground\", \"binding:isDatePast\", requireAll = true)\n+        fun setBulletBackground(bulletView: ImageView, type: CourseDateType, isDatePast: Boolean) {\n+            bulletView.bringToFront()\n+            when (type) {\n+                CourseDateType.PAST_DUE -> {\n+                    bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_gray_circle)\n+                }\n+                CourseDateType.BLANK,\n+                CourseDateType.COMPLETED,\n+                CourseDateType.DUE_NEXT,\n+                CourseDateType.NOT_YET_RELEASED,\n+                CourseDateType.VERIFIED_ONLY -> {\n+                    if (isDatePast && (type == CourseDateType.VERIFIED_ONLY).not()) {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_border_white_circle)\n+                    } else {\n+                        bulletView.background = ContextCompat.getDrawable(bulletView.context, R.drawable.black_circle)\n+                    }\n+                }\n+            }\n+        }\n+\n+        @JvmStatic\n+        @BindingAdapter(\"binding:tagBackground\", \"binding:isToday\", requireAll = true)\n+        fun setTagBackground(textView: TextView, type: CourseDateType, isToday: Boolean) {\n+            if (isToday || type == CourseDateType.TODAY) {\n+                textView.text = CourseDateType.TODAY.getTitle()\n+                textView.setTextColor(Color.BLACK)\n+                textView.background = ContextCompat.getDrawable(textView.context, R.drawable.yellow_roundedbg)\n+            } else {\n+                setText(textView, type.getTitle())\n+                when (type) {\n+                    CourseDateType.VERIFIED_ONLY -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.black_roundedbg)\n+                        TextViewCompat.setCompoundDrawablesRelativeWithIntrinsicBounds(textView,\n+                                IconDrawable(textView.context, FontAwesomeIcons.fa_lock)\n+                                        .sizeRes(textView.context, R.dimen.small_icon_size)\n+                                        .colorRes(textView.context, R.color.white),\n+                                null, null, null\n+                        )\n+                    }\n+                    CourseDateType.COMPLETED -> {\n+                        textView.setTextColor(Color.DKGRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_silver_roundedbg)\n+                    }\n+                    CourseDateType.PAST_DUE -> {\n+                        textView.setTextColor(Color.DKGRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.light_gray_roundedbg)\n+                    }\n+                    CourseDateType.DUE_NEXT -> {\n+                        textView.setTextColor(Color.WHITE)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.dark_gray_roundedbg)\n+                    }\n+                    CourseDateType.NOT_YET_RELEASED -> {\n+                        textView.setTextColor(Color.GRAY)\n+                        textView.background = ContextCompat.getDrawable(textView.context, R.drawable.silver_border_transparent_roundedbg)\n+                    }\n+                    else -> {\n+                        textView.visibility = View.INVISIBLE\n+                    }\n+                }\n+            }\n+            textView.setTypeface(null, Typeface.BOLD_ITALIC)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkxMTI0Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490911246", "bodyText": "added in xml", "author": "omerhabib26", "createdAt": "2020-09-18T12:21:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMDQ5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjI0NQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490532245", "bodyText": "need to set up OpenSans-Semibold font style.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:09:03Z", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingTop=\"@dimen/widget_margin_half\"\n+        android:paddingBottom=\"@dimen/widget_margin_half\"\n+        android:orientation=\"vertical\">\n+\n+        <TextView\n+            android:id=\"@+id/title\"", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NDMxNg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490854316", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:30:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjI0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjM1NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490532354", "bodyText": "need to set up OpenSans-Semi font style.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:09:16Z", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingTop=\"@dimen/widget_margin_half\"\n+        android:paddingBottom=\"@dimen/widget_margin_half\"\n+        android:orientation=\"vertical\">\n+\n+        <TextView\n+            android:id=\"@+id/title\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:textColor=\"@color/switch_text_color\"\n+            android:textSize=\"@dimen/edx_base\"\n+            android:visibility=\"gone\"\n+            android:textStyle=\"bold\" />\n+\n+        <TextView", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1MzExNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490853114", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:27:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjM1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjUyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490532525", "bodyText": "need auto-format.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:09:35Z", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\">", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NDQ0Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490854447", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T10:30:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjUyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjgzMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490532832", "bodyText": "no need to use bold text style.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:10:11Z", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingTop=\"@dimen/widget_margin_half\"\n+        android:paddingBottom=\"@dimen/widget_margin_half\"\n+        android:orientation=\"vertical\">\n+\n+        <TextView\n+            android:id=\"@+id/title\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:textColor=\"@color/switch_text_color\"\n+            android:textSize=\"@dimen/edx_base\"\n+            android:visibility=\"gone\"\n+            android:textStyle=\"bold\" />", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NDI3Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490854276", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-09-18T10:29:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMjgzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMzIyMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490533223", "bodyText": "better to add some sample text for the editor preview.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:10:53Z", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingTop=\"@dimen/widget_margin_half\"\n+        android:paddingBottom=\"@dimen/widget_margin_half\"\n+        android:orientation=\"vertical\">\n+\n+        <TextView", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NDM4OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490854388", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:30:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMzIyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMzI3MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490533270", "bodyText": "better to add some sample text for the editor preview.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:11:00Z", "path": "OpenEdXMobile/res/layout/sub_item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <LinearLayout\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:paddingTop=\"@dimen/widget_margin_half\"\n+        android:paddingBottom=\"@dimen/widget_margin_half\"\n+        android:orientation=\"vertical\">\n+\n+        <TextView\n+            android:id=\"@+id/title\"\n+            android:layout_width=\"match_parent\"\n+            android:layout_height=\"wrap_content\"\n+            android:textColor=\"@color/switch_text_color\"\n+            android:textSize=\"@dimen/edx_base\"\n+            android:visibility=\"gone\"\n+            android:textStyle=\"bold\" />\n+\n+        <TextView", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1Mjk0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490852943", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:27:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzMzI3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzNDU4OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490534589", "bodyText": "class and method need doc-string and ref", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:13:44Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkwMTYwNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490901605", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T12:01:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzNDU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzOTUwMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490539500", "bodyText": "no need to create a separate dimension for height & width of the same size.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:23:07Z", "path": "OpenEdXMobile/res/values/dimens.xml", "diffHunk": "@@ -258,4 +258,14 @@\n     <dimen name=\"edx_segmented_control_start_corner\">5dp</dimen>\n     <dimen name=\"edx_segmented_control_end_corner\">0dp</dimen>\n     <dimen name=\"social_button_top_margin\">6dp</dimen>\n+\n+    <!-- Course Dates Block  -->\n+    <dimen name=\"bullet_width\">9dp</dimen>\n+    <dimen name=\"bullet_height\">9dp</dimen>\n+    <dimen name=\"today_bullet_width\">14dp</dimen>\n+    <dimen name=\"today_bullet_height\">14dp</dimen>", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NjM3Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490856377", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T10:34:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzOTUwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzOTUyNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490539527", "bodyText": "no need to create a separate dimension for height & width of the same size.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:23:10Z", "path": "OpenEdXMobile/res/values/dimens.xml", "diffHunk": "@@ -258,4 +258,14 @@\n     <dimen name=\"edx_segmented_control_start_corner\">5dp</dimen>\n     <dimen name=\"edx_segmented_control_end_corner\">0dp</dimen>\n     <dimen name=\"social_button_top_margin\">6dp</dimen>\n+\n+    <!-- Course Dates Block  -->\n+    <dimen name=\"bullet_width\">9dp</dimen>\n+    <dimen name=\"bullet_height\">9dp</dimen>", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NjMxMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490856310", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T10:34:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDUzOTUyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0MDk1Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490540952", "bodyText": "the unused and can use @android:color/transparent/", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:25:39Z", "path": "OpenEdXMobile/res/values/colors.xml", "diffHunk": "@@ -9,6 +9,7 @@\n \r\n     <color name=\"white\">@android:color/white</color>\r\n     <color name=\"black\">@android:color/black</color>\r\n+    <color name=\"transparent\">#00000000</color>\r", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg1NDgwNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490854804", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-09-18T10:31:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0MDk1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0MzYxOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490543619", "bodyText": "IMO\nProvides callbacks to handle the click on the date block in the course.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:30:23Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/interfaces/OnDateBlockListener.kt", "diffHunk": "@@ -0,0 +1,8 @@\n+package org.edx.mobile.interfaces\n+\n+/**\n+ * Provides callbacks for a date block in course to load its contents on webview.", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg2NDQ5OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490864498", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-09-18T10:51:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0MzYxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU0NDA2OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490544069", "bodyText": "need auto-format.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:30:54Z", "path": "OpenEdXMobile/res/layout/fragment_course_dates_page.xml", "diffHunk": "@@ -0,0 +1,33 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1Mjk0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490552943", "bodyText": "IMO dateBlock is more appropriate variable name.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:47:51Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,127 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <data>\n+\n+        <variable\n+            name=\"dateType\"", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg0NzEyMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490847121", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-09-18T10:16:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1Mjk0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1MzEwMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490553102", "bodyText": "IMO dateListener is more appropriate variable name.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:48:09Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,127 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <data>\n+\n+        <variable\n+            name=\"dateType\"\n+            type=\"org.edx.mobile.model.course.CourseDateBlock\" />\n+\n+        <variable\n+            name=\"listener\"", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg0NzE5NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490847194", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-09-18T10:16:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1MzEwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1MzQ2OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490553469", "bodyText": "IMO dateBlockList is more appropriate variable name.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:48:55Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,127 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <data>\n+\n+        <variable\n+            name=\"dateType\"\n+            type=\"org.edx.mobile.model.course.CourseDateBlock\" />\n+\n+        <variable\n+            name=\"listener\"\n+            type=\"org.edx.mobile.interfaces.OnDateBlockListener\" />\n+\n+        <variable\n+            name=\"list\"", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg0NzI0Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490847246", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-09-18T10:16:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1MzQ2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1NTkyMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490555923", "bodyText": "no need to override this method.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:53:51Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseDatesAdapter.kt", "diffHunk": "@@ -0,0 +1,74 @@\n+package org.edx.mobile.view.adapters\n+\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.RecyclerView\n+import org.edx.mobile.BR\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.ItemCourseDateBlockBinding\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import java.util.*\n+import kotlin.collections.HashMap\n+\n+class CourseDatesAdapter(private val data: HashMap<String, ArrayList<CourseDateBlock>>, private val keys: ArrayList<String>, private val onLinkClick: OnDateBlockListener) : RecyclerView.Adapter<CourseDatesAdapter.CourseDateHolder>() {\n+\n+    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CourseDatesAdapter.CourseDateHolder {\n+        val inflater = LayoutInflater.from(parent.context)\n+        val inflatedBinding = DataBindingUtil.inflate<ItemCourseDateBlockBinding>(inflater, R.layout.item_course_date_block, parent, false)\n+        return CourseDateHolder(inflatedBinding, onLinkClick)\n+    }\n+\n+    override fun getItemCount(): Int {\n+        return keys.size\n+    }\n+\n+    override fun getItemId(position: Int): Long {\n+        return position.toLong()\n+    }\n+\n+    override fun getItemViewType(position: Int): Int {\n+        return position\n+    }", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NDczMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490884730", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:30:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1NTkyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1NjIxMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490556211", "bodyText": "no need to override this method.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:54:24Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseDatesAdapter.kt", "diffHunk": "@@ -0,0 +1,74 @@\n+package org.edx.mobile.view.adapters\n+\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.RecyclerView\n+import org.edx.mobile.BR\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.ItemCourseDateBlockBinding\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import java.util.*\n+import kotlin.collections.HashMap\n+\n+class CourseDatesAdapter(private val data: HashMap<String, ArrayList<CourseDateBlock>>, private val keys: ArrayList<String>, private val onLinkClick: OnDateBlockListener) : RecyclerView.Adapter<CourseDatesAdapter.CourseDateHolder>() {\n+\n+    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CourseDatesAdapter.CourseDateHolder {\n+        val inflater = LayoutInflater.from(parent.context)\n+        val inflatedBinding = DataBindingUtil.inflate<ItemCourseDateBlockBinding>(inflater, R.layout.item_course_date_block, parent, false)\n+        return CourseDateHolder(inflatedBinding, onLinkClick)\n+    }\n+\n+    override fun getItemCount(): Int {\n+        return keys.size\n+    }\n+\n+    override fun getItemId(position: Int): Long {\n+        return position.toLong()\n+    }", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NDgxNQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490884815", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:30:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1NjIxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1NzQzMg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490557432", "bodyText": "we can directly use binding.dateType = item instated.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:56:49Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseDatesAdapter.kt", "diffHunk": "@@ -0,0 +1,74 @@\n+package org.edx.mobile.view.adapters\n+\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.RecyclerView\n+import org.edx.mobile.BR\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.ItemCourseDateBlockBinding\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import java.util.*\n+import kotlin.collections.HashMap\n+\n+class CourseDatesAdapter(private val data: HashMap<String, ArrayList<CourseDateBlock>>, private val keys: ArrayList<String>, private val onLinkClick: OnDateBlockListener) : RecyclerView.Adapter<CourseDatesAdapter.CourseDateHolder>() {\n+\n+    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CourseDatesAdapter.CourseDateHolder {\n+        val inflater = LayoutInflater.from(parent.context)\n+        val inflatedBinding = DataBindingUtil.inflate<ItemCourseDateBlockBinding>(inflater, R.layout.item_course_date_block, parent, false)\n+        return CourseDateHolder(inflatedBinding, onLinkClick)\n+    }\n+\n+    override fun getItemCount(): Int {\n+        return keys.size\n+    }\n+\n+    override fun getItemId(position: Int): Long {\n+        return position.toLong()\n+    }\n+\n+    override fun getItemViewType(position: Int): Int {\n+        return position\n+    }\n+\n+    override fun onBindViewHolder(holder: CourseDateHolder, position: Int) {\n+        if (data.isNotEmpty()) {\n+            when (position) {\n+                0 -> {\n+                    holder.binding.lineAboveDot.visibility = View.INVISIBLE\n+                    holder.binding.lineBelowDot.visibility = View.VISIBLE\n+                }\n+                (itemCount - 1) -> {\n+                    holder.binding.lineAboveDot.visibility = View.VISIBLE\n+                    holder.binding.lineBelowDot.visibility = View.INVISIBLE\n+                }\n+                else -> {\n+                    holder.binding.lineAboveDot.visibility = View.VISIBLE\n+                    holder.binding.lineBelowDot.visibility = View.VISIBLE\n+                }\n+            }\n+            if (data.size == 1) {\n+                holder.binding.lineAboveDot.visibility = View.INVISIBLE\n+                holder.binding.lineBelowDot.visibility = View.INVISIBLE\n+            }\n+            val key = keys[position]\n+            if (key.equals(CourseDateBlock.getTodayDateBlock().getSimpleDateTime(), ignoreCase = true) && data[key].isNullOrEmpty()) {\n+                holder.bind(CourseDateBlock.getTodayDateBlock(), arrayListOf())\n+            } else {\n+                holder.bind(data[key]?.first(), data[key])\n+            }\n+        }\n+    }\n+\n+    class CourseDateHolder(var binding: ItemCourseDateBlockBinding, private val onLinkClick: OnDateBlockListener) : RecyclerView.ViewHolder(binding.root) {\n+        fun bind(item: CourseDateBlock?, list: ArrayList<CourseDateBlock>?) {\n+            binding.setVariable(BR.dateType, item)", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4NDY0Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490884646", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:30:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1NzQzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1ODU1Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490558552", "bodyText": "it's better to have only one method named 'fetchCourseDates'", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T20:59:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,119 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var courseAPI: CourseAPI\n+\n+    @Inject\n+    private lateinit var environment: EdxEnvironment\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onLinkClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return errorNotification.isShowing\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View {\n+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        viewModel = ViewModelProvider(this, ViewModelFactory(courseAPI = courseAPI)).get(CourseDateViewModel::class.java)\n+\n+        errorNotification = FullScreenErrorNotification(binding.swipeContainer)\n+\n+        binding.swipeContainer.setOnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            binding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            viewModel.fetchCourseDates(true)\n+        }\n+        UiUtil.setSwipeRefreshLayoutColors(binding.swipeContainer)\n+        initObserver()\n+        viewModel.startViewModel(courseID = getStringArgument(Router.EXTRA_COURSE_ID))", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3OTgyMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490879823", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-18T11:21:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1ODU1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1OTIwOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r490559209", "bodyText": "better to have test cases against these utils methods.", "author": "farhan-arshad-dev", "createdAt": "2020-09-17T21:00:16Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/util/DataBindingHelperUtils.kt", "diffHunk": "@@ -0,0 +1,149 @@\n+package org.edx.mobile.util\n+\n+import android.content.Context\n+import android.graphics.Color\n+import android.graphics.Paint\n+import android.graphics.Typeface\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.widget.ImageView\n+import android.widget.LinearLayout\n+import android.widget.TextView\n+import androidx.core.content.ContextCompat\n+import androidx.core.widget.TextViewCompat\n+import androidx.databinding.BindingAdapter\n+import com.joanzapata.iconify.IconDrawable\n+import com.joanzapata.iconify.fonts.FontAwesomeIcons\n+import kotlinx.android.synthetic.main.sub_item_course_date_block.view.*\n+import org.edx.mobile.R\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+\n+class DataBindingHelperUtils {", "originalCommit": "dbd449990454f92d7508e543979911179f64ee2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU0ODUxMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491548510", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-19T21:37:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1OTIwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1MDI3MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491150271", "bodyText": "We can use LinkedHashMap instated of HashMap cuz LinkedHashMap preserves the insertion order of map entries.\nref: https://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html\nAfter that, there is no need for sortKeys.\nPlease verify at your end too.", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T19:30:11Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,139 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        // HashMap to store list the courseDateBlocks against their dates\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        // ArrayList to store the sorted list of dates\n+        var sortKeys: ArrayList<String> = ArrayList()", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU2OTgzMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491569831", "bodyText": "verified working fine", "author": "omerhabib26", "createdAt": "2020-09-19T22:20:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1MDI3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1MjMxNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491152317", "bodyText": "After using LinkedHashMap, there is no need of key , so initialize an empty list with today within addTodayBlock method, so there is no need to check the Today here.", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T19:34:53Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseDatesAdapter.kt", "diffHunk": "@@ -0,0 +1,67 @@\n+package org.edx.mobile.view.adapters\n+\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.RecyclerView\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.ItemCourseDateBlockBinding\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import java.util.*\n+\n+class CourseDatesAdapter(private val data: HashMap<String, ArrayList<CourseDateBlock>>,\n+                         private val keys: ArrayList<String>,\n+                         private val onDateItemClick: OnDateBlockListener\n+) : RecyclerView.Adapter<CourseDatesAdapter.CourseDateHolder>() {\n+\n+    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CourseDatesAdapter.CourseDateHolder {\n+        val inflater = LayoutInflater.from(parent.context)\n+        val inflatedBinding = DataBindingUtil.inflate<ItemCourseDateBlockBinding>(\n+                inflater, R.layout.item_course_date_block, parent, false)\n+        return CourseDateHolder(inflatedBinding, onDateItemClick)\n+    }\n+\n+    override fun getItemCount(): Int {\n+        return keys.size\n+    }\n+\n+    override fun onBindViewHolder(holder: CourseDateHolder, position: Int) {\n+        if (data.isNotEmpty()) {\n+            when (position) {\n+                0 -> {\n+                    holder.binding.lineAboveDot.visibility = View.INVISIBLE\n+                    holder.binding.lineBelowDot.visibility = View.VISIBLE\n+                }\n+                (itemCount - 1) -> {\n+                    holder.binding.lineAboveDot.visibility = View.VISIBLE\n+                    holder.binding.lineBelowDot.visibility = View.INVISIBLE\n+                }\n+                else -> {\n+                    holder.binding.lineAboveDot.visibility = View.VISIBLE\n+                    holder.binding.lineBelowDot.visibility = View.VISIBLE\n+                }\n+            }\n+            if (data.size == 1) {\n+                holder.binding.lineAboveDot.visibility = View.INVISIBLE\n+                holder.binding.lineBelowDot.visibility = View.INVISIBLE\n+            }\n+            val key = keys[position]\n+            if (key.equals(CourseDateBlock.getTodayDateBlock().getSimpleDateTime(), ignoreCase = true) && data[key].isNullOrEmpty()) {\n+                holder.bind(CourseDateBlock.getTodayDateBlock(), arrayListOf())\n+            } else {\n+                holder.bind(data[key]?.first(), data[key])\n+            }", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU2OTQ4OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491569489", "bodyText": "(Y)", "author": "omerhabib26", "createdAt": "2020-09-19T22:19:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1MjMxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1MzUyOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491153529", "bodyText": "After using LinkedHashMap following comment needs to update to\nLinkedHashMap to store list the courseDateBlocks against their dates, also preserve the dates insertion order.", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T19:37:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,139 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        // HashMap to store list the courseDateBlocks against their dates", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU3MDIxOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491570219", "bodyText": "(Y)", "author": "omerhabib26", "createdAt": "2020-09-19T22:21:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE1MzUyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4MzYxMQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491183611", "bodyText": "After use of LinkedHashMap, following code will work the same.\n    fun organiseCourseDates() {\n        organiseCourseDatesInBlock()\n        if (isContainToday().not()) {\n            // Add today's date block manually if not present in the date list\n            courseDatesMap[CourseDateBlock.getTodayDateBlock().getSimpleDateTime()] = arrayListOf(CourseDateBlock.getTodayDateBlock())\n        }\n        // Sort the map entries date keys wise\n        courseDatesMap = LinkedHashMap(courseDatesMap.toSortedMap(compareBy { DateUtil.convertToDate(it) }))\n        setDateBlockBadge()\n    }\nand no need for an extra method named addTodayBlock.\nPlease verify at your end too.", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T20:48:24Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/course/CourseDates.kt", "diffHunk": "@@ -0,0 +1,139 @@\n+package org.edx.mobile.model.course\n+\n+import com.google.gson.annotations.SerializedName\n+import org.edx.mobile.util.CourseDateType\n+import org.edx.mobile.util.DateUtil\n+\n+data class CourseDates(\n+        @SerializedName(\"dates_banner_info\") val datesBannerInfo: CourseDatesBannerInfo,\n+        @SerializedName(\"course_date_blocks\") val courseDateBlocks: List<CourseDateBlock>?,\n+        @SerializedName(\"missed_deadlines\") val missedDeadlines: Boolean = false,\n+        @SerializedName(\"missed_gated_content\") val missedGatedContent: Boolean = false,\n+        @SerializedName(\"learner_is_full_access\") val learnerIsFullAccess: Boolean = false,\n+        @SerializedName(\"user_timezone\") val userTimezone: String = \"\",\n+        @SerializedName(\"verified_upgrade_link\") val verifiedUpgradeLink: String = \"\",\n+        // HashMap to store list the courseDateBlocks against their dates\n+        var courseDatesMap: HashMap<String, ArrayList<CourseDateBlock>> = HashMap(),\n+        // ArrayList to store the sorted list of dates\n+        var sortKeys: ArrayList<String> = ArrayList()\n+) {\n+    fun organiseCourseDates() {\n+        organiseCourseDatesInBlock()\n+        if (isContainToday().not()) {\n+            addTodayBlock()\n+        }\n+        setDateBlockBadge()\n+    }", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU2ODExOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491568119", "bodyText": "thanks for sharing, implemented", "author": "omerhabib26", "createdAt": "2020-09-19T22:16:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4MzYxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0MTk5OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491741999", "bodyText": "still needs docstring like mention above.", "author": "farhan-arshad-dev", "createdAt": "2020-09-20T22:27:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4MzYxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU4ODM3OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r492588378", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-09-22T09:15:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4MzYxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4NTkzNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491185937", "bodyText": "After Implement the LinkedHasMap can remove dates.sortkeys parameter.", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T20:54:09Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseDatesPageFragment.kt", "diffHunk": "@@ -0,0 +1,112 @@\n+package org.edx.mobile.view\n+\n+import android.os.Bundle\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.lifecycle.Observer\n+import androidx.lifecycle.ViewModelProvider\n+import androidx.recyclerview.widget.LinearLayoutManager\n+import org.edx.mobile.R\n+import org.edx.mobile.core.EdxEnvironment\n+import org.edx.mobile.databinding.FragmentCourseDatesPageBinding\n+import org.edx.mobile.http.HttpStatus\n+import org.edx.mobile.http.HttpStatusException\n+import org.edx.mobile.http.notifications.FullScreenErrorNotification\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.util.BrowserUtil\n+import org.edx.mobile.util.UiUtil\n+import org.edx.mobile.view.adapters.CourseDatesAdapter\n+import org.edx.mobile.viewModel.CourseDateViewModel\n+import org.edx.mobile.viewModel.ViewModelFactory\n+import javax.inject.Inject\n+\n+class CourseDatesPageFragment : OfflineSupportBaseFragment() {\n+\n+    @Inject\n+    private lateinit var environment: EdxEnvironment\n+    private lateinit var errorNotification: FullScreenErrorNotification\n+\n+    private lateinit var binding: FragmentCourseDatesPageBinding\n+    private lateinit var viewModel: CourseDateViewModel\n+    private var onDateItemClick: OnDateBlockListener = object : OnDateBlockListener {\n+        override fun onClick(link: String) {\n+            BrowserUtil.open(activity, link)\n+        }\n+    }\n+\n+    companion object {\n+        @JvmStatic\n+        fun makeArguments(courseId: String): Bundle {\n+            val courseBundle = Bundle()\n+            courseBundle.putString(Router.EXTRA_COURSE_ID, courseId)\n+            return courseBundle\n+        }\n+    }\n+\n+    override fun isShowingFullScreenError(): Boolean {\n+        return errorNotification.isShowing\n+    }\n+\n+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n+                              savedInstanceState: Bundle?): View {\n+        binding = DataBindingUtil.inflate(inflater, R.layout.fragment_course_dates_page, container, false)\n+        return binding.root\n+    }\n+\n+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n+        super.onViewCreated(view, savedInstanceState)\n+        viewModel = ViewModelProvider(this, ViewModelFactory()).get(CourseDateViewModel::class.java)\n+\n+        errorNotification = FullScreenErrorNotification(binding.swipeContainer)\n+\n+        binding.swipeContainer.setOnRefreshListener {\n+            // Hide the progress bar as swipe layout has its own progress indicator\n+            binding.loadingIndicator.loadingIndicator.visibility = View.GONE\n+            errorNotification.hideError()\n+            viewModel.fetchCourseDates(courseID = getStringArgument(Router.EXTRA_COURSE_ID), isSwipeRefresh = true)\n+        }\n+        UiUtil.setSwipeRefreshLayoutColors(binding.swipeContainer)\n+        initObserver()\n+        viewModel.fetchCourseDates(courseID = getStringArgument(Router.EXTRA_COURSE_ID), isSwipeRefresh = false)\n+    }\n+\n+    private fun initObserver() {\n+        viewModel.showLoader.observe(this, Observer { showLoader ->\n+            binding.loadingIndicator.loadingIndicator.visibility = if (showLoader) View.VISIBLE else View.GONE\n+        })\n+\n+        viewModel.courseDates.observe(this, Observer { dates ->\n+            if (dates.courseDateBlocks.isNullOrEmpty()) {\n+                viewModel.setError(HttpStatus.NO_CONTENT, getString(R.string.course_dates_unavailable_message))\n+            } else {\n+                dates.organiseCourseDates()\n+                binding.rvDates.apply {\n+                    layoutManager = LinearLayoutManager(context)\n+                    adapter = CourseDatesAdapter(dates.courseDatesMap, dates.sortKeys, onDateItemClick)", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU2MjQxMw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491562413", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-09-19T22:05:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4NTkzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4OTk1Ng==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491189956", "bodyText": "Need to remove unused dimen", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T21:04:19Z", "path": "OpenEdXMobile/res/values/dimens.xml", "diffHunk": "@@ -258,4 +258,13 @@\n     <dimen name=\"edx_segmented_control_start_corner\">5dp</dimen>\n     <dimen name=\"edx_segmented_control_end_corner\">0dp</dimen>\n     <dimen name=\"social_button_top_margin\">6dp</dimen>\n+\n+    <!-- Course Dates Block  -->\n+    <dimen name=\"normal_bullet_size\">9dp</dimen>\n+    <dimen name=\"today_bullet_size\">14dp</dimen>\n+    <dimen name=\"width_hairline\">2px</dimen>\n+    <dimen name=\"date_block_badge_corner_margin\">6dp</dimen>\n+    <dimen name=\"date_block_half_margin\">8dp</dimen>", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU0ODI4MQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491548281", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-09-19T21:36:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE4OTk1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE5MDUxNw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491190517", "bodyText": "use 1dp instated of 2px", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T21:05:40Z", "path": "OpenEdXMobile/res/values/dimens.xml", "diffHunk": "@@ -258,4 +258,13 @@\n     <dimen name=\"edx_segmented_control_start_corner\">5dp</dimen>\n     <dimen name=\"edx_segmented_control_end_corner\">0dp</dimen>\n     <dimen name=\"social_button_top_margin\">6dp</dimen>\n+\n+    <!-- Course Dates Block  -->\n+    <dimen name=\"normal_bullet_size\">9dp</dimen>\n+    <dimen name=\"today_bullet_size\">14dp</dimen>\n+    <dimen name=\"width_hairline\">2px</dimen>", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU0ODI0OQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491548249", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-19T21:36:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE5MDUxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0MjA5MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491742090", "bodyText": "better to change it to 1dp. as look good on the Nexus-5 as a base device.", "author": "farhan-arshad-dev", "createdAt": "2020-09-20T22:28:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE5MDUxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU4ODMwMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r492588300", "bodyText": "change it to 0.8 dp because 1 dp is making the boundary thicker", "author": "omerhabib26", "createdAt": "2020-09-22T09:15:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTE5MDUxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIxNzQ1Nw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491217457", "bodyText": "we can use View instated of ImageView.  Also, update DataBindingHelperUtils methods accordingly.", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T22:16:13Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,130 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <data>\n+\n+        <variable\n+            name=\"dateBlock\"\n+            type=\"org.edx.mobile.model.course.CourseDateBlock\" />\n+\n+        <variable\n+            name=\"dateItemListener\"\n+            type=\"org.edx.mobile.interfaces.OnDateBlockListener\" />\n+\n+        <variable\n+            name=\"dateBlockList\"\n+            type=\"java.util.ArrayList&lt;org.edx.mobile.model.course.CourseDateBlock&gt;\" />\n+    </data>\n+\n+    <androidx.constraintlayout.widget.ConstraintLayout\n+        android:id=\"@+id/item_container\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:background=\"@color/white\"\n+        android:orientation=\"horizontal\">\n+\n+\n+        <View\n+            android:id=\"@+id/line_above_dot\"\n+            android:layout_width=\"@dimen/width_hairline\"\n+            android:layout_height=\"0dp\"\n+            android:background=\"@drawable/black_line_vertical\"\n+            app:layout_constraintBottom_toTopOf=\"@+id/bullet\"\n+            app:layout_constraintEnd_toEndOf=\"@+id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+        <ImageView", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU0ODA0NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491548044", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-19T21:36:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIxNzQ1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIxNzU2Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491217563", "bodyText": "same. and set bullet as background instated of image.", "author": "farhan-arshad-dev", "createdAt": "2020-09-18T22:16:40Z", "path": "OpenEdXMobile/res/layout/item_course_date_block.xml", "diffHunk": "@@ -0,0 +1,130 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:binding=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\">\n+\n+    <data>\n+\n+        <variable\n+            name=\"dateBlock\"\n+            type=\"org.edx.mobile.model.course.CourseDateBlock\" />\n+\n+        <variable\n+            name=\"dateItemListener\"\n+            type=\"org.edx.mobile.interfaces.OnDateBlockListener\" />\n+\n+        <variable\n+            name=\"dateBlockList\"\n+            type=\"java.util.ArrayList&lt;org.edx.mobile.model.course.CourseDateBlock&gt;\" />\n+    </data>\n+\n+    <androidx.constraintlayout.widget.ConstraintLayout\n+        android:id=\"@+id/item_container\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:background=\"@color/white\"\n+        android:orientation=\"horizontal\">\n+\n+\n+        <View\n+            android:id=\"@+id/line_above_dot\"\n+            android:layout_width=\"@dimen/width_hairline\"\n+            android:layout_height=\"0dp\"\n+            android:background=\"@drawable/black_line_vertical\"\n+            app:layout_constraintBottom_toTopOf=\"@+id/bullet\"\n+            app:layout_constraintEnd_toEndOf=\"@+id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n+\n+        <ImageView\n+            android:id=\"@+id/bullet\"\n+            android:layout_width=\"@dimen/normal_bullet_size\"\n+            android:layout_height=\"@dimen/normal_bullet_size\"\n+            app:layout_constraintBottom_toBottomOf=\"@id/bullet_today\"\n+            app:layout_constraintEnd_toEndOf=\"@id/bullet_today\"\n+            app:layout_constraintStart_toStartOf=\"@+id/bullet_today\"\n+            app:layout_constraintTop_toTopOf=\"@id/bullet_today\"\n+            binding:bulletBackground=\"@{dateBlock.dateBlockBadge}\"\n+            binding:isDatePast=\"@{dateBlock.isDatePassed()}\"\n+            binding:isVisible=\"@{!dateBlock.isToday()}\"\n+            tools:ignore=\"ContentDescription\" />\n+\n+        <ImageView", "originalCommit": "b812cf8f2062e73229dfcf3946b8c52cf644e734", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTU0ODA5OA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491548098", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-19T21:36:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIxNzU2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0MTgzOQ==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491741839", "bodyText": "need auto-format.", "author": "farhan-arshad-dev", "createdAt": "2020-09-20T22:25:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseDatesAdapter.kt", "diffHunk": "@@ -0,0 +1,69 @@\n+package org.edx.mobile.view.adapters\n+\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import androidx.databinding.DataBindingUtil\n+import androidx.recyclerview.widget.RecyclerView\n+import org.edx.mobile.R\n+import org.edx.mobile.databinding.ItemCourseDateBlockBinding\n+import org.edx.mobile.interfaces.OnDateBlockListener\n+import org.edx.mobile.model.course.CourseDateBlock\n+import java.util.*\n+import kotlin.collections.LinkedHashMap\n+\n+class CourseDatesAdapter(private val data: LinkedHashMap<String, ArrayList<CourseDateBlock>>,", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5ODUwNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491998504", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-21T12:19:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc0MTgzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgyMzY2Mg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491823662", "bodyText": "Need auto-format.", "author": "farhan-arshad-dev", "createdAt": "2020-09-21T06:52:17Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/test/http/ApiTests.java", "diffHunk": "@@ -173,6 +179,39 @@ public void testEnrollInACourse() throws Exception {\n         print(\"test: finished: reset password\");\n     }\n \n+    @Test\n+    public void testCourseDatesResponse() throws Exception {\n+        login();\n+        print(\"test: Course Dates Response\");\n+\n+        CourseDates dates = executeStrict(courseAPI.getCourseDates(\"\"));\n+        assertNotNull(dates);\n+        assertNotNull(dates.getCourseDateBlocks());\n+\n+        String todayDate = dates.getCourseDateBlocks().get(12).getDate();\n+\n+        try (MockedStatic mockedStatic = mockStatic(DateUtil.class)) {\n+            mockedStatic.when(DateUtil::getCurrentTimeStamp).thenReturn(todayDate);\n+            Mockito.when(DateUtil.isDateToday(todayDate)).thenReturn(true);\n+            assertTrue(dates.isContainToday());\n+        }\n+\n+        dates.organiseCourseDates();\n+\n+        assertNotNull(dates.getCourseDatesMap());\n+\n+        for (String key : dates.getCourseDatesMap().keySet()) {\n+            assertNotNull(key);\n+            ArrayList<CourseDateBlock> blocks = dates.getCourseDatesMap().get(key);\n+            assertNotNull(blocks);\n+            for (CourseDateBlock block: blocks){\n+                assertNotNull(block);\n+            }\n+        }\n+        print(\"success\");\n+        print(\"test: Course Dates Api working fine\");\n+    }\n+", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU4OTgwOA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r492589808", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-09-22T09:17:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgyMzY2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgzOTUyMA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491839520", "bodyText": "this statment force to pass the test on every execution.", "author": "farhan-arshad-dev", "createdAt": "2020-09-21T07:30:53Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/util/DataBindingHelperUtilTest.kt", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.edx.mobile.util\n+\n+import android.view.View\n+import android.widget.TextView\n+import org.assertj.core.api.Assertions.assertThat\n+import org.junit.Test\n+import org.mockito.Mockito\n+import org.mockito.Mockito.`when` as mockitoWhen\n+\n+class DataBindingHelperUtilTest {\n+\n+    @Test\n+    fun testIsViewVisible() {\n+        val mockedView = Mockito.mock(View::class.java)\n+        DataBindingHelperUtils.isViewVisible(mockedView, false)\n+        mockitoWhen(mockedView.visibility).thenReturn(View.INVISIBLE)", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgzOTUzNg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491839536", "bodyText": "this statment force to pass the test on every execution.", "author": "farhan-arshad-dev", "createdAt": "2020-09-21T07:30:56Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/util/DataBindingHelperUtilTest.kt", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.edx.mobile.util\n+\n+import android.view.View\n+import android.widget.TextView\n+import org.assertj.core.api.Assertions.assertThat\n+import org.junit.Test\n+import org.mockito.Mockito\n+import org.mockito.Mockito.`when` as mockitoWhen\n+\n+class DataBindingHelperUtilTest {\n+\n+    @Test\n+    fun testIsViewVisible() {\n+        val mockedView = Mockito.mock(View::class.java)\n+        DataBindingHelperUtils.isViewVisible(mockedView, false)\n+        mockitoWhen(mockedView.visibility).thenReturn(View.INVISIBLE)\n+        assertThat(mockedView.visibility).isEqualTo(View.INVISIBLE)\n+    }\n+\n+    @Test\n+    fun testSetText() {\n+        val mockedTextView = Mockito.mock(TextView::class.java)\n+        DataBindingHelperUtils.setText(mockedTextView, \"Test\")\n+        mockitoWhen(mockedTextView.text).thenReturn(\"Test\")", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg0MzY0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491843643", "bodyText": "need new extra-line.", "author": "farhan-arshad-dev", "createdAt": "2020-09-21T07:39:48Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/viewModel/CourseDateViewModelTest.kt", "diffHunk": "@@ -0,0 +1,38 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.arch.core.executor.testing.InstantTaskExecutorRule\n+import androidx.test.ext.junit.runners.AndroidJUnit4\n+import com.google.inject.Injector\n+import org.edx.mobile.course.CourseAPI\n+import org.edx.mobile.test.http.HttpBaseTestCase\n+import org.junit.Assert.assertNotNull\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class CourseDateViewModelTest : HttpBaseTestCase() {\n+\n+    private lateinit var courseDateViewModel: CourseDateViewModel\n+\n+    @get:Rule\n+    var instantTaskExecuteRule = InstantTaskExecutorRule()\n+\n+    @Throws(Exception::class)\n+    override fun setUp() {\n+        super.setUp()\n+        courseDateViewModel = CourseDateViewModel()\n+    }\n+\n+    @Throws(Exception::class)\n+    override fun inject(injector: Injector) {\n+        super.inject(injector)\n+        courseAPI = injector.getInstance(CourseAPI::class.java)\n+    }\n+\n+    @Test\n+    fun startViewModel() {\n+        courseDateViewModel.fetchCourseDates(courseID = \"\", isSwipeRefresh = false)\n+        assertNotNull(courseDateViewModel.courseDates.getOrAwaitValue())\n+    }\n+}", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg0NDgzNA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491844834", "bodyText": "need Ref: for this class/approach in the doc-string.", "author": "farhan-arshad-dev", "createdAt": "2020-09-21T07:42:03Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/viewModel/LiveDataTestUtil.kt", "diffHunk": "@@ -0,0 +1,47 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.annotation.VisibleForTesting\n+import androidx.lifecycle.LiveData\n+import androidx.lifecycle.Observer\n+import java.util.concurrent.CountDownLatch\n+import java.util.concurrent.TimeUnit\n+import java.util.concurrent.TimeoutException\n+\n+/**\n+ * Gets the value of a [LiveData] or waits for it to have one, with a timeout.\n+ *\n+ * Use this extension from host-side (JVM) tests. It's recommended to use it alongside\n+ * `InstantTaskExecutorRule` or a similar mechanism to execute tasks synchronously.\n+ */\n+@VisibleForTesting(otherwise = VisibleForTesting.NONE)\n+fun <T> LiveData<T>.getOrAwaitValue(", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg0NDk4NA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491844984", "bodyText": "need a new line.", "author": "farhan-arshad-dev", "createdAt": "2020-09-21T07:42:19Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/viewModel/LiveDataTestUtil.kt", "diffHunk": "@@ -0,0 +1,47 @@\n+package org.edx.mobile.viewModel\n+\n+import androidx.annotation.VisibleForTesting\n+import androidx.lifecycle.LiveData\n+import androidx.lifecycle.Observer\n+import java.util.concurrent.CountDownLatch\n+import java.util.concurrent.TimeUnit\n+import java.util.concurrent.TimeoutException\n+\n+/**\n+ * Gets the value of a [LiveData] or waits for it to have one, with a timeout.\n+ *\n+ * Use this extension from host-side (JVM) tests. It's recommended to use it alongside\n+ * `InstantTaskExecutorRule` or a similar mechanism to execute tasks synchronously.\n+ */\n+@VisibleForTesting(otherwise = VisibleForTesting.NONE)\n+fun <T> LiveData<T>.getOrAwaitValue(\n+        time: Long = 2,\n+        timeUnit: TimeUnit = TimeUnit.SECONDS,\n+        afterObserve: () -> Unit = {}\n+): T {\n+    var data: T? = null\n+    val latch = CountDownLatch(1)\n+    val observer = object : Observer<T> {\n+        override fun onChanged(o: T?) {\n+            data = o\n+            latch.countDown()\n+            this@getOrAwaitValue.removeObserver(this)\n+        }\n+    }\n+    this.observeForever(observer)\n+\n+    try {\n+        afterObserve.invoke()\n+\n+        // Don't wait indefinitely if the LiveData is not set.\n+        if (!latch.await(time, timeUnit)) {\n+            throw TimeoutException(\"LiveData value was never set.\")\n+        }\n+\n+    } finally {\n+        this.removeObserver(observer)\n+    }\n+\n+    @Suppress(\"UNCHECKED_CAST\")\n+    return data as T\n+}", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg1MDE2MA==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r491850160", "bodyText": "are we need these dependencies?", "author": "farhan-arshad-dev", "createdAt": "2020-09-21T07:52:07Z", "path": "OpenEdXMobile/build.gradle", "diffHunk": "@@ -233,6 +234,11 @@ dependencies {\n \n     // test project configuration\n     testImplementation 'junit:junit:4.12'\n+    testImplementation 'androidx.test.ext:junit-ktx:1.1.1'\n+    testImplementation 'androidx.test:core-ktx:1.2.0'\n+    testImplementation 'androidx.arch.core:core-testing:2.1.0'", "originalCommit": "3fed4d6e04517ec0130f5130b35ecb484d4d172e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAwMDIxNg==", "url": "https://github.com/edx/edx-app-android/pull/1435#discussion_r492000216", "bodyText": "Yes we need these dependencies for ViewModel testing", "author": "omerhabib26", "createdAt": "2020-09-21T12:22:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg1MDE2MA=="}], "type": "inlineReview"}, {"oid": "0ce81238c626ee2781a5fca9f7cde0bbfc9c4ed6", "url": "https://github.com/edx/edx-app-android/commit/0ce81238c626ee2781a5fca9f7cde0bbfc9c4ed6", "message": "Native Imp of CourseDates PageView using MVVM architecture\n- LEARNER-7814\n- MVVM Architecture implementation\n- Native Designs implementations\n- API Unit testing\n- ViewModel testing", "committedDate": "2020-09-22T09:47:36Z", "type": "commit"}, {"oid": "0ce81238c626ee2781a5fca9f7cde0bbfc9c4ed6", "url": "https://github.com/edx/edx-app-android/commit/0ce81238c626ee2781a5fca9f7cde0bbfc9c4ed6", "message": "Native Imp of CourseDates PageView using MVVM architecture\n- LEARNER-7814\n- MVVM Architecture implementation\n- Native Designs implementations\n- API Unit testing\n- ViewModel testing", "committedDate": "2020-09-22T09:47:36Z", "type": "forcePushed"}]}