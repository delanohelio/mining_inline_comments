{"pr_number": 1426, "pr_title": "Added AutoCompleteTextView instead of Spinner", "pr_createdAt": "2020-06-23T10:38:09Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1426", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMzNzU1OA==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445337558", "bodyText": "The filename should be renamed accordingly.  e.g view_register_autocomplete.xml", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T06:38:33Z", "path": "OpenEdXMobile/res/layout/view_register_spinner.xml", "diffHunk": "@@ -8,14 +8,15 @@\n     android:paddingBottom=\"@dimen/registration_field_vertical_padding\"\n     android:orientation=\"vertical\">\n \n-    <org.edx.mobile.module.registration.view.RegistrationOptionSpinner\n+    <org.edx.mobile.module.registration.view.RegistrationOptionAutoCompleteTextView", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM5NzAyNg==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445397026", "bodyText": "Need Autoformat in this file", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T08:35:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMzNzU1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM1MDIzMw==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445350233", "bodyText": "Need approval by the Product.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T07:09:48Z", "path": "OpenEdXMobile/res/values/errors.xml", "diffHunk": "@@ -90,6 +90,8 @@\n     <string name=\"error_enter_field\">Please enter your %1$s.</string>\n     <!-- Error prompt shown during registration to indicate a field missing a selection. Argument is a field name -->\n     <string name=\"error_select_field\">Please select your %1$s.</string>\n+    <!-- Error prompt shown during registration to indicate a field invalid input. Argument is a field name -->\n+    <string name=\"error_select_or_enter_field\">Please select or enter a valid %1$s.</string>", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQ0NzQzOA==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445447438", "bodyText": "Just a suggestion, you can use an error message matching style with Country or region error message.", "author": "saeedbashir", "createdAt": "2020-06-25T10:01:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM1MDIzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUxNDc4OQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445514789", "bodyText": "the string was suggested by the Hilary on Jira Ticket", "author": "omerhabib26", "createdAt": "2020-06-25T12:19:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM1MDIzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU2MjYxNg==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445562616", "bodyText": "Just a suggestion, you can use an error message matching style with Country or region error message.\n\n@saeedbashir IMO, a new string is more appropriate, as a user can write the same string available in the autocomplete list.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T13:35:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM1MDIzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM1MTMwNQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445351305", "bodyText": "needs to update the id accordingly as now using AutoCompleteTextView.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T07:12:19Z", "path": "OpenEdXMobile/res/layout/view_register_spinner.xml", "diffHunk": "@@ -8,14 +8,15 @@\n     android:paddingBottom=\"@dimen/registration_field_vertical_padding\"\n     android:orientation=\"vertical\">\n \n-    <org.edx.mobile.module.registration.view.RegistrationOptionSpinner\n+    <org.edx.mobile.module.registration.view.RegistrationOptionAutoCompleteTextView\n         android:id=\"@+id/input_spinner\"", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM2MTIxNA==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445361214", "bodyText": "IMO, We have to create this class in kotlin.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T07:31:20Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.java", "diffHunk": "@@ -0,0 +1,95 @@\n+package org.edx.mobile.module.registration.view;\n+\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import android.widget.ArrayAdapter;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView;\n+\n+import org.edx.mobile.R;\n+import org.edx.mobile.module.registration.model.RegistrationOption;\n+\n+import java.util.List;\n+\n+public class RegistrationOptionAutoCompleteTextView extends AppCompatAutoCompleteTextView {", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM2MTgwNQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445361805", "bodyText": "Can we remove this string? if there is no use case to show this message", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T07:32:25Z", "path": "OpenEdXMobile/res/values/errors.xml", "diffHunk": "@@ -90,6 +90,8 @@\n     <string name=\"error_enter_field\">Please enter your %1$s.</string>\n     <!-- Error prompt shown during registration to indicate a field missing a selection. Argument is a field name -->\n     <string name=\"error_select_field\">Please select your %1$s.</string>", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM3OTI4NA==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445379284", "bodyText": "Rename the layout as per the auto-complete view.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T08:04:22Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.java", "diffHunk": "@@ -0,0 +1,95 @@\n+package org.edx.mobile.module.registration.view;\n+\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import android.widget.ArrayAdapter;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView;\n+\n+import org.edx.mobile.R;\n+import org.edx.mobile.module.registration.model.RegistrationOption;\n+\n+import java.util.List;\n+\n+public class RegistrationOptionAutoCompleteTextView extends AppCompatAutoCompleteTextView {\n+\n+    private ArrayAdapter<RegistrationOption> adapter;\n+    private RegistrationOption selectedItem = null;\n+\n+    public RegistrationOptionAutoCompleteTextView(Context context) {\n+        super(context);\n+    }\n+\n+    public RegistrationOptionAutoCompleteTextView(Context context, AttributeSet attrs) {\n+        super(context, attrs);\n+    }\n+\n+    public RegistrationOptionAutoCompleteTextView(Context context, AttributeSet attrs, int defStyle) {\n+        super(context, attrs, defStyle);\n+    }\n+\n+    public boolean hasValue(@Nullable String value) {\n+        if (adapter != null) {\n+            return (getAdapterPosition(value) >= 0);\n+        }\n+        return false;\n+    }\n+\n+    public void select(@Nullable String value) {\n+        if (adapter != null && value != null) {\n+            int pos = getAdapterPosition(value);\n+            if (pos >= 0) {\n+                setSelection(pos);\n+            }\n+        }\n+    }\n+\n+    public RegistrationOption getSelectedItem() {\n+        return selectedItem;\n+    }\n+\n+    public void setSelectedItem(RegistrationOption option) {\n+        selectedItem = option;\n+    }\n+\n+    @Nullable\n+    public String getSelectedItemValue() {\n+        String value = null;\n+        if (selectedItem != null) {\n+            value = selectedItem.getValue();\n+        }\n+        return value;\n+    }\n+\n+    @NonNull\n+    public String getSelectedItemName() {\n+        String value = null;\n+        if (selectedItem != null) {\n+            value = selectedItem.getName();\n+        }\n+        return value;\n+    }\n+\n+    private int getAdapterPosition(@Nullable String input) {\n+        int posiiton = -1;\n+        if (input != null && adapter != null) {\n+            for(int i=0 ; i<adapter.getCount() ; i++){\n+                RegistrationOption item = adapter.getItem(i);\n+                if (item != null && input.equalsIgnoreCase(item.toString())) {\n+                    posiiton = i;\n+                    setSelectedItem(item);\n+                    break;\n+                }\n+            }\n+        }\n+        return posiiton;\n+    }\n+\n+    public void setItems(@NonNull List<RegistrationOption> options) {\n+        adapter = new ArrayAdapter<>(getContext(), R.layout.registration_spinner_item, options);", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM4MzcyNA==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445383724", "bodyText": "getSelectedItemName is Nullable as value can be null.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T08:12:02Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.java", "diffHunk": "@@ -0,0 +1,95 @@\n+package org.edx.mobile.module.registration.view;\n+\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import android.widget.ArrayAdapter;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView;\n+\n+import org.edx.mobile.R;\n+import org.edx.mobile.module.registration.model.RegistrationOption;\n+\n+import java.util.List;\n+\n+public class RegistrationOptionAutoCompleteTextView extends AppCompatAutoCompleteTextView {\n+\n+    private ArrayAdapter<RegistrationOption> adapter;\n+    private RegistrationOption selectedItem = null;\n+\n+    public RegistrationOptionAutoCompleteTextView(Context context) {\n+        super(context);\n+    }\n+\n+    public RegistrationOptionAutoCompleteTextView(Context context, AttributeSet attrs) {\n+        super(context, attrs);\n+    }\n+\n+    public RegistrationOptionAutoCompleteTextView(Context context, AttributeSet attrs, int defStyle) {\n+        super(context, attrs, defStyle);\n+    }\n+\n+    public boolean hasValue(@Nullable String value) {\n+        if (adapter != null) {\n+            return (getAdapterPosition(value) >= 0);\n+        }\n+        return false;\n+    }\n+\n+    public void select(@Nullable String value) {\n+        if (adapter != null && value != null) {\n+            int pos = getAdapterPosition(value);\n+            if (pos >= 0) {\n+                setSelection(pos);\n+            }\n+        }\n+    }\n+\n+    public RegistrationOption getSelectedItem() {\n+        return selectedItem;\n+    }\n+\n+    public void setSelectedItem(RegistrationOption option) {\n+        selectedItem = option;\n+    }\n+\n+    @Nullable\n+    public String getSelectedItemValue() {\n+        String value = null;\n+        if (selectedItem != null) {\n+            value = selectedItem.getValue();\n+        }\n+        return value;\n+    }\n+\n+    @NonNull\n+    public String getSelectedItemName() {", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQwMjUzNw==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445402537", "bodyText": "we also need to use EdxTextInputLayout wrapper around RegistrationOptionAutoCompleteTextView as other edit text working. e.g User Name, and password.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T08:44:44Z", "path": "OpenEdXMobile/res/layout/view_register_spinner.xml", "diffHunk": "@@ -8,14 +8,15 @@\n     android:paddingBottom=\"@dimen/registration_field_vertical_padding\"\n     android:orientation=\"vertical\">\n \n-    <org.edx.mobile.module.registration.view.RegistrationOptionSpinner\n+    <org.edx.mobile.module.registration.view.RegistrationOptionAutoCompleteTextView", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQyOTUyMQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445429521", "bodyText": "Like:", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T09:30:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQwMjUzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQxNDUxMQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r445414511", "bodyText": "IMO, we have to use 'error_select_or_enter_field' message instated of.", "author": "farhan-arshad-dev", "createdAt": "2020-06-25T09:04:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationSelectView.java", "diffHunk": "@@ -162,16 +157,21 @@ public boolean isValidInput() {\n         // check if this is required field and has an input value\n         if (mField.isRequired() && !hasValue()) {\n             String errorMessage = mField.getErrorMessage().getRequired();\n-            if(errorMessage==null || errorMessage.isEmpty()){\n+            if (errorMessage == null || errorMessage.isEmpty()) {\n                 errorMessage = getView().getResources().getString(R.string.error_select_field,", "originalCommit": "2aebfa10989f93d4f4ae96a33528734a69145212", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjEzOTQyOA==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446139428", "bodyText": "this id should also be updated.", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T11:57:51Z", "path": "OpenEdXMobile/res/layout/view_register_auto_complete.xml", "diffHunk": "@@ -0,0 +1,40 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:id=\"@+id/ll_register_spinner_root\"", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE0NjIxMw==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446146213", "bodyText": "Logger should have RegistrationSelectView.class instated of RegistrationEditTextView.class", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T12:13:34Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationSelectView.java", "diffHunk": "@@ -20,23 +24,20 @@\n     protected static final Logger logger = new Logger(RegistrationEditTextView.class);", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE0NzYyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446147625", "bodyText": "both the conditions should be merged as statements are the same within conditions.", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T12:16:46Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationSelectView.java", "diffHunk": "@@ -161,20 +159,27 @@ public boolean isValidInput() {\n \n         // check if this is required field and has an input value\n         if (mField.isRequired() && !hasValue()) {\n-            String errorMessage = mField.getErrorMessage().getRequired();\n-            if(errorMessage==null || errorMessage.isEmpty()){\n-                errorMessage = getView().getResources().getString(R.string.error_select_field,\n-                        mField.getLabel());\n-            }\n-            handleError(errorMessage);\n+            initializeErrorMessage();\n+            return false;\n+        } else if (!mField.isRequired() && mField.getFieldType().equals(RegistrationFieldType.MULTI)\n+                && mInputView.length() > 0 && !hasValue()) {\n+            initializeErrorMessage();", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE1MTY0OQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446151649", "bodyText": "I think the following statements will cover,\n        // check if this is required field and has an input value\n        if ((mField.isRequired() || (!mField.isRequired() && mField.getFieldType().equals(RegistrationFieldType.MULTI)\n                && mInputView.length() > 0)) && !hasValue()) {\n            initializeErrorMessage();\n            return false;\n        }", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T12:25:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE0NzYyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE1MTgzNw==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446151837", "bodyText": "need a new line char", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T12:25:40Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.kt", "diffHunk": "@@ -0,0 +1,76 @@\n+package org.edx.mobile.module.registration.view\n+\n+import android.content.Context\n+import android.util.AttributeSet\n+import android.widget.ArrayAdapter\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView\n+import org.edx.mobile.R\n+import org.edx.mobile.module.registration.model.RegistrationOption\n+\n+class RegistrationOptionAutoCompleteTextView : AppCompatAutoCompleteTextView {\n+    private var adapter: ArrayAdapter<RegistrationOption>? = null\n+    var selectedItem: RegistrationOption? = null\n+\n+    constructor(context: Context?) : super(context) {}\n+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {}\n+    constructor(context: Context?, attrs: AttributeSet?, defStyle: Int) : super(context, attrs, defStyle) {}\n+\n+    fun hasValue(value: String?): Boolean {\n+        value?.let {\n+            adapter?.let {\n+                return getAdapterPosition(value) >= 0\n+            }\n+        }\n+        return false\n+    }\n+\n+    fun select(value: String?) {\n+        value?.let {\n+            adapter?.let {\n+                val pos = getAdapterPosition(value)\n+                if (pos >= 0) {\n+                    setSelection(pos)\n+                }\n+            }\n+        }\n+    }\n+\n+    val selectedItemValue: String?\n+        get() {\n+            var value: String? = null\n+            selectedItem?.let { \n+                value = it.value\n+            }\n+            return value\n+        }\n+\n+    val selectedItemName: String?\n+        get() {\n+            var name: String? = null\n+            selectedItem?.let { \n+                name = it.name\n+            }\n+            return name\n+        }\n+\n+    private fun getAdapterPosition(input: String): Int {\n+        var posiiton = -1\n+        adapter?.let {\n+            for (i in 0 until it.count) {\n+                val item = it.getItem(i)\n+                if (item != null && input.equals(item.toString(), ignoreCase = true)) {\n+                    posiiton = i\n+                    selectedItem = item\n+                    break\n+                }\n+            }\n+        }\n+        return posiiton\n+    }\n+\n+    fun setItems(options: List<RegistrationOption>) {\n+        adapter = ArrayAdapter(context, R.layout.registration_selection_item, options)\n+        setAdapter(adapter)\n+        threshold = 0\n+    }\n+}", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE1NTU3MQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446155571", "bodyText": "need an auto format.", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T12:33:49Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.kt", "diffHunk": "@@ -0,0 +1,76 @@\n+package org.edx.mobile.module.registration.view\n+\n+import android.content.Context\n+import android.util.AttributeSet\n+import android.widget.ArrayAdapter\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView\n+import org.edx.mobile.R\n+import org.edx.mobile.module.registration.model.RegistrationOption\n+\n+class RegistrationOptionAutoCompleteTextView : AppCompatAutoCompleteTextView {", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE1NTk4Mw==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446155983", "bodyText": "constructor without statment, didn't need parenthesis.", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T12:34:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.kt", "diffHunk": "@@ -0,0 +1,76 @@\n+package org.edx.mobile.module.registration.view\n+\n+import android.content.Context\n+import android.util.AttributeSet\n+import android.widget.ArrayAdapter\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView\n+import org.edx.mobile.R\n+import org.edx.mobile.module.registration.model.RegistrationOption\n+\n+class RegistrationOptionAutoCompleteTextView : AppCompatAutoCompleteTextView {\n+    private var adapter: ArrayAdapter<RegistrationOption>? = null\n+    var selectedItem: RegistrationOption? = null\n+\n+    constructor(context: Context?) : super(context) {}", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE2MDcxMg==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446160712", "bodyText": "I think there is no need adapter null check as we already check-in getAdapterPosition method.", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T12:44:29Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.kt", "diffHunk": "@@ -0,0 +1,76 @@\n+package org.edx.mobile.module.registration.view\n+\n+import android.content.Context\n+import android.util.AttributeSet\n+import android.widget.ArrayAdapter\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView\n+import org.edx.mobile.R\n+import org.edx.mobile.module.registration.model.RegistrationOption\n+\n+class RegistrationOptionAutoCompleteTextView : AppCompatAutoCompleteTextView {\n+    private var adapter: ArrayAdapter<RegistrationOption>? = null\n+    var selectedItem: RegistrationOption? = null\n+\n+    constructor(context: Context?) : super(context) {}\n+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {}\n+    constructor(context: Context?, attrs: AttributeSet?, defStyle: Int) : super(context, attrs, defStyle) {}\n+\n+    fun hasValue(value: String?): Boolean {\n+        value?.let {\n+            adapter?.let {", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE5MTQ4NQ==", "url": "https://github.com/edx/edx-app-android/pull/1426#discussion_r446191485", "bodyText": "I think there is no need adapter null check as we already check-in getAdapterPosition method.", "author": "farhan-arshad-dev", "createdAt": "2020-06-26T13:42:03Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/registration/view/RegistrationOptionAutoCompleteTextView.kt", "diffHunk": "@@ -0,0 +1,76 @@\n+package org.edx.mobile.module.registration.view\n+\n+import android.content.Context\n+import android.util.AttributeSet\n+import android.widget.ArrayAdapter\n+import androidx.appcompat.widget.AppCompatAutoCompleteTextView\n+import org.edx.mobile.R\n+import org.edx.mobile.module.registration.model.RegistrationOption\n+\n+class RegistrationOptionAutoCompleteTextView : AppCompatAutoCompleteTextView {\n+    private var adapter: ArrayAdapter<RegistrationOption>? = null\n+    var selectedItem: RegistrationOption? = null\n+\n+    constructor(context: Context?) : super(context) {}\n+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {}\n+    constructor(context: Context?, attrs: AttributeSet?, defStyle: Int) : super(context, attrs, defStyle) {}\n+\n+    fun hasValue(value: String?): Boolean {\n+        value?.let {\n+            adapter?.let {\n+                return getAdapterPosition(value) >= 0\n+            }\n+        }\n+        return false\n+    }\n+\n+    fun select(value: String?) {\n+        value?.let {\n+            adapter?.let {", "originalCommit": "1350037f8daf780e1b34508b0ee9fe6fab364de7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "518f7d27e606a3cced0f6a47a35f69ad6b04bfd3", "url": "https://github.com/edx/edx-app-android/commit/518f7d27e606a3cced0f6a47a35f69ad6b04bfd3", "message": "Added AutoCompleteTextView instead of Spinner\n- LEARNER-7779\n- All the selectable fields are now using AutoCompleteTextView\n- User can either select or type the valid input", "committedDate": "2020-06-26T16:12:08Z", "type": "commit"}, {"oid": "518f7d27e606a3cced0f6a47a35f69ad6b04bfd3", "url": "https://github.com/edx/edx-app-android/commit/518f7d27e606a3cced0f6a47a35f69ad6b04bfd3", "message": "Added AutoCompleteTextView instead of Spinner\n- LEARNER-7779\n- All the selectable fields are now using AutoCompleteTextView\n- User can either select or type the valid input", "committedDate": "2020-06-26T16:12:08Z", "type": "forcePushed"}]}