{"pr_number": 3935, "pr_title": "[bndtools] ConcurrentModificationException occurs during: \"Create imp\u2026", "pr_createdAt": "2020-04-18T15:40:24Z", "pr_url": "https://github.com/bndtools/bnd/pull/3935", "timeline": [{"oid": "116577ee2ffb0109f549788660fdd18849e17a16", "url": "https://github.com/bndtools/bnd/commit/116577ee2ffb0109f549788660fdd18849e17a16", "message": "[bndtools] ConcurrentModificationException occurs during: \"Create implicit repo\"\n\nfixes #3819\n\nSigned-off-by: Raymond Aug\u00e9 <raymond.auge@liferay.com>", "committedDate": "2020-04-18T15:45:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcyNzA5Mw==", "url": "https://github.com/bndtools/bnd/pull/3935#discussion_r410727093", "bodyText": "Doesn't this duplicate work done in MavenImplicitProjectRunListener to add the listeners?", "author": "bjhargrave", "createdAt": "2020-04-18T17:35:20Z", "path": "bndtools.m2e/src/bndtools/m2e/MavenRunProvider.java", "diffHunk": "@@ -32,14 +37,51 @@\n \tprivate final MavenBndrunContainer mbc = new MavenBndrunContainer();\n \n \t@Override\n-\tpublic Run create(IResource targetResource, RunMode mode) throws Exception {\n+\tpublic Bndrun create(IResource targetResource, RunMode mode) throws Exception {\n \t\tif (!isMavenProject(targetResource)) {\n \t\t\treturn null;\n \t\t}\n \n+\t\tfinal IMavenProjectFacade projectFacade = getMavenProjectFacade(targetResource);\n+\n+\t\tBndrun bndrun = create0(targetResource, projectFacade, mode);\n+\n+\t\tWorkspace workspace = bndrun.getWorkspace();\n+\n+\t\tfinal MavenImplicitProjectRepository implicitRepo = new MavenImplicitProjectRepository( //\n+\t\t\tprojectFacade, bndrun);\n+\n+\t\tmavenProjectRegistry.addMavenProjectChangedListener( //", "originalCommit": "116577ee2ffb0109f549788660fdd18849e17a16", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDczMDkyMA==", "url": "https://github.com/bndtools/bnd/pull/3935#discussion_r410730920", "bodyText": "yup, I goofed as I was reorganizing the changes.. the listener should only do the remove now.", "author": "rotty3000", "createdAt": "2020-04-18T18:09:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcyNzA5Mw=="}], "type": "inlineReview"}, {"oid": "f8b74162dcc804d8071bf0033782549d5c07eebe", "url": "https://github.com/bndtools/bnd/commit/f8b74162dcc804d8071bf0033782549d5c07eebe", "message": "[bndtools] ConcurrentModificationException occurs during: \"Create implicit repo\"\n\nfixes #3819\n\nSigned-off-by: Raymond Aug\u00e9 <raymond.auge@liferay.com>", "committedDate": "2020-04-18T18:14:26Z", "type": "commit"}, {"oid": "f8b74162dcc804d8071bf0033782549d5c07eebe", "url": "https://github.com/bndtools/bnd/commit/f8b74162dcc804d8071bf0033782549d5c07eebe", "message": "[bndtools] ConcurrentModificationException occurs during: \"Create implicit repo\"\n\nfixes #3819\n\nSigned-off-by: Raymond Aug\u00e9 <raymond.auge@liferay.com>", "committedDate": "2020-04-18T18:14:26Z", "type": "forcePushed"}]}