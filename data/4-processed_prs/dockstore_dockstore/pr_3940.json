{"pr_number": 3940, "pr_title": "start es, kibana, postgres from docker-compose", "pr_createdAt": "2020-11-20T21:55:33Z", "pr_url": "https://github.com/dockstore/dockstore/pull/3940", "timeline": [{"oid": "4b98505b6e23909bb72c3332d7681164e8dab0a9", "url": "https://github.com/dockstore/dockstore/commit/4b98505b6e23909bb72c3332d7681164e8dab0a9", "message": "start es, kibana, postgres from docker-compose", "committedDate": "2020-11-20T21:53:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg5OTA4MA==", "url": "https://github.com/dockstore/dockstore/pull/3940#discussion_r528899080", "bodyText": "@coverbeck\n11.8 or something?", "author": "garyluu", "createdAt": "2020-11-23T18:06:05Z", "path": "docker-compose.yml", "diffHunk": "@@ -0,0 +1,55 @@\n+version: '2.2'\n+services:\n+  es01:\n+    #uncomment after elasticsearch upgrade\n+    #image: docker.elastic.co/elasticsearch/elasticsearch:7.10.0\n+    image: docker.elastic.co/elasticsearch/elasticsearch:6.8.3\n+    container_name: es01\n+    environment:\n+      - node.name=es01\n+      - cluster.name=es-docker-cluster\n+      - discovery.type=single-node\n+      - bootstrap.memory_lock=true\n+      - \"ES_JAVA_OPTS=-Xms512m -Xmx512m\"\n+      - xpack.security.enabled=false\n+      - xpack.monitoring.enabled=false\n+      - xpack.graph.enabled=false\n+      - xpack.watcher.enabled=false\n+      - xpack.ml.enabled=false\n+    ulimits:\n+      memlock:\n+        soft: -1\n+        hard: -1\n+    volumes:\n+      - data01:/usr/share/elasticsearch/data\n+    ports:\n+      - 9200:9200\n+    networks:\n+      - elastic \n+  # uncomment to run a kibana instance \n+  # kib01:\n+    # image: docker.elastic.co/kibana/kibana:6.8.3\n+    # container_name: kib01\n+    # ports:\n+      # - 5601:5601\n+    # environment:\n+      # ELASTICSEARCH_URL: http://es01:9200\n+      # ELASTICSEARCH_HOSTS: http://es01:9200\n+    # networks:\n+      # - elastic\n+  postgres_db:\n+    image: postgres:11.6", "originalCommit": "4b98505b6e23909bb72c3332d7681164e8dab0a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg5OTg5NQ==", "url": "https://github.com/dockstore/dockstore/pull/3940#discussion_r528899895", "bodyText": "Yeah, we're apparently on 11.8 in prod -- PG auto updates.", "author": "coverbeck", "createdAt": "2020-11-23T18:07:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg5OTA4MA=="}], "type": "inlineReview"}, {"oid": "21a1778e3866768d41986bd15b27e086b71c3e1d", "url": "https://github.com/dockstore/dockstore/commit/21a1778e3866768d41986bd15b27e086b71c3e1d", "message": "postgres to 11.8", "committedDate": "2020-11-23T18:22:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODkxMzEwOQ==", "url": "https://github.com/dockstore/dockstore/pull/3940#discussion_r528913109", "bodyText": "Could use some comments for new developers to know how this is different from the compose files in compose setup.", "author": "denis-yuen", "createdAt": "2020-11-23T18:31:19Z", "path": "docker-compose.yml", "diffHunk": "@@ -0,0 +1,55 @@\n+version: '2.2'", "originalCommit": "21a1778e3866768d41986bd15b27e086b71c3e1d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c8368736ad76d50ab28df1a1f8e2ef73e5d8bf65", "url": "https://github.com/dockstore/dockstore/commit/c8368736ad76d50ab28df1a1f8e2ef73e5d8bf65", "message": "add script settings and comments", "committedDate": "2020-11-23T22:35:10Z", "type": "commit"}, {"oid": "225b15e27e60af05faea95988a1d8b807a80e452", "url": "https://github.com/dockstore/dockstore/commit/225b15e27e60af05faea95988a1d8b807a80e452", "message": "Merge branch 'develop' into feature/1948/standardDockerCompose", "committedDate": "2020-11-24T20:38:30Z", "type": "commit"}, {"oid": "a31c0299356a3bcb7a5742dd58666d2de9039cd7", "url": "https://github.com/dockstore/dockstore/commit/a31c0299356a3bcb7a5742dd58666d2de9039cd7", "message": "random commit for circleci", "committedDate": "2020-11-24T20:54:11Z", "type": "commit"}, {"oid": "67bc861dc08cbc29fa872fe9c20851bac1a855f7", "url": "https://github.com/dockstore/dockstore/commit/67bc861dc08cbc29fa872fe9c20851bac1a855f7", "message": "Merge branch 'develop' into feature/1948/standardDockerCompose", "committedDate": "2020-11-25T15:30:49Z", "type": "commit"}, {"oid": "fe1314a3067ee9bb294ee26954b5d5ed6a956c7b", "url": "https://github.com/dockstore/dockstore/commit/fe1314a3067ee9bb294ee26954b5d5ed6a956c7b", "message": "another random commit", "committedDate": "2020-11-25T15:32:44Z", "type": "commit"}]}