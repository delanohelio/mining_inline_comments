{"pr_number": 3655, "pr_title": "PullRobot reference in wrong place, add more tests", "pr_createdAt": "2020-07-10T16:18:47Z", "pr_url": "https://github.com/dockstore/dockstore/pull/3655", "timeline": [{"oid": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec", "url": "https://github.com/dockstore/dockstore/commit/9c17a45f1d4fe8e74e42558a7889ab228e72e9ec", "message": "PullRobot reference in wrong place, add more tests", "committedDate": "2020-07-10T15:43:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk5ODI4Nw==", "url": "https://github.com/dockstore/dockstore/pull/3655#discussion_r452998287", "bodyText": "A little off-topic, but how do these inline response classes get named?\nIs there a chance of breakage if we add new endpoints with new inline responses or is the 2001 deterministic in some way?", "author": "denis-yuen", "createdAt": "2020-07-10T18:13:08Z", "path": "dockstore-integration-testing/src/test/java/io/dockstore/models/QuayModelTest.java", "diffHunk": "@@ -1,18 +1,66 @@\n package io.dockstore.models;\n \n+import java.util.List;\n+\n import com.fasterxml.jackson.core.JsonProcessingException;\n import com.fasterxml.jackson.databind.ObjectMapper;\n+import io.swagger.quay.client.ApiClient;\n+import io.swagger.quay.client.ApiException;\n+import io.swagger.quay.client.Configuration;\n+import io.swagger.quay.client.api.BuildApi;\n+import io.swagger.quay.client.model.InlineResponse2001;\n import io.swagger.quay.client.model.PullRobot;\n+import io.swagger.quay.client.model.QuayBuild;\n import org.junit.Assert;\n import org.junit.Test;\n \n import static io.dropwizard.testing.FixtureHelpers.fixture;\n \n public class QuayModelTest {\n+\n+    /**\n+     * Tests that the swagger-generated Quay.io api can deserialize a sample PullRobot JSON (that isn't just null)\n+     * @throws JsonProcessingException  If cannot deserialize\n+     */\n     @Test\n     public void testPullRobot() throws JsonProcessingException {\n         ObjectMapper objectMapper = new ObjectMapper();\n         PullRobot pullRobot = objectMapper.readValue(fixture(\"fixtures/pullRobot.json\"), PullRobot.class);\n+        pullRobotAssertions(pullRobot);\n+    }\n+\n+    /**\n+     * Test that the swagger-generated Quay.io api can deserialize a sample InlineResponse2001 JSON that has pull_robot that isn't just null\n+     * The sample JSON is the String response observed from testGetRepoBuildsWithPullRobot\n+     * @throws JsonProcessingException If cannot deserialize\n+     */\n+    @Test\n+    public void testInlineResponse2001() throws JsonProcessingException {\n+        ObjectMapper objectMapper = new ObjectMapper();\n+        InlineResponse2001 inlineResponse2001 = objectMapper.readValue(fixture(\"fixtures/inlineResponse2001.json\"), InlineResponse2001.class);", "originalCommit": "9c17a45f1d4fe8e74e42558a7889ab228e72e9ec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzA0MTQ3MQ==", "url": "https://github.com/dockstore/dockstore/pull/3655#discussion_r453041471", "bodyText": "I think swagger codegen names it based on the order of inline responses in the swagger.yaml.  I don't really see us adding new endpoints to the Quay API, but if we do, just add it to the bottom.  Even if we don't, it'll be obvious how to fix, compiler would complain and suggest what it should be.", "author": "garyluu", "createdAt": "2020-07-10T19:35:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk5ODI4Nw=="}], "type": "inlineReview"}]}