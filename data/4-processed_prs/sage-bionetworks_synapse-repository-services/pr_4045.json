{"pr_number": 4045, "pr_title": "Plfm 6161 f", "pr_createdAt": "2020-05-14T00:53:34Z", "pr_url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4045", "timeline": [{"oid": "512d2942deb8acf69cc25b9144318841da612e3f", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/512d2942deb8acf69cc25b9144318841da612e3f", "message": "only root schemas can have  value", "committedDate": "2020-05-13T18:24:57Z", "type": "commit"}, {"oid": "a594867e799411e2673c4b244d7d916db5145808", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/a594867e799411e2673c4b244d7d916db5145808", "message": "added const and enum", "committedDate": "2020-05-13T19:42:43Z", "type": "commit"}, {"oid": "dbd1bb5adc92db2a783bd710ebaf98526eb77f55", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/dbd1bb5adc92db2a783bd710ebaf98526eb77f55", "message": "fixed duplicated bootstrap schemas, added integration test fothe main use case, refactored delimiter and now return  with schema version info", "committedDate": "2020-05-14T00:52:08Z", "type": "commit"}, {"oid": "23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8", "message": "merged develop", "committedDate": "2020-05-14T00:55:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MjAzMg==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4045#discussion_r425382032", "bodyText": "Let us add a unit test", "author": "marcomarasca", "createdAt": "2020-05-14T19:34:00Z", "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/manager/schema/JsonSchemaManagerImpl.java", "diffHunk": "@@ -366,5 +368,59 @@ public ListJsonSchemaVersionInfoResponse listSchemaVersions(ListJsonSchemaVersio\n \t\tresponse.setNextPageToken(nextPageToken.getNextPageTokenForCurrentResults(page));\n \t\treturn response;\n \t}\n+\t\n+\t/**\n+\n+\t * \n+\t * @param id\n+\t * @return\n+\t */\n+\t@Override\n+\tpublic JsonSchema getValidationSchema(String id) {", "originalCommit": "23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5MzA2OA==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4045#discussion_r425393068", "bodyText": "We might want to add an additional integration test where we have a similar hierarchy but additionally we have a \"loop\" of $ref, for example here we could add a property named dogFriends that are of type pets.Dog.", "author": "marcomarasca", "createdAt": "2020-05-14T19:54:35Z", "path": "services/workers/src/test/resources/pets/Cat.json", "diffHunk": "@@ -0,0 +1,15 @@\n+{\n+\t\"title\": \"Cat\",\n+\t\"$id\": \"my.organization/pets.cat.Cat\",\n+\t\"description\": \"...\",\n+\t\"allOf\": [\n+\t\t{\n+\t\t\t\"$ref\": \"my.organization/pets.Pet\"\n+\t\t}\n+\t],\n+\t\"properties\": {\n+\t\t\"breed\": {\n+\t\t\t\"$ref\": \"my.organization/pets.cat.Breed\"\n+\t\t}", "originalCommit": "23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5NjU1Mw==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4045#discussion_r425396553", "bodyText": "Consider renaming the class from SchemaTranslatorImp -> SchemaTranslatorImpl", "author": "marcomarasca", "createdAt": "2020-05-14T20:00:59Z", "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/manager/schema/SchemaTranslatorImp.java", "diffHunk": "@@ -33,7 +34,7 @@\n \t@Override\n \tpublic ObjectSchemaImpl loadSchemaFromClasspath(String id) {", "originalCommit": "23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}