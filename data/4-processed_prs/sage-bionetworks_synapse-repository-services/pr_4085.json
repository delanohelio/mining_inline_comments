{"pr_number": 4085, "pr_title": "UNNEST() returns null for list columns with null values (PLFM-6235)", "pr_createdAt": "2020-06-08T22:28:14Z", "pr_url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4085", "timeline": [{"oid": "f3c4cb6c44d1fc0ab107851756315f43353ec857", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/f3c4cb6c44d1fc0ab107851756315f43353ec857", "message": "fix unnest() SQL function omitting null rows", "committedDate": "2020-06-06T03:05:57Z", "type": "commit"}, {"oid": "e6dfdb6ce9d95fda480b26308a7aab399b7bf676", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/e6dfdb6ce9d95fda480b26308a7aab399b7bf676", "message": "fix test", "committedDate": "2020-06-06T05:47:25Z", "type": "commit"}, {"oid": "977380bca28fff0b4c56d779eff62301b14496cd", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/977380bca28fff0b4c56d779eff62301b14496cd", "message": "Merge branch 'develop' of github.com:Sage-Bionetworks/Synapse-Repository-Services into PLFM-6235", "committedDate": "2020-06-08T22:25:42Z", "type": "commit"}, {"oid": "b7293e870eb8f3eb2ff51bbd28813bfde749055e", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/b7293e870eb8f3eb2ff51bbd28813bfde749055e", "message": "Merge branch 'develop' into PLFM-6235", "committedDate": "2020-06-09T00:45:48Z", "type": "commit"}, {"oid": "c09e48f60ce88ed68d1f60fcf7410c5fbc666ab2", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/c09e48f60ce88ed68d1f60fcf7410c5fbc666ab2", "message": "whitespace", "committedDate": "2020-06-09T00:50:34Z", "type": "commit"}, {"oid": "a11369401f49b18a5dc205ff3d6e72efee8a420d", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/a11369401f49b18a5dc205ff3d6e72efee8a420d", "message": "fix test", "committedDate": "2020-06-09T00:56:20Z", "type": "commit"}, {"oid": "ffa46c73d810a0c4d37fa283e8b0eec1dd41e2a2", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/ffa46c73d810a0c4d37fa283e8b0eec1dd41e2a2", "message": "bump schema-to-pojo to 0.6.1", "committedDate": "2020-06-09T01:01:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA4MzA3MA==", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4085#discussion_r437083070", "bodyText": "Might want to remove this", "author": "marcomarasca", "createdAt": "2020-06-09T01:12:37Z", "path": "services/workers/src/test/java/org/sagebionetworks/table/worker/TableWorkerIntegrationTest.java", "diffHunk": "@@ -2158,6 +2158,47 @@ public void testUnnest_returnCount() throws Exception{\n \t\t});\r\n \t}\r\n \r\n+\t//reproduces PLFM-6235\r\n+\t@Test\r\n+\tpublic void testUnnest_nullColumns() throws Exception{\r\n+\t\t// setup an string list column.\r\n+\t\tColumnModel strListColumn = new ColumnModel();\r\n+\t\tstrListColumn.setColumnType(ColumnType.STRING_LIST);\r\n+\t\tstrListColumn.setName(\"strList\");\r\n+\t\tstrListColumn = columnManager.createColumnModel(adminUserInfo, strListColumn);\r\n+\t\tschema = Lists.newArrayList(strListColumn);\r\n+\t\t// build a table with this column.\r\n+\t\tcreateTableWithSchema();\r\n+\t\tTableStatus status = waitForTableProcessing(tableId);\r\n+\t\tif(status.getErrorDetails() != null){\r\n+\t\t\tSystem.out.println(status.getErrorDetails());\r", "originalCommit": "ffa46c73d810a0c4d37fa283e8b0eec1dd41e2a2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "84cc058fbb5f58cdf88da429d5c7f7c662efef15", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/84cc058fbb5f58cdf88da429d5c7f7c662efef15", "message": "fix inconsistent test", "committedDate": "2020-06-09T01:49:39Z", "type": "commit"}]}