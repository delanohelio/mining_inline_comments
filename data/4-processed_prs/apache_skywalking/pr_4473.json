{"pr_number": 4473, "pr_title": "#4463 FAQ for Maven compilation failure with error like python2 not found", "pr_createdAt": "2020-03-09T10:53:26Z", "pr_url": "https://github.com/apache/skywalking/pull/4473", "timeline": [{"oid": "3c9db47b6468456b8983acb73bdc17ca26b003a3", "url": "https://github.com/apache/skywalking/commit/3c9db47b6468456b8983acb73bdc17ca26b003a3", "message": "#4463 FAQ for Maven compilation failure with error like python2 not found", "committedDate": "2020-03-09T10:49:07Z", "type": "commit"}, {"oid": "c8cb7577dbb788fc34482d9b96db35fc562c768f", "url": "https://github.com/apache/skywalking/commit/c8cb7577dbb788fc34482d9b96db35fc562c768f", "message": "#4463 FAQ for Maven compilation failure with error like python2 not found", "committedDate": "2020-03-09T10:54:58Z", "type": "commit"}, {"oid": "a32124be177f6521e34f2270b5df0b0d49f89436", "url": "https://github.com/apache/skywalking/commit/a32124be177f6521e34f2270b5df0b0d49f89436", "message": "Update maven-compile-npm-failure.md", "committedDate": "2020-03-09T10:58:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4OTIzMw==", "url": "https://github.com/apache/skywalking/pull/4473#discussion_r389589233", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * [Maven compilation failure with error like python2 not found](maven-compile-npm-failure.md)\n          \n          \n            \n            * [Maven compilation failure with `python2 not found` error](maven-compile-npm-failure.md)", "author": "wu-sheng", "createdAt": "2020-03-09T10:57:51Z", "path": "docs/en/FAQ/README.md", "diffHunk": "@@ -7,6 +7,7 @@ These are known and common FAQs. We welcome you to contribute yours.\n ## Compiling\n * [Protoc plugin fails in maven build](Protoc-Plugin-Fails-When-Build.md)\n * [Required items could not be found, when import project into Eclipse](Import-Project-Eclipse-RequireItems-Exception.md)\n+* [Maven compilation failure with error like python2 not found](maven-compile-npm-failure.md)", "originalCommit": "c8cb7577dbb788fc34482d9b96db35fc562c768f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4OTYwMQ==", "url": "https://github.com/apache/skywalking/pull/4473#discussion_r389589601", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #### 1. If you live in China, please edit `skywalking\\apm-webapp\\pom.xml`     \n          \n          \n            \n            #### 1. Use mirror. Such as in China, please edit `skywalking\\apm-webapp\\pom.xml`", "author": "wu-sheng", "createdAt": "2020-03-09T10:58:38Z", "path": "docs/en/FAQ/maven-compile-npm-failure.md", "diffHunk": "@@ -0,0 +1,62 @@\n+### Problem\uff1a Maven compilation failure with error like `Error: not found: python2`\n+When you compile the project via maven, it failed at module `apm-webapp` and the following error occured.\n+\n+Pay attention to key words such as `node-sass` and `Error: not found: python2`.\n+\n+```\n+[INFO] > node-sass@4.11.0 postinstall C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\node-sass\n+[INFO] > node scripts/build.js\n+\n+[ERROR] gyp verb check python checking for Python executable \"python2\" in the PATH\n+[ERROR] gyp verb `which` failed Error: not found: python2\n+[ERROR] gyp verb `which` failed     at getNotFoundError (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:13:12)\n+[ERROR] gyp verb `which` failed     at F (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:68:19)\n+[ERROR] gyp verb `which` failed     at E (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:80:29)\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:89:16\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\index.js:42:5\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\windows.js:36:5\n+[ERROR] gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:152:21)\n+\n+[ERROR] gyp verb `which` failed   code: 'ENOENT' }\n+[ERROR] gyp verb check python checking for Python executable \"python\" in the PATH\n+[ERROR] gyp verb `which` succeeded python C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE\n+[ERROR] gyp ERR! configure error \n+[ERROR] gyp ERR! stack Error: Command failed: C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE -c import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack   File \"<string>\", line 1\n+[ERROR] gyp ERR! stack     import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack                                ^\n+[ERROR] gyp ERR! stack SyntaxError: invalid syntax\n+[ERROR] gyp ERR! stack \n+[ERROR] gyp ERR! stack     at ChildProcess.exithandler (child_process.js:275:12)\n+[ERROR] gyp ERR! stack     at emitTwo (events.js:126:13)\n+[ERROR] gyp ERR! stack     at ChildProcess.emit (events.js:214:7)\n+[ERROR] gyp ERR! stack     at maybeClose (internal/child_process.js:925:16)\n+[ERROR] gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:209:5)\n+[ERROR] gyp ERR! System Windows_NT 10.0.17134\n+......\n+[INFO] server-starter-es7 ................................. SUCCESS [ 11.657 s]\n+[INFO] apm-webapp ......................................... FAILURE [ 25.857 s]\n+[INFO] apache-skywalking-apm .............................. SKIPPED\n+[INFO] apache-skywalking-apm-es7 .......................... SKIPPED\n+```\n+\n+### Reason\n+\n+It has nothing to do with skywalking.   \n+According to https://github.com/sass/node-sass/issues/1176, if you live in countries where requesting resources from `github` and `npmjs.org` is very slowly, some precompiled binaries for dependency `node-sass` will fail to be downloaded during `npm install`, then npm will try to compile them itself. That's why `python2` is needed.\n+\n+### Resolve\n+#### 1. If you live in China, please edit `skywalking\\apm-webapp\\pom.xml`     ", "originalCommit": "c8cb7577dbb788fc34482d9b96db35fc562c768f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4OTgxNw==", "url": "https://github.com/apache/skywalking/pull/4473#discussion_r389589817", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #### 2. Get an enough powerful VPN\n          \n          \n            \n            #### 2. Use a better network.", "author": "wu-sheng", "createdAt": "2020-03-09T10:59:08Z", "path": "docs/en/FAQ/maven-compile-npm-failure.md", "diffHunk": "@@ -0,0 +1,62 @@\n+### Problem\uff1a Maven compilation failure with error like `Error: not found: python2`\n+When you compile the project via maven, it failed at module `apm-webapp` and the following error occured.\n+\n+Pay attention to key words such as `node-sass` and `Error: not found: python2`.\n+\n+```\n+[INFO] > node-sass@4.11.0 postinstall C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\node-sass\n+[INFO] > node scripts/build.js\n+\n+[ERROR] gyp verb check python checking for Python executable \"python2\" in the PATH\n+[ERROR] gyp verb `which` failed Error: not found: python2\n+[ERROR] gyp verb `which` failed     at getNotFoundError (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:13:12)\n+[ERROR] gyp verb `which` failed     at F (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:68:19)\n+[ERROR] gyp verb `which` failed     at E (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:80:29)\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:89:16\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\index.js:42:5\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\windows.js:36:5\n+[ERROR] gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:152:21)\n+\n+[ERROR] gyp verb `which` failed   code: 'ENOENT' }\n+[ERROR] gyp verb check python checking for Python executable \"python\" in the PATH\n+[ERROR] gyp verb `which` succeeded python C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE\n+[ERROR] gyp ERR! configure error \n+[ERROR] gyp ERR! stack Error: Command failed: C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE -c import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack   File \"<string>\", line 1\n+[ERROR] gyp ERR! stack     import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack                                ^\n+[ERROR] gyp ERR! stack SyntaxError: invalid syntax\n+[ERROR] gyp ERR! stack \n+[ERROR] gyp ERR! stack     at ChildProcess.exithandler (child_process.js:275:12)\n+[ERROR] gyp ERR! stack     at emitTwo (events.js:126:13)\n+[ERROR] gyp ERR! stack     at ChildProcess.emit (events.js:214:7)\n+[ERROR] gyp ERR! stack     at maybeClose (internal/child_process.js:925:16)\n+[ERROR] gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:209:5)\n+[ERROR] gyp ERR! System Windows_NT 10.0.17134\n+......\n+[INFO] server-starter-es7 ................................. SUCCESS [ 11.657 s]\n+[INFO] apm-webapp ......................................... FAILURE [ 25.857 s]\n+[INFO] apache-skywalking-apm .............................. SKIPPED\n+[INFO] apache-skywalking-apm-es7 .......................... SKIPPED\n+```\n+\n+### Reason\n+\n+It has nothing to do with skywalking.   \n+According to https://github.com/sass/node-sass/issues/1176, if you live in countries where requesting resources from `github` and `npmjs.org` is very slowly, some precompiled binaries for dependency `node-sass` will fail to be downloaded during `npm install`, then npm will try to compile them itself. That's why `python2` is needed.\n+\n+### Resolve\n+#### 1. If you live in China, please edit `skywalking\\apm-webapp\\pom.xml`     \n+Find\n+```\n+<configuration>  \n+ <arguments>install --registry=https://registry.npmjs.org/</arguments>  \n+</configuration>\n+```\n+Replace it with\n+```\n+<configuration>  \n+ <arguments>install --registry=https://registry.npm.taobao.org/ --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</arguments>  \n+</configuration>\n+```\n+#### 2. Get an enough powerful VPN", "originalCommit": "c8cb7577dbb788fc34482d9b96db35fc562c768f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "13ba0a257b1ab0e4dd87cf4f5d290db59a3c5c03", "url": "https://github.com/apache/skywalking/commit/13ba0a257b1ab0e4dd87cf4f5d290db59a3c5c03", "message": "Update docs/en/FAQ/README.md\n\nCo-Authored-By: \u5434\u665f Wu Sheng <wu.sheng@foxmail.com>", "committedDate": "2020-03-09T11:03:01Z", "type": "commit"}, {"oid": "a6dd2a5d6b6884f1c832a489aae6a4dd91878658", "url": "https://github.com/apache/skywalking/commit/a6dd2a5d6b6884f1c832a489aae6a4dd91878658", "message": "Update docs/en/FAQ/maven-compile-npm-failure.md", "committedDate": "2020-03-09T11:04:17Z", "type": "commit"}]}