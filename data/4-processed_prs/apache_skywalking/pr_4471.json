{"pr_number": 4471, "pr_title": "[BugFix] Docker so11y cannot be disabled", "pr_createdAt": "2020-03-09T10:35:01Z", "pr_url": "https://github.com/apache/skywalking/pull/4471", "timeline": [{"oid": "5eba81e1409ca11204812bd456d4f4af206b76d2", "url": "https://github.com/apache/skywalking/commit/5eba81e1409ca11204812bd456d4f4af206b76d2", "message": "[BugFix] Docker so11y cannot be disabled\n\n### Motivation:\n\nThis patch fixes the bug that there's no chance to disable the so11y in docker container.\n\n### Modifications:\n\n- Remove the default so11y section, and only add it when the environment variable exists.\n\n### Result:\n\n- Users can disable so11y by leaving the `SW_TELEMETRY` empty or set it to `none`", "committedDate": "2020-03-09T10:28:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4MDgyMA==", "url": "https://github.com/apache/skywalking/pull/4471#discussion_r389580820", "bodyText": "should move it to func generateTelemetrySo11y", "author": "hanahmily", "createdAt": "2020-03-09T10:40:36Z", "path": "docker/oap-es7/docker-entrypoint.sh", "diffHunk": "@@ -384,8 +384,6 @@ receiver-jvm:\n   default:\n receiver-clr:\n   default:\n-receiver-so11y:", "originalCommit": "5eba81e1409ca11204812bd456d4f4af206b76d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU5MTAwMA==", "url": "https://github.com/apache/skywalking/pull/4471#discussion_r389591000", "bodyText": "It's already there, isn't it?\n\n  \n    \n      skywalking/docker/oap/docker-entrypoint.sh\n    \n    \n        Lines 450 to 454\n      in\n      5eba81e\n    \n    \n    \n    \n\n        \n          \n               if [[ \"$SW_TELEMETRY\" = \"so11y\" ]]; then \n        \n\n        \n          \n                   cat <<EOT >> ${var_application_file} \n        \n\n        \n          \n           receiver-so11y: \n        \n\n        \n          \n             default: \n        \n\n        \n          \n           EOT", "author": "kezhenxu94", "createdAt": "2020-03-09T11:01:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4MDgyMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTYxNjA0Ng==", "url": "https://github.com/apache/skywalking/pull/4471#discussion_r389616046", "bodyText": "sorry, didn't notice it", "author": "hanahmily", "createdAt": "2020-03-09T11:59:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4MDgyMA=="}], "type": "inlineReview"}, {"oid": "f32e31d22adc853abac86bea8c4a9d35b86c475d", "url": "https://github.com/apache/skywalking/commit/f32e31d22adc853abac86bea8c4a9d35b86c475d", "message": "Merge branch 'master' into bugfix/docker-so11y-flag", "committedDate": "2020-03-09T11:58:53Z", "type": "commit"}]}