{"pr_number": 6057, "pr_title": "fix influx query error #6056", "pr_createdAt": "2020-12-22T08:57:13Z", "pr_url": "https://github.com/apache/skywalking/pull/6057", "timeline": [{"oid": "07d99da02798b5cbbee91a382f5e55d05ddfc0ec", "url": "https://github.com/apache/skywalking/commit/07d99da02798b5cbbee91a382f5e55d05ddfc0ec", "message": "Merge pull request #1 from apache/master\n\n2020.12.4 update from apache to me", "committedDate": "2020-12-14T03:46:44Z", "type": "commit"}, {"oid": "38bbecf939aed6585289ffa2d6a07e03cd6cb600", "url": "https://github.com/apache/skywalking/commit/38bbecf939aed6585289ffa2d6a07e03cd6cb600", "message": "Merge pull request #2 from apache/master\n\n2020.12.22 update from apache to me", "committedDate": "2020-12-22T03:46:46Z", "type": "commit"}, {"oid": "e4e90499f8e779d4aa0bfdacde08e14dfa75bb6b", "url": "https://github.com/apache/skywalking/commit/e4e90499f8e779d4aa0bfdacde08e14dfa75bb6b", "message": "fix influx query error", "committedDate": "2020-12-22T08:38:16Z", "type": "commit"}, {"oid": "3d0ce81d31c39f65858979f27ad6c1f9487a4a0b", "url": "https://github.com/apache/skywalking/commit/3d0ce81d31c39f65858979f27ad6c1f9487a4a0b", "message": "Merge branch 'master' into fix-influxdb-error", "committedDate": "2020-12-22T09:04:52Z", "type": "commit"}, {"oid": "a00e13008b7ae2302a6ae97241ee158e229547c2", "url": "https://github.com/apache/skywalking/commit/a00e13008b7ae2302a6ae97241ee158e229547c2", "message": "fix searchService error in 8.4.0", "committedDate": "2020-12-22T09:24:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE3NjQxNQ==", "url": "https://github.com/apache/skywalking/pull/6057#discussion_r547176415", "bodyText": "We have a constant with quotes, InfluxConstants.NAME.", "author": "dmsolr", "createdAt": "2020-12-22T09:48:24Z", "path": "oap-server/server-storage-plugin/storage-influxdb-plugin/src/main/java/org/apache/skywalking/oap/server/storage/plugin/influxdb/query/MetadataQuery.java", "diffHunk": "@@ -125,7 +125,7 @@ public Service searchService(String serviceCode) throws IOException {\n         final WhereQueryImpl<SelectQueryImpl> whereQuery = select(ID_COLUMN, NAME, ServiceTraffic.GROUP)\n             .from(client.getDatabase(), ServiceTraffic.INDEX_NAME)\n             .where(eq(TagName.NODE_TYPE, String.valueOf(NodeType.Normal.value())));\n-        whereQuery.and(eq(ServiceTraffic.NAME, serviceCode));\n+        whereQuery.and(eq(\"\\\"\" + ServiceTraffic.NAME + \"\\\"\", serviceCode));", "originalCommit": "a00e13008b7ae2302a6ae97241ee158e229547c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIxNDQ1Mw==", "url": "https://github.com/apache/skywalking/pull/6057#discussion_r547214453", "bodyText": "thanks,i submit again.", "author": "zhe1926", "createdAt": "2020-12-22T11:05:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE3NjQxNQ=="}], "type": "inlineReview"}, {"oid": "f709c011afa8b5be4d2f10b74c6fb018f70e9d3b", "url": "https://github.com/apache/skywalking/commit/f709c011afa8b5be4d2f10b74c6fb018f70e9d3b", "message": "use InfluxConstants.NAME", "committedDate": "2020-12-22T11:00:36Z", "type": "commit"}]}