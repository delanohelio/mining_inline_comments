{"pr_number": 5139, "pr_title": "Add swctl to docker image for health check", "pr_createdAt": "2020-07-20T16:20:57Z", "pr_url": "https://github.com/apache/skywalking/pull/5139", "timeline": [{"oid": "8fa7b5f53ec29fb82a1e4adaebed224f97c81530", "url": "https://github.com/apache/skywalking/commit/8fa7b5f53ec29fb82a1e4adaebed224f97c81530", "message": "Add swctl to docker image for health check\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-07-20T16:16:37Z", "type": "commit"}, {"oid": "c1872c3fd9fb48cde7d4a0e60718ced1b01dff15", "url": "https://github.com/apache/skywalking/commit/c1872c3fd9fb48cde7d4a0e60718ced1b01dff15", "message": "Merge branch 'master' into docker-health-check", "committedDate": "2020-07-27T15:45:42Z", "type": "commit"}, {"oid": "278feeb5811b20e0650832c12e7fa4bbc7174c56", "url": "https://github.com/apache/skywalking/commit/278feeb5811b20e0650832c12e7fa4bbc7174c56", "message": "Add swctl to docker image for health check\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-07-29T15:15:17Z", "type": "commit"}, {"oid": "303c916338784d038335bed17cf9ea148e905825", "url": "https://github.com/apache/skywalking/commit/303c916338784d038335bed17cf9ea148e905825", "message": "Merge branch 'master' into docker-health-check", "committedDate": "2020-08-05T23:11:42Z", "type": "commit"}, {"oid": "6eaf81d744bc3bc53c3ee12e071dab58d6855671", "url": "https://github.com/apache/skywalking/commit/6eaf81d744bc3bc53c3ee12e071dab58d6855671", "message": "Get swctl from apache/skywalking-base image\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-08-05T23:17:02Z", "type": "commit"}, {"oid": "d86144d037b7473388a7d3f64e22834561828549", "url": "https://github.com/apache/skywalking/commit/d86144d037b7473388a7d3f64e22834561828549", "message": "Tweak health check interval\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-08-05T23:24:08Z", "type": "commit"}, {"oid": "1816a8d7990c139b475286bd857de99d556509b5", "url": "https://github.com/apache/skywalking/commit/1816a8d7990c139b475286bd857de99d556509b5", "message": "Merge branch 'docker-health-check' of github.com:apache/skywalking into docker-health-check", "committedDate": "2020-08-05T23:26:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3MTM5MQ==", "url": "https://github.com/apache/skywalking/pull/5139#discussion_r466071391", "bodyText": "I didn't found this command doc on the CLI repo. Seems we missed it. Please update the doc. @hanahmily", "author": "wu-sheng", "createdAt": "2020-08-06T00:09:48Z", "path": "docker/docker-compose.yml", "diffHunk": "@@ -42,6 +42,14 @@ services:\n     environment:\n       SW_STORAGE: elasticsearch\n       SW_STORAGE_ES_CLUSTER_NODES: elasticsearch:9200\n+      SW_HEALTH_CHECKER: default\n+      SW_TELEMETRY: prometheus\n+    healthcheck:\n+      test: [\"CMD\", \"./bin/swctl\", \"ch\"]", "originalCommit": "1816a8d7990c139b475286bd857de99d556509b5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1d0b05fbfdeab72bd3115fd0a1cab53075ec6b61", "url": "https://github.com/apache/skywalking/commit/1d0b05fbfdeab72bd3115fd0a1cab53075ec6b61", "message": "Merge branch 'master' into docker-health-check", "committedDate": "2020-08-06T01:06:28Z", "type": "commit"}]}