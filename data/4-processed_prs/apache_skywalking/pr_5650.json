{"pr_number": 5650, "pr_title": "Add SW_NO_UPSTREAM_REAL_ADDRESS config doc", "pr_createdAt": "2020-10-12T05:59:38Z", "pr_url": "https://github.com/apache/skywalking/pull/5650", "timeline": [{"oid": "e13a4d3354bf99915798f20cd81dc05254802458", "url": "https://github.com/apache/skywalking/commit/e13a4d3354bf99915798f20cd81dc05254802458", "message": "Add SW_NO_UPSTREAM_REAL_ADDRESS config doc", "committedDate": "2020-10-12T05:58:33Z", "type": "commit"}, {"oid": "dec012a34b94439be4ae7d7c930b1b1e80ab273b", "url": "https://github.com/apache/skywalking/commit/dec012a34b94439be4ae7d7c930b1b1e80ab273b", "message": "Fix legal config issue.", "committedDate": "2020-10-12T06:40:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA4NTc5OQ==", "url": "https://github.com/apache/skywalking/pull/5650#discussion_r503085799", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | - | - |noUpstreamRealAddressAgents|Exit spans with the component in the list would generate the client-side instance relation metrics. As some tracing plugins can't collect the real peer ip address, such as Nginx-LUA and Envoy. |SW_NO_UPSTREAM_REAL_ADDRESS|6000,9000|\n          \n          \n            \n            | - | - |noUpstreamRealAddressAgents|Exit spans with the component in the list would not generate the client-side instance relation metrics. As some tracing plugins can't collect the real peer ip address, such as Nginx-LUA and Envoy. |SW_NO_UPSTREAM_REAL_ADDRESS|6000,9000|", "author": "kezhenxu94", "createdAt": "2020-10-12T07:19:22Z", "path": "docs/en/setup/backend/configuration-vocabulary.md", "diffHunk": "@@ -138,6 +138,7 @@ core|default|role|Option values, `Mixed/Receiver/Aggregator`. **Receiver** mode\n | - | - |slowDBAccessThreshold|The slow database access thresholds. Unit ms.|SW_SLOW_DB_THRESHOLD|default:200,mongodb:100|\n | - | - |forceSampleErrorSegment|When sampling mechanism activated, this config would make the error status segment sampled, ignoring the sampling rate.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|\n | - | - |segmentStatusAnalysisStrategy|Determine the final segment status from the status of spans. Available values are `FROM_SPAN_STATUS` , `FROM_ENTRY_SPAN` and `FROM_FIRST_SPAN`. `FROM_SPAN_STATUS` represents the segment status would be error if any span is in error status. `FROM_ENTRY_SPAN` means the segment status would be determined by the status of entry spans only. `FROM_FIRST_SPAN` means the segment status would be determined by the status of the first span only.|SW_SEGMENT_STATUS_ANALYSIS_STRATEGY|FROM_SPAN_STATUS|\n+| - | - |noUpstreamRealAddressAgents|Exit spans with the component in the list would generate the client-side instance relation metrics. As some tracing plugins can't collect the real peer ip address, such as Nginx-LUA and Envoy. |SW_NO_UPSTREAM_REAL_ADDRESS|6000,9000|", "originalCommit": "dec012a34b94439be4ae7d7c930b1b1e80ab273b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA4ODY3NQ==", "url": "https://github.com/apache/skywalking/pull/5650#discussion_r503088675", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # Exit spans with the component in the list would generate the client-side instance relation metrics.\n          \n          \n            \n                # Exit spans with the component in the list would not generate the client-side instance relation metrics.", "author": "kezhenxu94", "createdAt": "2020-10-12T07:25:08Z", "path": "oap-server/server-bootstrap/src/main/resources/application.yml", "diffHunk": "@@ -181,6 +181,9 @@ agent-analyzer:\n     slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.\n     forceSampleErrorSegment: ${SW_FORCE_SAMPLE_ERROR_SEGMENT:true} # When sampling mechanism active, this config can open(true) force save some error segment. true is default.\n     segmentStatusAnalysisStrategy: ${SW_SEGMENT_STATUS_ANALYSIS_STRATEGY:FROM_SPAN_STATUS} # Determine the final segment status from the status of spans. Available values are `FROM_SPAN_STATUS` , `FROM_ENTRY_SPAN` and `FROM_FIRST_SPAN`. `FROM_SPAN_STATUS` represents the segment status would be error if any span is in error status. `FROM_ENTRY_SPAN` means the segment status would be determined by the status of entry spans only. `FROM_FIRST_SPAN` means the segment status would be determined by the status of the first span only.\n+    # Nginx and Envoy agents can't get the real remote address.\n+    # Exit spans with the component in the list would generate the client-side instance relation metrics.", "originalCommit": "dec012a34b94439be4ae7d7c930b1b1e80ab273b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3d2d664beaa7e046f2afb4d21eb17143d0e27f3c", "url": "https://github.com/apache/skywalking/commit/3d2d664beaa7e046f2afb4d21eb17143d0e27f3c", "message": "Update docs/en/setup/backend/configuration-vocabulary.md\n\nCo-authored-by: kezhenxu94 <kezhenxu94@apache.org>", "committedDate": "2020-10-12T07:26:38Z", "type": "commit"}, {"oid": "250cc25b3662da0bbcf23b5812baea8f0a4f51e2", "url": "https://github.com/apache/skywalking/commit/250cc25b3662da0bbcf23b5812baea8f0a4f51e2", "message": "Update oap-server/server-bootstrap/src/main/resources/application.yml\n\nCo-authored-by: kezhenxu94 <kezhenxu94@apache.org>", "committedDate": "2020-10-12T07:26:47Z", "type": "commit"}, {"oid": "e6dd1e5b23ac4029e55221ef653821c8f1617ee0", "url": "https://github.com/apache/skywalking/commit/e6dd1e5b23ac4029e55221ef653821c8f1617ee0", "message": "Add a test case to verify the module config initializer, which only supports 4 simple types.", "committedDate": "2020-10-12T09:19:35Z", "type": "commit"}]}