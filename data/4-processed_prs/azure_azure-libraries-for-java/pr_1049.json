{"pr_number": 1049, "pr_title": "Compute: append storage account id when create option is import", "pr_createdAt": "2020-02-25T09:45:50Z", "pr_url": "https://github.com/Azure/azure-libraries-for-java/pull/1049", "timeline": [{"oid": "62e967318e515f74ddef1a661cc4ca09fff1fd53", "url": "https://github.com/Azure/azure-libraries-for-java/commit/62e967318e515f74ddef1a661cc4ca09fff1fd53", "message": "Compute: append storage account id when create option is import", "committedDate": "2020-02-25T09:44:19Z", "type": "commit"}, {"oid": "ded0ce75c9cfef6ae9e8afcb669d6e4fe9968204", "url": "https://github.com/Azure/azure-libraries-for-java/commit/ded0ce75c9cfef6ae9e8afcb669d6e4fe9968204", "message": "Compute: fix checkstyle", "committedDate": "2020-02-25T10:00:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDIzMzQ5MQ==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1049#discussion_r384233491", "bodyText": "Naming consistent: build vs. construct. Make thing consistent is important coding convention.", "author": "yaohaizh", "createdAt": "2020-02-26T01:47:10Z", "path": "azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/implementation/SnapshotImpl.java", "diffHunk": "@@ -325,4 +331,17 @@ public SnapshotImpl withSku(SnapshotSkuType sku) {\n     protected Observable<SnapshotInner> getInnerAsync() {\n         return this.manager().inner().snapshots().getByResourceGroupAsync(this.resourceGroupName(), this.name());\n     }\n+\n+    private String buildStorageAccountId(String vhdUrl) {", "originalCommit": "ded0ce75c9cfef6ae9e8afcb669d6e4fe9968204", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDIzNzM5NQ==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1049#discussion_r384237395", "bodyText": "Just checking, if user then manually call withStorageAccountId, it will override this, right?\nSince as javadoc, the actual storage account could in a different subscription.", "author": "weidongxu-microsoft", "createdAt": "2020-02-26T02:02:59Z", "path": "azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/implementation/SnapshotImpl.java", "diffHunk": "@@ -247,7 +252,8 @@ public SnapshotImpl withDataFromVhd(String vhdUrl) {\n                 .withCreationData(new CreationData())\n                 .creationData()\n                 .withCreateOption(DiskCreateOption.IMPORT)\n-                .withSourceUri(vhdUrl);\n+                .withSourceUri(vhdUrl)\n+                .withStorageAccountId(buildStorageAccountId(vhdUrl));", "originalCommit": "ded0ce75c9cfef6ae9e8afcb669d6e4fe9968204", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI0MDExNg==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1049#discussion_r384240116", "bodyText": "This is the enhancement we should plan. In that case, we might have new methods like withDataFromVhd(String vhdUrl, string storageAccountId).", "author": "xseeseesee", "createdAt": "2020-02-26T02:14:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDIzNzM5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDI1MjE4NA==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1049#discussion_r384252184", "bodyText": "I think you need to add this.", "author": "weidongxu-microsoft", "createdAt": "2020-02-26T03:04:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDIzNzM5NQ=="}], "type": "inlineReview"}, {"oid": "0c2a9bd300b81c57c7c417755b07ba409acf6331", "url": "https://github.com/Azure/azure-libraries-for-java/commit/0c2a9bd300b81c57c7c417755b07ba409acf6331", "message": "Compute: rename method and support source VHD from different subscription", "committedDate": "2020-02-26T06:54:26Z", "type": "commit"}]}