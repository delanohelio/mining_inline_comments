{"pr_number": 1097, "pr_title": "fix: proxy address error in new netty and add timeout policy", "pr_createdAt": "2020-03-13T02:34:38Z", "pr_url": "https://github.com/Azure/azure-libraries-for-java/pull/1097", "timeline": [{"oid": "e4aae0defc46c32e33f3ccfc1e94b27de47c771a", "url": "https://github.com/Azure/azure-libraries-for-java/commit/e4aae0defc46c32e33f3ccfc1e94b27de47c771a", "message": "fix: proxy address error in new netty and add timeout policy", "committedDate": "2020-03-13T02:32:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjAxMzMzNA==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1097#discussion_r392013334", "bodyText": "Need consider several cases for timeout:\n\nHot is working on the Polling case?\nHow is it working with the server side retry logic header (429) ?", "author": "yaohaizh", "createdAt": "2020-03-13T03:26:34Z", "path": "azure-mgmt-resources/src/test/java/com/azure/management/resources/core/TestBase.java", "diffHunk": "@@ -212,6 +214,7 @@ public void write(int b) {\n                     .withHttpClient(generateHttpClientWithProxy(null))\n                     .withHttpLogOptions(new HttpLogOptions().setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\n                     .withPolicy(new ResourceGroupTaggingPolicy())\n+                    .withPolicy(new TimeoutPolicy(Duration.ofMinutes(1)))", "originalCommit": "e4aae0defc46c32e33f3ccfc1e94b27de47c771a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjAxNDk4Nw==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1097#discussion_r392014987", "bodyText": "Yes, so it is just added for unit test currently, since parallel test will cause timeout usually.\nIn my opinion,\n\nThe polling case could remain the same, but add logic for cancel if there are lots of time out.\nThe 429 handler should be added before timeout in the product situation.", "author": "ChenTanyi", "createdAt": "2020-03-13T03:34:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjAxMzMzNA=="}], "type": "inlineReview"}]}