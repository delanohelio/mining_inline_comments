{"pr_number": 1120, "pr_title": "Simplify JBehave parameter converters", "pr_createdAt": "2020-11-11T15:19:25Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/1120", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzMjgwNA==", "url": "https://github.com/vividus-framework/vividus/pull/1120#discussion_r521432804", "bodyText": "It is out of scope, but could you please use StringUtils.defaultIfBlank instead of explicit logic?", "author": "ikalinin1", "createdAt": "2020-11-11T15:21:38Z", "path": "vividus-plugin-mongodb/src/main/java/org/vividus/bdd/converter/StringToBsonConverter.java", "diffHunk": "@@ -16,22 +16,18 @@\n \n package org.vividus.bdd.converter;\n \n-import java.lang.reflect.Type;\n-\n import javax.inject.Named;\n \n import org.apache.commons.lang3.StringUtils;\n import org.bson.Document;\n import org.bson.conversions.Bson;\n-import org.jbehave.core.steps.ParameterConverters.AbstractParameterConverter;\n+import org.jbehave.core.steps.ParameterConverters.FunctionalParameterConverter;\n \n @Named\n-public class StringToBsonConverter extends AbstractParameterConverter<Bson>\n+public class StringToBsonConverter extends FunctionalParameterConverter<Bson>\n {\n-    @Override\n-    public Bson convertValue(String value, Type type)\n+    public StringToBsonConverter()\n     {\n-        String json = StringUtils.isNoneBlank(value) ? value : \"{}\";\n-        return Document.parse(json);\n+        super(value -> Document.parse(StringUtils.isNoneBlank(value) ? value : \"{}\"));", "originalCommit": "d285bad8361d66e65184d2eee5f893eecc7b7257", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzNDU2Mw==", "url": "https://github.com/vividus-framework/vividus/pull/1120#discussion_r521434563", "bodyText": "Oh, its noneBlank, please ignore", "author": "ikalinin1", "createdAt": "2020-11-11T15:24:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzMjgwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzNjA2NQ==", "url": "https://github.com/vividus-framework/vividus/pull/1120#discussion_r521436065", "bodyText": "I believe isNoneBlank  was used mistakenly", "author": "valfirst", "createdAt": "2020-11-11T15:26:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzMjgwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzNjI3Mg==", "url": "https://github.com/vividus-framework/vividus/pull/1120#discussion_r521436272", "bodyText": "Just checked, works for whitespaces too, so it's a valid comment :)", "author": "ikalinin1", "createdAt": "2020-11-11T15:26:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQzMjgwNA=="}], "type": "inlineReview"}, {"oid": "8a7a6d9cc7769c5339a3c784cf8e6aed4d6d770d", "url": "https://github.com/vividus-framework/vividus/commit/8a7a6d9cc7769c5339a3c784cf8e6aed4d6d770d", "message": "Simplify JBehave parameter converters", "committedDate": "2020-11-11T15:25:00Z", "type": "forcePushed"}, {"oid": "fa2e8707475df2987d545771c0dea9177564e2db", "url": "https://github.com/vividus-framework/vividus/commit/fa2e8707475df2987d545771c0dea9177564e2db", "message": "Simplify JBehave parameter converters", "committedDate": "2020-11-11T15:34:15Z", "type": "commit"}, {"oid": "fa2e8707475df2987d545771c0dea9177564e2db", "url": "https://github.com/vividus-framework/vividus/commit/fa2e8707475df2987d545771c0dea9177564e2db", "message": "Simplify JBehave parameter converters", "committedDate": "2020-11-11T15:34:15Z", "type": "forcePushed"}]}