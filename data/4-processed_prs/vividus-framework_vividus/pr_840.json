{"pr_number": 840, "pr_title": "Move search components into extension-selenium for further reusage", "pr_createdAt": "2020-08-21T11:28:01Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/840", "timeline": [{"oid": "7da3a4feba40af5348960180d5c9e2131595dbe9", "url": "https://github.com/vividus-framework/vividus/commit/7da3a4feba40af5348960180d5c9e2131595dbe9", "message": "WIP", "committedDate": "2020-08-21T11:44:38Z", "type": "forcePushed"}, {"oid": "2f44ec788a08530b953acc08e7b487e282711778", "url": "https://github.com/vividus-framework/vividus/commit/2f44ec788a08530b953acc08e7b487e282711778", "message": "WIP", "committedDate": "2020-08-21T11:50:12Z", "type": "forcePushed"}, {"oid": "42dc5bc10587d3887f90cc40cb3672d05fd81690", "url": "https://github.com/vividus-framework/vividus/commit/42dc5bc10587d3887f90cc40cb3672d05fd81690", "message": "WIP", "committedDate": "2020-08-24T10:36:33Z", "type": "forcePushed"}, {"oid": "7c67c99c6a2006c420c5f553c960614685727cd0", "url": "https://github.com/vividus-framework/vividus/commit/7c67c99c6a2006c420c5f553c960614685727cd0", "message": "WIP", "committedDate": "2020-08-24T10:43:55Z", "type": "forcePushed"}, {"oid": "59d3ffcc4f719275d1d4cf92757e3fd036a77144", "url": "https://github.com/vividus-framework/vividus/commit/59d3ffcc4f719275d1d4cf92757e3fd036a77144", "message": "WIP", "committedDate": "2020-08-25T11:15:42Z", "type": "forcePushed"}, {"oid": "a730dbd00a7270afbc67ee80e3235fbbc841465c", "url": "https://github.com/vividus-framework/vividus/commit/a730dbd00a7270afbc67ee80e3235fbbc841465c", "message": "WIP", "committedDate": "2020-08-25T14:29:23Z", "type": "forcePushed"}, {"oid": "a60a04d8b443754a31e0c2e61c4387a161fb0712", "url": "https://github.com/vividus-framework/vividus/commit/a60a04d8b443754a31e0c2e61c4387a161fb0712", "message": "WIP", "committedDate": "2020-08-25T18:35:22Z", "type": "forcePushed"}, {"oid": "3ae23a4e64bc0aff0f948a9b88ccef6d68116db1", "url": "https://github.com/vividus-framework/vividus/commit/3ae23a4e64bc0aff0f948a9b88ccef6d68116db1", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T07:27:39Z", "type": "forcePushed"}, {"oid": "28bf5f59174625c38ae7a1696cdad9acafbbf3c7", "url": "https://github.com/vividus-framework/vividus/commit/28bf5f59174625c38ae7a1696cdad9acafbbf3c7", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T08:28:58Z", "type": "forcePushed"}, {"oid": "901a75dfd42e9a74f4fc593584b0b6975d72e02a", "url": "https://github.com/vividus-framework/vividus/commit/901a75dfd42e9a74f4fc593584b0b6975d72e02a", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T08:45:50Z", "type": "forcePushed"}, {"oid": "028be95196d31be4ec81d020e4bf313890a22641", "url": "https://github.com/vividus-framework/vividus/commit/028be95196d31be4ec81d020e4bf313890a22641", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T09:15:05Z", "type": "forcePushed"}, {"oid": "7e5d95db96e69f4c746d6772c1f135a4c4f71ae8", "url": "https://github.com/vividus-framework/vividus/commit/7e5d95db96e69f4c746d6772c1f135a4c4f71ae8", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T09:48:14Z", "type": "forcePushed"}, {"oid": "c4a34da92ee19eb548937d819c01b9e1972aacf4", "url": "https://github.com/vividus-framework/vividus/commit/c4a34da92ee19eb548937d819c01b9e1972aacf4", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T10:26:58Z", "type": "forcePushed"}, {"oid": "5b0afc81a0c35d53cb12e54b21c26da8c221bf90", "url": "https://github.com/vividus-framework/vividus/commit/5b0afc81a0c35d53cb12e54b21c26da8c221bf90", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T10:50:28Z", "type": "forcePushed"}, {"oid": "13513a4071b0b8f4bdfa945b7138dae0d860fd46", "url": "https://github.com/vividus-framework/vividus/commit/13513a4071b0b8f4bdfa945b7138dae0d860fd46", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T11:09:27Z", "type": "forcePushed"}, {"oid": "39d9f34a6e03273855d445541ce4acf4205f45ee", "url": "https://github.com/vividus-framework/vividus/commit/39d9f34a6e03273855d445541ce4acf4205f45ee", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T11:12:56Z", "type": "forcePushed"}, {"oid": "7b3568814299c6c3ce029a8111fb28461155ccd7", "url": "https://github.com/vividus-framework/vividus/commit/7b3568814299c6c3ce029a8111fb28461155ccd7", "message": "[draft] Move SearchAttributes into extension-selenium", "committedDate": "2020-08-26T11:37:58Z", "type": "forcePushed"}, {"oid": "62fa5e5d695faf5ffd9318d9cce08aec2a344e74", "url": "https://github.com/vividus-framework/vividus/commit/62fa5e5d695faf5ffd9318d9cce08aec2a344e74", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-26T12:35:25Z", "type": "forcePushed"}, {"oid": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "url": "https://github.com/vividus-framework/vividus/commit/54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-26T13:32:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2NTIxNA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478265214", "bodyText": "use FunctionalParameterConverter, it fits better now", "author": "valfirst", "createdAt": "2020-08-27T08:58:55Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/converter/StringToSearchAttributesConverter.java", "diffHunk": "@@ -21,15 +21,22 @@\n import javax.inject.Named;\n \n import org.jbehave.core.steps.ParameterConverters.AbstractParameterConverter;\n-import org.vividus.ui.web.action.search.SearchAttributes;\n-import org.vividus.ui.web.util.SearchAttributesConversionUtils;\n+import org.vividus.ui.action.search.SearchAttributes;\n+import org.vividus.ui.util.SearchAttributesConversionUtils;\n \n @Named\n public class StringToSearchAttributesConverter extends AbstractParameterConverter<SearchAttributes>", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2NTQ0NA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478265444", "bodyText": "use FunctionalParameterConverter, it fits better now", "author": "valfirst", "createdAt": "2020-08-27T08:59:18Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/converter/StringToSearchAttributesSetConverter.java", "diffHunk": "@@ -22,15 +22,22 @@\n import javax.inject.Named;\n \n import org.jbehave.core.steps.ParameterConverters.AbstractParameterConverter;\n-import org.vividus.ui.web.action.search.SearchAttributes;\n-import org.vividus.ui.web.util.SearchAttributesConversionUtils;\n+import org.vividus.ui.action.search.SearchAttributes;\n+import org.vividus.ui.util.SearchAttributesConversionUtils;\n \n @Named\n public class StringToSearchAttributesSetConverter extends AbstractParameterConverter<Set<SearchAttributes>>", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2Nzc0MQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478267741", "bodyText": "I think highlighting is applicable to web elements only", "author": "valfirst", "createdAt": "2020-08-27T09:03:11Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -323,8 +311,13 @@ public boolean assertPageWithURLPartIsLoaded(String urlPart)\n                 number, comparisonRule);\n     }\n \n-    private WebDriver getWebDriver()\n+    protected WebDriver getWebDriver()\n     {\n         return webDriverProvider.get();\n     }\n+\n+    protected IHighlightingSoftAssert getSoftAssert()", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2ODA3OA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478268078", "bodyText": "What is the reason to change the name?", "author": "valfirst", "createdAt": "2020-08-27T09:03:47Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/DescriptiveSoftAssert.java", "diffHunk": "@@ -36,17 +36,17 @@\n         if (!isMatches)\n         {\n             String assertionDescription = getAssertionDescriptionString(actual, matcher);\n-            return recordAssertion(format(businessDescription, assertionDescription),\n+            return recordAssertionOutcome(format(businessDescription, assertionDescription),\n                     format(systemDescription, assertionDescription), isMatches);\n         }\n         StringDescription description = new StringDescription();\n         matcher.describeTo(description);\n         String matchedString = description.toString();\n-        return recordAssertion(businessDescription + StringUtils.SPACE + matchedString,\n+        return recordAssertionOutcome(businessDescription + StringUtils.SPACE + matchedString,\n                 systemDescription + StringUtils.SPACE + matchedString, isMatches);\n     }\n \n-    private boolean recordAssertion(String businessDescription, String systemDescription, boolean passed)\n+    private boolean recordAssertionOutcome(String businessDescription, String systemDescription, boolean passed)", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI5NTI3NQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478295275", "bodyText": "code smell to have a  method with the same names in parent and in child class", "author": "uarlouski", "createdAt": "2020-08-27T09:49:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2ODA3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2ODY3NA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478268674", "bodyText": "it looks like web-only", "author": "valfirst", "createdAt": "2020-08-27T09:04:47Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/IScrollActions.java", "diffHunk": "@@ -0,0 +1,24 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.action;\n+\n+import org.openqa.selenium.WebElement;\n+\n+public interface IScrollActions\n+{\n+    void scrollIntoView(WebElement webElement, boolean alignedToTheTop);", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2OTA3Nw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478269077", "bodyText": "what's the reason to change parameter name?", "author": "valfirst", "createdAt": "2020-08-27T09:05:27Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/SearchActions.java", "diffHunk": "@@ -125,18 +114,13 @@ private DefaultSearch getDefaultSearchAction()\n     }\n \n     @SuppressWarnings(\"unchecked\")\n-    private <T extends IElementAction> T getAction(IActionAttributeType actionAttributeType)\n+    private <T extends IElementAction> T getAction(IActionAttributeType actionAttributeKey)", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2OTQwMg==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478269402", "bodyText": "LOGGER.debug(wait);", "author": "valfirst", "createdAt": "2020-08-27T09:05:59Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/WaitActions.java", "diffHunk": "@@ -155,7 +89,8 @@ private boolean checkDocumentReadyState(WebDriver webDriver, boolean isIExplore)\n             {\n                 V value = wait.until(isTrue);\n                 result.setWaitPassed(true);\n-                LOGGER.debug(wait.toString());\n+                LOGGER.atDebug()\n+                      .log(wait::toString);", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI5NjUzNA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478296534", "bodyText": "there is not such signature", "author": "uarlouski", "createdAt": "2020-08-27T09:51:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI2OTQwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3MDQ3MA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478270470", "bodyText": "attributeKey -> attributeType", "author": "valfirst", "createdAt": "2020-08-27T09:07:51Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/search/ElementActionService.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.action.search;\n+\n+import java.util.Collections;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+\n+public class ElementActionService implements IElementActionService\n+{\n+    private final Set<IElementAction> attributeTypes;\n+\n+    private final Set<IElementAction> searchTypes;\n+    private final Set<IElementAction> filterTypes;\n+\n+    public ElementActionService(Set<IElementAction> attributeTypes)\n+    {\n+        this.attributeTypes = attributeTypes;\n+        this.searchTypes = filterByActionClass(IElementSearchAction.class);\n+        this.filterTypes = filterByActionClass(IElementFilterAction.class);\n+    }\n+\n+    @Override\n+    public IElementAction find(IActionAttributeType attributeKey)", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3MTcxNA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478271714", "bodyText": "is it web-only?", "author": "valfirst", "createdAt": "2020-08-27T09:09:59Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/listener/WebUiContextListener.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.listener;\n+\n+import com.google.common.eventbus.Subscribe;\n+\n+import org.vividus.selenium.event.WebDriverCreateEvent;\n+import org.vividus.selenium.event.WebDriverQuitEvent;\n+import org.vividus.ui.context.IWebUiContext;\n+\n+public class WebUiContextListener", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3MjIxMQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478272211", "bodyText": "it doesn't seem to be generic utility", "author": "valfirst", "createdAt": "2020-08-27T09:10:46Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/LocatorUtil.java", "diffHunk": "@@ -14,7 +14,7 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.ui.web.util;\n+package org.vividus.ui.util;", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3NDM1Nw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478274357", "bodyText": "bad design, this API is not applicable to mobile, so it shouldn't be implemented at all (even empty)", "author": "valfirst", "createdAt": "2020-08-27T09:14:34Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/action/MobileAppScrollActions.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.action;\n+\n+import org.openqa.selenium.WebElement;\n+import org.vividus.ui.action.IScrollActions;\n+\n+public class MobileAppScrollActions implements IScrollActions\n+{\n+    @Override\n+    public void scrollIntoView(WebElement webElement, boolean alignedToTheTop)", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTE2MjA1Nw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479162057", "bodyText": "discussed to have own set of search attribute beans for each profile without moving similar beans into selenium extension module", "author": "uarlouski", "createdAt": "2020-08-28T11:29:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3NDM1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI3NTQ0Mw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r478275443", "bodyText": "is it used once? does it make sense to inline this method?", "author": "valfirst", "createdAt": "2020-08-27T09:16:23Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/validation/IWebBaseValidations.java", "diffHunk": "@@ -0,0 +1,24 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.steps.ui.web.validation;\n+\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+\n+public interface IWebBaseValidations extends IBaseValidations\n+{\n+    boolean assertPageWithURLPartIsLoaded(String urlPart);", "originalCommit": "54b6b7612b3dccedca3fcc5f16f573476e1d36bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d4c1d3b2ff8447cdac04ac8824df3e9f56510d29", "url": "https://github.com/vividus-framework/vividus/commit/d4c1d3b2ff8447cdac04ac8824df3e9f56510d29", "message": "Iteration 1", "committedDate": "2020-08-28T07:37:15Z", "type": "forcePushed"}, {"oid": "98a80a5643eeb99873e61a3a83648e2fec0be20c", "url": "https://github.com/vividus-framework/vividus/commit/98a80a5643eeb99873e61a3a83648e2fec0be20c", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-28T11:24:23Z", "type": "forcePushed"}, {"oid": "6d5d3559f56615b6e330c2d051bd2e425ef98e1e", "url": "https://github.com/vividus-framework/vividus/commit/6d5d3559f56615b6e330c2d051bd2e425ef98e1e", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-28T11:27:17Z", "type": "forcePushed"}, {"oid": "73c8c43226a693395fa5257563ae9c93a9a9121c", "url": "https://github.com/vividus-framework/vividus/commit/73c8c43226a693395fa5257563ae9c93a9a9121c", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-28T11:52:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1Mjg5Ng==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479252896", "bodyText": "Used once dependencies should not be moved to versions because dependabot unable to update them", "author": "ikalinin1", "createdAt": "2020-08-28T12:47:37Z", "path": "build.gradle", "diffHunk": "@@ -69,6 +69,7 @@ project.description = 'Vividus'\n ext {\n     versions = [\n         allure:                 '2.13.5',\n+        commonsCollections4:    '4.4',", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1NTIzMA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479255230", "bodyText": "What will be result of this locator parsing? xpath(//a):", "author": "ikalinin1", "createdAt": "2020-08-28T12:50:22Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/SearchAttributesConversionUtils.java", "diffHunk": "@@ -25,33 +25,37 @@\n \n import org.apache.commons.lang3.StringUtils;\n import org.vividus.selenium.LocatorFactory;\n-import org.vividus.ui.web.action.search.ActionAttributeType;\n-import org.vividus.ui.web.action.search.SearchAttributes;\n-import org.vividus.ui.web.action.search.Visibility;\n+import org.vividus.ui.action.search.IElementAction;\n+import org.vividus.ui.action.search.IElementActionService;\n+import org.vividus.ui.action.search.SearchAttributes;\n+import org.vividus.ui.action.search.Visibility;\n \n-public final class SearchAttributesConversionUtils\n+public class SearchAttributesConversionUtils\n {\n     private static final int SEARCH_VALUE_GROUP = 2;\n     private static final int ATTRIBURTE_TYPE_GROUP = 1;\n     private static final String EMPTY = \"\";\n     private static final int ELEMENT_TYPE_GROUP = 3;\n     private static final char CLOSING_BRACKET = ']';\n-    private static final String LOCATOR_FORMAT = \"(?:By\\\\.)?([a-zA-Z]+)\\\\((.+?)\\\\):?([a-zA-Z]*)?\";\n+    private static final String LOCATOR_FORMAT = \"(?:By\\\\.)?([a-zA-Z]+)\\\\((.+?)\\\\):?([a-zA-Z]*)\";", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI4OTc5Nw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479289797", "bodyText": "xpath: //a visibility: visible", "author": "uarlouski", "createdAt": "2020-08-28T13:28:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1NTIzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI0NTc2Ng==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479245766", "bodyText": "place it on one line: LOGGER.atDebug().log(wait::toString);", "author": "valfirst", "createdAt": "2020-08-28T12:40:03Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/WaitActions.java", "diffHunk": "@@ -155,7 +89,8 @@ private boolean checkDocumentReadyState(WebDriver webDriver, boolean isIExplore)\n             {\n                 V value = wait.until(isTrue);\n                 result.setWaitPassed(true);\n-                LOGGER.debug(wait.toString());\n+                LOGGER.atDebug()\n+                      .log(wait::toString);", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1MjIyNw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479252227", "bodyText": "invalid change", "author": "valfirst", "createdAt": "2020-08-28T12:46:46Z", "path": "vividus-extension-selenium/src/test/java/org/vividus/selenium/LocatorFactoryTests.java", "diffHunk": "@@ -110,7 +109,7 @@ void convertStringToLocatorsSourceIsBlankTest()\n     @Test\n     void locatorEquals()\n     {\n-        assertTrue(FIRST_LOCATOR.equals(FIRST_LOCATOR));\n+        assertEquals(FIRST_LOCATOR, FIRST_LOCATOR);", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTM0MjUwMA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479342500", "bodyText": "why? assert equals calls obj1.equals(obj2) under the hood", "author": "uarlouski", "createdAt": "2020-08-28T14:28:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1MjIyNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTM2ODQ1NQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479368455", "bodyText": "Revert back to not depend in asserting mechanism", "author": "uarlouski", "createdAt": "2020-08-28T15:11:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1MjIyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1NzU0NA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479257544", "bodyText": "noisy change", "author": "valfirst", "createdAt": "2020-08-28T12:53:18Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -497,8 +497,9 @@ public boolean waitForElementPresence(SearchContext searchContext, By by)\n             public Boolean apply(WebDriver driver)\n             {\n                 navigateActions.refresh(driver);\n-                SearchAttributes attributes = new SearchAttributes(ActionAttributeType.CASE_SENSITIVE_TEXT, textToFind);\n-                List<WebElement> elements = searchActions.findElements(webUiContext.getSearchContext(WebDriver.class),\n+                SearchAttributes attributes = new SearchAttributes(ActionAttributeType.CASE_SENSITIVE_TEXT,\n+                        textToFind);", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI1ODc0NQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479258745", "bodyText": "noisy change", "author": "valfirst", "createdAt": "2020-08-28T12:54:44Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/IJavascriptActions.java", "diffHunk": "@@ -47,8 +49,6 @@\n      */\n     <T> T executeAsyncScriptFromResource(Class<?> clazz, String jsResourceName, Object... args);\n \n-    void scrollIntoView(WebElement webElement, boolean alignedToTheTop);", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI2MTE2MA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479261160", "bodyText": "instead of bunch of such getters it's better to move this method to the parent class and pass this parameter via constructor", "author": "valfirst", "createdAt": "2020-08-28T12:57:30Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/search/CaseInsensitiveTextSearch.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import java.util.List;\n+\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.ui.action.search.IActionAttributeType;\n+import org.vividus.ui.action.search.IElementSearchAction;\n+import org.vividus.ui.action.search.SearchParameters;\n+\n+public class CaseInsensitiveTextSearch extends AbstractWebElementSearchAction implements IElementSearchAction\n+{\n+    @Override\n+    public List<WebElement> search(SearchContext searchContext, SearchParameters parameters)\n+    {\n+        return findElements(searchContext, generateCaseInsensitiveLocator(parameters.getValue().toLowerCase(), \"*\"),\n+                parameters);\n+    }\n+\n+    @Override\n+    public IActionAttributeType getAttributeType()", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI2NTM1Ng==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479265356", "bodyText": "why is it needed?", "author": "valfirst", "createdAt": "2020-08-28T13:02:06Z", "path": "vividus/build.gradle", "diffHunk": "@@ -90,6 +90,7 @@ dependencies {\n     integrationTestImplementation project(':vividus-plugin-web-app-to-rest-api')\n     integrationTestImplementation project(':vividus-plugin-web-app')\n     integrationTestImplementation project(':vividus-plugin-xml')\n+    integrationTestImplementation project(':vividus-extension-selenium')", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTM0MjcyNQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479342725", "bodyText": "noisy changes :)", "author": "uarlouski", "createdAt": "2020-08-28T14:29:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI2NTM1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI2NTcwNg==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r479265706", "bodyText": "it should be in the corresponding plugin", "author": "valfirst", "createdAt": "2020-08-28T13:02:30Z", "path": "vividus/src/main/resources/properties/deprecated/deprecated.properties", "diffHunk": "@@ -2,3 +2,8 @@\n # deprecated.property.name=new.property.name\n \n configuration.profile=configuration.profiles\n+\n+web.wait.timeout=ui.wait.timeout\n+web.wait.polling-period=ui.wait.polling-period\n+web.search.wait-for-element-timeout=ui.search.wait-for-element-timeout\n+web.search.retry-search-if-stale=ui.search.retry-search-if-stale", "originalCommit": "73c8c43226a693395fa5257563ae9c93a9a9121c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f99a595dc418c52589b92df34aa9873daa7d8bc7", "url": "https://github.com/vividus-framework/vividus/commit/f99a595dc418c52589b92df34aa9873daa7d8bc7", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-28T14:28:01Z", "type": "forcePushed"}, {"oid": "c22de149c0d0fd2e4bc083bfb536c1ef1fde827b", "url": "https://github.com/vividus-framework/vividus/commit/c22de149c0d0fd2e4bc083bfb536c1ef1fde827b", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-28T14:45:43Z", "type": "forcePushed"}, {"oid": "59a7fc513b895b9c2cd7e3d3f12ad8d55cb075d6", "url": "https://github.com/vividus-framework/vividus/commit/59a7fc513b895b9c2cd7e3d3f12ad8d55cb075d6", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-28T16:37:02Z", "type": "forcePushed"}, {"oid": "0980d28a2e0fd8e1eadf4db89189337d1a5de16b", "url": "https://github.com/vividus-framework/vividus/commit/0980d28a2e0fd8e1eadf4db89189337d1a5de16b", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-31T10:01:21Z", "type": "forcePushed"}, {"oid": "37f7ca21359e77ecee437997ed18d177a481ec4e", "url": "https://github.com/vividus-framework/vividus/commit/37f7ca21359e77ecee437997ed18d177a481ec4e", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-31T12:55:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEzNTI5NQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480135295", "bodyText": "Is this state valid for mobile apps?", "author": "ikalinin1", "createdAt": "2020-08-31T13:35:53Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -14,48 +14,45 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.steps.ui.web.validation;\n+package org.vividus.bdd.steps.ui.validation;\n \n import static org.hamcrest.Matchers.greaterThan;\n import static org.vividus.ui.validation.matcher.WebElementMatchers.elementNumber;\n \n-import java.net.URI;\n import java.util.List;\n import java.util.Optional;\n \n import org.hamcrest.Matcher;\n import org.hamcrest.Matchers;\n import org.openqa.selenium.SearchContext;\n-import org.openqa.selenium.WebDriver;\n import org.openqa.selenium.WebElement;\n import org.openqa.selenium.WrapsElement;\n import org.openqa.selenium.support.ui.ExpectedCondition;\n import org.vividus.bdd.steps.ComparisonRule;\n import org.vividus.selenium.IWebDriverProvider;\n+import org.vividus.ui.IState;", "originalCommit": "37f7ca21359e77ecee437997ed18d177a481ec4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE1NTk5Mw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480155993", "bodyText": "yes, basic verifications like is disabled, selected etc are applicable for mobiles", "author": "uarlouski", "createdAt": "2020-08-31T14:08:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEzNTI5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEzODcxMg==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480138712", "bodyText": "use constructor?", "author": "ikalinin1", "createdAt": "2020-08-31T13:41:32Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/search/AbstractElementAction.java", "diffHunk": "@@ -0,0 +1,129 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.action.search;\n+\n+import java.time.Duration;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import javax.inject.Inject;\n+\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.StaleElementReferenceException;\n+import org.openqa.selenium.WebElement;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.vividus.ui.action.IExpectedConditions;\n+import org.vividus.ui.action.IWaitActions;\n+\n+public abstract class AbstractElementAction implements IElementAction\n+{\n+    private static final Logger LOGGER = LoggerFactory.getLogger(AbstractElementAction.class);\n+\n+    @Inject private IWaitActions waitActions;", "originalCommit": "37f7ca21359e77ecee437997ed18d177a481ec4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMTU2NA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480211564", "bodyText": "refactoring this to constructors will spawn approximately 30 actions with 3-5 arg constructors which makes refactoring or adding new service beans to this class really hard", "author": "uarlouski", "createdAt": "2020-08-31T15:35:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEzODcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMjE0MQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480212141", "bodyText": "Resolved", "author": "ikalinin1", "createdAt": "2020-08-31T15:36:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEzODcxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEzOTMxNA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480139314", "bodyText": "I believe we do not use an interface like this anymore", "author": "ikalinin1", "createdAt": "2020-08-31T13:42:27Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/search/ElementActionService.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.action.search;\n+\n+import java.util.Collections;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+\n+public class ElementActionService implements IElementActionService", "originalCommit": "37f7ca21359e77ecee437997ed18d177a481ec4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE0MDc0Ng==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480140746", "bodyText": "Since you're renaming ActionAttributeType can we use some meaningful name? SearchType or something else", "author": "ikalinin1", "createdAt": "2020-08-31T13:44:45Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/search/SearchAttributes.java", "diffHunk": "@@ -32,15 +33,12 @@\n \n     public SearchAttributes(IActionAttributeType searchAttributeType, SearchParameters searchParameters)\n     {\n-        if (searchAttributeType.getSearchLocatorBuilder() == null)\n-        {\n-            checkIfApplicable(searchAttributeType, IElementSearchAction.class, \"Search\");\n-        }\n+        checkIfApplicable(searchAttributeType, IElementSearchAction.class, \"Search\");\n         this.searchAttributeType = searchAttributeType;\n         this.searchParameters = searchParameters;\n     }\n \n-    public SearchAttributes(ActionAttributeType searchAttributeType, String searchValue)\n+    public SearchAttributes(IActionAttributeType searchAttributeType, String searchValue)", "originalCommit": "37f7ca21359e77ecee437997ed18d177a481ec4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIxMDc0Ng==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480210746", "bodyText": "renamed to ElementActionType", "author": "uarlouski", "createdAt": "2020-08-31T15:34:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE0MDc0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE3OTgyNw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r480179827", "bodyText": "what about moving this method to ElementActionService", "author": "valfirst", "createdAt": "2020-08-31T14:45:59Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/action/SearchActions.java", "diffHunk": "@@ -101,28 +86,18 @@\n     @Override\n     public Optional<WebElement> findElement(SearchAttributes attributes)\n     {\n-        List<WebElement> elements = findElements(webUiContext.getSearchContext(), attributes);\n+        List<WebElement> elements = findElements(uiContext.getSearchContext(), attributes);\n         return elements.isEmpty() ? Optional.empty() : Optional.of(elements.get(0));\n     }\n \n-    private DefaultSearch getDefaultSearchAction()\n-    {\n-        return getAction(ActionAttributeType.DEFAULT);\n-    }\n-\n     @SuppressWarnings(\"unchecked\")\n     private <T extends IElementAction> T getAction(IActionAttributeType actionAttributeType)", "originalCommit": "37f7ca21359e77ecee437997ed18d177a481ec4e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1150170a895b596113e4f7526138b4d409f4a887", "url": "https://github.com/vividus-framework/vividus/commit/1150170a895b596113e4f7526138b4d409f4a887", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-08-31T16:36:44Z", "type": "forcePushed"}, {"oid": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "url": "https://github.com/vividus-framework/vividus/commit/09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-09-01T08:46:17Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAwMzgxNQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481003815", "bodyText": "HowSearch -> BySeleniumLocatorSearch ?", "author": "valfirst", "createdAt": "2020-09-01T09:35:40Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/search/HowSearch.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import java.util.List;\n+\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.openqa.selenium.support.How;\n+import org.vividus.ui.action.search.AbstractElementAction;\n+import org.vividus.ui.action.search.IElementSearchAction;\n+import org.vividus.ui.action.search.LocatorType;\n+import org.vividus.ui.action.search.SearchParameters;\n+\n+public class HowSearch extends AbstractElementAction implements IElementSearchAction", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAwNDEwOQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481004109", "bodyText": "Can it be just a bean?", "author": "valfirst", "createdAt": "2020-09-01T09:36:14Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/search/ElementNameSearch.java", "diffHunk": "@@ -16,23 +16,10 @@\n \n package org.vividus.ui.web.action.search;\n \n-import java.util.List;\n-\n-import org.openqa.selenium.SearchContext;\n-import org.openqa.selenium.WebElement;\n-import org.vividus.ui.web.util.LocatorUtil;\n-\n-public class ElementNameSearch extends AbstractElementSearchAction implements IElementSearchAction\n+public class ElementNameSearch extends AbstractElementNameSearch", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAwNjEwMg==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481006102", "bodyText": "Can it be just a bean?", "author": "valfirst", "createdAt": "2020-09-01T09:39:42Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/search/NameSearch.java", "diffHunk": "@@ -16,6 +16,10 @@\n \n package org.vividus.ui.web.action.search;\n \n-public class DefaultSearch extends AbstractElementSearchAction implements IElementAction\n+public class NameSearch extends AbstractElementNameSearch", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAxMTk4OA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481011988", "bodyText": "no mocks to inject", "author": "valfirst", "createdAt": "2020-09-01T09:49:04Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/action/search/CaseInsensitiveTestSearchTests.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.List;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.InjectMocks;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.ui.action.search.SearchParameters;\n+import org.vividus.ui.action.search.Visibility;\n+\n+@ExtendWith(MockitoExtension.class)\n+class CaseInsensitiveTestSearchTests\n+{\n+    @InjectMocks private CaseInsensitiveTextSearch search;", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAxMjczNA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481012734", "bodyText": "no mocks to inject", "author": "valfirst", "createdAt": "2020-09-01T09:50:17Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/action/search/FieldNameSearchTests.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.List;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.InjectMocks;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.ui.action.search.SearchParameters;\n+import org.vividus.ui.action.search.Visibility;\n+\n+@ExtendWith(MockitoExtension.class)\n+class FieldNameSearchTests\n+{\n+    @InjectMocks private FieldNameSearch search;", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAxMzEwNA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481013104", "bodyText": "no mocks to inject", "author": "valfirst", "createdAt": "2020-09-01T09:50:52Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/action/search/ImageWithSourceSearchTests.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.List;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.InjectMocks;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.ui.action.search.SearchParameters;\n+import org.vividus.ui.action.search.Visibility;\n+\n+@ExtendWith(MockitoExtension.class)\n+class ImageWithSourceSearchTests\n+{\n+    @InjectMocks private ImageWithSourceSearch search;", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAxMzk1MQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481013951", "bodyText": "no mocks to inject", "author": "valfirst", "createdAt": "2020-09-01T09:52:13Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/action/search/PartialLinkTextSearchTests.java", "diffHunk": "@@ -0,0 +1,58 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.List;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.InjectMocks;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.ui.action.search.SearchParameters;\n+import org.vividus.ui.action.search.Visibility;\n+\n+@ExtendWith(MockitoExtension.class)\n+class PartialLinkTextSearchTests\n+{\n+    @InjectMocks private PartialLinkTextSearch search;", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAxNDYxMg==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481014612", "bodyText": "package for this class should be updated to org.vividus.ui.action.search and this class should be moved to vividus-extension-selenium", "author": "valfirst", "createdAt": "2020-09-01T09:53:22Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/action/search/VisibilityTests.java", "diffHunk": "@@ -27,6 +27,7 @@\n import org.junit.jupiter.params.ParameterizedTest;\n import org.junit.jupiter.params.provider.Arguments;\n import org.junit.jupiter.params.provider.MethodSource;\n+import org.vividus.ui.action.search.Visibility;\n \n class VisibilityTests", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAxNDgxMg==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481014812", "bodyText": "no mocks to inject", "author": "valfirst", "createdAt": "2020-09-01T09:53:44Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/action/search/XpathSearchTests.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.List;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.InjectMocks;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+import org.openqa.selenium.By;\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.ui.action.search.SearchParameters;\n+import org.vividus.ui.action.search.Visibility;\n+\n+@ExtendWith(MockitoExtension.class)\n+class XpathSearchTests\n+{\n+    @InjectMocks private XpathSearch search;", "originalCommit": "09cf98d4c5cb7b2fca2c0fb859182e6bfd7e54c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "64662a8a7877419f92ac1b2b57ec8ddfed12ed48", "url": "https://github.com/vividus-framework/vividus/commit/64662a8a7877419f92ac1b2b57ec8ddfed12ed48", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-09-01T10:17:55Z", "type": "forcePushed"}, {"oid": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "url": "https://github.com/vividus-framework/vividus/commit/19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-09-01T10:23:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA2ODY2MQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481068661", "bodyText": "Why it is still utils? Can we name it Locator(Converter|Parser|Creator)?", "author": "ikalinin1", "createdAt": "2020-09-01T11:30:36Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/LocatorConversionUtils.java", "diffHunk": "@@ -25,11 +25,12 @@\n \n import org.apache.commons.lang3.StringUtils;\n import org.vividus.selenium.LocatorFactory;\n-import org.vividus.ui.web.action.search.ActionAttributeType;\n-import org.vividus.ui.web.action.search.SearchAttributes;\n-import org.vividus.ui.web.action.search.Visibility;\n+import org.vividus.ui.action.search.ElementActionService;\n+import org.vividus.ui.action.search.IElementAction;\n+import org.vividus.ui.action.search.Locator;\n+import org.vividus.ui.action.search.Visibility;\n \n-public final class SearchAttributesConversionUtils\n+public class LocatorConversionUtils", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3MDY5Ng==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481070696", "bodyText": "Search -> Locator", "author": "ikalinin1", "createdAt": "2020-09-01T11:34:38Z", "path": "vividus-extension-selenium/src/test/java/org/vividus/bdd/steps/ui/validation/BaseValidationsTests.java", "diffHunk": "@@ -70,7 +69,7 @@\n     private static final String PATTERN_ELEMENTS = \"Number %1$s of elements found by '%2$s'\";\n     private static final String BUSINESS_DESCRIPTION = \"Test business description\";\n     private static final String SYSTEM_DESCRIPTION =\n-            \"An element with attributes: ' XPath: './/xpath=1'; Visibility: VISIBLE;'\";\n+            \"An element with attributes: ' Search: './/xpath=1'; Visibility: VISIBLE;'\";", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3MTg2Nw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481071867", "bodyText": "testdouble - why this package name?", "author": "ikalinin1", "createdAt": "2020-09-01T11:36:51Z", "path": "vividus-extension-selenium/src/test/java/org/vividus/testdouble/TestLocatorType.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.testdouble;", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3MzAyOA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481073028", "bodyText": "please, define lenient at mock definition via Mock annotation", "author": "ikalinin1", "createdAt": "2020-09-01T11:39:16Z", "path": "vividus-extension-selenium/src/test/java/org/vividus/ui/action/SearchActionsTests.java", "diffHunk": "@@ -0,0 +1,178 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.action;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.mockito.ArgumentMatchers.any;\n+import static org.mockito.ArgumentMatchers.eq;\n+import static org.mockito.Mockito.lenient;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Optional;\n+\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.InjectMocks;\n+import org.mockito.Mock;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+import org.openqa.selenium.SearchContext;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.testdouble.TestElementFilter;\n+import org.vividus.testdouble.TestElementSearch;\n+import org.vividus.testdouble.TestLocatorType;\n+import org.vividus.ui.action.search.ElementActionService;\n+import org.vividus.ui.action.search.IElementFilterAction;\n+import org.vividus.ui.action.search.Locator;\n+import org.vividus.ui.action.search.SearchParameters;\n+import org.vividus.ui.context.IUiContext;\n+\n+@ExtendWith(MockitoExtension.class)\n+class SearchActionsTests\n+{\n+    private static final String VALUE = \"value\";\n+\n+    @Mock\n+    private WebElement webElement;\n+\n+    @Mock\n+    private SearchContext searchContext;\n+\n+    @Mock\n+    private TestElementSearch testSearch;\n+\n+    @Mock\n+    private TestElementFilter testFilter;\n+\n+    @Mock\n+    private IUiContext uiContext;\n+\n+    @Mock\n+    private ElementActionService elementActionService;\n+\n+    @InjectMocks\n+    private SearchActions searchActions;\n+\n+    @BeforeEach\n+    void init()\n+    {\n+        lenient().when(elementActionService.find(TestLocatorType.SEARCH))", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MTExNg==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481151116", "bodyText": "there are other elementActionService mocked invocations that are not expected to be lenient", "author": "uarlouski", "createdAt": "2020-09-01T13:48:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3MzAyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3NDgzOA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481074838", "bodyText": "is plugin-web-app still required?", "author": "ikalinin1", "createdAt": "2020-09-01T11:42:50Z", "path": "vividus-plugin-applitools/build.gradle", "diffHunk": "@@ -5,6 +5,7 @@ dependencies {\n     implementation project(':vividus-extension-visual-testing')\n     implementation project(':vividus-http-client')\n     implementation project(':vividus-plugin-web-app')\n+    implementation project(':vividus-extension-selenium')", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE0OTA1MA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481149050", "bodyText": "plugin-web-app contains logic responsible for screenshots;\nadjusted alphabetical order;", "author": "uarlouski", "createdAt": "2020-09-01T13:45:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3NDgzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3NTM3OA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481075378", "bodyText": "Do we still need web-app plugin here?", "author": "ikalinin1", "createdAt": "2020-09-01T11:44:00Z", "path": "vividus-plugin-visual/build.gradle", "diffHunk": "@@ -3,6 +3,7 @@ project.description = 'Vividus plugin for Visual Testing'\n dependencies {\n     implementation project(':vividus-bdd-engine')\n     implementation project(':vividus-plugin-web-app')\n+    implementation project(':vividus-extension-selenium')", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE0OTE1Mw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481149153", "bodyText": "plugin-web-app contains logic responsible for screenshots;\nadjusted alphabetical order;", "author": "uarlouski", "createdAt": "2020-09-01T13:45:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3NTM3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3ODQzMQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481078431", "bodyText": "Please update javadoc", "author": "ikalinin1", "createdAt": "2020-09-01T11:49:57Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ActionSteps.java", "diffHunk": "@@ -90,11 +90,11 @@ public void executeActionsSequence(List<Action> actions)\n             }\n             else\n             {\n-                Optional<SearchAttributes> searchAttributes = action.getSearchAttributes();\n+                Optional<Locator> locator = action.getSearchAttributes();", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MDc5MQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481150791", "bodyText": "this step is coupled to searchAttributes column name, I think we should create issue to handle this case safely", "author": "uarlouski", "createdAt": "2020-09-01T13:48:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA3ODQzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4Mzk2OA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481083968", "bodyText": "attributes -> locator", "author": "ikalinin1", "createdAt": "2020-09-01T12:00:18Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WebElementsSteps.java", "diffHunk": "@@ -116,7 +116,7 @@ public void ifTextExists(String text)\n \n             if (!assertCondition)\n             {\n-                SearchAttributes attributes = new SearchAttributes(ActionAttributeType.CASE_SENSITIVE_TEXT, text);\n+                Locator attributes = new Locator(WebLocatorType.CASE_SENSITIVE_TEXT, text);", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4NDM4MQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481084381", "bodyText": "locator", "author": "ikalinin1", "createdAt": "2020-09-01T12:00:59Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/model/Action.java", "diffHunk": "@@ -39,12 +39,12 @@ public void setType(ActionType type)\n         this.type = type;\n     }\n \n-    public Optional<SearchAttributes> getSearchAttributes()\n+    public Optional<Locator> getSearchAttributes()\n     {\n         return searchAttributes;\n     }\n \n-    public void setSearchAttributes(Optional<SearchAttributes> searchAttributes)\n+    public void setSearchAttributes(Optional<Locator> searchAttributes)", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA4OTY3MQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481089671", "bodyText": "elementActionType -> locatorType", "author": "ikalinin1", "createdAt": "2020-09-01T12:10:56Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/search/AbstractStateFilter.java", "diffHunk": "@@ -23,16 +23,18 @@\n import org.openqa.selenium.WebElement;\n import org.openqa.selenium.support.ui.ExpectedCondition;\n import org.vividus.selenium.IWebDriverProvider;\n-import org.vividus.ui.web.IState;\n+import org.vividus.ui.IState;\n+import org.vividus.ui.action.search.LocatorType;\n \n public abstract class AbstractStateFilter<T extends Enum<T> & IState> extends AbstractElementFilterAction\n {\n     private final Class<T> enumType;\n     @Inject private IWebDriverProvider webDriverProvider;\n \n     @SuppressWarnings(\"unchecked\")\n-    public AbstractStateFilter()\n+    public AbstractStateFilter(LocatorType elementActionType)", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5MTk2NA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481091964", "bodyText": "attributeName -> locatorName ?", "author": "ikalinin1", "createdAt": "2020-09-01T12:15:27Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/search/WebLocatorType.java", "diffHunk": "@@ -0,0 +1,104 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import java.util.Set;\n+\n+import org.vividus.ui.action.search.IElementAction;\n+import org.vividus.ui.action.search.LocatorType;\n+\n+public enum WebLocatorType implements LocatorType\n+{\n+    LINK_TEXT(\"Link text\", LinkTextSearch.class),\n+    LINK_URL(\"URL\", LinkUrlSearch.class),\n+    LINK_URL_PART(\"URL part\", LinkUrlPartSearch.class),\n+    CASE_SENSITIVE_TEXT(\"Case sensitive text\", CaseSensitiveTextSearch.class),\n+    CASE_INSENSITIVE_TEXT(\"Case insensitive text\", CaseInsensitiveTextSearch.class),\n+    TOOLTIP(\"Tooltip\", TooltipFilter.class),\n+    CSS_SELECTOR(\"CSS selector\", BySeleniumLocatorSearch.class),\n+    IMAGE_SRC(\"Image source\", ImageWithSourceSearch.class),\n+    IMAGE_SRC_PART(\"Image source part\", ImageWithSourcePartFilter.class),\n+    BUTTON_NAME(\"Button name\", ButtonNameSearch.class),\n+    FIELD_NAME(\"Field name\", FieldNameSearch.class),\n+    TEXT_PART(\"Text part\", TextPartFilter.class),\n+    PLACEHOLDER(\"Placeholder\", PlaceholderFilter.class),\n+    STATE(\"State\", StateFilter.class),\n+    DROP_DOWN_STATE(\"Drop down state\", DropDownStateFilter.class),\n+    VALIDATION_ICON_SOURCE(\"Validation icon source\", ValidationIconSourceFilter.class),\n+    RELATIVE_TO_PARENT_WIDTH(\"Relative to parent width\", RelativeToParentWidthFilter.class),\n+    CLASS_ATTRIBUTE_PART(\"Attribute class part\", ClassAttributePartFilter.class),\n+    CHECKBOX_NAME(\"Checkbox name\", CheckboxNameSearch.class),\n+    FIELD_TEXT(\"Field text\", FieldTextFilter.class),\n+    FIELD_TEXT_PART(\"Field text part\", FieldTextPartFilter.class),\n+    DROP_DOWN_TEXT(\"Drop down text\", DropDownTextFilter.class),\n+    ELEMENT_NAME(\"Element name\", ElementNameSearch.class),\n+    NAME(\"Name\", ElementNameSearch.class),\n+    PARTIAL_LINK_TEXT(\"Partial link text\", PartialLinkTextSearch.class),\n+    CLASS_NAME(\"Class name\", BySeleniumLocatorSearch.class),\n+    XPATH(\"XPath\", XpathSearch.class),\n+    ID(\"Id\", BySeleniumLocatorSearch.class),\n+    TAG_NAME(\"Tag name\", BySeleniumLocatorSearch.class);\n+\n+    private final String attributeName;\n+    private final Class<? extends IElementAction> actionClass;\n+    private Set<LocatorType> competingKeys;\n+\n+    WebLocatorType(String attributeName, Class<? extends IElementAction> actionClass)", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5NDY0MA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481094640", "bodyText": "elementAttributes -> elementLocator", "author": "ikalinin1", "createdAt": "2020-09-01T12:20:23Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/bdd/steps/ui/web/ElementStepsTests.java", "diffHunk": "@@ -246,18 +246,18 @@ public void testThePageContainsQuantityElements()\n     {\n         ComparisonRule comparisonRule = ComparisonRule.EQUAL_TO;\n         int number = 1;\n-        SearchAttributes searchAttributes = new SearchAttributes(ActionAttributeType.XPATH, XPATH);\n-        elementSteps.thePageContainsQuantityElements(searchAttributes, comparisonRule, number);\n+        Locator locator = new Locator(WebLocatorType.XPATH, XPATH);\n+        elementSteps.thePageContainsQuantityElements(locator, comparisonRule, number);\n         verify(baseValidations).assertIfNumberOfElementsFound(THE_NUMBER_OF_FOUND_ELEMENTS,\n-                searchAttributes, number, comparisonRule);\n+                locator, number, comparisonRule);\n     }\n \n     @Test\n     public void doesEachElementByLocatorHaveChildWithLocatorSuccess()\n     {\n-        SearchAttributes elementAttributes = new SearchAttributes(ActionAttributeType.XPATH,\n+        Locator elementAttributes = new Locator(WebLocatorType.XPATH,", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5Nzg0NQ==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481097845", "bodyText": "locator", "author": "ikalinin1", "createdAt": "2020-09-01T12:26:08Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/bdd/steps/ui/web/LinkStepsTests.java", "diffHunk": "@@ -45,8 +45,8 @@ void testIfLinkItemsWithTextAndLink()\n     {\n         ExamplesTable expectedLinkItems = new ExamplesTable(\"|text|link|\\n|Home|/|\\n\");\n         webUiLinkSteps.ifLinkItemsWithTextAndLink(expectedLinkItems);\n-        SearchAttributes attributes = new SearchAttributes(ActionAttributeType.LINK_TEXT, HOME).addFilter(\n-                ActionAttributeType.LINK_URL, SLASH);\n+        Locator attributes = new Locator(WebLocatorType.LINK_TEXT, HOME).addFilter(", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5ODAxMw==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481098013", "bodyText": "Here and at line 58", "author": "ikalinin1", "createdAt": "2020-09-01T12:26:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5Nzg0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA5OTM5NA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481099394", "bodyText": "attributes -> locator everywhere", "author": "ikalinin1", "createdAt": "2020-09-01T12:28:47Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/bdd/steps/ui/web/WaitStepsTests.java", "diffHunk": "@@ -119,9 +119,9 @@ void testElementByIdDisappears()\n     @Test\n     void testElementByNameDisappearsWithTimeout()\n     {\n-        when(webUiContext.getSearchContext()).thenReturn(webElement);\n+        when(uiContext.getSearchContext()).thenReturn(webElement);\n         WaitResult<Boolean> waitResult = mock(WaitResult.class);\n-        SearchAttributes attributes = new SearchAttributes(ActionAttributeType.ELEMENT_NAME, NAME);\n+        Locator attributes = new Locator(WebLocatorType.ELEMENT_NAME, NAME);", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTEyMjMxNA==", "url": "https://github.com/vividus-framework/vividus/pull/840#discussion_r481122314", "bodyText": "getLocatorClass ? :)", "author": "ikalinin1", "createdAt": "2020-09-01T13:06:06Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/action/search/LocatorTypeTests.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.web.action.search;\n+\n+import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.empty;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.params.provider.Arguments.arguments;\n+\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+\n+class LocatorTypeTests\n+{\n+    static Stream<Arguments> dataSet()\n+    {\n+        return Stream.of(\n+            arguments(WebLocatorType.XPATH, \"XPath\", XpathSearch.class),\n+            arguments(WebLocatorType.ID, \"Id\", BySeleniumLocatorSearch.class),\n+            arguments(WebLocatorType.TAG_NAME, \"Tag name\", BySeleniumLocatorSearch.class)\n+        );\n+    }\n+\n+    @MethodSource(\"dataSet\")\n+    @ParameterizedTest\n+    void testWebAttributeType(WebLocatorType type, String name, Class<?> actionClass)\n+    {\n+        assertEquals(type.getAttributeName(), name);\n+        assertEquals(type.getActionClass(), actionClass);", "originalCommit": "19c8603f6a8fd336fc59717bcfec491ea6fa5e05", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "003526d4dbc9da07a3157bfa3932a2143d6da739", "url": "https://github.com/vividus-framework/vividus/commit/003526d4dbc9da07a3157bfa3932a2143d6da739", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-09-01T13:42:59Z", "type": "forcePushed"}, {"oid": "191d9c0838ae839c207f106d8b123b14e847dae4", "url": "https://github.com/vividus-framework/vividus/commit/191d9c0838ae839c207f106d8b123b14e847dae4", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-09-01T13:53:06Z", "type": "commit"}, {"oid": "191d9c0838ae839c207f106d8b123b14e847dae4", "url": "https://github.com/vividus-framework/vividus/commit/191d9c0838ae839c207f106d8b123b14e847dae4", "message": "Move search components into extension-selenium for further reusage", "committedDate": "2020-09-01T13:53:06Z", "type": "forcePushed"}]}