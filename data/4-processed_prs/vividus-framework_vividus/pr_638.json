{"pr_number": 638, "pr_title": "[vividus-plugin-rest-api] Update Allure HTTP messages attachment template (#587)", "pr_createdAt": "2020-06-01T09:47:23Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/638", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE0MzU5Mg==", "url": "https://github.com/vividus-framework/vividus/pull/638#discussion_r433143592", "bodyText": "Define the format at a template level\nhttps://freemarker.apache.org/docs/ref_directive_outputformat.html", "author": "ikalinin1", "createdAt": "2020-06-01T09:54:29Z", "path": "vividus-util/src/main/java/org/vividus/util/freemarker/FreemarkerProcessor.java", "diffHunk": "@@ -50,6 +51,7 @@ public FreemarkerProcessor(Class<?> resourceLoaderClass, String templatePath)\n         configuration = new Configuration(Configuration.VERSION_2_3_30);\n         configuration.setClassForTemplateLoading(resourceLoaderClass, templatePath);\n         configuration.setDefaultEncoding(StandardCharsets.UTF_8.toString());\n+        configuration.setOutputFormat(XMLOutputFormat.INSTANCE);", "originalCommit": "6c0dd311bdfd2771637286daadfcf8c38561eea2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE4MDk1Mw==", "url": "https://github.com/vividus-framework/vividus/pull/638#discussion_r433180953", "bodyText": "it's not always XML, there could be a variety of formats: https://freemarker.apache.org/docs/dgui_misc_autoescaping.html#dgui_misc_autoescaping_outputformat", "author": "valfirst", "createdAt": "2020-06-01T11:27:05Z", "path": "vividus-plugin-rest-api/src/main/resources/org/vividus/http/attachment/api-message.ftl", "diffHunk": "@@ -87,10 +87,10 @@\n                                 <#assign body = body?html>\n                              </#if>\n                              <div id=\"pretty\" class=\"tab-pane fade  in active\">\n-                               <pre><code id = \"pretty-code\" class=\"${contentType}\">${body}</code></pre>\n+                               <pre><code id = \"pretty-code\" class=\"${contentType}\"><#outputformat \"XML\">${body}</#outputformat></code></pre>", "originalCommit": "0495a140150d2748cb8c0579db839f33e1746da6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE4MTIwMg==", "url": "https://github.com/vividus-framework/vividus/pull/638#discussion_r433181202", "bodyText": "having the changes below, this assignment can be removed", "author": "valfirst", "createdAt": "2020-06-01T11:27:38Z", "path": "vividus-plugin-rest-api/src/main/resources/org/vividus/http/attachment/api-message.ftl", "diffHunk": "@@ -87,10 +87,10 @@\n                                 <#assign body = body?html>", "originalCommit": "0495a140150d2748cb8c0579db839f33e1746da6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzgyODUxMg==", "url": "https://github.com/vividus-framework/vividus/pull/638#discussion_r433828512", "bodyText": "also please add &#58;&#34; (having these symbols it would be easier to notice if something is broken)", "author": "valfirst", "createdAt": "2020-06-02T12:12:54Z", "path": "vividus-tests/src/main/resources/story/integration/RestApiStepsTests.story", "diffHunk": "@@ -7,7 +7,7 @@ Lifecycle:\n Before:\n Scope: STORY\n When I initialize the story variable `request-body` with value `{\n-    \"string\": \"string\",\n+    \"string\": \"<, ' symbols codes are &lt;, &#39;\",", "originalCommit": "b1cb4bc5dcf038efe277041428f91ed0460de779", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8e2777a648e33425f986089a2f1087497bcd9b70", "url": "https://github.com/vividus-framework/vividus/commit/8e2777a648e33425f986089a2f1087497bcd9b70", "message": "[vividus-plugin-rest-api] Update Allure HTTP messages attachment template (#587)", "committedDate": "2020-06-02T13:37:56Z", "type": "commit"}]}