{"pr_number": 893, "pr_title": "Move generic verification steps into Selenium extension", "pr_createdAt": "2020-09-04T11:32:10Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/893", "timeline": [{"oid": "0184638f0b48fb55dbc09644353dc643718301d3", "url": "https://github.com/vividus-framework/vividus/commit/0184638f0b48fb55dbc09644353dc643718301d3", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T11:38:39Z", "type": "forcePushed"}, {"oid": "45fe2dc2fa82d794f9ca84883ecc5dceb4fac59b", "url": "https://github.com/vividus-framework/vividus/commit/45fe2dc2fa82d794f9ca84883ecc5dceb4fac59b", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T12:49:27Z", "type": "forcePushed"}, {"oid": "f24df689a604a478eb36de59ca1f1e3dc60c1d38", "url": "https://github.com/vividus-framework/vividus/commit/f24df689a604a478eb36de59ca1f1e3dc60c1d38", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T13:01:14Z", "type": "forcePushed"}, {"oid": "396bf1e43f9d7ea978ea1983e17c4fed2e215197", "url": "https://github.com/vividus-framework/vividus/commit/396bf1e43f9d7ea978ea1983e17c4fed2e215197", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T13:24:32Z", "type": "forcePushed"}, {"oid": "e2f030901a3304f751bca8a1aae125ea567d6513", "url": "https://github.com/vividus-framework/vividus/commit/e2f030901a3304f751bca8a1aae125ea567d6513", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T13:48:26Z", "type": "forcePushed"}, {"oid": "40d434d8a4262cbd5847cdd3896a98e3eb0262eb", "url": "https://github.com/vividus-framework/vividus/commit/40d434d8a4262cbd5847cdd3896a98e3eb0262eb", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T14:01:10Z", "type": "forcePushed"}, {"oid": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "url": "https://github.com/vividus-framework/vividus/commit/7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T14:40:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3MzQ3MA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483673470", "bodyText": "plugin-ui.adoc -> generic-ui-steps.adoc", "author": "valfirst", "createdAt": "2020-09-04T14:59:22Z", "path": "docs/modules/plugins/nav.adoc", "diffHunk": "@@ -16,4 +16,5 @@\n * xref:plugin-visual.adoc[Visual Testing*]\n * xref:plugin-web-app-to-rest-api.adoc[Web Application & REST API Integration]\n * xref:plugin-web-app.adoc[Web Application]\n+* xref:plugin-ui.adoc[Generic UI Steps]", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3Mzk4Nw==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483673987", "bodyText": "I think it makes sense to have a single reference here, there is not reason to enumerate all steps", "author": "valfirst", "createdAt": "2020-09-04T15:00:12Z", "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -136,3 +136,11 @@ Given I start mobile application with capabilities:\n |bstack:options.networkLogs     |true |\n |appium:options.clearSystemFiles|false|\n ----\n+\n+=== Verify elements state\n+\n+See xref:plugins:plugin-ui.adoc#_verify_elements_state[verify elements state]\n+\n+=== Verify elements number\n+\n+See xref:plugins:plugin-ui.adoc#_verify_elements_number[verify elements number]", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3NjEyNA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483676124", "bodyText": "used -> are used", "author": "valfirst", "createdAt": "2020-09-04T15:03:52Z", "path": "docs/modules/plugins/pages/plugin-ui.adoc", "diffHunk": "@@ -0,0 +1,68 @@\n+= Generic UI Steps\n+\n+Generic UI steps used to interact with web applications and mobile applications (on Read Devices, Android Emulators and iOS Simulators) and become available after adding xref:plugins:plugin-web-app.adoc[plugin-web-app] or xref:plugins:plugin-mobile-app.adoc[plugin-mobile-app] plugins as project dependencies.", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3Njc0NA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483676744", "bodyText": "VerifyNumber", "author": "valfirst", "createdAt": "2020-09-04T15:04:57Z", "path": "docs/modules/plugins/pages/plugin-ui.adoc", "diffHunk": "@@ -0,0 +1,68 @@\n+= Generic UI Steps\n+\n+Generic UI steps used to interact with web applications and mobile applications (on Read Devices, Android Emulators and iOS Simulators) and become available after adding xref:plugins:plugin-web-app.adoc[plugin-web-app] or xref:plugins:plugin-mobile-app.adoc[plugin-mobile-app] plugins as project dependencies.\n+\n+== Steps\n+\n+=== Verify elements number\n+\n+==== *_Info_*\n+\n+Verifies if the number of elements located by locator matches desired number\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+Then number of elements found by `$locator` is $comparisonRule `$quantity`\n+----\n+\n+==== *_Parameters_*\n+\n+. `$locator` - xref:parameters:locator.adoc[Locator]\n+. `$comparisonRule` - xref:parameters:comparison-rule.adoc[Comparison rule]\n+. `$quantity` - expected number of elements\n+\n+==== *_Usage_*\n+\n+.VerifyState.story", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3NzQyNA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483677424", "bodyText": "thePageContainsQuantityElements -> assertElementsNumber ?", "author": "valfirst", "createdAt": "2020-09-04T15:06:13Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/GenericElementSteps.java", "diffHunk": "@@ -0,0 +1,76 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.steps.ui;\n+\n+import java.util.List;\n+\n+import org.jbehave.core.annotations.Then;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.steps.ComparisonRule;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.State;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class GenericElementSteps\n+{\n+    private static final String THE_NUMBER_OF_FOUND_ELEMENTS = \"The number of found elements\";\n+\n+    private final IBaseValidations baseValidations;\n+\n+    public GenericElementSteps(IBaseValidations baseValidations)\n+    {\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Checks whether the context contains\n+     * exact amount of elements by locator\n+     * @param locator to locate element\n+     * @param comparisonRule The rule to compare values\n+     * (<i>Possible values:<b> LESS_THAN, LESS_THAN_OR_EQUAL_TO, GREATER_THAN, GREATER_THAN_OR_EQUAL_TO,\n+     * EQUAL_TO</b></i>)\n+     * @param quantity desired amount of elements\n+     * @return list of Web elements\n+     */\n+    @Then(\"number of elements found by `$locator` is $comparisonRule `$quantity`\")\n+    public List<WebElement> thePageContainsQuantityElements(Locator locator, ComparisonRule comparisonRule,", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3NzcxMQ==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483677711", "bodyText": "used once so it can be inlined", "author": "valfirst", "createdAt": "2020-09-04T15:06:46Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/GenericElementSteps.java", "diffHunk": "@@ -0,0 +1,76 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.steps.ui;\n+\n+import java.util.List;\n+\n+import org.jbehave.core.annotations.Then;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.steps.ComparisonRule;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.State;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class GenericElementSteps\n+{\n+    private static final String THE_NUMBER_OF_FOUND_ELEMENTS = \"The number of found elements\";", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3ODA0MA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483678040", "bodyText": "Exists -> Exist", "author": "valfirst", "createdAt": "2020-09-04T15:07:21Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/GenericElementSteps.java", "diffHunk": "@@ -0,0 +1,76 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.steps.ui;\n+\n+import java.util.List;\n+\n+import org.jbehave.core.annotations.Then;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.steps.ComparisonRule;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.State;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class GenericElementSteps\n+{\n+    private static final String THE_NUMBER_OF_FOUND_ELEMENTS = \"The number of found elements\";\n+\n+    private final IBaseValidations baseValidations;\n+\n+    public GenericElementSteps(IBaseValidations baseValidations)\n+    {\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Checks whether the context contains\n+     * exact amount of elements by locator\n+     * @param locator to locate element\n+     * @param comparisonRule The rule to compare values\n+     * (<i>Possible values:<b> LESS_THAN, LESS_THAN_OR_EQUAL_TO, GREATER_THAN, GREATER_THAN_OR_EQUAL_TO,\n+     * EQUAL_TO</b></i>)\n+     * @param quantity desired amount of elements\n+     * @return list of Web elements\n+     */\n+    @Then(\"number of elements found by `$locator` is $comparisonRule `$quantity`\")\n+    public List<WebElement> thePageContainsQuantityElements(Locator locator, ComparisonRule comparisonRule,\n+            int quantity)\n+    {\n+        return baseValidations.assertIfNumberOfElementsFound(THE_NUMBER_OF_FOUND_ELEMENTS, locator, quantity,\n+                comparisonRule);\n+    }\n+\n+    /**\n+     * Verifies elements' located by locator state.\n+     * Where state one of: ENABLED/DISABLED, SELECTED/NOT_SELECTED, VISIBLE/NOT_VISIBLE\n+     * Step intended to verify strictly either number of elements and their state\n+     * @param state Desired state of an element\n+     * @param locator Locator to locate element\n+     * @param comparisonRule The rule to compare values\n+     * (<i>Possible values:<b> LESS_THAN, LESS_THAN_OR_EQUAL_TO, GREATER_THAN, GREATER_THAN_OR_EQUAL_TO,\n+     * EQUAL_TO</b></i>)\n+     * @param quantity Desired amount of elements\n+     */\n+    @Then(\"number of $state elements found by `$locator` is $comparisonRule `$quantity`\")\n+    public void doesElementsNumberInStateExists(State state, Locator locator, ComparisonRule comparisonRule,", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3OTM4Mg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r483679382", "bodyText": "why not to delegate it to Selenium How?", "author": "valfirst", "createdAt": "2020-09-04T15:09:47Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/ui/mobile/action/search/AppiumHow.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.ui.mobile.action.search;\n+\n+import org.openqa.selenium.By;\n+\n+public enum AppiumHow\n+{\n+    XPATH\n+    {\n+        @Override\n+        public By buildBy(String value)\n+        {\n+            return By.xpath(value);", "originalCommit": "7dd4272b91c5b63ea516bba7f317a85adb8b22ce", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5f410801b73cfdb641d5d5ca835b777ca28a5141", "url": "https://github.com/vividus-framework/vividus/commit/5f410801b73cfdb641d5d5ca835b777ca28a5141", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T15:43:49Z", "type": "forcePushed"}, {"oid": "f2ab0dfe7956d898942511f4140347f6648f56c6", "url": "https://github.com/vividus-framework/vividus/commit/f2ab0dfe7956d898942511f4140347f6648f56c6", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T15:47:45Z", "type": "forcePushed"}, {"oid": "b1898e71a91dbe893ec8424115143e69864f0904", "url": "https://github.com/vividus-framework/vividus/commit/b1898e71a91dbe893ec8424115143e69864f0904", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-04T16:05:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMjg1OA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484222858", "bodyText": "describer -> describe", "author": "valfirst", "createdAt": "2020-09-07T07:06:40Z", "path": "docs/modules/plugins/pages/generic-ui-steps.adoc", "diffHunk": "@@ -0,0 +1,68 @@\n+= Generic UI Steps\n+\n+Generic UI steps are used to interact with web applications and mobile applications (on Read Devices, Android Emulators and iOS Simulators) and become available after adding xref:plugins:plugin-web-app.adoc[plugin-web-app] or xref:plugins:plugin-mobile-app.adoc[plugin-mobile-app] plugins as project dependencies.\n+\n+== Steps\n+\n+=== Verify elements number\n+\n+==== *_Info_*\n+\n+Verifies if the number of elements located by locator matches desired number\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+Then number of elements found by `$locator` is $comparisonRule `$quantity`\n+----\n+\n+==== *_Parameters_*\n+\n+. `$locator` - refer to xref:parameters:locator.adoc[Locator] for web locators and to xref:plugins:generic-ui-steps.adoc[Generic UI Steps] for mobile locators\n+. `$comparisonRule` - xref:parameters:comparison-rule.adoc[Comparison rule]\n+. `$quantity` - expected number of elements\n+\n+==== *_Usage_*\n+\n+.VerifyNumber.story\n+[source,gherkin]\n+----\n+Scenario: Step verification 'Then number of elements found by `$locator` is $comparisonRule `$quantity`'\n+Then number of elements found by `tagName(img)` is equal to `5`\n+----\n+\n+=== Verify elements state\n+\n+==== *_Info_*\n+\n+Verifies if the number of elements located by locator matches number condition and all of them are in desired state\n+\n+[IMPORTANT]\n+\n+If you describer number condition as equal to 5 in case if there are 10 elements by this locator and only 5 of them in the desired state. You will get two failed assertions.", "originalCommit": "b1898e71a91dbe893ec8424115143e69864f0904", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMzU0Mg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484223542", "bodyText": "* Checks whether the context contains exact amount of elements by locator", "author": "valfirst", "createdAt": "2020-09-07T07:08:14Z", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/GenericElementSteps.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.steps.ui;\n+\n+import java.util.List;\n+\n+import org.jbehave.core.annotations.Then;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.steps.ComparisonRule;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.State;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class GenericElementSteps\n+{\n+    private final IBaseValidations baseValidations;\n+\n+    public GenericElementSteps(IBaseValidations baseValidations)\n+    {\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Checks whether the context contains\n+     * exact amount of elements by locator", "originalCommit": "b1898e71a91dbe893ec8424115143e69864f0904", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyNjE2Nw==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484226167", "bodyText": "this page should be injected into the corresponding plugins docs", "author": "valfirst", "createdAt": "2020-09-07T07:13:53Z", "path": "docs/modules/plugins/pages/generic-ui-steps.adoc", "diffHunk": "@@ -0,0 +1,68 @@\n+= Generic UI Steps", "originalCommit": "b1898e71a91dbe893ec8424115143e69864f0904", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyNjcyNA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484226724", "bodyText": "ideally docs for web app should contain link to web locators, but mobile app - mobile locators (without such options like now)", "author": "valfirst", "createdAt": "2020-09-07T07:15:06Z", "path": "docs/modules/plugins/pages/generic-ui-steps.adoc", "diffHunk": "@@ -0,0 +1,68 @@\n+= Generic UI Steps\n+\n+Generic UI steps are used to interact with web applications and mobile applications (on Read Devices, Android Emulators and iOS Simulators) and become available after adding xref:plugins:plugin-web-app.adoc[plugin-web-app] or xref:plugins:plugin-mobile-app.adoc[plugin-mobile-app] plugins as project dependencies.\n+\n+== Steps\n+\n+=== Verify elements number\n+\n+==== *_Info_*\n+\n+Verifies if the number of elements located by locator matches desired number\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+Then number of elements found by `$locator` is $comparisonRule `$quantity`\n+----\n+\n+==== *_Parameters_*\n+\n+. `$locator` - refer to xref:parameters:locator.adoc[Locator] for web locators and to xref:plugins:generic-ui-steps.adoc[Generic UI Steps] for mobile locators", "originalCommit": "b1898e71a91dbe893ec8424115143e69864f0904", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyNzAxNg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484227016", "bodyText": "what is not_selected here?", "author": "valfirst", "createdAt": "2020-09-07T07:15:46Z", "path": "vividus-tests/src/main/resources/story/system/mobile_app/ApplicationStepsTests.story", "diffHunk": "@@ -3,7 +3,21 @@ Description: Integration tests for ApplicationSteps class\n Meta:\n     @epic vividus-plugin-mobile-app\n \n+Lifecycle:\n+Examples:\n+/data/tables/system/mobile_app/locators/${target-platform}.table\n+\n Scenario: Verify step: 'Given I start mobile application with capabilities:$capabilities'\n+Meta:\n+    @healthCheck\n Given I start mobile application with capabilities:\n |name|value     |\n |app |${app-url}|\n+\n+\n+Scenario: Verify step: 'Then(\"number of $state elements found by `$locator` is $comparisonRule `$quantity`' and Appium XPath Locator\n+Then number of elements found by `xpath(<mainViewHeaderTextXpath>)` is equal to `1`\n+\n+\n+Scenario: Verify step: 'Then number of $state elements found by `$locator` is $comparisonRule `$quantity`'\n+Then number of NOT_SELECTED elements found by `xpath(<mainViewHeaderTextXpath>)` is equal to `1`", "originalCommit": "b1898e71a91dbe893ec8424115143e69864f0904", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM1NTQ4OQ==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484355489", "bodyText": "I just used this to cover the step, all elements besides checkboxes, selects are always not selected, changed to visible", "author": "uarlouski", "createdAt": "2020-09-07T10:52:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyNzAxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM3MDcwMg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484370702", "bodyText": "but it doesn't make sense, what about using ENABLED?", "author": "valfirst", "createdAt": "2020-09-07T11:24:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyNzAxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM3NzQ2OA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484377468", "bodyText": "discussed to use visible and visibility all", "author": "uarlouski", "createdAt": "2020-09-07T11:38:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyNzAxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyNzEzMQ==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484227131", "bodyText": "(\" - useless", "author": "valfirst", "createdAt": "2020-09-07T07:16:00Z", "path": "vividus-tests/src/main/resources/story/system/mobile_app/ApplicationStepsTests.story", "diffHunk": "@@ -3,7 +3,21 @@ Description: Integration tests for ApplicationSteps class\n Meta:\n     @epic vividus-plugin-mobile-app\n \n+Lifecycle:\n+Examples:\n+/data/tables/system/mobile_app/locators/${target-platform}.table\n+\n Scenario: Verify step: 'Given I start mobile application with capabilities:$capabilities'\n+Meta:\n+    @healthCheck\n Given I start mobile application with capabilities:\n |name|value     |\n |app |${app-url}|\n+\n+\n+Scenario: Verify step: 'Then(\"number of $state elements found by `$locator` is $comparisonRule `$quantity`' and Appium XPath Locator", "originalCommit": "b1898e71a91dbe893ec8424115143e69864f0904", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "288c8895a9276c800eb1487e0afa3721daa52161", "url": "https://github.com/vividus-framework/vividus/commit/288c8895a9276c800eb1487e0afa3721daa52161", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-07T10:46:10Z", "type": "forcePushed"}, {"oid": "0efb47b1f12d22e572bdc73233e237ab2afc8a73", "url": "https://github.com/vividus-framework/vividus/commit/0efb47b1f12d22e572bdc73233e237ab2afc8a73", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-07T10:53:29Z", "type": "forcePushed"}, {"oid": "e2506d077afade99ac387c7a67e7d7c767f23517", "url": "https://github.com/vividus-framework/vividus/commit/e2506d077afade99ac387c7a67e7d7c767f23517", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-07T12:24:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxNzAwNw==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484417007", "bodyText": "if it's used once, it can be inlined", "author": "valfirst", "createdAt": "2020-09-07T12:57:36Z", "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -136,3 +136,7 @@ Given I start mobile application with capabilities:\n |bstack:options.networkLogs     |true |\n |appium:options.clearSystemFiles|false|\n ----\n+\n+include::partial$generic-ui-steps.adoc[]\n+\n+include::partial$mobile-app-locators.adoc[]", "originalCommit": "e2506d077afade99ac387c7a67e7d7c767f23517", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxNzQxNQ==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484417415", "bodyText": "I think locators should go before steps and properties, since locators may be used in steps, properties", "author": "valfirst", "createdAt": "2020-09-07T12:58:22Z", "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -136,3 +136,7 @@ Given I start mobile application with capabilities:\n |bstack:options.networkLogs     |true |\n |appium:options.clearSystemFiles|false|\n ----\n+\n+include::partial$generic-ui-steps.adoc[]\n+\n+include::partial$mobile-app-locators.adoc[]", "originalCommit": "e2506d077afade99ac387c7a67e7d7c767f23517", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQzODM3Mw==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484438373", "bodyText": "on the other hand if newbie opens the documentation and see hundreds of lines at the very beginning dedicated for locators explanations he will not understand why he needs all this stuff because he didn't reach steps section yet, I mean that installation, props and steps sections are more important, whereas locator is just a parameter", "author": "uarlouski", "createdAt": "2020-09-07T13:40:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxNzQxNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQzOTMxMw==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484439313", "bodyText": "\u0441\u0441 @valfirst", "author": "uarlouski", "createdAt": "2020-09-07T13:42:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxNzQxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxNzYzMw==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484417633", "bodyText": "I think locators should go before steps and properties, since locators may be used in steps, properties", "author": "valfirst", "createdAt": "2020-09-07T12:58:47Z", "path": "docs/modules/plugins/pages/plugin-web-app.adoc", "diffHunk": "@@ -487,3 +453,5 @@ Then `${context-width}` is > `0`\n Then `${context-x-coordinate}` is > `0`\n Then `${context-y-coordinate}` is > `0`\n ----\n+\n+include::partial$web-locators.adoc[]", "originalCommit": "e2506d077afade99ac387c7a67e7d7c767f23517", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDQxODE2Nw==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484418167", "bodyText": "if it's used once, it can be inlined", "author": "valfirst", "createdAt": "2020-09-07T12:59:50Z", "path": "docs/modules/plugins/pages/plugin-web-app.adoc", "diffHunk": "@@ -487,3 +453,5 @@ Then `${context-width}` is > `0`\n Then `${context-x-coordinate}` is > `0`\n Then `${context-y-coordinate}` is > `0`\n ----\n+\n+include::partial$web-locators.adoc[]", "originalCommit": "e2506d077afade99ac387c7a67e7d7c767f23517", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "84e12a6e15a1213a8a31883f26c04662f413f712", "url": "https://github.com/vividus-framework/vividus/commit/84e12a6e15a1213a8a31883f26c04662f413f712", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-07T14:03:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NzY4Ng==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484757686", "bodyText": "I propose to define reliable strategies in locator selection.\nhttps://appiumpro.com/editions/20-making-your-appium-tests-fast-and-reliable-part-2-finding-elements\nhttps://appiumpro.com/editions/60-how-to-pick-the-right-locator-strategy\n^^^\nAs a reference", "author": "ikalinin1", "createdAt": "2020-09-08T08:51:53Z", "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -10,6 +10,27 @@ The plugin provides functionality to test mobile application on real devices, An\n implementation(group: 'org.vividus', name: 'vividus-plugin-mobile-app', version: '{page-component-version}')\n ----\n \n+", "originalCommit": "84e12a6e15a1213a8a31883f26c04662f413f712", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc2NTYwNg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484765606", "bodyText": "I'll add this once \"all\" the mobile locators are available in vividus", "author": "uarlouski", "createdAt": "2020-09-08T09:04:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NzY4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc5NDE0NA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484794144", "bodyText": "But at least I consider it necessary to highlight XPath bad performance. And you could put a remark about locators Vividus doesn't support", "author": "ikalinin1", "createdAt": "2020-09-08T09:50:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NzY4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDgwNDYyNg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484804626", "bodyText": "I agree with this, but if we highlight bad performance, we should provide an alternative, I mean it would be better if I add all this info with adding new locator which is better than this one", "author": "uarlouski", "createdAt": "2020-09-08T10:09:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NzY4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDgwODE0Mg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484808142", "bodyText": "It will be like \"Please refer to Appium Pro link\" to pick right locator strategy, and the end-user will be able to select between xpath and a new one locator", "author": "uarlouski", "createdAt": "2020-09-08T10:15:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NzY4Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDg3MDI5OA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484870298", "bodyText": "I propose to define reliable strategies in locator selection.\n\nOnce they are added, they will be described in this section.\n\nBut at least I consider it necessary to highlight XPath bad performance.\n\nIt makes sense, see the official doc as example: http://appium.io/docs/en/commands/element/find-elements/index.html#selector-strategies: Search the app XML source using xpath (not recommended, has performance issues)\n\nbut if we highlight bad performance, we should provide an alternative\n\nwe shouldn't because the work is still in progress, we have announced anything yet", "author": "valfirst", "createdAt": "2020-09-08T12:17:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NzY4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1ODIwMQ==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484758201", "bodyText": "won't it be confusing a link to a web-based locator examples for mobile apps?", "author": "ikalinin1", "createdAt": "2020-09-08T08:52:42Z", "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -10,6 +10,27 @@ The plugin provides functionality to test mobile application on real devices, An\n implementation(group: 'org.vividus', name: 'vividus-plugin-mobile-app', version: '{page-component-version}')\n ----\n \n+\n+include::partial$locator-header.adoc[]\n+\n+=== Types\n+\n+[cols=\"1,1,3\", options=\"header\"]\n+|===\n+\n+|Locator type\n+|Description\n+|Examples\n+\n+|XPath\n+|https://developer.mozilla.org/en-US/docs/Web/XPath[Xpath to locate an element]", "originalCommit": "84e12a6e15a1213a8a31883f26c04662f413f712", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc2NTE3OQ==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484765179", "bodyText": "unfortunately there is no comprehensive mobile-related resources that explains functions, axes and what the xpath, imho xpath on web is equivalent to xpath on mobile because we work with xml, but potentially some functions may not work", "author": "uarlouski", "createdAt": "2020-09-08T09:03:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1ODIwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc5NjcyNA==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484796724", "bodyText": "And I think reusable locators' descriptions should be consistent.", "author": "ikalinin1", "createdAt": "2020-09-08T09:55:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1ODIwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDgxMjc4NQ==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484812785", "bodyText": "the last comment is fixed", "author": "uarlouski", "createdAt": "2020-09-08T10:24:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1ODIwMQ=="}], "type": "inlineReview"}, {"oid": "ee2e504bd1d48bcb38238e0d82f00ed0d8d49771", "url": "https://github.com/vividus-framework/vividus/commit/ee2e504bd1d48bcb38238e0d82f00ed0d8d49771", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T10:23:31Z", "type": "forcePushed"}, {"oid": "82d66c39f39d18b376537e932806087dc9fca14c", "url": "https://github.com/vividus-framework/vividus/commit/82d66c39f39d18b376537e932806087dc9fca14c", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T10:25:48Z", "type": "forcePushed"}, {"oid": "2b0e1c7696f7675a0e22f1efe979ce22a33d34ac", "url": "https://github.com/vividus-framework/vividus/commit/2b0e1c7696f7675a0e22f1efe979ce22a33d34ac", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T11:24:29Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDg3MDkyNg==", "url": "https://github.com/vividus-framework/vividus/pull/893#discussion_r484870926", "bodyText": "invalid, it should be import org.junit.jupiter.api.Test;", "author": "valfirst", "createdAt": "2020-09-08T12:18:11Z", "path": "vividus-extension-selenium/src/test/java/org/vividus/bdd/steps/ui/GenericElementStepsTests.java", "diffHunk": "@@ -0,0 +1,76 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.steps.ui;\n+\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.times;\n+import static org.mockito.Mockito.verify;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.List;\n+\n+import org.junit.Test;", "originalCommit": "2b0e1c7696f7675a0e22f1efe979ce22a33d34ac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5fb4e8225a5cede6a2f72ce50fc96768a4d00d72", "url": "https://github.com/vividus-framework/vividus/commit/5fb4e8225a5cede6a2f72ce50fc96768a4d00d72", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T12:29:59Z", "type": "forcePushed"}, {"oid": "062803b674d173dbafde2a0dedbb6b5f97290c6b", "url": "https://github.com/vividus-framework/vividus/commit/062803b674d173dbafde2a0dedbb6b5f97290c6b", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T12:48:53Z", "type": "forcePushed"}, {"oid": "bce51080d917fea9700417a0cc6c4e4177cbe0f2", "url": "https://github.com/vividus-framework/vividus/commit/bce51080d917fea9700417a0cc6c4e4177cbe0f2", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T13:32:12Z", "type": "forcePushed"}, {"oid": "c5ed255bb70139c2659a08742c600459be31a0b4", "url": "https://github.com/vividus-framework/vividus/commit/c5ed255bb70139c2659a08742c600459be31a0b4", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T13:43:34Z", "type": "forcePushed"}, {"oid": "80a04aec534b3400326e6608adb8bca630a9179a", "url": "https://github.com/vividus-framework/vividus/commit/80a04aec534b3400326e6608adb8bca630a9179a", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T13:47:22Z", "type": "forcePushed"}, {"oid": "5cd3e6b6e9989fedc93e7f4f16cb957c448873ad", "url": "https://github.com/vividus-framework/vividus/commit/5cd3e6b6e9989fedc93e7f4f16cb957c448873ad", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T14:43:52Z", "type": "forcePushed"}, {"oid": "72a81a45d83059bb09ff162cde3cbc5521c55de7", "url": "https://github.com/vividus-framework/vividus/commit/72a81a45d83059bb09ff162cde3cbc5521c55de7", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T15:08:31Z", "type": "commit"}, {"oid": "72a81a45d83059bb09ff162cde3cbc5521c55de7", "url": "https://github.com/vividus-framework/vividus/commit/72a81a45d83059bb09ff162cde3cbc5521c55de7", "message": "Move generic verification steps into Selenium extension", "committedDate": "2020-09-08T15:08:31Z", "type": "forcePushed"}]}