{"pr_number": 1483, "pr_title": "Make ITs override defaultTimeoutSeconds", "pr_createdAt": "2020-01-27T18:27:56Z", "pr_url": "https://github.com/apache/accumulo/pull/1483", "timeline": [{"oid": "02e2ef681197ee730fb015b5ad435bdffcef82b2", "url": "https://github.com/apache/accumulo/commit/02e2ef681197ee730fb015b5ad435bdffcef82b2", "message": "Make ITs override defaultTimeoutSeconds\n\n* Some ITs were setting timeout using junit, instead of the miniaccumulo\nmethod defaultTimeoutSeconds which allows use of system prop timeout.factor", "committedDate": "2020-01-27T18:13:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ2MzIxNg==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r371463216", "bodyText": "This may increase the timeout from 5 min to 10 min (the timeout in defaultTimeoutSeconds() for this test) - Not sure that it matters, just noticed the difference.", "author": "EdColeman", "createdAt": "2020-01-27T20:23:27Z", "path": "test/src/main/java/org/apache/accumulo/test/functional/DeleteRowsIT.java", "diffHunk": "@@ -67,7 +67,7 @@ protected int defaultTimeoutSeconds() {\n     ROWS.add(\"{\");\n   }\n \n-  @Test(timeout = 5 * 60 * 1000)", "originalCommit": "02e2ef681197ee730fb015b5ad435bdffcef82b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ3ODU4MQ==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r371478581", "bodyText": "Yeah I went with the higher time to be safe. It looks like 10 minutes is the max time for any IT so I think that is OK.", "author": "milleruntime", "createdAt": "2020-01-27T20:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ2MzIxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ4Njk3MQ==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r371486971", "bodyText": "After looking at this test closer and running it a few times... 10 minutes does seem way too high so I reduced the timeout to 5. Slower machines will now be able to use a timeout.factor=2 which would make it 10 anyway.", "author": "milleruntime", "createdAt": "2020-01-27T21:17:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ2MzIxNg=="}], "type": "inlineReview"}, {"oid": "e0d438589e9de64acef4226c65f91b9a97221182", "url": "https://github.com/apache/accumulo/commit/e0d438589e9de64acef4226c65f91b9a97221182", "message": "Decrease timeout of DeleteRowsIT", "committedDate": "2020-01-27T21:25:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAwMDQyMQ==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r372000421", "bodyText": "Was this test previously disabled for a reason?", "author": "ctubbsii", "createdAt": "2020-01-28T19:10:17Z", "path": "test/src/main/java/org/apache/accumulo/test/ShellServerIT.java", "diffHunk": "@@ -1349,7 +1349,7 @@ public void help() throws Exception {\n     }\n   }\n \n-  // @Test(timeout = 45000)\n+  @Test", "originalCommit": "e0d438589e9de64acef4226c65f91b9a97221182", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAyMjI2MQ==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r372022261", "bodyText": "I don't know but it was passing when I ran it.", "author": "milleruntime", "createdAt": "2020-01-28T19:53:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAwMDQyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAyNzMwMg==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r372027302", "bodyText": "Good enough for me.", "author": "ctubbsii", "createdAt": "2020-01-28T20:03:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAwMDQyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAwMTcxNQ==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r372001715", "bodyText": "Wow! Do we seriously have a test we expect to take up to 20 minutes?!?!?! This seems awful.", "author": "ctubbsii", "createdAt": "2020-01-28T19:13:00Z", "path": "test/src/main/java/org/apache/accumulo/test/performance/RollWALPerformanceIT.java", "diffHunk": "@@ -59,6 +59,11 @@ protected void configure(MiniAccumuloConfigImpl cfg, Configuration hadoopCoreSit\n     cfg.useMiniDFS(true);\n   }\n \n+  @Override\n+  protected int defaultTimeoutSeconds() {\n+    return 20 * 60;", "originalCommit": "e0d438589e9de64acef4226c65f91b9a97221182", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAyMzQ0Nw==", "url": "https://github.com/apache/accumulo/pull/1483#discussion_r372023447", "bodyText": "Ugh I know... I made a comment in #1482 that I think we should just drop this IT in 1.9", "author": "milleruntime", "createdAt": "2020-01-28T19:55:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAwMTcxNQ=="}], "type": "inlineReview"}]}