{"pr_number": 3470, "pr_title": "chore(cli): replace inquirer with prompts", "pr_createdAt": "2020-08-25T20:55:15Z", "pr_url": "https://github.com/ionic-team/capacitor/pull/3470", "timeline": [{"oid": "668b8b768a6ada76b71c9d5c54840cbf84fbba51", "url": "https://github.com/ionic-team/capacitor/commit/668b8b768a6ada76b71c9d5c54840cbf84fbba51", "message": "replace inquirer with prompts", "committedDate": "2020-08-25T20:47:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzNDcxNw==", "url": "https://github.com/ionic-team/capacitor/pull/3470#discussion_r477234717", "bodyText": "Looks like this code is unreachable, the whole generateCapacitorConfig could be deleted. The capacitor.config.json is generated on init, so it always exists on add. And if it doesn't exist add won't work anyway, so it never prompts for webDir.\nMaybe it should be moved to the init?\nBut I would vote for deleting the whole generateCapacitorConfig from here and maybe reintroduce the webDir prompt as part of #3465", "author": "jcesarmobile", "createdAt": "2020-08-26T11:39:48Z", "path": "cli/src/tasks/add.ts", "diffHunk": "@@ -93,16 +94,18 @@ export async function generateCapacitorConfig(config: Config) {\n     return;\n   }\n \n-  const inquirer = await import('inquirer');\n-  const answers = await inquirer.prompt([\n-    {\n-      type: 'input',\n-      name: 'webDir',\n-      message:\n-        'What directory are your web assets in? (index.html, built JavaScript, etc.):',\n-      default: 'www',\n-    },\n-  ]);\n+  const answers = await prompts(\n+    [\n+      {\n+        type: 'text',\n+        name: 'webDir',\n+        message:\n+          'What directory are your web assets in? (index.html, built JavaScript, etc.):',\n+        initial: 'www',\n+      },\n+    ],\n+    { onCancel: () => process.exit(1) },\n+  );", "originalCommit": "668b8b768a6ada76b71c9d5c54840cbf84fbba51", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQwOTMxNQ==", "url": "https://github.com/ionic-team/capacitor/pull/3470#discussion_r477409315", "bodyText": "Yeah, I can do that as part of #3465.\nThis PR isn't trying to change behavior, just replace the prompt library", "author": "imhoffd", "createdAt": "2020-08-26T15:54:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzNDcxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQxNTQyNQ==", "url": "https://github.com/ionic-team/capacitor/pull/3470#discussion_r477415425", "bodyText": "yeah, but I think a better way of replacing a prompt that is not used is deleting it \ud83d\ude1b", "author": "jcesarmobile", "createdAt": "2020-08-26T16:03:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzNDcxNw=="}], "type": "inlineReview"}]}