{"pr_number": 3880, "pr_title": "chore: update husky to v5", "pr_createdAt": "2020-11-30T16:10:26Z", "pr_url": "https://github.com/ionic-team/capacitor/pull/3880", "timeline": [{"oid": "03089807e00904ee06b1fd6d6873d4c00c69dff3", "url": "https://github.com/ionic-team/capacitor/commit/03089807e00904ee06b1fd6d6873d4c00c69dff3", "message": "fix(ios): share message handler between webview and bridge (#3875)", "committedDate": "2020-11-30T15:57:40Z", "type": "commit"}, {"oid": "3246ce07e4f3ce20df4329a2e6ac5acc7f039dc8", "url": "https://github.com/ionic-team/capacitor/commit/3246ce07e4f3ce20df4329a2e6ac5acc7f039dc8", "message": "husky v5", "committedDate": "2020-11-30T15:57:54Z", "type": "commit"}, {"oid": "dc8177a77cee07855b9b25b4974d1f5ebb5b527a", "url": "https://github.com/ionic-team/capacitor/commit/dc8177a77cee07855b9b25b4974d1f5ebb5b527a", "message": "Add pinst for preventing hooks from running on dev systems", "committedDate": "2020-11-30T16:03:31Z", "type": "commit"}, {"oid": "93f1c70d9845abb4139f32266d17755613a5d9a6", "url": "https://github.com/ionic-team/capacitor/commit/93f1c70d9845abb4139f32266d17755613a5d9a6", "message": "Remove .husky from ignored, use local .gitignore in .husky folder instead", "committedDate": "2020-11-30T16:11:00Z", "type": "commit"}, {"oid": "d6fcfd434086dc6a6832c2395df48bf42c3323b3", "url": "https://github.com/ionic-team/capacitor/commit/d6fcfd434086dc6a6832c2395df48bf42c3323b3", "message": "Merge branch 'main' into git-hooks-fix", "committedDate": "2020-11-30T16:11:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc0OTIyNA==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r532749224", "bodyText": "Can this husky block be removed, then?", "author": "imhoffd", "createdAt": "2020-11-30T16:57:02Z", "path": "package.json", "diffHunk": "@@ -7,7 +7,9 @@\n     \"prettier\": \"prettier \\\"**/*.{css,html,java,js,ts}\\\"\",\n     \"eslint\": \"eslint . --ext ts\",\n     \"swiftlint\": \"node-swiftlint\",\n-    \"postinstall\": \"lerna bootstrap\"\n+    \"postinstall\": \"husky install && lerna bootstrap\",\n+    \"prepublish\": \"pinst --disable\",\n+    \"postpublish\": \"pinst --enable\"\n   },\n   \"husky\": {", "originalCommit": "d6fcfd434086dc6a6832c2395df48bf42c3323b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU5NTczMw==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533595733", "bodyText": "Yes! You are correct. When I was testing, my npx husky was v4 but after I cleared node_modules again I can confirm we don't need this anymore", "author": "thomasvidas", "createdAt": "2020-12-01T17:34:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjc0OTIyNA=="}], "type": "inlineReview"}, {"oid": "701be9925a633ca544036951d4d51db8d78453b8", "url": "https://github.com/ionic-team/capacitor/commit/701be9925a633ca544036951d4d51db8d78453b8", "message": "remove husky block from package.json", "committedDate": "2020-12-01T17:31:25Z", "type": "commit"}, {"oid": "5ed7175811d8680996cee33f588b8f2f4769401a", "url": "https://github.com/ionic-team/capacitor/commit/5ed7175811d8680996cee33f588b8f2f4769401a", "message": "Merge branch 'git-hooks-fix' of github.com:ionic-team/capacitor into git-hooks-fix", "committedDate": "2020-12-01T17:31:55Z", "type": "commit"}, {"oid": "1c3c1a36550473b580070a20a5e8b4e23062a451", "url": "https://github.com/ionic-team/capacitor/commit/1c3c1a36550473b580070a20a5e8b4e23062a451", "message": "Merge branch 'main' into git-hooks-fix", "committedDate": "2020-12-01T17:32:53Z", "type": "commit"}, {"oid": "3c7f9f6971ba756ed41a48f89be135484e335924", "url": "https://github.com/ionic-team/capacitor/commit/3c7f9f6971ba756ed41a48f89be135484e335924", "message": "Merge branch 'main' into git-hooks-fix", "committedDate": "2020-12-01T17:34:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODE0Ng==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533698146", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \"postpublish\": \"pinst --enable\"\n          \n          \n            \n                \"version\": \"npm run sync-peer-dependencies\"\n          \n          \n            \n                \"postpublish\": \"pinst --enable\",\n          \n          \n            \n                \"version\": \"npm run sync-peer-dependencies\"", "author": "imhoffd", "createdAt": "2020-12-01T20:23:51Z", "path": "package.json", "diffHunk": "@@ -8,14 +8,11 @@\n     \"prettier\": \"prettier \\\"**/*.{css,html,java,js,mjs,ts}\\\"\",\n     \"eslint\": \"eslint . --ext ts\",\n     \"swiftlint\": \"node-swiftlint\",\n-    \"postinstall\": \"lerna bootstrap\",\n+    \"postinstall\": \"husky install && lerna bootstrap\",\n+    \"prepublish\": \"pinst --disable\",\n+    \"postpublish\": \"pinst --enable\"\n     \"version\": \"npm run sync-peer-dependencies\"", "originalCommit": "3c7f9f6971ba756ed41a48f89be135484e335924", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzg1NTY4MA==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533855680", "bodyText": "nice catch. Bad merge \ud83d\udc4d", "author": "thomasvidas", "createdAt": "2020-12-02T02:33:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODE0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODIxNw==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533698217", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            npm run lint\n          \n          \n            \n            npm run lint", "author": "imhoffd", "createdAt": "2020-12-01T20:23:59Z", "path": ".husky/pre-commit", "diffHunk": "@@ -0,0 +1,4 @@\n+#!/bin/sh\n+. \"$(dirname $0)/_/husky.sh\"\n+\n+npm run lint", "originalCommit": "3c7f9f6971ba756ed41a48f89be135484e335924", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODQ0Ng==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533698446", "bodyText": "This should add a newline at EOF", "author": "imhoffd", "createdAt": "2020-12-01T20:24:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODIxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzg1NTk2Mg==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533855962", "bodyText": "I wonder if there's a way we can automate this if we need to add new hooks? \ud83e\udd14 This is an auto generated file", "author": "thomasvidas", "createdAt": "2020-12-02T02:34:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzY5ODIxNw=="}], "type": "inlineReview"}, {"oid": "de37b32f0471848d2e66256e38de0199d4bb67b9", "url": "https://github.com/ionic-team/capacitor/commit/de37b32f0471848d2e66256e38de0199d4bb67b9", "message": "Update package.json\n\nCo-authored-by: Dan Imhoff <dwieeb@gmail.com>", "committedDate": "2020-12-02T02:34:04Z", "type": "commit"}, {"oid": "23bbe282bfd9840bb4d125f8fcb160e9392bf84f", "url": "https://github.com/ionic-team/capacitor/commit/23bbe282bfd9840bb4d125f8fcb160e9392bf84f", "message": "new line in husky pre-commit file\n\nCo-authored-by: Dan Imhoff <dwieeb@gmail.com>", "committedDate": "2020-12-02T02:35:00Z", "type": "commit"}, {"oid": "e13b50228d8b511552c89a6f0e3bc27314bd9ce1", "url": "https://github.com/ionic-team/capacitor/commit/e13b50228d8b511552c89a6f0e3bc27314bd9ce1", "message": "Merge branch 'main' into git-hooks-fix", "committedDate": "2020-12-02T03:43:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzg4MTQ2OA==", "url": "https://github.com/ionic-team/capacitor/pull/3880#discussion_r533881468", "bodyText": "We actually don't need pinst because our root package is private.", "author": "imhoffd", "createdAt": "2020-12-02T04:00:45Z", "path": "package.json", "diffHunk": "@@ -8,14 +8,11 @@\n     \"prettier\": \"prettier \\\"**/*.{css,html,java,js,mjs,ts}\\\"\",\n     \"eslint\": \"eslint . --ext ts\",\n     \"swiftlint\": \"node-swiftlint\",\n-    \"postinstall\": \"lerna bootstrap\",\n+    \"postinstall\": \"husky install && lerna bootstrap\",\n+    \"prepublish\": \"pinst --disable\",\n+    \"postpublish\": \"pinst --enable\",", "originalCommit": "e13b50228d8b511552c89a6f0e3bc27314bd9ce1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a1fa356a99e858c0f3f05047a0cca225ea838f29", "url": "https://github.com/ionic-team/capacitor/commit/a1fa356a99e858c0f3f05047a0cca225ea838f29", "message": "Remove pinst", "committedDate": "2020-12-03T14:49:41Z", "type": "commit"}, {"oid": "cd1f0ef9b994f378381ed83554e06067b8025565", "url": "https://github.com/ionic-team/capacitor/commit/cd1f0ef9b994f378381ed83554e06067b8025565", "message": "Merge branch 'main' into git-hooks-fix", "committedDate": "2020-12-03T14:51:48Z", "type": "commit"}, {"oid": "a9acc1598c107e08486b44ea65fee5adc5dd263e", "url": "https://github.com/ionic-team/capacitor/commit/a9acc1598c107e08486b44ea65fee5adc5dd263e", "message": "Merge branch 'main' into git-hooks-fix", "committedDate": "2020-12-03T19:17:24Z", "type": "commit"}]}