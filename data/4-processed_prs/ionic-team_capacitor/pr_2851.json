{"pr_number": 2851, "pr_title": "fix(web): improve Proxy check to avoid SSR problems", "pr_createdAt": "2020-04-30T08:04:41Z", "pr_url": "https://github.com/ionic-team/capacitor/pull/2851", "timeline": [{"oid": "c44ad701a782454a1bd771075419d74490175301", "url": "https://github.com/ionic-team/capacitor/commit/c44ad701a782454a1bd771075419d74490175301", "message": "fix(web): Check if in browser before using window variable", "committedDate": "2020-04-30T08:02:30Z", "type": "commit"}, {"oid": "ad38b468345825d5291298b88cf93b68516f6d55", "url": "https://github.com/ionic-team/capacitor/commit/ad38b468345825d5291298b88cf93b68516f6d55", "message": "check global for proxy on servers", "committedDate": "2020-04-30T13:55:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjc1NzY5OA==", "url": "https://github.com/ionic-team/capacitor/pull/2851#discussion_r426757698", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if ('Proxy' in (typeof window === 'undefined' ? global : window)) {\n          \n          \n            \n                if (typeof Proxy !== 'undefined') {", "author": "imhoffd", "createdAt": "2020-05-18T16:39:38Z", "path": "core/src/web-runtime.ts", "diffHunk": "@@ -13,7 +13,7 @@ export class CapacitorWeb {\n     // Gracefully degrade in non-Proxy supporting engines, e.g. IE11. This\n     // effectively means that trying to access an unavailable plugin will\n     // locally throw, but this is still better than throwing a syntax error.\n-    if ('Proxy' in window) {\n+    if ('Proxy' in (typeof window === 'undefined' ? global : window)) {", "originalCommit": "ad38b468345825d5291298b88cf93b68516f6d55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzA0Njk3Nw==", "url": "https://github.com/ionic-team/capacitor/pull/2851#discussion_r427046977", "bodyText": "Just tested it in the sample project (https://codesandbox.io/s/github/flogy/gatsby-starter-capacitor). Building works fine and it also still runs in IE 11 browser (which was the initial problem fixed by #2759). Thanks!", "author": "flogy", "createdAt": "2020-05-19T05:57:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjc1NzY5OA=="}], "type": "inlineReview"}, {"oid": "a7601e657dfe2c66e1def6f510b883e5aa027e3b", "url": "https://github.com/ionic-team/capacitor/commit/a7601e657dfe2c66e1def6f510b883e5aa027e3b", "message": "simplified code\n\nCo-authored-by: dwieeb <dwieeb@gmail.com>", "committedDate": "2020-05-19T05:58:05Z", "type": "commit"}]}