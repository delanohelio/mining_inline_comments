{"pr_number": 2508, "pr_title": "Test JSObject", "pr_createdAt": "2020-03-02T21:46:19Z", "pr_url": "https://github.com/ionic-team/capacitor/pull/2508", "timeline": [{"oid": "70994f2dcfd4955152cb5761bcd0c8c76ec1533d", "url": "https://github.com/ionic-team/capacitor/commit/70994f2dcfd4955152cb5761bcd0c8c76ec1533d", "message": "Test JSObject", "committedDate": "2020-03-02T21:44:37Z", "type": "commit"}, {"oid": "d42e8c66be9fbc260bc680078eee3874e566da88", "url": "https://github.com/ionic-team/capacitor/commit/d42e8c66be9fbc260bc680078eee3874e566da88", "message": "Unneeded files", "committedDate": "2020-03-02T21:49:27Z", "type": "commit"}, {"oid": "ff45ead083a33c416065fe1f8f044aa447def35f", "url": "https://github.com/ionic-team/capacitor/commit/ff45ead083a33c416065fe1f8f044aa447def35f", "message": "Unneeded files", "committedDate": "2020-03-02T21:50:58Z", "type": "commit"}, {"oid": "77c0ff96bf80da29f9e510e14e24f311823b3859", "url": "https://github.com/ionic-team/capacitor/commit/77c0ff96bf80da29f9e510e14e24f311823b3859", "message": "Run tests on build", "committedDate": "2020-03-02T22:08:19Z", "type": "commit"}, {"oid": "b29b0f84482749930470ad326e54868c0ad15e73", "url": "https://github.com/ionic-team/capacitor/commit/b29b0f84482749930470ad326e54868c0ad15e73", "message": "Separate step for Android tests", "committedDate": "2020-03-03T07:38:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjUyMjI3Nw==", "url": "https://github.com/ionic-team/capacitor/pull/2508#discussion_r432522277", "bodyText": "I'm not sure this is needed.  The only import the test code has that uses this is import org.json.JSONException; and that's included in Android API.", "author": "smpeters", "createdAt": "2020-05-29T14:26:46Z", "path": "android/capacitor/build.gradle", "diffHunk": "@@ -54,6 +54,9 @@ dependencies {\n     implementation 'com.google.firebase:firebase-messaging:18.0.0'\n     implementation 'com.google.android.gms:play-services-location:17.0.0'\n     testImplementation 'junit:junit:4.12'\n+    testImplementation 'org.json:json:20140107'\n+\n+", "originalCommit": "b29b0f84482749930470ad326e54868c0ad15e73", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU1NzM0Nw==", "url": "https://github.com/ionic-team/capacitor/pull/2508#discussion_r444557347", "bodyText": "This is needed to prevent java.lang.RuntimeException: Method getString in org.json.JSONObject not mocked. See http://g.co/androidstudio/not-mocked for details. errors as JSON is bundled with Android and thus hitting a stub, so a real JSON implementation is needed to drive a real valuable test.", "author": "imjacobclark", "createdAt": "2020-06-23T23:11:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjUyMjI3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE1MjgxOQ==", "url": "https://github.com/ionic-team/capacitor/pull/2508#discussion_r445152819", "bodyText": "OK, that explanation is fine with me.", "author": "smpeters", "createdAt": "2020-06-24T20:29:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjUyMjI3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjUyNDA4Nw==", "url": "https://github.com/ionic-team/capacitor/pull/2508#discussion_r432524087", "bodyText": "This can be changed to import static org.junit.Assert.*; then all the Assert.assertFoo(...) can become assertFoo(...)", "author": "smpeters", "createdAt": "2020-05-29T14:28:40Z", "path": "android/capacitor/src/test/java/com/getcapacitor/JSObjectTest.java", "diffHunk": "@@ -0,0 +1,208 @@\n+package com.getcapacitor;\n+\n+import org.json.JSONException;\n+import org.junit.Assert;", "originalCommit": "b29b0f84482749930470ad326e54868c0ad15e73", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU1NzM5Ng==", "url": "https://github.com/ionic-team/capacitor/pull/2508#discussion_r444557396", "bodyText": "Thanks, done!", "author": "imjacobclark", "createdAt": "2020-06-23T23:11:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjUyNDA4Nw=="}], "type": "inlineReview"}, {"oid": "41d3570c7c9f6dc2f44463de6f00a8955d30055d", "url": "https://github.com/ionic-team/capacitor/commit/41d3570c7c9f6dc2f44463de6f00a8955d30055d", "message": "Merge branch 'master' of github.com:ionic-team/capacitor into test-jsobject-android", "committedDate": "2020-06-23T22:58:03Z", "type": "commit"}, {"oid": "caada66ac1a4e588e9ee03d92815e081f15618c4", "url": "https://github.com/ionic-team/capacitor/commit/caada66ac1a4e588e9ee03d92815e081f15618c4", "message": "Gradlefile and static asset", "committedDate": "2020-06-23T23:03:29Z", "type": "commit"}, {"oid": "cded61753747fd0331d75f7ed7c7d4b5c7666443", "url": "https://github.com/ionic-team/capacitor/commit/cded61753747fd0331d75f7ed7c7d4b5c7666443", "message": "Remove project files", "committedDate": "2020-06-23T23:03:53Z", "type": "commit"}, {"oid": "a13edb3bfdb148d1d158f4b75d9a57f84bd93d84", "url": "https://github.com/ionic-team/capacitor/commit/a13edb3bfdb148d1d158f4b75d9a57f84bd93d84", "message": "Pass tests and update GitHub actions", "committedDate": "2020-06-23T23:11:46Z", "type": "commit"}, {"oid": "14a73ba2bed82e76e2642bda5b86ae52d52f8b19", "url": "https://github.com/ionic-team/capacitor/commit/14a73ba2bed82e76e2642bda5b86ae52d52f8b19", "message": "Drop files", "committedDate": "2020-06-23T23:12:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU4NjQ1MQ==", "url": "https://github.com/ionic-team/capacitor/pull/2508#discussion_r444586451", "bodyText": "Instead, please add test to the scripts in the line below as such:\n./gradlew clean build test -b capacitor/build.gradle -Pandroid.useAndroidX=true -Pandroid.enableJetifier=true", "author": "imhoffd", "createdAt": "2020-06-24T00:58:05Z", "path": ".github/workflows/ci.yml", "diffHunk": "@@ -67,4 +67,5 @@ jobs:\n         working-directory: ./android\n     steps:\n       - uses: actions/checkout@v2\n+      - run: ./gradlew test -b capacitor/build.gradle -Pandroid.useAndroidX=true -Pandroid.enableJetifier=true", "originalCommit": "14a73ba2bed82e76e2642bda5b86ae52d52f8b19", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY4MDY1OQ==", "url": "https://github.com/ionic-team/capacitor/pull/2508#discussion_r444680659", "bodyText": "Good spot, done, thanks!", "author": "imjacobclark", "createdAt": "2020-06-24T06:50:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU4NjQ1MQ=="}], "type": "inlineReview"}, {"oid": "bb643f724b40fc9bbbdad2bb7d8f641eed05be1f", "url": "https://github.com/ionic-team/capacitor/commit/bb643f724b40fc9bbbdad2bb7d8f641eed05be1f", "message": "Update ci.yml", "committedDate": "2020-06-24T06:49:58Z", "type": "commit"}, {"oid": "1b34c6b26eda56faffb84392ae9948bb26577aee", "url": "https://github.com/ionic-team/capacitor/commit/1b34c6b26eda56faffb84392ae9948bb26577aee", "message": "Removed a couple of random spaces", "committedDate": "2020-06-24T19:07:09Z", "type": "commit"}, {"oid": "cffdbb07963c24f9bfb8eaef969a09d8b6730940", "url": "https://github.com/ionic-team/capacitor/commit/cffdbb07963c24f9bfb8eaef969a09d8b6730940", "message": "Merge branch 'master' into test-jsobject-android", "committedDate": "2020-06-24T20:33:27Z", "type": "commit"}]}