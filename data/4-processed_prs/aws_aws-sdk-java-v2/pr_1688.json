{"pr_number": 1688, "pr_title": "Apply dynamodb enhanced client user agent", "pr_createdAt": "2020-03-06T01:39:14Z", "pr_url": "https://github.com/aws/aws-sdk-java-v2/pull/1688", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA2Njc1MQ==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1688#discussion_r389066751", "bodyText": "minor: can we make this ApiName a static as well since it's constant?", "author": "dagnir", "createdAt": "2020-03-06T18:23:34Z", "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/internal/ApplyUserAgentInterceptor.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ * Copyright 2010-2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.awssdk.enhanced.dynamodb.internal;\n+\n+import java.util.function.Consumer;\n+import software.amazon.awssdk.annotations.SdkInternalApi;\n+import software.amazon.awssdk.awscore.AwsRequestOverrideConfiguration;\n+import software.amazon.awssdk.core.ApiName;\n+import software.amazon.awssdk.core.SdkRequest;\n+import software.amazon.awssdk.core.interceptor.Context;\n+import software.amazon.awssdk.core.interceptor.ExecutionAttributes;\n+import software.amazon.awssdk.core.interceptor.ExecutionInterceptor;\n+import software.amazon.awssdk.core.util.VersionInfo;\n+import software.amazon.awssdk.services.dynamodb.model.DynamoDbRequest;\n+\n+/**\n+ * Apply dynamodb enhanced client specific user agent to the request\n+ */\n+@SdkInternalApi\n+public final class ApplyUserAgentInterceptor implements ExecutionInterceptor {\n+    private static final Consumer<AwsRequestOverrideConfiguration.Builder> USER_AGENT_APPLIER =\n+        b -> b.addApiName(ApiName.builder().version(VersionInfo.SDK_VERSION).name(\"DynamoDbEnhancedClient\").build());", "originalCommit": "d237230de7d6d334180f88a96b22d436a3481f99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA3ODQ0MA==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1688#discussion_r389078440", "bodyText": "sure, updated", "author": "zoewangg", "createdAt": "2020-03-06T18:47:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTA2Njc1MQ=="}], "type": "inlineReview"}, {"oid": "933cb1ced6976dfee1652836b5868e18406f62a4", "url": "https://github.com/aws/aws-sdk-java-v2/commit/933cb1ced6976dfee1652836b5868e18406f62a4", "message": "Apply dynamodb enhanced client user agent for all requests made by dynamodbEnahncedClient via an interceptor. Updated javadocs", "committedDate": "2020-03-06T18:40:22Z", "type": "forcePushed"}, {"oid": "c7a567c1b48692744637f16f34bfaa8a2be3e7b9", "url": "https://github.com/aws/aws-sdk-java-v2/commit/c7a567c1b48692744637f16f34bfaa8a2be3e7b9", "message": "Apply dynamodb enhanced client user agent for all requests made by dynamodbEnahncedClient via an interceptor. Updated javadocs", "committedDate": "2020-03-06T21:18:52Z", "type": "commit"}, {"oid": "c7a567c1b48692744637f16f34bfaa8a2be3e7b9", "url": "https://github.com/aws/aws-sdk-java-v2/commit/c7a567c1b48692744637f16f34bfaa8a2be3e7b9", "message": "Apply dynamodb enhanced client user agent for all requests made by dynamodbEnahncedClient via an interceptor. Updated javadocs", "committedDate": "2020-03-06T21:18:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE1ODgxNw==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1688#discussion_r389158817", "bodyText": "Can we add a TODO here so we can come back and revisit this?", "author": "dagnir", "createdAt": "2020-03-06T21:43:02Z", "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/internal/ApplyUserAgentInterceptor.java", "diffHunk": "@@ -0,0 +1,56 @@\n+/*\n+ * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *  http://aws.amazon.com/apache2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package software.amazon.awssdk.enhanced.dynamodb.internal;\n+\n+import java.util.function.Consumer;\n+import software.amazon.awssdk.annotations.SdkInternalApi;\n+import software.amazon.awssdk.awscore.AwsRequestOverrideConfiguration;\n+import software.amazon.awssdk.core.ApiName;\n+import software.amazon.awssdk.core.SdkRequest;\n+import software.amazon.awssdk.core.interceptor.Context;\n+import software.amazon.awssdk.core.interceptor.ExecutionAttributes;\n+import software.amazon.awssdk.core.interceptor.ExecutionInterceptor;\n+import software.amazon.awssdk.services.dynamodb.model.DynamoDbRequest;\n+\n+/**\n+ * Apply dynamodb enhanced client specific user agent to the request\n+ */\n+@SdkInternalApi\n+public final class ApplyUserAgentInterceptor implements ExecutionInterceptor {\n+    private static final ApiName API_NAME =\n+        ApiName.builder().version(\"ddb-enh\").name(\"hll\").build();", "originalCommit": "c7a567c1b48692744637f16f34bfaa8a2be3e7b9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE4MTc0NA==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1688#discussion_r389181744", "bodyText": "Discussed offline. We have settled on hll/ddb-enh", "author": "zoewangg", "createdAt": "2020-03-06T22:50:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE1ODgxNw=="}], "type": "inlineReview"}, {"oid": "6a5b16622f05ff8f5a625b6e1f7e12ceb3616034", "url": "https://github.com/aws/aws-sdk-java-v2/commit/6a5b16622f05ff8f5a625b6e1f7e12ceb3616034", "message": "Merge branch 'master' into zoewang-ddbEnhancedClientUA", "committedDate": "2020-03-06T22:10:45Z", "type": "commit"}]}