{"pr_number": 2058, "pr_title": "Add decision log for waiters", "pr_createdAt": "2020-09-23T00:47:26Z", "pr_url": "https://github.com/aws/aws-sdk-java-v2/pull/2058", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc3MDUwOQ==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#discussion_r493770509", "bodyText": "This should usually follow the \"Question? Decision. Justification.\" format, even if we decide not to change anything.", "author": "millems", "createdAt": "2020-09-23T17:36:03Z", "path": "docs/design/core/waiters/DecisionLog.md", "diffHunk": "@@ -0,0 +1,41 @@\n+# Decision Log for SDK V2 Waiters\n+\n+Note: The decision log process was implemented late in this project, so decisions earlier than 9/22/20 are not included \n+below.\n+\n+## Log Entry Template\n+\n+**Source:** (Meeting/aside/pair programming discussion/daily standup) to (discuss/implement) X\n+\n+**Attendees:** Anna-Karin, Ben, Dongie, Irene, Matt, Nico, Vinod, John, Zoe\n+\n+**Closed Decisions:**\n+\n+1. Question? Decision. Justification.\n+\n+**Open Decisions:**\n+\n+1. (Old/Reopened/New) Question?\n+\n+## 9/22/20\n+\n+**Source:** Meeting to review API surface-area of the waiters implementation https://github.com/aws/aws-sdk-java-v2/tree/waiters-development\n+\n+**Attendees:** Anna-Karin, Ben, Dongie, John, Matt, Nico, Vinod, Zoe\n+\n+**Closed Decisions:**\n+\n+1. The default `ScheduledExecutorService` core number should be changed to 1 because it's only used to schedule attempts.\n+2. `DynamodbEnhancedClient.builder().build()` should create a default SDK client because `DynamodbEnhancedClient.builder().build` should be equivalent to `DynamodbEnhancedClient.create()`\n+3. Should we make the generic `Waiter` non-public? No, because it is essentially a protected API and has to be backwards-compatible any way. In addition, customers can benefit from it\n+when service waiters are not available.\n+4. We should keep the union type `ResponseOrException` because it clearly indicates response and exception are mutually exclusive and only one is present. We should keep the naming `ResponseOrException` because it's intuitive and descriptive. \n+5. We should rename `WaiterResponse#responseOrExecption` -> `WaiterResponse#matched` because it has the most votes compared with other options: `matchedResponse`, `matchedResult`, `matchedValue`\n+6. We should rename `{Service}Waiter.Builder#executorService` -> `{Service}Waiter.Builder#scheduledExecutorService` to be more clear it's a `ScheduledExecutorService`\n+7. We should rename `Waiter.Builder#pollingStrategy` -> `Waiter.Builder#waiterOverrideConfiguration` so that we can easily add more configurations if needed. All configs under `WaiterOverrideConfiguration` should have default values to be consistent\n+with `ClientOverrideConfiguration`\n+8. We should create an overload method which takes a `WaiterOverrideConfiguration` parameter to allow request-level config override for every waiter operation, eg: `DynamodbWaiter#waitUntilTableExists(DescribeTableRequest, WaiterOverrideConfiguration)`", "originalCommit": "2c5f6bfcf245cf1d9fed30e4ad021ef36d641b20", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc3MDg5MQ==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#discussion_r493770891", "bodyText": "Might be good to have an official scribe for the future meetings, so they can capture questions, even if they don't have action items. It seems like these are just the questions we decided to act on.", "author": "millems", "createdAt": "2020-09-23T17:36:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc3MDUwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc4MTI3OQ==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#discussion_r493781279", "bodyText": "+1", "author": "cenedhryn", "createdAt": "2020-09-23T17:54:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc3MDUwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc4Njg4OA==", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#discussion_r493786888", "bodyText": "I'll update it to question format", "author": "zoewangg", "createdAt": "2020-09-23T18:03:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc3MDUwOQ=="}], "type": "inlineReview"}, {"oid": "27dd21419d8748d6209d96d4dde5dbb83777284d", "url": "https://github.com/aws/aws-sdk-java-v2/commit/27dd21419d8748d6209d96d4dde5dbb83777284d", "message": "Add decision log for waiters", "committedDate": "2020-09-28T19:18:51Z", "type": "commit"}, {"oid": "27dd21419d8748d6209d96d4dde5dbb83777284d", "url": "https://github.com/aws/aws-sdk-java-v2/commit/27dd21419d8748d6209d96d4dde5dbb83777284d", "message": "Add decision log for waiters", "committedDate": "2020-09-28T19:18:51Z", "type": "forcePushed"}]}