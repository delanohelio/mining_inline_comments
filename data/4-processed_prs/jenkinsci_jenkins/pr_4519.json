{"pr_number": 4519, "pr_title": "JEP-224 System read - Global tool configuration", "pr_createdAt": "2020-02-23T11:02:42Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4519", "timeline": [{"oid": "2d3e8e4d509417f2dc171e42dd17cd5ddd643b4f", "url": "https://github.com/jenkinsci/jenkins/commit/2d3e8e4d509417f2dc171e42dd17cd5ddd643b4f", "message": "JEP-224 System read - Global tool configuration", "committedDate": "2020-02-23T11:00:44Z", "type": "commit"}, {"oid": "bbe40d63810b835d423c58dfe8910edc329b3734", "url": "https://github.com/jenkinsci/jenkins/commit/bbe40d63810b835d423c58dfe8910edc329b3734", "message": "Disable download from url installer in read only mode", "committedDate": "2020-02-23T21:15:46Z", "type": "commit"}, {"oid": "0fe5db21a53ec3f6e4732088e003d2abbb1f700e", "url": "https://github.com/jenkinsci/jenkins/commit/0fe5db21a53ec3f6e4732088e003d2abbb1f700e", "message": "Merge branch 'master' into system-read-tool-configuration", "committedDate": "2020-02-24T16:53:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA0MDQwNw==", "url": "https://github.com/jenkinsci/jenkins/pull/4519#discussion_r385040407", "bodyText": "I have a doubt. The author of a plugin contributing with a global tool configuration might be considered his/her piece of UI is not going to be shown to anyone else but Administers. So s/he didn't need to check the permission because it was already done. Now, everyone with SYSTEM_READ could see his/her piece of UI, something unexpected.\nIt's not a good practice to not check the permission required for your piece of UI, but possible. In this circumstances this change may imply a security concern because the plugin shows something sensitive or allows to modify the state without submitting the form with the global save button.\nWDYT? \ud83e\udd14", "author": "MRamonLeon", "createdAt": "2020-02-27T10:31:35Z", "path": "core/src/main/java/jenkins/tools/GlobalToolConfiguration.java", "diffHunk": "@@ -70,7 +70,7 @@ public String getUrlName() {\n \n     @Override\n     public Permission getRequiredPermission() {\n-        return Jenkins.ADMINISTER;\n+        return Jenkins.SYSTEM_READ;", "originalCommit": "0fe5db21a53ec3f6e4732088e003d2abbb1f700e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA2MzIwMQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4519#discussion_r385063201", "bodyText": "What part of your feedback is new to this PR, rather than inherent to the entire SystemRead JEP / the initial PR? Seems like that's basically the entire idea \u2013 you see the configuration, but cannot change it.", "author": "daniel-beck", "createdAt": "2020-02-27T11:15:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA0MDQwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA2MzM5NQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4519#discussion_r385063395", "bodyText": "How is this any different to the global configure page?", "author": "timja", "createdAt": "2020-02-27T11:16:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA0MDQwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTIyMjk2Mg==", "url": "https://github.com/jenkinsci/jenkins/pull/4519#discussion_r385222962", "bodyText": "It's the same situation. Just wondering whether it's worth disabling all fields in the page, without having to change the plugin to check the readOnlyMode. For example via javascript or something similar.", "author": "MRamonLeon", "createdAt": "2020-02-27T16:30:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA0MDQwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTIzNTA3MA==", "url": "https://github.com/jenkinsci/jenkins/pull/4519#discussion_r385235070", "bodyText": "this already does this, the only case where it's not done is in custom jelly taglibs in a plugin or plain html elements.\nThere's a video showing this here:\nhttps://www.youtube.com/watch?v=7nugAEhXOmM&feature=youtu.be\n(there was an issue with the recording so the intro and presentation are missing)\nStart here if you want to see me installing a plugin which didn't have to change anything for its' UI:\nhttps://youtu.be/7nugAEhXOmM?t=738", "author": "timja", "createdAt": "2020-02-27T16:48:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA0MDQwNw=="}], "type": "inlineReview"}]}