{"pr_number": 4658, "pr_title": "[JENKINS-61840] Restyle buttons", "pr_createdAt": "2020-04-15T11:37:59Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4658", "timeline": [{"oid": "d1cd03f48103f5624790b15335eaf6ac04fdb6ad", "url": "https://github.com/jenkinsci/jenkins/commit/d1cd03f48103f5624790b15335eaf6ac04fdb6ad", "message": "Restyles the buttons\n\n- Disables default YahooUI button styles\n- Use YUI classes for backwards compatibility:\n    - <span class=\"yui-button\"><button>Button element</button>\n- Styles are applied by default for the following input types:\n    - <input type=\"[button | reset | submit]\" />\n- Add a large button variant\n    - The variant is set adding the .large-button class\n    - f:apply and f:submit jelly templates now have a isLarge property that allows toggling large buttons on\n    - Job configuration has large buttons", "committedDate": "2020-04-15T09:09:30Z", "type": "commit"}, {"oid": "fea94523c9f31440d651ceecceae97d2556cd2ef", "url": "https://github.com/jenkinsci/jenkins/commit/fea94523c9f31440d651ceecceae97d2556cd2ef", "message": "Adds styles for hyperlinks as buttons", "committedDate": "2020-04-15T09:10:16Z", "type": "commit"}, {"oid": "9ee43ffbf17d0927615df973bbd2ff31fc9c1648", "url": "https://github.com/jenkinsci/jenkins/commit/9ee43ffbf17d0927615df973bbd2ff31fc9c1648", "message": "Adds styles for icons within buttons", "committedDate": "2020-04-15T09:10:16Z", "type": "commit"}, {"oid": "1073054cd825e0c5da68fd6d7354418c8ef0d197", "url": "https://github.com/jenkinsci/jenkins/commit/1073054cd825e0c5da68fd6d7354418c8ef0d197", "message": "Add icon buttons and update button styles", "committedDate": "2020-04-15T09:10:17Z", "type": "commit"}, {"oid": "e66df30681cddf6d6511e89a4a2c8d63833d8d67", "url": "https://github.com/jenkinsci/jenkins/commit/e66df30681cddf6d6511e89a4a2c8d63833d8d67", "message": "Fix: removed button nested within an anchor link\n\n- Now that the anchor tags with a .yui-button class are styled like buttons, it is unnecessary to add a button within.", "committedDate": "2020-04-15T09:10:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc4MzMyMw==", "url": "https://github.com/jenkinsci/jenkins/pull/4658#discussion_r408783323", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <s:attribute name=\"isLarge\">\n          \n          \n            \n                <s:attribute name=\"large\">", "author": "timja", "createdAt": "2020-04-15T11:51:40Z", "path": "core/src/main/resources/lib/form/apply.jelly", "diffHunk": "@@ -35,8 +35,15 @@ THE SOFTWARE.\n     <s:attribute name=\"value\">\n       The text of the apply button.\n     </s:attribute>\n+\n+    <s:attribute name=\"isLarge\">", "originalCommit": "e66df30681cddf6d6511e89a4a2c8d63833d8d67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc4MzM5NA==", "url": "https://github.com/jenkinsci/jenkins/pull/4658#discussion_r408783394", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     class=\"apply-button applyButton ${attrs.isLarge ? 'large-button' : ''}\"\n          \n          \n            \n                     class=\"apply-button applyButton ${attrs.large ? 'large-button' : ''}\"", "author": "timja", "createdAt": "2020-04-15T11:51:48Z", "path": "core/src/main/resources/lib/form/apply.jelly", "diffHunk": "@@ -35,8 +35,15 @@ THE SOFTWARE.\n     <s:attribute name=\"value\">\n       The text of the apply button.\n     </s:attribute>\n+\n+    <s:attribute name=\"isLarge\">\n+        Set to \"true\" to enable the large variant of the button\n+    </s:attribute>\n   </s:documentation>\n   <st:adjunct includes=\"lib.form.apply.apply\"/>\n   <input type=\"hidden\" name=\"core:apply\" value=\"\" />\n-  <input type=\"button\" value=\"${attrs.value ?: '%Apply'}\" class=\"apply-button applyButton\" name=\"Apply\"/><!-- applyButton is legacy -->\n+  <input type=\"button\"\n+         value=\"${attrs.value ?: '%Apply'}\"\n+         class=\"apply-button applyButton ${attrs.isLarge ? 'large-button' : ''}\"", "originalCommit": "e66df30681cddf6d6511e89a4a2c8d63833d8d67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc4MzQ3Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/4658#discussion_r408783473", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            <f:submit value=\"${%Save}\" isLarge=\"true\"/>\n          \n          \n            \n                            <f:submit value=\"${%Save}\" large=\"true\"/>", "author": "timja", "createdAt": "2020-04-15T11:51:56Z", "path": "core/src/main/resources/hudson/model/Job/configure.jelly", "diffHunk": "@@ -65,8 +65,8 @@ THE SOFTWARE.\n             <j:if test=\"${h.hasPermission(it,it.CONFIGURE)}\">\n               <f:bottomButtonBar>\n                 <!--<input type=\"button\" name=\"StructureTest\" value=\"Test\" onclick=\"buildFormTree(this.form)\" />-->\n-                <f:submit value=\"${%Save}\"/>\n-                <f:apply value=\"${%Apply}\"/>\n+                <f:submit value=\"${%Save}\" isLarge=\"true\"/>", "originalCommit": "e66df30681cddf6d6511e89a4a2c8d63833d8d67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc4MzUyNw==", "url": "https://github.com/jenkinsci/jenkins/pull/4658#discussion_r408783527", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            <f:apply value=\"${%Apply}\" isLarge=\"true\" />\n          \n          \n            \n                            <f:apply value=\"${%Apply}\" large=\"true\" />", "author": "timja", "createdAt": "2020-04-15T11:52:02Z", "path": "core/src/main/resources/hudson/model/Job/configure.jelly", "diffHunk": "@@ -65,8 +65,8 @@ THE SOFTWARE.\n             <j:if test=\"${h.hasPermission(it,it.CONFIGURE)}\">\n               <f:bottomButtonBar>\n                 <!--<input type=\"button\" name=\"StructureTest\" value=\"Test\" onclick=\"buildFormTree(this.form)\" />-->\n-                <f:submit value=\"${%Save}\"/>\n-                <f:apply value=\"${%Apply}\"/>\n+                <f:submit value=\"${%Save}\" isLarge=\"true\"/>\n+                <f:apply value=\"${%Apply}\" isLarge=\"true\" />", "originalCommit": "e66df30681cddf6d6511e89a4a2c8d63833d8d67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc4MzYwNg==", "url": "https://github.com/jenkinsci/jenkins/pull/4658#discussion_r408783606", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <s:attribute name=\"isLarge\">\n          \n          \n            \n                <s:attribute name=\"large\">", "author": "timja", "createdAt": "2020-04-15T11:52:12Z", "path": "core/src/main/resources/lib/form/submit.jelly", "diffHunk": "@@ -36,6 +36,14 @@ THE SOFTWARE.\n     <s:attribute name=\"value\" use=\"required\">\n       The text of the submit button. Something like \"submit\", \"OK\", etc.\n     </s:attribute>\n+\n+    <s:attribute name=\"isLarge\">", "originalCommit": "e66df30681cddf6d6511e89a4a2c8d63833d8d67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc4MzY2NQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4658#discussion_r408783665", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     class=\"submit-button primary ${attrs.isLarge ? 'large-button' : ''}\" />\n          \n          \n            \n                     class=\"submit-button primary ${attrs.large ? 'large-button' : ''}\" />", "author": "timja", "createdAt": "2020-04-15T11:52:18Z", "path": "core/src/main/resources/lib/form/submit.jelly", "diffHunk": "@@ -36,6 +36,14 @@ THE SOFTWARE.\n     <s:attribute name=\"value\" use=\"required\">\n       The text of the submit button. Something like \"submit\", \"OK\", etc.\n     </s:attribute>\n+\n+    <s:attribute name=\"isLarge\">\n+      Set to \"true\" to enable the large variant of the button\n+    </s:attribute>\n   </s:documentation>\n-  <input type=\"submit\" name=\"${attrs.name ?: 'Submit'}\" value=\"${attrs.value ?: '%Submit'}\" class=\"submit-button primary\" />\n+\n+  <input type=\"submit\"\n+         name=\"${attrs.name ?: 'Submit'}\"\n+         value=\"${attrs.value ?: '%Submit'}\"\n+         class=\"submit-button primary ${attrs.isLarge ? 'large-button' : ''}\" />", "originalCommit": "e66df30681cddf6d6511e89a4a2c8d63833d8d67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f2d0506802ad0adc4f0844677d868852c56f29e3", "url": "https://github.com/jenkinsci/jenkins/commit/f2d0506802ad0adc4f0844677d868852c56f29e3", "message": "Rename jelly attribute isLarge to large\n\nCo-Authored-By: Tim Jacomb <t.jacomb@kainos.com>", "committedDate": "2020-04-15T11:58:36Z", "type": "commit"}, {"oid": "eac78f772fde22f0d8445571d2b85c41087df8d4", "url": "https://github.com/jenkinsci/jenkins/commit/eac78f772fde22f0d8445571d2b85c41087df8d4", "message": "Fix alignment of the notepad icon on the advanced.jelly", "committedDate": "2020-04-15T13:58:21Z", "type": "commit"}, {"oid": "8fdd7de2e13c994fd5a460babdf4a38df8d559ce", "url": "https://github.com/jenkinsci/jenkins/commit/8fdd7de2e13c994fd5a460babdf4a38df8d559ce", "message": "Fix broken test due to changes on check.jelly\n\n- e66df30681cddf6d6511e89a4a2c8d63833d8d67 broke this test when removing the button nested within the anchor", "committedDate": "2020-04-16T09:58:15Z", "type": "commit"}, {"oid": "49a9a325822ee91ec4f4c8af60ba656bc27042a9", "url": "https://github.com/jenkinsci/jenkins/commit/49a9a325822ee91ec4f4c8af60ba656bc27042a9", "message": "Use normal button styles on the New Item page", "committedDate": "2020-04-16T10:24:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQ2NzY3Mg==", "url": "https://github.com/jenkinsci/jenkins/pull/4658#discussion_r412467672", "bodyText": "This probably caused https://issues.jenkins-ci.org/browse/JENKINS-62001 given that it contains -ac- (autocomplete) styles.", "author": "daniel-beck", "createdAt": "2020-04-21T20:26:30Z", "path": "core/src/main/resources/lib/layout/layout.jelly", "diffHunk": "@@ -153,9 +153,7 @@ THE SOFTWARE.\n     </j:if>\n \n     <link rel=\"stylesheet\" href=\"${resURL}/scripts/yui/container/assets/container.css\" type=\"text/css\"/>\n-    <link rel=\"stylesheet\" href=\"${resURL}/scripts/yui/assets/skins/sam/skin.css\" type=\"text/css\" />", "originalCommit": "49a9a325822ee91ec4f4c8af60ba656bc27042a9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}