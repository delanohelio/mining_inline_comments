{"pr_number": 4752, "pr_title": "Add CSS variables - prerequisite for Dark mode ", "pr_createdAt": "2020-05-27T09:34:24Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4752", "timeline": [{"oid": "7606a1025e1fa8b4c459aa8e4a9cf8ebd68d9c11", "url": "https://github.com/jenkinsci/jenkins/commit/7606a1025e1fa8b4c459aa8e4a9cf8ebd68d9c11", "message": "JENKINS-60924 Add PostCSS pre-processor", "committedDate": "2020-05-27T09:32:42Z", "type": "commit"}, {"oid": "611f6ad476ffee607c24927801af130dc85d4eac", "url": "https://github.com/jenkinsci/jenkins/commit/611f6ad476ffee607c24927801af130dc85d4eac", "message": "Add alpha support for CSS variables", "committedDate": "2020-05-27T09:32:57Z", "type": "commit"}, {"oid": "a7934a7c6d7f70a09f1707b502ba4d877554c0a4", "url": "https://github.com/jenkinsci/jenkins/commit/a7934a7c6d7f70a09f1707b502ba4d877554c0a4", "message": "Yui theming and side panel fixes", "committedDate": "2020-05-27T13:21:03Z", "type": "commit"}, {"oid": "a9b9310937dfa13d57061229552bc62ee5131926", "url": "https://github.com/jenkinsci/jenkins/commit/a9b9310937dfa13d57061229552bc62ee5131926", "message": "More overrides", "committedDate": "2020-05-27T14:34:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyODI1MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431228251", "bodyText": "anyone able to check if this works on IE 11?\n\nI suspect that it needs a manual fallback, looks like the postcss processor isn't adding the fallback for it", "author": "timja", "createdAt": "2020-05-27T15:24:50Z", "path": "core/src/main/resources/lib/layout/breadcrumbs.css", "diffHunk": "@@ -109,7 +109,7 @@\n \n #menuSelector {/* used for showing 'v' on the right of the anchor */\n     background-color:transparent;\n-    background-image: url(menu_down_arrow.png);\n+    background-image: var(--menu-selector-down-background-image);", "originalCommit": "a9b9310937dfa13d57061229552bc62ee5131926", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI1NDU4Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431254583", "bodyText": "Seems to work on i.e but the entire dark theme doesn't\nHere is a side by side with ie11 on the left and edge on the right", "author": "res0nance", "createdAt": "2020-05-27T15:57:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyODI1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI1OTk0MA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431259940", "bodyText": "Seems to work on i.e but the entire dark theme doesn't\n\nIt's not expected to work on IE 11 at all for the theme\n\nHere is a side by side with ie11 on the left and edge on the right\n\nThat's not working, at least for fonts, the preprocessor isn't picking them up \ud83d\ude22,\nTwo options I guess,\n\nthis work doesn't really require the fonts to be changeable at runtime, so it could go back to less variables\ntry out the other postcss plugin and see if that handles fonts, this one only seems to handle colours\n\ncc @fqueiruga", "author": "timja", "createdAt": "2020-05-27T16:03:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyODI1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI3MjE5MA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431272190", "bodyText": "Some more observations I made:\n\nThe administrative monitor (The bell thing in the top right) still shows white background on the dark theme\nCLI page has black text with dark theme.", "author": "res0nance", "createdAt": "2020-05-27T16:19:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyODI1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4OTIzNw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431289237", "bodyText": "Thanks I\u2019d forgotten about the admin monitor issue, and I hadn\u2019t checked the CLI page", "author": "timja", "createdAt": "2020-05-27T16:44:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyODI1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMyMjQ3OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431322479", "bodyText": "BTW I would not bother converting the arrow to a CSS variables. It should be either an icon or a CSS triangle, not an image anyway.", "author": "fqueiruga", "createdAt": "2020-05-27T17:36:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyODI1MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTkwMTY1NA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431901654", "bodyText": "https://issues.jenkins-ci.org/browse/JENKINS-62496", "author": "timja", "createdAt": "2020-05-28T14:54:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTIyODI1MQ=="}], "type": "inlineReview"}, {"oid": "7b04563246d38ff6b5b5086166acb4b42518407b", "url": "https://github.com/jenkinsci/jenkins/commit/7b04563246d38ff6b5b5086166acb4b42518407b", "message": "Revert \"More overrides\"\n\nThis reverts commit a9b9310937dfa13d57061229552bc62ee5131926.", "committedDate": "2020-05-27T15:39:38Z", "type": "commit"}, {"oid": "94b931106bc3e0c558ab3cce28a013f504e67162", "url": "https://github.com/jenkinsci/jenkins/commit/94b931106bc3e0c558ab3cce28a013f504e67162", "message": "Add manage styles", "committedDate": "2020-05-27T15:39:56Z", "type": "commit"}, {"oid": "cb37c396631fb95556afd6ec549f2e70624892d2", "url": "https://github.com/jenkinsci/jenkins/commit/cb37c396631fb95556afd6ec549f2e70624892d2", "message": "Tweak buttons", "committedDate": "2020-05-27T15:58:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4OTc2Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431289763", "bodyText": "Maybe the fact that the variables are declared here and not in :root is causing the fallback issues. Just some brainstorming.", "author": "fqueiruga", "createdAt": "2020-05-27T16:45:17Z", "path": "war/src/main/less/abstracts/font.less", "diffHunk": "@@ -1,9 +1,12 @@\n-@font-family-sans: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Noto Sans\", Oxygen, Ubuntu, Cantarell, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n-\n-@font-size-base: 1rem; // 16px\n-@font-size-sm: 0.875rem; // 14px\n-@font-size-xs: 0.75rem; // 12px\n-@font-size-monospace: 0.95em;\n-\n-@line-height-base: 1.5;\n-@line-height-heading: 1.2;\n+body {\n+  // Font related properties\n+  --font-family-sans: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Noto Sans\", Oxygen, Ubuntu, Cantarell, \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI5MDYzMg==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431290632", "bodyText": "Yes you\u2019re right", "author": "timja", "createdAt": "2020-05-27T16:46:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4OTc2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxOTI0Mg==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431319242", "bodyText": "Maybe we should just go ahead and create a big & comprehensive variables.less file and be done with it :D", "author": "fqueiruga", "createdAt": "2020-05-27T17:31:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTI4OTc2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxMzk1Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431313953", "bodyText": "For CSS adjuncts the fallback must be done by hand. For example, this case would be\nborder: 1px solid #ccc;\nborder: 1px solid var(--input-border, #ccc);\n\nThis is one of the reasons of why I wanted to kill adjuncts.", "author": "fqueiruga", "createdAt": "2020-05-27T17:22:56Z", "path": "core/src/main/resources/lib/form/password/password.css", "diffHunk": "@@ -27,9 +27,9 @@\n }\n \n .hidden-password-legend {\n-    border: 1px solid #ccc;\n+    border: 1px solid var(--input-border);", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxNDQwOQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431314409", "bodyText": "This is an adjunct, fallback should be done by hand.", "author": "fqueiruga", "createdAt": "2020-05-27T17:23:39Z", "path": "core/src/main/resources/lib/layout/breadcrumbs.css", "diffHunk": "@@ -19,7 +19,7 @@\n     font-size: 1rem;\n     line-height: 1.5;\n     padding: 0 1.25rem;\n-    background-color: #F8F8F8;\n+    background-color: var(--breadcrumbs-bg);", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxNTk3Nw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431315977", "bodyText": "I don't know if we should just override the :root variable here", "author": "fqueiruga", "createdAt": "2020-05-27T17:26:11Z", "path": "war/src/main/less/ui-refresh-overrides.less", "diffHunk": "@@ -3,7 +3,7 @@\n \n .ui-refresh {\n     .page-header {\n-        background-color: @header-bg-v2;\n+        background-color: var(--header-bg-v2);", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwNjg3Ng==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431406876", "bodyText": "hmm? not quite sure what you mean", "author": "timja", "createdAt": "2020-05-27T19:56:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxNTk3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxNjQ1Mg==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431316452", "bodyText": "Is this variable declared anywhere?\nI wouldn't apply the styles to the setup wizard. Right know they are on their own and can behave weirdly if the variables are mixed.", "author": "fqueiruga", "createdAt": "2020-05-27T17:27:01Z", "path": "war/src/main/less/pluginSetupWizard.less", "diffHunk": "@@ -428,7 +428,7 @@\n \t\t\t\t\t\tcontent: '';\n \t\t\t\t\t\tleft: 2px;\n \t\t\t\t\t\ttop: 3px;\n-\t\t\t\t\t\tbackground: @badge-color;\n+\t\t\t\t\t\tbackground: var(--badge-color);", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxNzIyMg==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431317222", "bodyText": "I'm thinking that maybe we should just treat these links and the ones in the footer as a dark link variant. They all behave the same, and I don't think we should be hyper specific here.", "author": "fqueiruga", "createdAt": "2020-05-27T17:28:16Z", "path": "war/src/main/less/modules/side-panel-tasks.less", "diffHunk": "@@ -44,12 +44,12 @@\n }\n .task-link:link,\n .task-link:visited {\n-  color: @text-color;\n+  color: var(--text-color);\n   text-decoration: none;\n \n   &:hover,\n   &:focus {\n-    background-color: #F8F8F8;\n+    background-color: var(--task-link-background-color--hover);", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzNjg4OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431436889", "bodyText": "they are used for different parts of the interface though, one is used for background colour and this is used for hover, bit wary of overloading variables, internally they are re-using the same colour variable, but they are different parts of the interface...", "author": "timja", "createdAt": "2020-05-27T20:56:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxNzIyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY2NjIyMw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431666223", "bodyText": "I didn't see this was about bg color nevermind. My comments were about color and font-weight basically.", "author": "fqueiruga", "createdAt": "2020-05-28T08:26:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxNzIyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxOTkyMQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431319921", "bodyText": "Does this apply to all panes? For example, in a future PR I was going to change it just for side-panel widgets, dunno if this would affect it.", "author": "fqueiruga", "createdAt": "2020-05-27T17:32:33Z", "path": "war/src/main/less/abstracts/colors.less", "diffHunk": "@@ -1,84 +1,150 @@\n-@white: #fff;\n-@black: #333;\n-\n-@primary: #0587d4;\n-@secondary: #4D545D;\n-@success: #138347;\n-@danger: #CC0003;\n-@warning: #EA6B19;\n-@focus: #3FB3F7;\n-\n-// State colors\n-@primary-hover: #0B6AA2;\n-@primary-active: #095683;\n-@danger-hover: #EB383B;\n-@danger-active: #B50003;\n-\n-// Page header colors\n-@logo-bg: @white;\n-@brand-link-color: @secondary;\n-@header-link-color: @white;\n-@header-link-color-active: #f5f5f5;\n-@header-link-outline: @focus;\n-@search-input-color: @brand-link-color;\n-@search-background: @white;\n-@search-box-completion-bg: @primary;\n-@search-box-shadow: 0 1px 7px 0 rgba(0,0,0,0.3);\n-\n-// Header classic colors\n-@header-bg-classic: #000;\n-@header-link-bg-classic-hover: lighten(@header-bg-classic, 25%);\n-@header-link-bg-classic-active: lighten(@header-bg-classic, 20%);\n-\n-// Header new UI colors\n-@header-bg-v2: @primary;\n-@brand-link-color-hover-v2: @primary-hover;\n-@brand-link-color-active-v2: @primary-active;\n-@header-link-bg-hover-v2: @primary-hover;\n-@header-link-bg-active-v2: @primary-active;\n-\n-// Header dimensions\n-@header-item-border-radius: 4px;\n-\n-// Breadcrumbs and footer\n-@breadcrumbs-bg: #f8f8f8;\n-@breadcrumbs-border: #EAEFF2;\n-\n-// Monitor / bell-alert new colors\n-@monitor-bg-v2: #f8d7da;\n-@monitor-color-v2: #721c24;\n-\n-// Alert banners\n-@alert-default-icon-color: #2196f3;\n-@alert-default-bg-color: #d1ecf1;\n-@alert-default-border-color: #bee5eb;\n-@alert-default-color: #0C5464;\n-\n-@alert-success-icon-color: #4caf50;\n-@alert-success-bg-color: #d4edda;\n-@alert-success-border-color: #c3e6cb;\n-@alert-success-color: @success;\n-\n-@alert-warn-icon-color: #ff9800;\n-@alert-warn-bg-color: #fff3cd;\n-@alert-warn-border-color: #ffeeba;\n-@alert-warn-color: #856404;\n-\n-@alert-err-icon-color: #f44336;\n-@alert-err-bg-color: #f8d7da;\n-@alert-err-border-color: #f5c6cb;\n-@alert-err-color: #721c24;\n-\n-// Typography\n-@text-color: @black;\n-@text-color-primary: @primary;\n-@text-color-primary-accent: @primary-active;\n-@text-color-grey-light: #747C82;\n-@text-inactive: @text-color-grey-light;\n-\n-// Buttons\n-@btn-primary-bg: @primary-hover;\n-@btn-primary-bg-hover: @primary;\n-@btn-primary-bg-active: @primary-active;\n-@btn-secondary-color: @secondary;\n-@btn-secondary-border: #9BA7AF;\n+:root {\n+  --white: #fff;\n+  --black: #333;\n+\n+  // branding\n+  --primary: #0587d4;\n+  --secondary: #4d545d;\n+  --success: #138347;\n+  --danger: #cc0003;\n+  --warning: #ea6b19;\n+  --focus: #3fb3f7;\n+\n+  // State colors\n+  --primary-hover: #0b6aa2;\n+  --primary-active: #095683;\n+  --danger-hover: #eb383b;\n+  --danger-active: #b50003;\n+\n+  // Background colors\n+  --background: var(--white);\n+\n+  // Page header colors\n+  --logo-bg: var(--white);\n+  --brand-link-color: var(--secondary);\n+  --header-link-color: var(--white);\n+  --header-link-color-active: #f5f5f5;\n+  --header-link-outline: var(--focus);\n+  --header-search-border: var(--white);\n+  --search-input-color: var(--brand-link-color);\n+  --search-background: var(--white);\n+  --search-box-completion-bg: var(--primary);\n+  --search-box-shadow: 0 1px 7px 0 rgba(0, 0, 0, 0.3);\n+\n+  // Header classic colors\n+  --header-bg-classic: #000;\n+  --header-link-bg-classic-hover: #404040;\n+  --header-link-bg-classic-active: #404040;\n+\n+  // Header new UI colors\n+  --header-bg-v2: var(--primary);\n+  --brand-link-color-hover-v2: var(--primary-hover);\n+  --brand-link-color-active-v2: var(--primary-active);\n+  --header-link-bg-hover-v2: var(--primary-hover);\n+  --header-link-bg-active-v2: var(--primary-active);\n+\n+  // Header dimensions\n+  --header-item-border-radius: 4px;\n+\n+  // Breadcrumbs and footer\n+  --breadcrumbs-bg: #f8f8f8;\n+  --breadcrumbs-border: #eaeff2;\n+  --breadcrumbs-text-color: #4d545d;\n+\n+  // Monitor / bell-alert new colors\n+  --monitor-bg-v2: #f8d7da;\n+  --monitor-color-v2: #721c24;\n+\n+  // Alert banners\n+  // Default\n+  --alert-default-icon-color: #2196f3;\n+  --alert-default-bg-color: #d1ecf1;\n+  --alert-default-border-color: #bee5eb;\n+  --alert-default-color: #0c5464;\n+\n+  // Success\n+  --alert-success-icon-color: #4caf50;\n+  --alert-success-bg-color: #d4edda;\n+  --alert-success-border-color: #c3e6cb;\n+  --alert-success-color: var(--success);\n+\n+  // Warning\n+  --alert-warn-icon-color: #ff9800;\n+  --alert-warn-bg-color: #fff3cd;\n+  --alert-warn-border-color: #ffeeba;\n+  --alert-warn-color: #856404;\n+\n+  // Error\n+  --alert-err-icon-color: #f44336;\n+  --alert-err-bg-color: #f8d7da;\n+  --alert-err-border-color: #f5c6cb;\n+  --alert-err-color: #721c24;\n+\n+  // Typography\n+  --text-color: var(--black);\n+  --text-color-primary: var(--primary);\n+  --text-color-primary-accent: var(--primary-active);\n+  --text-color-grey-light: #747c82;\n+  --text-inactive: var(--text-color-grey-light);\n+\n+  // Buttons\n+  --btn-primary-bg: var(--primary-hover);\n+  --btn-primary-bg-hover: var(--primary);\n+  --btn-primary-bg-active: var(--primary-active);\n+  --btn-secondary-color: var(--secondary);\n+  --btn-secondary-bg: var(--btn-text-color);\n+  --btn-secondary-border: #9ba7af;\n+  --btn-text-color: var(--white);\n+\n+  // Table\n+  --even-row-color: #fbfbfb;\n+  --bigtable-header-color: #f0f0f0;\n+  --project-status-border-bottom-color: #ddd;\n+  --table-parameters-background-color--hover: #f0f0f0;\n+  --table-stripped-background-color--hover: #e8e8e8;\n+\n+  // Link\n+  --link-color: #204a87;\n+  --link-visited-color: #5c3566;\n+\n+  // Pane\n+  --pane-header-color: #eee;", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwMjkzOQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431402939", "bodyText": "it's applied to .pane-header, .pane-footer", "author": "timja", "createdAt": "2020-05-27T19:48:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMxOTkyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMyMDgxNA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431320814", "bodyText": "Does the plugin order matter? I'm thinking if there can be a scenario where the CSS variables fallback are applied for a main CSS rule but not for the vendor prefixes.", "author": "fqueiruga", "createdAt": "2020-05-27T17:34:07Z", "path": "war/postcss.config.js", "diffHunk": "@@ -0,0 +1,7 @@\n+module.exports = {\n+  parser: \"postcss-less\",\n+  plugins: [\n+    require('autoprefixer'),\n+    require('postcss-custom-properties')", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwMjI4OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431402289", "bodyText": "isn't the postcss-custom-properties applied second so it'll be applied on top of the prefixed?", "author": "timja", "createdAt": "2020-05-27T19:47:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMyMDgxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg4MTkwNA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431881904", "bodyText": "No idea, that's why I was asking.", "author": "fqueiruga", "createdAt": "2020-05-28T14:32:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMyMDgxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg5ODkwNQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431898905", "bodyText": "I think this is okay", "author": "timja", "createdAt": "2020-05-28T14:51:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMyMDgxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMyMTg5OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431321899", "bodyText": "Why did you need to create this? Does this fix something?", "author": "fqueiruga", "createdAt": "2020-05-27T17:36:01Z", "path": "war/src/main/less/base/style.less", "diffHunk": "@@ -1461,7 +1455,32 @@ DIV.yahooTree td {\n \n #jenkins .yuimenu .bd {\n     border: 1px solid #ccc;\n-    box-shadow: 0px 3px 10px #bbb;\n+    box-shadow: var(--menu-box-shadow);\n+}\n+\n+#jenkins.yui-skin-sam {", "originalCommit": "cb37c396631fb95556afd6ec549f2e70624892d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM4ODA0Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431388043", "bodyText": "it allows overriding the yui-skin in themes, I've matched the css below to what the yui skin provides and extended it with variables", "author": "timja", "createdAt": "2020-05-27T19:20:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMyMTg5OQ=="}], "type": "inlineReview"}, {"oid": "f824f3a31df13f8fc407dbac5174d7dd71b2a74c", "url": "https://github.com/jenkinsci/jenkins/commit/f824f3a31df13f8fc407dbac5174d7dd71b2a74c", "message": "Fix IE 11", "committedDate": "2020-05-27T19:24:27Z", "type": "commit"}, {"oid": "670b90776b8373576ac51482c2080cba2dba4e1c", "url": "https://github.com/jenkinsci/jenkins/commit/670b90776b8373576ac51482c2080cba2dba4e1c", "message": "Review comments", "committedDate": "2020-05-27T20:53:59Z", "type": "commit"}, {"oid": "78928fa81a4871758a969a646929f68acf003929", "url": "https://github.com/jenkinsci/jenkins/commit/78928fa81a4871758a969a646929f68acf003929", "message": "Standardize dark link variables", "committedDate": "2020-05-28T14:53:26Z", "type": "commit"}, {"oid": "19f931dc1a777bc781121b16995ad80e307ae5a1", "url": "https://github.com/jenkinsci/jenkins/commit/19f931dc1a777bc781121b16995ad80e307ae5a1", "message": "Rename variables to BEM-like status", "committedDate": "2020-05-28T15:04:35Z", "type": "commit"}, {"oid": "48610d5e98756c5744e33729bf5aa7a7ae803b2a", "url": "https://github.com/jenkinsci/jenkins/commit/48610d5e98756c5744e33729bf5aa7a7ae803b2a", "message": "Renames background variables to bg", "committedDate": "2020-05-28T15:07:03Z", "type": "commit"}, {"oid": "330b6f355b1f0445f036427f75c82c73fb0961b4", "url": "https://github.com/jenkinsci/jenkins/commit/330b6f355b1f0445f036427f75c82c73fb0961b4", "message": "Merge remote-tracking branch 'fqueiruga/rename-background-variables' into dark-mode", "committedDate": "2020-05-28T15:10:30Z", "type": "commit"}, {"oid": "d0fbb44e2f6fc85723f4fc9d1d101f79e56d3af8", "url": "https://github.com/jenkinsci/jenkins/commit/d0fbb44e2f6fc85723f4fc9d1d101f79e56d3af8", "message": "Rename last bg variable", "committedDate": "2020-05-28T15:20:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTk0NjM1OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r431946359", "bodyText": "These rules were not having effect\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              --panel-border-color: var(#eaeff2);\n          \n          \n            \n              --panel-border-color--hover: var(#cecece);\n          \n          \n            \n              --panel-border-color: #eaeff2;\n          \n          \n            \n              --panel-border-color--hover: #cecece;", "author": "fqueiruga", "createdAt": "2020-05-28T15:56:43Z", "path": "war/src/main/less/abstracts/colors.less", "diffHunk": "@@ -1,84 +1,151 @@\n-@white: #fff;\n-@black: #333;\n-\n-@primary: #0587d4;\n-@secondary: #4D545D;\n-@success: #138347;\n-@danger: #CC0003;\n-@warning: #EA6B19;\n-@focus: #3FB3F7;\n-\n-// State colors\n-@primary-hover: #0B6AA2;\n-@primary-active: #095683;\n-@danger-hover: #EB383B;\n-@danger-active: #B50003;\n-\n-// Page header colors\n-@logo-bg: @white;\n-@brand-link-color: @secondary;\n-@header-link-color: @white;\n-@header-link-color-active: #f5f5f5;\n-@header-link-outline: @focus;\n-@search-input-color: @brand-link-color;\n-@search-background: @white;\n-@search-box-completion-bg: @primary;\n-@search-box-shadow: 0 1px 7px 0 rgba(0,0,0,0.3);\n-\n-// Header classic colors\n-@header-bg-classic: #000;\n-@header-link-bg-classic-hover: lighten(@header-bg-classic, 25%);\n-@header-link-bg-classic-active: lighten(@header-bg-classic, 20%);\n-\n-// Header new UI colors\n-@header-bg-v2: @primary;\n-@brand-link-color-hover-v2: @primary-hover;\n-@brand-link-color-active-v2: @primary-active;\n-@header-link-bg-hover-v2: @primary-hover;\n-@header-link-bg-active-v2: @primary-active;\n-\n-// Header dimensions\n-@header-item-border-radius: 4px;\n-\n-// Breadcrumbs and footer\n-@breadcrumbs-bg: #f8f8f8;\n-@breadcrumbs-border: #EAEFF2;\n-\n-// Monitor / bell-alert new colors\n-@monitor-bg-v2: #f8d7da;\n-@monitor-color-v2: #721c24;\n-\n-// Alert banners\n-@alert-default-icon-color: #2196f3;\n-@alert-default-bg-color: #d1ecf1;\n-@alert-default-border-color: #bee5eb;\n-@alert-default-color: #0C5464;\n-\n-@alert-success-icon-color: #4caf50;\n-@alert-success-bg-color: #d4edda;\n-@alert-success-border-color: #c3e6cb;\n-@alert-success-color: @success;\n-\n-@alert-warn-icon-color: #ff9800;\n-@alert-warn-bg-color: #fff3cd;\n-@alert-warn-border-color: #ffeeba;\n-@alert-warn-color: #856404;\n-\n-@alert-err-icon-color: #f44336;\n-@alert-err-bg-color: #f8d7da;\n-@alert-err-border-color: #f5c6cb;\n-@alert-err-color: #721c24;\n-\n-// Typography\n-@text-color: @black;\n-@text-color-primary: @primary;\n-@text-color-primary-accent: @primary-active;\n-@text-color-grey-light: #747C82;\n-@text-inactive: @text-color-grey-light;\n-\n-// Buttons\n-@btn-primary-bg: @primary-hover;\n-@btn-primary-bg-hover: @primary;\n-@btn-primary-bg-active: @primary-active;\n-@btn-secondary-color: @secondary;\n-@btn-secondary-border: #9BA7AF;\n+:root {\n+  --white: #fff;\n+  --black: #333;\n+\n+  // branding\n+  --primary: #0587d4;\n+  --secondary: #4d545d;\n+  --success: #138347;\n+  --danger: #cc0003;\n+  --warning: #ea6b19;\n+  --focus: #3fb3f7;\n+\n+  // State colors\n+  --primary-hover: #0b6aa2;\n+  --primary-active: #095683;\n+  --danger-hover: #eb383b;\n+  --danger-active: #b50003;\n+\n+  // Background colors\n+  --background: var(--white);\n+\n+  // Page header colors\n+  --logo-bg: var(--white);\n+  --brand-link-color: var(--secondary);\n+  --header-link-color: var(--white);\n+  --header-link-color-active: #f5f5f5;\n+  --header-link-outline: var(--focus);\n+  --header-search-border: var(--white);\n+  --search-input-color: var(--brand-link-color);\n+  --search-bg: var(--white);\n+  --search-box-completion-bg: var(--primary);\n+  --search-box-shadow: 0 1px 7px 0 rgba(0, 0, 0, 0.3);\n+\n+  // Header classic colors\n+  --header-bg-classic: #000;\n+  --header-link-bg-classic-hover: #404040;\n+  --header-link-bg-classic-active: #404040;\n+\n+  // Header new UI colors\n+  --header-bg-v2: var(--primary);\n+  --brand-link-color-hover-v2: var(--primary-hover);\n+  --brand-link-color-active-v2: var(--primary-active);\n+  --header-link-bg-hover-v2: var(--primary-hover);\n+  --header-link-bg-active-v2: var(--primary-active);\n+\n+  // Header dimensions\n+  --header-item-border-radius: 4px;\n+\n+  // Breadcrumbs and footer\n+  --breadcrumbs-bg: #f8f8f8;\n+  --breadcrumbs-border: #eaeff2;\n+  --breadcrumbs-text-color: #4d545d;\n+\n+  // Monitor / bell-alert new colors\n+  --monitor-bg-v2: #f8d7da;\n+  --monitor-color-v2: #721c24;\n+\n+  // Alert banners\n+  // Default\n+  --alert-default-icon-color: #2196f3;\n+  --alert-default-bg-color: #d1ecf1;\n+  --alert-default-border-color: #bee5eb;\n+  --alert-default-color: #0c5464;\n+\n+  // Success\n+  --alert-success-icon-color: #4caf50;\n+  --alert-success-bg-color: #d4edda;\n+  --alert-success-border-color: #c3e6cb;\n+  --alert-success-color: var(--success);\n+\n+  // Warning\n+  --alert-warn-icon-color: #ff9800;\n+  --alert-warn-bg-color: #fff3cd;\n+  --alert-warn-border-color: #ffeeba;\n+  --alert-warn-color: #856404;\n+\n+  // Error\n+  --alert-err-icon-color: #f44336;\n+  --alert-err-bg-color: #f8d7da;\n+  --alert-err-border-color: #f5c6cb;\n+  --alert-err-color: #721c24;\n+\n+  // Typography\n+  --text-color: var(--black);\n+  --text-color-grey-light: #747c82;\n+  --text-inactive: var(--text-color-grey-light);\n+\n+  // Buttons\n+  --btn-primary-bg: var(--primary-hover);\n+  --btn-primary-bg-hover: var(--primary);\n+  --btn-primary-bg-active: var(--primary-active);\n+  --btn-secondary-color: var(--secondary);\n+  --btn-secondary-bg: var(--btn-text-color);\n+  --btn-secondary-border: #9ba7af;\n+  --btn-text-color: var(--white);\n+\n+  // Table\n+  --even-row-color: #fbfbfb;\n+  --bigtable-header-color: #f0f0f0;\n+  --project-status-border-bottom-color: #ddd;\n+  --table-parameters-bg-color--hover: #f0f0f0;\n+  --table-stripped-bg-color--hover: #e8e8e8;\n+\n+  // Link\n+  --link-color: #204a87;\n+  --link-visited-color: #5c3566;\n+  --link-dark-color: var(--black);\n+  --link-dark-color--hover: var(--primary);\n+  --link-dark-color--active: var(--primary-active);\n+\n+  // Pane\n+  --pane-header-color: #eee;\n+  --pane-header-border-color: #f3f3f3;\n+  --pane-border-color: #f0f0f0;\n+  --pane-text-color: #3b3b3b;\n+  --pane-link-color: black;\n+  --pane-link-color--visited: black;\n+\n+  // TabBar\n+  --tab-bar-border-color: #f0f0f0;\n+  --tab-bar-text-color: #999;\n+  --tab-bar-bg--checked: #eee;\n+  --tab-bar-border-color--checked: #f0f0f0;\n+  --tab-bar-text-color--checked: #000;\n+  --tab-bar-bg-color--hover: #eee;\n+  --tab-bar-add-text-color: #0460d1;\n+  --tab-bar-add-bg-color--hover: #d8efff;\n+  --tab-bar-add-border-color: #d8efff;\n+\n+  // Side panel\n+  --panel-border-color: var(#eaeff2);\n+  --panel-border-color--hover: var(#cecece);", "originalCommit": "330b6f355b1f0445f036427f75c82c73fb0961b4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "86c0bd01de87bfde4d7f25f4ffff60a9cc09dda5", "url": "https://github.com/jenkinsci/jenkins/commit/86c0bd01de87bfde4d7f25f4ffff60a9cc09dda5", "message": "Update war/src/main/less/abstracts/colors.less\n\nCo-authored-by: F\u00e9lix Queiruga <felix.queiruga@gmail.com>", "committedDate": "2020-05-28T16:20:33Z", "type": "commit"}, {"oid": "daf9cd3e4a26ec89e8603c4ef0130446f42afbf1", "url": "https://github.com/jenkinsci/jenkins/commit/daf9cd3e4a26ec89e8603c4ef0130446f42afbf1", "message": "Mostly complete add job screen", "committedDate": "2020-05-28T20:48:40Z", "type": "commit"}, {"oid": "4b5b72d48def94d81533d20e7b4503ae339ef8dc", "url": "https://github.com/jenkinsci/jenkins/commit/4b5b72d48def94d81533d20e7b4503ae339ef8dc", "message": "Merge branch 'dark-mode' of github.com:timja/jenkins into dark-mode", "committedDate": "2020-05-29T07:24:21Z", "type": "commit"}, {"oid": "999c71f4a6cc41928bbdd672c80a7385a91d7563", "url": "https://github.com/jenkinsci/jenkins/commit/999c71f4a6cc41928bbdd672c80a7385a91d7563", "message": "Fix configure job, help, preview text", "committedDate": "2020-05-29T07:24:28Z", "type": "commit"}, {"oid": "d5398ee4fbb0db4ef3d94ddb7a0dd45270c69cbf", "url": "https://github.com/jenkinsci/jenkins/commit/d5398ee4fbb0db4ef3d94ddb7a0dd45270c69cbf", "message": "Merge pull request #6 from fqueiruga/rename-bg-variable", "committedDate": "2020-05-29T09:46:45Z", "type": "commit"}, {"oid": "23fdc52410b93780bc0f4874a992f2f34326524f", "url": "https://github.com/jenkinsci/jenkins/commit/23fdc52410b93780bc0f4874a992f2f34326524f", "message": "Merge branch 'master' into dark-mode", "committedDate": "2020-05-29T09:55:12Z", "type": "commit"}, {"oid": "461805fc84925345849de2a09f54b5d31a421d31", "url": "https://github.com/jenkinsci/jenkins/commit/461805fc84925345849de2a09f54b5d31a421d31", "message": "Merge branch 'dark-mode' of github.com:timja/jenkins into dark-mode", "committedDate": "2020-05-29T09:55:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMwNzc0NQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r432307745", "bodyText": "I think this should be renamed to --border-radius", "author": "fqueiruga", "createdAt": "2020-05-29T07:37:14Z", "path": "war/src/main/js/widgets/config/tabbar.less", "diffHunk": "@@ -37,20 +37,20 @@\n   .showTabs,\n   .noTabs {\n     position: absolute;\n-    border-radius: @radius;\n+    border-radius: var(--radius);", "originalCommit": "999c71f4a6cc41928bbdd672c80a7385a91d7563", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "37d2e15992c00526b288e73d1c3a35b7977ea51c", "url": "https://github.com/jenkinsci/jenkins/commit/37d2e15992c00526b288e73d1c3a35b7977ea51c", "message": "Fix typo", "committedDate": "2020-05-29T09:59:44Z", "type": "commit"}, {"oid": "fb31dd1fe7e5ffbca0c7263fb2b6087402a0fe46", "url": "https://github.com/jenkinsci/jenkins/commit/fb31dd1fe7e5ffbca0c7263fb2b6087402a0fe46", "message": "Rename to border-radius", "committedDate": "2020-05-29T10:01:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQwOTk4Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r432409983", "bodyText": "This variable doesn't exist, I think you meant:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                color: var(--breadcrumbs-color--visited);\n          \n          \n            \n                color: var(--breadcrumbs-text-color);", "author": "EstherAF", "createdAt": "2020-05-29T10:59:08Z", "path": "core/src/main/resources/lib/layout/breadcrumbs.css", "diffHunk": "@@ -66,6 +67,7 @@\n     display: inline-block;\n     display: inline-flex;\n     color: #4d545d;\n+    color: var(--breadcrumbs-color--visited);", "originalCommit": "fb31dd1fe7e5ffbca0c7263fb2b6087402a0fe46", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQyMTk3Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r432421973", "bodyText": "thanks, checked and you're right!", "author": "timja", "createdAt": "2020-05-29T11:27:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQwOTk4Mw=="}], "type": "inlineReview"}, {"oid": "6627e855c653f4c5eea73b65bb27278ce7da1081", "url": "https://github.com/jenkinsci/jenkins/commit/6627e855c653f4c5eea73b65bb27278ce7da1081", "message": "Update core/src/main/resources/lib/layout/breadcrumbs.css\n\nCo-authored-by: Esther \u00c1lvarez Feijoo <5547479+EstherAF@users.noreply.github.com>", "committedDate": "2020-05-29T11:27:16Z", "type": "commit"}, {"oid": "f9df9612b1cecca138d794659f4265f89a4f6989", "url": "https://github.com/jenkinsci/jenkins/commit/f9df9612b1cecca138d794659f4265f89a4f6989", "message": "Plugin manager fixes", "committedDate": "2020-05-29T12:56:00Z", "type": "commit"}, {"oid": "07abb84496a95816d05a971bd38aafdecb353bc5", "url": "https://github.com/jenkinsci/jenkins/commit/07abb84496a95816d05a971bd38aafdecb353bc5", "message": "Typo fix", "committedDate": "2020-05-29T13:10:19Z", "type": "commit"}, {"oid": "2faf971df12bc6678d3ee2670ff960fa8edc3422", "url": "https://github.com/jenkinsci/jenkins/commit/2faf971df12bc6678d3ee2670ff960fa8edc3422", "message": "Fix secretTextarea", "committedDate": "2020-05-29T13:24:24Z", "type": "commit"}, {"oid": "c12b42c95a019dbc0074c7ad8f0181a116eb0a6e", "url": "https://github.com/jenkinsci/jenkins/commit/c12b42c95a019dbc0074c7ad8f0181a116eb0a6e", "message": "Fix admin monitor pop out", "committedDate": "2020-05-29T13:30:04Z", "type": "commit"}, {"oid": "49e501f37db848e69de31607a43df79bab4e77b0", "url": "https://github.com/jenkinsci/jenkins/commit/49e501f37db848e69de31607a43df79bab4e77b0", "message": "Fix autocomplete on addJob", "committedDate": "2020-05-29T14:11:16Z", "type": "commit"}, {"oid": "cbfc0421085e145b35af93c56d3e313d65099065", "url": "https://github.com/jenkinsci/jenkins/commit/cbfc0421085e145b35af93c56d3e313d65099065", "message": "Fix CLI dark mode", "committedDate": "2020-05-29T14:23:40Z", "type": "commit"}, {"oid": "fbdd4d72bf5a1a0837af035891da344a98232e3f", "url": "https://github.com/jenkinsci/jenkins/commit/fbdd4d72bf5a1a0837af035891da344a98232e3f", "message": "Plugin manager categories themeable", "committedDate": "2020-05-29T14:51:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgwNzc2MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r432807761", "bodyText": "so reading up on what this does. Doesn't custom-properties plugin remove all the variables and replace them with the actual values?", "author": "halkeye", "createdAt": "2020-05-30T04:03:34Z", "path": "war/postcss.config.js", "diffHunk": "@@ -1,6 +1,7 @@\n module.exports = {\n   parser: \"postcss-less\",\n   plugins: [\n-    require('autoprefixer')\n+    require('autoprefixer'),\n+    require('postcss-custom-properties')", "originalCommit": "fbdd4d72bf5a1a0837af035891da344a98232e3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgxNDcyMQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r432814721", "bodyText": "No it doesn\u2019t remove them it adds the fallbacks above the variables for browsers that don\u2019t support them (IE)\nThe theme wouldn\u2019t work at all if it did it in the way you described", "author": "timja", "createdAt": "2020-05-30T06:07:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgwNzc2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgwNzc3OA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r432807778", "bodyText": "shouldn't this fallback be kept?", "author": "halkeye", "createdAt": "2020-05-30T04:03:52Z", "path": "war/src/main/js/widgets/add/addform.less", "diffHunk": "@@ -4,9 +4,9 @@\n \n   form > .header {\n     position: relative;\n-    border: 1px solid #cccccc;", "originalCommit": "fbdd4d72bf5a1a0837af035891da344a98232e3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgxNDc1MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r432814751", "bodyText": "Post css handles that", "author": "timja", "createdAt": "2020-05-30T06:08:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgwNzc3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ5Nzc3MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r467497771", "bodyText": "Defined but never used, also naming inconsistent with other variables.", "author": "daniel-beck", "createdAt": "2020-08-08T19:44:01Z", "path": "war/src/main/less/abstracts/colors.less", "diffHunk": "@@ -1,84 +1,181 @@\n-@white: #fff;\n-@black: #333;\n-\n-@primary: #0587d4;\n-@secondary: #4D545D;\n-@success: #138347;\n-@danger: #CC0003;\n-@warning: #EA6B19;\n-@focus: #3FB3F7;\n-\n-// State colors\n-@primary-hover: #0B6AA2;\n-@primary-active: #095683;\n-@danger-hover: #EB383B;\n-@danger-active: #B50003;\n-\n-// Page header colors\n-@logo-bg: @white;\n-@brand-link-color: @secondary;\n-@header-link-color: @white;\n-@header-link-color-active: #f5f5f5;\n-@header-link-outline: @focus;\n-@search-input-color: @brand-link-color;\n-@search-background: @white;\n-@search-box-completion-bg: @primary;\n-@search-box-shadow: 0 1px 7px 0 rgba(0,0,0,0.3);\n-\n-// Header classic colors\n-@header-bg-classic: #000;\n-@header-link-bg-classic-hover: lighten(@header-bg-classic, 25%);\n-@header-link-bg-classic-active: lighten(@header-bg-classic, 20%);\n-\n-// Header new UI colors\n-@header-bg-v2: @primary;\n-@brand-link-color-hover-v2: @primary-hover;\n-@brand-link-color-active-v2: @primary-active;\n-@header-link-bg-hover-v2: @primary-hover;\n-@header-link-bg-active-v2: @primary-active;\n-\n-// Header dimensions\n-@header-item-border-radius: 4px;\n-\n-// Breadcrumbs and footer\n-@breadcrumbs-bg: #f8f8f8;\n-@breadcrumbs-border: #EAEFF2;\n-\n-// Monitor / bell-alert new colors\n-@monitor-bg-v2: #f8d7da;\n-@monitor-color-v2: #721c24;\n-\n-// Alert banners\n-@alert-default-icon-color: #2196f3;\n-@alert-default-bg-color: #d1ecf1;\n-@alert-default-border-color: #bee5eb;\n-@alert-default-color: #0C5464;\n-\n-@alert-success-icon-color: #4caf50;\n-@alert-success-bg-color: #d4edda;\n-@alert-success-border-color: #c3e6cb;\n-@alert-success-color: @success;\n-\n-@alert-warn-icon-color: #ff9800;\n-@alert-warn-bg-color: #fff3cd;\n-@alert-warn-border-color: #ffeeba;\n-@alert-warn-color: #856404;\n-\n-@alert-err-icon-color: #f44336;\n-@alert-err-bg-color: #f8d7da;\n-@alert-err-border-color: #f5c6cb;\n-@alert-err-color: #721c24;\n-\n-// Typography\n-@text-color: @black;\n-@text-color-primary: @primary;\n-@text-color-primary-accent: @primary-active;\n-@text-color-grey-light: #747C82;\n-@text-inactive: @text-color-grey-light;\n-\n-// Buttons\n-@btn-primary-bg: @primary-hover;\n-@btn-primary-bg-hover: @primary;\n-@btn-primary-bg-active: @primary-active;\n-@btn-secondary-color: @secondary;\n-@btn-secondary-border: #9BA7AF;\n+:root {\n+  --white: #fff;\n+  --very-light-grey: #f0f0f0;\n+  --black: #333;\n+\n+  // branding\n+  --primary: #0587d4;\n+  --secondary: #4d545d;\n+  --success: #138347;\n+  --danger: #cc0003;\n+  --warning: #ea6b19;\n+  --focus: #3fb3f7;\n+\n+  // State colors\n+  --primary-hover: #0b6aa2;\n+  --primary-active: #095683;\n+  --danger-hover: #eb383b;\n+  --danger-active: #b50003;\n+\n+  // Background colors\n+  --background: var(--white);\n+  \n+  // Borders\n+  --line-green: #acb;\n+  --medium-translucent: #bfffffff;\n+\n+  // Page header colors\n+  --logo-bg: var(--white);\n+  --brand-link-color: var(--secondary);\n+  --header-link-color: var(--white);\n+  --header-link-color-active: #f5f5f5;\n+  --header-link-outline: var(--focus);\n+  --header-search-border: var(--white);\n+  --search-input-color: var(--brand-link-color);\n+  --search-bg: var(--white);\n+  --search-box-completion-bg: var(--primary);\n+  --search-box-shadow: 0 1px 7px 0 rgba(0, 0, 0, 0.3);\n+\n+  // Header classic colors\n+  --header-bg-classic: #000;\n+  --header-link-bg-classic-hover: #404040;\n+  --header-link-bg-classic-active: #404040;\n+\n+  // Header new UI colors\n+  --header-bg-v2: var(--primary);\n+  --brand-link-color-hover-v2: var(--primary-hover);\n+  --brand-link-color-active-v2: var(--primary-active);\n+  --header-link-bg-hover-v2: var(--primary-hover);\n+  --header-link-bg-active-v2: var(--primary-active);\n+\n+  // Header dimensions\n+  --header-item-border-radius: 4px;\n+\n+  // Breadcrumbs and footer\n+  --breadcrumbs-bg: #f8f8f8;\n+  --breadcrumbs-border: #eaeff2;\n+  --breadcrumbs-text-color: #4d545d;\n+\n+  // Monitor / bell-alert new colors\n+  --monitor-bg-v2: #f8d7da;\n+  --monitor-color-v2: #721c24;\n+\n+  // Alert banners\n+  // Default\n+  --alert-default-icon-color: #2196f3;\n+  --alert-default-bg-color: #d1ecf1;\n+  --alert-default-border-color: #bee5eb;\n+  --alert-default-color: #0c5464;\n+\n+  // Success\n+  --alert-success-icon-color: #4caf50;\n+  --alert-success-bg-color: #d4edda;\n+  --alert-success-border-color: #c3e6cb;\n+  --alert-success-color: var(--success);\n+\n+  // Warning\n+  --alert-warn-icon-color: #ff9800;\n+  --alert-warn-bg-color: #fff3cd;\n+  --alert-warn-border-color: #ffeeba;\n+  --alert-warn-color: #856404;\n+\n+  // Error\n+  --alert-err-icon-color: #f44336;\n+  --alert-err-bg-color: #f8d7da;\n+  --alert-err-border-color: #f5c6cb;\n+  --alert-err-color: #721c24;\n+\n+  // Typography\n+  --text-color: var(--black);\n+  --text-color-grey-light: #747c82;\n+  --text-inactive: var(--text-color-grey-light);\n+\n+  // Buttons\n+  --btn-primary-bg: var(--primary-hover);\n+  --btn-primary-bg-hover: var(--primary);\n+  --btn-primary-bg-active: var(--primary-active);\n+  --btn-secondary-color: var(--secondary);\n+  --btn-secondary-bg: var(--btn-text-color);\n+  --btn-secondary-border: #9ba7af;\n+  --btn-text-color: var(--white);\n+\n+  // Help area\n+  --help-area-bg-color: var(--very-light-grey);\n+  --configure-job-help-area-bg-color: var(--medium-translucent);\n+\n+  // Table\n+  --even-row-color: #fbfbfb;\n+  --bigtable-header-color: var(--very-light-grey);\n+  --project-status-border-bottom-color: #ddd;\n+  --table-parameters-bg-color--hover: var(--very-light-grey);\n+  --table-stripped-bg-color--hover: #e8e8e8;\n+\n+  // Link\n+  --link-color: #204a87;\n+  --link-visited-color: #5c3566;\n+  --link-dark-color: var(--black);\n+  --link-dark-color--hover: var(--primary);\n+  --link-dark-color--active: var(--primary-active);\n+\n+  // Pane\n+  --pane-header-color: #eee;\n+  --pane-header-border-color: #f3f3f3;\n+  --pane-border-color: var(--very-light-grey);\n+  --pane-text-color: #3b3b3b;\n+  --pane-link-color: black;\n+  --pane-link-color--visited: black;\n+\n+  // TabBar\n+  --tab-bar-border-color: var(--very-light-grey);\n+  --tab-bar-text-color: #999;\n+  --tab-bar-bg--checked: #eee;\n+  --tab-bar-border-color--checked: var(--very-light-grey);\n+  --tab-bar-text-color--checked: #000;\n+  --tab-bar-bg-color--hover: #eee;\n+  --tab-bar-add-text-color: #0460d1;\n+  --tab-bar-add-bg-color--hover: #d8efff;\n+  --tab-bar-add-border-color: #d8efff;\n+\n+  // Side panel\n+  --panel-border-color: #eaeff2;\n+  --panel-border-color--hover: #cecece;\n+  --side-panel-hover-color: var(--panel-border-color);", "originalCommit": "fbdd4d72bf5a1a0837af035891da344a98232e3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzE0OTgwNA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r477149804", "bodyText": "Should be removed IMO", "author": "fqueiruga", "createdAt": "2020-08-26T09:05:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzQ5Nzc3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTEwNTU0OA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r471105548", "bodyText": "Is it deliberate that here and further below, we're not using a separate variable for the primary button border? Secondary buttons have a separate variable.", "author": "daniel-beck", "createdAt": "2020-08-16T12:11:46Z", "path": "war/src/main/less/modules/buttons.less", "diffHunk": "@@ -1,77 +1,77 @@\n @import '../abstracts/colors.less';\n @import '../abstracts/font.less';\n \n-// Button variant mixins\n+// Button: variant mixins\n \n .button-danger() {\n-  color: @white;\n-  background-color: @danger;\n-  border-color: @danger;\n+  color: var(--btn-text-color);\n+  background-color: var(--danger);\n+  border-color: var(--danger);\n \n   &:hover,\n   &:focus {\n-    color: @white;\n-    background-color: @danger-hover;\n-    border-color: @danger-hover;\n+    color: var(--btn-text-color);\n+    background-color: var(--danger-hover);\n+    border-color: var(--danger-hover);\n   }\n \n   &:active {\n-    color: @white;\n-    background-color: @danger-active;\n-    border-color: @danger-active;\n+    color: var(--btn-text-color);\n+    background-color: var(--danger-active);\n+    border-color: var(--danger-active);\n   }\n }\n \n .button-primary() {\n-  color: @white;\n-  background-color: @btn-primary-bg;\n-  border-color: @btn-primary-bg;\n+  color: var(--btn-text-color);\n+  background-color: var(--btn-primary-bg);\n+  border-color: var(--btn-primary-bg);", "originalCommit": "fbdd4d72bf5a1a0837af035891da344a98232e3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTEwNzY4Ng==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r471107686", "bodyText": "historical most likely, not intentional as far as I know", "author": "timja", "createdAt": "2020-08-16T12:34:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTEwNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzE0OTkzOA==", "url": "https://github.com/jenkinsci/jenkins/pull/4752#discussion_r477149938", "bodyText": "Button variable API should be expanded IMO", "author": "fqueiruga", "createdAt": "2020-08-26T09:06:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTEwNTU0OA=="}], "type": "inlineReview"}]}