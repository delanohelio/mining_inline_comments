{"pr_number": 4628, "pr_title": "[JENKINS-60866] Un-inline JavaScript/Style in Job views", "pr_createdAt": "2020-04-05T16:20:53Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/4628", "timeline": [{"oid": "487527cfe7381e62471d37a781640428d1c6e87d", "url": "https://github.com/jenkinsci/jenkins/commit/487527cfe7381e62471d37a781640428d1c6e87d", "message": "[JENKINS-60866] Un-inline JavaScript/Style in Job views", "committedDate": "2020-04-05T16:15:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcyNzUwNw==", "url": "https://github.com/jenkinsci/jenkins/pull/4628#discussion_r403727507", "bodyText": "FTR $$ => $ inside Jelly :)", "author": "Wadeck", "createdAt": "2020-04-05T16:47:53Z", "path": "core/src/main/resources/hudson/model/Job/buildTimeTrend.jelly", "diffHunk": "@@ -25,49 +25,27 @@ THE SOFTWARE.\n \n <!-- Displays the chart that show how long builds are taking -->\n <?jelly escape-by-default='true'?>\n-<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:d=\"jelly:define\" xmlns:l=\"/lib/layout\" xmlns:t=\"/lib/hudson\" xmlns:f=\"/lib/form\" xmlns:i=\"jelly:fmt\">\n+<j:jelly xmlns:j=\"jelly:core\" xmlns:st=\"jelly:stapler\" xmlns:l=\"/lib/layout\">\n   <l:layout title=\"${%title(it.displayName)}\">\n-\t\t<st:include page=\"sidepanel.jelly\" />\n-\t\t<l:main-panel>\n+    <st:include page=\"sidepanel.jelly\" />\n+    <st:adjunct includes=\"hudson.model.Job.buildTimeTrend_resources\" />\n+    <l:main-panel>\n       <h1>${%Timeline}</h1>\n       <st:include page=\"control.jelly\" it=\"${it.timeline}\" />\n-      <div style=\"height:2em\"/><!-- spacer -->\n+      <div class=\"spacer\" />\n \n       <h1>${%Build Time Trend}</h1>\n           <div align=\"center\">\n-            <img src=\"buildTimeGraph/png\" width=\"500\" height=\"400\" lazymap=\"buildTimeGraph/map\" alt=\"[${%Build time graph}]\" style=\"float:right\"/>\n+            <img class=\"build-time-graph\" src=\"buildTimeGraph/png\" width=\"500\" height=\"400\" lazymap=\"buildTimeGraph/map\" alt=\"[${%Build time graph}]\" />\n           </div>\n \n           <j:set var=\"isMasterSlaveEnabled\" value=\"${!empty(app.slaves)}\"/>\n           <div align=\"center\">\n-            <script>\n-                function displayBuilds(data) {\n-                    var p = $$('trend');", "originalCommit": "487527cfe7381e62471d37a781640428d1c6e87d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDE3OTg1NQ==", "url": "https://github.com/jenkinsci/jenkins/pull/4628#discussion_r404179855", "bodyText": "Oh wow, nice of you to remove that one", "author": "fqueiruga", "createdAt": "2020-04-06T15:25:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcyNzUwNw=="}], "type": "inlineReview"}]}