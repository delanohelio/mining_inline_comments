{"pr_number": 3185, "pr_title": "RHPAM-2728 Not possible to migrate process containing multiple instance sub-process", "pr_createdAt": "2020-02-26T14:44:38Z", "pr_url": "https://github.com/kiegroup/kie-wb-common/pull/3185", "timeline": [{"oid": "2bc891aa525b5e708d8689dfd6b1d5b047e43244", "url": "https://github.com/kiegroup/kie-wb-common/commit/2bc891aa525b5e708d8689dfd6b1d5b047e43244", "message": "RHPAM-2728 - Stunner - Not possible to migrate process containing multiple instance sub-process", "committedDate": "2020-02-26T14:34:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDgwMDM0Mg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3185#discussion_r384800342", "bodyText": "Hey @hasys\nIs it possible to reuse this method accross both backend and server side marshallers, in some way? Maybe moving into some helper class on the API?", "author": "romartin", "createdAt": "2020-02-26T22:15:16Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-backend/src/main/java/org/kie/workbench/common/stunner/bpmn/backend/converters/tostunner/properties/MultipleInstanceActivityPropertyReader.java", "diffHunk": "@@ -84,7 +85,15 @@ public String getDataOutput() {\n \n     private static String createOutputVariable(DataOutput output) {\n         String name = (output.getName() != null) ? output.getName() : output.getId();\n-        return name + \":\" + output.getItemSubjectRef().getStructureRef();\n+        return name + \":\" + getVariableType(output);\n+    }\n+\n+    private static String getVariableType(ItemAwareElement variable) {", "originalCommit": "2bc891aa525b5e708d8689dfd6b1d5b047e43244", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg0MDgyOQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3185#discussion_r384840829", "bodyText": "Hi @romartin, most of the logic in this method is depends on Eclipse BPMN2 library, if we will move it to API than API will depend on Eclipse BPMN2 library which is not desirable. So, I guess there is nothing to share between marshallers this time :(\nBut will keep in mind this possibility in the future in case of any bigger independent parts. Thanks!", "author": "hasys", "createdAt": "2020-02-27T00:03:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDgwMDM0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg0NjAzOQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3185#discussion_r384846039", "bodyText": "absolutely agree, good point, thanx for the feedback @hasys !", "author": "romartin", "createdAt": "2020-02-27T00:20:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDgwMDM0Mg=="}], "type": "inlineReview"}]}