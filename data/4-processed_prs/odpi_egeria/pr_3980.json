{"pr_number": 3980, "pr_title": "REST API parameters validation;", "pr_createdAt": "2020-10-27T21:33:23Z", "pr_url": "https://github.com/odpi/egeria/pull/3980", "timeline": [{"oid": "3e4729848291dc05f277bec77e7357c3f8add28d", "url": "https://github.com/odpi/egeria/commit/3e4729848291dc05f277bec77e7357c3f8add28d", "message": "REST API parameters validation;\nadd function description in swagger;\nchange dataSource to database in api\n\n\nSigned-off-by: Yevgeniy Marchenko <yevgeniy.marchenko@ca.ibm.com>", "committedDate": "2020-10-27T21:29:50Z", "type": "commit"}, {"oid": "b133a51b049b6f15f81e35a7e126c554d35d2443", "url": "https://github.com/odpi/egeria/commit/b133a51b049b6f15f81e35a7e126c554d35d2443", "message": "Merge branch 'master' into _yevgenmar_RestApiValidation", "committedDate": "2020-10-27T21:33:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMwNDQxNw==", "url": "https://github.com/odpi/egeria/pull/3980#discussion_r513304417", "bodyText": "I notice that in getDatabases it has\n\"\ngetDatabases(Integer startFrom, Integer pageSize)\nthrows AnalyticsModelingCheckedException {\n\tsetContext(\"getDatabases\");\n\n\tInstanceProperties instanceProperties = omEntityDao.buildMatchingInstanceProperties(Collections.emptyMap(), true);\n\tList<EntityDetail> entities = omEntityDao.findEntities(instanceProperties, Constants.DATABASE, 0, 0);\n\n\"\nThis does not look right:\n\nthe supplied startFrom and pagesize is being ignored\nit is hard coding startFrom and pageSize to 0. 0 is a good default for startFrom, but the default pageSize should come from the server config maxPageSize", "author": "davidradl", "createdAt": "2020-10-28T09:43:14Z", "path": "open-metadata-implementation/access-services/analytics-modeling/analytics-modeling-server/src/main/java/org/odpi/openmetadata/accessservices/analyticsmodeling/server/AnalyticsModelingRestServices.java", "diffHunk": "@@ -58,41 +65,48 @@ public AnalyticsModelingOMASAPIResponse getDatabases(String serverName, String u\n \t\tRESTCallToken token = restCallLogger.logRESTCall(serverName, userId, methodName);\n \n \t\ttry {\n+\t\t\tvalidateUrlParameters(serverName, userId, null, null, startFrom, pageSize, methodName);\n+\t\t\t\n \t\t\tDatabasesResponse response = new DatabasesResponse();\n \t\t\tList<ResponseContainerDatabase> databases = getHandler()\n \t\t\t\t\t.getDatabaseContextHandler(serverName, userId, methodName).getDatabases(startFrom, pageSize);", "originalCommit": "b133a51b049b6f15f81e35a7e126c554d35d2443", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk5OTU1Mg==", "url": "https://github.com/odpi/egeria/pull/3980#discussion_r513999552", "bodyText": "This is being refactored using RelationalDataHandler where start index and page size pushed into find function.\nIn the current implementation, the function retrieved all databases without paging, sorted them by names, and returned page of the sorted set. See last two lines.", "author": "yevgenmar", "createdAt": "2020-10-29T05:58:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMwNDQxNw=="}], "type": "inlineReview"}, {"oid": "c95124662f9eea2027ceb81b435ccd5aa631273d", "url": "https://github.com/odpi/egeria/commit/c95124662f9eea2027ceb81b435ccd5aa631273d", "message": "Merge branch 'master' into _yevgenmar_RestApiValidation", "committedDate": "2020-10-29T09:36:20Z", "type": "commit"}, {"oid": "d8c4bcdc867338a92b42815f2d36a4945ea1816b", "url": "https://github.com/odpi/egeria/commit/d8c4bcdc867338a92b42815f2d36a4945ea1816b", "message": "Merge branch 'master' into _yevgenmar_RestApiValidation", "committedDate": "2020-11-02T15:37:03Z", "type": "commit"}]}