{"pr_number": 3863, "pr_title": "JanusGraph connector documentation ", "pr_createdAt": "2020-10-12T07:41:05Z", "pr_url": "https://github.com/odpi/egeria/pull/3863", "timeline": [{"oid": "6f83a0171bb1a865670f589388158eee1929957e", "url": "https://github.com/odpi/egeria/commit/6f83a0171bb1a865670f589388158eee1929957e", "message": "Added documentation on how to configure the connector to access a JanusGraph server\n\nSigned-off-by: marius-patrascu <marius-florin.patrascu@ing.com>", "committedDate": "2020-10-12T07:38:52Z", "type": "commit"}, {"oid": "d6d1755590989afdb2850976c276dc7b70a50157", "url": "https://github.com/odpi/egeria/commit/d6d1755590989afdb2850976c276dc7b70a50157", "message": "Merge branch 'master' into JanusGraph-connector-documentation", "committedDate": "2020-10-12T09:20:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE5MzA2MQ==", "url": "https://github.com/odpi/egeria/pull/3863#discussion_r503193061", "bodyText": "I would suggest to re phase this part because it already suggests client-server mode and this is confusing when we have embedded janus. Suggest to remove \"when connecting to a server\".", "author": "lpalashevski", "createdAt": "2020-10-12T10:19:10Z", "path": "open-metadata-implementation/adapters/open-connectors/governance-daemon-connectors/open-lineage-connectors/open-lineage-janus-connector/README.md", "diffHunk": "@@ -7,6 +7,78 @@\n \n The Open Lineage Janus connector allows the Open Lineages Services to connect with a JanusGraph database.\n \n+The Connector can be configured to connect to either an embedded JanusGraph database or a standalone JanusGraph server.\n+   \n+Configuring the properties of the JanusGraph client when connecting to a server should be done following the [official documentation](https://docs.janusgraph.org/basics/configuration/)", "originalCommit": "6f83a0171bb1a865670f589388158eee1929957e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE5Mzg1Nw==", "url": "https://github.com/odpi/egeria/pull/3863#discussion_r503193857", "bodyText": "I would add reference to Deployment scenarios (https://docs.janusgraph.org/basics/deployment/) for further clarification", "author": "lpalashevski", "createdAt": "2020-10-12T10:20:38Z", "path": "open-metadata-implementation/adapters/open-connectors/governance-daemon-connectors/open-lineage-connectors/open-lineage-janus-connector/README.md", "diffHunk": "@@ -7,6 +7,78 @@\n \n The Open Lineage Janus connector allows the Open Lineages Services to connect with a JanusGraph database.\n \n+The Connector can be configured to connect to either an embedded JanusGraph database or a standalone JanusGraph server.", "originalCommit": "6f83a0171bb1a865670f589388158eee1929957e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE5NDY2MA==", "url": "https://github.com/odpi/egeria/pull/3863#discussion_r503194660", "bodyText": "I would remove \"server\". In embedded mode there is no server it is just graph instance as part of the application.", "author": "lpalashevski", "createdAt": "2020-10-12T10:22:03Z", "path": "open-metadata-implementation/adapters/open-connectors/governance-daemon-connectors/open-lineage-connectors/open-lineage-janus-connector/README.md", "diffHunk": "@@ -7,6 +7,78 @@\n \n The Open Lineage Janus connector allows the Open Lineages Services to connect with a JanusGraph database.\n \n+The Connector can be configured to connect to either an embedded JanusGraph database or a standalone JanusGraph server.\n+   \n+Configuring the properties of the JanusGraph client when connecting to a server should be done following the [official documentation](https://docs.janusgraph.org/basics/configuration/)\n+   \n+--\n+- Embedded JanusGraph server", "originalCommit": "6f83a0171bb1a865670f589388158eee1929957e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE5NTk3NQ==", "url": "https://github.com/odpi/egeria/pull/3863#discussion_r503195975", "bodyText": "Please remove 'storage.berkeleyje.lock-mode' property, it should be not default configuration (at least not at this point) since we are not sure about the behaviour; it was added while testing for locking bug we noticed in the past.", "author": "lpalashevski", "createdAt": "2020-10-12T10:24:28Z", "path": "open-metadata-implementation/adapters/open-connectors/governance-daemon-connectors/open-lineage-connectors/open-lineage-janus-connector/README.md", "diffHunk": "@@ -7,6 +7,78 @@\n \n The Open Lineage Janus connector allows the Open Lineages Services to connect with a JanusGraph database.\n \n+The Connector can be configured to connect to either an embedded JanusGraph database or a standalone JanusGraph server.\n+   \n+Configuring the properties of the JanusGraph client when connecting to a server should be done following the [official documentation](https://docs.janusgraph.org/basics/configuration/)\n+   \n+--\n+- Embedded JanusGraph server\n+In order to configure the connector with an embedded JanusGraph lineageGraphConnection configuration should be configured with the following `connectorProviderClassName`:  \n+\n+```\n+ \"connectorProviderClassName\" : \"org.odpi.openmetadata.openconnectors.governancedaemonconnectors.openlineageconnectors.janusconnector.graph.LineageGraphConnectorProvider\"       \n+```\n+\n+Example: \n+ ```\n+\"lineageGraphConnection\": {\n+    \"class\": \"Connection\",\n+    \"displayName\": \"Lineage Graph Connection\",\n+    \"description\": \"Used for storing lineage in the Open Metadata format\",\n+    \"connectorType\": {\n+        \"class\": \"ConnectorType\",\n+        \"connectorProviderClassName\": \"org.odpi.openmetadata.openconnectors.governancedaemonconnectors.openlineageconnectors.janusconnector.graph.LineageGraphConnectorProvider\"\n+    },\n+   \"configurationProperties\": {\n+        \"gremlin.graph\": \"org.janusgraph.core.JanusGraphFactory\",\n+        \"storage.backend\": \"berkeleyje\",\n+        \"storage.directory\": \"./egeria-lineage-repositories/lineageGraph/berkeley\",\n+        \"storage.berkeleyje.lock-mode\": \"LockMode.READ_UNCOMMITTED\",", "originalCommit": "6f83a0171bb1a865670f589388158eee1929957e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE5OTU3NA==", "url": "https://github.com/odpi/egeria/pull/3863#discussion_r503199574", "bodyText": "Good to mention that the configuration properties in case of remote provider are configuring standard Gremlin driver session. Maybe add: More information on how to configure Gremlin Driver look at configuration section at https://tinkerpop.apache.org/docs/current/reference/#gremlin-java", "author": "lpalashevski", "createdAt": "2020-10-12T10:31:02Z", "path": "open-metadata-implementation/adapters/open-connectors/governance-daemon-connectors/open-lineage-connectors/open-lineage-janus-connector/README.md", "diffHunk": "@@ -7,6 +7,78 @@\n \n The Open Lineage Janus connector allows the Open Lineages Services to connect with a JanusGraph database.\n \n+The Connector can be configured to connect to either an embedded JanusGraph database or a standalone JanusGraph server.\n+   \n+Configuring the properties of the JanusGraph client when connecting to a server should be done following the [official documentation](https://docs.janusgraph.org/basics/configuration/)\n+   \n+--\n+- Embedded JanusGraph server\n+In order to configure the connector with an embedded JanusGraph lineageGraphConnection configuration should be configured with the following `connectorProviderClassName`:  \n+\n+```\n+ \"connectorProviderClassName\" : \"org.odpi.openmetadata.openconnectors.governancedaemonconnectors.openlineageconnectors.janusconnector.graph.LineageGraphConnectorProvider\"       \n+```\n+\n+Example: \n+ ```\n+\"lineageGraphConnection\": {\n+    \"class\": \"Connection\",\n+    \"displayName\": \"Lineage Graph Connection\",\n+    \"description\": \"Used for storing lineage in the Open Metadata format\",\n+    \"connectorType\": {\n+        \"class\": \"ConnectorType\",\n+        \"connectorProviderClassName\": \"org.odpi.openmetadata.openconnectors.governancedaemonconnectors.openlineageconnectors.janusconnector.graph.LineageGraphConnectorProvider\"\n+    },\n+   \"configurationProperties\": {\n+        \"gremlin.graph\": \"org.janusgraph.core.JanusGraphFactory\",\n+        \"storage.backend\": \"berkeleyje\",\n+        \"storage.directory\": \"./egeria-lineage-repositories/lineageGraph/berkeley\",\n+        \"storage.berkeleyje.lock-mode\": \"LockMode.READ_UNCOMMITTED\",\n+        \"index.search.backend\": \"lucene\",\n+        \"index.search.directory\": \"./egeria-lineage-repositories/lineageGraph/searchindex\"\n+    }\n+}\n+```\n+\n+The above example configures the server with an embedded JanusGraph that uses BerkeleyDB as the storing solution and Lucene for the indexing. \n+  \n+ \n+---\n+For the standalone JanusGraph server the following configuration needs to be provided: \n+```\n+ \"connectorProviderClassName\" : \"org.odpi.openmetadata.openconnectors.governancedaemonconnectors.openlineageconnectors.janusconnector.graph.LineageGraphRemoteConnectorProvider\"       ", "originalCommit": "6f83a0171bb1a865670f589388158eee1929957e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f9da82a8114c0202b54f64ea4de20272eebba8a0", "url": "https://github.com/odpi/egeria/commit/f9da82a8114c0202b54f64ea4de20272eebba8a0", "message": "updated documentation according to suggested changes\n\nSigned-off-by: marius-patrascu <marius-florin.patrascu@ing.com>", "committedDate": "2020-10-12T13:33:31Z", "type": "commit"}, {"oid": "f45d4d9a7dc2a86789d97b29d38dcd4984c83eaf", "url": "https://github.com/odpi/egeria/commit/f45d4d9a7dc2a86789d97b29d38dcd4984c83eaf", "message": "Merge branch 'master' into JanusGraph-connector-documentation", "committedDate": "2020-10-12T13:58:22Z", "type": "commit"}]}