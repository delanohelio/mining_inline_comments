{"pr_number": 3316, "pr_title": "[STORM-3681] Enable basic ARM64 CI task", "pr_createdAt": "2020-07-29T01:30:17Z", "pr_url": "https://github.com/apache/storm/pull/3316", "timeline": [{"oid": "2d34091b6d0a8a25b41eeac798755712e0126ada", "url": "https://github.com/apache/storm/commit/2d34091b6d0a8a25b41eeac798755712e0126ada", "message": "[STORM-3681] Enable basic ARM64 CI task\n\nThis change propose to add a basic ARM64 CI job into Travis\nconfiguration. We have tested many times, there still have some problems\nabout Travis ARM support, please see the STORM-3681 JIRA issue description.\nSo we propose to added a basic ARM64 CI task as first step, which only run\nthe \"Client\" module of Storm and is stable according to my testing. We\nwill continue to track the issues of Travis ARM support, once the issues\nsolved, we will try to enable all the Storm modules for ARM CI.", "committedDate": "2020-07-29T01:08:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwMjAwMw==", "url": "https://github.com/apache/storm/pull/3316#discussion_r465102003", "bodyText": "Can you please elaborate why this is needed? Thanks", "author": "Ethanlm", "createdAt": "2020-08-04T14:40:12Z", "path": ".travis.yml", "diffHunk": "@@ -52,6 +54,7 @@ before_install:\n   - export MVN_HOME=$HOME/apache-maven-3.6.3\n   - if [ ! -d $MVN_HOME/bin ]; then wget https://archive.apache.org/dist/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz -P $HOME; tar xzvf $HOME/apache-maven-3.6.3-bin.tar.gz -C $HOME; fi\n   - export PATH=$MVN_HOME/bin:$PATH\n+  - f=$(which javac); while [[ -L $f ]]; do f=$(readlink $f);done; export JAVA_HOME=${f%/bin/*}", "originalCommit": "2d34091b6d0a8a25b41eeac798755712e0126ada", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQxMTIwMQ==", "url": "https://github.com/apache/storm/pull/3316#discussion_r465411201", "bodyText": "Hi Ethanlm,\nThanks for your review.\nThere is  an existed problem of Travis CI \"JAVA_HOME is not exported for arm64 architecture\", see:\nhttps://travis-ci.community/t/java-home-is-not-exported-for-arm64-architecture/6993/3\nin the issue, there is an workaround mentioned, which is this line of code. I have confirmed the problem and verified this workaround.", "author": "liusheng", "createdAt": "2020-08-05T00:59:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwMjAwMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTc2OTQ2OQ==", "url": "https://github.com/apache/storm/pull/3316#discussion_r465769469", "bodyText": "Thanks for the detailed explanation!", "author": "Ethanlm", "createdAt": "2020-08-05T14:29:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwMjAwMw=="}], "type": "inlineReview"}]}