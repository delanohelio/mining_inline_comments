{"pr_number": 3293, "pr_title": "[STORM-3657] set storm.messaging.netty.authentication to topoConf OR daemonConf", "pr_createdAt": "2020-06-24T15:24:45Z", "pr_url": "https://github.com/apache/storm/pull/3293", "timeline": [{"oid": "00dc128447fe0226f3496a10eff9a8bf2b8ca316", "url": "https://github.com/apache/storm/commit/00dc128447fe0226f3496a10eff9a8bf2b8ca316", "message": "[STORM-3657] set storm.messaging.netty.authentication to topoConf OR daemonConf", "committedDate": "2020-06-24T15:00:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTczMjAzNQ==", "url": "https://github.com/apache/storm/pull/3293#discussion_r445732035", "bodyText": "storm.messaging.netty.authentication is guaranteed to be set because it is in defaults.yaml. We don't want to have default value in different places.", "author": "Ethanlm", "createdAt": "2020-06-25T17:46:52Z", "path": "storm-server/src/main/java/org/apache/storm/daemon/nimbus/Nimbus.java", "diffHunk": "@@ -3165,6 +3163,16 @@ public void submitTopologyWithOpts(String topoName, String uploadedJarLocation,\n                 topoConf.remove(Config.TOPOLOGY_CLASSPATH_BEGINNING);\n             }\n \n+            // storm.messaging.netty.authentication is about inter-worker communication\n+            // enforce netty authentication when either topo or daemon set it to true\n+            boolean enforceNettyAuth = (Boolean) topoConf.getOrDefault(Config.STORM_MESSAGING_NETTY_AUTHENTICATION, false)", "originalCommit": "00dc128447fe0226f3496a10eff9a8bf2b8ca316", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTczODE4Ng==", "url": "https://github.com/apache/storm/pull/3293#discussion_r445738186", "bodyText": "I feel https://github.com/apache/storm/blob/master/storm-server/src/main/java/org/apache/storm/daemon/nimbus/Nimbus.java#L1098 is a better place for this.", "author": "Ethanlm", "createdAt": "2020-06-25T17:57:48Z", "path": "storm-server/src/main/java/org/apache/storm/daemon/nimbus/Nimbus.java", "diffHunk": "@@ -3165,6 +3163,16 @@ public void submitTopologyWithOpts(String topoName, String uploadedJarLocation,\n                 topoConf.remove(Config.TOPOLOGY_CLASSPATH_BEGINNING);\n             }\n \n+            // storm.messaging.netty.authentication is about inter-worker communication", "originalCommit": "00dc128447fe0226f3496a10eff9a8bf2b8ca316", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3734b1164313483ae6c61878c42f6610d0f77448", "url": "https://github.com/apache/storm/commit/3734b1164313483ae6c61878c42f6610d0f77448", "message": "address comment", "committedDate": "2020-06-29T06:06:02Z", "type": "commit"}, {"oid": "3734b1164313483ae6c61878c42f6610d0f77448", "url": "https://github.com/apache/storm/commit/3734b1164313483ae6c61878c42f6610d0f77448", "message": "address comment", "committedDate": "2020-06-29T06:06:02Z", "type": "forcePushed"}]}