{"pr_number": 1539, "pr_title": "Update to latest SDK snapshot", "pr_createdAt": "2020-11-02T06:14:12Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1539", "timeline": [{"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "message": "Update to latest SDK snapshot", "committedDate": "2020-11-02T06:14:46Z", "type": "commit"}, {"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "message": "Update to latest SDK snapshot", "committedDate": "2020-11-02T06:14:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc1ODMyMg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1539#discussion_r515758322", "bodyText": "Silly groovy, accessing a private field without restraint :D", "author": "anuraaga", "createdAt": "2020-11-02T06:15:32Z", "path": "instrumentation/log4j/log4j-1.2/src/test/groovy/Log4j1MdcTest.groovy", "diffHunk": "@@ -47,23 +47,23 @@ class Log4j1MdcTest extends AgentTestRunner {\n     when:\n     def span1 = TraceUtils.runUnderTrace(\"test\") {\n       logger.info(\"log message 1\")\n-      TracingContextUtils.currentSpan\n+      Span.current()\n     }\n \n     logger.info(\"log message 2\")\n \n     def span2 = TraceUtils.runUnderTrace(\"test 2\") {\n       logger.info(\"log message 3\")\n-      TracingContextUtils.currentSpan\n+      Span.current()\n     }\n \n     then:\n     def events = ListAppender.events\n \n     events.size() == 3\n     events[0].message == \"log message 1\"\n-    events[0].getMDC(TRACE_ID) == span1.context.traceIdAsHexString\n-    events[0].getMDC(SPAN_ID) == span1.context.spanIdAsHexString\n+    events[0].getMDC(TRACE_ID) == span1.spanContext.traceIdAsHexString", "originalCommit": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}