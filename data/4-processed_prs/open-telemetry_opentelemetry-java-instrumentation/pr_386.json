{"pr_number": 386, "pr_title": "Fix sporadic test failure", "pr_createdAt": "2020-05-06T01:19:40Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/386", "timeline": [{"oid": "62e48b62ea3b1094661db175854fca88313216f0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/62e48b62ea3b1094661db175854fca88313216f0", "message": "Fix sporadic test failure", "committedDate": "2020-05-06T01:18:27Z", "type": "commit"}, {"oid": "96f105f1f4f50f129a138fab3031a0c5966059cc", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/96f105f1f4f50f129a138fab3031a0c5966059cc", "message": "Another attempt", "committedDate": "2020-05-06T03:11:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0MjAxMQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/386#discussion_r420542011", "bodyText": "Honestly, I am not sure about that. I am trying to understand why our builds are so long and this constant forking is one of my top suspects right now.\nI would like to raise the problem of flaky and slow tests on the next SIG meeting.", "author": "iNikem", "createdAt": "2020-05-06T04:43:03Z", "path": "testing/testing.gradle", "diffHunk": "@@ -62,3 +62,5 @@ tasks.register(\"testDisabledFieldInjection\", Test) {\n   include \"context/FieldBackedProviderFieldInjectionDisabledTest.class\"\n }\n test.dependsOn(testDisabledFieldInjection)\n+\n+test.forkEvery = 1", "originalCommit": "96f105f1f4f50f129a138fab3031a0c5966059cc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk4NTA5Mw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/386#discussion_r420985093", "bodyText": "Good point, I just ran this with and without forkEvery = 1, and it's 50% slower with forkEvery = 1 \u2639\ufe0f.\nBut I'm currently finding the flakiness more painful than the duration, so I propose we take this in as a temporary measure.", "author": "trask", "createdAt": "2020-05-06T17:58:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0MjAxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk5MDcyNw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/386#discussion_r420990727", "bodyText": "Let us just hope that cure will not be worse than the sickness. And when we start performance optimisations, the first step that we will do, is to remove this fork settings :)", "author": "iNikem", "createdAt": "2020-05-06T18:08:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU0MjAxMQ=="}], "type": "inlineReview"}, {"oid": "bfd1af15fd2cd07dc48b48ff84115574fda66a6b", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bfd1af15fd2cd07dc48b48ff84115574fda66a6b", "message": "One more fix", "committedDate": "2020-05-06T17:15:30Z", "type": "commit"}, {"oid": "d1f0f6fbe48f805b3bff5aa66fe38079e0b3ddac", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d1f0f6fbe48f805b3bff5aa66fe38079e0b3ddac", "message": "Merge branch 'master' into fix-sporadic-test-failure", "committedDate": "2020-05-06T17:59:27Z", "type": "commit"}, {"oid": "d148cc7e8da124171448d33d7885e9e98b263d54", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d148cc7e8da124171448d33d7885e9e98b263d54", "message": "Merge branch 'master' into fix-sporadic-test-failure", "committedDate": "2020-05-06T20:05:31Z", "type": "commit"}, {"oid": "f0abf9f3455f8c7e80c1921acc62590e1a0d3bc0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f0abf9f3455f8c7e80c1921acc62590e1a0d3bc0", "message": "Merge branch 'master' into fix-sporadic-test-failure", "committedDate": "2020-05-12T03:28:40Z", "type": "commit"}]}