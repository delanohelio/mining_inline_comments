{"pr_number": 601, "pr_title": "Move servlet instrumentations around", "pr_createdAt": "2020-06-28T13:12:52Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/601", "timeline": [{"oid": "a0d3105995ec22c824666cd3c0d115eab1a970f4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/a0d3105995ec22c824666cd3c0d115eab1a970f4", "message": "Rearrange servlet common instrumentations", "committedDate": "2020-06-28T12:28:48Z", "type": "commit"}, {"oid": "d4133e34e3d6fc34eae67080b890ac6c2caa4d9a", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d4133e34e3d6fc34eae67080b890ac6c2caa4d9a", "message": "Rearrange servlet common instrumentations", "committedDate": "2020-06-28T13:10:03Z", "type": "commit"}, {"oid": "f9dccb27b77c589b5a4caabeb85c993f81debcd3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f9dccb27b77c589b5a4caabeb85c993f81debcd3", "message": "Merge remote-tracking branch 'upstream/master' into servlet-common", "committedDate": "2020-07-06T10:13:09Z", "type": "commit"}, {"oid": "4ff7b8010c6d407ec520d30a4fe9e542cd7e73e2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4ff7b8010c6d407ec520d30a4fe9e542cd7e73e2", "message": "Merge remote-tracking branch 'upstream/master' into servlet-common", "committedDate": "2020-07-08T11:32:16Z", "type": "commit"}, {"oid": "d54a726e36c8bbfd41774ae0de8753a94a8cf3f2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d54a726e36c8bbfd41774ae0de8753a94a8cf3f2", "message": "Extract common non-instrumenting logic under `core` package", "committedDate": "2020-07-08T15:40:49Z", "type": "commit"}, {"oid": "d1aa5b1c24044906eb24f7ed7245d463df6e9f9e", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d1aa5b1c24044906eb24f7ed7245d463df6e9f9e", "message": "Polish", "committedDate": "2020-07-08T15:47:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcwNjk1Ng==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/601#discussion_r451706956", "bodyText": "\ud83d\udc4d", "author": "trask", "createdAt": "2020-07-08T17:22:50Z", "path": "instrumentation/servlet/README.md", "diffHunk": "@@ -66,9 +66,23 @@ Span created by Spring MVC instrumentation will have `kind=INTERNAL` and named `\n The state described above has one significant problem.\n Observability backends usually aggregate traces based on their root spans.\n This means that ALL traces from any application deployed to Servlet container will be grouped together.\n-Becaue their root spans will all have the same named based on common entry point.\n+Because their root spans will all have the same named based on common entry point.\n In order to alleviate this problem, instrumentations for specific frameworks, such as Spring MVC here,\n _update_ name of the span corresponding to the entry point.\n Each framework instrumentation can decide what is the best span name based on framework implementation details.\n Of course, still adhering to OpenTelemetry\n [semantic conventions](https://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/semantic_conventions/http.md).\n+\n+## Additional instrumentations", "originalCommit": "d1aa5b1c24044906eb24f7ed7245d463df6e9f9e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcwNzY1OA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/601#discussion_r451707658", "bodyText": "is 2.3 needed, or should we drop module name to servlet-2.2?", "author": "trask", "createdAt": "2020-07-08T17:24:02Z", "path": "instrumentation/servlet/servlet-2.3/servlet-2.3.gradle", "diffHunk": "@@ -23,8 +23,8 @@ testSets {\n }\n \n dependencies {\n-  compileOnly group: 'javax.servlet', name: 'servlet-api', version: '2.2'\n-  implementation(project(':instrumentation:servlet:servlet-common'))\n+  compileOnly group: 'javax.servlet', name: 'servlet-api', version: '2.3'", "originalCommit": "d1aa5b1c24044906eb24f7ed7245d463df6e9f9e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc1OTkxMw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/601#discussion_r451759913", "bodyText": "This modules now seems to be fine with 2.2. 21 years old version... Do you want me to rename the module?", "author": "iNikem", "createdAt": "2020-07-08T18:56:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcwNzY1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc3MjE5MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/601#discussion_r451772191", "bodyText": "Does not matter any more :) \u2705", "author": "iNikem", "createdAt": "2020-07-08T19:19:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcwNzY1OA=="}], "type": "inlineReview"}, {"oid": "902adf9bc8078e469e2d5f6cebc8fa8d78e1f0ff", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/902adf9bc8078e469e2d5f6cebc8fa8d78e1f0ff", "message": "Rename servlet-2.3 to servlet-2.2", "committedDate": "2020-07-08T19:19:26Z", "type": "commit"}]}