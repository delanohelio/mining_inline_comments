{"pr_number": 1398, "pr_title": "Add operation and collection attributes for MongoDB spans", "pr_createdAt": "2020-10-15T23:37:22Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1398", "timeline": [{"oid": "88a06415e510c8a13a500f6d714f7bb7b28e8e65", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/88a06415e510c8a13a500f6d714f7bb7b28e8e65", "message": "Add mongodb attributes for operation and collection", "committedDate": "2020-10-15T22:05:01Z", "type": "commit"}, {"oid": "8836c71a27ccf74d523129d25208cddf9fc7fd08", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/8836c71a27ccf74d523129d25208cddf9fc7fd08", "message": "Switch to using SemanticAttributes.MONGODB_COLLECTION", "committedDate": "2020-10-15T23:09:55Z", "type": "commit"}, {"oid": "3e92fb143e0512a4df2038858fed322ab98c84b9", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/3e92fb143e0512a4df2038858fed322ab98c84b9", "message": "Remove unused imports", "committedDate": "2020-10-15T23:20:16Z", "type": "commit"}, {"oid": "0fc15f094de9a39548be50d274d1208f0e4c4efe", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/0fc15f094de9a39548be50d274d1208f0e4c4efe", "message": "Fix import order", "committedDate": "2020-10-15T23:32:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY1Mzk1Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1398#discussion_r506653952", "bodyText": "if we swap args moving operation and collection before the Closure, then could still use the groovy closure syntax", "author": "trask", "createdAt": "2020-10-16T18:30:55Z", "path": "instrumentation/mongo/mongo-async-3.3/src/test/groovy/MongoAsyncClientTest.groovy", "diffHunk": "@@ -59,11 +59,11 @@ class MongoAsyncClientTest extends MongoBaseTest {\n     then:\n     assertTraces(1) {\n       trace(0, 1) {\n-        mongoSpan(it, 0) {\n+        mongoSpan(it, 0, {\n           assert it.replaceAll(\" \", \"\") == \"{\\\"create\\\":\\\"$collectionName\\\",\\\"capped\\\":\\\"?\\\"}\" ||\n             it == \"{\\\"create\\\": \\\"$collectionName\\\", \\\"capped\\\": \\\"?\\\", \\\"\\$db\\\": \\\"?\\\", \\\"\\$readPreference\\\": {\\\"mode\\\": \\\"?\\\"}}\"\n           true\n-        }\n+        }, \"create\", collectionName)", "originalCommit": "0fc15f094de9a39548be50d274d1208f0e4c4efe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "927d44a715a6300f12d58ead9975653af82252ed", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/927d44a715a6300f12d58ead9975653af82252ed", "message": "Fix formatting", "committedDate": "2020-10-17T00:50:01Z", "type": "commit"}, {"oid": "26fff3b98318127a628b826e91294a1725b72d7e", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/26fff3b98318127a628b826e91294a1725b72d7e", "message": "Update tests to keep more readable closure syntax", "committedDate": "2020-10-17T01:18:29Z", "type": "commit"}, {"oid": "c53885e2be01f20bee6c2af9c94b33472120b97e", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c53885e2be01f20bee6c2af9c94b33472120b97e", "message": "Run spotlessApply", "committedDate": "2020-10-17T02:09:22Z", "type": "commit"}]}