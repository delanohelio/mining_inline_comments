{"pr_number": 1348, "pr_title": "Instrument Netty addTask to ensure complete coverage of async Runnables ", "pr_createdAt": "2020-10-08T19:11:31Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1348", "timeline": [{"oid": "db259e2b1897a9fbf96496d558cae531aba7c35a", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/db259e2b1897a9fbf96496d558cae531aba7c35a", "message": "Instrument Netty addTask to ensure complete coverage of async Runnables\n\nNewer versions of Netty introduce variants like execute(Runnable, boolean) which\naren't covered by the core execute(Runnable) instrumentation.  Fortunately they all\nflow through to addTask(Runnable), which allows us to carry the context through properly.", "committedDate": "2020-10-08T19:03:51Z", "type": "commit"}, {"oid": "cfe214c03b2a3a5fec551cc038cc666f10e92beb", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/cfe214c03b2a3a5fec551cc038cc666f10e92beb", "message": "codeNarc", "committedDate": "2020-10-08T19:09:09Z", "type": "commit"}, {"oid": "2a5131c3ea172dbd9f1d77f9b18c422c4f61c4ff", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/2a5131c3ea172dbd9f1d77f9b18c422c4f61c4ff", "message": "spotless/code format", "committedDate": "2020-10-08T19:20:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4MDg1OQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1348#discussion_r501980859", "bodyText": "Wouldn't it be enough to have later versions in latestDepTest? I think we still want to test with the oldest supported version.", "author": "iNikem", "createdAt": "2020-10-08T20:03:58Z", "path": "instrumentation/netty/netty-4.1/netty-4.1.gradle", "diffHunk": "@@ -27,7 +27,7 @@ muzzle {\n }\n \n dependencies {\n-  library group: 'io.netty', name: 'netty-codec-http', version: '4.1.0.Final'\n+  library group: 'io.netty', name: 'netty-codec-http', version: '4.1.52.Final'", "originalCommit": "2a5131c3ea172dbd9f1d77f9b18c422c4f61c4ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjUxNTExMw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1348#discussion_r502515113", "bodyText": "Yep, thanks for that.  Confirmed that with -PtestLatestDeps=true and the addTask instrumentation commented out the test fails, so reverting the gradle file.", "author": "johnbley", "createdAt": "2020-10-09T15:37:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4MDg1OQ=="}], "type": "inlineReview"}, {"oid": "31c5e41b8360aeb2884e19e704b4c58e96ae5f22", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/31c5e41b8360aeb2884e19e704b4c58e96ae5f22", "message": "Revert Netty version to 4.1.0.Final", "committedDate": "2020-10-09T15:36:30Z", "type": "commit"}]}