{"pr_number": 914, "pr_title": "Add spring web documentation", "pr_createdAt": "2020-08-06T23:10:59Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/914", "timeline": [{"oid": "2f4f13384b80459df5a36aa98fd0be56dd25cd6a", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/2f4f13384b80459df5a36aa98fd0be56dd25cd6a", "message": "instrumentation-core spring-web-3.1 README first draft", "committedDate": "2020-08-06T23:17:05Z", "type": "commit"}, {"oid": "9b27251bac2935f725ad7b0d72d839c4e638f0b0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9b27251bac2935f725ad7b0d72d839c4e638f0b0", "message": "clean up formatting", "committedDate": "2020-08-06T23:17:05Z", "type": "commit"}, {"oid": "f059f1f0e29457d794cd33130b2ebc74db3829e2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f059f1f0e29457d794cd33130b2ebc74db3829e2", "message": "more clean ups", "committedDate": "2020-08-06T23:17:05Z", "type": "commit"}, {"oid": "4c3e0f38270ce56638391fcb59117f7341ffe0d9", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4c3e0f38270ce56638391fcb59117f7341ffe0d9", "message": "fix incorrect reference", "committedDate": "2020-08-06T23:17:05Z", "type": "commit"}, {"oid": "382c29217276698b2cec732a2fafd95cc0ba3ccb", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/382c29217276698b2cec732a2fafd95cc0ba3ccb", "message": "Update README.md", "committedDate": "2020-08-06T23:17:05Z", "type": "commit"}, {"oid": "382c29217276698b2cec732a2fafd95cc0ba3ccb", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/382c29217276698b2cec732a2fafd95cc0ba3ccb", "message": "Update README.md", "committedDate": "2020-08-06T23:17:05Z", "type": "forcePushed"}, {"oid": "dfe98c7216e3d3dcfe04628f86373809dbef54ea", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/dfe98c7216e3d3dcfe04628f86373809dbef54ea", "message": "format", "committedDate": "2020-08-06T23:50:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgyMTM5Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/914#discussion_r466821397", "bodyText": "Since this is part of the user's app maybe we don't need to document it. But if we do, isn't it compile scope?", "author": "anuraaga", "createdAt": "2020-08-07T04:59:35Z", "path": "instrumentation-core/spring/spring-web-3.1/README.md", "diffHunk": "@@ -0,0 +1,86 @@\n+# Manual Instrumentation for Spring-Web\n+\n+Provides OpenTelemetry instrumentation for Spring's RestTemplate.\n+\n+## Quickstart\n+\n+### Add these dependencies to your project.\n+\n+Replace `SPRING_VERSION` with the version of spring you're using.\n+`Minimum version: 3.1`\n+\n+Replace `OPENTELEMETRY_VERSION` with the latest stable [release](https://mvnrepository.com/artifact/io.opentelemetry).\n+`Minimum version: 0.8.0`\n+\n+For Maven add to your `pom.xml`:\n+```xml\n+<dependencies>\n+  <!-- opentelemetry -->\n+  <dependency>\n+    <groupId>io.opentelemetry.instrumentation</groupId>\n+    <artifactId>opentelemetry-spring-web-3.1</artifactId>\n+    <version>OPENTELEMETRY_VERSION</version>\n+  </dependency>\n+\n+   <dependency>\n+    <groupId>io.opentelemetry</groupId>\n+    <artifactId>opentelemetry-sdk</artifactId>\n+    <version>OPENTELEMETRY_VERSION</version>\n+  </dependency>\n+\n+  <!-- spring web -->\n+  <dependency>\n+    <groupId>org.springframework</groupId>\n+    <artifactId>spring-web</artifactId>\n+    <version>SPRING_VERSION</version>", "originalCommit": "dfe98c7216e3d3dcfe04628f86373809dbef54ea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE0NTk3Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/914#discussion_r467145977", "bodyText": "Setting the spring-web dependency to runtime works since the instrument-core:spring:spring-web project already has spring compile only dependencies. But you're right this can be confusing. I'll remove the compile scope.\nI think it's important to document the spring-web dependency in this readme. I don't see a case where a user would add this artifact to their project and not already have spring-web in their build/pom file. However if this dependency is missing this project will throw a ClassDefNotFoundException. I'll add a note to clear this up.", "author": "mabdinur", "createdAt": "2020-08-07T16:31:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgyMTM5Nw=="}], "type": "inlineReview"}, {"oid": "0ba01b1bf4ae5a23f45ceb3c200cc74abe5aca32", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/0ba01b1bf4ae5a23f45ceb3c200cc74abe5aca32", "message": "clean up readme", "committedDate": "2020-08-07T16:49:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI0MTgwMQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/914#discussion_r467241801", "bodyText": "i think to match the change you made for maven\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            runtime 'org.springframework:spring-web:SPRING_VERSION'\n          \n          \n            \n            implementation 'org.springframework:spring-web:SPRING_VERSION'", "author": "trask", "createdAt": "2020-08-07T19:57:34Z", "path": "instrumentation-core/spring/spring-web-3.1/README.md", "diffHunk": "@@ -0,0 +1,89 @@\n+# Manual Instrumentation for Spring-Web\n+\n+Provides OpenTelemetry instrumentation for Spring's RestTemplate.\n+\n+## Quickstart\n+\n+### Add these dependencies to your project.\n+\n+Replace `SPRING_VERSION` with the version of spring you're using.\n+`Minimum version: 3.1`\n+\n+Replace `OPENTELEMETRY_VERSION` with the latest stable [release](https://mvnrepository.com/artifact/io.opentelemetry).\n+`Minimum version: 0.8.0`\n+\n+For Maven add to your `pom.xml`:\n+```xml\n+<dependencies>\n+  <!-- opentelemetry -->\n+  <dependency>\n+    <groupId>io.opentelemetry.instrumentation</groupId>\n+    <artifactId>opentelemetry-spring-web-3.1</artifactId>\n+    <version>OPENTELEMETRY_VERSION</version>\n+  </dependency>\n+\n+   <!-- provides opentelemetry-sdk -->\n+   <dependency>\n+    <groupId>io.opentelemetry</groupId>\n+    <artifactId>opentelemetry-exporters-logging</artifactId>\n+    <version>OPENTELEMETRY_VERSION</version>\n+  </dependency>\n+\n+  <!-- required to instrument spring-web -->\n+  <!-- this artifact should already be present in your application -->\n+  <dependency>\n+    <groupId>org.springframework</groupId>\n+    <artifactId>spring-web</artifactId>\n+    <version>SPRING_VERSION</version>\n+  </dependency>\n+\n+</dependencies>\n+```\n+\n+For Gradle add to your dependencies:\n+```groovy\n+implementation 'io.opentelemetry.instrumentation:opentelemetry-spring-web-3.1:OPENTELEMETRY_VERSION'\n+implementation 'io.opentelemetry:opentelemetry-exporters-logging:OPENTELEMETRY_VERSION'\n+\n+//this artifact should already be present in your application\n+runtime 'org.springframework:spring-web:SPRING_VERSION'", "originalCommit": "0ba01b1bf4ae5a23f45ceb3c200cc74abe5aca32", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b5fa626e06663752ee671464d9b439295ad86888", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b5fa626e06663752ee671464d9b439295ad86888", "message": "Update instrumentation-core/spring/spring-web-3.1/README.md\n\nCo-authored-by: Trask Stalnaker <trask.stalnaker@gmail.com>", "committedDate": "2020-08-07T21:49:05Z", "type": "commit"}]}