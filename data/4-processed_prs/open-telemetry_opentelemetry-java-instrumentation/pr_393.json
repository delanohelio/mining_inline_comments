{"pr_number": 393, "pr_title": "Used BatchSpansProcessor instead of SimpleSpansProcessor", "pr_createdAt": "2020-05-08T06:02:14Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/393", "timeline": [{"oid": "bb2e2993478305e2021dfc4f60e1731690137b2a", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bb2e2993478305e2021dfc4f60e1731690137b2a", "message": "Used BatchSpansProcessor instead of SimpleSpansProcessor\n\nBatchSpansProcessor won't get blocked by the exporter.\n\nFixes #368\n\nSigned-off-by: RashmiRam <rashmi.ramanathan@freshworks.com>", "committedDate": "2020-05-08T05:59:26Z", "type": "commit"}, {"oid": "7e73a82538a731cfe44cba818d5670f646cec37d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7e73a82538a731cfe44cba818d5670f646cec37d", "message": "Enable BatchSpanProcessor to use env vars for configuration", "committedDate": "2020-05-08T19:32:04Z", "type": "commit"}, {"oid": "c4383bab4ad139efe67f20b153078e9c95e1d2b6", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c4383bab4ad139efe67f20b153078e9c95e1d2b6", "message": "Formatted the code as per the style guidelines", "committedDate": "2020-05-08T20:18:39Z", "type": "commit"}, {"oid": "ff724f481a9aadd3bb6f5d5d93d0bceb335f70bb", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ff724f481a9aadd3bb6f5d5d93d0bceb335f70bb", "message": "Removed the comment", "committedDate": "2020-05-11T05:17:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjkzMzc3Ng==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/393#discussion_r422933776", "bodyText": "I like this solution a lot.  Much cleaner than anything I had suggested.", "author": "johnbley", "createdAt": "2020-05-11T10:13:02Z", "path": "smoke-tests/src/main/groovy/io/opentelemetry/smoketest/AbstractSmokeTest.groovy", "diffHunk": "@@ -70,6 +70,11 @@ abstract class AbstractSmokeTest extends Specification {\n     processBuilder.environment().put(\"JAVA_HOME\", System.getProperty(\"java.home\"))\n     processBuilder.environment().put(\"DD_API_KEY\", API_KEY)\n \n+//    // Setting configuration variables of batch span processor through env vars\n+//    // This config is to immediately flush a batch of 1 span with delay of 10ms\n+    processBuilder.environment().put(\"OTEL_BSP_MAX_EXPORT_BATCH\", \"1\")", "originalCommit": "ff724f481a9aadd3bb6f5d5d93d0bceb335f70bb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4d04de7c661ecc6245ec317644d286bb40c2afd1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4d04de7c661ecc6245ec317644d286bb40c2afd1", "message": "Updated the timeout for play & spring boot tests to wait for batchspanprocessor to finish exporting", "committedDate": "2020-05-12T09:30:12Z", "type": "commit"}, {"oid": "14bf4bdc16f71a7e61c065a3b491c9326635ffd6", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/14bf4bdc16f71a7e61c065a3b491c9326635ffd6", "message": "Merge branch 'master' into master", "committedDate": "2020-05-14T20:18:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQyNTA2MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/393#discussion_r425425061", "bodyText": "still getting failures on CI, hoping we just need to bump this more\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                ], 20000)\n          \n          \n            \n                ], 30000)", "author": "trask", "createdAt": "2020-05-14T20:56:02Z", "path": "smoke-tests/play/src/test/groovy/io/opentelemetry/smoketest/PlaySmokeTest.groovy", "diffHunk": "@@ -45,7 +45,7 @@ class PlaySmokeTest extends AbstractServerSmokeTest {\n     setup:\n     def spanCounter = new SpanCounter(logfile, [\n       (HTTP_REQUEST_SPAN): 2,\n-    ], 10000)\n+    ], 20000)", "originalCommit": "14bf4bdc16f71a7e61c065a3b491c9326635ffd6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQyNTYwOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/393#discussion_r425425608", "bodyText": "still getting failures on CI, hoping we just need to bump this more\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                ], 20000)\n          \n          \n            \n                ], 30000)", "author": "trask", "createdAt": "2020-05-14T20:57:04Z", "path": "smoke-tests/springboot/src/test/groovy/io/opentelemetry/smoketest/SpringBootSmokeTest.groovy", "diffHunk": "@@ -39,7 +39,7 @@ class SpringBootSmokeTest extends AbstractServerSmokeTest {\n     def spanCounter = new SpanCounter(logfile, [\n       (HANDLER_SPAN): 1,\n       (SERVLET_SPAN): 1,\n-    ], 10000)\n+    ], 20000)", "originalCommit": "14bf4bdc16f71a7e61c065a3b491c9326635ffd6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4b3b64bb442b359843089a05bcbeb0373e2dbe21", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4b3b64bb442b359843089a05bcbeb0373e2dbe21", "message": "Update smoke-tests/play/src/test/groovy/io/opentelemetry/smoketest/PlaySmokeTest.groovy", "committedDate": "2020-05-14T20:58:14Z", "type": "commit"}, {"oid": "d40a649e904c38e9e72b38d2c3049a017b25b33f", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d40a649e904c38e9e72b38d2c3049a017b25b33f", "message": "Update smoke-tests/springboot/src/test/groovy/io/opentelemetry/smoketest/SpringBootSmokeTest.groovy", "committedDate": "2020-05-14T20:58:21Z", "type": "commit"}, {"oid": "e38fba2df86237b89311097958d9a82879bb4155", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e38fba2df86237b89311097958d9a82879bb4155", "message": "Merge branch 'master' into master", "committedDate": "2020-05-14T22:13:54Z", "type": "commit"}, {"oid": "499838be5abe15e33d179b14e1a6c27569bc0699", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/499838be5abe15e33d179b14e1a6c27569bc0699", "message": "Remove unnecessarily verbose debug logging", "committedDate": "2020-05-16T18:55:30Z", "type": "commit"}, {"oid": "181734781f8e2aa63dd97dc991b215cdc1c530f1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/181734781f8e2aa63dd97dc991b215cdc1c530f1", "message": "Merge branch 'master' into master", "committedDate": "2020-05-16T18:58:43Z", "type": "commit"}, {"oid": "df978011abccd6086a4c58c8c726df448f46ca59", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/df978011abccd6086a4c58c8c726df448f46ca59", "message": "Revert timeout change", "committedDate": "2020-05-16T19:13:59Z", "type": "commit"}]}