{"pr_number": 1852, "pr_title": "Instrument spring batch tests", "pr_createdAt": "2020-12-08T14:42:11Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1852", "timeline": [{"oid": "cbe7f0a0610106aba08f25489cae7c451edb1931", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/cbe7f0a0610106aba08f25489cae7c451edb1931", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-09T11:11:09Z", "type": "forcePushed"}, {"oid": "b65eba97cd6f333a5b4253ddfbb99753138e5573", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b65eba97cd6f333a5b4253ddfbb99753138e5573", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-14T13:01:05Z", "type": "forcePushed"}, {"oid": "8e7f9bd421aab3d4eb633425745b83fca235ea18", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/8e7f9bd421aab3d4eb633425745b83fca235ea18", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-14T14:30:30Z", "type": "forcePushed"}, {"oid": "60dd01d219b8b9c5faf526f56a25bf9f6e2eb947", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/60dd01d219b8b9c5faf526f56a25bf9f6e2eb947", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-15T12:06:36Z", "type": "forcePushed"}, {"oid": "7f40c857d9132e4107355e7ad32057a37d46aae1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7f40c857d9132e4107355e7ad32057a37d46aae1", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-15T13:18:03Z", "type": "forcePushed"}, {"oid": "5646d9ec7dd9d0673bda9e03d5d68c1a88c2f25a", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5646d9ec7dd9d0673bda9e03d5d68c1a88c2f25a", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-15T17:08:34Z", "type": "forcePushed"}, {"oid": "9b5062b51852889765502ae3cb69cabc2ff821a8", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9b5062b51852889765502ae3cb69cabc2ff821a8", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-16T11:28:35Z", "type": "commit"}, {"oid": "9b5062b51852889765502ae3cb69cabc2ff821a8", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9b5062b51852889765502ae3cb69cabc2ff821a8", "message": "Instrument spring-batch: JSR-352 & Spring Batch XML tests", "committedDate": "2020-12-16T11:28:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDMzNDU0Mw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1852#discussion_r544334543", "bodyText": "Do you think this can benefit from the similar change? #1915", "author": "iNikem", "createdAt": "2020-12-16T14:19:22Z", "path": "instrumentation/spring/spring-batch-3.0/javaagent/src/test/groovy/SpringBatchTest.groovy", "diffHunk": "@@ -78,3 +79,28 @@ class JavaConfigBatchJobTest extends SpringBatchTest implements ApplicationConfi\n     new AnnotationConfigApplicationContext(SpringBatchApplication)\n   }\n }\n+\n+class XmlConfigBatchJobTest extends SpringBatchTest implements ApplicationConfigTrait {\n+  static final Config PREVIOUS_CONFIG = updateConfig {", "originalCommit": "9b5062b51852889765502ae3cb69cabc2ff821a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM4NzE2Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1852#discussion_r544387167", "bodyText": "I've tried it but it won't work \ud83d\ude22\nProbably because otel.instrumentation.spring-batch.enabled is accessed when AgentTestRunner setup methods run, and they run first - before SpringBatchTest's setup.", "author": "mateuszrzeszutek", "createdAt": "2020-12-16T15:23:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDMzNDU0Mw=="}], "type": "inlineReview"}]}