{"pr_number": 842, "pr_title": "Rename trace.methods.exclude config", "pr_createdAt": "2020-07-30T21:57:20Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842", "timeline": [{"oid": "b09546870b3ed2c7a3603b50f08d350d2252a2c9", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b09546870b3ed2c7a3603b50f08d350d2252a2c9", "message": "Rename trace.methods.exclude config", "committedDate": "2020-07-30T21:54:24Z", "type": "commit"}, {"oid": "959f6729b33063af3a242502698680d8561072b4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/959f6729b33063af3a242502698680d8561072b4", "message": "spotless", "committedDate": "2020-07-30T22:07:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0NzA0MA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463347040", "bodyText": "Isn't this property still there?", "author": "anuraaga", "createdAt": "2020-07-31T00:45:34Z", "path": "README.md", "diffHunk": "@@ -276,10 +280,9 @@ The `@WithSpan` annotation requires code changes to implement. You can\n disable the annotation at runtime via the exclude configuration or\n environment variables:\n \n-| System property                  | Environment variable             | Purpose                                                              |\n-|----------------------------------|----------------------------------|----------------------------------------------------------------------|\n-| trace.classes.exclude            | TRACE_CLASSES_EXCLUDE            | Exclude classes with the `@WithSpan` annotation                      |", "originalCommit": "959f6729b33063af3a242502698680d8561072b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM1MjYxOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463352618", "bodyText": "I moved documentation of that property to the \"Suppressing specific auto-instrumentation\" section above (which links to a new doc page)", "author": "trask", "createdAt": "2020-07-31T01:05:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0NzA0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM1MzI5OQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463353299", "bodyText": "Ah sorry missed that markdown in the middle of the java files!", "author": "anuraaga", "createdAt": "2020-07-31T01:08:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0NzA0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxMjk1Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463412952", "bodyText": "Documentation is wrong. We exclude classes here, not methods :)", "author": "iNikem", "createdAt": "2020-07-31T05:31:52Z", "path": "docs/suppressing-instrumentation.md", "diffHunk": "@@ -0,0 +1,26 @@\n+## Suppressing specific auto-instrumentation\n+\n+You can suppress auto-instrumentation of specific libraries by using\n+`-Dota.integration.[id].enabled=true`.\n+\n+where `id` is the instrumentation `id`:\n+\n+[TODO add table here with all instrumentation ids]\n+\n+### Even more fine-grained control\n+\n+You can also exclude specific classes from being instrumented.\n+\n+This can be useful to completely silence spans from a given class/package.\n+\n+Or as a quick workaround for an instrumentation bug, when byte code in one specific class is problematic.\n+\n+This option should not be used lightly, as it can leave some instrumentation partially applied,\n+which could have unknown side-effects.\n+\n+If you find yourself needing to use this, it would be great if you could drop us an issue explaining why,\n+so that we can try to come up with a better solution to address your need.\n+\n+| System property       | Environment variable  | Purpose                                                                                                                         |\n+|-----------------------|-----------------------|---------------------------------------------------------------------------------------------------------------------------------|\n+| trace.classes.exclude | TRACE_CLASSES_EXCLUDE | Exclude methods with the `@WithSpan` annotation, the format \"my.package.MyClass1[method1,method2];my.package.MyClass2[method3]\" |", "originalCommit": "959f6729b33063af3a242502698680d8561072b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc0MDM5Ng==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463740396", "bodyText": "fixed!", "author": "trask", "createdAt": "2020-07-31T17:34:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxMjk1Mg=="}], "type": "inlineReview"}, {"oid": "15ac62af245f9696a95c77ed54a9a0cb235a22e7", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/15ac62af245f9696a95c77ed54a9a0cb235a22e7", "message": "feedback", "committedDate": "2020-07-31T17:33:13Z", "type": "commit"}, {"oid": "13b888e899754a0c389126e774cbf690a566e79f", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/13b888e899754a0c389126e774cbf690a566e79f", "message": "Merge remote-tracking branch 'upstream/master' into rename-trace-methods-exclude", "committedDate": "2020-07-31T18:54:16Z", "type": "commit"}]}