{"pr_number": 372, "pr_title": "Make auto-instr work with latest otel-java snapshot", "pr_createdAt": "2020-05-01T12:46:57Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/372", "timeline": [{"oid": "2b5821c4db3c33b83fb3bae46f6007889cb0a39b", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/2b5821c4db3c33b83fb3bae46f6007889cb0a39b", "message": "Make auto-instr work with latest otel-java snapshot", "committedDate": "2020-05-01T12:20:42Z", "type": "commit"}, {"oid": "7454c18d34f5eb6a322a672a377ea914676791ec", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7454c18d34f5eb6a322a672a377ea914676791ec", "message": "Add CircleCI workflow to run nightly test job against otel-java snapshot", "committedDate": "2020-05-01T12:42:30Z", "type": "commit"}, {"oid": "d715194eafc0c5df64e539b350759f58018126e4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d715194eafc0c5df64e539b350759f58018126e4", "message": "Decrease snapshot versions cache time", "committedDate": "2020-05-01T12:45:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODczMjIyNg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/372#discussion_r418732226", "bodyText": "similar to above\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              maven {\n          \n          \n            \n                url \"https://oss.jfrog.org/artifactory/oss-snapshot-local\"\n          \n          \n            \n              }\n          \n          \n            \n              // this is only needed for the depends-on-otel-java-snapshot branch\n          \n          \n            \n              maven {\n          \n          \n            \n                url \"https://oss.jfrog.org/artifactory/oss-snapshot-local\"\n          \n          \n            \n              }", "author": "trask", "createdAt": "2020-05-01T20:50:40Z", "path": "gradle/java.gradle", "diffHunk": "@@ -137,6 +137,9 @@ repositories {\n   maven {\n     url \"https://repo.typesafe.com/typesafe/releases\"\n   }\n+  maven {\n+    url \"https://oss.jfrog.org/artifactory/oss-snapshot-local\"\n+  }", "originalCommit": "d715194eafc0c5df64e539b350759f58018126e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODczMjk5OA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/372#discussion_r418732998", "bodyText": "similar to above\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              latestDepTestCompile group: 'io.reactivex', name: 'rxjava', version: '1.+'\n          \n          \n            \n              // this is only needed for the depends-on-otel-java-snapshot branch\n          \n          \n            \n              latestDepTestCompile group: 'io.reactivex', name: 'rxjava', version: '1.+'", "author": "trask", "createdAt": "2020-05-01T20:52:37Z", "path": "instrumentation/hystrix-1.4/hystrix-1.4.gradle", "diffHunk": "@@ -26,6 +26,6 @@ dependencies {\n   testCompile group: 'io.reactivex', name: 'rxjava', version: '1.0.7'\n   testCompile group: 'com.netflix.hystrix', name: 'hystrix-core', version: '1.4.0'\n \n-  latestDepTestCompile group: 'io.reactivex', name: 'rxjava', version: '+'\n+  latestDepTestCompile group: 'io.reactivex', name: 'rxjava', version: '1.+'", "originalCommit": "d715194eafc0c5df64e539b350759f58018126e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2OTU2OQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/372#discussion_r418969569", "bodyText": "This is not exactly true. Adding oss repo brought rxjava 2.0-SNAPSHOT which broke latestDepTest. But that just shows that we really don't support (unreleased) 2.0 yet, so we it is Ok to explicitly limit dependency version to 1.+", "author": "iNikem", "createdAt": "2020-05-02T15:10:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODczMjk5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk3NzgzMQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/372#discussion_r418977831", "bodyText": "If we bring this change into master, then our build won't fail if/when 2.0 is released, which helps us to know that we need to go and update our instrumentation to work with the new version (or to document that we do not support the new version yet).", "author": "trask", "createdAt": "2020-05-02T16:23:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODczMjk5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTA1NTI3MA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/372#discussion_r419055270", "bodyText": "Good point. And I found a better solution :) I limit oss repo only to io.opentelemetry artifacts.", "author": "iNikem", "createdAt": "2020-05-03T06:23:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODczMjk5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc0MTUxOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/372#discussion_r418741518", "bodyText": "so we can search for these comments when merging to master\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            configurations.all {\n          \n          \n            \n              resolutionStrategy.cacheChangingModulesFor 12, 'hours'\n          \n          \n            \n            }\n          \n          \n            \n            // this is only needed for the depends-on-otel-java-snapshot branch\n          \n          \n            \n            configurations.all {\n          \n          \n            \n              resolutionStrategy.cacheChangingModulesFor 12, 'hours'\n          \n          \n            \n            }", "author": "trask", "createdAt": "2020-05-01T21:16:23Z", "path": "gradle/dependencies.gradle", "diffHunk": "@@ -1,9 +1,13 @@\n def groovyVer = \"2.5.11\"\n def spockGroovyVer = groovyVer.replaceAll(/\\.\\d+$/, '')\n \n+configurations.all {\n+  resolutionStrategy.cacheChangingModulesFor 12, 'hours'\n+}", "originalCommit": "d715194eafc0c5df64e539b350759f58018126e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f3b4fd9ec61f585ddd74a9ac4e388c3cb711c84d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f3b4fd9ec61f585ddd74a9ac4e388c3cb711c84d", "message": "Add comments suggest during review", "committedDate": "2020-05-02T15:11:51Z", "type": "commit"}, {"oid": "5172a0c9e4beefce83baa04cb35c0322749e3022", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5172a0c9e4beefce83baa04cb35c0322749e3022", "message": "Add comments suggest during review", "committedDate": "2020-05-03T06:22:54Z", "type": "commit"}, {"oid": "2c6ddf44ef9ceacf521eb88fe847c3f854a6dd83", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/2c6ddf44ef9ceacf521eb88fe847c3f854a6dd83", "message": "Add missed helper class", "committedDate": "2020-05-04T20:05:45Z", "type": "commit"}, {"oid": "c46b402cf9488c98887e033a4e9b0a1b9acf943b", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c46b402cf9488c98887e033a4e9b0a1b9acf943b", "message": "Use released otel-java 0.4.0", "committedDate": "2020-05-05T05:23:41Z", "type": "commit"}, {"oid": "5f8feb4d96cd1bf54f647b171d9cf212f32b7a09", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5f8feb4d96cd1bf54f647b171d9cf212f32b7a09", "message": "Merge branch 'master' into gh-363", "committedDate": "2020-05-05T05:58:31Z", "type": "commit"}]}