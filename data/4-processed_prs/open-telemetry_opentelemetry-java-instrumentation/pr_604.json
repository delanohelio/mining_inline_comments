{"pr_number": 604, "pr_title": "Simplify grizzly instrumentation, Part 1", "pr_createdAt": "2020-06-29T01:49:38Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/604", "timeline": [{"oid": "e37b1a4bea3cac3c66d424ee91209a5052b044e8", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e37b1a4bea3cac3c66d424ee91209a5052b044e8", "message": "Simplify grizzly instrumentation", "committedDate": "2020-06-29T01:44:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczMjQ1NQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/604#discussion_r446732455", "bodyText": "Is this the right order?", "author": "anuraaga", "createdAt": "2020-06-29T01:52:24Z", "path": "instrumentation/grizzly-2.0/src/test/groovy/GrizzlyTest.groovy", "diffHunk": "@@ -14,16 +14,18 @@\n  * limitations under the License.\n  */\n \n+\n import io.opentelemetry.auto.test.base.HttpServerTest\n+import org.glassfish.grizzly.http.server.HttpServer", "originalCommit": "e37b1a4bea3cac3c66d424ee91209a5052b044e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczNDUxNQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/604#discussion_r446734515", "bodyText": "yeah, at least currently, see CONTRIBUTING.md:\n\nWith java use the following import layout (groovy should still use the default)\n\nthe problem is we don't have any automated formatting / enforcement for groovy imports, so we end up with unnecessary drift sometimes", "author": "trask", "createdAt": "2020-06-29T02:02:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczMjQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk0NjI0NA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/604#discussion_r447946244", "bodyText": "looks like you already decided against it, but you can look into enabling it here: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/master/gradle/spotless.gradle#L9", "author": "tylerbenson", "createdAt": "2020-06-30T20:03:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczMjQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODA1NDk4OQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/604#discussion_r448054989", "bodyText": "just tried enabling it, but ran into lots of pain, looks like u decided against it too? https://github.com/DataDog/dd-trace-java/blob/master/gradle/spotless.gradle#L19-L26", "author": "trask", "createdAt": "2020-07-01T00:44:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczMjQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQ1ODEzNA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/604#discussion_r448458134", "bodyText": "I didn't apply it because I couldn't find a configuration to match the existing files close enough and didn't want significant thrash in the initial PR.", "author": "tylerbenson", "createdAt": "2020-07-01T15:50:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczMjQ1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU3NjIyOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/604#discussion_r448576228", "bodyText": "i noticed in your commented out config that you skipped all the tests (and I agree, as it mangles the spock data-driven sections). not sure if it's worth applying if we can't apply it to the tests, since those are the majority of our groovy code", "author": "trask", "createdAt": "2020-07-01T19:37:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjczMjQ1NQ=="}], "type": "inlineReview"}, {"oid": "c5d8530da39e667d0fd7e0eb6c67b7bcf53ca3eb", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c5d8530da39e667d0fd7e0eb6c67b7bcf53ca3eb", "message": "Spotless", "committedDate": "2020-06-29T01:56:22Z", "type": "commit"}]}