{"pr_number": 1136, "pr_title": "Use a fake OTLP backend for storing smoke tests traces instead of fil\u2026", "pr_createdAt": "2020-08-31T03:22:42Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1136", "timeline": [{"oid": "1d405359124229b8fb9b9501aa18f59159923552", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1d405359124229b8fb9b9501aa18f59159923552", "message": "Use a fake OTLP backend for storing smoke tests traces instead of file exporter.", "committedDate": "2020-08-31T03:20:38Z", "type": "commit"}, {"oid": "273377731aeca9b25d511cbc7b42aafeb0656ce7", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/273377731aeca9b25d511cbc7b42aafeb0656ce7", "message": "Newlines", "committedDate": "2020-08-31T03:23:38Z", "type": "commit"}, {"oid": "b198a858c996dacf43f2af0e6b90da8970066baf", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b198a858c996dacf43f2af0e6b90da8970066baf", "message": "Newlines", "committedDate": "2020-08-31T03:24:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg3MjQ0MA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1136#discussion_r479872440", "bodyText": "\ud83d\ude04 \ud83d\udc4d", "author": "trask", "createdAt": "2020-08-31T03:43:34Z", "path": "smoke-tests/fake-backend/build.gradle", "diffHunk": "@@ -0,0 +1,38 @@\n+plugins {\n+  id 'java'\n+  id 'com.google.cloud.tools.jib' version '2.5.0'\n+}\n+\n+group = 'io.opentelemetry'\n+version = '0.0.1-SNAPSHOT'\n+\n+repositories {\n+  jcenter()\n+\n+  // this is only needed for the working against unreleased otel-java snapshots\n+  maven {\n+    url \"https://oss.jfrog.org/artifactory/oss-snapshot-local\"\n+    content {\n+      includeGroup \"io.opentelemetry\"\n+    }\n+  }\n+}\n+\n+compileJava {\n+  options.release = 11\n+}\n+\n+dependencies {\n+  implementation(\"com.linecorp.armeria:armeria-grpc:1.0.0\")", "originalCommit": "b198a858c996dacf43f2af0e6b90da8970066baf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg4MTkxMg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1136#discussion_r479881912", "bodyText": "Please add checksum as in \n  \n    \n      opentelemetry-java-instrumentation/gradle/wrapper/gradle-wrapper.properties\n    \n    \n         Line 6\n      in\n      8992636\n    \n    \n    \n    \n\n        \n          \n           distributionSha256Sum=83fa7c3e5ab84c3c5c4a04fb16947338209efa9aab1f6bf09a5d0e3d2ed87742", "author": "iNikem", "createdAt": "2020-08-31T04:30:04Z", "path": "smoke-tests/fake-backend/gradle/wrapper/gradle-wrapper.properties", "diffHunk": "@@ -0,0 +1,5 @@\n+distributionBase=GRADLE_USER_HOME\n+distributionPath=wrapper/dists\n+distributionUrl=https\\://services.gradle.org/distributions/gradle-6.6-bin.zip\n+zipStoreBase=GRADLE_USER_HOME\n+zipStorePath=wrapper/dists", "originalCommit": "b198a858c996dacf43f2af0e6b90da8970066baf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg4NDAxMg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1136#discussion_r479884012", "bodyText": "I see none of our smoke tests projects do so far. Do you mind if I go ahead and follow up with a PR to remove the \"subrepos\" to use our normal Gradle? While working on this I realized\n\nIt's a bit (not dealbreaker) annoying to start up another intellij to tweak each project\nIt'd be nice to apply our normal gradle scripts for spotless, license, etc\nWorried about interaction with tooling, such as #1133\n\nI could either flag out these projects but since the normal build would only run compileJava essentially, I think it's ok to actually just have them enabled by default. What do you think?", "author": "anuraaga", "createdAt": "2020-08-31T04:40:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg4MTkxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg4NzQzOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1136#discussion_r479887438", "bodyText": "I have moved them outside our usual Gradle structure on purpose. E.g. play project contributes a lot of Gradle warnings during the build. I did not want them to pollute all our builds.", "author": "iNikem", "createdAt": "2020-08-31T04:55:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg4MTkxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg5MzMzNg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1136#discussion_r479893336", "bodyText": "Hmm - ok I've added the distribution sums for now. But I think the tradeoffs of the separate projects warrant another look into what can be done about things like the deprecation warnings.", "author": "anuraaga", "createdAt": "2020-08-31T05:21:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg4MTkxMg=="}], "type": "inlineReview"}, {"oid": "e363928b83b9089ebf4400218b2c0bd760657866", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e363928b83b9089ebf4400218b2c0bd760657866", "message": "Bins", "committedDate": "2020-08-31T05:20:37Z", "type": "commit"}]}