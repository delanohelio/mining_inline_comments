{"pr_number": 1736, "pr_title": "Consistent equals implementations", "pr_createdAt": "2020-11-23T00:01:58Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1736", "timeline": [{"oid": "9eb452ca0c8eaa668d5876bff268fa70358a12a1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9eb452ca0c8eaa668d5876bff268fa70358a12a1", "message": "Consistent equals implementations", "committedDate": "2020-11-23T00:01:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ1ODA0MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1736#discussion_r528458041", "bodyText": "I would usually not use Objects for non-nullable fields. Otherwise the non-nullness gets a bit obfuscated. What do you think?", "author": "anuraaga", "createdAt": "2020-11-23T03:37:55Z", "path": "instrumentation/opentelemetry-api-1.0/src/main/java/io/opentelemetry/javaagent/instrumentation/opentelemetryapi/trace/ApplicationSpan.java", "diffHunk": "@@ -140,11 +141,20 @@ public boolean isRecording() {\n   }\n \n   @Override\n-  public boolean equals(Object other) {\n-    if (!(other instanceof ApplicationSpan)) {\n+  public boolean equals(Object obj) {\n+    if (obj == this) {\n+      return true;\n+    }\n+    if (!(obj instanceof ApplicationSpan)) {\n       return false;\n     }\n-    return agentSpan.equals(((ApplicationSpan) other).agentSpan);\n+    ApplicationSpan other = (ApplicationSpan) obj;\n+    return Objects.equals(agentSpan, other.agentSpan);", "originalCommit": "9eb452ca0c8eaa668d5876bff268fa70358a12a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ2NzE1NA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1736#discussion_r528467154", "bodyText": "yeah, this makes sense, I'll update to use direct equals where that was the previous behavior at least", "author": "trask", "createdAt": "2020-11-23T04:30:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ1ODA0MQ=="}], "type": "inlineReview"}, {"oid": "bc10fafc04fb4235aaedc7eaa6d0a76c5ad42211", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bc10fafc04fb4235aaedc7eaa6d0a76c5ad42211", "message": "Use direct equals where previous behavior", "committedDate": "2020-11-23T04:37:41Z", "type": "commit"}]}