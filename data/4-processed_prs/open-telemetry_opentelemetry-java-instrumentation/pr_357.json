{"pr_number": 357, "pr_title": "Bring back code coverage verification", "pr_createdAt": "2020-04-27T22:06:28Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/357", "timeline": [{"oid": "2be394628672c7d7b64abe83c17ec68b7c32a96e", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/2be394628672c7d7b64abe83c17ec68b7c32a96e", "message": "Bring back code coverage verification", "committedDate": "2020-04-27T22:03:43Z", "type": "commit"}, {"oid": "be175e331cb6a905694bf617746cd6097fbda829", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/be175e331cb6a905694bf617746cd6097fbda829", "message": "Minor fixes", "committedDate": "2020-04-28T00:08:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MDcyNQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/357#discussion_r416470725", "bodyText": "What is the purpose of excluding auto tooling classes from test coverage in their own auto tooling module? What coverage will this module verify?", "author": "iNikem", "createdAt": "2020-04-28T09:33:20Z", "path": "agent-tooling/agent-tooling.gradle", "diffHunk": "@@ -3,7 +3,8 @@ apply from: \"${rootDir}/gradle/java.gradle\"\n minimumBranchCoverage = 0.6\n minimumInstructionCoverage = 0.8\n excludedClassesCoverage += [\n-  'io.opentelemetry.auto.tooling.*'\n+  'io.opentelemetry.auto.tooling.*',", "originalCommit": "be175e331cb6a905694bf617746cd6097fbda829", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkwMjAzNw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/357#discussion_r416902037", "bodyText": "The purpose is to make the build pass \ud83e\udd23. You're right, this module doesn't verify any coverage.", "author": "trask", "createdAt": "2020-04-28T20:29:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MDcyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzExOTIzNg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/357#discussion_r417119236", "bodyText": "But what is the point of \"bringing back code coverage verification\" if we exclude the whole module from verification? Wouldn't it be better to lower minimum coverage requirement instead? Currently it may appear like this module satisfies coverage expectation, judging by  minimumInstructionCoverage = 0.8, when in reality it may be close to 0.", "author": "iNikem", "createdAt": "2020-04-29T07:32:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MDcyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM4MDQ2Ng==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/357#discussion_r417380466", "bodyText": "Do you think it makes more sense here to set minimumInstructionCoverage = 0 and remove the exclusions?", "author": "trask", "createdAt": "2020-04-29T14:54:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MDcyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM4MjYzOQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/357#discussion_r417382639", "bodyText": "I think so. It clearly communicates that current expected coverage for this module is 0. And does not create false sense of safety, which \"0.8\" kinda does :)", "author": "iNikem", "createdAt": "2020-04-29T14:57:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MDcyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM5OTIwNA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/357#discussion_r417399204", "bodyText": "\ud83d\udc4d submitted this change in #365", "author": "trask", "createdAt": "2020-04-29T15:19:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MDcyNQ=="}], "type": "inlineReview"}, {"oid": "ce60d70c0acdbfb1476d66cba5440bc77fa727d1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ce60d70c0acdbfb1476d66cba5440bc77fa727d1", "message": "Merge branch 'master' into bring-back-code-coverage-verification", "committedDate": "2020-04-28T21:48:19Z", "type": "commit"}]}