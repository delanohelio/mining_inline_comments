{"pr_number": 1699, "pr_title": "Move Ibft event exeuctors to common", "pr_createdAt": "2020-12-13T03:42:58Z", "pr_url": "https://github.com/hyperledger/besu/pull/1699", "timeline": [{"oid": "0f6c3935bd8e7f5527001ff90fc5796b56ab93c0", "url": "https://github.com/hyperledger/besu/commit/0f6c3935bd8e7f5527001ff90fc5796b56ab93c0", "message": "Move IbftEvents to common\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T02:15:21Z", "type": "commit"}, {"oid": "91c27a4a1e96e058045153440aa11d2a9c2fe133", "url": "https://github.com/hyperledger/besu/commit/91c27a4a1e96e058045153440aa11d2a9c2fe133", "message": "Merge remote-tracking branch 'upstream/master' into qbft_events\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T02:33:39Z", "type": "commit"}, {"oid": "82b2c0e0b05758ed227a84c76f5b66d12da83a37", "url": "https://github.com/hyperledger/besu/commit/82b2c0e0b05758ed227a84c76f5b66d12da83a37", "message": "rename ibftevent to events\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T02:35:28Z", "type": "commit"}, {"oid": "cbc8673f677d718c801575280b377a26ad1d7bb5", "url": "https://github.com/hyperledger/besu/commit/cbc8673f677d718c801575280b377a26ad1d7bb5", "message": "refactor\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T02:42:07Z", "type": "commit"}, {"oid": "390acc500ae712ac491dc58cb76e78f721c69f66", "url": "https://github.com/hyperledger/besu/commit/390acc500ae712ac491dc58cb76e78f721c69f66", "message": "moved executors to common\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T03:11:26Z", "type": "commit"}, {"oid": "88615834340909bfc1847533e13a4643f4454f48", "url": "https://github.com/hyperledger/besu/commit/88615834340909bfc1847533e13a4643f4454f48", "message": "Merge remote-tracking branch 'upstream/master' into mv_event_executors\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T03:42:32Z", "type": "commit"}, {"oid": "88615834340909bfc1847533e13a4643f4454f48", "url": "https://github.com/hyperledger/besu/commit/88615834340909bfc1847533e13a4643f4454f48", "message": "Merge remote-tracking branch 'upstream/master' into mv_event_executors\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T03:42:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0NzYyMA==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541847620", "bodyText": "Thread pool should probably be configurable or perhaps just make it \"BftTimerExecutor\"", "author": "jframe", "createdAt": "2020-12-13T05:14:05Z", "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftExecutors.java", "diffHunk": "@@ -61,7 +60,8 @@ public synchronized void start() {\n     }\n     state = State.RUNNING;\n     ibftProcessorExecutor = Executors.newSingleThreadExecutor();\n-    timerExecutor = newScheduledThreadPool(\"IbftTimerExecutor\", 1, metricsSystem);\n+    timerExecutor =\n+        MonitoredExecutors.newScheduledThreadPool(\"IbftTimerExecutor\", 1, metricsSystem);", "originalCommit": "88615834340909bfc1847533e13a4643f4454f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjAyODEzMg==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r542028132", "bodyText": "renamed", "author": "rain-on", "createdAt": "2020-12-13T23:12:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0NzYyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODA0OQ==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541848049", "bodyText": "Suggest renamed to BftEventQueue", "author": "jframe", "createdAt": "2020-12-13T05:16:58Z", "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftEventQueue.java", "diffHunk": "@@ -12,7 +12,7 @@\n  *\n  * SPDX-License-Identifier: Apache-2.0\n  */\n-package org.hyperledger.besu.consensus.ibft;\n+package org.hyperledger.besu.consensus.common.bft;\n \n import org.hyperledger.besu.consensus.common.bft.events.IbftEvent;\n ", "originalCommit": "88615834340909bfc1847533e13a4643f4454f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA0NTgzMQ==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r542045831", "bodyText": "done", "author": "rain-on", "createdAt": "2020-12-14T00:47:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODA0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODE1Mw==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541848153", "bodyText": "Suggest rename of class to BftExecutors", "author": "jframe", "createdAt": "2020-12-13T05:17:40Z", "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftExecutors.java", "diffHunk": "@@ -13,10 +13,9 @@\n  * SPDX-License-Identifier: Apache-2.0\n  */\n \n-package org.hyperledger.besu.consensus.ibft;\n-\n-import static org.hyperledger.besu.ethereum.eth.manager.MonitoredExecutors.newScheduledThreadPool;\n+package org.hyperledger.besu.consensus.common.bft;\n \n+import org.hyperledger.besu.ethereum.eth.manager.MonitoredExecutors;", "originalCommit": "88615834340909bfc1847533e13a4643f4454f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjAyOTQwMQ==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r542029401", "bodyText": "done", "author": "rain-on", "createdAt": "2020-12-13T23:19:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODE1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODE5OA==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r541848198", "bodyText": "Suggest rename of class to BftProcessor", "author": "jframe", "createdAt": "2020-12-13T05:18:02Z", "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/IbftProcessor.java", "diffHunk": "@@ -12,9 +12,8 @@\n  *\n  * SPDX-License-Identifier: Apache-2.0\n  */\n-package org.hyperledger.besu.consensus.ibft;\n+package org.hyperledger.besu.consensus.common.bft;\n ", "originalCommit": "88615834340909bfc1847533e13a4643f4454f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjAyOTQwNw==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r542029407", "bodyText": "done", "author": "rain-on", "createdAt": "2020-12-13T23:19:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg0ODE5OA=="}], "type": "inlineReview"}, {"oid": "63895fa4594e0259fa42dda76f8dba4a699b45a1", "url": "https://github.com/hyperledger/besu/commit/63895fa4594e0259fa42dda76f8dba4a699b45a1", "message": "Remove traces of ibft from common\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T23:19:04Z", "type": "commit"}, {"oid": "03443fdabc1378d294a8569847415fd7d0cf59ca", "url": "https://github.com/hyperledger/besu/commit/03443fdabc1378d294a8569847415fd7d0cf59ca", "message": "fixed spotless\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-13T23:31:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjExODMxNg==", "url": "https://github.com/hyperledger/besu/pull/1699#discussion_r542118316", "bodyText": "I know it's not part of your change. But would be nice to fix the misspelling here. /getRoundIndentifier/getRoundIdentifier", "author": "jframe", "createdAt": "2020-12-14T05:19:45Z", "path": "consensus/common/src/main/java/org/hyperledger/besu/consensus/common/bft/events/BlockTimerExpiry.java", "diffHunk": "@@ -34,8 +34,8 @@ public BlockTimerExpiry(final ConsensusRoundIdentifier roundIdentifier) {\n   }\n \n   @Override\n-  public IbftEvents.Type getType() {\n-    return IbftEvents.Type.BLOCK_TIMER_EXPIRY;\n+  public BftEvents.Type getType() {\n+    return BftEvents.Type.BLOCK_TIMER_EXPIRY;\n   }\n \n   public ConsensusRoundIdentifier getRoundIndentifier() {", "originalCommit": "03443fdabc1378d294a8569847415fd7d0cf59ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5fe889c9272be0780f8462b878f053d768d1da94", "url": "https://github.com/hyperledger/besu/commit/5fe889c9272be0780f8462b878f053d768d1da94", "message": "Merge remote-tracking branch 'upstream/master' into mv_event_executors\n\nSigned-off-by: Trent Mohay <trent.mohay@consensys.net>", "committedDate": "2020-12-14T22:35:08Z", "type": "commit"}]}