{"pr_number": 1608, "pr_title": "Fix Windows bat file, add a CircleCI build step for it", "pr_createdAt": "2020-11-25T06:00:16Z", "pr_url": "https://github.com/hyperledger/besu/pull/1608", "timeline": [{"oid": "43a8e760b9f8a34b7a18c9c2b9bd756fe4cefa6c", "url": "https://github.com/hyperledger/besu/commit/43a8e760b9f8a34b7a18c9c2b9bd756fe4cefa6c", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>", "committedDate": "2020-11-25T06:01:46Z", "type": "forcePushed"}, {"oid": "d7ccfa7d076499ab84123bbc29b9ba1d264fc36d", "url": "https://github.com/hyperledger/besu/commit/d7ccfa7d076499ab84123bbc29b9ba1d264fc36d", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>", "committedDate": "2020-11-25T06:08:48Z", "type": "forcePushed"}, {"oid": "4045ec437f9a8d88095edb5a82e5c16df9878560", "url": "https://github.com/hyperledger/besu/commit/4045ec437f9a8d88095edb5a82e5c16df9878560", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>", "committedDate": "2020-11-25T06:37:41Z", "type": "forcePushed"}, {"oid": "eee54ae7609573acc1efe2b0d96f40eaf5120b91", "url": "https://github.com/hyperledger/besu/commit/eee54ae7609573acc1efe2b0d96f40eaf5120b91", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>", "committedDate": "2020-11-25T06:44:49Z", "type": "commit"}, {"oid": "eee54ae7609573acc1efe2b0d96f40eaf5120b91", "url": "https://github.com/hyperledger/besu/commit/eee54ae7609573acc1efe2b0d96f40eaf5120b91", "message": "Fix Windows bat file, add a CircleCI build step for it\n\nSigned-off-by: Antoine Toulme <antoine@lunar-ocean.com>", "committedDate": "2020-11-25T06:44:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY3NzgzNw==", "url": "https://github.com/hyperledger/besu/pull/1608#discussion_r530677837", "bodyText": "What does this do before the fix?  Does the orb expect a zero from the process return?", "author": "shemnon", "createdAt": "2020-11-25T22:39:03Z", "path": ".circleci/config.yml", "diffHunk": "@@ -99,6 +102,27 @@ jobs:\n           path:  build/distributions\n           destination: distributions\n           when: always\n+  testWindows:\n+    executor: win/default\n+    steps:\n+      - attach_workspace:\n+          at: ~/project\n+      - run:\n+          name: Unzip Windows build\n+          no_output_timeout: 20m\n+          command: |\n+            cd build/distributions\n+            unzip besu-*.zip -d besu-tmp\n+            cd besu-tmp\n+            mv besu-* ../besu\n+      - run:\n+          name: Test Besu Windows executable\n+          no_output_timeout: 10m\n+          command: |\n+            build\\distributions\\besu\\bin\\besu.bat --help\n+            build\\distributions\\besu\\bin\\besu.bat --version", "originalCommit": "eee54ae7609573acc1efe2b0d96f40eaf5120b91", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY4NjcwNA==", "url": "https://github.com/hyperledger/besu/pull/1608#discussion_r530686704", "bodyText": "That's right. Before the fix, the process exits with code 1, and therefore the build fails.\nThis is a very simple sanity check.", "author": "atoulme", "createdAt": "2020-11-25T23:08:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY3NzgzNw=="}], "type": "inlineReview"}, {"oid": "564e0e761cb6e8038e049a66a24f318c7baf1d98", "url": "https://github.com/hyperledger/besu/commit/564e0e761cb6e8038e049a66a24f318c7baf1d98", "message": "Merge branch 'master' into fix_windows", "committedDate": "2020-11-25T23:08:23Z", "type": "commit"}]}