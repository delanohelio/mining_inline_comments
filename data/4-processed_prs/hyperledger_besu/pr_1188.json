{"pr_number": 1188, "pr_title": "IBFT/Clique config must have epoch length > 0", "pr_createdAt": "2020-07-02T02:24:48Z", "pr_url": "https://github.com/hyperledger/besu/pull/1188", "timeline": [{"oid": "ffe539de75b450b5e7fa5331f6bb01a59acd8021", "url": "https://github.com/hyperledger/besu/commit/ffe539de75b450b5e7fa5331f6bb01a59acd8021", "message": "reject epoch length <= 0\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-07-02T01:35:20Z", "type": "commit"}, {"oid": "c246313b0bc0f8498780596064688018f66f7248", "url": "https://github.com/hyperledger/besu/commit/c246313b0bc0f8498780596064688018f66f7248", "message": "added positive epochLength to tests\n\nSigned-off-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-07-02T02:18:32Z", "type": "commit"}, {"oid": "89eeb85c38079910a8cbcf870d83832b3f3f59ae", "url": "https://github.com/hyperledger/besu/commit/89eeb85c38079910a8cbcf870d83832b3f3f59ae", "message": "Merge branch 'master' of https://github.com/hyperledger/besu into 836-epoch-length-zero", "committedDate": "2020-07-02T02:22:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcyMDkyMA==", "url": "https://github.com/hyperledger/besu/pull/1188#discussion_r448720920", "bodyText": "nit: If you want, you could look at using \"ParameterizedTest\" ... but otherwise, all good.", "author": "rain-on", "createdAt": "2020-07-02T02:57:43Z", "path": "consensus/ibft/src/test/java/org/hyperledger/besu/consensus/ibft/IbftProtocolScheduleTest.java", "diffHunk": "@@ -96,10 +99,39 @@ public void negativeBlockRewardThrowsException() {\n     final IbftConfigOptions ibftConfig = mock(IbftConfigOptions.class);\n     when(ibftConfig.getMiningBeneficiary()).thenReturn(Optional.empty());\n     when(ibftConfig.getBlockRewardWei()).thenReturn(arbitraryBlockReward);\n+    when(ibftConfig.getEpochLength()).thenReturn(3000L);\n     when(genesisConfig.getIbft2ConfigOptions()).thenReturn(ibftConfig);\n \n     assertThatThrownBy(() -> IbftProtocolSchedule.create(genesisConfig))\n         .isInstanceOf(IllegalArgumentException.class)\n         .hasMessage(\"Ibft2 Block reward in config cannot be negative\");\n   }\n+\n+  @Test", "originalCommit": "89eeb85c38079910a8cbcf870d83832b3f3f59ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2b5f2e26dc579f9d784995192b73ae8765dea2e0", "url": "https://github.com/hyperledger/besu/commit/2b5f2e26dc579f9d784995192b73ae8765dea2e0", "message": "Merge branch 'master' into 836-epoch-length-zero", "committedDate": "2020-07-02T03:18:16Z", "type": "commit"}]}