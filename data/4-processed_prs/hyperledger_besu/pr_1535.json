{"pr_number": 1535, "pr_title": "Adding support for isQuorum and qip714block options in genesis", "pr_createdAt": "2020-11-04T22:25:21Z", "pr_url": "https://github.com/hyperledger/besu/pull/1535", "timeline": [{"oid": "46aae1487208b5846afd86dd3ce2b8230a216d38", "url": "https://github.com/hyperledger/besu/commit/46aae1487208b5846afd86dd3ce2b8230a216d38", "message": "Adding support for isQuorum and qip714block options in genesis\n\nSigned-off-by: Lucas Saldanha <lucascrsaldanha@gmail.com>", "committedDate": "2020-11-04T22:23:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY2Nzg4OA==", "url": "https://github.com/hyperledger/besu/pull/1535#discussion_r517667888", "bodyText": "When Besu is not in Quorum mode, we won't add isQuorum: false to the map 'cause it will end up as an unnecessary key in the json-rpc admin response. Does this make sense or should we add it anyway?", "author": "lucassaldanha", "createdAt": "2020-11-04T22:27:15Z", "path": "config/src/main/java/org/hyperledger/besu/config/JsonGenesisConfigOptions.java", "diffHunk": "@@ -348,6 +358,12 @@ public OptionalLong getEcip1017EraRounds() {\n     if (isIbft2()) {\n       builder.put(\"ibft2\", getIbft2ConfigOptions().asMap());\n     }\n+\n+    if (isQuorum()) {", "originalCommit": "46aae1487208b5846afd86dd3ce2b8230a216d38", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY3NTI5Mg==", "url": "https://github.com/hyperledger/besu/pull/1535#discussion_r517675292", "bodyText": "I don't think we need to know about it unless it is true", "author": "macfarla", "createdAt": "2020-11-04T22:44:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY2Nzg4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY4NzAwOQ==", "url": "https://github.com/hyperledger/besu/pull/1535#discussion_r517687009", "bodyText": "nit: can the B be capital?  qip714Block. or is it lower case in Quorum configs?  The code that parses the config drops all the cases anyway, almost entirely a style thing.", "author": "shemnon", "createdAt": "2020-11-04T23:15:45Z", "path": "config/src/test/resources/valid_config_with_quorum_config.json", "diffHunk": "@@ -0,0 +1,35 @@\n+{\n+  \"chainId\": 4,\n+  \"eip150Block\": 2,\n+  \"homesteadBlock\": 1,\n+  \"eip150Hash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n+  \"eip155Block\": 3,\n+  \"eip158Block\": 3,\n+  \"byzantiumBlock\": 1035301,\n+  \"isQuorum\": true,\n+  \"qip714block\": 99999,", "originalCommit": "46aae1487208b5846afd86dd3ce2b8230a216d38", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcxOTQ5MQ==", "url": "https://github.com/hyperledger/besu/pull/1535#discussion_r517719491", "bodyText": "If our code doesn't care about casing it is ok. I'll change it :)", "author": "lucassaldanha", "createdAt": "2020-11-05T00:57:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY4NzAwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzcyMDYwMw==", "url": "https://github.com/hyperledger/besu/pull/1535#discussion_r517720603", "bodyText": "I've checked and it looks like our code doesn't work with any casing. I'll keep it matching Quorum's casing for now as I've seen some setups where we are using the same genesis file for both (with a few repeated properties, but I don't want to add another one to the list of different properties...).\nI'm happy to discuss this further and change it later if we think it makes sense.", "author": "lucassaldanha", "createdAt": "2020-11-05T01:01:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY4NzAwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMzMDcxOA==", "url": "https://github.com/hyperledger/besu/pull/1535#discussion_r518330718", "bodyText": "Yes, keeping copy/paste compatible with Quorum configs would be a very nice thing.", "author": "shemnon", "createdAt": "2020-11-05T20:02:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY4NzAwOQ=="}], "type": "inlineReview"}]}