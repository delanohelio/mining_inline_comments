{"pr_number": 811, "pr_title": "JENKINS-62788 Remove custom f:checkbox fork", "pr_createdAt": "2020-08-02T15:33:52Z", "pr_url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811", "timeline": [{"oid": "a66b87d413a6613161f9b110153b9190437e085f", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/a66b87d413a6613161f9b110153b9190437e085f", "message": "JENKINS-62788 Remove custom f:checkbox fork", "committedDate": "2020-08-02T15:32:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1MTI0MQ==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811#discussion_r466051241", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\t\t\t\t<j:set var=\"readOnlyMode\" value=\"${permission.readonly}\"/>\n          \n          \n            \n            \t\t\t\t\t\t\t\t<f:checkbox title=\"${permission.name}\" checked=\"${permission.granted}\" />\n          \n          \n            \n            \t\t\t\t\t\t\t\t<f:checkbox title=\"${permission.name}\" checked=\"${permission.granted}\"  readonly=\"${permission.readonly}\"/>\n          \n      \n    \n    \n  \n\ndoes not work?", "author": "jglick", "createdAt": "2020-08-05T23:04:07Z", "path": "src/main/resources/org/csanchez/jenkins/plugins/kubernetes/KubernetesFolderProperty/config.jelly", "diffHunk": "@@ -14,7 +14,8 @@\n \t\t\t\t\t<j:otherwise>\n \t\t\t\t\t\t<j:forEach var=\"permission\" items=\"${effectivePermissions}\">\n \t\t\t\t\t\t\t<f:entry field=\"${permission.formName}\">\n-\t\t\t\t\t\t\t\t<kube:checkbox title=\"${permission.name}\" checked=\"${permission.granted}\" readonly=\"${permission.readonly}\"/>\n+\t\t\t\t\t\t\t\t<j:set var=\"readOnlyMode\" value=\"${permission.readonly}\"/>\n+\t\t\t\t\t\t\t\t<f:checkbox title=\"${permission.name}\" checked=\"${permission.granted}\" />", "originalCommit": "a66b87d413a6613161f9b110153b9190437e085f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE3MzA4OA==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811#discussion_r466173088", "bodyText": "That only prevents clicking through JavaScript it doesn\u2019t set the standard DOM property for it and it doesn\u2019t change the UI to show they can\u2019t click it.\nAt least from reading the code I haven\u2019t tried it...", "author": "timja", "createdAt": "2020-08-06T06:27:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1MTI0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5MzU5MA==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811#discussion_r466593590", "bodyText": "Looks like I was confusing readonly, old, with readOnlyMode introduced in jenkinsci/jenkins#4506. It seems the latter is not an attribute but an (undocumented?) dynamically-scoped variable.", "author": "jglick", "createdAt": "2020-08-06T18:05:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1MTI0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNDE2Mw==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811#discussion_r466604163", "bodyText": "It\u2019s documented on Jenkins.io https://www.jenkins.io/doc/developer/views/read-only/#enabling-read-only-view-support", "author": "timja", "createdAt": "2020-08-06T18:25:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1MTI0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNDgwMg==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811#discussion_r466604802", "bodyText": "I see. Can you link to that from the attribute docs for readonly on affected controls please?", "author": "jglick", "createdAt": "2020-08-06T18:26:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1MTI0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwNjUzNw==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811#discussion_r466606537", "bodyText": "it's not an attribute though, would you expect it as part of the top level description?", "author": "timja", "createdAt": "2020-08-06T18:29:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1MTI0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYwODUyNw==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/811#discussion_r466608527", "bodyText": "I am just guessing someone trying to figure out how to make a checkbox read-only is going to look at the documentation for the attribute named readonly, so put it there.", "author": "jglick", "createdAt": "2020-08-06T18:33:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA1MTI0MQ=="}], "type": "inlineReview"}]}