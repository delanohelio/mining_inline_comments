{"pr_number": 689, "pr_title": "Fix ContainerExecDecoratorTest#testCommandExecution", "pr_createdAt": "2020-01-17T13:18:30Z", "pr_url": "https://github.com/jenkinsci/kubernetes-plugin/pull/689", "timeline": [{"oid": "88c687464ca1760e2596586ec7259d2b0f0fa6d8", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/88c687464ca1760e2596586ec7259d2b0f0fa6d8", "message": "Fix ContainerExecDecoratorTest#testCommandExecution\n\nIt was failing because in the kind test environment, it can take more than 10\nseconds for the process to complete due to the parallel threads due to\nresource constraints.", "committedDate": "2020-01-17T13:16:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkzNDkxOA==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/689#discussion_r367934918", "bodyText": "We already have\n@Test(timeout = 10000)\nso\n\nDoes this even help?\nWould it really be necessary?\n\nSuggest\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    int exitCode = proc.joinWithTimeout(20, TimeUnit.SECONDS, StreamTaskListener.fromStderr());\n          \n          \n            \n                    int exitCode = proc.join();\n          \n      \n    \n    \n  \n\nand for the test overall\n@Test(timeout = 180_000)\nmatching JenkinsRule.timeout.", "author": "jglick", "createdAt": "2020-01-17T13:29:50Z", "path": "src/test/java/org/csanchez/jenkins/plugins/kubernetes/pipeline/ContainerExecDecoratorTest.java", "diffHunk": "@@ -376,7 +376,7 @@ private ProcReturn execCommandInContainer(String containerName, Node node, boole\n             Thread.sleep(100);\n         }\n         assertFalse(\"proc is alive\", proc.isAlive());\n-        int exitCode = proc.joinWithTimeout(10, TimeUnit.SECONDS, StreamTaskListener.fromStderr());\n+        int exitCode = proc.joinWithTimeout(20, TimeUnit.SECONDS, StreamTaskListener.fromStderr());", "originalCommit": "88c687464ca1760e2596586ec7259d2b0f0fa6d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk0MDE1NQ==", "url": "https://github.com/jenkinsci/kubernetes-plugin/pull/689#discussion_r367940155", "bodyText": "Since this is used across multiple tests, I used a global timeout", "author": "Vlatombe", "createdAt": "2020-01-17T13:42:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkzNDkxOA=="}], "type": "inlineReview"}, {"oid": "73fe554712d48c1c2ff833a440b0dbc096b63c86", "url": "https://github.com/jenkinsci/kubernetes-plugin/commit/73fe554712d48c1c2ff833a440b0dbc096b63c86", "message": "Review from jesse: remove join with timeout, instead set a global test timeout", "committedDate": "2020-01-17T13:41:46Z", "type": "commit"}]}