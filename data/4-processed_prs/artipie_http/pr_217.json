{"pr_number": 217, "pr_title": "#196 classification methods added", "pr_createdAt": "2020-08-12T09:24:31Z", "pr_url": "https://github.com/artipie/http/pull/217", "timeline": [{"oid": "ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "url": "https://github.com/artipie/http/commit/ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "message": "#196 classification methods added", "committedDate": "2020-08-12T09:12:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI4MTI3MQ==", "url": "https://github.com/artipie/http/pull/217#discussion_r469281271", "bodyText": "@genryxy in this project we do not use popular getter/setter naming convention. We are naming methods as verbs if the do some action and as nouns if they return some value. So here it would be more along the lines to name methods error, clientError, serverError.", "author": "olegmoz", "createdAt": "2020-08-12T14:00:05Z", "path": "src/main/java/com/artipie/http/rs/RsStatus.java", "diffHunk": "@@ -152,6 +152,33 @@ public String code() {\n         return this.string;\n     }\n \n+    /**\n+     * Checks whether the RsStatus is a client error.\n+     * @return True if the RsStatus is a client error, otherwise - false.\n+     * @since 0.16\n+     */\n+    public boolean isClientError() {\n+        return this.string.charAt(0) == '4';\n+    }\n+\n+    /**\n+     * Checks whether the RsStatus is a server error.\n+     * @return True if the RsStatus is a server error, otherwise - false.\n+     * @since 0.16\n+     */\n+    public boolean isServerError() {\n+        return this.string.charAt(0) == '5';\n+    }\n+\n+    /**\n+     * Checks whether the RsStatus is an error.\n+     * @return True if the RsStatus is an error, otherwise - false.\n+     * @since 0.16\n+     */\n+    public boolean isError() {\n+        return this.isClientError() || this.isServerError();\n+    }", "originalCommit": "ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI4MjAwMw==", "url": "https://github.com/artipie/http/pull/217#discussion_r469282003", "bodyText": "@genryxy I'd suggest to extract common code for checking first symbol into private method", "author": "olegmoz", "createdAt": "2020-08-12T14:01:03Z", "path": "src/main/java/com/artipie/http/rs/RsStatus.java", "diffHunk": "@@ -152,6 +152,33 @@ public String code() {\n         return this.string;\n     }\n \n+    /**\n+     * Checks whether the RsStatus is a client error.\n+     * @return True if the RsStatus is a client error, otherwise - false.\n+     * @since 0.16\n+     */\n+    public boolean isClientError() {\n+        return this.string.charAt(0) == '4';\n+    }\n+\n+    /**\n+     * Checks whether the RsStatus is a server error.\n+     * @return True if the RsStatus is a server error, otherwise - false.\n+     * @since 0.16\n+     */\n+    public boolean isServerError() {\n+        return this.string.charAt(0) == '5';\n+    }", "originalCommit": "ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI4Mzk2OQ==", "url": "https://github.com/artipie/http/pull/217#discussion_r469283969", "bodyText": "@genryxy please add all classes of status codes from RFC, it's 6.x points in the document", "author": "olegmoz", "createdAt": "2020-08-12T14:03:47Z", "path": "src/main/java/com/artipie/http/rs/RsStatus.java", "diffHunk": "@@ -152,6 +152,33 @@ public String code() {\n         return this.string;\n     }\n ", "originalCommit": "ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI4NTQ4Mg==", "url": "https://github.com/artipie/http/pull/217#discussion_r469285482", "bodyText": "@genryxy we are using hamcrest matchers for all tests in the project. Also if test has more then assertion, that it needs an assertion message", "author": "olegmoz", "createdAt": "2020-08-12T14:05:59Z", "path": "src/test/java/com/artipie/http/rs/RsStatusTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * MIT License\n+ *\n+ * Copyright (c) 2020 Artipie\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in all\n+ * copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package com.artipie.http.rs;\n+\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+\n+/**\n+ * Test for {@link RsStatus}.\n+ *\n+ * @since 0.16\n+ */\n+final class RsStatusTest {\n+    @Test\n+    void createsClientError() {\n+        final RsStatus status = RsStatus.BAD_REQUEST;\n+        Assertions.assertTrue(status.isClientError());\n+        Assertions.assertTrue(status.isError());\n+        Assertions.assertFalse(status.isServerError());\n+    }\n+\n+    @Test\n+    void createsServerError() {\n+        final RsStatus status = RsStatus.INTERNAL_ERROR;\n+        Assertions.assertFalse(status.isClientError());\n+        Assertions.assertTrue(status.isError());\n+        Assertions.assertTrue(status.isServerError());\n+    }\n+\n+    @Test\n+    void createsNotError() {\n+        final RsStatus success = RsStatus.OK;\n+        final RsStatus rscontinue = RsStatus.CONTINUE;\n+        final RsStatus found = RsStatus.FOUND;\n+        Assertions.assertFalse(success.isError());\n+        Assertions.assertFalse(rscontinue.isError());\n+        Assertions.assertFalse(found.isError());\n+    }", "originalCommit": "ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI4Njc4Mg==", "url": "https://github.com/artipie/http/pull/217#discussion_r469286782", "bodyText": "@genryxy it would be better to use @ParameterizedTest here, to run same test for several status codes", "author": "olegmoz", "createdAt": "2020-08-12T14:07:58Z", "path": "src/test/java/com/artipie/http/rs/RsStatusTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * MIT License\n+ *\n+ * Copyright (c) 2020 Artipie\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in all\n+ * copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package com.artipie.http.rs;\n+\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+\n+/**\n+ * Test for {@link RsStatus}.\n+ *\n+ * @since 0.16\n+ */\n+final class RsStatusTest {\n+    @Test\n+    void createsClientError() {\n+        final RsStatus status = RsStatus.BAD_REQUEST;\n+        Assertions.assertTrue(status.isClientError());\n+        Assertions.assertTrue(status.isError());\n+        Assertions.assertFalse(status.isServerError());\n+    }\n+\n+    @Test\n+    void createsServerError() {\n+        final RsStatus status = RsStatus.INTERNAL_ERROR;\n+        Assertions.assertFalse(status.isClientError());\n+        Assertions.assertTrue(status.isError());\n+        Assertions.assertTrue(status.isServerError());\n+    }\n+\n+    @Test\n+    void createsNotError() {\n+        final RsStatus success = RsStatus.OK;\n+        final RsStatus rscontinue = RsStatus.CONTINUE;\n+        final RsStatus found = RsStatus.FOUND;", "originalCommit": "ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI5MTE4Nw==", "url": "https://github.com/artipie/http/pull/217#discussion_r469291187", "bodyText": "@genryxy test method names do not make much sense as RsStatus does not create anything. I'd rather name them shouldBe[ClientError/ServerError/Error] or test[ClientError/ServerError/Error]. WDYT?", "author": "olegmoz", "createdAt": "2020-08-12T14:14:12Z", "path": "src/test/java/com/artipie/http/rs/RsStatusTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * MIT License\n+ *\n+ * Copyright (c) 2020 Artipie\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in all\n+ * copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n+ * SOFTWARE.\n+ */\n+package com.artipie.http.rs;\n+\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+\n+/**\n+ * Test for {@link RsStatus}.\n+ *\n+ * @since 0.16\n+ */\n+final class RsStatusTest {\n+    @Test\n+    void createsClientError() {", "originalCommit": "ae8c1f9d1d4395fed0277cad3938b1ee7bb48c97", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMxMDMyMQ==", "url": "https://github.com/artipie/http/pull/217#discussion_r469310321", "bodyText": "@olegmoz thanks, I think you're right", "author": "genryxy", "createdAt": "2020-08-12T14:40:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI5MTE4Nw=="}], "type": "inlineReview"}, {"oid": "04417bcaf4b7aabe44343c70c3128b4de0cb66cf", "url": "https://github.com/artipie/http/commit/04417bcaf4b7aabe44343c70c3128b4de0cb66cf", "message": "#196 other status added, tests are fixed", "committedDate": "2020-08-12T16:39:29Z", "type": "commit"}]}