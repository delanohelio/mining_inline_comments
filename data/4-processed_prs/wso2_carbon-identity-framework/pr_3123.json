{"pr_number": 3123, "pr_title": "Change tenant permissions", "pr_createdAt": "2020-09-24T04:34:56Z", "pr_url": "https://github.com/wso2/carbon-identity-framework/pull/3123", "timeline": [{"oid": "650b551bcbce564aa9ccf082ec3977280794c3e6", "url": "https://github.com/wso2/carbon-identity-framework/commit/650b551bcbce564aa9ccf082ec3977280794c3e6", "message": "Change tenant permissions", "committedDate": "2020-09-24T04:17:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxNjg1Ng==", "url": "https://github.com/wso2/carbon-identity-framework/pull/3123#discussion_r521516856", "bodyText": "there is no such scope", "author": "IsuraD", "createdAt": "2020-11-11T17:22:58Z", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml.j2", "diffHunk": "@@ -1986,17 +1986,25 @@\n             <Permissions>/permission/admin/manage/identity/applicationmgt/view</Permissions>\n             <Scopes>internal_application_mgt_view</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET, POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-        </Resource>\n-        <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-         </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/protected/manage/monitor/tenants/view</Permissions>\n+            <Scopes>internal_view_tenants</Scopes>", "originalCommit": "650b551bcbce564aa9ccf082ec3977280794c3e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxNjk0OQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/3123#discussion_r521516949", "bodyText": "there is no such scope", "author": "IsuraD", "createdAt": "2020-11-11T17:23:05Z", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml.j2", "diffHunk": "@@ -1986,17 +1986,25 @@\n             <Permissions>/permission/admin/manage/identity/applicationmgt/view</Permissions>\n             <Scopes>internal_application_mgt_view</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET, POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-        </Resource>\n-        <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-         </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/protected/manage/monitor/tenants/view</Permissions>\n+            <Scopes>internal_view_tenants</Scopes>\n+        </Resource>\n+            <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/protected/manage/modify/tenants/create</Permissions>\n+            <Scopes>internal_create_tenants</Scopes>", "originalCommit": "650b551bcbce564aa9ccf082ec3977280794c3e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxNjk4OA==", "url": "https://github.com/wso2/carbon-identity-framework/pull/3123#discussion_r521516988", "bodyText": "there is no such scope", "author": "IsuraD", "createdAt": "2020-11-11T17:23:08Z", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml.j2", "diffHunk": "@@ -1986,17 +1986,25 @@\n             <Permissions>/permission/admin/manage/identity/applicationmgt/view</Permissions>\n             <Scopes>internal_application_mgt_view</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET, POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-        </Resource>\n-        <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-         </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/protected/manage/monitor/tenants/view</Permissions>\n+            <Scopes>internal_view_tenants</Scopes>\n+        </Resource>\n+            <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/protected/manage/modify/tenants/create</Permissions>\n+            <Scopes>internal_create_tenants</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/protected/manage/modify/tenants/create</Permissions>\n+            <Scopes>internal_create_tenants</Scopes>", "originalCommit": "650b551bcbce564aa9ccf082ec3977280794c3e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxNzEwNw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/3123#discussion_r521517107", "bodyText": "there is no such scope", "author": "IsuraD", "createdAt": "2020-11-11T17:23:16Z", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml.j2", "diffHunk": "@@ -1986,17 +1986,25 @@\n             <Permissions>/permission/admin/manage/identity/applicationmgt/view</Permissions>\n             <Scopes>internal_application_mgt_view</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET, POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-        </Resource>\n-        <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-         </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/protected/manage/monitor/tenants/view</Permissions>\n+            <Scopes>internal_view_tenants</Scopes>\n+        </Resource>\n+            <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/protected/manage/modify/tenants/create</Permissions>\n+            <Scopes>internal_create_tenants</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/protected/manage/modify/tenants/create</Permissions>\n+            <Scopes>internal_create_tenants</Scopes>\n+        </Resource>\n         <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"PUT\">\n-            <Permissions>/permission/protected/manage/modify/tenants</Permissions>\n-            <Scopes>internal_modify_tenants</Scopes>\n+            <Permissions>/permission/protected/manage/modify/tenants/update</Permissions>\n+            <Scopes>internal_update_tenants</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)/metadata\" secured=\"true\" http-method=\"DELETE\">\n+            <Permissions>/permission/protected/manage/modify/tenants/delete</Permissions>\n+            <Scopes>internal_tenant_metadata_delete</Scopes>", "originalCommit": "650b551bcbce564aa9ccf082ec3977280794c3e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxNzE3Mw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/3123#discussion_r521517173", "bodyText": "there is no such scope", "author": "IsuraD", "createdAt": "2020-11-11T17:23:20Z", "path": "features/identity-core/org.wso2.carbon.identity.core.server.feature/resources/identity.xml.j2", "diffHunk": "@@ -1986,17 +1986,25 @@\n             <Permissions>/permission/admin/manage/identity/applicationmgt/view</Permissions>\n             <Scopes>internal_application_mgt_view</Scopes>\n         </Resource>\n-        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET, POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-        </Resource>\n-        <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n-            <Permissions>/permission/protected/manage/monitor/tenants/list</Permissions>\n-            <Scopes>internal_list_tenants</Scopes>\n-         </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"GET\">\n+            <Permissions>/permission/protected/manage/monitor/tenants/view</Permissions>\n+            <Scopes>internal_view_tenants</Scopes>\n+        </Resource>\n+            <Resource context=\"(.*)/api/server/v1/channel-verified-tenants(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/protected/manage/modify/tenants/create</Permissions>\n+            <Scopes>internal_create_tenants</Scopes>\n+        </Resource>\n+        <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"POST\">\n+            <Permissions>/permission/protected/manage/modify/tenants/create</Permissions>\n+            <Scopes>internal_create_tenants</Scopes>\n+        </Resource>\n         <Resource context=\"(.*)/api/server/v1/tenants(.*)\" secured=\"true\" http-method=\"PUT\">\n-            <Permissions>/permission/protected/manage/modify/tenants</Permissions>\n-            <Scopes>internal_modify_tenants</Scopes>\n+            <Permissions>/permission/protected/manage/modify/tenants/update</Permissions>", "originalCommit": "650b551bcbce564aa9ccf082ec3977280794c3e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bc75e30758755aa0e6d37d9824319a9eba3a1267", "url": "https://github.com/wso2/carbon-identity-framework/commit/bc75e30758755aa0e6d37d9824319a9eba3a1267", "message": "Remove unncessary changes", "committedDate": "2020-11-12T11:02:53Z", "type": "commit"}, {"oid": "bc75e30758755aa0e6d37d9824319a9eba3a1267", "url": "https://github.com/wso2/carbon-identity-framework/commit/bc75e30758755aa0e6d37d9824319a9eba3a1267", "message": "Remove unncessary changes", "committedDate": "2020-11-12T11:02:53Z", "type": "forcePushed"}, {"oid": "99d67b1d293af285ca91601b028bfc0c8b5ca392", "url": "https://github.com/wso2/carbon-identity-framework/commit/99d67b1d293af285ca91601b028bfc0c8b5ca392", "message": "Resolve conflicts", "committedDate": "2020-11-12T11:17:29Z", "type": "commit"}, {"oid": "99d67b1d293af285ca91601b028bfc0c8b5ca392", "url": "https://github.com/wso2/carbon-identity-framework/commit/99d67b1d293af285ca91601b028bfc0c8b5ca392", "message": "Resolve conflicts", "committedDate": "2020-11-12T11:17:29Z", "type": "forcePushed"}]}