{"pr_number": 7930, "pr_title": "handle nested, braceless control flow statements", "pr_createdAt": "2020-09-30T20:36:06Z", "pr_url": "https://github.com/rstudio/rstudio/pull/7930", "timeline": [{"oid": "009b013daf6f1463dc7d179ced8a15aa256a274f", "url": "https://github.com/rstudio/rstudio/commit/009b013daf6f1463dc7d179ced8a15aa256a274f", "message": "improve indentation handling for brace-less control flow", "committedDate": "2020-09-29T04:51:20Z", "type": "commit"}, {"oid": "37916ebb6a69c8993359426a66ae1f8f961ac395", "url": "https://github.com/rstudio/rstudio/commit/37916ebb6a69c8993359426a66ae1f8f961ac395", "message": "handle expression continuation vs. end of expr", "committedDate": "2020-09-29T04:58:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc5MDc2NQ==", "url": "https://github.com/rstudio/rstudio/pull/7930#discussion_r497790765", "bodyText": "Should else be on this list?", "author": "jmcphers", "createdAt": "2020-09-30T20:48:05Z", "path": "src/gwt/acesupport/acemode/r_code_model.js", "diffHunk": "@@ -37,6 +37,15 @@ function isOneOf(object, array)\n    return false;\n }\n \n+function isControlFlowFunctionKeyword(value)\n+{\n+   return value === \"if\" ||\n+          value === \"for\" ||\n+          value === \"while\" ||\n+          value === \"repeat\" ||\n+          value === \"function\";", "originalCommit": "37916ebb6a69c8993359426a66ae1f8f961ac395", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgwOTkyMA==", "url": "https://github.com/rstudio/rstudio/pull/7930#discussion_r497809920", "bodyText": "else needs its own special handling, which I haven't touched in this PR. For example, in this case, normally one wants indentation at the first column:\nif (foo)\n  if (bar)\n    x <- 1\n|\n\nbut if else is inserted, then we need to outdent:\nif (foo)\n  if (bar)\n    x <- 1\n  else", "author": "kevinushey", "createdAt": "2020-09-30T21:25:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzc5MDc2NQ=="}], "type": "inlineReview"}]}