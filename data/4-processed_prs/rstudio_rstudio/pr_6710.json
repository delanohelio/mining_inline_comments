{"pr_number": 6710, "pr_title": "Fall back rstudio service installation path to /usr/lib/systemd", "pr_createdAt": "2020-04-22T16:04:43Z", "pr_url": "https://github.com/rstudio/rstudio/pull/6710", "timeline": [{"oid": "4ed57952413cc616d770ac2db48df0c75771c25a", "url": "https://github.com/rstudio/rstudio/commit/4ed57952413cc616d770ac2db48df0c75771c25a", "message": "Fall back on installing rstudio service scripts at /usr/lib/systemd if /lib/systemd does not exist", "committedDate": "2020-04-22T16:02:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI2MDE0Nw==", "url": "https://github.com/rstudio/rstudio/pull/6710#discussion_r413260147", "bodyText": "Shouldn't this be -e? (since -f tests for existence of 'regular' file)", "author": "kevinushey", "createdAt": "2020-04-22T19:29:38Z", "path": "package/linux/debian-control/postinst.in", "diffHunk": "@@ -77,7 +77,16 @@ if test \"$INIT_SYSTEM\" = \"systemd\"\n then\n    systemctl stop rstudio-server.service 2>/dev/null\n    systemctl disable rstudio-server.service 2>/dev/null\n-   cp ${CMAKE_INSTALL_PREFIX}/extras/systemd/rstudio-server.service /lib/systemd/system/rstudio-server.service\n+  \n+   if test -f /lib/systemd", "originalCommit": "4ed57952413cc616d770ac2db48df0c75771c25a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI3NjU0NQ==", "url": "https://github.com/rstudio/rstudio/pull/6710#discussion_r413276545", "bodyText": "You're right, thanks! Will update.", "author": "kfeinauer", "createdAt": "2020-04-22T19:50:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI2MDE0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzI2MDI5Nw==", "url": "https://github.com/rstudio/rstudio/pull/6710#discussion_r413260297", "bodyText": "Same here", "author": "kevinushey", "createdAt": "2020-04-22T19:29:54Z", "path": "package/linux/rpm-script/postinst.sh.in", "diffHunk": "@@ -102,7 +102,16 @@ then\n    \n    systemctl stop rstudio-server.service 2>/dev/null\n    systemctl disable rstudio-server.service 2>/dev/null\n-   cp ${CMAKE_INSTALL_PREFIX}/extras/systemd/rstudio-server.redhat.service /lib/systemd/system/rstudio-server.service\n+\n+   if test -f /lib/systemd", "originalCommit": "4ed57952413cc616d770ac2db48df0c75771c25a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}