{"pr_number": 6673, "pr_title": "add support for Rtools 4.0", "pr_createdAt": "2020-04-15T22:55:53Z", "pr_url": "https://github.com/rstudio/rstudio/pull/6673", "timeline": [{"oid": "d9ccd95c58372f98416fef35774b90d8db7955f1", "url": "https://github.com/rstudio/rstudio/commit/d9ccd95c58372f98416fef35774b90d8db7955f1", "message": "also use RTOOLS40_HOME", "committedDate": "2020-04-15T22:45:07Z", "type": "commit"}, {"oid": "a6c262fe86552910839d8e0772cec8a4a36f8f65", "url": "https://github.com/rstudio/rstudio/commit/a6c262fe86552910839d8e0772cec8a4a36f8f65", "message": "adapt to change in field name", "committedDate": "2020-04-15T22:55:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE4NzczMQ==", "url": "https://github.com/rstudio/rstudio/pull/6673#discussion_r409187731", "bodyText": "Is this promotion likely to happen in concert with the 4.0 release? (wondering if we should go ahead and merge this URL for 1.3 and then update to the final URL in the 1.3 patch release)", "author": "jmcphers", "createdAt": "2020-04-15T23:14:20Z", "path": "src/cpp/core/r_util/RToolsInfo.cpp", "diffHunk": "@@ -206,10 +241,23 @@ RToolsInfo::RToolsInfo(const std::string& name,\n \n std::string RToolsInfo::url(const std::string& repos) const\n {\n-   // strip period from name\n-   std::string ver = boost::algorithm::replace_all_copy(name(), \".\", \"\");\n-   std::string url = core::http::URL::complete(\n-                        repos, \"bin/windows/Rtools/Rtools\" + ver + \".exe\");\n+   std::string url;\n+\n+   if (name() == \"4.0\")\n+   {\n+      // TODO: Currently, Rtools 4.0 is only available from the 'testing'\n+      // sub-directory. Update this URL once it's been promoted.", "originalCommit": "a6c262fe86552910839d8e0772cec8a4a36f8f65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI2OTE3NQ==", "url": "https://github.com/rstudio/rstudio/pull/6673#discussion_r409269175", "bodyText": "Yes, it should happen either in tandem with or shortly before the 4.0.0 release.", "author": "kevinushey", "createdAt": "2020-04-16T04:07:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE4NzczMQ=="}], "type": "inlineReview"}]}