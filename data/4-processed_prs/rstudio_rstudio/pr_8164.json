{"pr_number": 8164, "pr_title": "Use Lucida Grande as a fallback on macOS", "pr_createdAt": "2020-10-22T21:12:54Z", "pr_url": "https://github.com/rstudio/rstudio/pull/8164", "timeline": [{"oid": "b2747148acf4c576699668bb01a5c45ad474aca4", "url": "https://github.com/rstudio/rstudio/commit/b2747148acf4c576699668bb01a5c45ad474aca4", "message": "use Lucida Grande as a fallback on macOS", "committedDate": "2020-10-22T21:08:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg==", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510470192", "bodyText": "Is there an associated QTBUG we could link to here?", "author": "kevinushey", "createdAt": "2020-10-22T21:31:59Z", "path": "src/cpp/desktop/DesktopOptions.cpp", "diffHunk": "@@ -266,7 +266,17 @@ QString Options::proportionalFont() const\n    // quotes; e.g. \"sans-serif\" is a signal to look for a font called sans-serif\n    // rather than use the default sans-serif font!\n    if (selectedFont == sansSerif)\n+   {\n+#if defined(__APPLE__)\n+      // Qt 5.15 has a known issue on MacOS in which it can't detect any fonts; if this happens,", "originalCommit": "b2747148acf4c576699668bb01a5c45ad474aca4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MjMwMQ==", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510472301", "bodyText": "No, I couldn't find one.", "author": "jmcphers", "createdAt": "2020-10-22T21:36:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3NDE3MA==", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510474170", "bodyText": "Should this be happening here too (or instead)?\nhttps://github.com/rstudio/rstudio/pull/8142/files#diff-bbf9a277ef640cbca697c4b529194712a2a7f42175e76a30dcaff778a6545b38", "author": "gtritchie", "createdAt": "2020-10-22T21:40:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3NDQwOQ==", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510474409", "bodyText": "Oh, I found the Qt bug! https://bugreports.qt.io/browse/QTBUG-87267", "author": "jmcphers", "createdAt": "2020-10-22T21:40:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3NjAxOQ==", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510476019", "bodyText": "@gtritchie No, that's the last resort font and it's okay if it's a system font. This is the font used for proportionalFont everywhere in our UI.\nBased on my reading of 87267, we couldn't even bet on this change making it into Qt 5.15.2 (\"fix versions: none\"). Is that right?", "author": "jmcphers", "createdAt": "2020-10-22T21:44:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ4MzMxMQ==", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510483311", "bodyText": "Based on my reading of 87267, we couldn't even bet on this change making it into Qt 5.15.2 (\"fix versions: none\"). Is that right?\n\nUnclear from the Qt issue; I've asked in the issue.", "author": "gtritchie", "createdAt": "2020-10-22T22:01:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDYyNjAzMg==", "url": "https://github.com/rstudio/rstudio/pull/8164#discussion_r510626032", "bodyText": "Qt issue was updated with: \u201cThe fix is already in Qt 6 beta-1 which was released on Tuesday. It will also be a part of Qt 5.15.2 which is planned for release in November.\u201d", "author": "gtritchie", "createdAt": "2020-10-23T05:44:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ3MDE5Mg=="}], "type": "inlineReview"}, {"oid": "8d85335985b79a7c74d894a7723ff875c2e08516", "url": "https://github.com/rstudio/rstudio/commit/8d85335985b79a7c74d894a7723ff875c2e08516", "message": "add link to qtbug", "committedDate": "2020-10-22T22:02:40Z", "type": "commit"}]}