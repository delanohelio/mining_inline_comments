{"pr_number": 6905, "pr_title": "suspend change detection handlers during document init", "pr_createdAt": "2020-05-18T17:17:48Z", "pr_url": "https://github.com/rstudio/rstudio/pull/6905", "timeline": [{"oid": "6bfc15435a576838eacaf5b076d372de76d82545", "url": "https://github.com/rstudio/rstudio/commit/6bfc15435a576838eacaf5b076d372de76d82545", "message": "suspend change detection handlers during document init", "committedDate": "2020-05-18T17:17:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjc3OTY0OA==", "url": "https://github.com/rstudio/rstudio/pull/6905#discussion_r426779648", "bodyText": "Note: using an integer flag here just to make this API safe against re-entrant calls to withChangeDetectionSuspended().", "author": "kevinushey", "createdAt": "2020-05-18T17:18:41Z", "path": "src/gwt/src/org/rstudio/studio/client/workbench/views/source/model/DocUpdateSentinel.java", "diffHunk": "@@ -722,23 +722,37 @@ private void applyProperties(JsObject properties,\n       }\n    }\n    \n-   public void suspendAutosave(boolean value)\n+   public void withChangeDetectionSuspended(Command command)\n    {\n-      suspendAutosave_ = value;\n+      try\n+      {\n+         suspendDetectChanges_ += 1;", "originalCommit": "6bfc15435a576838eacaf5b076d372de76d82545", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}