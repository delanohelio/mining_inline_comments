{"pr_number": 8112, "pr_title": "hardcode location for POSTGRES librarys on macOS", "pr_createdAt": "2020-10-19T21:48:16Z", "pr_url": "https://github.com/rstudio/rstudio/pull/8112", "timeline": [{"oid": "8f67e0aa83af2502b5e64e58acf025af073f2701", "url": "https://github.com/rstudio/rstudio/commit/8f67e0aa83af2502b5e64e58acf025af073f2701", "message": "hardcode location for POSTGRES librarys on macOS\n\n- Without this, and depending on system configuration, cmake's find_library would decide that these libraries are part of the system and not include them in the package build\n- For example: `PQ_LIB:FILEPATH=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.15.sdk/usr/lib/libpq.tbd`", "committedDate": "2020-10-19T21:43:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA4NzgzOQ==", "url": "https://github.com/rstudio/rstudio/pull/8112#discussion_r508087839", "bodyText": "@gtritchie Also if you don't mind let's put a comment here about why we're specifically setting the path on OSX (qt bundle script will only bundle dylibs, so if this is pointing to an xcode library spec file it won't get copied into the bundle)", "author": "kfeinauer", "createdAt": "2020-10-19T22:00:27Z", "path": "src/cpp/CMakeLists.txt", "diffHunk": "@@ -415,7 +415,11 @@ if(UNIX)\n    find_library(DL_LIB \"dl\")\n    find_library(SQLITE_LIB \"sqlite3\")\n    get_filename_component(SQLITE_LIB \"${SQLITE_LIB}\" REALPATH)\n-   find_library(PQ_LIB \"pq\")\n+   if (APPLE)\n+      set(PQ_LIB \"/usr/local/lib/libpq.dylib\")", "originalCommit": "8f67e0aa83af2502b5e64e58acf025af073f2701", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA5MjA5Mg==", "url": "https://github.com/rstudio/rstudio/pull/8112#discussion_r508092092", "bodyText": "Good idea, done.", "author": "gtritchie", "createdAt": "2020-10-19T22:10:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA4NzgzOQ=="}], "type": "inlineReview"}, {"oid": "08dab6916fc946893a30e6ec7b475377183d506d", "url": "https://github.com/rstudio/rstudio/commit/08dab6916fc946893a30e6ec7b475377183d506d", "message": "add a comment", "committedDate": "2020-10-19T22:10:17Z", "type": "commit"}]}