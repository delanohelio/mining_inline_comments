{"pr_number": 553, "pr_title": "ci-update", "pr_createdAt": "2020-05-26T14:43:29Z", "pr_url": "https://github.com/constellation-app/constellation/pull/553", "timeline": [{"oid": "cac65ec66a156cff843d5389893ad7dafcbc564a", "url": "https://github.com/constellation-app/constellation/commit/cac65ec66a156cff843d5389893ad7dafcbc564a", "message": "updated runner image and travis pipeline", "committedDate": "2020-05-26T14:33:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc4OTU4OA==", "url": "https://github.com/constellation-app/constellation/pull/553#discussion_r430789588", "bodyText": "The -v has worked fine so what's the advantage of using --mount?", "author": "arcturus2", "createdAt": "2020-05-27T01:07:41Z", "path": ".travis.yml", "diffHunk": "@@ -5,23 +5,22 @@ cache:\n     - ${HOME}/.ivy2/cache\n \n env:\n-  - runner_image=\"constellationapplication/netbeans-runner:11.3.1\"\n+  - RUNNER_IMAGE=\"constellationapplication/netbeans-runner:11.3\"\n \n # Disable shallow clone for SCM SonarCloud analysis\n git:\n   depth: false\n \n jobs:\n   include:\n-\n-  - stage: Run Build and Testing\n+  - stage: Build and Test\n     dist: trusty\n     language: java\n     services:\n       - docker\n     script:\n-      - docker pull \"${runner_image}\"\n-      - docker run -v \"${TRAVIS_BUILD_DIR}:${TRAVIS_BUILD_DIR}\" -v \"${HOME}\"/.ivy2/cache:/root/.ivy2/cache --workdir \"${TRAVIS_BUILD_DIR}\" \"${runner_image}\" .travis/run-tests.sh\n+      - docker pull \"${RUNNER_IMAGE}\"\n+      - docker run --mount \"type=bind,source=${TRAVIS_BUILD_DIR},target=${TRAVIS_BUILD_DIR}\" --mount \"type=bind,source=${HOME}/.ivy2/cache,target=/root/.ivy2/cache\" --workdir \"${TRAVIS_BUILD_DIR}\" \"${RUNNER_IMAGE}\" .travis/run-tests.sh", "originalCommit": "cac65ec66a156cff843d5389893ad7dafcbc564a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkxNzYwMA==", "url": "https://github.com/constellation-app/constellation/pull/553#discussion_r430917600", "bodyText": "--mount is the newer (supposedly more stable) version", "author": "cygnus-x-1", "createdAt": "2020-05-27T07:41:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc4OTU4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc4OTgyMQ==", "url": "https://github.com/constellation-app/constellation/pull/553#discussion_r430789821", "bodyText": "lol", "author": "arcturus2", "createdAt": "2020-05-27T01:08:30Z", "path": "nbproject/project.properties", "diffHunk": "@@ -1,4 +1,4 @@\n-#Mon, 11 May 2020 08:05:56 +0930", "originalCommit": "cac65ec66a156cff843d5389893ad7dafcbc564a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkyMDM3NA==", "url": "https://github.com/constellation-app/constellation/pull/553#discussion_r430920374", "bodyText": "well that didn't last long", "author": "cygnus-x-1", "createdAt": "2020-05-27T07:46:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc4OTgyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc5MDM3OA==", "url": "https://github.com/constellation-app/constellation/pull/553#discussion_r430790378", "bodyText": "is this file meant to replace the other file Dockerfile.netbeans-11.3 ?", "author": "arcturus2", "createdAt": "2020-05-27T01:10:40Z", "path": "docker/netbeans-runner/Dockerfile", "diffHunk": "@@ -0,0 +1,64 @@\n+FROM ubuntu:18.04", "originalCommit": "cac65ec66a156cff843d5389893ad7dafcbc564a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkxOTAyMw==", "url": "https://github.com/constellation-app/constellation/pull/553#discussion_r430919023", "bodyText": "nope - i wasn't meant to commit this :\\", "author": "cygnus-x-1", "createdAt": "2020-05-27T07:43:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDc5MDM3OA=="}], "type": "inlineReview"}, {"oid": "0faf403e766412b74681707a5adb079fdd3ea7f0", "url": "https://github.com/constellation-app/constellation/commit/0faf403e766412b74681707a5adb079fdd3ea7f0", "message": "removed duplicate file", "committedDate": "2020-05-27T07:44:24Z", "type": "commit"}, {"oid": "4ed4b247599b234109d2408712f35f25d0720468", "url": "https://github.com/constellation-app/constellation/commit/4ed4b247599b234109d2408712f35f25d0720468", "message": "added project property continue.after.failing.tests to flag for constellation to fail a build if a unit test fails\nadded temporary workaround to runner image to ensure netbeans unit tests report failure with exit code > 0\nremoved ant from runner image (using built-in netbeans ant instead)\nupdated travis buil dimage to ubuntu bionic to better support sonar-cloud", "committedDate": "2020-06-09T15:39:27Z", "type": "commit"}, {"oid": "e77496cfd53a8d917037c4ca3ad3cb728e64b8c4", "url": "https://github.com/constellation-app/constellation/commit/e77496cfd53a8d917037c4ca3ad3cb728e64b8c4", "message": "Merge branch 'master' into ci-update", "committedDate": "2020-06-10T02:06:37Z", "type": "commit"}]}