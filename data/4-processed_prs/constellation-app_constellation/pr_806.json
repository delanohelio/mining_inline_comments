{"pr_number": 806, "pr_title": "Convert import delimited file to Top Component ", "pr_createdAt": "2020-08-24T06:25:23Z", "pr_url": "https://github.com/constellation-app/constellation/pull/806", "timeline": [{"oid": "2b6d413454cb600269792163d4520561297848c1", "url": "https://github.com/constellation-app/constellation/commit/2b6d413454cb600269792163d4520561297848c1", "message": ":bug: pin import toolbar to view", "committedDate": "2020-08-18T06:00:57Z", "type": "commit"}, {"oid": "598819f708ce4ffa70b7de745595992da05d81f8", "url": "https://github.com/constellation-app/constellation/commit/598819f708ce4ffa70b7de745595992da05d81f8", "message": "add color contrast utilities", "committedDate": "2020-08-24T04:20:28Z", "type": "commit"}, {"oid": "26b1186aad8599142bf60e021ed2b3372db12c10", "url": "https://github.com/constellation-app/constellation/commit/26b1186aad8599142bf60e021ed2b3372db12c10", "message": "set text to inverse color of attribute", "committedDate": "2020-08-24T04:21:36Z", "type": "commit"}, {"oid": "c8c94870905b675853c2c7b0d4f854c3de8d0778", "url": "https://github.com/constellation-app/constellation/commit/c8c94870905b675853c2c7b0d4f854c3de8d0778", "message": "convert importer to view framework", "committedDate": "2020-08-24T04:21:53Z", "type": "commit"}, {"oid": "85f4cce7d6326c6a3862d09b84de81473d4c6a77", "url": "https://github.com/constellation-app/constellation/commit/85f4cce7d6326c6a3862d09b84de81473d4c6a77", "message": "add correct icon path\n\n* assign error text for script parsing", "committedDate": "2020-08-24T05:28:41Z", "type": "commit"}, {"oid": "22aeee8e1e882cc96ad443f83c74ca65e4ef9d4d", "url": "https://github.com/constellation-app/constellation/commit/22aeee8e1e882cc96ad443f83c74ca65e4ef9d4d", "message": "Update filter text color", "committedDate": "2020-08-24T06:02:19Z", "type": "commit"}, {"oid": "ff59b833de8d3e57e2517788036cf25ad6ecb2e4", "url": "https://github.com/constellation-app/constellation/commit/ff59b833de8d3e57e2517788036cf25ad6ecb2e4", "message": "Merge branch 'master' into bugfix/import-delimited-toolbar", "committedDate": "2020-08-24T06:03:30Z", "type": "commit"}, {"oid": "8b4d9c206858f2ce57a86cd66d9245867fe1210d", "url": "https://github.com/constellation-app/constellation/commit/8b4d9c206858f2ce57a86cd66d9245867fe1210d", "message": "added items to whatsnew and changelog", "committedDate": "2020-08-24T06:09:29Z", "type": "commit"}, {"oid": "1d4a2ef4031b3606851d4e637df5333462c68181", "url": "https://github.com/constellation-app/constellation/commit/1d4a2ef4031b3606851d4e637df5333462c68181", "message": "Update project.xml", "committedDate": "2020-08-24T06:25:39Z", "type": "commit"}, {"oid": "455da901da6eb2df40ac736e42864dad5797ef5c", "url": "https://github.com/constellation-app/constellation/commit/455da901da6eb2df40ac736e42864dad5797ef5c", "message": "Revert \"Update project.xml\"\n\nThis reverts commit 1d4a2ef4031b3606851d4e637df5333462c68181.", "committedDate": "2020-08-24T06:27:41Z", "type": "commit"}, {"oid": "825d8d9fd5141f1f63468e18de2c700138562c7c", "url": "https://github.com/constellation-app/constellation/commit/825d8d9fd5141f1f63468e18de2c700138562c7c", "message": "Fix sonar warnings", "committedDate": "2020-08-25T00:11:19Z", "type": "commit"}, {"oid": "7d667947ca3744104f7a1a551a9d428d30f06179", "url": "https://github.com/constellation-app/constellation/commit/7d667947ca3744104f7a1a551a9d428d30f06179", "message": "make combobox save previous selection", "committedDate": "2020-08-26T01:39:39Z", "type": "commit"}, {"oid": "471c4c5e598eec84cdc91204fc91f2388e2bc748", "url": "https://github.com/constellation-app/constellation/commit/471c4c5e598eec84cdc91204fc91f2388e2bc748", "message": "remove abort button", "committedDate": "2020-08-26T03:07:05Z", "type": "commit"}, {"oid": "1e7d8cc4c67d64a6d7d56f0ffa4f5890f0eb3a59", "url": "https://github.com/constellation-app/constellation/commit/1e7d8cc4c67d64a6d7d56f0ffa4f5890f0eb3a59", "message": "Merge branch 'master' into bugfix/import-delimited-toolbar", "committedDate": "2020-08-26T03:14:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzAxODQ5Ng==", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r477018496", "bodyText": "final", "author": "antares1470", "createdAt": "2020-08-26T03:56:54Z", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/SourcePane.java", "diffHunk": "@@ -302,4 +276,45 @@ void update(final ImportController importController) {\n     public final ImportDestination<?> getDestination() {\n         return graphComboBox.getSelectionModel().getSelectedItem();\n     }\n+\n+    /**\n+     * Helper method to update the destination graph combo box. Also used for\n+     * value loading when this pane is being initialized.\n+     */\n+    public void updateDestinationGraphCombo() {\n+        // previousDestinationObject is the previously selected item in the combobox\n+        ImportDestination<?> previousDestinationObject = graphComboBox.getSelectionModel().getSelectedItem();", "originalCommit": "1e7d8cc4c67d64a6d7d56f0ffa4f5890f0eb3a59", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0", "url": "https://github.com/constellation-app/constellation/commit/aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0", "message": "add final modifier", "committedDate": "2020-08-26T04:21:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMjkzMg==", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480422932", "bodyText": "These methods are great! Can you please document these additional methods in CHANGELOG.md?", "author": "arcturus2", "createdAt": "2020-08-31T22:00:19Z", "path": "CoreUtilities/src/au/gov/asd/tac/constellation/utilities/color/ConstellationColor.java", "diffHunk": "@@ -330,6 +330,65 @@ public static ConstellationColor fromHtmlColor(final String color) {\n         return ConstellationColor.getColorValue(red / 255f, green / 255f, blue / 255f, 1f);\n     }\n \n+    /**\n+     * Get a contrasting color based on YIQ values. Will return BLACK if the\n+     * passed in color is null.\n+     *\n+     * @param color HTML color to contrast with\n+     * @return the ConstellationColor which contrasts with color.\n+     */\n+    public static ConstellationColor getContrastHtmlColor(final String color) {", "originalCommit": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3NjU5MQ==", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480476591", "bodyText": "I already had I believe. Do you want me to further expand on this?\nAdded utility methods to ConstellationColor which assist with getting inverse colors.", "author": "aldebaran30701", "createdAt": "2020-08-31T23:45:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMjkzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDg0MzMxNQ==", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480843315", "bodyText": "I already had I believe. Do you want me to further expand on this?\nAdded utility methods to ConstellationColor which assist with getting inverse colors.\n\nNo that's perfect, I missed it.", "author": "arcturus2", "createdAt": "2020-09-01T05:46:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMjkzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMzY2MA==", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480423660", "bodyText": "This file is empty so can it be removed?", "author": "arcturus2", "createdAt": "2020-08-31T22:02:17Z", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/resources/delimited-importer.css", "diffHunk": "@@ -0,0 +1 @@\n+/* Delimited Importer */", "originalCommit": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQ3NjE2OQ==", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480476169", "bodyText": "Yep I think so.", "author": "aldebaran30701", "createdAt": "2020-08-31T23:44:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMzY2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMzkzMg==", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480423932", "bodyText": "\ud83d\udc4d", "author": "arcturus2", "createdAt": "2020-08-31T22:02:52Z", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/SourcePane.java", "diffHunk": "@@ -140,28 +141,29 @@ public SourcePane(final ImportController importController) {\n         });\n \n         fileAddButton.setOnAction((ActionEvent t) -> {\n-            FileChooser fileChooser = new FileChooser();\n+            final FileChooser fileChooser = new FileChooser();\n             fileChooser.setInitialDirectory(DEFAULT_DIRECTORY);\n \n-            ImportFileParser parser = SourcePane.this.importFileParserComboBox.getSelectionModel().getSelectedItem();\n+            final ImportFileParser parser = SourcePane.this.importFileParserComboBox.getSelectionModel().getSelectedItem();\n             if (parser != null) {\n-                ExtensionFilter extensionFilter = parser.getExtensionFilter();\n+                final ExtensionFilter extensionFilter = parser.getExtensionFilter();\n                 if (extensionFilter != null) {\n                     fileChooser.getExtensionFilters().add(extensionFilter);\n                     fileChooser.setSelectedExtensionFilter(extensionFilter);\n                 }\n             }\n             fileChooser.getExtensionFilters().add(new ExtensionFilter(\"All Files\", \"*.*\"));\n \n-            List<File> newFiles = fileChooser.showOpenMultipleDialog(SourcePane.this.getScene().getWindow());\n+            final List<File> newFiles = fileChooser.showOpenMultipleDialog(SourcePane.this.getScene().getWindow());\n \n             if (newFiles != null) {\n                 if (!newFiles.isEmpty()) {\n                     DEFAULT_DIRECTORY = newFiles.get(0).getParentFile();\n                     SourcePane.this.importFileParserComboBox.setDisable(true);\n                 }\n                 final ObservableList<File> files = FXCollections.observableArrayList(fileListView.getItems());\n-                String warningMsg = \"The following files could not be parsed and have been excluded from import set:\";\n+                final StringBuilder sb = new StringBuilder();", "originalCommit": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "613921056fa0bf4b43f53a314162b83c2103675c", "url": "https://github.com/constellation-app/constellation/commit/613921056fa0bf4b43f53a314162b83c2103675c", "message": "remove unnecessary css file", "committedDate": "2020-09-01T04:30:22Z", "type": "commit"}, {"oid": "f9aff46b713da6b2987d08f82e62aee0f984f086", "url": "https://github.com/constellation-app/constellation/commit/f9aff46b713da6b2987d08f82e62aee0f984f086", "message": "Merge branch 'master' into bugfix/import-delimited-toolbar", "committedDate": "2020-09-01T04:31:58Z", "type": "commit"}, {"oid": "6192d2a40a757825c0e0ce3fcf4192c5e58a7617", "url": "https://github.com/constellation-app/constellation/commit/6192d2a40a757825c0e0ce3fcf4192c5e58a7617", "message": "revert commit to enact script changes", "committedDate": "2020-09-01T04:41:03Z", "type": "commit"}]}