{"pr_number": 440, "pr_title": "Update SimpleQueryPlugin.java", "pr_createdAt": "2020-04-20T00:03:51Z", "pr_url": "https://github.com/constellation-app/constellation/pull/440", "timeline": [{"oid": "6960a38d5b8163def861a61b90fe2b4e91c7d959", "url": "https://github.com/constellation-app/constellation/commit/6960a38d5b8163def861a61b90fe2b4e91c7d959", "message": "Update SimpleQueryPlugin.java\n\nReworked error dialogs to ensure only single dialog.", "committedDate": "2020-04-19T23:46:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MDkzMg==", "url": "https://github.com/constellation-app/constellation/pull/440#discussion_r411070932", "bodyText": "not sure why this is downgraded to INFO @serpens24 ?", "author": "arcturus2", "createdAt": "2020-04-20T03:35:37Z", "path": "CorePluginFramework/src/au/gov/asd/tac/constellation/plugins/templates/SimpleQueryPlugin.java", "diffHunk": "@@ -171,10 +171,10 @@ public final void run(final PluginGraphs graphs, final PluginInteraction interac\n                         interaction.notify(PluginNotificationLevel.INFO, \"Action cancelled: \" + graphs.getGraph() + \": \" + getName());\n                         throw e;\n                     } catch (Exception e) {\n-                        final String msg = Bundle.MSG_Query_Failed(graph, getName());\n-                        interaction.notify(PluginNotificationLevel.ERROR, msg + \"\\n\" + e.getMessage());\n                         cancelled = true;\n-                        LOGGER.log(Level.WARNING, msg, e);\n+                        final String msg = Bundle.MSG_Query_Failed(graph, getName());\n+                        interaction.notify(PluginNotificationLevel.INFO, msg + \"\\n\" + e.getMessage());", "originalCommit": "6960a38d5b8163def861a61b90fe2b4e91c7d959", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3NjI3OA==", "url": "https://github.com/constellation-app/constellation/pull/440#discussion_r411076278", "bodyText": "ok I caught up on the discussion on a different thread and understand why you made it INFO. So the LOGGER.log is going to log it so if interaction.notify() is to log it then do we need it?\nwhat's your thoughts on this @cygnus-x-1 ?", "author": "arcturus2", "createdAt": "2020-04-20T03:56:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MDkzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI5MDAxOQ==", "url": "https://github.com/constellation-app/constellation/pull/440#discussion_r411290019", "bodyText": "My thinking was I could eiter delete it, or downgrade it. I opted to downgrade as it maintained the log message that was already going to the log, but honestly its a coinflip IMO.\nIe the text below is displayed because of this line.\nINFO [au.gov.asd.tac.constellation.views.dataaccess.panes.DataAccessPane]: Plugins run.\nSelect Top N: Action failed: au.gov.asd.tac.constellation.graph.locking.DualGraph@605ce8c7; Select Top N\nSelect a type category", "author": "serpens24", "createdAt": "2020-04-20T11:07:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MDkzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTgyOTkzMw==", "url": "https://github.com/constellation-app/constellation/pull/440#discussion_r411829933", "bodyText": "I've had another look at all of the logs and here is a recap based on your branch:\n\nINFO message that runs on every data access plugin - OK\n\nINFO [au.gov.asd.tac.constellation.views.dataaccess.panes.DataAccessPane]: \t\tRunning Select Top N\n\n\nFINE log for any plugin - OK and can be turned off if we don't want to see FINE messages\n\nFINE [au.gov.asd.tac.constellation.plugins.PluginExecution]: Select Top N\n\n\nthe downgraded INFO message which I think we can drop all together @serpens24 ?\n\nINFO [au.gov.asd.tac.constellation.views.dataaccess.panes.DataAccessPane]: Plugins run.\nSelect Top N: Action failed: au.gov.asd.tac.constellation.graph.locking.DualGraph@42945620; Select Top N\nInvalid mode value provided\n\n\na WARNING level message - OK\n\nWARNING [au.gov.asd.tac.constellation.plugins.templates.SimpleQueryPlugin]: Action failed: au.gov.asd.tac.constellation.graph.locking.DualGraph@42945620; Select Top N\n\n\na SEVERE version probably because of the throw e if I understand it\n\nSEVERE [au.gov.asd.tac.constellation.graph.node.plugins.DefaultPluginInteraction]: Select Top N: Invalid mode value provided\nau.gov.asd.tac.constellation.plugins.PluginException: Invalid mode value provided\n\tat au.gov.asd.tac.constellation.views.dataaccess.plugins.utility.SelectTopNPlugin.edit(SelectTopNPlugin.java:202)\n\tat au.gov.asd.tac.constellation.plugins.templates.SimpleQueryPlugin.describedEdit(SimpleQueryPlugin.java:265)\n\tat au.gov.asd.tac.constellation.plugins.templates.SimpleQueryPlugin.run(SimpleQueryPlugin.java:165)\n\tat au.gov.asd.tac.constellation.graph.node.plugins.DefaultPluginEnvironment.lambda$executePluginLater$0(DefaultPluginEnvironment.java:123)\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n\tat java.base/java.lang.Thread.run(Thread.java:834)\n\nwhat do you think @serpens24  and anyone else?", "author": "arcturus2", "createdAt": "2020-04-21T02:51:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MDkzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg2MTYwMg==", "url": "https://github.com/constellation-app/constellation/pull/440#discussion_r411861602", "bodyText": "I'm happy to drop the dowgraded error .... will now.", "author": "serpens24", "createdAt": "2020-04-21T04:34:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTA3MDkzMg=="}], "type": "inlineReview"}, {"oid": "2c8730719c1898c2d684c43c1e71725f8feb9439", "url": "https://github.com/constellation-app/constellation/commit/2c8730719c1898c2d684c43c1e71725f8feb9439", "message": "Update SimpleQueryPlugin.java\n\nRemoved downgraded log message as per discussion.", "committedDate": "2020-04-21T04:35:50Z", "type": "commit"}]}