{"pr_number": 1000, "pr_title": "Optimize sumBy Primitive methods for Bags. Closes #448.", "pr_createdAt": "2020-09-12T01:36:16Z", "pr_url": "https://github.com/eclipse/eclipse-collections/pull/1000", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDAxMw==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r488364013", "bodyText": "Is this a new implementation on UnmodifiableBag? If it is then why are we adding it in the same PR? If it is not a new implementation, then why is it needed?", "author": "nikhilnanivadekar", "createdAt": "2020-09-15T03:41:30Z", "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/bag/mutable/UnmodifiableBag.java", "diffHunk": "@@ -463,4 +467,56 @@ protected Object readResolve()\n     {\n         return this.getMutableBag().selectUnique();\n     }\n+\n+    @Override\n+    public <V> MutableObjectLongMap<V> sumByInt(Function<? super T, ? extends V> groupBy, IntFunction<? super T> function)", "originalCommit": "e0b8baa290e092dc3aae9086656fea149891da0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMjA4MQ==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r495512081", "bodyText": "I think this is because the specialization of these methods requires concrete implementations and UnmodifiableBag does not extend the AbstractMutableBagIterable class. Please confirm @prathasirisha. Thanks!", "author": "donraab", "createdAt": "2020-09-27T01:03:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDAxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAyMzMyNw==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r496023327", "bodyText": "That is right @donraab.", "author": "prathasirisha", "createdAt": "2020-09-28T15:11:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDAxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgxNzQ3OA==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r497817478", "bodyText": "@prathasirisha can you please check if this and other new implementations are covered by test coverage. If not we should have new unit tests to cover it.", "author": "nikhilnanivadekar", "createdAt": "2020-09-30T21:42:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDAxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg4MTM1OQ==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r497881359", "bodyText": "Hi @nikhilnanivadekar, thank you for reviewing this code again. I was able to confirm that these new methods are covered by running the tests with coverage in my IDE.\nThat said, I am wondering if we should turn back the coverage action build for individual forks. I see a benefit of it in cases like these, where we could simply download the coverage report (from our personal forks) to ensure the new methods are covered before merging them to upstream repo. Let me know your thoughts on this. Happy to make the changes if you too think it is a good idea.", "author": "prathasirisha", "createdAt": "2020-10-01T00:35:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDAxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDEwOQ==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r488364109", "bodyText": "Same question as UnmodifiableBag.", "author": "nikhilnanivadekar", "createdAt": "2020-09-15T03:41:55Z", "path": "eclipse-collections/src/main/java/org/eclipse/collections/impl/bag/sorted/mutable/UnmodifiableSortedBag.java", "diffHunk": "@@ -560,4 +564,54 @@ protected Object writeReplace()\n     {\n         return this.getSortedBag().selectUnique();\n     }\n+\n+    @Override\n+    public <V> MutableObjectLongMap<V> sumByInt(Function<? super T, ? extends V> groupBy, IntFunction<? super T> function)", "originalCommit": "e0b8baa290e092dc3aae9086656fea149891da0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjAyNjM0Mw==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r496026343", "bodyText": "Same reason as above. In order to optimize these methods, I had to add concrete implementations for these classes as they do not extend from AbstractMutableBagIterable.", "author": "prathasirisha", "createdAt": "2020-09-28T15:14:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDEwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgxNzA2Ng==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r497817066", "bodyText": "Same question regarding test coverage", "author": "nikhilnanivadekar", "createdAt": "2020-09-30T21:41:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDEwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg4MTU1NA==", "url": "https://github.com/eclipse/eclipse-collections/pull/1000#discussion_r497881554", "bodyText": "Same response as above.", "author": "prathasirisha", "createdAt": "2020-10-01T00:35:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM2NDEwOQ=="}], "type": "inlineReview"}, {"oid": "e9c2cb91447173e9c68caed0c3082fcc8845a014", "url": "https://github.com/eclipse/eclipse-collections/commit/e9c2cb91447173e9c68caed0c3082fcc8845a014", "message": "Optimize sumBy Primitive methods for Bags. Closes #448.\n\nSigned-off-by: Sirisha Pratha <sirisha.pratha@bnymellon.com>", "committedDate": "2020-09-24T18:45:22Z", "type": "forcePushed"}, {"oid": "07635c1425dd00cac13c6ca606264eea3e7a4c57", "url": "https://github.com/eclipse/eclipse-collections/commit/07635c1425dd00cac13c6ca606264eea3e7a4c57", "message": "Optimize sumByLong and sumByInt Primitive methods for Bags. Partially addresses #449.\n\nSigned-off-by: Sirisha Pratha <sirisha.pratha@bnymellon.com>", "committedDate": "2020-09-26T20:50:29Z", "type": "forcePushed"}, {"oid": "025480b1a7dc547d86f062fcab273ab9228e7f2d", "url": "https://github.com/eclipse/eclipse-collections/commit/025480b1a7dc547d86f062fcab273ab9228e7f2d", "message": "Optimize sumByLong and sumByInt Primitive methods for Bags. Partially addresses #448.\n\nSigned-off-by: Sirisha Pratha <sirisha.pratha@bnymellon.com>", "committedDate": "2020-09-26T21:05:03Z", "type": "forcePushed"}, {"oid": "d235358fa92e5f27adc78f55bd7a41dfadb1d5f1", "url": "https://github.com/eclipse/eclipse-collections/commit/d235358fa92e5f27adc78f55bd7a41dfadb1d5f1", "message": "Optimize sumByLong and sumByInt Primitive methods for Bags. Partially addresses #448.\n\nSigned-off-by: Sirisha Pratha <sirisha.pratha@bnymellon.com>", "committedDate": "2020-09-28T15:07:05Z", "type": "commit"}, {"oid": "d235358fa92e5f27adc78f55bd7a41dfadb1d5f1", "url": "https://github.com/eclipse/eclipse-collections/commit/d235358fa92e5f27adc78f55bd7a41dfadb1d5f1", "message": "Optimize sumByLong and sumByInt Primitive methods for Bags. Partially addresses #448.\n\nSigned-off-by: Sirisha Pratha <sirisha.pratha@bnymellon.com>", "committedDate": "2020-09-28T15:07:05Z", "type": "forcePushed"}]}