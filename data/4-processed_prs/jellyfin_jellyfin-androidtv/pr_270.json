{"pr_number": 270, "pr_title": "Initial structure idea for the redesign of the FullDetailsActivity", "pr_createdAt": "2020-01-23T14:12:05Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MDYxOA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370270618", "bodyText": "I think we should use our own naming and I prefer \"description\" instead of \"overview\"", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:01:37Z", "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,\n+\tval canDownload: Boolean,\n+\t//TODO: Chapters: ArrayList<ChapterInfoDto>\n+\tval communityRating: Float,\n+\tval name: String,\n+\tval overview: String,", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTM0OA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370271348", "bodyText": "The properties for \"canDelete\" and \"canDownload\" are user-permissions and can't be set per-item or per-library afaik. So I'd remove them from the episode pojo and move them somewhere else\nNot sure if you can find this information in the UserDto though", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:03:04Z", "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4OTQ1OQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370289459", "bodyText": "Ah, then I'll remove them. Supporting this is probably also pointless for a TV experience (at least at first)", "author": "AndreasGB", "createdAt": "2020-01-23T18:42:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTM0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370271429", "bodyText": "Should probably use a double", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:03:15Z", "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,\n+\tval canDownload: Boolean,\n+\t//TODO: Chapters: ArrayList<ChapterInfoDto>\n+\tval communityRating: Float,", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5MDMyOQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370290329", "bodyText": "BaseItemDto has a float though, should I still change it?", "author": "AndreasGB", "createdAt": "2020-01-23T18:43:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5OTgzMg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370299832", "bodyText": "Hmm... It doesn't really make sense to store a score as float IMO and I expect the new API to use doubles too so we can convert it for now", "author": "nielsvanvelzen", "createdAt": "2020-01-23T19:04:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMjc5Nw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370302797", "bodyText": "Okay, will change it then", "author": "AndreasGB", "createdAt": "2020-01-23T19:10:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MjEwNQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370272105", "bodyText": "When using .also the this scope won't change so you don't need the val us = this hack.", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:04:44Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsDescriptionPresenter.kt", "diffHunk": "@@ -0,0 +1,15 @@\n+package org.jellyfin.androidtv.details\n+\n+import androidx.leanback.widget.AbstractDetailsDescriptionPresenter\n+\n+class DetailsDescriptionPresenter(val title: String, val subtitle: String, val body: String) : AbstractDetailsDescriptionPresenter() {\n+\toverride fun onBindDescription(viewHolder: ViewHolder, itemData: Any) {\n+\t\tval us = this\n+\n+\t\tviewHolder.apply {", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3Mjk4NQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370272985", "bodyText": "I'm now thinking we should probably just use the image urls in those objects for now. The episode class could contain a function to get the bitmap.\nAlso, episodes should probably use the \"thumb\" image instead of primary (I might be wrong about this though)", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:06:44Z", "path": "app/src/main/java/org/jellyfin/androidtv/util/apiclient/BaseItemDtoExtensions.kt", "diffHunk": "@@ -0,0 +1,15 @@\n+package org.jellyfin.androidtv.util.apiclient\n+\n+import android.graphics.Bitmap\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+\n+fun BaseItemDto.asEpisode(primaryImage: Bitmap?) : Episode {", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5NDE3MA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370294170", "bodyText": "My new idea for this is now to move the download function for images into BaseDetailsFragment and then let each item-specific class do its own handling.", "author": "AndreasGB", "createdAt": "2020-01-23T18:51:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3Mjk4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMTkxMQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370301911", "bodyText": "Yeah that would work for now", "author": "nielsvanvelzen", "createdAt": "2020-01-23T19:08:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3Mjk4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDEyNA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370274124", "bodyText": "Empty function, only calls that only calls it's parent could probably be removed", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:09:18Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/BaseDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import androidx.leanback.app.DetailsSupportFragment\n+import androidx.leanback.widget.*\n+\n+open class BaseDetailsFragment : DetailsSupportFragment() {\n+\tprotected lateinit var rowsAdapter: ArrayObjectAdapter\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MTA5NA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370281094", "bodyText": "Sure, this is a leftover, but might as well stay there because once we have more sub-classes modeled out, we'll probably move stuff up there as well", "author": "AndreasGB", "createdAt": "2020-01-23T18:24:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDEyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5MDk3Mw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370290973", "bodyText": "I removed it now", "author": "AndreasGB", "createdAt": "2020-01-23T18:45:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDEyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDc0Ng==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370274746", "bodyText": "Might want to add a log statement here for debugging so you won't find yourself in a 10 hour debug session asking yourself why the activity never shows up", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:10:44Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MTY0Mg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370281642", "bodyText": "Ah, I think I stole that from your next episode PR, might want to add that there as well then :)", "author": "AndreasGB", "createdAt": "2020-01-23T18:25:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDc0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMDQ2Mw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370300463", "bodyText": "haha good catch, I will do that", "author": "nielsvanvelzen", "createdAt": "2020-01-23T19:05:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDc0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370274942", "bodyText": "I don't think you need the backgroundmanager for the detailsactivity", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:11:09Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4NDUxMw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370284513", "bodyText": "Hmm, but if we want to have a backdrop image in some, wouldn't we need to the BackgroundManager as well?", "author": "AndreasGB", "createdAt": "2020-01-23T18:31:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMDc0MA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370300740", "bodyText": "The detailsactivity uses a parallel background thingy iirc", "author": "nielsvanvelzen", "createdAt": "2020-01-23T19:06:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwNTMzNw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370305337", "bodyText": "Hmm, then I'll leave it out", "author": "AndreasGB", "createdAt": "2020-01-23T19:15:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTI5Mg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370275292", "bodyText": "You can remove the return@withContext part. Kotlin automatically uses the returned value of the last expression.", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:11:53Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)\n+\n+\t\tGlobalScope.launch(Dispatchers.Main) {\n+\t\t\tval baseItem = getBaseItemDtoForID(id) ?: return@launch\n+\n+\t\t\twhen (baseItem.baseItemType!!) {\n+\t\t\t\tBaseItemType.Episode -> {\n+\t\t\t\t\tval primaryImageUrl = TvApp.getApplication().apiClient.GetImageUrl(baseItem, ImageOptions())\n+\t\t\t\t\tval primaryImageBitmap = getImageFromURL(primaryImageUrl)\n+\t\t\t\t\tval episode = baseItem.asEpisode(primaryImageBitmap)\n+\n+\t\t\t\t\tfragment = EpisodeDetailsFragment(episode)\n+\t\t\t\t}\n+\t\t\t\telse -> TODO()\n+\t\t\t}\n+\n+\t\t\tsupportFragmentManager.beginTransaction().add(android.R.id.content, fragment).commit()\n+\t\t}\n+\t}\n+\n+\tprivate suspend fun getBaseItemDtoForID(id: String) = withContext(Dispatchers.IO) {\n+\t\treturn@withContext TvApp.getApplication().apiClient.getItem(id)", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MzA2Ng==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370283066", "bodyText": "Thanks, will be included in the next commit", "author": "AndreasGB", "createdAt": "2020-01-23T18:28:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTI5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTc4OA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370275788", "bodyText": "You can actually do something like:\nfragment = when(){....}\nAs long as each case returns something it should work", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:12:58Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)\n+\n+\t\tGlobalScope.launch(Dispatchers.Main) {\n+\t\t\tval baseItem = getBaseItemDtoForID(id) ?: return@launch\n+\n+\t\t\twhen (baseItem.baseItemType!!) {", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NzQ5MQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370277491", "bodyText": "I'd put the if statement inline so you don't need to repeat the same code twice:\nFullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter, data.primaryImage?.let { DetailsOverviewLogoPresenter() })", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:16:37Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/EpisodeDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.graphics.drawable.BitmapDrawable\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.leanback.widget.*\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+\n+class EpisodeDetailsFragment(private val data: Episode) : BaseDetailsFragment() {\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tbuildDetails()\n+\t}\n+\n+\tprivate fun buildDetails() {\n+\n+\t\tLog.i(\"EpisodeDetailsFragment\", data.name)\n+\n+\t\tval selector = ClassPresenterSelector().apply {\n+\t\t\t// Attach your media item details presenter to the row presenter:\n+\n+\t\t\tval detailsDescriptionPresenter = DetailsDescriptionPresenter(title = data.name, subtitle = \"TODO\", body = data.overview)\n+\n+\t\t\tif (data.primaryImage != null) {", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3ODAyMg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370278022", "bodyText": "addClassPresenter(DetailsOverviewRow::class.java, FullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter))\nLooks better to me", "author": "nielsvanvelzen", "createdAt": "2020-01-23T18:17:41Z", "path": "app/src/main/java/org/jellyfin/androidtv/details/EpisodeDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.graphics.drawable.BitmapDrawable\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.leanback.widget.*\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+\n+class EpisodeDetailsFragment(private val data: Episode) : BaseDetailsFragment() {\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tbuildDetails()\n+\t}\n+\n+\tprivate fun buildDetails() {\n+\n+\t\tLog.i(\"EpisodeDetailsFragment\", data.name)\n+\n+\t\tval selector = ClassPresenterSelector().apply {\n+\t\t\t// Attach your media item details presenter to the row presenter:\n+\n+\t\t\tval detailsDescriptionPresenter = DetailsDescriptionPresenter(title = data.name, subtitle = \"TODO\", body = data.overview)\n+\n+\t\t\tif (data.primaryImage != null) {\n+\t\t\t\tFullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter, DetailsOverviewLogoPresenter()).also {\n+\t\t\t\t\taddClassPresenter(DetailsOverviewRow::class.java, it)\n+\t\t\t\t}\n+\t\t\t} else {\n+\t\t\t\tFullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter).also {", "originalCommit": "fa48c43a69171ba976054ddf31b993f60a6a7d1c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2577b09b959e14e8e69e06e6223503f36edef76d", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/2577b09b959e14e8e69e06e6223503f36edef76d", "message": "Initial structure idea for the redesign of the FullDetailsActivity", "committedDate": "2020-01-23T19:22:55Z", "type": "commit"}, {"oid": "aed69c2faaf3718711c9f3017e782c43ce8d32e5", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/aed69c2faaf3718711c9f3017e782c43ce8d32e5", "message": "Incorporate Feedback from Niels", "committedDate": "2020-01-23T19:23:48Z", "type": "commit"}, {"oid": "aed69c2faaf3718711c9f3017e782c43ce8d32e5", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/aed69c2faaf3718711c9f3017e782c43ce8d32e5", "message": "Incorporate Feedback from Niels", "committedDate": "2020-01-23T19:23:48Z", "type": "forcePushed"}]}