{"pr_number": 664, "pr_title": "Convert ChannelManager to work manager", "pr_createdAt": "2020-12-24T15:31:02Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/664", "timeline": [{"oid": "239b24175b58c2389fb983b6a0145e92bfe69e89", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/239b24175b58c2389fb983b6a0145e92bfe69e89", "message": "Convert ChannelManager to a worker manager", "committedDate": "2020-12-24T15:43:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTU3NTgwOQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/664#discussion_r549575809", "bodyText": "Why are these names the same?", "author": "thornbill", "createdAt": "2020-12-29T05:43:31Z", "path": "app/src/main/java/org/jellyfin/androidtv/integration/LeanbackChannelWorker.kt", "diffHunk": "@@ -32,14 +32,19 @@ import org.jellyfin.apiclient.model.querying.NextUpQuery\n  *\n  * More info: https://developer.android.com/training/tv/discovery/recommendations-channel\n  */\n-class ChannelManager(\n+class LeanbackChannelWorker(\n+\tcontext: Context,\n+\tval workerParams: WorkerParameters,\n \tprivate val apiClient: ApiClient\n-) {\n-\tprivate companion object {\n+) : CoroutineWorker(context, workerParams) {\n+\tcompanion object {\n \t\t/**\n \t\t * Amount of ticks found in a millisecond, used for calculation\n \t\t */\n \t\tprivate const val TICKS_IN_MILLISECOND = 10000\n+\n+\t\tconst val SINGLE_UPDATE_REQUEST_NAME = \"channelUpdateRequest\"\n+\t\tconst val PERIODIC_UPDATE_REQUEST_NAME = \"channelUpdateRequest\"", "originalCommit": "239b24175b58c2389fb983b6a0145e92bfe69e89", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTYxMTEzMQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/664#discussion_r549611131", "bodyText": "Since they are different request types it doesn't matter too much, I should've used different names for readability though.", "author": "nielsvanvelzen", "createdAt": "2020-12-29T08:14:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTU3NTgwOQ=="}], "type": "inlineReview"}, {"oid": "5e01dd4df5404dda6f7a344ff5cb9dc076220d42", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/5e01dd4df5404dda6f7a344ff5cb9dc076220d42", "message": "Convert ChannelManager to a worker manager", "committedDate": "2020-12-30T09:51:07Z", "type": "commit"}, {"oid": "40960d8403041b194db5e6c3c237d98799a33b25", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/40960d8403041b194db5e6c3c237d98799a33b25", "message": "Update update request names\n\nNow uses unique names for both types", "committedDate": "2020-12-30T09:51:09Z", "type": "commit"}, {"oid": "40960d8403041b194db5e6c3c237d98799a33b25", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/40960d8403041b194db5e6c3c237d98799a33b25", "message": "Update update request names\n\nNow uses unique names for both types", "committedDate": "2020-12-30T09:51:09Z", "type": "forcePushed"}]}