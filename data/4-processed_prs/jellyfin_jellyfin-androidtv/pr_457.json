{"pr_number": 457, "pr_title": "Remove some currentActivity usages", "pr_createdAt": "2020-04-25T13:21:39Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457", "timeline": [{"oid": "943e35263addc20ca75178540cee547f79176e43", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/943e35263addc20ca75178540cee547f79176e43", "message": "Remove the \"showMessage\" functions from TvApp/BaseActivity\n\nCurrent usages are replaced with toasts", "committedDate": "2020-04-25T12:57:13Z", "type": "commit"}, {"oid": "2161af15fb25344540f6fc910e1992b7ef9a4768", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/2161af15fb25344540f6fc910e1992b7ef9a4768", "message": "Remove interface already implemented by base class from BaseActivity", "committedDate": "2020-04-25T13:00:09Z", "type": "commit"}, {"oid": "348d44c70ec0a06514bc96e3a3bd3be1e76e2f04", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/348d44c70ec0a06514bc96e3a3bd3be1e76e2f04", "message": "Don't depend on currentActivity in CardPresenter", "committedDate": "2020-04-25T13:04:19Z", "type": "commit"}, {"oid": "082b5b3bec5c36e722d9bd2d7892759145cf8517", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/082b5b3bec5c36e722d9bd2d7892759145cf8517", "message": "Don't depend on currentActivity in ChannelCardPresenter", "committedDate": "2020-04-25T13:05:18Z", "type": "commit"}, {"oid": "ca727fa05a485aa3e97c99620d8aa33c3708cad4", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/ca727fa05a485aa3e97c99620d8aa33c3708cad4", "message": "Don't depend on currentActivity in Utils.getThemeColor", "committedDate": "2020-04-25T13:06:36Z", "type": "commit"}, {"oid": "0a3912392b1573900ae90d89ef54ea0a498ff60f", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/0a3912392b1573900ae90d89ef54ea0a498ff60f", "message": "Don't depend on currentActivity in GridButtonPresenter", "committedDate": "2020-04-25T13:08:06Z", "type": "commit"}, {"oid": "669f1f7d2f1af742105c76b9528311aa70034d15", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/669f1f7d2f1af742105c76b9528311aa70034d15", "message": "Don't depend on currentActivity in InfoCardPresenter", "committedDate": "2020-04-25T13:09:12Z", "type": "commit"}, {"oid": "7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e", "message": "Reduce usage of currentActivity in MyDetailsOverviewRowPresenter", "committedDate": "2020-04-25T13:17:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA2MjI3NQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#discussion_r415062275", "bodyText": "Identical blocks of code found in 2 locations. Consider refactoring.", "author": "codeclimate", "createdAt": "2020-04-25T13:22:27Z", "path": "app/src/main/java/org/jellyfin/androidtv/playback/MediaManager.java", "diffHunk": "@@ -440,7 +433,8 @@ public static void addToAudioQueue(List<BaseItemDto> items) {\n             }\n             fireQueueStatusChange();\n         }\n-        TvApp.getApplication().showMessage(items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), mCurrentAudioQueue.size() + TvApp.getApplication().getString(R.string.msg_total_items_in_queue), 5000, R.drawable.ic_album);\n+\n+        Toast.makeText(TvApp.getApplication(), items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), Toast.LENGTH_LONG).show();", "originalCommit": "7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA2MjI3Ng==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#discussion_r415062276", "bodyText": "Identical blocks of code found in 2 locations. Consider refactoring.", "author": "codeclimate", "createdAt": "2020-04-25T13:22:27Z", "path": "app/src/main/java/org/jellyfin/androidtv/playback/MediaManager.java", "diffHunk": "@@ -509,7 +503,7 @@ private static void playNowInternal(List<BaseItemDto> items) {\n             Intent nowPlaying = new Intent(TvApp.getApplication(), AudioNowPlayingActivity.class);\n             TvApp.getApplication().getCurrentActivity().startActivity(nowPlaying);\n         } else {\n-            TvApp.getApplication().showMessage(items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), mCurrentAudioQueue.size() + TvApp.getApplication().getString(R.string.msg_total_items_in_queue), 5000, R.drawable.ic_album);\n+            Toast.makeText(TvApp.getApplication(),items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), Toast.LENGTH_LONG).show();", "originalCommit": "7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aa0955a66f1a580d243aafca7e485d9ff45e79bb", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/aa0955a66f1a580d243aafca7e485d9ff45e79bb", "message": "Add comment as to why the onUnbindViewHolder function is unused", "committedDate": "2020-04-25T14:15:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY5MTc0OA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#discussion_r416691748", "bodyText": "Why keep this override if it is unused?", "author": "thornbill", "createdAt": "2020-04-28T15:08:26Z", "path": "app/src/main/java/org/jellyfin/androidtv/presentation/ChannelCardPresenter.java", "diffHunk": "@@ -60,12 +42,6 @@ public void onBindViewHolder(Presenter.ViewHolder viewHolder, Object item) {\n \n     @Override\n     public void onUnbindViewHolder(Presenter.ViewHolder viewHolder) {\n-        //Log.d(TAG, \"onUnbindViewHolder\");\n+        // Unused", "originalCommit": "aa0955a66f1a580d243aafca7e485d9ff45e79bb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjcwNzA2Nw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#discussion_r416707067", "bodyText": "It's abstract in the parent so it needs to be implemented", "author": "nielsvanvelzen", "createdAt": "2020-04-28T15:27:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY5MTc0OA=="}], "type": "inlineReview"}]}