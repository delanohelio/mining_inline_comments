{"pr_number": 623, "pr_title": "Update dependencies (November edition)", "pr_createdAt": "2020-11-13T16:12:03Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/623", "timeline": [{"oid": "4a7e94c02f8db9b099c12b8c438e26b08f5077a7", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/4a7e94c02f8db9b099c12b8c438e26b08f5077a7", "message": "Update Gradle, Gradle plugins, Android target/compile version and app dependencies to latest versions", "committedDate": "2020-11-13T15:54:25Z", "type": "commit"}, {"oid": "8e4feafed54d3a0045be5b5dd6539dfb790b4217", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/8e4feafed54d3a0045be5b5dd6539dfb790b4217", "message": "Update Koin usages to fix compile errors", "committedDate": "2020-11-13T16:08:35Z", "type": "commit"}, {"oid": "f1d32efe012343ac4f01d212271434244933efc3", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/f1d32efe012343ac4f01d212271434244933efc3", "message": "Add missing super call for onRequestPermissionsResult", "committedDate": "2020-11-13T17:43:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzcwODMyNA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/623#discussion_r523708324", "bodyText": "The sample I saw seemed to suggest that we should be using by inject() here as the default value and would only need to override for special conditions like tests. Although their docs do not seem to reflect the suggestions in their post so \ud83e\udd37\u200d\u2642\ufe0f", "author": "thornbill", "createdAt": "2020-11-15T05:01:29Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/home/HomeFragmentLiveTVRow.kt", "diffHunk": "@@ -21,12 +15,11 @@ import org.jellyfin.androidtv.ui.presentation.CardPresenter\n import org.jellyfin.androidtv.ui.presentation.GridButtonPresenter\n import org.jellyfin.apiclient.model.dto.BaseItemDto\n import org.jellyfin.apiclient.serialization.GsonJsonSerializer\n-import org.koin.core.KoinComponent\n-import org.koin.core.inject\n-\n-class HomeFragmentLiveTVRow(val activity: Activity) : HomeFragmentRow(), OnItemViewClickedListener, KoinComponent {\n-\tprivate val serializer: GsonJsonSerializer by inject()\n \n+class HomeFragmentLiveTVRow(\n+\tprivate val activity: Activity,\n+\tprivate val serializer: GsonJsonSerializer", "originalCommit": "f1d32efe012343ac4f01d212271434244933efc3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzczMDkxNg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/623#discussion_r523730916", "bodyText": "we can only use the inject and get functions when the current context is Koin aware. This can be done by extending the KoinComponent class or is automatically done for Activities, Fragments and Services with the Android module.\nFor other places passing dependencies via constructor is recommended. The apiclient uses that approach in the openapi-generator.\n\nuse constructor style injection as much as possible.\n\n\nBlog post above", "author": "nielsvanvelzen", "createdAt": "2020-11-15T09:13:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzcwODMyNA=="}], "type": "inlineReview"}]}