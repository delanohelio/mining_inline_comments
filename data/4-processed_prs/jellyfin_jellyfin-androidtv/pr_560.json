{"pr_number": 560, "pr_title": "Add Koin for dependency injection", "pr_createdAt": "2020-09-14T04:23:56Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/560", "timeline": [{"oid": "00ce142feae850ab77906d18230221e8cca0593a", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/00ce142feae850ab77906d18230221e8cca0593a", "message": "Add koin and use di for serializer", "committedDate": "2020-09-14T15:33:13Z", "type": "commit"}, {"oid": "57ac78ae9089dbba781fc5a6d7444f9588b2792b", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/57ac78ae9089dbba781fc5a6d7444f9588b2792b", "message": "Move Jellyfin instance to Koin", "committedDate": "2020-09-14T15:33:14Z", "type": "commit"}, {"oid": "63948c5c22d7bba34a958e7d5b6fe539ad307aee", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/63948c5c22d7bba34a958e7d5b6fe539ad307aee", "message": "Move apiclient instance to koin", "committedDate": "2020-09-14T15:39:17Z", "type": "commit"}, {"oid": "5576e86e0cca512ebb4ed68e4500187fb626b31c", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/5576e86e0cca512ebb4ed68e4500187fb626b31c", "message": "Move preferences to koin", "committedDate": "2020-09-14T15:40:25Z", "type": "commit"}, {"oid": "560f1e1394dd2d099a1bccb7fe7bbd0c4670780d", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/560f1e1394dd2d099a1bccb7fe7bbd0c4670780d", "message": "Remove unused imports", "committedDate": "2020-09-14T15:44:48Z", "type": "commit"}, {"oid": "6925390599ff5aa6dc8447790a960a3e030762a9", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/6925390599ff5aa6dc8447790a960a3e030762a9", "message": "Move playback manager to koin", "committedDate": "2020-09-14T15:44:49Z", "type": "commit"}, {"oid": "637a17a76c4c2a995bccf342eedc71245d37ac70", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/637a17a76c4c2a995bccf342eedc71245d37ac70", "message": "Remove unused imports", "committedDate": "2020-09-14T15:44:49Z", "type": "commit"}, {"oid": "acdaa29b20aa3a3f423e4a935ee4d9faab9ec1d4", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/acdaa29b20aa3a3f423e4a935ee4d9faab9ec1d4", "message": "Use lazy injection", "committedDate": "2020-09-14T15:44:49Z", "type": "commit"}, {"oid": "fc273d1663bb9af55e4150f20306ff3019c721e5", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/fc273d1663bb9af55e4150f20306ff3019c721e5", "message": "Use lazy injection", "committedDate": "2020-09-14T15:45:37Z", "type": "commit"}, {"oid": "795c88283dbfaf917cd34efd6703268ef4bc544f", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/795c88283dbfaf917cd34efd6703268ef4bc544f", "message": "Remove unused imports", "committedDate": "2020-09-14T15:52:15Z", "type": "commit"}, {"oid": "795c88283dbfaf917cd34efd6703268ef4bc544f", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/795c88283dbfaf917cd34efd6703268ef4bc544f", "message": "Remove unused imports", "committedDate": "2020-09-14T15:52:15Z", "type": "forcePushed"}, {"oid": "382c1b27fcb583c394b08eedc1baf4bcf7c547de", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/382c1b27fcb583c394b08eedc1baf4bcf7c547de", "message": "Remove unused app instance", "committedDate": "2020-09-14T17:57:03Z", "type": "commit"}, {"oid": "8f6307ad06c460f46528282246e3885cf617c93f", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/8f6307ad06c460f46528282246e3885cf617c93f", "message": "Fix function parameter alignment", "committedDate": "2020-09-14T18:47:00Z", "type": "commit"}, {"oid": "82ac4a136cdcbc52954d97dcc2ad02dc6f014769", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/82ac4a136cdcbc52954d97dcc2ad02dc6f014769", "message": "Fix indentation", "committedDate": "2020-09-14T18:52:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyNDIxNg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/560#discussion_r488724216", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            class ChannelManager: KoinComponent {\n          \n          \n            \n            class ChannelManager : KoinComponent {", "author": "nielsvanvelzen", "createdAt": "2020-09-15T14:42:26Z", "path": "app/src/main/java/org/jellyfin/androidtv/integration/ChannelManager.kt", "diffHunk": "@@ -19,18 +23,21 @@ import org.jellyfin.androidtv.util.ImageUtils\n import org.jellyfin.androidtv.util.apiclient.getNextUpEpisodes\n import org.jellyfin.androidtv.util.apiclient.getUserViews\n import org.jellyfin.androidtv.util.dp\n+import org.jellyfin.apiclient.interaction.ApiClient\n import org.jellyfin.apiclient.model.drawing.ImageFormat\n import org.jellyfin.apiclient.model.dto.BaseItemDto\n import org.jellyfin.apiclient.model.dto.ImageOptions\n import org.jellyfin.apiclient.model.querying.ItemFields\n import org.jellyfin.apiclient.model.querying.NextUpQuery\n+import org.koin.core.KoinComponent\n+import org.koin.core.inject\n \n /**\n  * Manages channels on the android tv home screen\n  *\n  * More info: https://developer.android.com/training/tv/discovery/recommendations-channel\n  */\n-class ChannelManager {\n+class ChannelManager: KoinComponent {", "originalCommit": "82ac4a136cdcbc52954d97dcc2ad02dc6f014769", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyODEzOQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/560#discussion_r488728139", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            object ThemeManager: KoinComponent {\n          \n          \n            \n            object ThemeManager : KoinComponent {", "author": "nielsvanvelzen", "createdAt": "2020-09-15T14:47:13Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/presentation/ThemeManager.kt", "diffHunk": "@@ -2,15 +2,16 @@ package org.jellyfin.androidtv.ui.presentation\n \n import android.app.Activity\n import org.jellyfin.androidtv.R\n-import org.jellyfin.androidtv.TvApp\n import org.jellyfin.androidtv.preference.UserPreferences\n import org.jellyfin.androidtv.preference.constant.AppTheme\n import org.jellyfin.androidtv.ui.preference.PreferencesActivity\n+import org.koin.core.KoinComponent\n+import org.koin.core.get\n import java.util.*\n \n-object ThemeManager {\n+object ThemeManager: KoinComponent {", "originalCommit": "82ac4a136cdcbc52954d97dcc2ad02dc6f014769", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2b10c69bf9714297facb43b3391cdc4f554155b5", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/2b10c69bf9714297facb43b3391cdc4f554155b5", "message": "Fix spacing for kotlin files\n\nCo-authored-by: Niels van Velzen <nielsvanvelzen@users.noreply.github.com>", "committedDate": "2020-09-15T18:53:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg5NTk0MA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/560#discussion_r488895940", "bodyText": "Codacy found an issue: LabeledExpression - [item] at /src/app/src/main/java/org/jellyfin/androidtv/ui/playback/nextup/NextUpActivity.kt:62:39", "author": "jellyfin-bot", "createdAt": "2020-09-15T18:56:57Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/nextup/NextUpActivity.kt", "diffHunk": "@@ -56,11 +59,11 @@ class NextUpActivity : FragmentActivity() {\n \t}\n \n \tprivate suspend fun loadItemData(id: String) = withContext(Dispatchers.IO) {\n-\t\tval item = TvApp.getApplication().apiClient.getItem(id) ?: return@withContext null\n+\t\tval item = apiClient.getItem(id) ?: return@withContext null", "originalCommit": "2b10c69bf9714297facb43b3391cdc4f554155b5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}