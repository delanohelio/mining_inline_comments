{"pr_number": 7320, "pr_title": "Increasing jest timeout for integration test.", "pr_createdAt": "2020-01-29T13:45:23Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/7320", "timeline": [{"oid": "b70d060b62eefdd465ebbf1f99a54ec9ec86ac1e", "url": "https://github.com/Graylog2/graylog2-server/commit/b70d060b62eefdd465ebbf1f99a54ec9ec86ac1e", "message": "Increasing jest timeout for integration test.", "committedDate": "2020-01-29T13:43:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU1NzExOQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/7320#discussion_r372557119", "bodyText": "Is this fixing the problem locally for you, when you run yarn test multiple times? I am still receiving the same error.\njest.setTimeout will also work for the hole file without anything like beforeEach(). Do you use beforeEach to keep it in the scope of the describe()?", "author": "linuspahl", "createdAt": "2020-01-29T18:32:52Z", "path": "graylog2-web-interface/src/views/spec/CreateNewDashboard.test.jsx", "diffHunk": "@@ -43,6 +43,10 @@ describe('Create a new dashboard', () => {\n     PluginStore.register(new PluginManifest({}, viewsBindings));\n   });\n \n+  beforeEach(() => {\n+    jest.setTimeout(30000);\n+  });", "originalCommit": "b70d060b62eefdd465ebbf1f99a54ec9ec86ac1e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjg3Mjc0MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7320#discussion_r372872740", "bodyText": "It is fixing the problem up to a certain concurrency level. Naturally, we cannot fix it for any amount of parallelism, as the runtime will just increase.\nI wrapped it in beforeEach to limit it to the smallest scope available.", "author": "dennisoelkers", "createdAt": "2020-01-30T10:35:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjU1NzExOQ=="}], "type": "inlineReview"}]}