{"pr_number": 7685, "pr_title": "Disable \"Show top value\" and \"Statistics\" field actions when field analysis is disabled", "pr_createdAt": "2020-03-13T10:10:25Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/7685", "timeline": [{"oid": "25078b64d258f3b4f1b0045f2b0c2c5f33b412a4", "url": "https://github.com/Graylog2/graylog2-server/commit/25078b64d258f3b4f1b0045f2b0c2c5f33b412a4", "message": "Disable field actions if field analysis is disabled", "committedDate": "2020-03-13T09:35:54Z", "type": "commit"}, {"oid": "c6dcc13913eb7bd14146c65382f6f5b7abf08f01", "url": "https://github.com/Graylog2/graylog2-server/commit/c6dcc13913eb7bd14146c65382f6f5b7abf08f01", "message": "Use SearchConfigStore instead of ConfigStore to get analysisDisabledFields on extended search page\n\n* Besides beeing best practice this avoids an unnecessary backend request", "committedDate": "2020-03-13T09:47:24Z", "type": "commit"}, {"oid": "fe1a49a939d266807370820797adb646cf1cd820", "url": "https://github.com/Graylog2/graylog2-server/commit/fe1a49a939d266807370820797adb646cf1cd820", "message": "Fix ExtendedSearchPage test by mocking SearchConfigStore", "committedDate": "2020-03-13T09:54:51Z", "type": "commit"}, {"oid": "fb5589bd3356c8f4b32a96704391e21a65808f60", "url": "https://github.com/Graylog2/graylog2-server/commit/fb5589bd3356c8f4b32a96704391e21a65808f60", "message": "Remove not needed boolean casting", "committedDate": "2020-03-13T10:11:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjEzOTMxMA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7685#discussion_r392139310", "bodyText": "This function is very simple, but I would still prefer an own function to do the \"analysis disabled\" check. I would like to avoid, adding helper functions to the bindings file. Were would you add this function? Maybe as a static method of views/logic/fieldtypes/FieldType.js?", "author": "linuspahl", "createdAt": "2020-03-13T10:16:26Z", "path": "graylog2-web-interface/src/views/bindings.jsx", "diffHunk": "@@ -109,6 +109,8 @@ ViewSharing.registerSubtype(SpecificUsers.Type, SpecificUsers);\n Parameter.registerSubtype(ValueParameter.type, ValueParameter);\n Parameter.registerSubtype(LookupTableParameter.type, LookupTableParameter);\n \n+const isAnalysisDisabled = (field: string, analysisDisabledFields: string[] = []) => analysisDisabledFields.includes(field);", "originalCommit": "fb5589bd3356c8f4b32a96704391e21a65808f60", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjE0MDU1MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7685#discussion_r392140550", "bodyText": "Regarding the default value for  analysisDisabledFields. Currently the value can't be null or undefined, but I saw no disadvantage in adding the default value. It also makes testing of related code easier.", "author": "linuspahl", "createdAt": "2020-03-13T10:18:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjEzOTMxMA=="}], "type": "inlineReview"}, {"oid": "a3fa79a8aa6953d15c522221b172e05ccc024e3c", "url": "https://github.com/Graylog2/graylog2-server/commit/a3fa79a8aa6953d15c522221b172e05ccc024e3c", "message": "Wrap full extended search page in ViewAdditionalContextProvider instead of only SearchResult", "committedDate": "2020-03-16T15:30:19Z", "type": "commit"}]}