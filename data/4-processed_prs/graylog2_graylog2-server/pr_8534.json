{"pr_number": 8534, "pr_title": "Create user detail and edit page for new user management.", "pr_createdAt": "2020-07-13T13:49:54Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/8534", "timeline": [{"oid": "e2d3dd780ce319c6b908f70493f27ea31d9180f8", "url": "https://github.com/Graylog2/graylog2-server/commit/e2d3dd780ce319c6b908f70493f27ea31d9180f8", "message": "Add new endpoint to retrive a paginated list of users\n\nPrior to this change, the users were only receivable\nall in one chunk.\n\nThis change will get the users paginated.\n\nThe old '/system/users' endpoint is marked as deprecated.", "committedDate": "2020-07-10T12:02:45Z", "type": "commit"}, {"oid": "86db9317ec8bff197d98c429766b9db65085eb23", "url": "https://github.com/Graylog2/graylog2-server/commit/86db9317ec8bff197d98c429766b9db65085eb23", "message": "Add missing license headers", "committedDate": "2020-07-10T12:02:45Z", "type": "commit"}, {"oid": "1ceb08f17744fca80d16ee8c025ed5f646500740", "url": "https://github.com/Graylog2/graylog2-server/commit/1ceb08f17744fca80d16ee8c025ed5f646500740", "message": "Add missing permission check", "committedDate": "2020-07-10T12:02:45Z", "type": "commit"}, {"oid": "da83b3037bd94599fc2250fe63a69368466d0be3", "url": "https://github.com/Graylog2/graylog2-server/commit/da83b3037bd94599fc2250fe63a69368466d0be3", "message": "Fix annotaions from @bernd", "committedDate": "2020-07-10T12:02:45Z", "type": "commit"}, {"oid": "fab1c31517090993c01d33f93e3a20ff9a5bbb6a", "url": "https://github.com/Graylog2/graylog2-server/commit/fab1c31517090993c01d33f93e3a20ff9a5bbb6a", "message": "Create method searchPagination for UsersStore", "committedDate": "2020-07-10T12:02:45Z", "type": "commit"}, {"oid": "f28d0a4216d3c55f5da80a56182add4ea4e86049", "url": "https://github.com/Graylog2/graylog2-server/commit/f28d0a4216d3c55f5da80a56182add4ea4e86049", "message": "Implement pagination for UsersOverview", "committedDate": "2020-07-10T12:02:45Z", "type": "commit"}, {"oid": "072d8144ba649d428cffb791dd3bbbebc6c513da", "url": "https://github.com/Graylog2/graylog2-server/commit/072d8144ba649d428cffb791dd3bbbebc6c513da", "message": "Fix UsersOverview filter and implement datatable for system admin", "committedDate": "2020-07-10T12:21:04Z", "type": "commit"}, {"oid": "5da8495348a2da5199903bbbbf57c629808e3106", "url": "https://github.com/Graylog2/graylog2-server/commit/5da8495348a2da5199903bbbbf57c629808e3106", "message": "Create separate component for UsersOverview filter", "committedDate": "2020-07-10T12:29:34Z", "type": "commit"}, {"oid": "8a33d085d29e5511ad3b1df6ba9bf95a0d6062bb", "url": "https://github.com/Graylog2/graylog2-server/commit/8a33d085d29e5511ad3b1df6ba9bf95a0d6062bb", "message": "Display user roles in overview", "committedDate": "2020-07-10T12:37:24Z", "type": "commit"}, {"oid": "5928173a860564911466dbabaad2ce0498fe1723", "url": "https://github.com/Graylog2/graylog2-server/commit/5928173a860564911466dbabaad2ce0498fe1723", "message": "Fix filter button text flickering", "committedDate": "2020-07-10T14:24:22Z", "type": "commit"}, {"oid": "aca0be2c181b35efe6658d6a7335a2e33e18819e", "url": "https://github.com/Graylog2/graylog2-server/commit/aca0be2c181b35efe6658d6a7335a2e33e18819e", "message": "Prevent table head line breaks", "committedDate": "2020-07-10T14:26:38Z", "type": "commit"}, {"oid": "7f919c2f70bfa435874651e1502a2d287b5ac77f", "url": "https://github.com/Graylog2/graylog2-server/commit/7f919c2f70bfa435874651e1502a2d287b5ac77f", "message": "Create separate component for SystemAdministratorOverview filter", "committedDate": "2020-07-10T14:40:55Z", "type": "commit"}, {"oid": "95f73094edc0313ca6c5eb8e13d6708ac0e5d12e", "url": "https://github.com/Graylog2/graylog2-server/commit/95f73094edc0313ca6c5eb8e13d6708ac0e5d12e", "message": "Fix UsersOverview test and update snapshots", "committedDate": "2020-07-10T14:52:50Z", "type": "commit"}, {"oid": "ee6f5bca99fd048b3de10151d4cf5a1b82dca160", "url": "https://github.com/Graylog2/graylog2-server/commit/ee6f5bca99fd048b3de10151d4cf5a1b82dca160", "message": "Define min-width for LoggedInCell", "committedDate": "2020-07-10T14:53:15Z", "type": "commit"}, {"oid": "b20e4d0cf49820c61e6abfc9f82fe75c4fabecf1", "url": "https://github.com/Graylog2/graylog2-server/commit/b20e4d0cf49820c61e6abfc9f82fe75c4fabecf1", "message": "Display loading spinner when using UsersOverview pagination", "committedDate": "2020-07-10T15:07:08Z", "type": "commit"}, {"oid": "156191dda2726680336b03cbe743500506367601", "url": "https://github.com/Graylog2/graylog2-server/commit/156191dda2726680336b03cbe743500506367601", "message": "Merge branch 'feature/permissions' into users-overview-pagination", "committedDate": "2020-07-10T15:12:13Z", "type": "commit"}, {"oid": "88285c216f6a54f786ba1e6169a7080b4d9450c1", "url": "https://github.com/Graylog2/graylog2-server/commit/88285c216f6a54f786ba1e6169a7080b4d9450c1", "message": "Create and UserOverview value clas", "committedDate": "2020-07-13T08:16:07Z", "type": "commit"}, {"oid": "e3c0c8c890875973c5f97cb4297c9f2b1c016291", "url": "https://github.com/Graylog2/graylog2-server/commit/e3c0c8c890875973c5f97cb4297c9f2b1c016291", "message": "Fix pagination loading spinner", "committedDate": "2020-07-13T08:26:40Z", "type": "commit"}, {"oid": "2d27a0d9a1f9f65456c2e186f1b7f9c94d6f1c07", "url": "https://github.com/Graylog2/graylog2-server/commit/2d27a0d9a1f9f65456c2e186f1b7f9c94d6f1c07", "message": "Fix typo", "committedDate": "2020-07-13T09:29:47Z", "type": "commit"}, {"oid": "f711b72d9d087f3c61c955802804ad32c7c584aa", "url": "https://github.com/Graylog2/graylog2-server/commit/f711b72d9d087f3c61c955802804ad32c7c584aa", "message": "Smaller improvements", "committedDate": "2020-07-13T14:06:04Z", "type": "commit"}, {"oid": "2e56a2a22608d1e3063b59a41d78aca432862043", "url": "https://github.com/Graylog2/graylog2-server/commit/2e56a2a22608d1e3063b59a41d78aca432862043", "message": "Create separate component for DataTable filter", "committedDate": "2020-07-13T14:27:23Z", "type": "commit"}, {"oid": "f9993120295bdcd2e23ecbb8f1b9e4b90fe22f8c", "url": "https://github.com/Graylog2/graylog2-server/commit/f9993120295bdcd2e23ecbb8f1b9e4b90fe22f8c", "message": "Add UserDetails page", "committedDate": "2020-07-13T14:33:59Z", "type": "commit"}, {"oid": "b1edfec94d146a078b6f9c53a8b1dbb01ad2ffb9", "url": "https://github.com/Graylog2/graylog2-server/commit/b1edfec94d146a078b6f9c53a8b1dbb01ad2ffb9", "message": "Fix UsersStore loadUsers promise chaining", "committedDate": "2020-07-13T14:49:29Z", "type": "commit"}, {"oid": "b1edfec94d146a078b6f9c53a8b1dbb01ad2ffb9", "url": "https://github.com/Graylog2/graylog2-server/commit/b1edfec94d146a078b6f9c53a8b1dbb01ad2ffb9", "message": "Fix UsersStore loadUsers promise chaining", "committedDate": "2020-07-13T14:49:29Z", "type": "forcePushed"}, {"oid": "0a19889ee151b2878bfc3e29ec57293ca522c8bb", "url": "https://github.com/Graylog2/graylog2-server/commit/0a19889ee151b2878bfc3e29ec57293ca522c8bb", "message": "Merge branch 'feature/permissions' into user-management-view", "committedDate": "2020-07-13T15:21:56Z", "type": "commit"}, {"oid": "2e2b55a795f700ce99bd8004e4f86509a15bf767", "url": "https://github.com/Graylog2/graylog2-server/commit/2e2b55a795f700ce99bd8004e4f86509a15bf767", "message": "Add breakpoints to ThemeInterface", "committedDate": "2020-07-14T13:45:53Z", "type": "commit"}, {"oid": "2044cfe07a942e531a4ec615d21e85def09e276a", "url": "https://github.com/Graylog2/graylog2-server/commit/2044cfe07a942e531a4ec615d21e85def09e276a", "message": "Define cirrect return type for changePassword and update UserActions", "committedDate": "2020-07-14T13:47:01Z", "type": "commit"}, {"oid": "e8dacf081da80a453d497585c6c41666301f3382", "url": "https://github.com/Graylog2/graylog2-server/commit/e8dacf081da80a453d497585c6c41666301f3382", "message": "Rename user TimeoutInput to LegacyTimeoutInput and create new TimeoutInput without labels", "committedDate": "2020-07-14T13:48:15Z", "type": "commit"}, {"oid": "44b21ddf94408dfe3a6a56d0724f13a66338980c", "url": "https://github.com/Graylog2/graylog2-server/commit/44b21ddf94408dfe3a6a56d0724f13a66338980c", "message": "Change font-size for labels", "committedDate": "2020-07-14T13:48:58Z", "type": "commit"}, {"oid": "49b194b81b3784f4123ca2d9ff38570fbb25d221", "url": "https://github.com/Graylog2/graylog2-server/commit/49b194b81b3784f4123ca2d9ff38570fbb25d221", "message": "Use LegacyInput in NewUserForm", "committedDate": "2020-07-14T13:49:26Z", "type": "commit"}, {"oid": "367ff49a2e9f814a54211cc635a27c315dbcc01f", "url": "https://github.com/Graylog2/graylog2-server/commit/367ff49a2e9f814a54211cc635a27c315dbcc01f", "message": "Remove not needed br in ShowConfigValue", "committedDate": "2020-07-14T13:52:47Z", "type": "commit"}, {"oid": "67677e5bf10910dc9857ad62657a7cf49e68ca7c", "url": "https://github.com/Graylog2/graylog2-server/commit/67677e5bf10910dc9857ad62657a7cf49e68ca7c", "message": "Implement UserEditPage", "committedDate": "2020-07-14T13:54:29Z", "type": "commit"}, {"oid": "90addc259987b84a370de8f75c91e90372b99deb", "url": "https://github.com/Graylog2/graylog2-server/commit/90addc259987b84a370de8f75c91e90372b99deb", "message": "Smaller improvements", "committedDate": "2020-07-14T13:54:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5MjE5OA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8534#discussion_r454392198", "bodyText": "@kmerz I just realized I've implemented ShowConfigValue and FormFieldRead, which do basically the same. I will update this in a follow-up PR as well.", "author": "linuspahl", "createdAt": "2020-07-14T14:20:33Z", "path": "graylog2-web-interface/src/components/users/ShowConfigValue.jsx", "diffHunk": "@@ -0,0 +1,23 @@\n+// @flow strict\n+import * as React from 'react';\n+\n+import { Row, Col } from 'components/graylog';\n+import { TextLabel } from 'components/common';\n+\n+type Props = {\n+  label: string,\n+  value: React.Node,\n+};\n+\n+const ShowConfigValue = ({ label, value }: Props) => (\n+  <Row>\n+    <Col xs={3}>\n+      <TextLabel>{label}</TextLabel>\n+    </Col>\n+    <Col xs={9}>\n+      {value ?? '-'}\n+    </Col>\n+  </Row>\n+);\n+\n+export default ShowConfigValue;", "originalCommit": "90addc259987b84a370de8f75c91e90372b99deb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5MzU0NQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/8534#discussion_r454393545", "bodyText": "In a follow up PR we would want a \ud83d\udfe2  here \ud83d\ude04", "author": "kmerz", "createdAt": "2020-07-14T14:22:24Z", "path": "graylog2-web-interface/src/components/users/UserDetails/ProfileSection.jsx", "diffHunk": "@@ -0,0 +1,33 @@\n+// @flow strict\n+import * as React from 'react';\n+\n+import User from 'logic/users/User';\n+\n+import SectionComponent from '../SectionComponent';\n+import ShowConfigValue from '../ShowConfigValue';\n+\n+type Props = {\n+  user: User,\n+};\n+\n+const ProfileSection = ({\n+  user: {\n+    username,\n+    fullName,\n+    email,\n+    clientAddress,\n+    lastActivity,\n+    sessionActive,\n+  },\n+}: Props) => (\n+  <SectionComponent title=\"Profile\">\n+    <ShowConfigValue label=\"Username\" value={username} />\n+    <ShowConfigValue label=\"Full name\" value={fullName} />\n+    <ShowConfigValue label=\"E-Mail Address\" value={email} />\n+    <ShowConfigValue label=\"Client Address\" value={clientAddress} />\n+    <ShowConfigValue label=\"Last Activity\" value={lastActivity} />\n+    <ShowConfigValue label=\"Logged In\" value={sessionActive ? 'yes' : 'no'} />", "originalCommit": "90addc259987b84a370de8f75c91e90372b99deb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5NDEwNw==", "url": "https://github.com/Graylog2/graylog2-server/pull/8534#discussion_r454394107", "bodyText": "no even better:\n\ud83d\udfe2 Logged in\n\ud83d\udd34 Not logged in\nor smth like that", "author": "kmerz", "createdAt": "2020-07-14T14:23:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5MzU0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5NzA5NA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8534#discussion_r454397094", "bodyText": "I would suggest to call it ReadOnlyFormField", "author": "kmerz", "createdAt": "2020-07-14T14:27:02Z", "path": "graylog2-web-interface/src/components/users/form/FormFieldRead.jsx", "diffHunk": "@@ -0,0 +1,18 @@\n+// @flow strict\n+import * as React from 'react';\n+\n+import FormRow from './FormRow';\n+\n+type Props = {\n+  label: string,\n+  value: string,\n+};\n+\n+const FormFieldRead = ({ label, value }: Props) => (", "originalCommit": "90addc259987b84a370de8f75c91e90372b99deb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM5OTQ4MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8534#discussion_r454399480", "bodyText": "Are you sure?", "author": "kmerz", "createdAt": "2020-07-14T14:30:09Z", "path": "graylog2-web-interface/src/theme/GlobalThemeStyles.jsx", "diffHunk": "@@ -98,10 +98,6 @@ const GlobalThemeStyles = createGlobalStyle(({ additionalStyles, theme }) => css\n     }\n   }\n \n-  label {\n-    font-size: ${theme.fonts.size.large};", "originalCommit": "90addc259987b84a370de8f75c91e90372b99deb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}