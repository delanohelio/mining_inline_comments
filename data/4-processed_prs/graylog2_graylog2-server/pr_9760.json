{"pr_number": 9760, "pr_title": "Hide email sender field for Alert Notifications", "pr_createdAt": "2020-12-10T11:51:48Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/9760", "timeline": [{"oid": "a9b3626b2995bf6ef9e02547e2963db9494336c9", "url": "https://github.com/Graylog2/graylog2-server/commit/a9b3626b2995bf6ef9e02547e2963db9494336c9", "message": "Fix linter error", "committedDate": "2020-12-10T11:11:56Z", "type": "commit"}, {"oid": "c78c1a3c2b5c84de530c2a58097dc3dae315cf40", "url": "https://github.com/Graylog2/graylog2-server/commit/c78c1a3c2b5c84de530c2a58097dc3dae315cf40", "message": "Show test notification field after type selected\n\nIn order to test a notification the user must select a type first, so it\nis better to hide the field away until a notification type was selected.", "committedDate": "2020-12-10T11:12:05Z", "type": "commit"}, {"oid": "6e78fd69c6ddc2b6286f69c15116a8443cc5d415", "url": "https://github.com/Graylog2/graylog2-server/commit/6e78fd69c6ddc2b6286f69c15116a8443cc5d415", "message": "Make email notification sender optional\n\nThe server already uses the sender configured in the config file as\ndefault, so make this field optional.", "committedDate": "2020-12-10T11:33:10Z", "type": "commit"}, {"oid": "fe80bd41aeb2bb8bd26a53fc9ad273d71833852b", "url": "https://github.com/Graylog2/graylog2-server/commit/fe80bd41aeb2bb8bd26a53fc9ad273d71833852b", "message": "Hide email notification sender in cloud\n\nFixes Graylog2/graylog-plugin-cloud#576", "committedDate": "2020-12-10T11:34:39Z", "type": "commit"}, {"oid": "ce3cbdf8859daea7769bf318271c105dacb9d638", "url": "https://github.com/Graylog2/graylog2-server/commit/ce3cbdf8859daea7769bf318271c105dacb9d638", "message": "Fix linter error", "committedDate": "2020-12-10T11:35:20Z", "type": "commit"}, {"oid": "d2f5c4e99a205c95fd2e0351ff52bfc47a384e2b", "url": "https://github.com/Graylog2/graylog2-server/commit/d2f5c4e99a205c95fd2e0351ff52bfc47a384e2b", "message": "Hide legacy email alarm callback's sender in cloud", "committedDate": "2020-12-10T11:42:17Z", "type": "commit"}, {"oid": "d338b5db2b9d281ffcb1e4934d5a1af0c666dfe4", "url": "https://github.com/Graylog2/graylog2-server/commit/d338b5db2b9d281ffcb1e4934d5a1af0c666dfe4", "message": "Fix test", "committedDate": "2020-12-10T12:03:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDIwMTUwNA==", "url": "https://github.com/Graylog2/graylog2-server/pull/9760#discussion_r540201504", "bodyText": "This is actually dead code. But it doesn't hurt to do that here as well", "author": "mpfz0r", "createdAt": "2020-12-10T14:14:50Z", "path": "graylog2-server/src/main/java/org/graylog2/alarmcallbacks/EmailAlarmCallback.java", "diffHunk": "@@ -172,11 +172,13 @@ public void initialize(Configuration config) throws AlarmCallbackConfigurationEx\n     // I am truly sorry about this, but leaking the user list is not okay...\n     private ConfigurationRequest getConfigurationRequest(Map<String, String> userNames) {\n         ConfigurationRequest configurationRequest = new ConfigurationRequest();\n-        configurationRequest.addField(new TextField(\"sender\",\n-                \"Sender\",\n-                \"\",\n-                \"The sender of sent out mail alerts\",\n-                ConfigurationField.Optional.OPTIONAL));\n+        if (!graylogConfig.isCloud()) {", "originalCommit": "d338b5db2b9d281ffcb1e4934d5a1af0c666dfe4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMwMDMzMA==", "url": "https://github.com/Graylog2/graylog2-server/pull/9760#discussion_r540300330", "bodyText": "Indeed, it seems it will go away in 4.1. Until then someone could still create those through the UI I guess, so better safe than sorry :)", "author": "edmundoa", "createdAt": "2020-12-10T16:16:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDIwMTUwNA=="}], "type": "inlineReview"}]}