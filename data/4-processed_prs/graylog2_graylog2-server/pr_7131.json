{"pr_number": 7131, "pr_title": "Display \"Create extractor\" action only in the context of a message", "pr_createdAt": "2020-01-09T15:41:44Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/7131", "timeline": [{"oid": "1b747be9ef92cb90b493c061a52dae48726cac41", "url": "https://github.com/Graylog2/graylog2-server/commit/1b747be9ef92cb90b493c061a52dae48726cac41", "message": "Display create extractor action only in the context of a message", "committedDate": "2020-01-09T15:29:44Z", "type": "commit"}, {"oid": "7de23faeddc582584bb2ca9e4f6fe25ff4ffe0f5", "url": "https://github.com/Graylog2/graylog2-server/commit/7de23faeddc582584bb2ca9e4f6fe25ff4ffe0f5", "message": "Remove only from bindings test", "committedDate": "2020-01-09T15:34:41Z", "type": "commit"}, {"oid": "dfcdbf88144e546382431d4ab914c282f50cee63", "url": "https://github.com/Graylog2/graylog2-server/commit/dfcdbf88144e546382431d4ab914c282f50cee63", "message": "Unify action type definition for bindings text", "committedDate": "2020-01-09T15:37:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDgxMjg1MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r364812850", "bodyText": "Interesting learning: I had to implement the boolean casting, otherwise the function would not return false but undefined. I thought it is enough to do the chaining with &&.", "author": "linuspahl", "createdAt": "2020-01-09T15:46:26Z", "path": "graylog2-web-interface/src/views/bindings.jsx", "diffHunk": "@@ -249,7 +249,7 @@ export default {\n     {\n       type: 'create-extractor',\n       title: 'Create extractor',\n-      isEnabled: (({ type }) => (type.type === 'string' && !type.isDecorated()): ActionHandlerCondition),\n+      isEnabled: (({ type, contexts }) => (!!contexts.message && type.type === 'string' && !type.isDecorated()): ActionHandlerCondition),", "originalCommit": "dfcdbf88144e546382431d4ab914c282f50cee63", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTI0MzMyNA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r365243324", "bodyText": "Returning undefined here is okay, as falsyness is considered sufficient.", "author": "dennisoelkers", "createdAt": "2020-01-10T13:53:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDgxMjg1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTI0Mjc1Ng==", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r365242756", "bodyText": "This is now part of the field actions describe-block, although it is a value action. I think this is a good time to either introduce a new value actions block, or split the file into two, bindings.fieldActions.test.jsx & bindings.valueActions.test.jsx.", "author": "dennisoelkers", "createdAt": "2020-01-10T13:52:21Z", "path": "graylog2-web-interface/src/views/bindings.test.jsx", "diffHunk": "@@ -155,5 +156,51 @@ describe('Views bindings', () => {\n           .toEqual(false);\n       });\n     });\n+    describe('CreateExtractor', () => {", "originalCommit": "dfcdbf88144e546382431d4ab914c282f50cee63", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTI4MDQ3OA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r365280478", "bodyText": "Good catch! Because we are planing to split up the bindings in the future, I've create two separate test files. When we are adding even more separate test files, it would be okay, to move them inside a __tests__ dir, right?", "author": "linuspahl", "createdAt": "2020-01-10T15:13:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTI0Mjc1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgxMjMyMw==", "url": "https://github.com/Graylog2/graylog2-server/pull/7131#discussion_r365812323", "bodyText": "Sure!", "author": "dennisoelkers", "createdAt": "2020-01-13T13:48:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTI0Mjc1Ng=="}], "type": "inlineReview"}, {"oid": "6a6fb0932f8bf46ecb46b63573c8cfdd9af7ee3c", "url": "https://github.com/Graylog2/graylog2-server/commit/6a6fb0932f8bf46ecb46b63573c8cfdd9af7ee3c", "message": "Create separate test files for bindings value and field actions", "committedDate": "2020-01-10T15:04:37Z", "type": "commit"}]}