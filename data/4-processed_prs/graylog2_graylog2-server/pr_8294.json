{"pr_number": 8294, "pr_title": "Add option to display the search sidebar inline", "pr_createdAt": "2020-06-05T15:35:13Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/8294", "timeline": [{"oid": "50394658897586fec2f08a98770aeee5a332d890", "url": "https://github.com/Graylog2/graylog2-server/commit/50394658897586fec2f08a98770aeee5a332d890", "message": "Create separate components for the sidebar", "committedDate": "2020-06-10T10:47:37Z", "type": "forcePushed"}, {"oid": "64d4b11debfdd44797fea5be33ed67ca730cca3b", "url": "https://github.com/Graylog2/graylog2-server/commit/64d4b11debfdd44797fea5be33ed67ca730cca3b", "message": "Update theme colors variable name for sidebar components", "committedDate": "2020-06-10T10:52:01Z", "type": "forcePushed"}, {"oid": "836b7c6c83a19abf4953720090b76ba8edbee911", "url": "https://github.com/Graylog2/graylog2-server/commit/836b7c6c83a19abf4953720090b76ba8edbee911", "message": "Adjust FieldList height calculation", "committedDate": "2020-06-11T08:43:40Z", "type": "forcePushed"}, {"oid": "62798214fd8485a328af5fea72d3d92dbfc58e93", "url": "https://github.com/Graylog2/graylog2-server/commit/62798214fd8485a328af5fea72d3d92dbfc58e93", "message": "Adjust FieldList height calculation", "committedDate": "2020-06-11T08:45:34Z", "type": "forcePushed"}, {"oid": "234c2894b29b95eec22503f091c70e3b11c1c6f6", "url": "https://github.com/Graylog2/graylog2-server/commit/234c2894b29b95eec22503f091c70e3b11c1c6f6", "message": "Fix ViewMetadataStore import for Sidebar", "committedDate": "2020-06-12T09:19:07Z", "type": "forcePushed"}, {"oid": "21bfbcaaa01856f68ea758f005dfbc79131a33b0", "url": "https://github.com/Graylog2/graylog2-server/commit/21bfbcaaa01856f68ea758f005dfbc79131a33b0", "message": "Support editing title, description and summary of a saved search\n\n* Add \"Edit metadata\" action for saved search controls\n* Rename \"Edit\" action to \"Edit metadata\" for dashboards\n* Implement view type specific description for ViewPropertiesModal\n* Adjust sidebar ViewDescription", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "e7d24fe069468dee91b8db613ba757f93097d723", "url": "https://github.com/Graylog2/graylog2-server/commit/e7d24fe069468dee91b8db613ba757f93097d723", "message": "Create prototype for pinned sidebar", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "ed2384ffc0d30603118c69d9fe44142e9c15402f", "url": "https://github.com/Graylog2/graylog2-server/commit/ed2384ffc0d30603118c69d9fe44142e9c15402f", "message": "Create separate components for the sidebar", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "beb040671b46d202535d8955f59ad7b4cffbb985", "url": "https://github.com/Graylog2/graylog2-server/commit/beb040671b46d202535d8955f59ad7b4cffbb985", "message": "Update theme colors variable name for sidebar components", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "7c53f533404201cda4c3dbe4c4173a18f6f29e5a", "url": "https://github.com/Graylog2/graylog2-server/commit/7c53f533404201cda4c3dbe4c4173a18f6f29e5a", "message": "Rename SideBar component to Sidebar", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "f6c395483d5b73e36aa1ed8c8ee8c60632d90bdc", "url": "https://github.com/Graylog2/graylog2-server/commit/f6c395483d5b73e36aa1ed8c8ee8c60632d90bdc", "message": "Sort imports", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "6d75c8965bb35858b0f13f33600b37618df24ec8", "url": "https://github.com/Graylog2/graylog2-server/commit/6d75c8965bb35858b0f13f33600b37618df24ec8", "message": "Remove not needed Sidbar.styles and NavItem.styles", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "eee5bd1c10afb0e5ea957f60a8024453887b9261", "url": "https://github.com/Graylog2/graylog2-server/commit/eee5bd1c10afb0e5ea957f60a8024453887b9261", "message": "Remove not needed SidebarIcon component", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "80f450eff60f44d30c9995f01d76b9c46f29131f", "url": "https://github.com/Graylog2/graylog2-server/commit/80f450eff60f44d30c9995f01d76b9c46f29131f", "message": "Create directory for each sidebar section", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "c79489f6a3db129a988bfebaf0aeb2662659c950", "url": "https://github.com/Graylog2/graylog2-server/commit/c79489f6a3db129a988bfebaf0aeb2662659c950", "message": "Change HorizontalRuler styling", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "a6639234f00150e87ae73fb0f7316dcff59645c2", "url": "https://github.com/Graylog2/graylog2-server/commit/a6639234f00150e87ae73fb0f7316dcff59645c2", "message": "Sort props and type definitions", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "c12beec4403759ada674a6d19ebe6d6ec7b2eb64", "url": "https://github.com/Graylog2/graylog2-server/commit/c12beec4403759ada674a6d19ebe6d6ec7b2eb64", "message": "Use aria-label for section icons", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "b668ac683f07918436bfb18980819867e03c14af", "url": "https://github.com/Graylog2/graylog2-server/commit/b668ac683f07918436bfb18980819867e03c14af", "message": "Unify sidebar section hover title background color", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "6543a5d3a962ea5317ff9445b9217948c17644b3", "url": "https://github.com/Graylog2/graylog2-server/commit/6543a5d3a962ea5317ff9445b9217948c17644b3", "message": "Implement SizeMe component for FieldList", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "1b2e7b9c45f0d6d55366c8781f16cf56665de00f", "url": "https://github.com/Graylog2/graylog2-server/commit/1b2e7b9c45f0d6d55366c8781f16cf56665de00f", "message": "Adjust NavItem hover behaviour", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "e092384a3dfdab073272806f09a7a98e766aa13f", "url": "https://github.com/Graylog2/graylog2-server/commit/e092384a3dfdab073272806f09a7a98e766aa13f", "message": "Remove HorizontalRule component", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "3fba38744a3850f83dc4b9b070ee854109f65379", "url": "https://github.com/Graylog2/graylog2-server/commit/3fba38744a3850f83dc4b9b070ee854109f65379", "message": "Fix sidebar overflow", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "5a0ff41440c243c7811e63586980f9600f63f894", "url": "https://github.com/Graylog2/graylog2-server/commit/5a0ff41440c243c7811e63586980f9600f63f894", "message": "Change view description info text", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "f71e4191a8e8cad6b0422dde4f95b781b0fb0f40", "url": "https://github.com/Graylog2/graylog2-server/commit/f71e4191a8e8cad6b0422dde4f95b781b0fb0f40", "message": "Change create section button stylings and add info text.", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "1882cee17822c5dbef7fe87d5d187991ea9867ec", "url": "https://github.com/Graylog2/graylog2-server/commit/1882cee17822c5dbef7fe87d5d187991ea9867ec", "message": "Fix sidebar toggling, when addding an aggreation or parameter", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "8b947ff82c824b8980dba59bf3f4b69908d700cc", "url": "https://github.com/Graylog2/graylog2-server/commit/8b947ff82c824b8980dba59bf3f4b69908d700cc", "message": "Add description for highlighting section and create separate component for section subheadlines", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "0e43faa6e90791906e51ee70c324070b340cc1f1", "url": "https://github.com/Graylog2/graylog2-server/commit/0e43faa6e90791906e51ee70c324070b340cc1f1", "message": "Adjust FieldList height calculation", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "fe089d948e388cfa24b795b1b08c7166901181fc", "url": "https://github.com/Graylog2/graylog2-server/commit/fe089d948e388cfa24b795b1b08c7166901181fc", "message": "Define layer icon as sidebar overlay toggle icon", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "dc1a347e2b301f3c74acd4ecd6c13df2b934ce71", "url": "https://github.com/Graylog2/graylog2-server/commit/dc1a347e2b301f3c74acd4ecd6c13df2b934ce71", "message": "Adjust search page layout context naming", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "25b485c8451b96e4b8db6748cc86e1ea8f6df2f9", "url": "https://github.com/Graylog2/graylog2-server/commit/25b485c8451b96e4b8db6748cc86e1ea8f6df2f9", "message": "Rename remaining SideBar to Sidebar", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "eb8309ca38260887a5f3ad59c5dcedd70cf527cc", "url": "https://github.com/Graylog2/graylog2-server/commit/eb8309ca38260887a5f3ad59c5dcedd70cf527cc", "message": "Rename SectionOverview to SidebarNavigation", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "a8c850cf00d2bb14452021c7c0d128fcbb236b6a", "url": "https://github.com/Graylog2/graylog2-server/commit/a8c850cf00d2bb14452021c7c0d128fcbb236b6a", "message": "Rename SectionContent to ContentColumn", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "68163012cf72b8979eb6086e19b04e19cf4d6865", "url": "https://github.com/Graylog2/graylog2-server/commit/68163012cf72b8979eb6086e19b04e19cf4d6865", "message": "Reimplement SearchPageLayoutProvider for ExtendedSearchPage", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "72db1579837d0360fa8eb393ad8e03077d800630", "url": "https://github.com/Graylog2/graylog2-server/commit/72db1579837d0360fa8eb393ad8e03077d800630", "message": "Fix sidebar overlay toggle button title", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "e5e615b5061b6ada147b61e31987fd3ea4334d68", "url": "https://github.com/Graylog2/graylog2-server/commit/e5e615b5061b6ada147b61e31987fd3ea4334d68", "message": "Fix sidebar NavItem title prop", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "244e656018178d83b19974077d8619603db4c812", "url": "https://github.com/Graylog2/graylog2-server/commit/244e656018178d83b19974077d8619603db4c812", "message": "Fix SectionSubHeadline naming issue", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "86930c19f38b2f7cfbee1ea97874f0ce6ee256e5", "url": "https://github.com/Graylog2/graylog2-server/commit/86930c19f38b2f7cfbee1ea97874f0ce6ee256e5", "message": "Remove not needed styling", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "5f2afeebef2fe757ebccfcc9cacd24f87256454e", "url": "https://github.com/Graylog2/graylog2-server/commit/5f2afeebef2fe757ebccfcc9cacd24f87256454e", "message": "Add border for sidebar content column", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "ea8d579e4406fee5fda9910047aaca0041d0f3e2", "url": "https://github.com/Graylog2/graylog2-server/commit/ea8d579e4406fee5fda9910047aaca0041d0f3e2", "message": "Change default sidebar title for ad hoc search", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "c99098d07b45d6c6bc2cc16816a6d6db56cbd0df", "url": "https://github.com/Graylog2/graylog2-server/commit/c99098d07b45d6c6bc2cc16816a6d6db56cbd0df", "message": "Implement more dynamic FieldList version", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "cf78454bd51db1b92df0fe5ffd244d3919784cf7", "url": "https://github.com/Graylog2/graylog2-server/commit/cf78454bd51db1b92df0fe5ffd244d3919784cf7", "message": "Remove not needed width styling", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "6790b97961a777b8631ef4dda79e5e3ab12d43f0", "url": "https://github.com/Graylog2/graylog2-server/commit/6790b97961a777b8631ef4dda79e5e3ab12d43f0", "message": "Updating tests", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "102b0ce9e974551607424f1daa63cd92d38eb158", "url": "https://github.com/Graylog2/graylog2-server/commit/102b0ce9e974551607424f1daa63cd92d38eb158", "message": "Fix styling for long search titles", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "0ca5b477c0fcc687d14eb6f5f86ef2105306892a", "url": "https://github.com/Graylog2/graylog2-server/commit/0ca5b477c0fcc687d14eb6f5f86ef2105306892a", "message": "Use display flex instead of grid for extended search page layout", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "6dec26c7c0a0b0f6b6a8c78ec8dba258f74ee2fd", "url": "https://github.com/Graylog2/graylog2-server/commit/6dec26c7c0a0b0f6b6a8c78ec8dba258f74ee2fd", "message": "Updating remaining tests", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "5b939aa10dfcbb3ff1e5c512268d334955bd90ed", "url": "https://github.com/Graylog2/graylog2-server/commit/5b939aa10dfcbb3ff1e5c512268d334955bd90ed", "message": "Fix sidebar layout for IE11", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "65df79ebd39ed6e092c349a7f69205aa4309d571", "url": "https://github.com/Graylog2/graylog2-server/commit/65df79ebd39ed6e092c349a7f69205aa4309d571", "message": "Refactor sidebar content column props handling", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "94ac30ca1d82b5959d7b0bd5873bc6573da0d77e", "url": "https://github.com/Graylog2/graylog2-server/commit/94ac30ca1d82b5959d7b0bd5873bc6573da0d77e", "message": "Ignore vendor prefix for inline-grid on style lint", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "b03cdb01545374e5a813854601a49ee4cbe71923", "url": "https://github.com/Graylog2/graylog2-server/commit/b03cdb01545374e5a813854601a49ee4cbe71923", "message": "Fix flow type error", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "3b32edf50cb86c776c2d15bf32f9bb20c2b30844", "url": "https://github.com/Graylog2/graylog2-server/commit/3b32edf50cb86c776c2d15bf32f9bb20c2b30844", "message": "Fix AddWidgetButton import for CreateCustomAggregation", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "4fa330ecf1c90be51df3b18da97ca41913c867a9", "url": "https://github.com/Graylog2/graylog2-server/commit/4fa330ecf1c90be51df3b18da97ca41913c867a9", "message": "Adjust highlighting rules list style", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "96679e76c09bdd89b9405cdda739db6b0b70d684", "url": "https://github.com/Graylog2/graylog2-server/commit/96679e76c09bdd89b9405cdda739db6b0b70d684", "message": "Temporarily rename Sidebar file to apply change to git", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "1ca9f2cd05e6706c085538c3f7b507f6240bd872", "url": "https://github.com/Graylog2/graylog2-server/commit/1ca9f2cd05e6706c085538c3f7b507f6240bd872", "message": "Rename Sidebar file", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "f17c1a1394e3c8f1f52aa656ee1cefb4a97d2c2e", "url": "https://github.com/Graylog2/graylog2-server/commit/f17c1a1394e3c8f1f52aa656ee1cefb4a97d2c2e", "message": "Fix react import for SidebarNavigation", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "5ea0fd3935da51c0956e6870013d0792a2fbb6b3", "url": "https://github.com/Graylog2/graylog2-server/commit/5ea0fd3935da51c0956e6870013d0792a2fbb6b3", "message": "Remove not needed line", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "72eed604907585df234fe9a6be8028603c7b130f", "url": "https://github.com/Graylog2/graylog2-server/commit/72eed604907585df234fe9a6be8028603c7b130f", "message": "Fix ViewMetadataStore import for Sidebar", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "ad4dacf72c148c2c01a7caa730dd3c80f82da778", "url": "https://github.com/Graylog2/graylog2-server/commit/ad4dacf72c148c2c01a7caa730dd3c80f82da778", "message": "Disable eslint warning for unused props in sidebarSections.js", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "41097d4574f4772174a0f76bee96daf21487e338", "url": "https://github.com/Graylog2/graylog2-server/commit/41097d4574f4772174a0f76bee96daf21487e338", "message": "Remove not used import", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "2393776bffc205b9244689e721cbad7a7632c97b", "url": "https://github.com/Graylog2/graylog2-server/commit/2393776bffc205b9244689e721cbad7a7632c97b", "message": "Move AddWIdgetButton state initialization in a constructor", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "2393776bffc205b9244689e721cbad7a7632c97b", "url": "https://github.com/Graylog2/graylog2-server/commit/2393776bffc205b9244689e721cbad7a7632c97b", "message": "Move AddWIdgetButton state initialization in a constructor", "committedDate": "2020-06-15T08:37:00Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQwNTA2Nw==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r439405067", "bodyText": "If you want to ensure that this is a boolean, we should do something like:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              const sidebarIsInline = !!searchPageLayout?.config.sidebar.isInline;\n          \n          \n            \n              const sidebarIsInline = searchPageLayout?.config.sidebar.isInline ?? false;\n          \n      \n    \n    \n  \n\nwhich is more expressive than a double negation.", "author": "dennisoelkers", "createdAt": "2020-06-12T13:03:28Z", "path": "graylog2-web-interface/src/views/components/sidebar/Sidebar.jsx", "diffHunk": "@@ -0,0 +1,108 @@\n+// @flow strict\n+import * as React from 'react';\n+import { useState } from 'react';\n+import chroma from 'chroma-js';\n+import PropTypes from 'prop-types';\n+import styled, { type StyledComponent } from 'styled-components';\n+\n+import { type ThemeInterface } from 'theme';\n+import { type ViewMetaData as ViewMetadata } from 'views/stores/ViewMetadataStore';\n+import SearchPageLayoutContext, { type SearchPageLayout } from 'views/components/contexts/SearchPageLayoutContext';\n+import CustomPropTypes from '../CustomPropTypes';\n+import SidebarNavigation from './SidebarNavigation';\n+import ContentColumn from './ContentColumn';\n+import sidebarSections, { type SidebarSection } from './sidebarSections';\n+\n+type Props = {\n+  children: React.Element<any>,\n+  queryId: string,\n+  results: {},\n+  searchPageLayout: ?SearchPageLayout,\n+  sections: Array<SidebarSection>,\n+  viewMetadata: ViewMetadata,\n+};\n+\n+const Container = styled.div`\n+  display: flex;\n+  height: 100%;\n+  width: min-content;\n+`;\n+\n+const ContentOverlay: StyledComponent<{}, ThemeInterface, HTMLDivElement> = styled.div(({ theme }) => `\n+  position: fixed;\n+  top: 0;\n+  bottom: 0;\n+  left: 50px;\n+  right: 0;\n+  background: ${chroma(theme.colors.brand.tertiary).alpha(0.25).css()};\n+  z-index: 2;  \n+`);\n+\n+const handleToggleSidebar = (sections: Array<SidebarSection>, activeSectionKey: ?string, setActiveSectionKey) => {\n+  if (activeSectionKey) {\n+    setActiveSectionKey(null);\n+    return;\n+  }\n+  setActiveSectionKey(sections[0].key);\n+};\n+\n+const Sidebar = ({ searchPageLayout, results, children, queryId, sections, viewMetadata }: Props) => {\n+  const [activeSectionKey, setActiveSectionKey] = useState<?string>(null);\n+  const activeSection = sections.find((section) => section.key === activeSectionKey);\n+  const sidebarIsInline = !!searchPageLayout?.config.sidebar.isInline;", "originalCommit": "1e3d3d180a2100677664398d5d67f16cde43cfe5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3NTI4Mw==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r441375283", "bodyText": "IMO this is too light for anyone who is even slightly reading impaired. We should not use more than 50 for text, in this case 40 is even better.", "author": "dennisoelkers", "createdAt": "2020-06-17T08:32:15Z", "path": "graylog2-web-interface/src/views/components/sidebar/SectionInfo.jsx", "diffHunk": "@@ -0,0 +1,9 @@\n+// @flow strict\n+import styled, { type StyledComponent } from 'styled-components';\n+import { type ThemeInterface } from 'theme';\n+\n+const Title: StyledComponent<{}, ThemeInterface, HTMLParagraphElement> = styled.p(({ theme }) => `\n+  color: ${theme.colors.gray[60]};", "originalCommit": "2393776bffc205b9244689e721cbad7a7632c97b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY0MjY0NQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r441642645", "bodyText": "That is true, I am now using the default text color.", "author": "linuspahl", "createdAt": "2020-06-17T15:39:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3NTI4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3NjQ5Ng==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r441376496", "bodyText": "The icon is not ideal, it does not really give away what it does. IMO the pin icon was better.", "author": "dennisoelkers", "createdAt": "2020-06-17T08:34:18Z", "path": "graylog2-web-interface/src/views/components/sidebar/ContentColumn.jsx", "diffHunk": "@@ -0,0 +1,162 @@\n+// @flow strict\n+import * as React from 'react';\n+import styled, { type StyledComponent } from 'styled-components';\n+\n+import View, { type ViewType } from 'views/logic/views/View';\n+import { type ThemeInterface } from 'theme';\n+import { type SearchPageLayout } from 'views/components/contexts/SearchPageLayoutContext';\n+import { type ViewMetaData as ViewMetadata } from 'views/stores/ViewMetadataStore';\n+\n+import ViewTypeLabel from 'views/components/ViewTypeLabel';\n+import ViewTypeContext from 'views/components/contexts/ViewTypeContext';\n+import { IconButton } from 'components/common';\n+\n+type Props = {\n+  children: React.Node,\n+  closeSidebar: () => void,\n+  searchPageLayout: ?SearchPageLayout,\n+  sectionTitle: string,\n+  viewMetadata: ViewMetadata,\n+};\n+\n+export const Container: StyledComponent<{ sidebarIsInline: boolean }, ThemeInterface, HTMLDivElement> = styled.div(({ theme, sidebarIsInline }) => `\n+  position: ${sidebarIsInline ? 'static' : 'fixed'}\n+  display: grid;\n+  display: -ms-grid;\n+  grid-templage-columns: 1fr;\n+  grid-template-rows: auto 1fr;\n+  -ms-grid-columns: 1fr;\n+  -ms-grid-rows: auto 1fr;\n+  top: ${sidebarIsInline ? 0 : '50px'};\n+  left: ${sidebarIsInline ? 0 : '50px'};\n+\n+  width: 270px;\n+  height:  ${sidebarIsInline ? '100%' : 'calc(100% - 50px)'};;\n+  padding: 5px 15px 15px 15px;\n+\n+  color: ${theme.colors.global.textDefault};\n+  background: ${theme.colors.global.contentBackground};\n+  border-right: 1px solid ${theme.colors.gray[80]};\n+  \n+  overflow-y: auto;\n+  z-index: 3;\n+\n+  > *:nth-child(1) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+    grid-row: 1;\n+    -ms-grid-row: 1;\n+  }\n+\n+  > *:nth-child(2) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+    grid-row: 2;\n+    -ms-grid-row: 2;\n+  }\n+`);\n+\n+const Header: StyledComponent<{}, void, HTMLDivElement> = styled.div`\n+  height: 35px;\n+  display: grid;\n+  display: -ms-grid;\n+  grid-template-columns: 1fr auto;\n+  -ms-grid-columns: 1fr auto;\n+\n+  > *:nth-child(1) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+  }\n+\n+  > *:nth-child(2) {\n+    grid-column: 2;\n+    -ms-grid-column: 2;\n+  }\n+`;\n+\n+const Title = styled.h1`\n+  color: inherit;\n+  overflow: hidden;\n+  text-overflow: ellipsis;\n+  white-space: nowrap;\n+  font-size: 24px;\n+  cursor: pointer;\n+`;\n+\n+const OverlayToggle: StyledComponent<{ sidebarIsInline: boolean }, ThemeInterface, HTMLDivElement> = styled.div(({ theme, sidebarIsInline }) => `\n+  > * {\n+    font-size: 18px;\n+    color: ${sidebarIsInline ? theme.colors.gray[30] : theme.colors.variant.info};\n+  }\n+`);\n+\n+const HorizontalRule = styled.hr`\n+  margin: 5px 0 10px 0;\n+`;\n+\n+const SectionTitle = styled.h2`\n+  margin-bottom: 10px;\n+`;\n+\n+const CenterVertical = styled.div`\n+  display: inline-grid;\n+  display: -ms-inline-grid;\n+  align-content: center;\n+`;\n+\n+const toggleSidebarPinning = (searchPageLayout) => {\n+  if (!searchPageLayout) {\n+    return;\n+  }\n+  const { setConfig, config } = searchPageLayout;\n+  const sidebarIsInline = config?.sidebar.isInline;\n+  const newLayoutConfig = {\n+    ...config,\n+    sidebar: { isInline: !sidebarIsInline },\n+  };\n+  setConfig(newLayoutConfig);\n+};\n+\n+const sidebarTitle = (viewMetadata: ViewMetadata, viewType: ?ViewType) => {\n+  if (!viewMetadata.id) {\n+    return 'Ad Hoc Search';\n+  }\n+  const defaultViewTitle = `Untitled ${viewType ? ViewTypeLabel({ type: viewType, capitalize: true }) : View.Type.Search}`;\n+  return viewMetadata.title || defaultViewTitle;\n+};\n+\n+const ContentColumn = ({ children, sectionTitle, closeSidebar, searchPageLayout, viewMetadata }: Props) => {\n+  const sidebarIsInline = searchPageLayout?.config.sidebar.isInline;\n+  return (\n+    <ViewTypeContext.Consumer>\n+      {(viewType) => {\n+        const title = sidebarTitle(viewMetadata, viewType);\n+        return (\n+          <Container sidebarIsInline={sidebarIsInline}>\n+            <div>\n+              <Header title={title}>\n+                <CenterVertical>\n+                  <Title onClick={closeSidebar}>{title}</Title>\n+                </CenterVertical>\n+                <CenterVertical>\n+                  <OverlayToggle sidebarIsInline={sidebarIsInline}>\n+                    <IconButton onClick={() => toggleSidebarPinning(searchPageLayout)}\n+                                title={`Display sidebar ${sidebarIsInline ? 'as overlay' : 'inline'}`}\n+                                name=\"layer-group\" />", "originalCommit": "2393776bffc205b9244689e721cbad7a7632c97b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3ODA4Mw==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r441378083", "bodyText": "We should use isNew from ViewStore instead.", "author": "dennisoelkers", "createdAt": "2020-06-17T08:36:51Z", "path": "graylog2-web-interface/src/views/components/sidebar/ContentColumn.jsx", "diffHunk": "@@ -0,0 +1,162 @@\n+// @flow strict\n+import * as React from 'react';\n+import styled, { type StyledComponent } from 'styled-components';\n+\n+import View, { type ViewType } from 'views/logic/views/View';\n+import { type ThemeInterface } from 'theme';\n+import { type SearchPageLayout } from 'views/components/contexts/SearchPageLayoutContext';\n+import { type ViewMetaData as ViewMetadata } from 'views/stores/ViewMetadataStore';\n+\n+import ViewTypeLabel from 'views/components/ViewTypeLabel';\n+import ViewTypeContext from 'views/components/contexts/ViewTypeContext';\n+import { IconButton } from 'components/common';\n+\n+type Props = {\n+  children: React.Node,\n+  closeSidebar: () => void,\n+  searchPageLayout: ?SearchPageLayout,\n+  sectionTitle: string,\n+  viewMetadata: ViewMetadata,\n+};\n+\n+export const Container: StyledComponent<{ sidebarIsInline: boolean }, ThemeInterface, HTMLDivElement> = styled.div(({ theme, sidebarIsInline }) => `\n+  position: ${sidebarIsInline ? 'static' : 'fixed'}\n+  display: grid;\n+  display: -ms-grid;\n+  grid-templage-columns: 1fr;\n+  grid-template-rows: auto 1fr;\n+  -ms-grid-columns: 1fr;\n+  -ms-grid-rows: auto 1fr;\n+  top: ${sidebarIsInline ? 0 : '50px'};\n+  left: ${sidebarIsInline ? 0 : '50px'};\n+\n+  width: 270px;\n+  height:  ${sidebarIsInline ? '100%' : 'calc(100% - 50px)'};;\n+  padding: 5px 15px 15px 15px;\n+\n+  color: ${theme.colors.global.textDefault};\n+  background: ${theme.colors.global.contentBackground};\n+  border-right: 1px solid ${theme.colors.gray[80]};\n+  \n+  overflow-y: auto;\n+  z-index: 3;\n+\n+  > *:nth-child(1) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+    grid-row: 1;\n+    -ms-grid-row: 1;\n+  }\n+\n+  > *:nth-child(2) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+    grid-row: 2;\n+    -ms-grid-row: 2;\n+  }\n+`);\n+\n+const Header: StyledComponent<{}, void, HTMLDivElement> = styled.div`\n+  height: 35px;\n+  display: grid;\n+  display: -ms-grid;\n+  grid-template-columns: 1fr auto;\n+  -ms-grid-columns: 1fr auto;\n+\n+  > *:nth-child(1) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+  }\n+\n+  > *:nth-child(2) {\n+    grid-column: 2;\n+    -ms-grid-column: 2;\n+  }\n+`;\n+\n+const Title = styled.h1`\n+  color: inherit;\n+  overflow: hidden;\n+  text-overflow: ellipsis;\n+  white-space: nowrap;\n+  font-size: 24px;\n+  cursor: pointer;\n+`;\n+\n+const OverlayToggle: StyledComponent<{ sidebarIsInline: boolean }, ThemeInterface, HTMLDivElement> = styled.div(({ theme, sidebarIsInline }) => `\n+  > * {\n+    font-size: 18px;\n+    color: ${sidebarIsInline ? theme.colors.gray[30] : theme.colors.variant.info};\n+  }\n+`);\n+\n+const HorizontalRule = styled.hr`\n+  margin: 5px 0 10px 0;\n+`;\n+\n+const SectionTitle = styled.h2`\n+  margin-bottom: 10px;\n+`;\n+\n+const CenterVertical = styled.div`\n+  display: inline-grid;\n+  display: -ms-inline-grid;\n+  align-content: center;\n+`;\n+\n+const toggleSidebarPinning = (searchPageLayout) => {\n+  if (!searchPageLayout) {\n+    return;\n+  }\n+  const { setConfig, config } = searchPageLayout;\n+  const sidebarIsInline = config?.sidebar.isInline;\n+  const newLayoutConfig = {\n+    ...config,\n+    sidebar: { isInline: !sidebarIsInline },\n+  };\n+  setConfig(newLayoutConfig);\n+};\n+\n+const sidebarTitle = (viewMetadata: ViewMetadata, viewType: ?ViewType) => {\n+  if (!viewMetadata.id) {", "originalCommit": "2393776bffc205b9244689e721cbad7a7632c97b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjAzNTY2MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r442035660", "bodyText": "Using isNew here would lead to a slightly different behaviour. We would never display the title Untitled Dashboard. Right now this title is being displayed when a user creates a new dashboard (/dashboards/new).\nDo you prefer to display the title for the default search in this case as well?", "author": "linuspahl", "createdAt": "2020-06-18T07:52:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3ODA4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAyMzUxNg==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r444023516", "bodyText": "Imo these are two separate concerns. One is to find out if we have a new, unsaved search/dashboard, the other is to format the title. In my opinion, we should use isNew to determine the first and use viewType to format a title according to the type.", "author": "dennisoelkers", "createdAt": "2020-06-23T07:39:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3ODA4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDExMDA4NQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r444110085", "bodyText": "Thanks for the helpful feedback, I've updated the code. I also changed the default title for unsaved views to Unsaved ... in the same step.", "author": "linuspahl", "createdAt": "2020-06-23T10:03:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3ODA4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3OTQ1MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r441379450", "bodyText": "Ad Hoc Search is not a common way to describe that the search is new/untitled. I would prefer something more common. like New Search or Untitled Search. (I do remember why we changed from the first to the second option, but I am not convinced that someone could still mistake the heading for an action, the way it looks now)", "author": "dennisoelkers", "createdAt": "2020-06-17T08:39:00Z", "path": "graylog2-web-interface/src/views/components/sidebar/ContentColumn.jsx", "diffHunk": "@@ -0,0 +1,162 @@\n+// @flow strict\n+import * as React from 'react';\n+import styled, { type StyledComponent } from 'styled-components';\n+\n+import View, { type ViewType } from 'views/logic/views/View';\n+import { type ThemeInterface } from 'theme';\n+import { type SearchPageLayout } from 'views/components/contexts/SearchPageLayoutContext';\n+import { type ViewMetaData as ViewMetadata } from 'views/stores/ViewMetadataStore';\n+\n+import ViewTypeLabel from 'views/components/ViewTypeLabel';\n+import ViewTypeContext from 'views/components/contexts/ViewTypeContext';\n+import { IconButton } from 'components/common';\n+\n+type Props = {\n+  children: React.Node,\n+  closeSidebar: () => void,\n+  searchPageLayout: ?SearchPageLayout,\n+  sectionTitle: string,\n+  viewMetadata: ViewMetadata,\n+};\n+\n+export const Container: StyledComponent<{ sidebarIsInline: boolean }, ThemeInterface, HTMLDivElement> = styled.div(({ theme, sidebarIsInline }) => `\n+  position: ${sidebarIsInline ? 'static' : 'fixed'}\n+  display: grid;\n+  display: -ms-grid;\n+  grid-templage-columns: 1fr;\n+  grid-template-rows: auto 1fr;\n+  -ms-grid-columns: 1fr;\n+  -ms-grid-rows: auto 1fr;\n+  top: ${sidebarIsInline ? 0 : '50px'};\n+  left: ${sidebarIsInline ? 0 : '50px'};\n+\n+  width: 270px;\n+  height:  ${sidebarIsInline ? '100%' : 'calc(100% - 50px)'};;\n+  padding: 5px 15px 15px 15px;\n+\n+  color: ${theme.colors.global.textDefault};\n+  background: ${theme.colors.global.contentBackground};\n+  border-right: 1px solid ${theme.colors.gray[80]};\n+  \n+  overflow-y: auto;\n+  z-index: 3;\n+\n+  > *:nth-child(1) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+    grid-row: 1;\n+    -ms-grid-row: 1;\n+  }\n+\n+  > *:nth-child(2) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+    grid-row: 2;\n+    -ms-grid-row: 2;\n+  }\n+`);\n+\n+const Header: StyledComponent<{}, void, HTMLDivElement> = styled.div`\n+  height: 35px;\n+  display: grid;\n+  display: -ms-grid;\n+  grid-template-columns: 1fr auto;\n+  -ms-grid-columns: 1fr auto;\n+\n+  > *:nth-child(1) {\n+    grid-column: 1;\n+    -ms-grid-column: 1;\n+  }\n+\n+  > *:nth-child(2) {\n+    grid-column: 2;\n+    -ms-grid-column: 2;\n+  }\n+`;\n+\n+const Title = styled.h1`\n+  color: inherit;\n+  overflow: hidden;\n+  text-overflow: ellipsis;\n+  white-space: nowrap;\n+  font-size: 24px;\n+  cursor: pointer;\n+`;\n+\n+const OverlayToggle: StyledComponent<{ sidebarIsInline: boolean }, ThemeInterface, HTMLDivElement> = styled.div(({ theme, sidebarIsInline }) => `\n+  > * {\n+    font-size: 18px;\n+    color: ${sidebarIsInline ? theme.colors.gray[30] : theme.colors.variant.info};\n+  }\n+`);\n+\n+const HorizontalRule = styled.hr`\n+  margin: 5px 0 10px 0;\n+`;\n+\n+const SectionTitle = styled.h2`\n+  margin-bottom: 10px;\n+`;\n+\n+const CenterVertical = styled.div`\n+  display: inline-grid;\n+  display: -ms-inline-grid;\n+  align-content: center;\n+`;\n+\n+const toggleSidebarPinning = (searchPageLayout) => {\n+  if (!searchPageLayout) {\n+    return;\n+  }\n+  const { setConfig, config } = searchPageLayout;\n+  const sidebarIsInline = config?.sidebar.isInline;\n+  const newLayoutConfig = {\n+    ...config,\n+    sidebar: { isInline: !sidebarIsInline },\n+  };\n+  setConfig(newLayoutConfig);\n+};\n+\n+const sidebarTitle = (viewMetadata: ViewMetadata, viewType: ?ViewType) => {\n+  if (!viewMetadata.id) {\n+    return 'Ad Hoc Search';", "originalCommit": "2393776bffc205b9244689e721cbad7a7632c97b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM4MDU0Nw==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r441380547", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Search terms and field values can be highlighted. The search term highlighting can be configured in the graylog server config.\n          \n          \n            \n                    Search terms and field values can be highlighted. Highlighting your search query in the results can be enabled/disabled in the graylog server config.", "author": "dennisoelkers", "createdAt": "2020-06-17T08:40:44Z", "path": "graylog2-web-interface/src/views/components/sidebar/highlighting/HighlightingRules.jsx", "diffHunk": "@@ -1,23 +1,24 @@\n // @flow strict\n import * as React from 'react';\n import { useContext } from 'react';\n-import styled from 'styled-components';\n \n import { DEFAULT_HIGHLIGHT_COLOR } from 'views/Constants';\n import HighlightingRulesContext from 'views/components/contexts/HighlightingRulesContext';\n+import SectionInfo from '../SectionInfo';\n+import SectionSubheadline from '../SectionSubheadline';\n \n import HighlightingRule, { HighlightingRuleGrid } from './HighlightingRule';\n import ColorPreview from './ColorPreview';\n \n-const Headline = styled.h4`\n-  margin-bottom: 10px;\n-`;\n-\n const HighlightingRules = () => {\n   const rules = useContext(HighlightingRulesContext) ?? [];\n   return (\n     <>\n-      <Headline>Highlighting</Headline>\n+      <SectionInfo>\n+        Search terms and field values can be highlighted. The search term highlighting can be configured in the graylog server config.", "originalCommit": "2393776bffc205b9244689e721cbad7a7632c97b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM4MDk0NA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r441380944", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    A field value can be highlighted by clicking on &quot;Highlight this value&quot; in its context menu.\n          \n          \n            \n                    Any field value can be highlighted by clicking on the value and selecting &quot;Highlight this value&quot;.", "author": "dennisoelkers", "createdAt": "2020-06-17T08:41:20Z", "path": "graylog2-web-interface/src/views/components/sidebar/highlighting/HighlightingRules.jsx", "diffHunk": "@@ -1,23 +1,24 @@\n // @flow strict\n import * as React from 'react';\n import { useContext } from 'react';\n-import styled from 'styled-components';\n \n import { DEFAULT_HIGHLIGHT_COLOR } from 'views/Constants';\n import HighlightingRulesContext from 'views/components/contexts/HighlightingRulesContext';\n+import SectionInfo from '../SectionInfo';\n+import SectionSubheadline from '../SectionSubheadline';\n \n import HighlightingRule, { HighlightingRuleGrid } from './HighlightingRule';\n import ColorPreview from './ColorPreview';\n \n-const Headline = styled.h4`\n-  margin-bottom: 10px;\n-`;\n-\n const HighlightingRules = () => {\n   const rules = useContext(HighlightingRulesContext) ?? [];\n   return (\n     <>\n-      <Headline>Highlighting</Headline>\n+      <SectionInfo>\n+        Search terms and field values can be highlighted. The search term highlighting can be configured in the graylog server config.\n+        A field value can be highlighted by clicking on &quot;Highlight this value&quot; in its context menu.", "originalCommit": "2393776bffc205b9244689e721cbad7a7632c97b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6c658e088ad57f11307112a4de213fa73c3ee7bc", "url": "https://github.com/Graylog2/graylog2-server/commit/6c658e088ad57f11307112a4de213fa73c3ee7bc", "message": "Use default text color for sidebar section info", "committedDate": "2020-06-17T15:39:31Z", "type": "commit"}, {"oid": "d6baa5e6d7c8ef8efedd25cceb6374bf68cdd79a", "url": "https://github.com/Graylog2/graylog2-server/commit/d6baa5e6d7c8ef8efedd25cceb6374bf68cdd79a", "message": "Use pin icon instead of layer icon for the sidebar overlay toggle button", "committedDate": "2020-06-17T15:44:08Z", "type": "commit"}, {"oid": "834ffb2c7db1ffa140e506a8247f3bf376965494", "url": "https://github.com/Graylog2/graylog2-server/commit/834ffb2c7db1ffa140e506a8247f3bf376965494", "message": "Change highlighting section info text", "committedDate": "2020-06-17T15:49:16Z", "type": "commit"}, {"oid": "9ba7085cd55dea6d212ef50b8fe5d2c4fadbbd1e", "url": "https://github.com/Graylog2/graylog2-server/commit/9ba7085cd55dea6d212ef50b8fe5d2c4fadbbd1e", "message": "Use nullish coalescing operator for sidebar boolean check", "committedDate": "2020-06-18T07:22:36Z", "type": "commit"}, {"oid": "51bb372fb2af99d6ebfa240148b2cb9750c8976c", "url": "https://github.com/Graylog2/graylog2-server/commit/51bb372fb2af99d6ebfa240148b2cb9750c8976c", "message": "Change default search title from Ad Hoc Search to Untitled Search", "committedDate": "2020-06-18T07:52:57Z", "type": "commit"}, {"oid": "d9476b49c78b00892099e7b86440773d5f8b03b2", "url": "https://github.com/Graylog2/graylog2-server/commit/d9476b49c78b00892099e7b86440773d5f8b03b2", "message": "Add type for Sidebar results prop", "committedDate": "2020-06-18T08:05:22Z", "type": "commit"}, {"oid": "bcd3b97c23fda5d8e21b505ebcccd877012f2349", "url": "https://github.com/Graylog2/graylog2-server/commit/bcd3b97c23fda5d8e21b505ebcccd877012f2349", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-18T16:47:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQxMjQwNg==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r442412406", "bodyText": "Could we load the default from localStorage or user preferences?", "author": "kyleknighted", "createdAt": "2020-06-18T18:11:37Z", "path": "graylog2-web-interface/src/views/components/contexts/SearchPageLayoutProvider.jsx", "diffHunk": "@@ -0,0 +1,27 @@\n+// @flow strict\n+import * as React from 'react';\n+import { useState } from 'react';\n+import PropTypes from 'prop-types';\n+\n+import SearchPageLayoutContext from './SearchPageLayoutContext';\n+\n+const defaultLayoutConfig = {\n+  sidebar: {\n+    isInline: false,", "originalCommit": "bcd3b97c23fda5d8e21b505ebcccd877012f2349", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY4MTc4NQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/8294#discussion_r442681785", "bodyText": "Yes, the plan is to save this information as a user preference in another iteration.", "author": "linuspahl", "createdAt": "2020-06-19T07:36:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQxMjQwNg=="}], "type": "inlineReview"}, {"oid": "7a11ffbf4fa0d389a28f40dc1217cf2a2592601c", "url": "https://github.com/Graylog2/graylog2-server/commit/7a11ffbf4fa0d389a28f40dc1217cf2a2592601c", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-19T07:29:28Z", "type": "commit"}, {"oid": "249546bdd9469ae43ae23b56a0a18c0b8a923032", "url": "https://github.com/Graylog2/graylog2-server/commit/249546bdd9469ae43ae23b56a0a18c0b8a923032", "message": "Fix sidebar export name in sidebar index file", "committedDate": "2020-06-19T07:42:23Z", "type": "commit"}, {"oid": "25b453a57ffb1c252f61c40450b2eea5d3414507", "url": "https://github.com/Graylog2/graylog2-server/commit/25b453a57ffb1c252f61c40450b2eea5d3414507", "message": "Update imports order based on new linting rule", "committedDate": "2020-06-19T07:51:16Z", "type": "commit"}, {"oid": "ec9dab176445434a8a8423e4ae707257994eb5b6", "url": "https://github.com/Graylog2/graylog2-server/commit/ec9dab176445434a8a8423e4ae707257994eb5b6", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-19T15:43:20Z", "type": "commit"}, {"oid": "3e5b94b3acb4b09f6ab879b0add9bcf9b7ee3149", "url": "https://github.com/Graylog2/graylog2-server/commit/3e5b94b3acb4b09f6ab879b0add9bcf9b7ee3149", "message": "Replace hard coded font-sizes with theme variables", "committedDate": "2020-06-21T14:46:05Z", "type": "commit"}, {"oid": "8f5a71ca6bf04c6998b5374a552a0aeb030c1711", "url": "https://github.com/Graylog2/graylog2-server/commit/8f5a71ca6bf04c6998b5374a552a0aeb030c1711", "message": "Rename sidebar layout setting isInline to isPinned", "committedDate": "2020-06-22T08:16:41Z", "type": "commit"}, {"oid": "e4c85b32bca7a74dadb8046bcc972b046691a68c", "url": "https://github.com/Graylog2/graylog2-server/commit/e4c85b32bca7a74dadb8046bcc972b046691a68c", "message": "Use ViewStore isNew to determine sidebar title", "committedDate": "2020-06-23T08:26:19Z", "type": "commit"}, {"oid": "99262feb0df7d0f951aa67fcd5f95948553a9aac", "url": "https://github.com/Graylog2/graylog2-server/commit/99262feb0df7d0f951aa67fcd5f95948553a9aac", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-23T09:55:07Z", "type": "commit"}, {"oid": "18e055f3d6d77667a852a7bc1f0beaac63b77a3d", "url": "https://github.com/Graylog2/graylog2-server/commit/18e055f3d6d77667a852a7bc1f0beaac63b77a3d", "message": "Fix Sidebar test", "committedDate": "2020-06-24T07:58:55Z", "type": "commit"}, {"oid": "0401397bf8e63662a672e5590fb5a779961d85d5", "url": "https://github.com/Graylog2/graylog2-server/commit/0401397bf8e63662a672e5590fb5a779961d85d5", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-25T09:20:03Z", "type": "commit"}, {"oid": "38903cf1018f7ff38d460acf738d34290b8ba4a8", "url": "https://github.com/Graylog2/graylog2-server/commit/38903cf1018f7ff38d460acf738d34290b8ba4a8", "message": "Remove not needed lines", "committedDate": "2020-06-25T09:30:40Z", "type": "commit"}, {"oid": "8e1b6061c75a9167e20150c405bcb3e58e3215ce", "url": "https://github.com/Graylog2/graylog2-server/commit/8e1b6061c75a9167e20150c405bcb3e58e3215ce", "message": "Add name for unnamed function in CreateCustomAggregation", "committedDate": "2020-06-25T09:31:12Z", "type": "commit"}, {"oid": "47de6218d7574647258a666184a7f9d239a53a0a", "url": "https://github.com/Graylog2/graylog2-server/commit/47de6218d7574647258a666184a7f9d239a53a0a", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-25T10:16:02Z", "type": "commit"}, {"oid": "a74710124b4852c965c82221feda83cb38b2e6b3", "url": "https://github.com/Graylog2/graylog2-server/commit/a74710124b4852c965c82221feda83cb38b2e6b3", "message": "Fix padding-line-between-statements linter error", "committedDate": "2020-06-25T10:21:06Z", "type": "commit"}, {"oid": "4fee4f5956f82fd8e627f94037284d187fd5bd1c", "url": "https://github.com/Graylog2/graylog2-server/commit/4fee4f5956f82fd8e627f94037284d187fd5bd1c", "message": "Refactor sidebar view type label creation", "committedDate": "2020-06-25T11:57:32Z", "type": "commit"}, {"oid": "95e64099e8e88c8a6c30c170c3ed7e328e3feb27", "url": "https://github.com/Graylog2/graylog2-server/commit/95e64099e8e88c8a6c30c170c3ed7e328e3feb27", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-29T09:42:08Z", "type": "commit"}, {"oid": "0adf65044635150ee594e67ddddf7d88f9c47fa5", "url": "https://github.com/Graylog2/graylog2-server/commit/0adf65044635150ee594e67ddddf7d88f9c47fa5", "message": "Sort props", "committedDate": "2020-06-29T11:22:11Z", "type": "commit"}, {"oid": "673a91513acc7417aae87c50a28dfc19dd59658f", "url": "https://github.com/Graylog2/graylog2-server/commit/673a91513acc7417aae87c50a28dfc19dd59658f", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-07-02T11:11:06Z", "type": "commit"}, {"oid": "3e30ff47294e043df1ceb604bd7629552a71a3cd", "url": "https://github.com/Graylog2/graylog2-server/commit/3e30ff47294e043df1ceb604bd7629552a71a3cd", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-07-02T16:02:26Z", "type": "commit"}, {"oid": "f12b86aa481aebd7acdfdeed68f87c7352e64007", "url": "https://github.com/Graylog2/graylog2-server/commit/f12b86aa481aebd7acdfdeed68f87c7352e64007", "message": "Save sidebar isPinned setting as a user preference (#8396)\n\n* Save sidebar isInline setting as a user preference\r\n\r\n* Use user preference as initial state for SearchPageLayoutProvider\r\n\r\n* Rename user preference displaySearchSidebarInline to searchSidebarIsInline\r\n\r\n* Do not display success notification for updated user preference when changing sidebar layout setting\r\n\r\n* Remove not needed comment\r\n\r\n* Implemnt CurrentUerContext for SearchPageLayout\r\n\r\n* Fix padding-line-between-statements linter error\r\n\r\n* Add type definitions for UserPreferencesModal", "committedDate": "2020-07-03T11:27:40Z", "type": "commit"}, {"oid": "24f0b9f766f8b620b18d35bd18c4d539e72d70b8", "url": "https://github.com/Graylog2/graylog2-server/commit/24f0b9f766f8b620b18d35bd18c4d539e72d70b8", "message": "Update current user correctly after changing user preferences", "committedDate": "2020-07-03T12:22:18Z", "type": "commit"}]}