{"pr_number": 8527, "pr_title": "Save system user sidebar pinning in local storage and differentiate setting for searches and dashboards", "pr_createdAt": "2020-07-10T07:32:09Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/8527", "timeline": [{"oid": "21bfbcaaa01856f68ea758f005dfbc79131a33b0", "url": "https://github.com/Graylog2/graylog2-server/commit/21bfbcaaa01856f68ea758f005dfbc79131a33b0", "message": "Support editing title, description and summary of a saved search\n\n* Add \"Edit metadata\" action for saved search controls\n* Rename \"Edit\" action to \"Edit metadata\" for dashboards\n* Implement view type specific description for ViewPropertiesModal\n* Adjust sidebar ViewDescription", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "e7d24fe069468dee91b8db613ba757f93097d723", "url": "https://github.com/Graylog2/graylog2-server/commit/e7d24fe069468dee91b8db613ba757f93097d723", "message": "Create prototype for pinned sidebar", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "ed2384ffc0d30603118c69d9fe44142e9c15402f", "url": "https://github.com/Graylog2/graylog2-server/commit/ed2384ffc0d30603118c69d9fe44142e9c15402f", "message": "Create separate components for the sidebar", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "beb040671b46d202535d8955f59ad7b4cffbb985", "url": "https://github.com/Graylog2/graylog2-server/commit/beb040671b46d202535d8955f59ad7b4cffbb985", "message": "Update theme colors variable name for sidebar components", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "7c53f533404201cda4c3dbe4c4173a18f6f29e5a", "url": "https://github.com/Graylog2/graylog2-server/commit/7c53f533404201cda4c3dbe4c4173a18f6f29e5a", "message": "Rename SideBar component to Sidebar", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "f6c395483d5b73e36aa1ed8c8ee8c60632d90bdc", "url": "https://github.com/Graylog2/graylog2-server/commit/f6c395483d5b73e36aa1ed8c8ee8c60632d90bdc", "message": "Sort imports", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "6d75c8965bb35858b0f13f33600b37618df24ec8", "url": "https://github.com/Graylog2/graylog2-server/commit/6d75c8965bb35858b0f13f33600b37618df24ec8", "message": "Remove not needed Sidbar.styles and NavItem.styles", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "eee5bd1c10afb0e5ea957f60a8024453887b9261", "url": "https://github.com/Graylog2/graylog2-server/commit/eee5bd1c10afb0e5ea957f60a8024453887b9261", "message": "Remove not needed SidebarIcon component", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "80f450eff60f44d30c9995f01d76b9c46f29131f", "url": "https://github.com/Graylog2/graylog2-server/commit/80f450eff60f44d30c9995f01d76b9c46f29131f", "message": "Create directory for each sidebar section", "committedDate": "2020-06-15T08:36:58Z", "type": "commit"}, {"oid": "c79489f6a3db129a988bfebaf0aeb2662659c950", "url": "https://github.com/Graylog2/graylog2-server/commit/c79489f6a3db129a988bfebaf0aeb2662659c950", "message": "Change HorizontalRuler styling", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "a6639234f00150e87ae73fb0f7316dcff59645c2", "url": "https://github.com/Graylog2/graylog2-server/commit/a6639234f00150e87ae73fb0f7316dcff59645c2", "message": "Sort props and type definitions", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "c12beec4403759ada674a6d19ebe6d6ec7b2eb64", "url": "https://github.com/Graylog2/graylog2-server/commit/c12beec4403759ada674a6d19ebe6d6ec7b2eb64", "message": "Use aria-label for section icons", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "b668ac683f07918436bfb18980819867e03c14af", "url": "https://github.com/Graylog2/graylog2-server/commit/b668ac683f07918436bfb18980819867e03c14af", "message": "Unify sidebar section hover title background color", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "6543a5d3a962ea5317ff9445b9217948c17644b3", "url": "https://github.com/Graylog2/graylog2-server/commit/6543a5d3a962ea5317ff9445b9217948c17644b3", "message": "Implement SizeMe component for FieldList", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "1b2e7b9c45f0d6d55366c8781f16cf56665de00f", "url": "https://github.com/Graylog2/graylog2-server/commit/1b2e7b9c45f0d6d55366c8781f16cf56665de00f", "message": "Adjust NavItem hover behaviour", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "e092384a3dfdab073272806f09a7a98e766aa13f", "url": "https://github.com/Graylog2/graylog2-server/commit/e092384a3dfdab073272806f09a7a98e766aa13f", "message": "Remove HorizontalRule component", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "3fba38744a3850f83dc4b9b070ee854109f65379", "url": "https://github.com/Graylog2/graylog2-server/commit/3fba38744a3850f83dc4b9b070ee854109f65379", "message": "Fix sidebar overflow", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "5a0ff41440c243c7811e63586980f9600f63f894", "url": "https://github.com/Graylog2/graylog2-server/commit/5a0ff41440c243c7811e63586980f9600f63f894", "message": "Change view description info text", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "f71e4191a8e8cad6b0422dde4f95b781b0fb0f40", "url": "https://github.com/Graylog2/graylog2-server/commit/f71e4191a8e8cad6b0422dde4f95b781b0fb0f40", "message": "Change create section button stylings and add info text.", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "1882cee17822c5dbef7fe87d5d187991ea9867ec", "url": "https://github.com/Graylog2/graylog2-server/commit/1882cee17822c5dbef7fe87d5d187991ea9867ec", "message": "Fix sidebar toggling, when addding an aggreation or parameter", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "8b947ff82c824b8980dba59bf3f4b69908d700cc", "url": "https://github.com/Graylog2/graylog2-server/commit/8b947ff82c824b8980dba59bf3f4b69908d700cc", "message": "Add description for highlighting section and create separate component for section subheadlines", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "0e43faa6e90791906e51ee70c324070b340cc1f1", "url": "https://github.com/Graylog2/graylog2-server/commit/0e43faa6e90791906e51ee70c324070b340cc1f1", "message": "Adjust FieldList height calculation", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "fe089d948e388cfa24b795b1b08c7166901181fc", "url": "https://github.com/Graylog2/graylog2-server/commit/fe089d948e388cfa24b795b1b08c7166901181fc", "message": "Define layer icon as sidebar overlay toggle icon", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "dc1a347e2b301f3c74acd4ecd6c13df2b934ce71", "url": "https://github.com/Graylog2/graylog2-server/commit/dc1a347e2b301f3c74acd4ecd6c13df2b934ce71", "message": "Adjust search page layout context naming", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "25b485c8451b96e4b8db6748cc86e1ea8f6df2f9", "url": "https://github.com/Graylog2/graylog2-server/commit/25b485c8451b96e4b8db6748cc86e1ea8f6df2f9", "message": "Rename remaining SideBar to Sidebar", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "eb8309ca38260887a5f3ad59c5dcedd70cf527cc", "url": "https://github.com/Graylog2/graylog2-server/commit/eb8309ca38260887a5f3ad59c5dcedd70cf527cc", "message": "Rename SectionOverview to SidebarNavigation", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "a8c850cf00d2bb14452021c7c0d128fcbb236b6a", "url": "https://github.com/Graylog2/graylog2-server/commit/a8c850cf00d2bb14452021c7c0d128fcbb236b6a", "message": "Rename SectionContent to ContentColumn", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "68163012cf72b8979eb6086e19b04e19cf4d6865", "url": "https://github.com/Graylog2/graylog2-server/commit/68163012cf72b8979eb6086e19b04e19cf4d6865", "message": "Reimplement SearchPageLayoutProvider for ExtendedSearchPage", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "72db1579837d0360fa8eb393ad8e03077d800630", "url": "https://github.com/Graylog2/graylog2-server/commit/72db1579837d0360fa8eb393ad8e03077d800630", "message": "Fix sidebar overlay toggle button title", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "e5e615b5061b6ada147b61e31987fd3ea4334d68", "url": "https://github.com/Graylog2/graylog2-server/commit/e5e615b5061b6ada147b61e31987fd3ea4334d68", "message": "Fix sidebar NavItem title prop", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "244e656018178d83b19974077d8619603db4c812", "url": "https://github.com/Graylog2/graylog2-server/commit/244e656018178d83b19974077d8619603db4c812", "message": "Fix SectionSubHeadline naming issue", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "86930c19f38b2f7cfbee1ea97874f0ce6ee256e5", "url": "https://github.com/Graylog2/graylog2-server/commit/86930c19f38b2f7cfbee1ea97874f0ce6ee256e5", "message": "Remove not needed styling", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "5f2afeebef2fe757ebccfcc9cacd24f87256454e", "url": "https://github.com/Graylog2/graylog2-server/commit/5f2afeebef2fe757ebccfcc9cacd24f87256454e", "message": "Add border for sidebar content column", "committedDate": "2020-06-15T08:36:59Z", "type": "commit"}, {"oid": "ea8d579e4406fee5fda9910047aaca0041d0f3e2", "url": "https://github.com/Graylog2/graylog2-server/commit/ea8d579e4406fee5fda9910047aaca0041d0f3e2", "message": "Change default sidebar title for ad hoc search", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "c99098d07b45d6c6bc2cc16816a6d6db56cbd0df", "url": "https://github.com/Graylog2/graylog2-server/commit/c99098d07b45d6c6bc2cc16816a6d6db56cbd0df", "message": "Implement more dynamic FieldList version", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "cf78454bd51db1b92df0fe5ffd244d3919784cf7", "url": "https://github.com/Graylog2/graylog2-server/commit/cf78454bd51db1b92df0fe5ffd244d3919784cf7", "message": "Remove not needed width styling", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "6790b97961a777b8631ef4dda79e5e3ab12d43f0", "url": "https://github.com/Graylog2/graylog2-server/commit/6790b97961a777b8631ef4dda79e5e3ab12d43f0", "message": "Updating tests", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "102b0ce9e974551607424f1daa63cd92d38eb158", "url": "https://github.com/Graylog2/graylog2-server/commit/102b0ce9e974551607424f1daa63cd92d38eb158", "message": "Fix styling for long search titles", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "0ca5b477c0fcc687d14eb6f5f86ef2105306892a", "url": "https://github.com/Graylog2/graylog2-server/commit/0ca5b477c0fcc687d14eb6f5f86ef2105306892a", "message": "Use display flex instead of grid for extended search page layout", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "6dec26c7c0a0b0f6b6a8c78ec8dba258f74ee2fd", "url": "https://github.com/Graylog2/graylog2-server/commit/6dec26c7c0a0b0f6b6a8c78ec8dba258f74ee2fd", "message": "Updating remaining tests", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "5b939aa10dfcbb3ff1e5c512268d334955bd90ed", "url": "https://github.com/Graylog2/graylog2-server/commit/5b939aa10dfcbb3ff1e5c512268d334955bd90ed", "message": "Fix sidebar layout for IE11", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "65df79ebd39ed6e092c349a7f69205aa4309d571", "url": "https://github.com/Graylog2/graylog2-server/commit/65df79ebd39ed6e092c349a7f69205aa4309d571", "message": "Refactor sidebar content column props handling", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "94ac30ca1d82b5959d7b0bd5873bc6573da0d77e", "url": "https://github.com/Graylog2/graylog2-server/commit/94ac30ca1d82b5959d7b0bd5873bc6573da0d77e", "message": "Ignore vendor prefix for inline-grid on style lint", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "b03cdb01545374e5a813854601a49ee4cbe71923", "url": "https://github.com/Graylog2/graylog2-server/commit/b03cdb01545374e5a813854601a49ee4cbe71923", "message": "Fix flow type error", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "3b32edf50cb86c776c2d15bf32f9bb20c2b30844", "url": "https://github.com/Graylog2/graylog2-server/commit/3b32edf50cb86c776c2d15bf32f9bb20c2b30844", "message": "Fix AddWidgetButton import for CreateCustomAggregation", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "4fa330ecf1c90be51df3b18da97ca41913c867a9", "url": "https://github.com/Graylog2/graylog2-server/commit/4fa330ecf1c90be51df3b18da97ca41913c867a9", "message": "Adjust highlighting rules list style", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "96679e76c09bdd89b9405cdda739db6b0b70d684", "url": "https://github.com/Graylog2/graylog2-server/commit/96679e76c09bdd89b9405cdda739db6b0b70d684", "message": "Temporarily rename Sidebar file to apply change to git", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "1ca9f2cd05e6706c085538c3f7b507f6240bd872", "url": "https://github.com/Graylog2/graylog2-server/commit/1ca9f2cd05e6706c085538c3f7b507f6240bd872", "message": "Rename Sidebar file", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "f17c1a1394e3c8f1f52aa656ee1cefb4a97d2c2e", "url": "https://github.com/Graylog2/graylog2-server/commit/f17c1a1394e3c8f1f52aa656ee1cefb4a97d2c2e", "message": "Fix react import for SidebarNavigation", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "5ea0fd3935da51c0956e6870013d0792a2fbb6b3", "url": "https://github.com/Graylog2/graylog2-server/commit/5ea0fd3935da51c0956e6870013d0792a2fbb6b3", "message": "Remove not needed line", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "72eed604907585df234fe9a6be8028603c7b130f", "url": "https://github.com/Graylog2/graylog2-server/commit/72eed604907585df234fe9a6be8028603c7b130f", "message": "Fix ViewMetadataStore import for Sidebar", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "ad4dacf72c148c2c01a7caa730dd3c80f82da778", "url": "https://github.com/Graylog2/graylog2-server/commit/ad4dacf72c148c2c01a7caa730dd3c80f82da778", "message": "Disable eslint warning for unused props in sidebarSections.js", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "41097d4574f4772174a0f76bee96daf21487e338", "url": "https://github.com/Graylog2/graylog2-server/commit/41097d4574f4772174a0f76bee96daf21487e338", "message": "Remove not used import", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "2393776bffc205b9244689e721cbad7a7632c97b", "url": "https://github.com/Graylog2/graylog2-server/commit/2393776bffc205b9244689e721cbad7a7632c97b", "message": "Move AddWIdgetButton state initialization in a constructor", "committedDate": "2020-06-15T08:37:00Z", "type": "commit"}, {"oid": "6c658e088ad57f11307112a4de213fa73c3ee7bc", "url": "https://github.com/Graylog2/graylog2-server/commit/6c658e088ad57f11307112a4de213fa73c3ee7bc", "message": "Use default text color for sidebar section info", "committedDate": "2020-06-17T15:39:31Z", "type": "commit"}, {"oid": "d6baa5e6d7c8ef8efedd25cceb6374bf68cdd79a", "url": "https://github.com/Graylog2/graylog2-server/commit/d6baa5e6d7c8ef8efedd25cceb6374bf68cdd79a", "message": "Use pin icon instead of layer icon for the sidebar overlay toggle button", "committedDate": "2020-06-17T15:44:08Z", "type": "commit"}, {"oid": "834ffb2c7db1ffa140e506a8247f3bf376965494", "url": "https://github.com/Graylog2/graylog2-server/commit/834ffb2c7db1ffa140e506a8247f3bf376965494", "message": "Change highlighting section info text", "committedDate": "2020-06-17T15:49:16Z", "type": "commit"}, {"oid": "9ba7085cd55dea6d212ef50b8fe5d2c4fadbbd1e", "url": "https://github.com/Graylog2/graylog2-server/commit/9ba7085cd55dea6d212ef50b8fe5d2c4fadbbd1e", "message": "Use nullish coalescing operator for sidebar boolean check", "committedDate": "2020-06-18T07:22:36Z", "type": "commit"}, {"oid": "51bb372fb2af99d6ebfa240148b2cb9750c8976c", "url": "https://github.com/Graylog2/graylog2-server/commit/51bb372fb2af99d6ebfa240148b2cb9750c8976c", "message": "Change default search title from Ad Hoc Search to Untitled Search", "committedDate": "2020-06-18T07:52:57Z", "type": "commit"}, {"oid": "d9476b49c78b00892099e7b86440773d5f8b03b2", "url": "https://github.com/Graylog2/graylog2-server/commit/d9476b49c78b00892099e7b86440773d5f8b03b2", "message": "Add type for Sidebar results prop", "committedDate": "2020-06-18T08:05:22Z", "type": "commit"}, {"oid": "bcd3b97c23fda5d8e21b505ebcccd877012f2349", "url": "https://github.com/Graylog2/graylog2-server/commit/bcd3b97c23fda5d8e21b505ebcccd877012f2349", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-18T16:47:00Z", "type": "commit"}, {"oid": "7a11ffbf4fa0d389a28f40dc1217cf2a2592601c", "url": "https://github.com/Graylog2/graylog2-server/commit/7a11ffbf4fa0d389a28f40dc1217cf2a2592601c", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-19T07:29:28Z", "type": "commit"}, {"oid": "249546bdd9469ae43ae23b56a0a18c0b8a923032", "url": "https://github.com/Graylog2/graylog2-server/commit/249546bdd9469ae43ae23b56a0a18c0b8a923032", "message": "Fix sidebar export name in sidebar index file", "committedDate": "2020-06-19T07:42:23Z", "type": "commit"}, {"oid": "25b453a57ffb1c252f61c40450b2eea5d3414507", "url": "https://github.com/Graylog2/graylog2-server/commit/25b453a57ffb1c252f61c40450b2eea5d3414507", "message": "Update imports order based on new linting rule", "committedDate": "2020-06-19T07:51:16Z", "type": "commit"}, {"oid": "ec9dab176445434a8a8423e4ae707257994eb5b6", "url": "https://github.com/Graylog2/graylog2-server/commit/ec9dab176445434a8a8423e4ae707257994eb5b6", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-19T15:43:20Z", "type": "commit"}, {"oid": "3e5b94b3acb4b09f6ab879b0add9bcf9b7ee3149", "url": "https://github.com/Graylog2/graylog2-server/commit/3e5b94b3acb4b09f6ab879b0add9bcf9b7ee3149", "message": "Replace hard coded font-sizes with theme variables", "committedDate": "2020-06-21T14:46:05Z", "type": "commit"}, {"oid": "8f5a71ca6bf04c6998b5374a552a0aeb030c1711", "url": "https://github.com/Graylog2/graylog2-server/commit/8f5a71ca6bf04c6998b5374a552a0aeb030c1711", "message": "Rename sidebar layout setting isInline to isPinned", "committedDate": "2020-06-22T08:16:41Z", "type": "commit"}, {"oid": "e4c85b32bca7a74dadb8046bcc972b046691a68c", "url": "https://github.com/Graylog2/graylog2-server/commit/e4c85b32bca7a74dadb8046bcc972b046691a68c", "message": "Use ViewStore isNew to determine sidebar title", "committedDate": "2020-06-23T08:26:19Z", "type": "commit"}, {"oid": "99262feb0df7d0f951aa67fcd5f95948553a9aac", "url": "https://github.com/Graylog2/graylog2-server/commit/99262feb0df7d0f951aa67fcd5f95948553a9aac", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-23T09:55:07Z", "type": "commit"}, {"oid": "18e055f3d6d77667a852a7bc1f0beaac63b77a3d", "url": "https://github.com/Graylog2/graylog2-server/commit/18e055f3d6d77667a852a7bc1f0beaac63b77a3d", "message": "Fix Sidebar test", "committedDate": "2020-06-24T07:58:55Z", "type": "commit"}, {"oid": "0401397bf8e63662a672e5590fb5a779961d85d5", "url": "https://github.com/Graylog2/graylog2-server/commit/0401397bf8e63662a672e5590fb5a779961d85d5", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-25T09:20:03Z", "type": "commit"}, {"oid": "38903cf1018f7ff38d460acf738d34290b8ba4a8", "url": "https://github.com/Graylog2/graylog2-server/commit/38903cf1018f7ff38d460acf738d34290b8ba4a8", "message": "Remove not needed lines", "committedDate": "2020-06-25T09:30:40Z", "type": "commit"}, {"oid": "8e1b6061c75a9167e20150c405bcb3e58e3215ce", "url": "https://github.com/Graylog2/graylog2-server/commit/8e1b6061c75a9167e20150c405bcb3e58e3215ce", "message": "Add name for unnamed function in CreateCustomAggregation", "committedDate": "2020-06-25T09:31:12Z", "type": "commit"}, {"oid": "47de6218d7574647258a666184a7f9d239a53a0a", "url": "https://github.com/Graylog2/graylog2-server/commit/47de6218d7574647258a666184a7f9d239a53a0a", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-25T10:16:02Z", "type": "commit"}, {"oid": "a74710124b4852c965c82221feda83cb38b2e6b3", "url": "https://github.com/Graylog2/graylog2-server/commit/a74710124b4852c965c82221feda83cb38b2e6b3", "message": "Fix padding-line-between-statements linter error", "committedDate": "2020-06-25T10:21:06Z", "type": "commit"}, {"oid": "4fee4f5956f82fd8e627f94037284d187fd5bd1c", "url": "https://github.com/Graylog2/graylog2-server/commit/4fee4f5956f82fd8e627f94037284d187fd5bd1c", "message": "Refactor sidebar view type label creation", "committedDate": "2020-06-25T11:57:32Z", "type": "commit"}, {"oid": "95e64099e8e88c8a6c30c170c3ed7e328e3feb27", "url": "https://github.com/Graylog2/graylog2-server/commit/95e64099e8e88c8a6c30c170c3ed7e328e3feb27", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-06-29T09:42:08Z", "type": "commit"}, {"oid": "0adf65044635150ee594e67ddddf7d88f9c47fa5", "url": "https://github.com/Graylog2/graylog2-server/commit/0adf65044635150ee594e67ddddf7d88f9c47fa5", "message": "Sort props", "committedDate": "2020-06-29T11:22:11Z", "type": "commit"}, {"oid": "673a91513acc7417aae87c50a28dfc19dd59658f", "url": "https://github.com/Graylog2/graylog2-server/commit/673a91513acc7417aae87c50a28dfc19dd59658f", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-07-02T11:11:06Z", "type": "commit"}, {"oid": "3e30ff47294e043df1ceb604bd7629552a71a3cd", "url": "https://github.com/Graylog2/graylog2-server/commit/3e30ff47294e043df1ceb604bd7629552a71a3cd", "message": "Merge branch 'master' into pinned-sidebar", "committedDate": "2020-07-02T16:02:26Z", "type": "commit"}, {"oid": "f12b86aa481aebd7acdfdeed68f87c7352e64007", "url": "https://github.com/Graylog2/graylog2-server/commit/f12b86aa481aebd7acdfdeed68f87c7352e64007", "message": "Save sidebar isPinned setting as a user preference (#8396)\n\n* Save sidebar isInline setting as a user preference\r\n\r\n* Use user preference as initial state for SearchPageLayoutProvider\r\n\r\n* Rename user preference displaySearchSidebarInline to searchSidebarIsInline\r\n\r\n* Do not display success notification for updated user preference when changing sidebar layout setting\r\n\r\n* Remove not needed comment\r\n\r\n* Implemnt CurrentUerContext for SearchPageLayout\r\n\r\n* Fix padding-line-between-statements linter error\r\n\r\n* Add type definitions for UserPreferencesModal", "committedDate": "2020-07-03T11:27:40Z", "type": "commit"}, {"oid": "24f0b9f766f8b620b18d35bd18c4d539e72d70b8", "url": "https://github.com/Graylog2/graylog2-server/commit/24f0b9f766f8b620b18d35bd18c4d539e72d70b8", "message": "Update current user correctly after changing user preferences", "committedDate": "2020-07-03T12:22:18Z", "type": "commit"}, {"oid": "7dad38d34a14ebfd3e9d778965ab02883c6f76c5", "url": "https://github.com/Graylog2/graylog2-server/commit/7dad38d34a14ebfd3e9d778965ab02883c6f76c5", "message": "Create separate user preference for sidebar pinnning on dashboards", "committedDate": "2020-07-06T09:57:31Z", "type": "commit"}, {"oid": "60c6b99ce5f66e9e3c5cb9fb4d0a5182d0aa806e", "url": "https://github.com/Graylog2/graylog2-server/commit/60c6b99ce5f66e9e3c5cb9fb4d0a5182d0aa806e", "message": "Refactor SearchPageLayout sidebar pinning", "committedDate": "2020-07-06T10:23:03Z", "type": "commit"}, {"oid": "b6492345687d2da49c3ccde8ca2e31bb95fedd5a", "url": "https://github.com/Graylog2/graylog2-server/commit/b6492345687d2da49c3ccde8ca2e31bb95fedd5a", "message": "Save sidebar pinning setting in local storage for the admin user", "committedDate": "2020-07-06T10:47:33Z", "type": "commit"}, {"oid": "0854322e81946f49dddbac51dd1f79eb7e716d45", "url": "https://github.com/Graylog2/graylog2-server/commit/0854322e81946f49dddbac51dd1f79eb7e716d45", "message": "Add system user test for SearchPageLayoutProvider", "committedDate": "2020-07-10T07:14:24Z", "type": "commit"}, {"oid": "8dc26d3f7a35b63cc26436dd10acd3b9bb0cc467", "url": "https://github.com/Graylog2/graylog2-server/commit/8dc26d3f7a35b63cc26436dd10acd3b9bb0cc467", "message": "Merge branch 'master' into save-sidebar-layout-settings-v2", "committedDate": "2020-07-10T07:21:10Z", "type": "commit"}, {"oid": "1d18a99b0bcb1fce2decbc2506dbed2ce18e3916", "url": "https://github.com/Graylog2/graylog2-server/commit/1d18a99b0bcb1fce2decbc2506dbed2ce18e3916", "message": "Fix typo", "committedDate": "2020-07-10T07:22:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3Mzk1NA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8527#discussion_r452673954", "bodyText": "I could not find a function like isSystemAdmin(user). I prefer a separate function, but was not sure where to place it. Where would you place this kind of function?", "author": "linuspahl", "createdAt": "2020-07-10T07:34:36Z", "path": "graylog2-web-interface/src/views/components/contexts/SearchPageLayoutProvider.jsx", "diffHunk": "@@ -16,13 +20,28 @@ type Props = {\n   children: React.Node,\n   currentUser: ?User,\n   userPreferences: UserPreferences,\n+  viewType: ?ViewType,\n };\n \n-export const defaultLayoutConfig = (userPreferences?: UserPreferences) => ({\n-  sidebar: {\n-    isPinned: userPreferences?.searchSidebarIsPinned ?? false,\n-  },\n-});\n+export const defaultLayoutConfig = (currentUser: ?User, userPreferences?: UserPreferences) => {\n+  let dashboardSidebarIsPinned = false;\n+  let searchSidebarIsPinned = false;\n+\n+  if (currentUser?.id === 'local:admin') {", "originalCommit": "1d18a99b0bcb1fce2decbc2506dbed2ce18e3916", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDE3MTEzMQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/8527#discussion_r454171131", "bodyText": "IMO it would be better to check if currentUser.read_only is true. This is a way more relevant criteria.", "author": "dennisoelkers", "createdAt": "2020-07-14T07:52:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3Mzk1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDE3MTY2Ng==", "url": "https://github.com/Graylog2/graylog2-server/pull/8527#discussion_r454171666", "bodyText": "We could use an object/a map instead of a switch here.", "author": "dennisoelkers", "createdAt": "2020-07-14T07:53:22Z", "path": "graylog2-web-interface/src/views/components/contexts/SearchPageLayoutProvider.jsx", "diffHunk": "@@ -31,31 +50,48 @@ const createUserPreferencesArray = (userPreferences) => {\n   }));\n };\n \n-const toggleSidebarPinning = (config, setConfig, userName, userPreferences) => {\n-  const newState = !config.sidebar.isPinned;\n+const sidebarPinningPreferenceKey = (viewType: ?ViewType): string => {\n+  switch (viewType) {", "originalCommit": "1d18a99b0bcb1fce2decbc2506dbed2ce18e3916", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDE3MjI1Nw==", "url": "https://github.com/Graylog2/graylog2-server/pull/8527#discussion_r454172257", "bodyText": "IMO we should check the search/dashboard cases and instead of defaulting to a value, throw an exception. Generally we should try to be fail safe towards the environment we are running in and fail early for programmatic errors. This way, if we add a new type, we will find out early if we forgot to add handling for it in here.", "author": "dennisoelkers", "createdAt": "2020-07-14T07:54:26Z", "path": "graylog2-web-interface/src/views/components/contexts/SearchPageLayoutProvider.jsx", "diffHunk": "@@ -31,31 +50,48 @@ const createUserPreferencesArray = (userPreferences) => {\n   }));\n };\n \n-const toggleSidebarPinning = (config, setConfig, userName, userPreferences) => {\n-  const newState = !config.sidebar.isPinned;\n+const sidebarPinningPreferenceKey = (viewType: ?ViewType): string => {\n+  switch (viewType) {\n+    case View.Type.Dashboard:\n+      return 'dashboardSidebarIsPinned';\n+    default:", "originalCommit": "1d18a99b0bcb1fce2decbc2506dbed2ce18e3916", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDE3MzAwNA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8527#discussion_r454173004", "bodyText": "Typo: configWithHelpers", "author": "dennisoelkers", "createdAt": "2020-07-14T07:55:42Z", "path": "graylog2-web-interface/src/views/components/contexts/SearchPageLayoutProvider.jsx", "diffHunk": "@@ -31,31 +50,48 @@ const createUserPreferencesArray = (userPreferences) => {\n   }));\n };\n \n-const toggleSidebarPinning = (config, setConfig, userName, userPreferences) => {\n-  const newState = !config.sidebar.isPinned;\n+const sidebarPinningPreferenceKey = (viewType: ?ViewType): string => {\n+  switch (viewType) {\n+    case View.Type.Dashboard:\n+      return 'dashboardSidebarIsPinned';\n+    default:\n+      return 'searchSidebarIsPinned';\n+  }\n+};\n+\n+const toggleSidebarPinning = (config, setConfig, currentUser, userPreferences, viewType) => {\n+  const preferenceKey = sidebarPinningPreferenceKey(viewType);\n+  const newState = !config.sidebar[preferenceKey];\n   const newLayoutConfig = {\n     ...config,\n     sidebar: {\n       ...config.sidebar,\n-      isPinned: newState,\n+      [preferenceKey]: newState,\n     },\n   };\n-  const newUserPreferences = {\n-    ...userPreferences,\n-    searchSidebarIsPinned: newState,\n-  };\n \n   setConfig(newLayoutConfig);\n \n-  PreferencesActions.saveUserPreferences(userName, createUserPreferencesArray(newUserPreferences), undefined, false);\n+  if (currentUser?.id === 'local:admin') {\n+    Store.set(preferenceKey, newState);\n+  } else {\n+    const newUserPreferences = {\n+      ...userPreferences,\n+      [preferenceKey]: newState,\n+    };\n+    PreferencesActions.saveUserPreferences(currentUser?.username, createUserPreferencesArray(newUserPreferences), undefined, false);\n+  }\n };\n \n-const SearchPageLayoutProvider = ({ children, currentUser, userPreferences }: Props) => {\n-  const [config, setConfig] = useState(defaultLayoutConfig(userPreferences));\n-  const actions = { toggleSidebarPinning: () => toggleSidebarPinning(config, setConfig, currentUser?.username, userPreferences) };\n+const SearchPageLayoutProvider = ({ children, currentUser, userPreferences, viewType }: Props) => {\n+  const test = defaultLayoutConfig(currentUser, userPreferences);\n+  const [config, setConfig] = useState(test);\n+  const actions = { toggleSidebarPinning: () => toggleSidebarPinning(config, setConfig, currentUser, userPreferences, viewType) };\n+  const configHelpers = { sidebar: { isPinned: () => config.sidebar[sidebarPinningPreferenceKey(viewType)] } };\n+  const conigWithHelpers = merge(config, configHelpers);", "originalCommit": "1d18a99b0bcb1fce2decbc2506dbed2ce18e3916", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bf7337c255bfbcb8210224c08d61463e85e6ec93", "url": "https://github.com/Graylog2/graylog2-server/commit/bf7337c255bfbcb8210224c08d61463e85e6ec93", "message": "Merge branch 'master' into save-sidebar-layout-settings-v2", "committedDate": "2020-07-17T08:57:14Z", "type": "commit"}, {"oid": "82565562b66f228bf45ebb976c39a5f31ab01643", "url": "https://github.com/Graylog2/graylog2-server/commit/82565562b66f228bf45ebb976c39a5f31ab01643", "message": "Use read only user attribute instead of id for search page layout config logic", "committedDate": "2020-07-17T09:20:37Z", "type": "commit"}, {"oid": "e648d6a7a5c5640a6951db65c4172873a8d71b00", "url": "https://github.com/Graylog2/graylog2-server/commit/e648d6a7a5c5640a6951db65c4172873a8d71b00", "message": "Fix variable naming", "committedDate": "2020-07-17T09:21:08Z", "type": "commit"}, {"oid": "0d75e533141c40ed885513a4fbec424396f7c145", "url": "https://github.com/Graylog2/graylog2-server/commit/0d75e533141c40ed885513a4fbec424396f7c145", "message": "Refactor SearchPageLayoutProvider by implementing SearchPageLayoutState component", "committedDate": "2020-07-17T10:46:53Z", "type": "commit"}, {"oid": "5e1abb1566086629382b114836ed1592cf06ace7", "url": "https://github.com/Graylog2/graylog2-server/commit/5e1abb1566086629382b114836ed1592cf06ace7", "message": "Move SearchPageLayout sidebar pinning logic form SearchPageLayoutProvider to SearchPageLayoutState", "committedDate": "2020-07-17T11:04:46Z", "type": "commit"}, {"oid": "0283f9ef28cdf90958f2b910eb450451de1f0d2b", "url": "https://github.com/Graylog2/graylog2-server/commit/0283f9ef28cdf90958f2b910eb450451de1f0d2b", "message": "Update flow types", "committedDate": "2020-07-17T11:13:41Z", "type": "commit"}, {"oid": "98b7b374f35f81f64b5faa4a736bd6eef0867f7e", "url": "https://github.com/Graylog2/graylog2-server/commit/98b7b374f35f81f64b5faa4a736bd6eef0867f7e", "message": "Adjust SearchPageLayout default value handling", "committedDate": "2020-07-17T11:33:31Z", "type": "commit"}]}