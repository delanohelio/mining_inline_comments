{"pr_number": 8864, "pr_title": "Improve `GraylogThemeProvider` rendering by streamlining state handling.", "pr_createdAt": "2020-08-25T10:55:20Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/8864", "timeline": [{"oid": "e90b2dc704737e9c05eb8477b79a275dc66845cf", "url": "https://github.com/Graylog2/graylog2-server/commit/e90b2dc704737e9c05eb8477b79a275dc66845cf", "message": "Replacing `useEffect` with plain variable assignment.", "committedDate": "2020-08-25T10:59:23Z", "type": "commit"}, {"oid": "745fcf0c5e5965de6c534436842b2a9d7e3333a7", "url": "https://github.com/Graylog2/graylog2-server/commit/745fcf0c5e5965de6c534436842b2a9d7e3333a7", "message": "Replacing unneeded `useState`/`useEffect` in `ThemeModeToggle`.", "committedDate": "2020-08-25T10:59:23Z", "type": "commit"}, {"oid": "455b9f82f72b7386ff7e6dfa63b2bd31ded04c7d", "url": "https://github.com/Graylog2/graylog2-server/commit/455b9f82f72b7386ff7e6dfa63b2bd31ded04c7d", "message": "Replace `useEffect` + `setTheme` with `useMemo`.", "committedDate": "2020-08-25T10:59:23Z", "type": "commit"}, {"oid": "cb30e4bff9ded3cbd33f998c885e5f61f1e10c50", "url": "https://github.com/Graylog2/graylog2-server/commit/cb30e4bff9ded3cbd33f998c885e5f61f1e10c50", "message": "Extracting `useCurrentThemeMode` hook, consolidating theme creation.", "committedDate": "2020-08-25T10:59:24Z", "type": "commit"}, {"oid": "a004537da01179ddc353fcda35b2a1d19c9cd2e1", "url": "https://github.com/Graylog2/graylog2-server/commit/a004537da01179ddc353fcda35b2a1d19c9cd2e1", "message": "Cleaning up debounce.", "committedDate": "2020-08-25T10:59:24Z", "type": "commit"}, {"oid": "a004537da01179ddc353fcda35b2a1d19c9cd2e1", "url": "https://github.com/Graylog2/graylog2-server/commit/a004537da01179ddc353fcda35b2a1d19c9cd2e1", "message": "Cleaning up debounce.", "committedDate": "2020-08-25T10:59:24Z", "type": "forcePushed"}, {"oid": "8af9a9c578fc98bc7501cec46942a608ab51345b", "url": "https://github.com/Graylog2/graylog2-server/commit/8af9a9c578fc98bc7501cec46942a608ab51345b", "message": "Using `defer` to execute theme change mode async.", "committedDate": "2020-08-25T13:11:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0NTI4NA==", "url": "https://github.com/Graylog2/graylog2-server/pull/8864#discussion_r476445284", "bodyText": "To enable tree-shaking in lodash, you have to import functions using syntax like import foo from 'lodash/foo'.\nimport { foo } from 'lodash' will not tree-shake.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import { defer } from 'lodash';\n          \n          \n            \n            import defer from 'lodash/defer';", "author": "kyleknighted", "createdAt": "2020-08-25T13:24:46Z", "path": "graylog2-web-interface/src/components/navigation/ThemeModeToggle.jsx", "diffHunk": "@@ -2,7 +2,7 @@\n import * as React from 'react';\n import { useEffect, useState } from 'react';\n import styled, { css, withTheme, type StyledComponent } from 'styled-components';\n-import debounce from 'lodash/debounce';\n+import { defer } from 'lodash';", "originalCommit": "8af9a9c578fc98bc7501cec46942a608ab51345b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ2NDAzOQ==", "url": "https://github.com/Graylog2/graylog2-server/pull/8864#discussion_r476464039", "bodyText": "\u2705", "author": "dennisoelkers", "createdAt": "2020-08-25T13:50:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0NTI4NA=="}], "type": "inlineReview"}, {"oid": "afcb27a33dc0fa6cb122374e6b0a040445b0c2e7", "url": "https://github.com/Graylog2/graylog2-server/commit/afcb27a33dc0fa6cb122374e6b0a040445b0c2e7", "message": "Import specific function only.", "committedDate": "2020-08-25T13:50:14Z", "type": "commit"}]}