{"pr_number": 8010, "pr_title": "Only cancel default event action on widget title change if event is defined", "pr_createdAt": "2020-04-30T12:42:31Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/8010", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTg1Ng==", "url": "https://github.com/Graylog2/graylog2-server/pull/8010#discussion_r417981856", "bodyText": "I thought about passing the blur event to the onSubmit method, but I see no benefit in calling .preventDefault() on the blur event. I've added proper type definitions instead, to make sure we will not run into this issue in the future. But just passing the event to the onSubmit method on blur would be another possible solution. Which one do you prefer?", "author": "linuspahl", "createdAt": "2020-04-30T12:45:39Z", "path": "graylog2-web-interface/src/views/components/common/EditableTitle.jsx", "diffHunk": "@@ -36,13 +48,15 @@ export default class EditableTitle extends React.Component {\n     this._onSubmit();\n   };\n \n-  _onChange = (evt) => {\n+  _onChange = (evt: SyntheticInputEvent<HTMLInputElement>) => {\n     evt.preventDefault();\n     this.setState({ value: evt.target.value });\n   };\n \n-  _onSubmit = (e) => {\n-    e.preventDefault();\n+  _onSubmit = (e?: SyntheticInputEvent<HTMLInputElement>) => {", "originalCommit": "5f37125d472ab68f270141c801d59f6369802118", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA1Nzg0Mw==", "url": "https://github.com/Graylog2/graylog2-server/pull/8010#discussion_r418057843", "bodyText": "I thought about extracting the the rest of the _onSubmit function into a _submitValue function, so the functions would look like:\n  _onBlur = () => {\n    this._toggleEditing();\n    this._submitValue();\n  };\n  _onSubmit = (e) => {\n    e.preventDefault();\n    this._toggleEditing();\n    this._submitValue();\n  };", "author": "dennisoelkers", "createdAt": "2020-04-30T14:35:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk4MTg1Ng=="}], "type": "inlineReview"}, {"oid": "4a4fd2677d195106d2100e439bf3b6c74fce78b0", "url": "https://github.com/Graylog2/graylog2-server/commit/4a4fd2677d195106d2100e439bf3b6c74fce78b0", "message": "Only cancel default event action on widget title change if event is defined", "committedDate": "2020-05-04T15:21:10Z", "type": "commit"}, {"oid": "d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "url": "https://github.com/Graylog2/graylog2-server/commit/d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "message": "Refactor title submit handling", "committedDate": "2020-05-04T15:21:10Z", "type": "commit"}, {"oid": "d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "url": "https://github.com/Graylog2/graylog2-server/commit/d5ffdbc000e90df22d04edb3caf37a5e11f763c1", "message": "Refactor title submit handling", "committedDate": "2020-05-04T15:21:10Z", "type": "forcePushed"}]}