{"pr_number": 7743, "pr_title": "Improve widget legend positioning", "pr_createdAt": "2020-03-24T16:03:46Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/7743", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzI3MjgxNw==", "url": "https://github.com/Graylog2/graylog2-server/pull/7743#discussion_r397272817", "bodyText": "As far as I could see it the automargin attribute is currently only helpful when using the Heatmap. I still prefer adding them to the default layout, because they could be helpful for all charts in theory,", "author": "linuspahl", "createdAt": "2020-03-24T16:06:03Z", "path": "graylog2-web-interface/src/views/components/visualizations/GenericPlot.jsx", "diffHunk": "@@ -124,24 +124,28 @@ class GenericPlot extends React.Component<Props, State> {\n       autosize: true,\n       showlegend: true,\n       margin: {\n-        autoexpand: true,\n         t: 10,\n         l: 40,\n         r: 10,\n-        b: 40,\n+        b: 0,\n         pad: 0,\n       },\n       legend: {\n         orientation: 'h',\n-        y: -0.14,\n       },\n       hoverlabel: {\n         namelength: -1,\n       },\n+      yaxis: {\n+        automargin: true,\n+      },\n+      xaxis: {\n+        automargin: true,\n+      },", "originalCommit": "06f7bb037faae2b293808f5f106e36e494b6ed37", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzI5ODIxNA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7743#discussion_r397298214", "bodyText": "I removed the margin, to provide more space for the chart. The widget padding already displays enough white space.", "author": "linuspahl", "createdAt": "2020-03-24T16:38:32Z", "path": "graylog2-web-interface/src/views/components/visualizations/GenericPlot.jsx", "diffHunk": "@@ -124,24 +124,28 @@ class GenericPlot extends React.Component<Props, State> {\n       autosize: true,\n       showlegend: true,\n       margin: {\n-        autoexpand: true,\n         t: 10,\n         l: 40,\n         r: 10,\n-        b: 40,\n+        b: 0,", "originalCommit": "06f7bb037faae2b293808f5f106e36e494b6ed37", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c4dc8060de363c12d31d6ebba4ae62494d42ece4", "url": "https://github.com/Graylog2/graylog2-server/commit/c4dc8060de363c12d31d6ebba4ae62494d42ece4", "message": "Define more dynamic plot layout settings\n- remove autoexpand because it is true by default\n- remove bottom margin, because a widget already has bottom padding\n- remove legend y position\n- set automargin true for y and xaxis\n- display plot with full height", "committedDate": "2020-03-26T09:44:01Z", "type": "commit"}, {"oid": "d9c5237d7f76d5bb17719b1bbaf1594dce30a465", "url": "https://github.com/Graylog2/graylog2-server/commit/d9c5237d7f76d5bb17719b1bbaf1594dce30a465", "message": "Define XYPlot y legend position based on container height", "committedDate": "2020-03-26T09:44:01Z", "type": "commit"}, {"oid": "ce78d359970a9a8cdabcd4bc8c143f30ec06efec", "url": "https://github.com/Graylog2/graylog2-server/commit/ce78d359970a9a8cdabcd4bc8c143f30ec06efec", "message": "Remove automargin from heatmap axis, because it is part of the generic plot and add custom bottom margin", "committedDate": "2020-03-26T09:44:01Z", "type": "commit"}, {"oid": "7aea0144d1e49718f89b8cd1920bd3a6a86425d2", "url": "https://github.com/Graylog2/graylog2-server/commit/7aea0144d1e49718f89b8cd1920bd3a6a86425d2", "message": "Update tests", "committedDate": "2020-03-26T09:44:01Z", "type": "commit"}, {"oid": "caad38094a284c641ab7ad78c27a89325085455b", "url": "https://github.com/Graylog2/graylog2-server/commit/caad38094a284c641ab7ad78c27a89325085455b", "message": "Add tests for XYPlot", "committedDate": "2020-03-26T09:44:01Z", "type": "commit"}, {"oid": "caad38094a284c641ab7ad78c27a89325085455b", "url": "https://github.com/Graylog2/graylog2-server/commit/caad38094a284c641ab7ad78c27a89325085455b", "message": "Add tests for XYPlot", "committedDate": "2020-03-26T09:44:01Z", "type": "forcePushed"}]}