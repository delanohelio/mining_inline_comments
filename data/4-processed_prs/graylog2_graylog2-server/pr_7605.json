{"pr_number": 7605, "pr_title": "Show pivots with a value of zero in chart widgets", "pr_createdAt": "2020-03-02T16:33:09Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/7605", "timeline": [{"oid": "3f96d4e945b1ea2a560b532b964f493c7c5d92d9", "url": "https://github.com/Graylog2/graylog2-server/commit/3f96d4e945b1ea2a560b532b964f493c7c5d92d9", "message": "Show pivots with value zero in chart widgets", "committedDate": "2020-03-02T16:20:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU5NTI4OA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#discussion_r386595288", "bodyText": "What about testing that it's neither undefined nor null at this point? Otherwise we would need to check for other falsy values as well.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  if (value.value === 0 || value.value) {\n          \n          \n            \n                  if (value.value !== null && value.value !== undefined) {", "author": "dennisoelkers", "createdAt": "2020-03-02T19:16:22Z", "path": "graylog2-web-interface/src/views/components/visualizations/ChartData.js", "diffHunk": "@@ -53,7 +53,7 @@ export const extractSeries = (keyJoiner: KeyJoiner = _defaultKeyJoiner, leafValu\n     flatLeafs.forEach(([key, value]) => {\n       const joinedKey = keyJoiner(value.key);\n       const targetIdx = xLabels.findIndex(l => isEqual(l, key));\n-      if (value.value) {\n+      if (value.value === 0 || value.value) {", "originalCommit": "3f96d4e945b1ea2a560b532b964f493c7c5d92d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg2MTU3NA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#discussion_r386861574", "bodyText": "What would be the benefit of including falsy values like an empty string or NaN?", "author": "linuspahl", "createdAt": "2020-03-03T08:28:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU5NTI4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjkyNjg0MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#discussion_r386926840", "bodyText": "extractSeries is meant to be reused, so we should take care of its single purpose of extracting values. null or undefined would mean the absence of a value, while '' NaN or false do not.", "author": "dennisoelkers", "createdAt": "2020-03-03T10:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU5NTI4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA2MTY4Nw==", "url": "https://github.com/Graylog2/graylog2-server/pull/7605#discussion_r387061687", "bodyText": "Alright!", "author": "linuspahl", "createdAt": "2020-03-03T14:38:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU5NTI4OA=="}], "type": "inlineReview"}, {"oid": "62dd62862800b8b338e176b6a6f0b01137c42ede", "url": "https://github.com/Graylog2/graylog2-server/commit/62dd62862800b8b338e176b6a6f0b01137c42ede", "message": "Improve pivot value check and add test case for null and undefined values", "committedDate": "2020-03-03T08:22:30Z", "type": "commit"}]}