{"pr_number": 7079, "pr_title": "Set focus on title field on Cache and DataAdapters forms", "pr_createdAt": "2020-01-03T13:45:27Z", "pr_url": "https://github.com/Graylog2/graylog2-server/pull/7079", "timeline": [{"oid": "c81c793a44efb9d09da89a302bde8dbdcc1a7ab4", "url": "https://github.com/Graylog2/graylog2-server/commit/c81c793a44efb9d09da89a302bde8dbdcc1a7ab4", "message": "Set Focus on title on dataAdapters form\n\n* create callback ref on title input element\n* use ref to set focus on componentDidUpdate", "committedDate": "2020-01-03T13:27:51Z", "type": "commit"}, {"oid": "dded554eb060fe41f66e8bb6436ea7d1f9c76132", "url": "https://github.com/Graylog2/graylog2-server/commit/dded554eb060fe41f66e8bb6436ea7d1f9c76132", "message": "Set Focus on title on cache form", "committedDate": "2020-01-03T13:33:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk5MDQ1MA==", "url": "https://github.com/Graylog2/graylog2-server/pull/7079#discussion_r367990450", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              updateState = (dataAdapter) => {\n          \n          \n            \n              updateState = (cache) => {", "author": "edmundoa", "createdAt": "2020-01-17T15:22:44Z", "path": "graylog2-web-interface/src/components/lookup-tables/CacheForm.jsx", "diffHunk": "@@ -54,20 +57,25 @@ class CacheForm extends React.Component {\n     }\n   }\n \n-  componentWillReceiveProps(nextProps) {\n+  componentDidUpdate(prevProps) {\n+    this._input.getInputDOMNode().focus();\n     const { cache } = this.props;\n \n-    if (_.isEqual(cache, nextProps.cache)) {\n+    if (_.isEqual(cache, prevProps.cache)) {\n       // props haven't change, don't update our state from them\n       return;\n     }\n-    this.setState(this._initialState(nextProps.cache));\n+    this.updateState(cache);\n   }\n \n   componentWillUnmount() {\n     this._clearTimer();\n   }\n \n+  updateState = (dataAdapter) => {", "originalCommit": "dded554eb060fe41f66e8bb6436ea7d1f9c76132", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6787f170b263bd45773a34f2ae94640aac8fda71", "url": "https://github.com/Graylog2/graylog2-server/commit/6787f170b263bd45773a34f2ae94640aac8fda71", "message": "Update graylog2-web-interface/src/components/lookup-tables/CacheForm.jsx\n\nCo-Authored-By: Edmundo Alvarez <edmundo@graylog.com>", "committedDate": "2020-01-21T13:03:51Z", "type": "commit"}, {"oid": "55b916372ffda654b7088756aeae15037759ed4e", "url": "https://github.com/Graylog2/graylog2-server/commit/55b916372ffda654b7088756aeae15037759ed4e", "message": "fix typo", "committedDate": "2020-01-21T13:07:00Z", "type": "commit"}, {"oid": "2a8066f25bb3abc1a28c8d957cdad55879b76813", "url": "https://github.com/Graylog2/graylog2-server/commit/2a8066f25bb3abc1a28c8d957cdad55879b76813", "message": "Merge branch 'master' into issue-6817", "committedDate": "2020-01-21T15:44:50Z", "type": "commit"}]}