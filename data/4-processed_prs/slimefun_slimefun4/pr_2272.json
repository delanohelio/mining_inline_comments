{"pr_number": 2272, "pr_title": "Added /sf charge", "pr_createdAt": "2020-08-31T20:44:54Z", "pr_url": "https://github.com/Slimefun/Slimefun4/pull/2272", "timeline": [{"oid": "16ea468c380b234f3ddcc97690583273b75652ca", "url": "https://github.com/Slimefun/Slimefun4/commit/16ea468c380b234f3ddcc97690583273b75652ca", "message": "Added command to charge items", "committedDate": "2020-08-31T20:31:09Z", "type": "commit"}, {"oid": "125c3fe60d5c4dbf10795551972c6e20a251435e", "url": "https://github.com/Slimefun/Slimefun4/commit/125c3fe60d5c4dbf10795551972c6e20a251435e", "message": "Updated plugin.yml to include new charge command", "committedDate": "2020-08-31T20:34:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NDY1NQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480394655", "bodyText": "No need to mark these as final here.", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T20:57:11Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NDgxMw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480394813", "bodyText": "Missing Override annotation.", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T20:57:27Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NDg5NQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480394895", "bodyText": "Missing javadocs and author tag.", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T20:57:37Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NTQzMw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480395433", "bodyText": "space before the bracket {", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T20:58:40Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NTYxNA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480395614", "bodyText": "You should create a variable for Rechargeable here rather than casting it twice.", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T20:58:58Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){\n+                    ((Rechargeable) slimefunItem).addItemCharge(item, ((Rechargeable) slimefunItem).getMaxItemCharge(item));", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NjA0NA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480396044", "bodyText": "setItemCharge would be much more appropriate here since you want to set the charge, not add to it.", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T20:59:48Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){\n+                    ((Rechargeable) slimefunItem).addItemCharge(item, ((Rechargeable) slimefunItem).getMaxItemCharge(item));", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NjE2MQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480396161", "bodyText": "The else should go on the next line here like the rest.", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T20:59:59Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();\n+                final ItemStack item = p.getInventory().getItemInMainHand();\n+                final SlimefunItem slimefunItem = SlimefunItem.getByItem(item);\n+                if (slimefunItem instanceof Rechargeable){\n+                    ((Rechargeable) slimefunItem).addItemCharge(item, ((Rechargeable) slimefunItem).getMaxItemCharge(item));\n+                    SlimefunPlugin.getLocalization().sendMessage(sender, \"commands.charge.charge-success\", true);\n+                } else {", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM5NjM3NQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2272#discussion_r480396375", "bodyText": "Player#getPlayer() is very redundant, you already cast sender to a Player.", "author": "TheBusyBiscuit", "createdAt": "2020-08-31T21:00:25Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/commands/subcommands/ChargeCommand.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package io.github.thebusybiscuit.slimefun4.core.commands.subcommands;\n+\n+import io.github.thebusybiscuit.slimefun4.core.attributes.Rechargeable;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SlimefunCommand;\n+import io.github.thebusybiscuit.slimefun4.core.commands.SubCommand;\n+import io.github.thebusybiscuit.slimefun4.implementation.SlimefunPlugin;\n+import me.mrCookieSlime.Slimefun.Objects.SlimefunItem.SlimefunItem;\n+import org.bukkit.command.CommandSender;\n+import org.bukkit.entity.Player;\n+import org.bukkit.inventory.ItemStack;\n+\n+class ChargeCommand extends SubCommand {\n+\n+    ChargeCommand(SlimefunPlugin plugin, SlimefunCommand cmd) {\n+        super(plugin, cmd, \"charge\", false);\n+    }\n+\n+    protected String getDescription() {\n+        return \"commands.charge.description\";\n+    }\n+\n+    @Override\n+    public void onExecute(CommandSender sender, String[] args) {\n+        if (sender instanceof Player) {\n+            if (sender.hasPermission(\"slimefun.charge.command\")) {\n+                Player p = ((Player) sender).getPlayer();", "originalCommit": "125c3fe60d5c4dbf10795551972c6e20a251435e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c091c7992f5223bc865c1e6087863c70acda0bb9", "url": "https://github.com/Slimefun/Slimefun4/commit/c091c7992f5223bc865c1e6087863c70acda0bb9", "message": "Removed redundancies, added javadocs, fixed formatting", "committedDate": "2020-08-31T23:50:35Z", "type": "commit"}, {"oid": "649d4797c91eaf86ce59bec55f41c7799341b2d9", "url": "https://github.com/Slimefun/Slimefun4/commit/649d4797c91eaf86ce59bec55f41c7799341b2d9", "message": "Merge pull request #1 from TheBusyBiscuit/master\n\nUpdate to latest", "committedDate": "2020-09-04T05:40:03Z", "type": "commit"}]}