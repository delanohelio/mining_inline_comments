{"pr_number": 2643, "pr_title": "Refactoring for hasUnlocked() checks", "pr_createdAt": "2020-12-22T14:54:35Z", "pr_url": "https://github.com/Slimefun/Slimefun4/pull/2643", "timeline": [{"oid": "65fc3cea4e2fe63746331e0bc6212f6ce8329c49", "url": "https://github.com/Slimefun/Slimefun4/commit/65fc3cea4e2fe63746331e0bc6212f6ce8329c49", "message": "Finalized the fix for #2636", "committedDate": "2020-12-21T11:27:16Z", "type": "commit"}, {"oid": "b00afa4790223043c45908d587ea90d74b493e7b", "url": "https://github.com/Slimefun/Slimefun4/commit/b00afa4790223043c45908d587ea90d74b493e7b", "message": "Refactoring", "committedDate": "2020-12-22T14:47:58Z", "type": "commit"}, {"oid": "2cd0378306666ef97c67938f2650f9418a8449db", "url": "https://github.com/Slimefun/Slimefun4/commit/2cd0378306666ef97c67938f2650f9418a8449db", "message": "Thank god we have Unit Tests :monkaS:", "committedDate": "2020-12-22T14:53:00Z", "type": "commit"}, {"oid": "bd06d0daecda82b441857ddec7bb534b664bb3ea", "url": "https://github.com/Slimefun/Slimefun4/commit/bd06d0daecda82b441857ddec7bb534b664bb3ea", "message": "Wrong import", "committedDate": "2020-12-22T14:58:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ5MjAxOA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r547492018", "bodyText": "Its weird because the variable name recipient for some reason sounds wrong in this context (same for all the other uses in this file), and I would then suggest something like \"endUser\" but it literally means the same thing, guess my mind is just acting weird xD", "author": "svr333", "createdAt": "2020-12-22T20:27:00Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/core/services/localization/SlimefunLocalization.java", "diffHunk": "@@ -215,76 +215,76 @@ public ItemStack getRecipeTypeItem(Player p, RecipeType recipeType) {\n     }\n \n     @Override\n-    public void sendMessage(CommandSender sender, String key, boolean addPrefix) {\n+    public void sendMessage(CommandSender recipient, String key, boolean addPrefix) {", "originalCommit": "bd06d0daecda82b441857ddec7bb534b664bb3ea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzk1MDIzNA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r547950234", "bodyText": "Yeah, it sounds weird and it is more accurate. sender had different implications, so despite this sounding weird it is more accurate.", "author": "TheBusyBiscuit", "createdAt": "2020-12-23T13:07:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ5MjAxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ5Mzc0Ng==", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r547493746", "bodyText": "No need for Validate.notNull here?\nOr is it checked upon in the methods which it calls later on?", "author": "svr333", "createdAt": "2020-12-22T20:31:50Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/items/magical/runes/SoulboundRune.java", "diffHunk": "@@ -59,7 +60,7 @@ public ItemDropHandler getItemHandler() {\n         };\n     }\n \n-    private void activate(Player p, Item rune) {\n+    private void activate(@Nonnull Player p, @Nonnull Item rune) {", "originalCommit": "bd06d0daecda82b441857ddec7bb534b664bb3ea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzk1MDQ1Mg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r547950452", "bodyText": "It's a private method anyway.\nOnly we can call it, so there isn't really any need for param validation since we have full control over what goes into this method.", "author": "TheBusyBiscuit", "createdAt": "2020-12-23T13:08:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ5Mzc0Ng=="}], "type": "inlineReview"}, {"oid": "32b9788e748c308d3c37acca41ee9235f58e0d9c", "url": "https://github.com/Slimefun/Slimefun4/commit/32b9788e748c308d3c37acca41ee9235f58e0d9c", "message": "Merge branch 'master' into chore/has-unlocked", "committedDate": "2020-12-24T11:40:08Z", "type": "commit"}, {"oid": "5d4e22c4b5d28d8f7420f5069b76c94472d4829f", "url": "https://github.com/Slimefun/Slimefun4/commit/5d4e22c4b5d28d8f7420f5069b76c94472d4829f", "message": "Merge branch 'master' of https://github.com/Slimefun/Slimefun4.git into\nchore/has-unlocked\n\nConflicts:\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/core/categories/LockedCategory.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/guide/BookSlimefunGuide.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/guide/ChestSlimefunGuide.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/BlockListener.java\n\tsrc/main/java/io/github/thebusybiscuit/slimefun4/implementation/tasks/TickerTask.java\n\tsrc/main/java/me/mrCookieSlime/Slimefun/api/Slimefun.java", "committedDate": "2021-01-14T11:25:37Z", "type": "commit"}, {"oid": "452dc5c3c57b2f2245102bf472cb5bda9a09ca58", "url": "https://github.com/Slimefun/Slimefun4/commit/452dc5c3c57b2f2245102bf472cb5bda9a09ca58", "message": "Updated changelog", "committedDate": "2021-01-14T11:26:21Z", "type": "commit"}, {"oid": "739e7a7a9a99a8d7a110a48eedf782b129aa4a5c", "url": "https://github.com/Slimefun/Slimefun4/commit/739e7a7a9a99a8d7a110a48eedf782b129aa4a5c", "message": "Merge branch 'master' into chore/has-unlocked", "committedDate": "2021-01-14T13:44:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzcwMzkxNQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r557703915", "bodyText": "Are these comments under the if statements necessary everywhere? They seem pretty self-explanatory to me", "author": "svr333", "createdAt": "2021-01-14T21:16:25Z", "path": "src/main/java/me/mrCookieSlime/Slimefun/Objects/SlimefunItem/SlimefunItem.java", "diffHunk": "@@ -1012,6 +1015,90 @@ public void error(@Nonnull String message, @Nonnull Throwable throwable) {\n         }\n     }\n \n+    /**\n+     * This method checks if the given {@link Player} is able to use this {@link SlimefunItem}.\n+     * A {@link Player} can use it if the following conditions apply:\n+     * \n+     * <p>\n+     * <ul>\n+     * <li>The {@link SlimefunItem} is not disabled\n+     * <li>The {@link SlimefunItem} was not disabled for that {@link Player}'s {@link World}.\n+     * <li>The {@link Player} has the required {@link Permission} (if present)\n+     * <li>The {@link Player} has unlocked the required {@link Research} (if present)\n+     * </ul>\n+     * <p>\n+     * \n+     * If any of these conditions evaluate to <code>false</code>, then an optional message will be\n+     * sent to the {@link Player}.\n+     * \n+     * @param p\n+     *            The {@link Player} to check\n+     * @param sendMessage\n+     *            Whether to send that {@link Player} a message response.\n+     * \n+     * @return Whether this {@link Player} is able to use this {@link SlimefunItem}.\n+     */\n+    public boolean canUse(@Nonnull Player p, boolean sendMessage) {\n+        Validate.notNull(p, \"The Player cannot be null!\");\n+\n+        if (getState() == ItemState.VANILLA_FALLBACK) {\n+            // Vanilla items (which fell back) can always be used.\n+            return true;\n+        } else if (isDisabled()) {\n+            // The Item has been disabled in the config", "originalCommit": "739e7a7a9a99a8d7a110a48eedf782b129aa4a5c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzcwNzE5Mw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2643#discussion_r557707193", "bodyText": "Better too many comments than too few tbh", "author": "TheBusyBiscuit", "createdAt": "2021-01-14T21:22:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzcwMzkxNQ=="}], "type": "inlineReview"}, {"oid": "1b527f4a6108a85f8066780951cc7fda259b2ed9", "url": "https://github.com/Slimefun/Slimefun4/commit/1b527f4a6108a85f8066780951cc7fda259b2ed9", "message": "Merge branch 'master' into chore/has-unlocked", "committedDate": "2021-01-16T10:34:57Z", "type": "commit"}, {"oid": "f8b135592d432a139ed03490ba5db6e877cad575", "url": "https://github.com/Slimefun/Slimefun4/commit/f8b135592d432a139ed03490ba5db6e877cad575", "message": "Merge branch 'master' into chore/has-unlocked", "committedDate": "2021-01-16T15:04:21Z", "type": "commit"}, {"oid": "8b28f3685ae9c3f99bcb8c585b5d8ab36949ed9e", "url": "https://github.com/Slimefun/Slimefun4/commit/8b28f3685ae9c3f99bcb8c585b5d8ab36949ed9e", "message": "Merge branch 'master' of https://github.com/Slimefun/Slimefun4.git into chore/has-unlocked", "committedDate": "2021-01-17T13:33:46Z", "type": "commit"}]}