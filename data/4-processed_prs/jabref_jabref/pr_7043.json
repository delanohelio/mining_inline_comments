{"pr_number": 7043, "pr_title": "Add online-link detection to FileFieldParser", "pr_createdAt": "2020-10-25T22:12:37Z", "pr_url": "https://github.com/JabRef/jabref/pull/7043", "timeline": [{"oid": "08869697baaa0e213126421a478e17975530ca5d", "url": "https://github.com/JabRef/jabref/commit/08869697baaa0e213126421a478e17975530ca5d", "message": "Add online-link detection to FileFieldParser", "committedDate": "2020-10-25T21:54:32Z", "type": "commit"}, {"oid": "913c3843eddde88a29958a25c7c3bb50e4bce5b2", "url": "https://github.com/JabRef/jabref/commit/913c3843eddde88a29958a25c7c3bb50e4bce5b2", "message": "Remove double space", "committedDate": "2020-10-25T22:26:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxMDA1Nw==", "url": "https://github.com/JabRef/jabref/pull/7043#discussion_r512510057", "bodyText": "Please don't use a try catch block as a normal control structure in the code.\nhttps://github.com/HugoMatilla/Effective-JAVA-Summary#57-use-exceptions-only-for-exceptional-conditions", "author": "calixtus", "createdAt": "2020-10-27T08:50:11Z", "path": "src/main/java/org/jabref/logic/importer/util/FileFieldParser.java", "diffHunk": "@@ -65,7 +67,17 @@ private static LinkedFile convert(List<String> entry) {\n         while (entry.size() < 3) {\n             entry.add(\"\");\n         }\n-        LinkedFile field = new LinkedFile(entry.get(0), Path.of(entry.get(1)), entry.get(2));\n+        LinkedFile field;\n+        if (LinkedFile.isOnlineLink(entry.get(1))) {\n+            try {\n+                field = new LinkedFile(new URL(entry.get(1)), entry.get(2));\n+            } catch (MalformedURLException e) {\n+                field = new LinkedFile(entry.get(0), Path.of(entry.get(1)), entry.get(2));\n+            }\n+        } else {\n+            field = new LinkedFile(entry.get(0), Path.of(entry.get(1)), entry.get(2));", "originalCommit": "913c3843eddde88a29958a25c7c3bb50e4bce5b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjg2NTMzMA==", "url": "https://github.com/JabRef/jabref/pull/7043#discussion_r512865330", "bodyText": "I removed the assignment from the catch block and added an if-statement, which checks if field is null and sets a LinkedFile with a local file path. I hope that's what you meant.", "author": "Niffler", "createdAt": "2020-10-27T16:58:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxMDA1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzM1OTEwNg==", "url": "https://github.com/JabRef/jabref/pull/7043#discussion_r513359106", "bodyText": "Yes, thanks for the addition. Lgtm", "author": "calixtus", "createdAt": "2020-10-28T11:10:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxMDA1Nw=="}], "type": "inlineReview"}, {"oid": "3c4fbd9706c886f89fa9f0c3fb81fe7ccded724e", "url": "https://github.com/JabRef/jabref/commit/3c4fbd9706c886f89fa9f0c3fb81fe7ccded724e", "message": "Remove try-catch block from control structure", "committedDate": "2020-10-27T16:47:57Z", "type": "commit"}, {"oid": "57cc165dfe5bd3bbeebd1dc406055f422ed5b984", "url": "https://github.com/JabRef/jabref/commit/57cc165dfe5bd3bbeebd1dc406055f422ed5b984", "message": "Add missing space", "committedDate": "2020-10-27T17:00:32Z", "type": "commit"}, {"oid": "dd6565b6260777a1634d6b0f7999e7d9dd64fa4f", "url": "https://github.com/JabRef/jabref/commit/dd6565b6260777a1634d6b0f7999e7d9dd64fa4f", "message": "Fix checkstyle violations", "committedDate": "2020-10-27T17:08:43Z", "type": "commit"}]}