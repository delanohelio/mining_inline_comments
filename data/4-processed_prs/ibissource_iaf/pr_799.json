{"pr_number": 799, "pr_title": "Add option to disable HttpCookies", "pr_createdAt": "2020-06-09T09:33:28Z", "pr_url": "https://github.com/ibissource/iaf/pull/799", "timeline": [{"oid": "194bd054971ae14c800ed3f6f662e8426a0f9b19", "url": "https://github.com/ibissource/iaf/commit/194bd054971ae14c800ed3f6f662e8426a0f9b19", "message": "Add option to disable HttpCookies", "committedDate": "2020-06-09T09:33:02Z", "type": "commit"}, {"oid": "a73ed9b66159de89e70d9d09611b362f8c6516cd", "url": "https://github.com/ibissource/iaf/commit/a73ed9b66159de89e70d9d09611b362f8c6516cd", "message": "Don't set empty headers + fix npe when closing non existing stream", "committedDate": "2020-06-09T09:46:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM0NTIxOA==", "url": "https://github.com/ibissource/iaf/pull/799#discussion_r437345218", "bodyText": "Deze drie regels zie ik wel heel vaak terugkomen. Zouden die gecombineerd kunnen worden?", "author": "gvanbrakel", "createdAt": "2020-06-09T11:45:39Z", "path": "cmis/src/main/java/nl/nn/adapterframework/extensions/cmis/server/impl/IbisObjectService.java", "diffHunk": "@@ -136,7 +140,9 @@ public String createFolder(String repositoryId, Properties properties,\n \t\t\t}\n \t\t\tcmisXml.addSubElement(propertiesXml);\n \n-\t\t\tElement result = eventDispatcher.trigger(CmisEvent.CREATE_FOLDER, cmisXml.toXML());\n+\t\t\tIPipeLineSession context = new PipeLineSessionBase();\n+\t\t\tcontext.put(CmisUtils.CMIS_CALLCONTEXT_KEY, callContext);\n+\t\t\tElement result = eventDispatcher.trigger(CmisEvent.CREATE_FOLDER, cmisXml.toXML(), context);", "originalCommit": "a73ed9b66159de89e70d9d09611b362f8c6516cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQwMDc4Nw==", "url": "https://github.com/ibissource/iaf/pull/799#discussion_r437400787", "bodyText": "Ben bang van niet :( voor het aanroepen van de eventDispatcher moet de callContext gezet zijn in de PipeLineSession", "author": "nielsm5", "createdAt": "2020-06-09T13:07:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM0NTIxOA=="}], "type": "inlineReview"}, {"oid": "455ba555bc7a52f893e33f4ce97ae63283bd2688", "url": "https://github.com/ibissource/iaf/commit/455ba555bc7a52f893e33f4ce97ae63283bd2688", "message": "Cleanup code", "committedDate": "2020-06-09T14:22:01Z", "type": "commit"}, {"oid": "ebfc737821559186c1ff1318a0c5e6d526e8d0b5", "url": "https://github.com/ibissource/iaf/commit/ebfc737821559186c1ff1318a0c5e6d526e8d0b5", "message": "Cleanup code", "committedDate": "2020-06-09T14:26:59Z", "type": "commit"}, {"oid": "98a7067b99677df4d7df019c8e7b9225420dd049", "url": "https://github.com/ibissource/iaf/commit/98a7067b99677df4d7df019c8e7b9225420dd049", "message": "Merge remote-tracking branch 'origin/disableCookiesOnHttpSender' into disableCookiesOnHttpSender", "committedDate": "2020-06-09T14:27:38Z", "type": "commit"}, {"oid": "561958680167235a19b7547c1c00c7023117c2dc", "url": "https://github.com/ibissource/iaf/commit/561958680167235a19b7547c1c00c7023117c2dc", "message": "Cleanup code", "committedDate": "2020-06-09T14:28:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ3NDU0Mw==", "url": "https://github.com/ibissource/iaf/pull/799#discussion_r437474543", "bodyText": "Hoeft de content.close() niet meer?", "author": "gvanbrakel", "createdAt": "2020-06-09T14:38:15Z", "path": "core/src/main/java/nl/nn/adapterframework/http/HttpResponseHandler.java", "diffHunk": "@@ -108,8 +109,9 @@ public String getCharset() {\n \t * Consumes the {@link HttpEntity} and will release the connection.\n \t */\n \tpublic void close() throws IOException {\n-\t\tEntityUtils.consume(httpEntity);\n-\t\tcontent.close();\n+\t\tif(httpEntity != null) {\n+\t\t\tEntityUtils.consume(httpEntity);\n+\t\t}", "originalCommit": "561958680167235a19b7547c1c00c7023117c2dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}