{"pr_number": 1134, "pr_title": "Upgrade commons digester", "pr_createdAt": "2020-10-08T16:39:52Z", "pr_url": "https://github.com/ibissource/iaf/pull/1134", "timeline": [{"oid": "08984d44924ac5c79f6ae96c83620c094d1aff9e", "url": "https://github.com/ibissource/iaf/commit/08984d44924ac5c79f6ae96c83620c094d1aff9e", "message": "Upgrade Apache Commons Digerster", "committedDate": "2020-10-06T10:06:58Z", "type": "commit"}, {"oid": "bad7c4ce3cc1a15961557a09d6c1ad28e152da88", "url": "https://github.com/ibissource/iaf/commit/bad7c4ce3cc1a15961557a09d6c1ad28e152da88", "message": "Programmatically add digesterRules", "committedDate": "2020-10-08T15:11:55Z", "type": "commit"}, {"oid": "fd57039d6251899cada67bc7b785fc2ff7b10550", "url": "https://github.com/ibissource/iaf/commit/fd57039d6251899cada67bc7b785fc2ff7b10550", "message": "Update proto-beans", "committedDate": "2020-10-08T15:13:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI0NTA3Mg==", "url": "https://github.com/ibissource/iaf/pull/1134#discussion_r502245072", "bodyText": "doesn't create instances unnecessarily", "author": "gvanbrakel", "createdAt": "2020-10-09T07:41:45Z", "path": "core/src/main/resources/springCommon.xml", "diffHunk": "@@ -278,7 +278,7 @@\n \tBeans created from Configuration.xml, but prototyped here for\n \textra dependencies which cannot be created otherwise.\n \tBean names are prefixed with 'proto-' so that autowiring by\n-\tname doesn't create unnessecary instances.\n+\tname doesn't create unnecessarily instances.", "originalCommit": "fd57039d6251899cada67bc7b785fc2ff7b10550", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI0OTEwOA==", "url": "https://github.com/ibissource/iaf/pull/1134#discussion_r502249108", "bodyText": "Ik zie hier nog niet de structuur van digester-rules.xml in terug, dus per pattern een 'create', 'set-properties' en 'register'", "author": "gvanbrakel", "createdAt": "2020-10-09T07:49:49Z", "path": "core/src/main/java/nl/nn/adapterframework/configuration/digester/FrankDigesterRules.java", "diffHunk": "@@ -0,0 +1,139 @@\n+/*\n+   Copyright 2020 WeAreFrank!\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package nl.nn.adapterframework.configuration.digester;\n+\n+import org.apache.commons.digester3.Digester;\n+import org.apache.commons.digester3.ObjectCreationFactory;\n+import org.apache.commons.digester3.Rule;\n+import org.apache.commons.digester3.binder.LinkedRuleBuilder;\n+import org.apache.commons.digester3.binder.RulesBinder;\n+import org.apache.commons.digester3.binder.RulesModule;\n+import org.apache.logging.log4j.Logger;\n+\n+import nl.nn.adapterframework.configuration.AttributeCheckingRule;\n+import nl.nn.adapterframework.configuration.ConfigurationDigesterFactory;\n+import nl.nn.adapterframework.configuration.GenericFactory;\n+import nl.nn.adapterframework.configuration.JmsRealmsFactory;\n+import nl.nn.adapterframework.configuration.ListenerFactory;\n+import nl.nn.adapterframework.configuration.RecordHandlingFlowFactory;\n+import nl.nn.adapterframework.util.LogUtil;\n+\n+public class FrankDigesterRules implements RulesModule {\n+\n+\tprivate final Logger log = LogUtil.getLogger(this);\n+\tprivate GenericFactory factory = new GenericFactory();\n+\tprivate Rule attributeChecker = new AttributeCheckingRule();\n+\tprivate Digester digester;\n+\n+\tpublic FrankDigesterRules(Digester digester) {\n+\t\tthis.digester = digester;\n+\t}\n+\n+\t@Override\n+\tpublic void configure(RulesBinder rulesBinder) {", "originalCommit": "fd57039d6251899cada67bc7b785fc2ff7b10550", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "beb10065ae61cc2c92027061e6ab24b978535249", "url": "https://github.com/ibissource/iaf/commit/beb10065ae61cc2c92027061e6ab24b978535249", "message": "Fix junit tests", "committedDate": "2020-10-09T09:31:22Z", "type": "commit"}, {"oid": "6868fd91b8d3d24eebd9d77f28ebc386c2e0d81f", "url": "https://github.com/ibissource/iaf/commit/6868fd91b8d3d24eebd9d77f28ebc386c2e0d81f", "message": "Add comments", "committedDate": "2020-10-09T09:51:28Z", "type": "commit"}, {"oid": "242cb8420841a67d11d806d78d58808cf19ffac5", "url": "https://github.com/ibissource/iaf/commit/242cb8420841a67d11d806d78d58808cf19ffac5", "message": "Use JaxB to parse the digester-rules.xml", "committedDate": "2020-10-12T09:03:19Z", "type": "commit"}, {"oid": "82a245a54e0246955c3980689a89b3d42583644d", "url": "https://github.com/ibissource/iaf/commit/82a245a54e0246955c3980689a89b3d42583644d", "message": "Use SAXhandler instead of jaxb", "committedDate": "2020-10-12T13:31:39Z", "type": "commit"}, {"oid": "d37bcb4c08bed240b6b503c2af3faba64953fcbc", "url": "https://github.com/ibissource/iaf/commit/d37bcb4c08bed240b6b503c2af3faba64953fcbc", "message": "Enable struts adapters", "committedDate": "2020-10-12T14:45:35Z", "type": "commit"}, {"oid": "d9532439905bb4a2ebe538474c0794a35582a699", "url": "https://github.com/ibissource/iaf/commit/d9532439905bb4a2ebe538474c0794a35582a699", "message": "Ik snap er niets van...", "committedDate": "2020-10-12T15:54:20Z", "type": "commit"}, {"oid": "e886343a25ebf1f3183c312cd68c93fa6c9298d7", "url": "https://github.com/ibissource/iaf/commit/e886343a25ebf1f3183c312cd68c93fa6c9298d7", "message": "Add option to disable IbisConsoleTest", "committedDate": "2020-10-12T16:22:49Z", "type": "commit"}]}