{"pr_number": 696, "pr_title": "Show error message when updating dynamic params #660", "pr_createdAt": "2020-05-09T19:48:36Z", "pr_url": "https://github.com/ibissource/iaf/pull/696", "timeline": [{"oid": "2730f6945fcf4fb1db5444955c8e2ab4189e8132", "url": "https://github.com/ibissource/iaf/commit/2730f6945fcf4fb1db5444955c8e2ab4189e8132", "message": "Show error message when updating dynamic params", "committedDate": "2020-05-09T19:46:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc5OTgyNQ==", "url": "https://github.com/ibissource/iaf/pull/696#discussion_r422799825", "bodyText": "Ga je nu voor elk GUI item elke foutcode moeten uitprogrammeren?", "author": "gvanbrakel", "createdAt": "2020-05-11T06:03:14Z", "path": "webapp/src/main/webapp/iaf/gui/js/controllers.js", "diffHunk": "@@ -1029,15 +1029,24 @@ angular.module('iaf.beheerconsole')\n \t\t$scope.form.loglevel = name;\n \t};\n \n+\tvar timeoutPromise = null;\n \t$scope.submit = function(formData) {\n+\t\tif(timeoutPromise != null) {\n+\t\t\t$timeout.cancel(timeoutPromise);\n+\t\t}\n+\n \t\t$scope.state = [{type:\"info\", message: \"Updating log configuration...\"}];\n \t\tApi.Put(\"server/log\", formData, function() {\n \t\t\tApi.Get(\"server/log\", function(data) {\n \t\t\t\t$scope.form = data;\n \t\t\t\t$scope.state = [{type:\"success\", message: \"Successfully updated log configuration!\"}];\n \t\t\t});\n+\t\t}, function(data, code) {\n+\t\t\tif(code === 401 || code === 403) {\n+\t\t\t\t$scope.state = [{type:\"danger\", message: code+\" - Forbidden; you do not have enough access rights to complete this action!\"}];\n+\t\t\t}", "originalCommit": "2730f6945fcf4fb1db5444955c8e2ab4189e8132", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}