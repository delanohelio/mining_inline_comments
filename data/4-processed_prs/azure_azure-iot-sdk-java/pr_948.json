{"pr_number": 948, "pr_title": "Fixing serialization issue in java", "pr_createdAt": "2020-09-29T20:49:28Z", "pr_url": "https://github.com/Azure/azure-iot-sdk-java/pull/948", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0NDExMg==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497044112", "bodyText": "This logic is only needed in the max overload to make testing more efficient. I've cleaned up duplicate logic.", "author": "vinagesh", "createdAt": "2020-09-29T20:50:20Z", "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/DigitalTwinAsyncClient.java", "diffHunk": "@@ -70,11 +77,6 @@ public static DigitalTwinAsyncClient createFromConnectionString(String connectio\n      */\n     public <T> Observable<T> getDigitalTwin (String digitalTwinId, Class<T> clazz)\n     {\n-        if(clazz == null)", "originalCommit": "0a0c1aa98014f0bebaa4effa70dfce070651fdc7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7584cebb51331a6b852128d5218a7f9dce65778b", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/7584cebb51331a6b852128d5218a7f9dce65778b", "message": "Fixing serialization issue in java", "committedDate": "2020-09-29T20:56:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA2MzM4Mg==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497063382", "bodyText": "To understand, why do we need to do this?", "author": "bikamani", "createdAt": "2020-09-29T21:13:54Z", "path": "service/iot-service-client/src/main/java/com/microsoft/azure/sdk/iot/service/digitaltwin/DigitalTwinAsyncClient.java", "diffHunk": "@@ -40,12 +43,16 @@\n         ServiceConnectionString serviceConnectionString = ServiceConnectionStringParser.parseConnectionString(connectionString);\n         SasTokenProvider sasTokenProvider = serviceConnectionString.createSasTokenProvider();\n         String httpsEndpoint = serviceConnectionString.getHttpsEndpoint();\n+        final SimpleModule stringModule = new SimpleModule(\"String Serializer\");\n+        stringModule.addSerializer(new DigitalTwinStringSerializer(String.class, objectMapper));", "originalCommit": "7584cebb51331a6b852128d5218a7f9dce65778b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA2NzU1NQ==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497067555", "bodyText": "Will sync offline with you on this.", "author": "vinagesh", "createdAt": "2020-09-29T21:22:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA2MzM4Mg=="}], "type": "inlineReview"}, {"oid": "7da535e763c0d67b2fbbe05e2850222b3facc101", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/7da535e763c0d67b2fbbe05e2850222b3facc101", "message": "Fixing serialization issue in java", "committedDate": "2020-09-29T21:50:16Z", "type": "commit"}, {"oid": "7da535e763c0d67b2fbbe05e2850222b3facc101", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/7da535e763c0d67b2fbbe05e2850222b3facc101", "message": "Fixing serialization issue in java", "committedDate": "2020-09-29T21:50:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA1MjkzNg==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497052936", "bodyText": "break the lines ... this is too long", "author": "azabbasi", "createdAt": "2020-09-29T20:59:02Z", "path": "iot-e2e-tests/common/src/test/java/tests/integration/com/microsoft/azure/sdk/iot/digitaltwin/DigitalTwinClientComponentTests.java", "diffHunk": "@@ -151,41 +151,43 @@ public void invokeComponentLevelCommand() throws IOException {\n \n         // act\n         DigitalTwinCommandResponse responseWithNoPayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, null);\n-        DigitalTwinCommandResponse response = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, commandInput);\n-        ServiceResponseWithHeaders<DigitalTwinCommandResponse, DigitalTwinInvokeCommandHeaders> responseWithHeaders = this.digitalTwinClient.invokeComponentCommandWithResponse(deviceId, componentName, commandName, commandInput, options);\n+        DigitalTwinCommandResponse responseWithJsonStringPayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, jsonStringInput);\n+        DigitalTwinCommandResponse responseWithDatePayload = this.digitalTwinClient.invokeComponentCommand(deviceId, componentName, commandName, commandInput);\n+        ServiceResponseWithHeaders<DigitalTwinCommandResponse, DigitalTwinInvokeCommandHeaders> datePayloadResponseWithHeaders = this.digitalTwinClient.invokeComponentCommandWithResponse(deviceId, componentName, commandName, commandInput, options);", "originalCommit": "7584cebb51331a6b852128d5218a7f9dce65778b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA1MzIxNg==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/948#discussion_r497053216", "bodyText": "elsewhere as well", "author": "azabbasi", "createdAt": "2020-09-29T20:59:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA1MjkzNg=="}], "type": "inlineReview"}]}