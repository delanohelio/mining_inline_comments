{"pr_number": 956, "pr_title": "Add Android runner for Digital Twin tests", "pr_createdAt": "2020-10-01T04:35:28Z", "pr_url": "https://github.com/Azure/azure-iot-sdk-java/pull/956", "timeline": [{"oid": "064d23d0ac0d74a030d657ffc6648652875a7128", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/064d23d0ac0d74a030d657ffc6648652875a7128", "message": "add annotations", "committedDate": "2020-10-01T04:34:35Z", "type": "commit"}, {"oid": "48aa5668ea05414f2b4044ff7a48b4bba2986e34", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/48aa5668ea05414f2b4044ff7a48b4bba2986e34", "message": "add imports for android runner", "committedDate": "2020-10-01T16:59:35Z", "type": "commit"}, {"oid": "8930c0f7ba23f00efe5767182e9c49c803e81092", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/8930c0f7ba23f00efe5767182e9c49c803e81092", "message": "remove digital twin annotations", "committedDate": "2020-10-01T17:39:15Z", "type": "commit"}, {"oid": "4f0537d5077f7bb021b8ee2be1b1596590ab2cae", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/4f0537d5077f7bb021b8ee2be1b1596590ab2cae", "message": "Fix shade jar", "committedDate": "2020-10-01T18:21:36Z", "type": "commit"}, {"oid": "b9a1c123e6cb1ebd423250f741a6fae5b91cdc4e", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/b9a1c123e6cb1ebd423250f741a6fae5b91cdc4e", "message": "Revert \"remove digital twin annotations\"\n\nThis reverts commit 8930c0f7ba23f00efe5767182e9c49c803e81092.", "committedDate": "2020-10-01T18:22:18Z", "type": "commit"}, {"oid": "b1a7280fd064f8c1ba7109d982be47a68858da98", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/b1a7280fd064f8c1ba7109d982be47a68858da98", "message": "Fix smart gate for digital twin tests", "committedDate": "2020-10-01T18:32:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1NjM5OQ==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/956#discussion_r498456399", "bodyText": "This and below is showing off on indentation but I checked in intellij it looks all good.", "author": "bikamani", "createdAt": "2020-10-01T19:04:24Z", "path": "vsts/determine_tests_to_run.ps1", "diffHunk": "@@ -15,6 +15,7 @@ if (($env:TARGET_BRANCH).toLower().Contains(\"system.pullrequest.targetbranch\"))\n \n     $Env:runIotHubTests = \"true\"\n     $Env:runProvisioningTests = \"true\"\n+\t$Env:runDigitalTwinTests = \"true\"", "originalCommit": "b1a7280fd064f8c1ba7109d982be47a68858da98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1OTg1OQ==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/956#discussion_r498459859", "bodyText": "That's because it is a tab instead of spaces. You can make them consistent and it'll look right in both IntelliJ and the web.", "author": "drwill-ms", "createdAt": "2020-10-01T19:11:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1NjM5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1OTI4OA==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/956#discussion_r498459288", "bodyText": "TestGroup1?", "author": "drwill-ms", "createdAt": "2020-10-01T19:10:12Z", "path": "iot-e2e-tests/android/app/src/androidTest/java/com/microsoft/azure/sdk/iot/android/digitaltwin/DigitalTwinClientAndroidRunner.java", "diffHunk": "@@ -0,0 +1,17 @@\n+/*\n+ *  Copyright (c) Microsoft. All rights reserved.\n+ *  Licensed under the MIT license. See LICENSE file in the project root for full license information.\n+ */\n+\n+package com.microsoft.azure.sdk.iot.android.digitaltwin;\n+\n+import com.microsoft.azure.sdk.iot.android.helper.TestGroup1;", "originalCommit": "b1a7280fd064f8c1ba7109d982be47a68858da98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ4NDEyMg==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/956#discussion_r498484122", "bodyText": "We split the android tests into several test groups so that they can run in parallel. You can't run android tests in parallel on a single device", "author": "timtay-microsoft", "createdAt": "2020-10-01T20:03:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1OTI4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1OTUyMA==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/956#discussion_r498459520", "bodyText": "indentation problem", "author": "barustum", "createdAt": "2020-10-01T19:10:42Z", "path": "vsts/determine_if_android_test_group_needs_to_run.ps1", "diffHunk": "@@ -90,6 +90,15 @@ ForEach ($line in $($paths -split \"`r`n\"))\n                     # No more need to process results, the test runner definitely needs to run\n                     exit 0\n \t\t\t\t}\n+\n+\t\t\t\tif ($line.toLower().Contains(\"digitaltwin\") -and ($Env:runDigitalTwinTests -eq \"true\"))\n+                {", "originalCommit": "b1a7280fd064f8c1ba7109d982be47a68858da98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1OTU2NQ==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/956#discussion_r498459565", "bodyText": "tabbing seems off here", "author": "drwill-ms", "createdAt": "2020-10-01T19:10:48Z", "path": "vsts/determine_if_android_test_group_needs_to_run.ps1", "diffHunk": "@@ -90,6 +90,15 @@ ForEach ($line in $($paths -split \"`r`n\"))\n                     # No more need to process results, the test runner definitely needs to run\n                     exit 0\n \t\t\t\t}\n+\n+\t\t\t\tif ($line.toLower().Contains(\"digitaltwin\") -and ($Env:runDigitalTwinTests -eq \"true\"))", "originalCommit": "b1a7280fd064f8c1ba7109d982be47a68858da98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}