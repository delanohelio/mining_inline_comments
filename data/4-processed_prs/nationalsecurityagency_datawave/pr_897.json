{"pr_number": 897, "pr_title": "Address spotbugs issues with TableConfigCache code", "pr_createdAt": "2020-08-17T20:17:31Z", "pr_url": "https://github.com/NationalSecurityAgency/datawave/pull/897", "timeline": [{"oid": "95cf8cc95ae0ccd479e4fc4f2e479fb3951f35de", "url": "https://github.com/NationalSecurityAgency/datawave/commit/95cf8cc95ae0ccd479e4fc4f2e479fb3951f35de", "message": "Address spotbugs issues with TableConfigCache code", "committedDate": "2020-08-17T20:13:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1MjMwOA==", "url": "https://github.com/NationalSecurityAgency/datawave/pull/897#discussion_r471752308", "bodyText": "It seems like this was the best action to take here - it was complaining that we were writing to a static field from a non-static method. Perhaps there's another way to do this that would not result in a warning?", "author": "drewfarris", "createdAt": "2020-08-17T20:18:47Z", "path": "warehouse/ingest-core/src/main/java/datawave/ingest/config/TableConfigCache.java", "diffHunk": "@@ -22,12 +23,13 @@\n     protected static final String DELIMITER = \"\\t\";\n     protected static Map<String,String> configMap;\n     \n-    protected static Logger log = Logger.getLogger(\"datawave.ingest\");\n+    protected static final Logger log = Logger.getLogger(\"datawave.ingest\");\n     \n     public TableConfigCache(Configuration conf) {\n         super(conf);\n     }\n     \n+    @SuppressFBWarnings(\"ST_WRITE_TO_STATIC_FROM_INSTANCE_METHOD\")", "originalCommit": "95cf8cc95ae0ccd479e4fc4f2e479fb3951f35de", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1ODgzMw==", "url": "https://github.com/NationalSecurityAgency/datawave/pull/897#discussion_r471758833", "bodyText": "I'll investigate this when I get back. Approving for now. Long term we shouldn't  need this suppression.", "author": "hlgp", "createdAt": "2020-08-17T20:31:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1MjMwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzMDA0Nw==", "url": "https://github.com/NationalSecurityAgency/datawave/pull/897#discussion_r472130047", "bodyText": "Looks like configMap is static but we're setting it in a non-static method. The method actually has no dependency on any instance state. Seems like the fix might be to make this method static.", "author": "jschmidt10", "createdAt": "2020-08-18T12:11:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1MjMwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjIzMjI3OA==", "url": "https://github.com/NationalSecurityAgency/datawave/pull/897#discussion_r472232278", "bodyText": "@jschmidt10 - I suspected the same thing but was going to leave the design up to @hlgp.", "author": "drewfarris", "createdAt": "2020-08-18T14:18:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1MjMwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQzNzE3Mw==", "url": "https://github.com/NationalSecurityAgency/datawave/pull/897#discussion_r472437173", "bodyText": "Sounds good!", "author": "jschmidt10", "createdAt": "2020-08-18T19:42:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTc1MjMwOA=="}], "type": "inlineReview"}]}