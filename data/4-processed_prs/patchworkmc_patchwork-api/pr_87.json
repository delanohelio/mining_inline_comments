{"pr_number": 87, "pr_title": "Add more missing function to ModList, FMLModContainer and ModContainer", "pr_createdAt": "2020-06-16T19:25:22Z", "pr_url": "https://github.com/PatchworkMC/patchwork-api/pull/87", "timeline": [{"oid": "1e18e1218c9030f3a903b088c67e66f5dbbf0829", "url": "https://github.com/PatchworkMC/patchwork-api/commit/1e18e1218c9030f3a903b088c67e66f5dbbf0829", "message": "Add more missing function to ModList, FMLModContainer and ModContainer\n\nFMLModContainer and ModContainer:\n [API] Add getMod and acceptEvent methods\n [Internal] setParent and getParent: associated Fabric ModContainer\ngetter and setters\n\nModList:\n Add most helper functions present in Forge's ModList, these are\nfrequenty used by mods\n\nModLoader(class):\n A class may used by mods to post event on the FML event bus", "committedDate": "2020-06-16T19:23:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAyNjAyMQ==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/87#discussion_r443026021", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            \n          \n          \n            \n            \t// TODO: This isn't called anywhere yet", "author": "TheGlitch76", "createdAt": "2020-06-19T20:14:16Z", "path": "patchwork-fml/src/main/java/net/minecraftforge/fml/javafmlmod/FMLModContainer.java", "diffHunk": "@@ -47,4 +48,18 @@ public IEventBus getEventBus() {\n \tprivate void onEventFailed(IEventBus iEventBus, Event event, IEventListener[] listeners, int i, Throwable throwable) {\n \t\t// TODO\n \t}\n+\n+\t@Override\n+\tprotected void acceptEvent(final Event e) {\n+\t\tthis.eventBus.post(e);\n+\t}\n+\n+\t@Override\n+\tpublic Object getMod() {\n+\t\treturn this.instance;\n+\t}\n+", "originalCommit": "1e18e1218c9030f3a903b088c67e66f5dbbf0829", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAyNjIyMg==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/87#discussion_r443026222", "bodyText": "this seems to always be null, it might actually be better to drop them until the setter is actually called", "author": "TheGlitch76", "createdAt": "2020-06-19T20:14:58Z", "path": "patchwork-fml/src/main/java/net/minecraftforge/fml/javafmlmod/FMLModContainer.java", "diffHunk": "@@ -47,4 +48,18 @@ public IEventBus getEventBus() {\n \tprivate void onEventFailed(IEventBus iEventBus, Event event, IEventListener[] listeners, int i, Throwable throwable) {\n \t\t// TODO\n \t}\n+\n+\t@Override\n+\tprotected void acceptEvent(final Event e) {\n+\t\tthis.eventBus.post(e);\n+\t}\n+\n+\t@Override\n+\tpublic Object getMod() {\n+\t\treturn this.instance;", "originalCommit": "1e18e1218c9030f3a903b088c67e66f5dbbf0829", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzEyMzcxOA==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/87#discussion_r443123718", "bodyText": "Should we just comment getMod() and setMod() for now? Impl setMod needs some changes in the patcher as well, the ForgeInitializer.onForgeInitialize should return the instance of the Forge mod class, so that we can record it in its ModContainer.", "author": "rikka0w0", "createdAt": "2020-06-20T11:27:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAyNjIyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE2NzQwOQ==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/87#discussion_r443167409", "bodyText": "yeah, just comment them out for now and the change that needs Patcher can be a separate PR", "author": "TheGlitch76", "createdAt": "2020-06-20T23:28:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAyNjIyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE2ODgyNg==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/87#discussion_r443168826", "bodyText": "Can we leave getMod() and setMod() here? Just add TODOs to both of them and throw a warning when they are called? Other methods in this pr require getMod(), simply remove getMod() needs more work.", "author": "rikka0w0", "createdAt": "2020-06-21T00:01:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAyNjIyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzkyMjkwOQ==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/87#discussion_r443922909", "bodyText": "Alright. Make sure you open an issue on Patcher about it", "author": "TheGlitch76", "createdAt": "2020-06-23T02:15:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAyNjIyMg=="}], "type": "inlineReview"}]}