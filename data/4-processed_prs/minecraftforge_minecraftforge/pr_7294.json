{"pr_number": 7294, "pr_title": "[1.16] Optionally add milk as a fluid to the vanilla bucket", "pr_createdAt": "2020-09-01T20:11:44Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/7294", "timeline": [{"oid": "979a7196a9af22b23b8335fcc9848390a017ceb6", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/979a7196a9af22b23b8335fcc9848390a017ceb6", "message": "Optionally add a milk fluid to the vanilla bucket\n\nFixes the previous broken code that was supposed to make mod registered milk returned by the vanilla bucket by allowing mods to enable a milk fluid.", "committedDate": "2020-09-03T16:01:39Z", "type": "forcePushed"}, {"oid": "183c44ecb1fcaa1e495e3e0bc54a259a20607643", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/183c44ecb1fcaa1e495e3e0bc54a259a20607643", "message": "Optionally add a milk fluid to the vanilla bucket\n\nFixes the previous broken code that was supposed to make mod registered milk returned by the vanilla bucket by allowing mods to enable a milk fluid.", "committedDate": "2020-09-17T18:11:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk4NDU4OQ==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7294#discussion_r495984589", "bodyText": "Why is this needed? FluidModel#getTextures calls ForgeHooksClient#getFluidMaterials which gets the textures from the FluidAttributes.", "author": "pupnewfster", "createdAt": "2020-09-28T14:31:27Z", "path": "src/main/java/net/minecraftforge/common/ForgeMod.java", "diffHunk": "@@ -229,4 +278,18 @@ public void registerRecipeSerialziers(RegistryEvent.Register<IRecipeSerializer<?\n         event.getRegistry().register(new ConditionalRecipe.Serializer<IRecipe<?>>().setRegistryName(new ResourceLocation(\"forge\", \"conditional\")));\n \n     }\n+\n+    @EventBusSubscriber(value = Dist.CLIENT, modid = \"forge\", bus = Mod.EventBusSubscriber.Bus.MOD)\n+    public static class ClientEvents\n+    {\n+        @SubscribeEvent\n+        public static void registerFluidTextures(TextureStitchEvent.Pre event)\n+        {\n+            if (enableMilkFluid && PlayerContainer.LOCATION_BLOCKS_TEXTURE.equals(event.getMap().getTextureLocation()))\n+            {\n+                event.addSprite(STILL_MILK_TEXTURE);\n+                event.addSprite(FLOWING_MILK_TEXTURE);\n+            }\n+        }\n+    }", "originalCommit": "183c44ecb1fcaa1e495e3e0bc54a259a20607643", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA1OTQwMA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7294#discussion_r496059400", "bodyText": "Is that new for 1.13+? (since the addition of vanilla fluids probably) I recall a discussion with KingLemming that this was required, and did not hear of it being resolved since then.", "author": "KnightMiner", "createdAt": "2020-09-28T15:55:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk4NDU4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA2MDk0Nw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7294#discussion_r496060947", "bodyText": "The fluid system got rewritten in 1.14+ (1.13 didn't have one at all), and if memory serves giga made it so it auto adds the textures defined in FluidAttributes to the correct atlas so that modders don't have to have a bunch of boiler plate doing so.", "author": "pupnewfster", "createdAt": "2020-09-28T15:57:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk4NDU4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkxODc4Ng==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7294#discussion_r496918786", "bodyText": "Removed the event listener", "author": "KnightMiner", "createdAt": "2020-09-29T17:34:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk4NDU4OQ=="}], "type": "inlineReview"}, {"oid": "93ba03ac67204d2158e4984c805dd672c504fdc5", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/93ba03ac67204d2158e4984c805dd672c504fdc5", "message": "Optionally add a milk fluid to the vanilla bucket\n\nFixes the previous broken code that was supposed to make mod registered milk returned by the vanilla bucket by allowing mods to enable a milk fluid.", "committedDate": "2020-10-27T18:40:47Z", "type": "forcePushed"}, {"oid": "fc6e96714f4c164cf20cfb86dde67b28ff55e710", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/fc6e96714f4c164cf20cfb86dde67b28ff55e710", "message": "Optionally add a milk fluid to the vanilla bucket\n\nFixes the previous broken code that was supposed to make mod registered milk returned by the vanilla bucket by allowing mods to enable a milk fluid.", "committedDate": "2020-11-11T01:53:27Z", "type": "forcePushed"}, {"oid": "757b80c066c3ead52d831df80a67af10d007ad9d", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/757b80c066c3ead52d831df80a67af10d007ad9d", "message": "Optionally add a milk fluid to the vanilla bucket\n\nFixes the previous broken code that was supposed to make mod registered milk returned by the vanilla bucket by allowing mods to enable a milk fluid.", "committedDate": "2020-12-01T19:06:31Z", "type": "commit"}, {"oid": "757b80c066c3ead52d831df80a67af10d007ad9d", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/757b80c066c3ead52d831df80a67af10d007ad9d", "message": "Optionally add a milk fluid to the vanilla bucket\n\nFixes the previous broken code that was supposed to make mod registered milk returned by the vanilla bucket by allowing mods to enable a milk fluid.", "committedDate": "2020-12-01T19:06:31Z", "type": "forcePushed"}]}