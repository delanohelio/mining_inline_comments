{"pr_number": 6992, "pr_title": "[1.16] Re-added PlayerEvent.NameFormat", "pr_createdAt": "2020-07-18T23:30:40Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992", "timeline": [{"oid": "2de2c063c4670dc9d771d113d03f5333c933b817", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2de2c063c4670dc9d771d113d03f5333c933b817", "message": "Re-added PlayerEvent.NameFormat", "committedDate": "2020-07-18T23:21:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzODU1Nw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456838557", "bodyText": "Weird spacing here", "author": "Yunus1903", "createdAt": "2020-07-18T23:33:02Z", "path": "src/test/resources/META-INF/mods.toml", "diffHunk": "@@ -71,4 +71,6 @@ loaderVersion=\"[28,)\"\n [[mods]]\n     modId=\"ender_mask_test\"\n [[mods]]\n-    modId=\"raid_enum_test\"\n\\ No newline at end of file\n+    modId=\"raid_enum_test\"\n+[[mods]]\n+\tmodId=\"player_name_event_test\"", "originalCommit": "2de2c063c4670dc9d771d113d03f5333c933b817", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzODg5MA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456838890", "bodyText": "if statement has no space between the if and (", "author": "Yunus1903", "createdAt": "2020-07-18T23:37:35Z", "path": "patches/minecraft/net/minecraft/entity/player/PlayerEntity.java.patch", "diffHunk": "@@ -288,19 +288,23 @@\n        this.field_71068_ca += p_82242_1_;\n        if (this.field_71068_ca < 0) {\n           this.field_71068_ca = 0;\n-@@ -1704,7 +1745,10 @@\n+@@ -1702,9 +1743,13 @@\n+    public Scoreboard func_96123_co() {\n+       return this.field_70170_p.func_96441_U();\n     }\n- \n+-\n++   \n     public ITextComponent func_145748_c_() {\n -      IFormattableTextComponent iformattabletextcomponent = ScorePlayerTeam.func_237500_a_(this.func_96124_cp(), this.func_200200_C_());\n++      if(this.displayname == null) this.displayname = net.minecraftforge.event.ForgeEventFactory.getPlayerDisplayName(this, this.func_200200_C_());", "originalCommit": "2de2c063c4670dc9d771d113d03f5333c933b817", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzOTA4Nw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456839087", "bodyText": "Minecraft tabs need to be 3 spaces, some of them are longer here", "author": "Yunus1903", "createdAt": "2020-07-18T23:40:30Z", "path": "patches/minecraft/net/minecraft/entity/player/PlayerEntity.java.patch", "diffHunk": "@@ -313,6 +317,14 @@\n +   public Collection<IFormattableTextComponent> getSuffixes() {\n +       return this.suffixes;\n +   }\n++   \n++   private ITextComponent displayname = null;\n++   /**\n++    * Force the displayed name to refresh\n++    */\n++   public void refreshDisplayName() {\n++       this.displayname = net.minecraftforge.event.ForgeEventFactory.getPlayerDisplayName(this, this.func_200200_C_());\n++   }\n +\n +   private final net.minecraftforge.common.util.LazyOptional<net.minecraftforge.items.IItemHandler>\n +         playerMainHandler = net.minecraftforge.common.util.LazyOptional.of(", "originalCommit": "2de2c063c4670dc9d771d113d03f5333c933b817", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjgzOTIyMQ==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456839221", "bodyText": "Bracket should be on the next line here (for consistency in the class)", "author": "Yunus1903", "createdAt": "2020-07-18T23:42:38Z", "path": "src/main/java/net/minecraftforge/event/entity/player/PlayerEvent.java", "diffHunk": "@@ -152,26 +153,26 @@ public BreakSpeed(PlayerEntity player, BlockState state, float original, BlockPo\n      **/\n     public static class NameFormat extends PlayerEvent\n     {\n-        private final String username;\n-        private String displayname;\n+        private final ITextComponent username;\n+        private ITextComponent displayname;\n \n-        public NameFormat(PlayerEntity player, String username) {\n+        public NameFormat(PlayerEntity player, ITextComponent username) {", "originalCommit": "2de2c063c4670dc9d771d113d03f5333c933b817", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1a00c2c4a20d37eff7b6b6ae6ef5ab3416d244a5", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/1a00c2c4a20d37eff7b6b6ae6ef5ab3416d244a5", "message": "Fixed various formatting issues", "committedDate": "2020-07-19T08:25:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyMjkxNQ==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456922915", "bodyText": "Unnecessary patch.", "author": "diesieben07", "createdAt": "2020-07-19T15:36:34Z", "path": "patches/minecraft/net/minecraft/entity/player/PlayerEntity.java.patch", "diffHunk": "@@ -288,19 +288,23 @@\n        this.field_71068_ca += p_82242_1_;\n        if (this.field_71068_ca < 0) {\n           this.field_71068_ca = 0;\n-@@ -1704,7 +1745,10 @@\n+@@ -1702,9 +1743,13 @@\n+    public Scoreboard func_96123_co() {\n+       return this.field_70170_p.func_96441_U();\n     }\n- \n+-\n++   ", "originalCommit": "1a00c2c4a20d37eff7b6b6ae6ef5ab3416d244a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzNDMxNg==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456934316", "bodyText": "Not sure what happened there...", "author": "Tschipp", "createdAt": "2020-07-19T17:32:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyMjkxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyMzE0Mw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456923143", "bodyText": "That JavaDoc explains almost nothing. You should at least link to the event name and clarify that this will cause the event to be re-fired.", "author": "diesieben07", "createdAt": "2020-07-19T15:39:07Z", "path": "patches/minecraft/net/minecraft/entity/player/PlayerEntity.java.patch", "diffHunk": "@@ -313,6 +317,14 @@\n +   public Collection<IFormattableTextComponent> getSuffixes() {\n +       return this.suffixes;\n +   }\n++   \n++   private ITextComponent displayname = null;\n++   /**\n++    * Force the displayed name to refresh\n++    */", "originalCommit": "1a00c2c4a20d37eff7b6b6ae6ef5ab3416d244a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkzNDI4Nw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6992#discussion_r456934287", "bodyText": "Fair point", "author": "Tschipp", "createdAt": "2020-07-19T17:32:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjkyMzE0Mw=="}], "type": "inlineReview"}, {"oid": "759805ef8a390547fc62100bb31873825fe7f06b", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/759805ef8a390547fc62100bb31873825fe7f06b", "message": "Improved Javadoc and removed unnecessary patch", "committedDate": "2020-07-19T18:54:18Z", "type": "commit"}, {"oid": "b6a25f892afa158fe49344ce125092674056baed", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/b6a25f892afa158fe49344ce125092674056baed", "message": "Changed Implementation to be Non-Breaking, also improved Javadoc", "committedDate": "2020-07-20T14:38:29Z", "type": "commit"}, {"oid": "00d0041e81ae6e56176af4228f09b772df6f714f", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/00d0041e81ae6e56176af4228f09b772df6f714f", "message": "Revert \"Changed Implementation to be Non-Breaking, also improved Javadoc\"\n\nThis reverts commit b6a25f892afa158fe49344ce125092674056baed.", "committedDate": "2020-07-20T14:47:34Z", "type": "commit"}, {"oid": "ff3059f11ea315fc61b04738f64e67b1dac16cdb", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/ff3059f11ea315fc61b04738f64e67b1dac16cdb", "message": "Merge branch '1.16.x' into PlayerEvent.NameFormat", "committedDate": "2020-07-27T21:16:22Z", "type": "commit"}]}