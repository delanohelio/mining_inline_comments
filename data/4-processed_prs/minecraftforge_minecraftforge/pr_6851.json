{"pr_number": 6851, "pr_title": "Add simple patch checker and cleanup patches", "pr_createdAt": "2020-06-27T04:36:23Z", "pr_url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851", "timeline": [{"oid": "a7bfb1e88ef1c187185a72d13993a634b786e1c7", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/a7bfb1e88ef1c187185a72d13993a634b786e1c7", "message": "Add simple patch checker and cleanup patches", "committedDate": "2020-06-27T04:22:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIxOTUyNg==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#discussion_r447219526", "bodyText": "These should verify, but also just delete the patch silently if the patches are ONLY the S2S artifacts.", "author": "LexManos", "createdAt": "2020-06-29T20:00:50Z", "path": "gradle/patchVerifer.gradle", "diffHunk": "@@ -0,0 +1,194 @@\n+import java.util.regex.Pattern\n+\n+def ignore = [\n+        \"patches/minecraft/net/minecraft/client/renderer/ViewFrustum.java.patch\",\n+        \"patches/minecraft/net/minecraft/data/BlockModelDefinition.java.patch\"", "originalCommit": "a7bfb1e88ef1c187185a72d13993a634b786e1c7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIxOTk5Mw==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#discussion_r447219993", "bodyText": "The better way to do this would be to define the task in buildSrc similar to how we do things in MCPConfig.", "author": "LexManos", "createdAt": "2020-06-29T20:01:48Z", "path": "build.gradle", "diffHunk": "@@ -137,6 +137,8 @@ project(':forge') {\n     apply plugin: 'net.minecraftforge.gradle.patcher'\n     apply plugin: 'net.minecrell.licenser'\n     apply plugin: 'de.undercouch.download'\n+\n+    apply from: \"$rootDir/gradle/patchVerifer.gradle\"", "originalCommit": "a7bfb1e88ef1c187185a72d13993a634b786e1c7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyMTM2Mg==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#discussion_r447221362", "bodyText": "This seems incorrect, to be automatically fixed, but yes this int should also be deleted because we no longer use it. Was this and the others below this done manually?", "author": "LexManos", "createdAt": "2020-06-29T20:04:24Z", "path": "patches/minecraft/net/minecraft/network/play/server/SJoinGamePacket.java.patch", "diffHunk": "@@ -1,10 +0,0 @@\n---- a/net/minecraft/network/play/server/SJoinGamePacket.java\n-+++ b/net/minecraft/network/play/server/SJoinGamePacket.java\n-@@ -21,6 +21,7 @@\n-    private boolean field_149204_b;\n-    private GameType field_149205_c;\n-    private GameType field_241785_e_;\n-+   private int dimensionInt;\n-    private Set<RegistryKey<World>> field_240811_e_;", "originalCommit": "a7bfb1e88ef1c187185a72d13993a634b786e1c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM1MTcyOA==", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#discussion_r447351728", "bodyText": "Yes, this was from a manual sweep over all the patches to catch little things like this that slipped in during the update process. I should have mentioned that.", "author": "JDLogic", "createdAt": "2020-06-30T01:21:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyMTM2Mg=="}], "type": "inlineReview"}, {"oid": "650e58f775fcdfea244fc0cfb288fd3e1e6a6ed5", "url": "https://github.com/MinecraftForge/MinecraftForge/commit/650e58f775fcdfea244fc0cfb288fd3e1e6a6ed5", "message": "Address comments\n * move task implementation\n * genPatches is now finalized by checkPatches\n * the S2S artifacts are automatically removed\n * added class and method access checking", "committedDate": "2020-07-03T16:20:01Z", "type": "commit"}]}