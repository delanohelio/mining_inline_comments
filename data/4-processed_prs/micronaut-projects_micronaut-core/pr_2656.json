{"pr_number": 2656, "pr_title": "Allows using caches without having to configure them explicitly.", "pr_createdAt": "2020-01-17T13:41:12Z", "pr_url": "https://github.com/micronaut-projects/micronaut-core/pull/2656", "timeline": [{"oid": "c648167eb10722ebbcfce1ebb66942102d22bd07", "url": "https://github.com/micronaut-projects/micronaut-core/commit/c648167eb10722ebbcfce1ebb66942102d22bd07", "message": "Allows using caches without having to configure them explicitly.\n\nAlso allows caches to be enabled/disabled.\n\nFixes #2454", "committedDate": "2020-01-17T12:24:11Z", "type": "commit"}, {"oid": "83944837612e2360bd8759d6755ea4d90e027001", "url": "https://github.com/micronaut-projects/micronaut-core/commit/83944837612e2360bd8759d6755ea4d90e027001", "message": "Don't create a cache if it's configured as disabled", "committedDate": "2020-01-17T16:12:38Z", "type": "commit"}, {"oid": "81d102286a83e80df1b021f4f723acddb384597a", "url": "https://github.com/micronaut-projects/micronaut-core/commit/81d102286a83e80df1b021f4f723acddb384597a", "message": "Removing cache toggle-ability. Also added an option to disable\nthe dynamic cache manager via configuration.", "committedDate": "2020-01-20T13:36:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU2NjI0MA==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/2656#discussion_r368566240", "bodyText": "Can you split this into its own test case?", "author": "jameskleeh", "createdAt": "2020-01-20T14:10:00Z", "path": "runtime/src/test/groovy/io/micronaut/cache/SyncCacheSpec.groovy", "diffHunk": "@@ -258,8 +258,25 @@ class SyncCacheSpec extends Specification {\n         cacheManager.getCache(\"fooBar\")\n \n         then:\n-        def ex = thrown(ConfigurationException)\n-        ex.message == \"No cache configured for name: fooBar\"\n+        noExceptionThrown()\n+\n+        cleanup:\n+        applicationContext.stop()\n+    }\n+\n+    void \"the dynamic cache manager can be disabled\"() {\n+        given:\n+        ApplicationContext applicationContext = ApplicationContext.run(\n+                'micronaut.caches.test.initialCapacity':1,\n+                'micronaut.caches.dynamic': false", "originalCommit": "81d102286a83e80df1b021f4f723acddb384597a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f5780a71bc2b1ef431ab7bb3a04bbee92539df0b", "url": "https://github.com/micronaut-projects/micronaut-core/commit/f5780a71bc2b1ef431ab7bb3a04bbee92539df0b", "message": "Using a different configuration property to avoid cache bean creation", "committedDate": "2020-01-20T21:54:15Z", "type": "commit"}, {"oid": "29cc75aa2d51f7d556a6d0e137a317d64af3ceef", "url": "https://github.com/micronaut-projects/micronaut-core/commit/29cc75aa2d51f7d556a6d0e137a317d64af3ceef", "message": "Adding documentation", "committedDate": "2020-01-20T22:00:15Z", "type": "commit"}]}