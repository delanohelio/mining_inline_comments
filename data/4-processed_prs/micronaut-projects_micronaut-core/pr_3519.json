{"pr_number": 3519, "pr_title": "Handle class arrays in annotation metadata", "pr_createdAt": "2020-06-18T21:02:41Z", "pr_url": "https://github.com/micronaut-projects/micronaut-core/pull/3519", "timeline": [{"oid": "ac6bc70a0234d276e42aec235c054f6b38d603dd", "url": "https://github.com/micronaut-projects/micronaut-core/commit/ac6bc70a0234d276e42aec235c054f6b38d603dd", "message": "Handle class arrays in annotation metadata. Fixes #3481", "committedDate": "2020-06-18T20:20:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjY0MzkzMA==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3519#discussion_r442643930", "bodyText": "What happens when you do metadata.classValues(TypeHint)[0]? Need a test here", "author": "graemerocher", "createdAt": "2020-06-19T05:51:11Z", "path": "inject-groovy/src/test/groovy/io/micronaut/inject/annotation/AnnotationMetadataWriterSpec.groovy", "diffHunk": "@@ -338,4 +339,32 @@ interface TestApi {\n         metadata.getValue(Named).get() == \"foo\"\n     }\n \n+    void \"test annotation metadata string value array types\"() {\n+        given:\n+        AnnotationMetadata metadata = buildTypeAnnotationMetadata('test.Test', \"\"\"\n+package test;\n+\n+import io.micronaut.core.annotation.TypeHint;\n+import java.util.UUID;\n+\n+@TypeHint([UUID[].class, UUID.class])\n+class Test {\n+\n+}\n+\"\"\")\n+\n+        expect:\n+        metadata.stringValues(TypeHint).size() == 2\n+        metadata.stringValues(TypeHint)[0] == '[Ljava.util.UUID;'", "originalCommit": "ac6bc70a0234d276e42aec235c054f6b38d603dd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}