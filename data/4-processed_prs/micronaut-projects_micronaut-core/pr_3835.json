{"pr_number": 3835, "pr_title": "Fix error routes, fixes #3834", "pr_createdAt": "2020-07-31T10:55:54Z", "pr_url": "https://github.com/micronaut-projects/micronaut-core/pull/3835", "timeline": [{"oid": "798d89480537bc7945413d356afcbae1018636ce", "url": "https://github.com/micronaut-projects/micronaut-core/commit/798d89480537bc7945413d356afcbae1018636ce", "message": "Fix error routes, fixes #3834", "committedDate": "2020-07-31T10:55:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYxMzU0OA==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3835#discussion_r463613548", "bodyText": "What value is this method adding? Perhaps add a test that throws Exception to ensure the one that catches Throwable is not invoked?", "author": "jameskleeh", "createdAt": "2020-07-31T13:33:54Z", "path": "http-server-netty/src/test/groovy/io/micronaut/docs/http/server/exception/SimpleControllerSpec.groovy", "diffHunk": "@@ -87,11 +88,25 @@ class SimpleControllerSpec extends Specification {\n         }\n \n         @Error\n-        HttpResponse exceptionHandler(HttpRequest request, Throwable throwable) {\n+        HttpResponse throwableExceptionHandler(HttpRequest request, Throwable throwable) {\n+            JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n+            return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"throwableExceptionHandler\")\n+                    .body(error)\n+        }\n+\n+        @Error\n+        HttpResponse exceptionHandler(HttpRequest request, RuntimeException throwable) {\n             JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n             return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"Fix it!\")\n                     .body(error)\n         }\n+\n+        @Error\n+        HttpResponse exceptionExceptionHandler(HttpRequest request, Exception throwable) {\n+            JsonError error = new JsonError(\"Invalid: \" + throwable.getMessage())\n+            return HttpResponse.<JsonError>status(HttpStatus.BAD_REQUEST, \"exceptionExceptionHandler\")\n+                    .body(error)\n+        }", "originalCommit": "798d89480537bc7945413d356afcbae1018636ce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYyNTI1MQ==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3835#discussion_r463625251", "bodyText": "I was just trying to surround the error handler so it will trigger the problem because I\u2019m not sure what is the logic to find the handler.", "author": "dstepanov", "createdAt": "2020-07-31T13:54:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYxMzU0OA=="}], "type": "inlineReview"}]}