{"pr_number": 4193, "pr_title": "Issue 3718 - provide a mechanism/api for TypeElementVisitors to contr\u2026", "pr_createdAt": "2020-09-28T21:03:13Z", "pr_url": "https://github.com/micronaut-projects/micronaut-core/pull/4193", "timeline": [{"oid": "29a6facdf1e573848deea5d670d6c579692204bc", "url": "https://github.com/micronaut-projects/micronaut-core/commit/29a6facdf1e573848deea5d670d6c579692204bc", "message": "Issue 3718 - provide a mechanism/api for TypeElementVisitors to contribute resources for optional consumption by subsequently processed TypeElementVisitors (e.g. OpenAPI generates files that need to be included by GraalVM).", "committedDate": "2020-09-28T20:57:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkwMzI4OQ==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/4193#discussion_r496903289", "bodyText": "Why is this info statement here seems like debug output?", "author": "graemerocher", "createdAt": "2020-09-29T17:09:33Z", "path": "inject-groovy/src/main/groovy/io/micronaut/ast/groovy/visitor/GroovyVisitorContext.java", "diffHunk": "@@ -309,4 +310,14 @@ private SyntaxErrorMessage buildErrorMessage(String message, Element element) {\n         return attributes.get(name, conversionContext);\n     }\n \n+    @Override\n+    public Collection<String> getGeneratedResources() {\n+        return Collections.unmodifiableCollection(generatedResources);\n+    }\n+\n+    @Override\n+    public void addGeneratedResource(@NonNull String resource) {\n+        info(\"Adding generated resource: \" + resource, null);", "originalCommit": "29a6facdf1e573848deea5d670d6c579692204bc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkxNzQxNw==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/4193#discussion_r496917417", "bodyText": "I suppose it doesn't need to be. Do we have some guidelines for when to use info messages during TypeElement visitor processing?", "author": "wetted", "createdAt": "2020-09-29T17:32:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkwMzI4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkxNzk2NQ==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/4193#discussion_r496917965", "bodyText": "It's in the JavaVisitorContext too.", "author": "wetted", "createdAt": "2020-09-29T17:33:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkwMzI4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAwMDA2NA==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/4193#discussion_r497000064", "bodyText": "For me this adds no value to the user. Output should be generated to point user to a generated file but not this kind of debut output IMO", "author": "graemerocher", "createdAt": "2020-09-29T19:43:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkwMzI4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAwMTYxNw==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/4193#discussion_r497001617", "bodyText": "OK. I'll remove it from the java and Groovy visitor contexts.", "author": "wetted", "createdAt": "2020-09-29T19:46:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkwMzI4OQ=="}], "type": "inlineReview"}]}