{"pr_number": 3772, "pr_title": "SimpleRetry behaviour differs from the document", "pr_createdAt": "2020-07-22T17:53:32Z", "pr_url": "https://github.com/micronaut-projects/micronaut-core/pull/3772", "timeline": [{"oid": "14be60dd241755e076cb0fca0d55467080abd8b8", "url": "https://github.com/micronaut-projects/micronaut-core/commit/14be60dd241755e076cb0fca0d55467080abd8b8", "message": "SimpleRetry behaviour differs from the document\n\nHi there.\r\nI thought this retry behaviour differs from the documentation mentioning `with a delay of 1 second between each retry`. \r\nActually the delay is gonna increased exponentially.\r\n\r\nThe is the source code multiplying with 'attemptsNumber'\r\nhttps://github.com/micronaut-projects/micronaut-core/blob/f8e0497b7cdb334c04d99ff8d7443571e9b64b27/runtime/src/main/java/io/micronaut/retry/intercept/SimpleRetry.java#L159\r\n\r\nTets code mentions it's exponential\r\nhttps://github.com/micronaut-projects/micronaut-core/blob/f8e0497b7cdb334c04d99ff8d7443571e9b64b27/runtime/src/test/groovy/io/micronaut/retry/intercept/SimpleRetryInstanceSpec.groovy#L66\r\n\r\nThanks.", "committedDate": "2020-07-22T17:53:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk3NzkxMg==", "url": "https://github.com/micronaut-projects/micronaut-core/pull/3772#discussion_r458977912", "bodyText": "Typo in third", "author": "graemerocher", "createdAt": "2020-07-22T17:55:05Z", "path": "src/main/docs/guide/aop/retry.adoc", "diffHunk": "@@ -4,7 +4,7 @@ With this in mind Micronaut comes with a api:retry.annotation.Retryable[] annota\n \n == Simple Retry\n \n-The simplest form of retry is just to add the `@Retryable` annotation to any type or method. The default behaviour of `@Retryable` is to retry 3 times with a delay of 1 second between each retry.\n+The simplest form of retry is just to add the `@Retryable` annotation to any type or method. The default behaviour of `@Retryable` is to retry 3 times with an exponential delay of 1 second between each retry. (first attempt with 1s delay, second attempt with 2s delay, thrid attempt with 3s delay)", "originalCommit": "14be60dd241755e076cb0fca0d55467080abd8b8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d575d67a921acdc1e66d6c9df1ffcc82944c1a44", "url": "https://github.com/micronaut-projects/micronaut-core/commit/d575d67a921acdc1e66d6c9df1ffcc82944c1a44", "message": "Fix typo", "committedDate": "2020-07-22T17:59:07Z", "type": "commit"}]}