{"pr_number": 1148, "pr_title": "Fix calculated/merged bus name", "pr_createdAt": "2020-02-07T14:06:09Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1148", "timeline": [{"oid": "fbae9b884699ca9a73625ae642525cb1f094a640", "url": "https://github.com/powsybl/powsybl-core/commit/fbae9b884699ca9a73625ae642525cb1f094a640", "message": "Fix calculated/merged bus name\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-02-07T14:02:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMjk3MA==", "url": "https://github.com/powsybl/powsybl-core/pull/1148#discussion_r377622970", "bodyText": "It seems you increment the busNum twice: the first time to generate the busId, the second time for the busName.\nI think you should use busNum without increment there.", "author": "mathbagu", "createdAt": "2020-02-11T13:09:32Z", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/BusBreakerVoltageLevel.java", "diffHunk": "@@ -254,7 +254,8 @@ private void updateCache() {\n                     }, encountered);\n                     if (isBusValid(busSet)) {\n                         String mergedBusId = BusBreakerVoltageLevel.this.id + \"_\" + busNum++;\n-                        MergedBus mergedBus = new MergedBus(mergedBusId, busSet);\n+                        String mergedBusName = BusBreakerVoltageLevel.this.name != null ? BusBreakerVoltageLevel.this.name + \"_\" + busNum++ : null;", "originalCommit": "fbae9b884699ca9a73625ae642525cb1f094a640", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODExMTkzMw==", "url": "https://github.com/powsybl/powsybl-core/pull/1148#discussion_r378111933", "bodyText": "Fixed!", "author": "geofjamg", "createdAt": "2020-02-12T08:54:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzYyMjk3MA=="}], "type": "inlineReview"}, {"oid": "bd2b126a9c5c51a3d8d7451799b61afc0d26f3ca", "url": "https://github.com/powsybl/powsybl-core/commit/bd2b126a9c5c51a3d8d7451799b61afc0d26f3ca", "message": "Merge branch 'master' into fix_calculated_bus_name", "committedDate": "2020-02-12T08:46:46Z", "type": "commit"}, {"oid": "b30af609e84223453576579efd52bbe95058b009", "url": "https://github.com/powsybl/powsybl-core/commit/b30af609e84223453576579efd52bbe95058b009", "message": "Fix bus id and name index consistency\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-02-12T08:53:44Z", "type": "commit"}, {"oid": "60f7a988944edc30a183f759a96eb98dbb7e7e18", "url": "https://github.com/powsybl/powsybl-core/commit/60f7a988944edc30a183f759a96eb98dbb7e7e18", "message": "Fix Sonar issue\n\nSigned-off-by: Geoffroy Jamgotchian <geoffroy.jamgotchian@rte-france.com>", "committedDate": "2020-02-12T10:29:57Z", "type": "commit"}, {"oid": "70e82fe2b7f005183dd7de307d70cd151e402668", "url": "https://github.com/powsybl/powsybl-core/commit/70e82fe2b7f005183dd7de307d70cd151e402668", "message": "Merge branch 'master' into fix_calculated_bus_name", "committedDate": "2020-02-12T10:30:18Z", "type": "commit"}]}