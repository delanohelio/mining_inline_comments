{"pr_number": 1467, "pr_title": "Import of SlackTerminal extension during CGMES import (SynchronousMachine.referencePriority)", "pr_createdAt": "2020-09-11T13:50:39Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1467", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg0NzgzMg==", "url": "https://github.com/powsybl/powsybl-core/pull/1467#discussion_r487847832", "bodyText": "I am not sure to understand: why do you attach a bus instead of a bus ?", "author": "annetill", "createdAt": "2020-09-14T11:43:03Z", "path": "cgmes/cgmes-conversion/src/main/java/com/powsybl/cgmes/conversion/elements/SynchronousMachineConversion.java", "diffHunk": "@@ -55,6 +56,13 @@ public void convert() {\n         Generator g = adder.add();\n         convertedTerminals(g.getTerminal());\n         convertReactiveLimits(g);\n+        if (p.asInt(\"referencePriority\", 0) > 0) {\n+            if (g.getTerminal().getBusBreakerView().getBus() == null) {\n+                context.ignored(\"referencePriority\", () -> String.format(\"%s is disconnected from the network\", g.getId()));\n+            } else {\n+                SlackTerminal.attach(g.getTerminal().getBusBreakerView().getBus());", "originalCommit": "a78eff783198d5326e3c6ce4ddf08720666875df", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA2Mjk5NA==", "url": "https://github.com/powsybl/powsybl-core/pull/1467#discussion_r490062994", "bodyText": "Even if the generator is disconnected from the network at this point, it may become eventually connected (if a switch is closed).\nAlso, we could keep the information to be able to reproduce in the CGMES SSH export the same Steady State Hypothesis we have seen in the original files.", "author": "zamarrenolm", "createdAt": "2020-09-17T08:25:24Z", "path": "cgmes/cgmes-conversion/src/main/java/com/powsybl/cgmes/conversion/elements/SynchronousMachineConversion.java", "diffHunk": "@@ -57,7 +57,11 @@ public void convert() {\n         convertedTerminals(g.getTerminal());\n         convertReactiveLimits(g);\n         if (p.asInt(\"referencePriority\", 0) > 0) {\n-            SlackTerminal.attach(g.getTerminal().getBusBreakerView().getBus());\n+            if (g.getTerminal().getBusBreakerView().getBus() == null) {\n+                context.ignored(\"referencePriority\", () -> String.format(\"%s is disconnected from the network\", g.getId()));", "originalCommit": "767ac3f272a372a23a476f073cba417ffc523ef5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA2NDQ3NQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1467#discussion_r490064475", "bodyText": "missing line end", "author": "zamarrenolm", "createdAt": "2020-09-17T08:27:44Z", "path": "cgmes/cgmes-conformity/src/test/resources/conformity-modified/cas-1.1.3-data-4.0.3/MiniGrid/BusBranch/BaseCase_v3_disconnected_slack/MiniGridTestConfiguration_BC_SSH_v3.0.0.xml", "diffHunk": "@@ -0,0 +1,232 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<rdf:RDF xmlns:cim=\"http://iec.ch/TC57/2013/CIM-schema-cim16#\" xmlns:entsoe=\"http://entsoe.eu/CIM/SchemaExtension/3/1#\" xmlns:md=\"http://iec.ch/TC57/61970-552/ModelDescription/1#\" xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n+  <md:FullModel rdf:about=\"urn:uuid:2399cbd7-9a39-11e0-aa80-0800200c9a66_EU\">\n+    <md:Model.scenarioTime>2030-01-02T09:00:00</md:Model.scenarioTime>\n+    <md:Model.created>2014-10-22T09:01:25.830</md:Model.created>\n+    <md:Model.description>CGMES Conformity Assessment: Mini Grid Base Case Test Configuration. The model is owned by ENTSO-E and is provided by ENTSO-E \"as it is\". To the fullest extent permitted by law, ENTSO-E shall not be liable for any damages of any kind arising out of the use of the model (including any of its subsequent modifications). ENTSO-E neither warrants, nor represents that the use of the model will not infringe the rights of third parties. Any use of the model shall include a reference to ENTSO-E. ENTSO-E web site is the only official source of information related to the model.</md:Model.description>\n+    <md:Model.version>4</md:Model.version>\n+    <md:Model.profile>http://entsoe.eu/CIM/SteadyStateHypothesis/1/1</md:Model.profile>\n+    <md:Model.modelingAuthoritySet>http://A1.de/Planning/ENTSOE/2</md:Model.modelingAuthoritySet>\n+    <md:Model.DependentOn rdf:resource=\"urn:uuid:2399cbd2-9a39-11e0-aa80-0800200c9a66_EU\" />\n+  </md:FullModel>\n+  <cim:Terminal rdf:about=\"#_8372a156-7579-4ea5-8793-24caf0d24603\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_5042af3b-8c3a-4548-b2fa-a8d655f94402\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_5492183a-1e6f-4dee-a506-f389c69f4c83\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_3d6a6b41-0ff8-418a-9530-94c6752b2db0\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_1a6456c6-fb39-42a0-b21d-089093ba7c49\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_d7f0a22b-afbc-41d2-b919-8fde5d1c5045\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_933078aa-6687-4922-bb1f-4c1457f7c26f\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_863647cc-d576-484a-bde3-e8998f9f021a\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_563c5f79-a51d-4ce8-a921-0e86dd984bb5\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_706707e5-019e-4549-b981-a857f1dfa611\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_0593fd2d-7e55-4a8d-8ddf-4f8a576cf26c\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_89df2b1b-9107-45a8-95ae-16afa04d99b3\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_616ef15c-065f-4ca2-8367-d1aad079357e\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_c39420a7-76ad-4bcc-afdf-da398485bf28\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_51ac3672-026d-4257-9c68-7c7f57a9b55e\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_0fa430b4-d98c-43bd-9652-f61fb00e7340\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_7145f995-b4a7-472e-9c58-2f8540ad3925\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_912cc25e-78d9-43a6-a77e-b2b7bb76688b\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_a1158b5f-3b71-4c44-8b15-4150d983f73e\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_b2112f10-1057-4a28-a18d-a1952c791c4c\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_7fe566b9-6bac-4cd3-8b52-8f46e9ba237d\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_82611054-72b9-4cb0-8621-e418b8962cb1\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_eb8ed3e6-c0de-47e2-9dd5-52b321d51b70\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_e59d3a8c-8382-413a-95ae-6354dfe85565\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_5af3b857-165c-4f96-b415-0d6e2e9ca27f\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_1dfffea9-1fac-48f1-b466-1312643f3a47\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_d5b02a21-e6f5-441c-81f2-4accb1a56ddd\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_01a240e9-5607-4844-9d53-5c8b08b5c9a8\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_4dec53ca-3ea6-4bd0-a225-b559c8293e91\">\n+    <cim:ACDCTerminal.connected>false</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_3434b50d-677d-4ad5-96d7-6c7d1be611e6\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_9165ded7-ec43-469a-b006-554d388a63ec\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_e3420c0c-d6fc-49ee-9447-74c8e1eba64e\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_2e6ef544-c98e-44ec-a8de-8c44d2cccc33\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_6cd98e8c-ede7-46b1-aa01-7f9f7db26416\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_2fa56ee8-8afb-4db2-8fcf-89b9fa135bca\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_07865469-d39d-4234-8cee-fa998fa49bed\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:ThermalGeneratingUnit rdf:about=\"#_93346fba-8a54-4969-a063-50e4a037e1f2\">\n+    <cim:GeneratingUnit.normalPF>1</cim:GeneratingUnit.normalPF>\n+  </cim:ThermalGeneratingUnit>\n+  <cim:SynchronousMachine rdf:about=\"#_2970a2b7-b840-4e9c-b405-0cb854cd2318\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:RotatingMachine.p>-0</cim:RotatingMachine.p>\n+    <cim:RotatingMachine.q>-0</cim:RotatingMachine.q>\n+    <cim:SynchronousMachine.referencePriority>1</cim:SynchronousMachine.referencePriority>\n+    <cim:SynchronousMachine.operatingMode rdf:resource=\"http://iec.ch/TC57/2013/CIM-schema-cim16#SynchronousMachineOperatingMode.generator\" />\n+  </cim:SynchronousMachine>\n+  <cim:ThermalGeneratingUnit rdf:about=\"#_a318334b-6a8d-40cd-9ce2-4526873d5504\">\n+    <cim:GeneratingUnit.normalPF>0</cim:GeneratingUnit.normalPF>\n+  </cim:ThermalGeneratingUnit>\n+  <cim:SynchronousMachine rdf:about=\"#_ca67be42-750e-4ebf-bfaa-24d446e59a22\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:RotatingMachine.p>-5</cim:RotatingMachine.p>\n+    <cim:RotatingMachine.q>-2</cim:RotatingMachine.q>\n+    <cim:SynchronousMachine.referencePriority>0</cim:SynchronousMachine.referencePriority>\n+    <cim:SynchronousMachine.operatingMode rdf:resource=\"http://iec.ch/TC57/2013/CIM-schema-cim16#SynchronousMachineOperatingMode.generator\" />\n+  </cim:SynchronousMachine>\n+  <cim:ThermalGeneratingUnit rdf:about=\"#_f1001dea-bb33-4f34-9508-d492af527d35\">\n+    <cim:GeneratingUnit.normalPF>0</cim:GeneratingUnit.normalPF>\n+  </cim:ThermalGeneratingUnit>\n+  <cim:SynchronousMachine rdf:about=\"#_392ea173-4f8e-48fa-b2a3-5c3721e93196\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:RotatingMachine.p>-4</cim:RotatingMachine.p>\n+    <cim:RotatingMachine.q>-3</cim:RotatingMachine.q>\n+    <cim:SynchronousMachine.referencePriority>0</cim:SynchronousMachine.referencePriority>\n+    <cim:SynchronousMachine.operatingMode rdf:resource=\"http://iec.ch/TC57/2013/CIM-schema-cim16#SynchronousMachineOperatingMode.generator\" />\n+  </cim:SynchronousMachine>\n+  <cim:AsynchronousMachine rdf:about=\"#_062ece1f-ade5-4d20-9c3a-fd8f12d12ec1\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:RotatingMachine.p>5</cim:RotatingMachine.p>\n+    <cim:RotatingMachine.q>3</cim:RotatingMachine.q>\n+    <cim:AsynchronousMachine.asynchronousMachineType rdf:resource=\"http://iec.ch/TC57/2013/CIM-schema-cim16#AsynchronousMachineKind.motor\" />\n+  </cim:AsynchronousMachine>\n+  <cim:AsynchronousMachine rdf:about=\"#_ba62884d-8800-41a8-9c26-698297d7ebaa\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:RotatingMachine.p>2</cim:RotatingMachine.p>\n+    <cim:RotatingMachine.q>1</cim:RotatingMachine.q>\n+    <cim:AsynchronousMachine.asynchronousMachineType rdf:resource=\"http://iec.ch/TC57/2013/CIM-schema-cim16#AsynchronousMachineKind.motor\" />\n+  </cim:AsynchronousMachine>\n+  <cim:AsynchronousMachine rdf:about=\"#_f184d87b-5565-45ee-89b4-29e8a42d3ad1\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:RotatingMachine.p>2</cim:RotatingMachine.p>\n+    <cim:RotatingMachine.q>1</cim:RotatingMachine.q>\n+    <cim:AsynchronousMachine.asynchronousMachineType rdf:resource=\"http://iec.ch/TC57/2013/CIM-schema-cim16#AsynchronousMachineKind.motor\" />\n+  </cim:AsynchronousMachine>\n+  <cim:ExternalNetworkInjection rdf:about=\"#_089c1945-4101-487f-a557-66c013b748f6\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:ExternalNetworkInjection.referencePriority>0</cim:ExternalNetworkInjection.referencePriority>\n+    <cim:ExternalNetworkInjection.p>0</cim:ExternalNetworkInjection.p>\n+    <cim:ExternalNetworkInjection.q>0</cim:ExternalNetworkInjection.q>\n+  </cim:ExternalNetworkInjection>\n+  <cim:ExternalNetworkInjection rdf:about=\"#_3de9e1ad-4562-44df-b268-70ed0517e9e7\">\n+    <cim:RegulatingCondEq.controlEnabled>false</cim:RegulatingCondEq.controlEnabled>\n+    <cim:ExternalNetworkInjection.referencePriority>0</cim:ExternalNetworkInjection.referencePriority>\n+    <cim:ExternalNetworkInjection.p>0</cim:ExternalNetworkInjection.p>\n+    <cim:ExternalNetworkInjection.q>0</cim:ExternalNetworkInjection.q>\n+  </cim:ExternalNetworkInjection>\n+  <cim:RatioTapChanger rdf:about=\"#_0522ca48-e644-4d3a-9721-22bb0abd1c8b\">\n+    <cim:TapChanger.controlEnabled>false</cim:TapChanger.controlEnabled>\n+    <cim:TapChanger.step>13</cim:TapChanger.step>\n+  </cim:RatioTapChanger>\n+  <cim:RatioTapChanger rdf:about=\"#_8de2d157-15d1-42c7-b376-a8ae5b6c0e77\">\n+    <cim:TapChanger.controlEnabled>false</cim:TapChanger.controlEnabled>\n+    <cim:TapChanger.step>17</cim:TapChanger.step>\n+  </cim:RatioTapChanger>\n+  <cim:RatioTapChanger rdf:about=\"#_4a8a5456-91ac-4bc9-b8e2-64eeeef78a1a\">\n+    <cim:TapChanger.controlEnabled>false</cim:TapChanger.controlEnabled>\n+    <cim:TapChanger.step>17</cim:TapChanger.step>\n+  </cim:RatioTapChanger>\n+  <cim:Terminal rdf:about=\"#_04684742-c766-11e0-1111-005056c00008\">\n+    <cim:ACDCTerminal.connected>false</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_04684742-c766-11e1-1111-005056c00008\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_04684742-c766-11e2-1111-005056c00008\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_04684742-c766-11e0-2222-005056c00008\">\n+    <cim:ACDCTerminal.connected>false</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_04684742-c766-11e1-2222-005056c00008\">\n+    <cim:ACDCTerminal.connected>false</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:Terminal rdf:about=\"#_04684742-c766-11e2-2222-005056c00008\">\n+    <cim:ACDCTerminal.connected>true</cim:ACDCTerminal.connected>\n+  </cim:Terminal>\n+  <cim:EquivalentInjection rdf:about=\"#_cc268d3b-fe87-42ee-b48a-9e9d625a8650\">\n+    <cim:EquivalentInjection.regulationStatus>false</cim:EquivalentInjection.regulationStatus>\n+    <cim:EquivalentInjection.regulationTarget>0</cim:EquivalentInjection.regulationTarget>\n+    <cim:EquivalentInjection.p>0</cim:EquivalentInjection.p>\n+    <cim:EquivalentInjection.q>0</cim:EquivalentInjection.q>\n+  </cim:EquivalentInjection>\n+  <cim:EquivalentInjection rdf:about=\"#_a5a2acc5-c3cd-406c-b061-83a06bcef2f4\">\n+    <cim:EquivalentInjection.regulationStatus>false</cim:EquivalentInjection.regulationStatus>\n+    <cim:EquivalentInjection.regulationTarget>0</cim:EquivalentInjection.regulationTarget>\n+    <cim:EquivalentInjection.p>0</cim:EquivalentInjection.p>\n+    <cim:EquivalentInjection.q>0</cim:EquivalentInjection.q>\n+  </cim:EquivalentInjection>\n+  <cim:ControlArea rdf:about=\"#_1f9ecd81-e069-4040-bd64-f34b0fac3a60\">\n+    <cim:ControlArea.netInterchange>0</cim:ControlArea.netInterchange>\n+  </cim:ControlArea>\n+  <cim:RegulatingControl rdf:about=\"#_10d33824-507a-4999-bd51-f73373e7509a\">\n+    <cim:RegulatingControl.discrete>false</cim:RegulatingControl.discrete>\n+    <cim:RegulatingControl.enabled>true</cim:RegulatingControl.enabled>\n+    <cim:RegulatingControl.targetDeadband>0</cim:RegulatingControl.targetDeadband>\n+    <cim:RegulatingControl.targetValue>10.0</cim:RegulatingControl.targetValue>\n+    <cim:RegulatingControl.targetValueUnitMultiplier rdf:resource=\"http://iec.ch/TC57/2013/CIM-schema-cim16#UnitMultiplier.k\" />\n+  </cim:RegulatingControl>\n+</rdf:RDF>", "originalCommit": "3444694c0712dd01492045c07cb109d31aaf0dae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MTMwNQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1467#discussion_r490491305", "bodyText": "@MioRtia can you here not use the attach method but the set one in provinding directly the connected terminal of the generator ? With that, you can always set the extension, no ?", "author": "annetill", "createdAt": "2020-09-17T19:08:17Z", "path": "cgmes/cgmes-conversion/src/main/java/com/powsybl/cgmes/conversion/elements/SynchronousMachineConversion.java", "diffHunk": "@@ -55,6 +56,13 @@ public void convert() {\n         Generator g = adder.add();\n         convertedTerminals(g.getTerminal());\n         convertReactiveLimits(g);\n+        if (p.asInt(\"referencePriority\", 0) > 0) {\n+            if (g.getTerminal().getBusBreakerView().getBus() == null) {\n+                context.ignored(\"referencePriority\", () -> String.format(\"%s is disconnected from the network\", g.getId()));\n+            } else {\n+                SlackTerminal.attach(g.getTerminal().getBusBreakerView().getBus());", "originalCommit": "3444694c0712dd01492045c07cb109d31aaf0dae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDgzODYxMg==", "url": "https://github.com/powsybl/powsybl-core/pull/1467#discussion_r490838612", "bodyText": "@zamarrenolm This will solve your third point (the terminal defined will be the terminal of the equipment). For the other point, since I think the case where a voltage level contains two slack terminals of different synchronous components is rare, couldn't we ignore this case? Maybe we should look at how often it happens in real life.", "author": "miovd", "createdAt": "2020-09-18T09:58:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ5MTMwNQ=="}], "type": "inlineReview"}, {"oid": "d7236d8bb44a9c41d177271c19b2172666aec10f", "url": "https://github.com/powsybl/powsybl-core/commit/d7236d8bb44a9c41d177271c19b2172666aec10f", "message": "Set SlackTerminal directly with the terminal and not the bus\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-09-18T10:06:54Z", "type": "forcePushed"}, {"oid": "dc4b23019b488239ba37fc51ff2c8baa69439353", "url": "https://github.com/powsybl/powsybl-core/commit/dc4b23019b488239ba37fc51ff2c8baa69439353", "message": "cgmes import : use reference priority to define slack\n\nSigned-off-by: Luma <zamarrenolm@aia.es>", "committedDate": "2020-09-18T10:08:08Z", "type": "commit"}, {"oid": "d087f1c2eff23d6c6449659767f30f3f6822a0da", "url": "https://github.com/powsybl/powsybl-core/commit/d087f1c2eff23d6c6449659767f30f3f6822a0da", "message": "Update comparison to compare SlackTerminal extension after CGMES import\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-09-18T10:08:08Z", "type": "commit"}, {"oid": "3943f7f499a134ccc2f688134f8612deb4e5a0dc", "url": "https://github.com/powsybl/powsybl-core/commit/3943f7f499a134ccc2f688134f8612deb4e5a0dc", "message": "Ignore SynchronousMachine.referencePriority if the synchronous machine is disconnected from the network\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-09-18T10:08:09Z", "type": "commit"}, {"oid": "f109d52869faeea330d087fa20bda95f06b81c8a", "url": "https://github.com/powsybl/powsybl-core/commit/f109d52869faeea330d087fa20bda95f06b81c8a", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-09-18T10:08:09Z", "type": "commit"}, {"oid": "8b4e4f2a25e5e79c4b75e584ede1d94791e92481", "url": "https://github.com/powsybl/powsybl-core/commit/8b4e4f2a25e5e79c4b75e584ede1d94791e92481", "message": "Revert \"Add test\"\n\nThis reverts commit a78eff7\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-09-18T10:08:09Z", "type": "commit"}, {"oid": "b0def484e25423fbc0058e0e19f058f36a39591e", "url": "https://github.com/powsybl/powsybl-core/commit/b0def484e25423fbc0058e0e19f058f36a39591e", "message": "Set SlackTerminal directly with the terminal and not the bus\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-09-18T10:08:09Z", "type": "commit"}, {"oid": "b0def484e25423fbc0058e0e19f058f36a39591e", "url": "https://github.com/powsybl/powsybl-core/commit/b0def484e25423fbc0058e0e19f058f36a39591e", "message": "Set SlackTerminal directly with the terminal and not the bus\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-09-18T10:08:09Z", "type": "forcePushed"}]}