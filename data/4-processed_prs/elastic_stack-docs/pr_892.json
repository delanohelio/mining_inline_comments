{"pr_number": 892, "pr_title": "[DOCS] Adds class_score to the classification example", "pr_createdAt": "2020-02-20T09:20:31Z", "pr_url": "https://github.com/elastic/stack-docs/pull/892", "timeline": [{"oid": "03edf3caabffe2ada95f05d3dd9bfdcc24663d49", "url": "https://github.com/elastic/stack-docs/commit/03edf3caabffe2ada95f05d3dd9bfdcc24663d49", "message": "[DOCS] Adds class_score to the classification example.", "committedDate": "2020-02-20T09:19:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTg4NTExOQ==", "url": "https://github.com/elastic/stack-docs/pull/892#discussion_r381885119", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            classes with the highest probability.\n          \n          \n            \n            classes with the highest scores.", "author": "tveasey", "createdAt": "2020-02-20T09:40:35Z", "path": "docs/en/stack/ml/df-analytics/flightdata-classification.asciidoc", "diffHunk": "@@ -291,24 +291,30 @@ The snippet below shows a part of a document with the annotated results:\n           \"ml\" : {\n             \"top_classes\" : [ <1>\n               {\n-                \"class_probability\" : 0.939335365058496,\n+                \"class_probability\" : 0.939335365058496, <2>\n+                \"class_score\" : 0.6757432490367542, <3>\n                 \"class_name\" : \"false\"\n               },\n               {\n                 \"class_probability\" : 0.06066463494150393,\n+                \"class_score\" : 0.06835090015710144,\n                 \"class_name\" : \"true\"\n               }\n             ],\n             \"FlightDelay_prediction\" : \"false\",\n             \"is_training\" : false\n           }\n ----\n-<1> An array of values specifying the probability of the prediction for each \n-class. The probability is a value between 0 and 1. The higher the number, the \n-higher the probability that the data point belongs to the named class. The \n-`top_classes` object contains the predicted classes with the highest \n-probability. In this example, `false` has a `class_probability` of 0.94 while\n-`true` has only 0.06, so the prediction will be `false`.\n+<1> An array of values specifying the probability of the prediction and the \n+`class_score` for each class. The `top_classes` object contains the predicted \n+classes with the highest probability.", "originalCommit": "03edf3caabffe2ada95f05d3dd9bfdcc24663d49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTg4NTc2MQ==", "url": "https://github.com/elastic/stack-docs/pull/892#discussion_r381885761", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            higher the probability that the data point belongs to the named class.  In this \n          \n          \n            \n            higher the model confident the model is that the data point belongs to the named class.  In this", "author": "tveasey", "createdAt": "2020-02-20T09:41:43Z", "path": "docs/en/stack/ml/df-analytics/flightdata-classification.asciidoc", "diffHunk": "@@ -291,24 +291,30 @@ The snippet below shows a part of a document with the annotated results:\n           \"ml\" : {\n             \"top_classes\" : [ <1>\n               {\n-                \"class_probability\" : 0.939335365058496,\n+                \"class_probability\" : 0.939335365058496, <2>\n+                \"class_score\" : 0.6757432490367542, <3>\n                 \"class_name\" : \"false\"\n               },\n               {\n                 \"class_probability\" : 0.06066463494150393,\n+                \"class_score\" : 0.06835090015710144,\n                 \"class_name\" : \"true\"\n               }\n             ],\n             \"FlightDelay_prediction\" : \"false\",\n             \"is_training\" : false\n           }\n ----\n-<1> An array of values specifying the probability of the prediction for each \n-class. The probability is a value between 0 and 1. The higher the number, the \n-higher the probability that the data point belongs to the named class. The \n-`top_classes` object contains the predicted classes with the highest \n-probability. In this example, `false` has a `class_probability` of 0.94 while\n-`true` has only 0.06, so the prediction will be `false`.\n+<1> An array of values specifying the probability of the prediction and the \n+`class_score` for each class. The `top_classes` object contains the predicted \n+classes with the highest probability.\n+<2> The probability is a value between 0 and 1. The higher the number, the \n+higher the probability that the data point belongs to the named class.  In this ", "originalCommit": "03edf3caabffe2ada95f05d3dd9bfdcc24663d49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTg5MTgyNg==", "url": "https://github.com/elastic/stack-docs/pull/892#discussion_r381891826", "bodyText": "I think I'd make this a bit more specific and change item <3> as follows:\nThe class_score is a function of the probability. It is chosen so that the decision to assign the datapoint the class with the highest score maximises the minimum recall of any class.", "author": "tveasey", "createdAt": "2020-02-20T09:52:27Z", "path": "docs/en/stack/ml/df-analytics/flightdata-classification.asciidoc", "diffHunk": "@@ -291,24 +291,30 @@ The snippet below shows a part of a document with the annotated results:\n           \"ml\" : {\n             \"top_classes\" : [ <1>\n               {\n-                \"class_probability\" : 0.939335365058496,\n+                \"class_probability\" : 0.939335365058496, <2>\n+                \"class_score\" : 0.6757432490367542, <3>\n                 \"class_name\" : \"false\"\n               },\n               {\n                 \"class_probability\" : 0.06066463494150393,\n+                \"class_score\" : 0.06835090015710144,\n                 \"class_name\" : \"true\"\n               }\n             ],\n             \"FlightDelay_prediction\" : \"false\",\n             \"is_training\" : false\n           }\n ----\n-<1> An array of values specifying the probability of the prediction for each \n-class. The probability is a value between 0 and 1. The higher the number, the \n-higher the probability that the data point belongs to the named class. The \n-`top_classes` object contains the predicted classes with the highest \n-probability. In this example, `false` has a `class_probability` of 0.94 while\n-`true` has only 0.06, so the prediction will be `false`.\n+<1> An array of values specifying the probability of the prediction and the \n+`class_score` for each class. The `top_classes` object contains the predicted \n+classes with the highest probability.\n+<2> The probability is a value between 0 and 1. The higher the number, the \n+higher the probability that the data point belongs to the named class.  In this \n+example, `false` has a `class_probability` of 0.94 while `true` has only 0.06, \n+so the prediction will be `false`.\n+<3> The value of `class_score` controls the probability at which a class label \n+is assigned to a datapoint. It works as a function of probability to maximise \n+the minimum recall of any class.", "originalCommit": "03edf3caabffe2ada95f05d3dd9bfdcc24663d49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b81d64235666b3045af2e7338f16667280cdf971", "url": "https://github.com/elastic/stack-docs/commit/b81d64235666b3045af2e7338f16667280cdf971", "message": "Update docs/en/stack/ml/df-analytics/flightdata-classification.asciidoc\n\nCo-Authored-By: Tom Veasey <tveasey@users.noreply.github.com>", "committedDate": "2020-02-20T09:55:37Z", "type": "commit"}, {"oid": "7a626038c26290195ac6aaaa504e14e2c5631d59", "url": "https://github.com/elastic/stack-docs/commit/7a626038c26290195ac6aaaa504e14e2c5631d59", "message": "Update docs/en/stack/ml/df-analytics/flightdata-classification.asciidoc\n\nCo-Authored-By: Tom Veasey <tveasey@users.noreply.github.com>", "committedDate": "2020-02-20T09:55:55Z", "type": "commit"}, {"oid": "457bebde82d7cceac8bde2597ec1df43c45a419d", "url": "https://github.com/elastic/stack-docs/commit/457bebde82d7cceac8bde2597ec1df43c45a419d", "message": "[DOCS] Makes description more specific.", "committedDate": "2020-02-20T10:04:42Z", "type": "commit"}]}