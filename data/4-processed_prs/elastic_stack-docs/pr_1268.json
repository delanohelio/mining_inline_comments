{"pr_number": 1268, "pr_title": "[DOCS] Expands inference conceptual docs with aggregation section", "pr_createdAt": "2020-07-13T10:15:40Z", "pr_url": "https://github.com/elastic/stack-docs/pull/1268", "timeline": [{"oid": "7d6f750605bc9ee147f24c003ead83708e7e72ab", "url": "https://github.com/elastic/stack-docs/commit/7d6f750605bc9ee147f24c003ead83708e7e72ab", "message": "[DOCS] Expands inference conceptual docs with aggregation section.", "committedDate": "2020-07-13T10:13:29Z", "type": "commit"}, {"oid": "5b7f240935aa1cacb534888b02ea5706721dceca", "url": "https://github.com/elastic/stack-docs/commit/5b7f240935aa1cacb534888b02ea5706721dceca", "message": "[DOCS] Fixes typo.", "committedDate": "2020-07-13T10:18:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAzMjIwNA==", "url": "https://github.com/elastic/stack-docs/pull/1268#discussion_r454032204", "bodyText": "This aggregation enables you to run ... set up a processor in the ingest pipeline.\n\nThis sentence felt long to me.  Not a mandatory change, but you might consider breaking it up. For example:\n\nThis aggregation ... at search time. If you want to perform .. small set of data, this aggregation enables you to generate predictions without the need to set up processors and pipelines.", "author": "lcawl", "createdAt": "2020-07-14T00:50:17Z", "path": "docs/en/stack/ml/df-analytics/ml-inference.asciidoc", "diffHunk": "@@ -33,17 +34,35 @@ Alternatively, you can use a pre-trained language identification model to\n determine the language of text. {lang-ident-cap} supports 109 languages. For \n more information and configuration details, check the <<ml-lang-ident>> page.\n \n+\n [[ml-inference-processor]]\n === {infer-cap} processor\n \n-{infer-cap} is a processor specified in an {ref}/pipeline.html[ingest pipeline]. \n-It uses a stored {dfanalytics} model to infer against the data that is being \n-ingested in the pipeline. The model is used on the \n-{ref}/ingest.html[ingest node]. {infer-cap} pre-processes the data by using the \n-model and provides a prediction. After the process, the pipeline continues \n-executing (if there is any other processor in the pipeline), finally the new \n-data together with the results are indexed into the destination index.\n+{infer-cap} can be used as a processor specified in an \n+{ref}/pipeline.html[ingest pipeline]. It uses a stored {dfanalytics} model to \n+infer against the data that is being ingested in the pipeline. The model is used \n+on the {ref}/ingest.html[ingest node]. {infer-cap} pre-processes the data by \n+using the model and provides a prediction. After the process, the pipeline \n+continues executing (if there is any other processor in the pipeline), finally \n+the new data together with the results are indexed into the destination index.\n \n Check the {ref}/inference-processor.html[{infer} processor] and \n {ref}/ml-df-analytics-apis.html[the {ml} {dfanalytics} API documentation] to \n learn more about the feature.\n+\n+\n+[[ml-inference-aggregation]]\n+=== {infer-cap} aggregation\n+\n+{infer-cap} can also be used as a pipeline aggregation. You can reference a \n+pre-trained {dfanalytics} model in the aggregation to infer on the result field \n+of the parent bucket aggregation. The {infer} aggregation uses the model on the \n+results to provide a prediction. This aggregation enables you to run ", "originalCommit": "5b7f240935aa1cacb534888b02ea5706721dceca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "87e9c90175f16c9a8f09a97cb4a8d2871313ee15", "url": "https://github.com/elastic/stack-docs/commit/87e9c90175f16c9a8f09a97cb4a8d2871313ee15", "message": "[DOCS] Addresses feedback.", "committedDate": "2020-07-14T06:30:31Z", "type": "commit"}]}