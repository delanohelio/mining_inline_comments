{"pr_number": 884, "pr_title": "[DOCS] Makes the DFA limitations section more succinct", "pr_createdAt": "2020-02-17T09:10:22Z", "pr_url": "https://github.com/elastic/stack-docs/pull/884", "timeline": [{"oid": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "url": "https://github.com/elastic/stack-docs/commit/fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "message": "[DOCS] Makes the DFA limitations section more succinct.", "committedDate": "2020-02-17T09:07:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1MDQ5OA==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380850498", "bodyText": "Not a big deal, but I generally try to use present tense instead of future tense:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {dfanalytics}), then the document that contains these fields will be skipped \n          \n          \n            \n            {dfanalytics}), the document that contains these fields is skipped", "author": "lcawl", "createdAt": "2020-02-18T18:19:45Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -67,8 +64,8 @@ results scales with increased training percentage.\n === Documents with missing values in analyzed fields are skipped\n \n If there are missing values in feature fields (fields that are subjects of the \n-{dfanalytics}), then the document that contains the fields with the missing \n-values will be skipped during the analysis.\n+{dfanalytics}), then the document that contains these fields will be skipped ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1MTAwMw==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380851003", "bodyText": "I think you still need this qualifier\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            have an {olscore}. These are still reindexed from the source index to the \n          \n          \n            \n            have an {olscore}. These documents are still reindexed from the source index to the", "author": "lcawl", "createdAt": "2020-02-18T18:20:43Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -79,9 +76,9 @@ don't support missing values (see also <<dfa-missing-fields-limitations>>),\n therefore fields that have data types other than numeric or boolean are ignored. \n Documents where included fields contain missing values, null values, or an array \n are also ignored. Therefore a destination index may contain documents that don't \n-have an {olscore}. These documents are still reindexed from the source index to \n-the destination index, but they are not included in the {oldetection} analysis \n-and therefore no {olscore} is computed.\n+have an {olscore}. These are still reindexed from the source index to the ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1MjExMA==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380852110", "bodyText": "\"dataset\" is two words in our style guide\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            majority to minority class labels in the training data. If your training dataset \n          \n          \n            \n            majority to minority class labels in the training data. If your training data set", "author": "lcawl", "createdAt": "2020-02-18T18:22:52Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -109,17 +106,12 @@ destination index that don't contain a results field are not included in the\n === Imbalanced class sizes affect {classification} performance\n \n If your training data is very imbalanced, then {classanalysis} may not provide \n-good predictions. Training tries to mitigate the effects of imbalanced \n-training data by maximizing the minimum recall of any class. For imbalanced \n-training data, this means that it will try to balance the proportion of values \n-it correctly labels in the minority and majority class. However, this process \n-can result in a slight degradation of the overall accuracy. Try to avoid highly \n-imbalanced situations. We recommend having at least 50 examples of each class \n-and a ratio of no more than 10 to 1 for the majority to minority class labels in \n-the training data. If your training dataset is very imbalanced, consider \n-downsampling the majority class, upsampling the minority class or \u2013 if it's \n-possible \u2013 gather more data. Consider investigating methods to change data that \n-fit your use case the most.\n+good predictions. Try to avoid highly imbalanced situations. We recommend having \n+at least 50 examples of each class and a ratio of no more than 10 to 1 for the \n+majority to minority class labels in the training data. If your training dataset ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1MjQyOA==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380852428", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            minority class or \u2013 if it's possible \u2013 gather more data. Consider investigating \n          \n          \n            \n            minority class, or gathering more data. Consider investigating", "author": "lcawl", "createdAt": "2020-02-18T18:23:27Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -109,17 +106,12 @@ destination index that don't contain a results field are not included in the\n === Imbalanced class sizes affect {classification} performance\n \n If your training data is very imbalanced, then {classanalysis} may not provide \n-good predictions. Training tries to mitigate the effects of imbalanced \n-training data by maximizing the minimum recall of any class. For imbalanced \n-training data, this means that it will try to balance the proportion of values \n-it correctly labels in the minority and majority class. However, this process \n-can result in a slight degradation of the overall accuracy. Try to avoid highly \n-imbalanced situations. We recommend having at least 50 examples of each class \n-and a ratio of no more than 10 to 1 for the majority to minority class labels in \n-the training data. If your training dataset is very imbalanced, consider \n-downsampling the majority class, upsampling the minority class or \u2013 if it's \n-possible \u2013 gather more data. Consider investigating methods to change data that \n-fit your use case the most.\n+good predictions. Try to avoid highly imbalanced situations. We recommend having \n+at least 50 examples of each class and a ratio of no more than 10 to 1 for the \n+majority to minority class labels in the training data. If your training dataset \n+is very imbalanced, consider downsampling the majority class, upsampling the \n+minority class or \u2013 if it's possible \u2013 gather more data. Consider investigating ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1MjkyNQ==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380852925", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            importance takes significant extra time. Feature importance is calculated at the \n          \n          \n            \n            importance takes significantly more time. Feature importance is calculated at the", "author": "lcawl", "createdAt": "2020-02-18T18:24:28Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,12 +127,12 @@ performance profile.\n [[dfa-feature-importance-limitation]]\n === Analytics runtime performance may significantly slow down with feature importance computation\n \n-For complex models \u2013 those with many deep trees \u2013 the calculation of \n-feature importance takes significant extra time. Feature importance is calculated at the end \n-of the analysis and therefore the job may appear to be stuck at 99% for several \n-hours.\n+For complex models \u2013 those with many deep trees \u2013 the calculation of feature \n+importance takes significant extra time. Feature importance is calculated at the ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1MzEzMg==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380853132", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            feature importance, using a smaller transform, setting \n          \n          \n            \n            feature importance, using a smaller {transform}, setting", "author": "lcawl", "createdAt": "2020-02-18T18:24:53Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,12 +127,12 @@ performance profile.\n [[dfa-feature-importance-limitation]]\n === Analytics runtime performance may significantly slow down with feature importance computation\n \n-For complex models \u2013 those with many deep trees \u2013 the calculation of \n-feature importance takes significant extra time. Feature importance is calculated at the end \n-of the analysis and therefore the job may appear to be stuck at 99% for several \n-hours.\n+For complex models \u2013 those with many deep trees \u2013 the calculation of feature \n+importance takes significant extra time. Feature importance is calculated at the \n+end of the analysis and therefore the job may appear to be stuck at 99% for \n+several hours.\n \n-If a reduction in runtime is important to you, please try strategies such as \n-disabling feature importance, using a smaller transform, setting \n-hyperparameter values and/or only selecting fields for analysis that are \n-relevant.\n+If a reduction in runtime is important to you, try strategies such as disabling \n+feature importance, using a smaller transform, setting ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1ODY0Nw==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380858647", "bodyText": "This limitation is a bit unclear.  Which setting does it pertain to (max_machine_memory_percent or max_model_memory_limit)?  What sort of error (if any) occurs if you try to use transforms that exceed this limit? Is it possible to determine in advance whether you're likely to hit this limitation?", "author": "lcawl", "createdAt": "2020-02-18T18:35:37Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -36,7 +36,7 @@ You cannot update {dfanalytics-cap} configurations. Instead, delete the\n [[dfa-dataframe-size-limitations]]\n === {dataframe-cap} memory limitation\n \n-{dfanalytics-cap} can analyze {dataframes} that fit into the memory limit ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTEzODM2OA==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r381138368", "bodyText": "I'll address this in another PR.", "author": "szabosteve", "createdAt": "2020-02-19T08:26:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg1ODY0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg2Mzg3OA==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380863878", "bodyText": "Consider investigating methods to change data that fit your use case the most.\n\nThis sentence is unclear to me. Is it necessary?", "author": "lcawl", "createdAt": "2020-02-18T18:45:53Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -109,17 +106,12 @@ destination index that don't contain a results field are not included in the\n === Imbalanced class sizes affect {classification} performance\n \n If your training data is very imbalanced, then {classanalysis} may not provide \n-good predictions. Training tries to mitigate the effects of imbalanced \n-training data by maximizing the minimum recall of any class. For imbalanced \n-training data, this means that it will try to balance the proportion of values \n-it correctly labels in the minority and majority class. However, this process \n-can result in a slight degradation of the overall accuracy. Try to avoid highly \n-imbalanced situations. We recommend having at least 50 examples of each class \n-and a ratio of no more than 10 to 1 for the majority to minority class labels in \n-the training data. If your training dataset is very imbalanced, consider \n-downsampling the majority class, upsampling the minority class or \u2013 if it's \n-possible \u2013 gather more data. Consider investigating methods to change data that \n-fit your use case the most.\n+good predictions. Try to avoid highly imbalanced situations. We recommend having \n+at least 50 examples of each class and a ratio of no more than 10 to 1 for the \n+majority to minority class labels in the training data. If your training dataset \n+is very imbalanced, consider downsampling the majority class, upsampling the \n+minority class or \u2013 if it's possible \u2013 gather more data. Consider investigating \n+methods to change data that fit your use case the most.", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg2NDg3MA==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380864870", "bodyText": "Unless this is the only type of model that is complex, I'd recommend this change:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            For complex models \u2013 those with many deep trees \u2013 the calculation of feature \n          \n          \n            \n            For complex models (such as those with many deep trees), the calculation of feature", "author": "lcawl", "createdAt": "2020-02-18T18:47:52Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,12 +127,12 @@ performance profile.\n [[dfa-feature-importance-limitation]]\n === Analytics runtime performance may significantly slow down with feature importance computation\n \n-For complex models \u2013 those with many deep trees \u2013 the calculation of \n-feature importance takes significant extra time. Feature importance is calculated at the end \n-of the analysis and therefore the job may appear to be stuck at 99% for several \n-hours.\n+For complex models \u2013 those with many deep trees \u2013 the calculation of feature ", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg2NjAwMw==", "url": "https://github.com/elastic/stack-docs/pull/884#discussion_r380866003", "bodyText": "It is a bit unclear how you'd know which fields are \"relevant\". Can we clarify?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            and/or only selecting fields for analysis that are relevant.\n          \n          \n            \n            , or only selecting fields that are relevant for analysis.", "author": "lcawl", "createdAt": "2020-02-18T18:50:03Z", "path": "docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc", "diffHunk": "@@ -135,12 +127,12 @@ performance profile.\n [[dfa-feature-importance-limitation]]\n === Analytics runtime performance may significantly slow down with feature importance computation\n \n-For complex models \u2013 those with many deep trees \u2013 the calculation of \n-feature importance takes significant extra time. Feature importance is calculated at the end \n-of the analysis and therefore the job may appear to be stuck at 99% for several \n-hours.\n+For complex models \u2013 those with many deep trees \u2013 the calculation of feature \n+importance takes significant extra time. Feature importance is calculated at the \n+end of the analysis and therefore the job may appear to be stuck at 99% for \n+several hours.\n \n-If a reduction in runtime is important to you, please try strategies such as \n-disabling feature importance, using a smaller transform, setting \n-hyperparameter values and/or only selecting fields for analysis that are \n-relevant.\n+If a reduction in runtime is important to you, try strategies such as disabling \n+feature importance, using a smaller transform, setting \n+{ref}/put-dfanalytics.html#ml-hyperparam-optimization[hyperparameter] values \n+and/or only selecting fields for analysis that are relevant.", "originalCommit": "fc8ce8d1b98137e9f39cd100e4ff38dc79b7f971", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a605bcca5c652537ac7c65e5f02eabf0967db897", "url": "https://github.com/elastic/stack-docs/commit/a605bcca5c652537ac7c65e5f02eabf0967db897", "message": "[DOCS] Minor grammatical fixes", "committedDate": "2020-02-18T18:51:03Z", "type": "commit"}, {"oid": "5a01861762a8836f37d9eead4aff837891aa6d7a", "url": "https://github.com/elastic/stack-docs/commit/5a01861762a8836f37d9eead4aff837891aa6d7a", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:14:20Z", "type": "commit"}, {"oid": "94710b6f7c6a906ccf1bd20b139352ca3890cd7c", "url": "https://github.com/elastic/stack-docs/commit/94710b6f7c6a906ccf1bd20b139352ca3890cd7c", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:14:31Z", "type": "commit"}, {"oid": "d90c9dfce009ca6f4787ee8bd9c9a19784aa9a7d", "url": "https://github.com/elastic/stack-docs/commit/d90c9dfce009ca6f4787ee8bd9c9a19784aa9a7d", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:14:44Z", "type": "commit"}, {"oid": "d573200f0b95589d8229702e24b8caaf151db39e", "url": "https://github.com/elastic/stack-docs/commit/d573200f0b95589d8229702e24b8caaf151db39e", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:14:54Z", "type": "commit"}, {"oid": "78cf5d64eddfc06688e9c69869f919e4a6cd704c", "url": "https://github.com/elastic/stack-docs/commit/78cf5d64eddfc06688e9c69869f919e4a6cd704c", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:15:09Z", "type": "commit"}, {"oid": "17b93c7d9f06fc3a02fdc67c4794c662e6de4ea3", "url": "https://github.com/elastic/stack-docs/commit/17b93c7d9f06fc3a02fdc67c4794c662e6de4ea3", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:15:19Z", "type": "commit"}, {"oid": "21582bf79d20cb010fec7baba6fa02c251bec4a7", "url": "https://github.com/elastic/stack-docs/commit/21582bf79d20cb010fec7baba6fa02c251bec4a7", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:16:18Z", "type": "commit"}, {"oid": "22f6db29cbd62a966213db0bcd328f5bda50c051", "url": "https://github.com/elastic/stack-docs/commit/22f6db29cbd62a966213db0bcd328f5bda50c051", "message": "Update docs/en/stack/ml/df-analytics/dfanalytics-limitations.asciidoc\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>", "committedDate": "2020-02-19T08:16:35Z", "type": "commit"}, {"oid": "09112bcdf22f7497be1a9b0ff977e60413718f45", "url": "https://github.com/elastic/stack-docs/commit/09112bcdf22f7497be1a9b0ff977e60413718f45", "message": "[DOCS] Addresses feedback.", "committedDate": "2020-02-19T08:29:00Z", "type": "commit"}]}