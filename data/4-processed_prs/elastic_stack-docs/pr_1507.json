{"pr_number": 1507, "pr_title": "[DOCS] Add scatterplot matrix to outlier detection example", "pr_createdAt": "2020-12-30T02:06:07Z", "pr_url": "https://github.com/elastic/stack-docs/pull/1507", "timeline": [{"oid": "e6d51160b6193432682c8c9f3edce2a51af044a9", "url": "https://github.com/elastic/stack-docs/commit/e6d51160b6193432682c8c9f3edce2a51af044a9", "message": "[DOCS] Add scatterplot matrix to outlier detection example", "committedDate": "2021-01-20T15:58:04Z", "type": "commit"}, {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3", "url": "https://github.com/elastic/stack-docs/commit/5c27552d155c916950a75e7f7509772fcf4c61a3", "message": "[DOCS] Add scatterplot screenshot in outlier wizard", "committedDate": "2021-01-20T21:28:02Z", "type": "commit"}, {"oid": "5c27552d155c916950a75e7f7509772fcf4c61a3", "url": "https://github.com/elastic/stack-docs/commit/5c27552d155c916950a75e7f7509772fcf4c61a3", "message": "[DOCS] Add scatterplot screenshot in outlier wizard", "committedDate": "2021-01-20T21:28:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTY1NzQ3NA==", "url": "https://github.com/elastic/stack-docs/pull/1507#discussion_r561657474", "bodyText": "slow down the performance of the matrix\n\nMaybe this can be clarified with a bit more detail:\n\nA larger sample size might slow down the performance of the matrix on the client side.\nA randomized selection will create a \"heavier\" query and potentially put more load on the ES cluster. It will not affect the client side performance of the matrix in comparison with a non-randomized matrix with the same sample size.", "author": "walterra", "createdAt": "2021-01-21T07:39:05Z", "path": "docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc", "diffHunk": "@@ -152,12 +153,24 @@ POST _data_frame/transforms/ecommerce-customer-sales/_start\n . Create a {dfanalytics-job} to detect outliers in the new entity-centric index.\n +\n --\n-There is a wizard for creating {dfanalytics-jobs} on the\n-*Machine Learning* > *Data Frame Analytics* page in {kib}:\n+In the wizard on the *Machine Learning* > *Data Frame Analytics* page in {kib},\n+select your new index pattern then use the default values for {oldetection}. For\n+example:\n \n [role=\"screenshot\"]\n image::images/ecommerce-outlier-job-1.png[\"Create a {dfanalytics-job} in {kib}\"]\n \n+The wizard includes a scatterplot matrix, which enables you to explore the \n+relationships between the fields. You can use that information to help you\n+decide which fields to include or exclude from the analysis.\n+\n+[role=\"screenshot\"]\n+image::images/ecommerce-outlier-scatterplot.png[\"A scatterplot matrix for three fields in {kib}\"]\n+\n+If you want these charts to represent data from a larger sample size or from a\n+randomized selection of documents, you can change the default behavior. However, \n+these options might slow down the performance of the matrix.", "originalCommit": "5c27552d155c916950a75e7f7509772fcf4c61a3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjA4Mzc0NA==", "url": "https://github.com/elastic/stack-docs/pull/1507#discussion_r562083744", "bodyText": "Thanks!  I've changed the impact statement to this: \"However,\na larger sample size might slow down the performance of the matrix and a\nrandomized selection might put more load on the cluster due to the more\nintensive query.\"", "author": "lcawl", "createdAt": "2021-01-21T17:55:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTY1NzQ3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTczMDY5Mw==", "url": "https://github.com/elastic/stack-docs/pull/1507#discussion_r561730693", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            affected by its outlier score; that is to say, the largest points have the\n          \n          \n            \n            affected by its {olscore}; that is to say, the largest points have the", "author": "szabosteve", "createdAt": "2021-01-21T09:39:57Z", "path": "docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc", "diffHunk": "@@ -248,16 +261,40 @@ The search results include the following {oldetection} scores:\n [source,js]\n --------------------------------------------------\n ...\n-\"ml\" : {\n-  \"outlier_score\" : 0.9653657078742981,\n-  \"feature_influence.products.quantity.sum\" : 0.00592468399554491,\n-  \"feature_influence.order_id.value_count\" : 0.01975759118795395,\n-  \"feature_influence.products.taxful_price.sum\" : 0.974317729473114\n+  \"ml\" : {\n+    \"outlier_score\" : 0.9706582427024841,\n+    \"feature_influence\" : [\n+      {\n+        \"feature_name\" : \"order_id.value_count\",\n+        \"influence\" : 0.015179949812591076\n+      },\n+      {\n+        \"feature_name\" : \"products.quantity.sum\",\n+        \"influence\" : 0.003752298653125763\n+      },\n+      {\n+        \"feature_name\" : \"products.taxful_price.sum\",\n+        \"influence\" : 0.9810677766799927\n+      }\n+    ]\n   }\n ...\n --------------------------------------------------\n // NOTCONSOLE\n ====\n+\n+{kib} also provides a scatterplot matrix in the results. Outliers with a score \n+that exceeds the threshold are highlighted in each chart:\n+\n+[role=\"screenshot\"]\n+image::images/outliers-scatterplot.png[\"View scatterplot in {oldetection} results\"]\n+\n+In addition to the sample size and random scoring options, there is a\n+*Dynamic size* option. If you enable this option, the size of each point is \n+affected by its outlier score; that is to say, the largest points have the", "originalCommit": "5c27552d155c916950a75e7f7509772fcf4c61a3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTczMTE2Mw==", "url": "https://github.com/elastic/stack-docs/pull/1507#discussion_r561731163", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            highest outlier scores. The goal of these charts and options is to help you \n          \n          \n            \n            highest {olscores}. The goal of these charts and options is to help you", "author": "szabosteve", "createdAt": "2021-01-21T09:40:31Z", "path": "docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc", "diffHunk": "@@ -248,16 +261,40 @@ The search results include the following {oldetection} scores:\n [source,js]\n --------------------------------------------------\n ...\n-\"ml\" : {\n-  \"outlier_score\" : 0.9653657078742981,\n-  \"feature_influence.products.quantity.sum\" : 0.00592468399554491,\n-  \"feature_influence.order_id.value_count\" : 0.01975759118795395,\n-  \"feature_influence.products.taxful_price.sum\" : 0.974317729473114\n+  \"ml\" : {\n+    \"outlier_score\" : 0.9706582427024841,\n+    \"feature_influence\" : [\n+      {\n+        \"feature_name\" : \"order_id.value_count\",\n+        \"influence\" : 0.015179949812591076\n+      },\n+      {\n+        \"feature_name\" : \"products.quantity.sum\",\n+        \"influence\" : 0.003752298653125763\n+      },\n+      {\n+        \"feature_name\" : \"products.taxful_price.sum\",\n+        \"influence\" : 0.9810677766799927\n+      }\n+    ]\n   }\n ...\n --------------------------------------------------\n // NOTCONSOLE\n ====\n+\n+{kib} also provides a scatterplot matrix in the results. Outliers with a score \n+that exceeds the threshold are highlighted in each chart:\n+\n+[role=\"screenshot\"]\n+image::images/outliers-scatterplot.png[\"View scatterplot in {oldetection} results\"]\n+\n+In addition to the sample size and random scoring options, there is a\n+*Dynamic size* option. If you enable this option, the size of each point is \n+affected by its outlier score; that is to say, the largest points have the\n+highest outlier scores. The goal of these charts and options is to help you ", "originalCommit": "5c27552d155c916950a75e7f7509772fcf4c61a3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c3712ab01f3dbcf4cfce2b5e5c8d3f28d6ca49c7", "url": "https://github.com/elastic/stack-docs/commit/c3712ab01f3dbcf4cfce2b5e5c8d3f28d6ca49c7", "message": "Update docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc\n\nCo-authored-by: Istv\u00e1n Zolt\u00e1n Szab\u00f3 <istvan.szabo@elastic.co>", "committedDate": "2021-01-21T17:43:47Z", "type": "commit"}, {"oid": "4edc3646a0604130b7028a8aa4b1f6044082a192", "url": "https://github.com/elastic/stack-docs/commit/4edc3646a0604130b7028a8aa4b1f6044082a192", "message": "Update docs/en/stack/ml/df-analytics/ecommerce-outliers.asciidoc\n\nCo-authored-by: Istv\u00e1n Zolt\u00e1n Szab\u00f3 <istvan.szabo@elastic.co>", "committedDate": "2021-01-21T17:43:53Z", "type": "commit"}, {"oid": "9023df6344ef62e37d9c9b42cc9d8ddc1bb9178d", "url": "https://github.com/elastic/stack-docs/commit/9023df6344ef62e37d9c9b42cc9d8ddc1bb9178d", "message": "[DOCS] Clarify performance impact", "committedDate": "2021-01-21T17:54:35Z", "type": "commit"}]}