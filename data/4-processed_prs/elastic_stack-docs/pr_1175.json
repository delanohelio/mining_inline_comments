{"pr_number": 1175, "pr_title": "Edit ingest management getting started guide", "pr_createdAt": "2020-06-15T20:49:12Z", "pr_url": "https://github.com/elastic/stack-docs/pull/1175", "timeline": [{"oid": "bd3b7b72fb26a2e73797df67d0f75c73e58fd6b4", "url": "https://github.com/elastic/stack-docs/commit/bd3b7b72fb26a2e73797df67d0f75c73e58fd6b4", "message": "Edit ingest management getting started docs", "committedDate": "2020-06-16T02:22:05Z", "type": "forcePushed"}, {"oid": "372d544133af34d01e9c1b7aaa4824318de12fd1", "url": "https://github.com/elastic/stack-docs/commit/372d544133af34d01e9c1b7aaa4824318de12fd1", "message": "Edit ingest management getting started docs", "committedDate": "2020-06-16T02:31:51Z", "type": "commit"}, {"oid": "372d544133af34d01e9c1b7aaa4824318de12fd1", "url": "https://github.com/elastic/stack-docs/commit/372d544133af34d01e9c1b7aaa4824318de12fd1", "message": "Edit ingest management getting started docs", "committedDate": "2020-06-16T02:31:51Z", "type": "forcePushed"}, {"oid": "5623d12b972a78ecc52d239c8359925b9c52379d", "url": "https://github.com/elastic/stack-docs/commit/5623d12b972a78ecc52d239c8359925b9c52379d", "message": "Fix broken link", "committedDate": "2020-06-16T02:43:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyMzU3OA==", "url": "https://github.com/elastic/stack-docs/pull/1175#discussion_r440623578", "bodyText": "\ud83d\udc4d from me.", "author": "skh", "createdAt": "2020-06-16T06:52:10Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -1,159 +1,191 @@\n [[ingest-management-getting-started]]\n [role=\"xpack\"]\n-= Getting started\n+= Get started with ingest management\n \n-//TODO: Technical edit.\n-\n-//TODO: Add a summary.\n+++++\n+<titleabbrev>Get started</titleabbrev>\n+++++\n \n experimental[]\n \n-To use {ingest-management}, you need an {es} cluster and {kib} (version 7.8 for the experimental release)\n-with a basic license. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+This guide describes how to get started with the new {ingest-management}\n+capabilities available in this release.\n+\n+// tag::experimental-warning[]\n+This early release of {ingest-management} is experimental. We invite you to\n+install and test these capabilities **in a test environment**. You might run\n+into problems and need to modify your setup to get this feature running. Please\n+do not enable or use {ingest-management} in a production environment.\n+// end::experimental-warning[]\n+\n+//REVIEWERS: We have several different statements like this one that say basically the same\n+//thing but use slightly different words. Let's create a standard description that I\n+//can include when we need to add this statement. Let me know if what I have here ^^\n+//is good.\n ", "originalCommit": "5623d12b972a78ecc52d239c8359925b9c52379d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyNDcyMg==", "url": "https://github.com/elastic/stack-docs/pull/1175#discussion_r440624722", "bodyText": "Cc @nchaulet about the TLS checks and when exactly they need to be disabled. Maybe adding more reasoning why this is necessary in some situations helps? (If not, please ignore.)", "author": "skh", "createdAt": "2020-06-16T06:54:47Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -1,159 +1,191 @@\n [[ingest-management-getting-started]]\n [role=\"xpack\"]\n-= Getting started\n+= Get started with ingest management\n \n-//TODO: Technical edit.\n-\n-//TODO: Add a summary.\n+++++\n+<titleabbrev>Get started</titleabbrev>\n+++++\n \n experimental[]\n \n-To use {ingest-management}, you need an {es} cluster and {kib} (version 7.8 for the experimental release)\n-with a basic license. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+This guide describes how to get started with the new {ingest-management}\n+capabilities available in this release.\n+\n+// tag::experimental-warning[]\n+This early release of {ingest-management} is experimental. We invite you to\n+install and test these capabilities **in a test environment**. You might run\n+into problems and need to modify your setup to get this feature running. Please\n+do not enable or use {ingest-management} in a production environment.\n+// end::experimental-warning[]\n+\n+//REVIEWERS: We have several different statements like this one that say basically the same\n+//thing but use slightly different words. Let's create a standard description that I\n+//can include when we need to add this statement. Let me know if what I have here ^^\n+//is good.\n \n-//TODO: Add cloud info\n+For feedback and questions, please contact us in the\n+https://ela.st/ingest-manager-feedback[discuss forum].\n \n-IMPORTANT: Since this is an experimental release, it should only be used in a dedicated test environment\n-that can be deleted when you are done. Please do not enable or use {ingest-management} in a production\n-environment.\n+//TODO: Add link to limitations topic after it is merged. \n \n [float]\n [[ingest-manager-prereqs]]\n == Prerequisites\n \n-If you want to use {ingest-management}, the following prerequisites have to be met in the {es} configuration:\n+To use this **experimental** release of {ingest-management}, you need:\n \n-- {es} security has to be enabled by setting `xpack.security.enabled` to `true`.\n-- API keys have to be enabled in {es} by setting `xpack.security.authc.api_key.enabled` to `true`.\n+* An {es} cluster and {kib} (version 7.8) with a basic license.\n++\n+You can use our https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}]\n+on {ecloud}, or {stack-gs}/get-started-elastic-stack.html[install the {stack} on\n+your own hardware].\n \n-If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}] on\n-{ecloud}, these settings will already be enabled.\n+* An {es} configuration with the following capabilities enabled. If you use our\n+https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}] on {ecloud},\n+these settings are already enabled.\n++\n+- {ref}/configuring-security.html[{es} security]. The `xpack.security.enabled`\n+setting must be `true`.\n+- {ref}/security-settings.html#api-key-service-settings[API key service]. The\n+`xpack.security.authc.api_key.enabled` setting must be `true`.\n \n-In this experimental release, {ingest-management} is only available to users with the superuser role. See\n-{ref}/built-in-roles.html[Built-in roles].\n+* A {kib} configuration with the following capabilities enabled:\n++\n+- {kibana-ref}/using-kibana-with-security.html[{kib} security]. The `xpack.security.enabled`\n+setting must be `true`.\n+- {kibana-ref}/configuring-tls.html[TLS] or the\n+`pack.ingestManager.fleet.tlsCheckDisabled` setting must be `true`.\n \n-For feedback and questions, please contact us https://ela.st/ingest-manager-feedback[here]. \n+//REVIEWERS: I've added the Kibana requirements because they weren't stated. Let\n+//me know if you'd rather that I leave those out. I personally have concerns\n+//about telling users to disable TLS checks.", "originalCommit": "5623d12b972a78ecc52d239c8359925b9c52379d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDk3MjcyMA==", "url": "https://github.com/elastic/stack-docs/pull/1175#discussion_r440972720", "bodyText": "Thanks! If necessary, I can open a follow-up PR after this PR is merged.", "author": "dedemorton", "createdAt": "2020-06-16T16:10:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyNDcyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDk5NjQ3OQ==", "url": "https://github.com/elastic/stack-docs/pull/1175#discussion_r440996479", "bodyText": "The scenario where the user wants to disable the TLS check, is if Kibana is behind a proxy that terminate the ssl connection.", "author": "nchaulet", "createdAt": "2020-06-16T16:46:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyNDcyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyNjM3MQ==", "url": "https://github.com/elastic/stack-docs/pull/1175#discussion_r440626371", "bodyText": "When I wrote this, I had an extra step about installing the integration (can be done from the 'settings' section in the integration details page) and only then explained how to create the data source.\nAs creating the data source installs the integration in the background I decided describing this step wasn't necessary and I removed the paragraph. Maybe this line should be rephrased or removed so that users don't look for an explicit installation step they don't need. Basically, reading it again, I think it doesn't flow right and could be confusing.", "author": "skh", "createdAt": "2020-06-16T06:58:08Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -1,159 +1,191 @@\n [[ingest-management-getting-started]]\n [role=\"xpack\"]\n-= Getting started\n+= Get started with ingest management\n \n-//TODO: Technical edit.\n-\n-//TODO: Add a summary.\n+++++\n+<titleabbrev>Get started</titleabbrev>\n+++++\n \n experimental[]\n \n-To use {ingest-management}, you need an {es} cluster and {kib} (version 7.8 for the experimental release)\n-with a basic license. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+This guide describes how to get started with the new {ingest-management}\n+capabilities available in this release.\n+\n+// tag::experimental-warning[]\n+This early release of {ingest-management} is experimental. We invite you to\n+install and test these capabilities **in a test environment**. You might run\n+into problems and need to modify your setup to get this feature running. Please\n+do not enable or use {ingest-management} in a production environment.\n+// end::experimental-warning[]\n+\n+//REVIEWERS: We have several different statements like this one that say basically the same\n+//thing but use slightly different words. Let's create a standard description that I\n+//can include when we need to add this statement. Let me know if what I have here ^^\n+//is good.\n \n-//TODO: Add cloud info\n+For feedback and questions, please contact us in the\n+https://ela.st/ingest-manager-feedback[discuss forum].\n \n-IMPORTANT: Since this is an experimental release, it should only be used in a dedicated test environment\n-that can be deleted when you are done. Please do not enable or use {ingest-management} in a production\n-environment.\n+//TODO: Add link to limitations topic after it is merged. \n \n [float]\n [[ingest-manager-prereqs]]\n == Prerequisites\n \n-If you want to use {ingest-management}, the following prerequisites have to be met in the {es} configuration:\n+To use this **experimental** release of {ingest-management}, you need:\n \n-- {es} security has to be enabled by setting `xpack.security.enabled` to `true`.\n-- API keys have to be enabled in {es} by setting `xpack.security.authc.api_key.enabled` to `true`.\n+* An {es} cluster and {kib} (version 7.8) with a basic license.\n++\n+You can use our https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}]\n+on {ecloud}, or {stack-gs}/get-started-elastic-stack.html[install the {stack} on\n+your own hardware].\n \n-If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}] on\n-{ecloud}, these settings will already be enabled.\n+* An {es} configuration with the following capabilities enabled. If you use our\n+https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}] on {ecloud},\n+these settings are already enabled.\n++\n+- {ref}/configuring-security.html[{es} security]. The `xpack.security.enabled`\n+setting must be `true`.\n+- {ref}/security-settings.html#api-key-service-settings[API key service]. The\n+`xpack.security.authc.api_key.enabled` setting must be `true`.\n \n-In this experimental release, {ingest-management} is only available to users with the superuser role. See\n-{ref}/built-in-roles.html[Built-in roles].\n+* A {kib} configuration with the following capabilities enabled:\n++\n+- {kibana-ref}/using-kibana-with-security.html[{kib} security]. The `xpack.security.enabled`\n+setting must be `true`.\n+- {kibana-ref}/configuring-tls.html[TLS] or the\n+`pack.ingestManager.fleet.tlsCheckDisabled` setting must be `true`.\n \n-For feedback and questions, please contact us https://ela.st/ingest-manager-feedback[here]. \n+//REVIEWERS: I've added the Kibana requirements because they weren't stated. Let\n+//me know if you'd rather that I leave those out. I personally have concerns\n+//about telling users to disable TLS checks.\n+\n+* A user with the superuser role. See {ref}/built-in-roles.html[Built-in roles].\n \n [float]\n [[enable-ingest-management]]\n == Step 1: Enable {ingest-management}\n \n-To enable {ingest-management}, make the following changes to the {kib} configuration:\n-\n-- set `xpack.ingestManagement.enabled` to `true`\n+To enable {ingest-management}:\n \n-If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}] on\n-{ecloud}, you will need to add them to the {kib} user settings as described in \n+. Add the following setting to the {kib} configuration:\n++\n+[source,yaml]\n+----\n+xpack.ingestManager.enabled: true\n+----\n++\n+* On our\n+https://www.elastic.co/cloud/elasticsearch-service[hosted {ess}] on\n+{ecloud}, add the setting to the {kib} user settings as described in \n {cloud}/ec-manage-kibana-settings.html[Add {kib} user settings].\n-\n-If you are using an **on-premises** stack deployment, you will need to add them to the {kib} configuration\n- as described in {kibana-ref}/ingest-manager-settings-kb.html[{ingest-manager} settings].\n-\n-To verify that {ingest-management} has been correctly enabled, login to {kib}, and select \n-**Management > {ingest-manager}**. If the menu entry is visible, and you see the following start page\n-for {ingest-manager}, enabling {ingest-management} has been successful.\n-\n+* On a self-managed stack, add the setting to the {kib} configuration as\n+described in\n+{kibana-ref}/ingest-manager-settings-kb.html[{ingest-manager} settings].\n+\n+. Verify that {ingest-management} has been correctly enabled:\n+.. Log in to {kib} and go to **Management > {ingest-manager}**.\n++\n+If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, {ingest-management} is successfully enabled.\n++\n [role=\"screenshot\"]\n image::images/kibana-ingest-manager-start.png[{ingest-manager} app in {kib}]\n \n+//TODO: Add tabbed panel when the code is stable.\n+\n [float]\n [[install-integration]]\n == Step 2: Install an integration and create a data source\n \n-{ingest-management} bundles various assets that are needed to ingest and visualize data in **integrations**.\n-\n-In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n-collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+{ingest-manager} provides _integrations_ that bundle various assets needed to\n+ingest and visualize data.\n \n-In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+In this guide, we assume that you have `nginx` running on some of your\n+infrastructure, and want to collect logs and metrics from it. To do so:\n \n+. Install the `nginx` integration provided by Elastic:", "originalCommit": "5623d12b972a78ecc52d239c8359925b9c52379d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyNzQyNw==", "url": "https://github.com/elastic/stack-docs/pull/1175#discussion_r440627427", "bodyText": "Good point. I didn't leave it out on purpose, I think it would be a useful addition.", "author": "skh", "createdAt": "2020-06-16T07:00:26Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -162,30 +194,109 @@ The {agent} is currently in Experimental and should not be used in production\n This will replace your current settings. Do you want to continue? [Y/n]:\n ----\n \n-After that, run the agent with:\n-\n+. Run the Agent:\n++\n [source,shell]\n ----\n ./elastic-agent run\n ----\n \n-In the {ingest-manager} app, click **Continue** to get back to the **{fleet}** tab. This will now show the newly enrolled agent.\n-\n+. In the {ingest-manager} app, click **Continue** to go to the **{fleet}**\n+tab, where you should see the newly enrolled agent.\n++\n [role=\"screenshot\"]\n image::images/kibana-ingest-manager-fleet-agents.png[{ingest-manager} app showing enrolled agents]\n \n-When you want to unenroll an agent, choose **Unenroll** from the **Actions** menu for this agent. This will invalidate the API key the agent is using to connect to {es}. The {agent} will continue to run, but will not be able to send data, and show this error instead:\n+//REVIEWERS: This is super cool, but we kind of gloss over the notion that this\n+//only works if the logs are stored in the location expected for the service\n+//your monitoring. Do we want to tell users how to override default paths, or\n+//is that unnecessary for this release?", "originalCommit": "5623d12b972a78ecc52d239c8359925b9c52379d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "76056a1e46d375e37c7360763768368225037d54", "url": "https://github.com/elastic/stack-docs/commit/76056a1e46d375e37c7360763768368225037d54", "message": "Add fixes from the review", "committedDate": "2020-06-16T16:28:37Z", "type": "commit"}]}