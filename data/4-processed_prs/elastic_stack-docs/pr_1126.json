{"pr_number": 1126, "pr_title": "Add Ingest Management Guide.", "pr_createdAt": "2020-06-04T16:01:36Z", "pr_url": "https://github.com/elastic/stack-docs/pull/1126", "timeline": [{"oid": "d67571fbcca0bffeb96cf807a3fc733a9c2c8d6a", "url": "https://github.com/elastic/stack-docs/commit/d67571fbcca0bffeb96cf807a3fc733a9c2c8d6a", "message": "Add initial skeleton for Ingest Management Guide.", "committedDate": "2020-06-09T12:58:55Z", "type": "commit"}, {"oid": "ea9f4f18810227cf67f09f9ef29e1c88a334875a", "url": "https://github.com/elastic/stack-docs/commit/ea9f4f18810227cf67f09f9ef29e1c88a334875a", "message": "Add more skeleton files", "committedDate": "2020-06-09T13:51:09Z", "type": "commit"}, {"oid": "ea9f4f18810227cf67f09f9ef29e1c88a334875a", "url": "https://github.com/elastic/stack-docs/commit/ea9f4f18810227cf67f09f9ef29e1c88a334875a", "message": "Add more skeleton files", "committedDate": "2020-06-09T13:51:09Z", "type": "forcePushed"}, {"oid": "dceea032600373154abe0fa341ef0ce26bbb4be4", "url": "https://github.com/elastic/stack-docs/commit/dceea032600373154abe0fa341ef0ce26bbb4be4", "message": "Add drafts for getting-started content", "committedDate": "2020-06-09T14:23:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA0ODE2OA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r437048168", "bodyText": "I've added some ingest-related attributes to shared/attributse.aciidoc so they can be used by all projects. Can you please use those instead?\nIncidentally, I wonder if we need an attribute for Ingest Manager. I would expect to use \"ingest management\" as a general term but always use Ingest Manager when referring to the app in Kibana. Let me know what you think.", "author": "dedemorton", "createdAt": "2020-06-08T23:04:05Z", "path": "docs/en/ingest-management/index.asciidoc", "diffHunk": "@@ -0,0 +1,12 @@\n+:doctype: book\n+:ingest-management-soln: Ingest Management", "originalCommit": "f84022f6c85051b085702401680c0ab3d316b7d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA2MDcwMA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438060700", "bodyText": "Yes. Ingest Management is the overall solution, Ingest Manager is the app in Kibana.\nI will remove the attributes I added and use those from the shared doc instead.", "author": "skh", "createdAt": "2020-06-10T11:46:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA0ODE2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA0OTE0Mw==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r437049143", "bodyText": "I assume that all the agent content will also be hooked into this structure, right? I've started a PR in the docs repo to build everything. You can see how the content in each repo simply becomes a resource for the overall build of the Ingest Management docs. elastic/docs#1864", "author": "dedemorton", "createdAt": "2020-06-08T23:07:04Z", "path": "docs/en/ingest-management/index.asciidoc", "diffHunk": "@@ -0,0 +1,12 @@\n+:doctype: book\n+:ingest-management-soln: Ingest Management\n+:ingest-management-app: Ingest Management App\n+\n+= Ingest Management Guide", "originalCommit": "f84022f6c85051b085702401680c0ab3d316b7d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA2MjAxMQ==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438062011", "bodyText": "I assume that all the agent content will also be hooked into this structure, right?\n\nI don't know, whatever works best?", "author": "skh", "createdAt": "2020-06-10T11:49:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA0OTE0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMwMDc1MQ==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438300751", "bodyText": "Yes, I do think that's better because users need to navigate between agent and ingest manager content. If we put it in separate books, that's be harder.", "author": "dedemorton", "createdAt": "2020-06-10T17:42:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA0OTE0Mw=="}], "type": "inlineReview"}, {"oid": "c52b695070da2a7dbb591f8b35c5de037df6e179", "url": "https://github.com/elastic/stack-docs/commit/c52b695070da2a7dbb591f8b35c5de037df6e179", "message": "Add Getting Started guide for standalone scenario", "committedDate": "2020-06-10T10:01:52Z", "type": "commit"}, {"oid": "d6eeb6439fb191c5f92845858bbfceee9a9643fc", "url": "https://github.com/elastic/stack-docs/commit/d6eeb6439fb191c5f92845858bbfceee9a9643fc", "message": "Add Getting Started guide for Fleet scenario", "committedDate": "2020-06-10T11:30:00Z", "type": "commit"}, {"oid": "c459ac896cae016e0a5419d592f452f8e22c3091", "url": "https://github.com/elastic/stack-docs/commit/c459ac896cae016e0a5419d592f452f8e22c3091", "message": "Remove bottom whitespace from images", "committedDate": "2020-06-10T11:41:15Z", "type": "commit"}, {"oid": "268f5554c60b61a42cc5d5af4b6dd5cd1ee24570", "url": "https://github.com/elastic/stack-docs/commit/268f5554c60b61a42cc5d5af4b6dd5cd1ee24570", "message": "Use attributes from docs for Ingest Management terms", "committedDate": "2020-06-10T12:31:41Z", "type": "commit"}, {"oid": "268f5554c60b61a42cc5d5af4b6dd5cd1ee24570", "url": "https://github.com/elastic/stack-docs/commit/268f5554c60b61a42cc5d5af4b6dd5cd1ee24570", "message": "Use attributes from docs for Ingest Management terms", "committedDate": "2020-06-10T12:31:41Z", "type": "forcePushed"}, {"oid": "7d1ce10aba04292eab67db203f33e760e4bd058a", "url": "https://github.com/elastic/stack-docs/commit/7d1ce10aba04292eab67db203f33e760e4bd058a", "message": "Add sample entries to troubleshooting guide.", "committedDate": "2020-06-10T14:53:54Z", "type": "commit"}, {"oid": "7d1ce10aba04292eab67db203f33e760e4bd058a", "url": "https://github.com/elastic/stack-docs/commit/7d1ce10aba04292eab67db203f33e760e4bd058a", "message": "Add sample entries to troubleshooting guide.", "committedDate": "2020-06-10T14:53:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5MTU5MQ==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438291591", "bodyText": "Looks right to me, but if it's not, I can fix it when I get the docs building.", "author": "dedemorton", "createdAt": "2020-06-10T17:27:26Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5MjA5MA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438292090", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n          \n          \n            \n            For feedback and questions, please contact us https://ela.st/ingest-manager-feedback[here].", "author": "dedemorton", "createdAt": "2020-06-10T17:28:16Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. ", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5MjcyOQ==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438292729", "bodyText": "Looks right.", "author": "dedemorton", "createdAt": "2020-06-10T17:29:17Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5MzUwNg==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438293506", "bodyText": "I can fix this in the post-merge cleanup.", "author": "dedemorton", "createdAt": "2020-06-10T17:30:33Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NTMwOQ==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438295309", "bodyText": "I would use {ingest-management-guide}. I want to get away from calling everything a reference. I will add this to the shared attributes when we have the guide building.", "author": "dedemorton", "createdAt": "2020-06-10T17:33:27Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.\n+// TODO link correct?\n+// TODO elastic-agent-ref is not yet defined in https://github.com/elastic/docs/blob/master/shared/attributes.asciidoc", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NTc1MA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438295750", "bodyText": "Since the installation is really straightforward, I think we should pull in the instructions here. I can do that.", "author": "dedemorton", "createdAt": "2020-06-10T17:34:15Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NjA4OA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438296088", "bodyText": "so I guess cloud ID doesn't work?", "author": "dedemorton", "createdAt": "2020-06-10T17:34:47Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.\n+// TODO link correct?\n+// TODO elastic-agent-ref is not yet defined in https://github.com/elastic/docs/blob/master/shared/attributes.asciidoc\n+\n+\n+=== Standalone mode\n+\n+To configure {agent} manually, navigate to **Configurations** in the {ingest-manager} app and click on the Default config in the list. Then select the **YAML** tab to access the configuration for {agent}. Copy the content and put it into a file `elastic-agent-standalone.yml` on the system where you have installed {agent}.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-yaml.png[{ingest-manager} app showing default agent configuration in YAML format]\n+\n+Please note that the configuration file generated by the {ingest-manager} app already contains the correct elasticsearch address and port for your setup. If you run everything locally, this will be `127.0.0.1:9200`. If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMzNTIwOQ==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438335209", "bodyText": "Not yet. There was a discussion about supporting cloud ID directly in the agent but I couldn't find an issue for it so I don't know for when it is planned. @ph knows more.", "author": "skh", "createdAt": "2020-06-10T18:43:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NjA4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NjY3NA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438296674", "bodyText": "This is markup. For asciidoctor, use:\n[source,yaml]\n----\ncode\n----", "author": "dedemorton", "createdAt": "2020-06-10T17:35:41Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.\n+// TODO link correct?\n+// TODO elastic-agent-ref is not yet defined in https://github.com/elastic/docs/blob/master/shared/attributes.asciidoc\n+\n+\n+=== Standalone mode\n+\n+To configure {agent} manually, navigate to **Configurations** in the {ingest-manager} app and click on the Default config in the list. Then select the **YAML** tab to access the configuration for {agent}. Copy the content and put it into a file `elastic-agent-standalone.yml` on the system where you have installed {agent}.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-yaml.png[{ingest-manager} app showing default agent configuration in YAML format]\n+\n+Please note that the configuration file generated by the {ingest-manager} app already contains the correct elasticsearch address and port for your setup. If you run everything locally, this will be `127.0.0.1:9200`. If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, this will correspond to the Elasticsearch endpoint URL that is also available under **Endpoints** as described in {cloud}/ec-working-with-elasticsearch.html.\n+\n+You will also have to add your elasticsearch username and password to the `outputs` section in the configuration file:\n+\n+```", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMzNTM5Mg==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438335392", "bodyText": "Ouch, sorry.", "author": "skh", "createdAt": "2020-06-10T18:43:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NjY3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NzAxMw==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438297013", "bodyText": "same comment about formatting", "author": "dedemorton", "createdAt": "2020-06-10T17:36:14Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.\n+// TODO link correct?\n+// TODO elastic-agent-ref is not yet defined in https://github.com/elastic/docs/blob/master/shared/attributes.asciidoc\n+\n+\n+=== Standalone mode\n+\n+To configure {agent} manually, navigate to **Configurations** in the {ingest-manager} app and click on the Default config in the list. Then select the **YAML** tab to access the configuration for {agent}. Copy the content and put it into a file `elastic-agent-standalone.yml` on the system where you have installed {agent}.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-yaml.png[{ingest-manager} app showing default agent configuration in YAML format]\n+\n+Please note that the configuration file generated by the {ingest-manager} app already contains the correct elasticsearch address and port for your setup. If you run everything locally, this will be `127.0.0.1:9200`. If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, this will correspond to the Elasticsearch endpoint URL that is also available under **Endpoints** as described in {cloud}/ec-working-with-elasticsearch.html.\n+\n+You will also have to add your elasticsearch username and password to the `outputs` section in the configuration file:\n+\n+```\n+[...]\n+outputs:\n+  default:\n+    type: elasticsearch\n+    hosts:\n+      - 'HOST:PORT'\n+    username: ES_USERNAME\n+    password: ES_PASSWORD\n+datasources:\n+[...]\n+```\n+\n+Run {agent} with the command\n+\n+```", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5NzQ5Nw==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438297497", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            On the next page, click on **Enroll new agent** to start the enrollment. Select an agent configuration (or stay with the default) and copy the command to enrol the agent from the command line. This line contains your Kibana URL and an enrollment key that has been generated by the {ingest-manager} app.\n          \n          \n            \n            On the next page, click on **Enroll new agent** to start the enrollment. Select an agent configuration (or stay with the default) and copy the command to enroll the agent from the command line. This line contains your Kibana URL and an enrollment key that has been generated by the {ingest-manager} app.", "author": "dedemorton", "createdAt": "2020-06-10T17:37:03Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.\n+// TODO link correct?\n+// TODO elastic-agent-ref is not yet defined in https://github.com/elastic/docs/blob/master/shared/attributes.asciidoc\n+\n+\n+=== Standalone mode\n+\n+To configure {agent} manually, navigate to **Configurations** in the {ingest-manager} app and click on the Default config in the list. Then select the **YAML** tab to access the configuration for {agent}. Copy the content and put it into a file `elastic-agent-standalone.yml` on the system where you have installed {agent}.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-yaml.png[{ingest-manager} app showing default agent configuration in YAML format]\n+\n+Please note that the configuration file generated by the {ingest-manager} app already contains the correct elasticsearch address and port for your setup. If you run everything locally, this will be `127.0.0.1:9200`. If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, this will correspond to the Elasticsearch endpoint URL that is also available under **Endpoints** as described in {cloud}/ec-working-with-elasticsearch.html.\n+\n+You will also have to add your elasticsearch username and password to the `outputs` section in the configuration file:\n+\n+```\n+[...]\n+outputs:\n+  default:\n+    type: elasticsearch\n+    hosts:\n+      - 'HOST:PORT'\n+    username: ES_USERNAME\n+    password: ES_PASSWORD\n+datasources:\n+[...]\n+```\n+\n+Run {agent} with the command\n+\n+```\n+$ ./elastic-agent -c elastic-agent-standalone.yml run\n+```\n+\n+=== {fleet} mode\n+\n+To use {fleet} to configure {agent}, you first need to enable {fleet} in the {ingest-manager} app. To do so, navigate to the **{fleet}** tab and click **Create user and enable Fleet**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-fleet-enable.png[{ingest-manager} app showing prompt to enable {fleet}]\n+\n+On the next page, click on **Enroll new agent** to start the enrollment. Select an agent configuration (or stay with the default) and copy the command to enrol the agent from the command line. This line contains your Kibana URL and an enrollment key that has been generated by the {ingest-manager} app.", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5Nzg0NA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438297844", "bodyText": "ditto...use asciidoctor markup.", "author": "dedemorton", "createdAt": "2020-06-10T17:37:39Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.\n+// TODO link correct?\n+// TODO elastic-agent-ref is not yet defined in https://github.com/elastic/docs/blob/master/shared/attributes.asciidoc\n+\n+\n+=== Standalone mode\n+\n+To configure {agent} manually, navigate to **Configurations** in the {ingest-manager} app and click on the Default config in the list. Then select the **YAML** tab to access the configuration for {agent}. Copy the content and put it into a file `elastic-agent-standalone.yml` on the system where you have installed {agent}.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-yaml.png[{ingest-manager} app showing default agent configuration in YAML format]\n+\n+Please note that the configuration file generated by the {ingest-manager} app already contains the correct elasticsearch address and port for your setup. If you run everything locally, this will be `127.0.0.1:9200`. If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, this will correspond to the Elasticsearch endpoint URL that is also available under **Endpoints** as described in {cloud}/ec-working-with-elasticsearch.html.\n+\n+You will also have to add your elasticsearch username and password to the `outputs` section in the configuration file:\n+\n+```\n+[...]\n+outputs:\n+  default:\n+    type: elasticsearch\n+    hosts:\n+      - 'HOST:PORT'\n+    username: ES_USERNAME\n+    password: ES_PASSWORD\n+datasources:\n+[...]\n+```\n+\n+Run {agent} with the command\n+\n+```\n+$ ./elastic-agent -c elastic-agent-standalone.yml run\n+```\n+\n+=== {fleet} mode\n+\n+To use {fleet} to configure {agent}, you first need to enable {fleet} in the {ingest-manager} app. To do so, navigate to the **{fleet}** tab and click **Create user and enable Fleet**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-fleet-enable.png[{ingest-manager} app showing prompt to enable {fleet}]\n+\n+On the next page, click on **Enroll new agent** to start the enrollment. Select an agent configuration (or stay with the default) and copy the command to enrol the agent from the command line. This line contains your Kibana URL and an enrollment key that has been generated by the {ingest-manager} app.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-fleet-enrol.png[{ingest-manager} app showing agent enrollment dialog]\n+\n+In the directory where you installed {agent}, paste the copied command to enroll the agent. Please note that this command will overwrite the `elastic-agent.yml` file in that directory.\n+\n+```", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI5ODA1OA==", "url": "https://github.com/elastic/stack-docs/pull/1126#discussion_r438298058", "bodyText": "same", "author": "dedemorton", "createdAt": "2020-06-10T17:38:02Z", "path": "docs/en/ingest-management/getting-started.asciidoc", "diffHunk": "@@ -0,0 +1,168 @@\n+[[ingest-management-getting-started]]\n+[chapter, role=\"xpack\"]\n+= Getting Started\n+\n+To use Ingest Management, you need an Elasticsearch cluster and Kibana (version 7.8 for the experimental release)\n+with a basic licence. See {stack-gs}/get-started-elastic-stack.html[Getting started with the {stack}].\n+\n+Notice: Since this is an experimental release, it should only be used in a dedicated test environment\n+that can be deleted when you are done. Please do not enable or use Ingest Management in a production\n+environment.\n+\n+== Prerequisites\n+\n+If you want to use Ingest Management, the following prerequisites have to be met in the Elasticsearch configuration:\n+\n+- Elasticsearch security has to be enabled by setting `xpack.security.enabled` to `true`.\n+- API keys have to be enabled in Elasticsearch by setting `xpack.security.authc.api_key.enabled` to `true`.\n+\n+If you use our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, these settings will already be enabled.\n+\n+In this experimental release, Ingest Management is only available to users with the superuser role, see\n+{ref}/built-in-roles.html // TODO: link correct?\n+\n+For feedback and questions, please contact us https://ela.st/ingest-manager-feedback{here}. \n+\n+== Enable Ingest Management\n+\n+To enable Ingest Management, make the following changes to the Kibana configuration:\n+\n+- set `xpack.ingestManagement.enabled` to `true`\n+\n+If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, you will need to add them to the Kibana user settings as described in \n+{cloud}/ec-manage-kibana-settings.html // TODO: link correct?\n+\n+If you are using an **on-premises** stack deployment, you will need to add them to the Kibana configuration\n+ as described in {kibana-ref}/settings.html // TODO: check link\n+\n+To verify that Ingest Management has been correctly enabled, login to {kib} and use the menu to navigate to \n+**Management** > **{ingest-manager}**. If the menu entry is visible, and you see the following start page\n+for {ingest-manager}, enabling Ingest Management has been successful.\n+// TODO: style guide for screenshot size or ratio?\n+// TODO: style guide for how to navigate the menu?\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-start.png[{ingest-manager} app in Kibana]\n+\n+== Install an integration and create a data source\n+\n+Ingest Management bundles various assets that are needed to ingest and visualize data in **integrations**.\n+\n+In this Guide we assume that you have `nginx` running on some of your infrastructure, and want to\n+collect logs and metrics from it. To do so, first install the `nginx` integration provided by Elastic.\n+\n+In the {ingest-manager} app, navigate to **Integrations** and use the search bar to find the Nginx integration.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx.png[{ingest-manager} app showing Nginx Integration]\n+\n+Click on the Nginx integration to see more details about it. On the upper right, select **Create data source**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-overview.png[{ingest-manager} app showing Nginx Integration overview]\n+\n+On the **Add data source** screen, click to select the default agent configuration from the list, and scroll down to inspect or change the\n+default settings that have been set for you. When you're done, click **Save data source**. \n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-nginx-add-datasource.png[{ingest-manager} app Add data source screen]\n+\n+Navigate back to the main **Integrations** tab and select **Installed Integrations**. The Nginx integration has been installed and\n+should show up in this list. (Note that the **System** and **Elastic Endpoint** integrations have been installed by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-integrations-list-installed.png[{ingest-manager} app showing installed integrations]\n+\n+Navigate to **Configurations** and click on the Default config in the list. On the detail view, the newly created data source should appear in the list. (Note that the `system-1` data source has been created by default.)\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-with-nginx.png[{ingest-manager} app showing default agent configuration with nginx-1 datasource]\n+\n+== Install and run elastic-agent\n+\n+{agent} is a single, unified agent that you can deploy to hosts or containers to collect data and send it to the {stack}. Behind the scenes, {agent} runs the {beats} shippers or Endpoint required for your configuration. It can be configured manually or from the {ingest-manager} app in {kib}.\n+\n+=== Installation\n+\n+See {elastic-agent-ref}/elastic-agent.html for instructions how to install {agent} on your operating system.\n+// TODO link correct?\n+// TODO elastic-agent-ref is not yet defined in https://github.com/elastic/docs/blob/master/shared/attributes.asciidoc\n+\n+\n+=== Standalone mode\n+\n+To configure {agent} manually, navigate to **Configurations** in the {ingest-manager} app and click on the Default config in the list. Then select the **YAML** tab to access the configuration for {agent}. Copy the content and put it into a file `elastic-agent-standalone.yml` on the system where you have installed {agent}.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-configurations-default-yaml.png[{ingest-manager} app showing default agent configuration in YAML format]\n+\n+Please note that the configuration file generated by the {ingest-manager} app already contains the correct elasticsearch address and port for your setup. If you run everything locally, this will be `127.0.0.1:9200`. If you are using our https://www.elastic.co/cloud/elasticsearch-service[hosted {es} Service] on\n+Elastic Cloud, this will correspond to the Elasticsearch endpoint URL that is also available under **Endpoints** as described in {cloud}/ec-working-with-elasticsearch.html.\n+\n+You will also have to add your elasticsearch username and password to the `outputs` section in the configuration file:\n+\n+```\n+[...]\n+outputs:\n+  default:\n+    type: elasticsearch\n+    hosts:\n+      - 'HOST:PORT'\n+    username: ES_USERNAME\n+    password: ES_PASSWORD\n+datasources:\n+[...]\n+```\n+\n+Run {agent} with the command\n+\n+```\n+$ ./elastic-agent -c elastic-agent-standalone.yml run\n+```\n+\n+=== {fleet} mode\n+\n+To use {fleet} to configure {agent}, you first need to enable {fleet} in the {ingest-manager} app. To do so, navigate to the **{fleet}** tab and click **Create user and enable Fleet**.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-fleet-enable.png[{ingest-manager} app showing prompt to enable {fleet}]\n+\n+On the next page, click on **Enroll new agent** to start the enrollment. Select an agent configuration (or stay with the default) and copy the command to enrol the agent from the command line. This line contains your Kibana URL and an enrollment key that has been generated by the {ingest-manager} app.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-fleet-enrol.png[{ingest-manager} app showing agent enrollment dialog]\n+\n+In the directory where you installed {agent}, paste the copied command to enroll the agent. Please note that this command will overwrite the `elastic-agent.yml` file in that directory.\n+\n+```\n+$ ./elastic-agent enroll KIBANA_URL ENROLLMENT_KEY\n+\n+The {agent} is currently in Experimental and should not be used in production\n+This will replace your current settings. Do you want to continue? [Y/n]:\n+```\n+After that, run the agent with\n+```\n+$ ./elastic-agent run\n+```\n+\n+In the {ingest-manager} app, click **Continue** to get back to the **{fleet}** tab. This will now show the newly enrolled agent.\n+\n+[role=\"screenshot\"]\n+image::images/kibana-ingest-manager-fleet-agents.png[{ingest-manager} app showing enrolled agents]\n+\n+When you want to unenroll an agent, choose **Unenroll** from the **Actions** menu for this agent. This will invalidate the API key the agent is using to connect to {es}. The {agent} will continue to run, but will not be able to send data, and show this error instead:\n+\n+```", "originalCommit": "7d1ce10aba04292eab67db203f33e760e4bd058a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2298c4202b2efb79c1cb142d7bb28fbabc63f9e2", "url": "https://github.com/elastic/stack-docs/commit/2298c4202b2efb79c1cb142d7bb28fbabc63f9e2", "message": "Update docs/en/ingest-management/getting-started.asciidoc\n\nCo-authored-by: DeDe Morton <dede.morton@elastic.co>", "committedDate": "2020-06-10T18:39:32Z", "type": "commit"}, {"oid": "2cca2576b8743379966e67f49ebf3f3f56c9b0df", "url": "https://github.com/elastic/stack-docs/commit/2cca2576b8743379966e67f49ebf3f3f56c9b0df", "message": "Update docs/en/ingest-management/getting-started.asciidoc\n\nCo-authored-by: DeDe Morton <dede.morton@elastic.co>", "committedDate": "2020-06-10T18:43:56Z", "type": "commit"}]}