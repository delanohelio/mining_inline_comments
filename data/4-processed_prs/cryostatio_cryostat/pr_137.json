{"pr_number": 137, "pr_title": "Include WWW-Authenticate Header on 401 responses", "pr_createdAt": "2020-03-12T18:26:59Z", "pr_url": "https://github.com/cryostatio/cryostat/pull/137", "timeline": [{"oid": "f2198fa449edd5f5095117bce6c86ff9cc7cc28e", "url": "https://github.com/cryostatio/cryostat/commit/f2198fa449edd5f5095117bce6c86ff9cc7cc28e", "message": "Allow selection of auth manager in run.sh script\n\nThis is probably only useful for testing, since this script does not\nreally allow for any way to configure the Basic auth manager's user\ncredentials file nor any useful way to connect to an OpenShift\nauthentication server. But, it's still helpful to be able to check that\nthe container application and the -web client properly detect the\nconfigured auth manager and react accordingly.", "committedDate": "2020-03-12T20:49:57Z", "type": "forcePushed"}, {"oid": "f013cf60240b63e70874e7ece06b671170a87fcf", "url": "https://github.com/cryostatio/cryostat/commit/f013cf60240b63e70874e7ece06b671170a87fcf", "message": "Include X-WWW-Authenticate response header on 401s\n\nFixes #136", "committedDate": "2020-03-13T17:26:52Z", "type": "commit"}, {"oid": "d95d66b7940fc743cc88f7f5df9c4862423d1218", "url": "https://github.com/cryostatio/cryostat/commit/d95d66b7940fc743cc88f7f5df9c4862423d1218", "message": "Allow selection of auth manager in run.sh script\n\nThis is probably only useful for testing, since this script does not\nreally allow for any way to configure the Basic auth manager's user\ncredentials file nor any useful way to connect to an OpenShift\nauthentication server. But, it's still helpful to be able to check that\nthe container application and the -web client properly detect the\nconfigured auth manager and react accordingly.", "committedDate": "2020-03-13T17:26:56Z", "type": "commit"}, {"oid": "d95d66b7940fc743cc88f7f5df9c4862423d1218", "url": "https://github.com/cryostatio/cryostat/commit/d95d66b7940fc743cc88f7f5df9c4862423d1218", "message": "Allow selection of auth manager in run.sh script\n\nThis is probably only useful for testing, since this script does not\nreally allow for any way to configure the Basic auth manager's user\ncredentials file nor any useful way to connect to an OpenShift\nauthentication server. But, it's still helpful to be able to check that\nthe container application and the -web client properly detect the\nconfigured auth manager and react accordingly.", "committedDate": "2020-03-13T17:26:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA1OTI0MQ==", "url": "https://github.com/cryostatio/cryostat/pull/137#discussion_r393059241", "bodyText": "Not sure if it's better put header name into a constant", "author": "tabjy", "createdAt": "2020-03-16T14:21:08Z", "path": "src/main/java/com/redhat/rhjmc/containerjfr/net/web/WebServer.java", "diffHunk": "@@ -165,6 +165,11 @@ public void start() throws FlightRecorderException, SocketException, UnknownHost\n                         logger.error(exception);\n                     }\n \n+                    if (exception.getStatusCode() == 401) {\n+                        // Use X- prefix so as to not trigger web-browser auth dialogs\n+                        ctx.response().putHeader(\"X-WWW-Authenticate\", auth.getScheme().toString());", "originalCommit": "d95d66b7940fc743cc88f7f5df9c4862423d1218", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5c9eefdad88d860a636aac6a8e3e18518649237b", "url": "https://github.com/cryostatio/cryostat/commit/5c9eefdad88d860a636aac6a8e3e18518649237b", "message": "Extract header name to constant", "committedDate": "2020-03-16T16:35:58Z", "type": "commit"}, {"oid": "5c9eefdad88d860a636aac6a8e3e18518649237b", "url": "https://github.com/cryostatio/cryostat/commit/5c9eefdad88d860a636aac6a8e3e18518649237b", "message": "Extract header name to constant", "committedDate": "2020-03-16T16:35:58Z", "type": "forcePushed"}]}