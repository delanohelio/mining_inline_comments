{"pr_number": 1594, "pr_title": "Fix Calculation of Aspect Ratio", "pr_createdAt": "2020-05-22T12:59:00Z", "pr_url": "https://github.com/opencast/opencast/pull/1594", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMxNDg5Nw==", "url": "https://github.com/opencast/opencast/pull/1594#discussion_r429314897", "bodyText": "This conditional check on aspectRatio looks useful in that it makes sure aspectRatio exists before attempting to extract attribute 1 and 2 from  it. The additional \"aspectRatio[2]\" check does not appear to be useful, because it throws an exception, as before, when aspectRatio does have an attribute number 2  (zero is never used on this object?).", "author": "karendolan", "createdAt": "2020-05-22T15:30:06Z", "path": "modules/engage-theodul-plugin-video-videojs/src/main/resources/static/main.js", "diffHunk": "@@ -969,7 +969,7 @@ define(['require', 'jquery', 'underscore', 'backbone', 'basil', 'bowser', 'engag\n   }\n \n   Engage.on(plugin.events.aspectRatioSet.getName(), function (param) {\n-    if (param === undefined) {\n+    if (param === undefined && aspectRatio && aspectRatio[2]) {\n       Engage.trigger(plugin.events.aspectRatioSet.getName(), [aspectRatio[1], aspectRatio[2], (aspectRatio[1] / aspectRatio[2]) * 100]);", "originalCommit": "ec752332e7d353d39b060d2b3fe49218454cee71", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMyOTYyNQ==", "url": "https://github.com/opencast/opencast/pull/1594#discussion_r429329625", "bodyText": "updated", "author": "lkiesow", "createdAt": "2020-05-22T15:57:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMxNDg5Nw=="}], "type": "inlineReview"}, {"oid": "26a7904f946dbbee4c79dd264638f796f60e8ab5", "url": "https://github.com/opencast/opencast/commit/26a7904f946dbbee4c79dd264638f796f60e8ab5", "message": "Fix Calculation of Aspect Ratio\n\nThis patch fixes the calculation of the non-existent aspect ratio of\naudio files in the Theodul player.", "committedDate": "2020-05-22T15:57:07Z", "type": "commit"}, {"oid": "26a7904f946dbbee4c79dd264638f796f60e8ab5", "url": "https://github.com/opencast/opencast/commit/26a7904f946dbbee4c79dd264638f796f60e8ab5", "message": "Fix Calculation of Aspect Ratio\n\nThis patch fixes the calculation of the non-existent aspect ratio of\naudio files in the Theodul player.", "committedDate": "2020-05-22T15:57:07Z", "type": "forcePushed"}]}