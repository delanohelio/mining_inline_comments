{"pr_number": 2134, "pr_title": "Addressing (most of) the missing ES config documentation", "pr_createdAt": "2020-12-11T03:23:08Z", "pr_url": "https://github.com/opencast/opencast/pull/2134", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTAyMTgyNg==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541021826", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Since version 9.0, Opencast requires a running an external Elasticsearch instance for indexing purposes.  Typically this\n          \n          \n            \n            Since version 9.0, Opencast requires running an external Elasticsearch instance for indexing purposes.  Typically this", "author": "peculiarPrince", "createdAt": "2020-12-11T15:19:56Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -64,7 +64,16 @@ broker is mostly run on the admin server of Opencast but can be run separately.\n For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n \n \n-Step 5: Database Configuration\n+Step 5: Setting up Elasticsearch\n+--------------------------------\n+\n+Since version 9.0, Opencast requires a running an external Elasticsearch instance for indexing purposes.  Typically this", "originalCommit": "56d076381d8ab850565c95196755a2a25f38fa3c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTAyMzE1OA==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541023158", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When running Elasticsearch, it is mandatory to deploy the same major version as the client library used by Opencast has,\n          \n          \n            \n            When running Elasticsearch, it is mandatory to deploy the same major version as the client library used by Opencast,", "author": "peculiarPrince", "createdAt": "2020-12-11T15:21:47Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,35 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Running Elasticsearch\n+---------------------\n+\n+When running Elasticsearch, it is mandatory to deploy the same major version as the client library used by Opencast has,", "originalCommit": "56d076381d8ab850565c95196755a2a25f38fa3c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTAyMzU3OQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541023579", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            since the client commands will otherwise not match the server. To check the version, take a look at\n          \n          \n            \n            otherwise the client commands will not match the server. To check the version, take a look at", "author": "peculiarPrince", "createdAt": "2020-12-11T15:22:17Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,35 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Running Elasticsearch\n+---------------------\n+\n+When running Elasticsearch, it is mandatory to deploy the same major version as the client library used by Opencast has,\n+since the client commands will otherwise not match the server. To check the version, take a look at", "originalCommit": "56d076381d8ab850565c95196755a2a25f38fa3c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTAyNzMzOQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541027339", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            since the client commands will otherwise not match the server. To check the version, take a look at\n          \n          \n            \n            since the client commands will otherwise not match the server. To check which version Opencast is using, take a look at", "author": "peculiarPrince", "createdAt": "2020-12-11T15:27:30Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,35 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Running Elasticsearch\n+---------------------\n+\n+When running Elasticsearch, it is mandatory to deploy the same major version as the client library used by Opencast has,\n+since the client commands will otherwise not match the server. To check the version, take a look at", "originalCommit": "56d076381d8ab850565c95196755a2a25f38fa3c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTAzNzA2MQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541037061", "bodyText": "Am bamboozled why Running Elasticsearch comes before Installing Elasticsearch", "author": "peculiarPrince", "createdAt": "2020-12-11T15:40:48Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,35 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Running Elasticsearch", "originalCommit": "56d076381d8ab850565c95196755a2a25f38fa3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTI4NDExNw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541284117", "bodyText": "Technical debt :D", "author": "gregorydlogan", "createdAt": "2020-12-11T20:59:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTAzNzA2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA0MjIzOQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541042239", "bodyText": "Strange wording. While spin up most likely means you're working in Docker (I think?), it isn't mentioned til the end of the phrase...\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            For example, to quickly spin up an external Elasticsearch matching the current version using Docker, run\n          \n          \n            \n            If you're using Docker, an external Elasticsearch matching the current version can be spun up by running\n          \n      \n    \n    \n  \n\nHowever, this is also not a perfect solution, and I welcome others' comments!", "author": "peculiarPrince", "createdAt": "2020-12-11T15:47:56Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,35 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Running Elasticsearch\n+---------------------\n+\n+When running Elasticsearch, it is mandatory to deploy the same major version as the client library used by Opencast has,\n+since the client commands will otherwise not match the server. To check the version, take a look at\n+[the maven dependency declaration for the elasticsearch bundle in the search module](https://github.com/opencast/opencast/blob/develop/modules/search/pom.xml).\n+\n+For example, to quickly spin up an external Elasticsearch matching the current version using Docker, run", "originalCommit": "56d076381d8ab850565c95196755a2a25f38fa3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTI5MDIxMw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541290213", "bodyText": "The more I read this the more I think the whole section should be removed.  Installation documentation should take care of installing ES, whether that's via Docker or via packages.  Unless an adopter is very advanced they shouldn't be trying to figure out which version of ES they need...", "author": "gregorydlogan", "createdAt": "2020-12-11T21:05:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA0MjIzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTU3MzA5NA==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541573094", "bodyText": "If it's necessary to address the version, then definitely note it in the install doc. But otherwise, I agree with the sentiment that it can be removed from this page entirely.", "author": "peculiarPrince", "createdAt": "2020-12-12T13:07:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA0MjIzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1MjI5Mg==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541052292", "bodyText": "Long phrase that's also still trying to be informative: my instinct after reading \"take a look at\" is to immediately click the link, and not read to the end of the sentence before clicking away x)\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [the maven dependency declaration for the elasticsearch bundle in the search module](https://github.com/opencast/opencast/blob/develop/modules/search/pom.xml).\n          \n          \n            \n            the maven dependency declaration for the elasticsearch bundle in the [search module](https://github.com/opencast/opencast/blob/develop/modules/search/pom.xml).", "author": "peculiarPrince", "createdAt": "2020-12-11T16:02:26Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,35 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Running Elasticsearch\n+---------------------\n+\n+When running Elasticsearch, it is mandatory to deploy the same major version as the client library used by Opencast has,\n+since the client commands will otherwise not match the server. To check the version, take a look at\n+[the maven dependency declaration for the elasticsearch bundle in the search module](https://github.com/opencast/opencast/blob/develop/modules/search/pom.xml).", "originalCommit": "56d076381d8ab850565c95196755a2a25f38fa3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTI5MDc1Nw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541290757", "bodyText": "The link is (almost immediately) wrong since the version in develop is likely not the version in 9.x.  Or at least it won't be in a few months.", "author": "gregorydlogan", "createdAt": "2020-12-11T21:06:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTA1MjI5Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTU3MzcwOQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r541573709", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Elasticsearch >= 7.9.2 (see the search module's pom file for the correct vertion)\n          \n          \n            \n                Elasticsearch >= 7.9.2 (see the search module's pom file for the correct version)", "author": "peculiarPrince", "createdAt": "2020-12-12T13:12:11Z", "path": "docs/guides/admin/docs/installation/source-macosx.md", "diffHunk": "@@ -56,6 +56,7 @@ Required:\n Required (not necessarily on the same machine):\n \n     ActiveMQ >= 5.10 (older versions untested)\n+    Elasticsearch >= 7.9.2 (see the search module's pom file for the correct vertion)", "originalCommit": "19d7193e5a17fc2b368f83e409a10c1e9b3adc20", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk0NzIxNw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542947217", "bodyText": "This guide is about basic configuration but this step is no configuration.\nDo we even need any configuration if we recommend running Elasticsearch on the admin node?", "author": "lkiesow", "createdAt": "2020-12-15T00:15:00Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -64,7 +64,16 @@ broker is mostly run on the admin server of Opencast but can be run separately.\n For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n \n \n-Step 5: Database Configuration\n+Step 5: Setting up Elasticsearch\n+--------------------------------\n+\n+Since version 9.0, Opencast requires running an external Elasticsearch instance for indexing purposes.  Typically this\n+runs on the admin node, although that is not required.  Instructions for installing Elasticsearch can be found in the\n+[installation documentation](../installation/index.md).  Fore more details about the setup, have a look at the\n+[Elasticsearch configuration guide](elasticsearch.md).", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwNTQ5Mw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r543005493", "bodyText": "This step is the same as the ActiveMQ step immediately before it.  We don't need to make any config changes, as long as the admin node hosts the ES instance.  What about rewriting the last sentence to something like\nIf you run your Elasticsearch instance on your all-in-one, or admin node then you do not need to make any configuration changes.  If you are *not* running Elasticsearch on that node, then please refer [this configuration guide](elasticsearch.md).", "author": "gregorydlogan", "createdAt": "2020-12-15T02:51:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk0NzIxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk0ODAwMg==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542948002", "bodyText": "Never describe this location. That's done by docs.opencast.org automatically:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Opencast's Elasticsearch configuration settings are in the core configuration file, which can usually be found at '/etc/opencast/custom.properties'\n          \n          \n            \n            Opencast's Elasticsearch settings can be found in the 'etc/custom.properties' configuration file.", "author": "lkiesow", "createdAt": "2020-12-15T00:17:03Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,23 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Installing Elasticsearch\n+------------------------\n+\n+The [installation](../installation/index.md) documentation contains instructions for installing Elasticsearch along with your Opencast packaging of choice.\n+\n+\n+Configuring External Nodes\n+--------------------------\n+\n+Opencast's Elasticsearch configuration settings are in the core configuration file, which can usually be found at '/etc/opencast/custom.properties'", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwNjA5NA==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r543006094", "bodyText": "I didn't know that!  Neat trick!", "author": "gregorydlogan", "createdAt": "2020-12-15T02:53:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk0ODAwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk0OTAyNw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542949027", "bodyText": "All these keys are already explained in the configuration file.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * `org.opencastproject.elasticsearch.server.hostname`\n          \n          \n            \n                * This should be the hostname where Elasticsearch is running.\n          \n          \n            \n            * `org.opencastproject.elasticsearch.server.scheme`\n          \n          \n            \n                * This should match the connection scheme for Elasticsearch.  Leave this commented out unless you have configured https in Elasticsearch.\n          \n          \n            \n            * `org.opencastproject.elasticsearch.server.port`\n          \n          \n            \n                * This is the port that Elasticsearch is listening on.  Leave this commented out unless you have changed the default in Elasticsearch.\n          \n          \n            \n            Relevant configurations keys are:\n          \n          \n            \n            * `org.opencastproject.elasticsearch.server.hostname`\n          \n          \n            \n            * `org.opencastproject.elasticsearch.server.scheme`\n          \n          \n            \n            * `org.opencastproject.elasticsearch.server.port`", "author": "lkiesow", "createdAt": "2020-12-15T00:19:52Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,23 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Installing Elasticsearch\n+------------------------\n+\n+The [installation](../installation/index.md) documentation contains instructions for installing Elasticsearch along with your Opencast packaging of choice.\n+\n+\n+Configuring External Nodes\n+--------------------------\n+\n+Opencast's Elasticsearch configuration settings are in the core configuration file, which can usually be found at '/etc/opencast/custom.properties'\n+\n+* `org.opencastproject.elasticsearch.server.hostname`\n+    * This should be the hostname where Elasticsearch is running.\n+* `org.opencastproject.elasticsearch.server.scheme`\n+    * This should match the connection scheme for Elasticsearch.  Leave this commented out unless you have configured https in Elasticsearch.\n+* `org.opencastproject.elasticsearch.server.port`\n+    * This is the port that Elasticsearch is listening on.  Leave this commented out unless you have changed the default in Elasticsearch.\n+", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk0OTk1Nw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542949957", "bodyText": "While 9.0 \u2265 7.9.2 Elasticsearch 9 would not work. Also, I don't think that referencing a modules pom.xml file is very helpful for new users\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Elasticsearch >= 7.9.2 (see the search module's pom file for the correct vertion)\n          \n          \n            \n                Elasticsearch 7.9.x", "author": "lkiesow", "createdAt": "2020-12-15T00:22:18Z", "path": "docs/guides/admin/docs/installation/source-linux.md", "diffHunk": "@@ -54,6 +54,7 @@ Required:\n Required (not necessarily on the same machine):\n \n     ActiveMQ >= 5.10 (older versions untested)\n+    Elasticsearch >= 7.9.2 (see the search module's pom file for the correct vertion)", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk1MDIyMQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542950221", "bodyText": "same here\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Elasticsearch >= 7.9.2 (see the search module's pom file for the correct version)\n          \n          \n            \n                Elasticsearch 7.9.x", "author": "lkiesow", "createdAt": "2020-12-15T00:22:57Z", "path": "docs/guides/admin/docs/installation/source-macosx.md", "diffHunk": "@@ -56,6 +56,7 @@ Required:\n Required (not necessarily on the same machine):\n \n     ActiveMQ >= 5.10 (older versions untested)\n+    Elasticsearch >= 7.9.2 (see the search module's pom file for the correct version)", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk1MDkwNA==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542950904", "bodyText": "It shouldn't be listed in the modules section if it's part of the configuration section. But then\u2026 these sections do not make a lot of sense anyway\u2026", "author": "lkiesow", "createdAt": "2020-12-15T00:24:45Z", "path": "docs/guides/admin/docs/modules/index.md", "diffHunk": "@@ -15,7 +15,7 @@ Documentation for modules included in Opencast.\n     * [URL Parameter](player.url.parameter.md)\n * [Search Indexes](searchindex/index.md)\n     * [Solr](searchindex/solr.md)\n-    * [Elasticsearch](searchindex/elasticsearch.md)\n+    * [Elasticsearch](../configuration/elasticsearch.md)", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwODQ1NQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r543008455", "bodyText": "I'll remove it, you're right.", "author": "gregorydlogan", "createdAt": "2020-12-15T03:00:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk1MDkwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk1MTEzMg==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542951132", "bodyText": "Same here: If it's actually configuration, it shouldn't be listed here.", "author": "lkiesow", "createdAt": "2020-12-15T00:25:27Z", "path": "docs/guides/admin/docs/modules/searchindex/index.md", "diffHunk": "@@ -21,4 +21,4 @@ Opencast currently uses two search index types: Solr and Elasticsearch.\n \n - Elasticsearch is the back-end for both the administrative user interface as well as the external API.\n \n-    [Elasticsearch Configuration Guide](elasticsearch.md)\n+    [Elasticsearch Configuration Guide](../../configuration/elasticsearch.md)", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwODg0MA==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r543008840", "bodyText": "I'll remove it, you're right.", "author": "gregorydlogan", "createdAt": "2020-12-15T03:01:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk1MTEzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk1MjA5NA==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r542952094", "bodyText": "Since the docs don't list these instructions, should we reference the installation instructions instead?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Please check [the documentation](configuration/elasticsearch.md) for information about how to setup an external node.\n          \n          \n            \n            Please check the installation guides for instructions about how to setup Elasticsearch.", "author": "lkiesow", "createdAt": "2020-12-15T00:27:52Z", "path": "docs/guides/admin/docs/upgrade.md", "diffHunk": "@@ -33,7 +33,7 @@ support to be embedded in applications. Since the Elasticsearch client was updat\n external Elasticsearch node of the same version to be present. This means, that all Opencast adopters now have to run\n Elasticsearch.\n \n-Please check [the documentation](modules/searchindex/elasticsearch.md) for information about how to setup an external node.\n+Please check [the documentation](configuration/elasticsearch.md) for information about how to setup an external node.", "originalCommit": "3f929db6d91838ddb4f79795d06dc71236a31312", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwOTc1MQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r543009751", "bodyText": "I rewrote this piece, let me know what you think.", "author": "gregorydlogan", "createdAt": "2020-12-15T03:03:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mjk1MjA5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxODAxMw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r546418013", "bodyText": "Can't answer the other discussion for some reason\u2026 let's start a new one \ud83d\udc4d\n\nSince when Opencast requires it never matters and mentioning a version is weird as soon as this ends up in the 10.x guide:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Since version 9.0, Opencast requires running an external Elasticsearch instance for indexing purposes.  Typically this\n          \n          \n            \n            Opencast requires Elasticsearch.  Typically this\n          \n      \n    \n    \n  \n\n\nI'm also still a bit unsure about the guidance of users. This guide is referenced in all the installation docs, so you should already have gone through them. We are kind of building a circular dependency here. We are also not mentioning Solr here since it just works in the default set-up.\nI'm wondering if it wouldn't be better to instruct users in the installation docs to install Elasticsearch on the admin node which makes this step here obsolete. That's what users should do anyway (otherwise, you need a security concept for how to protect Elasticsearch from external access). We then have the additional advanced docs for Elasticsearch for when people want to run it separately like we have for Solr.\nI think that would make the installation easier and less complex.", "author": "lkiesow", "createdAt": "2020-12-20T19:24:42Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -64,7 +64,16 @@ broker is mostly run on the admin server of Opencast but can be run separately.\n For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n \n \n-Step 5: Database Configuration\n+Step 5: Setting up Elasticsearch\n+--------------------------------\n+\n+Since version 9.0, Opencast requires running an external Elasticsearch instance for indexing purposes.  Typically this", "originalCommit": "d32649c9fa66d4b808bd990f0454ad05865c5611", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTU5NjA1Mg==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r551596052", "bodyText": "Fair enough.  I've removed most of the paragraph since the installation docs all seem to contain instructions to install ES.\nAfter this force push, how do the docs look?", "author": "gregorydlogan", "createdAt": "2021-01-04T22:02:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxODAxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxOTM1NQ==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r546419355", "bodyText": "Will you ever end up needing this if you end up here? You should have installed Opencast if you look at this and should have installed Elasticsearch in the process. You should never start here and then think that you need to install Opencast and Elasticsearch.", "author": "lkiesow", "createdAt": "2020-12-20T19:37:28Z", "path": "docs/guides/admin/docs/configuration/elasticsearch.md", "diffHunk": "@@ -0,0 +1,20 @@\n+Elasticsearch Configuration\n+===========================\n+\n+Elasticsearch powers the external API as well as the administrative user interface of Opencast.\n+\n+Installing Elasticsearch\n+------------------------\n+\n+The [installation](../installation/index.md) documentation contains instructions for installing Elasticsearch along with your Opencast packaging of choice.", "originalCommit": "d32649c9fa66d4b808bd990f0454ad05865c5611", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQxOTg3Mw==", "url": "https://github.com/opencast/opencast/pull/2134#discussion_r546419873", "bodyText": "You are removing Elasticsearch here but still keep mentioning it.", "author": "lkiesow", "createdAt": "2020-12-20T19:39:15Z", "path": "docs/guides/admin/docs/modules/searchindex/index.md", "diffHunk": "@@ -21,4 +21,3 @@ Opencast currently uses two search index types: Solr and Elasticsearch.\n \n - Elasticsearch is the back-end for both the administrative user interface as well as the external API.", "originalCommit": "d32649c9fa66d4b808bd990f0454ad05865c5611", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8b5c635ef31d7086713b06ee6e47d67712937287", "url": "https://github.com/opencast/opencast/commit/8b5c635ef31d7086713b06ee6e47d67712937287", "message": "Addressing missing ES config documentation", "committedDate": "2021-01-04T21:19:58Z", "type": "commit"}, {"oid": "2cb256132594b3ac212f7684882c33fbc612ac02", "url": "https://github.com/opencast/opencast/commit/2cb256132594b3ac212f7684882c33fbc612ac02", "message": "Review comments.  Removed the docker component from the ES config page.  The admin docs are targetted at users, not developers, so by the time they get to this document they've already chosen an install method.  Telling them about Docker at this point is counterintuitive at best.", "committedDate": "2021-01-04T21:19:59Z", "type": "commit"}, {"oid": "f305cd1c5c29283683e623cc20e6ad6361242e49", "url": "https://github.com/opencast/opencast/commit/f305cd1c5c29283683e623cc20e6ad6361242e49", "message": "Spelling fix", "committedDate": "2021-01-04T21:20:00Z", "type": "commit"}, {"oid": "3d365615bb5550c7a37da93c8070c870b568cfdb", "url": "https://github.com/opencast/opencast/commit/3d365615bb5550c7a37da93c8070c870b568cfdb", "message": "Review comments", "committedDate": "2021-01-04T21:20:01Z", "type": "commit"}, {"oid": "4c0232b6d51a6b81deebeef7b23e4fd4bdcb38da", "url": "https://github.com/opencast/opencast/commit/4c0232b6d51a6b81deebeef7b23e4fd4bdcb38da", "message": "More review comments", "committedDate": "2021-01-04T22:02:09Z", "type": "commit"}, {"oid": "4c0232b6d51a6b81deebeef7b23e4fd4bdcb38da", "url": "https://github.com/opencast/opencast/commit/4c0232b6d51a6b81deebeef7b23e4fd4bdcb38da", "message": "More review comments", "committedDate": "2021-01-04T22:02:09Z", "type": "forcePushed"}]}