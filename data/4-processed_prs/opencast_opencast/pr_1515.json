{"pr_number": 1515, "pr_title": "Studio-upload workflow should generate search preview images", "pr_createdAt": "2020-04-09T20:29:46Z", "pr_url": "https://github.com/opencast/opencast/pull/1515", "timeline": [{"oid": "c3748347c3c08d54a1d0e236b4a93f6207ba9244", "url": "https://github.com/opencast/opencast/commit/c3748347c3c08d54a1d0e236b4a93f6207ba9244", "message": "studio-upload workflow should generate search preview images\n\nThe search preview image generation tasks are missing in the studio-upload workflow. These images are used by media module and especially the LTI series tool.\nAlso the player preview images should be generated in higher resolution in general.", "committedDate": "2020-04-09T19:55:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ2NDAwOQ==", "url": "https://github.com/opencast/opencast/pull/1515#discussion_r406464009", "bodyText": "indentation", "author": "lkiesow", "createdAt": "2020-04-09T20:39:55Z", "path": "etc/workflows/studio-upload.xml", "diffHunk": "@@ -214,72 +216,74 @@\n       </configurations>\n     </operation>\n \n-    <!-- Encode to engage player preview images -->\n+    <!-- Encode to engage search result thumbnails -->\n \n     <operation\n-        id=\"image\"\n-        exception-handler-workflow=\"partial-error\"\n-        description=\"Creating player preview image\">\n+      id=\"image\"", "originalCommit": "c3748347c3c08d54a1d0e236b4a93f6207ba9244", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjUwNjE0Ng==", "url": "https://github.com/opencast/opencast/pull/1515#discussion_r406506146", "bodyText": "fixed", "author": "wsmirnow", "createdAt": "2020-04-09T22:11:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ2NDAwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ2NjE2MA==", "url": "https://github.com/opencast/opencast/pull/1515#discussion_r406466160", "bodyText": "That's not what this is doing but more than that, why not create the correct flavor in the first place? It doesn't really make sense to move it just after creating it.", "author": "lkiesow", "createdAt": "2020-04-09T20:44:16Z", "path": "etc/workflows/studio-upload.xml", "diffHunk": "@@ -214,72 +216,74 @@\n       </configurations>\n     </operation>\n \n-    <!-- Encode to engage player preview images -->\n+    <!-- Encode to engage search result thumbnails -->\n \n     <operation\n-        id=\"image\"\n-        exception-handler-workflow=\"partial-error\"\n-        description=\"Creating player preview image\">\n+      id=\"image\"\n+      exception-handler-workflow=\"partial-error\"\n+      description=\"Creating search result default thumbnails\">\n       <configurations>\n-        <configuration key=\"source-flavor\">*/prepared</configuration>\n-        <configuration key=\"target-flavor\">*/player+preview</configuration>\n+        <configuration key=\"source-flavors\">*/prepared</configuration>\n+        <configuration key=\"target-flavor\">*/search+preview</configuration>\n         <configuration key=\"target-tags\">engage-download</configuration>\n-        <configuration key=\"encoding-profile\">player-preview.http</configuration>\n+        <configuration key=\"encoding-profile\">search-cover.http</configuration>\n         <configuration key=\"time\">1</configuration>\n       </configurations>\n     </operation>\n \n-    <!-- Encode to feed cover images -->\n+    <!-- Encode to engage player preview images -->\n \n     <operation\n         id=\"image\"\n         exception-handler-workflow=\"partial-error\"\n-        description=\"Creating feed cover image\">\n+        description=\"Creating player preview image\">\n       <configurations>\n-        <configuration key=\"source-flavor\">*/prepared</configuration>\n-        <configuration key=\"source-tags\"></configuration>\n-        <configuration key=\"target-flavor\">*/feed+preview</configuration>\n-        <configuration key=\"target-tags\">atom,rss</configuration>\n-        <configuration key=\"encoding-profile\">feed-cover.http</configuration>\n+        <configuration key=\"source-flavors\">*/prepared</configuration>\n+        <configuration key=\"target-flavor\">*/player+preview</configuration>\n+        <configuration key=\"target-tags\">engage-download</configuration>\n+        <configuration key=\"encoding-profile\">player-preview.http</configuration>\n         <configuration key=\"time\">1</configuration>\n       </configurations>\n     </operation>\n \n-    <!-- Create a cover image with the default template -->\n-\n     <operation\n         id=\"tag\"\n-        description=\"Removing unneeded presenter-cover from download publication\">\n+        exception-handler-workflow=\"partial-error\"\n+        description=\"Tagging source material for archival\">", "originalCommit": "c3748347c3c08d54a1d0e236b4a93f6207ba9244", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjUwMzE4MA==", "url": "https://github.com/opencast/opencast/pull/1515#discussion_r406503180", "bodyText": "This was my first intention, too. But extracting the preview images for both tracks in one operation may speedup the processing. It's your choice, should I implement your request?", "author": "wsmirnow", "createdAt": "2020-04-09T22:03:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ2NjE2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjUwNjM2MA==", "url": "https://github.com/opencast/opencast/pull/1515#discussion_r406506360", "bodyText": "Implemented your suggestion.", "author": "wsmirnow", "createdAt": "2020-04-09T22:12:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ2NjE2MA=="}], "type": "inlineReview"}, {"oid": "f682b3ee0d8532c9b3fc5289c1245cf5ef5593e0", "url": "https://github.com/opencast/opencast/commit/f682b3ee0d8532c9b3fc5289c1245cf5ef5593e0", "message": "Review comments solved", "committedDate": "2020-04-09T22:09:24Z", "type": "commit"}]}