{"pr_number": 2066, "pr_title": "Update Basic Configuration", "pr_createdAt": "2020-11-10T11:30:44Z", "pr_url": "https://github.com/opencast/opencast/pull/2066", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIxODcxMw==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r521218713", "bodyText": "no comma needed after \"should do\"", "author": "peculiarPrince", "createdAt": "2020-11-11T09:15:00Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -3,106 +3,102 @@ Basic Configuration\n \n <!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to change the basic configuration settings required or at least strongly recommended for each\n+Opencast installation. It is basically what you should do, right after installing Opencast on your machine.  There are", "originalCommit": "e715c1f98aba817650b707db152c3f96809dbd0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIyMzg1MA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r521223850", "bodyText": "comma after \"by default\"", "author": "peculiarPrince", "createdAt": "2020-11-11T09:23:43Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -3,106 +3,102 @@ Basic Configuration\n \n <!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to change the basic configuration settings required or at least strongly recommended for each\n+Opencast installation. It is basically what you should do, right after installing Opencast on your machine.  There are\n+alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+First, find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.\n+The value should be the URL from which the server can be access later.\n \n     org.opencastproject.server.url=http://example.com:8080\n \n-*Note:* This value will be written to all generated mediapackages and thus cannot be changed easily for already\n-processed media, at least not without an extra amount of work involving modifications to the database. That is why you\n-should think about this setting carefully.\n+*Note:* This value will be written to all generated media packages and thus cannot be changed easily for already\n+processed media. Please think about this setting carefully.\n \n \n-Step 2: Setting the Login Details\n----------------------------------\n+Step 2: Setting Authentication Details\n+--------------------------------------\n \n-There are two authentication methods for Opencast: HTTP Digest authentication and form-based authentication. Both\n-methods need a username and a password. Change the password for both! The important keys in the 'custom.properties'\n-configuration file are:\n+Configure authentication and security details of Opencast, including the login credentials.\n+For this, the important keys in the `etc/custom.properties` configuration file are:\n \n * `org.opencastproject.security.admin.user`\n     * The user for the administrative account. This is set to `admin` by default.\n * `org.opencastproject.security.admin.pass`\n     * The password for the administrative account. This is set to `opencast` by default.\n * `org.opencastproject.security.digest.user`\n-    * The user for the communication between Opencast nodes, as well as for capture agents. This is set to\n-    `opencast_system_account` by default.\n+    * The user for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `opencast_system_account` by default.\n * `org.opencastproject.security.digest.pass`\n-    * The password for the communication between Opencast nodes and capture agents. This is set to `CHANGE_ME` by default.\n+    * The password for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `CHANGE_ME` by default.\n+* `karaf.shutdown.command`\n+    * The security token used for shutting down Opencast. Set this to a random string.\n \n-*Note:* The digest credentials are also used for internal communication of Opencast servers. So these keys have to be\n-set to the same value on each of your Opencast nodes (Core, Worker, Capture Agent, \u2026)\n+Make sure that these settings are identical on all nodes of the cluster.\n \n \n-Step 3: Change the default shutdown command\n--------------------------------------------\n+Step 3: Setting up Apache ActiveMQ Message Broker\n+-------------------------------------------------\n \n-Karaf provides a socket over which you can send a shutdown command. The socket does not provide any kind of\n-authentication. Therefore anyone who obtains write access to this socket is able to shutdown karaf and everything\n-that runs on it. There is a default `karaf.shutdown.command` defined in `custom.properties`. Change this to something\n-secret.\n+Opencast requires Apache ActiveMQ to relay messages between micro-services.\n+For configuration details, please follow the:\n \n+- [Apache ActiveMQ configuration guide](message-broker.md)\n \n-Step 4: Setting up Apache ActiveMQ Message Broker\n--------------------------------------------------\n-<!-- _This is a very nonchalant and subdued description for how important this config probably is -->\n-Since version 2.0, Opencast requires a running Apache ActiveMQ instance with a specific configuration.  The message\n-broker is mostly run on the admin server of Opencast but can be run separately. It needs to be started before Opencast.\n-For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n \n-\n-Step 5: Database Configuration\n+Step 4: Database Configuration\n ------------------------------\n \n-Opencast uses an integrated H2 database by default. While you will find it perfectly functional, it has certain\n-drawbacks:\n+Opencast uses an integrated H2 database by default which has certain drawbacks:", "originalCommit": "e715c1f98aba817650b707db152c3f96809dbd0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIzMzM3Mg==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r521233372", "bodyText": "suggest \"This value will be the URL...\" instead", "author": "peculiarPrince", "createdAt": "2020-11-11T09:39:59Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -3,106 +3,102 @@ Basic Configuration\n \n <!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to change the basic configuration settings required or at least strongly recommended for each\n+Opencast installation. It is basically what you should do, right after installing Opencast on your machine.  There are\n+alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+First, find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.\n+The value should be the URL from which the server can be access later.", "originalCommit": "e715c1f98aba817650b707db152c3f96809dbd0d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI2MDMwNg==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r521260306", "bodyText": "The setting will not influence the location but must be set to the location. Maybe this is better?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The value should be the URL from which the server can be access later.\n          \n          \n            \n            The value must be set to the URL from which the server can be accessed later.", "author": "lkiesow", "createdAt": "2020-11-11T10:26:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIzMzM3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI3MzI3OA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r521273278", "bodyText": "Yes!", "author": "peculiarPrince", "createdAt": "2020-11-11T10:49:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIzMzM3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIzMzc4OA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r521233788", "bodyText": "suggest taking out \"First\", or adding \"Next/Then/After that\" to later steps. otherwise this feels out of place.", "author": "peculiarPrince", "createdAt": "2020-11-11T09:40:44Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -3,106 +3,102 @@ Basic Configuration\n \n <!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to change the basic configuration settings required or at least strongly recommended for each\n+Opencast installation. It is basically what you should do, right after installing Opencast on your machine.  There are\n+alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+First, find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.", "originalCommit": "e715c1f98aba817650b707db152c3f96809dbd0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7d4c70eb17af7bf840837c2270c79bd2e2315d21", "url": "https://github.com/opencast/opencast/commit/7d4c70eb17af7bf840837c2270c79bd2e2315d21", "message": "Update Basic Configuration\n\nThis patch addresses some issues with the basic configuration guide being\nunclear or giving several options without any advice when to use these.", "committedDate": "2020-11-12T11:29:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI0ODk1MQ==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r522248951", "bodyText": "It is basically -> This is ?", "author": "gregorydlogan", "createdAt": "2020-11-12T16:39:50Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -3,106 +3,102 @@ Basic Configuration\n \n <!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to change the basic configuration settings required or at least strongly recommended for each\n+Opencast installation. It is basically what you should do right after installing Opencast on your machine.  There are", "originalCommit": "7d4c70eb17af7bf840837c2270c79bd2e2315d21", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjk3NDc4Ng==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r526974786", "bodyText": "fixed", "author": "lkiesow", "createdAt": "2020-11-19T15:25:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI0ODk1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI0OTcxNA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r522249714", "bodyText": "To make Opencast available externally and securing connections to it,  -> To secure connections to Opencast", "author": "gregorydlogan", "createdAt": "2020-11-12T16:40:59Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -3,106 +3,102 @@ Basic Configuration\n \n <!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to change the basic configuration settings required or at least strongly recommended for each\n+Opencast installation. It is basically what you should do right after installing Opencast on your machine.  There are\n+alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+Find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.\n+The value must be set to the URL from which the server can be accessed later.\n \n-    org.opencastproject.server.url=http://example.com:8080\n+    org.opencastproject.server.url=https://example.opencast.org\n \n-*Note:* This value will be written to all generated mediapackages and thus cannot be changed easily for already\n-processed media, at least not without an extra amount of work involving modifications to the database. That is why you\n-should think about this setting carefully.\n+*Note:* This value will be written to all generated media packages and thus cannot be changed easily for already\n+processed media. Please think about this setting carefully.\n \n \n-Step 2: Setting the Login Details\n----------------------------------\n+Step 2: Setting Authentication Details\n+--------------------------------------\n \n-There are two authentication methods for Opencast: HTTP Digest authentication and form-based authentication. Both\n-methods need a username and a password. Change the password for both! The important keys in the 'custom.properties'\n-configuration file are:\n+Configure authentication and security details of Opencast, including the login credentials.\n+For this, the important keys in the `etc/custom.properties` configuration file are:\n \n * `org.opencastproject.security.admin.user`\n     * The user for the administrative account. This is set to `admin` by default.\n * `org.opencastproject.security.admin.pass`\n     * The password for the administrative account. This is set to `opencast` by default.\n * `org.opencastproject.security.digest.user`\n-    * The user for the communication between Opencast nodes, as well as for capture agents. This is set to\n-    `opencast_system_account` by default.\n+    * The user for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `opencast_system_account` by default.\n * `org.opencastproject.security.digest.pass`\n-    * The password for the communication between Opencast nodes and capture agents. This is set to `CHANGE_ME` by default.\n+    * The password for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `CHANGE_ME` by default.\n+* `karaf.shutdown.command`\n+    * The security token used for shutting down Opencast. Set this to a random string.\n \n-*Note:* The digest credentials are also used for internal communication of Opencast servers. So these keys have to be\n-set to the same value on each of your Opencast nodes (Core, Worker, Capture Agent, \u2026)\n+Make sure that these settings are identical on all nodes of the cluster.\n \n \n-Step 3: Change the default shutdown command\n--------------------------------------------\n+Step 3: Setting up Apache ActiveMQ Message Broker\n+-------------------------------------------------\n \n-Karaf provides a socket over which you can send a shutdown command. The socket does not provide any kind of\n-authentication. Therefore anyone who obtains write access to this socket is able to shutdown karaf and everything\n-that runs on it. There is a default `karaf.shutdown.command` defined in `custom.properties`. Change this to something\n-secret.\n+Opencast requires Apache ActiveMQ to relay messages between micro-services.\n+For configuration details, please follow the:\n \n+- [Apache ActiveMQ configuration guide](message-broker.md)\n \n-Step 4: Setting up Apache ActiveMQ Message Broker\n--------------------------------------------------\n-<!-- _This is a very nonchalant and subdued description for how important this config probably is -->\n-Since version 2.0, Opencast requires a running Apache ActiveMQ instance with a specific configuration.  The message\n-broker is mostly run on the admin server of Opencast but can be run separately. It needs to be started before Opencast.\n-For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n \n-\n-Step 5: Database Configuration\n+Step 4: Database Configuration\n ------------------------------\n \n-Opencast uses an integrated H2 database by default. While you will find it perfectly functional, it has certain\n-drawbacks:\n+Opencast uses an integrated H2 database by default, which has certain drawbacks:\n \n-* It is rather slow\n * It cannot be used for distributed set-ups\n * Upgrading Opencast with this database is not possible\n \n-For testing, it is totally fine to keep the internal database, but you are highly encouraged to switch to a stand-alone\n-database for productional use. For more information about database configuration, have a look at the [Database\n-Configuration](database.md) section.\n+For testing, it is fine to keep the internal database, but configure a stand-alone database for production.\n+Details about the configuration can be found at:\n+\n+- [Database Configuration](database.md)\n+\n \n-Step 6: Elasticsearch Configuration\n+Step 5: Elasticsearch Configuration\n -----------------------------------\n \n-Opencast requires Elasticsearch.\n-For more details about the setup, have a look at the [Elasticsearch configuration\n-guide](../modules/searchindex/elasticsearch.md).\n+Opencast requires Elasticsearch for quick full-text search and data caching.\n+For more details about the setup, have a look at the:\n \n-Step 7: HTTPS Configuration\n+- [Elasticsearch configuration guide](../modules/searchindex/elasticsearch.md).\n+\n+\n+Step 6: HTTPS Configuration\n ---------------------------\n-<!-- _Every other instance of linking to another doc so far has been a \"do now, but in another doc\", \n-whereas here it is very much \"not necessary for right now\": what to do? -->\n-An installation without HTTPS does not make much sense today.\n-Thus, make sure to follow [a configuration guide for HTTPS](https/index.md).\n \n-Step 8: Setting the Storage Directory (optional)\n+To make Opencast available externally and securing connections to it, follow one of the", "originalCommit": "7d4c70eb17af7bf840837c2270c79bd2e2315d21", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk5NzU2Ng==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r523997566", "bodyText": "To make Opencast available externally  This part should be even more clear, there was an adopter with this trouble because the guide didn't clear that to have external connections, YOU NEED* to configure HTTPS, otherwise, only localhost can access.\n* Yes you can configure org.ops4j.pax.web.cfg but is not recommended, That should go in a troubleshooting guide or something like that.", "author": "mliradelc", "createdAt": "2020-11-16T09:07:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI0OTcxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTE1MTQ0Nw==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r525151447", "bodyText": "You don't need to configure https, it's sane to provide access via http-only.  It's likely not something that most adopters will want to do, but we shouldn't make it sound like https is required when it's not.", "author": "gregorydlogan", "createdAt": "2020-11-17T13:27:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI0OTcxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjk4MDQ0Mw==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r526980443", "bodyText": "For the sake of clarity, this guide should provide one way forward, not multiple ways. We should assume that new users do not know what they want (otherwise, they wouldn't read this guide). Providing options like \u201cyou can do this but if you don't do it, you need to do something else instead which is something you wouldn't need to do if you did the first thing\u201d just makes the instructions way more confusing and will leave people in a state of \u201cwhat the hell do I really need to do\u201d.\nThe first paragraph of this guide states that there are alternatives to what is described in here but this is the recommended set-up. Users should not skip any step except if it is explicitly marked as optional.\nI'll try to make this sentence more clear though.\nEDIT: And remembering Studio right now, I think parts of Opencast will not even work any longer in a non-local HTTP set-up. I think the web video stuff needs HTTPS iirc.", "author": "lkiesow", "createdAt": "2020-11-19T15:33:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI0OTcxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDA4Nw==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r524000087", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Step 6: HTTPS Configuration\n          \n          \n            \n            Step 6: HTTPS Configuration (Add external access)", "author": "mliradelc", "createdAt": "2020-11-16T09:09:29Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -3,106 +3,102 @@ Basic Configuration\n \n <!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to change the basic configuration settings required or at least strongly recommended for each\n+Opencast installation. It is basically what you should do right after installing Opencast on your machine.  There are\n+alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+Find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.\n+The value must be set to the URL from which the server can be accessed later.\n \n-    org.opencastproject.server.url=http://example.com:8080\n+    org.opencastproject.server.url=https://example.opencast.org\n \n-*Note:* This value will be written to all generated mediapackages and thus cannot be changed easily for already\n-processed media, at least not without an extra amount of work involving modifications to the database. That is why you\n-should think about this setting carefully.\n+*Note:* This value will be written to all generated media packages and thus cannot be changed easily for already\n+processed media. Please think about this setting carefully.\n \n \n-Step 2: Setting the Login Details\n----------------------------------\n+Step 2: Setting Authentication Details\n+--------------------------------------\n \n-There are two authentication methods for Opencast: HTTP Digest authentication and form-based authentication. Both\n-methods need a username and a password. Change the password for both! The important keys in the 'custom.properties'\n-configuration file are:\n+Configure authentication and security details of Opencast, including the login credentials.\n+For this, the important keys in the `etc/custom.properties` configuration file are:\n \n * `org.opencastproject.security.admin.user`\n     * The user for the administrative account. This is set to `admin` by default.\n * `org.opencastproject.security.admin.pass`\n     * The password for the administrative account. This is set to `opencast` by default.\n * `org.opencastproject.security.digest.user`\n-    * The user for the communication between Opencast nodes, as well as for capture agents. This is set to\n-    `opencast_system_account` by default.\n+    * The user for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `opencast_system_account` by default.\n * `org.opencastproject.security.digest.pass`\n-    * The password for the communication between Opencast nodes and capture agents. This is set to `CHANGE_ME` by default.\n+    * The password for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `CHANGE_ME` by default.\n+* `karaf.shutdown.command`\n+    * The security token used for shutting down Opencast. Set this to a random string.\n \n-*Note:* The digest credentials are also used for internal communication of Opencast servers. So these keys have to be\n-set to the same value on each of your Opencast nodes (Core, Worker, Capture Agent, \u2026)\n+Make sure that these settings are identical on all nodes of the cluster.\n \n \n-Step 3: Change the default shutdown command\n--------------------------------------------\n+Step 3: Setting up Apache ActiveMQ Message Broker\n+-------------------------------------------------\n \n-Karaf provides a socket over which you can send a shutdown command. The socket does not provide any kind of\n-authentication. Therefore anyone who obtains write access to this socket is able to shutdown karaf and everything\n-that runs on it. There is a default `karaf.shutdown.command` defined in `custom.properties`. Change this to something\n-secret.\n+Opencast requires Apache ActiveMQ to relay messages between micro-services.\n+For configuration details, please follow the:\n \n+- [Apache ActiveMQ configuration guide](message-broker.md)\n \n-Step 4: Setting up Apache ActiveMQ Message Broker\n--------------------------------------------------\n-<!-- _This is a very nonchalant and subdued description for how important this config probably is -->\n-Since version 2.0, Opencast requires a running Apache ActiveMQ instance with a specific configuration.  The message\n-broker is mostly run on the admin server of Opencast but can be run separately. It needs to be started before Opencast.\n-For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n \n-\n-Step 5: Database Configuration\n+Step 4: Database Configuration\n ------------------------------\n \n-Opencast uses an integrated H2 database by default. While you will find it perfectly functional, it has certain\n-drawbacks:\n+Opencast uses an integrated H2 database by default, which has certain drawbacks:\n \n-* It is rather slow\n * It cannot be used for distributed set-ups\n * Upgrading Opencast with this database is not possible\n \n-For testing, it is totally fine to keep the internal database, but you are highly encouraged to switch to a stand-alone\n-database for productional use. For more information about database configuration, have a look at the [Database\n-Configuration](database.md) section.\n+For testing, it is fine to keep the internal database, but configure a stand-alone database for production.\n+Details about the configuration can be found at:\n+\n+- [Database Configuration](database.md)\n+\n \n-Step 6: Elasticsearch Configuration\n+Step 5: Elasticsearch Configuration\n -----------------------------------\n \n-Opencast requires Elasticsearch.\n-For more details about the setup, have a look at the [Elasticsearch configuration\n-guide](../modules/searchindex/elasticsearch.md).\n+Opencast requires Elasticsearch for quick full-text search and data caching.\n+For more details about the setup, have a look at the:\n \n-Step 7: HTTPS Configuration\n+- [Elasticsearch configuration guide](../modules/searchindex/elasticsearch.md).\n+\n+\n+Step 6: HTTPS Configuration", "originalCommit": "7d4c70eb17af7bf840837c2270c79bd2e2315d21", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjk4MTE2Nw==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r526981167", "bodyText": "Let's name it \u201cReverse Proxy Configuration\u201d. That includes both :D\n\u2026isn't such a great idea after all. Let me think about that.", "author": "lkiesow", "createdAt": "2020-11-19T15:34:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDA4Nw=="}], "type": "inlineReview"}, {"oid": "0da317e0e2be02ff3ef38e05126d884de05a23bf", "url": "https://github.com/opencast/opencast/commit/0da317e0e2be02ff3ef38e05126d884de05a23bf", "message": "Update Basic Configuration\n\nThis patch addresses some issues with the basic configuration guide being\nunclear or giving several options without any advice when to use these.", "committedDate": "2020-11-19T15:47:58Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3MTY1NQ==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527671655", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            There are alternatives for some of these settings but this is the recommended setup.\n          \n          \n            \n            While there are alternatives for some of these settings, this is the recommended setup.\n          \n      \n    \n    \n  \n\nAdditionally, if there are going to be other guides for those who want to configure alternatives, that could be mentioned/linked here, a la For those looking for guides on alternative setups, see *link*", "author": "peculiarPrince", "createdAt": "2020-11-20T12:53:18Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -1,108 +1,114 @@\n Basic Configuration\n ===================\n \n-<!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n-as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to adjust the basic configuration settings strongly recommended for each Opencast installation.\n+This is what you should do right after installing Opencast.\n+There are alternatives for some of these settings but this is the recommended setup.", "originalCommit": "0da317e0e2be02ff3ef38e05126d884de05a23bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxMTA2Mg==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r529011062", "bodyText": "Additionally, if there are going to be other guides for those who want to configure alternatives\n\nThere aren't any complete guides. That information is listed on the specific modules' documentation pages and people will need to look up what they need there.", "author": "lkiesow", "createdAt": "2020-11-23T21:34:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3MTY1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3MjE2NQ==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527672165", "bodyText": "I'm unsure if This guide refers to this, the Basic Config doc, or to the OC Documentation as a whole, or ... both?", "author": "peculiarPrince", "createdAt": "2020-11-20T12:54:23Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -1,108 +1,114 @@\n Basic Configuration\n ===================\n \n-<!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n-as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to adjust the basic configuration settings strongly recommended for each Opencast installation.", "originalCommit": "0da317e0e2be02ff3ef38e05126d884de05a23bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzg0MjM0Mg==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527842342", "bodyText": "I would read this guide as referring to this specific page, rather than the OC docs as a whole.  Perhaps This page instead of This guide would clarify?", "author": "gregorydlogan", "createdAt": "2020-11-20T17:20:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3MjE2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkyNjQ1NQ==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527926455", "bodyText": "As far as I can tell, the docs use This guide, This page, and This document pretty interchangeably. So I suppose it can stay as is.", "author": "peculiarPrince", "createdAt": "2020-11-20T19:30:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3MjE2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxMzQxOQ==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r529013419", "bodyText": "Just explicitly named this page:\ndiff --git a/docs/guides/admin/docs/configuration/basic.md b/docs/guides/admin/docs/configuration/basic.md\nindex aa5fcf8dcf..d7821eecaf 100644\n--- a/docs/guides/admin/docs/configuration/basic.md\n+++ b/docs/guides/admin/docs/configuration/basic.md\n@@ -1,7 +1,7 @@\n Basic Configuration\n ===================\n \n-This guide will help you to adjust the basic configuration settings strongly recommended for each Opencast installation.\n+The basic configuration guide will help you to adjust the settings strongly recommended for each Opencast installation.\n This is what you should do right after installing Opencast.\n There are alternatives for some of these settings but this is the recommended setup.", "author": "lkiesow", "createdAt": "2020-11-23T21:39:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3MjE2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3OTAxNA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527679014", "bodyText": "For testing, it is fine to keep the internal database -> For testing, the internal database will suffice,\nbut configure a stand-alone database for production. -> but for production, a stand-alone database must/should be configured.", "author": "peculiarPrince", "createdAt": "2020-11-20T13:07:52Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -1,108 +1,114 @@\n Basic Configuration\n ===================\n \n-<!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n-as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to adjust the basic configuration settings strongly recommended for each Opencast installation.\n+This is what you should do right after installing Opencast.\n+There are alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+Find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.\n+The value must be set to the URL from which the server can be accessed later.\n \n-    org.opencastproject.server.url=http://example.com:8080\n+    org.opencastproject.server.url=https://example.opencast.org\n \n-*Note:* This value will be written to all generated mediapackages and thus cannot be changed easily for already\n-processed media, at least not without an extra amount of work involving modifications to the database. That is why you\n-should think about this setting carefully.\n+*Note:* This value will be written to all generated media packages and thus cannot be changed easily for already\n+processed media. Please think about this setting carefully.\n \n \n-Step 2: Setting the Login Details\n----------------------------------\n+Step 2: Setting Authentication Details\n+--------------------------------------\n \n-There are two authentication methods for Opencast: HTTP Digest authentication and form-based authentication. Both\n-methods need a username and a password. Change the password for both! The important keys in the 'custom.properties'\n-configuration file are:\n+Configure authentication and security details of Opencast, including the login credentials.\n+For this, the important keys in the `etc/custom.properties` configuration file are:\n \n * `org.opencastproject.security.admin.user`\n     * The user for the administrative account. This is set to `admin` by default.\n * `org.opencastproject.security.admin.pass`\n     * The password for the administrative account. This is set to `opencast` by default.\n * `org.opencastproject.security.digest.user`\n-    * The user for the communication between Opencast nodes, as well as for capture agents. This is set to\n-    `opencast_system_account` by default.\n+    * The user for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `opencast_system_account` by default.\n * `org.opencastproject.security.digest.pass`\n-    * The password for the communication between Opencast nodes and capture agents. This is set to `CHANGE_ME` by default.\n-\n-*Note:* The digest credentials are also used for internal communication of Opencast servers. So these keys have to be\n-set to the same value on each of your Opencast nodes (Core, Worker, Capture Agent, \u2026)\n+    * The password for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `CHANGE_ME` by default.\n+* `karaf.shutdown.command`\n+    * The security token used for shutting down Opencast. Set this to a random string.\n \n+Make sure that these settings are identical on all nodes of the cluster.\n \n-Step 3: Change the default shutdown command\n--------------------------------------------\n \n-Karaf provides a socket over which you can send a shutdown command. The socket does not provide any kind of\n-authentication. Therefore anyone who obtains write access to this socket is able to shutdown karaf and everything\n-that runs on it. There is a default `karaf.shutdown.command` defined in `custom.properties`. Change this to something\n-secret.\n+Step 3: Setting up Apache ActiveMQ Message Broker\n+-------------------------------------------------\n \n+Opencast requires Apache ActiveMQ to relay messages between micro-services.\n+For configuration details, please follow the:\n \n-Step 4: Setting up Apache ActiveMQ Message Broker\n--------------------------------------------------\n-<!-- _This is a very nonchalant and subdued description for how important this config probably is -->\n-Since version 2.0, Opencast requires a running Apache ActiveMQ instance with a specific configuration.  The message\n-broker is mostly run on the admin server of Opencast but can be run separately. It needs to be started before Opencast.\n-For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n+- [Apache ActiveMQ configuration guide](message-broker.md)\n \n \n-Step 5: Database Configuration\n+Step 4: Database Configuration\n ------------------------------\n \n-Opencast uses an integrated H2 database by default. While you will find it perfectly functional, it has certain\n-drawbacks:\n+Opencast uses an integrated H2 database by default, which has certain drawbacks:\n \n-* It is rather slow\n * It cannot be used for distributed set-ups\n * Upgrading Opencast with this database is not possible\n \n-For testing, it is totally fine to keep the internal database, but you are highly encouraged to switch to a stand-alone\n-database for productional use. For more information about database configuration, have a look at the [Database\n-Configuration](database.md) section.\n+For testing, it is fine to keep the internal database, but configure a stand-alone database for production.", "originalCommit": "0da317e0e2be02ff3ef38e05126d884de05a23bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzg0NDczOA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527844738", "bodyText": "Hah, so I thought about commenting on this, but decided against since it's not technically wrong.  I would rewrite this as\nThe internal database will suffice for testing, however for production uses a stand-alone database is required\nOptionally we could include a list of databases, but I would expect anyone reading this to know what their options and preferences are.", "author": "gregorydlogan", "createdAt": "2020-11-20T17:22:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3OTAxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkyMzE0Mw==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527923143", "bodyText": "You're right, it's not technically wrong x) but the OG syntax muddles the message a bit, hence the comment.\nHow about\nThe internal database will suffice for testing, however a stand-alone database is required for production uses.\n?", "author": "peculiarPrince", "createdAt": "2020-11-20T19:23:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3OTAxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzkyNTE1MQ==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527925151", "bodyText": "That's a cleaner way of saying it, +1", "author": "gregorydlogan", "createdAt": "2020-11-20T19:27:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3OTAxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxNTg0Nw==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r529015847", "bodyText": "Went with\n\nThe internal database will suffice for testing, however a stand-alone database is required for production uses.", "author": "lkiesow", "createdAt": "2020-11-23T21:44:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY3OTAxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY4MjM0OA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527682348", "bodyText": "Hm... this actually links to a single page \"Serve Content Via HTTPS\" which then links to the three options of configuration\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - [configuration guides for HTTPS](https/index.md).\n          \n          \n            \n            - [HTTPS configuration guides listed here](https/index.md).", "author": "peculiarPrince", "createdAt": "2020-11-20T13:14:38Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -1,108 +1,114 @@\n Basic Configuration\n ===================\n \n-<!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n-as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to adjust the basic configuration settings strongly recommended for each Opencast installation.\n+This is what you should do right after installing Opencast.\n+There are alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+Find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.\n+The value must be set to the URL from which the server can be accessed later.\n \n-    org.opencastproject.server.url=http://example.com:8080\n+    org.opencastproject.server.url=https://example.opencast.org\n \n-*Note:* This value will be written to all generated mediapackages and thus cannot be changed easily for already\n-processed media, at least not without an extra amount of work involving modifications to the database. That is why you\n-should think about this setting carefully.\n+*Note:* This value will be written to all generated media packages and thus cannot be changed easily for already\n+processed media. Please think about this setting carefully.\n \n \n-Step 2: Setting the Login Details\n----------------------------------\n+Step 2: Setting Authentication Details\n+--------------------------------------\n \n-There are two authentication methods for Opencast: HTTP Digest authentication and form-based authentication. Both\n-methods need a username and a password. Change the password for both! The important keys in the 'custom.properties'\n-configuration file are:\n+Configure authentication and security details of Opencast, including the login credentials.\n+For this, the important keys in the `etc/custom.properties` configuration file are:\n \n * `org.opencastproject.security.admin.user`\n     * The user for the administrative account. This is set to `admin` by default.\n * `org.opencastproject.security.admin.pass`\n     * The password for the administrative account. This is set to `opencast` by default.\n * `org.opencastproject.security.digest.user`\n-    * The user for the communication between Opencast nodes, as well as for capture agents. This is set to\n-    `opencast_system_account` by default.\n+    * The user for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `opencast_system_account` by default.\n * `org.opencastproject.security.digest.pass`\n-    * The password for the communication between Opencast nodes and capture agents. This is set to `CHANGE_ME` by default.\n-\n-*Note:* The digest credentials are also used for internal communication of Opencast servers. So these keys have to be\n-set to the same value on each of your Opencast nodes (Core, Worker, Capture Agent, \u2026)\n+    * The password for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `CHANGE_ME` by default.\n+* `karaf.shutdown.command`\n+    * The security token used for shutting down Opencast. Set this to a random string.\n \n+Make sure that these settings are identical on all nodes of the cluster.\n \n-Step 3: Change the default shutdown command\n--------------------------------------------\n \n-Karaf provides a socket over which you can send a shutdown command. The socket does not provide any kind of\n-authentication. Therefore anyone who obtains write access to this socket is able to shutdown karaf and everything\n-that runs on it. There is a default `karaf.shutdown.command` defined in `custom.properties`. Change this to something\n-secret.\n+Step 3: Setting up Apache ActiveMQ Message Broker\n+-------------------------------------------------\n \n+Opencast requires Apache ActiveMQ to relay messages between micro-services.\n+For configuration details, please follow the:\n \n-Step 4: Setting up Apache ActiveMQ Message Broker\n--------------------------------------------------\n-<!-- _This is a very nonchalant and subdued description for how important this config probably is -->\n-Since version 2.0, Opencast requires a running Apache ActiveMQ instance with a specific configuration.  The message\n-broker is mostly run on the admin server of Opencast but can be run separately. It needs to be started before Opencast.\n-For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n+- [Apache ActiveMQ configuration guide](message-broker.md)\n \n \n-Step 5: Database Configuration\n+Step 4: Database Configuration\n ------------------------------\n \n-Opencast uses an integrated H2 database by default. While you will find it perfectly functional, it has certain\n-drawbacks:\n+Opencast uses an integrated H2 database by default, which has certain drawbacks:\n \n-* It is rather slow\n * It cannot be used for distributed set-ups\n * Upgrading Opencast with this database is not possible\n \n-For testing, it is totally fine to keep the internal database, but you are highly encouraged to switch to a stand-alone\n-database for productional use. For more information about database configuration, have a look at the [Database\n-Configuration](database.md) section.\n+For testing, it is fine to keep the internal database, but configure a stand-alone database for production.\n+Details about the configuration can be found at:\n \n-Step 6: Elasticsearch Configuration\n+- [Database Configuration](database.md)\n+\n+\n+Step 5: Elasticsearch Configuration\n -----------------------------------\n \n-Opencast requires Elasticsearch.\n-For more details about the setup, have a look at the [Elasticsearch configuration\n-guide](../modules/searchindex/elasticsearch.md).\n+Opencast requires Elasticsearch for quick full-text search and data caching.\n+For more details about the setup, have a look at the:\n+\n+- [Elasticsearch configuration guide](../modules/searchindex/elasticsearch.md).\n+\n \n-Step 7: HTTPS Configuration\n+Step 6: HTTPS Configuration\n ---------------------------\n-<!-- _Every other instance of linking to another doc so far has been a \"do now, but in another doc\", \n-whereas here it is very much \"not necessary for right now\": what to do? -->\n-An installation without HTTPS does not make much sense today.\n-Thus, make sure to follow [a configuration guide for HTTPS](https/index.md).\n \n-Step 8: Setting the Storage Directory (optional)\n+Opencast requires configuration to:\n+\n+- Make Opencast available externally\n+- Secure connections from/to Opencast\n+\n+For this, follow one of the\n+\n+- [configuration guides for HTTPS](https/index.md).", "originalCommit": "0da317e0e2be02ff3ef38e05126d884de05a23bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAxOTg4NA==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r529019884", "bodyText": "I like to keep this as it is", "author": "lkiesow", "createdAt": "2020-11-23T21:52:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY4MjM0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY4Mzg2OQ==", "url": "https://github.com/opencast/opencast/pull/2066#discussion_r527683869", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Opencast requires configuration to:\n          \n          \n            \n            This configuration is required in order to:", "author": "peculiarPrince", "createdAt": "2020-11-20T13:17:38Z", "path": "docs/guides/admin/docs/configuration/basic.md", "diffHunk": "@@ -1,108 +1,114 @@\n Basic Configuration\n ===================\n \n-<!-- _Guide says nothing about how to start running OC, nor does it point to the \"Next Step\"\n-as the Installation Docs do (i.e. Install doc refers to Config doc) -->\n-This guide will help you to change the basic configuration settings which are required or at least strongly recommended\n-for each Opencast installation. This is basically what you should do, right after installing Opencast on your machine.\n+This guide will help you to adjust the basic configuration settings strongly recommended for each Opencast installation.\n+This is what you should do right after installing Opencast.\n+There are alternatives for some of these settings but this is the recommended setup.\n \n-<!-- _\"In most cases, ...\" Unclear: the cases being the different Operating Systems? -->\n-All settings changes are made to files residing in the Opencast configuration directory. In most cases, that should be either\n-`/etc/opencast/` or `/opt/opencast/etc/`. Edit the files using the editor of your choice, e.g.:\n-\n-    vim /etc/opencast/custom.properties\n+All settings changes are made to files residing in the Opencast configuration directory.\n+The location of the configuration directory depends on how you installed Opencast.\n+If you used the Linux packages, the location is `/etc/opencast`.\n \n \n Step 1: Setting the Server URL\n ------------------------------\n \n-By default, only connections from the local machine are accepted by Opencast.  You want to change this if the system\n-should be accessible within a network.\n-\n-First, find the property `org.opencastproject.server.url` in your `custom.properties` configuration file and set it to\n-your own domain name:\n+Find the property `org.opencastproject.server.url` in `etc/custom.properties` and set your domain name.\n+The value must be set to the URL from which the server can be accessed later.\n \n-    org.opencastproject.server.url=http://example.com:8080\n+    org.opencastproject.server.url=https://example.opencast.org\n \n-*Note:* This value will be written to all generated mediapackages and thus cannot be changed easily for already\n-processed media, at least not without an extra amount of work involving modifications to the database. That is why you\n-should think about this setting carefully.\n+*Note:* This value will be written to all generated media packages and thus cannot be changed easily for already\n+processed media. Please think about this setting carefully.\n \n \n-Step 2: Setting the Login Details\n----------------------------------\n+Step 2: Setting Authentication Details\n+--------------------------------------\n \n-There are two authentication methods for Opencast: HTTP Digest authentication and form-based authentication. Both\n-methods need a username and a password. Change the password for both! The important keys in the 'custom.properties'\n-configuration file are:\n+Configure authentication and security details of Opencast, including the login credentials.\n+For this, the important keys in the `etc/custom.properties` configuration file are:\n \n * `org.opencastproject.security.admin.user`\n     * The user for the administrative account. This is set to `admin` by default.\n * `org.opencastproject.security.admin.pass`\n     * The password for the administrative account. This is set to `opencast` by default.\n * `org.opencastproject.security.digest.user`\n-    * The user for the communication between Opencast nodes, as well as for capture agents. This is set to\n-    `opencast_system_account` by default.\n+    * The user for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `opencast_system_account` by default.\n * `org.opencastproject.security.digest.pass`\n-    * The password for the communication between Opencast nodes and capture agents. This is set to `CHANGE_ME` by default.\n-\n-*Note:* The digest credentials are also used for internal communication of Opencast servers. So these keys have to be\n-set to the same value on each of your Opencast nodes (Core, Worker, Capture Agent, \u2026)\n+    * The password for the communication between Opencast nodes. It is sometimes also used by capture agents.\n+      This is set to `CHANGE_ME` by default.\n+* `karaf.shutdown.command`\n+    * The security token used for shutting down Opencast. Set this to a random string.\n \n+Make sure that these settings are identical on all nodes of the cluster.\n \n-Step 3: Change the default shutdown command\n--------------------------------------------\n \n-Karaf provides a socket over which you can send a shutdown command. The socket does not provide any kind of\n-authentication. Therefore anyone who obtains write access to this socket is able to shutdown karaf and everything\n-that runs on it. There is a default `karaf.shutdown.command` defined in `custom.properties`. Change this to something\n-secret.\n+Step 3: Setting up Apache ActiveMQ Message Broker\n+-------------------------------------------------\n \n+Opencast requires Apache ActiveMQ to relay messages between micro-services.\n+For configuration details, please follow the:\n \n-Step 4: Setting up Apache ActiveMQ Message Broker\n--------------------------------------------------\n-<!-- _This is a very nonchalant and subdued description for how important this config probably is -->\n-Since version 2.0, Opencast requires a running Apache ActiveMQ instance with a specific configuration.  The message\n-broker is mostly run on the admin server of Opencast but can be run separately. It needs to be started before Opencast.\n-For more details about the setup, have a look at the [Apache ActiveMQ configuration guide](message-broker.md).\n+- [Apache ActiveMQ configuration guide](message-broker.md)\n \n \n-Step 5: Database Configuration\n+Step 4: Database Configuration\n ------------------------------\n \n-Opencast uses an integrated H2 database by default. While you will find it perfectly functional, it has certain\n-drawbacks:\n+Opencast uses an integrated H2 database by default, which has certain drawbacks:\n \n-* It is rather slow\n * It cannot be used for distributed set-ups\n * Upgrading Opencast with this database is not possible\n \n-For testing, it is totally fine to keep the internal database, but you are highly encouraged to switch to a stand-alone\n-database for productional use. For more information about database configuration, have a look at the [Database\n-Configuration](database.md) section.\n+For testing, it is fine to keep the internal database, but configure a stand-alone database for production.\n+Details about the configuration can be found at:\n \n-Step 6: Elasticsearch Configuration\n+- [Database Configuration](database.md)\n+\n+\n+Step 5: Elasticsearch Configuration\n -----------------------------------\n \n-Opencast requires Elasticsearch.\n-For more details about the setup, have a look at the [Elasticsearch configuration\n-guide](../modules/searchindex/elasticsearch.md).\n+Opencast requires Elasticsearch for quick full-text search and data caching.\n+For more details about the setup, have a look at the:\n+\n+- [Elasticsearch configuration guide](../modules/searchindex/elasticsearch.md).\n+\n \n-Step 7: HTTPS Configuration\n+Step 6: HTTPS Configuration\n ---------------------------\n-<!-- _Every other instance of linking to another doc so far has been a \"do now, but in another doc\", \n-whereas here it is very much \"not necessary for right now\": what to do? -->\n-An installation without HTTPS does not make much sense today.\n-Thus, make sure to follow [a configuration guide for HTTPS](https/index.md).\n \n-Step 8: Setting the Storage Directory (optional)\n+Opencast requires configuration to:", "originalCommit": "0da317e0e2be02ff3ef38e05126d884de05a23bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f1497d48eae4c00afb2d94811089806cc5738338", "url": "https://github.com/opencast/opencast/commit/f1497d48eae4c00afb2d94811089806cc5738338", "message": "Update Basic Configuration\n\nThis patch addresses some issues with the basic configuration guide being\nunclear or giving several options without any advice when to use these.", "committedDate": "2020-11-23T21:47:06Z", "type": "commit"}, {"oid": "f1497d48eae4c00afb2d94811089806cc5738338", "url": "https://github.com/opencast/opencast/commit/f1497d48eae4c00afb2d94811089806cc5738338", "message": "Update Basic Configuration\n\nThis patch addresses some issues with the basic configuration guide being\nunclear or giving several options without any advice when to use these.", "committedDate": "2020-11-23T21:47:06Z", "type": "forcePushed"}]}