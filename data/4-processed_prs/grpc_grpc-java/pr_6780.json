{"pr_number": 6780, "pr_title": "all: let interop test use shaded dependency correctly", "pr_createdAt": "2020-02-27T22:11:24Z", "pr_url": "https://github.com/grpc/grpc-java/pull/6780", "timeline": [{"oid": "bf5b686f4498ead9cf19cf64dca9563fbc29fda8", "url": "https://github.com/grpc/grpc-java/commit/bf5b686f4498ead9cf19cf64dca9563fbc29fda8", "message": "all: let interop test use shaded dependency correctly", "committedDate": "2020-02-27T22:09:57Z", "type": "commit"}, {"oid": "68e90ecfa9fc295115d07f9b92394285d8c2b932", "url": "https://github.com/grpc/grpc-java/commit/68e90ecfa9fc295115d07f9b92394285d8c2b932", "message": "fix style", "committedDate": "2020-02-27T22:18:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQxNjI5MQ==", "url": "https://github.com/grpc/grpc-java/pull/6780#discussion_r385416291", "bodyText": "I figured out why this is here: it is necessary for the pom to include a dependency on grpc-core.", "author": "ejona86", "createdAt": "2020-02-27T22:48:29Z", "path": "netty/shaded/build.gradle", "diffHunk": "@@ -18,7 +18,6 @@ dependencies {\n             project(':grpc-testing-proto'),\n             project(':grpc-testing'),\n             libraries.truth\n-    shadow project(':grpc-core')", "originalCommit": "68e90ecfa9fc295115d07f9b92394285d8c2b932", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQzODUzNQ==", "url": "https://github.com/grpc/grpc-java/pull/6780#discussion_r385438535", "bodyText": "I see. Changed back.", "author": "dapengzhang0", "createdAt": "2020-02-27T23:56:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQxNjI5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQxNzI3OQ==", "url": "https://github.com/grpc/grpc-java/pull/6780#discussion_r385417279", "bodyText": "This comment sort of just reexplains what a compileOnly dependency is. Instead how about:\n      // At runtime use the epoll included in grpc-netty-shaded", "author": "ejona86", "createdAt": "2020-02-27T22:51:15Z", "path": "xds/build.gradle", "diffHunk": "@@ -39,11 +38,16 @@ dependencies {\n \n     testCompile project(':grpc-core').sourceSets.test.output\n \n-    compileOnly libraries.javax_annotation\n+    compileOnly libraries.javax_annotation,\n+            // The unshaded netty_epoll should not be a transitive dependency.", "originalCommit": "68e90ecfa9fc295115d07f9b92394285d8c2b932", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQzODQ5Nw==", "url": "https://github.com/grpc/grpc-java/pull/6780#discussion_r385438497", "bodyText": "Done.", "author": "dapengzhang0", "createdAt": "2020-02-27T23:56:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTQxNzI3OQ=="}], "type": "inlineReview"}, {"oid": "8cd76c1360633b974f260eb28e39a32a785be794", "url": "https://github.com/grpc/grpc-java/commit/8cd76c1360633b974f260eb28e39a32a785be794", "message": "add shadow project(':grpc-core') back", "committedDate": "2020-02-27T23:54:25Z", "type": "commit"}, {"oid": "bad40e246c4498a4ec9930eb5ac1f623d1ac387a", "url": "https://github.com/grpc/grpc-java/commit/bad40e246c4498a4ec9930eb5ac1f623d1ac387a", "message": "improve comment", "committedDate": "2020-02-27T23:56:13Z", "type": "commit"}, {"oid": "9cd70e4c499094188df378535d65cb15d7a015d6", "url": "https://github.com/grpc/grpc-java/commit/9cd70e4c499094188df378535d65cb15d7a015d6", "message": "fix gae-interop-testing", "committedDate": "2020-02-28T00:07:05Z", "type": "commit"}]}