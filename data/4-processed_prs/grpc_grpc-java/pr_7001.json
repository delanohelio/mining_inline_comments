{"pr_number": 7001, "pr_title": "all: migrate gradle build to java-library plugin", "pr_createdAt": "2020-05-04T18:11:04Z", "pr_url": "https://github.com/grpc/grpc-java/pull/7001", "timeline": [{"oid": "3b866a09b4b6eeee3d633ccdd941722259ea4833", "url": "https://github.com/grpc/grpc-java/commit/3b866a09b4b6eeee3d633ccdd941722259ea4833", "message": "context: migrate away deprecated gradle configurations", "committedDate": "2020-05-02T06:10:15Z", "type": "commit"}, {"oid": "fba7883054911f90250e8787980ea7e365a4a56d", "url": "https://github.com/grpc/grpc-java/commit/fba7883054911f90250e8787980ea7e365a4a56d", "message": "all: use java-library gradle plugin for grpc-api", "committedDate": "2020-05-04T07:53:29Z", "type": "commit"}, {"oid": "6bf2907d89ad202fb3019f0953c0c6c3deb56ec6", "url": "https://github.com/grpc/grpc-java/commit/6bf2907d89ad202fb3019f0953c0c6c3deb56ec6", "message": "core,netty,okhttp: use java-library plugin for grpc-core", "committedDate": "2020-05-04T07:53:35Z", "type": "commit"}, {"oid": "deefce41a8cac1118fa77c85fad655ad04e2bfc5", "url": "https://github.com/grpc/grpc-java/commit/deefce41a8cac1118fa77c85fad655ad04e2bfc5", "message": "stub: use java-library gradle plugin", "committedDate": "2020-05-04T07:53:35Z", "type": "commit"}, {"oid": "1133620874bb4069e91445c303e1484739b6bbad", "url": "https://github.com/grpc/grpc-java/commit/1133620874bb4069e91445c303e1484739b6bbad", "message": "compiler: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T07:53:35Z", "type": "commit"}, {"oid": "da0ac38ecd47907f6387ed2f184e9222a9678fa8", "url": "https://github.com/grpc/grpc-java/commit/da0ac38ecd47907f6387ed2f184e9222a9678fa8", "message": "protobuf, protobuf-lite: use java-library gradle plugin", "committedDate": "2020-05-04T07:53:35Z", "type": "commit"}, {"oid": "fb26a0a27ba709617a4370a6b545fb170420c643", "url": "https://github.com/grpc/grpc-java/commit/fb26a0a27ba709617a4370a6b545fb170420c643", "message": "auth: use java-library gradle plugin", "committedDate": "2020-05-04T07:53:35Z", "type": "commit"}, {"oid": "0a3181085484f223630d5b5a754f4cce3f5defa1", "url": "https://github.com/grpc/grpc-java/commit/0a3181085484f223630d5b5a754f4cce3f5defa1", "message": "benchmarks: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T07:53:35Z", "type": "commit"}, {"oid": "37926772373bb23ca91ca59848e67fb2bab76f16", "url": "https://github.com/grpc/grpc-java/commit/37926772373bb23ca91ca59848e67fb2bab76f16", "message": "all: use java-library gradle plugin for grpc-census", "committedDate": "2020-05-04T16:38:00Z", "type": "commit"}, {"oid": "c0742cb84ded6bbb53f507831b9166cd8ed2fd6f", "url": "https://github.com/grpc/grpc-java/commit/c0742cb84ded6bbb53f507831b9166cd8ed2fd6f", "message": "grpclb: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T16:55:13Z", "type": "commit"}, {"oid": "636bec290c3f6a11d22c039a14ba24e22c171292", "url": "https://github.com/grpc/grpc-java/commit/636bec290c3f6a11d22c039a14ba24e22c171292", "message": "netty: use java-library gradle plugin", "committedDate": "2020-05-04T17:01:59Z", "type": "commit"}, {"oid": "d62f22f7fd318da2ab126d45d03f2e64608d3074", "url": "https://github.com/grpc/grpc-java/commit/d62f22f7fd318da2ab126d45d03f2e64608d3074", "message": "okhttp: use java-library gradle plugin", "committedDate": "2020-05-04T17:06:09Z", "type": "commit"}, {"oid": "521399e1fed07f4722c5a68d06bbe26c49513a6e", "url": "https://github.com/grpc/grpc-java/commit/521399e1fed07f4722c5a68d06bbe26c49513a6e", "message": "rls: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T17:15:40Z", "type": "commit"}, {"oid": "acbff9ed4a31390670abc0a139e1952e7f5fffb0", "url": "https://github.com/grpc/grpc-java/commit/acbff9ed4a31390670abc0a139e1952e7f5fffb0", "message": "services: use java-library gradle plugin", "committedDate": "2020-05-04T17:29:46Z", "type": "commit"}, {"oid": "ef60e3b75a8c88326bfb7865e323bbeae682cd48", "url": "https://github.com/grpc/grpc-java/commit/ef60e3b75a8c88326bfb7865e323bbeae682cd48", "message": "xds: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T17:35:59Z", "type": "commit"}, {"oid": "a70e0b7471452fdddb13ba59f3c080d4d391fd08", "url": "https://github.com/grpc/grpc-java/commit/a70e0b7471452fdddb13ba59f3c080d4d391fd08", "message": "alts: use java-library gradle plugin", "committedDate": "2020-05-04T17:40:38Z", "type": "commit"}, {"oid": "74f0aa90c3aca8d6d4ad7b5a24ff7051948b6567", "url": "https://github.com/grpc/grpc-java/commit/74f0aa90c3aca8d6d4ad7b5a24ff7051948b6567", "message": "testing,testing-proto: use java-library gradle plugin", "committedDate": "2020-05-04T17:42:51Z", "type": "commit"}, {"oid": "7d1ae541d09cf407b9666b4abe66c3f518608fa1", "url": "https://github.com/grpc/grpc-java/commit/7d1ae541d09cf407b9666b4abe66c3f518608fa1", "message": "android,cronet: use api configuration with android library gradle plugin", "committedDate": "2020-05-04T17:46:43Z", "type": "commit"}, {"oid": "115825ea70dc316f4fcfd1b1836b08c4b7e2b753", "url": "https://github.com/grpc/grpc-java/commit/115825ea70dc316f4fcfd1b1836b08c4b7e2b753", "message": "grpc-all: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T19:00:00Z", "type": "forcePushed"}, {"oid": "1a988d3c9f07291b48ee743236394213b4c26727", "url": "https://github.com/grpc/grpc-java/commit/1a988d3c9f07291b48ee743236394213b4c26727", "message": "interop-testing,gae-interop-testing: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T19:04:41Z", "type": "commit"}, {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "url": "https://github.com/grpc/grpc-java/commit/582b48c2eed7d6d1c0ee418e2ec72668338386eb", "message": "grpc-all: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T19:04:43Z", "type": "commit"}, {"oid": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "url": "https://github.com/grpc/grpc-java/commit/582b48c2eed7d6d1c0ee418e2ec72668338386eb", "message": "grpc-all: migrate away deprecated gradle configurations", "committedDate": "2020-05-04T19:04:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyNDEzNQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419724135", "bodyText": "Why expose this one?", "author": "voidzcy", "createdAt": "2020-05-04T20:58:27Z", "path": "protobuf/build.gradle", "diffHunk": "@@ -10,19 +10,20 @@ plugins {\n description = 'gRPC: Protobuf'\n \n dependencies {\n-    compile project(':grpc-api'),\n+    api project(':grpc-api'),\n+            libraries.jsr305,", "originalCommit": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419728906", "bodyText": "Would this be runtimeOnly?", "author": "voidzcy", "createdAt": "2020-05-04T21:07:03Z", "path": "android-interop-testing/build.gradle", "diffHunk": "@@ -65,6 +65,7 @@ dependencies {\n     implementation (libraries.google_auth_oauth2_http) {\n         exclude group: 'org.apache.httpcomponents'\n     }\n+    censusGrpcMetricDependency 'implementation'", "originalCommit": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MTM4NQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419741385", "bodyText": "No, io.opencensus.contrib.grpc.metrics.RpcMeasureConstants is used in src/main/java/io/grpc/testing/integration/AbstractInteropTest.java, which is in its sourceSets.", "author": "dapengzhang0", "createdAt": "2020-05-04T21:31:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzgwMw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419743803", "bodyText": "grpc-testing itself depends on census metrics already. android-interop-testing (including the included grpc-interop-testing sources) does not have any direct API interaction with with census right? So it should not have a direct dependency on it.", "author": "voidzcy", "createdAt": "2020-05-04T21:36:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1ODA3MQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419758071", "bodyText": "Update:\nIt needs it to build.  Without it the build would fail. grpc-testing itself depends on census_api already, but not census_metric dep. We need metrics in complieClasspath to compile the sourceSet.", "author": "dapengzhang0", "createdAt": "2020-05-04T22:07:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc2MjIyOA==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419762228", "bodyText": "I corrected and updated my reply.", "author": "dapengzhang0", "createdAt": "2020-05-04T22:18:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyODkwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyOTE5Mw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419729193", "bodyText": "Why expose this one?", "author": "voidzcy", "createdAt": "2020-05-04T21:07:33Z", "path": "api/build.gradle", "diffHunk": "@@ -11,13 +11,11 @@ description = 'gRPC: API'\n evaluationDependsOn(project(':grpc-context').path)\n \n dependencies {\n-    compile project(':grpc-context'),\n-            libraries.errorprone,\n-            libraries.jsr305,\n-            libraries.animalsniffer_annotations\n-    guavaDependency 'compile'\n+    api project(':grpc-context'),\n+            libraries.jsr305", "originalCommit": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczNjc2NA==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419736764", "bodyText": "It is part of public API signature.", "author": "dapengzhang0", "createdAt": "2020-05-04T21:22:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyOTE5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczODI4Mw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419738283", "bodyText": "I mean annotations like @javax.annotation.concurrent.ThreadSafe, @javax.annotation.Nullable are part of some public API signature.", "author": "dapengzhang0", "createdAt": "2020-05-04T21:25:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcyOTE5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419731653", "bodyText": "There is another cronet_api down below for implementation. It is controversial whether it should be api or implementation (IMO it doesn't matter much). I am ok with either. Similar situation applies for some other modules such as grpc-okhttp (for okhttp) and grpc-protobuf (for grpc-protobuf-lite).", "author": "voidzcy", "createdAt": "2020-05-04T21:12:31Z", "path": "cronet/build.gradle", "diffHunk": "@@ -33,7 +33,9 @@ android {\n }\n \n dependencies {\n-    implementation project(':grpc-core')\n+    api project(':grpc-core'),\n+            libraries.cronet_api", "originalCommit": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczNDkzOQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419734939", "bodyText": "Update: for grpc-okhttp probably not reason to expose okhttp as users do not interact with okhttp APIs directly.", "author": "voidzcy", "createdAt": "2020-05-04T21:18:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MjM2OQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419742369", "bodyText": "Oh, the implementation libraries.cronet_api should be removed because it's redundant now.", "author": "dapengzhang0", "createdAt": "2020-05-04T21:33:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NDE3OQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419744179", "bodyText": "For grpc-okhttp, it needs okhttp as api dep because it is part of public API OkHttpChannelBuilder.connectionSpec(com.squareup.okhttp.ConnectionSpec connectionSpec)\n\nUpdate: for grpc-okhttp probably not reason to expose okhttp as users do not interact with okhttp APIs directly.", "author": "dapengzhang0", "createdAt": "2020-05-04T21:37:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NDYxOA==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419744618", "bodyText": "Oh I see. Missed that.", "author": "voidzcy", "createdAt": "2020-05-04T21:38:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTczMTY1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419740582", "bodyText": "Why was this dep added?", "author": "ejona86", "createdAt": "2020-05-04T21:29:57Z", "path": "gae-interop-testing/gae-jdk8/build.gradle", "diffHunk": "@@ -44,16 +44,15 @@ apply plugin: 'com.google.cloud.tools.appengine'  // App Engine tasks\n \n dependencies {\n     providedCompile group: 'javax.servlet', name: 'servlet-api', version:'2.5'\n-    compile 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n-    // Deps needed by all gRPC apps in GAE\n-    compile libraries.google_api_protos\n-    compile project(\":grpc-okhttp\")\n-    compile project(\":grpc-protobuf\")\n-    compile project(\":grpc-stub\")\n-    compile (project(\":grpc-interop-testing\")) {\n-        exclude group: \"io.grpc\", module: \"grpc-netty-shaded\"\n+    runtimeOnly 'com.google.appengine:appengine-api-1.0-sdk:1.9.59'\n+    implementation project(':grpc-netty')\n+    implementation project(\":grpc-stub\")\n+    implementation (project(':grpc-interop-testing')) {\n+        exclude group: 'io.grpc', module: 'grpc-alts'\n     }\n-    compile libraries.netty_tcnative\n+    implementation libraries.protobuf\n+    implementation libraries.truth", "originalCommit": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0NzQ1Nw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419747457", "bodyText": "Trying to build without it:\n/Users/zdapeng/git/grpc-java/gae-interop-testing/gae-jdk8/src/main/java/io/grpc/testing/integration/NettyClientInteropServlet.java:137: error: cannot find symbol\n      assertTrue(builder instanceof NettyChannelBuilder);\n\n\nThe reason should be that truth was a dep of grpc-interop-testing which is now changed from compile to implementation. Only api/compile dep is transitive for compileClasspath across subproject. Implementation dep is transitive for runtimeClasspath.", "author": "dapengzhang0", "createdAt": "2020-05-04T21:44:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1MTU2OQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419751569", "bodyText": "assertTrue is a junit method. This should probably be implementation libraries.junit.", "author": "ejona86", "createdAt": "2020-05-04T21:53:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1NjA1MQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419756051", "bodyText": "You are right. My mistake. Done.", "author": "dapengzhang0", "createdAt": "2020-05-04T22:03:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MDU4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419743539", "bodyText": "The comment was this way so it would be obvious if it was out-of-date. It is very easy to upgrade a dependency, like google_api_protos, and fail to update to a newer version of the excluded dependency. So this comment was showing that we last verified when google_api_protos depended on protobuf 3.2.0.\nI don't think we want to blindly prefer our version of protobuf.", "author": "ejona86", "createdAt": "2020-05-04T21:35:52Z", "path": "protobuf/build.gradle", "diffHunk": "@@ -10,19 +10,20 @@ plugins {\n description = 'gRPC: Protobuf'\n \n dependencies {\n-    compile project(':grpc-api'),\n+    api project(':grpc-api'),\n+            libraries.jsr305,\n             libraries.protobuf\n-    guavaDependency 'compile'\n+    guavaDependency 'implementation'\n \n-    compile (libraries.google_api_protos) {\n+    api (libraries.google_api_protos) {\n         // 'com.google.api:api-common' transitively depends on auto-value, which breaks our\n         // annotations.\n         exclude group: 'com.google.api', module: 'api-common'\n-        // Prefer our more up-to-date protobuf over 3.2.0", "originalCommit": "582b48c2eed7d6d1c0ee418e2ec72668338386eb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1MjA0Nw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419752047", "bodyText": "Neither our version or that google_api_protos depends on is 3.2.0 now. What about\n// Prefer our more up-to-date version from from libraries.protobuf\n\n?", "author": "dapengzhang0", "createdAt": "2020-05-04T21:54:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc1Mzg5NA==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419753894", "bodyText": "I'd suggest leaving it as-is for this PR, since it is an unrelated change.\nBut if you'd like to fix it, then change the version to \"3.7.1\", which is the current version brought in (and since we are using 3.11.0, everything is still fine with the exclusion).", "author": "ejona86", "createdAt": "2020-05-04T21:58:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc2MTg2Nw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r419761867", "bodyText": "Leave it as-is now.", "author": "dapengzhang0", "createdAt": "2020-05-04T22:17:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTc0MzUzOQ=="}], "type": "inlineReview"}, {"oid": "50fee923113ebdab5fec52959cd350941db342aa", "url": "https://github.com/grpc/grpc-java/commit/50fee923113ebdab5fec52959cd350941db342aa", "message": "cronet: remove redundant dep", "committedDate": "2020-05-04T22:00:50Z", "type": "commit"}, {"oid": "694fe0d9d190309f80256305532ca2e52fea3e19", "url": "https://github.com/grpc/grpc-java/commit/694fe0d9d190309f80256305532ca2e52fea3e19", "message": "gae-interop-testing: use junit instead of truth", "committedDate": "2020-05-04T22:01:48Z", "type": "commit"}, {"oid": "a0c33c918847180f068a5e0b46e9263c49a1c14d", "url": "https://github.com/grpc/grpc-java/commit/a0c33c918847180f068a5e0b46e9263c49a1c14d", "message": "protobuf: leave comment 'Prefer our more up-to-date protobuf over 3.2.0' as is", "committedDate": "2020-05-04T22:10:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgzNTYyMA==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r421835620", "bodyText": "It seems we should use api here. @ejona86 what do you think?", "author": "dapengzhang0", "createdAt": "2020-05-07T22:42:12Z", "path": "all/build.gradle", "diffHunk": "@@ -31,7 +31,7 @@ for (subproject in rootProject.subprojects) {\n }\n \n dependencies {\n-    compile subprojects.minus(project(':grpc-protobuf-lite'))\n+    implementation subprojects.minus(project(':grpc-protobuf-lite'))", "originalCommit": "a0c33c918847180f068a5e0b46e9263c49a1c14d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTg0MTg3Mw==", "url": "https://github.com/grpc/grpc-java/pull/7001#discussion_r421841873", "bodyText": "It is probably better to use api to avoid breaking people. That said, I don't have too much sympathy for someone using grpc-all these days (vs early-on-pre-1.0 when it was used more heavily).", "author": "ejona86", "createdAt": "2020-05-07T23:00:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgzNTYyMA=="}], "type": "inlineReview"}]}