{"pr_number": 7174, "pr_title": "stub: Clarify ServerCallStreamObserver cancellation", "pr_createdAt": "2020-07-01T15:21:35Z", "pr_url": "https://github.com/grpc/grpc-java/pull/7174", "timeline": [{"oid": "f5550e7f158cb18b63c0c04f4116cecbd8149067", "url": "https://github.com/grpc/grpc-java/commit/f5550e7f158cb18b63c0c04f4116cecbd8149067", "message": "stub: Clarify ServerCallStreamObserver cancellation\n\nThis avoids the \"changes\" description, which could be understood to mean that\nthe transition is important instead of the steady-state and thus a callback\nmight not be called (which is not the case).\n\nMuch of the language was copied from ServerCall.", "committedDate": "2020-07-01T15:19:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQ4ODQ3Mw==", "url": "https://github.com/grpc/grpc-java/pull/7174#discussion_r448488473", "bodyText": "s/explicit cancel by client/explicit cancellation by client", "author": "dapengzhang0", "createdAt": "2020-07-01T16:42:30Z", "path": "stub/src/main/java/io/grpc/stub/ServerCallStreamObserver.java", "diffHunk": "@@ -32,19 +32,28 @@\n public abstract class ServerCallStreamObserver<V> extends CallStreamObserver<V> {\n \n   /**\n-   * If {@code true} indicates that the call has been cancelled by the remote peer.\n+   * Returns {@code true} when the call is cancelled and the server is encouraged to abort\n+   * processing to save resources, since the client will not be processing any further methods.\n+   * Cancellations can be caused by timeouts, explicit cancel by client, network errors, and", "originalCommit": "f5550e7f158cb18b63c0c04f4116cecbd8149067", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQ4ODU5MQ==", "url": "https://github.com/grpc/grpc-java/pull/7174#discussion_r448488591", "bodyText": "s/Set/Sets", "author": "dapengzhang0", "createdAt": "2020-07-01T16:42:42Z", "path": "stub/src/main/java/io/grpc/stub/ServerCallStreamObserver.java", "diffHunk": "@@ -32,19 +32,28 @@\n public abstract class ServerCallStreamObserver<V> extends CallStreamObserver<V> {\n \n   /**\n-   * If {@code true} indicates that the call has been cancelled by the remote peer.\n+   * Returns {@code true} when the call is cancelled and the server is encouraged to abort\n+   * processing to save resources, since the client will not be processing any further methods.\n+   * Cancellations can be caused by timeouts, explicit cancel by client, network errors, and\n+   * similar.\n    *\n    * <p>This method may safely be called concurrently from multiple threads.\n    */\n   public abstract boolean isCancelled();\n \n   /**\n-   * Set a {@link Runnable} that will be called if the calls {@link #isCancelled()} state\n-   * changes from {@code false} to {@code true}. It is guaranteed that execution of the\n-   * {@link Runnable} are serialized with calls to the 'inbound' {@link StreamObserver}.\n+   * Set a {@link Runnable} to be called if the call is cancelled and the server is encouraged to", "originalCommit": "f5550e7f158cb18b63c0c04f4116cecbd8149067", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "38d952e06c3bb5ff7dc17e759816328f4328161d", "url": "https://github.com/grpc/grpc-java/commit/38d952e06c3bb5ff7dc17e759816328f4328161d", "message": "Grammar fixes", "committedDate": "2020-07-01T17:50:12Z", "type": "commit"}]}