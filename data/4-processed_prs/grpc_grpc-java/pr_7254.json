{"pr_number": 7254, "pr_title": "xds testing: add path_matching and header_matching", "pr_createdAt": "2020-07-27T21:17:08Z", "pr_url": "https://github.com/grpc/grpc-java/pull/7254", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc5NDI2OA==", "url": "https://github.com/grpc/grpc-java/pull/7254#discussion_r461794268", "bodyText": "What's the difference between the two images?", "author": "dapengzhang0", "createdAt": "2020-07-28T18:42:47Z", "path": "buildscripts/kokoro/xds.sh", "diffHunk": "@@ -20,15 +20,24 @@ popd\n git clone -b \"${branch}\" --single-branch --depth=1 https://github.com/grpc/grpc.git\n \n grpc/tools/run_tests/helper_scripts/prep_xds.sh\n+\n+# Test cases \"path_matching\" and \"header_matching\" are not included in \"all\",\n+# because not all interop clients in all languages support these new tests.\n+#\n+# TODO: remove \"path_matching\" and \"header_matching\" from --test_case after\n+# they are added into \"all\".\n JAVA_OPTS=-Djava.util.logging.config.file=grpc-java/buildscripts/xds_logging.properties \\\n   python3 grpc/tools/run_tests/run_xds_tests.py \\\n-    --test_case=all \\\n+    --test_case=\"all,path_matching,header_matching\" \\\n     --project_id=grpc-testing \\\n-    --source_image=projects/grpc-testing/global/images/xds-test-server \\\n+    --source_image=projects/grpc-testing/global/images/xds-test-server-2 \\", "originalCommit": "e3ff09819815473ef4a7176f1412200b5f8f4914", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTgyNjUzOA==", "url": "https://github.com/grpc/grpc-java/pull/7254#discussion_r461826538", "bodyText": "-2's java server has changes from #7207, for the new RPCs.\nImages cannot be updated (can only delete and recreate). So had to create this new one.\nPlan is to update the old image when all tests use the new one. And switch it back when removing path_matching,header_matching from --test_case.", "author": "menghanl", "createdAt": "2020-07-28T19:38:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc5NDI2OA=="}], "type": "inlineReview"}, {"oid": "ada95fb8a063b027579313a151e36c0fd5008203", "url": "https://github.com/grpc/grpc-java/commit/ada95fb8a063b027579313a151e36c0fd5008203", "message": "xds testing: add path_matching and header_matching", "committedDate": "2020-07-28T20:44:32Z", "type": "commit"}, {"oid": "ada95fb8a063b027579313a151e36c0fd5008203", "url": "https://github.com/grpc/grpc-java/commit/ada95fb8a063b027579313a151e36c0fd5008203", "message": "xds testing: add path_matching and header_matching", "committedDate": "2020-07-28T20:44:32Z", "type": "forcePushed"}]}