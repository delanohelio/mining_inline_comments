{"pr_number": 6913, "pr_title": "Automate release process for example-hostname", "pr_createdAt": "2020-04-08T22:51:57Z", "pr_url": "https://github.com/grpc/grpc-java/pull/6913", "timeline": [{"oid": "df0c3e5313109c763a6ebbdc3ad4e073b549767a", "url": "https://github.com/grpc/grpc-java/commit/df0c3e5313109c763a6ebbdc3ad4e073b549767a", "message": "Automate release process for example-hostname", "committedDate": "2020-04-08T22:48:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MDQwNw==", "url": "https://github.com/grpc/grpc-java/pull/6913#discussion_r405860407", "bodyText": "This change is just to be consistent with linux_artifacts.cfg. Ditto for windows.cfg. The [] syntax is poor for these long strings.", "author": "ejona86", "createdAt": "2020-04-08T22:53:49Z", "path": "buildscripts/kokoro/macos.cfg", "diffHunk": "@@ -15,6 +15,6 @@ env_vars {\n # We always build mvn artifacts.\n action {\n   define_artifacts {\n-    regex: [\"**/mvn-artifacts/**\"]\n+    regex: \"github/grpc-java/mvn-artifacts/**\"", "originalCommit": "df0c3e5313109c763a6ebbdc3ad4e073b549767a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk4MTMzMw==", "url": "https://github.com/grpc/grpc-java/pull/6913#discussion_r423981333", "bodyText": "Why this is changed to only publish core publication?", "author": "voidzcy", "createdAt": "2020-05-12T19:30:35Z", "path": "buildscripts/kokoro/unix.sh", "diffHunk": "@@ -88,8 +88,16 @@ if [[ -z \"${ALL_ARTIFACTS:-}\" ]]; then\n   ./gradlew grpc-compiler:build grpc-compiler:publish $GRADLE_FLAGS \\\n     -Dorg.gradle.parallel=false -PrepositoryDir=$LOCAL_MVN_TEMP\n else\n-  ./gradlew publish $GRADLE_FLAGS \\\n+  ./gradlew publish :grpc-core:versionFile $GRADLE_FLAGS \\", "originalCommit": "df0c3e5313109c763a6ebbdc3ad4e073b549767a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwMTkzNg==", "url": "https://github.com/grpc/grpc-java/pull/6913#discussion_r424001936", "bodyText": "I added to it. publish is there to export to the local maven repository. versionFile is there because we copy it from the build/ directory. The point of having a task create the version file is to avoid yet another place we have to manually change the version when doing a release.", "author": "ejona86", "createdAt": "2020-05-12T20:07:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk4MTMzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAzMTg1MA==", "url": "https://github.com/grpc/grpc-java/pull/6913#discussion_r424031850", "bodyText": "I mean, previously it publishes all publications, but now it has been changed to only publish core?", "author": "voidzcy", "createdAt": "2020-05-12T21:02:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk4MTMzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA0NDUxMg==", "url": "https://github.com/grpc/grpc-java/pull/6913#discussion_r424044512", "bodyText": "My bad my bad. That was just running two tasks. Equivalent to\n./gradlew publish\n./gradlew :grpc-core:versionFile", "author": "voidzcy", "createdAt": "2020-05-12T21:28:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk4MTMzMw=="}], "type": "inlineReview"}]}