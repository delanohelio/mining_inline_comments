{"pr_number": 7046, "pr_title": "rls: update proto", "pr_createdAt": "2020-05-15T18:18:41Z", "pr_url": "https://github.com/grpc/grpc-java/pull/7046", "timeline": [{"oid": "9e93e4c8a76dd41b2ca8c308c2d1307dbd0da83a", "url": "https://github.com/grpc/grpc-java/commit/9e93e4c8a76dd41b2ca8c308c2d1307dbd0da83a", "message": "rls: import proto", "committedDate": "2020-05-15T18:00:38Z", "type": "commit"}, {"oid": "8a0428bcc90f48619598727d9ff9ead445424c8d", "url": "https://github.com/grpc/grpc-java/commit/8a0428bcc90f48619598727d9ff9ead445424c8d", "message": "use targets instead of target", "committedDate": "2020-05-15T18:00:50Z", "type": "commit"}, {"oid": "9146da83ce4ebd56df2d2351cec38395a08ea982", "url": "https://github.com/grpc/grpc-java/commit/9146da83ce4ebd56df2d2351cec38395a08ea982", "message": "remove request processing strategy", "committedDate": "2020-05-15T18:21:28Z", "type": "commit"}, {"oid": "6cb36afb1968db71164854b23f4e482adb9f4839", "url": "https://github.com/grpc/grpc-java/commit/6cb36afb1968db71164854b23f4e482adb9f4839", "message": "fix typo", "committedDate": "2020-05-15T18:26:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3Njk5OQ==", "url": "https://github.com/grpc/grpc-java/pull/7046#discussion_r425976999", "bodyText": "The 2nd constructor arg no longer @Nullable?", "author": "dapengzhang0", "createdAt": "2020-05-15T18:30:06Z", "path": "rls/src/main/java/io/grpc/rls/CachingRlsLbClient.java", "diffHunk": "@@ -133,15 +132,9 @@ private CachingRlsLbClient(Builder builder) {\n     backoffProvider = builder.backoffProvider;\n     ChildLoadBalancerHelperProvider childLbHelperProvider =\n         new ChildLoadBalancerHelperProvider(helper, new SubchannelStateManagerImpl(), rlsPicker);\n-    if (rlsConfig.getRequestProcessingStrategy()\n-        == RequestProcessingStrategy.SYNC_LOOKUP_CLIENT_SEES_ERROR) {\n-      refCountedChildPolicyWrapperFactory =\n-          new RefCountedChildPolicyWrapperFactory(\n-              childLbHelperProvider, new BackoffRefreshListener());\n-    } else {\n-      refCountedChildPolicyWrapperFactory =\n-          new RefCountedChildPolicyWrapperFactory(childLbHelperProvider, null);\n-    }\n+    refCountedChildPolicyWrapperFactory =\n+        new RefCountedChildPolicyWrapperFactory(\n+            childLbHelperProvider, new BackoffRefreshListener());", "originalCommit": "9146da83ce4ebd56df2d2351cec38395a08ea982", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk4MjYxNA==", "url": "https://github.com/grpc/grpc-java/pull/7046#discussion_r425982614", "bodyText": "done.", "author": "creamsoup", "createdAt": "2020-05-15T18:41:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3Njk5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NzM5NA==", "url": "https://github.com/grpc/grpc-java/pull/7046#discussion_r425977394", "bodyText": "nit: No need comment. The code explains itself.", "author": "dapengzhang0", "createdAt": "2020-05-15T18:30:50Z", "path": "rls/src/main/java/io/grpc/rls/CachingRlsLbClient.java", "diffHunk": "@@ -852,13 +845,13 @@ public PickResult pickSubchannel(PickSubchannelArgs args) {\n           case READY:\n             return childPolicyWrapper.getPicker().pickSubchannel(rlsAppliedArgs);\n           case TRANSIENT_FAILURE:\n-            return handleError(rlsAppliedArgs, Status.INTERNAL);\n+            // fall-through", "originalCommit": "9146da83ce4ebd56df2d2351cec38395a08ea982", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk4MjY1OQ==", "url": "https://github.com/grpc/grpc-java/pull/7046#discussion_r425982659", "bodyText": "done.", "author": "creamsoup", "createdAt": "2020-05-15T18:41:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3NzM5NA=="}], "type": "inlineReview"}, {"oid": "927d8f3443938b737bce678bf3348a8e5ce103c3", "url": "https://github.com/grpc/grpc-java/commit/927d8f3443938b737bce678bf3348a8e5ce103c3", "message": "remove lb status listener not optional, remove fall-through", "committedDate": "2020-05-15T18:47:09Z", "type": "commit"}, {"oid": "b7bb74880429ea87122e045188dbe2f77f0e1a8a", "url": "https://github.com/grpc/grpc-java/commit/b7bb74880429ea87122e045188dbe2f77f0e1a8a", "message": "update bazel grpc_proto version", "committedDate": "2020-05-15T19:08:27Z", "type": "commit"}]}