{"pr_number": 6865, "pr_title": "xds: rollback PGV dependency from using maven artifact to importing proto source", "pr_createdAt": "2020-03-27T18:53:44Z", "pr_url": "https://github.com/grpc/grpc-java/pull/6865", "timeline": [{"oid": "e27e45f10b1b8637b21ee2cc189e95302b757f41", "url": "https://github.com/grpc/grpc-java/commit/e27e45f10b1b8637b21ee2cc189e95302b757f41", "message": "Revert \"xds: use PGV dependency from maven artifact\"\n\nThis reverts commit cd8dbd306b043dff8b2b13100ef4a672bcf2cff7.", "committedDate": "2020-03-27T18:28:41Z", "type": "commit"}, {"oid": "82196b6a0d49a30344f4c5072d11e9f1770075d3", "url": "https://github.com/grpc/grpc-java/commit/82196b6a0d49a30344f4c5072d11e9f1770075d3", "message": "change PGV reop and commit id", "committedDate": "2020-03-27T18:36:58Z", "type": "commit"}, {"oid": "0f02a500bb02edb6dbf42a4856d45b24aecf9ca4", "url": "https://github.com/grpc/grpc-java/commit/0f02a500bb02edb6dbf42a4856d45b24aecf9ca4", "message": "run import.sh for PGV", "committedDate": "2020-03-27T18:37:53Z", "type": "commit"}, {"oid": "ad5701815c6659968a5b47fb3c3cbe17bf5d3ed8", "url": "https://github.com/grpc/grpc-java/commit/ad5701815c6659968a5b47fb3c3cbe17bf5d3ed8", "message": "add PGV proto to srcDir", "committedDate": "2020-03-27T18:40:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUxMzc5OA==", "url": "https://github.com/grpc/grpc-java/pull/6865#discussion_r399513798", "bodyText": "Seems like we would need a new relocation.", "author": "ejona86", "createdAt": "2020-03-27T20:11:32Z", "path": "xds/build.gradle", "diffHunk": "@@ -77,7 +74,6 @@ shadowJar {\n     classifier = null\n     dependencies {\n         include(project(':grpc-xds'))\n-        include(dependency('io.envoyproxy.protoc-gen-validate:'))\n     }\n     relocate 'com.github.udpa', 'io.grpc.xds.shaded.com.github.udpa'\n     relocate 'io.envoyproxy', 'io.grpc.xds.shaded.io.envoyproxy'", "originalCommit": "ad5701815c6659968a5b47fb3c3cbe17bf5d3ed8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUxNzk3NQ==", "url": "https://github.com/grpc/grpc-java/pull/6865#discussion_r399517975", "bodyText": "Are you referring to shadowing PGV?\n\n  \n    \n      grpc-java/xds/third_party/protoc-gen-validate/src/main/proto/validate/validate.proto\n    \n    \n         Line 5\n      in\n      ad57018\n    \n    \n    \n    \n\n        \n          \n           option java_package = \"io.envoyproxy.pgv.validate\"; \n        \n    \n  \n\n\nThe parent package io.envoyproxy is relocated.", "author": "dapengzhang0", "createdAt": "2020-03-27T20:20:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUxMzc5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU0OTIwNA==", "url": "https://github.com/grpc/grpc-java/pull/6865#discussion_r399549204", "bodyText": "Yeah. Okay. Sounds good.", "author": "ejona86", "createdAt": "2020-03-27T21:35:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUxMzc5OA=="}], "type": "inlineReview"}, {"oid": "821ac5cdee6864a027c079e1a7e464b2a5970af0", "url": "https://github.com/grpc/grpc-java/commit/821ac5cdee6864a027c079e1a7e464b2a5970af0", "message": "remove white sapce", "committedDate": "2020-03-27T20:41:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1MzQ2MA==", "url": "https://github.com/grpc/grpc-java/pull/6865#discussion_r399553460", "bodyText": "should change year to 2020 or keep it as it is because it was an existing file from 2018? Not sure what the right thing to do is", "author": "sanjaypujare", "createdAt": "2020-03-27T21:47:32Z", "path": "xds/third_party/protoc-gen-validate/import.sh", "diffHunk": "@@ -0,0 +1,53 @@\n+#!/bin/bash\n+# Copyright 2018 The gRPC Authors", "originalCommit": "821ac5cdee6864a027c079e1a7e464b2a5970af0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1NzI4Mw==", "url": "https://github.com/grpc/grpc-java/pull/6865#discussion_r399557283", "bodyText": "Good question. I don't know the answer, will keep it as is.", "author": "dapengzhang0", "createdAt": "2020-03-27T21:58:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1MzQ2MA=="}], "type": "inlineReview"}]}