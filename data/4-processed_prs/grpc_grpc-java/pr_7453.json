{"pr_number": 7453, "pr_title": "xds: define individual LDS/RDS data watch interface", "pr_createdAt": "2020-09-23T22:39:00Z", "pr_url": "https://github.com/grpc/grpc-java/pull/7453", "timeline": [{"oid": "37e06ba577138749d3be73732922ff06e1295dcc", "url": "https://github.com/grpc/grpc-java/commit/37e06ba577138749d3be73732922ff06e1295dcc", "message": "Convert Envoy proto VirtualHost.", "committedDate": "2020-09-23T22:37:40Z", "type": "commit"}, {"oid": "20d0cdbdd84d3e130acfeec92d4a717479c9f359", "url": "https://github.com/grpc/grpc-java/commit/20d0cdbdd84d3e130acfeec92d4a717479c9f359", "message": "Define interface for watching individual LDS/RDS resources.", "committedDate": "2020-09-23T22:38:13Z", "type": "commit"}, {"oid": "27c0f0b3c3fb9b4c217f9fbf315c49747be27988", "url": "https://github.com/grpc/grpc-java/commit/27c0f0b3c3fb9b4c217f9fbf315c49747be27988", "message": "Remove immutable annotation.", "committedDate": "2020-09-23T22:44:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzk0MTI2Mg==", "url": "https://github.com/grpc/grpc-java/pull/7453#discussion_r493941262", "bodyText": "Add javadoc saying it's in nanos or rename the method with getHttpMaxStreamDurationNanos().", "author": "dapengzhang0", "createdAt": "2020-09-23T23:00:47Z", "path": "xds/src/main/java/io/grpc/xds/XdsClient.java", "diffHunk": "@@ -100,6 +103,109 @@ ConfigUpdate build() {\n     }\n   }\n \n+  static final class LdsUpdate {\n+    // Total number of nanoseconds to keep alive an HTTP request/response stream.\n+    private final long httpMaxStreamDuration;\n+    // The name of the route configuration to be used for RDS resource discovery.\n+    @Nullable\n+    private final String rdsName;\n+    // The list virtual hosts that make up the route table.\n+    @Nullable\n+    private final List<VirtualHost> virtualHosts;\n+\n+    private LdsUpdate(long httpMaxStreamDuration, @Nullable String rdsName,\n+        @Nullable List<VirtualHost> virtualHosts) {\n+      this.httpMaxStreamDuration = httpMaxStreamDuration;\n+      this.rdsName = rdsName;\n+      this.virtualHosts = virtualHosts;\n+    }\n+\n+    long getHttpMaxStreamDuration() {", "originalCommit": "27c0f0b3c3fb9b4c217f9fbf315c49747be27988", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzk0NjUwMg==", "url": "https://github.com/grpc/grpc-java/pull/7453#discussion_r493946502", "bodyText": "Change to getHttpMaxStreamDurationNanos(). I don't think Javadoc is necessary as it's not a public API and it's just a getter. The method name tells everything.", "author": "voidzcy", "createdAt": "2020-09-23T23:10:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzk0MTI2Mg=="}], "type": "inlineReview"}, {"oid": "5a22783d743ae8bd612616dfc2f1dda32b01eecf", "url": "https://github.com/grpc/grpc-java/commit/5a22783d743ae8bd612616dfc2f1dda32b01eecf", "message": "Rename variable/getter.", "committedDate": "2020-09-23T23:33:33Z", "type": "commit"}, {"oid": "5a22783d743ae8bd612616dfc2f1dda32b01eecf", "url": "https://github.com/grpc/grpc-java/commit/5a22783d743ae8bd612616dfc2f1dda32b01eecf", "message": "Rename variable/getter.", "committedDate": "2020-09-23T23:33:33Z", "type": "forcePushed"}]}