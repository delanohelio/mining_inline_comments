{"pr_number": 640, "pr_title": "SO-4220: Enable filtering by Tooling Id", "pr_createdAt": "2020-08-18T14:19:13Z", "pr_url": "https://github.com/b2ihealthcare/snow-owl/pull/640", "timeline": [{"oid": "cc7718b9207e68f8b8d292f64b3f8dd9ef82262a", "url": "https://github.com/b2ihealthcare/snow-owl/commit/cc7718b9207e68f8b8d292f64b3f8dd9ef82262a", "message": "SO-4220: enable filtering for source toolingId", "committedDate": "2020-08-18T14:16:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg3NTU0Nw==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/640#discussion_r472875547", "bodyText": "Rename this to SOURCE_TOOLING_ID, please. In case we need a target one as well in the future.", "author": "cmark", "createdAt": "2020-08-19T09:00:44Z", "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/SetSearchRequestEvaluator.java", "diffHunk": "@@ -47,6 +47,11 @@\n \t\t * Number of matches to return.\n \t\t */\n \t\tLIMIT, \n+\t\t\n+\t\t/**\n+\t\t * Search for mappings with the specified source tooling id.\n+\t\t */\n+\t\tTOOLING_ID", "originalCommit": "cc7718b9207e68f8b8d292f64b3f8dd9ef82262a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk3MTA0Mw==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/640#discussion_r472971043", "bodyText": "Done", "author": "molnarlaura", "createdAt": "2020-08-19T11:52:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjg3NTU0Nw=="}], "type": "inlineReview"}, {"oid": "76bec9ae8a666c82fae6d4e1e3c34cee54d1fdbb", "url": "https://github.com/b2ihealthcare/snow-owl/commit/76bec9ae8a666c82fae6d4e1e3c34cee54d1fdbb", "message": "SO-4222: rename OptionKey", "committedDate": "2020-08-19T11:47:39Z", "type": "commit"}, {"oid": "622695fbfd70bb450aed3229c50181ff7e74d744", "url": "https://github.com/b2ihealthcare/snow-owl/commit/622695fbfd70bb450aed3229c50181ff7e74d744", "message": "SO-4222: rename OptionKey", "committedDate": "2020-08-19T14:03:56Z", "type": "commit"}, {"oid": "cdfe305faadb2c495af5c284d97b81e780eeff4f", "url": "https://github.com/b2ihealthcare/snow-owl/commit/cdfe305faadb2c495af5c284d97b81e780eeff4f", "message": "Revert \"SO-4222: rename OptionKey\"\n\nThis reverts commit b482b8471f9460949ffb5becf815929e556c40fe.", "committedDate": "2020-08-19T14:03:56Z", "type": "commit"}, {"oid": "dbece4db9b4ea3e67b991f56bd40b460ad7dff1f", "url": "https://github.com/b2ihealthcare/snow-owl/commit/dbece4db9b4ea3e67b991f56bd40b460ad7dff1f", "message": "SO-4222: enable filtering by tooling id", "committedDate": "2020-08-19T14:03:57Z", "type": "commit"}, {"oid": "ad456d03c29337c37f6078530e1c6096b624c988", "url": "https://github.com/b2ihealthcare/snow-owl/commit/ad456d03c29337c37f6078530e1c6096b624c988", "message": "SO-4222: rename OptionKey", "committedDate": "2020-08-19T14:06:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA2MTE2NA==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/640#discussion_r473061164", "bodyText": "This will fail if toolingIds is null. It is not necessary to wrap the argument into an ImmutableSet here, feel free to remove, and also apply this to the setFields, filterByIds methods.", "author": "cmark", "createdAt": "2020-08-19T14:13:15Z", "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/codesystem/AllCodeSystemSearchRequestBuilder.java", "diffHunk": "@@ -43,6 +44,11 @@ public AllCodeSystemSearchRequestBuilder filterByIds(final Collection<String> id\n \t\treturn this;\n \t}\n \t\n+\tpublic AllCodeSystemSearchRequestBuilder filterByToolingIds(final Iterable<String> toolingIds) {\n+\t\tthis.toolingIds = ImmutableSet.copyOf(toolingIds);", "originalCommit": "ad456d03c29337c37f6078530e1c6096b624c988", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA3MjU2NA==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/640#discussion_r473072564", "bodyText": "Done", "author": "molnarlaura", "createdAt": "2020-08-19T14:28:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA2MTE2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA2MjA0NA==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/640#discussion_r473062044", "bodyText": "This is not the right place for this OptionKey, since this enum is abstract and available for all SearchResourceRequest implementations. Please move this to a new OptionKey into the CodeSystemSearchRequest class.", "author": "cmark", "createdAt": "2020-08-19T14:14:26Z", "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/SearchResourceRequest.java", "diffHunk": "@@ -62,7 +62,11 @@\n \t\t/**\n \t\t * Sort result by the specified sort fields.\n \t\t */\n-\t\tSORT_BY;\n+\t\tSORT_BY,\n+\t\t/**\n+\t\t * Search by the specific tooling id.\n+\t\t */\n+\t\tTOOLING_ID;", "originalCommit": "ad456d03c29337c37f6078530e1c6096b624c988", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA3MjUwOQ==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/640#discussion_r473072509", "bodyText": "Done", "author": "molnarlaura", "createdAt": "2020-08-19T14:28:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA2MjA0NA=="}], "type": "inlineReview"}, {"oid": "c3bd398403fd6841ffa9d980e9de76d8628941e1", "url": "https://github.com/b2ihealthcare/snow-owl/commit/c3bd398403fd6841ffa9d980e9de76d8628941e1", "message": "SO-4222: move OptionKey to CodeSystemSearchRequest", "committedDate": "2020-08-19T14:26:25Z", "type": "commit"}, {"oid": "74263421a7be24e6dc707f2b4ac98bb7fae0178f", "url": "https://github.com/b2ihealthcare/snow-owl/commit/74263421a7be24e6dc707f2b4ac98bb7fae0178f", "message": "SO-4222: move OptionKey to CodeSystemSearchRequest", "committedDate": "2020-08-19T14:26:58Z", "type": "commit"}, {"oid": "d6fb29d1deee5d8ee7d6ba38b208b4685e282511", "url": "https://github.com/b2ihealthcare/snow-owl/commit/d6fb29d1deee5d8ee7d6ba38b208b4685e282511", "message": "SO-4222: remove copying iterable and change field to iterable", "committedDate": "2020-08-19T14:27:51Z", "type": "commit"}, {"oid": "0934137f7725cd475a1510e7b51f93a1738f9e65", "url": "https://github.com/b2ihealthcare/snow-owl/commit/0934137f7725cd475a1510e7b51f93a1738f9e65", "message": "Revert \"SO-4222: remove copying iterable and change field to iterable\"\n\nThis reverts commit d6fb29d1deee5d8ee7d6ba38b208b4685e282511.", "committedDate": "2020-08-19T14:32:12Z", "type": "commit"}, {"oid": "c52b9cbf942fe93039accdc0f31cdf3a51ecc46e", "url": "https://github.com/b2ihealthcare/snow-owl/commit/c52b9cbf942fe93039accdc0f31cdf3a51ecc46e", "message": "SO-4222: remove copying Iterable and change parameter to List", "committedDate": "2020-08-19T14:34:05Z", "type": "commit"}]}