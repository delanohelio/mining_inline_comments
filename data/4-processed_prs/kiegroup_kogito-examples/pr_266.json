{"pr_number": 266, "pr_title": "[FAI-191] Implement test for Grafana dashboards in Kogito metrics", "pr_createdAt": "2020-06-03T11:09:57Z", "pr_url": "https://github.com/kiegroup/kogito-examples/pull/266", "timeline": [{"oid": "a481247cbe75b456f2fe9c34dd84483a44301651", "url": "https://github.com/kiegroup/kogito-examples/commit/a481247cbe75b456f2fe9c34dd84483a44301651", "message": "[FAI-191] Implemente test for Grafana dashboards in Kogito metrics", "committedDate": "2020-06-03T11:10:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUwMjkwOQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/266#discussion_r434502909", "bodyText": "Can you please use maven-resources-plugin to copy resources instead of maven-antrun-plugin?\nhttp://maven.apache.org/plugins/maven-resources-plugin/examples/copy-resources.html", "author": "danielezonca", "createdAt": "2020-06-03T11:39:58Z", "path": "dmn-drools-quarkus-metrics/pom.xml", "diffHunk": "@@ -82,6 +92,41 @@\n           </execution>\n         </executions>\n       </plugin>\n+      <plugin>\n+        <artifactId>maven-antrun-plugin</artifactId>\n+        <executions>\n+          <execution>\n+            <phase>package</phase>\n+            <goals>\n+              <goal>run</goal>\n+            </goals>\n+            <configuration>\n+              <tasks>\n+                <copy todir=\"${project.basedir}/docker-compose/grafana/provisioning/dashboards\">\n+                  <fileset dir=\"${project.build.directory}/generated-resources/kogito/dashboards\"/>\n+                </copy>\n+              </tasks>\n+            </configuration>\n+          </execution>\n+        </executions>\n+      </plugin>", "originalCommit": "a481247cbe75b456f2fe9c34dd84483a44301651", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTE2ODY3NA==", "url": "https://github.com/kiegroup/kogito-examples/pull/266#discussion_r435168674", "bodyText": "Yes, I've changed plugin to maven-resources-plugin.", "author": "jiripetrlik", "createdAt": "2020-06-04T10:59:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUwMjkwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNDE5MQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/266#discussion_r434524191", "bodyText": "Just a minor thing: since the injection of the dashboards was performed in the run-compose.sh and now it is removed, we should insert the instructions here (for example specify where to find the dashboards). wdyt?", "author": "r00ta", "createdAt": "2020-06-03T12:20:20Z", "path": "dmn-drools-quarkus-metrics/README.md", "diffHunk": "@@ -70,9 +70,9 @@ You can use these default dashboards, or you can personalize them and use your c\n \n ### Compile and Run in Local Dev Mode\n \n-A script `docker-compose/run-compose.sh` is provided to demonstrate how to inject the generated dashboards in the volume of the grafana container: \n-1. the generated dashboards are copied from `target/resources/dashboards/` to the directory `docker-compose/grafana/provisioning/dashboards`. \n-2. `docker-compose` is run. \n+It is possible to use `docker-compose` to demonstrate how to inject the generated dashboards in the volume of the grafana container:", "originalCommit": "a481247cbe75b456f2fe9c34dd84483a44301651", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA1OTUwMg==", "url": "https://github.com/kiegroup/kogito-examples/pull/266#discussion_r435059502", "bodyText": "@r00ta that part of the script has been moved to a maven plugin so it works OOTB just compiling the project", "author": "danielezonca", "createdAt": "2020-06-04T07:50:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNDE5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTE2OTMxNQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/266#discussion_r435169315", "bodyText": "Yes, it is true. Dashboards are copied automatically to the destination folder by maven resource plugin.", "author": "jiripetrlik", "createdAt": "2020-06-04T11:00:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNDE5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTMxODgyMA==", "url": "https://github.com/kiegroup/kogito-examples/pull/266#discussion_r435318820", "bodyText": "yes, my point is to add in the README the path where the dashboards will be stored", "author": "r00ta", "createdAt": "2020-06-04T14:49:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNDE5MQ=="}], "type": "inlineReview"}, {"oid": "76cb164f0f29ecd0a60dfcd727cfc8b83886f38b", "url": "https://github.com/kiegroup/kogito-examples/commit/76cb164f0f29ecd0a60dfcd727cfc8b83886f38b", "message": "[FAI-191] Implemente test for Grafana dashboards in Kogito metrics", "committedDate": "2020-06-04T10:15:27Z", "type": "commit"}, {"oid": "76cb164f0f29ecd0a60dfcd727cfc8b83886f38b", "url": "https://github.com/kiegroup/kogito-examples/commit/76cb164f0f29ecd0a60dfcd727cfc8b83886f38b", "message": "[FAI-191] Implemente test for Grafana dashboards in Kogito metrics", "committedDate": "2020-06-04T10:15:27Z", "type": "forcePushed"}]}