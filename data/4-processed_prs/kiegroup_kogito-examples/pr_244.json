{"pr_number": 244, "pr_title": "[KOGITO-1954] Add examples of DMNRuntimeEventListener injection", "pr_createdAt": "2020-04-22T13:32:41Z", "pr_url": "https://github.com/kiegroup/kogito-examples/pull/244", "timeline": [{"oid": "5a97a8f7b1962aed9dce800bb7a8f6a46c21f5f5", "url": "https://github.com/kiegroup/kogito-examples/commit/5a97a8f7b1962aed9dce800bb7a8f6a46c21f5f5", "message": "[KOGITO-1954] Improve tests", "committedDate": "2020-04-27T08:44:48Z", "type": "forcePushed"}, {"oid": "88c44d75ada299d8acd1b19998c62c42d61af99e", "url": "https://github.com/kiegroup/kogito-examples/commit/88c44d75ada299d8acd1b19998c62c42d61af99e", "message": "[KOGITO-1954] Move listener injection tests in separate classes", "committedDate": "2020-04-29T13:52:01Z", "type": "forcePushed"}, {"oid": "7bb5f5756d7cae4d0b7863571ebcfadecb05eecf", "url": "https://github.com/kiegroup/kogito-examples/commit/7bb5f5756d7cae4d0b7863571ebcfadecb05eecf", "message": "[KOGITO-1954] Move listener injection tests in separate classes", "committedDate": "2020-04-29T13:56:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwNTkwNw==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417805907", "bodyText": "I would unify this note across both examples.", "author": "MarianMacik", "createdAt": "2020-04-30T07:21:56Z", "path": "dmn-springboot-example/README.md", "diffHunk": "@@ -26,6 +26,17 @@ mvn clean package\n java -jar ./target/dmn-springboot-example.jar\n ```\n \n+## Listener injection\n+\n+Kogito allows you to inject custom instances of `DMNRuntimeEventListener` if you need to attach custom logic to every DMN model evaluation.\n+\n+There are two ways to do this:\n+* Create one or more standard listener classes and annotate them with `Component` (the quickest way to inject a single listener). Demonstrated in `ExampleDMNRuntimeEventListener` class.\n+* Create one or more instances of `DecisionEventListenerConfig` (returning a list of listeners each) and annotate them with `Component`. Demonstrated in `ExampleDecisionEventListenerConfig` class.\n+\n+All the listeners instantiated with both methods will be injected during the application startup phase.\n+\n+**Important:** everything that this section describes is *OPTIONAL*: if you don't need listeners, just ignore it.", "originalCommit": "7bb5f5756d7cae4d0b7863571ebcfadecb05eecf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgxNDU0MQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417814541", "bodyText": "Ok, shall I use this exact sentence also in Quarkus README then?", "author": "kostola", "createdAt": "2020-04-30T07:38:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwNTkwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgyNjc1NQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417826755", "bodyText": "I would use the one from Quarkus also here :) But really it doesn't matter as long as it is the same.", "author": "MarianMacik", "createdAt": "2020-04-30T08:00:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwNTkwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODgxMw==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417978813", "bodyText": "@MarianMacik I didn't use the same sentence as Quarkus because it says \"you can have a Quarkus application that runs DMN models on Kogito without writing a single line of Java code\" but in the Spring Boot application there's one Java class (KogitoSpringbootApplication) \ud83d\ude05", "author": "kostola", "createdAt": "2020-04-30T12:40:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwNTkwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDEyNTI5NQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r420125295", "bodyText": "Now that we're using separate examples I wrote a sentence regarding the optionality of listeners directly in the Description section of each README.md file (the same for both as you requested).", "author": "kostola", "createdAt": "2020-05-05T13:51:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwNTkwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwODQxOQ==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417808419", "bodyText": "Is this file needed for traffic violation?", "author": "MarianMacik", "createdAt": "2020-04-30T07:26:42Z", "path": "dmn-springboot-example/src/main/resources/Bikes.dmn", "diffHunk": "@@ -0,0 +1,306 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<dmn:definitions xmlns:dmn=\"http://www.omg.org/spec/DMN/20180521/MODEL/\" id=\"_3ECBF416-244D-4359-8655-C3D7B1B40EE3\"\n+                 name=\"Bikes\" typeLanguage=\"http://www.omg.org/spec/DMN/20180521/FEEL/\"", "originalCommit": "7bb5f5756d7cae4d0b7863571ebcfadecb05eecf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgxMzc3NA==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417813774", "bodyText": "Damn...this is a custom model I added for personal tests.\nI pushed it by mistake and will remove it immediately. Sorry! \ud83e\udd26\u200d\u2642\ufe0f", "author": "kostola", "createdAt": "2020-04-30T07:36:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwODQxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgyMzA5Ng==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417823096", "bodyText": "Removed", "author": "kostola", "createdAt": "2020-04-30T07:54:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwODQxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwODY0Nw==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417808647", "bodyText": "Same here, is this needed for traffic viloation?", "author": "MarianMacik", "createdAt": "2020-04-30T07:27:03Z", "path": "dmn-springboot-example/src/main/resources/Loan Eligibility.dmn", "diffHunk": "@@ -0,0 +1,172 @@\n+<dmn:definitions xmlns:dmn=\"http://www.omg.org/spec/DMN/20180521/MODEL/\" xmlns=\"https://github.com/kiegroup/kogito-examples/dmn-quarkus-listener-example\" xmlns:di=\"http://www.omg.org/spec/DMN/20180521/DI/\" xmlns:kie=\"http://www.drools.org/kie/dmn/1.2\" xmlns:dmndi=\"http://www.omg.org/spec/DMN/20180521/DMNDI/\" xmlns:dc=\"http://www.omg.org/spec/DMN/20180521/DC/\" xmlns:feel=\"http://www.omg.org/spec/DMN/20180521/FEEL/\" id=\"_DC5AB7D9-7D61-40F7-94C1-2E064A053AC0\" name=\"Loan Eligibility\" typeLanguage=\"http://www.omg.org/spec/DMN/20180521/FEEL/\" namespace=\"https://github.com/kiegroup/kogito-examples/dmn-quarkus-listener-example\">\n+  <dmn:extensionElements/>\n+  <dmn:itemDefinition id=\"_AD041308-CE7E-4359-97DA-E03C520A7A70\" name=\"tClient\" isCollection=\"false\">\n+    <dmn:itemComponent id=\"_91AB76A9-CDCC-463E-B404-C530AB0AA6B5\" name=\"age\" isCollection=\"false\">", "originalCommit": "7bb5f5756d7cae4d0b7863571ebcfadecb05eecf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgxNDAzNw==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417814037", "bodyText": "Same as Bikes.dmn...will remove it!", "author": "kostola", "createdAt": "2020-04-30T07:36:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwODY0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgyMzE4Mg==", "url": "https://github.com/kiegroup/kogito-examples/pull/244#discussion_r417823182", "bodyText": "Removed", "author": "kostola", "createdAt": "2020-04-30T07:54:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgwODY0Nw=="}], "type": "inlineReview"}, {"oid": "7763de97f029825d0dd949a30c00cf46efe398c5", "url": "https://github.com/kiegroup/kogito-examples/commit/7763de97f029825d0dd949a30c00cf46efe398c5", "message": "[KOGITO-1954] Move listener injection tests in separate classes", "committedDate": "2020-04-30T07:52:55Z", "type": "forcePushed"}, {"oid": "25765a2be99e425217f578220a4e8fbc3aba5a29", "url": "https://github.com/kiegroup/kogito-examples/commit/25765a2be99e425217f578220a4e8fbc3aba5a29", "message": "[KOGITO-1954] Add examples of DMNRuntimeEventListener injection", "committedDate": "2020-05-05T13:45:19Z", "type": "forcePushed"}, {"oid": "0dd1ac5bd3765ff703541846b47b1ca98f2b2d97", "url": "https://github.com/kiegroup/kogito-examples/commit/0dd1ac5bd3765ff703541846b47b1ca98f2b2d97", "message": "[KOGITO-1954] Add examples of DMNRuntimeEventListener injection", "committedDate": "2020-05-05T13:47:56Z", "type": "forcePushed"}, {"oid": "f5b63031bf66b4656b5c2bdbfbcc65bbe91a90d5", "url": "https://github.com/kiegroup/kogito-examples/commit/f5b63031bf66b4656b5c2bdbfbcc65bbe91a90d5", "message": "[KOGITO-1954] Add examples of DMNRuntimeEventListener injection", "committedDate": "2020-05-06T14:59:38Z", "type": "forcePushed"}, {"oid": "9bd97881f5cabe85b8ee22bf5b670f1dbd6267d9", "url": "https://github.com/kiegroup/kogito-examples/commit/9bd97881f5cabe85b8ee22bf5b670f1dbd6267d9", "message": "[KOGITO-1954] Add examples of DMNRuntimeEventListener injection", "committedDate": "2020-05-07T07:34:06Z", "type": "commit"}, {"oid": "9bd97881f5cabe85b8ee22bf5b670f1dbd6267d9", "url": "https://github.com/kiegroup/kogito-examples/commit/9bd97881f5cabe85b8ee22bf5b670f1dbd6267d9", "message": "[KOGITO-1954] Add examples of DMNRuntimeEventListener injection", "committedDate": "2020-05-07T07:34:06Z", "type": "forcePushed"}]}