{"pr_number": 16598, "pr_title": "Ensure cache is created in test", "pr_createdAt": "2020-02-03T10:17:54Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/16598", "timeline": [{"oid": "94d9f8643caf30f2834849978fd775298f9a9343", "url": "https://github.com/hazelcast/hazelcast/commit/94d9f8643caf30f2834849978fd775298f9a9343", "message": "Ensure cache is created in test\n\nIn ClientCacheCreationTest cache recreation is\ntested with a low concurrent invocation limit.\nWith unlucky timing, the limit obstructs even the\noriginal cache creation during test setup.", "committedDate": "2020-02-03T10:14:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI2OTkyNw==", "url": "https://github.com/hazelcast/hazelcast/pull/16598#discussion_r376269927", "bodyText": "Can you convert it to assertTrueEventually to avoid possibility of infinite wait? (practically can not be more than the test timeout anyway)", "author": "ihsandemir", "createdAt": "2020-02-07T08:38:23Z", "path": "hazelcast/src/test/java/com/hazelcast/client/cache/ClientCacheCreationTest.java", "diffHunk": "@@ -120,7 +121,15 @@ public void recreateCacheOnRestartedCluster_whenMaxConcurrentInvocationLow() {\n         HazelcastClientCachingProvider cachingProvider = createClientCachingProvider(client);\n         final CacheManager cacheManager = cachingProvider.getCacheManager();\n         MutableConfiguration configuration = new MutableConfiguration();\n-        cacheManager.createCache(\"xmlCache\", configuration);\n+        // ensure cache is created despite the low concurrent invocation limit\n+        while (true) {", "originalCommit": "94d9f8643caf30f2834849978fd775298f9a9343", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxMjk1Mw==", "url": "https://github.com/hazelcast/hazelcast/pull/16598#discussion_r376312953", "bodyText": "done", "author": "vbekiaris", "createdAt": "2020-02-07T10:13:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI2OTkyNw=="}], "type": "inlineReview"}, {"oid": "76ed49243b36118e02715e80f3063c1e4b457865", "url": "https://github.com/hazelcast/hazelcast/commit/76ed49243b36118e02715e80f3063c1e4b457865", "message": "Switched while to assertTrueEventually", "committedDate": "2020-02-07T10:08:21Z", "type": "commit"}]}