{"pr_number": 17295, "pr_title": "Provide nicer error message for unsupported LIMIT clause", "pr_createdAt": "2020-08-03T12:47:22Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/17295", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQwODk0MA==", "url": "https://github.com/hazelcast/hazelcast/pull/17295#discussion_r464408940", "bodyText": "We need the same for OFFSET probably", "author": "viliam-durina", "createdAt": "2020-08-03T13:21:44Z", "path": "hazelcast-sql/src/main/java/com/hazelcast/sql/impl/calcite/parse/UnsupportedOperationVisitor.java", "diffHunk": "@@ -165,6 +165,10 @@ private void processSelect(SqlSelect select) {\n         if (select.getGroup() != null && select.getGroup().size() > 0) {\n             throw unsupported(select.getGroup(), \"GROUP BY\");\n         }\n+\n+        if (select.getFetch() != null) {", "originalCommit": "72e756a02aed765e7c1e9a864e87d3f8b6eb2cf1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQxNzQ0MQ==", "url": "https://github.com/hazelcast/hazelcast/pull/17295#discussion_r464417441", "bodyText": "Fixed.", "author": "Holmistr", "createdAt": "2020-08-03T13:36:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQwODk0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQwOTczMw==", "url": "https://github.com/hazelcast/hazelcast/pull/17295#discussion_r464409733", "bodyText": "We need a unit test to cover this case in ParserOperationsTest. Something like:\n@Test\n    public void testUnsupportedLimit() {\n        checkFailure(\n            \"SELECT a FROM t LIMIT 10\",\n            \"LIMIT is not supported\"\n        );\n    }", "author": "devozerov", "createdAt": "2020-08-03T13:23:11Z", "path": "hazelcast-sql/src/main/java/com/hazelcast/sql/impl/calcite/parse/UnsupportedOperationVisitor.java", "diffHunk": "@@ -165,6 +165,10 @@ private void processSelect(SqlSelect select) {\n         if (select.getGroup() != null && select.getGroup().size() > 0) {\n             throw unsupported(select.getGroup(), \"GROUP BY\");\n         }\n+\n+        if (select.getFetch() != null) {", "originalCommit": "72e756a02aed765e7c1e9a864e87d3f8b6eb2cf1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQxNzUyOQ==", "url": "https://github.com/hazelcast/hazelcast/pull/17295#discussion_r464417529", "bodyText": "Fixed.", "author": "Holmistr", "createdAt": "2020-08-03T13:36:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQwOTczMw=="}], "type": "inlineReview"}, {"oid": "228252424d24c77321b94db3d1922b598975b3d1", "url": "https://github.com/hazelcast/hazelcast/commit/228252424d24c77321b94db3d1922b598975b3d1", "message": "Provide nicer error message for unsupported LIMIT clause", "committedDate": "2020-08-03T13:35:26Z", "type": "commit"}, {"oid": "228252424d24c77321b94db3d1922b598975b3d1", "url": "https://github.com/hazelcast/hazelcast/commit/228252424d24c77321b94db3d1922b598975b3d1", "message": "Provide nicer error message for unsupported LIMIT clause", "committedDate": "2020-08-03T13:35:26Z", "type": "forcePushed"}]}