{"pr_number": 17003, "pr_title": "[BACKPORT] Fixing client-view of Member#getAddressMap()", "pr_createdAt": "2020-05-20T16:53:15Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/17003", "timeline": [{"oid": "0008547a8d8c91c618b069291033407425031b38", "url": "https://github.com/hazelcast/hazelcast/commit/0008547a8d8c91c618b069291033407425031b38", "message": "backporting addressmap fix\n\noriginal PR: https://github.com/hazelcast/hazelcast/pull/16910\n\nalso backporting changes from https://github.com/hazelcast/hazelcast/pull/17004", "committedDate": "2020-05-21T17:30:37Z", "type": "forcePushed"}, {"oid": "4583f7208d2923ee18b40a363c5ec919d6dc6759", "url": "https://github.com/hazelcast/hazelcast/commit/4583f7208d2923ee18b40a363c5ec919d6dc6759", "message": "backporting addressmap fix\n\noriginal PR: https://github.com/hazelcast/hazelcast/pull/16910\n\nalso backporting changes from https://github.com/hazelcast/hazelcast/pull/17004", "committedDate": "2020-05-26T09:15:06Z", "type": "commit"}, {"oid": "4583f7208d2923ee18b40a363c5ec919d6dc6759", "url": "https://github.com/hazelcast/hazelcast/commit/4583f7208d2923ee18b40a363c5ec919d6dc6759", "message": "backporting addressmap fix\n\noriginal PR: https://github.com/hazelcast/hazelcast/pull/16910\n\nalso backporting changes from https://github.com/hazelcast/hazelcast/pull/17004", "committedDate": "2020-05-26T09:15:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk0Mzk0OA==", "url": "https://github.com/hazelcast/hazelcast/pull/17003#discussion_r430943948", "bodyText": "isAddressMapExists is not used in this constructor. is this intentional? A false value would mean an older server version.\nIf we don't need the value of this var, it's better to remove this constructor.", "author": "asimarslan", "createdAt": "2020-05-27T08:26:39Z", "path": "hazelcast/src/main/java/com/hazelcast/internal/cluster/MemberInfo.java", "diffHunk": "@@ -62,6 +62,11 @@ public MemberInfo(Address address, UUID uuid, Map<String, String> attributes, bo\n         this(address, uuid, attributes, liteMember, version, NA_MEMBER_LIST_JOIN_VERSION, addressMap);\n     }\n \n+    public MemberInfo(Address address, UUID uuid, Map<String, String> attributes, boolean liteMember, MemberVersion version,\n+                      boolean isAddressMapExists, Map<EndpointQualifier, Address> addressMap) {", "originalCommit": "4583f7208d2923ee18b40a363c5ec919d6dc6759", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk3NjUxOA==", "url": "https://github.com/hazelcast/hazelcast/pull/17003#discussion_r430976518", "bodyText": "Yes, it is unused, but AFAICT it can't be avoided, because it is called this way by the generated codec: https://github.com/hazelcast/hazelcast/pull/17003/files#diff-85119ef45bcf87c56a3c4e6485d02c5cR72\nI also don't like it though. Do you have any suggestion on how to tweak the code generator?", "author": "erosb", "createdAt": "2020-05-27T09:18:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk0Mzk0OA=="}], "type": "inlineReview"}, {"oid": "91c59fc644f7d437baad2dd009dbef90785c1273", "url": "https://github.com/hazelcast/hazelcast/commit/91c59fc644f7d437baad2dd009dbef90785c1273", "message": "handling isAddressMapExists ctor parameter in MemberInfo", "committedDate": "2020-05-28T12:23:49Z", "type": "commit"}, {"oid": "d6f4261f7455ebcadb98e34af7dfa024f772e567", "url": "https://github.com/hazelcast/hazelcast/commit/d6f4261f7455ebcadb98e34af7dfa024f772e567", "message": "import cleanup", "committedDate": "2020-05-28T12:36:10Z", "type": "commit"}]}