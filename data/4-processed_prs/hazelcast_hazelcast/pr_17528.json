{"pr_number": 17528, "pr_title": "Add local checks for count argument of CountDownLatch#trySetCount", "pr_createdAt": "2020-09-11T14:23:31Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/17528", "timeline": [{"oid": "89a8e88cc31d9d0d55c80235f7be1895601ad7b5", "url": "https://github.com/hazelcast/hazelcast/commit/89a8e88cc31d9d0d55c80235f7be1895601ad7b5", "message": "Add local checks for count argument of CountDownLatch#trySetCount\n\nAlso improves javadoc consistency for some CP data structures", "committedDate": "2020-09-11T14:23:38Z", "type": "commit"}, {"oid": "89a8e88cc31d9d0d55c80235f7be1895601ad7b5", "url": "https://github.com/hazelcast/hazelcast/commit/89a8e88cc31d9d0d55c80235f7be1895601ad7b5", "message": "Add local checks for count argument of CountDownLatch#trySetCount\n\nAlso improves javadoc consistency for some CP data structures", "committedDate": "2020-09-11T14:23:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA5NzQxOA==", "url": "https://github.com/hazelcast/hazelcast/pull/17528#discussion_r487097418", "bodyText": "positive or non-negative?", "author": "ihsandemir", "createdAt": "2020-09-11T14:49:20Z", "path": "hazelcast/src/main/java/com/hazelcast/cp/internal/datastructures/countdownlatch/proxy/CountDownLatchProxy.java", "diffHunk": "@@ -76,6 +77,8 @@ public int getCount() {\n \n     @Override\n     public boolean trySetCount(int count) {\n+        checkPositive(count, \"Count must be positive!\");", "originalCommit": "89a8e88cc31d9d0d55c80235f7be1895601ad7b5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzEwNDIyOQ==", "url": "https://github.com/hazelcast/hazelcast/pull/17528#discussion_r487104229", "bodyText": "The message is correct, it must be positive, i.e. zero is not allowed. It was the behavior without this local check.", "author": "puzpuzpuz", "createdAt": "2020-09-11T14:59:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA5NzQxOA=="}], "type": "inlineReview"}, {"oid": "17f703e843c08d5bd0a5bc4c749a785798b464d8", "url": "https://github.com/hazelcast/hazelcast/commit/17f703e843c08d5bd0a5bc4c749a785798b464d8", "message": "Fix tests", "committedDate": "2020-09-11T16:47:17Z", "type": "commit"}, {"oid": "3c43507e44ca97ac140cca9e4ca3442e49c9e368", "url": "https://github.com/hazelcast/hazelcast/commit/3c43507e44ca97ac140cca9e4ca3442e49c9e368", "message": "Change validation order in CountDownLatch#trySetCount", "committedDate": "2020-09-14T08:29:15Z", "type": "commit"}]}