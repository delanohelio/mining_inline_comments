{"pr_number": 17431, "pr_title": "Update full-example config examples", "pr_createdAt": "2020-08-31T06:22:57Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/17431", "timeline": [{"oid": "ab569e8608c0f968237283b2fd47caabad1731c8", "url": "https://github.com/hazelcast/hazelcast/commit/ab569e8608c0f968237283b2fd47caabad1731c8", "message": "Update full-example configs for AWS, Azure and GCP", "committedDate": "2020-08-27T12:57:53Z", "type": "commit"}, {"oid": "2267c3a6a4376c74b7deabfa25bb428906ab52b3", "url": "https://github.com/hazelcast/hazelcast/commit/2267c3a6a4376c74b7deabfa25bb428906ab52b3", "message": "Remove comments for mutually exclusivity", "committedDate": "2020-08-31T06:16:33Z", "type": "commit"}, {"oid": "cf13b36899f7964de6ce7cff9a8d97783eeab3d4", "url": "https://github.com/hazelcast/hazelcast/commit/cf13b36899f7964de6ce7cff9a8d97783eeab3d4", "message": "Fix hz-port for xml and yaml for Azure", "committedDate": "2020-08-31T08:52:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE2MjgzMw==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r480162833", "bodyText": "I'd probably comment-out cluster, family, and service-name since these properties are exclusive with the properties above.\nThe same for YAML and member config.", "author": "leszko", "createdAt": "2020-08-31T14:19:45Z", "path": "hazelcast/src/main/resources/hazelcast-client-full-example.xml", "diffHunk": "@@ -306,18 +306,32 @@\n             </properties>\n         </ssl>\n         <auto-detection enabled=\"false\"/>\n-        <aws enabled=\"true\" connection-timeout-seconds=\"11\">\n-            <inside-aws>true</inside-aws>\n-            <access-key>TEST_ACCESS_KEY</access-key>\n-            <secret-key>TEST_SECRET_KEY</secret-key>\n-            <region>us-east-1</region>\n+        <aws enabled=\"false\">\n+            <access-key>my-access-key</access-key>\n+            <secret-key>my-secret-key</secret-key>\n+            <region>us-west-1</region>\n             <host-header>ec2.amazonaws.com</host-header>\n-            <security-group-name>hazelcast-sg</security-group-name>\n+            <connection-timeout-seconds>7</connection-timeout-seconds>\n+            <read-timeout-seconds>7</read-timeout-seconds>\n+            <connection-retries>4</connection-retries>\n+            <hz-port>5701-5710</hz-port>\n+            <use-public-ip>true</use-public-ip>\n             <tag-key>type</tag-key>\n             <tag-value>hz-nodes</tag-value>\n+            <security-group-name>hazelcast-sg</security-group-name>\n+            <iam-role>dummy</iam-role>\n+            <cluster>my-cluster</cluster>", "originalCommit": "cf13b36899f7964de6ce7cff9a8d97783eeab3d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIyODExMg==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r480228112", "bodyText": "Yeah at first I had them seperated with comments showing their mutually exclusivity. But shouldn't full-example yamls and xmls have all the properties defined and the user should refer to the plug-in repository to learn more about on how to use them?\nI tried to have all the logic explained with comments but it seemed unnecessarily long. Because there is also mutual exclusivity between iam and secret-key - access-key.", "author": "mtyazici", "createdAt": "2020-08-31T15:59:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE2MjgzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDgyNDIwNQ==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r480824205", "bodyText": "No need to explain anything in the comments. I'd just comment-out these 3 properties. There is a lot of other commented-out configuration in *-full-* configurations, so I guess it's fine to do the same.", "author": "leszko", "createdAt": "2020-09-01T05:16:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE2MjgzMw=="}], "type": "inlineReview"}, {"oid": "6dd6a0c7d18b843cb3b72e37bbefe3cca9f2943c", "url": "https://github.com/hazelcast/hazelcast/commit/6dd6a0c7d18b843cb3b72e37bbefe3cca9f2943c", "message": "Comment out cluster, famil and service-name properties", "committedDate": "2020-09-01T05:59:05Z", "type": "commit"}, {"oid": "b8b76921be24e84e5e2f32f680bc9a0ad965d27d", "url": "https://github.com/hazelcast/hazelcast/commit/b8b76921be24e84e5e2f32f680bc9a0ad965d27d", "message": "Fix indentation problem caused by previous commit", "committedDate": "2020-09-01T06:03:30Z", "type": "commit"}, {"oid": "73db2f469f490a75e6ff0e4777ea7a21e48e2fd7", "url": "https://github.com/hazelcast/hazelcast/commit/73db2f469f490a75e6ff0e4777ea7a21e48e2fd7", "message": "Merge branch 'master' of https://github.com/hazelcast/hazelcast into improve-yaml-examples", "committedDate": "2020-09-01T07:23:48Z", "type": "commit"}, {"oid": "272046a19d508458e3abd566d0bf181bc266711e", "url": "https://github.com/hazelcast/hazelcast/commit/272046a19d508458e3abd566d0bf181bc266711e", "message": "Fix indentation issues in hazelcast-client-full-example.xml", "committedDate": "2020-09-01T07:35:25Z", "type": "commit"}, {"oid": "cac2a9111c08ab1c2024a69c312923f0d99cbf8b", "url": "https://github.com/hazelcast/hazelcast/commit/cac2a9111c08ab1c2024a69c312923f0d99cbf8b", "message": "Fix indentation", "committedDate": "2020-09-01T07:50:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE5NTgzOA==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r481195838", "bodyText": "I see that there are also aws, gcp and azure elements under the advanced-network/join element. Should we also update them?", "author": "mdumandag", "createdAt": "2020-09-01T14:49:30Z", "path": "hazelcast/src/main/resources/hazelcast-full-example.xml", "diffHunk": "@@ -656,15 +656,29 @@\n             <aws enabled=\"false\">\n                 <access-key>my-access-key</access-key>\n                 <secret-key>my-secret-key</secret-key>\n-                <iam-role>dummy</iam-role>\n                 <region>us-west-1</region>\n                 <host-header>ec2.amazonaws.com</host-header>\n-                <security-group-name>hazelcast-sg</security-group-name>\n+                <connection-timeout-seconds>7</connection-timeout-seconds>", "originalCommit": "cac2a9111c08ab1c2024a69c312923f0d99cbf8b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc3Mzg2Nw==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r481773867", "bodyText": "I think we should update them too. However I am not sure if the config properties are different for that element. I will have to search a bit, then I will update them.", "author": "mtyazici", "createdAt": "2020-09-02T06:18:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE5NTgzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE5NzU2NQ==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r481197565", "bodyText": "Same comment with the hazelcast-full-example.xml", "author": "mdumandag", "createdAt": "2020-09-01T14:51:46Z", "path": "hazelcast/src/main/resources/hazelcast-full-example.yaml", "diffHunk": "@@ -630,25 +630,38 @@ hazelcast:\n         enabled: false\n         access-key: my-access-key\n         secret-key: my-secret-key\n-        iam-role: dummy\n         region: us-west-1\n         host-header: ec2.amazonaws.com\n+        connection-timeout-seconds: 7", "originalCommit": "cac2a9111c08ab1c2024a69c312923f0d99cbf8b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIwNTYxMQ==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r481205611", "bodyText": "I am not familiar with the discovery strategy configs but if I am not missing something, use-public-api property is also being used by the member side (through https://github.com/hazelcast/hazelcast/blob/master/hazelcast/src/main/java/com/hazelcast/internal/cluster/impl/DiscoveryJoiner.java#L51). Should we also add it to the member configs or is this a client only config element?", "author": "mdumandag", "createdAt": "2020-09-01T15:00:15Z", "path": "hazelcast/src/main/resources/hazelcast-full-example.yaml", "diffHunk": "@@ -630,25 +630,38 @@ hazelcast:\n         enabled: false\n         access-key: my-access-key\n         secret-key: my-secret-key\n-        iam-role: dummy\n         region: us-west-1\n         host-header: ec2.amazonaws.com\n+        connection-timeout-seconds: 7\n+        read-timeout-seconds: 7\n+        connection-retries: 4\n+        hz-port: 5701-5710\n         security-group-name: hazelcast-sg\n         tag-key: type\n         tag-value: hz-nodes\n+        iam-role: dummy\n+        # cluster: my-clusters\n+        # family: test-family\n+        # service-name: test-service\n       gcp:\n         enabled: false\n-        zones: us-east1-b,us-east1-c\n+        private-key-path: key-path\n+        projects: project-1,project-2\n+        region: us-central1\n+        zones: us-central1-b,us-central1-c\n+        label: key=value\n+        hz-port: 5701-5710\n       azure:\n         enabled: false\n         instance-metadata-available: false\n         client-id: CLIENT_ID\n-        tenant-id: TENANT_ID\n         client-secret: CLIENT_SECRET\n+        tenant-id: TENANT_ID\n         subscription-id: SUB_ID\n         resource-group: RESOURCE-GROUP-NAME\n         scale-set: SCALE-SET-NAME\n         tag: TAG-NAME=HZLCAST001\n+        hz-port: 5701-5707", "originalCommit": "cac2a9111c08ab1c2024a69c312923f0d99cbf8b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTc2OTUxNg==", "url": "https://github.com/hazelcast/hazelcast/pull/17431#discussion_r481769516", "bodyText": "You are right, I had tried it before for members but I got an unknown_property error. Now I tried it again and there is no error. Probably I did a typo while typing the property name. I will add it to member side config files.", "author": "mtyazici", "createdAt": "2020-09-02T06:14:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIwNTYxMQ=="}], "type": "inlineReview"}, {"oid": "0f3bd17b848fb332a700dfa9c4441ca142f1ce1c", "url": "https://github.com/hazelcast/hazelcast/commit/0f3bd17b848fb332a700dfa9c4441ca142f1ce1c", "message": "Update advanced/network element for AWS, Azure and GCP for member side.\n\nAlso add use-public-ip property to network/join propert for AWS, Azure and GCP for member side.", "committedDate": "2020-09-02T07:00:21Z", "type": "commit"}]}