{"pr_number": 17297, "pr_title": "Improve start scripts for modular Java (9+)", "pr_createdAt": "2020-08-03T16:40:09Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/17297", "timeline": [{"oid": "67d491e25505f25b9c5e5f20cbec2932c55850f1", "url": "https://github.com/hazelcast/hazelcast/commit/67d491e25505f25b9c5e5f20cbec2932c55850f1", "message": "Improve start scripts for modular Java (9+)", "committedDate": "2020-08-03T18:26:49Z", "type": "commit"}, {"oid": "67d491e25505f25b9c5e5f20cbec2932c55850f1", "url": "https://github.com/hazelcast/hazelcast/commit/67d491e25505f25b9c5e5f20cbec2932c55850f1", "message": "Improve start scripts for modular Java (9+)", "committedDate": "2020-08-03T18:26:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTAyMzc2OQ==", "url": "https://github.com/hazelcast/hazelcast/pull/17297#discussion_r465023769", "bodyText": "Nice \ud83d\ude04", "author": "blazember", "createdAt": "2020-08-04T12:47:27Z", "path": "hazelcast/src/main/resources/start.sh", "diffHunk": "@@ -39,6 +38,11 @@ if [ \"x$MAX_HEAP_SIZE\" != \"x\" ]; then\n \tJAVA_OPTS=\"$JAVA_OPTS -Xmx${MAX_HEAP_SIZE}\"\n fi\n \n+JAVA_VERSION=$(\"$RUN_JAVA\" -cp \"$HAZELCAST_HOME/lib/hazelcast-all-${project.version}.jar\" com.hazelcast.internal.util.JavaVersion)\n+if [ \"$JAVA_VERSION\" -gt \"8\" ]; then\n+\tJAVA_OPTS=\"$JAVA_OPTS --add-modules java.se --add-exports java.base/jdk.internal.ref=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.management/sun.management=ALL-UNNAMED --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED\"\n+fi\n+", "originalCommit": "67d491e25505f25b9c5e5f20cbec2932c55850f1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}