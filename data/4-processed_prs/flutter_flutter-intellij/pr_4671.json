{"pr_number": 4671, "pr_title": "Split icon generation into two scripts + use single set of downloaded files", "pr_createdAt": "2020-06-28T20:21:20Z", "pr_url": "https://github.com/flutter/flutter-intellij/pull/4671", "timeline": [{"oid": "2a707c87c79eba4d1af9c406fec338828096c693", "url": "https://github.com/flutter/flutter-intellij/commit/2a707c87c79eba4d1af9c406fec338828096c693", "message": "Split icon generation into two scripts + use single set of downloaded files", "committedDate": "2020-06-28T20:14:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMyODYyMQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4671#discussion_r447328621", "bodyText": "nit: //, not ///", "author": "devoncarew", "createdAt": "2020-06-30T00:06:43Z", "path": "tool/colors/flutter/colors_cupertino.dart", "diffHunk": "@@ -1,15 +1,17 @@\n+/// This file was downloaded by update_colors.dart.", "originalCommit": "2a707c87c79eba4d1af9c406fec338828096c693", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ4Nzg1OQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4671#discussion_r447487859", "bodyText": "Done!", "author": "DanTup", "createdAt": "2020-06-30T08:00:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMyODYyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMyODcxOQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4671#discussion_r447328719", "bodyText": "should probably use a double slash comment", "author": "devoncarew", "createdAt": "2020-06-30T00:07:05Z", "path": "tool/colors/flutter/colors_material.dart", "diffHunk": "@@ -1,3 +1,5 @@\n+/// This file was downloaded by update_colors.dart.", "originalCommit": "2a707c87c79eba4d1af9c406fec338828096c693", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ4NzkxNg==", "url": "https://github.com/flutter/flutter-intellij/pull/4671#discussion_r447487916", "bodyText": "Done!", "author": "DanTup", "createdAt": "2020-06-30T08:00:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMyODcxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMyOTEwNQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4671#discussion_r447329105", "bodyText": "This todo is likely worth retaining - I think we're better off avoiding downloads when re-generating these files if we can avoid them.", "author": "devoncarew", "createdAt": "2020-06-30T00:08:30Z", "path": "tool/colors/update_colors.dart", "diffHunk": "@@ -20,62 +23,40 @@ void main(List<String> args) async {\n     exit(1);\n   }\n \n-  // TODO(dantup): Split into two scripts instead of using a flag? It's to allow\n-  // easier debugging of the second step.\n-  if (args.contains('--generate-properties')) {\n-    print('Generating property files:');\n-    generatePropertiesFiles();\n-\n-    exit(0);\n-  } else {\n-    print('Generating dart files:');\n-    await generateDartFiles();\n-\n-    // Re-run the script with `--generate-properties` so it can load the files\n-    // we generated.\n-    final results = Process.runSync(Platform.resolvedExecutable,\n-        [Platform.script.toFilePath(), '--generate-propertes']);\n-    stdout.write(results.stdout);\n-    stderr.write(results.stderr);\n-\n-    exit(0);\n-  }\n+  print('Generating dart files:');\n+  await generateDartFiles();\n }\n \n-Future generateDartFiles() async {\n-  // TODO: Use the files from the local flutter checkout instead of a download", "originalCommit": "2a707c87c79eba4d1af9c406fec338828096c693", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ4ODI5OA==", "url": "https://github.com/flutter/flutter-intellij/pull/4671#discussion_r447488298", "bodyText": "Ah yes, I slightly misread it thinking it was about having two downloaded copies. I've added this back.", "author": "DanTup", "createdAt": "2020-06-30T08:00:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMyOTEwNQ=="}], "type": "inlineReview"}, {"oid": "26f4465404d6ee55bbaa8811fae33b74dee506d1", "url": "https://github.com/flutter/flutter-intellij/commit/26f4465404d6ee55bbaa8811fae33b74dee506d1", "message": "Review tweaks", "committedDate": "2020-06-30T07:59:27Z", "type": "commit"}, {"oid": "14b51f04e0b6ecef0d8f9d696867a11239bb0810", "url": "https://github.com/flutter/flutter-intellij/commit/14b51f04e0b6ecef0d8f9d696867a11239bb0810", "message": "Commit unformatted files (as downloaded)", "committedDate": "2020-06-30T07:59:58Z", "type": "commit"}]}