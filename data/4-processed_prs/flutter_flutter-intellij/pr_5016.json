{"pr_number": 5016, "pr_title": "Use github actions", "pr_createdAt": "2020-11-02T17:22:48Z", "pr_url": "https://github.com/flutter/flutter-intellij/pull/5016", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MjQxOA==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516292418", "bodyText": "What does this if statement do? Perhaps add a comment line (as bash if statements can be mysterious for people).", "author": "devoncarew", "createdAt": "2020-11-02T22:26:18Z", "path": "tool/github.sh", "diffHunk": "@@ -0,0 +1,78 @@\n+#!/bin/bash\n+\n+# Copyright 2020 The Chromium Authors. All rights reserved.\n+# Use of this source code is governed by a BSD-style license that can be\n+# found in the LICENSE file.\n+\n+# Fast fail the script on failures.\n+set -e\n+\n+export JAVA_HOME=$JAVA_HOME_11_X64\n+\n+git clone --depth 1 https://github.com/flutter/flutter.git ../flutter\n+export PATH=\"$PATH\":`pwd`/../flutter/bin:`pwd`/../flutter/bin/cache/dart-sdk/bin\n+flutter config --no-analytics\n+flutter doctor\n+export FLUTTER_SDK=`pwd`/../flutter\n+\n+if [ \"$IDEA_VERSION\" = \"4.0\" -o \"$IDEA_VERSION\" = \"4.1\" ] ; then", "originalCommit": "e816001df96eea6483338a3aa83dd21edfb248f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjMwNDk5NQ==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516304995", "bodyText": "I updated the comment in the block.", "author": "stevemessick", "createdAt": "2020-11-02T22:48:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MjQxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MjcyMA==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516292720", "bodyText": "We should be able to convert this over to just dart analyze now (not necessarily for this PR).", "author": "devoncarew", "createdAt": "2020-11-02T22:26:59Z", "path": "tool/github.sh", "diffHunk": "@@ -0,0 +1,78 @@\n+#!/bin/bash\n+\n+# Copyright 2020 The Chromium Authors. All rights reserved.\n+# Use of this source code is governed by a BSD-style license that can be\n+# found in the LICENSE file.\n+\n+# Fast fail the script on failures.\n+set -e\n+\n+export JAVA_HOME=$JAVA_HOME_11_X64\n+\n+git clone --depth 1 https://github.com/flutter/flutter.git ../flutter\n+export PATH=\"$PATH\":`pwd`/../flutter/bin:`pwd`/../flutter/bin/cache/dart-sdk/bin\n+flutter config --no-analytics\n+flutter doctor\n+export FLUTTER_SDK=`pwd`/../flutter\n+\n+if [ \"$IDEA_VERSION\" = \"4.0\" -o \"$IDEA_VERSION\" = \"4.1\" ] ; then\n+\n+  #Install Java 8\n+  wget -O- https://apt.corretto.aws/corretto.key | sudo apt-key add -\n+  sudo add-apt-repository 'deb https://apt.corretto.aws stable main'\n+  sudo apt-get update; sudo apt-get install -y java-1.8.0-amazon-corretto-jdk\n+  export PATH=/usr/lib/jvm/java-1.8.0-amazon-corretto/jre/bin:$PATH\n+\n+fi\n+\n+java -version\n+\n+# Get packages for the top-level grind script utilities\n+echo \"pub get `pwd`\"\n+pub get\n+\n+# Get packages for the test data.\n+(cd testData/sample_tests; echo \"pub get `pwd`\"; pub get)\n+\n+# Set up the plugin tool.\n+(cd tool/plugin; echo \"pub get `pwd`\"; pub get)\n+\n+if [ \"$DART_BOT\" = true ] ; then\n+\n+  # analyze the Dart code in the repo\n+  echo \"pub global activate tuneup\"", "originalCommit": "e816001df96eea6483338a3aa83dd21edfb248f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjMwNTA0Nw==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516305047", "bodyText": "That would be more readable.", "author": "stevemessick", "createdAt": "2020-11-02T22:48:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MjcyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MjkwNA==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516292904", "bodyText": "nit: files", "author": "devoncarew", "createdAt": "2020-11-02T22:27:24Z", "path": "tool/github.sh", "diffHunk": "@@ -0,0 +1,78 @@\n+#!/bin/bash\n+\n+# Copyright 2020 The Chromium Authors. All rights reserved.\n+# Use of this source code is governed by a BSD-style license that can be\n+# found in the LICENSE file.\n+\n+# Fast fail the script on failures.\n+set -e\n+\n+export JAVA_HOME=$JAVA_HOME_11_X64\n+\n+git clone --depth 1 https://github.com/flutter/flutter.git ../flutter\n+export PATH=\"$PATH\":`pwd`/../flutter/bin:`pwd`/../flutter/bin/cache/dart-sdk/bin\n+flutter config --no-analytics\n+flutter doctor\n+export FLUTTER_SDK=`pwd`/../flutter\n+\n+if [ \"$IDEA_VERSION\" = \"4.0\" -o \"$IDEA_VERSION\" = \"4.1\" ] ; then\n+\n+  #Install Java 8\n+  wget -O- https://apt.corretto.aws/corretto.key | sudo apt-key add -\n+  sudo add-apt-repository 'deb https://apt.corretto.aws stable main'\n+  sudo apt-get update; sudo apt-get install -y java-1.8.0-amazon-corretto-jdk\n+  export PATH=/usr/lib/jvm/java-1.8.0-amazon-corretto/jre/bin:$PATH\n+\n+fi\n+\n+java -version\n+\n+# Get packages for the top-level grind script utilities\n+echo \"pub get `pwd`\"\n+pub get\n+\n+# Get packages for the test data.\n+(cd testData/sample_tests; echo \"pub get `pwd`\"; pub get)\n+\n+# Set up the plugin tool.\n+(cd tool/plugin; echo \"pub get `pwd`\"; pub get)\n+\n+if [ \"$DART_BOT\" = true ] ; then\n+\n+  # analyze the Dart code in the repo\n+  echo \"pub global activate tuneup\"\n+  pub global activate tuneup\n+  pub global run tuneup\n+\n+  # ensure that the edits have been applied to template files (and their target\n+  # files have been regenerated)\n+  ./bin/plugin generate\n+\n+  # show any changed file", "originalCommit": "e816001df96eea6483338a3aa83dd21edfb248f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjMwNTEwMg==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516305102", "bodyText": "lol, I copied that from travis.sh. It's been \"file\" for almost two years. I'll change it.", "author": "stevemessick", "createdAt": "2020-11-02T22:48:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MjkwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MzQ5Mw==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516293493", "bodyText": "Should this be named presubmit-windows? Is this essentially the same as the presubmit bot below?", "author": "devoncarew", "createdAt": "2020-11-02T22:28:49Z", "path": ".github/workflows/presubmit.yaml", "diffHunk": "@@ -0,0 +1,42 @@\n+name: presubmit\n+on: [push]\n+jobs:\n+  windows-test:", "originalCommit": "e816001df96eea6483338a3aa83dd21edfb248f2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjMwNTE2OQ==", "url": "https://github.com/flutter/flutter-intellij/pull/5016#discussion_r516305169", "bodyText": "The presubmit jobs do version-specific builds. This one runs unit tests on Windows. It is more similar to the checker job but I want to have \"windows\" in the name. I think this name is descriptive.", "author": "stevemessick", "createdAt": "2020-11-02T22:48:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjI5MzQ5Mw=="}], "type": "inlineReview"}, {"oid": "fddc51451477ce94f9b8c0a7b99038178a3cae56", "url": "https://github.com/flutter/flutter-intellij/commit/fddc51451477ce94f9b8c0a7b99038178a3cae56", "message": "Use github actions", "committedDate": "2020-11-03T01:00:59Z", "type": "commit"}, {"oid": "8776b80200c8146a87aca588d60b71c08c397323", "url": "https://github.com/flutter/flutter-intellij/commit/8776b80200c8146a87aca588d60b71c08c397323", "message": "permissions", "committedDate": "2020-11-03T01:00:59Z", "type": "commit"}, {"oid": "28c5293b57190959e0aef79629801a2eed9c2e14", "url": "https://github.com/flutter/flutter-intellij/commit/28c5293b57190959e0aef79629801a2eed9c2e14", "message": "drop pull_request", "committedDate": "2020-11-03T01:00:59Z", "type": "commit"}, {"oid": "19c17e4aa7cb2a1abb609464887098ea9b85bc53", "url": "https://github.com/flutter/flutter-intellij/commit/19c17e4aa7cb2a1abb609464887098ea9b85bc53", "message": "drop mac test -- it is on kokoro", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "bdf3df2be948bfadc0dac3e6a6dab485f8f61a7e", "url": "https://github.com/flutter/flutter-intellij/commit/bdf3df2be948bfadc0dac3e6a6dab485f8f61a7e", "message": "setup java", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "09467d70ec3b83382ecc29a69c209b9e1f4f7f32", "url": "https://github.com/flutter/flutter-intellij/commit/09467d70ec3b83382ecc29a69c209b9e1f4f7f32", "message": "restore path", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "4c9fdddfeb757efeb67d478e2635032c4ea18bd0", "url": "https://github.com/flutter/flutter-intellij/commit/4c9fdddfeb757efeb67d478e2635032c4ea18bd0", "message": "fix path", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "f2768921c8ecc4f74c3d33554490f07d4c2ebe4f", "url": "https://github.com/flutter/flutter-intellij/commit/f2768921c8ecc4f74c3d33554490f07d4c2ebe4f", "message": "run pub via cmd", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "b516d4781c41f94765864dc97ef934caad31452c", "url": "https://github.com/flutter/flutter-intellij/commit/b516d4781c41f94765864dc97ef934caad31452c", "message": "use full path to pub", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "7436a7ac5b6ac315261dc54e9372bd986622ce62", "url": "https://github.com/flutter/flutter-intellij/commit/7436a7ac5b6ac315261dc54e9372bd986622ce62", "message": "drop log file", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "6e34235b8f40509889b2f700fd558aa027e710f8", "url": "https://github.com/flutter/flutter-intellij/commit/6e34235b8f40509889b2f700fd558aa027e710f8", "message": "install dart with choco", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "018021453a9a9d7ec7ae2e5741cf9b55c98085ae", "url": "https://github.com/flutter/flutter-intellij/commit/018021453a9a9d7ec7ae2e5741cf9b55c98085ae", "message": "separate step for choco", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "52ffa770d8fe88ac95b654d21a28c07b32a06243", "url": "https://github.com/flutter/flutter-intellij/commit/52ffa770d8fe88ac95b654d21a28c07b32a06243", "message": "second step lost path changes", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "5737fe097ebb2ed08bb93caff0399d84944fba37", "url": "https://github.com/flutter/flutter-intellij/commit/5737fe097ebb2ed08bb93caff0399d84944fba37", "message": "clean up bat file", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "af0055aadb42275cdb52984bf6fa9d063fe0b254", "url": "https://github.com/flutter/flutter-intellij/commit/af0055aadb42275cdb52984bf6fa9d063fe0b254", "message": "debugging", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "31b77669d630ef363113e83ae41fdf8890939caa", "url": "https://github.com/flutter/flutter-intellij/commit/31b77669d630ef363113e83ae41fdf8890939caa", "message": "try powershell", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "f4234dd770a1ad22e7156a7fe4e9f56c9cd40bd6", "url": "https://github.com/flutter/flutter-intellij/commit/f4234dd770a1ad22e7156a7fe4e9f56c9cd40bd6", "message": "use non-interactive refreshend", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "5c789781e54f74cecc732f6b16575bffb71d57ac", "url": "https://github.com/flutter/flutter-intellij/commit/5c789781e54f74cecc732f6b16575bffb71d57ac", "message": "ditto, for pub", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "6ebc8ef747175bc8360e5692fb9f30a730a62b76", "url": "https://github.com/flutter/flutter-intellij/commit/6ebc8ef747175bc8360e5692fb9f30a730a62b76", "message": "merge java setup into unit test runner", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "a71094e5d47604b839d2bb4edc8fc3c0d60ccb08", "url": "https://github.com/flutter/flutter-intellij/commit/a71094e5d47604b839d2bb4edc8fc3c0d60ccb08", "message": "revert that, no actions ran", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "be9341ef2aef0824c072aaa3cb16452a562f11b1", "url": "https://github.com/flutter/flutter-intellij/commit/be9341ef2aef0824c072aaa3cb16452a562f11b1", "message": "set env in job def", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "d536bb1c89e5ed11d3632ec38a94e5a75171b8c1", "url": "https://github.com/flutter/flutter-intellij/commit/d536bb1c89e5ed11d3632ec38a94e5a75171b8c1", "message": "debugging", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "4b58783a96cc7294e3c5b8157dbb6f050ccc1186", "url": "https://github.com/flutter/flutter-intellij/commit/4b58783a96cc7294e3c5b8157dbb6f050ccc1186", "message": "debugging", "committedDate": "2020-11-03T01:01:00Z", "type": "commit"}, {"oid": "43516e2cc27efbaa86ccc932209447ff1991b1b0", "url": "https://github.com/flutter/flutter-intellij/commit/43516e2cc27efbaa86ccc932209447ff1991b1b0", "message": "debugging", "committedDate": "2020-11-03T01:01:01Z", "type": "commit"}, {"oid": "e2f93d7270b361123c1267a535bccf5805d59148", "url": "https://github.com/flutter/flutter-intellij/commit/e2f93d7270b361123c1267a535bccf5805d59148", "message": "debugging", "committedDate": "2020-11-03T01:01:01Z", "type": "commit"}, {"oid": "2a0ea7bc317278fe90452c604a3155e14921cf52", "url": "https://github.com/flutter/flutter-intellij/commit/2a0ea7bc317278fe90452c604a3155e14921cf52", "message": "debugging", "committedDate": "2020-11-03T01:01:01Z", "type": "commit"}, {"oid": "a0406822f2aaa403c8b7a269fdedd6b7e081e414", "url": "https://github.com/flutter/flutter-intellij/commit/a0406822f2aaa403c8b7a269fdedd6b7e081e414", "message": "debugging", "committedDate": "2020-11-03T01:03:33Z", "type": "commit"}, {"oid": "a0406822f2aaa403c8b7a269fdedd6b7e081e414", "url": "https://github.com/flutter/flutter-intellij/commit/a0406822f2aaa403c8b7a269fdedd6b7e081e414", "message": "debugging", "committedDate": "2020-11-03T01:03:33Z", "type": "forcePushed"}, {"oid": "ae0cc93f0f3c933b06a3e2231eb1849be914186f", "url": "https://github.com/flutter/flutter-intellij/commit/ae0cc93f0f3c933b06a3e2231eb1849be914186f", "message": "Separate workflow fr windows, add debug logging to gradle", "committedDate": "2020-11-03T16:07:54Z", "type": "commit"}, {"oid": "82b83d297d64e2ff6bdf7f35ec6800ee37c998a4", "url": "https://github.com/flutter/flutter-intellij/commit/82b83d297d64e2ff6bdf7f35ec6800ee37c998a4", "message": "debug log for tests", "committedDate": "2020-11-03T16:36:15Z", "type": "commit"}, {"oid": "bc6df82bebe31b785be7fc0a2cf1d28b903a58a2", "url": "https://github.com/flutter/flutter-intellij/commit/bc6df82bebe31b785be7fc0a2cf1d28b903a58a2", "message": "change char for window-1252 encoding", "committedDate": "2020-11-03T17:04:16Z", "type": "commit"}, {"oid": "bdc430a0ae403d3552910b848b08553ae7b3d540", "url": "https://github.com/flutter/flutter-intellij/commit/bdc430a0ae403d3552910b848b08553ae7b3d540", "message": "use utf8 in gradle", "committedDate": "2020-11-03T17:52:27Z", "type": "commit"}, {"oid": "6d2a9e7252ee5fde952a02b8053b7e88a2fd5e0c", "url": "https://github.com/flutter/flutter-intellij/commit/6d2a9e7252ee5fde952a02b8053b7e88a2fd5e0c", "message": "use latin1 instead of utf8 on windows", "committedDate": "2020-11-03T18:09:57Z", "type": "commit"}, {"oid": "ee7b3f775a0b2afc1315acece7efbd95ef7923f3", "url": "https://github.com/flutter/flutter-intellij/commit/ee7b3f775a0b2afc1315acece7efbd95ef7923f3", "message": "remove debug logging", "committedDate": "2020-11-03T18:30:44Z", "type": "commit"}, {"oid": "9ded7483a1343fe16707f013626b1491deb98b38", "url": "https://github.com/flutter/flutter-intellij/commit/9ded7483a1343fe16707f013626b1491deb98b38", "message": "fix bad chars n tests", "committedDate": "2020-11-03T19:04:34Z", "type": "commit"}, {"oid": "0a444afb90a820554101c4a106904869a94b6acc", "url": "https://github.com/flutter/flutter-intellij/commit/0a444afb90a820554101c4a106904869a94b6acc", "message": "use junit4", "committedDate": "2020-11-03T22:14:17Z", "type": "commit"}, {"oid": "8698202e7a220411e60ebc0d9832548a734a2e68", "url": "https://github.com/flutter/flutter-intellij/commit/8698202e7a220411e60ebc0d9832548a734a2e68", "message": "print classpath", "committedDate": "2020-11-03T23:15:22Z", "type": "commit"}, {"oid": "83a9d860275870e8249449e0eaa6ff632f54d09e", "url": "https://github.com/flutter/flutter-intellij/commit/83a9d860275870e8249449e0eaa6ff632f54d09e", "message": "remove printing", "committedDate": "2020-11-03T23:24:06Z", "type": "commit"}]}