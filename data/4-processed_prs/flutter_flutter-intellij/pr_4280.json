{"pr_number": 4280, "pr_title": "Kokoro build configuration", "pr_createdAt": "2020-01-14T23:18:04Z", "pr_url": "https://github.com/flutter/flutter-intellij/pull/4280", "timeline": [{"oid": "6c0018210dceee737400daf75f6b6aaadf621705", "url": "https://github.com/flutter/flutter-intellij/commit/6c0018210dceee737400daf75f6b6aaadf621705", "message": "Kokoro build files for dev channel", "committedDate": "2020-01-14T23:07:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk2ODg5OQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r366968899", "bodyText": "flutter-intellij/kokoro/macos_external/kokoro_build.sh ?", "author": "devoncarew", "createdAt": "2020-01-15T16:16:55Z", "path": "kokoro/macos_external/continuous.cfg", "diffHunk": "@@ -0,0 +1,6 @@\n+# Format: //devtools/kokoro/config/proto/build.proto\n+\n+\n+# Location of the bash script. Should have value <github_scm.name>/<path_from_repository_root>.\n+# github_scm.name is specified in the job configuration (next section).\n+build_file: \"flutter-intellij-kokoro/kokoro/macos_external/kokoro_build.sh\"", "originalCommit": "6c0018210dceee737400daf75f6b6aaadf621705", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk3MDg5NQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r366970895", "bodyText": "From reading the comment, I don't see github_scm.name specified?\n\ngithub_scm.name is specified in the job configuration (next section)", "author": "devoncarew", "createdAt": "2020-01-15T16:20:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk2ODg5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA1MjcxOA==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r367052718", "bodyText": "That quote is from the sample file generated by the code lab. The next section of the code lab describes the job configuration. I should clean that up.", "author": "stevemessick", "createdAt": "2020-01-15T19:04:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk2ODg5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk2OTg4Nw==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r366969887", "bodyText": "nit: extra eol", "author": "devoncarew", "createdAt": "2020-01-15T16:18:35Z", "path": "kokoro/macos_external/kokoro_build.sh", "diffHunk": "@@ -0,0 +1,20 @@\n+#!/bin/bash\n+\n+# Fail on any error.\n+set -e\n+\n+# Display commands being run.\n+# WARNING: please only enable 'set -x' if necessary for debugging, and be very\n+#  careful if you handle credentials (e.g. from Keystore) with 'set -x':\n+#  statements like \"export VAR=$(cat /tmp/keystore/credentials)\" will result in\n+#  the credentials being printed in build logs.\n+#  Additionally, recursive invocation with credentials as command-line\n+#  parameters, will print the full command, with credentials, in the build logs.\n+# set -x\n+\n+", "originalCommit": "6c0018210dceee737400daf75f6b6aaadf621705", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA1MzE0OQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r367053149", "bodyText": "I just copied the file from the code lab, but I can remove that.", "author": "stevemessick", "createdAt": "2020-01-15T19:05:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk2OTg4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk3MDA0NA==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r366970044", "bodyText": "nit add a preceding eol?", "author": "devoncarew", "createdAt": "2020-01-15T16:18:50Z", "path": "kokoro/macos_external/kokoro_build.sh", "diffHunk": "@@ -0,0 +1,20 @@\n+#!/bin/bash\n+\n+# Fail on any error.\n+set -e\n+\n+# Display commands being run.\n+# WARNING: please only enable 'set -x' if necessary for debugging, and be very\n+#  careful if you handle credentials (e.g. from Keystore) with 'set -x':\n+#  statements like \"export VAR=$(cat /tmp/keystore/credentials)\" will result in\n+#  the credentials being printed in build logs.\n+#  Additionally, recursive invocation with credentials as command-line\n+#  parameters, will print the full command, with credentials, in the build logs.\n+# set -x\n+\n+\n+# Code under repo is checked out to ${KOKORO_ARTIFACTS_DIR}/github.\n+# The final directory name in this path is determined by the scm name specified\n+# in the job configuration.\n+cd ${KOKORO_ARTIFACTS_DIR}/github/flutter-intellij-kokoro\n+./tool/kokoro/build.sh", "originalCommit": "6c0018210dceee737400daf75f6b6aaadf621705", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk3MDQ5Mw==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r366970493", "bodyText": "Just clarifying - from reading the above, the job name is flutter-intellij-kokoro?", "author": "devoncarew", "createdAt": "2020-01-15T16:19:37Z", "path": "kokoro/macos_external/kokoro_build.sh", "diffHunk": "@@ -0,0 +1,20 @@\n+#!/bin/bash\n+\n+# Fail on any error.\n+set -e\n+\n+# Display commands being run.\n+# WARNING: please only enable 'set -x' if necessary for debugging, and be very\n+#  careful if you handle credentials (e.g. from Keystore) with 'set -x':\n+#  statements like \"export VAR=$(cat /tmp/keystore/credentials)\" will result in\n+#  the credentials being printed in build logs.\n+#  Additionally, recursive invocation with credentials as command-line\n+#  parameters, will print the full command, with credentials, in the build logs.\n+# set -x\n+\n+\n+# Code under repo is checked out to ${KOKORO_ARTIFACTS_DIR}/github.\n+# The final directory name in this path is determined by the scm name specified\n+# in the job configuration.\n+cd ${KOKORO_ARTIFACTS_DIR}/github/flutter-intellij-kokoro", "originalCommit": "6c0018210dceee737400daf75f6b6aaadf621705", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA1Mzc2NA==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r367053764", "bodyText": "Yes. It is the directory into which this repo is checked out when Kokoro runs.", "author": "stevemessick", "createdAt": "2020-01-15T19:06:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk3MDQ5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk3MTA1Ng==", "url": "https://github.com/flutter/flutter-intellij/pull/4280#discussion_r366971056", "bodyText": "bit: extra eol", "author": "devoncarew", "createdAt": "2020-01-15T16:20:39Z", "path": "kokoro/macos_external/presubmit.cfg", "diffHunk": "@@ -0,0 +1,6 @@\n+# Format: //devtools/kokoro/config/proto/build.proto\n+\n+", "originalCommit": "6c0018210dceee737400daf75f6b6aaadf621705", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6fd24c28375302551e47af20805518550f154b39", "url": "https://github.com/flutter/flutter-intellij/commit/6fd24c28375302551e47af20805518550f154b39", "message": "Clean up", "committedDate": "2020-01-15T19:16:17Z", "type": "commit"}]}