{"pr_number": 2639, "pr_title": "(I #2638) Feature to Goto a page directly", "pr_createdAt": "2020-05-24T04:13:18Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/2639", "timeline": [{"oid": "c2ffe42c5f5ab5f87bdaa3bb14d30788cfc7b819", "url": "https://github.com/OpenRefine/OpenRefine/commit/c2ffe42c5f5ab5f87bdaa3bb14d30788cfc7b819", "message": "Remove feature Edit Facet Name\n\nRemove feature Edit Facet Name that got merged by mistake.", "committedDate": "2020-06-17T04:48:56Z", "type": "commit"}, {"oid": "51b4fbccbc3bd18c5f62d6fc1d3f9f8899699dae", "url": "https://github.com/OpenRefine/OpenRefine/commit/51b4fbccbc3bd18c5f62d6fc1d3f9f8899699dae", "message": "Remove feature Edit Facet Name\n\nRemove feature Edit Facet Name that got merged by mistake.", "committedDate": "2020-06-17T04:52:56Z", "type": "commit"}, {"oid": "cd0960f9a1df070cf0ffe98c355a3aec49b13242", "url": "https://github.com/OpenRefine/OpenRefine/commit/cd0960f9a1df070cf0ffe98c355a3aec49b13242", "message": "Spacing\n\nSpacing", "committedDate": "2020-06-17T04:54:31Z", "type": "commit"}, {"oid": "dd0b88b113caa356d0d8438855ae552151dd3ec0", "url": "https://github.com/OpenRefine/OpenRefine/commit/dd0b88b113caa356d0d8438855ae552151dd3ec0", "message": "Fix the delay, adjust to .2 s.\n\nFix the delay, adjust to .2 s. and stop using promises.", "committedDate": "2020-06-17T06:05:55Z", "type": "commit"}, {"oid": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d", "url": "https://github.com/OpenRefine/OpenRefine/commit/2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d", "message": "Merge branch 'master' into issue-2638-goto-any-page", "committedDate": "2020-06-17T06:15:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM0ODkyNg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441348926", "bodyText": "This line throws an error as there is no headerTable anymore, it was changed to tableHeader in #2719.\nSo if I pull the PR now, the projects don't load:", "author": "lisa761", "createdAt": "2020-06-17T07:48:18Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -133,8 +138,7 @@ DataTableView.prototype.render = function() {\n     this._renderSortingControls(elmts.sortingControls);\n   }\n \n-  this._renderDataTables(elmts.table[0], elmts.tableHeader[0]);\n-  this._div.empty().append(html);\n+  this._renderDataTables(elmts.table[0], elmts.headerTable[0]);", "originalCommit": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM1MDM3Nw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441350377", "bodyText": ".data-header-table was also changed to data-table-header in #2719.", "author": "lisa761", "createdAt": "2020-06-17T07:50:43Z", "path": "main/webapp/modules/core/styles/views/data-table-view.less", "diffHunk": "@@ -55,7 +55,53 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   font-weight: bold;\n   }\n \n-.data-table-header {\n+.viewpanel-rowrecord a {\n+  background-color: @fill_primary;\n+  margin: 0px 1px 0px 1px;\n+  padding: 2px 5px 2px 5px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-pagesize a {\n+  background-color: @fill_primary;\n+  margin: 0px 2px 0px 2px;\n+  padding: 2px 3px 2px 3px;\n+  .rounded_corners(4px);\n+  }\n+\n+div.viewpanel-pagesize span:first-of-type {\n+  margin: 0px 0px 0px 20px;\n+}\n+\n+.viewpanel-paging a {\n+  background-color: @fill_primary;\n+  margin: 0px 4px 0px 4px;\n+  padding: 2px 10px 2px 10px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-paging span#viewpanel-paging-current {\n+  margin: 0 10px 0 10px;\n+  padding: 0px;\n+  }\n+\n+.viewpanel-paging input#viewpanel-paging-current-input {\n+  width: 60px;\n+  margin: 0px;\n+  padding: 0px;\n+  height: 16px;\n+  position: relative;\n+  top: -2px;\n+  }\n+\n+.data-header-table-container {\n+  border-top: 1px solid @chrome_primary;\n+  border-bottom: 2px solid @chrome_primary;\n+  background: @fill_primary;\n+  overflow: visible;\n+  }\n+\n+.data-header-table {", "originalCommit": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07d26fb58d64042b79f9c02ab2e282ef5a4e374f", "url": "https://github.com/OpenRefine/OpenRefine/commit/07d26fb58d64042b79f9c02ab2e282ef5a4e374f", "message": "Fix headerTable to tableHeader\n\nFix headerTable to tableHeader (PR #2719)", "committedDate": "2020-06-17T08:17:35Z", "type": "commit"}, {"oid": "3f246dd6c31bb190b4ef02ce73ac9bba25b8137e", "url": "https://github.com/OpenRefine/OpenRefine/commit/3f246dd6c31bb190b4ef02ce73ac9bba25b8137e", "message": "data-header-table to data-table-header\n\ndata-header-table to data-table-header", "committedDate": "2020-06-17T08:22:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3MDgxNw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441370817", "bodyText": "We don't need this style for  .data-header-table-container either, as that container was also removed (unless you're using it somewhere?). Sorry, I missed it earlier.", "author": "lisa761", "createdAt": "2020-06-17T08:24:58Z", "path": "main/webapp/modules/core/styles/views/data-table-view.less", "diffHunk": "@@ -55,7 +55,53 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   font-weight: bold;\n   }\n \n-.data-table-header {\n+.viewpanel-rowrecord a {\n+  background-color: @fill_primary;\n+  margin: 0px 1px 0px 1px;\n+  padding: 2px 5px 2px 5px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-pagesize a {\n+  background-color: @fill_primary;\n+  margin: 0px 2px 0px 2px;\n+  padding: 2px 3px 2px 3px;\n+  .rounded_corners(4px);\n+  }\n+\n+div.viewpanel-pagesize span:first-of-type {\n+  margin: 0px 0px 0px 20px;\n+}\n+\n+.viewpanel-paging a {\n+  background-color: @fill_primary;\n+  margin: 0px 4px 0px 4px;\n+  padding: 2px 10px 2px 10px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-paging span#viewpanel-paging-current {\n+  margin: 0 10px 0 10px;\n+  padding: 0px;\n+  }\n+\n+.viewpanel-paging input#viewpanel-paging-current-input {\n+  width: 60px;\n+  margin: 0px;\n+  padding: 0px;\n+  height: 16px;\n+  position: relative;\n+  top: -2px;\n+  }\n+\n+.data-header-table-container {", "originalCommit": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3ODc4Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441378786", "bodyText": "@lisa761: thank you so much for pointing me your changes in my PR. I would have had a very hard time to find them by myself.\nI'm now pretty good, and you, can you run it smooth? Have you tried the Up/Down Arrow Keys?\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-06-17T08:38:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3MDgxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM5MzA1NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441393054", "bodyText": "Yes, it's pretty great actually!", "author": "lisa761", "createdAt": "2020-06-17T08:59:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3MDgxNw=="}], "type": "inlineReview"}, {"oid": "1e6bd73345244c26be94f367162213cf667707bc", "url": "https://github.com/OpenRefine/OpenRefine/commit/1e6bd73345244c26be94f367162213cf667707bc", "message": "Remove .data-header-table-container\n\nRemove .data-header-table-container", "committedDate": "2020-06-17T08:35:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcxMDE2OA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441710168", "bodyText": "This should be pluralized the same way Spanish and English is.", "author": "tfmorris", "createdAt": "2020-06-17T17:29:04Z", "path": "main/webapp/modules/core/langs/translation-fr.json", "diffHunk": "@@ -537,6 +537,7 @@\n     \"core-views/view\": \"Aper\u00e7u\",\n     \"core-views/extend-not-supported\": \"Ce service de r\u00e9conciliation de supporte pas l'extension de donn\u00e9es. Essayez de supprimer le service et de l'ajouter \u00e0 nouveau. Si le probl\u00e8me persiste, contactez le fournisseur de service.\",\n     \"core-views/to-text\": \"En texte\",\n+    \"core-views/goto-page\": \"$1 de $2 page(s)\",", "originalCommit": "1e6bd73345244c26be94f367162213cf667707bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "50aa75f26c4939bf5bdc0b74c0e640f3e502de69", "url": "https://github.com/OpenRefine/OpenRefine/commit/50aa75f26c4939bf5bdc0b74c0e640f3e502de69", "message": "Merge pull request #1 from OpenRefine/master\n\n2020-04-19 Update master", "committedDate": "2020-04-19T21:36:41Z", "type": "commit"}, {"oid": "2f49878dc736a4246d994bfc9cf9ba71117027fd", "url": "https://github.com/OpenRefine/OpenRefine/commit/2f49878dc736a4246d994bfc9cf9ba71117027fd", "message": "Merge branch 'master' of https://github.com/OpenRefine/OpenRefine", "committedDate": "2020-05-11T02:01:31Z", "type": "commit"}, {"oid": "c775556979c37d1739e77b97a075770f2ef6186b", "url": "https://github.com/OpenRefine/OpenRefine/commit/c775556979c37d1739e77b97a075770f2ef6186b", "message": "2020-05-23 Merge branch 'master' of https://github.com/OpenRefine/OpenRefine", "committedDate": "2020-05-23T04:50:26Z", "type": "commit"}, {"oid": "2f92e9b1a6a8802b5d7553f98450758b0737319c", "url": "https://github.com/OpenRefine/OpenRefine/commit/2f92e9b1a6a8802b5d7553f98450758b0737319c", "message": "Start for Goto Page link.\n\nFirst implementation. Is functional.", "committedDate": "2020-05-24T04:12:00Z", "type": "commit"}, {"oid": "1cdf81b4f0fa7b1034fe0762e60989dde376d676", "url": "https://github.com/OpenRefine/OpenRefine/commit/1cdf81b4f0fa7b1034fe0762e60989dde376d676", "message": "Background-color & validation\n\nBackground-color for each \u00ab button\u00a0\u00bb & validation for the page choice of the user: number, > 1 & < last & singular for a one page project.", "committedDate": "2020-05-24T05:14:11Z", "type": "commit"}, {"oid": "1fa634cdb447ef831e4314804bd3820c497284db", "url": "https://github.com/OpenRefine/OpenRefine/commit/1fa634cdb447ef831e4314804bd3820c497284db", "message": "Changed from prompt() to <input type=\"number\">\n\nChanged from prompt() to <input type=\"number\">, and visual X out Y.", "committedDate": "2020-05-25T08:41:40Z", "type": "commit"}, {"oid": "55c57d46d0f57b61b25ebe61653112825b92a117", "url": "https://github.com/OpenRefine/OpenRefine/commit/55c57d46d0f57b61b25ebe61653112825b92a117", "message": "Manage bounds in a sticky way\n\nIf the user choose below 1, 1 will be displayed, and if the user choose above the max, the max page will be displayed.", "committedDate": "2020-05-25T21:43:55Z", "type": "commit"}, {"oid": "18cc070e2ef570388023d1b040abcb5e0ede2c1d", "url": "https://github.com/OpenRefine/OpenRefine/commit/18cc070e2ef570388023d1b040abcb5e0ede2c1d", "message": "width of <input> & \u00ab\u00a0of X pages\u00a0\u00bb\n\nAdd pages after \u00ab\u00a0of maxValue\u00a0\u00bb, calculate the width of <input> based on max value.", "committedDate": "2020-05-25T23:10:06Z", "type": "commit"}, {"oid": "a5709fbd57b4ad773fc4d11d5c836554cbb8105a", "url": "https://github.com/OpenRefine/OpenRefine/commit/a5709fbd57b4ad773fc4d11d5c836554cbb8105a", "message": "Update data-table-view.js\n\nLittle fix.", "committedDate": "2020-05-25T23:13:26Z", "type": "commit"}, {"oid": "f50ceb95c96cff2967120ad1bb7bcf645c3d6619", "url": "https://github.com/OpenRefine/OpenRefine/commit/f50ceb95c96cff2967120ad1bb7bcf645c3d6619", "message": "Correct min and max for <input>\n\nCorrect min and max for <input>", "committedDate": "2020-05-26T00:46:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430109214", "bodyText": "I'd also add required so we don't accept an empty value\nREF: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number#Validation\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                .attr(\"id\", \"viewpanel-paging-current-input\")\n          \n          \n            \n                .attr(\"id\", \"viewpanel-paging-current-input\")\n          \n          \n            \n                .attr(\"required\", \"\")", "author": "thadguidry", "createdAt": "2020-05-26T00:58:43Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,23 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n+  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"id\", \"viewpanel-paging-current-input\")", "originalCommit": "f50ceb95c96cff2967120ad1bb7bcf645c3d6619", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDExMDY0MQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430110641", "bodyText": "Why is \"id\" attr repeated?", "author": "thadguidry", "createdAt": "2020-05-26T01:07:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEyNjc5Mg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430126792", "bodyText": "Dumb mistake. I do them sometimes\u2026 ;-)", "author": "antoine2711", "createdAt": "2020-05-26T02:30:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEyNjkyOQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430126929", "bodyText": "I'd also add required so we don't accept an empty value\nREF: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number#Validation\n\nNot sure if the required will change something, because I was managing it, but I guess it can't hurt. Added.", "author": "antoine2711", "createdAt": "2020-05-26T02:31:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA=="}], "type": "inlineReview"}, {"oid": "929b654d19b3828e4fe18ab1954ac4c895dbf706", "url": "https://github.com/OpenRefine/OpenRefine/commit/929b654d19b3828e4fe18ab1954ac4c895dbf706", "message": "Managment of the arrow's key down.\n\nAdd managment to keep the arrow's key in the CurrentPage <input>.", "committedDate": "2020-05-26T02:28:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430135357", "bodyText": "Nice.  It's a bit sluggish, and not quick firing like on the Mozilla Dev example URL I gave earlier, perhaps nothing you can do about that since we're evaluating a bunch on the key press now it seems?\nAlso, we need to check if currentPageNumber is already 1 ... and we press Down Arrow key...then DO NOTHING (I.E. do not onClickNextPage).\nBecause now, if it's on 1 and I press Down Arrow key on my keyboard...it increments to 2, instead of staying on 1.\nSame goes for if I press Up Arrow key and the currentPageNumber == Max page number, it should stay at Max page number and not increase.", "author": "thadguidry", "createdAt": "2020-05-26T03:13:54Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -524,6 +526,17 @@ DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n   this._showRows((gotoPageNumber - 1) * this._pageSize);\n };\n \n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+\n+  if(keyDownCode == 38) this._onClickPreviousPage(elmt, evt);", "originalCommit": "929b654d19b3828e4fe18ab1954ac4c895dbf706", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNjAyNw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430136027", "bodyText": "And...you need to flip the Up/Down arrow keypress to do the opposite... DOWN is go down the sheet.  Users will expect it to increment, and when you press UP arrow, users would expect it to scroll up on row/record index, or in other words, decrement the page number.", "author": "thadguidry", "createdAt": "2020-05-26T03:17:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNjg5OQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430136899", "bodyText": "Going to bed... will check on updates in morning.\nWe're so close to perfection now!!!", "author": "thadguidry", "createdAt": "2020-05-26T03:21:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDE1MTc4Nw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430151787", "bodyText": "Good morning @thadguidry, here's your update!\n\nNice. It's a bit sluggish, and not quick firing like on the Mozilla Dev example URL I gave earlier, perhaps nothing you can do about that since we're evaluating a bunch on the key press now it seems?\n\nIt's because since we delete/rebuilt control with each change of page, I must resort to an unorthodox method. I wait 1,5 s. for the data-panel to be rebuilt. This is ok, but not more. I'm not proud of that, but I believe you bear the responsability to send me to those murky waters\u2026 I'm kidding, of course, but still, this arrow thing is a bit stretching our current table management.\n\nAlso, we need to check if currentPageNumber is already 1 ... and we press Down Arrow key...then DO NOTHING (I.E. do not onClickNextPage).\nBecause now, if it's on 1 and I press Down Arrow key on my keyboard...it increments to 2, instead of staying on 1.\nSame goes for if I press Up Arrow key and the currentPageNumber == Max page number, it should stay at Max page number and not increase.\n\nIt is now fixed. It stops at bounds.\n\nAnd...you need to flip the Up/Down arrow keypress to do the opposite... DOWN is go down the sheet. Users will expect it to increment, and when you press UP arrow, users would expect it to scroll up on row/record index, or in other words, decrement the page number.\n\nI understand that, BUT\u2026 just beside are the <input type=\"number\"> arrows. And they follow the human number convention, where higher # has a meaning. So, we are doing the contrary. This is weird. You think about it. It's now change, but it will be easy to change back if you want so.\n\nGoing to bed... will check on updates in morning.\nWe're so close to perfection now!!!\n\nWell, I guess you will have fun testing that tomorrow!\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-05-26T04:39:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw=="}], "type": "inlineReview"}, {"oid": "ce6f7de774930398109f3ddaea3910e99a0f0389", "url": "https://github.com/OpenRefine/OpenRefine/commit/ce6f7de774930398109f3ddaea3910e99a0f0389", "message": "Fixes for Thad\u2019s KeyDown's \u00ab\u00a0Infinite Paging\u00a0\u00bb\n\nFixes for Thad\u2019s KeyDown's \u00ab\u00a0Infinite Paging\u00a0\u00bb & PageSize changes.", "committedDate": "2020-05-26T05:32:28Z", "type": "commit"}, {"oid": "0003a74c7e75add50c30a94cb51c2677ee44faac", "url": "https://github.com/OpenRefine/OpenRefine/commit/0003a74c7e75add50c30a94cb51c2677ee44faac", "message": "Code rehookCurrentPageInput & spacing\n\nCode rehookCurrentPageInput & spacing for PageSize section", "committedDate": "2020-05-26T06:05:25Z", "type": "commit"}, {"oid": "6cbb13dc3372cde715c94b2fac2006361775a659", "url": "https://github.com/OpenRefine/OpenRefine/commit/6cbb13dc3372cde715c94b2fac2006361775a659", "message": "Update data-table-view.js\n\nFix & move code in Page Control.", "committedDate": "2020-05-26T07:24:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430449218", "bodyText": "I think something like this for example would be more efficient...\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                .change(function(evt) { self._onChangeGotoPage(this, evt); })\n          \n          \n            \n                /* Don't fire the GotoPage until the user has stopped typing or pressing keys...\n          \n          \n            \n                \n          \n          \n            \n                // .change(function(evt) { self._onChangeGotoPage(this, evt); })\n          \n          \n            \n                // .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n          \n          \n            \n                \n          \n          \n            \n               // So, we check the keyup, and delay for some configurable Timeout, default .7 secs, and then attempt to GotoPage...\n          \n          \n            \n                .bind('keyup', function(evt) {self._onChangeGotoPage(this, evt); })\n          \n      \n    \n    \n  \n\nThe idea is to allow the browser's own <input type=\"number\"> handling to work...and we don't do anything until after the user has finished manipulating the control for some configurable Timeout, and then we submit the Change event with whatever value is there.  We did something similar to this on the Text Search Facet.\nREFS:\n\nhttps://stackoverflow.com/questions/1909441/how-to-delay-the-keyup-handler-until-the-user-stops-typing\n\n  \n    \n      OpenRefine/main/webapp/modules/core/scripts/facets/text-search-facet.js\n    \n    \n         Line 221\n      in\n      3ca08f6\n    \n    \n    \n    \n\n        \n          \n           this._timerID = window.setTimeout(function() {", "author": "thadguidry", "createdAt": "2020-05-26T14:19:48Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -178,10 +177,10 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n-  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n   \n-  currentPageInput = $('<input type=\"number\">')\n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n     .change(function(evt) { self._onChangeGotoPage(this, evt); })", "originalCommit": "6cbb13dc3372cde715c94b2fac2006361775a659", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU3Njc2Mg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430576762", "bodyText": "@thadguidry: Are you sure this is needed/useful?\nI'm not sure I understand you. You want to get the change of page to auto-execute after a certain period of time? What is the added benefit? Not pressing [RETURN]?\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-05-26T17:15:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY3MzU0Nw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430673547", "bodyText": "Lets drop that need however.  Automatically hitting [RETURN] for folks.  They get that with a mouse click on the existing Prev / Next buttons.  I was thinking of accessibility as other apps work this way by holding down up or down arrow to go up or down to pages.  But it currently doesn't feel fluid to me with this current code change for some reason.  So let's park that need for now.\nThe input box should require the user to press [RETURN] key to go to the page they have typed in.  DONE.\nIf the users want to cycle forward or backward, they will have to use mouse clicks on our Prev / Next buttons.  DONE.\nIf you want to revert those last changes for now, that's fine.  And then we can merge.", "author": "thadguidry", "createdAt": "2020-05-26T19:59:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDczNDE4Mw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430734183", "bodyText": "Lets drop that need however. Automatically hitting [RETURN] for folks.\n\nIf the user presses [RETURN] after changing the number, the browser does the out-of-focus (blur) automatically. I didn't code anything for that.\n\nThey get that with a mouse click on the existing Prev / Next buttons. I was thinking of accessibility as other apps work this way by holding down up or down arrow to go up or down to pages. But it currently doesn't feel fluid to me with this current code change for some reason. So let's park that need for now.\n\nAre you talking of the Arrow Keys, or the Arrow button? )\nMaybe if you give me a precise example of an application and the place in the UI that handles that, I could understand better.\n\nThe input box should require the user to press [RETURN] key to go to the page they have typed in. DONE.\nIf the users want to cycle forward or backward, they will have to use mouse clicks on our Prev / Next buttons. DONE.\n\nAnd don't forget the Keyboard Arrows! That's a nice add-on you proposed.\n\nIf you want to revert those last changes for now, that's fine. And then we can merge.\n\nK. I'll wrap up and finish this issue.\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-05-26T22:06:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA=="}], "type": "inlineReview"}, {"oid": "1d43827754c41ad8a93f11c49a79eaf183ff911c", "url": "https://github.com/OpenRefine/OpenRefine/commit/1d43827754c41ad8a93f11c49a79eaf183ff911c", "message": "Wrap in a Try/Catch the currentPageInput.focus()\n\nWrap in a Try/Catch the currentPageInput.focus() and add a verification of focus change with if(!(currentPageInput.is(\":focus\"))) window.setTimeout(rehookCurrentPageInput, rehookDelay).", "committedDate": "2020-05-27T02:17:51Z", "type": "commit"}, {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41", "url": "https://github.com/OpenRefine/OpenRefine/commit/197897e8ceabeed2fe86725451f0b5322e266f41", "message": "Fixed currentPageInput != document.activeElement\n\nFixed currentPageInput != document.activeElement\n\nthat was before: !(currentPageInput.is(\":focus\"))", "committedDate": "2020-05-27T07:20:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432824014", "bodyText": "This ' of ' should be localized, and we need to rework the code a bit so that the page numbers that are prepended / appended to the message are inserted in a template instead (so that translators can choose to reorder them if necessary). If this is unclear let me know, I can give examples.", "author": "wetneb", "createdAt": "2020-05-30T08:48:05Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,27 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\")\n+    .appendTo(pageControlsSpan);\n+\n+  pageControlsSpan.append('\u00a0of\u00a0');", "originalCommit": "197897e8ceabeed2fe86725451f0b5322e266f41", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNzkyMw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432827923", "bodyText": "I'm laughing, because I asked you that somewhere. But maybe I forgot to \u00ab mention\u00a0\u00bb you\u2026 But I know we would get to that.\nYes. Somewhere, I asked you an example of code using templates, about the concept of \u00ab placeholder\u00a0\u00bb -> \u00ab [FIELD] of [SPAN] pages\u00a0\u00bb, and the concept of singular/plural: \u00ab [FIELD] of [1] page\u00a0\u00bb.", "author": "antoine2711", "createdAt": "2020-05-30T09:53:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgzMTc4OQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432831789", "bodyText": "See #1858 (comment)", "author": "wetneb", "createdAt": "2020-05-30T10:54:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk5NTI1OQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432995259", "bodyText": "See #1858 (comment)\n\nThanks @wetneb for the pointer. It is now coded and working, FR, EN & ES.\nEDIT: There is a bug in french\u2026\nI think I have answered all questions and fulfilled all requests for the PR. Is there anything next?\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-05-31T23:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwNTE5NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r433005194", "bodyText": "@wetneb: I fixed the problem for FR by using \u00ab page(s) \u00bb\u00a0in the french JSON file. The problem is only in French (AFAIK) and I described the problem in #1858.\nFor this issue, everything should be K.\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-06-01T01:06:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432824123", "bodyText": "Why do we need to rehook anything? Are you working around a specific browser bug? It would be good to add some comments to explain what is going on here.", "author": "wetneb", "createdAt": "2020-05-30T08:49:53Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +517,80 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  var rehookDelay = 50;\n+  var rehookCurrentPageInput = function() { ", "originalCommit": "197897e8ceabeed2fe86725451f0b5322e266f41", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODU4MQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432828581", "bodyText": "Why do we need to rehook anything? Are you working around a specific browser bug? It would be good to add some comments to explain what is going on here.\n\nHere, the code logic is simple. The  field, from what I understand, gets deleted with a page change. The data gets requeried for each page change, so a new field is created \u00ab\u00a0sometimes\u00a0\u00bb after. The joy with client/server roundtrip is that is take a very different time for the exact same task\u2026 network contribution and it's overhead I guess\u2026\nSo, I don't know \u00ab when\u00a0\u00bb the new field will exists. So, I come back quickly, but if the new field doesn't exist, then, I'll just comeback latter, as long as it takes\u2026\nIt is not the best coding choice, it's the less disruptive code change choice. Less change, potentially less breaking, but maybe not. It's not a hack, but it's not pure. A refactoring of the UI would be better, but development path wise, this now, and the Vue.js change after that, then fixing this would be very easy, I think. More than now anyway.", "author": "antoine2711", "createdAt": "2020-05-30T10:03:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgzMjA2Mw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432832063", "bodyText": "I have heard you talking about \"the Vue.js change\" before but I am not aware of anyone planning to do that soon, unless @lisa761 has expressed the wish to do this during the GSoC project?\nI understand you do not want to introduce code changes that are too involved but I am not comfortable with merging a hack like that, it could easily break if the update takes longer then 50ms.", "author": "wetneb", "createdAt": "2020-05-30T10:58:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg2Njg3Nw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432866877", "bodyText": "@wetneb But is it an actual \"break\" that's not quickly recoverable by a user? Where the UX is completely locked up?  I don't think so, right?  This would just appear to the user that things don't update...they click in another area of the UI to refocus in some other area, then the UX is recovered.  No?  Or am I missing something?", "author": "thadguidry", "createdAt": "2020-05-30T16:11:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODAyNg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432878026", "bodyText": "I have heard you talking about \"the Vue.js change\" before but I am not aware of anyone planning to do that soon, unless @lisa761 has expressed the wish to do this during the GSoC project?\n\nI was referring to #1312. But it seams it's dropped since a few days\u2026\n\nI understand you do not want to introduce code changes that are too involved but I am not comfortable with merging a hack like that, it could easily break if the update takes longer then 50ms.\n\nThis is not what it does: if after 50ms, it doesn't see the <input> it reschedule a check in the next 50 ms. And it will do that as long as it takes.\nWhat I don't like about this, is that if there is a recurring error, then the mechanism will always be retriggered. That it's limitation. Now, that \u00ab shouldn't \u00bb happen, but it could in particular circonstances.\nLike, if this feature was to be pushed in v3.4, I wouldn't not put \u00ab Infinite Paging\u00a0\u00bb in it. But, in v3.5, I would put it.\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-05-30T18:47:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg5NDMxNQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432894315", "bodyText": "Oups. I'm sorry. My comment is about code not pushed on server.\nNow, what I have is clean. It's recursive, and has a fail safe to stop after x times.\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-05-30T23:06:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}], "type": "inlineReview"}, {"oid": "9a18af29cf24d4bb3ae59c0b6f62516231414154", "url": "https://github.com/OpenRefine/OpenRefine/commit/9a18af29cf24d4bb3ae59c0b6f62516231414154", "message": "Better handling of the \u00ab Infinite Paging \u00bb\n\nBetter handling of the \u00ab Infinite Paging \u00bb with window.setTimeout(rehookCurrentPageInput, rehookDelay)", "committedDate": "2020-05-30T22:57:34Z", "type": "commit"}, {"oid": "6254eff3bc13880c8e9038e3f4a059e08f722815", "url": "https://github.com/OpenRefine/OpenRefine/commit/6254eff3bc13880c8e9038e3f4a059e08f722815", "message": "$.i18n('core-views/goto-page', \u2026\n\n$.i18n('core-views/goto-page', '<span id=\"currentPageInput\" />', '<span id=\"lastPageSpan\" />'))", "committedDate": "2020-05-31T23:21:27Z", "type": "commit"}, {"oid": "ef288fa37208a0e3782287ead50e183de0577418", "url": "https://github.com/OpenRefine/OpenRefine/commit/ef288fa37208a0e3782287ead50e183de0577418", "message": "Fix i18n plural\n\nFix i18n plural, FR still not fixed.", "committedDate": "2020-05-31T23:58:25Z", "type": "commit"}, {"oid": "7274a21ee04e6480e50de39f1a7788164dd1981a", "url": "https://github.com/OpenRefine/OpenRefine/commit/7274a21ee04e6480e50de39f1a7788164dd1981a", "message": "Remove {{plural:$2|page|pages}} in french\n\nRemove {{plural:$2|page|pages}} in French, not working.", "committedDate": "2020-06-01T00:04:24Z", "type": "commit"}, {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1", "url": "https://github.com/OpenRefine/OpenRefine/commit/00e5e67afdebaeee83812224ffade1aac190a2d1", "message": "Update data-table-view.js\n\nForgot a semi-comma.", "committedDate": "2020-06-01T00:58:29Z", "type": "commit"}, {"oid": "2403959d3e02f732dca84aa3b14cd206abc82893", "url": "https://github.com/OpenRefine/OpenRefine/commit/2403959d3e02f732dca84aa3b14cd206abc82893", "message": "Merge branch 'master' of https://github.com/OpenRefine/OpenRefine", "committedDate": "2020-06-06T09:47:35Z", "type": "commit"}, {"oid": "77b38a7ab0aa1d8bfcdcbbbf3d58e4d104b5a121", "url": "https://github.com/OpenRefine/OpenRefine/commit/77b38a7ab0aa1d8bfcdcbbbf3d58e4d104b5a121", "message": "Merge branch 'master' of https://github.com/OpenRefine/OpenRefine", "committedDate": "2020-06-08T07:16:43Z", "type": "commit"}, {"oid": "82d87b1978f95c718a5495afc1bfd3d0169ca8ef", "url": "https://github.com/OpenRefine/OpenRefine/commit/82d87b1978f95c718a5495afc1bfd3d0169ca8ef", "message": "First implementation\n\nFirst implementation, is functional.", "committedDate": "2020-06-08T18:32:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437623182", "bodyText": "By principle I do not think we should start relying on timeouts like this to build the UI. If the DOM element is deleted and re-added somewhere, then the code to bind events on it should be placed there, in the code that sets it up.", "author": "wetneb", "createdAt": "2020-06-09T18:09:58Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "originalCommit": "00e5e67afdebaeee83812224ffade1aac190a2d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY5MDM0Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437690346", "bodyText": "By principle I do not think we should start relying on timeouts like this to build the UI.\nYes, I agree with you that.\n\n\nIf the DOM element is deleted and re-added somewhere, then the code to bind events on it should be placed there, in the code that sets it up.\n\n@wetneb: rebinding is not the problem, it's probably already done. What we have here is the need to \u00ab refocus\u00a0\u00bb inside the next input field.\nMe, I think the best way would just be to not delete the input, then, you have nothing to do more. The setTimeout is just compensation required by that fact that the paging control are deleted/recreated each time a page changes. It could be much more gentle in the code.\nSo, I guess we should just drop this \u00ab Infinite Paging \u00bb with the arrow keys. It's not important, and I coded it because @thadguidry wanted to try that, but it is beyond the scope of this issue. When @lisa761 will be done with the table code overhaul, I can revisit this. But now, either we live with it as is, or we remove it. I doesn't break at all on Chrome, so it's not a bad coding.\nMaybe I don't understand what you mean by \u00ab then the code to bind events on it should be placed there, in the code that sets it up. \u00bb because from what I see, it gets rebinded after being rebuilt.\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-06-09T20:12:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzczNDg1Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437734856", "bodyText": "What I mean is that we should not rely on any timeouts to refocus / rebind / do any other type of set-up on the UI. Just use callbacks that are executed when some elements are created / deleted / other lifecycle events. This is just to avoid building up technical dept, running into situations were we have to deal with various race conditions between the timeouts, and so on.", "author": "wetneb", "createdAt": "2020-06-09T21:32:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4MDI0MQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437780241", "bodyText": "What I mean is that we should not rely on any timeouts to refocus / rebind / do any other type of set-up on the UI. Just use callbacks that are executed when some elements are created / deleted / other lifecycle events. This is just to avoid building up technical deepth, running into situations were we have to deal with various race conditions between the timeouts, and so on.\n\n@wetneb: ok, I get something in my mind now with what you write. K. A very simple fix would be: everytime the (data table\u2019s) page is loaded, that focus goes to the field. That way, I could just remove my coding for setTimeout, and all will work with one or two lines.\nWhat do you think of that?\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-06-09T23:38:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkwMjQyOQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437902429", "bodyText": "It does sound better to me!", "author": "wetneb", "createdAt": "2020-06-10T07:04:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk2NDg3NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437964874", "bodyText": "It does sound better to me!\n\nEt voil\u00e0 !\n@wetneb: It's fixed. And now, it even works perfectly in FF, not just Chrome.\nNow, I guess it's done! ;-)\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-06-10T08:50:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA2NDIyMw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r439064223", "bodyText": "Yeap, can confirm this works well in FF now for me.", "author": "thadguidry", "createdAt": "2020-06-11T20:51:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}], "type": "inlineReview"}, {"oid": "7136c112f88e90146906574dc0b133848c9b1b04", "url": "https://github.com/OpenRefine/OpenRefine/commit/7136c112f88e90146906574dc0b133848c9b1b04", "message": "Remove setTimeout(refocusCurrentPageInput, refocusDelay);\n\nRemove setTimeout(refocusCurrentPageInput, refocusDelay);, instead, onready after creating the page input field.", "committedDate": "2020-06-10T08:48:01Z", "type": "commit"}, {"oid": "dbe3ed4be56b36f5d8174fc1252bc3464f5f49a7", "url": "https://github.com/OpenRefine/OpenRefine/commit/dbe3ed4be56b36f5d8174fc1252bc3464f5f49a7", "message": "Typo: missing semi-colon\n\nTypo: missing semi-colon", "committedDate": "2020-06-11T05:44:20Z", "type": "commit"}, {"oid": "5797e78c7a093cc0e214b6f8880b782f7167bd0f", "url": "https://github.com/OpenRefine/OpenRefine/commit/5797e78c7a093cc0e214b6f8880b782f7167bd0f", "message": "Fix bug related to stealing focus of facets & added a delay\n\nFix bug related to stealing focus of facets & added a delay (1 s.) before changing pages.", "committedDate": "2020-06-11T17:44:18Z", "type": "commit"}, {"oid": "f3c6e776b6d728efe976fe96a42255c956b5c1d3", "url": "https://github.com/OpenRefine/OpenRefine/commit/f3c6e776b6d728efe976fe96a42255c956b5c1d3", "message": "Revert \"Remove {{plural:$2|page|pages}} in french\"\n\nThis reverts commit 7274a21ee04e6480e50de39f1a7788164dd1981a.", "committedDate": "2020-06-15T06:53:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r439965202", "bodyText": "There is still a setTimeout here :)", "author": "wetneb", "createdAt": "2020-06-15T06:56:30Z", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,8 +179,32 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\");\n+    \n+  pageControlsSpan.append($.i18n('core-views/goto-page', '<span id=\"currentPageInput\" />', self._lastPageNumber));\n+  pageControlsSpan.appendTo(pagingControls);\n \n+  $('span#currentPageInput').replaceWith($(currentPageInput));\n+  \n+  if(self._refocusPageInput == true) { \n+    self._refocusPageInput = false;\n+    var currentPageInput = $('input#viewpanel-paging-current-input');\n+    currentPageInput.ready(function(evt) { \n+      (new Promise(resolve => setTimeout(resolve, 1000))).then(currentPageInput.focus()); ", "originalCommit": "f3c6e776b6d728efe976fe96a42255c956b5c1d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk3MTc2MA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r439971760", "bodyText": "There is still a setTimeout here :)\n\n@wetneb: yes, but this one is very clean. It's to make the \u00ab scrolling\u00a0\u00bb thru pages not too fast. It keeps every page at less 1 s.\nIf you have a better delay strategy, please advise me.\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-06-15T07:12:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDk5MjE3NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r440992174", "bodyText": "ok fair enough, I will test this as a user now, and might go back to this later on when I understand its role better.", "author": "wetneb", "createdAt": "2020-06-16T16:39:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTEwNjM0Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441106346", "bodyText": "ok fair enough, I will test this as a user now, and might go back to this later on when I understand its role better.\n\nI'm all available to explain everything to speed up this. I'm very confident that all the requirements are there. We can also go thru the other features that are still waiting for approval.\nRegards,\nAntoine", "author": "antoine2711", "createdAt": "2020-06-16T19:57:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg=="}], "type": "inlineReview"}, {"oid": "6b1b8e2d3855f49d9f7ed240dc7e9894201d2055", "url": "https://github.com/OpenRefine/OpenRefine/commit/6b1b8e2d3855f49d9f7ed240dc7e9894201d2055", "message": "Merge branch 'master' of https://github.com/OpenRefine/OpenRefine into issue-2638-goto-any-page", "committedDate": "2020-06-15T07:07:28Z", "type": "commit"}, {"oid": "8e73eeba214bd5b34774d86988b7b943088b47d4", "url": "https://github.com/OpenRefine/OpenRefine/commit/8e73eeba214bd5b34774d86988b7b943088b47d4", "message": "Start for Goto Page link.\n\nFirst implementation. Is functional.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "93c24ff1a1e1cd135c4e5b46464a70fdf5868d5d", "url": "https://github.com/OpenRefine/OpenRefine/commit/93c24ff1a1e1cd135c4e5b46464a70fdf5868d5d", "message": "Background-color & validation\n\nBackground-color for each \u00ab button\u00a0\u00bb & validation for the page choice of the user: number, > 1 & < last & singular for a one page project.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "849e4de1966c93f56aa5c8cc99c32796dc8dbe55", "url": "https://github.com/OpenRefine/OpenRefine/commit/849e4de1966c93f56aa5c8cc99c32796dc8dbe55", "message": "Changed from prompt() to <input type=\"number\">\n\nChanged from prompt() to <input type=\"number\">, and visual X out Y.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "7c65ea1a430a0a61e97489c7a26eceafba70b47c", "url": "https://github.com/OpenRefine/OpenRefine/commit/7c65ea1a430a0a61e97489c7a26eceafba70b47c", "message": "Manage bounds in a sticky way\n\nIf the user choose below 1, 1 will be displayed, and if the user choose above the max, the max page will be displayed.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "8c885c3b84b232d54847a19d7dd2647f7c7b3743", "url": "https://github.com/OpenRefine/OpenRefine/commit/8c885c3b84b232d54847a19d7dd2647f7c7b3743", "message": "width of <input> & \u00ab\u00a0of X pages\u00a0\u00bb\n\nAdd pages after \u00ab\u00a0of maxValue\u00a0\u00bb, calculate the width of <input> based on max value.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "af5e4a7f20a2c5a542cf5e29aa2b85f05af5b359", "url": "https://github.com/OpenRefine/OpenRefine/commit/af5e4a7f20a2c5a542cf5e29aa2b85f05af5b359", "message": "Update data-table-view.js\n\nLittle fix.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "02b1230996f6621daa05a5f156106f93fbc9021f", "url": "https://github.com/OpenRefine/OpenRefine/commit/02b1230996f6621daa05a5f156106f93fbc9021f", "message": "Correct min and max for <input>\n\nCorrect min and max for <input>", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "d37152d0333142bff4f80be27ff6031c9441a7f3", "url": "https://github.com/OpenRefine/OpenRefine/commit/d37152d0333142bff4f80be27ff6031c9441a7f3", "message": "Managment of the arrow's key down.\n\nAdd managment to keep the arrow's key in the CurrentPage <input>.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "5c26704b0f4afaaa1420c84febcbda85f3db64bf", "url": "https://github.com/OpenRefine/OpenRefine/commit/5c26704b0f4afaaa1420c84febcbda85f3db64bf", "message": "Fixes for Thad\u2019s KeyDown's \u00ab\u00a0Infinite Paging\u00a0\u00bb\n\nFixes for Thad\u2019s KeyDown's \u00ab\u00a0Infinite Paging\u00a0\u00bb & PageSize changes.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "2ff57965d95ac89314c8febe722b90bdabea6c30", "url": "https://github.com/OpenRefine/OpenRefine/commit/2ff57965d95ac89314c8febe722b90bdabea6c30", "message": "Code rehookCurrentPageInput & spacing\n\nCode rehookCurrentPageInput & spacing for PageSize section", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "6c87fcb3966a8d5ae34a18888c49bf0808c00f5c", "url": "https://github.com/OpenRefine/OpenRefine/commit/6c87fcb3966a8d5ae34a18888c49bf0808c00f5c", "message": "Update data-table-view.js\n\nFix & move code in Page Control.", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "486cf6c33db19e5e71c10ecec4835034bc8a09d1", "url": "https://github.com/OpenRefine/OpenRefine/commit/486cf6c33db19e5e71c10ecec4835034bc8a09d1", "message": "Wrap in a Try/Catch the currentPageInput.focus()\n\nWrap in a Try/Catch the currentPageInput.focus() and add a verification of focus change with if(!(currentPageInput.is(\":focus\"))) window.setTimeout(rehookCurrentPageInput, rehookDelay).", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "0f5cc7f10bf379087ad4437f3abd54fdb2272c1b", "url": "https://github.com/OpenRefine/OpenRefine/commit/0f5cc7f10bf379087ad4437f3abd54fdb2272c1b", "message": "Fixed currentPageInput != document.activeElement\n\nFixed currentPageInput != document.activeElement\n\nthat was before: !(currentPageInput.is(\":focus\"))", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "0bc1f8c367104a9f4149f9411ad05f54058d2405", "url": "https://github.com/OpenRefine/OpenRefine/commit/0bc1f8c367104a9f4149f9411ad05f54058d2405", "message": "Better handling of the \u00ab Infinite Paging \u00bb\n\nBetter handling of the \u00ab Infinite Paging \u00bb with window.setTimeout(rehookCurrentPageInput, rehookDelay)", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "8a54f4bf1d4775710c150b1b024f8af9d7b526bb", "url": "https://github.com/OpenRefine/OpenRefine/commit/8a54f4bf1d4775710c150b1b024f8af9d7b526bb", "message": "$.i18n('core-views/goto-page', \u2026\n\n$.i18n('core-views/goto-page', '<span id=\"currentPageInput\" />', '<span id=\"lastPageSpan\" />'))", "committedDate": "2020-06-15T07:41:14Z", "type": "commit"}, {"oid": "1f903a96d3fc2a14114b4cd2ab145bd55b589f46", "url": "https://github.com/OpenRefine/OpenRefine/commit/1f903a96d3fc2a14114b4cd2ab145bd55b589f46", "message": "Fix i18n plural\n\nFix i18n plural, FR still not fixed.", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "e84a4769ce67b65f684377beef8aaa1163b6e4f2", "url": "https://github.com/OpenRefine/OpenRefine/commit/e84a4769ce67b65f684377beef8aaa1163b6e4f2", "message": "Remove {{plural:$2|page|pages}} in french\n\nRemove {{plural:$2|page|pages}} in French, not working.", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "83f35aa453842f413b3401f67924f6b59b8c6d63", "url": "https://github.com/OpenRefine/OpenRefine/commit/83f35aa453842f413b3401f67924f6b59b8c6d63", "message": "Update data-table-view.js\n\nForgot a semi-comma.", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "25badafb26ea227bec1073870943899a52ff321b", "url": "https://github.com/OpenRefine/OpenRefine/commit/25badafb26ea227bec1073870943899a52ff321b", "message": "Remove setTimeout(refocusCurrentPageInput, refocusDelay);\n\nRemove setTimeout(refocusCurrentPageInput, refocusDelay);, instead, onready after creating the page input field.", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "f9bceca2b8c9053c4192d1d8f439a6578fedfa89", "url": "https://github.com/OpenRefine/OpenRefine/commit/f9bceca2b8c9053c4192d1d8f439a6578fedfa89", "message": "Typo: missing semi-colon\n\nTypo: missing semi-colon", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "f8225e17ee44fd4b1af512d50121ac25094146ef", "url": "https://github.com/OpenRefine/OpenRefine/commit/f8225e17ee44fd4b1af512d50121ac25094146ef", "message": "Fix bug related to stealing focus of facets & added a delay\n\nFix bug related to stealing focus of facets & added a delay (1 s.) before changing pages.", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "ba3498c48d5f8b6d0b66901cda00c8adf9b04d49", "url": "https://github.com/OpenRefine/OpenRefine/commit/ba3498c48d5f8b6d0b66901cda00c8adf9b04d49", "message": "Revert \"Remove {{plural:$2|page|pages}} in french\"\n\nThis reverts commit 7274a21ee04e6480e50de39f1a7788164dd1981a.", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "e522400a57cd1eecc62d21629a1c850f513adbb1", "url": "https://github.com/OpenRefine/OpenRefine/commit/e522400a57cd1eecc62d21629a1c850f513adbb1", "message": "Added conflicts-with constraints (#2641)\n\nImplemented conflicts-with scrutinizer as part of #2354", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "870d617028c8b942e8456b5f74dbf6d33ea26244", "url": "https://github.com/OpenRefine/OpenRefine/commit/870d617028c8b942e8456b5f74dbf6d33ea26244", "message": "Fix a bug introduced by I #1038, PR #2616 (#2684)\n\nFix a bug introduced by I #1038, where the first tab, in the Wikidata mode, would have a bad background. PR #2616", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "d5f1fabeef1a8b85c1d09af89868b4b6c72858bc", "url": "https://github.com/OpenRefine/OpenRefine/commit/d5f1fabeef1a8b85c1d09af89868b4b6c72858bc", "message": "Trim input url whitespace (#2534)\n\nFixes #2516", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "ac68cc69d069726f509e9986c868a7193d06b235", "url": "https://github.com/OpenRefine/OpenRefine/commit/ac68cc69d069726f509e9986c868a7193d06b235", "message": "Fixed typos made in PR #2641", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "67b18ad5b859774456a8f1ce4085f42fe0deceb3", "url": "https://github.com/OpenRefine/OpenRefine/commit/67b18ad5b859774456a8f1ce4085f42fe0deceb3", "message": "Bump guava from 19.0 to 23.0\n\nBumps [guava](https://github.com/google/guava) from 19.0 to 23.0.\n- [Release notes](https://github.com/google/guava/releases)\n- [Commits](https://github.com/google/guava/compare/v19.0...v23.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "c955a73c2e2850a952105a00e92b3aca913f237b", "url": "https://github.com/OpenRefine/OpenRefine/commit/c955a73c2e2850a952105a00e92b3aca913f237b", "message": "Bump to Guava 23.6.1-jre", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "400c4e72dddca4a97938723f58362bb37b76c3fe", "url": "https://github.com/OpenRefine/OpenRefine/commit/400c4e72dddca4a97938723f58362bb37b76c3fe", "message": "Bump testng from 6.9.10 to 7.1.0\n\nBumps [testng](https://github.com/cbeust/testng) from 6.9.10 to 7.1.0.\n- [Release notes](https://github.com/cbeust/testng/releases)\n- [Changelog](https://github.com/cbeust/testng/blob/master/CHANGES.txt)\n- [Commits](https://github.com/cbeust/testng/commits)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "6a8f352b1fcb048db23ff98d6756ea5d5fa2d770", "url": "https://github.com/OpenRefine/OpenRefine/commit/6a8f352b1fcb048db23ff98d6756ea5d5fa2d770", "message": "Bump jasypt from 1.9.2 to 1.9.3\n\nBumps [jasypt](https://github.com/jasypt/jasypt) from 1.9.2 to 1.9.3.\n- [Release notes](https://github.com/jasypt/jasypt/releases)\n- [Commits](https://github.com/jasypt/jasypt/commits/jasypt-1.9.3)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "991c8780df7ed4544ae28973136231dd381b019f", "url": "https://github.com/OpenRefine/OpenRefine/commit/991c8780df7ed4544ae28973136231dd381b019f", "message": "Bump google-http-client-jackson2 from 1.20.0 to 1.35.0\n\nBumps [google-http-client-jackson2](https://github.com/googleapis/google-http-java-client) from 1.20.0 to 1.35.0.\n- [Release notes](https://github.com/googleapis/google-http-java-client/releases)\n- [Changelog](https://github.com/googleapis/google-http-java-client/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/googleapis/google-http-java-client/compare/1.20.0...v1.35.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "6da61ef52bde3253ff694a5a2f85e57321dea184", "url": "https://github.com/OpenRefine/OpenRefine/commit/6da61ef52bde3253ff694a5a2f85e57321dea184", "message": "Bump rhino from 1.7.10 to 1.7.12\n\nBumps [rhino](https://github.com/mozilla/rhino) from 1.7.10 to 1.7.12.\n- [Release notes](https://github.com/mozilla/rhino/releases)\n- [Changelog](https://github.com/mozilla/rhino/blob/master/RELEASE-NOTES.md)\n- [Commits](https://github.com/mozilla/rhino/commits)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "c5828d7ec3a08fc710d1b173d5c612080bf5176d", "url": "https://github.com/OpenRefine/OpenRefine/commit/c5828d7ec3a08fc710d1b173d5c612080bf5176d", "message": "Switch to new rhino-runtime component", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "79b27ca6252d707ea60230df44fad5d14cea4aa1", "url": "https://github.com/OpenRefine/OpenRefine/commit/79b27ca6252d707ea60230df44fad5d14cea4aa1", "message": "Replace Apache Ant with Commons Compress (#2691)\n\nNOTE: Changes the public API where some of the old types were\r\nembedded which means that any extensions that extend these\r\ninterfaces will have to be updated.\r\n\r\nFixes #2690.", "committedDate": "2020-06-15T07:41:15Z", "type": "commit"}, {"oid": "f29376fba7182a44e5b105f16a5808547fd2fe6c", "url": "https://github.com/OpenRefine/OpenRefine/commit/f29376fba7182a44e5b105f16a5808547fd2fe6c", "message": "Bump butterfly from 1.0.2 to 1.0.3\n\nBumps [butterfly](https://github.com/OpenRefine/simile-butterfly) from 1.0.2 to 1.0.3.\n- [Release notes](https://github.com/OpenRefine/simile-butterfly/releases)\n- [Commits](https://github.com/OpenRefine/simile-butterfly/commits)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "5ce99322fa0ab9258028c32491088f6a024e5302", "url": "https://github.com/OpenRefine/OpenRefine/commit/5ce99322fa0ab9258028c32491088f6a024e5302", "message": "Bump httpclient from 4.5.5 to 4.5.12\n\nBumps httpclient from 4.5.5 to 4.5.12.\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "450b8adaacb65f292a922f6f7bafaf79688339b9", "url": "https://github.com/OpenRefine/OpenRefine/commit/450b8adaacb65f292a922f6f7bafaf79688339b9", "message": "Bump maven-assembly-plugin from 3.1.0 to 3.3.0\n\nBumps [maven-assembly-plugin](https://github.com/apache/maven-assembly-plugin) from 3.1.0 to 3.3.0.\n- [Release notes](https://github.com/apache/maven-assembly-plugin/releases)\n- [Commits](https://github.com/apache/maven-assembly-plugin/compare/maven-assembly-plugin-3.1.0...maven-assembly-plugin-3.3.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "91187f254b055329f3567061d87a0ac90461cfae", "url": "https://github.com/OpenRefine/OpenRefine/commit/91187f254b055329f3567061d87a0ac90461cfae", "message": "Bump git-commit-id-plugin from 2.2.4 to 4.0.0\n\nBumps [git-commit-id-plugin](https://github.com/git-commit-id/maven-git-commit-id-plugin) from 2.2.4 to 4.0.0.\n- [Release notes](https://github.com/git-commit-id/maven-git-commit-id-plugin/releases)\n- [Commits](https://github.com/git-commit-id/maven-git-commit-id-plugin/compare/v2.2.4...v4.0.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "1376b73d8d15ebeb43d7e0ad4f82a01750e0666c", "url": "https://github.com/OpenRefine/OpenRefine/commit/1376b73d8d15ebeb43d7e0ad4f82a01750e0666c", "message": "Bump slf4j-api from 1.7.18 to 1.7.30\n\nBumps [slf4j-api](https://github.com/qos-ch/slf4j) from 1.7.18 to 1.7.30.\n- [Release notes](https://github.com/qos-ch/slf4j/releases)\n- [Commits](https://github.com/qos-ch/slf4j/compare/v_1.7.18...v_1.7.30)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "ca24b4532838492dc724a875122f0b0f4d869d7c", "url": "https://github.com/OpenRefine/OpenRefine/commit/ca24b4532838492dc724a875122f0b0f4d869d7c", "message": "Bump powermock.version from 2.0.2 to 2.0.7\n\nBumps `powermock.version` from 2.0.2 to 2.0.7.\n\nUpdates `powermock-module-testng` from 2.0.2 to 2.0.7\n- [Release notes](https://github.com/powermock/powermock/releases)\n- [Changelog](https://github.com/powermock/powermock/blob/release/2.x/docs/changelog.txt)\n- [Commits](https://github.com/powermock/powermock/compare/powermock-2.0.2...powermock-2.0.7)\n\nUpdates `powermock-api-mockito2` from 2.0.2 to 2.0.7\n- [Release notes](https://github.com/powermock/powermock/releases)\n- [Changelog](https://github.com/powermock/powermock/blob/release/2.x/docs/changelog.txt)\n- [Commits](https://github.com/powermock/powermock/compare/powermock-2.0.2...powermock-2.0.7)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "4f8502475cd9e6437f1d4fb99edf7b051a5a5959", "url": "https://github.com/OpenRefine/OpenRefine/commit/4f8502475cd9e6437f1d4fb99edf7b051a5a5959", "message": "Disables FacetContainer while computing clusters\n\nfixes #2675", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "3ffd54aef17ef1fcab29945d8b2c01953cda5076", "url": "https://github.com/OpenRefine/OpenRefine/commit/3ffd54aef17ef1fcab29945d8b2c01953cda5076", "message": "Update to latest Jython version 2.7.2\n\nCloses #2642", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "f298368dfc7fb28d60f4e36d0d259c3c57c39ced", "url": "https://github.com/OpenRefine/OpenRefine/commit/f298368dfc7fb28d60f4e36d0d259c3c57c39ced", "message": "Bump commons-validator from 1.5.1 to 1.6\n\nBumps commons-validator from 1.5.1 to 1.6.\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "0931780b0796c4b979d55e919c0c499504c93130", "url": "https://github.com/OpenRefine/OpenRefine/commit/0931780b0796c4b979d55e919c0c499504c93130", "message": "Added translation using Weblate (Portuguese (Brazil))", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "e52ce515cc40209026f8483a9dc0dd85bda75439", "url": "https://github.com/OpenRefine/OpenRefine/commit/e52ce515cc40209026f8483a9dc0dd85bda75439", "message": "Added translation using Weblate (Portuguese (Brazil))", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "8b2d33e8512f632070bb012517b857b6eaad8150", "url": "https://github.com/OpenRefine/OpenRefine/commit/8b2d33e8512f632070bb012517b857b6eaad8150", "message": "Added translation using Weblate (Portuguese (Brazil))", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "e3e63677d6f5184fcb3b30da888e5fc80645cdb9", "url": "https://github.com/OpenRefine/OpenRefine/commit/e3e63677d6f5184fcb3b30da888e5fc80645cdb9", "message": "Translated using Weblate (Japanese)\n\nCurrently translated at 100.0% (740 of 740 strings)\n\nTranslation: OpenRefine/Translations\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/translations/ja/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "81f124c6d3171c98847d9979fd31a5847ac51795", "url": "https://github.com/OpenRefine/OpenRefine/commit/81f124c6d3171c98847d9979fd31a5847ac51795", "message": "Translated using Weblate (Portuguese (Brazil))\n\nCurrently translated at 100.0% (740 of 740 strings)\n\nTranslation: OpenRefine/Translations\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/translations/pt_BR/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "c044c395bc4d7629c269bf1b89b3ec47b32b6788", "url": "https://github.com/OpenRefine/OpenRefine/commit/c044c395bc4d7629c269bf1b89b3ec47b32b6788", "message": "Translated using Weblate (Japanese)\n\nCurrently translated at 100.0% (60 of 60 strings)\n\nTranslation: OpenRefine/database\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/database/ja/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "916b549698f95bf241282eaec6cb00bda2afa66e", "url": "https://github.com/OpenRefine/OpenRefine/commit/916b549698f95bf241282eaec6cb00bda2afa66e", "message": "Translated using Weblate (Japanese)\n\nCurrently translated at 100.0% (179 of 179 strings)\n\nTranslation: OpenRefine/wikidata\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/wikidata/ja/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "01d37ccb4f1728e27acf959ba86cb618aebb8052", "url": "https://github.com/OpenRefine/OpenRefine/commit/01d37ccb4f1728e27acf959ba86cb618aebb8052", "message": "Translated using Weblate (Portuguese (Brazil))\n\nCurrently translated at 100.0% (47 of 47 strings)\n\nTranslation: OpenRefine/gdata\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/gdata/pt_BR/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "cc058d5c6be5dd8e252f2ca1df31ca189f66309d", "url": "https://github.com/OpenRefine/OpenRefine/commit/cc058d5c6be5dd8e252f2ca1df31ca189f66309d", "message": "Translated using Weblate (Portuguese (Brazil))\n\nCurrently translated at 6.7% (12 of 179 strings)\n\nTranslation: OpenRefine/wikidata\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/wikidata/pt_BR/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "62bcf7fdb0a067c96ed78bf10f9c05e3877fead4", "url": "https://github.com/OpenRefine/OpenRefine/commit/62bcf7fdb0a067c96ed78bf10f9c05e3877fead4", "message": "Translated using Weblate (Portuguese (Brazil))\n\nCurrently translated at 100.0% (60 of 60 strings)\n\nTranslation: OpenRefine/database\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/database/pt_BR/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "df5755be5d484148d871b4f90014dc002c16955f", "url": "https://github.com/OpenRefine/OpenRefine/commit/df5755be5d484148d871b4f90014dc002c16955f", "message": "Load GDrive icon from local resource, not Github (#2689)\n\nFixes #2688.", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "767f5c893b6f8dba909b97ecde798160ec305510", "url": "https://github.com/OpenRefine/OpenRefine/commit/767f5c893b6f8dba909b97ecde798160ec305510", "message": "Convert illegal characters into legal ones. (#2431)\n\n* Convert illegal characters into leagal ones.\r\n\r\n* Test tab in key & value string\r\n\r\nAlso fix up test that depended on previous TAB\r\nrelated error message and clean up logging\r\n\r\nCo-authored-by: Tom Morris <tfmorris@gmail.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "621d0b3b7958847264f930008df300c3796742db", "url": "https://github.com/OpenRefine/OpenRefine/commit/621d0b3b7958847264f930008df300c3796742db", "message": "Bump signpost-commonshttp4 from 1.2.1.2 to 2.0.0 (#2695)\n\nBumps [signpost-commonshttp4](https://github.com/mttkay/signpost) from 1.2.1.2 to 2.0.0.\r\n- [Release notes](https://github.com/mttkay/signpost/releases)\r\n- [Changelog](https://github.com/mttkay/signpost/blob/master/CHANGELOG.md)\r\n- [Commits](https://github.com/mttkay/signpost/compare/1.2.1.2...oauth-signpost-2.0.0)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\nCo-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "6b88947dee5e9c1b148b67c273460817f1e06e85", "url": "https://github.com/OpenRefine/OpenRefine/commit/6b88947dee5e9c1b148b67c273460817f1e06e85", "message": "Add comment to help designers understand TreeData (#2715)", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "d0e2af53df5c9431839a8a2297c7a6436d1fe712", "url": "https://github.com/OpenRefine/OpenRefine/commit/d0e2af53df5c9431839a8a2297c7a6436d1fe712", "message": "Added translation using Weblate (Bengali (India))", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "72de727aed39d675757fc3965a922b0c0e6be45d", "url": "https://github.com/OpenRefine/OpenRefine/commit/72de727aed39d675757fc3965a922b0c0e6be45d", "message": "Translated using Weblate (Japanese)\n\nCurrently translated at 100.0% (60 of 60 strings)\n\nTranslation: OpenRefine/database\nTranslate-URL: https://hosted.weblate.org/projects/openrefine/database/ja/", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "e69ee63d97a55b09c4c3e42ae7c0c60d13d83d52", "url": "https://github.com/OpenRefine/OpenRefine/commit/e69ee63d97a55b09c4c3e42ae7c0c60d13d83d52", "message": "Update jquery.i18n to 1.07 and fix non-English plural support (#2717)\n\n* Update jquery.i18n to 1.07 and add missing rule parser\r\n\r\nFixes #2700\r\nAdds missing CLDRPluralRuleParser.js so that plurals are supported.\r\nUpdates all files to jquery.i18n 1.07\r\nIncludes a bunch of specialty language support,\r\nbut only Finnish and Russian are loaded as examples.\r\n\r\n* Add some missing translations, including plurals\r\n\r\nFix some cases of Javascript string concatenation and\r\nplural conditionalization to demonstrate that plurals work\r\nin both English and French now.\r\n\r\nNOTE: Corresponding updates need to be made to all the other\r\nlanguage files since some keys were renamed or eliminated.", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "03b3205d8383eee43b834b32b1abeb7e1946456a", "url": "https://github.com/OpenRefine/OpenRefine/commit/03b3205d8383eee43b834b32b1abeb7e1946456a", "message": "Unused imports and other minor cleanups (#2723)\n\n* Two minor fixes\r\n\r\n- prevent invalid index error on empty strings (shouldn't normally happen)\r\n- update deprecated Apache Commons Lang method\r\n\r\n* Remove unused imports", "committedDate": "2020-06-15T07:41:16Z", "type": "commit"}, {"oid": "072e394057b701df853ca91320220190555ae492", "url": "https://github.com/OpenRefine/OpenRefine/commit/072e394057b701df853ca91320220190555ae492", "message": "Merge branch 'issue-2638-goto-any-page' of https://github.com/antoine2711/OpenRefine into issue-2638-goto-any-page", "committedDate": "2020-06-17T04:23:11Z", "type": "commit"}]}