{"pr_number": 3104, "pr_title": "internationalised the label using $.i18n", "pr_createdAt": "2020-08-21T12:23:21Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/3104", "timeline": [{"oid": "e2ea1b4ae3adaee195527bffed408bfa12dd5b37", "url": "https://github.com/OpenRefine/OpenRefine/commit/e2ea1b4ae3adaee195527bffed408bfa12dd5b37", "message": "internationalised the label using $.i18n", "committedDate": "2020-08-21T12:18:21Z", "type": "commit"}, {"oid": "e4aa8cb7b895ef8d1d30596c7144f0c65c2dec44", "url": "https://github.com/OpenRefine/OpenRefine/commit/e4aa8cb7b895ef8d1d30596c7144f0c65c2dec44", "message": "fix some problem", "committedDate": "2020-08-21T12:27:04Z", "type": "commit"}, {"oid": "185e17827a84f2dbc48f46da79de238a75f4d7f1", "url": "https://github.com/OpenRefine/OpenRefine/commit/185e17827a84f2dbc48f46da79de238a75f4d7f1", "message": "make it more clear and understandable", "committedDate": "2020-08-21T14:31:01Z", "type": "commit"}, {"oid": "801c212da75af371354e691dc7ee16ffd9932bb8", "url": "https://github.com/OpenRefine/OpenRefine/commit/801c212da75af371354e691dc7ee16ffd9932bb8", "message": "change prefix 'core-buttons/ to 'core-import-formats'", "committedDate": "2020-08-23T14:19:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxNDI3Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478714276", "bodyText": "There's a typo in formateNames, but rather than just fixing that, let's use a variable name which indicates what it contains.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                var formateNames =Refine.importingConfig.formats[format].label;\n          \n          \n            \n                var formatLabelKey =Refine.importingConfig.formats[format].label;\n          \n      \n    \n    \n  \n\nWe'll leave format.label unchanged for compatibility.", "author": "tfmorris", "createdAt": "2020-08-27T21:47:21Z", "path": "main/webapp/modules/core/scripts/index/default-importing-controller/parsing-panel.js", "diffHunk": "@@ -141,8 +141,9 @@ Refine.DefaultImportingController.prototype._prepareParsingPanel = function() {\n \n   var formats = this._job.config.rankedFormats;\n   var createFormatTab = function(format) {\n+    var formateNames =Refine.importingConfig.formats[format].label;", "originalCommit": "801c212da75af371354e691dc7ee16ffd9932bb8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxNDgwNA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478714804", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                .text( $.i18n(formateNames))\n          \n          \n            \n                .text( $.i18n(formatLabelKey))", "author": "tfmorris", "createdAt": "2020-08-27T21:48:38Z", "path": "main/webapp/modules/core/scripts/index/default-importing-controller/parsing-panel.js", "diffHunk": "@@ -141,8 +141,9 @@ Refine.DefaultImportingController.prototype._prepareParsingPanel = function() {\n \n   var formats = this._job.config.rankedFormats;\n   var createFormatTab = function(format) {\n+    var formateNames =Refine.importingConfig.formats[format].label;\n     var tab = $('<div>')\n-    .text(Refine.importingConfig.formats[format].label)\n+    .text( $.i18n(formateNames))", "originalCommit": "801c212da75af371354e691dc7ee16ffd9932bb8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "40cbb168344251869a8b9c85e9f83e10e2cecf4d", "url": "https://github.com/OpenRefine/OpenRefine/commit/40cbb168344251869a8b9c85e9f83e10e2cecf4d", "message": "formateNames to formateLabelKey", "committedDate": "2020-08-28T06:02:22Z", "type": "commit"}, {"oid": "50032120e09fdbe858f27b64c42022f542ce3228", "url": "https://github.com/OpenRefine/OpenRefine/commit/50032120e09fdbe858f27b64c42022f542ce3228", "message": "fix spelling mistake", "committedDate": "2020-08-28T06:04:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478850167", "bodyText": "The text/line-based/pc-axis format is defined in the pc-axis extension, so this translation message should be in that extension, not in the main Butterfly module.", "author": "wetneb", "createdAt": "2020-08-28T06:08:11Z", "path": "main/webapp/modules/core/langs/translation-en.json", "diffHunk": "@@ -749,5 +749,23 @@\n     \"core-buttons/match\": \"Match\",\n     \"core-buttons/copy\": \"Copy\",\n     \"core-buttons/transpose\": \"Transpose\",\n-    \"core-buttons/apply-to-all\": \"Apply to All Identical Cells\"\n+    \"core-buttons/apply-to-all\": \"Apply to All Identical Cells\",\n+    \"core-import-formats/text/line-based\": \"Line-based text files\",\n+    \"core-import-formats/text/line-based/*sv\": \"CSV / TSV / separator-based files\",\n+    \"core-import-formats/text/line-based/fixed-width\": \"Fixed-width field text files\",\n+    \"core-import-formats/text/rdf/nt\": \"RDF/N-Triples files\",\n+    \"core-import-formats/text/rdf/n3\": \"RDF/N3 files\",\n+    \"core-import-formats/text/rdf/ttl\": \"RDF/Turtle files\",\n+    \"core-import-formats/text/rdf/xml\": \"RDF/XML files\",\n+    \"core-import-formats/text/rdf/ld+json\": \"JSON-LD files\",\n+    \"core-import-formats/text/xml\": \"XML files\",\n+    \"core-import-formats/binary/text/xml/xls/xlsx\": \"Excel files\",\n+    \"core-import-formats/text/xml/ods\": \"Open Document Format spreadsheets (.ods)\",\n+    \"core-import-formats/text/json\": \"JSON files\",\n+    \"core-import-formats/text/marc\": \"MARC files\",\n+    \"core-import-formats/text/wiki\": \"Wikitext\",\n+    \"core-import-formats/text/line-based/pc-axis\": \"PC-Axis text files\",", "originalCommit": "50032120e09fdbe858f27b64c42022f542ce3228", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MzQyNg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478853426", "bodyText": "Then can I make new folder of name langs in extensions/pc-axis/module/langs", "author": "chetan-v", "createdAt": "2020-08-28T06:18:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1NzExNg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478857116", "bodyText": "its not a good idea", "author": "chetan-v", "createdAt": "2020-08-28T06:26:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1ODMzNQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478858335", "bodyText": "Why is it not a good idea?", "author": "wetneb", "createdAt": "2020-08-28T06:30:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg2MTAzMg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478861032", "bodyText": "yes we can do that\nbut It does'nt work", "author": "chetan-v", "createdAt": "2020-08-28T06:37:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg4NDI3OA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478884278", "bodyText": "", "author": "chetan-v", "createdAt": "2020-08-28T07:28:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODk5Njg4OQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478996889", "bodyText": "Thanks! You will need to load the translations from the extension. You can just do like other extensions do:\nhttps://github.com/OpenRefine/OpenRefine/blob/master/extensions/wikidata/module/scripts/menu-bar-extension.js#L2-L16\nhttps://github.com/OpenRefine/OpenRefine/blob/master/extensions/database/module/scripts/index/database-import-controller.js#L34-L46", "author": "wetneb", "createdAt": "2020-08-28T09:12:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw=="}], "type": "inlineReview"}, {"oid": "ae761f346b4bc24be484d6602cd1defaf30c1fcd", "url": "https://github.com/OpenRefine/OpenRefine/commit/ae761f346b4bc24be484d6602cd1defaf30c1fcd", "message": "add translation-en.json in pc-axis", "committedDate": "2020-08-28T06:47:40Z", "type": "commit"}, {"oid": "4b09efe63188737fb4e82fcee423a177a31364a8", "url": "https://github.com/OpenRefine/OpenRefine/commit/4b09efe63188737fb4e82fcee423a177a31364a8", "message": "remove from previous file", "committedDate": "2020-08-28T07:03:30Z", "type": "commit"}, {"oid": "0b0c8cf46e21862e0535f2e707c065500374a8cc", "url": "https://github.com/OpenRefine/OpenRefine/commit/0b0c8cf46e21862e0535f2e707c065500374a8cc", "message": "Add internationalized activation", "committedDate": "2020-08-28T09:54:41Z", "type": "commit"}, {"oid": "66aa63d4d52e5a79d2a0d6b6f334abf8b4add946", "url": "https://github.com/OpenRefine/OpenRefine/commit/66aa63d4d52e5a79d2a0d6b6f334abf8b4add946", "message": "improvement in pc-axis langs", "committedDate": "2020-10-01T03:07:02Z", "type": "commit"}]}