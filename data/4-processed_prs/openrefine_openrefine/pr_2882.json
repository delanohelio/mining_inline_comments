{"pr_number": 2882, "pr_title": "MockConstraintFetcher cleanup part-I", "pr_createdAt": "2020-07-05T14:15:16Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/2882", "timeline": [{"oid": "e7bdda783e21afb8b11560d6a76b48d3b2db66c6", "url": "https://github.com/OpenRefine/OpenRefine/commit/e7bdda783e21afb8b11560d6a76b48d3b2db66c6", "message": "MockConstraintFetcher cleanup part-I\n\nRemoved its use from different test files", "committedDate": "2020-07-05T14:13:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4OTg2NQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2882#discussion_r449889865", "bodyText": "Why not use the constant values defined in the corresponding scrutinizer instead of hardcoding the pids in yet another location?", "author": "wetneb", "createdAt": "2020-07-05T15:31:11Z", "path": "extensions/wikidata/tests/src/org/openrefine/wikidata/qa/scrutinizers/ConflictsWithScrutinizerTest.java", "diffHunk": "@@ -27,12 +26,12 @@\n \n public class ConflictsWithScrutinizerTest extends ScrutinizerTest {\n \n-    public static PropertyIdValue conflictsWithPid = MockConstraintFetcher.conflictsWithPid;\n-    public static Value conflictsWithValue = MockConstraintFetcher.conflictsWithStatementValue;\n-    public static PropertyIdValue propertyWithConflictsPid1 = MockConstraintFetcher.conflictingStatement1Pid;\n-    public static Value conflictingValue1  = MockConstraintFetcher.conflictingStatement1Value;\n-    public static PropertyIdValue propertyWithConflictsPid2 = MockConstraintFetcher.conflictingStatement2Pid;\n-    public static Value conflictingValue2  = MockConstraintFetcher.conflictingStatement2Value;\n+    public static PropertyIdValue conflictsWithPid = Datamodel.makeWikidataPropertyIdValue(\"P2002\");", "originalCommit": "1a02d6fe21222850dd7f98d60de4d5d93a717167", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk5NDI1Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2882#discussion_r449994256", "bodyText": "I can reuse the QIDs and parameter PIDs but rest these properties need to be hardcoded here I guess.", "author": "darecoder", "createdAt": "2020-07-06T05:42:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4OTg2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA4ODg0NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2882#discussion_r450088844", "bodyText": "Each constraint type should be hard-coded but only in one locations:\u00a0all classes which use it should import it from there.", "author": "wetneb", "createdAt": "2020-07-06T09:11:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4OTg2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE1NTY3NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2882#discussion_r450155674", "bodyText": "So, I have done that for these two classes. Should I do the changes for all test classes in this PR or open a new PR for these changes?", "author": "darecoder", "createdAt": "2020-07-06T11:23:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4OTg2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE3NDE5MA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2882#discussion_r450174190", "bodyText": "As you prefer!", "author": "wetneb", "createdAt": "2020-07-06T12:04:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4OTg2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDI1ODQyNQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2882#discussion_r450258425", "bodyText": "So, I'll create another PR for that with an appropriate branch name and commit message to be clear. :)\nWhat else needed to improve in this one?", "author": "darecoder", "createdAt": "2020-07-06T14:25:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4OTg2NQ=="}], "type": "inlineReview"}, {"oid": "88d39cde37e57982a8e676aed3fde06277a4175f", "url": "https://github.com/OpenRefine/OpenRefine/commit/88d39cde37e57982a8e676aed3fde06277a4175f", "message": "Removed MockConstraintFetcher's use from various test files", "committedDate": "2020-07-05T17:47:14Z", "type": "commit"}]}