{"pr_number": 2991, "pr_title": "Update EntityCache class", "pr_createdAt": "2020-07-26T16:55:13Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/2991", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU1MDM0Ng==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2991#discussion_r460550346", "bodyText": "Why Stream and not List?", "author": "wetneb", "createdAt": "2020-07-26T17:04:17Z", "path": "extensions/wikidata/src/org/openrefine/wikidata/utils/EntityCache.java", "diffHunk": "@@ -77,6 +80,13 @@ public static EntityCache getEntityCache() {\n         return _entityCache;\n     }\n \n+    public Stream<EntityDocument> getMultipleDocuments(List<EntityIdValue> entityIds) throws ExecutionException {", "originalCommit": "b6f70418856a88b9b200249339b5574752c9713c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU1MDUyMA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2991#discussion_r460550520", "bodyText": "You could probably use the streaming API for this instead: entityIds.stream().map(\u2026).collect(\u2026)", "author": "wetneb", "createdAt": "2020-07-26T17:05:04Z", "path": "extensions/wikidata/src/org/openrefine/wikidata/utils/EntityCache.java", "diffHunk": "@@ -77,6 +80,13 @@ public static EntityCache getEntityCache() {\n         return _entityCache;\n     }\n \n+    public Stream<EntityDocument> getMultipleDocuments(List<EntityIdValue> entityIds) throws ExecutionException {\n+        List<String> ids = new ArrayList<>();\n+        for (EntityIdValue entityId : entityIds) {\n+            ids.add(entityId.getId());\n+        }", "originalCommit": "b6f70418856a88b9b200249339b5574752c9713c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "37e17c714d6a72e1edb2bd6c74eed6437dc8959f", "url": "https://github.com/OpenRefine/OpenRefine/commit/37e17c714d6a72e1edb2bd6c74eed6437dc8959f", "message": "updated EntityCache class", "committedDate": "2020-07-27T17:03:46Z", "type": "commit"}, {"oid": "8a940164d597d4c704fa5efb439696ca2aaaffdb", "url": "https://github.com/OpenRefine/OpenRefine/commit/8a940164d597d4c704fa5efb439696ca2aaaffdb", "message": "added overridden methods in CacheLoader and updated test file", "committedDate": "2020-07-28T17:44:05Z", "type": "commit"}]}