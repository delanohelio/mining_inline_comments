{"pr_number": 3159, "pr_title": "Update openrefine-api.md", "pr_createdAt": "2020-09-03T10:12:23Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/3159", "timeline": [{"oid": "3814bd3e677bd1dc02dc3c8c39fbcac33b8ceba2", "url": "https://github.com/OpenRefine/OpenRefine/commit/3814bd3e677bd1dc02dc3c8c39fbcac33b8ceba2", "message": "Update openrefine-api.md\n\nDocumentation for Create project and Export rows API calls modified", "committedDate": "2020-09-03T10:05:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc4MTYzMg==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3159#discussion_r483781632", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  'options' : json object containing options relevant to the file format [optional]. However for JSON input file this parameter is [Mandatory]\n          \n          \n            \n                  'options' : json object containing options relevant to the file format [optional - however, some importers may have required options, such as `recordPath` for the JSON & XML importers].", "author": "tfmorris", "createdAt": "2020-09-04T18:18:28Z", "path": "docs/docs/technical-reference/openrefine-api.md", "diffHunk": "@@ -17,7 +17,7 @@ multipart form-data:\n       'project-file' : file contents\n       'project-name' : project name\n       'format' : format of data in project-file (e.g. 'text/line-based/*sv') [optional]\n-      'options' : json object containing options relevant to the file format [optional]\n+      'options' : json object containing options relevant to the file format [optional]. However for JSON input file this parameter is [Mandatory]", "originalCommit": "3814bd3e677bd1dc02dc3c8c39fbcac33b8ceba2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc4MzY2NQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3159#discussion_r483783665", "bodyText": "As far as I know, parameters can be passed either in the query string or in form data and the API doesn't care. By convention, the Engine config data is usually sent as form data because of its size, but that's just a convention.\nDid you run into a case where the parameters could only be passed via on mechanism or the other?", "author": "tfmorris", "createdAt": "2020-09-04T18:23:13Z", "path": "docs/docs/technical-reference/openrefine-api.md", "diffHunk": "@@ -159,9 +159,14 @@ On success returns JSON response\n \n > **Command:** _POST /command/core/export-rows_\n \n-      'project' : project id\n-      'engine' : JSON string... (e.g. '{\"facets\":[],\"mode\":\"row-based\"}')\n+In the parameter\n+\n+      'project' : project id      \n       'format' : format... (e.g 'tsv', 'csv')\n+\n+In the form data\n+\n+      'engine' : JSON string... (e.g. '{\"facets\":[],\"mode\":\"row-based\"}')", "originalCommit": "3814bd3e677bd1dc02dc3c8c39fbcac33b8ceba2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDI2NDExMA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3159#discussion_r484264110", "bodyText": "For me export-rows API call doesn't work if I pass one of these parameters (format, project) via form data. It works only if I pass these parameters as request parameters. I don't have any issues with engine parameter it works for me either way.", "author": "rajaram5", "createdAt": "2020-09-07T08:11:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc4MzY2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzI3MjU3MQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/3159#discussion_r497272571", "bodyText": "There are indeed cases where parameters have to be in the URL or in the POST body.", "author": "wetneb", "createdAt": "2020-09-30T06:35:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc4MzY2NQ=="}], "type": "inlineReview"}, {"oid": "e217f1e2235d16d5b27affcc20e738bd7f0bf302", "url": "https://github.com/OpenRefine/OpenRefine/commit/e217f1e2235d16d5b27affcc20e738bd7f0bf302", "message": "Update docs/docs/technical-reference/openrefine-api.md\n\nCo-authored-by: Tom Morris <tfmorris@gmail.com>", "committedDate": "2020-09-07T07:48:29Z", "type": "commit"}]}