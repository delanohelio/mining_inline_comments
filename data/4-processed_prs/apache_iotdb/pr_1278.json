{"pr_number": 1278, "pr_title": "[IOTDB-719] add avg_series_point_number_threshold in config", "pr_createdAt": "2020-05-27T11:54:29Z", "pr_url": "https://github.com/apache/iotdb/pull/1278", "timeline": [{"oid": "14d7cd90baf31e7c6b51f8e304ae26aea7ab83d9", "url": "https://github.com/apache/iotdb/commit/14d7cd90baf31e7c6b51f8e304ae26aea7ab83d9", "message": "add avg_series_point_number_threshold in config", "committedDate": "2020-05-27T11:53:56Z", "type": "commit"}, {"oid": "e4944e8a642d6968552801fc1925f19c7a784996", "url": "https://github.com/apache/iotdb/commit/e4944e8a642d6968552801fc1925f19c7a784996", "message": "fix test and calculation", "committedDate": "2020-05-27T12:15:19Z", "type": "commit"}, {"oid": "aba5043a792334bf53c4b937b7e00931da363515", "url": "https://github.com/apache/iotdb/commit/aba5043a792334bf53c4b937b7e00931da363515", "message": "consider calculation when delete", "committedDate": "2020-05-27T12:20:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3NDkwMQ==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431174901", "bodyText": "Default value is false? I think it should be 1GB or 1073741824.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| false |\n          \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| 1073741824 |", "author": "HTHou", "createdAt": "2020-05-27T14:27:02Z", "path": "docs/UserGuide/Server/Config Manual.md", "diffHunk": "@@ -272,6 +272,42 @@ The permission definitions are in ${IOTDB\\_CONF}/conf/jmx.access.\n |Default| true |\n |Effective|Trigger|\n \n+* enable\\_parameter\\_adapter\n+\n+|Name| enable\\_parameter\\_adapter |\n+|:---:|:---|\n+|Description| enable dynamically adjusting system to avoid OOM|\n+|Type|Bool|\n+|Default| true |\n+|Effective|After restart system|\n+\n+* memtable\\_size\\_threshold\n+\n+|Name| memtable\\_size\\_threshold |\n+|:---:|:---|\n+|Description| max memtable size|\n+|Type|Long|\n+|Default| false |", "originalCommit": "aba5043a792334bf53c4b937b7e00931da363515", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUzMTc1OQ==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431531759", "bodyText": "fixed", "author": "qiaojialin", "createdAt": "2020-05-28T01:25:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3NDkwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3NTIxNg==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431175216", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| false |\n          \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| 536870912 |", "author": "HTHou", "createdAt": "2020-05-27T14:27:27Z", "path": "docs/UserGuide/Server/Config Manual.md", "diffHunk": "@@ -272,6 +272,42 @@ The permission definitions are in ${IOTDB\\_CONF}/conf/jmx.access.\n |Default| true |\n |Effective|Trigger|\n \n+* enable\\_parameter\\_adapter\n+\n+|Name| enable\\_parameter\\_adapter |\n+|:---:|:---|\n+|Description| enable dynamically adjusting system to avoid OOM|\n+|Type|Bool|\n+|Default| true |\n+|Effective|After restart system|\n+\n+* memtable\\_size\\_threshold\n+\n+|Name| memtable\\_size\\_threshold |\n+|:---:|:---|\n+|Description| max memtable size|\n+|Type|Long|\n+|Default| false |\n+|Effective| when enable\\_parameter\\_adapter is false & After restart system|\n+\n+* avg\\_series\\_point\\_number\\_threshold\n+\n+|Name| avg\\_series\\_point\\_number\\_threshold |\n+|:---:|:---|\n+|Description| max average number of point of each series in memtable|\n+|Type|Int32|\n+|Default| 2048 |\n+|Effective|After restart system|\n+\n+* tsfile\\_size\\_threshold\n+\n+|Name| tsfile\\_size\\_threshold |\n+|:---:|:---|\n+|Description| max tsfile size|\n+|Type|Long|\n+|Default| false |", "originalCommit": "aba5043a792334bf53c4b937b7e00931da363515", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUzMTc5NA==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431531794", "bodyText": "fixed", "author": "qiaojialin", "createdAt": "2020-05-28T01:26:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3NTIxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3ODczMg==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431178732", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| false |\n          \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| 1073741824 |", "author": "HTHou", "createdAt": "2020-05-27T14:30:37Z", "path": "docs/zh/UserGuide/Server/Config Manual.md", "diffHunk": "@@ -253,6 +253,42 @@\n |\u9ed8\u8ba4\u503c| 0 |\n |\u6539\u540e\u751f\u6548\u65b9\u5f0f|\u91cd\u542f\u670d\u52a1\u5668\u751f\u6548|\n \n+* enable\\_parameter\\_adapter\n+\n+|Name| enable\\_parameter\\_adapter |\n+|:---:|:---|\n+|Description| \u5f00\u542f\u81ea\u52a8\u8c03\u6574\u7cfb\u7edf\u53c2\u6570\uff0c\u907f\u514d\u7206\u5185\u5b58|\n+|Type|Bool|\n+|Default| true |\n+|Effective|\u91cd\u542f\u670d\u52a1\u5668\u751f\u6548|\n+\n+* memtable\\_size\\_threshold\n+\n+|Name| memtable\\_size\\_threshold |\n+|:---:|:---|\n+|Description| \u5185\u5b58\u7f13\u51b2\u533a memtable \u9608\u503c|\n+|Type|Long|\n+|Default| false |", "originalCommit": "aba5043a792334bf53c4b937b7e00931da363515", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUzMTgxNg==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431531816", "bodyText": "fixed", "author": "qiaojialin", "createdAt": "2020-05-28T01:26:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3ODczMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3OTg2Nw==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431179867", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| false |\n          \n          \n            \n            |Type|Long|\n          \n          \n            \n            |Default| 536870912 |", "author": "HTHou", "createdAt": "2020-05-27T14:31:32Z", "path": "docs/zh/UserGuide/Server/Config Manual.md", "diffHunk": "@@ -253,6 +253,42 @@\n |\u9ed8\u8ba4\u503c| 0 |\n |\u6539\u540e\u751f\u6548\u65b9\u5f0f|\u91cd\u542f\u670d\u52a1\u5668\u751f\u6548|\n \n+* enable\\_parameter\\_adapter\n+\n+|Name| enable\\_parameter\\_adapter |\n+|:---:|:---|\n+|Description| \u5f00\u542f\u81ea\u52a8\u8c03\u6574\u7cfb\u7edf\u53c2\u6570\uff0c\u907f\u514d\u7206\u5185\u5b58|\n+|Type|Bool|\n+|Default| true |\n+|Effective|\u91cd\u542f\u670d\u52a1\u5668\u751f\u6548|\n+\n+* memtable\\_size\\_threshold\n+\n+|Name| memtable\\_size\\_threshold |\n+|:---:|:---|\n+|Description| \u5185\u5b58\u7f13\u51b2\u533a memtable \u9608\u503c|\n+|Type|Long|\n+|Default| false |\n+|Effective|enable\\_parameter\\_adapter\u4e3afalse\u65f6\u751f\u6548\u3001\u91cd\u542f\u670d\u52a1\u5668\u751f\u6548|\n+\n+* avg\\_series\\_point\\_number\\_threshold\n+\n+|Name| avg\\_series\\_point\\_number\\_threshold |\n+|:---:|:---|\n+|Description| \u5185\u5b58\u4e2d\u5e73\u5747\u6bcf\u4e2a\u65f6\u95f4\u5e8f\u5217\u70b9\u6570\u6700\u5927\u503c\uff0c\u8fbe\u5230\u89e6\u53d1flush|\n+|Type|Int32|\n+|Default| 2048 |\n+|Effective|\u91cd\u542f\u670d\u52a1\u5668\u751f\u6548|\n+\n+* tsfile\\_size\\_threshold\n+\n+|Name| tsfile\\_size\\_threshold |\n+|:---:|:---|\n+|Description| \u6bcf\u4e2a tsfile \u5927\u5c0f|\n+|Type|Long|\n+|Default| false |", "originalCommit": "aba5043a792334bf53c4b937b7e00931da363515", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUzMTg0MQ==", "url": "https://github.com/apache/iotdb/pull/1278#discussion_r431531841", "bodyText": "fixed", "author": "qiaojialin", "createdAt": "2020-05-28T01:26:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE3OTg2Nw=="}], "type": "inlineReview"}, {"oid": "5cbcbc4dac9f10aabbf0baa730b06ade803c98c7", "url": "https://github.com/apache/iotdb/commit/5cbcbc4dac9f10aabbf0baa730b06ade803c98c7", "message": "change avg calculation to totalcount", "committedDate": "2020-05-28T00:56:09Z", "type": "commit"}, {"oid": "448e9fc210b43312e49281b411632f0620eff27c", "url": "https://github.com/apache/iotdb/commit/448e9fc210b43312e49281b411632f0620eff27c", "message": "fix doc", "committedDate": "2020-05-28T01:26:28Z", "type": "commit"}, {"oid": "be9a59513a2edab253a429d504ebd2416f9ab7b7", "url": "https://github.com/apache/iotdb/commit/be9a59513a2edab253a429d504ebd2416f9ab7b7", "message": "fix calculation method", "committedDate": "2020-05-28T02:29:40Z", "type": "commit"}, {"oid": "d8347ab79ad21798a60bdb3e9316bcba79267d5a", "url": "https://github.com/apache/iotdb/commit/d8347ab79ad21798a60bdb3e9316bcba79267d5a", "message": "fix insertTabletPlan count", "committedDate": "2020-05-28T02:56:56Z", "type": "commit"}, {"oid": "6b36fd5e27df2089a12172ad8d0b605246b9bf04", "url": "https://github.com/apache/iotdb/commit/6b36fd5e27df2089a12172ad8d0b605246b9bf04", "message": "fix infer type test", "committedDate": "2020-05-28T07:57:57Z", "type": "commit"}]}