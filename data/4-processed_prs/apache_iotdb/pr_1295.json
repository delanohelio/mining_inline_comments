{"pr_number": 1295, "pr_title": "[IOTDB-729] shutdown uncessary threadpool", "pr_createdAt": "2020-06-01T07:29:25Z", "pr_url": "https://github.com/apache/iotdb/pull/1295", "timeline": [{"oid": "2ef7aaa4cd6dcb615904936a8bf23def685401cb", "url": "https://github.com/apache/iotdb/commit/2ef7aaa4cd6dcb615904936a8bf23def685401cb", "message": "shutdown uncessary threadpool", "committedDate": "2020-06-01T07:28:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA4OTgzNA==", "url": "https://github.com/apache/iotdb/pull/1295#discussion_r433089834", "bodyText": "If we need to stop UpgradeSevice after upgrading complete, I think we should also stop it if there is no file to be upgraded.", "author": "HTHou", "createdAt": "2020-06-01T07:47:56Z", "path": "server/src/main/java/org/apache/iotdb/db/engine/storagegroup/StorageGroupProcessor.java", "diffHunk": "@@ -1537,6 +1538,7 @@ private void upgradeTsFileResourceCallBack(TsFileResource tsFileResource) {\n           }\n         }\n       }\n+      UpgradeSevice.getINSTANCE().stop();", "originalCommit": "2ef7aaa4cd6dcb615904936a8bf23def685401cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzIyNzI2OQ==", "url": "https://github.com/apache/iotdb/pull/1295#discussion_r433227269", "bodyText": "fixed", "author": "qiaojialin", "createdAt": "2020-06-01T13:16:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA4OTgzNA=="}], "type": "inlineReview"}, {"oid": "33b7afbc3b3d0481badfbdf1eb05a85d59b90a39", "url": "https://github.com/apache/iotdb/commit/33b7afbc3b3d0481badfbdf1eb05a85d59b90a39", "message": "stop upgrade when no file to upgrade", "committedDate": "2020-06-01T13:13:02Z", "type": "commit"}]}