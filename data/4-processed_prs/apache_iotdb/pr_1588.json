{"pr_number": 1588, "pr_title": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files", "pr_createdAt": "2020-07-31T02:58:40Z", "pr_url": "https://github.com/apache/iotdb/pull/1588", "timeline": [{"oid": "5ae7774f7fd870dfbb237c9a97617a779ff0286e", "url": "https://github.com/apache/iotdb/commit/5ae7774f7fd870dfbb237c9a97617a779ff0286e", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files", "committedDate": "2020-07-31T02:45:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTEzNw==", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381137", "bodyText": "please make the annotation more clearer.", "author": "neuyilan", "createdAt": "2020-07-31T03:02:43Z", "path": "cluster/src/assembly/resources/conf/iotdb-cluster.properties", "diffHunk": "@@ -107,6 +107,12 @@ enable_auto_create_schema=true\n # Weak consistency do not synchronize with the leader and simply use the local data\n consistency_level=mid\n \n+#is use async server\n+is_use_async_server=true\n+\n+#is use sync applier\n+is_use_async_applier=true", "originalCommit": "5ae7774f7fd870dfbb237c9a97617a779ff0286e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTE4NA==", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381184", "bodyText": "remove the debug log", "author": "neuyilan", "createdAt": "2020-07-31T03:03:01Z", "path": "cluster/src/main/java/org/apache/iotdb/cluster/config/ClusterDescriptor.java", "diffHunk": "@@ -244,6 +244,16 @@ private void loadProps() {\n         .getProperty(\"enable_auto_create_schema\",\n             String.valueOf(config.isEnableAutoCreateSchema()))));\n \n+    config.setUseAsyncServer(\n+            Boolean.parseBoolean(properties.getProperty(\"is_use_async_server\",\n+                    String.valueOf(config.isUseAsyncServer()))));\n+    logger.info(\"server+{}\",config.isUseAsyncServer());", "originalCommit": "5ae7774f7fd870dfbb237c9a97617a779ff0286e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTIxNA==", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381214", "bodyText": "the same as above", "author": "neuyilan", "createdAt": "2020-07-31T03:03:12Z", "path": "cluster/src/main/java/org/apache/iotdb/cluster/config/ClusterDescriptor.java", "diffHunk": "@@ -244,6 +244,16 @@ private void loadProps() {\n         .getProperty(\"enable_auto_create_schema\",\n             String.valueOf(config.isEnableAutoCreateSchema()))));\n \n+    config.setUseAsyncServer(\n+            Boolean.parseBoolean(properties.getProperty(\"is_use_async_server\",\n+                    String.valueOf(config.isUseAsyncServer()))));\n+    logger.info(\"server+{}\",config.isUseAsyncServer());\n+\n+    config.setUseAsyncApplier(\n+            Boolean.parseBoolean(properties.getProperty(\"is_use_async_applier\",\n+                    String.valueOf(config.isUseAsyncApplier()))));\n+    logger.info(\"app+{}\",config.isUseAsyncApplier());", "originalCommit": "5ae7774f7fd870dfbb237c9a97617a779ff0286e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM4MTU3OQ==", "url": "https://github.com/apache/iotdb/pull/1588#discussion_r463381579", "bodyText": "the default value is false. make sure consistent with the code", "author": "neuyilan", "createdAt": "2020-07-31T03:04:55Z", "path": "cluster/src/assembly/resources/conf/iotdb-cluster.properties", "diffHunk": "@@ -107,6 +107,12 @@ enable_auto_create_schema=true\n # Weak consistency do not synchronize with the leader and simply use the local data\n consistency_level=mid\n \n+#is use async server\n+is_use_async_server=true\n+\n+#is use sync applier\n+is_use_async_applier=true", "originalCommit": "5ae7774f7fd870dfbb237c9a97617a779ff0286e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8eea20a7e8fa1077acc74159ce79a1b976dbb8f3", "url": "https://github.com/apache/iotdb/commit/8eea20a7e8fa1077acc74159ce79a1b976dbb8f3", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files", "committedDate": "2020-07-31T03:33:22Z", "type": "commit"}, {"oid": "7325ae5290a98dee84c6ab582743e373505d370c", "url": "https://github.com/apache/iotdb/commit/7325ae5290a98dee84c6ab582743e373505d370c", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files", "committedDate": "2020-07-31T06:51:19Z", "type": "commit"}, {"oid": "b225bf199e99e910510f889e87445923ecfd555e", "url": "https://github.com/apache/iotdb/commit/b225bf199e99e910510f889e87445923ecfd555e", "message": "Enable iotdb to set useasyncserver and useasyncapplier through configuration files", "committedDate": "2020-07-31T06:59:22Z", "type": "commit"}]}