{"pr_number": 1048, "pr_title": "Switch to use new TsFile interfaces in Last query executor", "pr_createdAt": "2020-04-14T08:35:59Z", "pr_url": "https://github.com/apache/iotdb/pull/1048", "timeline": [{"oid": "8e40f4eb85da7eeaba7cba0dafe56b1b442256f3", "url": "https://github.com/apache/iotdb/commit/8e40f4eb85da7eeaba7cba0dafe56b1b442256f3", "message": "Switch to use new TsFile interfaces in Last query executor", "committedDate": "2020-04-14T08:08:14Z", "type": "commit"}, {"oid": "0d8b24cbefb03a549dbe5691d2e11caae57f6086", "url": "https://github.com/apache/iotdb/commit/0d8b24cbefb03a549dbe5691d2e11caae57f6086", "message": "remove unnecessary used canUseStatistics()", "committedDate": "2020-04-14T10:05:57Z", "type": "commit"}, {"oid": "a06210b57098cc85af522ebc60a6f38863452f6c", "url": "https://github.com/apache/iotdb/commit/a06210b57098cc85af522ebc60a6f38863452f6c", "message": "Merge remote-tracking branch 'upstream/master' into last_newTsfile", "committedDate": "2020-04-14T10:06:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1NzMxOQ==", "url": "https://github.com/apache/iotdb/pull/1048#discussion_r408557319", "bodyText": "Why you delete the judgement timeseriesMetadata.getStatistics().canUseStatistics().\nWhat if the file has been modified and timeseriesMetadata can not been used, for example, it has been deleted from the endTime of it.", "author": "JackieTien97", "createdAt": "2020-04-15T03:19:18Z", "path": "server/src/main/java/org/apache/iotdb/db/query/fill/PreviousFill.java", "diffHunk": "@@ -141,15 +141,13 @@ private TimeValuePair retrieveValidLastPointFromSeqFiles() throws IOException {\n           FileLoaderUtils.loadTimeSeriesMetadata(\n               resource, seriesPath, context, timeFilter, allSensors);\n       if (timeseriesMetadata != null) {\n-        if (timeseriesMetadata.getStatistics().canUseStatistics()\n-            && endtimeContainedByTimeFilter(timeseriesMetadata.getStatistics())) {\n+        if (endtimeContainedByTimeFilter(timeseriesMetadata.getStatistics())) {", "originalCommit": "a06210b57098cc85af522ebc60a6f38863452f6c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA1MDAzOQ==", "url": "https://github.com/apache/iotdb/pull/1048#discussion_r410050039", "bodyText": "Fixed", "author": "wshao08", "createdAt": "2020-04-17T07:46:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU1NzMxOQ=="}], "type": "inlineReview"}, {"oid": "e6b1d7f3d4894e8edf3ad598b6f90063cca8e182", "url": "https://github.com/apache/iotdb/commit/e6b1d7f3d4894e8edf3ad598b6f90063cca8e182", "message": "Add back canUseStatistics()", "committedDate": "2020-04-15T11:00:29Z", "type": "commit"}, {"oid": "59d9a9481aca1e3be2b08ce33af68cd09c718ed1", "url": "https://github.com/apache/iotdb/commit/59d9a9481aca1e3be2b08ce33af68cd09c718ed1", "message": "Merge remote-tracking branch 'upstream/master' into last_newTsfile", "committedDate": "2020-04-15T11:01:41Z", "type": "commit"}, {"oid": "fabd4f03ad6457ae38f42d1bac2235185b227874", "url": "https://github.com/apache/iotdb/commit/fabd4f03ad6457ae38f42d1bac2235185b227874", "message": "Unpack timeseries metadata when stats are unavailable", "committedDate": "2020-04-17T03:32:53Z", "type": "commit"}]}