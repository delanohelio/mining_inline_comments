{"pr_number": 1974, "pr_title": "Renamed example to examples.", "pr_createdAt": "2020-05-21T16:56:06Z", "pr_url": "https://github.com/eclipse/hono/pull/1974", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0MDM4OQ==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429240389", "bodyText": "Eclipse", "author": "sophokles73", "createdAt": "2020-05-22T13:18:39Z", "path": "examples/quickstart-python/README.md", "diffHunk": "@@ -0,0 +1,53 @@\n+<!--\n+    Copyright (c) 2020 Contributors to the Eclipse Foundation\n+\n+    See the NOTICE file(s) distributed with this work for additional\n+    information regarding copyright ownership.\n+\n+    This program and the accompanying materials are made available under the\n+    terms of the Eclipse Public License 2.0 which is available at\n+    http://www.eclipse.org/legal/epl-2.0\n+\n+    SPDX-License-Identifier: EPL-2.0\n+ -->\n+# Eclispe Hono Quickstart tutorial", "originalCommit": "a8f40d50cce301cfb848ef7ef96069a9096810ce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1ODM3NA==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429258374", "bodyText": "Fixed.", "author": "JulianFeinauer", "createdAt": "2020-05-22T13:51:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0MDM4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0MDcyNw==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429240727", "bodyText": "missing end-of-line", "author": "sophokles73", "createdAt": "2020-05-22T13:19:20Z", "path": "examples/quickstart-python/pom.xml", "diffHunk": "@@ -0,0 +1,33 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+    Copyright (c) 2020 Contributors to the Eclipse Foundation\n+\n+    See the NOTICE file(s) distributed with this work for additional\n+    information regarding copyright ownership.\n+\n+    This program and the accompanying materials are made available under the\n+    terms of the Eclipse Public License 2.0 which is available at\n+    http://www.eclipse.org/legal/epl-2.0\n+\n+    SPDX-License-Identifier: EPL-2.0\n+ -->\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.eclipse.hono</groupId>\n+        <artifactId>hono-example</artifactId>\n+        <version>1.3.0-SNAPSHOT</version>\n+    </parent>\n+\n+    <artifactId>hono-quickstart-python</artifactId>\n+    <version>1.3.0-SNAPSHOT</version>\n+\n+\n+    <name>Hono Quickstart Tutorial in Python</name>\n+    <description>This is a python example. See the Readme for more information.</description>\n+    <url>https://www.eclipse.org/hono</url>\n+\n+</project>", "originalCommit": "a8f40d50cce301cfb848ef7ef96069a9096810ce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1ODQxNg==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429258416", "bodyText": "Fixed.", "author": "JulianFeinauer", "createdAt": "2020-05-22T13:51:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0MDcyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0MTgzNQ==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429241835", "bodyText": "Eclipse", "author": "sophokles73", "createdAt": "2020-05-22T13:21:23Z", "path": "examples/quickstart-python/README.md", "diffHunk": "@@ -0,0 +1,53 @@\n+<!--\n+    Copyright (c) 2020 Contributors to the Eclipse Foundation\n+\n+    See the NOTICE file(s) distributed with this work for additional\n+    information regarding copyright ownership.\n+\n+    This program and the accompanying materials are made available under the\n+    terms of the Eclipse Public License 2.0 which is available at\n+    http://www.eclipse.org/legal/epl-2.0\n+\n+    SPDX-License-Identifier: EPL-2.0\n+ -->\n+# Eclispe Hono Quickstart tutorial", "originalCommit": "a8f40d50cce301cfb848ef7ef96069a9096810ce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1ODQ4NA==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429258484", "bodyText": "Fixed.", "author": "JulianFeinauer", "createdAt": "2020-05-22T13:51:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0MTgzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0NTM2MQ==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429245361", "bodyText": "I do not think that you need to append /telemetry here ..", "author": "sophokles73", "createdAt": "2020-05-22T13:28:27Z", "path": "examples/quickstart-python/src/main/python/quickstart.py", "diffHunk": "@@ -0,0 +1,131 @@\n+\n+#  Copyright (c) 2020 Contributors to the Eclipse Foundation\n+#\n+#  See the NOTICE file(s) distributed with this work for additional\n+#  information regarding copyright ownership.\n+#\n+#  This program and the accompanying materials are made available under the\n+#  terms of the Eclipse Public License 2.0 which is available at\n+#  http://www.eclipse.org/legal/epl-2.0\n+#\n+#  SPDX-License-Identifier: EPL-2.0\n+\n+from __future__ import print_function, unicode_literals\n+\n+import json\n+import threading\n+import time\n+\n+import requests\n+from paho.mqtt.publish import single\n+from proton.handlers import MessagingHandler\n+from proton.reactor import Container\n+from requests.auth import HTTPBasicAuth\n+\n+registryIp = \"hono.eclipseprojects.io\"\n+httpAdapterIp = \"hono.eclipseprojects.io\"\n+mqttAdapterIp = \"hono.eclipseprojects.io\"\n+amqpNetworkIp = \"hono.eclipseprojects.io\"\n+\n+# Register Tenant\n+tenant = requests.post(f'http://{registryIp}:28080/v1/tenants').json()\n+tenantId = tenant[\"id\"]\n+\n+print(f'Registered tenant {tenantId}')\n+\n+# Add Device to Tenant\n+device = requests.post(f'http://{registryIp}:28080/v1/devices/{tenantId}').json()\n+deviceId = device[\"id\"]\n+\n+print(f'Registered device {deviceId}')\n+\n+# Set Device Password\n+devicePassword = \"my-secret-password\"\n+\n+code = requests.put(f'http://{registryIp}:28080/v1/credentials/{tenantId}/{deviceId}',\n+                    headers={'content-type': 'application/json'},\n+                    data=json.dumps(\n+                        [{\"type\": \"hashed-password\", \"auth-id\": deviceId, \"secrets\": [{\"pwd-plain\": devicePassword}]}]))\n+\n+if code.status_code == 204:\n+    print(\"Password is set!\")\n+else:\n+    print(\"Unnable to set Password\")\n+\n+# Now we can start the client application\n+print(\"We could use the Hono Client now...\")\n+print()\n+cmd = f'java -jar hono-cli-*-exec.jar --hono.client.host={amqpNetworkIp} ' \\\n+    f'--hono.client.port=15672 --hono.client.username=consumer@HONO ' \\\n+    f'--hono.client.password=verysecret --spring.profiles.active=receiver ' \\\n+    f'--tenant.id={tenantId}'\n+print(cmd)\n+print()\n+\n+\n+# input(\"Press Enter to continue...\")\n+\n+class AmqpHandler(MessagingHandler):\n+    \"\"\"\n+    Handler for \"northbound side\" where Messages are received\n+    via AMQP.\n+    \"\"\"\n+    def __init__(self, server, address):\n+        super(AmqpHandler, self).__init__()\n+        self.server = server\n+        self.address = address\n+\n+    def on_start(self, event):\n+        conn = event.container.connect(self.server, user=\"consumer@HONO\", password=\"verysecret\")\n+        event.container.create_receiver(conn, self.address)\n+\n+    def on_connection_error(self, event):\n+        print(\"Connection Error\")\n+\n+    def on_link_error(self, event):\n+        print(\"Link Error\")\n+\n+    def on_message(self, event):\n+        print(\"Got a message:\")\n+        print(event.message.body)\n+\n+\n+# Prepare the container\n+uri = f'amqp://{amqpNetworkIp}:15672/telemetry'", "originalCommit": "a8f40d50cce301cfb848ef7ef96069a9096810ce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1ODc2Nw==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429258767", "bodyText": "Indeed, it works without and I changed it accordingly.", "author": "JulianFeinauer", "createdAt": "2020-05-22T13:52:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0NTM2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0NTY0Mw==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429245643", "bodyText": "... the HTTP API.", "author": "sophokles73", "createdAt": "2020-05-22T13:28:59Z", "path": "site/homepage/content/getting-started/index.md", "diffHunk": "@@ -35,6 +35,25 @@ The Hono command line client is used in this guide for simulating an application\n The client is available from [Hono's download page]({{< relref \"downloads\" >}}).\n Note that running the command line client requires a Java 11 runtime environment being installed locally.\n \n+#### Very quick Quickstart\n+\n+In the following all necessary commands and operations will be explained on how to register a tenant and a device via the HTTP Api.", "originalCommit": "a8f40d50cce301cfb848ef7ef96069a9096810ce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1ODgwMA==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429258800", "bodyText": "Changed.", "author": "JulianFeinauer", "createdAt": "2020-05-22T13:52:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0NTY0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0NTg5Mw==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429245893", "bodyText": "... via the HTTP and MQTT protocol adapters.", "author": "sophokles73", "createdAt": "2020-05-22T13:29:27Z", "path": "site/homepage/content/getting-started/index.md", "diffHunk": "@@ -35,6 +35,25 @@ The Hono command line client is used in this guide for simulating an application\n The client is available from [Hono's download page]({{< relref \"downloads\" >}}).\n Note that running the command line client requires a Java 11 runtime environment being installed locally.\n \n+#### Very quick Quickstart\n+\n+In the following all necessary commands and operations will be explained on how to register a tenant and a device via the HTTP Api.\n+Then, it will be shown how messages can be sent via the HTTP and MQTT Endpoint.", "originalCommit": "a8f40d50cce301cfb848ef7ef96069a9096810ce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI1ODYxNw==", "url": "https://github.com/eclipse/hono/pull/1974#discussion_r429258617", "bodyText": "Changed.", "author": "JulianFeinauer", "createdAt": "2020-05-22T13:51:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTI0NTg5Mw=="}], "type": "inlineReview"}, {"oid": "380d7aae537ec5358e3f5d808fda7f1c1149eb8d", "url": "https://github.com/eclipse/hono/commit/380d7aae537ec5358e3f5d808fda7f1c1149eb8d", "message": "Renamed example to examples.\nAdded Python Quickstart Example.\nAdded Python Example to the getting-started page.\n\nSigned-off-by: Julian Feinauer <j.feinauer@pragmaticminds.de>", "committedDate": "2020-05-22T13:50:54Z", "type": "forcePushed"}, {"oid": "36a52708551a45398615f13bd9943b62c3308737", "url": "https://github.com/eclipse/hono/commit/36a52708551a45398615f13bd9943b62c3308737", "message": "Fixed all Links related to example-renaming / fixed some old broken links.\n\nSigned-off-by: Julian Feinauer <j.feinauer@pragmaticminds.de>", "committedDate": "2020-05-25T07:18:38Z", "type": "forcePushed"}, {"oid": "327319cab2d2c524b7b5caa4ee5317504f022836", "url": "https://github.com/eclipse/hono/commit/327319cab2d2c524b7b5caa4ee5317504f022836", "message": "Renamed example to examples.\nAdded Python Quickstart Example.\nAdded Python Example to the getting-started page.\n\nSigned-off-by: Julian Feinauer <j.feinauer@pragmaticminds.de>", "committedDate": "2020-06-16T08:25:22Z", "type": "commit"}, {"oid": "2d13a8dad8e0661049db3b16c9ec0d32fc965aaa", "url": "https://github.com/eclipse/hono/commit/2d13a8dad8e0661049db3b16c9ec0d32fc965aaa", "message": "Fixed all Links related to example-renaming / fixed some old broken links.\n\nSigned-off-by: Julian Feinauer <j.feinauer@pragmaticminds.de>", "committedDate": "2020-06-16T08:25:23Z", "type": "commit"}, {"oid": "2d13a8dad8e0661049db3b16c9ec0d32fc965aaa", "url": "https://github.com/eclipse/hono/commit/2d13a8dad8e0661049db3b16c9ec0d32fc965aaa", "message": "Fixed all Links related to example-renaming / fixed some old broken links.\n\nSigned-off-by: Julian Feinauer <j.feinauer@pragmaticminds.de>", "committedDate": "2020-06-16T08:25:23Z", "type": "forcePushed"}]}