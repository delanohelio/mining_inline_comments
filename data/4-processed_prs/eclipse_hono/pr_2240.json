{"pr_number": 2240, "pr_title": "Use the existing static method to get status codes for exceptions", "pr_createdAt": "2020-10-09T07:09:01Z", "pr_url": "https://github.com/eclipse/hono/pull/2240", "timeline": [{"oid": "49abfc3be91e7f87e1c59c4b02360181d403023a", "url": "https://github.com/eclipse/hono/commit/49abfc3be91e7f87e1c59c4b02360181d403023a", "message": "Use the existing static method to get status codes for exceptions.\n\n- Make use of ServiceInvocationException.extractStatusCode() method instead of duplicating the same code.\n\nSigned-off-by: Kartheeswaran Kalidass <kartheeswaran.kalidass@bosch.io>", "committedDate": "2020-10-09T07:06:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzMzg1MA==", "url": "https://github.com/eclipse/hono/pull/2240#discussion_r502233850", "bodyText": "can you also fix the naming of the methods?\nsendTelemetryMessageWithQos1 needs to be sendTelemetryMessageWithQos0 and\nsendTelemetryMessageWithQos2 needs to be sendTelemetryMessageWithQos1 ...", "author": "sophokles73", "createdAt": "2020-10-09T07:18:33Z", "path": "examples/hono-client-examples/src/main/java/org/eclipse/hono/devices/AmqpExampleDevice.java", "diffHunk": "@@ -135,14 +135,12 @@ private void sendTelemetryMessageWithQos2() {\n                     if (ar.succeeded()) {\n                         System.out.println(\"Telemetry message with QoS 'AT_LEAST_ONCE' sent: \" + payload);\n                     } else {\n-                        final Throwable cause = ar.cause();\n                         String hint = \"\";\n-                        if (cause instanceof ServerErrorException\n-                                && ((ServerErrorException) cause).getErrorCode() == 503) {\n+                        if (ServiceInvocationException.extractStatusCode(ar.cause()) == 503) {", "originalCommit": "49abfc3be91e7f87e1c59c4b02360181d403023a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzODY0OQ==", "url": "https://github.com/eclipse/hono/pull/2240#discussion_r502238649", "bodyText": "Nice catch. I have renamed them now.", "author": "kaniyan", "createdAt": "2020-10-09T07:28:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjIzMzg1MA=="}], "type": "inlineReview"}, {"oid": "0fcd6bbd9697a3e8e7edd154a7552b8c4e6d9937", "url": "https://github.com/eclipse/hono/commit/0fcd6bbd9697a3e8e7edd154a7552b8c4e6d9937", "message": "Fix method names to suit the context\n\nSigned-off-by: Kartheeswaran Kalidass <kartheeswaran.kalidass@bosch.io>", "committedDate": "2020-10-09T07:26:59Z", "type": "commit"}]}