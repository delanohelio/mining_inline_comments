{"pr_number": 2285, "pr_title": "[#2267] Decouple command consumer from device connection client factory", "pr_createdAt": "2020-11-09T08:05:47Z", "pr_url": "https://github.com/eclipse/hono/pull/2285", "timeline": [{"oid": "6bfea76588bc2f47a0caf6c8b33cc6c5fbe5863a", "url": "https://github.com/eclipse/hono/commit/6bfea76588bc2f47a0caf6c8b33cc6c5fbe5863a", "message": "[#2267] Decouple command consumer from device connection client factory\n\nThe ProtocolAdapterCommandConsumerFactory's dependency on the legacy\nDeviceConnectionClientFactory has been replaced by an interface that\nprovides access to the required command handling adapter instance\ninformation. This is a preliminary step for introducing a new\nDeviceConnectionClient to the adapter-client module.\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-11-09T08:05:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYzMTk3MA==", "url": "https://github.com/eclipse/hono/pull/2285#discussion_r519631970", "bodyText": "In the comment a few lines above:\n     * Will be used to represent the protocol adapter instance that this factory instance is used in, when registering\n     * command handlers with the Device Connection service.\n     */\n    private final String adapterInstanceId;\n\n\"Device Connection service\" could be replaced with \"CommandHandlingAdapterInfoAccess service\".", "author": "calohmn", "createdAt": "2020-11-09T08:35:07Z", "path": "client/src/main/java/org/eclipse/hono/client/impl/ProtocolAdapterCommandConsumerFactoryImpl.java", "diffHunk": "@@ -81,7 +80,7 @@\n     private final AtomicBoolean recreatingConsumers = new AtomicBoolean(false);\n     private final AtomicBoolean tryAgainRecreatingConsumers = new AtomicBoolean(false);\n \n-    private BasicDeviceConnectionClientFactory deviceConnectionClientFactory;\n+    private CommandHandlingAdapterInfoAccess commandHandlingAdapterInfoAccessor;", "originalCommit": "6bfea76588bc2f47a0caf6c8b33cc6c5fbe5863a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYzODY2NA==", "url": "https://github.com/eclipse/hono/pull/2285#discussion_r519638664", "bodyText": "I have pushed an update ...", "author": "sophokles73", "createdAt": "2020-11-09T08:46:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYzMTk3MA=="}], "type": "inlineReview"}, {"oid": "68d4a9c73a0cf98b85d337bb575d2167415866a0", "url": "https://github.com/eclipse/hono/commit/68d4a9c73a0cf98b85d337bb575d2167415866a0", "message": "Fix JavaDoc\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-11-09T08:46:10Z", "type": "commit"}]}