{"pr_number": 2130, "pr_title": "Mark hono.registry.rest property prefix as deprecated", "pr_createdAt": "2020-08-25T14:20:49Z", "pr_url": "https://github.com/eclipse/hono/pull/2130", "timeline": [{"oid": "830981ded6dc6f2bf2717b91af02d3efe10fe87c", "url": "https://github.com/eclipse/hono/commit/830981ded6dc6f2bf2717b91af02d3efe10fe87c", "message": "Mark hono.registry.rest property prefix as deprecated\n\nAdded support for using hono.registry.http for configuring the file\nbased registry's HTTP endpoint instead. The old prefix is still\nsupported but marked as deprecated.\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-08-25T14:18:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU5MDQ1MQ==", "url": "https://github.com/eclipse/hono/pull/2130#discussion_r476590451", "bodyText": "Superfluous comma after \"both\". And using either \"both\" or \"as well as\", not both together, seems better style to me.", "author": "calohmn", "createdAt": "2020-08-25T16:45:44Z", "path": "site/documentation/content/admin-guide/file-based-device-registry-config.md", "diffHunk": "@@ -77,54 +88,72 @@ The variables only need to be set if the default value does not match your envir\n \n ## Port Configuration\n \n-The Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint proving RESTful resources for managing registration information and credentials. Both endpoints can be configured to listen for connections on\n+The file based Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint providing resources", "originalCommit": "830981ded6dc6f2bf2717b91af02d3efe10fe87c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU5MTUyOQ==", "url": "https://github.com/eclipse/hono/pull/2130#discussion_r476591529", "bodyText": "Same as above (comma, \"both/as well as\").", "author": "calohmn", "createdAt": "2020-08-25T16:47:33Z", "path": "site/documentation/content/admin-guide/file-based-device-registry-config.md", "diffHunk": "@@ -77,54 +88,72 @@ The variables only need to be set if the default value does not match your envir\n \n ## Port Configuration\n \n-The Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint proving RESTful resources for managing registration information and credentials. Both endpoints can be configured to listen for connections on\n+The file based Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint providing resources\n+for managing tenants, registration information and credentials as defined by the [Registry Management API]({{< relref \"api/management\" >}}).\n+Both endpoints can be configured to listen for connections on\n \n * a secure port only (default) or\n * an insecure port only or\n * both a secure and an insecure port (dual port configuration)\n \n-The server will fail to start if none of the ports is configured properly.\n+The registry will fail to start if none of the ports is configured properly.\n \n-The following sections apply to configuring both, the AMQP endpoint as well as the REST endpoint. The environment variables to use for configuring the REST endpoint are the same as the ones for the AMQP endpoint, substituting `_AMQP_` with `_REST_`, e.g. `HONO_REGISTRY_REST_KEY_PATH` instead of `HONO_REGISTRY_AMQP_KEY_PATH`.\n+The following sections apply to configuring both, the AMQP endpoint as well as the HTTP endpoint. The environment variables to use for configuring", "originalCommit": "830981ded6dc6f2bf2717b91af02d3efe10fe87c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU5NDAxMQ==", "url": "https://github.com/eclipse/hono/pull/2130#discussion_r476594011", "bodyText": "Missing comma after \"By default\".", "author": "calohmn", "createdAt": "2020-08-25T16:51:28Z", "path": "site/documentation/content/admin-guide/file-based-device-registry-config.md", "diffHunk": "@@ -77,54 +88,72 @@ The variables only need to be set if the default value does not match your envir\n \n ## Port Configuration\n \n-The Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint proving RESTful resources for managing registration information and credentials. Both endpoints can be configured to listen for connections on\n+The file based Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint providing resources\n+for managing tenants, registration information and credentials as defined by the [Registry Management API]({{< relref \"api/management\" >}}).\n+Both endpoints can be configured to listen for connections on\n \n * a secure port only (default) or\n * an insecure port only or\n * both a secure and an insecure port (dual port configuration)\n \n-The server will fail to start if none of the ports is configured properly.\n+The registry will fail to start if none of the ports is configured properly.\n \n-The following sections apply to configuring both, the AMQP endpoint as well as the REST endpoint. The environment variables to use for configuring the REST endpoint are the same as the ones for the AMQP endpoint, substituting `_AMQP_` with `_REST_`, e.g. `HONO_REGISTRY_REST_KEY_PATH` instead of `HONO_REGISTRY_AMQP_KEY_PATH`.\n+The following sections apply to configuring both, the AMQP endpoint as well as the HTTP endpoint. The environment variables to use for configuring\n+the HTTP endpoint are the same as the ones for the AMQP endpoint, substituting `_AMQP_` with `_HTTP_`, e.g. `HONO_REGISTRY_HTTP_KEY_PATH`\n+instead of `HONO_REGISTRY_AMQP_KEY_PATH`.\n \n ### Secure Port Only\n \n The server needs to be configured with a private key and certificate in order to open a TLS secured port.\n \n There are two alternative ways for doing so:\n \n-1. Setting the `HONO_REGISTRY_AMQP_KEY_STORE_PATH` and the `HONO_REGISTRY_AMQP_KEY_STORE_PASSWORD` variables in order to load the key & certificate from a password protected key store, or\n-1. setting the `HONO_REGISTRY_AMQP_KEY_PATH` and `HONO_REGISTRY_AMQP_CERT_PATH` variables in order to load the key and certificate from two separate PEM files in PKCS8 format.\n+1. Setting the `HONO_REGISTRY_AMQP_KEY_STORE_PATH` and the `HONO_REGISTRY_AMQP_KEY_STORE_PASSWORD` variables in order to load the\n+key & certificate from a password protected key store, or\n+1. setting the `HONO_REGISTRY_AMQP_KEY_PATH` and `HONO_REGISTRY_AMQP_CERT_PATH` variables in order to load the key and certificate\n+   from two separate PEM files in PKCS8 format.\n \n-When starting up, the server will bind a TLS secured socket to the default secure AMQP port 5671. The port number can also be set explicitly using the `HONO_REGISTRY_AMQP_PORT` variable.\n+When starting up, the server will bind a TLS secured socket to the default secure port (`5671` for AMQP and `8443` for HTTP).\n+The port number can also be set explicitly using the `HONO_REGISTRY_AMQP_PORT` variable.\n \n-The `HONO_REGISTRY_AMQP_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on. By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. Setting this variable to `0.0.0.0` will let the port being bound to **all** network interfaces (be careful not to expose the port unintentionally to the outside world).\n+The `HONO_REGISTRY_AMQP_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on.\n+By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. Setting this", "originalCommit": "830981ded6dc6f2bf2717b91af02d3efe10fe87c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU5NTQxMA==", "url": "https://github.com/eclipse/hono/pull/2130#discussion_r476595410", "bodyText": "Missing comma after \"By default\".", "author": "calohmn", "createdAt": "2020-08-25T16:53:45Z", "path": "site/documentation/content/admin-guide/file-based-device-registry-config.md", "diffHunk": "@@ -77,54 +88,72 @@ The variables only need to be set if the default value does not match your envir\n \n ## Port Configuration\n \n-The Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint proving RESTful resources for managing registration information and credentials. Both endpoints can be configured to listen for connections on\n+The file based Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint providing resources\n+for managing tenants, registration information and credentials as defined by the [Registry Management API]({{< relref \"api/management\" >}}).\n+Both endpoints can be configured to listen for connections on\n \n * a secure port only (default) or\n * an insecure port only or\n * both a secure and an insecure port (dual port configuration)\n \n-The server will fail to start if none of the ports is configured properly.\n+The registry will fail to start if none of the ports is configured properly.\n \n-The following sections apply to configuring both, the AMQP endpoint as well as the REST endpoint. The environment variables to use for configuring the REST endpoint are the same as the ones for the AMQP endpoint, substituting `_AMQP_` with `_REST_`, e.g. `HONO_REGISTRY_REST_KEY_PATH` instead of `HONO_REGISTRY_AMQP_KEY_PATH`.\n+The following sections apply to configuring both, the AMQP endpoint as well as the HTTP endpoint. The environment variables to use for configuring\n+the HTTP endpoint are the same as the ones for the AMQP endpoint, substituting `_AMQP_` with `_HTTP_`, e.g. `HONO_REGISTRY_HTTP_KEY_PATH`\n+instead of `HONO_REGISTRY_AMQP_KEY_PATH`.\n \n ### Secure Port Only\n \n The server needs to be configured with a private key and certificate in order to open a TLS secured port.\n \n There are two alternative ways for doing so:\n \n-1. Setting the `HONO_REGISTRY_AMQP_KEY_STORE_PATH` and the `HONO_REGISTRY_AMQP_KEY_STORE_PASSWORD` variables in order to load the key & certificate from a password protected key store, or\n-1. setting the `HONO_REGISTRY_AMQP_KEY_PATH` and `HONO_REGISTRY_AMQP_CERT_PATH` variables in order to load the key and certificate from two separate PEM files in PKCS8 format.\n+1. Setting the `HONO_REGISTRY_AMQP_KEY_STORE_PATH` and the `HONO_REGISTRY_AMQP_KEY_STORE_PASSWORD` variables in order to load the\n+key & certificate from a password protected key store, or\n+1. setting the `HONO_REGISTRY_AMQP_KEY_PATH` and `HONO_REGISTRY_AMQP_CERT_PATH` variables in order to load the key and certificate\n+   from two separate PEM files in PKCS8 format.\n \n-When starting up, the server will bind a TLS secured socket to the default secure AMQP port 5671. The port number can also be set explicitly using the `HONO_REGISTRY_AMQP_PORT` variable.\n+When starting up, the server will bind a TLS secured socket to the default secure port (`5671` for AMQP and `8443` for HTTP).\n+The port number can also be set explicitly using the `HONO_REGISTRY_AMQP_PORT` variable.\n \n-The `HONO_REGISTRY_AMQP_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on. By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. Setting this variable to `0.0.0.0` will let the port being bound to **all** network interfaces (be careful not to expose the port unintentionally to the outside world).\n+The `HONO_REGISTRY_AMQP_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on.\n+By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. Setting this\n+variable to `0.0.0.0` will let the port being bound to **all** network interfaces (be careful not to expose the port unintentionally\n+to the outside world).\n \n ### Insecure Port Only\n \n-The secure port will mostly be required for production scenarios. However, it might be desirable to expose a non-TLS secured port instead, e.g. for testing purposes. In any case, the non-secure port needs to be explicitly enabled either by\n+The secure port will mostly be required for production scenarios. However, it might be desirable to expose a non-TLS secured port instead,\n+e.g. for testing purposes. In any case, the non-secure port needs to be explicitly enabled either by\n \n - explicitly setting `HONO_REGISTRY_AMQP_INSECURE_PORT` to a valid port number, or by\n-- implicitly configuring the default AMQP port (5672) by simply setting `HONO_REGISTRY_AMQP_INSECURE_PORT_ENABLED` to `true`.\n+- implicitly configuring the default port (`5672` for AMQP and `8080` for HTTP) to be used by setting `HONO_REGISTRY_AMQP_INSECURE_PORT_ENABLED`\n+  to `true`.\n \n-The server issues a warning on the console if `HONO_REGISTRY_AMQP_INSECURE_PORT` is set to the default secure AMQP port (5671).\n+The server issues a warning on the console if one of the insecure ports is set to the corresponding default secure ports.\n \n-The `HONO_REGISTRY_AMQP_INSECURE_PORT_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on. By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. This variable might be used to e.g. expose the non-TLS secured port on a local interface only, thus providing easy access from within the local network, while still requiring encrypted communication when accessed from the outside over public network infrastructure.\n+The `HONO_REGISTRY_AMQP_INSECURE_PORT_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on.\n+By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. This variable might be used", "originalCommit": "830981ded6dc6f2bf2717b91af02d3efe10fe87c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYwMjA2MQ==", "url": "https://github.com/eclipse/hono/pull/2130#discussion_r476602061", "bodyText": "Last word should be singular (\"port\").", "author": "calohmn", "createdAt": "2020-08-25T17:04:47Z", "path": "site/documentation/content/admin-guide/file-based-device-registry-config.md", "diffHunk": "@@ -77,54 +88,72 @@ The variables only need to be set if the default value does not match your envir\n \n ## Port Configuration\n \n-The Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint proving RESTful resources for managing registration information and credentials. Both endpoints can be configured to listen for connections on\n+The file based Device Registry supports configuration of both, an AMQP based endpoint as well as an HTTP based endpoint providing resources\n+for managing tenants, registration information and credentials as defined by the [Registry Management API]({{< relref \"api/management\" >}}).\n+Both endpoints can be configured to listen for connections on\n \n * a secure port only (default) or\n * an insecure port only or\n * both a secure and an insecure port (dual port configuration)\n \n-The server will fail to start if none of the ports is configured properly.\n+The registry will fail to start if none of the ports is configured properly.\n \n-The following sections apply to configuring both, the AMQP endpoint as well as the REST endpoint. The environment variables to use for configuring the REST endpoint are the same as the ones for the AMQP endpoint, substituting `_AMQP_` with `_REST_`, e.g. `HONO_REGISTRY_REST_KEY_PATH` instead of `HONO_REGISTRY_AMQP_KEY_PATH`.\n+The following sections apply to configuring both, the AMQP endpoint as well as the HTTP endpoint. The environment variables to use for configuring\n+the HTTP endpoint are the same as the ones for the AMQP endpoint, substituting `_AMQP_` with `_HTTP_`, e.g. `HONO_REGISTRY_HTTP_KEY_PATH`\n+instead of `HONO_REGISTRY_AMQP_KEY_PATH`.\n \n ### Secure Port Only\n \n The server needs to be configured with a private key and certificate in order to open a TLS secured port.\n \n There are two alternative ways for doing so:\n \n-1. Setting the `HONO_REGISTRY_AMQP_KEY_STORE_PATH` and the `HONO_REGISTRY_AMQP_KEY_STORE_PASSWORD` variables in order to load the key & certificate from a password protected key store, or\n-1. setting the `HONO_REGISTRY_AMQP_KEY_PATH` and `HONO_REGISTRY_AMQP_CERT_PATH` variables in order to load the key and certificate from two separate PEM files in PKCS8 format.\n+1. Setting the `HONO_REGISTRY_AMQP_KEY_STORE_PATH` and the `HONO_REGISTRY_AMQP_KEY_STORE_PASSWORD` variables in order to load the\n+key & certificate from a password protected key store, or\n+1. setting the `HONO_REGISTRY_AMQP_KEY_PATH` and `HONO_REGISTRY_AMQP_CERT_PATH` variables in order to load the key and certificate\n+   from two separate PEM files in PKCS8 format.\n \n-When starting up, the server will bind a TLS secured socket to the default secure AMQP port 5671. The port number can also be set explicitly using the `HONO_REGISTRY_AMQP_PORT` variable.\n+When starting up, the server will bind a TLS secured socket to the default secure port (`5671` for AMQP and `8443` for HTTP).\n+The port number can also be set explicitly using the `HONO_REGISTRY_AMQP_PORT` variable.\n \n-The `HONO_REGISTRY_AMQP_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on. By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. Setting this variable to `0.0.0.0` will let the port being bound to **all** network interfaces (be careful not to expose the port unintentionally to the outside world).\n+The `HONO_REGISTRY_AMQP_BIND_ADDRESS` variable can be used to specify the network interface that the port should be exposed on.\n+By default the port is bound to the *loopback device* only, i.e. the port will only be accessible from the local host. Setting this\n+variable to `0.0.0.0` will let the port being bound to **all** network interfaces (be careful not to expose the port unintentionally\n+to the outside world).\n \n ### Insecure Port Only\n \n-The secure port will mostly be required for production scenarios. However, it might be desirable to expose a non-TLS secured port instead, e.g. for testing purposes. In any case, the non-secure port needs to be explicitly enabled either by\n+The secure port will mostly be required for production scenarios. However, it might be desirable to expose a non-TLS secured port instead,\n+e.g. for testing purposes. In any case, the non-secure port needs to be explicitly enabled either by\n \n - explicitly setting `HONO_REGISTRY_AMQP_INSECURE_PORT` to a valid port number, or by\n-- implicitly configuring the default AMQP port (5672) by simply setting `HONO_REGISTRY_AMQP_INSECURE_PORT_ENABLED` to `true`.\n+- implicitly configuring the default port (`5672` for AMQP and `8080` for HTTP) to be used by setting `HONO_REGISTRY_AMQP_INSECURE_PORT_ENABLED`\n+  to `true`.\n \n-The server issues a warning on the console if `HONO_REGISTRY_AMQP_INSECURE_PORT` is set to the default secure AMQP port (5671).\n+The server issues a warning on the console if one of the insecure ports is set to the corresponding default secure ports.", "originalCommit": "830981ded6dc6f2bf2717b91af02d3efe10fe87c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "125d91abc652ce7b7795c2a799fc8829ab9a07fb", "url": "https://github.com/eclipse/hono/commit/125d91abc652ce7b7795c2a799fc8829ab9a07fb", "message": "Fix wording\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-08-26T06:44:23Z", "type": "commit"}]}