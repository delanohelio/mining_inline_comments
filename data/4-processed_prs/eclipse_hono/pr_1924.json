{"pr_number": 1924, "pr_title": "Allow setting the name of the cache, explicitly mention sasl realm", "pr_createdAt": "2020-04-24T08:49:42Z", "pr_url": "https://github.com/eclipse/hono/pull/1924", "timeline": [{"oid": "e730690f4e0444306cc7490f2081f8652e51f641", "url": "https://github.com/eclipse/hono/commit/e730690f4e0444306cc7490f2081f8652e51f641", "message": "Allow setting the name of the cache, explicitly mention sasl realm", "committedDate": "2020-04-24T10:48:49Z", "type": "forcePushed"}, {"oid": "a5e1aeac5bbf7d412f9fa09f904dcc2355e3be6f", "url": "https://github.com/eclipse/hono/commit/a5e1aeac5bbf7d412f9fa09f904dcc2355e3be6f", "message": "Allow setting the name of the cache, explicitly mention sasl realm", "committedDate": "2020-04-24T11:39:42Z", "type": "forcePushed"}, {"oid": "92de878ec6aa46be3e3c78e95c414cc33d07a083", "url": "https://github.com/eclipse/hono/commit/92de878ec6aa46be3e3c78e95c414cc33d07a083", "message": "Allow setting the name of the cache, explicitly mention sasl realm", "committedDate": "2020-04-24T13:41:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYzODg4OQ==", "url": "https://github.com/eclipse/hono/pull/1924#discussion_r415638889", "bodyText": "the the", "author": "sophokles73", "createdAt": "2020-04-27T09:02:49Z", "path": "site/documentation/content/admin-guide/device-connection-config.md", "diffHunk": "@@ -90,19 +90,45 @@ The server may be configured to open both a secure and a non-secure port at the\n \n ## Data Grid Connection Configuration\n \n-The Device Connection component requires a connection to a remote data grid using the Infinispan Hotrod protocol to store device connection information in.\n+The Device Connection component requires either an embedded cache or a remote\n+data grid, using the Infinispan Hotrod protocol to store device information.\n+\n+The following table provides an overview of the configuration variables and corresponding command line options for configuring the common aspects of the service:\n+\n+| Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n+| :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n+| `HONO_DEVICECONNECTION_COMMON_CACHENAME`<br>`--hono.deviceConnection.common.cacheName` | no | - | The name of the cache, defaults to `device-connection` |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKKEY`<br>`--hono.deviceConnection.common.checkKey` | no | - | The key used to check the health of the cache. |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKVALUE`<br>`--hono.deviceConnection.common.checkValue` | no | - | The value used to check the health of the cache. |\n+\n+The type of the cache is selected on startup by enabling or disabling the\n+the profile `embedded-cache`. If the profile is enabled the embedded cache is", "originalCommit": "92de878ec6aa46be3e3c78e95c414cc33d07a083", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY0MDA0MA==", "url": "https://github.com/eclipse/hono/pull/1924#discussion_r415640040", "bodyText": "this should contain the absolute path to a config file instead, I guess ...", "author": "sophokles73", "createdAt": "2020-04-27T09:04:26Z", "path": "site/documentation/content/admin-guide/device-connection-config.md", "diffHunk": "@@ -90,19 +90,45 @@ The server may be configured to open both a secure and a non-secure port at the\n \n ## Data Grid Connection Configuration\n \n-The Device Connection component requires a connection to a remote data grid using the Infinispan Hotrod protocol to store device connection information in.\n+The Device Connection component requires either an embedded cache or a remote\n+data grid, using the Infinispan Hotrod protocol to store device information.\n+\n+The following table provides an overview of the configuration variables and corresponding command line options for configuring the common aspects of the service:\n+\n+| Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n+| :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n+| `HONO_DEVICECONNECTION_COMMON_CACHENAME`<br>`--hono.deviceConnection.common.cacheName` | no | - | The name of the cache, defaults to `device-connection` |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKKEY`<br>`--hono.deviceConnection.common.checkKey` | no | - | The key used to check the health of the cache. |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKVALUE`<br>`--hono.deviceConnection.common.checkValue` | no | - | The value used to check the health of the cache. |\n+\n+The type of the cache is selected on startup by enabling or disabling the\n+the profile `embedded-cache`. If the profile is enabled the embedded cache is\n+used, otherwise the remote cache is being used. The remote cache is the default.\n+\n+### Remote cache\n \n The following table provides an overview of the configuration variables and corresponding command line options for configuring the connection to the data grid:\n \n | Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n | :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n-| `HONO_DEVICECONNECTION_REMOTE_SERVER_LIST`<br>`--hono.deviceConnection.remote.serverList` | yes | - | A list of remote servers in the form: `host1[:port][;host2[:port]]....`. |\n-| `HONO_DEVICECONNECTION_REMOTE_AUTH_SERVER_NAME`<br>`--hono.deviceConnection.remote.authServerName` | yes | - | The server name to indicate in the SASL handshake when authenticating to the server. |\n-| `HONO_DEVICECONNECTION_REMOTE_AUTH_USERNAME`<br>`--hono.deviceConnection.remote.authUsername` | yes | - | The username to use for authenticating to the server. |\n-| `HONO_DEVICECONNECTION_REMOTE_AUTH_PASSWORD`<br>`--hono.deviceConnection.remote.authPassword` | yes | - | The password to use for authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_SERVERLIST`<br>`--hono.deviceConnection.remote.serverList` | yes | - | A list of remote servers in the form: `host1[:port][;host2[:port]]....`. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHSERVERNAME`<br>`--hono.deviceConnection.remote.authServerName` | yes | - | The server name to indicate in the SASL handshake when authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHREALM`<br>`--hono.deviceConnection.remote.authRealm` | yes | - | The authentication realm for the SASL handshake when authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHUSERNAME`<br>`--hono.deviceConnection.remote.authUsername` | yes | - | The username to use for authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHPASSWORD`<br>`--hono.deviceConnection.remote.authPassword` | yes | - | The password to use for authenticating to the server. |\n \n In general, the service supports all configuration properties of the [Infinispan Hotrod client](https://docs.jboss.org/infinispan/9.4/apidocs/org/infinispan/client/hotrod/configuration/package-summary.html#package.description) using `hono.deviceConnection.remote` instead of the `infinispan.client.hotrod` prefix.\n \n+### Embedded cache\n+\n+The following table provides an overview of the configuration variables and corresponding command line options for configuring the embedded cache:\n+\n+hono.device-connection.embedded.configuration-file\n+\n+| Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n+| :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n+| `HONO_DEVICECONNECTION_EMBEDDED_CONFIGURATIONFILE`<br>`--hono.deviceConnection.embedded.configurationFile` | no | - | A list of remote servers in the form: `host1[:port][;host2[:port]]....`. |", "originalCommit": "92de878ec6aa46be3e3c78e95c414cc33d07a083", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9eb49ef9158bd118127a79bec73e61b0ee4f10cb", "url": "https://github.com/eclipse/hono/commit/9eb49ef9158bd118127a79bec73e61b0ee4f10cb", "message": "Allow setting the name of the cache, explicitly mention sasl realm", "committedDate": "2020-04-27T09:19:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY1MTgwMQ==", "url": "https://github.com/eclipse/hono/pull/1924#discussion_r415651801", "bodyText": "don't want to be picky but IMHO there should be space between Also see the and the link ...", "author": "sophokles73", "createdAt": "2020-04-27T09:21:33Z", "path": "site/documentation/content/admin-guide/device-connection-config.md", "diffHunk": "@@ -90,19 +90,45 @@ The server may be configured to open both a secure and a non-secure port at the\n \n ## Data Grid Connection Configuration\n \n-The Device Connection component requires a connection to a remote data grid using the Infinispan Hotrod protocol to store device connection information in.\n+The Device Connection component requires either an embedded cache or a remote\n+data grid, using the Infinispan Hotrod protocol to store device information.\n+\n+The following table provides an overview of the configuration variables and corresponding command line options for configuring the common aspects of the service:\n+\n+| Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n+| :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n+| `HONO_DEVICECONNECTION_COMMON_CACHENAME`<br>`--hono.deviceConnection.common.cacheName` | no | - | The name of the cache, defaults to `device-connection` |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKKEY`<br>`--hono.deviceConnection.common.checkKey` | no | - | The key used to check the health of the cache. |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKVALUE`<br>`--hono.deviceConnection.common.checkValue` | no | - | The value used to check the health of the cache. |\n+\n+The type of the cache is selected on startup by enabling or disabling the\n+profile `embedded-cache`. If the profile is enabled the embedded cache is\n+used, otherwise the remote cache is being used. The remote cache is the default.\n+\n+### Remote cache\n \n The following table provides an overview of the configuration variables and corresponding command line options for configuring the connection to the data grid:\n \n | Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n | :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n-| `HONO_DEVICECONNECTION_REMOTE_SERVER_LIST`<br>`--hono.deviceConnection.remote.serverList` | yes | - | A list of remote servers in the form: `host1[:port][;host2[:port]]....`. |\n-| `HONO_DEVICECONNECTION_REMOTE_AUTH_SERVER_NAME`<br>`--hono.deviceConnection.remote.authServerName` | yes | - | The server name to indicate in the SASL handshake when authenticating to the server. |\n-| `HONO_DEVICECONNECTION_REMOTE_AUTH_USERNAME`<br>`--hono.deviceConnection.remote.authUsername` | yes | - | The username to use for authenticating to the server. |\n-| `HONO_DEVICECONNECTION_REMOTE_AUTH_PASSWORD`<br>`--hono.deviceConnection.remote.authPassword` | yes | - | The password to use for authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_SERVERLIST`<br>`--hono.deviceConnection.remote.serverList` | yes | - | A list of remote servers in the form: `host1[:port][;host2[:port]]....`. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHSERVERNAME`<br>`--hono.deviceConnection.remote.authServerName` | yes | - | The server name to indicate in the SASL handshake when authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHREALM`<br>`--hono.deviceConnection.remote.authRealm` | yes | - | The authentication realm for the SASL handshake when authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHUSERNAME`<br>`--hono.deviceConnection.remote.authUsername` | yes | - | The username to use for authenticating to the server. |\n+| `HONO_DEVICECONNECTION_REMOTE_AUTHPASSWORD`<br>`--hono.deviceConnection.remote.authPassword` | yes | - | The password to use for authenticating to the server. |\n \n In general, the service supports all configuration properties of the [Infinispan Hotrod client](https://docs.jboss.org/infinispan/9.4/apidocs/org/infinispan/client/hotrod/configuration/package-summary.html#package.description) using `hono.deviceConnection.remote` instead of the `infinispan.client.hotrod` prefix.\n \n+### Embedded cache\n+\n+The following table provides an overview of the configuration variables and corresponding command line options for configuring the embedded cache:\n+\n+hono.device-connection.embedded.configuration-file\n+\n+| Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n+| :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n+| `HONO_DEVICECONNECTION_EMBEDDED_CONFIGURATIONFILE`<br>`--hono.deviceConnection.embedded.configurationFile` | no | - | The absolute path to an Infinispan configuration file. Also see the[Infinispan Configuration Schema](https://docs.jboss.org/infinispan/9.4/configdocs/). |", "originalCommit": "9eb49ef9158bd118127a79bec73e61b0ee4f10cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY1MzExMg==", "url": "https://github.com/eclipse/hono/pull/1924#discussion_r415653112", "bodyText": "No worries, I couldn't agree more! :)", "author": "ctron", "createdAt": "2020-04-27T09:23:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY1MTgwMQ=="}], "type": "inlineReview"}, {"oid": "40186fd34715300dfbb41e55384a4bc83bbdc51e", "url": "https://github.com/eclipse/hono/commit/40186fd34715300dfbb41e55384a4bc83bbdc51e", "message": "Allow setting the name of the cache, explicitly mention sasl realm", "committedDate": "2020-04-27T09:23:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY1OTkxOA==", "url": "https://github.com/eclipse/hono/pull/1924#discussion_r415659918", "bodyText": "I believe that we do have default values for these properties, don't we? If so, we should put the values to the Default column IMHO ...", "author": "sophokles73", "createdAt": "2020-04-27T09:33:19Z", "path": "site/documentation/content/admin-guide/device-connection-config.md", "diffHunk": "@@ -90,19 +90,45 @@ The server may be configured to open both a secure and a non-secure port at the\n \n ## Data Grid Connection Configuration\n \n-The Device Connection component requires a connection to a remote data grid using the Infinispan Hotrod protocol to store device connection information in.\n+The Device Connection component requires either an embedded cache or a remote\n+data grid, using the Infinispan Hotrod protocol to store device information.\n+\n+The following table provides an overview of the configuration variables and corresponding command line options for configuring the common aspects of the service:\n+\n+| Environment Variable<br>Command Line Option | Mandatory | Default | Description                                                             |\n+| :------------------------------------------ | :-------: | :------ | :-----------------------------------------------------------------------|\n+| `HONO_DEVICECONNECTION_COMMON_CACHENAME`<br>`--hono.deviceConnection.common.cacheName` | no | - | The name of the cache, defaults to `device-connection` |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKKEY`<br>`--hono.deviceConnection.common.checkKey` | no | - | The key used to check the health of the cache. |\n+| `HONO_DEVICECONNECTION_COMMON_CHECKVALUE`<br>`--hono.deviceConnection.common.checkValue` | no | - | The value used to check the health of the cache. |", "originalCommit": "40186fd34715300dfbb41e55384a4bc83bbdc51e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "af130f3b0304b9b744a240b3889a6d3c24a6e4dc", "url": "https://github.com/eclipse/hono/commit/af130f3b0304b9b744a240b3889a6d3c24a6e4dc", "message": "Allow setting the name of the cache, explicitly mention sasl realm", "committedDate": "2020-04-27T09:39:54Z", "type": "commit"}, {"oid": "af130f3b0304b9b744a240b3889a6d3c24a6e4dc", "url": "https://github.com/eclipse/hono/commit/af130f3b0304b9b744a240b3889a6d3c24a6e4dc", "message": "Allow setting the name of the cache, explicitly mention sasl realm", "committedDate": "2020-04-27T09:39:54Z", "type": "forcePushed"}]}