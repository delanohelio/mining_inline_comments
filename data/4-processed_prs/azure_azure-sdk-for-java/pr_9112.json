{"pr_number": 9112, "pr_title": "Service Bus Track2 - Fixes and Samples for using AAD/application id", "pr_createdAt": "2020-03-15T22:38:02Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/9112", "timeline": [{"oid": "de66707c9fd2c1bbd62397bb197118c3381eb354", "url": "https://github.com/Azure/azure-sdk-for-java/commit/de66707c9fd2c1bbd62397bb197118c3381eb354", "message": "Samples for using AAD/application id", "committedDate": "2020-03-15T22:35:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjcyMDQ5OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9112#discussion_r392720499", "bodyText": "This should be removed form API", "author": "hemanttanwar", "createdAt": "2020-03-15T22:38:37Z", "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/ServiceBusMessage.java", "diffHunk": "@@ -159,15 +159,6 @@ public ServiceBusMessage(String messageId, byte[] body, String contentType) {\n         return Arrays.copyOf(body, body.length);\n     }\n \n-    /**\n-     * Returns message body as UTF-8 decoded string.\n-     *\n-     * @return UTF-8 decoded string representation of the message.\n-     */\n-    public String getBodyAsString() {\n-        return new String(body, UTF_8);\n-    }", "originalCommit": "de66707c9fd2c1bbd62397bb197118c3381eb354", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c3e5c7c6c68ec40a4d05f72a82eb749f5a90f0cd", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c3e5c7c6c68ec40a4d05f72a82eb749f5a90f0cd", "message": "Added samples", "committedDate": "2020-03-16T03:08:58Z", "type": "commit"}, {"oid": "47eee7e8633c666a9bbc40d349af34671025c0e1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/47eee7e8633c666a9bbc40d349af34671025c0e1", "message": "adding more samples", "committedDate": "2020-03-16T05:19:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA1MjE1OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9112#discussion_r393052159", "bodyText": "-> to Service Bus", "author": "conniey", "createdAt": "2020-03-16T14:14:22Z", "path": "sdk/servicebus/azure-messaging-servicebus/README.md", "diffHunk": "@@ -76,22 +83,80 @@ platform. First, add the package:\n [//]: # ({x-version-update-end})\n \n All the implemented ways to request a credential can be found under the `com.azure.identity.credential` package. The\n-sample below shows how to use an Azure Active Directory (AAD) application client secret to authorize with Azure Event\n-Hubs.\n+sample below shows how to use an Azure Active Directory (AAD) application client secret to authorize with Azure Service Bus.\n \n #### Authorizing with AAD application client secret\n \n Follow the instructions in [Creating a service principal using Azure Portal][application_client_secret] to create a\n service principal and a client secret. The corresponding `clientId` and `tenantId` for the service principal can be\n obtained from the [App registration page][app_registration_page].\n \n-When using Azure Active Directory, your principal must be assigned a role which allows access to Event Hubs, such\n-as the `Azure Event Hubs Data Owner` role. For more information about using Azure Active Directory authorization\n-with Event Hubs, please refer to [the associated documentation][aad_authorization].\n+When using Azure Active Directory, your principal must be assigned a role which allows access toService Bus, such", "originalCommit": "47eee7e8633c666a9bbc40d349af34671025c0e1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA1NTMwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9112#discussion_r393055308", "bodyText": "Send and receive using AAD and connection string are good scenarios. We don't need to duplicate it with peek (this is also a diagnostic scenario we don't want to put to the forefront) and other small operations.\nIt makes the table of contents long. (Feedback we received in EH)", "author": "conniey", "createdAt": "2020-03-16T14:17:18Z", "path": "sdk/servicebus/azure-messaging-servicebus/README.md", "diffHunk": "@@ -25,6 +25,13 @@ have to be online at the same time.\n   - [Authenticate the client](#authenticate-the-client)\n - [Key concepts](#key-concepts)\n - [Examples](#examples)\n+  - [Create a sender or receiver using connection string](#create-a-sender-or-receiver-using-connection-string)\n+  - [Send Message to Queue or Topic](#send-message-to-queue-or-topic)\n+  - [Receive message from Queue or Subscription](#receive-message-from-queue-or-subscription)\n+  - [Peek message from Queue or Subscription](#peek-message-from-queue-or-subscription)", "originalCommit": "47eee7e8633c666a9bbc40d349af34671025c0e1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA1NTYxMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9112#discussion_r393055610", "bodyText": "Should be 3rd level headers, not fourth.", "author": "conniey", "createdAt": "2020-03-16T14:17:36Z", "path": "sdk/servicebus/azure-messaging-servicebus/README.md", "diffHunk": "@@ -76,22 +83,80 @@ platform. First, add the package:\n [//]: # ({x-version-update-end})\n \n All the implemented ways to request a credential can be found under the `com.azure.identity.credential` package. The\n-sample below shows how to use an Azure Active Directory (AAD) application client secret to authorize with Azure Event\n-Hubs.\n+sample below shows how to use an Azure Active Directory (AAD) application client secret to authorize with Azure Service Bus.\n \n #### Authorizing with AAD application client secret\n \n Follow the instructions in [Creating a service principal using Azure Portal][application_client_secret] to create a\n service principal and a client secret. The corresponding `clientId` and `tenantId` for the service principal can be\n obtained from the [App registration page][app_registration_page].\n \n-When using Azure Active Directory, your principal must be assigned a role which allows access to Event Hubs, such\n-as the `Azure Event Hubs Data Owner` role. For more information about using Azure Active Directory authorization\n-with Event Hubs, please refer to [the associated documentation][aad_authorization].\n+When using Azure Active Directory, your principal must be assigned a role which allows access toService Bus, such\n+as the `Azure Service Bus Data Owner` role. For more information about using Azure Active Directory authorization\n+with Service Bus, please refer to [the associated documentation][aad_authorization].\n \n ## Key concepts\n+#### Queues", "originalCommit": "47eee7e8633c666a9bbc40d349af34671025c0e1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0ded7be98cedf26d26c8d79dcc1327daef7bb546", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0ded7be98cedf26d26c8d79dcc1327daef7bb546", "message": "Review comments", "committedDate": "2020-03-16T19:08:42Z", "type": "commit"}, {"oid": "fed37c97687b62c637ebcfb95a146361ee916070", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fed37c97687b62c637ebcfb95a146361ee916070", "message": "Review comments", "committedDate": "2020-03-16T19:09:38Z", "type": "commit"}]}