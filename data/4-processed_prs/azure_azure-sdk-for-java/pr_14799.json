{"pr_number": 14799, "pr_title": "Add live tests to EventGrid SDK", "pr_createdAt": "2020-09-03T23:37:14Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/14799", "timeline": [{"oid": "466b2df955e81637ea2b8c52e1aaea198e508d71", "url": "https://github.com/Azure/azure-sdk-for-java/commit/466b2df955e81637ea2b8c52e1aaea198e508d71", "message": "Add live test files\n\nFix custom event test slightly to be formatted correctly", "committedDate": "2020-09-03T23:35:16Z", "type": "commit"}, {"oid": "a8058881cb28b0753f244f9f0bc786af04293121", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a8058881cb28b0753f244f9f0bc786af04293121", "message": "Fixed test formatting", "committedDate": "2020-09-03T23:35:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzMwOTAwNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14799#discussion_r483309007", "bodyText": "Nit: Key should be capitalized.", "author": "bsiegel", "createdAt": "2020-09-03T23:41:56Z", "path": "sdk/eventgrid/test-resources.json", "diffHunk": "@@ -0,0 +1,93 @@\n+{\n+  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n+  \"contentVersion\": \"1.0.0.0\",\n+  \"parameters\": {\n+    \"baseName\": {\n+      \"type\": \"String\"\n+    }\n+  },\n+  \"variables\": {\n+    \"apiVersion\": \"2020-04-01-preview\",\n+    \"eventGridTopicName\": \"[concat(parameters('baseName'), 'topic')]\",\n+    \"cloudeventTopicName\": \"[concat(parameters('baseName'), 'cloudevent-topic')]\",\n+    \"customeventTopicName\": \"[concat(parameters('baseName'), 'customevent-topic')]\"\n+  },\n+  \"resources\": [\n+    {\n+      \"type\": \"Microsoft.EventGrid/topics\",\n+      \"apiVersion\": \"[variables('apiVersion')]\",\n+      \"name\": \"[variables('eventGridTopicName')]\",\n+      \"location\": \"[resourceGroup().location]\"\n+    },\n+    {\n+      \"type\": \"Microsoft.EventGrid/topics\",\n+      \"apiVersion\": \"[variables('apiVersion')]\",\n+      \"name\": \"[variables('cloudeventTopicName')]\",\n+      \"location\": \"[resourceGroup().location]\",\n+      \"properties\": {\n+        \"inputSchema\": \"CloudEventSchemaV1_0\"\n+      }\n+    },\n+    {\n+      \"type\": \"Microsoft.EventGrid/topics\",\n+      \"apiVersion\": \"[variables('apiVersion')]\",\n+      \"name\": \"[variables('customeventTopicName')]\",\n+      \"location\": \"[resourceGroup().location]\",\n+      \"properties\": {\n+        \"inputSchema\": \"CustomEventSchema\",\n+        \"inputSchemaMapping\": {\n+          \"inputSchemaMappingType\": \"Json\",\n+          \"properties\": {\n+            \"dataVersion\": {\n+              \"defaultValue\": \"default\",\n+              \"sourceField\": \"dataVersion\"\n+            },\n+            \"eventTime\": {\n+              \"sourceField\": \"time\"\n+            },\n+            \"eventType\": {\n+              \"defaultValue\": \"default\",\n+              \"sourceField\": \"type\"\n+            },\n+            \"id\": {\n+              \"sourceField\": \"id\"\n+            },\n+            \"subject\": {\n+              \"defaultValue\": \"default\",\n+              \"sourceField\": \"subject\"\n+            },\n+            \"topic\": {\n+              \"sourceField\": \"topic\"\n+            }\n+          }\n+        }\n+      }\n+    }\n+  ],\n+  \"outputs\": {\n+    \"AZURE_EVENTGRID_EVENTGRID_ENDPOINT\": {\n+      \"type\": \"string\",\n+      \"value\": \"[reference(variables('eventGridTopicName')).endpoint]\"\n+    },\n+    \"AZURE_EVENTGRID_EVENTGRID_Key\": {", "originalCommit": "a8058881cb28b0753f244f9f0bc786af04293121", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzMwOTQzNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14799#discussion_r483309436", "bodyText": "I'm guessing we shouldn't use a preview API version here? Can probably use the most recently released one which seems to be 2020-06-01.", "author": "bsiegel", "createdAt": "2020-09-03T23:43:29Z", "path": "sdk/eventgrid/test-resources.json", "diffHunk": "@@ -0,0 +1,93 @@\n+{\n+  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\n+  \"contentVersion\": \"1.0.0.0\",\n+  \"parameters\": {\n+    \"baseName\": {\n+      \"type\": \"String\"\n+    }\n+  },\n+  \"variables\": {\n+    \"apiVersion\": \"2020-04-01-preview\",", "originalCommit": "a8058881cb28b0753f244f9f0bc786af04293121", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4e9be18be5792d22e71fa488a009dcb67d63d29a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4e9be18be5792d22e71fa488a009dcb67d63d29a", "message": "Small test config changes", "committedDate": "2020-09-03T23:51:03Z", "type": "commit"}]}