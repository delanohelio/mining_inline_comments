{"pr_number": 14150, "pr_title": "Fixed a bug in queue and share sas parsing", "pr_createdAt": "2020-08-14T23:28:10Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/14150", "timeline": [{"oid": "0b0be4b8e4a7eed4d7301b1ea8260de858e47ef6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0b0be4b8e4a7eed4d7301b1ea8260de858e47ef6", "message": "Fixed a bug in queue and share sas parsing", "committedDate": "2020-08-14T23:23:52Z", "type": "commit"}, {"oid": "cbd1c7298250b78e354e511864677cac76e33523", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cbd1c7298250b78e354e511864677cac76e33523", "message": "Added recording", "committedDate": "2020-08-14T23:40:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkwNzMwOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14150#discussion_r470907309", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - Fixed a bug that would cause auth failures when building a client by passing an endpoing which had a sas token with protocol set to https,http\n          \n          \n            \n            - Fixed a bug that would cause auth failures when building a client by passing an endpoint which had a sas token with protocol set to https,http", "author": "alzimmermsft", "createdAt": "2020-08-14T23:46:23Z", "path": "sdk/storage/azure-storage-file-share/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,7 @@\n # Release History\n \n ## 12.7.0-beta.1 (Unreleased)\n-\n+- Fixed a bug that would cause auth failures when building a client by passing an endpoing which had a sas token with protocol set to https,http", "originalCommit": "cbd1c7298250b78e354e511864677cac76e33523", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDkwODczMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14150#discussion_r470908730", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - Fixed a bug that would cause auth failures when building a client by passing an endpoing which had a sas token with protocol set to https,http\n          \n          \n            \n            - Fixed a bug that would cause auth failures when building a client by passing an endpoint which had a sas token with protocol set to https,http", "author": "alzimmermsft", "createdAt": "2020-08-14T23:54:25Z", "path": "sdk/storage/azure-storage-queue/CHANGELOG.md", "diffHunk": "@@ -1,7 +1,7 @@\n # Release History\n \n ## 12.7.0-beta.1 (Unreleased)\n-\n+- Fixed a bug that would cause auth failures when building a client by passing an endpoing which had a sas token with protocol set to https,http", "originalCommit": "cbd1c7298250b78e354e511864677cac76e33523", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "208816a520c93524eeb703287ec50be240ace55a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/208816a520c93524eeb703287ec50be240ace55a", "message": "Update sdk/storage/azure-storage-file-share/CHANGELOG.md\n\nCo-authored-by: Alan Zimmer <48699787+alzimmermsft@users.noreply.github.com>", "committedDate": "2020-08-17T16:58:16Z", "type": "commit"}, {"oid": "44f0a895683203a36260a44a4431338d3142633a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/44f0a895683203a36260a44a4431338d3142633a", "message": "Update sdk/storage/azure-storage-queue/CHANGELOG.md\n\nCo-authored-by: Alan Zimmer <48699787+alzimmermsft@users.noreply.github.com>", "committedDate": "2020-08-17T16:58:25Z", "type": "commit"}, {"oid": "229375113dd0ea2a684c7570ec682c6f27ae7ea9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/229375113dd0ea2a684c7570ec682c6f27ae7ea9", "message": "CI fixes", "committedDate": "2020-08-17T18:41:54Z", "type": "commit"}, {"oid": "f7200147ac8f207665445fb8c01ec01925c11729", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7200147ac8f207665445fb8c01ec01925c11729", "message": "Merge branch 'queueSasFix' of github.com:rickle-msft/azure-sdk-for-java into queueSasFix", "committedDate": "2020-08-17T18:42:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTcyMDA1Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14150#discussion_r471720056", "bodyText": "Can you add this to the Changelog of common?", "author": "gapra-msft", "createdAt": "2020-08-17T19:11:49Z", "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/storage/common/implementation/SasImplUtils.java", "diffHunk": "@@ -60,4 +65,48 @@ public static String formatQueryParameterDate(OffsetDateTime dateTime) {\n             return Constants.ISO_8601_UTC_DATE_FORMATTER.format(dateTime);\n         }\n     }\n+\n+    /**\n+     * Parses a query string into a one to many TreeMap.\n+     *\n+     * @param queryParams The string of query params to parse.\n+     * @return A {@code HashMap<String, String[]>} of the key values.\n+     */\n+    public static Map<String, String[]> parseQueryString(String queryParams) {", "originalCommit": "f7200147ac8f207665445fb8c01ec01925c11729", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}