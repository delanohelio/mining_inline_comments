{"pr_number": 11763, "pr_title": "Fix record test", "pr_createdAt": "2020-06-04T05:13:41Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11763", "timeline": [{"oid": "809ac78732610e6d3c7457084108c5040e0a8c44", "url": "https://github.com/Azure/azure-sdk-for-java/commit/809ac78732610e6d3c7457084108c5040e0a8c44", "message": "fix: network and resource error", "committedDate": "2020-06-04T03:18:20Z", "type": "commit"}, {"oid": "1edb9dd41db7c334b232ecf55963a423157170e2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1edb9dd41db7c334b232ecf55963a423157170e2", "message": "fix: cosmos LRO", "committedDate": "2020-06-04T03:18:41Z", "type": "commit"}, {"oid": "9a52de0264e8af7d1c16d0ee8dd317ebdd52939a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9a52de0264e8af7d1c16d0ee8dd317ebdd52939a", "message": "fix: cosmos test", "committedDate": "2020-06-04T03:19:09Z", "type": "commit"}, {"oid": "7563fdf2f54b3657cbd9d8224243e242b74a1a29", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7563fdf2f54b3657cbd9d8224243e242b74a1a29", "message": "fix: sql impl and remove dependency for storage data plane", "committedDate": "2020-06-04T03:20:13Z", "type": "commit"}, {"oid": "28ac188ee8db6a738e982a186727714bf00415c2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/28ac188ee8db6a738e982a186727714bf00415c2", "message": "fix: storage error", "committedDate": "2020-06-04T03:20:45Z", "type": "commit"}, {"oid": "5caab7be94c033d3cdc19f6944fe981025300096", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5caab7be94c033d3cdc19f6944fe981025300096", "message": "fix: app service error (not finished)", "committedDate": "2020-06-04T03:21:12Z", "type": "commit"}, {"oid": "a8380497875fd16c2efc08d9fea40ef74779e6b3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a8380497875fd16c2efc08d9fea40ef74779e6b3", "message": "feat: update session-records", "committedDate": "2020-06-04T03:55:24Z", "type": "commit"}, {"oid": "b5bcf9ab7dba72fa79f1071dac8bb4aecdd176b6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b5bcf9ab7dba72fa79f1071dac8bb4aecdd176b6", "message": "feat: remove unused var", "committedDate": "2020-06-04T05:12:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk5OTIxNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11763#discussion_r434999215", "bodyText": "OK for now. One uncertainty is whether EndpointSuffix will be needed.", "author": "weidongxu-microsoft", "createdAt": "2020-06-04T05:24:17Z", "path": "sdk/sql/mgmt/src/main/java/com/azure/management/sql/implementation/SqlDatabaseExportRequestImpl.java", "diffHunk": "@@ -13,19 +14,23 @@\n import com.azure.management.sql.SqlDatabaseExportRequest;\n import com.azure.management.sql.SqlDatabaseImportExportResponse;\n import com.azure.management.sql.StorageKeyType;\n+import com.azure.management.storage.BlobContainer;\n+import com.azure.management.storage.BlobContainers;\n+import com.azure.management.storage.PublicAccess;\n import com.azure.management.storage.StorageAccount;\n-import com.azure.storage.blob.BlobServiceClient;\n-import com.azure.storage.blob.BlobServiceClientBuilder;\n-import com.azure.storage.blob.implementation.models.StorageErrorException;\n-import java.util.Objects;\n-import reactor.core.Exceptions;\n import reactor.core.publisher.Mono;\n \n+import java.util.Objects;\n+\n /** Implementation for SqlDatabaseExportRequest. */\n public class SqlDatabaseExportRequestImpl extends ExecutableImpl<SqlDatabaseImportExportResponse>\n     implements SqlDatabaseExportRequest, SqlDatabaseExportRequest.SqlDatabaseExportRequestDefinition {\n \n     private final ClientLogger logger = new ClientLogger(getClass());\n+    private static final String STORAGE_CONNECTION_STRING =\n+        \"DefaultEndpointsProtocol=https;\" +\n+            \"AccountName=%s;\" +\n+            \"AccountKey=%s\";", "originalCommit": "a8380497875fd16c2efc08d9fea40ef74779e6b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAwMDk5MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11763#discussion_r435000991", "bodyText": "Has removed since we don't use data-plane now", "author": "ChenTanyi", "createdAt": "2020-06-04T05:30:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk5OTIxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAwMDEzNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11763#discussion_r435000137", "bodyText": "Any detail?", "author": "weidongxu-microsoft", "createdAt": "2020-06-04T05:27:37Z", "path": "sdk/cosmos/mgmt/src/main/java/com/azure/management/cosmosdb/implementation/CosmosDBAccountImpl.java", "diffHunk": "@@ -388,8 +388,7 @@ public CosmosDBAccountImpl withoutReadReplication(Region region) {\n         this.ensureFailoverIsInitialized();\n         for (int i = 1; i < this.failoverPolicies.size(); i++) {\n             if (this.failoverPolicies.get(i).locationName() != null) {\n-                String locName = this.failoverPolicies.get(i).locationName().replace(\" \", \"\")\n-                    .toLowerCase(Locale.ROOT);\n+                String locName = this.formatLocationName(this.failoverPolicies.get(i).locationName());", "originalCommit": "a8380497875fd16c2efc08d9fea40ef74779e6b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAwMTQ0OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11763#discussion_r435001449", "bodyText": "I just refactor it to a function since it would use every where.\nIn cosmos, these two location are all accepted: \"West US\", \"westus\". And it will return the \"West US\" while our Region uses \"westus\".", "author": "ChenTanyi", "createdAt": "2020-06-04T05:32:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAwMDEzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAwNTE2MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11763#discussion_r435005161", "bodyText": "Ok, then maybe static is better.", "author": "weidongxu-microsoft", "createdAt": "2020-06-04T05:44:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAwMDEzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAxMDM3Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11763#discussion_r435010372", "bodyText": "Done", "author": "ChenTanyi", "createdAt": "2020-06-04T06:01:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAwMDEzNw=="}], "type": "inlineReview"}, {"oid": "f85f0ebfcf1b2a32bda4ad078ce32263a4408aee", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f85f0ebfcf1b2a32bda4ad078ce32263a4408aee", "message": "Merge branch 'master' into record-test", "committedDate": "2020-06-04T05:28:46Z", "type": "commit"}, {"oid": "b0ee157992c3fa90e0e8bb2cc0c6d28000660b59", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b0ee157992c3fa90e0e8bb2cc0c6d28000660b59", "message": "fix: compile error", "committedDate": "2020-06-04T05:29:06Z", "type": "commit"}, {"oid": "5aa75213da517231e90f7f66cd20c1d2c94f95f6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5aa75213da517231e90f7f66cd20c1d2c94f95f6", "message": "feat: make format location as static", "committedDate": "2020-06-04T06:01:43Z", "type": "commit"}]}