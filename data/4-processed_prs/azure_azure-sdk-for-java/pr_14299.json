{"pr_number": 14299, "pr_title": "add springboot actuator for cosmosdb", "pr_createdAt": "2020-08-20T06:54:59Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/14299", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzczMzM4Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14299#discussion_r473733387", "bodyText": "Do we need x-version-update for this?", "author": "chenrujun", "createdAt": "2020-08-20T08:00:57Z", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmosdb/pom.xml", "diffHunk": "@@ -24,6 +24,16 @@\n       <artifactId>azure-cosmosdb-spring-boot-starter</artifactId>\n       <version>2.4.0-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-cosmosdb-spring-boot-starter;current} -->\n     </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-actuator</artifactId>\n+      <version>2.3.3.RELEASE</version>", "originalCommit": "3e742e3e34a51d49056721dd976508f23f5d2a9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzczNTEyMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14299#discussion_r473735122", "bodyText": "Or just remove the <version>, use dependencyManagement managed version.", "author": "chenrujun", "createdAt": "2020-08-20T08:02:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzczMzM4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzczNTMzMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14299#discussion_r473735331", "bodyText": "Same to this one.", "author": "chenrujun", "createdAt": "2020-08-20T08:02:37Z", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmosdb/pom.xml", "diffHunk": "@@ -24,6 +24,16 @@\n       <artifactId>azure-cosmosdb-spring-boot-starter</artifactId>\n       <version>2.4.0-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-cosmosdb-spring-boot-starter;current} -->\n     </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-actuator</artifactId>\n+      <version>2.3.3.RELEASE</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-web</artifactId>\n+      <version>2.3.3.RELEASE</version>", "originalCommit": "3e742e3e34a51d49056721dd976508f23f5d2a9b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc0MTgyMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14299#discussion_r473741821", "bodyText": "Do we need to add management.health.azure-cosmos.enabled=true for azure-spring-boot-sample-cosmosdb?", "author": "chenrujun", "createdAt": "2020-08-20T08:08:29Z", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-cosmosdb/pom.xml", "diffHunk": "@@ -24,6 +24,16 @@\n       <artifactId>azure-cosmosdb-spring-boot-starter</artifactId>\n       <version>2.4.0-beta.1</version> <!-- {x-version-update;com.microsoft.azure:azure-cosmosdb-spring-boot-starter;current} -->\n     </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-actuator</artifactId>\n+      <version>2.3.3.RELEASE</version>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.springframework.boot</groupId>\n+      <artifactId>spring-boot-starter-web</artifactId>\n+      <version>2.3.3.RELEASE</version>\n+    </dependency>\n   </dependencies>\n \n </project>", "originalCommit": "3e742e3e34a51d49056721dd976508f23f5d2a9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDM2MTgxNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14299#discussion_r474361814", "bodyText": "Do we need to add management.health.azure-cosmos.enabled=true for azure-spring-boot-sample-cosmosdb?\n\nit will calculate RUs, so I set the default value false, have update the azure-spring-boot-sample-cosmos readme, if you want to use the Spring Boot Actuator, you can open it manually", "author": "zhoufenqin", "createdAt": "2020-08-21T01:44:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc0MTgyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc1NzExNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14299#discussion_r473757116", "bodyText": "Maybe we should add [Optional] in this line.", "author": "chenrujun", "createdAt": "2020-08-20T08:26:25Z", "path": "sdk/spring/azure-spring-boot-starter-cosmosdb/README.md", "diffHunk": "@@ -58,6 +58,26 @@ Property `azure.cosmosdb.cosmosKeyCredential` is also supported. CosmosKeyCreden\n rotate keys on the fly. You can switch keys using switchToSecondaryKey(). For more information on this, see the Sample \n Application code.\n \n+#### Add Spring Boot Actuator", "originalCommit": "3e742e3e34a51d49056721dd976508f23f5d2a9b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzc2NDA1NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14299#discussion_r473764054", "bodyText": "Maybe cosmos-health-configuration.properties is a better file name.", "author": "chenrujun", "createdAt": "2020-08-20T08:33:55Z", "path": "sdk/spring/azure-spring-boot/src/main/resources/actuator.properties", "diffHunk": "@@ -0,0 +1,2 @@\n+management.health.azure-cosmos.enabled=false", "originalCommit": "3e742e3e34a51d49056721dd976508f23f5d2a9b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "df8ae5dea79026a106a7c2ed77f68f71454afe2c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/df8ae5dea79026a106a7c2ed77f68f71454afe2c", "message": "add springboot actuator for cosmosdb", "committedDate": "2020-08-20T08:48:20Z", "type": "forcePushed"}, {"oid": "ce25f637dd812fd6c84b1237c985f4a6da04ec32", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ce25f637dd812fd6c84b1237c985f4a6da04ec32", "message": "add springboot actuator for cosmosdb", "committedDate": "2020-08-20T09:20:01Z", "type": "forcePushed"}, {"oid": "8cbd95080a13ae0c535936485be3b7aac75b2e69", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8cbd95080a13ae0c535936485be3b7aac75b2e69", "message": "add springboot actuator for cosmosdb", "committedDate": "2020-08-20T09:43:02Z", "type": "forcePushed"}, {"oid": "6f4eb003d4c67bf99571401d857dca0ac1e84d35", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6f4eb003d4c67bf99571401d857dca0ac1e84d35", "message": "add springboot actuator for cosmosdb", "committedDate": "2020-08-21T01:40:58Z", "type": "commit"}, {"oid": "6f4eb003d4c67bf99571401d857dca0ac1e84d35", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6f4eb003d4c67bf99571401d857dca0ac1e84d35", "message": "add springboot actuator for cosmosdb", "committedDate": "2020-08-21T01:40:58Z", "type": "forcePushed"}]}