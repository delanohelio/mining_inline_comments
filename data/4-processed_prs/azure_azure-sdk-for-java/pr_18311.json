{"pr_number": 18311, "pr_title": "Enable code coverage reporting for Spring", "pr_createdAt": "2020-12-22T08:44:12Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/18311", "timeline": [{"oid": "5015dd5e3113ed38e14ef8b8bfff38a6f57d302c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5015dd5e3113ed38e14ef8b8bfff38a6f57d302c", "message": "Enable code coverage reporting for Spring", "committedDate": "2020-12-22T08:40:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE0NzM5Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18311#discussion_r547147392", "bodyText": "All these modules have to be moved to the default profiles section. There should be no modules outside of the profiles section.", "author": "srnagar", "createdAt": "2020-12-22T08:50:39Z", "path": "sdk/spring/pom.xml", "diffHunk": "@@ -87,4 +87,141 @@\n     <module>azure-spring-cloud-stream-binder-test</module>", "originalCommit": "5015dd5e3113ed38e14ef8b8bfff38a6f57d302c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE0Nzc3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18311#discussion_r547147775", "bodyText": "All the 75 modules that are outside should be moved to this modules sections", "author": "srnagar", "createdAt": "2020-12-22T08:51:22Z", "path": "sdk/spring/pom.xml", "diffHunk": "@@ -87,4 +87,141 @@\n     <module>azure-spring-cloud-stream-binder-test</module>\n   </modules>\n \n+  <profiles>\n+    <profile>\n+      <id>coverage</id>\n+      <modules>\n+        <module>azure-spring-boot</module>\n+        <module>azure-spring-cloud-autoconfigure</module>\n+        <module>azure-spring-cloud-context</module>\n+        <module>azure-spring-cloud-storage</module>\n+        <module>azure-spring-cloud-telemetry</module>\n+        <module>azure-spring-integration-core</module>\n+        <module>azure-spring-integration-eventhubs</module>\n+        <module>azure-spring-integration-servicebus</module>\n+        <module>azure-spring-integration-storage-queue</module>\n+        <module>azure-spring-cloud-messaging</module>\n+        <module>azure-spring-cloud-stream-binder-eventhubs</module>\n+        <module>azure-spring-cloud-stream-binder-servicebus-core</module>\n+        <module>azure-spring-cloud-stream-binder-servicebus-queue</module>\n+        <module>azure-spring-cloud-stream-binder-servicebus-topic</module>\n+      </modules>\n+      <dependencies>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-boot</artifactId>\n+          <version>3.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-boot;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-autoconfigure</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-autoconfigure;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-context</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-context;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-storage</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-storage;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-telemetry</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-telemetry;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-integration-core</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-integration-core;current} -->\n+       </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-integration-eventhubs</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-integration-eventhubs;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-integration-servicebus</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-integration-servicebus;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-integration-storage-queue</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-integration-storage-queue;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-messaging</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-messaging;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-stream-binder-eventhubs</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-stream-binder-eventhubs;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-stream-binder-servicebus-core</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-stream-binder-servicebus-core;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-stream-binder-servicebus-queue</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-stream-binder-servicebus-queue;current} -->\n+        </dependency>\n+        <dependency>\n+          <groupId>com.azure.spring</groupId>\n+          <artifactId>azure-spring-cloud-stream-binder-servicebus-topic</artifactId>\n+          <version>2.0.0-beta.2</version> <!-- {x-version-update;com.azure.spring:azure-spring-cloud-stream-binder-servicebus-topic;current} -->\n+        </dependency>\n+      </dependencies>\n+\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.jacoco</groupId>\n+            <artifactId>jacoco-maven-plugin</artifactId>\n+            <version>0.8.5</version> <!-- {x-version-update;org.jacoco:jacoco-maven-plugin;external_dependency} -->\n+            <executions>\n+              <execution>\n+                <id>report-aggregate</id>\n+                <phase>verify</phase>\n+                <goals>\n+                  <goal>report-aggregate</goal>\n+                </goals>\n+                <configuration>\n+                  <outputDirectory>${project.reporting.outputDirectory}/test-coverage</outputDirectory>\n+                </configuration>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+    <profile>\n+      <id>default</id>\n+      <activation>\n+        <activeByDefault>true</activeByDefault>\n+      </activation>\n+      <modules>\n+        <module>azure-spring-boot</module>", "originalCommit": "5015dd5e3113ed38e14ef8b8bfff38a6f57d302c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE0ODk4Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/18311#discussion_r547148983", "bodyText": "Oh, I didn't see the default profile. Will update it soon.", "author": "yiliuTo", "createdAt": "2020-12-22T08:53:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE0Nzc3NQ=="}], "type": "inlineReview"}, {"oid": "495beaafc2cbe11952972c348aa95baa5da0d7eb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/495beaafc2cbe11952972c348aa95baa5da0d7eb", "message": "move all modules to default profile", "committedDate": "2020-12-22T08:55:33Z", "type": "commit"}]}