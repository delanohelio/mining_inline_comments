{"pr_number": 11429, "pr_title": "Cosmos: CFP and doc related changes", "pr_createdAt": "2020-05-26T17:21:27Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11429", "timeline": [{"oid": "53f40596fd837612bbf4acc39f45149e74ff685d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/53f40596fd837612bbf4acc39f45149e74ff685d", "message": "Update Change Feed Processor public APIs and documentation.", "committedDate": "2020-05-22T19:30:24Z", "type": "commit"}, {"oid": "90cce143492402576522e1570d96b6255fbac24c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/90cce143492402576522e1570d96b6255fbac24c", "message": "Add implementation and respective test case for estimating the Change Feed Processor lag between the last processed batch of feeds (check-pointed in the respective lease document) and the latest feed document.", "committedDate": "2020-05-23T06:44:43Z", "type": "commit"}, {"oid": "fb04cbfb5bfb61c5f6d069a18ef1ec351efc935a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fb04cbfb5bfb61c5f6d069a18ef1ec351efc935a", "message": "Remove container readAllItems() from public API surface.\nAdd new APIs for createContainerIfNotExists() that will accept a throughput properties object.\nFix docs; finish sentences with \".\", rewording.", "committedDate": "2020-05-26T02:16:05Z", "type": "commit"}, {"oid": "16141b9e5d122c21e18d81323d1ce287d079290b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/16141b9e5d122c21e18d81323d1ce287d079290b", "message": "Add createDatabaseIfNotExist() method that takes a throughput properties object.\nDoc changes: finish sentences with \".\".", "committedDate": "2020-05-26T04:00:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjIzNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430632234", "bodyText": "We should hide / remove this API - as discussed in this ticket : #11191", "author": "kushagraThapar", "createdAt": "2020-05-26T18:49:02Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosContainer.java", "diffHunk": "@@ -46,134 +46,124 @@\n     }\n \n     /**\n-     * Id string.\n+     * Gets the current container id.\n      *\n-     * @return the string\n+     * @return the container id.\n      */\n     public String getId() {\n         return id;\n     }\n \n     /**\n-     * Read cosmos sync container response.\n+     * Reads the current container.\n      *\n-     * @return the cosmos sync container response\n+     * @return the Cosmos container response with the read container.\n      */\n     public CosmosContainerResponse read() {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.read());\n     }\n \n     /**\n-     * Read cosmos sync container response.\n+     * Reads the current container while specifying additional options such as If-Match.\n      *\n-     * @param options the options\n-     * @return the cosmos sync container response\n+     * @param options the options.\n+     * @return the Cosmos sync container response.\n      */\n     public CosmosContainerResponse read(CosmosContainerRequestOptions options) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.read(options));\n     }\n \n     /**\n-     * Delete cosmos sync container response.\n+     * Deletes the current cosmos sync container response while specifying additional options such as If-Match.\n      *\n-     * @param options the options\n-     * @return the cosmos sync container response\n+     * @param options the options.\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse delete(CosmosContainerRequestOptions options) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.delete(options));\n     }\n \n     /**\n-     * Delete cosmos sync container response.\n+     * Deletes the current cosmos sync container response.\n      *\n-     * @return the cosmos sync container response\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse delete() {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.delete());\n     }\n \n     /**\n-     * Replace cosmos sync container response.\n+     * Replaces the current container properties.\n      *\n-     * @param containerProperties the container properties\n-     * @return the cosmos sync container response\n+     * @param containerProperties the container properties.\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse replace(CosmosContainerProperties containerProperties) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.replace(containerProperties));\n     }\n \n     /**\n-     * Replace cosmos sync container response.\n+     * Replaces the current container properties while specifying additional options such as If-Match.\n      *\n-     * @param containerProperties the container properties\n-     * @param options the options\n-     * @return the cosmos sync container response\n+     * @param containerProperties the container properties.\n+     * @param options the options.\n+     * @return the cosmos sync container response.\n      */\n     public CosmosContainerResponse replace(CosmosContainerProperties containerProperties,\n                                            CosmosContainerRequestOptions options) {\n         return database.mapContainerResponseAndBlock(this.asyncContainer.replace(containerProperties, options));\n     }\n \n     /**\n-     * Read provisioned throughput integer.\n+     * Read provisioned throughput for the current container.\n      *\n-     * @return the integer. null response indicates database doesn't have any provisioned RUs\n+     * @return provisioned throughput for the current container or null response if doesn't have any provisioned RUs.\n      */\n     public Integer readProvisionedThroughput() {", "originalCommit": "16141b9e5d122c21e18d81323d1ce287d079290b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2NjkyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430666929", "bodyText": "Fixed.", "author": "milismsft", "createdAt": "2020-05-26T19:47:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjIzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjYwNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430632606", "bodyText": "Same here - hide / remove this API - #11191", "author": "kushagraThapar", "createdAt": "2020-05-26T18:49:41Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosDatabase.java", "diffHunk": "@@ -458,7 +497,7 @@ private CosmosUserResponse convertUserResponse(CosmosAsyncUserResponse response)\n     /**\n      * Read provisioned throughput integer.\n      *\n-     * @return the integer. null response indicates database doesn't have any provisioned RUs\n+     * @return the integer. null response indicates database doesn't have any provisioned RUs.\n      */\n     public Integer readProvisionedThroughput() {", "originalCommit": "16141b9e5d122c21e18d81323d1ce287d079290b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2NzE1OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430667159", "bodyText": "Fixed.", "author": "milismsft", "createdAt": "2020-05-26T19:47:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjYwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjgyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430632825", "bodyText": "Same here : hide / remove this API - #11191", "author": "kushagraThapar", "createdAt": "2020-05-26T18:50:04Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosDatabase.java", "diffHunk": "@@ -467,8 +506,8 @@ public Integer readProvisionedThroughput() {\n     /**\n      * Replace provisioned throughput integer.\n      *\n-     * @param requestUnitsPerSecond the request units per second\n-     * @return the integer\n+     * @param requestUnitsPerSecond the request units per second.\n+     * @return the integer.\n      */\n     public Integer replaceProvisionedThroughput(int requestUnitsPerSecond) {", "originalCommit": "16141b9e5d122c21e18d81323d1ce287d079290b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY2NzA0MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11429#discussion_r430667040", "bodyText": "Fixed.", "author": "milismsft", "createdAt": "2020-05-26T19:47:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDYzMjgyNQ=="}], "type": "inlineReview"}, {"oid": "5ce963f94156371ba90faff29ca2086fa4110d60", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5ce963f94156371ba90faff29ca2086fa4110d60", "message": "Remove readProvisionedThroughput() and replaceProvisionedThroughput(); with the introduction of auto-scale features the throughput must be explicitly handled via ThroughputProperties class.\nFix Java doc issue; remove unsopported \"@see\" annotation.", "committedDate": "2020-05-26T19:46:48Z", "type": "commit"}, {"oid": "ba1bbf0890657bf5cfd7b921fd1416e55bc516f3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ba1bbf0890657bf5cfd7b921fd1416e55bc516f3", "message": "Merge remote-tracking branch 'upstream/master' into milismsft-cfp-doc-updates\n\n# Conflicts:\n#\tsdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosAsyncContainer.java", "committedDate": "2020-05-26T19:56:41Z", "type": "commit"}, {"oid": "8d41ff2cbd3ca9db03032e92a1f5939f79db9809", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8d41ff2cbd3ca9db03032e92a1f5939f79db9809", "message": "Remove/refactor public APIs that take throughput as an integer to use a full throughput properties object.", "committedDate": "2020-05-27T01:30:33Z", "type": "commit"}, {"oid": "570b73b6c269e9697ebbb9f07ffe5664ea644140", "url": "https://github.com/Azure/azure-sdk-for-java/commit/570b73b6c269e9697ebbb9f07ffe5664ea644140", "message": "fix a spot-bug related issue.", "committedDate": "2020-05-27T01:32:46Z", "type": "commit"}, {"oid": "f8ea6ababfab4b461625a89045f783dbdbe56729", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f8ea6ababfab4b461625a89045f783dbdbe56729", "message": "fix spot-bug related issue", "committedDate": "2020-05-27T05:11:03Z", "type": "commit"}]}