{"pr_number": 12189, "pr_title": "Update spring-boot related modules' version to 2.3.3-beta.1.", "pr_createdAt": "2020-06-15T09:26:16Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12189", "timeline": [{"oid": "ee76066726ce8c7dfefbfc271fdab2cf1b5f0481", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ee76066726ce8c7dfefbfc271fdab2cf1b5f0481", "message": "Fix error caused by spring-boot version up.", "committedDate": "2020-06-16T06:01:53Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgzNTYwMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r440835602", "bodyText": "Do we need to upgrade these spring security versions too?", "author": "saragluna", "createdAt": "2020-06-16T13:09:08Z", "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -60,15 +60,20 @@ org.powermock:powermock-api-mockito2;2.0.2\n org.powermock:powermock-module-junit4;2.0.2\n org.slf4j:slf4j-api;1.7.28\n org.slf4j:slf4j-simple;1.7.25\n-org.springframework.boot:spring-boot-actuator-autoconfigure;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-autoconfigure;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-autoconfigure-processor;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-configuration-processor;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-dependencies;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter-test;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter-validation;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter-web;2.2.0.RELEASE\n+\n+## Spring boot dependency versions\n+org.springframework.boot:spring-boot-actuator-autoconfigure;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-autoconfigure-processor;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-autoconfigure;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-configuration-processor;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-dependencies;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-test;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-validation;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-web;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter;2.3.0.RELEASE\n+org.springframework.boot:spring-boot;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-parent;2.3.0.RELEASE\n+\n org.springframework.security:spring-security-config;5.2.0.RELEASE", "originalCommit": "ee76066726ce8c7dfefbfc271fdab2cf1b5f0481", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI2MjcyOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441262728", "bodyText": "Updated.", "author": "chenrujun", "createdAt": "2020-06-17T03:41:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgzNTYwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE3MTM2Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441171367", "bodyText": "I'm going to mirror what @saragluna mentioned, do we need to update these for security issues? I know that there's a CVE and org.springframework:spring-web:5.2.5.RELEASE is going to need to be updated to a later version.\nnit: don't need the extra empty line here.", "author": "JimSuplizio", "createdAt": "2020-06-16T22:12:07Z", "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -60,15 +60,20 @@ org.powermock:powermock-api-mockito2;2.0.2\n org.powermock:powermock-module-junit4;2.0.2\n org.slf4j:slf4j-api;1.7.28\n org.slf4j:slf4j-simple;1.7.25\n-org.springframework.boot:spring-boot-actuator-autoconfigure;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-autoconfigure;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-autoconfigure-processor;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-configuration-processor;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-dependencies;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter-test;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter-validation;2.2.0.RELEASE\n-org.springframework.boot:spring-boot-starter-web;2.2.0.RELEASE\n+\n+## Spring boot dependency versions\n+org.springframework.boot:spring-boot-actuator-autoconfigure;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-autoconfigure-processor;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-autoconfigure;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-configuration-processor;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-dependencies;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-test;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-validation;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-web;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter;2.3.0.RELEASE\n+org.springframework.boot:spring-boot;2.3.0.RELEASE\n+org.springframework.boot:spring-boot-starter-parent;2.3.0.RELEASE\n+", "originalCommit": "ee76066726ce8c7dfefbfc271fdab2cf1b5f0481", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI2Mjc3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441262775", "bodyText": "Updated.", "author": "chenrujun", "createdAt": "2020-06-17T03:41:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE3MTM2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE3MjEwMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441172102", "bodyText": "@chenrujun, I'm going to recommend that you completely revert this file and start from scratch for the following reasons:\n\nPlease do not re-organize this entire file. These top 3 are ancestor poms for the track and the repository. Everything under the com.azure:azure-client-sdk-parent entry should be alphabetized (since they're actually shipping libraries), but if something isn't it's probably because the name changed and it wasn't reordered and I'll take care of that at a later time. It only makes the PR more confusing and harder to read.\nThe current groupId for your spring libraries is com.microsoft.azure, not com.azure. You've added a number of duplicate spring boot artifact entries with the wrong groupId.\nThe way versions are incremented post release are as follows:\n\n\nIf the release was beta then beta.x becomes beta.x+1\nIf the release was GA, then we zero out the hotfix, increment the minor and add \"-beta.1\" to the end.", "author": "JimSuplizio", "createdAt": "2020-06-16T22:13:55Z", "path": "eng/versioning/version_client.txt", "diffHunk": "@@ -1,12 +1,10 @@\n # Format;\n # <groupId>:<artifactId>;dependency-version;current-version\n \n-com.azure:azure-sdk-all;1.0.0;1.0.0\n-com.azure:azure-sdk-parent;1.6.0;1.6.0\n-com.azure:azure-client-sdk-parent;1.7.0;1.7.0\n+com.azure:azure-active-directory-spring-boot-starter;2.3.2;2.3.3-beta.1", "originalCommit": "ee76066726ce8c7dfefbfc271fdab2cf1b5f0481", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTI2MjkwMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441262903", "bodyText": "Updated.", "author": "chenrujun", "createdAt": "2020-06-17T03:42:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE3MjEwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM2NjY4Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441366682", "bodyText": "Hi @JimSuplizio .\n\nThe way versions are incremented post release are as follows:\nIf the release was beta then beta.x becomes beta.x+1\nIf the release was GA, then we zero out the hotfix, increment the minor and add \"-beta.1\" to the end.\n\nWe have already released 2.3.2, can I write version like this?\ncom.microsoft.azure:azure-spring-boot;2.3.2;2.3.3-beta.1", "author": "chenrujun", "createdAt": "2020-06-17T08:18:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE3MjEwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYxOTM0OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441619349", "bodyText": "I'm going to let this through but I was pretty specific in about what the version increment should have been. After releasing 2.3.2, the new 'current' should be 2.4.0-beta.1. This is the way we increment things after release and the way the auto increment code will work when it creates the auto increment PR when released through our pipelines.", "author": "JimSuplizio", "createdAt": "2020-06-17T15:07:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE3MjEwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTkxNDQzMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12189#discussion_r441914431", "bodyText": "I got it. Thank you for your detailed explanation.", "author": "chenrujun", "createdAt": "2020-06-18T01:13:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE3MjEwMg=="}], "type": "inlineReview"}, {"oid": "1be0b1ec6c1b3ab056e965c55b707fd3c0996c2b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1be0b1ec6c1b3ab056e965c55b707fd3c0996c2b", "message": "Update spring-boot related modules' version to 2.3.3-beta.1.", "committedDate": "2020-06-17T03:27:00Z", "type": "commit"}, {"oid": "5dad38feef0b0ec5ef141efc649286e5d7d4e7a5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5dad38feef0b0ec5ef141efc649286e5d7d4e7a5", "message": "Add the content which help to update version.", "committedDate": "2020-06-17T03:27:08Z", "type": "commit"}, {"oid": "cce9a945545f7ed3edfb2fc446319fd3e1536e5d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cce9a945545f7ed3edfb2fc446319fd3e1536e5d", "message": "Change the order of spring-boot related dependencies.", "committedDate": "2020-06-17T03:27:08Z", "type": "commit"}, {"oid": "7c4554ae3183d2d35cadf0a505b7f358efd98b76", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7c4554ae3183d2d35cadf0a505b7f358efd98b76", "message": "Update spring-boot version to 2.3.0", "committedDate": "2020-06-17T03:27:09Z", "type": "commit"}, {"oid": "2c107c97e8521d130573df4a17061fdfad290315", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2c107c97e8521d130573df4a17061fdfad290315", "message": "Update version by update_version.py", "committedDate": "2020-06-17T03:27:09Z", "type": "commit"}, {"oid": "0d861bd9e5c357bb0175eee196d414601ccac07b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0d861bd9e5c357bb0175eee196d414601ccac07b", "message": "Add spring-boot-starter-parent version.", "committedDate": "2020-06-17T03:27:09Z", "type": "commit"}, {"oid": "fa6b5b87c5c310523c03a0b97ea9db2665b5f803", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fa6b5b87c5c310523c03a0b97ea9db2665b5f803", "message": "Update version by update_version.py", "committedDate": "2020-06-17T03:27:09Z", "type": "commit"}, {"oid": "71ce297d3959a744e5c4ac6c9c8819e9387c23e6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/71ce297d3959a744e5c4ac6c9c8819e9387c23e6", "message": "Remove unused property in pom.", "committedDate": "2020-06-17T03:27:10Z", "type": "commit"}, {"oid": "c8d840bdce3b42713efd1f5dc44b07bae6651d67", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c8d840bdce3b42713efd1f5dc44b07bae6651d67", "message": "Fix error caused by spring-boot version up.", "committedDate": "2020-06-17T03:27:10Z", "type": "commit"}, {"oid": "66ed1af24df3fdaf7680768da10c4f021a0de937", "url": "https://github.com/Azure/azure-sdk-for-java/commit/66ed1af24df3fdaf7680768da10c4f021a0de937", "message": "Update vertion of spring framework related artifact.", "committedDate": "2020-06-17T03:27:10Z", "type": "commit"}, {"oid": "a09aafe17ba8a2e9680b6235bf6e7667af72681b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a09aafe17ba8a2e9680b6235bf6e7667af72681b", "message": "Update vertion of spring-context to 5.2.6-RELEASE.", "committedDate": "2020-06-17T03:27:11Z", "type": "commit"}, {"oid": "5566b1854c0b5bf802604f7c3b5fab398f2713de", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5566b1854c0b5bf802604f7c3b5fab398f2713de", "message": "Restore vertion_client.txt from master branch.", "committedDate": "2020-06-17T03:31:57Z", "type": "commit"}, {"oid": "6a84261b0d32d4073aa3be9343948104014a8c91", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6a84261b0d32d4073aa3be9343948104014a8c91", "message": "Update spring integration related vertion to 2.3.3-beta.1.", "committedDate": "2020-06-17T03:39:15Z", "type": "commit"}, {"oid": "6a84261b0d32d4073aa3be9343948104014a8c91", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6a84261b0d32d4073aa3be9343948104014a8c91", "message": "Update spring integration related vertion to 2.3.3-beta.1.", "committedDate": "2020-06-17T03:39:15Z", "type": "forcePushed"}]}