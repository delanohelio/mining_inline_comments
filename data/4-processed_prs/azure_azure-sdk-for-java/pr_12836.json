{"pr_number": 12836, "pr_title": "[BUG] Cosmos | Addresses GitHub issue #10401 : Operator called default onErrorDropped", "pr_createdAt": "2020-07-07T01:47:31Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12836", "timeline": [{"oid": "84a37ab329525ae52d7c1adc6e7ba3c33625c5c7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/84a37ab329525ae52d7c1adc6e7ba3c33625c5c7", "message": "Port from v4", "committedDate": "2019-11-07T04:36:56Z", "type": "commit"}, {"oid": "d218925e1dff21266697a27e4271d34dfcc3b6a7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d218925e1dff21266697a27e4271d34dfcc3b6a7", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2019-11-08T01:46:09Z", "type": "commit"}, {"oid": "11cbbf37bf63bf50e94f67fe30300ac39c72ed4f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/11cbbf37bf63bf50e94f67fe30300ac39c72ed4f", "message": "Merge branch 'master' of github.com:David-Noble-at-work/azure-sdk-for-java", "committedDate": "2019-11-08T03:20:35Z", "type": "commit"}, {"oid": "05c7e0551ffb6fd1ed80c15d1068cb32e734007e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/05c7e0551ffb6fd1ed80c15d1068cb32e734007e", "message": "Corrected package misspelling in log4j.properties and removed System.exit from Main.java", "committedDate": "2019-11-09T00:07:30Z", "type": "commit"}, {"oid": "8dfa3dbf03ae2addeddcb34ffc67c362670a164c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8dfa3dbf03ae2addeddcb34ffc67c362670a164c", "message": "Merge branch 'master' of github.com:David-Noble-at-work/azure-sdk-for-java", "committedDate": "2019-11-09T00:07:47Z", "type": "commit"}, {"oid": "e6e71f5e6b292cac17b6a9687d04ad858f02a8a1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e6e71f5e6b292cac17b6a9687d04ad858f02a8a1", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2019-11-09T18:42:20Z", "type": "commit"}, {"oid": "e082d817a13d64ed57e5243cbc1da5b4ef0ab58e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e082d817a13d64ed57e5243cbc1da5b4ef0ab58e", "message": "Merge branch 'master' of github.com:David-Noble-at-work/azure-sdk-for-java", "committedDate": "2019-11-17T00:51:11Z", "type": "commit"}, {"oid": "069c822e997087f384cf1a1864e7efec331e69f8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/069c822e997087f384cf1a1864e7efec331e69f8", "message": "Merge branch 'master' of github.com:David-Noble-at-work/azure-sdk-for-java", "committedDate": "2019-11-23T22:36:47Z", "type": "commit"}, {"oid": "3ead1cca230e56b61e5376e73bd1481f7a7b81e6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3ead1cca230e56b61e5376e73bd1481f7a7b81e6", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2019-12-03T18:58:37Z", "type": "commit"}, {"oid": "669ba8b28ed6ae321fda445e0e167ff027cc6481", "url": "https://github.com/Azure/azure-sdk-for-java/commit/669ba8b28ed6ae321fda445e0e167ff027cc6481", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2019-12-04T19:34:26Z", "type": "commit"}, {"oid": "735f57269d45a3497a66d47d594b7efac88179ff", "url": "https://github.com/Azure/azure-sdk-for-java/commit/735f57269d45a3497a66d47d594b7efac88179ff", "message": "Responded to code review comments", "committedDate": "2019-12-04T19:36:31Z", "type": "commit"}, {"oid": "6db330d843c4cdbb80b90c6f734f69a59afb9183", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6db330d843c4cdbb80b90c6f734f69a59afb9183", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-01-04T00:31:23Z", "type": "commit"}, {"oid": "48855b55564f6f216ee6a156f7a64ff5991ee2e6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/48855b55564f6f216ee6a156f7a64ff5991ee2e6", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-01-04T02:07:38Z", "type": "commit"}, {"oid": "2367f50dd69e8f4d1ba123c3b42ad4388caeaa66", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2367f50dd69e8f4d1ba123c3b42ad4388caeaa66", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-01-17T20:51:14Z", "type": "commit"}, {"oid": "fb9cac0c12e21f09e3c45580bf324bef7733b8c1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fb9cac0c12e21f09e3c45580bf324bef7733b8c1", "message": "Updated sdk/cosmos/README.md with info on using system properties to modify default Direct TCP options", "committedDate": "2020-01-23T01:18:46Z", "type": "commit"}, {"oid": "1dd708ef9e753607040a6bb1f2b69c863dda8a0a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1dd708ef9e753607040a6bb1f2b69c863dda8a0a", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-01-23T01:21:11Z", "type": "commit"}, {"oid": "203507a249705593b04dec3e36566537d15da4e2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/203507a249705593b04dec3e36566537d15da4e2", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-03-16T00:12:48Z", "type": "commit"}, {"oid": "368b10f9893cdf49e95545e8ae4ec5ff03450f60", "url": "https://github.com/Azure/azure-sdk-for-java/commit/368b10f9893cdf49e95545e8ae4ec5ff03450f60", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-03-16T17:10:04Z", "type": "commit"}, {"oid": "a0b44a7f9ef506fe168d1bce9918be6d3a6bfea7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a0b44a7f9ef506fe168d1bce9918be6d3a6bfea7", "message": "Merge branch 'master' of github.com:David-Noble-at-work/azure-sdk-for-java", "committedDate": "2020-04-15T01:29:42Z", "type": "commit"}, {"oid": "d810ba8e1c8384eb363273d6c723f940ee8d244f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d810ba8e1c8384eb363273d6c723f940ee8d244f", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-05-06T18:39:06Z", "type": "commit"}, {"oid": "64a12afb32dc1ca4704ed84098766fe4f97c863b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/64a12afb32dc1ca4704ed84098766fe4f97c863b", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-06-04T15:25:14Z", "type": "commit"}, {"oid": "29f2c734300ec0d910ce2f2a7649581c96f7df3d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/29f2c734300ec0d910ce2f2a7649581c96f7df3d", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-06-26T17:59:00Z", "type": "commit"}, {"oid": "a7018938e13957c4ff85af229cc05f52db467bfe", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a7018938e13957c4ff85af229cc05f52db467bfe", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java", "committedDate": "2020-07-02T17:25:08Z", "type": "commit"}, {"oid": "bbe2e9a5e0862eb56a495f978dbb58bebf3e1dc2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bbe2e9a5e0862eb56a495f978dbb58bebf3e1dc2", "message": "Removed file that's been deleted on origin/master: sdk/cosmos/README.md", "committedDate": "2020-07-02T17:30:42Z", "type": "commit"}, {"oid": "a1a58326c79b1f4b484af46ce1743d56d7bfc4df", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a1a58326c79b1f4b484af46ce1743d56d7bfc4df", "message": "Resolved issue (see changes to RntbdTransportClient), disambiguated two messages (see changes to RntbdClientChannelPool), and optimized imports.", "committedDate": "2020-07-02T22:31:03Z", "type": "commit"}, {"oid": "68d9303bb7e20987c5c3b7d9fce62b431d215eff", "url": "https://github.com/Azure/azure-sdk-for-java/commit/68d9303bb7e20987c5c3b7d9fce62b431d215eff", "message": "Refinements to exception handling designed to eliminate onErrorDropped errors.", "committedDate": "2020-07-04T20:56:09Z", "type": "commit"}, {"oid": "9c32de76ba2705fb1e7e9ec8d516b224bead6067", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9c32de76ba2705fb1e7e9ec8d516b224bead6067", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java into issue/cosmos-4.X/#10401", "committedDate": "2020-07-04T20:56:15Z", "type": "commit"}, {"oid": "78f08bf2072de585faa51dfce05c32ae22f7607f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/78f08bf2072de585faa51dfce05c32ae22f7607f", "message": "RntbdTransportClient.Options constructor now respects the value of DirectConnectionConfig.idleEndpointTimeout.", "committedDate": "2020-07-04T21:12:41Z", "type": "commit"}, {"oid": "7a51cd092f836d1833707ff85e4f0ef9f95aa357", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7a51cd092f836d1833707ff85e4f0ef9f95aa357", "message": "Testing a new possible fix", "committedDate": "2020-07-05T15:53:31Z", "type": "commit"}, {"oid": "85822a3cb82974a27562093fe9a8b65b268cce93", "url": "https://github.com/Azure/azure-sdk-for-java/commit/85822a3cb82974a27562093fe9a8b65b268cce93", "message": "Another fix attempt", "committedDate": "2020-07-05T21:38:09Z", "type": "commit"}, {"oid": "bfbb4a6221995073f62598e1e2d3d778464ea7d7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bfbb4a6221995073f62598e1e2d3d778464ea7d7", "message": "Updated code comment", "committedDate": "2020-07-05T22:00:09Z", "type": "commit"}, {"oid": "318f288f1153bfb81f76b235af9773b927019eb1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/318f288f1153bfb81f76b235af9773b927019eb1", "message": "Updated code comment", "committedDate": "2020-07-05T22:37:26Z", "type": "commit"}, {"oid": "ab9ca6be513abda4e82a9d7aaa2628ba1961133c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ab9ca6be513abda4e82a9d7aaa2628ba1961133c", "message": "Testing a revised 'fix'", "committedDate": "2020-07-06T04:59:07Z", "type": "commit"}, {"oid": "7213f1536df0587b35bba3dfb461ab47dfa172f4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7213f1536df0587b35bba3dfb461ab47dfa172f4", "message": "Updated thread name prefix string.", "committedDate": "2020-07-06T05:06:05Z", "type": "commit"}, {"oid": "b3cc1fb6c6a6cfbada47497706b32fb48dc4fd52", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b3cc1fb6c6a6cfbada47497706b32fb48dc4fd52", "message": "Tweakead the implementation before creating a PR.", "committedDate": "2020-07-07T01:08:18Z", "type": "commit"}, {"oid": "a18d78bc3940feed959ea8f418808a37c709c9e1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a18d78bc3940feed959ea8f418808a37c709c9e1", "message": "Resolved merge conflict", "committedDate": "2020-07-10T17:33:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk4MzIzNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12836#discussion_r452983234", "bodyText": "I think this is in-correct. Don't we want to use getIdleTcpConnectionTimeout ?", "author": "kushagraThapar", "createdAt": "2020-07-10T17:41:31Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/directconnectivity/RntbdTransportClient.java", "diffHunk": "@@ -568,7 +568,7 @@ public Builder(ConnectionPolicy connectionPolicy) {\n                 this.bufferPageSize = DEFAULT_OPTIONS.bufferPageSize;\n                 this.connectionAcquisitionTimeout = DEFAULT_OPTIONS.connectionAcquisitionTimeout;\n                 this.connectTimeout = connectionPolicy.getConnectTimeout();\n-                this.idleChannelTimeout = connectionPolicy.getIdleTcpConnectionTimeout();\n+                this.idleChannelTimeout = connectionPolicy.getIdleConnectionTimeout();", "originalCommit": "a18d78bc3940feed959ea8f418808a37c709c9e1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk4MzU2Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12836#discussion_r452983567", "bodyText": "I am pretty sure it will not compile - because we don't have this method any more :)", "author": "kushagraThapar", "createdAt": "2020-07-10T17:42:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk4MzIzNA=="}], "type": "inlineReview"}, {"oid": "eca845d140963ae864c3d81ae3a8ae386d6fe564", "url": "https://github.com/Azure/azure-sdk-for-java/commit/eca845d140963ae864c3d81ae3a8ae386d6fe564", "message": "Fix compilation error on conflict resolution", "committedDate": "2020-07-10T18:51:51Z", "type": "commit"}, {"oid": "7e05381ad74c761ca5429c26ce5f4f5315640b31", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7e05381ad74c761ca5429c26ce5f4f5315640b31", "message": "Fixed merge issue", "committedDate": "2020-07-10T21:44:09Z", "type": "commit"}, {"oid": "714b6d2f0bc7ee31dc4fe5a8a5f9f6f16cb39449", "url": "https://github.com/Azure/azure-sdk-for-java/commit/714b6d2f0bc7ee31dc4fe5a8a5f9f6f16cb39449", "message": "Merge branch 'issue/cosmos-4.X/#10401' of github.com:David-Noble-at-work/azure-sdk-for-java into issue/cosmos-4.X/#10401", "committedDate": "2020-07-10T21:44:15Z", "type": "commit"}, {"oid": "20a877ced8ba945a2a46a955fdd5520f4b08b0a7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/20a877ced8ba945a2a46a955fdd5520f4b08b0a7", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java into issue/cosmos-4.X/#10401", "committedDate": "2020-07-10T21:48:23Z", "type": "commit"}]}