{"pr_number": 17615, "pr_title": "Add resource searching sample description", "pr_createdAt": "2020-11-17T06:07:21Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/17615", "timeline": [{"oid": "a71f13043b918d691a71d10fcc5c3f11019935f8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a71f13043b918d691a71d10fcc5c3f11019935f8", "message": "Add resource searching sample description", "committedDate": "2020-11-17T05:59:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyOTcyNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r525029726", "bodyText": "We should combine all these code into one code block and add some descriptions about how to search resources.", "author": "saragluna", "createdAt": "2020-11-17T10:03:09Z", "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,38 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Inject the builder bean.\n+\n+    ```java", "originalCommit": "a71f13043b918d691a71d10fcc5c3f11019935f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTY3NDQ2OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r525674469", "bodyText": "Done, please help review.", "author": "moarychan", "createdAt": "2020-11-18T02:39:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyOTcyNg=="}], "type": "inlineReview"}, {"oid": "5bd3359594616955087f61d8e2fc2ee64bb7573f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5bd3359594616955087f61d8e2fc2ee64bb7573f", "message": "Combine the sample code and comment in java code block", "committedDate": "2020-11-18T02:38:49Z", "type": "commit"}, {"oid": "5a7654cd75278e0a9d369cf7210fb38383deb83d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5a7654cd75278e0a9d369cf7210fb38383deb83d", "message": "Simple the sample code and comment", "committedDate": "2020-11-18T03:02:19Z", "type": "commit"}, {"oid": "17899d3e1e28dea36f978924a56265c7f809e8a5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/17899d3e1e28dea36f978924a56265c7f809e8a5", "message": "Add Multipart upload section", "committedDate": "2020-11-18T04:55:11Z", "type": "commit"}, {"oid": "5647a1dc76163b97d1e0b826bff22d07ded11cde", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5647a1dc76163b97d1e0b826bff22d07ded11cde", "message": "Update multipart upload description", "committedDate": "2020-11-19T03:48:48Z", "type": "commit"}, {"oid": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2c0ab676623a38c7e458d5112b2c6b0831d6feb5", "message": "Update link", "committedDate": "2020-11-19T03:50:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYwMDA0OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526600048", "bodyText": "Is there a Java sdk implementation link for this?", "author": "saragluna", "createdAt": "2020-11-19T05:17:38Z", "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Create pattern resolver object, if only one storage type resource used, please call the corresponding constructor.\n+* Pattern search, the **searchPattern** should start with `azure-blob://` or `azure-file://`. Such as `azure-blob://*/*`, it means list all blobs in all containers; `azure-blob://demo-container/**`, it means list all blobs in the demo-container container, including any sub-folder.\n+* Location search, the **searchLocation** should start with `azure-blob://` or `azure-file://`, the remaining file path should exist, otherwise an exception will be thrown.\n+\n+```java\n+AzureStorageResourcePatternResolver storageResourcePatternResolver = new AzureStorageResourcePatternResolver(blobServiceClientBuilder.buildClient());\n+Resource[] resources = storageResourcePatternResolver.getResources(searchPattern);\n+Resource resource = storageResourcePatternResolver.getResource(searchLocation);\n+```\n+\n+#### Multipart upload\n+Files larger than 4 MiB will be uploaded to Azure Storage in parallel. Learn more at [Upload in parallel][storage-blob-scalable-app-upload-files].", "originalCommit": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYxNDM5MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526614390", "bodyText": "Not found the suitable link, so remove it.", "author": "moarychan", "createdAt": "2020-11-19T06:05:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYwMDA0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYwMDM4OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526600388", "bodyText": "We could remove this line, as the code will show this creation.", "author": "saragluna", "createdAt": "2020-11-19T05:18:49Z", "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Create pattern resolver object, if only one storage type resource used, please call the corresponding constructor.", "originalCommit": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjYwMTE3NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526601174", "bodyText": "Please add an empty line between these code lines.", "author": "saragluna", "createdAt": "2020-11-19T05:21:18Z", "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Create pattern resolver object, if only one storage type resource used, please call the corresponding constructor.\n+* Pattern search, the **searchPattern** should start with `azure-blob://` or `azure-file://`. Such as `azure-blob://*/*`, it means list all blobs in all containers; `azure-blob://demo-container/**`, it means list all blobs in the demo-container container, including any sub-folder.\n+* Location search, the **searchLocation** should start with `azure-blob://` or `azure-file://`, the remaining file path should exist, otherwise an exception will be thrown.\n+\n+```java\n+AzureStorageResourcePatternResolver storageResourcePatternResolver = new AzureStorageResourcePatternResolver(blobServiceClientBuilder.buildClient());", "originalCommit": "2c0ab676623a38c7e458d5112b2c6b0831d6feb5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fe52fe40fc6a118a413b58c3f7482f408ce04050", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fe52fe40fc6a118a413b58c3f7482f408ce04050", "message": "revised according to review comments", "committedDate": "2020-11-19T06:00:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY2NTE4MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526665181", "bodyText": "nit: any sources of this 4 MiB?", "author": "saragluna", "createdAt": "2020-11-19T08:10:42Z", "path": "sdk/spring/azure-spring-boot-starter-storage/README.md", "diffHunk": "@@ -72,6 +72,21 @@ private final BlobServiceAsyncClient blobServiceAsyncClient = blobServiceClientB\n \n ```\n \n+#### Search for resources\n+You can use implementation class `AzureStorageResourcePatternResolver` of `ResourcePatternResolver` to search resource, it supports `blob` or `file` type.\n+* Pattern search, the **searchPattern** should start with `azure-blob://` or `azure-file://`. Such as `azure-blob://*/*`, it means list all blobs in all containers; `azure-blob://demo-container/**`, it means list all blobs in the demo-container container, including any sub-folder.\n+* Location search, the **searchLocation** should start with `azure-blob://` or `azure-file://`, the remaining file path should exist, otherwise an exception will be thrown.\n+\n+```java\n+AzureStorageResourcePatternResolver storageResourcePatternResolver = new AzureStorageResourcePatternResolver(blobServiceClientBuilder.buildClient());\n+\n+Resource[] resources = storageResourcePatternResolver.getResources(searchPattern);\n+Resource resource = storageResourcePatternResolver.getResource(searchLocation);\n+```\n+\n+#### Multipart upload\n+Files larger than 4 MiB will be uploaded to Azure Storage in parallel.", "originalCommit": "fe52fe40fc6a118a413b58c3f7482f408ce04050", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjcwNjUwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17615#discussion_r526706508", "bodyText": "Keep it consistent with the official website.", "author": "moarychan", "createdAt": "2020-11-19T09:19:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY2NTE4MQ=="}], "type": "inlineReview"}]}