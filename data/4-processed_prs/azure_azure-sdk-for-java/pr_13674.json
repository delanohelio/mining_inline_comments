{"pr_number": 13674, "pr_title": "mgmt, update readme", "pr_createdAt": "2020-07-31T08:10:41Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/13674", "timeline": [{"oid": "5836ad4e709a19e033554a0f5a23f9cdede85caa", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5836ad4e709a19e033554a0f5a23f9cdede85caa", "message": "update readme", "committedDate": "2020-07-31T08:09:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDY5OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r463470698", "bodyText": "is DefaultAzureCredentialsBuilder no longer supported?", "author": "nickzhums", "createdAt": "2020-07-31T08:16:31Z", "path": "sdk/management/README.md", "diffHunk": "@@ -79,14 +79,16 @@ With above configuration, `azure` client can be authenticated by following code:\n \n ```java\n AzureProfile profile = new AzureProfile(AzureEnvironment.AZURE);\n-TokenCredential credential = new DefaultAzureCredentialBuilder()\n+TokenCredential credential = new EnvironmentCredentialBuilder()", "originalCommit": "5836ad4e709a19e033554a0f5a23f9cdede85caa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ5OTg1OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r463499858", "bodyText": "DefaultAzureCredentialsBuilder is still there, but 1.0.9 does not have authorityHost method in DefaultAzureCredentialsBuilder, which means it does not work for Cloud other than global Azure (i.e., Azure US gov, Azure China, Azure Germany).\nI am not sure whether we should still use DefaultAzureCredentialsBuilder in readme (which then not works for other clouds), or we should use the one (EnvironmentCredentialBuilder or others) that supports these clouds.", "author": "weidongxu-microsoft", "createdAt": "2020-07-31T09:16:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDY5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyMzU2MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r464023560", "bodyText": "hi @weidongxu-microsoft do you know why DefaultAzureCredentailsBuilder not supporting authorityHost? it's Default.", "author": "yungezz", "createdAt": "2020-08-02T02:51:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDY5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE1MTExOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r464151119", "bodyText": "I will check with Jianghao.", "author": "weidongxu-microsoft", "createdAt": "2020-08-03T01:22:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDY5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE1MzYzNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r464153635", "bodyText": "1.1.0 will be released in 2 weeks, which should have authorityHost by then.\nI will now only change the sample code to remove authorityHost at time being, then add it back after azure-identity 1.1.0 release.", "author": "weidongxu-microsoft", "createdAt": "2020-08-03T01:36:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDY5OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE2MDIwMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r464160203", "bodyText": "thanks @weidongxu-microsoft", "author": "yungezz", "createdAt": "2020-08-03T02:09:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDY5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDgzNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r463470834", "bodyText": "do we need to update the migration guide and auth.md for this?", "author": "nickzhums", "createdAt": "2020-07-31T08:16:47Z", "path": "sdk/management/README.md", "diffHunk": "@@ -79,14 +79,16 @@ With above configuration, `azure` client can be authenticated by following code:\n \n ```java\n AzureProfile profile = new AzureProfile(AzureEnvironment.AZURE);\n-TokenCredential credential = new DefaultAzureCredentialBuilder()\n+TokenCredential credential = new EnvironmentCredentialBuilder()\n     .authorityHost(profile.environment().getActiveDirectoryEndpoint())\n     .build();\n Azure azure = Azure\n     .authenticate(credential, profile)\n     .withDefaultSubscription();\n ```\n \n+The sample code assumes global Azure. Please change `AzureEnvironment.AZURE` variable if otherwise.", "originalCommit": "5836ad4e709a19e033554a0f5a23f9cdede85caa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE2ODkyNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r464168924", "bodyText": "I've add a note and sample in AUTH.md as well.", "author": "weidongxu-microsoft", "createdAt": "2020-08-03T02:52:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDgzNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDE3NDcyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13674#discussion_r464174729", "bodyText": "thanks Weidong", "author": "nickzhums", "createdAt": "2020-08-03T03:20:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MDgzNA=="}], "type": "inlineReview"}, {"oid": "836f33985de70d1253e90f912635406567409b2c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/836f33985de70d1253e90f912635406567409b2c", "message": "revert to DefaultAzureCredentialBuilder, authorityHost available after azure-identity 1.1.0", "committedDate": "2020-08-03T02:33:46Z", "type": "commit"}, {"oid": "fa55d25f7e47e87cf85ae1f4802f3a8bf6e57b57", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fa55d25f7e47e87cf85ae1f4802f3a8bf6e57b57", "message": "add sample for Azure Germany", "committedDate": "2020-08-03T02:51:09Z", "type": "commit"}]}