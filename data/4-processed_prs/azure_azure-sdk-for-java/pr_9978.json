{"pr_number": 9978, "pr_title": "Service Bus ARM template for live tests", "pr_createdAt": "2020-04-08T19:58:05Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/9978", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc5MjYwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9978#discussion_r405792608", "bodyText": "Do we also need to give Sender and Receiver role ? https://docs.microsoft.com/en-us/azure/service-bus-messaging/authenticate-application#built-in-rbac-roles-for-azure-service-bus", "author": "hemanttanwar", "createdAt": "2020-04-08T20:25:08Z", "path": "sdk/servicebus/test-resources.json", "diffHunk": "@@ -0,0 +1,177 @@\n+{\n+  \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\n+  \"contentVersion\": \"1.0.0.0\",\n+  \"parameters\": {\n+    \"baseName\": {\n+      \"type\": \"string\",\n+      \"defaultValue\": \"[resourceGroup().name]\",\n+      \"metadata\": {\n+        \"description\": \"Base name to append to Azure resources.\"\n+      }\n+    },\n+    \"subscriptionId\": {\n+      \"type\": \"string\",\n+      \"defaultValue\": \"[subscription().subscriptionId]\",\n+      \"metadata\": {\n+        \"description\": \"The subscription id to which the application and resources belong.\"\n+      }\n+    },\n+    \"tenantId\": {\n+      \"type\": \"string\",\n+      \"defaultValue\": \"[subscription().tenantId]\",\n+      \"metadata\": {\n+        \"description\": \"The tenant id to which the application and resources belong.\"\n+      }\n+    },\n+    \"testApplicationOid\": {\n+      \"type\": \"string\",\n+      \"metadata\": {\n+        \"description\": \"The client object id to grant access to test resources.\"\n+      }\n+    },\n+    \"testApplicationId\": {\n+      \"type\": \"string\",\n+      \"metadata\": {\n+        \"description\": \"The application client id used to run tests.\"\n+      }\n+    },\n+    \"testApplicationSecret\": {\n+      \"type\": \"string\",\n+      \"metadata\": {\n+        \"description\": \"The application client secret used to run tests.\"\n+      }\n+    },\n+    \"location\": {\n+      \"type\": \"string\",\n+      \"defaultValue\": \"[resourceGroup().location]\",\n+      \"metadata\": {\n+        \"description\": \"The location of the resources. By default, this is the same as the resource group.\"\n+      }\n+    }\n+  },\n+  \"variables\": {\n+    \"authRuleResourceId\": \"[resourceId('Microsoft.ServiceBus/namespaces/authorizationRules', variables('namespaceName'), variables('sharedAccessKeyName'))]\",\n+    \"contributorRoleId\": \"b24988ac-6180-42a0-ab88-20f7382dd24c\",\n+    \"namespaceName\": \"[concat('sb-java-', parameters('baseName'))]\",\n+    \"namespaceDomainNameSuffix\": \"servicebus.windows.net\",\n+    \"queueName\": \"[concat('queue-', parameters('baseName'))]\",\n+    \"subscriptionName\": \"[concat('subscription-', parameters('baseName'))]\",\n+    \"serviceBusDataOwnerRoleId\": \"090c5cfd-751d-490a-894a-3ce6f1109419\",", "originalCommit": "b5052cb75bbb423885e7479635d882f7a318fdb5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc5NDMxMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9978#discussion_r405794313", "bodyText": "I have it in Line 120", "author": "conniey", "createdAt": "2020-04-08T20:28:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc5MjYwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc5Mjg3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9978#discussion_r405792878", "bodyText": "is this file editorconfig   intentional ?", "author": "hemanttanwar", "createdAt": "2020-04-08T20:25:36Z", "path": ".editorconfig", "diffHunk": "@@ -10,6 +10,9 @@ trim_trailing_whitespace = true\n insert_final_newline = true\n max_line_length = 120\n \n+[*.json]", "originalCommit": "b5052cb75bbb423885e7479635d882f7a318fdb5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc5Mzk0NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9978#discussion_r405793944", "bodyText": "Yes.\n\nAdds indentation of JSON to two spaces rather than default four spaces. (ARM templates have many nested objects, it becomes unreadable.", "author": "conniey", "createdAt": "2020-04-08T20:27:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc5Mjg3OA=="}], "type": "inlineReview"}, {"oid": "ce3aa15f2b66abae7cc4c1562c833e2a91ce0b11", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ce3aa15f2b66abae7cc4c1562c833e2a91ce0b11", "message": "Make .json files two space indents, so they're not so hard to view.", "committedDate": "2020-04-08T22:31:22Z", "type": "commit"}, {"oid": "04d04a8bfa02e13f544531de73e24c8a51161fe1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/04d04a8bfa02e13f544531de73e24c8a51161fe1", "message": "Adding Service Bus ARM template.", "committedDate": "2020-04-08T22:31:22Z", "type": "commit"}, {"oid": "257ae813846727b7ee627c340c61eafd32fd3344", "url": "https://github.com/Azure/azure-sdk-for-java/commit/257ae813846727b7ee627c340c61eafd32fd3344", "message": "Clean up tests.yml and environment variables.", "committedDate": "2020-04-08T22:31:22Z", "type": "commit"}, {"oid": "a5e407289aa6b79e986bee24ac56b476d2cd5a8b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a5e407289aa6b79e986bee24ac56b476d2cd5a8b", "message": "Fixing tests.", "committedDate": "2020-04-08T22:31:22Z", "type": "commit"}, {"oid": "9dd8e2c3ce34400bb27f48423cd520f358fa9459", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9dd8e2c3ce34400bb27f48423cd520f358fa9459", "message": "Clean up tests.", "committedDate": "2020-04-08T22:45:01Z", "type": "commit"}, {"oid": "f7d53e579763798ea51d5a8c0b34af4cc54a2f17", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7d53e579763798ea51d5a8c0b34af4cc54a2f17", "message": "Fixing ProxyReceive and send tests.", "committedDate": "2020-04-08T23:04:17Z", "type": "commit"}, {"oid": "5ba4dd20637933571e38a966d9f6fbe80c278dcd", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5ba4dd20637933571e38a966d9f6fbe80c278dcd", "message": "Update failing tests.", "committedDate": "2020-04-09T00:12:11Z", "type": "commit"}, {"oid": "5ba4dd20637933571e38a966d9f6fbe80c278dcd", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5ba4dd20637933571e38a966d9f6fbe80c278dcd", "message": "Update failing tests.", "committedDate": "2020-04-09T00:12:11Z", "type": "forcePushed"}, {"oid": "cc7c89d9f06187dd357e2b0278be7e6ed4e2bc58", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cc7c89d9f06187dd357e2b0278be7e6ed4e2bc58", "message": "Fixing timeout.", "committedDate": "2020-04-09T03:19:52Z", "type": "commit"}, {"oid": "b950b5b12b85b35f9ce26e40fd5efb86a5e44bec", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b950b5b12b85b35f9ce26e40fd5efb86a5e44bec", "message": "Split test.", "committedDate": "2020-04-09T04:34:56Z", "type": "commit"}]}