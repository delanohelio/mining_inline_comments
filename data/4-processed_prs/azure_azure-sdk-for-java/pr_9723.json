{"pr_number": 9723, "pr_title": "Move Java Release Config to public", "pr_createdAt": "2020-03-31T21:19:56Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/9723", "timeline": [{"oid": "b3bb9847536c0c96932fcec3a3f0039df113293d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b3bb9847536c0c96932fcec3a3f0039df113293d", "message": "Bump Azure Template Version", "committedDate": "2020-04-01T17:40:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NTQ2Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r401875466", "bodyText": "Do you need to specify the path? I think it is redundant.", "author": "weshaggard", "createdAt": "2020-04-01T20:02:07Z", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools", "originalCommit": "b3bb9847536c0c96932fcec3a3f0039df113293d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUxMTAyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404511025", "bodyText": "It is required to because it is used to reference other tools called by java-publishing.yml. e.g here", "author": "chidozieononiwu", "createdAt": "2020-04-07T03:14:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NTQ2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1MjMzMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404952333", "bodyText": "I'm Ok with it being here but doesn't it already default to that value?", "author": "weshaggard", "createdAt": "2020-04-07T16:37:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NTQ2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NDI3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404954279", "bodyText": "Also we should consider putting that in one of the azure-sdk-build-tools templates or at least pass the location as a template parameter as we don't want to have these hidden contracts about where things need to be setup.", "author": "weshaggard", "createdAt": "2020-04-07T16:40:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NTQ2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NTYyMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405065622", "bodyText": "The default checkout path is usually just s so it still needs to be specified.\nI moved java-publishing.yml to the Java Repo and passed the buildTools path as a parameter.", "author": "chidozieononiwu", "createdAt": "2020-04-07T19:41:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NTQ2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MjMyOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405862328", "bodyText": "OK I guess it only adds the repo path if it detects multiple checkouts.", "author": "weshaggard", "createdAt": "2020-04-08T22:59:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NTQ2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NzI5Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r401877297", "bodyText": "this path doesn't look correct.", "author": "weshaggard", "createdAt": "2020-04-01T20:05:37Z", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: /tools/gpg/gpg.yml\n+                      - template: /tools/java-publishing/java-publishing.yml\n+                        parameters:\n+                          ArtifactID: ${{artifact.name}}\n+                          GroupID: ${{artifact.groupId}}\n+                          ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                          Target: MavenCentral\n+                      # After publishing to Maven, publish to the azure-sdk-for-java feed. The reason for\n+                      # this is that the azure-sdk-for-java feed will have the package available immediately\n+                      # whereas Maven can take several hours for the package to become available.\n+                      - template: /tools/java-publishing/java-publishing.yml\n+                        parameters:\n+                          ArtifactID: ${{artifact.name}}\n+                          GroupID: ${{artifact.groupId}}\n+                          ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                          Target: JavaDevFeed\n+\n+          - ${{if ne(artifact.options.skipPublishDocs, 'true')}}:\n+            - deployment: PublishDocs\n+              displayName: Publish Docs to GitHubIO Blob Storage\n+              condition: and(succeeded(), ne(variables['Skip.PublishDocs'], 'true'))\n+              environment: githubio\n+              dependsOn: PublishPackage\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: self\n+                      - pwsh: |\n+                          Get-ChildItem -Recurse $(Pipeline.Workspace)\n+                          New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                          Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        workingDirectory: $(Pipeline.Workspace)\n+                        displayName: Stage artifacts\n+                      - pwsh: |\n+                          Get-ChildItem -Recurse $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        workingDirectory: $(Pipeline.Workspace)\n+                        displayName: Output Visible Artifacts\n+                      - template: /eng/common/pipelines/templates/steps/publish-blobs.yml\n+                        parameters:\n+                          FolderForUpload: '$(Pipeline.Workspace)/${{artifact.safeName}}'\n+                          BlobSASKey: '$(azure-sdk-docs-prod-sas)'\n+                          BlobName: '$(azure-sdk-docs-prod-blob-name)'\n+                          TargetLanguage: 'java'\n+\n+                          # we override the regular script path because we have cloned the build tools repo as a separate artifact.\n+                          ScriptPath: 'eng/common/scripts/copy-docs-to-blobstorage.ps1'\n+\n+          - ${{if ne(artifact.options.skipUpdatePackageVersion, 'true')}}:\n+            - deployment: UpdatePackageVersion\n+              displayName: \"Update Package Version\"\n+              condition: and(succeeded(), ne(variables['Skip.UpdatePackageVersion'], 'true'))\n+              environment: github\n+              dependsOn: PublishPackage\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: self\n+\n+                      - task: UsePythonVersion@0\n+                        displayName: 'Use Python 3.6'\n+                        inputs:\n+                          versionSpec: '3.6'\n+\n+                      - script: |\n+                          python --version\n+                          python eng/versioning/set_versions.py --build-type ${{ parameters.SDKType }} --increment-version --ai ${{ artifact.name }} --gi ${{ artifact.groupId }}\n+                        workingDirectory: $(Pipeline.Workspace)/s/azure-sdk-for-java\n+                        displayName: Increment package version for ${{ artifact.groupId }} ${{ artifact.name }}\n+\n+                      - script: |\n+                          python --version\n+                          python eng/versioning/update_versions.py --update-type library --build-type ${{ parameters.SDKType }} --avi --sr\n+                        workingDirectory: $(Pipeline.Workspace)/s/azure-sdk-for-java\n+                        displayName: Update pom files for new version of ${{ artifact.groupId }} ${{ artifact.name }}\n+\n+                      - template: /eng/common/pipelines/templates/steps/create-pull-request.yml\n+                        parameters:\n+                          RepoName: azure-sdk-for-java\n+                          PRBranchName: increment-package-version-${{ parameters.ServiceDirectory }}-$(Build.BuildId)\n+                          CommitMsg: \"Increment package version after release of ${{ artifact.groupId }} ${{ artifact.name }}\"\n+                          PRTitle: \"Increment version for ${{ parameters.ServiceDirectory }} releases\"\n+\n+  - stage: Integration\n+    dependsOn: Signing\n+    jobs:\n+    - job: PublishPackages\n+      condition: or(eq(variables['SetDevVersion'], 'true'), and(eq(variables['Build.Reason'],'Schedule'), eq(variables['System.TeamProject'], 'internal')))\n+      displayName: Publish package to daily feed\n+      pool:\n+        vmImage: windows-2019\n+      variables:\n+        skipComponentGovernanceDetection: true\n+      steps:\n+      - checkout: azure-sdk-build-tools\n+        path: azure-sdk-build-tools\n+\n+      - download: current\n+        artifact: ${{parameters.ArtifactName}}-signed\n+        timeoutInMinutes: 5\n+\n+      - template: /tools/gpg/gpg.yml", "originalCommit": "b3bb9847536c0c96932fcec3a3f0039df113293d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUyMTc4MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404521780", "bodyText": "Updated", "author": "chidozieononiwu", "createdAt": "2020-04-07T04:01:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NzI5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NzU2MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r401877561", "bodyText": "Are these paths correct?", "author": "weshaggard", "createdAt": "2020-04-01T20:06:08Z", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: /tools/gpg/gpg.yml\n+                      - template: /tools/java-publishing/java-publishing.yml", "originalCommit": "b3bb9847536c0c96932fcec3a3f0039df113293d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUyMTc2MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404521761", "bodyText": "Updated", "author": "chidozieononiwu", "createdAt": "2020-04-07T04:01:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg3NzU2MQ=="}], "type": "inlineReview"}, {"oid": "7dee37e60b3d3b1007bc2fd1eadeca48d5d9d3f7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7dee37e60b3d3b1007bc2fd1eadeca48d5d9d3f7", "message": "Add debug messages to pull request script", "committedDate": "2020-04-03T23:35:53Z", "type": "forcePushed"}, {"oid": "b85dc68284787f2097aa9e815f6dd2bdb2634899", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b85dc68284787f2097aa9e815f6dd2bdb2634899", "message": "Add debug messages to pull request script", "committedDate": "2020-04-04T00:02:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA5OTYwNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404099604", "bodyText": "I realize these are here for diagnostics purposes but we're definitely going to want to remove them before merging.", "author": "JimSuplizio", "createdAt": "2020-04-06T13:42:13Z", "path": "eng/common/scripts/Submit-PullRequest.ps1", "diffHunk": "@@ -61,10 +70,13 @@ else {\n     body                  = $PRBody\n     maintainer_can_modify = $true\n   }\n+  Write-Host \"Got Here 6\"\n \n   $resp = Invoke-RestMethod -Method POST -Headers $headers `\n-                            https://api.github.com/repos/$RepoOwner/$RepoName/pulls `\n-                            -Body ($data | ConvertTo-Json)\n+    https://api.github.com/repos/$RepoOwner/$RepoName/pulls `\n+    -Body ($data | ConvertTo-Json)\n+  Write-Host \"Got Here 7\"\n   $resp | Write-Verbose\n+  Write-Host \"Got Here 8\"", "originalCommit": "b85dc68284787f2097aa9e815f6dd2bdb2634899", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDUyMjQ5OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404522498", "bodyText": "Fixed", "author": "chidozieononiwu", "createdAt": "2020-04-07T04:04:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDA5OTYwNA=="}], "type": "inlineReview"}, {"oid": "4ec023762a30266a341c704fad45cb73ac78c75a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4ec023762a30266a341c704fad45cb73ac78c75a", "message": "Revert Submit-PullRequest.ps1 script", "committedDate": "2020-04-07T02:43:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NTE0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r404955145", "bodyText": "Is there a reason we don't move the publishing template and scripts into the java repo?", "author": "weshaggard", "createdAt": "2020-04-07T16:41:35Z", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,237 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: tools/gpg/gpg.yml@azure-sdk-build-tools\n+                      - template: tools/java-publishing/java-publishing.yml@azure-sdk-build-tools", "originalCommit": "5752b79d2516ef1f90f82582f9fefdd93da2585e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTEyMzg4NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405123884", "bodyText": "We don't want the GPG tooling itself in the repo just yet ;)", "author": "mitchdenny", "createdAt": "2020-04-07T21:27:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NTE0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MDY1OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405860658", "bodyText": "Agreed but the path to gpg tool could be passed to the java publish template correct?", "author": "weshaggard", "createdAt": "2020-04-08T22:54:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NTE0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MTM0MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405861341", "bodyText": "Yep that would work.", "author": "mitchdenny", "createdAt": "2020-04-08T22:56:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDk1NTE0NQ=="}], "type": "inlineReview"}, {"oid": "ae8ab57feeb008911aa3e391acfbc82e8a103053", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ae8ab57feeb008911aa3e391acfbc82e8a103053", "message": "Move Java Publishing to main Repo", "committedDate": "2020-04-07T19:32:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MjYzNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405862636", "bodyText": "Why wouldn't the Publish-MavenPackage.ps1 also be moved out into this repo?", "author": "weshaggard", "createdAt": "2020-04-08T23:00:07Z", "path": "eng/pipelines/templates/steps/java-publishing.yml", "diffHunk": "@@ -0,0 +1,31 @@\n+parameters:\n+  ArtifactDirectory: not-specified\n+  RepositoryUrl: not-specified\n+  GroupID: not-specified\n+  ArtifactID: not-specified\n+  BuildToolsPath: ''\n+\n+steps:\n+  - ${{if eq(parameters.Target, 'Burner')}}:\n+    - pwsh: |\n+        ${{parameters.BuildToolsPath}}/scripts/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}} -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}} -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-$(Build.BuildID)/maven/v1 -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken) -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue", "originalCommit": "ae8ab57feeb008911aa3e391acfbc82e8a103053", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzcyNDkxMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407724913", "bodyText": "I guess it could also be moved. It was not marked on the epic to be moved. The only thing that looks sensitive is the $sonaTypeProfileID but I guess that's fine to be public still.", "author": "chidozieononiwu", "createdAt": "2020-04-13T21:13:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MjYzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzcyNjgwNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407726806", "bodyText": "Yeah ... can be moved.", "author": "mitchdenny", "createdAt": "2020-04-13T21:17:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2MjYzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTg2Mjg0MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r405862841", "bodyText": "To enable better reading without scrolling can you enable link wrapping for these steps.", "author": "weshaggard", "createdAt": "2020-04-08T23:00:44Z", "path": "eng/pipelines/templates/steps/java-publishing.yml", "diffHunk": "@@ -0,0 +1,31 @@\n+parameters:\n+  ArtifactDirectory: not-specified\n+  RepositoryUrl: not-specified\n+  GroupID: not-specified\n+  ArtifactID: not-specified\n+  BuildToolsPath: ''\n+\n+steps:\n+  - ${{if eq(parameters.Target, 'Burner')}}:\n+    - pwsh: |\n+        ${{parameters.BuildToolsPath}}/scripts/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}} -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}} -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-$(Build.BuildID)/maven/v1 -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken) -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue\n+      workingDirectory: $(Agent.BuildDirectory)\n+      displayName: 'Publish to Azure Artifacts'\n+\n+  - ${{if eq(parameters.Target, 'JavaDevFeed')}}:\n+    - pwsh: |\n+        ${{parameters.BuildToolsPath}}/scripts/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}} -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}} -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-java/maven/v1 -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken) -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue", "originalCommit": "ae8ab57feeb008911aa3e391acfbc82e8a103053", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "20d77a66abbc4126f970796eff84b2dd0670d6d1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/20d77a66abbc4126f970796eff84b2dd0670d6d1", "message": "Bump Azure Template Version", "committedDate": "2020-04-13T20:16:49Z", "type": "forcePushed"}, {"oid": "a63ed39c79d4649fbe7bd06262e029e3eafb0b2e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a63ed39c79d4649fbe7bd06262e029e3eafb0b2e", "message": "Move Publish-MavenPackage Script, use link wraping on java-publishing.yml", "committedDate": "2020-04-13T21:48:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1NzIzNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407757236", "bodyText": "Lets be sure to remove this before merging.", "author": "weshaggard", "createdAt": "2020-04-13T22:29:22Z", "path": "eng/common/scripts/Submit-PullRequest.ps1", "diffHunk": "@@ -45,16 +45,23 @@ Write-Host $MyInvocation.Line\n \n $query = \"state=open&head=${PROwner}:${PRBranch}&base=${BaseBranch}\"\n \n+Write-Host \"Got Here 2\"", "originalCommit": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1NzcwMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407757700", "bodyText": "FWIW You can change this from | to > and not need to put the backtic at the end of each line.", "author": "weshaggard", "createdAt": "2020-04-13T22:30:38Z", "path": "eng/pipelines/templates/steps/java-publishing.yml", "diffHunk": "@@ -0,0 +1,47 @@\n+parameters:\n+  ArtifactDirectory: not-specified\n+  RepositoryUrl: not-specified\n+  GroupID: not-specified\n+  ArtifactID: not-specified\n+  BuildToolsPath: ''\n+\n+steps:\n+  - ${{if eq(parameters.Target, 'Burner')}}:\n+    - pwsh: |\n+        eng/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}}` \n+        -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}}` \n+        -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-$(Build.BuildID)/maven/v1` \n+        -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken)` \n+        -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue\n+      workingDirectory: $(Agent.BuildDirectory)\n+      displayName: 'Publish to Azure Artifacts'\n+\n+  - ${{if eq(parameters.Target, 'JavaDevFeed')}}:\n+    - pwsh: |\n+        eng/Publish-MavenPackages.ps1 -ArtifactDirectory ${{parameters.ArtifactDirectory}}` \n+        -GroupIDFilter ${{parameters.GroupID}} -ArtifactIDFilter ${{parameters.ArtifactID}}` \n+        -RepositoryUrl https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-java/maven/v1` \n+        -RepositoryUsername nobody -RepositoryPassword $(System.AccessToken)` \n+        -GPGExecutablePath ${{parameters.BuildToolsPath}}/tools/gpg/bin/gpg.exe -InformationAction Continue\n+      workingDirectory: $(Agent.BuildDirectory)\n+      displayName: 'Publish to Azure Artifacts'\n+        \n+  - ${{if eq(parameters.Target, 'AndroidDevFeed')}}:\n+    - pwsh: |", "originalCommit": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1OTA4MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407759080", "bodyText": "Thanks a lot Wes, I'll update that.", "author": "chidozieononiwu", "createdAt": "2020-04-13T22:34:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1NzcwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODU1Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407758556", "bodyText": "For consistency it might be better to move this into a eng\\scripts directory.", "author": "weshaggard", "createdAt": "2020-04-13T22:33:08Z", "path": "eng/Publish-MavenPackages.ps1", "diffHunk": "@@ -0,0 +1,294 @@\n+param(", "originalCommit": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1OTE4NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407759185", "bodyText": "Should I replicate this pattern for all the other Repos?", "author": "chidozieononiwu", "createdAt": "2020-04-13T22:34:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODU1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc2MjA2MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407762061", "bodyText": "I mean  do we want to eventually move all the freely hanging script files into a script directory for all the repos?", "author": "chidozieononiwu", "createdAt": "2020-04-13T22:43:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODU1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODkxNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407758917", "bodyText": "I assume BuildToolsPath is no longer needed.", "author": "weshaggard", "createdAt": "2020-04-13T22:34:10Z", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,240 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: tools/gpg/gpg.yml@azure-sdk-build-tools\n+                      - template: /eng/pipelines/templates/steps/java-publishing.yml\n+                        parameters:\n+                          ArtifactID: ${{artifact.name}}\n+                          GroupID: ${{artifact.groupId}}\n+                          ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                          Target: MavenCentral\n+                          BuildToolsPath: $(Pipeline.Workspace)/azure-sdk-build-tools", "originalCommit": "b3340ae5c25c04066f7b9ad0230cfafbbc253a55", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1OTQzNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407759437", "bodyText": "It's still used to reference gpg.exe", "author": "chidozieononiwu", "createdAt": "2020-04-13T22:35:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODkxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1OTUzMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407759530", "bodyText": "Nevermind it is still used for the gpg tool. Perhaps to make that clear we should update it to that.", "author": "weshaggard", "createdAt": "2020-04-13T22:35:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc1ODkxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc5MjQ2MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r407792460", "bodyText": "Can you please file a follow-up issue to see if we can find a way to decouple the knowledge of things like where the gpg tooling lives between these different steps? Ideally we would have something like:\n- template: tools/gpg/gpg.yml@azure-sdk-build-tools\n  parameters: \n    GPGPath: $(GPGPath) # We could consider either passing it to both or making GPGPath an output variable from this template. \n\n- template: /eng/pipelines/templates/steps/java-publishing.yml\n  parameters:\n    ArtifactID: ${{artifact.name}}\n    GroupID: ${{artifact.groupId}}\n    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n    Target: MavenCentral\n    GPGPath: $(GPGPath)", "author": "weshaggard", "createdAt": "2020-04-14T00:17:57Z", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -0,0 +1,240 @@\n+parameters:\n+  Artifacts: []\n+  ArtifactName: 'not-specified'\n+\n+stages:\n+  # The signing stage is responsible for submitting binaries to ESRP for our official signing\n+  # where appropriate and also meeting any other signing requirements for particular artifacts,\n+  # in this case we do GPG signing in order to publish to Maven Central. At the moment signing\n+  # is protected by an approval check but this may be removed in the future.\n+  - stage: Signing\n+    dependsOn: ${{parameters.DependsOn}}\n+    jobs:\n+      - deployment: SignPackage\n+        environment: esrp\n+        timeoutInMinutes: 20\n+        pool:\n+          vmImage: ubuntu-16.04\n+\n+        strategy:\n+          runOnce:\n+            deploy:\n+              steps:\n+                - checkout: none\n+\n+                - download: current\n+                  artifact: ${{parameters.ArtifactName}}\n+                  timeoutInMinutes: 5\n+\n+                - template: tools/java-esrp-signing/java-esrp-signing.yml@azure-sdk-build-tools\n+                  parameters:\n+                    Artifacts: ${{parameters.Artifacts}}\n+                    ArtifactDirectory: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+\n+                - publish: $(Pipeline.Workspace)/${{parameters.ArtifactName}}\n+                  artifact: ${{parameters.ArtifactName}}-signed\n+                  displayName: 'Store signed packages in ${{parameters.ArtifactName}}-signed artifact'\n+                  timeoutInMinutes: 5\n+\n+  # We generate two interdepdent stages for each artifact listed in the ci.yml file, creates the release\n+  # in GitHub. The Release stage publishes to Maven Central. Both stages require approval since they\n+  # effectively burn the version number. For testing of packages prior to burning the version number -\n+  # the Validation step below publishes a package to a \"burner\" feed which is cleaned up after the\n+  # pipeline completes.\n+  - ${{if and(eq(variables['Build.Reason'], 'Manual'), eq(variables['System.TeamProject'], 'internal'))}}:\n+    - ${{ each artifact in parameters.Artifacts }}:\n+      - stage: Release_${{artifact.safeName}}\n+        displayName: 'Release: ${{artifact.name}}'\n+        dependsOn: Signing\n+        condition: and(succeeded(), ne(variables['SetDevVersion'], 'true'), ne(variables['Skip.Release'], 'true'), ne(variables['Build.Repository.Name'], 'Azure/azure-sdk-for-java-pr'))\n+        jobs:\n+          - job: VerifyReleaseVersion\n+            displayName: \"Verify release version\"\n+            condition: ne(variables['Skip.VersionVerification'], 'true')\n+            pool:\n+              vmImage: ubuntu-16.04\n+\n+            steps:\n+              - task: UsePythonVersion@0\n+                displayName: 'Use Python 3.6'\n+                inputs:\n+                  versionSpec: '3.6'\n+\n+              - script: |\n+                  python --version\n+                  python eng/versioning/set_versions.py --build-type ${{parameters.SDKType}} --vv --ai ${{artifact.name}} --gi ${{artifact.groupId}}\n+                displayName: 'Verify version for release'\n+\n+              - pwsh: |\n+                  $(Build.SourcesDirectory)/eng/versioning/scan_for_unreleased_dependencies.ps1 ${{artifact.groupId}} ${{artifact.name}} $(Build.SourcesDirectory)/sdk/${{parameters.ServiceDirectory}}\n+                displayName: \"Verify no unreleased dependencies\"\n+\n+\n+          - deployment: TagRepository\n+            displayName: \"Create release tag\"\n+            condition: and(succeeded(), ne(variables['Skip.TagRepository'], 'true'))\n+            environment: github\n+            timeoutInMinutes: 5\n+            dependsOn: VerifyReleaseVersion\n+\n+            pool:\n+              vmImage: vs2017-win2016\n+\n+            strategy:\n+              runOnce:\n+                deploy:\n+                  steps:\n+                    - checkout: self\n+                    - pwsh: |\n+                        Get-ChildItem $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed\n+                        New-Item -Type Directory -Name ${{artifact.safeName}} -Path $(Pipeline.Workspace)\n+                        Copy-Item $(Pipeline.Workspace)/${{parameters.ArtifactName}}-signed/${{artifact.name}}-[0-9]*.[0-9]*.[0-9]* $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        Get-ChildItem $(Pipeline.Workspace)/${{artifact.safeName}}\n+                      workingDirectory: $(Pipeline.Workspace)\n+                      displayName: Stage artifacts\n+                      timeoutInMinutes: 5\n+                    - template: /eng/common/pipelines/templates/steps/create-tags-and-git-release.yml\n+                      parameters:\n+                        ArtifactLocation: $(Pipeline.Workspace)/${{artifact.safeName}}\n+                        PackageRepository: Maven\n+                        ReleaseSha: $(Build.SourceVersion)\n+                        RepoId: Azure/azure-sdk-for-java\n+\n+          - ${{if ne(artifact.options.skipPublishPackage, 'true')}}:\n+            - deployment: PublishPackage\n+              displayName: \"Publish to Maven Central\"\n+              condition: and(succeeded(), ne(variables['Skip.PublishPackage'], 'true'))\n+              environment: maven\n+              dependsOn: TagRepository\n+\n+              pool:\n+                vmImage: windows-2019\n+\n+              strategy:\n+                runOnce:\n+                  deploy:\n+                    steps:\n+                      - checkout: azure-sdk-build-tools\n+                        path: azure-sdk-build-tools\n+                      - template: tools/gpg/gpg.yml@azure-sdk-build-tools", "originalCommit": "fd8e47a41ac9899b3cd138d43c64e558e24e1b25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODUwOTU5Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r408509597", "bodyText": "Created issue here. Will work on that immediately after this is merged.", "author": "chidozieononiwu", "createdAt": "2020-04-15T00:19:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc5MjQ2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NzM2Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r409197366", "bodyText": "@chidozieononiwu just making sure you noticed this comment.", "author": "weshaggard", "createdAt": "2020-04-15T23:44:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc5MjQ2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTIwMjY5MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9723#discussion_r409202690", "bodyText": "Yes I did, sorry, my previous comment got stuck on pending I think it was expecting me to also post a review which I didn't_ earlier. I have created an issue for that here and will work on it soon", "author": "chidozieononiwu", "createdAt": "2020-04-16T00:01:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzc5MjQ2MA=="}], "type": "inlineReview"}, {"oid": "d8230e17352ac6078ce9f31cda83e263644a1d19", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d8230e17352ac6078ce9f31cda83e263644a1d19", "message": "Add inintial Java Release Stage with Signing ReFactored out", "committedDate": "2020-04-14T22:16:30Z", "type": "commit"}, {"oid": "fe69ab111115fdd57ae1ef6899da619cd48d3772", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fe69ab111115fdd57ae1ef6899da619cd48d3772", "message": "Switch Java release to run from public repo", "committedDate": "2020-04-14T22:16:30Z", "type": "commit"}, {"oid": "53f4cb86f9ce2fcfdeb3f4eb19fe716f2f2dac54", "url": "https://github.com/Azure/azure-sdk-for-java/commit/53f4cb86f9ce2fcfdeb3f4eb19fe716f2f2dac54", "message": "Bump Azure Template Version", "committedDate": "2020-04-14T22:16:30Z", "type": "commit"}, {"oid": "0e44077baab03d39762e781fe630882dd8a430f9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0e44077baab03d39762e781fe630882dd8a430f9", "message": "Update template reference paths", "committedDate": "2020-04-14T22:16:31Z", "type": "commit"}, {"oid": "da358debb2c4a16d0313506008506efa394c563b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/da358debb2c4a16d0313506008506efa394c563b", "message": "Remove Depends on from some stages to enable testing", "committedDate": "2020-04-14T22:16:31Z", "type": "commit"}, {"oid": "92bda3689efbc95bd26d5e683dd1438efad09cbf", "url": "https://github.com/Azure/azure-sdk-for-java/commit/92bda3689efbc95bd26d5e683dd1438efad09cbf", "message": "update Working directory", "committedDate": "2020-04-14T22:16:31Z", "type": "commit"}, {"oid": "b906521ea9fb45b3c1992239b9b155eca839d349", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b906521ea9fb45b3c1992239b9b155eca839d349", "message": "Run powershell script in Verbose", "committedDate": "2020-04-14T22:16:32Z", "type": "commit"}, {"oid": "13c4366a8dd6a7416e355270700432dd5c335cd3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/13c4366a8dd6a7416e355270700432dd5c335cd3", "message": "Add debug messages to pull request script", "committedDate": "2020-04-14T22:16:32Z", "type": "commit"}, {"oid": "352fe758601198a35fefa097533858ee84e4cdcf", "url": "https://github.com/Azure/azure-sdk-for-java/commit/352fe758601198a35fefa097533858ee84e4cdcf", "message": "Fix version_client.txt", "committedDate": "2020-04-14T22:16:32Z", "type": "commit"}, {"oid": "09229d2ee242ca5a5139baf27455f71e20867a1f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/09229d2ee242ca5a5139baf27455f71e20867a1f", "message": "Revert Submit-PullRequest.ps1 script", "committedDate": "2020-04-14T22:16:32Z", "type": "commit"}, {"oid": "c8c97a0a2373f3e02bb37b84f18592397b3ad6fd", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c8c97a0a2373f3e02bb37b84f18592397b3ad6fd", "message": "Re-Add Depends on", "committedDate": "2020-04-14T22:16:33Z", "type": "commit"}, {"oid": "d92cc0f777f1ba383cddd04ac5e026f3e388b52e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d92cc0f777f1ba383cddd04ac5e026f3e388b52e", "message": "Move Java Publishing to main Repo", "committedDate": "2020-04-14T22:16:33Z", "type": "commit"}, {"oid": "ac11cdcddd4a1b4d7dd712e66cc588a7e78de333", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ac11cdcddd4a1b4d7dd712e66cc588a7e78de333", "message": "Bump Azure Template Version", "committedDate": "2020-04-14T22:16:33Z", "type": "commit"}, {"oid": "55761a22334425b10d4b00a2d2f032b8269899c2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/55761a22334425b10d4b00a2d2f032b8269899c2", "message": "Move Publish-MavenPackage Script, use link wraping on java-publishing.yml", "committedDate": "2020-04-14T22:16:33Z", "type": "commit"}, {"oid": "951d418af6ca6f91d5009c9caf79ac65e6aec048", "url": "https://github.com/Azure/azure-sdk-for-java/commit/951d418af6ca6f91d5009c9caf79ac65e6aec048", "message": "'Update version_client.txt for template", "committedDate": "2020-04-14T22:16:34Z", "type": "commit"}, {"oid": "43f2b8a75af4384e1accef7a1a516b1535a6c10c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/43f2b8a75af4384e1accef7a1a516b1535a6c10c", "message": "Remove debug comments from script", "committedDate": "2020-04-14T22:16:34Z", "type": "commit"}, {"oid": "bdded7b51036fe79f04be20d62f9010c84ff7746", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bdded7b51036fe79f04be20d62f9010c84ff7746", "message": "Update Java-Publishing", "committedDate": "2020-04-14T22:16:34Z", "type": "commit"}, {"oid": "00ff16b3f84c7d25aef2aa3701b99904b9d25674", "url": "https://github.com/Azure/azure-sdk-for-java/commit/00ff16b3f84c7d25aef2aa3701b99904b9d25674", "message": "Move Publish-MavenPackage.ps1 into scripts directory", "committedDate": "2020-04-14T22:16:34Z", "type": "commit"}, {"oid": "277d71adb355d5e584ee47b746b98f053f02dde0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/277d71adb355d5e584ee47b746b98f053f02dde0", "message": "Remove condition for integration stage, to test", "committedDate": "2020-04-14T22:16:35Z", "type": "commit"}, {"oid": "6a4b48e09002b29cbc6132229d42e143e57f68c0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6a4b48e09002b29cbc6132229d42e143e57f68c0", "message": "Update java-publishing.yml", "committedDate": "2020-04-14T22:16:35Z", "type": "commit"}, {"oid": "194de09a924d5fa2f6f5b1059b6cda090404ba4b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/194de09a924d5fa2f6f5b1059b6cda090404ba4b", "message": "Adjust repo checkout path", "committedDate": "2020-04-14T22:16:35Z", "type": "commit"}, {"oid": "1613a661b89426525c641b9d86905ba27e3714b4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1613a661b89426525c641b9d86905ba27e3714b4", "message": "'Update paths for testing", "committedDate": "2020-04-14T22:16:35Z", "type": "commit"}, {"oid": "cd61cef7fccf3c82d5f64897c717a97cbb272a0a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cd61cef7fccf3c82d5f64897c717a97cbb272a0a", "message": "Move Maven Publish settings to Java Repo", "committedDate": "2020-04-14T22:16:35Z", "type": "commit"}, {"oid": "815ff570acf8558e9991128a0c49acfbd1aef2ae", "url": "https://github.com/Azure/azure-sdk-for-java/commit/815ff570acf8558e9991128a0c49acfbd1aef2ae", "message": "Update archetype-java-release file", "committedDate": "2020-04-14T22:23:24Z", "type": "commit"}, {"oid": "091f2e0320fb70a80f60abd740250d48765b4175", "url": "https://github.com/Azure/azure-sdk-for-java/commit/091f2e0320fb70a80f60abd740250d48765b4175", "message": "Bump up template for test release", "committedDate": "2020-04-14T22:49:03Z", "type": "commit"}, {"oid": "091f2e0320fb70a80f60abd740250d48765b4175", "url": "https://github.com/Azure/azure-sdk-for-java/commit/091f2e0320fb70a80f60abd740250d48765b4175", "message": "Bump up template for test release", "committedDate": "2020-04-14T22:49:03Z", "type": "forcePushed"}, {"oid": "1ca8d6acf1fe6e1df37e3d11a5d7dcac597040c5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1ca8d6acf1fe6e1df37e3d11a5d7dcac597040c5", "message": "Update Template Changelog", "committedDate": "2020-04-15T19:10:42Z", "type": "commit"}]}