{"pr_number": 8826, "pr_title": "Changed EncryptedBlobClient to properly override upload method", "pr_createdAt": "2020-03-06T22:38:39Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/8826", "timeline": [{"oid": "5dc0d05bba372aeeab1c4c6e52da45e36c12b77c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5dc0d05bba372aeeab1c4c6e52da45e36c12b77c", "message": "Changed EncryptedBlobClient to properly override upload method", "committedDate": "2020-03-06T22:34:21Z", "type": "commit"}, {"oid": "e32e4fdd52465a085b1a26048643ca41863267d2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e32e4fdd52465a085b1a26048643ca41863267d2", "message": "Checkstyle", "committedDate": "2020-03-06T23:28:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg1MjA0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826#discussion_r389852045", "bodyText": "don't feel too strongly about this but could we make this logic protected in regular Blob so its not duplicated?", "author": "gapra-msft", "createdAt": "2020-03-09T17:39:20Z", "path": "sdk/storage/azure-storage-blob-cryptography/src/main/java/com/azure/storage/blob/specialized/cryptography/EncryptedBlobClient.java", "diffHunk": "@@ -109,6 +116,32 @@ public BlobOutputStream getBlobOutputStream(ParallelTransferOptions parallelTran\n             metadata, tier, requestConditions);\n     }\n \n+    /**\n+     * {@inheritDoc}\n+     */\n+    @Override\n+    public void uploadWithResponse(InputStream data, long length, ParallelTransferOptions parallelTransferOptions,\n+        BlobHttpHeaders headers, Map<String, String> metadata, AccessTier tier, BlobRequestConditions requestConditions,\n+        Duration timeout, Context context) {\n+        final ParallelTransferOptions validatedParallelTransferOptions =\n+            ModelHelper.populateAndApplyDefaults(parallelTransferOptions);\n+\n+        // BlobOutputStream passes to buffered upload, which has logic for switching based on stream size\n+        BlobOutputStream blobOutputStream = BlobOutputStream.blockBlobOutputStream(encryptedBlobAsyncClient,", "originalCommit": "e32e4fdd52465a085b1a26048643ca41863267d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg4MjE1OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8826#discussion_r389882158", "bodyText": "Good call!", "author": "rickle-msft", "createdAt": "2020-03-09T18:31:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg1MjA0NQ=="}], "type": "inlineReview"}, {"oid": "2f653b91551b32bdfb007600125943d0a02c02a5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2f653b91551b32bdfb007600125943d0a02c02a5", "message": "Removed an obsolete test", "committedDate": "2020-03-09T17:54:17Z", "type": "commit"}, {"oid": "3cd7a1642a5207538249dcd9b6106b1c7485bf64", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3cd7a1642a5207538249dcd9b6106b1c7485bf64", "message": "Small refactor to minimize code duplication", "committedDate": "2020-03-09T18:30:56Z", "type": "commit"}, {"oid": "de42b157737d8efe7897c41c2668ba08599b12ef", "url": "https://github.com/Azure/azure-sdk-for-java/commit/de42b157737d8efe7897c41c2668ba08599b12ef", "message": "Removed unused imports", "committedDate": "2020-03-09T19:22:47Z", "type": "commit"}, {"oid": "24283090c9b808024458567e12141c8ff255c940", "url": "https://github.com/Azure/azure-sdk-for-java/commit/24283090c9b808024458567e12141c8ff255c940", "message": "Removed some unnecessary code", "committedDate": "2020-03-11T23:00:16Z", "type": "commit"}, {"oid": "651345a4a01abca382424023b5e5cce6c1bac24f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/651345a4a01abca382424023b5e5cce6c1bac24f", "message": "Merge remote-tracking branch 'upstream/master' into uploadEncryption", "committedDate": "2020-03-11T23:02:06Z", "type": "commit"}, {"oid": "a2e7016256032ebaa7205a8478241cb92aecb62f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a2e7016256032ebaa7205a8478241cb92aecb62f", "message": "Merge remote-tracking branch 'upstream/master' into uploadEncryption", "committedDate": "2020-03-11T23:40:35Z", "type": "commit"}]}