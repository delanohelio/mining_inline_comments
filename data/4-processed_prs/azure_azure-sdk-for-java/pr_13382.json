{"pr_number": 13382, "pr_title": "Cosmos diagnostic fixes", "pr_createdAt": "2020-07-21T15:59:00Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/13382", "timeline": [{"oid": "692b9bd0f5f2dd28d3868b179e6d52f2b9119b25", "url": "https://github.com/Azure/azure-sdk-for-java/commit/692b9bd0f5f2dd28d3868b179e6d52f2b9119b25", "message": "initial commit diagnotics fixes", "committedDate": "2020-07-21T15:49:46Z", "type": "commit"}, {"oid": "62f82ea6ad51d0a5692759a129564a05d433533f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/62f82ea6ad51d0a5692759a129564a05d433533f", "message": "Merge branch 'latest-master' into users/nakumars/diagnosticfixs", "committedDate": "2020-07-22T17:48:54Z", "type": "commit"}, {"oid": "a91caccccf7b2d7b59684c8aa61dead899429662", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a91caccccf7b2d7b59684c8aa61dead899429662", "message": "merging with master and moving diagnostic tests to emulator group", "committedDate": "2020-07-22T17:55:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5NzQwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13382#discussion_r458997408", "bodyText": "this is test and it doesn't matter much.\nbut in general you should not create a ObjectMapper per method invocation, This is costly timewise.", "author": "moderakh", "createdAt": "2020-07-22T18:28:46Z", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/CosmosDiagnosticsTest.java", "diffHunk": "@@ -299,6 +303,15 @@ private void validateTransportRequestTimelineDirect(String diagnostics) {\n         assertThat(diagnostics).contains(\"\\\"eventName\\\":\\\"completed\\\"\");\n     }\n \n+    private void validateJson(String jsonInString) {\n+        try {\n+            ObjectMapper mapper = new ObjectMapper();", "originalCommit": "a91caccccf7b2d7b59684c8aa61dead899429662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMzM0Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13382#discussion_r459013342", "bodyText": "Yes good catch, although its test, but it should be on class level , i will change it in next iteration", "author": "simplynaveen20", "createdAt": "2020-07-22T18:55:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5NzQwOA=="}], "type": "inlineReview"}, {"oid": "cf1b6b78a043e60a16c48c349d4dde64d1a51541", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cf1b6b78a043e60a16c48c349d4dde64d1a51541", "message": "moving object mapper to class initialization", "committedDate": "2020-07-22T19:27:31Z", "type": "commit"}, {"oid": "dd019068579d4457bb736bd1a977961680d359ab", "url": "https://github.com/Azure/azure-sdk-for-java/commit/dd019068579d4457bb736bd1a977961680d359ab", "message": "reverting diagnotics test group back to simple", "committedDate": "2020-07-22T20:51:20Z", "type": "commit"}]}