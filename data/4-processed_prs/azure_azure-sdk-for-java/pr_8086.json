{"pr_number": 8086, "pr_title": "Implementation of CosmosContinuablePagedIterable for sync APIs", "pr_createdAt": "2020-02-10T20:11:10Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/8086", "timeline": [{"oid": "bcc21d218458adfb140bd8dc2130e5fbef244aae", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bcc21d218458adfb140bd8dc2130e5fbef244aae", "message": "Implementation of CosmosContinuablePagedIterable for sync APIs", "committedDate": "2020-02-10T20:08:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5Mjk3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8086#discussion_r377292978", "bodyText": "constructor should not be public.\nThe end user doesn't need to instantiate this. If you made it public because it has to be instantiated from other packages, please use BridgeInternal technique instead.", "author": "moderakh", "createdAt": "2020-02-10T20:17:06Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosContinuablePagedIterable.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package com.azure.cosmos;\n+\n+import com.azure.core.util.paging.ContinuablePagedFlux;\n+\n+/**\n+ * Cosmos implementation of {@link ContinuablePagedIterable}.\n+ * <p>\n+ * This type is a {@link com.azure.core.util.IterableStream} that provides the ability to operate on pages of type {@link FeedResponse}\n+ * and individual items in such pages. This type supports {@link String} type continuation tokens,\n+ * allowing for restarting from a previously-retrieved continuation token.\n+ * <p>\n+ * For more information on the base type, refer {@link ContinuablePagedIterable}\n+ *\n+ * @param <T> The type of elements in a {@link com.azure.core.util.paging.ContinuablePage}\n+ * @see com.azure.core.util.paging.ContinuablePage\n+ * @see FeedResponse\n+ */\n+public class CosmosContinuablePagedIterable<T> extends ContinuablePagedIterable<String, T, FeedResponse<T>> {\n+\n+    /**\n+     * Creates instance given {@link ContinuablePagedFlux}.\n+     *\n+     * @param pagedFlux the paged flux use as iterable\n+     */\n+    public CosmosContinuablePagedIterable(ContinuablePagedFlux<String, T, FeedResponse<T>> pagedFlux) {", "originalCommit": "bcc21d218458adfb140bd8dc2130e5fbef244aae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM5MDU2OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8086#discussion_r377390569", "bodyText": "Done.", "author": "kushagraThapar", "createdAt": "2020-02-11T00:08:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5Mjk3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5MzAzNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8086#discussion_r377293036", "bodyText": "ditto", "author": "moderakh", "createdAt": "2020-02-10T20:17:12Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/CosmosContinuablePagedIterable.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package com.azure.cosmos;\n+\n+import com.azure.core.util.paging.ContinuablePagedFlux;\n+\n+/**\n+ * Cosmos implementation of {@link ContinuablePagedIterable}.\n+ * <p>\n+ * This type is a {@link com.azure.core.util.IterableStream} that provides the ability to operate on pages of type {@link FeedResponse}\n+ * and individual items in such pages. This type supports {@link String} type continuation tokens,\n+ * allowing for restarting from a previously-retrieved continuation token.\n+ * <p>\n+ * For more information on the base type, refer {@link ContinuablePagedIterable}\n+ *\n+ * @param <T> The type of elements in a {@link com.azure.core.util.paging.ContinuablePage}\n+ * @see com.azure.core.util.paging.ContinuablePage\n+ * @see FeedResponse\n+ */\n+public class CosmosContinuablePagedIterable<T> extends ContinuablePagedIterable<String, T, FeedResponse<T>> {\n+\n+    /**\n+     * Creates instance given {@link ContinuablePagedFlux}.\n+     *\n+     * @param pagedFlux the paged flux use as iterable\n+     */\n+    public CosmosContinuablePagedIterable(ContinuablePagedFlux<String, T, FeedResponse<T>> pagedFlux) {\n+        super(pagedFlux);\n+    }\n+\n+    /**\n+     * Creates instance given {@link ContinuablePagedFlux}.\n+     *\n+     * @param pagedFlux the paged flux use as iterable\n+     */\n+    public CosmosContinuablePagedIterable(ContinuablePagedFlux<String, T, FeedResponse<T>> pagedFlux, int batchSize) {", "originalCommit": "bcc21d218458adfb140bd8dc2130e5fbef244aae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM5MDU5OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8086#discussion_r377390598", "bodyText": "Done.", "author": "kushagraThapar", "createdAt": "2020-02-11T00:08:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5MzAzNg=="}], "type": "inlineReview"}, {"oid": "069c91b778594bac5119b2dd585b5b73ba8cc0d5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/069c91b778594bac5119b2dd585b5b73ba8cc0d5", "message": "Update constructor to package private, Added test case for continuation token and page size", "committedDate": "2020-02-11T00:07:19Z", "type": "commit"}, {"oid": "2dcd1f74a60b08645d50585cf260c2bcbbfc98e2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2dcd1f74a60b08645d50585cf260c2bcbbfc98e2", "message": "Updated query with continuation token and page size test", "committedDate": "2020-02-11T04:15:39Z", "type": "commit"}]}