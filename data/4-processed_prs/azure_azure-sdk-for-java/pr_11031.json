{"pr_number": 11031, "pr_title": "Spring Boot migration -- JMS for Service Bus and Metrics", "pr_createdAt": "2020-05-11T09:50:41Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11031", "timeline": [{"oid": "ec597d7669602189edf4dddba9bf734040c2e066", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ec597d7669602189edf4dddba9bf734040c2e066", "message": "add servicebus-jms starter and metrics starter", "committedDate": "2020-05-11T09:46:21Z", "type": "commit"}, {"oid": "726753fd42c2840dbec0c56c2ef98d5a280cddcc", "url": "https://github.com/Azure/azure-sdk-for-java/commit/726753fd42c2840dbec0c56c2ef98d5a280cddcc", "message": "add azure-spring-boot dependency in jacoco", "committedDate": "2020-05-12T01:42:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkwMDc1Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11031#discussion_r423900752", "bodyText": "This should be 5.2.5.RELEASE to match the org.springframework:spring-web's version. Both libraries have spring-beans and spring-core as immediate dependencies and unless these are the same version you risk introducing a dependency ordering issue.", "author": "JimSuplizio", "createdAt": "2020-05-12T17:15:25Z", "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -70,6 +71,7 @@ org.springframework.security:spring-security-oauth2-client;5.2.0.RELEASE\n org.springframework.security:spring-security-oauth2-core;5.2.0.RELEASE\n org.springframework.security:spring-security-oauth2-jose;5.2.0.RELEASE\n org.springframework:spring-web;5.2.5.RELEASE\n+org.springframework:spring-jms;5.2.0.RELEASE", "originalCommit": "726753fd42c2840dbec0c56c2ef98d5a280cddcc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ3NTczNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11031#discussion_r424475734", "bodyText": "upgraded to 5.2.5.RELEASE", "author": "saragluna", "createdAt": "2020-05-13T14:19:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkwMDc1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkwMjI1NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11031#discussion_r423902255", "bodyText": "/CC @kushagraThapar\nThe only library that uses io.micrometer:micrometer-core and io.micrometer:micrometer-registry-azure-monitor dependencies is Cosmos. Could cosmos also be updated to use the 1.3.0 versions? I would prefer that, whenever possible, that we update the common version of an external dependency rather than declare library specific ones.", "author": "JimSuplizio", "createdAt": "2020-05-12T17:17:56Z", "path": "eng/versioning/external_dependencies.txt", "diffHunk": "@@ -227,3 +229,7 @@ media_com.microsoft.azure:adal4j;1.2.0\n \n # sdk\\storage\\azure-storage-blob-cryptography\\pom.xml\n storage_com.microsoft.azure:azure-storage;8.4.0\n+\n+# sdk\\spring\\azure-spring-boot\\pom.xml\n+spring_io.micrometer:micrometer-core;1.3.0", "originalCommit": "726753fd42c2840dbec0c56c2ef98d5a280cddcc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyNDkyMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11031#discussion_r428824921", "bodyText": "Yes, I don't see a reason why cosmos can't update the micrometer dependency to 1.3.0 version. As you mentioned @JimSuplizio  this is not a blocker for this PR, and can be done later, but we should definitely have one common version.", "author": "kushagraThapar", "createdAt": "2020-05-21T18:10:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkwMjI1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkwMzI1Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11031#discussion_r423903252", "bodyText": "Shouldn't these be being added to version_client.txt instead of version_data.txt like the other spring libraries are being added?", "author": "JimSuplizio", "createdAt": "2020-05-12T17:19:36Z", "path": "eng/versioning/version_data.txt", "diffHunk": "@@ -43,3 +43,5 @@ com.microsoft.azure:azure-media;1.0.0-beta.1;1.0.0-beta.1\n com.microsoft.azure:azure-spring-boot;2.2.4;2.2.5-beta.1\n com.microsoft.azure:azure-spring-boot-starter;2.2.4;2.2.5-beta.1\n com.microsoft.azure:azure-active-directory-spring-boot-starter;2.2.4;2.2.5-beta.1\n+com.microsoft.azure:azure-servicebus-jms-spring-boot-starter;2.2.4;2.2.5-beta.1", "originalCommit": "726753fd42c2840dbec0c56c2ef98d5a280cddcc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ3NTg0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11031#discussion_r424475845", "bodyText": "Moved.", "author": "saragluna", "createdAt": "2020-05-13T14:20:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzkwMzI1Mg=="}], "type": "inlineReview"}, {"oid": "dc5a72501cf04441ed5108de36aeec7e184ddf5c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/dc5a72501cf04441ed5108de36aeec7e184ddf5c", "message": "upgrade spring-jms version and define spring modules verion in version_client", "committedDate": "2020-05-13T14:18:36Z", "type": "commit"}, {"oid": "89ee152513e5d05dead2e8556e6bd4bdf4381d57", "url": "https://github.com/Azure/azure-sdk-for-java/commit/89ee152513e5d05dead2e8556e6bd4bdf4381d57", "message": "add CHANGELOG.md", "committedDate": "2020-05-14T07:17:46Z", "type": "commit"}, {"oid": "8a8b8f509abf9d2903670e08b1ccbc321785c9b1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8a8b8f509abf9d2903670e08b1ccbc321785c9b1", "message": "add configurations for JavaDoc plugins and entries in jacoco-test-coverage", "committedDate": "2020-05-21T09:22:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODY5MzYyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11031#discussion_r428693629", "bodyText": "This version tag's artifact doesn't match the artifactId below.", "author": "JimSuplizio", "createdAt": "2020-05-21T14:39:42Z", "path": "sdk/spring/azure-spring-boot-starter-servicebus-jms/README.md", "diffHunk": "@@ -0,0 +1,53 @@\n+#Azure Service Bus JMS Spring Boot Starter client library for Java\n+\n+## Key concepts\n+With this starter you could easily use Spring JMS Queue and Topic with Azure Service Bus.\n+\n+### Java agent based monitoring\n+\n+Azure Application Insights has released one Java agent that can be used to capture metrics inside JVM. Consider use the Java agent based approach. \n+\n+Refer following document for more details:\n+\n+https://docs.microsoft.com/azure/azure-monitor/app/java-in-process-agent\n+\n+\n+## Getting started\n+\n+### Add the dependency\n+\n+`azure-servicebus-jms-spring-boot-starter` is published on Maven Central Repository.  \n+Add the following dependency to your project:\n+\n+[//]: # ({x-version-update-start;com.azure:azure-spring-boot-metrics-starter;current})", "originalCommit": "8a8b8f509abf9d2903670e08b1ccbc321785c9b1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ff384f93ba5572dcf1eff6f35b386852ce2da9e8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ff384f93ba5572dcf1eff6f35b386852ce2da9e8", "message": "Merge branch 'master' into feature/spring-boot-jms-and-metrics", "committedDate": "2020-05-27T02:19:21Z", "type": "commit"}, {"oid": "2d2e849c13e7d2fe184e097a52fd19c1f672ad27", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2d2e849c13e7d2fe184e097a52fd19c1f672ad27", "message": "Merge branch 'master' into feature/spring-boot-jms-and-metrics", "committedDate": "2020-05-27T05:39:17Z", "type": "commit"}]}