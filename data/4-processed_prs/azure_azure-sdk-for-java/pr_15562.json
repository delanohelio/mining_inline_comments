{"pr_number": 15562, "pr_title": "Fixed public API for file get range diff", "pr_createdAt": "2020-09-23T17:13:04Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/15562", "timeline": [{"oid": "36bfc1b102f3848b0a4f06f68accb2ae57653931", "url": "https://github.com/Azure/azure-sdk-for-java/commit/36bfc1b102f3848b0a4f06f68accb2ae57653931", "message": "Regenerated code and changed methods to return response type", "committedDate": "2020-09-22T21:34:08Z", "type": "commit"}, {"oid": "43897dd10b2fa675d2294c2d1670915c3f68a714", "url": "https://github.com/Azure/azure-sdk-for-java/commit/43897dd10b2fa675d2294c2d1670915c3f68a714", "message": "Fixed public API of file get ranges diff", "committedDate": "2020-09-23T17:12:09Z", "type": "commit"}, {"oid": "5527e4cf57dc979d02538f41eecbe2fd41cf6048", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5527e4cf57dc979d02538f41eecbe2fd41cf6048", "message": "reverted accidental change", "committedDate": "2020-09-23T17:13:47Z", "type": "commit"}, {"oid": "4c0980ca3b07cf36560f99949e45c23235b32239", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4c0980ca3b07cf36560f99949e45c23235b32239", "message": "Fixed swagger", "committedDate": "2020-09-23T18:40:34Z", "type": "commit"}, {"oid": "f41482cf6001b238eaca9bfe0017bfd63da40c35", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f41482cf6001b238eaca9bfe0017bfd63da40c35", "message": "Code snippets fix", "committedDate": "2020-09-23T18:42:25Z", "type": "commit"}, {"oid": "087b93eb57e28c9bba3f73a77a4beae2f7b7a972", "url": "https://github.com/Azure/azure-sdk-for-java/commit/087b93eb57e28c9bba3f73a77a4beae2f7b7a972", "message": "reduced line length", "committedDate": "2020-09-24T17:50:58Z", "type": "commit"}, {"oid": "b15a49e1246e0153ee92e7062d758081583008bc", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b15a49e1246e0153ee92e7062d758081583008bc", "message": "Analyze", "committedDate": "2020-09-24T18:10:59Z", "type": "commit"}, {"oid": "05375c517fb31cdd6a8ab289e3c3d4914427af3f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/05375c517fb31cdd6a8ab289e3c3d4914427af3f", "message": "Indents", "committedDate": "2020-09-24T18:28:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTExNzUwNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15562#discussion_r495117507", "bodyText": "From a functional stand-point this change is fine. Generally, we have erred on using PagedFlux/PagedIterable on list responses so if the service changed in the future to be pagable we wouldn't require an API change in the SDK.\nhttps://azure.github.io/azure-sdk/java_design.html#java-pagination-pagedflux", "author": "alzimmermsft", "createdAt": "2020-09-25T17:00:15Z", "path": "sdk/storage/azure-storage-file-share/src/main/java/com/azure/storage/file/share/ShareFileAsyncClient.java", "diffHunk": "@@ -1636,11 +1637,12 @@ private void channelCleanUp(AsynchronousFileChannel channel) {\n      * snapshot, as long as the snapshot specified by previousSnapshot is the older of the two.\n      * @return {@link ShareFileRange ranges} in the files that satisfy the requirements\n      */\n-    public PagedFlux<ShareFileRange> listRangesDiff(String previousSnapshot) {\n+    public Mono<ShareFileRangeList> listRangesDiff(String previousSnapshot) {", "originalCommit": "05375c517fb31cdd6a8ab289e3c3d4914427af3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTExOTAxNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15562#discussion_r495119015", "bodyText": "We have a Mono<> for PageBlobClient.GetPageRange() and .GetPageRangeDiff(), and this API isn't currently Pagable, I think it's important that we be internally consistent..", "author": "seanmcc-msft", "createdAt": "2020-09-25T17:03:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTExNzUwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTEyMDEyMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15562#discussion_r495120122", "bodyText": "I believe the chance this api going pageable is small.", "author": "kasobol-msft", "createdAt": "2020-09-25T17:05:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTExNzUwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTEyMTE5OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15562#discussion_r495121199", "bodyText": "Discussed offline. This is a list response but there are 2 different lists returned by the service - ClearRange and Range, so going with a Mono makes sense here.", "author": "gapra-msft", "createdAt": "2020-09-25T17:07:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTExNzUwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTEyMjc2Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15562#discussion_r495122763", "bodyText": "Didn't realize the response type was two disparate lists, given that Mono makes more sense.", "author": "alzimmermsft", "createdAt": "2020-09-25T17:10:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTExNzUwNw=="}], "type": "inlineReview"}]}