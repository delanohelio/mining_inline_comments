{"pr_number": 16323, "pr_title": "Rename digital twins options objects by copying objects and renaming", "pr_createdAt": "2020-10-14T23:14:31Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16323", "timeline": [{"oid": "aec701bf3a0073ed2c668a3f39f86236795cf862", "url": "https://github.com/Azure/azure-sdk-for-java/commit/aec701bf3a0073ed2c668a3f39f86236795cf862", "message": "Rename digital twins options objects by copying objects and renaming\n\nSince autorest cannot be configured to rename these generated options objects, we will create copies of every options object and then rename them to better match the method that uses them", "committedDate": "2020-10-14T23:14:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA2MDEzNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16323#discussion_r505060137", "bodyText": "nit: I would break this down for better readability, especially when there is a conditional statement involved. here and everywhere", "author": "azabbasi", "createdAt": "2020-10-14T23:20:35Z", "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/DigitalTwinsAsyncClient.java", "diffHunk": "@@ -445,14 +445,14 @@ public DigitalTwinsServiceVersion getServiceVersion() {\n      * @return A {@link DigitalTwinsResponse} containing the deserialized relationship.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n-    public <T> Mono<DigitalTwinsResponse<T>> getRelationshipWithResponse(String digitalTwinId, String relationshipId, Class<T> clazz, DigitalTwinsGetRelationshipByIdOptions options) {\n+    public <T> Mono<DigitalTwinsResponse<T>> getRelationshipWithResponse(String digitalTwinId, String relationshipId, Class<T> clazz, GetRelationshipOptions options) {\n         return withContext(context -> getRelationshipWithResponse(digitalTwinId, relationshipId, clazz, options, context));\n     }\n \n-    <T> Mono<DigitalTwinsResponse<T>> getRelationshipWithResponse(String digitalTwinId, String relationshipId, Class<T> clazz, DigitalTwinsGetRelationshipByIdOptions options, Context context) {\n+    <T> Mono<DigitalTwinsResponse<T>> getRelationshipWithResponse(String digitalTwinId, String relationshipId, Class<T> clazz, GetRelationshipOptions options, Context context) {\n         return protocolLayer\n             .getDigitalTwins()\n-            .getRelationshipByIdWithResponseAsync(digitalTwinId, relationshipId, options, context)\n+            .getRelationshipByIdWithResponseAsync(digitalTwinId, relationshipId, options != null ? options.toProtocolLayerOptions() : null, context)", "originalCommit": "aec701bf3a0073ed2c668a3f39f86236795cf862", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA2NzcxMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16323#discussion_r505067712", "bodyText": "I am not sure if we can have a public method that has a return type from the implementation package.\nSpoke to Tim offline and he is confirming that assumption.", "author": "azabbasi", "createdAt": "2020-10-14T23:32:02Z", "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/models/CreateDigitalTwinOptions.java", "diffHunk": "@@ -0,0 +1,77 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+// Code generated by Microsoft (R) AutoRest Code Generator.\n+\n+package com.azure.digitaltwins.core.models;\n+\n+import com.azure.core.annotation.Fluent;\n+import com.azure.core.util.Context;\n+import com.azure.digitaltwins.core.implementation.models.DigitalTwinsAddOptions;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/**\n+ * The optional parameters for\n+ * {@link com.azure.digitaltwins.core.DigitalTwinsClient#createDigitalTwinWithResponse(String, Object, Class, CreateDigitalTwinOptions, Context)} and\n+ * {@link com.azure.digitaltwins.core.DigitalTwinsAsyncClient#createDigitalTwinWithResponse(String, Object, Class, CreateDigitalTwinOptions)}\n+ */\n+@Fluent\n+public final class CreateDigitalTwinOptions {\n+    /*\n+     * Identifies the request in a distributed tracing system.\n+     */\n+    @JsonProperty(value = \"traceparent\")\n+    private String traceparent;\n+\n+    /*\n+     * Provides vendor-specific trace identification information and is a\n+     * companion to traceparent.\n+     */\n+    @JsonProperty(value = \"tracestate\")\n+    private String tracestate;\n+\n+    /**\n+     * Get the traceparent property: Identifies the request in a distributed tracing system.\n+     *\n+     * @return the traceparent value.\n+     */\n+    public String getTraceparent() {\n+        return this.traceparent;\n+    }\n+\n+    /**\n+     * Set the traceparent property: Identifies the request in a distributed tracing system.\n+     *\n+     * @param traceparent the traceparent value to set.\n+     * @return the CreateDigitalTwinOptions object itself.\n+     */\n+    public CreateDigitalTwinOptions setTraceparent(String traceparent) {\n+        this.traceparent = traceparent;\n+        return this;\n+    }\n+\n+    /**\n+     * Get the tracestate property: Provides vendor-specific trace identification information and is a companion to\n+     * traceparent.\n+     *\n+     * @return the tracestate value.\n+     */\n+    public String getTracestate() {\n+        return this.tracestate;\n+    }\n+\n+    /**\n+     * Set the tracestate property: Provides vendor-specific trace identification information and is a companion to\n+     * traceparent.\n+     *\n+     * @param tracestate the tracestate value to set.\n+     * @return the CreateDigitalTwinOptions object itself.\n+     */\n+    public CreateDigitalTwinOptions setTracestate(String tracestate) {\n+        this.tracestate = tracestate;\n+        return this;\n+    }\n+\n+    public DigitalTwinsAddOptions toProtocolLayerOptions() {", "originalCommit": "aec701bf3a0073ed2c668a3f39f86236795cf862", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "24361be09968bc80fc15d62d630af94e0345aec5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/24361be09968bc80fc15d62d630af94e0345aec5", "message": "fixup", "committedDate": "2020-10-15T00:07:10Z", "type": "commit"}, {"oid": "51e67b4d4f58fc23d71b1bdfc10814bf232198bf", "url": "https://github.com/Azure/azure-sdk-for-java/commit/51e67b4d4f58fc23d71b1bdfc10814bf232198bf", "message": "fixup", "committedDate": "2020-10-15T00:17:23Z", "type": "commit"}, {"oid": "5b9ffd9789815be589101c1297d537c40b9929d1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5b9ffd9789815be589101c1297d537c40b9929d1", "message": "fixup", "committedDate": "2020-10-15T00:48:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTY5ODQ0Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16323#discussion_r505698447", "bodyText": "copyrights header", "author": "barustum", "createdAt": "2020-10-15T16:59:08Z", "path": "sdk/digitaltwins/azure-digitaltwins-core/src/main/java/com/azure/digitaltwins/core/implementation/converters/OptionsConverter.java", "diffHunk": "@@ -0,0 +1,210 @@\n+package com.azure.digitaltwins.core.implementation.converters;", "originalCommit": "5b9ffd9789815be589101c1297d537c40b9929d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "16e66f11ca369abc4e7f646b1e575cb8b3f4cb28", "url": "https://github.com/Azure/azure-sdk-for-java/commit/16e66f11ca369abc4e7f646b1e575cb8b3f4cb28", "message": "fix copyright headers", "committedDate": "2020-10-15T17:41:38Z", "type": "commit"}]}