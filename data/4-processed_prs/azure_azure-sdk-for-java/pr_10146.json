{"pr_number": 10146, "pr_title": "Removed public APIs from FeedOptions for page size and continuation token", "pr_createdAt": "2020-04-14T01:47:15Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/10146", "timeline": [{"oid": "9c29922a7eea87190f77de4548325a4890364a9b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9c29922a7eea87190f77de4548325a4890364a9b", "message": "Removed public APIs from FeedOptions for max Item count and continuation token", "committedDate": "2020-04-14T01:45:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg0MjI2OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10146#discussion_r407842268", "bodyText": "Here and in all the other tests and samples; can we avoid callingModelBridgeInternal.setFeedOptionsMaxItemCount() and instead do the byPage() conversion?", "author": "milismsft", "createdAt": "2020-04-14T03:18:49Z", "path": "sdk/cosmos/azure-cosmos-examples/src/main/java/com/azure/cosmos/rx/examples/multimaster/samples/Worker.java", "diffHunk": "@@ -85,7 +86,7 @@ public Worker(AsyncDocumentClient client, String databaseName, String collection\n                 do {\n \n                     FeedOptions options = new FeedOptions();\n-                    options.setRequestContinuation(response != null ? response.getContinuationToken() : null);\n+                    ModelBridgeInternal.setFeedOptionsContinuationToken(options, response != null ? response.getContinuationToken() : null);", "originalCommit": "9c29922a7eea87190f77de4548325a4890364a9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg2MzcxNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10146#discussion_r407863717", "bodyText": "We cannot, because these ones use AsyncDocumentClient - which is an internal type. Public APIs byPage() are not available here. So that's why we used ModelBridgeInternal class.\nSee this: https://github.com/Azure/azure-sdk-for-java/pull/10146/files/9c29922a7eea87190f77de4548325a4890364a9b#diff-6ca349d07cccd84853fafeaecacab723R30\nBut I agree, going forward, we should change the examples itself to use CosmosClient and public APIs.  But that is a much bigger change across SDK.", "author": "kushagraThapar", "createdAt": "2020-04-14T04:43:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg0MjI2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg2NDgzMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/10146#discussion_r407864831", "bodyText": "understood", "author": "milismsft", "createdAt": "2020-04-14T04:47:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg0MjI2OA=="}], "type": "inlineReview"}, {"oid": "5cb783dfbe80b42a030dece3379810f219ef0b88", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5cb783dfbe80b42a030dece3379810f219ef0b88", "message": "Fixed maxItemCount pass to byPage() in broken tests", "committedDate": "2020-04-14T04:51:11Z", "type": "commit"}]}