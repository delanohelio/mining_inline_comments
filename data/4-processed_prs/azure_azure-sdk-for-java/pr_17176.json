{"pr_number": 17176, "pr_title": "basic validation on the preferred regions.", "pr_createdAt": "2020-11-04T20:59:51Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/17176", "timeline": [{"oid": "6e5051046f760b8c54c5eb2e9593e1cd0e6c0255", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6e5051046f760b8c54c5eb2e9593e1cd0e6c0255", "message": "basic preferred regions validation", "committedDate": "2020-11-04T20:56:24Z", "type": "commit"}, {"oid": "f7a80c807dc274ff5a183831307ec216b5504c03", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f7a80c807dc274ff5a183831307ec216b5504c03", "message": "Merge branch 'master' into users/moderakh/config-validation", "committedDate": "2020-11-04T20:57:35Z", "type": "commit"}, {"oid": "4a473de67a9a5b9ef1e004b3ecc12c29ff7aea06", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4a473de67a9a5b9ef1e004b3ecc12c29ff7aea06", "message": "add missing test file", "committedDate": "2020-11-04T21:01:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzYzMTk0MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17176#discussion_r517631940", "bodyText": "Thanks for adding unit test coverage for this, can you please also add a couple of happy path scenarios in this file, since we updated the validateConfig() API in CosmosClientBuilder.\nIt will ensure there is no regression from this change.", "author": "kushagraThapar", "createdAt": "2020-11-04T21:07:39Z", "path": "sdk/cosmos/azure-cosmos/src/test/java/com/azure/cosmos/CosmosClientBuilderTest.java", "diffHunk": "@@ -0,0 +1,47 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.cosmos;\n+\n+import com.azure.cosmos.implementation.TestConfigurations;\n+import com.google.common.collect.ImmutableList;\n+import org.testng.annotations.Test;\n+\n+import java.net.URISyntaxException;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class CosmosClientBuilderTest {", "originalCommit": "4a473de67a9a5b9ef1e004b3ecc12c29ff7aea06", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzYzMzE5OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17176#discussion_r517633199", "bodyText": "unfortunately the happy path scenarios can't be added as unit tests here. because they require a real prod endpoint. the instantiation of the client without a real prod endpoint will fail.\nHappy path scenarios are tested elsewhere in our end to end tests when we run prod CI.", "author": "moderakh", "createdAt": "2020-11-04T21:10:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzYzMTk0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY4MzE0Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17176#discussion_r517683143", "bodyText": "Sounds good @moderakh  - can we run the full CI for this PR to make sure everything is good on end to end tests ?", "author": "kushagraThapar", "createdAt": "2020-11-04T23:04:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzYzMTk0MA=="}], "type": "inlineReview"}]}