{"pr_number": 7489, "pr_title": "Moving aggregate reports out of the unified pipelines.", "pr_createdAt": "2020-01-16T02:40:51Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/7489", "timeline": [{"oid": "d4223e9ac4465b0f169fb12bbd0c5f835a6e9a6f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4223e9ac4465b0f169fb12bbd0c5f835a6e9a6f", "message": "Moving aggregate reports out of the unified pipelines.", "committedDate": "2020-01-16T02:39:19Z", "type": "commit"}, {"oid": "eb90a9eb3aaf2b156361134fb623a297bfcfadde", "url": "https://github.com/Azure/azure-sdk-for-java/commit/eb90a9eb3aaf2b156361134fb623a297bfcfadde", "message": "Remove conditions on aggregate report steps in seperate pipeline.", "committedDate": "2020-01-16T02:46:08Z", "type": "commit"}, {"oid": "0339a8ce1268d93f67d71d250b6e5ba7e9fa0ae2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0339a8ce1268d93f67d71d250b6e5ba7e9fa0ae2", "message": "Add variables and mmove more plumbing across.", "committedDate": "2020-01-16T03:06:34Z", "type": "commit"}, {"oid": "016c047e4d57b159bd1da8686f06e015c447e49f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/016c047e4d57b159bd1da8686f06e015c447e49f", "message": "Fix typo.", "committedDate": "2020-01-16T03:08:05Z", "type": "commit"}, {"oid": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f", "message": "Add back install of reporting tools.", "committedDate": "2020-01-16T03:12:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODE0NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367218144", "bodyText": "This doesn't run aggregates or anything, was this removed since parent is less useful given @JimSuplizio's version management changes?", "author": "alzimmermsft", "createdAt": "2020-01-16T03:43:47Z", "path": "eng/pipelines/templates/jobs/archetype-sdk-client.yml", "diffHunk": "@@ -156,17 +156,17 @@ jobs:\n           Options: --batch-mode\n           MavenOptions: $(MemoryOptions) $(LoggingOptions)\n \n-      - task: Maven@3\n-        displayName: 'Install azure-sdk-parent'\n-        inputs:\n-          mavenPomFile: parent/pom.xml\n-          options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n-          mavenOptions: '$(MemoryOptions)  $(LoggingOptions)'\n-          javaHomeOption: 'JDKVersion'\n-          jdkVersionOption: '1.11'\n-          jdkArchitectureOption: 'x64'\n-          publishJUnitResults: false\n-          goals: 'install'\n+      # - task: Maven@3", "originalCommit": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxOTU5OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367219598", "bodyText": "It seemed redundant to me. Do we need to install it? Given we find the parent POMs via links (or via Maven Central) won't they end up getting installed anyway?", "author": "mitchdenny", "createdAt": "2020-01-16T03:51:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQ1NjAzNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367456037", "bodyText": "@alzimmermsft the parent still contains some plugin definitions. It's unclear if we can simply remove it but maybe we should look at if we can. I'd love to have less 'stuff' in our repo.", "author": "JimSuplizio", "createdAt": "2020-01-16T14:43:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU1NTc3Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367555776", "bodyText": "Ah, didn't realize either of these!", "author": "alzimmermsft", "createdAt": "2020-01-16T17:35:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODE0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzIxODc3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367218778", "bodyText": "@JonathanGiles, should we skip SpotBugs and Checkstyles here given master would be in an invalid state of they failed? Another option would be to continue running them in this step but turn failures off to generate, may want to do that whole sale for Javadocs and RevApi as well here.", "author": "alzimmermsft", "createdAt": "2020-01-16T03:47:30Z", "path": "eng/pipelines/aggregate-reports.yml", "diffHunk": "@@ -1,6 +1,67 @@\n trigger: none\n pr: none\n \n-steps:\n-    - script: | \n-        hello world\n\\ No newline at end of file\n+\n+jobs:\n+  - job: Generate\n+    variables:\n+      - template: templates/variables/globals.yml\n+    pool:\n+      vmImage: 'ubuntu-16.04'\n+    steps:\n+    - template: templates/steps/install-reporting-tools.yml\n+      parameters:\n+        Options: --batch-mode\n+        MavenOptions: $(MemoryOptions) $(LoggingOptions)\n+\n+    - task: Maven@3\n+      displayName: 'Install azure-sdk-parent'\n+      inputs:\n+        mavenPomFile: parent/pom.xml\n+        options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n+        mavenOptions: '$(MemoryOptions)  $(LoggingOptions)'\n+        javaHomeOption: 'JDKVersion'\n+        jdkVersionOption: '1.11'\n+        jdkArchitectureOption: 'x64'\n+        publishJUnitResults: false\n+        goals: 'install'\n+\n+    - task: Maven@3\n+      displayName: 'Generate Maven project site, including JavaDocs, SpotBugs, and CheckStyle reports'", "originalCommit": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM2Mjc3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r367362779", "bodyText": "Don't need install here. site:site site:stage will generate all 3 reports.", "author": "srnagar", "createdAt": "2020-01-16T11:17:33Z", "path": "eng/pipelines/aggregate-reports.yml", "diffHunk": "@@ -1,6 +1,67 @@\n trigger: none\n pr: none\n \n-steps:\n-    - script: | \n-        hello world\n\\ No newline at end of file\n+\n+jobs:\n+  - job: Generate\n+    variables:\n+      - template: templates/variables/globals.yml\n+    pool:\n+      vmImage: 'ubuntu-16.04'\n+    steps:\n+    - template: templates/steps/install-reporting-tools.yml\n+      parameters:\n+        Options: --batch-mode\n+        MavenOptions: $(MemoryOptions) $(LoggingOptions)\n+\n+    - task: Maven@3\n+      displayName: 'Install azure-sdk-parent'\n+      inputs:\n+        mavenPomFile: parent/pom.xml\n+        options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n+        mavenOptions: '$(MemoryOptions)  $(LoggingOptions)'\n+        javaHomeOption: 'JDKVersion'\n+        jdkVersionOption: '1.11'\n+        jdkArchitectureOption: 'x64'\n+        publishJUnitResults: false\n+        goals: 'install'\n+\n+    - task: Maven@3\n+      displayName: 'Generate Maven project site, including JavaDocs, SpotBugs, and CheckStyle reports'\n+      inputs:\n+        mavenPomFile: pom.client.xml\n+        options: '$(DefaultOptions) -DskipTests -Dgpg.skip'\n+        mavenOptions: '$(MemoryOptions) $(LoggingOptions)'\n+        javaHomeOption: 'JDKVersion'\n+        jdkVersionOption: '1.11'\n+        jdkArchitectureOption: 'x64'\n+        publishJUnitResults: false\n+        goals: 'install site:site site:stage'", "originalCommit": "9e4d11b26cc90bb5c08ce06e82fb7ff4ec69517f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc4MjMyNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7489#discussion_r368782326", "bodyText": "Seems we do need it after some experimentation :-)", "author": "mitchdenny", "createdAt": "2020-01-21T02:04:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM2Mjc3OQ=="}], "type": "inlineReview"}, {"oid": "d3ac0f54cecf5d2886a1dfc326ce86f71fd9fd47", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d3ac0f54cecf5d2886a1dfc326ce86f71fd9fd47", "message": "Remove install goal.", "committedDate": "2020-01-20T22:20:18Z", "type": "commit"}, {"oid": "a4c0c982fc0e24b0ca74bb6286c4168ce6a01751", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a4c0c982fc0e24b0ca74bb6286c4168ce6a01751", "message": "Put install goal back in.", "committedDate": "2020-01-21T01:20:31Z", "type": "commit"}, {"oid": "89d27b0b8b9a880b99dfa37204eb1078c17adbc1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/89d27b0b8b9a880b99dfa37204eb1078c17adbc1", "message": "Trying to replicate core build performance.", "committedDate": "2020-01-21T01:29:21Z", "type": "commit"}]}