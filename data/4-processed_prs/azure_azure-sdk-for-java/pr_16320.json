{"pr_number": 16320, "pr_title": "Use the builder to create table clients from service clients", "pr_createdAt": "2020-10-14T22:29:29Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16320", "timeline": [{"oid": "095162510bab76d2cdfe96364887f505cb489dcb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/095162510bab76d2cdfe96364887f505cb489dcb", "message": "Add test to cover bug #16292", "committedDate": "2020-10-14T22:07:51Z", "type": "commit"}, {"oid": "7fda30452f455fb9974fbcbe4fda13980722989c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7fda30452f455fb9974fbcbe4fda13980722989c", "message": "Always use the builder to make clients\n\nJust re-using the same implementation won't work because the table\nclient needs to use a different serializerAdapter. This still re-uses\nthe same pipeline (incl. HTTP client) so it shouldn't cause any perf\nregression.", "committedDate": "2020-10-14T22:20:06Z", "type": "commit"}, {"oid": "019de025aef39104ba2bdafbd3f3ea3dee37e89b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/019de025aef39104ba2bdafbd3f3ea3dee37e89b", "message": "Correctly handle TokenCredentials in builders\n\nPreviously, TablesSharedKeyCredential was a TokenCredential, and the\nbuilders always assumed that any TokenCredential the customer passed was\na shared key credential. This behavior was broken and is now corrected.", "committedDate": "2020-10-15T21:16:11Z", "type": "commit"}, {"oid": "af1416d3d93de5f300ab75512d15fa7698aa8a2c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/af1416d3d93de5f300ab75512d15fa7698aa8a2c", "message": "Add recordings", "committedDate": "2020-10-15T21:16:11Z", "type": "commit"}, {"oid": "5074b1ac64ebd0b8dd9da603baa3cc64ad0a8f9f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5074b1ac64ebd0b8dd9da603baa3cc64ad0a8f9f", "message": "Add changelog", "committedDate": "2020-10-15T21:16:12Z", "type": "commit"}, {"oid": "5074b1ac64ebd0b8dd9da603baa3cc64ad0a8f9f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5074b1ac64ebd0b8dd9da603baa3cc64ad0a8f9f", "message": "Add changelog", "committedDate": "2020-10-15T21:16:12Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg5OTY0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16320#discussion_r505899645", "bodyText": "TODO?", "author": "conniey", "createdAt": "2020-10-15T22:27:51Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/BuilderHelper.java", "diffHunk": "@@ -130,6 +135,7 @@ private static String getPrimaryEndpointForTokenAuth(String endpoint) {\n      */\n     private static HttpLogOptions getDefaultHttpLogOptions() {\n         HttpLogOptions defaultOptions = new HttpLogOptions();\n+        // TODO", "originalCommit": "5074b1ac64ebd0b8dd9da603baa3cc64ad0a8f9f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkwMjg0MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16320#discussion_r505902841", "bodyText": "Yes, this code was commented already but there was no TODO, so I had missed it previously. I don't want to fix it in this PR, it's not critical - all this does is set up the allowlist of header and query string names that are permitted to be logged. Without it, they show up as REDACTED. I need to take the time to mine the docs / swagger / etc to determine the list of service headers / query string params that should be permitted.", "author": "bsiegel", "createdAt": "2020-10-15T22:36:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg5OTY0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkwMzg4Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16320#discussion_r505903883", "bodyText": "Filed #16408 to track this", "author": "bsiegel", "createdAt": "2020-10-15T22:40:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTg5OTY0NQ=="}], "type": "inlineReview"}]}