{"pr_number": 13955, "pr_title": "mgmt, support beginCreate/beginDelete for common network/compute", "pr_createdAt": "2020-08-11T03:05:47Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/13955", "timeline": [{"oid": "1ec6825a2a7ec64361947fccdb7773fea3a8f750", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1ec6825a2a7ec64361947fccdb7773fea3a8f750", "message": "refactor", "committedDate": "2020-08-11T03:04:32Z", "type": "commit"}, {"oid": "7f00548b6246c84e3ae0f79b0b40f4f4c8ca0aaa", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7f00548b6246c84e3ae0f79b0b40f4f4c8ca0aaa", "message": "refactor", "committedDate": "2020-08-11T03:18:18Z", "type": "commit"}, {"oid": "c855aba5e2a207058fc959ce21582f82d966068f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c855aba5e2a207058fc959ce21582f82d966068f", "message": "support nic", "committedDate": "2020-08-11T03:34:11Z", "type": "commit"}, {"oid": "e9d2c3a1db86fd6bebb041c6f20dbd87ec433f54", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e9d2c3a1db86fd6bebb041c6f20dbd87ec433f54", "message": "support for public ip address; also support ipv6", "committedDate": "2020-08-11T04:07:46Z", "type": "commit"}, {"oid": "a75b5145c4c827002e52d749ce8c8f82e7274f0b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a75b5145c4c827002e52d749ce8c8f82e7274f0b", "message": "fix bug", "committedDate": "2020-08-11T04:17:00Z", "type": "commit"}, {"oid": "b8e7505dc5e9d22665964c6eadc8b1d80cc5c57d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b8e7505dc5e9d22665964c6eadc8b1d80cc5c57d", "message": "add test for sync poller", "committedDate": "2020-08-11T05:27:44Z", "type": "commit"}, {"oid": "93af71c5da3b44b78ca2d6a4884ff0d7699b9995", "url": "https://github.com/Azure/azure-sdk-for-java/commit/93af71c5da3b44b78ca2d6a4884ff0d7699b9995", "message": "update doc", "committedDate": "2020-08-11T05:31:19Z", "type": "commit"}, {"oid": "ee47af54fc7561ae0ccc4fb25c6c9a4a29e93c3a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ee47af54fc7561ae0ccc4fb25c6c9a4a29e93c3a", "message": "suppress  DLS_DEAD_LOCAL_STORE", "committedDate": "2020-08-11T06:11:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0MjQ3Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13955#discussion_r469042473", "bodyText": "Is it better to use Function<InnerT, ?> due to the return value will not be used.", "author": "ChenTanyi", "createdAt": "2020-08-12T06:52:11Z", "path": "sdk/resourcemanager/azure-resourcemanager-resources/src/main/java/com/azure/resourcemanager/resources/fluentcore/model/implementation/AcceptedImpl.java", "diffHunk": "@@ -230,4 +232,64 @@ public void cancelOperation() {\n             return new PollResponse<>(pollResponse.getStatus(), null, pollResponse.getRetryAfter());\n         }\n     }\n+\n+    public static <T, InnerT> Accepted<T> newAccepted(\n+        ClientLogger logger,\n+        Supplier<Response<Flux<ByteBuffer>>> activationOperation,\n+        Function<InnerT, T> convertOperation,\n+        SerializerAdapter serializerAdapter,\n+        HttpPipeline httpPipeline,\n+        Type innerType,\n+        Runnable preActivation) {\n+\n+        if (preActivation != null) {\n+            preActivation.run();\n+        }\n+\n+        Response<Flux<ByteBuffer>> activationResponse = activationOperation.get();\n+        if (activationResponse == null) {\n+            throw logger.logExceptionAsError(new NullPointerException());\n+        } else {\n+            Accepted<T> accepted = new AcceptedImpl<InnerT, T>(\n+                activationResponse,\n+                serializerAdapter,\n+                httpPipeline,\n+                innerType, innerType,\n+                convertOperation);\n+\n+            return accepted;\n+        }\n+    }\n+\n+    public static <T extends HasInner<InnerT>, InnerT> Accepted<T> newAccepted(\n+        ClientLogger logger,\n+        Supplier<Response<Flux<ByteBuffer>>> activationOperation,\n+        Function<InnerT, T> convertOperation,\n+        SerializerAdapter serializerAdapter,\n+        HttpPipeline httpPipeline,\n+        Type innerType,\n+        Runnable preActivation, Function<InnerT, T> postActivation) {", "originalCommit": "1ec6825a2a7ec64361947fccdb7773fea3a8f750", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA2MjQ0NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/13955#discussion_r469062444", "bodyText": "For current functionality, it only need Consumer<InnerT>, which has no return value. One reason is that I am not sure whether I will use the return value later; another reason is that a typical input is innerToFluentMap(this), which is a Function<InnerT, T> so I do not need another lambda for it.\nI will try to change it to Consumer<InnerT>", "author": "weidongxu-microsoft", "createdAt": "2020-08-12T07:33:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA0MjQ3Mw=="}], "type": "inlineReview"}, {"oid": "c4629825cb1abf62b132b751c30322bac55084ac", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c4629825cb1abf62b132b751c30322bac55084ac", "message": "use Consumer<InnerT> without return value", "committedDate": "2020-08-12T07:46:09Z", "type": "commit"}, {"oid": "1b47bb79c7fd16ab4e037814456e3f60e352e9e6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1b47bb79c7fd16ab4e037814456e3f60e352e9e6", "message": "avoid spotbugs", "committedDate": "2020-08-12T08:45:51Z", "type": "commit"}]}