{"pr_number": 12169, "pr_title": "Azure Tables Sync and Async Code Snippets", "pr_createdAt": "2020-06-12T14:37:23Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12169", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY5OTYwMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441699603", "bodyText": "This doesn't look correct. The artifact version should be 1.5.1.\nCan your rebase your changes onto the latest master?", "author": "conniey", "createdAt": "2020-06-17T17:10:52Z", "path": "sdk/tables/azure-data-tables/pom.xml", "diffHunk": "@@ -42,6 +43,55 @@ Licensed under the MIT License.\n       <artifactId>azure-core</artifactId>\n       <version>1.5.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwMTU0OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441701549", "bodyText": "You have two different versions with the same dependencies, 12.7.0-beta.1 and 12.6.1.\n\nThere should only be one version.\nThe 12.7.0-beta.1 has the <scope>test</scope> which means it will only be used for testing, while 12.6.1 has <scope>compile</scope> which means it'll be used for shipping the product.", "author": "conniey", "createdAt": "2020-06-17T17:14:24Z", "path": "sdk/tables/azure-data-tables/pom.xml", "diffHunk": "@@ -42,6 +43,55 @@ Licensed under the MIT License.\n       <artifactId>azure-core</artifactId>\n       <version>1.5.0</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n     </dependency>\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-core-test</artifactId>\n+      <version>1.2.1</version> <!-- {x-version-update;com.azure:azure-core-test;dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter-api</artifactId>\n+      <version>5.6.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-api;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter-engine</artifactId>\n+      <version>5.6.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-engine;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter-params</artifactId>\n+      <version>5.6.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-params;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.projectreactor</groupId>\n+      <artifactId>reactor-test</artifactId>\n+      <version>3.3.5.RELEASE</version> <!-- {x-version-update;io.projectreactor:reactor-test;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.mockito</groupId>\n+      <artifactId>mockito-core</artifactId>\n+      <version>3.0.0</version> <!-- {x-version-update;org.mockito:mockito-core;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-storage-common</artifactId>\n+      <version>12.7.0-beta.1</version>  <!-- {x-version-update;com.azure:azure-storage-common;dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+      <dependency>", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwMTg4OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441701888", "bodyText": "You're missing the MIT header. If you look at some previous *.java files, they'll have two lines at the header for every file.", "author": "conniey", "createdAt": "2020-06-17T17:15:00Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/AzureTable.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package com.azure.data.tables;", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwMjMxMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441702313", "bodyText": "We have checkstyles that require you to document public facing methods. you will have to add documentation to these or the build won't pass.", "author": "conniey", "createdAt": "2020-06-17T17:15:45Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/AzureTable.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package com.azure.data.tables;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.time.Duration;\n+\n+public class AzureTable {", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcxMTg1Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441711852", "bodyText": "Do you use AzureTable and AzureTableClient? It looks like you use TableServiceClient and TableClient. ? Perhaps these files can be deleted.", "author": "conniey", "createdAt": "2020-06-17T17:31:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwMjMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwMjQxNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441702417", "bodyText": "Missing MIT header", "author": "conniey", "createdAt": "2020-06-17T17:15:55Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/AzureTableAsyncClient.java", "diffHunk": "@@ -0,0 +1,32 @@\n+package com.azure.data.tables;", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwMzIzOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441703238", "bodyText": "This should be using ClientLogger rather than System.err. or System.out. If you look at some of the azure-storage-blob client classes, you'll see examples of this.", "author": "conniey", "createdAt": "2020-06-17T17:17:27Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/AzureTableAsyncClient.java", "diffHunk": "@@ -0,0 +1,32 @@\n+package com.azure.data.tables;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.time.Duration;\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+public class AzureTableAsyncClient {\n+    private final Set<String> existingTables = new HashSet<>();\n+\n+    /**\n+     * Creates a table. This artificially takes 3 seconds.\n+     *\n+     * @param name The name of the table.\n+     *\n+     * @return A Mono that completes when the table is created.\n+     */\n+    public Mono<AzureTable> createTable(String name) {\n+        return Mono.delay(Duration.ofSeconds(3)).flatMap(delay -> {\n+            if (existingTables.add(name)) {\n+                System.out.printf(\"CREATING TABLE '%s'.%n\", name);", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNjY4Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441706687", "bodyText": "These shouldn't be in the \"src/main/java\" folder. The \"main\" folder is for product code.\nThese should be in \"src/samples/java\". https://azure.github.io/azure-sdk/java_documentation.html#code-samples\nSince these are snippets dealing with the \"TableServiceAsyncClient\", this file can be called \"TableServiceAsyncClientCodeSamples\".\nHere's an example.\nhttps://github.com/Azure/azure-sdk-for-java/tree/master/sdk/eventhubs/azure-messaging-eventhubs/src/samples/java/com/azure/messaging/eventhubs", "author": "conniey", "createdAt": "2020-06-17T17:23:34Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/CodeSnippetsAysnc.java", "diffHunk": "@@ -0,0 +1,146 @@\n+package com.azure.data.tables;\n+\n+\n+import reactor.core.Disposable;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class CodeSnippetsAysnc {", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNjk1OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441706959", "bodyText": "nit: unneeded spaces.", "author": "conniey", "createdAt": "2020-06-17T17:24:03Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/CodeSnippetsAysnc.java", "diffHunk": "@@ -0,0 +1,146 @@\n+package com.azure.data.tables;\n+\n+\n+import reactor.core.Disposable;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class CodeSnippetsAysnc {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        //build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceAsyncClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .build();\n+\n+        //add table\n+        Mono<TableAsyncClient> createTableMono = tableServiceAsyncClient.createTable(\"OfficeSupplies\");\n+\n+        createTableMono.subscribe(Void -> {\n+            System.out.println(\"Table creation successful.\");\n+        }, error -> {\n+            System.out.println(\"There was an error creating the table. Error: \" + error);\n+        });\n+", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNzUyMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441707520", "bodyText": "TableServiceAsyncClientBuilder should be called TableServiceClientBuilder. https://azure.github.io/azure-sdk/java_design.html#service-clients", "author": "conniey", "createdAt": "2020-06-17T17:24:53Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/CodeSnippetsAysnc.java", "diffHunk": "@@ -0,0 +1,146 @@\n+package com.azure.data.tables;\n+\n+\n+import reactor.core.Disposable;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class CodeSnippetsAysnc {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        //build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceAsyncClientBuilder()", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNzc5Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441707793", "bodyText": "Additional space after //. For example: // Build service client", "author": "conniey", "createdAt": "2020-06-17T17:25:20Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/CodeSnippetsAysnc.java", "diffHunk": "@@ -0,0 +1,146 @@\n+package com.azure.data.tables;\n+\n+\n+import reactor.core.Disposable;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class CodeSnippetsAysnc {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        //build service client", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwODMzNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441708337", "bodyText": "You'll need to format this document. Ctrl+Alt+L should reformat this.\nThe method names should be \"insertEntity\" rather than \"InsertEntity\"", "author": "conniey", "createdAt": "2020-06-17T17:26:13Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/CodeSnippetsAysnc.java", "diffHunk": "@@ -0,0 +1,146 @@\n+package com.azure.data.tables;\n+\n+\n+import reactor.core.Disposable;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class CodeSnippetsAysnc {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        //build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceAsyncClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .build();\n+\n+        //add table\n+        Mono<TableAsyncClient> createTableMono = tableServiceAsyncClient.createTable(\"OfficeSupplies\");\n+\n+        createTableMono.subscribe(Void -> {\n+            System.out.println(\"Table creation successful.\");\n+        }, error -> {\n+            System.out.println(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+\n+        //delete a table\n+        Mono<Void> deleteTableMono = tableServiceAsyncClient.deleteTable(\"OfficeSupplies\");\n+\n+        deleteTableMono.subscribe(Void -> {\n+            System.out.println(\"Table deletion successful\");\n+        }, error -> {\n+            System.out.println(\"There was an error deleting the table. Error: \" + error);\n+        });\n+\n+\n+        //query tables\n+        String selectString = \"$select= TableName eq 'OfficeSupplies'\";\n+        Flux<AzureTable> queryTableFlux = tableServiceAsyncClient.queryTables(selectString);\n+        queryTableFlux.subscribe(azureTable -> {\n+            System.out.println(azureTable.getName());\n+        }, error -> {\n+            System.out.println(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    public void InsertEntity(){", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwOTMxOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441709319", "bodyText": "You don't need to create a new variable (ie. insertEntityMono) for these Mono operations. It makes it harder to read.  Same for other instances where you create the Mono variable to link it to a subscribe.\nYou can use:\ntableAsyncClient.insertEntity(tableName, row, partitionKey, tableEntityProperties).subscribe(tableEntity -> {\n       // Stuff\n   }, error -> {\n      // Stuff\n   });", "author": "conniey", "createdAt": "2020-06-17T17:27:44Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/CodeSnippetsAysnc.java", "diffHunk": "@@ -0,0 +1,146 @@\n+package com.azure.data.tables;\n+\n+\n+import reactor.core.Disposable;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class CodeSnippetsAysnc {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        //build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceAsyncClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .build();\n+\n+        //add table\n+        Mono<TableAsyncClient> createTableMono = tableServiceAsyncClient.createTable(\"OfficeSupplies\");\n+\n+        createTableMono.subscribe(Void -> {\n+            System.out.println(\"Table creation successful.\");\n+        }, error -> {\n+            System.out.println(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+\n+        //delete a table\n+        Mono<Void> deleteTableMono = tableServiceAsyncClient.deleteTable(\"OfficeSupplies\");\n+\n+        deleteTableMono.subscribe(Void -> {\n+            System.out.println(\"Table deletion successful\");\n+        }, error -> {\n+            System.out.println(\"There was an error deleting the table. Error: \" + error);\n+        });\n+\n+\n+        //query tables\n+        String selectString = \"$select= TableName eq 'OfficeSupplies'\";\n+        Flux<AzureTable> queryTableFlux = tableServiceAsyncClient.queryTables(selectString);\n+        queryTableFlux.subscribe(azureTable -> {\n+            System.out.println(azureTable.getName());\n+        }, error -> {\n+            System.out.println(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    public void InsertEntity(){\n+\n+        //build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceAsyncClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .build();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getClient(\"OfficeSupplies\");\n+\n+\n+        String tableName = \"OfficeSupplies\";\n+        String row = \"crayolaMarkers\";\n+        String partitionKey = \"markers\";\n+        HashMap<String, Object> tableEntityProperties = new HashMap<>();\n+        Mono<TableEntity> insertEntityMono = tableAsyncClient.insertEntity(tableName, row, partitionKey,", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcxMDEwOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441710109", "bodyText": "Same wiht file name.", "author": "conniey", "createdAt": "2020-06-17T17:28:58Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/CodeSnippetsSync.java", "diffHunk": "@@ -0,0 +1,108 @@\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class CodeSnippetsSync {", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcxMjg4OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441712888", "bodyText": "In general, you need to format your documents. There is inconsistent spacing.", "author": "conniey", "createdAt": "2020-06-17T17:33:26Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceAsyncClientBuilder.java", "diffHunk": "@@ -0,0 +1,19 @@\n+package com.azure.data.tables;", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcxMzA5Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r441713096", "bodyText": "The naming is incorrect https://azure.github.io/azure-sdk/java_design.html#service-clients", "author": "conniey", "createdAt": "2020-06-17T17:33:48Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceAsyncClientBuilder.java", "diffHunk": "@@ -0,0 +1,19 @@\n+package com.azure.data.tables;\n+\n+public class TableServiceAsyncClientBuilder {", "originalCommit": "1079c5900c472dda92dce092c9c1c3d944e9da6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1bfa1ec9356aeb5d3a2aee5e1829224104e26f1c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1bfa1ec9356aeb5d3a2aee5e1829224104e26f1c", "message": "rebase with master", "committedDate": "2020-06-17T18:43:16Z", "type": "forcePushed"}, {"oid": "fed7a5b70dec5b6dd28abaee13e0b37d02f86106", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fed7a5b70dec5b6dd28abaee13e0b37d02f86106", "message": "fixed async", "committedDate": "2020-06-17T18:47:36Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NDgwOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442564809", "bodyText": "Should there also be a way to get a single AzureTable by its name? e.g. @Nullable public AzureTable getTable(String name)?", "author": "bsiegel", "createdAt": "2020-06-19T00:09:16Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClient.java", "diffHunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class)\n+public class TableServiceClient {\n+\n+    TableServiceClient() {\n+    }\n+\n+    /**\n+     * creates the table with the given name.  If a table with the same name already exists, the operation fails.\n+     *\n+     * @param name the name of the table to create\n+     */\n+    public void createTable(String name) {\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param name\n+     */\n+    public void deleteTable(String name) {\n+    }\n+\n+    /**\n+     * query all the tables under the storage account and return them\n+     *\n+     * @param filterString the odata filter string\n+     * @return a list of tables that meet the query\n+     */\n+    public List<AzureTable> queryTables(String filterString) {\n+        return null;\n+    }\n+", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NTM2Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442565362", "bodyText": "Should there be a way to get a TableClient from a TableServiceClient? I'm imagining something like:\nTableClient tableClient = tableServiceClient.queryTables(\"$selectString= TableName eq 'OfficeSupplies'\")\n                                            .first()\n                                            .getClient();\n\n(Or the same but with the hypothetical getTable(\"TableName\") method I proposed in a previous comment.)", "author": "bsiegel", "createdAt": "2020-06-19T00:11:05Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NTUxOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442565519", "bodyText": "Should this return the AzureTable?", "author": "bsiegel", "createdAt": "2020-06-19T00:11:39Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClient.java", "diffHunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class)\n+public class TableServiceClient {\n+\n+    TableServiceClient() {\n+    }\n+\n+    /**\n+     * creates the table with the given name.  If a table with the same name already exists, the operation fails.\n+     *\n+     * @param name the name of the table to create\n+     */\n+    public void createTable(String name) {", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NjE0NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442566144", "bodyText": "A TableClient already requires a tableName in order to create one, which implies to me that a given instance of TableClient only operates on the table that was specified when it was created. So if that's the case, we should avoid making the customer pass the table name again here.", "author": "bsiegel", "createdAt": "2020-06-19T00:14:04Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            //use azure core errors? based on\n+            System.out.println(\"Create Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //delete  table\n+        try {\n+            tableServiceClient.deleteTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            System.out.println(\"Delete Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //query tables\n+        String selectString = \"$selectString= TableName eq 'OfficeSupplies'\";\n+\n+        try {\n+            List<AzureTable> responseTables = tableServiceClient.queryTables(selectString);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Table Query Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //insert entity\n+        String tableName = \"OfficeSupplies\";", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2NjM4Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442566386", "bodyText": "Presumably you could just pass null as the tableEntityProperties too right? I suppose there isn't much use in inserting an empty row into the table, but if they want to do so, null should work too.", "author": "bsiegel", "createdAt": "2020-06-19T00:15:02Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            //use azure core errors? based on\n+            System.out.println(\"Create Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //delete  table\n+        try {\n+            tableServiceClient.deleteTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            System.out.println(\"Delete Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //query tables\n+        String selectString = \"$selectString= TableName eq 'OfficeSupplies'\";\n+\n+        try {\n+            List<AzureTable> responseTables = tableServiceClient.queryTables(selectString);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Table Query Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //insert entity\n+        String tableName = \"OfficeSupplies\";\n+        String row = \"crayola markers\";\n+        String partitionKey = \"markers\";\n+        HashMap<String, Object> tableEntityProperties = new HashMap<>();", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2Nzk4MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442567980", "bodyText": "This is good. The service will update some properties on the entity such as the internal ETag value, so the customer should always save and reuse the return value, rather than the original tableEntity.\nActually that makes me think that it might be hard to explain that to customers. If they don't save this value and instead keep using the instance created on L57 to perform updates, that should fail because that instance doesn't have the ETag. This leads me to think that maybe our insertEntity call should just accept the row, partitionKey, and properties directly. That way the customer won't create a TableEntity instance that could get them into trouble later on.", "author": "bsiegel", "createdAt": "2020-06-19T00:21:33Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            //use azure core errors? based on\n+            System.out.println(\"Create Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //delete  table\n+        try {\n+            tableServiceClient.deleteTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            System.out.println(\"Delete Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //query tables\n+        String selectString = \"$selectString= TableName eq 'OfficeSupplies'\";\n+\n+        try {\n+            List<AzureTable> responseTables = tableServiceClient.queryTables(selectString);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Table Query Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //insert entity\n+        String tableName = \"OfficeSupplies\";\n+        String row = \"crayola markers\";\n+        String partitionKey = \"markers\";\n+        HashMap<String, Object> tableEntityProperties = new HashMap<>();\n+        TableEntity tableEntity = new TableEntity(tableName, row, partitionKey, tableEntityProperties);\n+        try {\n+            tableEntity = tableClient.insertEntity(tableEntity);", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2ODMxMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442568313", "bodyText": "Should there also be a way to get a single TableEntity by its row & partition key? e.g. @Nullable public TableEntity getEntity(String rowKey, String partitionKey)?", "author": "bsiegel", "createdAt": "2020-06-19T00:22:46Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClient.java", "diffHunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+@ServiceClient(\n+    builder = TableClientBuilder.class)\n+public class TableClient {\n+    String tableName;\n+\n+    TableClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param selectString odata select string\n+     * @param filterString odata filter string\n+     * @return a list of the tables that fit the query\n+     */\n+    public List<TableEntity> queryEntity(String selectString, String filterString) {", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk0NjY1OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447946659", "bodyText": "Did we still want to resolve this comment?", "author": "bsiegel", "createdAt": "2020-06-30T20:04:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2ODMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2ODUwMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442568500", "bodyText": "We should probably be consistent with the service and call these params rowKey and partitionKey everywhere.", "author": "bsiegel", "createdAt": "2020-06-19T00:23:33Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClient.java", "diffHunk": "@@ -0,0 +1,91 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+@ServiceClient(\n+    builder = TableClientBuilder.class)\n+public class TableClient {\n+    String tableName;\n+\n+    TableClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param selectString odata select string\n+     * @param filterString odata filter string\n+     * @return a list of the tables that fit the query\n+     */\n+    public List<TableEntity> queryEntity(String selectString, String filterString) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given properties and return that TableEntity\n+     *\n+     * @param row                   the RowKey\n+     * @param partition             the PartitionKey\n+     * @param tableEntityProperties a map of properties for the TableEntity\n+     * @return the created TableEntity\n+     */\n+    public TableEntity insertEntity(String row, String partition, Map<String, Object> tableEntityProperties) {", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk0NjcxNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447946714", "bodyText": "Did we still want to resolve this comment?", "author": "bsiegel", "createdAt": "2020-06-30T20:04:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2ODUwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2OTM0NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442569344", "bodyText": "Would it make sense to have a version of deleteEntity that just takes the row and partitionKey parameters? To avoid forcing the customer to get a TableEntity object just to delete it from the table (also if every API call costs the customer money, making a delete go from 2 to 1 REST calls is important).\nUnlike the update/upsert operations, I don't think we need to provide an ETag in order to delete - I don't believe there is a potential concurrency problem there because we're not mutating properties on the row. If the service does require it then I guess there's nothing we can do here.", "author": "bsiegel", "createdAt": "2020-06-19T00:26:44Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            //use azure core errors? based on\n+            System.out.println(\"Create Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //delete  table\n+        try {\n+            tableServiceClient.deleteTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            System.out.println(\"Delete Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //query tables\n+        String selectString = \"$selectString= TableName eq 'OfficeSupplies'\";\n+\n+        try {\n+            List<AzureTable> responseTables = tableServiceClient.queryTables(selectString);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Table Query Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //insert entity\n+        String tableName = \"OfficeSupplies\";\n+        String row = \"crayola markers\";\n+        String partitionKey = \"markers\";\n+        HashMap<String, Object> tableEntityProperties = new HashMap<>();\n+        TableEntity tableEntity = new TableEntity(tableName, row, partitionKey, tableEntityProperties);\n+        try {\n+            tableEntity = tableClient.insertEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Insert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //update entity\n+        tableEntity.addProperty(\"Seller\", \"Crayola\");\n+        try {\n+            tableClient.updateEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Update Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //upsert entity (where it is an insert or replace)\n+        tableEntity.addProperty(\"Price\", \"5\");\n+        try {\n+            tableClient.insertOrReplaceEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Upsert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+        //upsert entity (where it is an insert or merge)\n+        tableEntity.addProperty(\"Price\", \"5\");\n+        try {\n+            tableClient.insertOrMergeEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Upsert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //delete entity\n+        try {\n+            tableClient.deleteEntity(tableEntity);", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk0Njc2MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447946760", "bodyText": "Did we still want to resolve this comment?", "author": "bsiegel", "createdAt": "2020-06-30T20:04:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU2OTM0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3MDE4OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442570188", "bodyText": "Should we also expose the top OData parameter? I'm of the mind we should either have 3 params, one for each OData parameter, or only a single query parameter (leaning towards the second option since we can make a QueryBuilder to help create query strings).", "author": "bsiegel", "createdAt": "2020-06-19T00:29:55Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            //use azure core errors? based on\n+            System.out.println(\"Create Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //delete  table\n+        try {\n+            tableServiceClient.deleteTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            System.out.println(\"Delete Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //query tables\n+        String selectString = \"$selectString= TableName eq 'OfficeSupplies'\";\n+\n+        try {\n+            List<AzureTable> responseTables = tableServiceClient.queryTables(selectString);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Table Query Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //insert entity\n+        String tableName = \"OfficeSupplies\";\n+        String row = \"crayola markers\";\n+        String partitionKey = \"markers\";\n+        HashMap<String, Object> tableEntityProperties = new HashMap<>();\n+        TableEntity tableEntity = new TableEntity(tableName, row, partitionKey, tableEntityProperties);\n+        try {\n+            tableEntity = tableClient.insertEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Insert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //update entity\n+        tableEntity.addProperty(\"Seller\", \"Crayola\");\n+        try {\n+            tableClient.updateEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Update Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //upsert entity (where it is an insert or replace)\n+        tableEntity.addProperty(\"Price\", \"5\");\n+        try {\n+            tableClient.insertOrReplaceEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Upsert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+        //upsert entity (where it is an insert or merge)\n+        tableEntity.addProperty(\"Price\", \"5\");\n+        try {\n+            tableClient.insertOrMergeEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Upsert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //delete entity\n+        try {\n+            tableClient.deleteEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Delete Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //query a table\n+        String filterString2 = \"$filter = Product eq 'markers'\";\n+        String selectString2 = \"$select = Seller eq 'crayola'\";\n+        try {", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3MDU4OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442570588", "bodyText": "$select is just a comma+space separated list of fields you want to return - this isn't a valid $select string. Maybe \"$select=Seller, Price\"?", "author": "bsiegel", "createdAt": "2020-06-19T00:31:45Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            //use azure core errors? based on\n+            System.out.println(\"Create Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //delete  table\n+        try {\n+            tableServiceClient.deleteTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            System.out.println(\"Delete Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //query tables\n+        String selectString = \"$selectString= TableName eq 'OfficeSupplies'\";\n+\n+        try {\n+            List<AzureTable> responseTables = tableServiceClient.queryTables(selectString);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Table Query Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //insert entity\n+        String tableName = \"OfficeSupplies\";\n+        String row = \"crayola markers\";\n+        String partitionKey = \"markers\";\n+        HashMap<String, Object> tableEntityProperties = new HashMap<>();\n+        TableEntity tableEntity = new TableEntity(tableName, row, partitionKey, tableEntityProperties);\n+        try {\n+            tableEntity = tableClient.insertEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Insert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //update entity\n+        tableEntity.addProperty(\"Seller\", \"Crayola\");\n+        try {\n+            tableClient.updateEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Update Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //upsert entity (where it is an insert or replace)\n+        tableEntity.addProperty(\"Price\", \"5\");\n+        try {\n+            tableClient.insertOrReplaceEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Upsert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+        //upsert entity (where it is an insert or merge)\n+        tableEntity.addProperty(\"Price\", \"5\");\n+        try {\n+            tableClient.insertOrMergeEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Upsert Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //delete entity\n+        try {\n+            tableClient.deleteEntity(tableEntity);\n+        } catch (HttpResponseException e) {\n+            System.out.println(\"Delete Entity Unsuccessful. Error: \" + e);\n+        }\n+\n+\n+        //query a table\n+        String filterString2 = \"$filter = Product eq 'markers'\";\n+        String selectString2 = \"$select = Seller eq 'crayola'\";", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3MDk3MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442570970", "bodyText": "I think this is actually a filter string - just need to update the name (String filterString) and the prefix ($filter=)", "author": "bsiegel", "createdAt": "2020-06-19T00:33:25Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,109 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+\n+public class TableClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            //use azure core errors? based on\n+            System.out.println(\"Create Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //delete  table\n+        try {\n+            tableServiceClient.deleteTable(\"OfficeSupplies\");\n+        } catch (TableServiceErrorException e) {\n+            System.out.println(\"Delete Table Unsuccessful. Error: \" + e);\n+        }\n+\n+        //query tables\n+        String selectString = \"$selectString= TableName eq 'OfficeSupplies'\";", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3MjAzNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442572036", "bodyText": "Also not sure if it's required, but all the example I see for the OData syntax seem to have no whitespace around the equals sign, so maybe go through and remove it in any of your OData filters and selects just to be consistent.", "author": "bsiegel", "createdAt": "2020-06-19T00:38:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3MDk3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3MjI3NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442572274", "bodyText": "Pretty much all of my comments from the sync snippets would apply here as well.", "author": "bsiegel", "createdAt": "2020-06-19T00:39:14Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientAsyncCodeSnippets.java", "diffHunk": "@@ -0,0 +1,131 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class TableClientAsyncCodeSnippets {", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU3MjM2NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r442572365", "bodyText": "This value is unused.", "author": "bsiegel", "createdAt": "2020-06-19T00:39:38Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientAsyncCodeSnippets.java", "diffHunk": "@@ -0,0 +1,131 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class TableClientAsyncCodeSnippets {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        // Add a table\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            System.out.println(\"Table creation successful.\");\n+        }, error -> {\n+            System.out.println(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+        // Delete a table\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {\n+            System.out.println(\"Table deletion successful\");\n+        }, error -> {\n+            System.out.println(\"There was an error deleting the table. Error: \" + error);\n+        });\n+\n+\n+        // Query tables\n+        String selectString = \"$select= TableName eq 'OfficeSupplies'\";\n+        tableServiceAsyncClient.queryTables(selectString).subscribe(azureTable -> {\n+            System.out.println(azureTable.getName());\n+        }, error -> {\n+            System.out.println(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    public void InsertEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getClient(\"OfficeSupplies\");\n+        String tableName = \"OfficeSupplies\";", "originalCommit": "89bc12c01dec1263ee177224ca1ec89ed8b4c504", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM3MDE3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r446370179", "bodyText": "This file shouldn't be in sdk/cosmos", "author": "conniey", "createdAt": "2020-06-26T19:27:30Z", "path": "sdk/cosmos/azure-cosmos-table/pom.xml", "diffHunk": "@@ -0,0 +1,110 @@\n+<!--", "originalCommit": "0584356722e2984f0d1758509b0bdead82516f3d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM3MDY0NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r446370644", "bodyText": "nit: unnecessary empty lines. There are several places where you have 2 empty lines instead of one.", "author": "conniey", "createdAt": "2020-06-26T19:28:32Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,120 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.Map;\n+\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    String tableName;\n+\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+", "originalCommit": "0584356722e2984f0d1758509b0bdead82516f3d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM3MTI4Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r446371283", "bodyText": "We don't align parameter names. If you edit your Settings, Code Style, Java, you can uncheck \"Align parameter description\" and \"Align thrown exception description\".\nhttps://www.jetbrains.com/help/idea/code-style-java.html#javadoc", "author": "conniey", "createdAt": "2020-06-26T19:30:06Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,120 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.Map;\n+\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    String tableName;\n+\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+\n+    /**\n+     * returns the table associated with this table client\n+     *\n+     * @param tableName the name of the table\n+     * @return the table\n+     */\n+    public Mono<AzureTable> getTable(String tableName) {\n+        return null;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param top          odata top parameter", "originalCommit": "0584356722e2984f0d1758509b0bdead82516f3d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM3MTY0Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r446371642", "bodyText": "This file name should be TableServiceAsyncClientCodeSnippets.", "author": "conniey", "createdAt": "2020-06-26T19:30:53Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientAsyncCodeSnippets.java", "diffHunk": "@@ -0,0 +1,130 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class TableClientAsyncCodeSnippets {", "originalCommit": "0584356722e2984f0d1758509b0bdead82516f3d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM3NDAwNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r446374007", "bodyText": "'null', 'null' is weird to see as the first parameters. I usually organize my parameters by how important or mandatory they are. In this case, top and select are options. How about an options class?\nIs filterString mandatory?\nclass TableQueryOptions {\n    TableQueryOptions setTop(int top);\n    TableQueryOptions setSelect(String select);\n}\n\nclass TableServiceAsyncClient {\n    PagedFlux<TableEntity> queryTables(String filter);\n    PagedFlux<TableEntity> queryTables(String filter, TableQueryOptions queryOptions);\n}\nSo your snippet would look like:\ntableServiceAsyncClient.queryTables(filterString);", "author": "conniey", "createdAt": "2020-06-26T19:36:39Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientAsyncCodeSnippets.java", "diffHunk": "@@ -0,0 +1,130 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class TableClientAsyncCodeSnippets {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        // Add a table\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            System.out.println(\"Table creation successful.\");\n+        }, error -> {\n+            System.out.println(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+        // Delete a table\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {\n+            System.out.println(\"Table deletion successful\");\n+        }, error -> {\n+            System.out.println(\"There was an error deleting the table. Error: \" + error);\n+        });\n+\n+\n+        // Query tables\n+        String filterString = \"$filter=TableName eq 'OfficeSupplies'\";\n+        tableServiceAsyncClient.queryTables(null, null, filterString).subscribe(azureTable -> {", "originalCommit": "0584356722e2984f0d1758509b0bdead82516f3d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjM3NDY1Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r446374657", "bodyText": "Is tableEntityProperties mandatory? If not, would we want an overload that doesn't take this HashMap?", "author": "conniey", "createdAt": "2020-06-26T19:38:20Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientAsyncCodeSnippets.java", "diffHunk": "@@ -0,0 +1,130 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import reactor.core.publisher.Mono;\n+\n+import java.util.HashMap;\n+\n+\n+public class TableClientAsyncCodeSnippets {\n+\n+\n+    public void AsyncSnippets() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        // Add a table\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            System.out.println(\"Table creation successful.\");\n+        }, error -> {\n+            System.out.println(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+        // Delete a table\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {\n+            System.out.println(\"Table deletion successful\");\n+        }, error -> {\n+            System.out.println(\"There was an error deleting the table. Error: \" + error);\n+        });\n+\n+\n+        // Query tables\n+        String filterString = \"$filter=TableName eq 'OfficeSupplies'\";\n+        tableServiceAsyncClient.queryTables(null, null, filterString).subscribe(azureTable -> {\n+            System.out.println(azureTable.getName());\n+        }, error -> {\n+            System.out.println(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    public void InsertEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getClient(\"OfficeSupplies\");\n+        String row = \"crayolaMarkers\";\n+        String partitionKey = \"markers\";\n+        HashMap<String, Object> tableEntityProperties = new HashMap<>();", "originalCommit": "0584356722e2984f0d1758509b0bdead82516f3d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM0OTc3Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447349776", "bodyText": "For consistency, I would probably make this method simply public AzureTable getTable(String name), and add a getClient() method on the AzureTable class.", "author": "bsiegel", "createdAt": "2020-06-30T01:14:42Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClient.java", "diffHunk": "@@ -0,0 +1,55 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class)\n+public class TableServiceClient {\n+\n+    TableServiceClient() {\n+    }\n+\n+    /**\n+     * creates the table with the given name.  If a table with the same name already exists, the operation fails.\n+     *\n+     * @param name the name of the table to create\n+     */\n+    public AzureTable createTable(String name) {\n+        return null;\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param name\n+     */\n+    public void deleteTable(String name) {\n+    }\n+\n+    /**\n+     * retrieves the table client for the provided table or creates one if it doesn't exist\n+     *\n+     * @param name the name of the table\n+     * @return associated TableClient\n+     */\n+    public TableClient getTableClient(String name) {", "originalCommit": "64ca9dcfa23dc6d0f9c24714fe6e50e6dbe6358f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM1MDUyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447350525", "bodyText": "I don't think this has value, since the only things we can get from an AzureTable are its name, which we already have (tableName) and a TableClient for the table, which this is. I would just remove this method.", "author": "bsiegel", "createdAt": "2020-06-30T01:17:20Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClient.java", "diffHunk": "@@ -0,0 +1,112 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+@ServiceClient(\n+    builder = TableClientBuilder.class)\n+public class TableClient {\n+    String tableName;\n+\n+    TableClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * returns the table associated with this TableClient\n+     *\n+     * @param tableName name of the table\n+     * @return the AzureTable\n+     */\n+    public AzureTable getTable(String tableName) {", "originalCommit": "64ca9dcfa23dc6d0f9c24714fe6e50e6dbe6358f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM1MTc3MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447351770", "bodyText": "I definitely see the value in insertEntity(TableEntity), and I -think- I could be convinced that we should have a convenience method that takes all the properties needed to create a TableEntity (i.e. insertEntity(row, partition, properties)), but I'm not clear if having a method that just takes row and partition without any properties, just to insert an empty entity in the table, is actually useful to the consumer.\nI think I would start with having just a single insertEntity(TableEntity) method, and we can always add more later if UX study indicates it would be useful, but we can't take them away once they ship.", "author": "bsiegel", "createdAt": "2020-06-30T01:21:42Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClient.java", "diffHunk": "@@ -0,0 +1,112 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+@ServiceClient(\n+    builder = TableClientBuilder.class)\n+public class TableClient {\n+    String tableName;\n+\n+    TableClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * returns the table associated with this TableClient\n+     *\n+     * @param tableName name of the table\n+     * @return the AzureTable\n+     */\n+    public AzureTable getTable(String tableName) {\n+        return null;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param top odata top integer\n+     * @param selectString odata select string\n+     * @param filterString odata filter string\n+     * @return a list of the tables that fit the query\n+     */\n+    public List<TableEntity> queryEntity(Integer top, String selectString, String filterString) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given properties and return that TableEntity\n+     *\n+     * @param row the RowKey\n+     * @param partition the PartitionKey\n+     * @param tableEntityProperties a map of properties for the TableEntity\n+     * @return the created TableEntity\n+     */\n+    public TableEntity insertEntity(String row, String partition, Map<String, Object> tableEntityProperties) {\n+        return new TableEntity();\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given row and partition key and return that TableEntity\n+     * @param row row key\n+     * @param partition partition key\n+     * @return the created TableEntity\n+     */\n+    public TableEntity insertEntity(String row, String partition) {", "originalCommit": "64ca9dcfa23dc6d0f9c24714fe6e50e6dbe6358f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM1MjMxOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447352318", "bodyText": "Should assign this to a result value AzureTable officeSuppliesTable = ...", "author": "bsiegel", "createdAt": "2020-06-30T01:23:44Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,99 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+\n+import java.util.List;\n+\n+public class TableServiceClientCodeSnippets {\n+\n+    public static void methods() {\n+\n+        //create a tableServiceClient\n+        TableServiceClient tableServiceClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildClient();\n+\n+        //create TableClient\n+        TableClient tableClient = new TableClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .tableName(\"OfficeSupplies\")\n+            .buildClient();\n+\n+        //create a table\n+        try {\n+            tableServiceClient.createTable(\"OfficeSupplies\");", "originalCommit": "64ca9dcfa23dc6d0f9c24714fe6e50e6dbe6358f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM1Mzc0OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r447353749", "bodyText": "Should we have a version of this method that takes an AzureTable object as well? Not sure myself, open for debate.", "author": "bsiegel", "createdAt": "2020-06-30T01:28:28Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClient.java", "diffHunk": "@@ -0,0 +1,55 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class)\n+public class TableServiceClient {\n+\n+    TableServiceClient() {\n+    }\n+\n+    /**\n+     * creates the table with the given name.  If a table with the same name already exists, the operation fails.\n+     *\n+     * @param name the name of the table to create\n+     */\n+    public AzureTable createTable(String name) {\n+        return null;\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param name\n+     */\n+    public void deleteTable(String name) {", "originalCommit": "64ca9dcfa23dc6d0f9c24714fe6e50e6dbe6358f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUxOTU3MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448519570", "bodyText": "Should be private", "author": "conniey", "createdAt": "2020-07-01T17:41:25Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.Map;\n+\n+/**\n+ * class for the table async client\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    final String tableName;", "originalCommit": "50406a679364125b3a827777126355a92fe0cfc1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU0OTU2NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r439549564", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                TableClient tableClientBuilder = new TableClientBuilder();\n          \n          \n            \n                TableClient tableClient = new TableClientBuilder();", "author": "srnagar", "createdAt": "2020-06-12T17:24:20Z", "path": "sdk/cosmos/azure-cosmos-table/src/main/java/com/azure/cosmos/table/implementation/CodeSnippets.java", "diffHunk": "@@ -0,0 +1,53 @@\n+package com.azure.cosmos.table.implementation;\n+\n+import com.azure.cosmos.table.implementation.models.TableEntityQueryResponse;\n+\n+import javax.swing.*;\n+import java.util.Observable;\n+\n+public class CodeSnippets {\n+    //add a table\n+\n+    //sync\n+    TableClient tableClientBuilder = new TableClientBuilder();", "originalCommit": "f2266b66d3c8b8058477e464b8d17660cc3ab02e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU0OTk3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r439549975", "bodyText": "This should be called buildClient for sync client and buildAsyncClient for async client.", "author": "srnagar", "createdAt": "2020-06-12T17:25:07Z", "path": "sdk/cosmos/azure-cosmos-table/src/main/java/com/azure/cosmos/table/implementation/CodeSnippets.java", "diffHunk": "@@ -0,0 +1,53 @@\n+package com.azure.cosmos.table.implementation;\n+\n+import com.azure.cosmos.table.implementation.models.TableEntityQueryResponse;\n+\n+import javax.swing.*;\n+import java.util.Observable;\n+\n+public class CodeSnippets {\n+    //add a table\n+\n+    //sync\n+    TableClient tableClientBuilder = new TableClientBuilder();\n+        .endpoint(foo)\n+        .credential(new DefaultAzureCredential()\n+        .build();", "originalCommit": "f2266b66d3c8b8058477e464b8d17660cc3ab02e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1MDc5MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r439550791", "bodyText": "Remove this line.", "author": "srnagar", "createdAt": "2020-06-12T17:26:40Z", "path": "sdk/cosmos/azure-cosmos-table/src/main/java/com/azure/cosmos/table/implementation/CodeSnippets.java", "diffHunk": "@@ -0,0 +1,53 @@\n+package com.azure.cosmos.table.implementation;\n+\n+import com.azure.cosmos.table.implementation.models.TableEntityQueryResponse;\n+\n+import javax.swing.*;\n+import java.util.Observable;\n+\n+public class CodeSnippets {\n+    //add a table\n+\n+    //sync\n+    TableClient tableClientBuilder = new TableClientBuilder();\n+        .endpoint(foo)\n+        .credential(new DefaultAzureCredential()\n+        .build();\n+\n+     .connectionString", "originalCommit": "f2266b66d3c8b8058477e464b8d17660cc3ab02e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1MTIyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r439551225", "bodyText": "We should have a single builder that can build both sync and async clients.", "author": "srnagar", "createdAt": "2020-06-12T17:27:32Z", "path": "sdk/cosmos/azure-cosmos-table/src/main/java/com/azure/cosmos/table/implementation/CodeSnippets.java", "diffHunk": "@@ -0,0 +1,53 @@\n+package com.azure.cosmos.table.implementation;\n+\n+import com.azure.cosmos.table.implementation.models.TableEntityQueryResponse;\n+\n+import javax.swing.*;\n+import java.util.Observable;\n+\n+public class CodeSnippets {\n+    //add a table\n+\n+    //sync\n+    TableClient tableClientBuilder = new TableClientBuilder();\n+        .endpoint(foo)\n+        .credential(new DefaultAzureCredential()\n+        .build();\n+\n+     .connectionString\n+\n+    AzureTable azureTable = tableClientBuilder.createTableIfNotExists(\"tableName\");\n+\n+    //aysnc\n+    TableAysncClientBuilder tableAysncClient = new TableAsyncClientBuilder();", "originalCommit": "f2266b66d3c8b8058477e464b8d17660cc3ab02e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1MTUxMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r439551512", "bodyText": "Remove this line", "author": "srnagar", "createdAt": "2020-06-12T17:28:04Z", "path": "sdk/cosmos/azure-cosmos-table/src/main/java/com/azure/cosmos/table/implementation/CodeSnippets.java", "diffHunk": "@@ -0,0 +1,53 @@\n+package com.azure.cosmos.table.implementation;\n+\n+import com.azure.cosmos.table.implementation.models.TableEntityQueryResponse;\n+\n+import javax.swing.*;\n+import java.util.Observable;\n+\n+public class CodeSnippets {\n+    //add a table\n+\n+    //sync\n+    TableClient tableClientBuilder = new TableClientBuilder();\n+        .endpoint(foo)\n+        .credential(new DefaultAzureCredential()\n+        .build();\n+\n+     .connectionString\n+\n+    AzureTable azureTable = tableClientBuilder.createTableIfNotExists(\"tableName\");\n+\n+    //aysnc\n+    TableAysncClientBuilder tableAysncClient = new TableAsyncClientBuilder();\n+        .pipeline(\"pipline\")\n+        .build();\n+     AzureTable  azureTable2;", "originalCommit": "f2266b66d3c8b8058477e464b8d17660cc3ab02e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU1MTg5Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r439551896", "bodyText": "Should this be assigned to something?", "author": "srnagar", "createdAt": "2020-06-12T17:28:55Z", "path": "sdk/cosmos/azure-cosmos-table/src/main/java/com/azure/cosmos/table/implementation/CodeSnippets.java", "diffHunk": "@@ -0,0 +1,53 @@\n+package com.azure.cosmos.table.implementation;\n+\n+import com.azure.cosmos.table.implementation.models.TableEntityQueryResponse;\n+\n+import javax.swing.*;\n+import java.util.Observable;\n+\n+public class CodeSnippets {\n+    //add a table\n+\n+    //sync\n+    TableClient tableClientBuilder = new TableClientBuilder();\n+        .endpoint(foo)\n+        .credential(new DefaultAzureCredential()\n+        .build();\n+\n+     .connectionString\n+\n+    AzureTable azureTable = tableClientBuilder.createTableIfNotExists(\"tableName\");\n+\n+    //aysnc\n+    TableAysncClientBuilder tableAysncClient = new TableAsyncClientBuilder();\n+        .pipeline(\"pipline\")\n+        .build();\n+     AzureTable  azureTable2;\n+        Mono<AzureTable> createTableMono = tableAysncClient.createTable(\"tableName\");\n+        createTableMono\n+            .subscribe(\n+                response -> {\n+                    azureTable2 =", "originalCommit": "f2266b66d3c8b8058477e464b8d17660cc3ab02e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUyMDY2MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448520660", "bodyText": "I don't think any storage packages are imported in this PR. So, this dependency can be removed.", "author": "srnagar", "createdAt": "2020-07-01T17:43:31Z", "path": "sdk/tables/azure-data-tables/pom.xml", "diffHunk": "@@ -42,6 +42,47 @@ Licensed under the MIT License.\n       <artifactId>azure-core</artifactId>\n       <version>1.5.1</version> <!-- {x-version-update;com.azure:azure-core;dependency} -->\n     </dependency>\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-storage-common</artifactId>\n+      <version>12.7.0</version>  <!-- {x-version-update;com.azure:azure-storage-common;dependency} -->\n+    </dependency>", "originalCommit": "50406a679364125b3a827777126355a92fe0cfc1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0NTkxMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451045910", "bodyText": "Is this dependency required?", "author": "srnagar", "createdAt": "2020-07-07T17:58:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUyMDY2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUyNDA0Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448524046", "bodyText": "Should this return Mono<TableEntity> instead? Since insertEntity() is returning the inserted entity in the API above. Similarly, mergeEntity, insertOrReplaceEntity and insertOrReplaceEntity should all return the TableEntity that is resulting from these operations.", "author": "srnagar", "createdAt": "2020-07-01T17:50:00Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.Map;\n+\n+/**\n+ * class for the table async client\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    final String tableName;\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a paged flux of all the entity which fit this criteria\n+     */\n+    public PagedFlux<TableEntity> queryEntity(QueryOptions queryOptions) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given properties and return that TableEntity\n+     *\n+     * @param row the RowKey\n+     * @param partition the PartitionKey\n+     * @param tableEntityProperties a map of properties for the TableEntity\n+     * @return the created TableEntity\n+     */\n+    public Mono<TableEntity> insertEntity(String row, String partition, Map<String, Object> tableEntityProperties) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a new entity into the Table attached to this client\n+     *\n+     * @param tableEntity the entity in which to insert\n+     * @return the inserted TableEntity\n+     */\n+    public Mono<TableEntity> insertEntity(TableEntity tableEntity) {\n+        return null;\n+    }\n+\n+    /**\n+     * deletes the given entity\n+     *\n+     * @param tableEntity entity to delete\n+     * @return a mono void\n+     */\n+    public Mono<Void> deleteEntity(TableEntity tableEntity) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * updates the provided TableEntity\n+     *\n+     * @param tableEntity the TableEntity to update\n+     * @return a mono void\n+     */\n+    public Mono<Void> updateEntity(TableEntity tableEntity) {", "originalCommit": "50406a679364125b3a827777126355a92fe0cfc1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUyNjczOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448526738", "bodyText": "Same comment as async client - these methods should return TableEntity.", "author": "srnagar", "createdAt": "2020-07-01T17:55:09Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClient.java", "diffHunk": "@@ -0,0 +1,112 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * sync client for table operations\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class)\n+public class TableClient {\n+    final String tableName;\n+\n+    TableClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a list of the tables that fit the query\n+     */\n+    public List<TableEntity> queryEntity(QueryOptions queryOptions) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given properties and return that TableEntity\n+     *\n+     * @param row the RowKey\n+     * @param partition the PartitionKey\n+     * @param tableEntityProperties a map of properties for the TableEntity\n+     * @return the created TableEntity\n+     */\n+    public TableEntity insertEntity(String row, String partition, Map<String, Object> tableEntityProperties) {\n+        return new TableEntity();\n+    }\n+\n+    /**\n+     * insert a new entity into the Table attached to this client\n+     *\n+     * @param tableEntity the entity in which to insert\n+     * @return the inserted TableEntity\n+     */\n+    public TableEntity insertEntity(TableEntity tableEntity) {\n+        return tableEntity;\n+    }\n+\n+    /**\n+     * deletes the given entity\n+     *\n+     * @param tableEntity entity to delete\n+     */\n+    public void deleteEntity(TableEntity tableEntity) {\n+    }\n+\n+    /**\n+     * deletes the given entity\n+     *\n+     * @param partitionKey the partition key\n+     * @param rowKey the row key\n+     */\n+    public void deleteEntity(String partitionKey, String rowKey) {\n+    }\n+\n+\n+    /**\n+     * merges the given entity with the entity which exists on the storage account\n+     *\n+     * @param tableEntity the entity with which to merge\n+     */\n+    public void mergeEntity(TableEntity tableEntity) {", "originalCommit": "5908f7edd09d334746c64b4f9009107a8372ecab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUyNzIyNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448527227", "bodyText": "This should be public.", "author": "srnagar", "createdAt": "2020-07-01T17:56:00Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientBuilder.java", "diffHunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClientBuilder;\n+\n+/**\n+ * builds table client\n+ */\n+@ServiceClientBuilder(serviceClients = {TableClient.class, TableAsyncClient.class})\n+public class TableClientBuilder {\n+    String connectionString;\n+    String tableName;\n+\n+    /**\n+     * Sets the connection string to help build the client\n+     *\n+     * @param connectionString the connection string to the storage account\n+     * @return the TableClientBuilder\n+     */\n+    public TableClientBuilder connectionString(String connectionString) {\n+        this.connectionString = connectionString;\n+        return this;\n+    }\n+\n+    /**\n+     * Sets the table name to help build the client\n+     *\n+     * @param tableName name of the table for which the client is created for\n+     * @return the TableClientBuilder\n+     */\n+    public TableClientBuilder tableName(String tableName) {\n+        this.tableName = tableName;\n+        return this;\n+    }\n+\n+    /**\n+     * builds a sync tableClient\n+     *\n+     * @return a sync tableClient\n+     */\n+    public TableClient buildClient() {\n+        return new TableClient(tableName);\n+    }\n+\n+    /**\n+     * builds an async tableClient\n+     *\n+     * @return an aysnc tableClient\n+     */\n+    public TableAsyncClient buildAsyncClient() {\n+        return new TableAsyncClient(tableName);\n+    }\n+\n+    TableClientBuilder() {\n+    }", "originalCommit": "5908f7edd09d334746c64b4f9009107a8372ecab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODUyNzUwNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448527507", "bodyText": "Builder should not have getter methods.", "author": "srnagar", "createdAt": "2020-07-01T17:56:31Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientBuilder.java", "diffHunk": "@@ -0,0 +1,66 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClientBuilder;\n+\n+/**\n+ * builds table client\n+ */\n+@ServiceClientBuilder(serviceClients = {TableClient.class, TableAsyncClient.class})\n+public class TableClientBuilder {\n+    String connectionString;\n+    String tableName;\n+\n+    /**\n+     * Sets the connection string to help build the client\n+     *\n+     * @param connectionString the connection string to the storage account\n+     * @return the TableClientBuilder\n+     */\n+    public TableClientBuilder connectionString(String connectionString) {\n+        this.connectionString = connectionString;\n+        return this;\n+    }\n+\n+    /**\n+     * Sets the table name to help build the client\n+     *\n+     * @param tableName name of the table for which the client is created for\n+     * @return the TableClientBuilder\n+     */\n+    public TableClientBuilder tableName(String tableName) {\n+        this.tableName = tableName;\n+        return this;\n+    }\n+\n+    /**\n+     * builds a sync tableClient\n+     *\n+     * @return a sync tableClient\n+     */\n+    public TableClient buildClient() {\n+        return new TableClient(tableName);\n+    }\n+\n+    /**\n+     * builds an async tableClient\n+     *\n+     * @return an aysnc tableClient\n+     */\n+    public TableAsyncClient buildAsyncClient() {\n+        return new TableAsyncClient(tableName);\n+    }\n+\n+    TableClientBuilder() {\n+    }\n+\n+    /**\n+     * gets the connection string\n+     * @return the connection string\n+     */\n+    public String getConnectionString(){\n+        return this.connectionString;\n+    }", "originalCommit": "5908f7edd09d334746c64b4f9009107a8372ecab", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU0NTg0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448545845", "bodyText": "This should take the async client as param.", "author": "srnagar", "createdAt": "2020-07-01T18:33:27Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClient.java", "diffHunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+\n+/**\n+ * client for table service\n+ */\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class)\n+public class TableServiceClient {\n+\n+    TableServiceClient() {", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMyMjM1OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r450322358", "bodyText": "This is just a skeleton of my API in order for it to compile so I will add this implementation in future PRs.", "author": "eboyd23", "createdAt": "2020-07-06T15:59:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU0NTg0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU0NzQ1MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448547451", "bodyText": "This should return Mono<TableAsyncClient>", "author": "srnagar", "createdAt": "2020-07-01T18:36:31Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,80 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async client for account operations\n+ */\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class,\n+    isAsync = true)\n+public class TableServiceAsyncClient {\n+\n+    TableServiceAsyncClient() {\n+    }\n+\n+    /**\n+     * creates the table with the given name.  If a table with the same name already exists, the operation fails.\n+     *\n+     * @param name the name of the table to create\n+     * @return a table client connected to the given table\n+     */\n+    public Mono<AzureTable> createTable(String name) {\n+        return null;\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param name the name of the table to delete\n+     * @return mono void\n+     */\n+    public Mono<Void> deleteTable(String name) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param azureTable the table to delete\n+     * @return mono void\n+     */\n+    public Mono<Void> deleteTable(AzureTable azureTable) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * retrieves the table client for the provided table or creates one if it doesn't exist\n+     *\n+     * @param name the name of the table\n+     * @return associated TableClient\n+     */\n+    public Mono<TableClient> getTableClient(String name) {", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU0ODIxMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448548211", "bodyText": "getTable() method is missing here but the async client has this method. Also, the sync service client doesn't have getTableClient() method that async service client has.", "author": "srnagar", "createdAt": "2020-07-01T18:38:05Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClient.java", "diffHunk": "@@ -0,0 +1,65 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+\n+import java.util.List;\n+\n+/**\n+ * client for table service\n+ */\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class)\n+public class TableServiceClient {\n+\n+    TableServiceClient() {\n+    }\n+\n+    /**\n+     * creates the table with the given name.  If a table with the same name already exists, the operation fails.\n+     *\n+     * @param name the name of the table to create\n+     * @return AzureTable of the created table\n+     */\n+    public AzureTable createTable(String name) {\n+        return null;\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param name the name of the table to be deleted\n+     */\n+    public void deleteTable(String name) {\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param azureTable the table to be deleted\n+     */\n+    public void deleteTable(AzureTable azureTable) {\n+    }\n+\n+    /**\n+     * gets a given table by name\n+     *\n+     * @param name the name of the table\n+     * @return associated azure table object\n+     */\n+    public AzureTable getTable(String name) {\n+        return null;\n+    }", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MDM0Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448550346", "bodyText": "Consider naming this as getTableAsyncClient(). Also, what's the difference between this getClient() and getTableClient() above?", "author": "srnagar", "createdAt": "2020-07-01T18:42:22Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceAsyncClient.java", "diffHunk": "@@ -0,0 +1,80 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async client for account operations\n+ */\n+@ServiceClient(\n+    builder = TableServiceClientBuilder.class,\n+    isAsync = true)\n+public class TableServiceAsyncClient {\n+\n+    TableServiceAsyncClient() {\n+    }\n+\n+    /**\n+     * creates the table with the given name.  If a table with the same name already exists, the operation fails.\n+     *\n+     * @param name the name of the table to create\n+     * @return a table client connected to the given table\n+     */\n+    public Mono<AzureTable> createTable(String name) {\n+        return null;\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param name the name of the table to delete\n+     * @return mono void\n+     */\n+    public Mono<Void> deleteTable(String name) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * deletes the given table. Will error if the table doesn't exists or cannot be found with the given name.\n+     *\n+     * @param azureTable the table to delete\n+     * @return mono void\n+     */\n+    public Mono<Void> deleteTable(AzureTable azureTable) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * retrieves the table client for the provided table or creates one if it doesn't exist\n+     *\n+     * @param name the name of the table\n+     * @return associated TableClient\n+     */\n+    public Mono<TableClient> getTableClient(String name) {\n+        return null;\n+    }\n+\n+    /**\n+     * query all the tables under the storage account and return them\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a flux of the tables that met this criteria\n+     */\n+    public PagedFlux<AzureTable> queryTables(QueryOptions queryOptions) {\n+        return null;\n+    }\n+\n+\n+    /**\n+     * gets the client for this table\n+     *\n+     * @param tableName the table to get the client from\n+     * @return the table client\n+     */\n+    public TableAsyncClient getClient(String tableName) {", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1MjUyMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448552522", "bodyText": "Consider adding code snippets for merge(), insertOrMerge and  insertOrReplace operations too.", "author": "srnagar", "createdAt": "2020-07-01T18:46:43Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,144 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * all methods on tables in the Tables SDK (Add, Delete, Query)\n+     */\n+    public void TableLevelMethods() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        // Add a table\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table creation successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+        // Delete a table\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table deletion successful\");\n+        }, error -> {\n+            logger.error(\"There was an error deleting the table. Error: \" + error);\n+        });\n+\n+\n+        // Query tables\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"TableName eq OfficeSupplies\");\n+        tableServiceAsyncClient.queryTables(queryOptions).subscribe(azureTable -> {\n+            logger.info(azureTable.getName());\n+        }, error -> {\n+            logger.error(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * insert entity code snippet\n+     */\n+    private void insertEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getClient(\"OfficeSupplies\");\n+        String row = \"crayolaMarkers\";\n+        String partitionKey = \"markers\";\n+\n+        tableAsyncClient.insertEntity(new TableEntity(row, partitionKey, null)).subscribe(tableEntity -> {\n+            logger.info(\"Insert Entity Successful. Entity: \" + tableEntity);\n+        }, error -> {\n+            logger.error(\"There was an error inserting the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * delete entity code snippet\n+     */\n+    private void deleteEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getClient(\"OfficeSupplies\");\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"RowKey eq crayolaMarkers\");\n+\n+        tableAsyncClient.queryEntity(queryOptions).flatMap(tableEntity -> {\n+            logger.info(\"Table Entity: \" + tableEntity);\n+            Mono<Void> deleteEntityMono = tableAsyncClient.deleteEntity(tableEntity);\n+            return deleteEntityMono;\n+        }).subscribe(Void -> {\n+            logger.info(\"Delete Entity Successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error deleting the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * update entity code snippet\n+     */\n+    private void updateEntity() {", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1NDQyMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448554423", "bodyText": "It would be easier to follow the code samples if you split the table service and table entity operations into separate methods like you have for the snippets for async client above.", "author": "srnagar", "createdAt": "2020-07-01T18:50:41Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;\n+import java.util.List;\n+\n+/**\n+ * sync code snippets for the table service\n+ */\n+public class TableServiceClientCodeSnippets {\n+\n+    /**\n+     * all the functionality of the Tables SDK written sync\n+     */\n+    public static void methods() {", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1NjI1NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448556254", "bodyText": "Should we support exists(TableEntity) method to check the existence of a table entity to make it easier for the user?", "author": "srnagar", "createdAt": "2020-07-01T18:54:27Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,113 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.Map;\n+\n+/**\n+ * class for the table async client\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    private final String tableName;\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a paged flux of all the entity which fit this criteria\n+     */\n+    public PagedFlux<TableEntity> queryEntity(QueryOptions queryOptions) {", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM0NjI0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r450346245", "bodyText": "added in a code snippet, let me know if that solution works or if I should talk with the team about adding a exists method. Thanks", "author": "eboyd23", "createdAt": "2020-07-06T16:38:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1NjI1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0NzcyNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451047724", "bodyText": "Thanks for adding it to the code snippet. It might probably be something we should include in the public API itself but that's arch board discussion. For now, we can just keep it in the samples.", "author": "srnagar", "createdAt": "2020-07-07T18:01:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1NjI1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MTAzMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451051032", "bodyText": "Also, should the name of the method be queryEntities() as it's returning a paged collection?", "author": "srnagar", "createdAt": "2020-07-07T18:08:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1NjI1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIzMDc0NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452230744", "bodyText": "yep just switched the wording. Also we just spoke yesterday in a meeting and we are adding a get() method. This could help resolve your previous concern about exists() since it could be used to test existence.", "author": "eboyd23", "createdAt": "2020-07-09T13:48:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1NjI1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1ODU3Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448558572", "bodyText": "It might be useful to add samples to show how the user can verify if a table exists.", "author": "srnagar", "createdAt": "2020-07-01T18:59:14Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,144 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * all methods on tables in the Tables SDK (Add, Delete, Query)\n+     */\n+    public void TableLevelMethods() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        // Add a table\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table creation successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+        // Delete a table\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table deletion successful\");\n+        }, error -> {\n+            logger.error(\"There was an error deleting the table. Error: \" + error);\n+        });\n+\n+\n+        // Query tables\n+        QueryOptions queryOptions = new QueryOptions();", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1ODg3MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r448558871", "bodyText": "Does the service not support updating a table?", "author": "srnagar", "createdAt": "2020-07-01T18:59:52Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,144 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * all methods on tables in the Tables SDK (Add, Delete, Query)\n+     */\n+    public void TableLevelMethods() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        // Add a table\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table creation successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error creating the table. Error: \" + error);\n+        });\n+\n+\n+        // Delete a table\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {", "originalCommit": "4c8166eab6f82a5bdea05795ba6a3a135f60ea8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM0MDE1OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r450340159", "bodyText": "No that is not one of the commands in the tables API", "author": "eboyd23", "createdAt": "2020-07-06T16:28:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODU1ODg3MQ=="}], "type": "inlineReview"}, {"oid": "b945b82e8fc58bf4844c9c010e476de2a7e74f46", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b945b82e8fc58bf4844c9c010e476de2a7e74f46", "message": "Add examples.", "committedDate": "2020-07-06T16:41:10Z", "type": "commit"}, {"oid": "2805b2eaf4cf387654fc313673799cce3f57a33c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2805b2eaf4cf387654fc313673799cce3f57a33c", "message": "rebase with changes that move Table to new folderCode Snippets, Sync done and Async in progress", "committedDate": "2020-07-06T16:41:11Z", "type": "commit"}, {"oid": "a09b66b6d875ce7b906d73133d993d20f59d8df1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a09b66b6d875ce7b906d73133d993d20f59d8df1", "message": "stashing", "committedDate": "2020-07-06T16:41:12Z", "type": "commit"}, {"oid": "bdce02505d035882862acef594d0237a7307dd6a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bdce02505d035882862acef594d0237a7307dd6a", "message": "rebase with folder changes for tables", "committedDate": "2020-07-06T16:41:12Z", "type": "commit"}, {"oid": "63f19679999ea0000bc98eb7b8ec01bdcb3a007f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/63f19679999ea0000bc98eb7b8ec01bdcb3a007f", "message": "rebase on connie's branch with test filesCode Snippets, Sync done and Async in progress", "committedDate": "2020-07-06T16:41:13Z", "type": "commit"}, {"oid": "0d9dc52576530913c2ebb2f7a5c5b7ce8db44fe6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0d9dc52576530913c2ebb2f7a5c5b7ce8db44fe6", "message": "sync + async", "committedDate": "2020-07-06T16:41:14Z", "type": "commit"}, {"oid": "87f1baa24f3ad6225d634145cdd888eeb4e523e2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/87f1baa24f3ad6225d634145cdd888eeb4e523e2", "message": "rebase with changes that move Table to new folderCode Snippets, Sync done and Async in progress", "committedDate": "2020-07-06T16:41:15Z", "type": "commit"}, {"oid": "af877ee34bc9a6089ad45c68d2e6d190777dbfa1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/af877ee34bc9a6089ad45c68d2e6d190777dbfa1", "message": "stashing", "committedDate": "2020-07-06T16:41:16Z", "type": "commit"}, {"oid": "07c6fb7da9694f3ee25ac97289c1cffdd14e898a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/07c6fb7da9694f3ee25ac97289c1cffdd14e898a", "message": "rebase with folder changes for tables", "committedDate": "2020-07-06T16:41:17Z", "type": "commit"}, {"oid": "0840acd165bf796b4c0ccd9a349ee438656f25ad", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0840acd165bf796b4c0ccd9a349ee438656f25ad", "message": "Code Snippets, Sync done and Async in progress", "committedDate": "2020-07-06T16:41:18Z", "type": "commit"}, {"oid": "5cf42ad8214121b0f588bdfa5fd88cb662d7d643", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5cf42ad8214121b0f588bdfa5fd88cb662d7d643", "message": "code snippets", "committedDate": "2020-07-06T16:41:19Z", "type": "commit"}, {"oid": "2e07c02a0b528e2ffb81e26177fd0f91c956a3fb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2e07c02a0b528e2ffb81e26177fd0f91c956a3fb", "message": "delete testing from code snippets branch", "committedDate": "2020-07-06T16:41:20Z", "type": "commit"}, {"oid": "ee74e38978d3719f71dd42a32dd6cad933d5d1b3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ee74e38978d3719f71dd42a32dd6cad933d5d1b3", "message": "adding service level client", "committedDate": "2020-07-06T16:41:21Z", "type": "commit"}, {"oid": "330f7b5fe4845a133deb489ad57fea52953270ec", "url": "https://github.com/Azure/azure-sdk-for-java/commit/330f7b5fe4845a133deb489ad57fea52953270ec", "message": "stashing async", "committedDate": "2020-07-06T16:41:21Z", "type": "commit"}, {"oid": "a409f80d5d9bdcf71cde929987c88e8076e99ff0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a409f80d5d9bdcf71cde929987c88e8076e99ff0", "message": "fixed async", "committedDate": "2020-07-06T16:41:23Z", "type": "commit"}, {"oid": "7245126b7aaee9b8bb14807af024093fafa4351e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7245126b7aaee9b8bb14807af024093fafa4351e", "message": "reformatting", "committedDate": "2020-07-06T16:41:24Z", "type": "commit"}, {"oid": "044356b812f01cf31c44c82b5f0247d4303469d3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/044356b812f01cf31c44c82b5f0247d4303469d3", "message": "fixing conflictfile name changes", "committedDate": "2020-07-06T16:43:55Z", "type": "commit"}, {"oid": "a9a61c1401415ea55d4bfa0d48dad287e4883a27", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a9a61c1401415ea55d4bfa0d48dad287e4883a27", "message": "writing in docs", "committedDate": "2020-07-06T16:44:18Z", "type": "commit"}, {"oid": "4cbcfef6f7865ad191cb7dc9c9dfad9f72b19270", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4cbcfef6f7865ad191cb7dc9c9dfad9f72b19270", "message": "fixing stash", "committedDate": "2020-07-06T16:44:19Z", "type": "commit"}, {"oid": "bdb4d426906401308b6f542bb4c1f6eb6dcd5a19", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bdb4d426906401308b6f542bb4c1f6eb6dcd5a19", "message": "fixing stash2", "committedDate": "2020-07-06T16:44:20Z", "type": "commit"}, {"oid": "c6b283ae42f77df9173208c8e9a982ba92e78db4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c6b283ae42f77df9173208c8e9a982ba92e78db4", "message": "Brandon's suggestions", "committedDate": "2020-07-06T16:44:20Z", "type": "commit"}, {"oid": "42b1fba6209dcfb91864a46674a19bf4926eb3ea", "url": "https://github.com/Azure/azure-sdk-for-java/commit/42b1fba6209dcfb91864a46674a19bf4926eb3ea", "message": "stashing changes", "committedDate": "2020-07-06T16:44:21Z", "type": "commit"}, {"oid": "40cdbf7d1a1d8fb845f53fe3802bfb375a218580", "url": "https://github.com/Azure/azure-sdk-for-java/commit/40cdbf7d1a1d8fb845f53fe3802bfb375a218580", "message": "QueryOptions added", "committedDate": "2020-07-06T16:44:22Z", "type": "commit"}, {"oid": "d8ff221cfb18cebc31c7d6357fa7991d92d2d89b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d8ff221cfb18cebc31c7d6357fa7991d92d2d89b", "message": "Added QueryOptions class", "committedDate": "2020-07-06T16:44:22Z", "type": "commit"}, {"oid": "1b2339b129edbc712a22573ccb3985de59a343aa", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1b2339b129edbc712a22573ccb3985de59a343aa", "message": "brandon comments round 2", "committedDate": "2020-07-06T16:44:23Z", "type": "commit"}, {"oid": "c2b6dd97e22e73685bae41c1fbcfd9943a3c211d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c2b6dd97e22e73685bae41c1fbcfd9943a3c211d", "message": "delete pom from cosmos tables", "committedDate": "2020-07-06T16:44:24Z", "type": "commit"}, {"oid": "cf4e00f4a1ec94fa35ac5f1a2f071fdce171c6e6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cf4e00f4a1ec94fa35ac5f1a2f071fdce171c6e6", "message": "fix query options builder", "committedDate": "2020-07-06T16:44:24Z", "type": "commit"}, {"oid": "d804bfbb690e368572eb5f4c60d72c2e4a1bb899", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d804bfbb690e368572eb5f4c60d72c2e4a1bb899", "message": "fixing javadocs error", "committedDate": "2020-07-06T16:44:25Z", "type": "commit"}, {"oid": "aba06e6024251f359747ce7da20ed1c23fa73998", "url": "https://github.com/Azure/azure-sdk-for-java/commit/aba06e6024251f359747ce7da20ed1c23fa73998", "message": "fix pom", "committedDate": "2020-07-06T16:44:26Z", "type": "commit"}, {"oid": "0f2962662a4d3053da935af6e22ceb47e11ea352", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0f2962662a4d3053da935af6e22ceb47e11ea352", "message": "checkstyles", "committedDate": "2020-07-06T16:44:27Z", "type": "commit"}, {"oid": "4ccbbc3adbb41fb9402c21dbc89144a0df5df32d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4ccbbc3adbb41fb9402c21dbc89144a0df5df32d", "message": "move samples", "committedDate": "2020-07-06T16:44:27Z", "type": "commit"}, {"oid": "155024345924fd67e584d7e7cca9461d76c09aa6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/155024345924fd67e584d7e7cca9461d76c09aa6", "message": "adding private to some local vars", "committedDate": "2020-07-06T16:44:27Z", "type": "commit"}, {"oid": "f18d4ffb47ccfd450070b2766f237eb5715f728f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f18d4ffb47ccfd450070b2766f237eb5715f728f", "message": "switching code samples", "committedDate": "2020-07-06T16:44:28Z", "type": "commit"}, {"oid": "6e725d874c8969b501d45d5dcb67ec86192214ba", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6e725d874c8969b501d45d5dcb67ec86192214ba", "message": "switch to create, update, upsert", "committedDate": "2020-07-06T16:44:28Z", "type": "commit"}, {"oid": "68a3d3f2fd077f074e42cf36baef2e2563de7098", "url": "https://github.com/Azure/azure-sdk-for-java/commit/68a3d3f2fd077f074e42cf36baef2e2563de7098", "message": "additional changes", "committedDate": "2020-07-06T16:44:29Z", "type": "commit"}, {"oid": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "url": "https://github.com/Azure/azure-sdk-for-java/commit/773eb7f68ce9104f5b55e4463828b2530c9b9bef", "message": "edits based on comments", "committedDate": "2020-07-06T16:44:29Z", "type": "commit"}, {"oid": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "url": "https://github.com/Azure/azure-sdk-for-java/commit/773eb7f68ce9104f5b55e4463828b2530c9b9bef", "message": "edits based on comments", "committedDate": "2020-07-06T16:44:29Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA0ODU3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451048579", "bodyText": "This can just be an overload of queryEntity() similar to what you have for deleteEntity().", "author": "srnagar", "createdAt": "2020-07-07T18:03:28Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import java.util.List;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * class for the table async client\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    private final String tableName;\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a paged flux of all the entity which fit this criteria\n+     */\n+    public PagedFlux<TableEntity> queryEntity(QueryOptions queryOptions) {\n+        return null;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table with the given rowKey and ParitionKey\n+     *\n+     * @param rowKey the given row key\n+     * @param partitionKey the given partition key\n+     * @return a list of the tables that fit the row and partition key\n+     */\n+    public PagedFlux<TableEntity> queryEntitiesWithPartitionAndRowKey(String rowKey, String partitionKey) {", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MDAwMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451050003", "bodyText": "We should also have *EntityWithResponse() methods for all APIs that return Mono<> but if the intent of this PR is to just show the code snippets, you can ignore this comment.", "author": "srnagar", "createdAt": "2020-07-07T18:06:05Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import java.util.List;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * class for the table async client\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    private final String tableName;\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a paged flux of all the entity which fit this criteria\n+     */\n+    public PagedFlux<TableEntity> queryEntity(QueryOptions queryOptions) {\n+        return null;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table with the given rowKey and ParitionKey\n+     *\n+     * @param rowKey the given row key\n+     * @param partitionKey the given partition key\n+     * @return a list of the tables that fit the row and partition key\n+     */\n+    public PagedFlux<TableEntity> queryEntitiesWithPartitionAndRowKey(String rowKey, String partitionKey) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given properties and return that TableEntity. Property map must include\n+     * rowKey and partitionKey\n+     *\n+     * @param tableEntityProperties a map of properties for the TableEntity\n+     * @return the created TableEntity\n+     */\n+    public Mono<TableEntity> createEntity(Map<String, Object> tableEntityProperties) {", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA1MTQ2Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451051462", "bodyText": "This doesn't have to be async as the table name is provided to the ctor.", "author": "srnagar", "createdAt": "2020-07-07T18:08:54Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import java.util.List;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * class for the table async client\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    private final String tableName;\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a paged flux of all the entity which fit this criteria\n+     */\n+    public PagedFlux<TableEntity> queryEntity(QueryOptions queryOptions) {\n+        return null;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table with the given rowKey and ParitionKey\n+     *\n+     * @param rowKey the given row key\n+     * @param partitionKey the given partition key\n+     * @return a list of the tables that fit the row and partition key\n+     */\n+    public PagedFlux<TableEntity> queryEntitiesWithPartitionAndRowKey(String rowKey, String partitionKey) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given properties and return that TableEntity. Property map must include\n+     * rowKey and partitionKey\n+     *\n+     * @param tableEntityProperties a map of properties for the TableEntity\n+     * @return the created TableEntity\n+     */\n+    public Mono<TableEntity> createEntity(Map<String, Object> tableEntityProperties) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * based on Mode it either inserts or merges if exists or inserts or merges if exists\n+     *\n+     * @param updateMode type of upsert\n+     * @param tableEntity entity to upsert\n+     * @return void\n+     */\n+    public Mono<Void> upsertEntity(UpdateMode updateMode, TableEntity tableEntity) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * based on Mode it either updates or fails if it does exists or replaces or fails if it does exists\n+     *\n+     * @param updateMode type of update\n+     * @param tableEntity entity to update\n+     * @return void\n+     */\n+    public Mono<Void> updateEntity(UpdateMode updateMode, TableEntity tableEntity) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * deletes the given entity\n+     *\n+     * @param tableEntity entity to delete\n+     * @return void\n+     */\n+    public Mono<Void> deleteEntity(TableEntity tableEntity) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * deletes the given entity\n+     *\n+     * @param partitionKey the partition key\n+     * @param rowKey the row key\n+     * @return void\n+     */\n+    public Mono<Void> deleteEntity(String partitionKey, String rowKey) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * returns the table name associated with the client\n+     *\n+     * @return table name\n+     */\n+    public Mono<String> getTableName() {", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2NTc3Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451065772", "bodyText": "In Reactor, void return types won't have onNext(). So, this message will have to be printed in onComplete() consumer. Update other samples too.\n.subscribe(ignored -> {},\n       error -> logger.error(\"...\", error),\n       () -> logger.info(\"Delete Entity Successful.\"));", "author": "srnagar", "createdAt": "2020-07-07T18:35:41Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,204 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import java.util.HashMap;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * create table code snippet\n+     */\n+    public void createTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table creation successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error creating the table. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * delete table code snippet\n+     */\n+    public void deleteTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table deletion successful\");\n+        }, error -> {\n+            logger.error(\"There was an error deleting the table. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * query tables code snippet\n+     */\n+    public void queryTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"TableName eq OfficeSupplies\");\n+\n+        tableServiceAsyncClient.queryTables(queryOptions).subscribe(azureTable -> {\n+            logger.info(azureTable.getName());\n+        }, error -> {\n+            logger.error(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * insert entity code snippet\n+     */\n+    private void insertEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        Map<String, Object> properties = new HashMap<>();\n+        properties.put(\"RowKey\", \"crayolaMarkers\");\n+        properties.put(\"PartitionKey\", \"markers\");\n+\n+        tableAsyncClient.createEntity(properties).subscribe(tableEntity -> {\n+            logger.info(\"Insert Entity Successful. Entity: \" + tableEntity);\n+        }, error -> {\n+            logger.error(\"There was an error inserting the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * delete entity code snippet\n+     */\n+    private void deleteEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"RowKey eq crayolaMarkers\");\n+\n+        tableAsyncClient.queryEntity(queryOptions).flatMap(tableEntity -> {\n+            logger.info(\"Table Entity: \" + tableEntity);\n+            Mono<Void> deleteEntityMono = tableAsyncClient.deleteEntity(tableEntity);\n+            return deleteEntityMono;\n+        }).subscribe(Void -> {\n+            logger.info(\"Delete Entity Successful.\");", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2Njg4Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451066882", "bodyText": "The builder should also support either TokenCredential or AzureKeyCredential.", "author": "srnagar", "createdAt": "2020-07-07T18:37:52Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClientBuilder.java", "diffHunk": "@@ -0,0 +1,59 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClientBuilder;\n+\n+/**\n+ * builds the table service clients\n+ */\n+@ServiceClientBuilder(serviceClients = {TableServiceClient.class, TableServiceAsyncClient.class})\n+public class TableServiceClientBuilder {\n+\n+    private String connectionString;\n+\n+    /**\n+     * Sets the connection string to help build the client\n+     *\n+     * @param connectionString the connection string to the storage account\n+     * @return the TableServiceClientBuilder\n+     */\n+    public TableServiceClientBuilder connectionString(String connectionString) {", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2NzE3Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451067177", "bodyText": "The builder should also support either TokenCredential or AzureKeyCredential.", "author": "srnagar", "createdAt": "2020-07-07T18:38:25Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableClientBuilder.java", "diffHunk": "@@ -0,0 +1,69 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClientBuilder;\n+\n+/**\n+ * builds table client\n+ */\n+@ServiceClientBuilder(serviceClients = {TableClient.class, TableAsyncClient.class})\n+public class TableClientBuilder {\n+    private String connectionString;\n+    private String tableName;\n+\n+    /**\n+     * Sets the connection string to help build the client\n+     *\n+     * @param connectionString the connection string to the storage account\n+     * @return the TableClientBuilder\n+     */\n+    public TableClientBuilder connectionString(String connectionString) {", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2ODc2Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451068763", "bodyText": "These methods should return Mono<TableEntity> - the updated/upserted entity.", "author": "srnagar", "createdAt": "2020-07-07T18:41:18Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableAsyncClient.java", "diffHunk": "@@ -0,0 +1,107 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.rest.PagedFlux;\n+import java.util.List;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * class for the table async client\n+ */\n+@ServiceClient(\n+    builder = TableClientBuilder.class,\n+    isAsync = true)\n+public class TableAsyncClient {\n+    private final String tableName;\n+\n+    TableAsyncClient(String tableName) {\n+        this.tableName = tableName;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table using the select and filter strings\n+     *\n+     * @param queryOptions the odata query object\n+     * @return a paged flux of all the entity which fit this criteria\n+     */\n+    public PagedFlux<TableEntity> queryEntity(QueryOptions queryOptions) {\n+        return null;\n+    }\n+\n+    /**\n+     * Queries and returns entities in the given table with the given rowKey and ParitionKey\n+     *\n+     * @param rowKey the given row key\n+     * @param partitionKey the given partition key\n+     * @return a list of the tables that fit the row and partition key\n+     */\n+    public PagedFlux<TableEntity> queryEntitiesWithPartitionAndRowKey(String rowKey, String partitionKey) {\n+        return null;\n+    }\n+\n+    /**\n+     * insert a TableEntity with the given properties and return that TableEntity. Property map must include\n+     * rowKey and partitionKey\n+     *\n+     * @param tableEntityProperties a map of properties for the TableEntity\n+     * @return the created TableEntity\n+     */\n+    public Mono<TableEntity> createEntity(Map<String, Object> tableEntityProperties) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * based on Mode it either inserts or merges if exists or inserts or merges if exists\n+     *\n+     * @param updateMode type of upsert\n+     * @param tableEntity entity to upsert\n+     * @return void\n+     */\n+    public Mono<Void> upsertEntity(UpdateMode updateMode, TableEntity tableEntity) {\n+        return Mono.empty();\n+    }\n+\n+    /**\n+     * based on Mode it either updates or fails if it does exists or replaces or fails if it does exists\n+     *\n+     * @param updateMode type of update\n+     * @param tableEntity entity to update\n+     * @return void\n+     */\n+    public Mono<Void> updateEntity(UpdateMode updateMode, TableEntity tableEntity) {\n+        return Mono.empty();\n+    }", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIzMzEzNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452233135", "bodyText": "I brought this up during our tables meeting and we decided we have to talk with the Tables service team since the Merge API call returns at 204 (no content) so we are still deciding how best to return something if that underlying functionality doesn't return an entity. So we are asking them about hero scenarios and what users would want from this type of function", "author": "eboyd23", "createdAt": "2020-07-09T13:51:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA2ODc2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA3MTA3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451071079", "bodyText": "This returns a paged collection. So, you might have to check each tableEntity to find out if the one that you are testing for existence actually is in the returned collection.", "author": "srnagar", "createdAt": "2020-07-07T18:45:40Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,204 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import java.util.HashMap;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * create table code snippet\n+     */\n+    public void createTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table creation successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error creating the table. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * delete table code snippet\n+     */\n+    public void deleteTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(Void -> {\n+            logger.info(\"Table deletion successful\");\n+        }, error -> {\n+            logger.error(\"There was an error deleting the table. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * query tables code snippet\n+     */\n+    public void queryTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"TableName eq OfficeSupplies\");\n+\n+        tableServiceAsyncClient.queryTables(queryOptions).subscribe(azureTable -> {\n+            logger.info(azureTable.getName());\n+        }, error -> {\n+            logger.error(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * insert entity code snippet\n+     */\n+    private void insertEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        Map<String, Object> properties = new HashMap<>();\n+        properties.put(\"RowKey\", \"crayolaMarkers\");\n+        properties.put(\"PartitionKey\", \"markers\");\n+\n+        tableAsyncClient.createEntity(properties).subscribe(tableEntity -> {\n+            logger.info(\"Insert Entity Successful. Entity: \" + tableEntity);\n+        }, error -> {\n+            logger.error(\"There was an error inserting the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * delete entity code snippet\n+     */\n+    private void deleteEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"RowKey eq crayolaMarkers\");\n+\n+        tableAsyncClient.queryEntity(queryOptions).flatMap(tableEntity -> {\n+            logger.info(\"Table Entity: \" + tableEntity);\n+            Mono<Void> deleteEntityMono = tableAsyncClient.deleteEntity(tableEntity);\n+            return deleteEntityMono;\n+        }).subscribe(Void -> {\n+            logger.info(\"Delete Entity Successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error deleting the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * upsert entity code snippet\n+     */\n+    private void upsert() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"RowKey eq crayolaMarkers\");\n+\n+        tableAsyncClient.queryEntity(queryOptions).flatMap(tableEntity -> {\n+            logger.info(\"Table Entity: \" + tableEntity);\n+            tableEntity.addProperty(\"Price\", \"5\");\n+            Mono<Void> updateEntityMono = tableAsyncClient.upsertEntity(UpdateMode.Merge, tableEntity);\n+            return updateEntityMono;\n+        }).subscribe(Void -> {\n+            logger.info(\"Update Entity Successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error updating the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * update entity code snippet\n+     */\n+    private void update() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"RowKey eq crayolaMarkers\");\n+\n+        tableAsyncClient.queryEntity(queryOptions).flatMap(tableEntity -> {\n+            logger.info(\"Table Entity: \" + tableEntity);\n+            tableEntity.addProperty(\"Price\", \"5\");\n+            Mono<Void> updateEntityMono = tableAsyncClient.updateEntity(UpdateMode.Replace, tableEntity);\n+            return updateEntityMono;\n+        }).subscribe(Void -> {\n+            logger.info(\"Update Entity Successful.\");\n+        }, error -> {\n+            logger.error(\"There was an error updating the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * query entity code snippet\n+     */\n+    private void queryEntities() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"Product eq markers\");\n+        queryOptions.setSelect(\"Seller, Price\");\n+\n+        tableAsyncClient.queryEntity(queryOptions).subscribe(tableEntity -> {\n+            logger.info(\"Table Entity: \" + tableEntity);\n+        }, error -> {\n+            logger.error(\"There was an error querying the table. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * checks to see if an entity exists code snippet\n+     */\n+    private void existsEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+\n+        tableAsyncClient.queryEntitiesWithPartitionAndRowKey(\"crayolaMarkers\", \"markers\")\n+            .subscribe(tableEntity -> {\n+            logger.info(\"Table Entity exists: \" + tableEntity);", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI1NDQ1OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452254459", "bodyText": "updated using get() method.", "author": "eboyd23", "createdAt": "2020-07-09T14:21:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA3MTA3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA3MTcwMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451071701", "bodyText": "Implementation types should not be used in public API.", "author": "srnagar", "createdAt": "2020-07-07T18:46:52Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,209 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.exception.HttpResponseException;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.azure.data.tables.implementation.models.TableServiceErrorException;", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA3Mjc4OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r451072788", "bodyText": "HTTP service builders should have all these methods:\nhttps://azure.github.io/azure-sdk/java_design.html#java-service-client-builder-consistency", "author": "srnagar", "createdAt": "2020-07-07T18:49:01Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableServiceClientBuilder.java", "diffHunk": "@@ -0,0 +1,59 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.annotation.ServiceClientBuilder;\n+\n+/**\n+ * builds the table service clients\n+ */\n+@ServiceClientBuilder(serviceClients = {TableServiceClient.class, TableServiceAsyncClient.class})\n+public class TableServiceClientBuilder {", "originalCommit": "773eb7f68ce9104f5b55e4463828b2530c9b9bef", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b048b1c031c01163bc0a3a3c5414ea9d697c580c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b048b1c031c01163bc0a3a3c5414ea9d697c580c", "message": "merge conflicts", "committedDate": "2020-07-09T13:43:33Z", "type": "commit"}, {"oid": "c763ac9daa2ed13b3f83cb1e4d6e9171e20ddeb1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c763ac9daa2ed13b3f83cb1e4d6e9171e20ddeb1", "message": "Edits based on comments", "committedDate": "2020-07-09T14:21:53Z", "type": "commit"}, {"oid": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "url": "https://github.com/Azure/azure-sdk-for-java/commit/58f9b78fe1369dd3535213bf5f504e1f45b32366", "message": "fix void async", "committedDate": "2020-07-09T16:55:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM3MDA3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452370079", "bodyText": "why did we remove azure-core-test? Don't your tests depend on TestBase?", "author": "conniey", "createdAt": "2020-07-09T17:15:10Z", "path": "sdk/tables/azure-data-tables/pom.xml", "diffHunk": "@@ -45,24 +45,36 @@ Licensed under the MIT License.\n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-storage-common</artifactId>\n-      <version>12.8.0-beta.1</version> <!-- {x-version-update;com.azure:azure-storage-common;dependency} -->\n+      <version>12.7.0</version>  <!-- {x-version-update;com.azure:azure-storage-common;dependency} -->\n     </dependency>\n     <dependency>\n       <groupId>org.junit.jupiter</groupId>\n-      <artifactId>junit-jupiter</artifactId>\n-      <version>5.6.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter;external_dependency} -->\n+      <artifactId>junit-jupiter-api</artifactId>\n+      <version>5.6.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-api;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter-engine</artifactId>\n+      <version>5.6.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-engine;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>org.junit.jupiter</groupId>\n+      <artifactId>junit-jupiter-params</artifactId>\n+      <version>5.6.2</version> <!-- {x-version-update;org.junit.jupiter:junit-jupiter-params;external_dependency} -->\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n       <groupId>io.projectreactor</groupId>\n       <artifactId>reactor-test</artifactId>\n-      <version>3.3.5.RELEASE</version>  <!-- {x-version-update;io.projectreactor:reactor-test;external_dependency} -->\n+      <version>3.3.5.RELEASE</version> <!-- {x-version-update;io.projectreactor:reactor-test;external_dependency} -->\n       <scope>test</scope>\n     </dependency>\n     <dependency>\n-      <groupId>com.azure</groupId>\n-      <artifactId>azure-core-test</artifactId>\n-      <version>1.3.1</version> <!-- {x-version-update;com.azure:azure-core-test;dependency} -->\n+      <groupId>org.mockito</groupId>", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwMjYzOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452402639", "bodyText": "Hm not sure why this happened, added it back", "author": "eboyd23", "createdAt": "2020-07-09T18:14:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM3MDA3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM3MDgzMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452370833", "bodyText": "Add the @Fluent annotation.", "author": "conniey", "createdAt": "2020-07-09T17:16:34Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/QueryOptions.java", "diffHunk": "@@ -0,0 +1,76 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.data.tables;\n+\n+/**\n+ * helps construct a query\n+ */\n+public final class QueryOptions {", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4MTM2Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452381362", "bodyText": "This and the one above are similar. Do we expect users to pass an entire map, or chain a bunch of addProperty calls?\nI'd prefer addProperty (since it is used in your samples) and remove this one. Also, addProperties should be fluent, and return this like your query options class. Also, annotate class with @Fluent", "author": "conniey", "createdAt": "2020-07-09T17:35:08Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/TableEntity.java", "diffHunk": "@@ -0,0 +1,50 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import java.util.Map;\n+\n+/**\n+ * table entity class\n+ */\n+public class TableEntity {\n+    private Map<String, Object> properties;\n+    //tableName\n+    //etag\n+\n+    /**\n+     * creates a new TableEntity\n+     *\n+     * @param properties map of properties of the entity\n+     */\n+    public TableEntity(Map<String, Object> properties) {\n+    }\n+\n+    /**\n+     * returns a map of properties\n+     *\n+     * @return map of properties of thsi entity\n+     */\n+    public Map<String, Object> getProperties() {\n+        return properties;\n+    }\n+\n+    /**\n+     * adds a new property to this entity's property map\n+     *\n+     * @param key the key of the property\n+     * @param value the value of the property\n+     */\n+    public void addProperty(String key, Object value) {\n+\n+    }\n+\n+    /**\n+     * set the properties\n+     *\n+     * @param properties properties to set to this entity\n+     */\n+    public void setProperties(Map<String, Object> properties) {", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4MTgwMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452381801", "bodyText": "This should be upper case. MERGE, REPLACE.", "author": "conniey", "createdAt": "2020-07-09T17:35:52Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/UpdateMode.java", "diffHunk": "@@ -0,0 +1,8 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+enum UpdateMode {\n+    Merge,", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4MjM1NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452382354", "bodyText": "For samples, you can use System.out.println(). ClientLogger is used within our own SDK. Samples and code snippets are for other people to copy and paste into their own code, so we prefer they use System.out.", "author": "conniey", "createdAt": "2020-07-09T17:36:51Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,199 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import java.util.HashMap;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4MzE2OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452383168", "bodyText": "System.err.println` over ClientLogger", "author": "conniey", "createdAt": "2020-07-09T17:38:26Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,199 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import java.util.HashMap;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * create table code snippet\n+     */\n+    public void createTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(\n+            Void -> {},\n+            error -> logger.error(\"There was an error creating the table. Error: \" + error),", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4MzQ3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452383475", "bodyText": "Highlight usage of the fluent model.\nvar queryOptions = new QueryOptions().setFilter(\"TableName eq OfficeSupplies\");", "author": "conniey", "createdAt": "2020-07-09T17:39:03Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,199 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import java.util.HashMap;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * create table code snippet\n+     */\n+    public void createTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(\n+            Void -> {},\n+            error -> logger.error(\"There was an error creating the table. Error: \" + error),\n+            () -> logger.info(\"Table creation successful.\"));\n+    }\n+\n+    /**\n+     * delete table code snippet\n+     */\n+    public void deleteTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(\n+            Void -> {},\n+            error -> logger.error(\"There was an error deleting the table. Error: \" + error),\n+            () -> logger.info(\"Table deletion successful.\"));\n+    }\n+\n+    /**\n+     * query tables code snippet\n+     */\n+    public void queryTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+        QueryOptions queryOptions = new QueryOptions();", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM4Mzg3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452383878", "bodyText": "No need for the intermediate local variable deleteEntityMono. Just return tableAsyncClient.delete....", "author": "conniey", "createdAt": "2020-07-09T17:39:46Z", "path": "sdk/tables/azure-data-tables/src/samples/java/TableServiceAsyncClientCodeSnippets.java", "diffHunk": "@@ -0,0 +1,199 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import java.util.HashMap;\n+import java.util.Map;\n+import reactor.core.publisher.Mono;\n+\n+/**\n+ * async code snippets for the table service\n+ */\n+public class TableServiceAsyncClientCodeSnippets {\n+    final ClientLogger logger = new ClientLogger(\"TableServiceAsyncClientCodeSnippets\");\n+\n+    /**\n+     * create table code snippet\n+     */\n+    public void createTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.createTable(\"OfficeSupplies\").subscribe(\n+            Void -> {},\n+            error -> logger.error(\"There was an error creating the table. Error: \" + error),\n+            () -> logger.info(\"Table creation successful.\"));\n+    }\n+\n+    /**\n+     * delete table code snippet\n+     */\n+    public void deleteTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        tableServiceAsyncClient.deleteTable(\"OfficeSupplies\").subscribe(\n+            Void -> {},\n+            error -> logger.error(\"There was an error deleting the table. Error: \" + error),\n+            () -> logger.info(\"Table deletion successful.\"));\n+    }\n+\n+    /**\n+     * query tables code snippet\n+     */\n+    public void queryTable() {\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+        QueryOptions queryOptions = new QueryOptions();\n+        queryOptions.setFilter(\"TableName eq OfficeSupplies\");\n+\n+        tableServiceAsyncClient.queryTables(queryOptions).subscribe(azureTable -> {\n+            logger.info(azureTable.getName());\n+        }, error -> {\n+            logger.error(\"There was an error querying the service. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * insert entity code snippet\n+     */\n+    private void insertEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        Map<String, Object> properties = new HashMap<>();\n+        properties.put(\"RowKey\", \"crayolaMarkers\");\n+        properties.put(\"PartitionKey\", \"markers\");\n+\n+        tableAsyncClient.createEntity(properties).subscribe(tableEntity -> {\n+            logger.info(\"Insert Entity Successful. Entity: \" + tableEntity);\n+        }, error -> {\n+            logger.error(\"There was an error inserting the Entity. Error: \" + error);\n+        });\n+    }\n+\n+    /**\n+     * delete entity code snippet\n+     */\n+    private void deleteEntity() {\n+\n+        // Build service client\n+        TableServiceAsyncClient tableServiceAsyncClient = new TableServiceClientBuilder()\n+            .connectionString(\"connectionString\")\n+            .buildAsyncClient();\n+\n+        TableAsyncClient tableAsyncClient = tableServiceAsyncClient.getTableAsyncClient(\"OfficeSupplies\");\n+        String rowKey = \"crayolaMarkers\";\n+        String partitionKey = \"markers\";\n+\n+        tableAsyncClient.get(rowKey, partitionKey).flatMap(tableEntity -> {\n+            logger.info(\"Table Entity: \" + tableEntity);\n+            Mono<Void> deleteEntityMono = tableAsyncClient.deleteEntity(tableEntity);\n+            return deleteEntityMono;", "originalCommit": "58f9b78fe1369dd3535213bf5f504e1f45b32366", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07e1baade298eae9e0c92cf5fd649b6b1e66a4c3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/07e1baade298eae9e0c92cf5fd649b6b1e66a4c3", "message": "connie edits", "committedDate": "2020-07-09T18:25:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQxMjgwNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12169#discussion_r452412804", "bodyText": "unneeded space", "author": "conniey", "createdAt": "2020-07-09T18:32:55Z", "path": "sdk/tables/azure-data-tables/pom.xml", "diffHunk": "@@ -45,18 +45,30 @@ Licensed under the MIT License.\n     <dependency>\n       <groupId>com.azure</groupId>\n       <artifactId>azure-storage-common</artifactId>\n-      <version>12.8.0-beta.1</version> <!-- {x-version-update;com.azure:azure-storage-common;dependency} -->\n+      <version>12.7.0</version>  <!-- {x-version-update;com.azure:azure-storage-common;dependency} -->", "originalCommit": "07e1baade298eae9e0c92cf5fd649b6b1e66a4c3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2aef60f0ac4a23cb828d994d1971b457f40c2d59", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2aef60f0ac4a23cb828d994d1971b457f40c2d59", "message": "fix pom", "committedDate": "2020-07-09T18:55:47Z", "type": "commit"}, {"oid": "d83fd306119e02d8f522fed16ba58f20db6eae53", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d83fd306119e02d8f522fed16ba58f20db6eae53", "message": "fix version", "committedDate": "2020-07-09T19:04:06Z", "type": "commit"}, {"oid": "3416f33ef4712d8e1ac668ee432d8ca065e22434", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3416f33ef4712d8e1ac668ee432d8ca065e22434", "message": "Merge branch 'master' of https://github.com/Azure/azure-sdk-for-java into codeSnippetsTables", "committedDate": "2020-07-09T19:04:56Z", "type": "commit"}, {"oid": "612014446e5ac97641c1c050575026c56080647a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/612014446e5ac97641c1c050575026c56080647a", "message": "checkstyle errors", "committedDate": "2020-07-09T20:07:18Z", "type": "commit"}]}