{"pr_number": 17530, "pr_title": "Change the method of obtaining tokens from implicit flow to pkce", "pr_createdAt": "2020-11-12T10:14:39Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/17530", "timeline": [{"oid": "09075e98f24bbf9650fa6149146fa93828286800", "url": "https://github.com/Azure/azure-sdk-for-java/commit/09075e98f24bbf9650fa6149146fa93828286800", "message": "Upgrade msal.js to a higher version", "committedDate": "2020-11-12T09:46:17Z", "type": "commit"}, {"oid": "d5104fe1389386095b27d88026b0dfbdbdb7c6c5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d5104fe1389386095b27d88026b0dfbdbdb7c6c5", "message": "add my own angular function", "committedDate": "2020-11-12T10:05:35Z", "type": "commit"}, {"oid": "7dec05cc4974190b5233f7b87d22213fc0580121", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7dec05cc4974190b5233f7b87d22213fc0580121", "message": "use my own angular function replace msal-angular", "committedDate": "2020-11-12T10:06:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQ5ODc2NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17530#discussion_r522498765", "bodyText": "Oh... please delete this.\nAnd delete related client for safe purpose.", "author": "chenrujun", "createdAt": "2020-11-12T23:24:33Z", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-active-directory/src/main/resources/static/App/Scripts/app.js", "diffHunk": "@@ -15,20 +15,45 @@ angular.module('todoApp', ['ngRoute', 'MsalAngular'])\n         }).otherwise({redirectTo: \"/Home\"});\n \n         window.applicationConfig = {\n-            clientID: 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'\n+            clientID: '762eb4c6-0597-4585-a3cb-198827bdef0c'", "originalCommit": "7dec05cc4974190b5233f7b87d22213fc0580121", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQ5OTAzMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17530#discussion_r522499031", "bodyText": "Same here.", "author": "chenrujun", "createdAt": "2020-11-12T23:24:55Z", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-active-directory/src/main/resources/static/App/Scripts/app.js", "diffHunk": "@@ -15,20 +15,45 @@ angular.module('todoApp', ['ngRoute', 'MsalAngular'])\n         }).otherwise({redirectTo: \"/Home\"});\n \n         window.applicationConfig = {\n-            clientID: 'xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx'\n+            clientID: '762eb4c6-0597-4585-a3cb-198827bdef0c'\n         };\n \n         msalProvider.init(\n             {\n-                authority: 'https://login.microsoftonline.com/xxxorg.onmicrosoft.com',\n-                clientID: applicationConfig.clientID,\n-                cacheLocation: 'localStorage',\n-                postLogoutRedirectUri: 'http://localhost:8080/logout',\n-\n-                tokenReceivedCallback: function (errorDesc, token, error, tokenType) {\n+                auth: {\n+                    clientId: \"762eb4c6-0597-4585-a3cb-198827bdef0c\",\n+                    authority: \"https://login.microsoftonline.com/7bf345ec-5c80-41a1-94ad-07ff910be5d8\",", "originalCommit": "7dec05cc4974190b5233f7b87d22213fc0580121", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUwMTUyNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17530#discussion_r522501524", "bodyText": "I remember that msal.js is not used in the application. Then can this line be deleted?", "author": "chenrujun", "createdAt": "2020-11-12T23:28:41Z", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-active-directory/src/main/resources/static/index.html", "diffHunk": "@@ -64,7 +64,7 @@ <h1>Todo List</h1>\n <script src=\"https://code.angularjs.org/1.2.25/angular-route.js\"></script>\n <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js\"></script>\n <script src=\"App/Scripts/msal.js\"></script>", "originalCommit": "7dec05cc4974190b5233f7b87d22213fc0580121", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU0NjU3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17530#discussion_r522546578", "bodyText": "we can delete msal-angular.js , but msal.js is used in my own function to obtaining tokens for \"Authorization Code Flow with PKCE\"", "author": "zhichengliu12581", "createdAt": "2020-11-13T01:13:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUwMTUyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU0OTIxMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17530#discussion_r522549210", "bodyText": "I got it. Thank you for your explanation. \ud83d\udc4d", "author": "chenrujun", "createdAt": "2020-11-13T01:21:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUwMTUyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUwMjgyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17530#discussion_r522502825", "bodyText": "Can we delete file msal-angular.js ?", "author": "chenrujun", "createdAt": "2020-11-12T23:30:27Z", "path": "sdk/spring/azure-spring-boot-samples/azure-spring-boot-sample-active-directory/src/main/resources/static/index.html", "diffHunk": "@@ -64,7 +64,7 @@ <h1>Todo List</h1>\n <script src=\"https://code.angularjs.org/1.2.25/angular-route.js\"></script>\n <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js\"></script>\n <script src=\"App/Scripts/msal.js\"></script>\n-<script src=\"App/Scripts/msal-angular.js\"></script>", "originalCommit": "7dec05cc4974190b5233f7b87d22213fc0580121", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eea39712a2e0d1a7fba12368383bda9f2cfdc825", "url": "https://github.com/Azure/azure-sdk-for-java/commit/eea39712a2e0d1a7fba12368383bda9f2cfdc825", "message": "delete related client", "committedDate": "2020-11-13T01:10:05Z", "type": "commit"}, {"oid": "dc588b8b69375a01112731bd18f6ba467967d71a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/dc588b8b69375a01112731bd18f6ba467967d71a", "message": "delete unused js file", "committedDate": "2020-11-13T01:14:19Z", "type": "commit"}, {"oid": "fb4ed7690ee6577037dcb958f7915fabea2f477c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fb4ed7690ee6577037dcb958f7915fabea2f477c", "message": "upgrade msal version to fix login question", "committedDate": "2020-11-13T07:11:58Z", "type": "commit"}, {"oid": "5a74838ee1a71ae46104ee9d581f6a8e4de26a6d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5a74838ee1a71ae46104ee9d581f6a8e4de26a6d", "message": "refresh page after obtaining the login information and remove useless function", "committedDate": "2020-11-13T07:59:01Z", "type": "commit"}]}