{"pr_number": 8858, "pr_title": "Fixing build failures in docs pipeline build", "pr_createdAt": "2020-03-09T02:42:12Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/8858", "timeline": [{"oid": "edd38210731e61294c34c59760f25b8ca46c9583", "url": "https://github.com/Azure/azure-sdk-for-java/commit/edd38210731e61294c34c59760f25b8ca46c9583", "message": "Fixing build failures due to checkstyle issues in perf-test code, adding datalake to the codesnippets configuration, and temporarily removing two code snippets from JavaDoc for Netty and OkHttp due to build issues when they are present.", "committedDate": "2020-03-09T02:41:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0MzYzMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8858#discussion_r389443632", "bodyText": "is this intentional ?", "author": "g2vinay", "createdAt": "2020-03-09T02:54:59Z", "path": "sdk/core/azure-core-http-netty/src/main/java/com/azure/core/http/netty/NettyAsyncHttpClientBuilder.java", "diffHunk": "@@ -118,10 +118,6 @@ public NettyAsyncHttpClientBuilder connectionProvider(ConnectionProvider connect\n     /**\n      * Sets the {@link ProxyOptions proxy options} that the client will use.\n      *\n-     * <p><strong>Code Samples</strong></p>\n-     *\n-     * {@codesnippet com.azure.core.http.netty.NettyAsyncHttpClientBuilder#proxy}", "originalCommit": "edd38210731e61294c34c59760f25b8ca46c9583", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0NDIyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8858#discussion_r389444229", "bodyText": "Did you read the description of this PR? :)", "author": "JonathanGiles", "createdAt": "2020-03-09T02:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0MzYzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0NDQyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8858#discussion_r389444429", "bodyText": "okay, I thought this was for perf framework style fixes only.", "author": "g2vinay", "createdAt": "2020-03-09T02:59:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0MzYzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ3NjA5Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8858#discussion_r389476096", "bodyText": "I will look into why these codesnippets have issues. Maybe using the fully qualified package name for Type might help disambiguate.", "author": "srnagar", "createdAt": "2020-03-09T06:06:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0MzYzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0NTI0Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8858#discussion_r389445243", "bodyText": "assuming, you meant perf-test to be the directory name, it should be perf-test-core", "author": "g2vinay", "createdAt": "2020-03-09T03:04:05Z", "path": "eng/code-quality-reports/src/main/resources/checkstyle/checkstyle-suppressions.xml", "diffHunk": "@@ -333,17 +314,32 @@\n   <suppress checks=\"[a-zA-Z0-9]*\" files=\"[/\\\\]cosmos[/\\\\]rx[/\\\\]examples[/\\\\]\"/>\n   <suppress checks=\"[a-zA-Z0-9]*\" files=\"[/\\\\]azure-cosmos-benchmark[/\\\\]\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.GoodLoggingCheck\"\n-            files=\"com.azure.cosmos.CosmosResponseDiagnostics\"/>  \n+            files=\"com.azure.cosmos.CosmosResponseDiagnostics\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.ThrowFromClientLoggerCheck\"\n             files=\".*[/\\\\]cosmos[/\\\\]((?!(CosmosClient|CosmosScripts|CosmosAsyncDatabase|PartitionKeyDefinition\n             |JsonSerializable|CosmosContainer|DatabaseAccount|CosmosContainerProperties|UniqueKeyPolicy|IncludedPath\n-            |CosmosConflictProperties|CosmosDatabase|ConnectionPolicy|ThrottlingRetryOptions|ClientSideRequestStatistics)).*)\"/> \n+            |CosmosConflictProperties|CosmosDatabase|ConnectionPolicy|ThrottlingRetryOptions|ClientSideRequestStatistics)).*)\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.(GoodLoggingCheck|ExternalDependencyExposedCheck)\"\n             files=\"com.azure.cosmos.JsonSerializable\"/>  <!-- exposes logger from slf4j-->\n   <suppress checks=\"javadoc\" files=\"com.azure.cosmos.CompositePathSortOrder\"/>\n   <suppress checks=\"com.azure.tools.checkstyle.checks.EnforceFinalFieldsCheck\" files=\"com.azure.cosmos.PartitionKey\"/>\n-   <suppress checks=\"com.azure.tools.checkstyle.checks.(EnforceFinalFieldsCheck|ExternalDependencyExposedCheck|NoImplInPublicAPI)\" \n-            files=\"com.azure.cosmos.ClientSideRequestStatistics\"/>   \n-  <suppress checks=\"IllegalImport\" \n+   <suppress checks=\"com.azure.tools.checkstyle.checks.(EnforceFinalFieldsCheck|ExternalDependencyExposedCheck|NoImplInPublicAPI)\"\n+            files=\"com.azure.cosmos.ClientSideRequestStatistics\"/>\n+  <suppress checks=\"IllegalImport\"\n             files=\"com.azure.cosmos.ClientSideRequestStatistics\"/> <!-- Need OperatingSystemMXBean from sun to obtain cpu info -->\n+\n+  <!-- perf-test files are not public API, so they don't need to fulfill all requirements. -->\n+  <suppress checks=\"Javadoc\" files=\".*[/\\\\]perf-test[/\\\\].*\\.java\"/>\n+  <suppress checks=\"com.azure.tools.checkstyle.checks.ThrowFromClientLoggerCheck\" files=\".*[/\\\\]perf-test[/\\\\].*\\.java\"/>\n+  <suppress checks=\"GoodLogging\" files=\".*[/\\\\]perf-test[/\\\\].*\\.java\"/>", "originalCommit": "edd38210731e61294c34c59760f25b8ca46c9583", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0NTUzNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8858#discussion_r389445536", "bodyText": "This is for perf-tests that are not core, i.e. in storage. I'm adding another rule for perf.test.core now.", "author": "JonathanGiles", "createdAt": "2020-03-09T03:05:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQ0NTI0Mw=="}], "type": "inlineReview"}, {"oid": "5c0048eddb1a6f51488f7fae317afdccd0e121fc", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5c0048eddb1a6f51488f7fae317afdccd0e121fc", "message": "Suppress logging error in com.azure.per.test.core", "committedDate": "2020-03-09T03:06:20Z", "type": "commit"}, {"oid": "5b49258534ddd8015915d28c704ed7a4c00a213c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5b49258534ddd8015915d28c704ed7a4c00a213c", "message": "Another perf-test-core suppression", "committedDate": "2020-03-09T03:17:30Z", "type": "commit"}]}