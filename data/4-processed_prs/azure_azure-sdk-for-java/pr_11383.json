{"pr_number": 11383, "pr_title": "Sync eng/common directory with azure-sdk-tools repository", "pr_createdAt": "2020-05-21T22:09:22Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11383", "timeline": [{"oid": "1d105b3cd20c97451e33bb58e1f039e2e4b478f8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1d105b3cd20c97451e33bb58e1f039e2e4b478f8", "message": "Sync eng/common directory with azure-sdk-tools repository", "committedDate": "2020-05-26T18:10:52Z", "type": "forcePushed"}, {"oid": "6a64cf3baf17f590b2d2ebb2c7bd6fee18ba15e6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6a64cf3baf17f590b2d2ebb2c7bd6fee18ba15e6", "message": "Sync eng/common directory with azure-sdk-tools repository", "committedDate": "2020-05-27T06:57:50Z", "type": "commit"}, {"oid": "6a64cf3baf17f590b2d2ebb2c7bd6fee18ba15e6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6a64cf3baf17f590b2d2ebb2c7bd6fee18ba15e6", "message": "Sync eng/common directory with azure-sdk-tools repository", "committedDate": "2020-05-27T06:57:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUxMDQwNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11383#discussion_r431510406", "bodyText": "@scbedd given this is different from what you did in your quick fix https://github.com/Azure/azure-sdk-for-java/pull/11385/files can you please take a close look to ensure this sync is correct?", "author": "weshaggard", "createdAt": "2020-05-28T00:05:01Z", "path": "eng/common/scripts/artifact-metadata-parsing.ps1", "diffHunk": "@@ -87,14 +87,16 @@ function ParseMavenPackage($pkg, $workingDirectory) {\n   $pkgVersion = $contentXML.project.version\n   $groupId = if ($contentXML.project.groupId -eq $null) { $contentXML.project.parent.groupId } else { $contentXML.project.groupId }\n   $releaseNotes = \"\"\n+  $readmeContent = \"\"\n \n   # if it's a snapshot. return $null (as we don't want to create tags for this, but we also don't want to fail)\n   if ($pkgVersion.Contains(\"SNAPSHOT\")) {\n     return $null\n   }\n \n-  if (@(Get-ChildItem -Path $pkg.DirectoryName -Recurse -Include \"$($pkg.Basename)-changelog.md\")[0]) {\n-    $releaseNotes = &\"${PSScriptRoot}/../Extract-ReleaseNotes.ps1\" -ChangeLogLocation @(Get-ChildItem -Path $pkg.DirectoryName -Recurse -Include \"$($pkg.Basename)-changelog.md\")[0]\n+  $changeLogLoc = @(Get-ChildItem -Path $pkg.DirectoryName -Recurse -Include \"$($pkg.Basename)-changelog.md\")[0]", "originalCommit": "6a64cf3baf17f590b2d2ebb2c7bd6fee18ba15e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU0NTAyNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11383#discussion_r431545025", "bodyText": "Sure.", "author": "scbedd", "createdAt": "2020-05-28T02:18:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUxMDQwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU0Njc4Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11383#discussion_r431546786", "bodyText": "After flipping back and forth between the two checkins, it definitely looks right to me.", "author": "scbedd", "createdAt": "2020-05-28T02:25:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTUxMDQwNg=="}], "type": "inlineReview"}]}