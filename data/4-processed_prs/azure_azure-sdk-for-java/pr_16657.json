{"pr_number": 16657, "pr_title": "Switch TestPipeline from variable to parameter", "pr_createdAt": "2020-10-22T05:24:39Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16657", "timeline": [{"oid": "c8dc0680b07a0595b1b3b224df993ea53cfbe2c8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c8dc0680b07a0595b1b3b224df993ea53cfbe2c8", "message": "Switch TestPipeline from variable to parameter", "committedDate": "2020-10-22T06:00:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI5MTAwNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16657#discussion_r510291006", "bodyText": "Since we are using template parameters I think it would be good to use a template condition so most pipelines don't see this step in their pipelines.", "author": "weshaggard", "createdAt": "2020-10-22T16:17:29Z", "path": "eng/pipelines/templates/stages/archetype-java-release.yml", "diffHunk": "@@ -63,7 +63,7 @@ stages:\n             steps:\n               - task: PowerShell@2\n                 displayName: Prep template pipeline for release\n-                condition: and(succeeded(),eq(variables['TestPipeline'],'true'))\n+                condition: and(succeeded(),eq('${{ parameters.TestPipeline }}','true'))", "originalCommit": "c8dc0680b07a0595b1b3b224df993ea53cfbe2c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI5MTE0Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16657#discussion_r510291147", "bodyText": "Lets switch to a template condition.", "author": "weshaggard", "createdAt": "2020-10-22T16:17:40Z", "path": "eng/pipelines/templates/jobs/archetype-sdk-client.yml", "diffHunk": "@@ -55,7 +55,7 @@ jobs:\n     steps:\n       - task: PowerShell@2\n         displayName: Prep template pipeline for release\n-        condition: and(succeeded(),eq(variables['TestPipeline'],'true'))\n+        condition: and(succeeded(),eq('${{ parameters.TestPipeline }}','true'))", "originalCommit": "c8dc0680b07a0595b1b3b224df993ea53cfbe2c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bab2e9484254982d4ea7fc0f586ad21219469373", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bab2e9484254982d4ea7fc0f586ad21219469373", "message": "Switch TestPipeline from variable to parameter", "committedDate": "2020-10-22T17:17:47Z", "type": "forcePushed"}, {"oid": "b804b0695c95ef54b99c240bbf8ba271421ae38e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b804b0695c95ef54b99c240bbf8ba271421ae38e", "message": "Switch TestPipeline from variable to parameter", "committedDate": "2020-10-22T20:19:52Z", "type": "commit"}, {"oid": "b804b0695c95ef54b99c240bbf8ba271421ae38e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b804b0695c95ef54b99c240bbf8ba271421ae38e", "message": "Switch TestPipeline from variable to parameter", "committedDate": "2020-10-22T20:19:52Z", "type": "forcePushed"}]}