{"pr_number": 7914, "pr_title": "Removed AZURE_LOG_LEVEL:3 from test.yml in AzConfig which caused azure core to fail.", "pr_createdAt": "2020-02-03T22:47:18Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/7914", "timeline": [{"oid": "1bea047d28cbd1128a26f7fc058d4fb38808b6a5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1bea047d28cbd1128a26f7fc058d4fb38808b6a5", "message": "delete slf4j dependency", "committedDate": "2020-02-03T22:42:34Z", "type": "commit"}, {"oid": "8664d0d6f8f406e925ddaa6b7e51b099dedcad3f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8664d0d6f8f406e925ddaa6b7e51b099dedcad3f", "message": "remove log level", "committedDate": "2020-02-03T23:08:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjIyOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7914#discussion_r374416229", "bodyText": "This shouldn't have been removed as it was pointing to a real issue with HttpLoggingPolicy.", "author": "srnagar", "createdAt": "2020-02-04T00:24:04Z", "path": "sdk/appconfiguration/tests.yml", "diffHunk": "@@ -10,4 +10,3 @@ jobs:\n         AZURE_CLIENT_ID: $(aad-azure-sdk-test-client-id)\n         AZURE_CLIENT_SECRET: $(aad-azure-sdk-test-client-secret)\n         AZURE_TENANT_ID: $(aad-azure-sdk-test-tenant-id)\n-        AZURE_LOG_LEVEL: 3", "originalCommit": "8664d0d6f8f406e925ddaa6b7e51b099dedcad3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjYzOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7914#discussion_r374416638", "bodyText": "+1 to Srikanta's comment. Logging shouldn't affect whether a test passes or fails.", "author": "conniey", "createdAt": "2020-02-04T00:25:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQyMzY4MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7914#discussion_r374423681", "bodyText": "created an issue to azure-core: #7919", "author": "mssfang", "createdAt": "2020-02-04T00:51:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQyNDIxOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7914#discussion_r374424219", "bodyText": "KeyVault and Storage don't use AZURE_LOG_LEVEL in test.yml file. So I think azure core changes should not block Azconfig's nightly live tests.", "author": "mssfang", "createdAt": "2020-02-04T00:53:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQzNDg2NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7914#discussion_r374434865", "bodyText": "Event Hubs uses AZURE_LOG_LEVEL. It helps a lot in understanding what in the SDK went wrong during a test rather than getting no spew at all.\nThe original reason we added AZURE_LOG_LEVEL was because we were trying to understand what was going wrong in the live tests because they were encountering a 429. The error could not be reproduced on our dev machines, but in the build machines. So, setting this log level would hopefully shed some light on the errors happening in the SDK.", "author": "conniey", "createdAt": "2020-02-04T01:38:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5NzMyOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7914#discussion_r377297328", "bodyText": "This is some limitation on test setup. In HttpLoggingPolicyTests, we have set the environment variable using System.setProperty, but this one will be overwritten if there is environment variable setup in system.\nThe HttpLoggingPolicyTests is working fine on AZURE_LOG_LEVEL<=2.", "author": "sima-zhu", "createdAt": "2020-02-10T20:26:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI5ODMxOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7914#discussion_r377298318", "bodyText": "The current workaround is to set AZURE_LOG_LEVEL to 2 if log is needed in live tests", "author": "sima-zhu", "createdAt": "2020-02-10T20:28:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDQxNjIyOQ=="}], "type": "inlineReview"}]}