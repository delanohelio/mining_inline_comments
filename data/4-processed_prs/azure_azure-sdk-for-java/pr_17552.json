{"pr_number": 17552, "pr_title": "Added small changes that missed PR #17209", "pr_createdAt": "2020-11-13T01:27:23Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/17552", "timeline": [{"oid": "2514dd17df78195d8225102cd9097a7fd8892dd0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2514dd17df78195d8225102cd9097a7fd8892dd0", "message": "Added support for encryption AES encryption algorithms.", "committedDate": "2020-11-05T06:17:51Z", "type": "commit"}, {"oid": "c48a75a5b0e05932cd02c874825e61eb3e193bb4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c48a75a5b0e05932cd02c874825e61eb3e193bb4", "message": "Added CryptographyOptions and ensured the initialization vector is populated before attempting to perform any local cryptography operations on symmetric keys.", "committedDate": "2020-11-05T07:31:19Z", "type": "commit"}, {"oid": "7d030d0a5627312d4abe867498ce69aec4b7609f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7d030d0a5627312d4abe867498ce69aec4b7609f", "message": "Added APIs that accept CryptographyOptions to CryptographyClient.", "committedDate": "2020-11-05T08:01:41Z", "type": "commit"}, {"oid": "67e837c456306c2aaeecdc1326169dabef66ef2f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/67e837c456306c2aaeecdc1326169dabef66ef2f", "message": "Fixed Javadoc issues.", "committedDate": "2020-11-05T08:50:15Z", "type": "commit"}, {"oid": "17b8e1b07cc0b0dd4645685a5b0f2fa657032c19", "url": "https://github.com/Azure/azure-sdk-for-java/commit/17b8e1b07cc0b0dd4645685a5b0f2fa657032c19", "message": "Fixed checkstyle issues. Added samples.", "committedDate": "2020-11-05T10:01:12Z", "type": "commit"}, {"oid": "37d0e65a6640bda46ba45331740b556237494bdd", "url": "https://github.com/Azure/azure-sdk-for-java/commit/37d0e65a6640bda46ba45331740b556237494bdd", "message": "Added checkstyle exceptions.", "committedDate": "2020-11-05T10:02:19Z", "type": "commit"}, {"oid": "059c29ce48d87dfe947d7b86ebac48ddf78212a8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/059c29ce48d87dfe947d7b86ebac48ddf78212a8", "message": "Fixed test and spotbugs issues.", "committedDate": "2020-11-05T10:54:03Z", "type": "commit"}, {"oid": "df0aeb720f67149df6dae0321e7471b6188cbfef", "url": "https://github.com/Azure/azure-sdk-for-java/commit/df0aeb720f67149df6dae0321e7471b6188cbfef", "message": "Applied PR feedback and added local tests.", "committedDate": "2020-11-11T18:38:04Z", "type": "commit"}, {"oid": "596d98e58e6860b78fbcce460fbe5da39333ce69", "url": "https://github.com/Azure/azure-sdk-for-java/commit/596d98e58e6860b78fbcce460fbe5da39333ce69", "message": "Made the EncryptOptions and DecryptOptions constructor package-private, as well as their children's, and made them have factory methods for creating the former to help with discoverability.", "committedDate": "2020-11-12T17:34:47Z", "type": "commit"}, {"oid": "8b937512b6060605f73c8980c6bb7e227e786f2c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8b937512b6060605f73c8980c6bb7e227e786f2c", "message": "Fixed build issues.", "committedDate": "2020-11-12T18:13:10Z", "type": "commit"}, {"oid": "b1f1511b8176ae42a6b0d138da8062da0027609d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b1f1511b8176ae42a6b0d138da8062da0027609d", "message": "Changed EncryptOptions and DecryptOptions to use a factory model.", "committedDate": "2020-11-12T21:44:53Z", "type": "commit"}, {"oid": "ff77ba13802b18d690436a3ec2534f732fb3bc47", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ff77ba13802b18d690436a3ec2534f732fb3bc47", "message": "Added iv, additionalAuthenticatedDate and authenticationTag to EncryptResult.", "committedDate": "2020-11-12T23:26:52Z", "type": "commit"}, {"oid": "53c8771dbbc4324372056fa9388c25329fc2408d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/53c8771dbbc4324372056fa9388c25329fc2408d", "message": "Made `plainText` and `cipherText` all lowercase.", "committedDate": "2020-11-13T00:15:31Z", "type": "commit"}, {"oid": "0bcd9cdafcd48fc0ca019709dbcf7f8eae9cccf8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0bcd9cdafcd48fc0ca019709dbcf7f8eae9cccf8", "message": "Reverted capitalization change.", "committedDate": "2020-11-13T00:58:36Z", "type": "commit"}, {"oid": "155c40fdb631cd41e2c2d302f8f878b7466e79d8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/155c40fdb631cd41e2c2d302f8f878b7466e79d8", "message": "Added null check for `iv` in local decryption.", "committedDate": "2020-11-13T01:00:50Z", "type": "commit"}, {"oid": "d98fd7057b451a99c1a9c01dbd5d9e442caf0ea9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d98fd7057b451a99c1a9c01dbd5d9e442caf0ea9", "message": "Merge branch 'master' into new-encryption-algorithms\n\n# Conflicts:\n#\teng/code-quality-reports/src/main/resources/checkstyle/checkstyle-suppressions.xml\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/AesCbcPad.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/AesGcm.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/CryptographyAsyncClient.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/CryptographyClient.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/CryptographyServiceClient.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/DecryptOptions.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/EncryptOptions.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/LocalCryptographyAsyncClient.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/LocalCryptographyClient.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/RsaKeyCryptographyClient.java\n#\tsdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/SymmetricKeyCryptographyClient.java", "committedDate": "2020-11-13T01:23:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU1Mjc2Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17552#discussion_r522552767", "bodyText": "does user supply IV ?", "author": "g2vinay", "createdAt": "2020-11-13T01:33:08Z", "path": "sdk/keyvault/azure-security-keyvault-keys/src/main/java/com/azure/security/keyvault/keys/cryptography/SymmetricKeyCryptographyClient.java", "diffHunk": "@@ -125,23 +126,10 @@\n \n         ICryptoTransform transform;\n \n-        byte[] iv = decryptOptions.getIv();\n+        byte[] iv = Objects.requireNonNull(decryptOptions.getIv(), \"Initialization vector cannot be null in local decryption operations.\");", "originalCommit": "d98fd7057b451a99c1a9c01dbd5d9e442caf0ea9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU1Mzg5NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17552#discussion_r522553895", "bodyText": "Yes", "author": "vcolin7", "createdAt": "2020-11-13T01:36:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjU1Mjc2Nw=="}], "type": "inlineReview"}]}