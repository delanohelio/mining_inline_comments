{"pr_number": 7079, "pr_title": "update smoke tests, include ability to fetch latest version from dev feed", "pr_createdAt": "2020-01-02T22:31:11Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/7079", "timeline": [{"oid": "f91498e86f697d7fa7fbe197707d418786a8f2c7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f91498e86f697d7fa7fbe197707d418786a8f2c7", "message": "add package update steps", "committedDate": "2020-02-06T19:34:35Z", "type": "forcePushed"}, {"oid": "9c5a46ebd9bbc3d5eb144ef9013ab4751cf76087", "url": "https://github.com/Azure/azure-sdk-for-java/commit/9c5a46ebd9bbc3d5eb144ef9013ab4751cf76087", "message": "add package update steps", "committedDate": "2020-02-06T19:36:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzgxMjYxNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r377812615", "bodyText": "Is there anything that make this actually filter to dev versions? We also publish the GA versions to our dev feed and so in some cases they might be the latest. Perhaps that is what we want but I want to make sure you aren't assuming they are always a dev version.", "author": "weshaggard", "createdAt": "2020-02-11T18:19:59Z", "path": "eng/pipelines/smoke-test.yml", "diffHunk": "@@ -15,6 +17,28 @@ jobs:\n           JavaVersion: '1.11'\n \n     steps:\n+      - task: Maven@3\n+        displayName: Use the latest package version from the dev feed\n+        inputs:\n+          mavenPomFile: $(PomFile)\n+          goals: 'versions:use-latest-versions'", "originalCommit": "b828c3565cbbd1e8bb78d86043622a50f4743ec3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzgyMzU4NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r377823585", "bodyText": "If there is not a dev.yyyymmdd in the package version then skip validating that its date matches. This was done to accommodate the case of packages that are not yet built and released to the dev feed (e.g. azure-cosmos).\nThis coincidentally happens to work with the scenario you just highlighted.\nAlso in our discussion: we have a history of not successfully building and releasing all packages to the dev feed on a given night, this should perhaps result in a warning (turning the pipeline execution yellow in reports) instead of an outright failure that blocks running the smoke tests.\nhttps://github.com/Azure/azure-sdk-for-java/pull/7079/files#diff-0040e4d7813e3d0df709e8a15331ae40R34", "author": "danieljurek", "createdAt": "2020-02-11T18:40:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzgxMjYxNQ=="}], "type": "inlineReview"}, {"oid": "fafa80fe73355eea1c4e9257698f71885c4e96d9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fafa80fe73355eea1c4e9257698f71885c4e96d9", "message": "no more .decode()", "committedDate": "2020-02-14T16:03:19Z", "type": "forcePushed"}, {"oid": "7ee10b83ad78532d8af618a0abb6627429d71b33", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7ee10b83ad78532d8af618a0abb6627429d71b33", "message": "update smoke tests", "committedDate": "2020-02-18T19:05:51Z", "type": "commit"}, {"oid": "b158ecbe4c9e94367e6c64196583a20caaa75789", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b158ecbe4c9e94367e6c64196583a20caaa75789", "message": "fix a lot, except EventHubs :)", "committedDate": "2020-02-18T19:05:51Z", "type": "commit"}, {"oid": "ba16005bf7510a2ea7c646030f73c48345345e37", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ba16005bf7510a2ea7c646030f73c48345345e37", "message": "version poc", "committedDate": "2020-02-18T19:05:51Z", "type": "commit"}, {"oid": "de854bceb8e3f6964b0974aa09bf74de189ab1a6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/de854bceb8e3f6964b0974aa09bf74de189ab1a6", "message": "add dev feed location to smoke tests' pom.xml", "committedDate": "2020-02-18T19:05:51Z", "type": "commit"}, {"oid": "631ee595cbbcafae67ad1bd92ca3ddd93cb9568e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/631ee595cbbcafae67ad1bd92ca3ddd93cb9568e", "message": "add package update steps", "committedDate": "2020-02-18T19:05:51Z", "type": "commit"}, {"oid": "40eeacddd5665a71298da3fe002607eb5ba8beba", "url": "https://github.com/Azure/azure-sdk-for-java/commit/40eeacddd5665a71298da3fe002607eb5ba8beba", "message": "scope version updating to  groupId", "committedDate": "2020-02-18T19:05:51Z", "type": "commit"}, {"oid": "2b050e30c47a7bc74faa8effca9a57b1e41be5d1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2b050e30c47a7bc74faa8effca9a57b1e41be5d1", "message": "move smoke tests to common, supply baseline known working verisons to the pom file", "committedDate": "2020-02-18T19:05:51Z", "type": "commit"}, {"oid": "7a59c26ff71efcd09d1f26a06d51a8a9cf40ca9e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7a59c26ff71efcd09d1f26a06d51a8a9cf40ca9e", "message": "remove versionBackup file", "committedDate": "2020-02-18T19:05:52Z", "type": "commit"}, {"oid": "5cdb90d4208925ffc9e12146de8d697cb37d58e4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5cdb90d4208925ffc9e12146de8d697cb37d58e4", "message": "validate date entries in dev.yyyymmdd to ensure no date mismatch after resolving latest packages from the dev feed\n\nthis helps ensure that latest packages have published before running smoke tests", "committedDate": "2020-02-18T19:05:52Z", "type": "commit"}, {"oid": "2f8efe77950f0fbf6ea29f8933710996b05263ad", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2f8efe77950f0fbf6ea29f8933710996b05263ad", "message": "add validate_version_dates.py into smoke-test.yml", "committedDate": "2020-02-18T19:05:52Z", "type": "commit"}, {"oid": "812db8a94f62432ebb621812a3cb580bb3373be2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/812db8a94f62432ebb621812a3cb580bb3373be2", "message": "expand testing matrix", "committedDate": "2020-02-18T19:05:52Z", "type": "commit"}, {"oid": "c9747dc9326f3ebe673c3301f2a17f45972eb9b9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c9747dc9326f3ebe673c3301f2a17f45972eb9b9", "message": "checking whether current failure in KV is affecting other smoke tested scenarios", "committedDate": "2020-02-18T19:05:52Z", "type": "commit"}, {"oid": "ab492a4f2a9d7ba921ec01a05b4e2f69a32672b2", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ab492a4f2a9d7ba921ec01a05b4e2f69a32672b2", "message": "Revert \"checking whether current failure in KV is affecting other smoke tested scenarios\"\n\nThis reverts commit be4e352aac08fce00b37c43e16755553cd943fe4.", "committedDate": "2020-02-18T19:05:52Z", "type": "commit"}, {"oid": "194a0abb7d9e35ef0ac93fa460ee87d7eccdca99", "url": "https://github.com/Azure/azure-sdk-for-java/commit/194a0abb7d9e35ef0ac93fa460ee87d7eccdca99", "message": "exclude smoke tests from doc validation", "committedDate": "2020-02-18T19:05:52Z", "type": "commit"}, {"oid": "1c059d50092451148cfcc280d7c9d3b603c20429", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1c059d50092451148cfcc280d7c9d3b603c20429", "message": "fix cosmosdb for 4.0.0-beta.1", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "5695113fdf89bb2f1aa40b2dad2e89e36c594e63", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5695113fdf89bb2f1aa40b2dad2e89e36c594e63", "message": "remove compiler source and target configuration from smoke test pom", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "d037837da04907ccdf19edce63b02c27f58fbc88", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d037837da04907ccdf19edce63b02c27f58fbc88", "message": "add continueOnError to smoke test pipeline date consistency validation", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "bc6c7f377f63de85e4413c8196111077cc780d2b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bc6c7f377f63de85e4413c8196111077cc780d2b", "message": "extract get_xml_root from smoke test validate_version_dates.py", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "16c509a76bfc98be401266bde1e185a7b6e25b75", "url": "https://github.com/Azure/azure-sdk-for-java/commit/16c509a76bfc98be401266bde1e185a7b6e25b75", "message": "add dependency shuffling", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "97bc24b1be8c975cdccb93e7f3caa5d5f8afc56d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/97bc24b1be8c975cdccb93e7f3caa5d5f8afc56d", "message": "no more .decode()", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "25dcf27cb8c42a559d090eecbbcc47233453d938", "url": "https://github.com/Azure/azure-sdk-for-java/commit/25dcf27cb8c42a559d090eecbbcc47233453d938", "message": "better variable placement", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "afbe3d5094d69830e5d890658b90bcbf3afd517e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/afbe3d5094d69830e5d890658b90bcbf3afd517e", "message": "for some reason ShuffleDependencies is being treated as quoted, maybe this can be fixed with explicit quotes", "committedDate": "2020-02-18T19:05:53Z", "type": "commit"}, {"oid": "5436b8eeb643ca9f81288f1c58e80f9840c75d0f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5436b8eeb643ca9f81288f1c58e80f9840c75d0f", "message": "include azure-cosmos now that a later-sorting version has been released", "committedDate": "2020-02-18T19:05:54Z", "type": "commit"}, {"oid": "cabe538f9416f134d2beb29c2cc2a537db125bc7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cabe538f9416f134d2beb29c2cc2a537db125bc7", "message": "remove extra print(xml)", "committedDate": "2020-02-18T19:05:54Z", "type": "commit"}, {"oid": "a8e42edaf556914bd5b087518e874e364859afda", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a8e42edaf556914bd5b087518e874e364859afda", "message": "add profiles so we actually build against baseline and LTS", "committedDate": "2020-02-18T19:05:54Z", "type": "commit"}, {"oid": "1bd4f0e1110cd97f78e7b8d67f95ae730d8096a1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1bd4f0e1110cd97f78e7b8d67f95ae730d8096a1", "message": "update cosmosdb implementation", "committedDate": "2020-02-18T19:05:54Z", "type": "commit"}, {"oid": "d7e45784259d599737df4af5bb58405d5f6f9e7f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d7e45784259d599737df4af5bb58405d5f6f9e7f", "message": "upgrade cosmos version", "committedDate": "2020-02-18T19:05:54Z", "type": "commit"}, {"oid": "d7e45784259d599737df4af5bb58405d5f6f9e7f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d7e45784259d599737df4af5bb58405d5f6f9e7f", "message": "upgrade cosmos version", "committedDate": "2020-02-18T19:05:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg4MjY3NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r380882675", "bodyText": "Why are we shuffling the order? Any randomness like this is almost always going to cause reliability issues in the pipeline.", "author": "weshaggard", "createdAt": "2020-02-18T19:21:25Z", "path": "common/smoke-tests/shuffle_dependency_order.py", "diffHunk": "@@ -0,0 +1,45 @@\n+from random import shuffle\n+import xml.etree.ElementTree as ET\n+import xml.dom.minidom as md\n+\n+from util import get_xml_root\n+\n+def scrub_indented_lines(input):\n+    return \"\\n\".join([line for line in input.split(\"\\n\") if line.strip() != ''])\n+\n+def pretty_xml(xml_string):\n+    parsed = md.parseString(xml_string)\n+    return scrub_indented_lines(parsed.toprettyxml(indent='  ', newl=\"\\n\"))\n+\n+def main():\n+    root = get_xml_root('./pom.xml')\n+    dependencies = root.findall(\"dependencies/dependency\")\n+\n+    print(\"==== Original Dependency Order ====\")\n+    for dependency in dependencies:\n+        print(f\"\\t{dependency.find('artifactId').text}\")\n+\n+    # Shuffle dependencies in place\n+    shuffle(dependencies)", "originalCommit": "d7e45784259d599737df4af5bb58405d5f6f9e7f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg4ODYxMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r380888612", "bodyText": "I'm pretty sure that in the case of smoke tests we want to rearrange the dependency order as, in theory, that is how we're going to potentially find dependency issues. Being that this is only shuffling the dependencies, this shouldn't cause any issues that aren't product issues. So long as the dependency order is printed out, for reproducibility, I don't see this particular randomization being a problem. Also, with this running in its own pipeline, it's pretty isolated and shouldn't cause issues with other pipelines.", "author": "JimSuplizio", "createdAt": "2020-02-18T19:32:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg4MjY3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk3NDUyNw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r380974527", "bodyText": "Spoke w/ @weshaggard -- deterministic version mismatch searches are going to be better here than nondeterministic randomization.\nSuch a test would involve resolving the latest GA released packages and then walking the dependencies to find mismatches.\nFor now: remove shuffling", "author": "danieljurek", "createdAt": "2020-02-18T22:30:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg4MjY3NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQwMjY0Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r381402642", "bodyText": "Updated bug: #7310", "author": "danieljurek", "createdAt": "2020-02-19T16:47:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDg4MjY3NQ=="}], "type": "inlineReview"}, {"oid": "e369a7e69f059ae4c0ea7ba002920635509d3d08", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e369a7e69f059ae4c0ea7ba002920635509d3d08", "message": "increase timeout", "committedDate": "2020-02-18T22:10:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM0Njg2Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r381346866", "bodyText": "The external dependency version of junit is 4.13-beta-3, shouldn't we be using that version? Similarly, every external dependency version should be being pulled from the eng/versioning/external_dependencies.txt file. slf4j-simple below is another example of this.", "author": "JimSuplizio", "createdAt": "2020-02-19T14:59:48Z", "path": "common/smoke-tests/pom.xml", "diffHunk": "@@ -83,14 +83,14 @@\n     <dependency>\n       <groupId>junit</groupId>\n       <artifactId>junit</artifactId>\n-      <version>4.11</version>\n+      <version>4.12-beta-1</version>", "originalCommit": "e369a7e69f059ae4c0ea7ba002920635509d3d08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM3MDQ4Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r381370482", "bodyText": "Keeping these particularly dependencies up to date is reasonable.", "author": "danieljurek", "createdAt": "2020-02-19T16:02:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM0Njg2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM0ODgzMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r381348831", "bodyText": "nit: This version doesn't match our versioning scheme .. or ..-beta.X.", "author": "JimSuplizio", "createdAt": "2020-02-19T15:02:17Z", "path": "common/smoke-tests/pom.xml", "diffHunk": "@@ -0,0 +1,141 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <groupId>com.azure</groupId>\n+  <artifactId>smoke-test</artifactId>\n+  <version>1.0-SNAPSHOT</version>", "originalCommit": "e369a7e69f059ae4c0ea7ba002920635509d3d08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTM0OTUwMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r381349502", "bodyText": "I'm not sure if we should be including Cosmos v4 in this just yet, at least not until they've moved into master and integrated with the centralized versioning.", "author": "JimSuplizio", "createdAt": "2020-02-19T15:03:10Z", "path": "common/smoke-tests/pom.xml", "diffHunk": "@@ -0,0 +1,141 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <groupId>com.azure</groupId>\n+  <artifactId>smoke-test</artifactId>\n+  <version>1.0-SNAPSHOT</version>\n+  <name>smoke-test</name>\n+  <url>https://github.com/Azure/azure-sdk-for-java</url>\n+\n+\n+\n+\n+  <repositories>\n+    <repository>\n+      <id>azure-sdk-dev</id>\n+      <url>https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-java/maven/v1</url>\n+    </repository>\n+  </repositories>\n+\n+\n+  <profiles>\n+    <!--\n+     By default we build against our baseline, Java 8, but we also want to ensure compatibility\n+     against the latest Java LTS release, currently Java 11. We therefore have two profiles:\n+       * The default 'java8', which will perform a build using Java 8 as its target.\n+       * The non-default 'java-lts' profile, which will build against the current LTS release.\n+   -->\n+    <profile>\n+      <id>java8</id>\n+      <activation>\n+        <activeByDefault>true</activeByDefault>\n+        <property>\n+          <name>!java-lts</name>\n+        </property>\n+      </activation>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-compiler-plugin</artifactId>\n+            <version>3.8.1</version>\n+            <configuration>\n+              <source>1.8</source>\n+              <target>1.8</target>\n+              <showWarnings>true</showWarnings>\n+              <showDeprecation>true</showDeprecation>\n+              <compilerArgument>-Xlint:all</compilerArgument>\n+            </configuration>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+\n+    <profile>\n+      <id>java-lts</id>\n+      <activation>\n+        <property>\n+          <name>java-lts</name>\n+        </property>\n+      </activation>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-compiler-plugin</artifactId>\n+            <version>3.8.1</version>\n+            <configuration>\n+              <source>11</source>\n+              <target>11</target>\n+              <showWarnings>true</showWarnings>\n+              <showDeprecation>true</showDeprecation>\n+              <compilerArgument>-Xlint:all</compilerArgument>\n+            </configuration>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+  </profiles>\n+\n+  <dependencies>\n+\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+      <version>4.12-beta-1</version>\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-core</artifactId>\n+      <version>1.2.0-dev.20200107.1</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-cosmos</artifactId>\n+      <version>4.0.0-preview.2</version>", "originalCommit": "e369a7e69f059ae4c0ea7ba002920635509d3d08", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "453a64e7e809e2a79bd7a6019b12346bc693a332", "url": "https://github.com/Azure/azure-sdk-for-java/commit/453a64e7e809e2a79bd7a6019b12346bc693a332", "message": "review feedback\n  * remove dependency shuffling\n  * use external dependency tracking\n  * smoke test version scheme matches policy", "committedDate": "2020-02-19T16:33:03Z", "type": "commit"}, {"oid": "144dde86330920e5d38d5abf8f47484547e959a7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/144dde86330920e5d38d5abf8f47484547e959a7", "message": "revert dependency version changes accidentally checked in after running versions:use-latest-versions", "committedDate": "2020-02-19T16:33:54Z", "type": "commit"}, {"oid": "d61c4887748173fe39281e00c85df0803a6cdaee", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d61c4887748173fe39281e00c85df0803a6cdaee", "message": "fix Cosmos DB smoke test to use new interface", "committedDate": "2020-02-20T16:19:01Z", "type": "commit"}, {"oid": "7caae4581fb2e26e3155e9bcee69d79c2128a281", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7caae4581fb2e26e3155e9bcee69d79c2128a281", "message": "disable Cosmos DB tests until the Cosmos library ships from master", "committedDate": "2020-02-20T17:19:49Z", "type": "commit"}, {"oid": "75248ca53992649697813354e44c2a18a1afe3a6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/75248ca53992649697813354e44c2a18a1afe3a6", "message": "do not depend on cosmos and comment out cosmos test code with notes that we will re-enable once we're shipping packages reliably from master", "committedDate": "2020-02-20T23:14:31Z", "type": "commit"}, {"oid": "5418481030e9eeffd9f6a8c2e086e2e3a3dd1e6c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5418481030e9eeffd9f6a8c2e086e2e3a3dd1e6c", "message": "add version for maven-compiler-plugin and external dependency version update tag", "committedDate": "2020-02-20T23:37:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjMxNjEzMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7079#discussion_r382316130", "bodyText": "This needs to have a version and an update tag.", "author": "JimSuplizio", "createdAt": "2020-02-20T23:27:22Z", "path": "common/smoke-tests/pom.xml", "diffHunk": "@@ -0,0 +1,144 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+  <groupId>com.azure</groupId>\n+  <artifactId>smoke-test</artifactId>\n+  <version>1.0.0-beta.1</version>\n+  <name>smoke-test</name>\n+  <url>https://github.com/Azure/azure-sdk-for-java</url>\n+\n+\n+\n+\n+  <repositories>\n+    <repository>\n+      <id>azure-sdk-dev</id>\n+      <url>https://pkgs.dev.azure.com/azure-sdk/public/_packaging/azure-sdk-for-java/maven/v1</url>\n+    </repository>\n+  </repositories>\n+\n+\n+  <profiles>\n+    <!--\n+     By default we build against our baseline, Java 8, but we also want to ensure compatibility\n+     against the latest Java LTS release, currently Java 11. We therefore have two profiles:\n+       * The default 'java8', which will perform a build using Java 8 as its target.\n+       * The non-default 'java-lts' profile, which will build against the current LTS release.\n+   -->\n+    <profile>\n+      <id>java8</id>\n+      <activation>\n+        <activeByDefault>true</activeByDefault>\n+        <property>\n+          <name>!java-lts</name>\n+        </property>\n+      </activation>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-compiler-plugin</artifactId>\n+            <version>3.8.1</version>\n+            <configuration>\n+              <source>1.8</source>\n+              <target>1.8</target>\n+              <showWarnings>true</showWarnings>\n+              <showDeprecation>true</showDeprecation>\n+              <compilerArgument>-Xlint:all</compilerArgument>\n+            </configuration>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+\n+    <profile>\n+      <id>java-lts</id>\n+      <activation>\n+        <property>\n+          <name>java-lts</name>\n+        </property>\n+      </activation>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <groupId>org.apache.maven.plugins</groupId>\n+            <artifactId>maven-compiler-plugin</artifactId>\n+            <version>3.8.1</version>\n+            <configuration>\n+              <source>11</source>\n+              <target>11</target>\n+              <showWarnings>true</showWarnings>\n+              <showDeprecation>true</showDeprecation>\n+              <compilerArgument>-Xlint:all</compilerArgument>\n+            </configuration>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+  </profiles>\n+\n+  <dependencies>\n+\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+      <version>4.13-beta-3</version> <!-- {x-version-update;junit:junit;external_dependency} -->\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-core</artifactId>\n+      <version>1.2.0</version>\n+    </dependency>\n+\n+    <!--\n+    Cosmos is disabled until we are shipping from master\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-cosmos</artifactId>\n+      <version>4.0.0-preview.2</version>\n+    </dependency>\n+    -->\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-identity</artifactId>\n+      <version>1.0.3</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-security-keyvault-secrets</artifactId>\n+      <version>4.1.0</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-messaging-eventhubs</artifactId>\n+      <version>5.0.1</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.azure</groupId>\n+      <artifactId>azure-storage-blob</artifactId>\n+      <version>12.3.0</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-simple</artifactId>\n+      <version>1.7.25</version> <!-- {x-version-update;org.slf4j:slf4j-simple;external_dependency} -->\n+    </dependency>\n+\n+  </dependencies>\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-compiler-plugin</artifactId>\n+      </plugin>", "originalCommit": "75248ca53992649697813354e44c2a18a1afe3a6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4184d4d9acf6b92ca18fbb795ad19b7fbdc3a7da", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4184d4d9acf6b92ca18fbb795ad19b7fbdc3a7da", "message": "set version update tags in the remaining pom file locations", "committedDate": "2020-02-20T23:42:05Z", "type": "commit"}]}