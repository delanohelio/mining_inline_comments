{"pr_number": 8463, "pr_title": "Fix Incorrect tests.yml Spacing", "pr_createdAt": "2020-02-24T21:09:13Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/8463", "timeline": [{"oid": "2fcfe2e96a5ddf2365b5d31c25af45af76f7f43d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2fcfe2e96a5ddf2365b5d31c25af45af76f7f43d", "message": "Fix incorrect tests.yml spacing", "committedDate": "2020-02-24T21:07:54Z", "type": "commit"}, {"oid": "d4b3d2d2ef6c016d3340c22711abb6baa3b901d9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d4b3d2d2ef6c016d3340c22711abb6baa3b901d9", "message": "Renamed test.yml to the correct tests.yml", "committedDate": "2020-02-24T21:28:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTkwOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383531908", "bodyText": "This should only be set if there is a problem. The script will detect the presence of a test-resources.json and decide whether to create or not create resources.", "author": "danieljurek", "createdAt": "2020-02-24T21:42:48Z", "path": "sdk/search/tests.yml", "diffHunk": "@@ -0,0 +1,15 @@\n+trigger: none\n+\n+jobs:\n+  - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n+    parameters:\n+      ServiceDirectory: search\n+      DisableAzureResourceCreation: true", "originalCommit": "d4b3d2d2ef6c016d3340c22711abb6baa3b901d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMjg3NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383532874", "bodyText": "Will remove this line.", "author": "alzimmermsft", "createdAt": "2020-02-24T21:44:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTkwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMzYzMg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383533632", "bodyText": "This needs to be done by proper design.\nSearch is creating resource group for every test class using management library.\nIdeally, we can try to create one resource group per test run. I am trying to see if it works for search.", "author": "sima-zhu", "createdAt": "2020-02-24T21:46:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTkwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzODM5Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383538397", "bodyText": "Looking at the design it will create a resource group once per test run, this should be updated in the future to use an ARM generate resource group instead. I'll file an issue for that to track it.", "author": "alzimmermsft", "createdAt": "2020-02-24T21:55:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTkwOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0MTgwMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383541800", "bodyText": "The live test will failed at provision test resource step by having this.", "author": "sima-zhu", "createdAt": "2020-02-24T22:03:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTkwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTk0MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383531941", "bodyText": "Nit: This should be MaxParallel ... Is there a reason to restrict parallelism to a max of 3?", "author": "danieljurek", "createdAt": "2020-02-24T21:42:51Z", "path": "sdk/search/tests.yml", "diffHunk": "@@ -0,0 +1,15 @@\n+trigger: none\n+\n+jobs:\n+  - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n+    parameters:\n+      ServiceDirectory: search\n+      DisableAzureResourceCreation: true\n+      Timeout: 120\n+      maxParallel: 3", "originalCommit": "d4b3d2d2ef6c016d3340c22711abb6baa3b901d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMjc0Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383532743", "bodyText": "Good catch, this is being limited since we only have a limited pool of Search resources for all of our tests (other languages included) and wanted to restrict how many concurrent Java runs are happening at once.", "author": "alzimmermsft", "createdAt": "2020-02-24T21:44:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTk0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzNTUzMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383535531", "bodyText": "Search has quota on services can be created per subscription id + region at a time. Since all languages are using on the same quota, the test might failed by exhausts the quota. We limit the parallel run here for temporarily mitigating the issue.", "author": "sima-zhu", "createdAt": "2020-02-24T21:50:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzMTk0MQ=="}], "type": "inlineReview"}, {"oid": "fe23cf831291625955b437a36185cb3d80efcf9b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/fe23cf831291625955b437a36185cb3d80efcf9b", "message": "Fixed additional issues with YML configuration", "committedDate": "2020-02-24T21:45:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzNjExOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383536118", "bodyText": "# Live tests create their own resources for testing. Resources are created against a \n# finite resource pool, so we limit parallelism to conserve availability in that pool.", "author": "danieljurek", "createdAt": "2020-02-24T21:51:13Z", "path": "sdk/search/tests.yml", "diffHunk": "@@ -0,0 +1,14 @@\n+trigger: none\n+\n+jobs:\n+  - template: ../../eng/pipelines/templates/jobs/archetype-sdk-tests.yml\n+    parameters:\n+      ServiceDirectory: search\n+      Timeout: 120\n+      MaxParallel: 3", "originalCommit": "fe23cf831291625955b437a36185cb3d80efcf9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzODQ1NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/8463#discussion_r383538454", "bodyText": "Added this comment", "author": "alzimmermsft", "createdAt": "2020-02-24T21:56:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzNjExOA=="}], "type": "inlineReview"}, {"oid": "47c5bcb05cba14b6a304e8fab3199d8d90ed8dc5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/47c5bcb05cba14b6a304e8fab3199d8d90ed8dc5", "message": "Added comment to MaxParallel configuration", "committedDate": "2020-02-24T21:54:42Z", "type": "commit"}]}