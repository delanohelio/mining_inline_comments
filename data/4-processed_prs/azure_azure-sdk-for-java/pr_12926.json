{"pr_number": 12926, "pr_title": "Creating yml file for ctl image build ci", "pr_createdAt": "2020-07-08T21:10:26Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12926", "timeline": [{"oid": "25b546208b25bebcc49d93a3a21b846c42deb939", "url": "https://github.com/Azure/azure-sdk-for-java/commit/25b546208b25bebcc49d93a3a21b846c42deb939", "message": "creating yml file for ctl image build ci", "committedDate": "2020-07-08T21:04:00Z", "type": "commit"}, {"oid": "3e9c67b34cc5301c84b206a9342b28b72989bae5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3e9c67b34cc5301c84b206a9342b28b72989bae5", "message": "Update ctl-image-build.yml", "committedDate": "2020-07-08T22:29:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTg5MTc4NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12926#discussion_r451891785", "bodyText": "nit: Given you are doing everything else in one pwsh script block below I'd probably move the copy commands into there as well.", "author": "weshaggard", "createdAt": "2020-07-09T00:09:50Z", "path": "sdk/cosmos/azure-cosmos-benchmark/ctl-image-build.yml", "diffHunk": "@@ -0,0 +1,45 @@\n+jobs:\n+  - job: Cosmos CTL\n+    timeoutInMinutes: 20\n+    variables:\n+      - template: /eng/pipelines/templates/variables/globals.yml\n+    pool:\n+      vmImage: 'ubuntu-18.04'\n+\n+    # java-cosmos-container-registry-pwd\n+    variables:\n+      ContainerRegistryName: 'javactl'\n+      ContainerRegistryUserName: 'javactl'\n+      ContainerRegistryUrl: 'javactl.azurecr.io'\n+\n+    steps:\n+    - task: Maven@3\n+      displayName: 'Build Cosmos and Benchmark'\n+      inputs:\n+        mavenPomFile: pom.xml\n+        jdkVersionOption: $(JavaBuildVersion)\n+        jdkArchitectureOption: 'x64'\n+        # The -Ppackage-assembly profile packages up both libraries into one package\n+        options: '$(DefaultOptions) -Ppackage-assembly -DskipTests -Dgpg.skip -Dmaven.javadoc.skip=true -Dcheckstyle.skip=true -Dspotbugs.skip=true -Drevapi.skip=true -pl com.azure:azure-cosmos,com.azure:azure-cosmos-benchmark'\n+\n+    - task: CopyFiles@2\n+      displayName: 'Copy benchmark jar'\n+      inputs:\n+        SourceFolder: '$(build.sourcesdirectory)/sdk/cosmos/azure-cosmos-benchmark/target'", "originalCommit": "3e9c67b34cc5301c84b206a9342b28b72989bae5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}