{"pr_number": 17926, "pr_title": "Deprecate AADAppRoleStatelessAuthenticationFilter and AADAuthenticationFilter", "pr_createdAt": "2020-12-02T09:27:09Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/17926", "timeline": [{"oid": "1ce3337b18248bc80f6d556ef944396968c5d63e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1ce3337b18248bc80f6d556ef944396968c5d63e", "message": "* Update azure-spring-boot-starter-active-directory readme file\n* Deprecate AADAppRoleStatelessAuthenticationFilter and AADAuthenticationFilter", "committedDate": "2020-12-02T09:22:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAyODExNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17926#discussion_r534028114", "bodyText": "why do this,change format?", "author": "backwind1233", "createdAt": "2020-12-02T09:44:39Z", "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/aad/AADAppRoleStatelessAuthenticationFilter.java", "diffHunk": "@@ -18,26 +31,12 @@\n import org.springframework.util.StringUtils;\n import org.springframework.web.filter.OncePerRequestFilter;\n \n-import javax.servlet.FilterChain;\n-import javax.servlet.ServletException;\n-import javax.servlet.http.HttpServletRequest;\n-import javax.servlet.http.HttpServletResponse;\n-import java.io.IOException;\n-import java.text.ParseException;\n-import java.util.Collection;\n-import java.util.Optional;\n-import java.util.Set;\n-import java.util.stream.Collectors;\n-import java.util.stream.Stream;\n-\n-import static com.azure.spring.autoconfigure.aad.Constants.DEFAULT_AUTHORITY_SET;\n-import static com.azure.spring.autoconfigure.aad.Constants.ROLE_PREFIX;", "originalCommit": "1ce3337b18248bc80f6d556ef944396968c5d63e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAzOTkzMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17926#discussion_r534039933", "bodyText": "It changes due to the automatic import of IDEA.", "author": "ZhuXiaoBing-cn", "createdAt": "2020-12-02T10:01:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAyODExNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAyODg1Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17926#discussion_r534028857", "bodyText": "do we really need change this?", "author": "backwind1233", "createdAt": "2020-12-02T09:45:39Z", "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/aad/AADAuthenticationFilter.java", "diffHunk": "@@ -19,24 +30,12 @@\n import org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationToken;\n import org.springframework.web.filter.OncePerRequestFilter;\n \n-import javax.naming.ServiceUnavailableException;\n-import javax.servlet.FilterChain;\n-import javax.servlet.ServletException;\n-import javax.servlet.http.HttpServletRequest;\n-import javax.servlet.http.HttpServletResponse;\n-import javax.servlet.http.HttpSession;\n-import java.io.IOException;\n-import java.net.MalformedURLException;\n-import java.text.ParseException;\n-import java.util.Optional;\n-\n-import static com.azure.spring.autoconfigure.aad.Constants.BEARER_PREFIX;\n-", "originalCommit": "1ce3337b18248bc80f6d556ef944396968c5d63e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA0MDU5Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17926#discussion_r534040592", "bodyText": "Don't need.", "author": "ZhuXiaoBing-cn", "createdAt": "2020-12-02T10:02:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAyODg1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTcyMDc3Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17926#discussion_r535720773", "bodyText": "Hi, @backwind1233 , It's OK to keep the diff in the PR. The style is same to other java files in sdk/spring folder.", "author": "chenrujun", "createdAt": "2020-12-03T23:26:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAyODg1Nw=="}], "type": "inlineReview"}, {"oid": "5b2f8a2b69ab7d26c66ec3985349648585e92845", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5b2f8a2b69ab7d26c66ec3985349648585e92845", "message": "* Update annotation", "committedDate": "2020-12-03T07:09:41Z", "type": "commit"}, {"oid": "cf90817a1879835ba803a9b92e6de08829135a3f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/cf90817a1879835ba803a9b92e6de08829135a3f", "message": "* Update annotation, letting them include our aad starter for resource server case.", "committedDate": "2020-12-04T06:37:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgxNjA5Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17926#discussion_r539816096", "bodyText": "Add space before Automatic", "author": "saragluna", "createdAt": "2020-12-10T03:24:32Z", "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/aad/AADAppRoleStatelessAuthenticationFilter.java", "diffHunk": "@@ -36,7 +36,11 @@\n  * implementation so the principal will not be stored in session. By using roles claim in the token it will not call\n  * Microsoft Graph to retrieve users' groups.\n  * <p>\n- * @deprecated See the <a href=\"https://github.com/Azure/azure-sdk-for-java/issues/17860\">Alternative method</a>.\n+ *\n+ * @deprecated For AADAppRoleStatelessAuthenticationFilter, suggest use spring-security resource-server directly and\n+ * include azure-spring-boot-starter-active-directory dependencies into your project.Automatic configuration of the", "originalCommit": "cf90817a1879835ba803a9b92e6de08829135a3f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "00e26a50ab9de6d3dc888509a5d35198577564a6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/00e26a50ab9de6d3dc888509a5d35198577564a6", "message": "Update description format", "committedDate": "2020-12-10T03:35:47Z", "type": "commit"}]}