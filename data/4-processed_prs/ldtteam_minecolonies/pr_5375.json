{"pr_number": 5375, "pr_title": "Beekeeper quickfixes", "pr_createdAt": "2020-07-12T04:43:42Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/5375", "timeline": [{"oid": "f387e0038db388fe85e7f52c19551223fcbb68a1", "url": "https://github.com/ldtteam/minecolonies/commit/f387e0038db388fe85e7f52c19551223fcbb68a1", "message": "Add a few more english strings for the beekeeper", "committedDate": "2020-07-12T04:37:28Z", "type": "commit"}, {"oid": "59d9b165e44a173a1947408182da554d2274e9ae", "url": "https://github.com/ldtteam/minecolonies/commit/59d9b165e44a173a1947408182da554d2274e9ae", "message": "Let a level 1 beekeeper have hives", "committedDate": "2020-07-12T04:38:17Z", "type": "commit"}, {"oid": "5b8493f6f6e97d11dae3097d0a6e8697713d20cd", "url": "https://github.com/ldtteam/minecolonies/commit/5b8493f6f6e97d11dae3097d0a6e8697713d20cd", "message": "Stop the beekeeper from loosing track of hives", "committedDate": "2020-07-12T04:39:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453274446", "bodyText": "return 1 << getBuildingLevel();", "author": "MatthiasMann", "createdAt": "2020-07-12T06:26:05Z", "path": "src/main/java/com/minecolonies/coremod/colony/buildings/workerbuildings/BuildingBeekeeper.java", "diffHunk": "@@ -231,7 +231,7 @@ public boolean shouldHarvestHoneycombs()\n      */\n     public int getMaximumHives()\n     {\n-        return (int) Math.floor(Math.pow(2, getBuildingLevel() - 1));\n+        return (int) Math.floor(Math.pow(2, getBuildingLevel()));", "originalCommit": "59d9b165e44a173a1947408182da554d2274e9ae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI4MjY5MA==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453282690", "bodyText": "Yep. But it not really relevant, but a good idea todo anyway.", "author": "OrionDevelopment", "createdAt": "2020-07-12T07:54:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI4NDk4Mg==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453284982", "bodyText": "I'd say no. While it is quicker. It makes this code much less readable about what we want to do.", "author": "Raycoms", "createdAt": "2020-07-12T08:17:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI4NTAxOA==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453285018", "bodyText": "We also have this everywhere like this exactly already as code.", "author": "Raycoms", "createdAt": "2020-07-12T08:17:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzMwNjg0NA==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453306844", "bodyText": "I have to agree with @Raycoms. The shift left is faster, but far less readable. If we want to switch to it, then I think that should be a separate change that hits all of the code to keep it consistent. There are 13 locations in the code today to be reviewed.", "author": "Mekle001", "createdAt": "2020-07-12T11:53:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzMwNzI1Nw==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453307257", "bodyText": "I only pointed out the left shift because it avoid the possibilities for rounding issues - esp when using Math.floor() instead of Math.round().", "author": "MatthiasMann", "createdAt": "2020-07-12T11:57:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzMwODcwNw==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453308707", "bodyText": "Yeah, I backed out the change at @Minecraftschurli's request, and then realized a few minutes ago that what I was seeing was likely due to the use of floor. I'm doing a bit of testing, and will likely remove the floor. None of the other 12 locations use floor.", "author": "Mekle001", "createdAt": "2020-07-12T12:11:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzMxMDMwOA==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453310308", "bodyText": "Ok, floor gone.", "author": "Mekle001", "createdAt": "2020-07-12T12:26:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI3NDQ0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI4NTU4MQ==", "url": "https://github.com/ldtteam/minecolonies/pull/5375#discussion_r453285581", "bodyText": "Not necessary because 2^0=1", "author": "Minecraftschurli", "createdAt": "2020-07-12T08:22:52Z", "path": "src/main/java/com/minecolonies/coremod/colony/buildings/workerbuildings/BuildingBeekeeper.java", "diffHunk": "@@ -231,7 +231,7 @@ public boolean shouldHarvestHoneycombs()\n      */\n     public int getMaximumHives()\n     {\n-        return (int) Math.floor(Math.pow(2, getBuildingLevel() - 1));\n+        return (int) Math.floor(Math.pow(2, getBuildingLevel()));", "originalCommit": "5b8493f6f6e97d11dae3097d0a6e8697713d20cd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f8d2f0fbb7fb43b322e56f85ee7e4b245e1e8b8a", "url": "https://github.com/ldtteam/minecolonies/commit/f8d2f0fbb7fb43b322e56f85ee7e4b245e1e8b8a", "message": "restore the original math, my mistake", "committedDate": "2020-07-12T11:40:22Z", "type": "commit"}, {"oid": "2ca36e6f7b8ab05a6b3febe600fe6fde8cd693b9", "url": "https://github.com/ldtteam/minecolonies/commit/2ca36e6f7b8ab05a6b3febe600fe6fde8cd693b9", "message": "Pull the floor, makes more consistent and reliable", "committedDate": "2020-07-12T12:25:47Z", "type": "commit"}]}