{"pr_number": 5223, "pr_title": "Adds builder name to decoration build complete message", "pr_createdAt": "2020-06-13T22:58:52Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/5223", "timeline": [{"oid": "f28dbcc10f6e55c349f301a52ff6f41a8d3a5556", "url": "https://github.com/ldtteam/minecolonies/commit/f28dbcc10f6e55c349f301a52ff6f41a8d3a5556", "message": "Adds builder name to decoration build complete message\n\nSigned-off-by: Mark E. Schill <Mark.Schill@cmschill.net>", "committedDate": "2020-06-13T22:58:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MDg4NA==", "url": "https://github.com/ldtteam/minecolonies/pull/5223#discussion_r440070884", "bodyText": "why does this need a try and catch?", "author": "Raycoms", "createdAt": "2020-06-15T10:10:20Z", "path": "src/main/java/com/minecolonies/coremod/colony/workorders/WorkOrderBuildDecoration.java", "diffHunk": "@@ -226,13 +227,38 @@ public void onCompleted(final IColony colony)\n         {\n             final int level = ((WorkOrderBuildBuilding) this).getUpgradeLevel();\n             AdvancementUtils.TriggerAdvancementPlayersForColony(colony, player ->\n-                    AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, level));\n+                                                                          AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, level));\n         }\n         else\n         {\n+\n+\n             AdvancementUtils.TriggerAdvancementPlayersForColony(colony, player ->\n-                    AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, 0));\n-            LanguageHandler.sendPlayersMessage(colony.getMessagePlayerEntities(),COM_MINECOLONIES_COREMOD_ENTITY_BUILDER_BUILDCOMPLETE,getStructureName());\n+                                                                          AdvancementTriggers.COMPLETE_BUILD_REQUEST.trigger(player, structureName, 0));\n+\n+            String builder = \"\";\n+            for (ICitizenData citizen : colony.getCitizenManager().getCitizens())\n+            {\n+                try\n+                {\n+                    if (citizen.getWorkBuilding().getPosition().equals(this.getClaimedBy()))", "originalCommit": "f28dbcc10f6e55c349f301a52ff6f41a8d3a5556", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MTUwMw==", "url": "https://github.com/ldtteam/minecolonies/pull/5223#discussion_r440071503", "bodyText": "Better change the onCompleted method to receive the citizenData of the citizen that completed the job.", "author": "Raycoms", "createdAt": "2020-06-15T10:11:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MDg4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDEzODkyMQ==", "url": "https://github.com/ldtteam/minecolonies/pull/5223#discussion_r440138921", "bodyText": "why does this need a try and catch?\n\nFor some citizens it would cause a crash", "author": "PowerSchill", "createdAt": "2020-06-15T12:26:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MDg4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI0MjI5NQ==", "url": "https://github.com/ldtteam/minecolonies/pull/5223#discussion_r440242295", "bodyText": "except a try & catch you could add a null check before like getWorkBuilding() != null &&", "author": "someaddons", "createdAt": "2020-06-15T15:03:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MDg4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDk1NTA1Nw==", "url": "https://github.com/ldtteam/minecolonies/pull/5223#discussion_r440955057", "bodyText": "Still working for the adjustment", "author": "Raycoms", "createdAt": "2020-06-16T15:45:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MDg4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAwMzE4NQ==", "url": "https://github.com/ldtteam/minecolonies/pull/5223#discussion_r441003185", "bodyText": "Testing to make sure I didn't break anything else.", "author": "PowerSchill", "createdAt": "2020-06-16T16:57:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA3MDg4NA=="}], "type": "inlineReview"}, {"oid": "a2640196f551624be1b92249c4b9194d7e3c0f8a", "url": "https://github.com/ldtteam/minecolonies/commit/a2640196f551624be1b92249c4b9194d7e3c0f8a", "message": "Updates onCompleted to accept citizen data\n\nSigned-off-by: Mark E. Schill <Mark.Schill@cmschill.net>", "committedDate": "2020-06-16T18:00:56Z", "type": "commit"}, {"oid": "540fdb3adc8ffac3df5017aa2e3e7f7001f03e2f", "url": "https://github.com/ldtteam/minecolonies/commit/540fdb3adc8ffac3df5017aa2e3e7f7001f03e2f", "message": "Merge branch 'version/1.15' into feature/decoration_message_builder", "committedDate": "2020-06-16T18:23:42Z", "type": "commit"}]}