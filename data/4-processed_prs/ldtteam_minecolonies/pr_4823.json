{"pr_number": 4823, "pr_title": "Fix building tool water handling", "pr_createdAt": "2020-05-01T14:02:11Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/4823", "timeline": [{"oid": "023542b3436134948fac86c943bd6668afd169fb", "url": "https://github.com/ldtteam/minecolonies/commit/023542b3436134948fac86c943bd6668afd169fb", "message": "Use BuildUtils.removeFluids in AbstractEntityAiStructure", "committedDate": "2020-05-01T13:31:45Z", "type": "commit"}, {"oid": "0f9e24166196d4767ecc5bf5cf1bff056489d15d", "url": "https://github.com/ldtteam/minecolonies/commit/0f9e24166196d4767ecc5bf5cf1bff056489d15d", "message": "Fix building tool pasting water handling", "committedDate": "2020-05-01T13:56:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU2NDE5OA==", "url": "https://github.com/ldtteam/minecolonies/pull/4823#discussion_r418564198", "bodyText": "This no longer instantly executes placeStructure, but instead adds them to some queue, is that ok?", "author": "ToMe25", "createdAt": "2020-05-01T14:26:00Z", "path": "src/api/java/com/minecolonies/api/util/InstantStructurePlacer.java", "diffHunk": "@@ -53,16 +51,16 @@ public InstantStructurePlacer(final World worldObj, final String name)\n      */\n     public static void loadAndPlaceStructureWithRotation(\n       final World worldObj, @NotNull final String name,\n-      @NotNull final BlockPos pos, final int rotations, @NotNull final Mirror mirror,\n-      final boolean complete)\n+      @NotNull final BlockPos pos, final Rotation rotation,\n+      @NotNull final Mirror mirror, final boolean complete)\n     {\n         try\n         {\n-            @NotNull final InstantStructurePlacer structureWrapper = new InstantStructurePlacer(worldObj, name);\n-            structureWrapper.structure.setPosition(pos);\n-            structureWrapper.rotate(rotations, worldObj, pos, mirror);\n-            structureWrapper.structure.setPlacementSettings(new PlacementSettings(mirror, BlockPosUtil.getRotationFromRotations(rotations)));\n-            structureWrapper.placeStructure(pos.subtract(structureWrapper.structure.getOffset()), complete);\n+        \t@NotNull final Structure structure = new Structure(worldObj, name, new PlacementSettings(mirror, rotation));\n+            structure.setPosition(pos);\n+            structure.rotate(rotation, worldObj, pos, mirror);\n+            @NotNull final InstantStructurePlacer structureWrapper = new InstantStructurePlacer(structure);\n+            structureWrapper.setupStructurePlacement(pos.subtract(structure.getOffset()), complete, null);", "originalCommit": "0f9e24166196d4767ecc5bf5cf1bff056489d15d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5f6ccc2180ec10942580772139984bb59d671854", "url": "https://github.com/ldtteam/minecolonies/commit/5f6ccc2180ec10942580772139984bb59d671854", "message": "Merge branch 'version/1.15' into fix/pastewater", "committedDate": "2020-05-01T14:56:17Z", "type": "commit"}, {"oid": "eea40f6e6c56081805056917a96314627c4db870", "url": "https://github.com/ldtteam/minecolonies/commit/eea40f6e6c56081805056917a96314627c4db870", "message": "dont break fluids in remove stage", "committedDate": "2020-05-01T17:23:57Z", "type": "commit"}]}