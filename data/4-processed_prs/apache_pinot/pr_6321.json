{"pr_number": 6321, "pr_title": "Enhance JSONRecordReader to handle GZIP compressed JSON files.", "pr_createdAt": "2020-12-04T22:46:17Z", "pr_url": "https://github.com/apache/pinot/pull/6321", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ0OTIzMQ==", "url": "https://github.com/apache/pinot/pull/6321#discussion_r536449231", "bodyText": "do you need to rewind the stream?", "author": "xiangfu0", "createdAt": "2020-12-04T23:49:07Z", "path": "pinot-plugins/pinot-input-format/pinot-json/src/main/java/org/apache/pinot/plugin/inputformat/json/JSONRecordReader.java", "diffHunk": "@@ -86,12 +91,14 @@ public GenericRow next(GenericRow reuse) {\n   public void rewind()\n       throws IOException {\n     _iterator.close();\n+    _inputStream.close();", "originalCommit": "73205e337417f25cb1d5fdb8b37b82f921182262", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkwMzU2NA==", "url": "https://github.com/apache/pinot/pull/6321#discussion_r536903564", "bodyText": "The init() should now take care of re-initializing the stream.", "author": "mayankshriv", "createdAt": "2020-12-05T22:20:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ0OTIzMQ=="}], "type": "inlineReview"}, {"oid": "abbac5dcbafd71cda39d191930e3803f0b31cffe", "url": "https://github.com/apache/pinot/commit/abbac5dcbafd71cda39d191930e3803f0b31cffe", "message": "Enhance JSONRecordReader to handle GZIP compressed JSON files.\n\nEnhanced JSONRecordReader to handle reading of GZIP compressed JSON files.\nUsed existing way in `RecordReaderUtils` to check for GZIP compression that\njust relies on `.gz` segment generation.\n\nTODO:\nConsider identifying GZIP compression based on `GZIPInputStream.GZIP_MAGIC` instead\nof file extension.", "committedDate": "2020-12-05T22:19:01Z", "type": "commit"}, {"oid": "abbac5dcbafd71cda39d191930e3803f0b31cffe", "url": "https://github.com/apache/pinot/commit/abbac5dcbafd71cda39d191930e3803f0b31cffe", "message": "Enhance JSONRecordReader to handle GZIP compressed JSON files.\n\nEnhanced JSONRecordReader to handle reading of GZIP compressed JSON files.\nUsed existing way in `RecordReaderUtils` to check for GZIP compression that\njust relies on `.gz` segment generation.\n\nTODO:\nConsider identifying GZIP compression based on `GZIPInputStream.GZIP_MAGIC` instead\nof file extension.", "committedDate": "2020-12-05T22:19:01Z", "type": "forcePushed"}]}