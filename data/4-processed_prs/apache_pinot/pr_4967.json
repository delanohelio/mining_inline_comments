{"pr_number": 4967, "pr_title": "Refactor pinot-batch-ingestion job specs to pinot-spi", "pr_createdAt": "2020-01-09T01:27:52Z", "pr_url": "https://github.com/apache/pinot/pull/4967", "timeline": [{"oid": "3d533ec05650e949a922731b2f92a36452a3dc3b", "url": "https://github.com/apache/pinot/commit/3d533ec05650e949a922731b2f92a36452a3dc3b", "message": "Refactor pinot-batch-ingestion job specs to pinot-spi", "committedDate": "2020-01-09T01:27:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUyNzUxMw==", "url": "https://github.com/apache/pinot/pull/4967#discussion_r364527513", "bodyText": "add javadocs to this", "author": "kishoreg", "createdAt": "2020-01-09T01:50:36Z", "path": "pinot-spi/src/main/java/org/apache/pinot/spi/ingestion/runner/IngestionJobRunner.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.apache.pinot.spi.ingestion.runner;\n+\n+import org.apache.pinot.spi.ingestion.spec.SegmentGenerationJobSpec;\n+\n+\n+public interface IngestionJobRunner {", "originalCommit": "3d533ec05650e949a922731b2f92a36452a3dc3b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUyODQyNQ==", "url": "https://github.com/apache/pinot/pull/4967#discussion_r364528425", "bodyText": "is there any other place we can move this to? having a class for just one constant  does not look right.", "author": "kishoreg", "createdAt": "2020-01-09T01:55:09Z", "path": "pinot-spi/src/main/java/org/apache/pinot/spi/ingestion/spec/Constants.java", "diffHunk": "@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.pinot.ingestion.common;\n+package org.apache.pinot.spi.ingestion.spec;\n \n public class Constants {", "originalCommit": "3d533ec05650e949a922731b2f92a36452a3dc3b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDU0ODkyMA==", "url": "https://github.com/apache/pinot/pull/4967#discussion_r364548920", "bodyText": "It's been used from all the jobRunners, I think it's fine to keep it here. We may add more constants later.", "author": "xiangfu0", "createdAt": "2020-01-09T03:50:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUyODQyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUzMDA2Nw==", "url": "https://github.com/apache/pinot/pull/4967#discussion_r364530067", "bodyText": "plugin.batch....", "author": "kishoreg", "createdAt": "2020-01-09T02:03:50Z", "path": "pinot-plugins/pinot-batch-ingestion/pinot-batch-ingestion-standalone/src/main/java/org/apache/pinot/plugin/ingestion/standalone/SegmentGenerationJobRunner.java", "diffHunk": "@@ -16,7 +16,7 @@\n  * specific language governing permissions and limitations\n  * under the License.\n  */\n-package org.apache.pinot.ingestion.standalone;\n+package org.apache.pinot.plugin.ingestion.standalone;", "originalCommit": "3d533ec05650e949a922731b2f92a36452a3dc3b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUzMDE0NA==", "url": "https://github.com/apache/pinot/pull/4967#discussion_r364530144", "bodyText": "spi.batch....", "author": "kishoreg", "createdAt": "2020-01-09T02:04:14Z", "path": "pinot-plugins/pinot-batch-ingestion/pinot-batch-ingestion-standalone/src/main/java/org/apache/pinot/plugin/ingestion/standalone/SegmentGenerationJobRunner.java", "diffHunk": "@@ -36,31 +36,66 @@\n import org.apache.commons.configuration.MapConfiguration;\n import org.apache.commons.io.FileUtils;\n import org.apache.commons.io.IOUtils;\n-import org.apache.pinot.ingestion.common.Constants;\n-import org.apache.pinot.ingestion.common.SegmentGenerationTaskRunner;\n-import org.apache.pinot.ingestion.common.SegmentGenerationTaskSpec;\n-import org.apache.pinot.ingestion.common.PinotClusterSpec;\n-import org.apache.pinot.ingestion.common.PinotFSSpec;\n-import org.apache.pinot.ingestion.common.SegmentGenerationJobSpec;\n import org.apache.pinot.common.config.TableConfig;\n import org.apache.pinot.common.utils.TarGzCompressionUtils;\n import org.apache.pinot.spi.data.Schema;\n import org.apache.pinot.spi.filesystem.PinotFS;\n import org.apache.pinot.spi.filesystem.PinotFSFactory;\n+import org.apache.pinot.spi.ingestion.runner.IngestionJobRunner;", "originalCommit": "3d533ec05650e949a922731b2f92a36452a3dc3b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6739e00ce11c8c96200c86d6b9696ca246bdd84e", "url": "https://github.com/apache/pinot/commit/6739e00ce11c8c96200c86d6b9696ca246bdd84e", "message": "Address comments", "committedDate": "2020-01-09T03:44:34Z", "type": "commit"}, {"oid": "7219a624c94de89d1af45c50280e8734037d7e81", "url": "https://github.com/apache/pinot/commit/7219a624c94de89d1af45c50280e8734037d7e81", "message": "Move package from org.apache.pinot.plugin.batch.ingestion.standalone to org.apache.pinot.plugin.ingestion.batch.standalone", "committedDate": "2020-01-10T21:42:34Z", "type": "commit"}, {"oid": "7219a624c94de89d1af45c50280e8734037d7e81", "url": "https://github.com/apache/pinot/commit/7219a624c94de89d1af45c50280e8734037d7e81", "message": "Move package from org.apache.pinot.plugin.batch.ingestion.standalone to org.apache.pinot.plugin.ingestion.batch.standalone", "committedDate": "2020-01-10T21:42:34Z", "type": "forcePushed"}]}