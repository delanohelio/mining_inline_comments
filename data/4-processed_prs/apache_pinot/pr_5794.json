{"pr_number": 5794, "pr_title": "[TE] make rca insights in email resilient to issues in rca response", "pr_createdAt": "2020-08-03T19:39:19Z", "pr_url": "https://github.com/apache/pinot/pull/5794", "timeline": [{"oid": "dbec0baf6460609ae99806383db5ad38efdd6b43", "url": "https://github.com/apache/pinot/commit/dbec0baf6460609ae99806383db5ad38efdd6b43", "message": "[TE] make rca insights in email resilient to issues in rca response", "committedDate": "2020-08-03T19:39:04Z", "type": "commit"}, {"oid": "dbec0baf6460609ae99806383db5ad38efdd6b43", "url": "https://github.com/apache/pinot/commit/dbec0baf6460609ae99806383db5ad38efdd6b43", "message": "[TE] make rca insights in email resilient to issues in rca response", "committedDate": "2020-08-03T19:39:04Z", "type": "forcePushed"}, {"oid": "9d1b0c1a9b3d5d5eba9fca49488146585e816c6a", "url": "https://github.com/apache/pinot/commit/9d1b0c1a9b3d5d5eba9fca49488146585e816c6a", "message": "remove h2 bin", "committedDate": "2020-08-04T18:18:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODgwNw==", "url": "https://github.com/apache/pinot/pull/5794#discussion_r465258807", "bodyText": "Just want to confirm that we still need this method. Should the HTTP framework automatically convert Map<String, Object> to JSON?", "author": "vincentchenjl", "createdAt": "2020-08-04T18:50:44Z", "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/dashboard/resources/SummaryResource.java", "diffHunk": "@@ -172,6 +158,57 @@ public String buildSummary(\n         response = SummaryResponse.buildNotAvailableResponse(datasetName, metricName);\n       }\n     }\n+\n+    return response;\n+  }\n+\n+  @GET\n+  @Path(value = \"/summary/autoDimensionOrder/v2\")\n+  @Produces(MediaType.APPLICATION_JSON)\n+  public Map<String, Object> getDataCubeSummary(\n+      @QueryParam(METRIC_URN) String metricUrn,\n+      @QueryParam(\"dataset\") String dataset,\n+      @QueryParam(\"metric\") String metric,\n+      @QueryParam(CURRENT_START) long currentStartInclusive,\n+      @QueryParam(CURRENT_END) long currentEndExclusive,\n+      @QueryParam(BASELINE_START) long baselineStartInclusive,\n+      @QueryParam(BASELINE_END) long baselineEndExclusive,\n+      @QueryParam(\"dimensions\") String groupByDimensions,\n+      @QueryParam(\"filters\") String filterJsonPayload,\n+      @QueryParam(CUBE_SUMMARY_SIZE) int summarySize,\n+      @QueryParam(CUBE_DEPTH) @DefaultValue(DEFAULT_DEPTH) int depth,\n+      @QueryParam(CUBE_DIM_HIERARCHIES) @DefaultValue(DEFAULT_HIERARCHIES) String hierarchiesPayload,\n+      @QueryParam(CUBE_ONE_SIDE_ERROR) @DefaultValue(DEFAULT_ONE_SIDE_ERROR) boolean doOneSideError,\n+      @QueryParam(CUBE_EXCLUDED_DIMENSIONS) @DefaultValue(DEFAULT_EXCLUDED_DIMENSIONS) String excludedDimensions,\n+      @QueryParam(TIME_ZONE) @DefaultValue(DEFAULT_TIMEZONE_ID) String timeZone) throws Exception {\n+    SummaryResponse response = buildDataCubeSummary(metricUrn, metric, dataset, currentStartInclusive, currentEndExclusive, baselineStartInclusive,\n+        baselineEndExclusive, groupByDimensions, filterJsonPayload, summarySize, depth, hierarchiesPayload,\n+        doOneSideError, excludedDimensions, timeZone);\n+    return OBJECT_MAPPER.convertValue(response, Map.class);\n+  }\n+\n+  @GET\n+  @Path(value = \"/summary/autoDimensionOrder\")\n+  @Produces(MediaType.APPLICATION_JSON)\n+  public String buildSummary(", "originalCommit": "9d1b0c1a9b3d5d5eba9fca49488146585e816c6a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI3NTQyNg==", "url": "https://github.com/apache/pinot/pull/5794#discussion_r465275426", "bodyText": "This API is being consumed by some clients. Hence retained it.", "author": "akshayrai", "createdAt": "2020-08-04T19:22:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODgwNw=="}], "type": "inlineReview"}]}