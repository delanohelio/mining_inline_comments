{"pr_number": 5376, "pr_title": "Fix SegmentCompletionProtocol to ignore unknown json fields", "pr_createdAt": "2020-05-12T21:01:02Z", "pr_url": "https://github.com/apache/pinot/pull/5376", "timeline": [{"oid": "03c48e49c5e2d3e65fa7780baf074ee84dbf8f5a", "url": "https://github.com/apache/pinot/commit/03c48e49c5e2d3e65fa7780baf074ee84dbf8f5a", "message": "Fix SegmentCompletionProtocol to ignore unknown json fields\n\nOur compatibility guarantees are around upgrading the controller first\nand then the broker and then the server. So, it is possible that the\ncontroller sends a new field in the response (in SegmentCompletionProtocol)\nThe server should ignore new fields that it does not understand", "committedDate": "2020-05-12T20:57:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAzMjMyMw==", "url": "https://github.com/apache/pinot/pull/5376#discussion_r424032323", "bodyText": "This line should be added before line 388", "author": "Jackie-Jiang", "createdAt": "2020-05-12T21:03:45Z", "path": "pinot-common/src/main/java/org/apache/pinot/common/protocols/SegmentCompletionProtocol.java", "diffHunk": "@@ -395,6 +396,7 @@ public SegmentStoppedConsuming(Params params) {\n     public Response() {\n     }\n \n+    @JsonIgnoreProperties(ignoreUnknown = true)", "originalCommit": "03c48e49c5e2d3e65fa7780baf074ee84dbf8f5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAzNTg4Ng==", "url": "https://github.com/apache/pinot/pull/5376#discussion_r424035886", "bodyText": "good catch, thanks", "author": "mcvsubbu", "createdAt": "2020-05-12T21:10:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAzMjMyMw=="}], "type": "inlineReview"}, {"oid": "d4a8f9fb531c8b033b782cbbb6b8f27cb4dd0fdd", "url": "https://github.com/apache/pinot/commit/d4a8f9fb531c8b033b782cbbb6b8f27cb4dd0fdd", "message": "Moved the json ignore line to the correct place", "committedDate": "2020-05-12T21:10:59Z", "type": "commit"}, {"oid": "6f8344632032939a95208008856d1362085cddad", "url": "https://github.com/apache/pinot/commit/6f8344632032939a95208008856d1362085cddad", "message": "Merge branch 'master' into json-ignore-on-server", "committedDate": "2020-05-12T21:44:32Z", "type": "commit"}]}