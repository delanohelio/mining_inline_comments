{"pr_number": 6397, "pr_title": "Clean up H3Index Reader/Creator", "pr_createdAt": "2020-12-30T20:02:11Z", "pr_url": "https://github.com/apache/pinot/pull/6397", "timeline": [{"oid": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8", "url": "https://github.com/apache/pinot/commit/c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8", "message": "Cleaned up H3Index Reader/Creator", "committedDate": "2020-12-30T20:00:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxODMyNA==", "url": "https://github.com/apache/pinot/pull/6397#discussion_r550418324", "bodyText": "move the Main into a test case", "author": "kishoreg", "createdAt": "2020-12-31T07:33:55Z", "path": "pinot-core/src/main/java/org/apache/pinot/core/segment/creator/impl/geospatial/H3IndexCreator.java", "diffHunk": "@@ -303,7 +339,6 @@ public static void main(String[] args)\n     Point point2 = GeometryUtils.GEOMETRY_FACTORY.createPoint(new Coordinate(37.368832, -122.036346));", "originalCommit": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxODU0Mw==", "url": "https://github.com/apache/pinot/pull/6397#discussion_r550418543", "bodyText": "make sure you are using the stylesheet to format the code", "author": "kishoreg", "createdAt": "2020-12-31T07:35:18Z", "path": "pinot-core/src/main/java/org/apache/pinot/core/segment/index/datasource/BaseDataSource.java", "diffHunk": "@@ -44,13 +44,10 @@\n   private final NullValueVectorReader _nullValueVector;\n \n   public BaseDataSource(DataSourceMetadata dataSourceMetadata, ForwardIndexReader<?> forwardIndex,\n-                        @Nullable Dictionary dictionary, @Nullable InvertedIndexReader<?> invertedIndex,\n-                        @Nullable InvertedIndexReader<?> rangeIndex,\n-                        @Nullable H3IndexReader h3Index,\n-                        @Nullable TextIndexReader textIndex,\n-                        @Nullable TextIndexReader fstIndex,\n-                        @Nullable BloomFilterReader bloomFilter,\n-                        @Nullable NullValueVectorReader nullValueVector) {\n+      @Nullable Dictionary dictionary, @Nullable InvertedIndexReader<?> invertedIndex,", "originalCommit": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDU4OTU2Nw==", "url": "https://github.com/apache/pinot/pull/6397#discussion_r550589567", "bodyText": "Yes, this is done via auto-formatting.", "author": "yupeng9", "createdAt": "2020-12-31T17:39:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxODU0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxODkwNQ==", "url": "https://github.com/apache/pinot/pull/6397#discussion_r550418905", "bodyText": "I think we added a new way of adding indexing configs for each field... can you follow the pattern used by text index? can be done in another PR", "author": "kishoreg", "createdAt": "2020-12-31T07:37:30Z", "path": "pinot-tools/src/main/resources/examples/batch/starbucksStores/starbucksStores_offline_table_config.json", "diffHunk": "@@ -15,8 +15,11 @@\n     \"loadMode\": \"MMAP\",\n     \"invertedIndexColumns\": [\n     ],\n-    \"h3IndexColumns\": [\n-      \"location_st_point\"\n+    \"h3IndexConfigs\": [", "originalCommit": "c5c88567ff8dc97ed3203d60e05eaa2eec6d94a8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}