{"pr_number": 2270, "pr_title": "Set TrafficStats tag in FirebaseInstallationServiceClient.createFirebaseInstallation", "pr_createdAt": "2020-12-17T15:17:47Z", "pr_url": "https://github.com/firebase/firebase-android-sdk/pull/2270", "timeline": [{"oid": "1d9d0b6ca3408e3ad34001da0d6cd43ea18cd730", "url": "https://github.com/firebase/firebase-android-sdk/commit/1d9d0b6ca3408e3ad34001da0d6cd43ea18cd730", "message": "Set TrafficStats tag in FirebaseInstallationServiceClient.createFirebaseInstallation\n\nFixes #2227\n\nTested:\nI verified that com.google.googlequicksearchbox doesn't have the violation anymore in the e2e test.\n\nSigned-off-by: Re\u0301gis De\u0301camps <regisd@google.com>", "committedDate": "2020-12-17T15:16:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDI5MzgzMw==", "url": "https://github.com/firebase/firebase-android-sdk/pull/2270#discussion_r554293833", "bodyText": "Thanks @regisd for fixing this up. I had some questions:\nWe have some other http requests that are made in this class.\n\nDo we need stats_tag's for each of those as well?\nIf yes, can we reuse the same stats tag? Or do we unique one's? And should we reserve them just like you did in cl/348055557\n\nLike GenerateToken & Delete.", "author": "ankitaj224", "createdAt": "2021-01-09T05:21:40Z", "path": "firebase-installations/src/main/java/com/google/firebase/installations/remote/FirebaseInstallationServiceClient.java", "diffHunk": "@@ -56,6 +57,9 @@\n  * @hide\n  */\n public class FirebaseInstallationServiceClient {\n+\n+  public static final int CREATE_INSTALLATION_TRAFFIC_STATS_TAG = 0x00008000;", "originalCommit": "1d9d0b6ca3408e3ad34001da0d6cd43ea18cd730", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDk0ODE1OA==", "url": "https://github.com/firebase/firebase-android-sdk/pull/2270#discussion_r554948158", "bodyText": "Ah good point! Indeed, all http connections need to be tagged.\nThe initial cl/348055557 reserves a whole range in Firebase common. For more fine-grained tagging, we can use \"Secondary tags\".", "author": "regisd", "createdAt": "2021-01-11T10:27:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDI5MzgzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDk2NjU1Mg==", "url": "https://github.com/firebase/firebase-android-sdk/pull/2270#discussion_r554966552", "bodyText": "Added the secondary tags in cl/351113253. Since the primary tag is reserved for firebase-installations, I don't think there is a requirement in the order of submission of the CL and the PR.", "author": "regisd", "createdAt": "2021-01-11T10:59:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDI5MzgzMw=="}], "type": "inlineReview"}, {"oid": "78fe3d4e30ec1970e4602a8276c11bec67522e3d", "url": "https://github.com/firebase/firebase-android-sdk/commit/78fe3d4e30ec1970e4602a8276c11bec67522e3d", "message": "Add TrafficStats tags for Create isntallation, Delete installation and Generate Token.", "committedDate": "2021-01-11T10:39:09Z", "type": "commit"}, {"oid": "537e2b5ebeefaeb00ada5b452fed2a65aab1840b", "url": "https://github.com/firebase/firebase-android-sdk/commit/537e2b5ebeefaeb00ada5b452fed2a65aab1840b", "message": "Rename tags to be prefixed with TRAFFIC_STATS", "committedDate": "2021-01-11T10:56:07Z", "type": "commit"}, {"oid": "d215302d05cf025a7219055e35d2cfcef6caa479", "url": "https://github.com/firebase/firebase-android-sdk/commit/d215302d05cf025a7219055e35d2cfcef6caa479", "message": "Update copyright header for 2021.", "committedDate": "2021-01-11T10:56:53Z", "type": "commit"}]}