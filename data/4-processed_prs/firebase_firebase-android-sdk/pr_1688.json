{"pr_number": 1688, "pr_title": "Functions unified emulator settings", "pr_createdAt": "2020-06-19T15:39:40Z", "pr_url": "https://github.com/firebase/firebase-android-sdk/pull/1688", "timeline": [{"oid": "bc71a1795f4cc1f5eeeef5c92767ca1eadb23061", "url": "https://github.com/firebase/firebase-android-sdk/commit/bc71a1795f4cc1f5eeeef5c92767ca1eadb23061", "message": "Functions unified emulator settings", "committedDate": "2020-06-19T15:38:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkxMjA3MA==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r442912070", "bodyText": "Should this require a new api.txt?  If so the bot did not warn me for the Database PR...", "author": "samtstern", "createdAt": "2020-06-19T15:40:47Z", "path": "firebase-functions/src/main/java/com/google/firebase/functions/FirebaseFunctions.java", "diffHunk": "@@ -47,6 +50,13 @@\n /** FirebaseFunctions lets you call Cloud Functions for Firebase. */\n public class FirebaseFunctions {\n \n+  /**\n+   * Emulator identifier, see {@link\n+   * com.google.firebase.emulators.EmulatorSettings.Builder#addEmulatedService(FirebaseEmulator,\n+   * EmulatedServiceSettings)}\n+   */\n+  public static final FirebaseEmulator EMULATOR = FirebaseEmulator.forName(\"functions\");", "originalCommit": "bc71a1795f4cc1f5eeeef5c92767ca1eadb23061", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4ODA0Mw==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r442988043", "bodyText": "Unsure, Would it not fail tests/RC confirmation if that was the case?", "author": "davidmotson", "createdAt": "2020-06-19T18:28:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkxMjA3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAxNDk3Ng==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r443014976", "bodyText": "It should. Seems like the bot failed silently. See #1692", "author": "thatfiredev", "createdAt": "2020-06-19T19:41:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkxMjA3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAxNjMyNA==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r443016324", "bodyText": "I think I can add a fix for that here:\n#1690\nI don't think there will be a database release before that is resolved.", "author": "samtstern", "createdAt": "2020-06-19T19:45:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkxMjA3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAxNzI3NA==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r443017274", "bodyText": "@samtstern I'll change the base branch of my PR to the base branch of #1690", "author": "thatfiredev", "createdAt": "2020-06-19T19:47:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkxMjA3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4NDI1Ng==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r442984256", "bodyText": "would it be possible to get a named variable for these nulls? Its unclear what exactly they mean for the test?\nSomething like \"NO_CALLBACK\" or something.", "author": "davidmotson", "createdAt": "2020-06-19T18:18:52Z", "path": "firebase-functions/src/androidTest/java/com/google/firebase/functions/CallTest.java", "diffHunk": "@@ -90,7 +90,8 @@ public void testToken() throws InterruptedException, ExecutionException {\n             () -> {\n               HttpsCallableContext context = new HttpsCallableContext(\"token\", null);\n               return Tasks.forResult(context);\n-            });\n+            },\n+            null);", "originalCommit": "bc71a1795f4cc1f5eeeef5c92767ca1eadb23061", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAwNDQ1MQ==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r443004451", "bodyText": "Good idea.", "author": "samtstern", "createdAt": "2020-06-19T19:11:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4NDI1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4Nzg5MA==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r442987890", "bodyText": "Is there any value to holding this reference? Or is it only useful for this URL?", "author": "davidmotson", "createdAt": "2020-06-19T18:27:49Z", "path": "firebase-functions/src/main/java/com/google/firebase/functions/FirebaseFunctions.java", "diffHunk": "@@ -75,13 +85,26 @@\n   private String urlFormat = \"https://%1$s-%2$s.cloudfunctions.net/%3$s\";\n \n   FirebaseFunctions(\n-      Context context, String projectId, String region, ContextProvider contextProvider) {\n+      Context context,\n+      String projectId,\n+      String region,\n+      ContextProvider contextProvider,\n+      @Nullable EmulatedServiceSettings emulatorSettings) {", "originalCommit": "bc71a1795f4cc1f5eeeef5c92767ca1eadb23061", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzAwNDI0Mg==", "url": "https://github.com/firebase/firebase-android-sdk/pull/1688#discussion_r443004242", "bodyText": "Yeah we don't need it after we use it.", "author": "samtstern", "createdAt": "2020-06-19T19:11:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4Nzg5MA=="}], "type": "inlineReview"}, {"oid": "85c351472eeed010298f74160fdabd567eac4e08", "url": "https://github.com/firebase/firebase-android-sdk/commit/85c351472eeed010298f74160fdabd567eac4e08", "message": "Review comments", "committedDate": "2020-06-19T19:13:10Z", "type": "commit"}, {"oid": "5d3a9e83321e11cca9bebdd9e2ed8151ba8fddde", "url": "https://github.com/firebase/firebase-android-sdk/commit/5d3a9e83321e11cca9bebdd9e2ed8151ba8fddde", "message": "Merge branch 'master' into ss-functions-emulator-settings", "committedDate": "2020-06-19T19:13:12Z", "type": "commit"}]}