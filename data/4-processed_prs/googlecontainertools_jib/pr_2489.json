{"pr_number": 2489, "pr_title": "Fix Azure auth failure from not using identity token in docker.config auths section", "pr_createdAt": "2020-05-21T20:09:38Z", "pr_url": "https://github.com/GoogleContainerTools/jib/pull/2489", "timeline": [{"oid": "6cbc64a5839effb6f064b0ab91afe11612dd15c1", "url": "https://github.com/GoogleContainerTools/jib/commit/6cbc64a5839effb6f064b0ab91afe11612dd15c1", "message": "Fix Azure identity token authentication", "committedDate": "2020-05-21T20:07:21Z", "type": "commit"}, {"oid": "201165ac9edd2a09b37b42a021fbdcc3f6f448ce", "url": "https://github.com/GoogleContainerTools/jib/commit/201165ac9edd2a09b37b42a021fbdcc3f6f448ce", "message": "Update CHANGELOG and ugrade Jib to 2.3.0", "committedDate": "2020-05-21T20:46:40Z", "type": "commit"}, {"oid": "31e5192d32d43e21e0abafb43c8711a839ac3442", "url": "https://github.com/GoogleContainerTools/jib/commit/31e5192d32d43e21e0abafb43c8711a839ac3442", "message": "Merge remote-tracking branch 'origin/upgrade-to-2.3.0' into i2488-azure-identityToken", "committedDate": "2020-05-21T20:49:18Z", "type": "commit"}, {"oid": "3af449097a026950be19698ddf2531cec2ac7f43", "url": "https://github.com/GoogleContainerTools/jib/commit/3af449097a026950be19698ddf2531cec2ac7f43", "message": "CHANGELOG", "committedDate": "2020-05-21T20:50:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg4ODYyNQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2489#discussion_r428888625", "bodyText": "should this be optional?", "author": "loosebazooka", "createdAt": "2020-05-21T20:13:52Z", "path": "jib-core/src/main/java/com/google/cloud/tools/jib/registry/credentials/DockerConfig.java", "diffHunk": "@@ -76,10 +76,10 @@\n    *     none exists\n    */\n   @Nullable\n-  String getAuthFor(String registry) {\n+  AuthTemplate getAuthFor(String registry) {", "originalCommit": "6cbc64a5839effb6f064b0ab91afe11612dd15c1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODkxMTA5Nw==", "url": "https://github.com/GoogleContainerTools/jib/pull/2489#discussion_r428911097", "bodyText": "Then I'd take out all @Nullables from other methods in this class for consistency, but it becomes a bit involves. Besides, I think it's not that critical to migrate to Optional for this method, as it is not public.", "author": "chanseokoh", "createdAt": "2020-05-21T20:58:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg4ODYyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg4ODgzOQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2489#discussion_r428888839", "bodyText": "then we check if present here?", "author": "loosebazooka", "createdAt": "2020-05-21T20:14:17Z", "path": "jib-core/src/main/java/com/google/cloud/tools/jib/registry/credentials/DockerConfigCredentialRetriever.java", "diffHunk": "@@ -138,15 +139,25 @@ public Path getDockerConfigFile() {\n       }\n \n       // Lastly, find defined auth.\n-      String auth = dockerConfig.getAuthFor(registryAlias);\n+      AuthTemplate auth = dockerConfig.getAuthFor(registryAlias);\n       if (auth != null) {", "originalCommit": "6cbc64a5839effb6f064b0ab91afe11612dd15c1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "73ba9c0b13d1daf19a0edf282eaaf51e3c94c775", "url": "https://github.com/GoogleContainerTools/jib/commit/73ba9c0b13d1daf19a0edf282eaaf51e3c94c775", "message": "Upgrade jib-core to 0.14.0 and udpate CHANGELOG", "committedDate": "2020-05-21T21:04:10Z", "type": "commit"}, {"oid": "4eb16f31a672193e020b6a26b89952fe63c90577", "url": "https://github.com/GoogleContainerTools/jib/commit/4eb16f31a672193e020b6a26b89952fe63c90577", "message": "Merge branch 'master' into i2488-azure-identityToken", "committedDate": "2020-05-21T21:06:05Z", "type": "commit"}, {"oid": "faf76884baebe2c3c1233ba03008424b33d42b5b", "url": "https://github.com/GoogleContainerTools/jib/commit/faf76884baebe2c3c1233ba03008424b33d42b5b", "message": "Merge branch 'upgrade-jib-core' into i2488-azure-identityToken", "committedDate": "2020-05-21T21:06:13Z", "type": "commit"}, {"oid": "71f473287b890c9118086a12882b0a3e52c510c7", "url": "https://github.com/GoogleContainerTools/jib/commit/71f473287b890c9118086a12882b0a3e52c510c7", "message": "CHANGELOG", "committedDate": "2020-05-21T21:06:35Z", "type": "commit"}, {"oid": "95fa26eff747445acb5be994c50f51e0d3ee16f1", "url": "https://github.com/GoogleContainerTools/jib/commit/95fa26eff747445acb5be994c50f51e0d3ee16f1", "message": "Merge branch 'master' into upgrade-jib-core", "committedDate": "2020-05-21T21:08:46Z", "type": "commit"}, {"oid": "35fbe3d749e58be160a98b95d08b82dd34295dd0", "url": "https://github.com/GoogleContainerTools/jib/commit/35fbe3d749e58be160a98b95d08b82dd34295dd0", "message": "Merge branch 'upgrade-jib-core' into i2488-azure-identityToken", "committedDate": "2020-05-21T21:09:09Z", "type": "commit"}, {"oid": "99ec13ffa24c34e33034281c9aff7a6ffde2e27d", "url": "https://github.com/GoogleContainerTools/jib/commit/99ec13ffa24c34e33034281c9aff7a6ffde2e27d", "message": "Merge branch 'master' into i2488-azure-identityToken", "committedDate": "2020-05-21T21:26:23Z", "type": "commit"}]}