{"pr_number": 2937, "pr_title": "Add GitHub Actions for Jib CLI release", "pr_createdAt": "2020-12-11T18:21:18Z", "pr_url": "https://github.com/GoogleContainerTools/jib/pull/2937", "timeline": [{"oid": "6d10110445661414c9eef07b7980338d2f5067c9", "url": "https://github.com/GoogleContainerTools/jib/commit/6d10110445661414c9eef07b7980338d2f5067c9", "message": "initial release workflow", "committedDate": "2020-12-10T21:50:34Z", "type": "commit"}, {"oid": "182936dfa4affb8b485605b3d01bbe8cbd91ba32", "url": "https://github.com/GoogleContainerTools/jib/commit/182936dfa4affb8b485605b3d01bbe8cbd91ba32", "message": "wip", "committedDate": "2020-12-10T21:53:59Z", "type": "commit"}, {"oid": "c1bbca7300c280e84371f141383c149c9065d819", "url": "https://github.com/GoogleContainerTools/jib/commit/c1bbca7300c280e84371f141383c149c9065d819", "message": "Rename job", "committedDate": "2020-12-10T22:00:02Z", "type": "commit"}, {"oid": "7508b92b2f3079e4afe825726658dd45f20d75ec", "url": "https://github.com/GoogleContainerTools/jib/commit/7508b92b2f3079e4afe825726658dd45f20d75ec", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T22:10:10Z", "type": "commit"}, {"oid": "933556eeb92bf48bc69796d6ba331e6f6b8eb464", "url": "https://github.com/GoogleContainerTools/jib/commit/933556eeb92bf48bc69796d6ba331e6f6b8eb464", "message": "wip", "committedDate": "2020-12-10T22:29:00Z", "type": "commit"}, {"oid": "7d6d474a7745a4790c3be6bb363acea0b9c97740", "url": "https://github.com/GoogleContainerTools/jib/commit/7d6d474a7745a4790c3be6bb363acea0b9c97740", "message": "wip", "committedDate": "2020-12-10T22:29:50Z", "type": "commit"}, {"oid": "42b8bd59574fba3c9e84b251f25c47a50e53b5aa", "url": "https://github.com/GoogleContainerTools/jib/commit/42b8bd59574fba3c9e84b251f25c47a50e53b5aa", "message": "Merge pull request #1 from chanseokoh/cli_release_v0.1.0\n\njib-cli/build.gradle", "committedDate": "2020-12-10T22:40:09Z", "type": "commit"}, {"oid": "8f314faec61c23be3bc61e22a281093fa44e7e9f", "url": "https://github.com/GoogleContainerTools/jib/commit/8f314faec61c23be3bc61e22a281093fa44e7e9f", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T22:43:53Z", "type": "commit"}, {"oid": "ae180abfd061544e8769263e6dec186dfcbd01cc", "url": "https://github.com/GoogleContainerTools/jib/commit/ae180abfd061544e8769263e6dec186dfcbd01cc", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T22:50:13Z", "type": "commit"}, {"oid": "0bbb20e918f210f8086059dc995c9469d0dbd611", "url": "https://github.com/GoogleContainerTools/jib/commit/0bbb20e918f210f8086059dc995c9469d0dbd611", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T23:12:01Z", "type": "commit"}, {"oid": "79ffd23353740b4ce4a33b4b59d15c0c866d6580", "url": "https://github.com/GoogleContainerTools/jib/commit/79ffd23353740b4ce4a33b4b59d15c0c866d6580", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T23:15:07Z", "type": "commit"}, {"oid": "51dc36ce354bdd5ab0be49d58c888e063f13edb3", "url": "https://github.com/GoogleContainerTools/jib/commit/51dc36ce354bdd5ab0be49d58c888e063f13edb3", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T23:21:57Z", "type": "commit"}, {"oid": "c5600b2772df44720853d9e85c450877f8b2ec01", "url": "https://github.com/GoogleContainerTools/jib/commit/c5600b2772df44720853d9e85c450877f8b2ec01", "message": "Update build.gradle", "committedDate": "2020-12-10T23:22:26Z", "type": "commit"}, {"oid": "aaf13df2ad6e1830bc75511d3314d47b65b5efd7", "url": "https://github.com/GoogleContainerTools/jib/commit/aaf13df2ad6e1830bc75511d3314d47b65b5efd7", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T23:25:22Z", "type": "commit"}, {"oid": "62750148512e5f401dc56583da421874335c9fd9", "url": "https://github.com/GoogleContainerTools/jib/commit/62750148512e5f401dc56583da421874335c9fd9", "message": "[Gradle Release Plugin] - pre tag commit:  'v0.1.0-cli'.", "committedDate": "2020-12-10T23:27:10Z", "type": "commit"}, {"oid": "7191dc1ed9696ec705ee8ec765dfa26f4f37e591", "url": "https://github.com/GoogleContainerTools/jib/commit/7191dc1ed9696ec705ee8ec765dfa26f4f37e591", "message": "[Gradle Release Plugin] - new version commit:  'v0.1.1-SNAPSHOT-cli'.", "committedDate": "2020-12-10T23:27:16Z", "type": "commit"}, {"oid": "41bd71f5828e11777a145a93e645e300fa320222", "url": "https://github.com/GoogleContainerTools/jib/commit/41bd71f5828e11777a145a93e645e300fa320222", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-10T23:28:43Z", "type": "commit"}, {"oid": "24638e803156f56b0193bdef0d221c8be43615d2", "url": "https://github.com/GoogleContainerTools/jib/commit/24638e803156f56b0193bdef0d221c8be43615d2", "message": "[Gradle Release Plugin] - pre tag commit:  'v0.1.0-cli'.", "committedDate": "2020-12-10T23:30:28Z", "type": "commit"}, {"oid": "53b45d5c9374fc587aa6d240f5d829e08e0aca44", "url": "https://github.com/GoogleContainerTools/jib/commit/53b45d5c9374fc587aa6d240f5d829e08e0aca44", "message": "[Gradle Release Plugin] - new version commit:  'v0.1.1-SNAPSHOT-cli'.", "committedDate": "2020-12-10T23:30:35Z", "type": "commit"}, {"oid": "c0653f19f5fff1d692ada8f3cba7ccc77685dfa4", "url": "https://github.com/GoogleContainerTools/jib/commit/c0653f19f5fff1d692ada8f3cba7ccc77685dfa4", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T00:53:09Z", "type": "commit"}, {"oid": "0126159dee5dde6fd9e612fb52bceb5102f2a5e7", "url": "https://github.com/GoogleContainerTools/jib/commit/0126159dee5dde6fd9e612fb52bceb5102f2a5e7", "message": "Update build.gradle", "committedDate": "2020-12-11T00:55:54Z", "type": "commit"}, {"oid": "e77a1b70b5d9127469b253f5286c751decc23d2d", "url": "https://github.com/GoogleContainerTools/jib/commit/e77a1b70b5d9127469b253f5286c751decc23d2d", "message": "Update build.gradle", "committedDate": "2020-12-11T00:59:52Z", "type": "commit"}, {"oid": "2e5368b7f87bb7e358a6cf330391bdc37fc46e1b", "url": "https://github.com/GoogleContainerTools/jib/commit/2e5368b7f87bb7e358a6cf330391bdc37fc46e1b", "message": "back to original", "committedDate": "2020-12-11T15:29:59Z", "type": "commit"}, {"oid": "ad33d3f454be9a8ff43c719f493e633b1eaf2f4d", "url": "https://github.com/GoogleContainerTools/jib/commit/ad33d3f454be9a8ff43c719f493e633b1eaf2f4d", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T15:41:04Z", "type": "commit"}, {"oid": "6ddca6b1e2ffe77c30c1518007a22bbdeaa7995c", "url": "https://github.com/GoogleContainerTools/jib/commit/6ddca6b1e2ffe77c30c1518007a22bbdeaa7995c", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T15:46:29Z", "type": "commit"}, {"oid": "2e54431b391113caed82b7b46bab8b7bb9b52089", "url": "https://github.com/GoogleContainerTools/jib/commit/2e54431b391113caed82b7b46bab8b7bb9b52089", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T16:21:00Z", "type": "commit"}, {"oid": "b8627036c33fad0c95b3560a8f4e7549d015e520", "url": "https://github.com/GoogleContainerTools/jib/commit/b8627036c33fad0c95b3560a8f4e7549d015e520", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T16:26:16Z", "type": "commit"}, {"oid": "7d071eaee5b2aaabae38174e0a3e2cfb2f2995a1", "url": "https://github.com/GoogleContainerTools/jib/commit/7d071eaee5b2aaabae38174e0a3e2cfb2f2995a1", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T16:31:06Z", "type": "commit"}, {"oid": "2ec7bfd165fcdb30595bed2655e609af99d60e16", "url": "https://github.com/GoogleContainerTools/jib/commit/2ec7bfd165fcdb30595bed2655e609af99d60e16", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T16:32:41Z", "type": "commit"}, {"oid": "e3e271de78ce97f7ba3f77e2a8416d0da08c07cd", "url": "https://github.com/GoogleContainerTools/jib/commit/e3e271de78ce97f7ba3f77e2a8416d0da08c07cd", "message": "release.yml", "committedDate": "2020-12-11T16:41:00Z", "type": "commit"}, {"oid": "17f965e2e0c77e20ac67f11029506d80063556aa", "url": "https://github.com/GoogleContainerTools/jib/commit/17f965e2e0c77e20ac67f11029506d80063556aa", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T16:45:15Z", "type": "commit"}, {"oid": "26061b8f45a055d7575b2387a55e1d1f9f4988c6", "url": "https://github.com/GoogleContainerTools/jib/commit/26061b8f45a055d7575b2387a55e1d1f9f4988c6", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T17:21:59Z", "type": "commit"}, {"oid": "6e4d5eca021589d616f0c358fb845064df08fede", "url": "https://github.com/GoogleContainerTools/jib/commit/6e4d5eca021589d616f0c358fb845064df08fede", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T17:24:12Z", "type": "commit"}, {"oid": "ecec54a7622aecbfbab1757994616358eb8e42bd", "url": "https://github.com/GoogleContainerTools/jib/commit/ecec54a7622aecbfbab1757994616358eb8e42bd", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T17:27:17Z", "type": "commit"}, {"oid": "1c7b5ada8d01fa487e6e34a5de97f9c59674b1b7", "url": "https://github.com/GoogleContainerTools/jib/commit/1c7b5ada8d01fa487e6e34a5de97f9c59674b1b7", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T17:31:27Z", "type": "commit"}, {"oid": "e389d26864a320f5a52db03a58ba91c611f3870a", "url": "https://github.com/GoogleContainerTools/jib/commit/e389d26864a320f5a52db03a58ba91c611f3870a", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T17:35:02Z", "type": "commit"}, {"oid": "2614b70f7612d564642666abe164d965edea1430", "url": "https://github.com/GoogleContainerTools/jib/commit/2614b70f7612d564642666abe164d965edea1430", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T17:38:32Z", "type": "commit"}, {"oid": "cbe68758ef6685fb74534edc665157d790d45d5e", "url": "https://github.com/GoogleContainerTools/jib/commit/cbe68758ef6685fb74534edc665157d790d45d5e", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T18:11:14Z", "type": "commit"}, {"oid": "c9c21aa627ab0349cd9cf5164c79a0620c2d2f7c", "url": "https://github.com/GoogleContainerTools/jib/commit/c9c21aa627ab0349cd9cf5164c79a0620c2d2f7c", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T18:12:23Z", "type": "commit"}, {"oid": "3203e683240d11048aa5756f80118724c50531c4", "url": "https://github.com/GoogleContainerTools/jib/commit/3203e683240d11048aa5756f80118724c50531c4", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T18:13:59Z", "type": "commit"}, {"oid": "cbe732d2ddfc92d2f375d509cc0c1d1b82cac7e7", "url": "https://github.com/GoogleContainerTools/jib/commit/cbe732d2ddfc92d2f375d509cc0c1d1b82cac7e7", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T18:18:28Z", "type": "commit"}, {"oid": "097c459f04e965fc64a74eb88cd1fb6ed71e030d", "url": "https://github.com/GoogleContainerTools/jib/commit/097c459f04e965fc64a74eb88cd1fb6ed71e030d", "message": "Update jib-cli-release.yml", "committedDate": "2020-12-11T18:53:05Z", "type": "commit"}, {"oid": "482b301e9dd83851a82f8ee76822fb3abcbfa8cd", "url": "https://github.com/GoogleContainerTools/jib/commit/482b301e9dd83851a82f8ee76822fb3abcbfa8cd", "message": "Update jib-cli-release.yml\n\nno need to push tag", "committedDate": "2020-12-11T18:53:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA4NTQ4Ng==", "url": "https://github.com/GoogleContainerTools/jib/pull/2937#discussion_r542085486", "bodyText": "I wonder if this can be configured to be the user triggering the event?", "author": "loosebazooka", "createdAt": "2020-12-14T03:22:03Z", "path": ".github/workflows/jib-cli-release.yml", "diffHunk": "@@ -0,0 +1,56 @@\n+name: Release Jib CLI\n+on:\n+  workflow_dispatch:\n+    inputs:\n+      release_version:\n+        description: new release version\n+        required: true\n+        default: (for example, 0.1.0)\n+\n+jobs:\n+  release:\n+    name: Release Jib CLI\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Check out code\n+        uses: actions/checkout@v2\n+\n+      - name: Build Jib CLI\n+        run: |\n+          # TODO: run integration test? (Requries auth with GCP.)\n+          ./gradlew clean build jib-cli:instDist\n+\n+      - name: Run Gradle release\n+        run: |\n+          git checkout -b cli_release_v${{ github.event.inputs.release_version }}\n+          git config user.email \"chanseok@google.com\"", "originalCommit": "482b301e9dd83851a82f8ee76822fb3abcbfa8cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQ5NzI3Nw==", "url": "https://github.com/GoogleContainerTools/jib/pull/2937#discussion_r542497277", "bodyText": "Yeah, I need to figure this out eventually.", "author": "chanseokoh", "createdAt": "2020-12-14T15:57:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjA4NTQ4Ng=="}], "type": "inlineReview"}]}