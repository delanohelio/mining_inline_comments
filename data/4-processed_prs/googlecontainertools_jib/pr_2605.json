{"pr_number": 2605, "pr_title": "Modify dependencies info to include the full dependency path instead of just the version", "pr_createdAt": "2020-07-21T21:05:11Z", "pr_url": "https://github.com/GoogleContainerTools/jib/pull/2605", "timeline": [{"oid": "38998fe983b557581a5ca7870ac3c7849ee8876c", "url": "https://github.com/GoogleContainerTools/jib/commit/38998fe983b557581a5ca7870ac3c7849ee8876c", "message": "Use full dependency string instead of tracking just the version", "committedDate": "2020-07-21T19:17:16Z", "type": "commit"}, {"oid": "02e2299f9ced36049b86f88bd55f495af26d7087", "url": "https://github.com/GoogleContainerTools/jib/commit/02e2299f9ced36049b86f88bd55f495af26d7087", "message": "Use full dependency string instead of tracking just the version", "committedDate": "2020-07-21T20:52:38Z", "type": "commit"}, {"oid": "ee2d9765e538b4a8d5130b14017b86d39ccfafbe", "url": "https://github.com/GoogleContainerTools/jib/commit/ee2d9765e538b4a8d5130b14017b86d39ccfafbe", "message": "fixing dependency issues for maven", "committedDate": "2020-07-21T21:46:51Z", "type": "commit"}, {"oid": "3d94dabce4684ad81727fc364fc7f78d6a5916ca", "url": "https://github.com/GoogleContainerTools/jib/commit/3d94dabce4684ad81727fc364fc7f78d6a5916ca", "message": "Merge branch 'dependency-change' of https://github.com/GoogleContainerTools/jib into dependency-change", "committedDate": "2020-07-21T23:24:13Z", "type": "commit"}, {"oid": "1825cd67e62a4ffd49340a446302eddef7d4885e", "url": "https://github.com/GoogleContainerTools/jib/commit/1825cd67e62a4ffd49340a446302eddef7d4885e", "message": "undo unintended change", "committedDate": "2020-07-22T14:34:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg0NTYxNA==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r458845614", "bodyText": "Really super-nit, but we try to maintain consistency regarding ' and \". In Gradle (which is Groovy language), we use ' for static strings like this one, while using \" for strings containing expressions to evaluate (such as \"some text with a ${variable}\").", "author": "chanseokoh", "createdAt": "2020-07-22T14:42:38Z", "path": "build.gradle", "diffHunk": "@@ -48,44 +48,46 @@ subprojects {\n \n   /* PROJECT DEPENDENCY VERSIONS */\n   // define all common versioned dependencies here\n-  project.ext.dependencyVersions = [\n+  project.ext.dependencyStrings = [\n     // For Google libraries, check <http-client-bom.version>, <google.auth.version>, <guava.version>,\n     // ... in https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/pom.xml\n     // for best compatibility.\n-    GOOGLE_HTTP_CLIENT: '1.34.0',\n-    GOOGLE_HTTP_CLIENT_APACHE_V2: '1.34.0',\n-    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: '0.18.0',\n-    GUAVA: '28.1-jre',\n-    JSR305: '3.0.2', // transitively pulled in by GUAVA\n+    GOOGLE_HTTP_CLIENT: \"com.google.http-client:google-http-client:1.34.0\",", "originalCommit": "1825cd67e62a4ffd49340a446302eddef7d4885e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMTUzMQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459011531", "bodyText": "Thanks for pointing this out! Fixed the style issue.", "author": "mpeddada1", "createdAt": "2020-07-22T18:52:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg0NTYxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg1NDMwMA==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r458854300", "bodyText": "I wonder if this name google-https-client should be derived from the GOOGLE_HTTP_CLIENT value??\nMaybe you could use a closure to create a map from a list?\nrules = [GOOGLE_HTTP_CLIENT, GOOGLE_HTTP_CLIENT_APACHE_V2] .collectEntries {\n[calculate name: calculate version]\n}\n\nI'm only vaguely familiar with groovy transforms, might be worth looking up", "author": "loosebazooka", "createdAt": "2020-07-22T14:53:34Z", "path": "build.gradle", "diffHunk": "@@ -48,44 +48,46 @@ subprojects {\n \n   /* PROJECT DEPENDENCY VERSIONS */\n   // define all common versioned dependencies here\n-  project.ext.dependencyVersions = [\n+  project.ext.dependencyStrings = [\n     // For Google libraries, check <http-client-bom.version>, <google.auth.version>, <guava.version>,\n     // ... in https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/pom.xml\n     // for best compatibility.\n-    GOOGLE_HTTP_CLIENT: '1.34.0',\n-    GOOGLE_HTTP_CLIENT_APACHE_V2: '1.34.0',\n-    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: '0.18.0',\n-    GUAVA: '28.1-jre',\n-    JSR305: '3.0.2', // transitively pulled in by GUAVA\n+    GOOGLE_HTTP_CLIENT: \"com.google.http-client:google-http-client:1.34.0\",\n+    GOOGLE_HTTP_CLIENT_APACHE_V2: \"com.google.http-client:google-http-client-apache-v2:1.34.0\",\n+    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: \"com.google.auth:google-auth-library-oauth2-http:0.18.0\",\n+    GUAVA: \"com.google.guava:guava:28.1-jre\",\n+    JSR305: \"com.google.code.findbugs:jsr305:3.0.2\", // transitively pulled in by GUAVA\n \n     // for Build Plan and Jib Plugins Extension API\n-    BUILD_PLAN: '0.3.1',\n-    EXTENSION_COMMON: '0.2.0',\n-    GRADLE_EXTENSION: '0.3.0',\n-    MAVEN_EXTENSION: '0.3.0',\n+    BUILD_PLAN: \"com.google.cloud.tools:jib-build-plan:0.3.1\",\n+    EXTENSION_COMMON: \"com.google.cloud.tools:jib-plugins-extension-common:0.2.0\",\n+    GRADLE_EXTENSION: \"com.google.cloud.tools:jib-gradle-plugin-extension-api:0.3.0\",\n+    MAVEN_EXTENSION: \"com.google.cloud.tools:jib-maven-plugin-extension-api:0.3.0\",\n \n-    COMMONS_COMPRESS: '1.19',\n-    JACKSON_DATABIND: '2.11.0',\n-    JACKSON_DATAFORMAT_YAML: '2.11.0',\n-    ASM: '7.3.1',\n-    PICOCLI: '4.2.0',\n+    COMMONS_COMPRESS: \"org.apache.commons:commons-compress:1.19\",\n+    JACKSON_DATABIND: \"com.fasterxml.jackson.core:jackson-databind:2.11.0\",\n+    JACKSON_DATAFORMAT_YAML: \"com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.11.0\",\n+    ASM: \"org.ow2.asm:asm:7.3.1\",\n+    PICOCLI: \"info.picocli:picocli:4.2.0\",\n \n-    MAVEN_API: '3.5.2',\n+    MAVEN_API: \"org.apache.maven:maven-plugin-api:3.5.2\",\n+    MAVEN_CORE: \"org.apache.maven:maven-core:3.5.2\",\n+    MAVEN_COMPAT: \"org.apache.maven:maven-compat:3.5.2\",\n \n     //test\n-    JUNIT: '4.13',\n-    MOCKITO_CORE: '3.2.4',\n-    SLF4J_API: '1.7.25',\n-    SYSTEM_RULES: '1.19.0',\n-    JBCRYPT: '0.4',\n+    JUNIT: \"junit:junit:4.13\",\n+    MOCKITO_CORE: \"org.mockito:mockito-core:3.2.4\",\n+    SLF4J_API: \"org.slf4j:slf4j-api:1.7.25\",\n+    SYSTEM_RULES:  \"com.github.stefanbirkner:system-rules:1.19.0\",\n+    JBCRYPT: \"org.mindrot:jbcrypt:0.4\",\n   ]\n \n   // Use this to ensure we correctly override transitive dependencies\n   // TODO: There might be a plugin that does this\n   task ensureTransitiveDependencyOverrides {\n     def rules = [\n-        'google-http-client': dependencyVersions.GOOGLE_HTTP_CLIENT,\n-        'google-http-client-apache-v2': dependencyVersions.GOOGLE_HTTP_CLIENT_APACHE_V2,\n+        'google-http-client': dependencyStrings.GOOGLE_HTTP_CLIENT.split(':')[-1],", "originalCommit": "1825cd67e62a4ffd49340a446302eddef7d4885e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMDc4Ng==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459010786", "bodyText": "Oh I didn't know you could do that, thanks!", "author": "mpeddada1", "createdAt": "2020-07-22T18:51:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg1NDMwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg1NDg5MA==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r458854890", "bodyText": "It might be worth moving all these values into the root build.gradle?", "author": "loosebazooka", "createdAt": "2020-07-22T14:54:25Z", "path": "jib-maven-plugin/build.gradle", "diffHunk": "@@ -12,10 +12,10 @@ dependencies {\n   sourceProject project(':jib-plugins-common')\n   ensureNoProjectDependencies()\n \n-  implementation \"com.google.cloud.tools:jib-maven-plugin-extension-api:${dependencyVersions.MAVEN_EXTENSION}\"\n+  implementation dependencyStrings.MAVEN_EXTENSION\n \n-  implementation \"org.apache.maven:maven-plugin-api:${dependencyVersions.MAVEN_API}\"\n-  implementation \"org.apache.maven:maven-core:${dependencyVersions.MAVEN_API}\"\n+  implementation dependencyStrings.MAVEN_API\n+  implementation dependencyStrings.MAVEN_CORE\n \n   // compileOnly + testImplementation equivalent to \"provided\"\n   compileOnly 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.6.0'", "originalCommit": "1825cd67e62a4ffd49340a446302eddef7d4885e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMDg4Ng==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459010886", "bodyText": "Done", "author": "mpeddada1", "createdAt": "2020-07-22T18:51:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg1NDg5MA=="}], "type": "inlineReview"}, {"oid": "31636b81671029529298c348191b7a516b1bc79a", "url": "https://github.com/GoogleContainerTools/jib/commit/31636b81671029529298c348191b7a516b1bc79a", "message": "fixing formatting and addressing comments", "committedDate": "2020-07-22T18:49:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMDg5NQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459010895", "bodyText": "can we move 78-79 to the test commented block below?", "author": "loosebazooka", "createdAt": "2020-07-22T18:51:15Z", "path": "build.gradle", "diffHunk": "@@ -52,43 +52,50 @@ subprojects {\n     // For Google libraries, check <http-client-bom.version>, <google.auth.version>, <guava.version>,\n     // ... in https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/pom.xml\n     // for best compatibility.\n-    GOOGLE_HTTP_CLIENT: \"com.google.http-client:google-http-client:1.34.0\",\n-    GOOGLE_HTTP_CLIENT_APACHE_V2: \"com.google.http-client:google-http-client-apache-v2:1.34.0\",\n-    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: \"com.google.auth:google-auth-library-oauth2-http:0.18.0\",\n-    GUAVA: \"com.google.guava:guava:28.1-jre\",\n-    JSR305: \"com.google.code.findbugs:jsr305:3.0.2\", // transitively pulled in by GUAVA\n+    GOOGLE_HTTP_CLIENT: 'com.google.http-client:google-http-client:1.34.0',\n+    GOOGLE_HTTP_CLIENT_APACHE_V2: 'com.google.http-client:google-http-client-apache-v2:1.34.0',\n+    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: 'com.google.auth:google-auth-library-oauth2-http:0.18.0',\n+    GUAVA: 'com.google.guava:guava:28.1-jre',\n+    JSR305: 'com.google.code.findbugs:jsr305:3.0.2', // transitively pulled in by GUAVA\n \n     // for Build Plan and Jib Plugins Extension API\n-    BUILD_PLAN: \"com.google.cloud.tools:jib-build-plan:0.3.1\",\n-    EXTENSION_COMMON: \"com.google.cloud.tools:jib-plugins-extension-common:0.2.0\",\n-    GRADLE_EXTENSION: \"com.google.cloud.tools:jib-gradle-plugin-extension-api:0.3.0\",\n-    MAVEN_EXTENSION: \"com.google.cloud.tools:jib-maven-plugin-extension-api:0.3.0\",\n+    BUILD_PLAN: 'com.google.cloud.tools:jib-build-plan:0.3.1',\n+    EXTENSION_COMMON: 'com.google.cloud.tools:jib-plugins-extension-common:0.2.0',\n+    GRADLE_EXTENSION: 'com.google.cloud.tools:jib-gradle-plugin-extension-api:0.3.0',\n+    MAVEN_EXTENSION: 'com.google.cloud.tools:jib-maven-plugin-extension-api:0.3.0',\n+\n+    COMMONS_COMPRESS: 'org.apache.commons:commons-compress:1.19',\n+    JACKSON_DATABIND: 'com.fasterxml.jackson.core:jackson-databind:2.11.0',\n+    JACKSON_DATAFORMAT_YAML: 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.11.0',\n+    ASM: 'org.ow2.asm:asm:7.3.1',\n+    PICOCLI: 'info.picocli:picocli:4.2.0',\n+\n+    MAVEN_API: 'org.apache.maven:maven-plugin-api:3.5.2',\n+    MAVEN_CORE: 'org.apache.maven:maven-core:3.5.2',\n+    MAVEN_COMPAT: 'org.apache.maven:maven-compat:3.5.2',\n+    MAVEN_ANNOTATIONS_LATEST: 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.6.0',\n+    MAVEN_ANNOTATIONS_OLD: 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.5',\n+    MAVEN_TESTING_HARNESS: 'org.apache.maven.plugin-testing:maven-plugin-testing-harness:3.3.0',", "originalCommit": "31636b81671029529298c348191b7a516b1bc79a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3NTE5Mw==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459075193", "bodyText": "Done.", "author": "mpeddada1", "createdAt": "2020-07-22T20:50:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMDg5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMTM3Nw==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459011377", "bodyText": "I think using [2] instead of [-1] will help us catch bugs better?", "author": "loosebazooka", "createdAt": "2020-07-22T18:52:06Z", "path": "build.gradle", "diffHunk": "@@ -52,43 +52,50 @@ subprojects {\n     // For Google libraries, check <http-client-bom.version>, <google.auth.version>, <guava.version>,\n     // ... in https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/pom.xml\n     // for best compatibility.\n-    GOOGLE_HTTP_CLIENT: \"com.google.http-client:google-http-client:1.34.0\",\n-    GOOGLE_HTTP_CLIENT_APACHE_V2: \"com.google.http-client:google-http-client-apache-v2:1.34.0\",\n-    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: \"com.google.auth:google-auth-library-oauth2-http:0.18.0\",\n-    GUAVA: \"com.google.guava:guava:28.1-jre\",\n-    JSR305: \"com.google.code.findbugs:jsr305:3.0.2\", // transitively pulled in by GUAVA\n+    GOOGLE_HTTP_CLIENT: 'com.google.http-client:google-http-client:1.34.0',\n+    GOOGLE_HTTP_CLIENT_APACHE_V2: 'com.google.http-client:google-http-client-apache-v2:1.34.0',\n+    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: 'com.google.auth:google-auth-library-oauth2-http:0.18.0',\n+    GUAVA: 'com.google.guava:guava:28.1-jre',\n+    JSR305: 'com.google.code.findbugs:jsr305:3.0.2', // transitively pulled in by GUAVA\n \n     // for Build Plan and Jib Plugins Extension API\n-    BUILD_PLAN: \"com.google.cloud.tools:jib-build-plan:0.3.1\",\n-    EXTENSION_COMMON: \"com.google.cloud.tools:jib-plugins-extension-common:0.2.0\",\n-    GRADLE_EXTENSION: \"com.google.cloud.tools:jib-gradle-plugin-extension-api:0.3.0\",\n-    MAVEN_EXTENSION: \"com.google.cloud.tools:jib-maven-plugin-extension-api:0.3.0\",\n+    BUILD_PLAN: 'com.google.cloud.tools:jib-build-plan:0.3.1',\n+    EXTENSION_COMMON: 'com.google.cloud.tools:jib-plugins-extension-common:0.2.0',\n+    GRADLE_EXTENSION: 'com.google.cloud.tools:jib-gradle-plugin-extension-api:0.3.0',\n+    MAVEN_EXTENSION: 'com.google.cloud.tools:jib-maven-plugin-extension-api:0.3.0',\n+\n+    COMMONS_COMPRESS: 'org.apache.commons:commons-compress:1.19',\n+    JACKSON_DATABIND: 'com.fasterxml.jackson.core:jackson-databind:2.11.0',\n+    JACKSON_DATAFORMAT_YAML: 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.11.0',\n+    ASM: 'org.ow2.asm:asm:7.3.1',\n+    PICOCLI: 'info.picocli:picocli:4.2.0',\n+\n+    MAVEN_API: 'org.apache.maven:maven-plugin-api:3.5.2',\n+    MAVEN_CORE: 'org.apache.maven:maven-core:3.5.2',\n+    MAVEN_COMPAT: 'org.apache.maven:maven-compat:3.5.2',\n+    MAVEN_ANNOTATIONS_LATEST: 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.6.0',\n+    MAVEN_ANNOTATIONS_OLD: 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.5',\n+    MAVEN_TESTING_HARNESS: 'org.apache.maven.plugin-testing:maven-plugin-testing-harness:3.3.0',\n+    MAVEN_VERIFIER: 'org.apache.maven.shared:maven-verifier:1.7.2',\n \n-    COMMONS_COMPRESS: \"org.apache.commons:commons-compress:1.19\",\n-    JACKSON_DATABIND: \"com.fasterxml.jackson.core:jackson-databind:2.11.0\",\n-    JACKSON_DATAFORMAT_YAML: \"com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.11.0\",\n-    ASM: \"org.ow2.asm:asm:7.3.1\",\n-    PICOCLI: \"info.picocli:picocli:4.2.0\",\n \n-    MAVEN_API: \"org.apache.maven:maven-plugin-api:3.5.2\",\n-    MAVEN_CORE: \"org.apache.maven:maven-core:3.5.2\",\n-    MAVEN_COMPAT: \"org.apache.maven:maven-compat:3.5.2\",\n \n     //test\n-    JUNIT: \"junit:junit:4.13\",\n-    MOCKITO_CORE: \"org.mockito:mockito-core:3.2.4\",\n-    SLF4J_API: \"org.slf4j:slf4j-api:1.7.25\",\n-    SYSTEM_RULES:  \"com.github.stefanbirkner:system-rules:1.19.0\",\n-    JBCRYPT: \"org.mindrot:jbcrypt:0.4\",\n+    JUNIT: 'junit:junit:4.13',\n+    MOCKITO_CORE: 'org.mockito:mockito-core:3.2.4',\n+    SISU_PLEXUS: 'org.eclipse.sisu:org.eclipse.sisu.plexus:0.3.4',\n+    SLF4J_API_OLD: 'org.slf4j:slf4j-api:1.7.25',\n+    SLF4J_API_LATEST: 'org.slf4j:slf4j-api:1.7.30',\n+    SLF4J_SIMPLE: 'org.slf4j:slf4j-simple:1.7.30',\n+    SYSTEM_RULES:  'com.github.stefanbirkner:system-rules:1.19.0',\n+    JBCRYPT: 'org.mindrot:jbcrypt:0.4',\n   ]\n \n   // Use this to ensure we correctly override transitive dependencies\n   // TODO: There might be a plugin that does this\n   task ensureTransitiveDependencyOverrides {\n-    def rules = [\n-        'google-http-client': dependencyStrings.GOOGLE_HTTP_CLIENT.split(':')[-1],\n-        'google-http-client-apache-v2': dependencyStrings.GOOGLE_HTTP_CLIENT_APACHE_V2.split(':')[-1],\n-    ]\n+    def dependenciesList = [dependencyStrings.GOOGLE_HTTP_CLIENT, dependencyStrings.GOOGLE_HTTP_CLIENT_APACHE_V2]\n+    def rules = dependenciesList.collectEntries{[/*name: */ it.split(':')[1], /*version: */ it.split(':')[-1]]}", "originalCommit": "31636b81671029529298c348191b7a516b1bc79a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3NDU5MA==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459074590", "bodyText": "Good point, done.", "author": "mpeddada1", "createdAt": "2020-07-22T20:49:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMTM3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMjI1MA==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459012250", "bodyText": "hrmm weird that these are both in here, can you file a new issue to handle standardizing the SLF4J apis?", "author": "loosebazooka", "createdAt": "2020-07-22T18:53:37Z", "path": "jib-maven-plugin/build.gradle", "diffHunk": "@@ -12,32 +12,32 @@ dependencies {\n   sourceProject project(':jib-plugins-common')\n   ensureNoProjectDependencies()\n \n-  implementation \"com.google.cloud.tools:jib-maven-plugin-extension-api:${dependencyVersions.MAVEN_EXTENSION}\"\n+  implementation dependencyStrings.MAVEN_EXTENSION\n \n-  implementation \"org.apache.maven:maven-plugin-api:${dependencyVersions.MAVEN_API}\"\n-  implementation \"org.apache.maven:maven-core:${dependencyVersions.MAVEN_API}\"\n+  implementation dependencyStrings.MAVEN_API\n+  implementation dependencyStrings.MAVEN_CORE\n \n   // compileOnly + testImplementation equivalent to \"provided\"\n-  compileOnly 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.6.0'\n+  compileOnly dependencyStrings.MAVEN_ANNOTATIONS_LATEST\n   // needed to suppress \"unknown enum constant\" warnings\n-  testImplementation 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.5'\n+  testImplementation dependencyStrings.MAVEN_ANNOTATIONS_OLD\n \n   // maven-plugin-testing-harness pulls in conflicting implementations of DefaultPlexusContainer\n   // (sisu (correct) vs default-plexus-container (wrong)) so ensure this is first in the test classpath\n-  testImplementation 'org.eclipse.sisu:org.eclipse.sisu.plexus:0.3.4'\n-  testImplementation 'org.apache.maven.plugin-testing:maven-plugin-testing-harness:3.3.0'\n+  testImplementation dependencyStrings.SISU_PLEXUS\n+  testImplementation dependencyStrings.MAVEN_TESTING_HARNESS\n \n-  testImplementation \"junit:junit:${dependencyVersions.JUNIT}\"\n-  testImplementation \"org.mockito:mockito-core:${dependencyVersions.MOCKITO_CORE}\"\n-  testImplementation \"org.slf4j:slf4j-api:${dependencyVersions.SLF4J_API}\"\n-  testImplementation \"com.github.stefanbirkner:system-rules:${dependencyVersions.SYSTEM_RULES}\"\n+  testImplementation dependencyStrings.JUNIT\n+  testImplementation dependencyStrings.MOCKITO_CORE\n+  testImplementation dependencyStrings.SLF4J_API_OLD\n+  testImplementation dependencyStrings.SYSTEM_RULES\n \n-  testImplementation 'org.apache.maven.shared:maven-verifier:1.7.2'\n-  testImplementation \"org.apache.maven:maven-compat:${dependencyVersions.MAVEN_API}\"\n-  testImplementation 'org.slf4j:slf4j-api:1.7.30'\n-  testImplementation 'org.slf4j:slf4j-simple:1.7.30'\n+  testImplementation dependencyStrings.MAVEN_VERIFIER\n+  testImplementation dependencyStrings.MAVEN_COMPAT\n+  testImplementation dependencyStrings.SLF4J_API_LATEST", "originalCommit": "31636b81671029529298c348191b7a516b1bc79a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3MzgzMw==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459073833", "bodyText": "Sure! Filed issue #2608", "author": "mpeddada1", "createdAt": "2020-07-22T20:48:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTAxMjI1MA=="}], "type": "inlineReview"}, {"oid": "172243f1d1d87ceea0df1109d89d724b8374854f", "url": "https://github.com/GoogleContainerTools/jib/commit/172243f1d1d87ceea0df1109d89d724b8374854f", "message": "minor fixes", "committedDate": "2020-07-22T19:37:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3ODg0OQ==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459078849", "bodyText": "Sorry this seems like python style comments, which is fine.\nI think /*name*/ , /*version*/ is enough?", "author": "loosebazooka", "createdAt": "2020-07-22T20:57:57Z", "path": "build.gradle", "diffHunk": "@@ -48,45 +48,52 @@ subprojects {\n \n   /* PROJECT DEPENDENCY VERSIONS */\n   // define all common versioned dependencies here\n-  project.ext.dependencyVersions = [\n+  project.ext.dependencyStrings = [\n     // For Google libraries, check <http-client-bom.version>, <google.auth.version>, <guava.version>,\n     // ... in https://github.com/googleapis/google-cloud-java/blob/master/google-cloud-clients/pom.xml\n     // for best compatibility.\n-    GOOGLE_HTTP_CLIENT: '1.34.0',\n-    GOOGLE_HTTP_CLIENT_APACHE_V2: '1.34.0',\n-    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: '0.18.0',\n-    GUAVA: '28.1-jre',\n-    JSR305: '3.0.2', // transitively pulled in by GUAVA\n+    GOOGLE_HTTP_CLIENT: 'com.google.http-client:google-http-client:1.34.0',\n+    GOOGLE_HTTP_CLIENT_APACHE_V2: 'com.google.http-client:google-http-client-apache-v2:1.34.0',\n+    GOOGLE_AUTH_LIBRARY_OAUTH2_HTTP: 'com.google.auth:google-auth-library-oauth2-http:0.18.0',\n+    GUAVA: 'com.google.guava:guava:28.1-jre',\n+    JSR305: 'com.google.code.findbugs:jsr305:3.0.2', // transitively pulled in by GUAVA\n \n     // for Build Plan and Jib Plugins Extension API\n-    BUILD_PLAN: '0.3.1',\n-    EXTENSION_COMMON: '0.2.0',\n-    GRADLE_EXTENSION: '0.3.0',\n-    MAVEN_EXTENSION: '0.3.0',\n-\n-    COMMONS_COMPRESS: '1.19',\n-    JACKSON_DATABIND: '2.11.0',\n-    JACKSON_DATAFORMAT_YAML: '2.11.0',\n-    ASM: '7.3.1',\n-    PICOCLI: '4.2.0',\n-\n-    MAVEN_API: '3.5.2',\n+    BUILD_PLAN: 'com.google.cloud.tools:jib-build-plan:0.3.1',\n+    EXTENSION_COMMON: 'com.google.cloud.tools:jib-plugins-extension-common:0.2.0',\n+    GRADLE_EXTENSION: 'com.google.cloud.tools:jib-gradle-plugin-extension-api:0.3.0',\n+    MAVEN_EXTENSION: 'com.google.cloud.tools:jib-maven-plugin-extension-api:0.3.0',\n+\n+    COMMONS_COMPRESS: 'org.apache.commons:commons-compress:1.19',\n+    JACKSON_DATABIND: 'com.fasterxml.jackson.core:jackson-databind:2.11.0',\n+    JACKSON_DATAFORMAT_YAML: 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.11.0',\n+    ASM: 'org.ow2.asm:asm:7.3.1',\n+    PICOCLI: 'info.picocli:picocli:4.2.0',\n+\n+    MAVEN_API: 'org.apache.maven:maven-plugin-api:3.5.2',\n+    MAVEN_CORE: 'org.apache.maven:maven-core:3.5.2',\n+    MAVEN_COMPAT: 'org.apache.maven:maven-compat:3.5.2',\n+    MAVEN_ANNOTATIONS_LATEST: 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.6.0',\n+    MAVEN_ANNOTATIONS_OLD: 'org.apache.maven.plugin-tools:maven-plugin-annotations:3.5',\n \n     //test\n-    JUNIT: '4.13',\n-    MOCKITO_CORE: '3.2.4',\n-    SLF4J_API: '1.7.25',\n-    SYSTEM_RULES: '1.19.0',\n-    JBCRYPT: '0.4',\n+    JUNIT: 'junit:junit:4.13',\n+    MAVEN_TESTING_HARNESS: 'org.apache.maven.plugin-testing:maven-plugin-testing-harness:3.3.0',\n+    MAVEN_VERIFIER: 'org.apache.maven.shared:maven-verifier:1.7.2',\n+    MOCKITO_CORE: 'org.mockito:mockito-core:3.2.4',\n+    SISU_PLEXUS: 'org.eclipse.sisu:org.eclipse.sisu.plexus:0.3.4',\n+    SLF4J_API_OLD: 'org.slf4j:slf4j-api:1.7.25',\n+    SLF4J_API_LATEST: 'org.slf4j:slf4j-api:1.7.30',\n+    SLF4J_SIMPLE: 'org.slf4j:slf4j-simple:1.7.30',\n+    SYSTEM_RULES:  'com.github.stefanbirkner:system-rules:1.19.0',\n+    JBCRYPT: 'org.mindrot:jbcrypt:0.4',\n   ]\n \n   // Use this to ensure we correctly override transitive dependencies\n   // TODO: There might be a plugin that does this\n   task ensureTransitiveDependencyOverrides {\n-    def rules = [\n-        'google-http-client': dependencyVersions.GOOGLE_HTTP_CLIENT,\n-        'google-http-client-apache-v2': dependencyVersions.GOOGLE_HTTP_CLIENT_APACHE_V2,\n-    ]\n+    def dependenciesList = [dependencyStrings.GOOGLE_HTTP_CLIENT, dependencyStrings.GOOGLE_HTTP_CLIENT_APACHE_V2]\n+    def rules = dependenciesList.collectEntries{[/*name: */ it.split(':')[1], /*version: */ it.split(':')[2]]}", "originalCommit": "172243f1d1d87ceea0df1109d89d724b8374854f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA4OTA2Nw==", "url": "https://github.com/GoogleContainerTools/jib/pull/2605#discussion_r459089067", "bodyText": "Oh sorry, I removed the colon from the comment. Let me know if you want the comment to be moved outside of collectEntries", "author": "mpeddada1", "createdAt": "2020-07-22T21:17:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA3ODg0OQ=="}], "type": "inlineReview"}, {"oid": "44ab92349fa5aa8cb2b85f8c487704c319e91d67", "url": "https://github.com/GoogleContainerTools/jib/commit/44ab92349fa5aa8cb2b85f8c487704c319e91d67", "message": "style fix", "committedDate": "2020-07-22T21:15:04Z", "type": "commit"}]}