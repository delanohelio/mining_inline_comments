{"pr_number": 2567, "pr_title": "HDFS-15740. Add x-platform utilities", "pr_createdAt": "2020-12-19T16:20:19Z", "pr_url": "https://github.com/apache/hadoop/pull/2567", "timeline": [{"oid": "c83cfe87d92ba95bc708e9724dc4246bd9b9e9a8", "url": "https://github.com/apache/hadoop/commit/c83cfe87d92ba95bc708e9724dc4246bd9b9e9a8", "message": "Add correct linking\n\n* bindings_c_obj doesn't\n  link with x_platform_utils_obj\n  through object linking. Thus,\n  need to use dynamic linking.", "committedDate": "2020-12-20T17:36:46Z", "type": "forcePushed"}, {"oid": "a20fbc89bb0ee0b2ac2c292f25dd34c73c189b30", "url": "https://github.com/apache/hadoop/commit/a20fbc89bb0ee0b2ac2c292f25dd34c73c189b30", "message": "Upgrade GCC to 9\n\n* Need to use GCC 9 since\n  this PR uses C++17\n  features.", "committedDate": "2020-12-26T07:50:16Z", "type": "forcePushed"}, {"oid": "ebedf2904f379a4fee0dee27d2278fdfed470812", "url": "https://github.com/apache/hadoop/commit/ebedf2904f379a4fee0dee27d2278fdfed470812", "message": "Upgrade GCC to 9\n\n* Need to use GCC 9 since\n  this PR uses C++17\n  features.", "committedDate": "2020-12-26T09:15:28Z", "type": "forcePushed"}, {"oid": "f7fa59f22d47af6f643e3f4be0ff74ecf6675340", "url": "https://github.com/apache/hadoop/commit/f7fa59f22d47af6f643e3f4be0ff74ecf6675340", "message": "Upgrade GCC to 9\n\n* Need to use GCC 9 since\n  this PR uses C++17\n  features.", "committedDate": "2020-12-26T11:57:01Z", "type": "forcePushed"}, {"oid": "8d9333cef923216065d130c4e49cb181b21ebed1", "url": "https://github.com/apache/hadoop/commit/8d9333cef923216065d130c4e49cb181b21ebed1", "message": "Fix unit tests\n\n* Separated the test\n  files for the\n  appropriate platforms.", "committedDate": "2020-12-27T01:28:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU0NDA4NQ==", "url": "https://github.com/apache/hadoop/pull/2567#discussion_r555544085", "bodyText": "Installing gcc-9 and this version of cmake in this way is a little hard to maintain.\nI am wondering if it makes sense to just go to focal.\n@aajisaka upgraded to bionic in HADOOP-16054.\nI wonder if we should just upgrade to focal as it is LTS.\n@ayushtkn you were also involved in that upgrade; what are your thoughts on upgrading to focal?", "author": "goiri", "createdAt": "2021-01-12T06:40:11Z", "path": "dev-support/docker/Dockerfile", "diffHunk": "@@ -92,6 +96,21 @@ ENV MAVEN_HOME /usr\n ENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64\n ENV FINDBUGS_HOME /usr\n \n+#######", "originalCommit": "8d9333cef923216065d130c4e49cb181b21ebed1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTY1NzQ0MA==", "url": "https://github.com/apache/hadoop/pull/2567#discussion_r555657440", "bodyText": "Sure @goiri . I've started working on a PR to move to Focal - #2613.", "author": "GauthamBanasandra", "createdAt": "2021-01-12T10:14:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU0NDA4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTY2ODAzOQ==", "url": "https://github.com/apache/hadoop/pull/2567#discussion_r555668039", "bodyText": "Yahh, upgrading to focal would be good", "author": "ayushtkn", "createdAt": "2021-01-12T10:30:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU0NDA4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjAxMDAzMQ==", "url": "https://github.com/apache/hadoop/pull/2567#discussion_r562010031", "bodyText": "@goiri , @aajisaka , @ayushtkn I tried to upgrade to Focal and it seems like a lot of unit tests are failing - #2613 (comment).\nI ran all the tests on the current trunk and interestingly, there are already so many existing unit test failures - #2623 (comment)\nI would like to request that we decouple this PR from upgrading to Focal and proceed with the review of this PR.", "author": "GauthamBanasandra", "createdAt": "2021-01-21T16:16:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU0NDA4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDU0NjQwMw==", "url": "https://github.com/apache/hadoop/pull/2567#discussion_r564546403", "bodyText": "@goiri , @aajisaka , @ayushtkn now that the Focal upgrade PR is merged, could we please proceed with the review of this PR?", "author": "GauthamBanasandra", "createdAt": "2021-01-26T14:21:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTU0NDA4NQ=="}], "type": "inlineReview"}, {"oid": "8939a6b0e8c91a04a84c8475300cd5193b715fe4", "url": "https://github.com/apache/hadoop/commit/8939a6b0e8c91a04a84c8475300cd5193b715fe4", "message": "Revert \"Upgrade GCC to 9\"\n\nThis reverts commit fa36f845911dfebb205aca42b077cc08006a91f4.", "committedDate": "2021-01-26T05:36:00Z", "type": "forcePushed"}, {"oid": "edecd13d9b663114731e7aeb5aa7fbe99a305755", "url": "https://github.com/apache/hadoop/commit/edecd13d9b663114731e7aeb5aa7fbe99a305755", "message": "HADOOP-17496. Install a supported version of pip\n\n* pip version 21 ended support for\n  python 2.7. Thus we need to install\n  a version of pip that supports\n  python 2.7.", "committedDate": "2021-01-26T08:34:21Z", "type": "forcePushed"}, {"oid": "c24ac35774a65a38bdd32ff2b7b7cee97f5da022", "url": "https://github.com/apache/hadoop/commit/c24ac35774a65a38bdd32ff2b7b7cee97f5da022", "message": "HDFS-15740. Add x-platform utilities\n\n* Adding x-platform object library.\n  It is a collection of components\n  that will help in writing cross\n  platform code.\n* Upgrading the C++ standard to 17\n  for this purpose.", "committedDate": "2021-01-26T15:49:27Z", "type": "commit"}, {"oid": "9431b5263b6b79e0b207ff490d46d0d010197e60", "url": "https://github.com/apache/hadoop/commit/9431b5263b6b79e0b207ff490d46d0d010197e60", "message": "Add license header", "committedDate": "2021-01-26T15:49:31Z", "type": "commit"}, {"oid": "7a9b8e6c37c4f604ba0ae407c29fd114050ecc3f", "url": "https://github.com/apache/hadoop/commit/7a9b8e6c37c4f604ba0ae407c29fd114050ecc3f", "message": "Fix typo in contribution guide", "committedDate": "2021-01-26T15:49:31Z", "type": "commit"}, {"oid": "6f8a084d8de751e7decdb8446e41c23fd3a4d01f", "url": "https://github.com/apache/hadoop/commit/6f8a084d8de751e7decdb8446e41c23fd3a4d01f", "message": "Fix documentation headers in utils", "committedDate": "2021-01-26T15:49:31Z", "type": "commit"}, {"oid": "2045d7737e672144bd8fb000d4bd3cb13d197563", "url": "https://github.com/apache/hadoop/commit/2045d7737e672144bd8fb000d4bd3cb13d197563", "message": "Fix CMakeLists.txt\n\n* Had missed renaming\n  target name. Fixing\n  it now.", "committedDate": "2021-01-26T15:49:32Z", "type": "commit"}, {"oid": "c79c795969bfc731462b06c63c4b45347636889a", "url": "https://github.com/apache/hadoop/commit/c79c795969bfc731462b06c63c4b45347636889a", "message": "Add correct linking\n\n* bindings_c_obj doesn't\n  link with x_platform_utils_obj\n  through object linking. Thus,\n  need to use dynamic linking.", "committedDate": "2021-01-26T15:49:32Z", "type": "commit"}, {"oid": "30ffca47b6b1ece4447cc6dd58183974c1c9aadf", "url": "https://github.com/apache/hadoop/commit/30ffca47b6b1ece4447cc6dd58183974c1c9aadf", "message": "Do not link obj lib\n\n* Object libraries can not\n  be linked with or linked\n  to. Thus, removing it.", "committedDate": "2021-01-26T15:49:33Z", "type": "commit"}, {"oid": "c227d4af2e7936d01eb9daaba712f466aeacda71", "url": "https://github.com/apache/hadoop/commit/c227d4af2e7936d01eb9daaba712f466aeacda71", "message": "Upgrade CMake version to 3.19\n\n* This upgrade is necessary for\n  this PR as it enables\n  x_platform_utils_obj to be\n  used as part of the\n  bindings_c_obj object library.\n  This isn't supported in CMake\n  3.10 and the compilation would\n  fail in the configuration step.", "committedDate": "2021-01-26T15:49:33Z", "type": "commit"}, {"oid": "9d3b64373b393e1d9537f87baefddb640dcc7c7d", "url": "https://github.com/apache/hadoop/commit/9d3b64373b393e1d9537f87baefddb640dcc7c7d", "message": "Upgrade GCC to 9\n\n* Need to use GCC 9 since\n  this PR uses C++17\n  features.", "committedDate": "2021-01-26T15:49:33Z", "type": "commit"}, {"oid": "6a74a73592050fc46ca3244ee1cd541b381bc914", "url": "https://github.com/apache/hadoop/commit/6a74a73592050fc46ca3244ee1cd541b381bc914", "message": "Add unit tests\n\n* Adding unit tests for\n  x-platform/utils.", "committedDate": "2021-01-26T15:49:34Z", "type": "commit"}, {"oid": "0812534fd86af7f3aec4a11b51fb83b132e901df", "url": "https://github.com/apache/hadoop/commit/0812534fd86af7f3aec4a11b51fb83b132e901df", "message": "Fix unit tests\n\n* Separated the test\n  files for the\n  appropriate platforms.", "committedDate": "2021-01-26T15:49:34Z", "type": "commit"}, {"oid": "9306a6f4abe0442ba0c2db8f91c8f98b041eafad", "url": "https://github.com/apache/hadoop/commit/9306a6f4abe0442ba0c2db8f91c8f98b041eafad", "message": "Revert \"Upgrade CMake version to 3.19\"\n\nThis reverts commit 8587ccdc988487069936789588566b84710af67c.", "committedDate": "2021-01-26T15:49:34Z", "type": "commit"}, {"oid": "eea44482d59567c89ac6e5d6b1d3aadbf31814fe", "url": "https://github.com/apache/hadoop/commit/eea44482d59567c89ac6e5d6b1d3aadbf31814fe", "message": "Revert \"Upgrade GCC to 9\"\n\nThis reverts commit fa36f845911dfebb205aca42b077cc08006a91f4.", "committedDate": "2021-01-26T15:49:35Z", "type": "commit"}, {"oid": "eea44482d59567c89ac6e5d6b1d3aadbf31814fe", "url": "https://github.com/apache/hadoop/commit/eea44482d59567c89ac6e5d6b1d3aadbf31814fe", "message": "Revert \"Upgrade GCC to 9\"\n\nThis reverts commit fa36f845911dfebb205aca42b077cc08006a91f4.", "committedDate": "2021-01-26T15:49:35Z", "type": "forcePushed"}, {"oid": "d17cb914dd5210cc7b868093324bb3003162aee4", "url": "https://github.com/apache/hadoop/commit/d17cb914dd5210cc7b868093324bb3003162aee4", "message": "Update version in BUILDING.txt\n\n* Updated the BUILDING.txt\n  document regarding GCC and\n  CMake versions.", "committedDate": "2021-01-27T04:18:38Z", "type": "commit"}, {"oid": "4c70a7182d5fe756f9a55c448e96ccc7519ac21b", "url": "https://github.com/apache/hadoop/commit/4c70a7182d5fe756f9a55c448e96ccc7519ac21b", "message": "Update build instructions for Windows\n\n* Updated the CMake version required\r\n   for Windows.", "committedDate": "2021-01-27T04:28:51Z", "type": "commit"}]}