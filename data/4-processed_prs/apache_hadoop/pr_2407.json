{"pr_number": 2407, "pr_title": "HDFS-15457. TestFsDatasetImpl fails intermittently.", "pr_createdAt": "2020-10-23T15:42:26Z", "pr_url": "https://github.com/apache/hadoop/pull/2407", "timeline": [{"oid": "5021d69132920142f0857fdebba89f3828734278", "url": "https://github.com/apache/hadoop/commit/5021d69132920142f0857fdebba89f3828734278", "message": "hdfs-15457. fix TestFsDatasetImpl readLock unit tests", "committedDate": "2020-10-23T15:38:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNzAyNw==", "url": "https://github.com/apache/hadoop/pull/2407#discussion_r511007027", "bodyText": "If this times out, are we cleaning up correctly?", "author": "goiri", "createdAt": "2020-10-23T16:39:08Z", "path": "hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/server/datanode/fsdataset/impl/TestFsDatasetImpl.java", "diffHunk": "@@ -201,9 +203,9 @@ public void setUp() throws IOException {\n     assertEquals(0, dataset.getNumFailedVolumes());\n   }\n \n-  @Test\n+  @Test(timeout=10000)", "originalCommit": "5021d69132920142f0857fdebba89f3828734278", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAxMTAyOQ==", "url": "https://github.com/apache/hadoop/pull/2407#discussion_r511011029", "bodyText": "testReadLockEnabledByDefault does not start a cluster. It has a mock datanode.\nFor testReadLockCanBeDisabledByConfig the cluster shutdown is inside finally block", "author": "amahussein", "createdAt": "2020-10-23T16:46:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAwNzAyNw=="}], "type": "inlineReview"}]}