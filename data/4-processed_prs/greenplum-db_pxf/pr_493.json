{"pr_number": 493, "pr_title": "docs - install file/dir locations; misc install-related edits", "pr_createdAt": "2020-11-16T23:27:12Z", "pr_url": "https://github.com/greenplum-db/pxf/pull/493", "timeline": [{"oid": "c8f4ee14652df0cecae9c8273803778cd19d5245", "url": "https://github.com/greenplum-db/pxf/commit/c8f4ee14652df0cecae9c8273803778cd19d5245", "message": "docs - install file/dir locations; misc install-related edits", "committedDate": "2020-11-16T22:44:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ0ODA3Mg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r525448072", "bodyText": "Is it useful to the customer to qualify this with \"Spring Boot\"?  Just wondering how much of that is necessary to describe.", "author": "dyozie", "createdAt": "2020-11-17T19:46:02Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |", "originalCommit": "c8f4ee14652df0cecae9c8273803778cd19d5245", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM4OTY0Mw==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526389643", "bodyText": "What about PXF server application?", "author": "bradfordb-vmware", "createdAt": "2020-11-18T20:14:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ0ODA3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQwNTc3MQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526405771", "bodyText": "I agree, this might not be relevant to the end users. we can just say \"The PXF application JAR file.\"", "author": "frankgh", "createdAt": "2020-11-18T20:39:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ0ODA3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ0OTI4OA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r525449288", "bodyText": "host or all -> host or on all", "author": "dyozie", "createdAt": "2020-11-17T19:46:58Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run the `pxf [cluster] register` command.   |", "originalCommit": "c8f4ee14652df0cecae9c8273803778cd19d5245", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ0OTgyMw==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r525449823", "bodyText": "currently -> initially", "author": "dyozie", "createdAt": "2020-11-17T19:47:23Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` currently includes only the PXF HBase JAR file. |", "originalCommit": "c8f4ee14652df0cecae9c8273803778cd19d5245", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ1NjMwMg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r525456302", "bodyText": "contains -> this directory contains", "author": "dyozie", "createdAt": "2020-11-17T19:52:48Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` currently includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |\n+| version              | The PXF version.             |\n+\n+The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n \n | Directory | Description                                                                                                                                                                                                                                |\n |--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n-| apache&#8209;tomcat/     | The PXF Tomcat directory.  |\n-| bin/                | The PXF script and executable directory.                                                                                                                                                                                                                       |\n-| commit.sha          | The commit identifier for this PXF release.                                                                                                                                                                                                                       |\n-| conf/                | The PXF internal configuration directory. This directory contains the `pxf-env-default.sh` and `pxf-profiles-default.xml` configuration files. After initializing PXF, this directory will also include the `pxf-private.classpath` file. |\n-| gpextable/           | The PXF extension files. The files in this directory are copied to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run `pxf [cluster] register`.                                                                                                                                                                                                              |\n-| lib/                 | The PXF library directory.                                                                                                                                                                                                                       |\n-| templates/                | Configuration templates for PXF. |\n-| version              | The PXF version.                                                                                                                                                                                                                       |\n+| conf/                | The location of user-customizable PXF configuration files for PXF runtime and logging configuration settings. This directory contains the `pxf-application.properties`, `pxf-env.sh`, `pxf-log4j2.xml`, and `pxf-profiles.xml` files. |\n+| keytabs/  | The default location for the PXF service Kerberos principal keytab file.  The `keytabs/` directory and contained files are readable only by the `gpadmin` user. |\n+| lib/     | The default PXF directory for user-added runtime JAR dependencies. The `native/` subdirectory is the default PXF runtime directory for native libraries. |\n+| logs/                | The PXF runtime log file directory. The `logs/` directory and log files are readable only by the `gpadmin` user. |\n+| run/         | The default PXF run directory. After starting PXF, contains a PXF process id file. The default `$PXF_OOM_DUMP_PATH` resides in a `pxf_heap_dump/` subdirectory. `run/` and contained files and directories are readable only by the `gpadmin` user. |", "originalCommit": "c8f4ee14652df0cecae9c8273803778cd19d5245", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a5b66d08c4e712eaebb2b8e9f23a603f5f16cc84", "url": "https://github.com/greenplum-db/pxf/commit/a5b66d08c4e712eaebb2b8e9f23a603f5f16cc84", "message": "misc edits requested by david", "committedDate": "2020-11-17T21:00:28Z", "type": "commit"}, {"oid": "64b897fe93ae0f8063a8b59e547847202b2924b3", "url": "https://github.com/greenplum-db/pxf/commit/64b897fe93ae0f8063a8b59e547847202b2924b3", "message": "Merge branch 'master' into docs/6-inst-misc", "committedDate": "2020-11-17T21:04:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0MzA2Ng==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526343066", "bodyText": "If this is the first time we're introducing PXF_BASE, I think we might want to elaborate a bit more. As you mentioned already, configuration and runtime files can be located in an arbitrary directory that we will refer to as $PXF_BASE. When PXF installs from rpm / deb, these files are initially placed into the installation directory $PXF_HOME. In this case PXF_BASE and PXF_HOME refer to the same location. If you would like to store your configuration and runtime files in a different location, you can set PXF_BASE variable to this location and use pxf prepare command to copy the files there. If your PXF_BASE is different from PXF_HOME, you will need to ensure that PXF_BASE environment variable is set when you use any pxf command.", "author": "denalex", "createdAt": "2020-11-18T18:56:46Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzEwMDc5NA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r527100794", "bodyText": "@denalex - i've added more information about PXF_BASE on the intro page.  i've kept the info about the prepare command and setting the environment variable in the \"relocating PXF_BASE\" topic.\nre: terminology, what is the best way to identify the non-PXF_BASE contents of PXF_HOME?  i think we've standardized on \"runtime configuration files/directories\" when describing PXF_BASE.", "author": "lisakowen", "createdAt": "2020-11-19T18:18:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0MzA2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0MzQ1OA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526343458", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n          \n          \n            \n            When you install PXF 6.x, the default `$PXF_BASE` is `$PXF_HOME`.", "author": "denalex", "createdAt": "2020-11-18T18:57:23Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0MzU4OA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526343588", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n          \n          \n            \n            The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6.x `rpm` or `deb` package:", "author": "denalex", "createdAt": "2020-11-18T18:57:40Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0NDE4NA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526344184", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n          \n          \n            \n            | gpextable/           | The PXF extension files. PXF copies the `pxf.control` file from this directory to the Greenplum installation (`$GPHOME`) on a single host when you run the `pxf register` command or on all hosts in the cluster when you run the `pxf cluster register` command from the Greenplum master host.   |", "author": "denalex", "createdAt": "2020-11-18T18:58:33Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0NjMyNg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526346326", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | templates/  | The PXF directory for template server configuration files. |\n          \n          \n            \n            | templates/  | The PXF directory for server configuration file templates. |", "author": "denalex", "createdAt": "2020-11-18T19:01:56Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` initially includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0NjcxNg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526346716", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n          \n          \n            \n            The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6.x `rpm` or `deb` package:", "author": "denalex", "createdAt": "2020-11-18T19:02:32Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` initially includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |\n+| version              | The PXF version.             |\n+\n+The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0NzcxMQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526347711", "bodyText": "the installation user does not have to be gpadmin", "author": "denalex", "createdAt": "2020-11-18T19:04:21Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` initially includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |\n+| version              | The PXF version.             |\n+\n+The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n \n | Directory | Description                                                                                                                                                                                                                                |\n |--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n-| apache&#8209;tomcat/     | The PXF Tomcat directory.  |\n-| bin/                | The PXF script and executable directory.                                                                                                                                                                                                                       |\n-| commit.sha          | The commit identifier for this PXF release.                                                                                                                                                                                                                       |\n-| conf/                | The PXF internal configuration directory. This directory contains the `pxf-env-default.sh` and `pxf-profiles-default.xml` configuration files. After initializing PXF, this directory will also include the `pxf-private.classpath` file. |\n-| gpextable/           | The PXF extension files. The files in this directory are copied to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run `pxf [cluster] register`.                                                                                                                                                                                                              |\n-| lib/                 | The PXF library directory.                                                                                                                                                                                                                       |\n-| templates/                | Configuration templates for PXF. |\n-| version              | The PXF version.                                                                                                                                                                                                                       |\n+| conf/                | The location of user-customizable PXF configuration files for PXF runtime and logging configuration settings. This directory contains the `pxf-application.properties`, `pxf-env.sh`, `pxf-log4j2.xml`, and `pxf-profiles.xml` files. |\n+| keytabs/  | The default location for the PXF service Kerberos principal keytab file.  The `keytabs/` directory and contained files are readable only by the `gpadmin` user. |", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0ODYzOQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526348639", "bodyText": "above we say the location of ..., here the location for ... -- should probably use just one consistent form", "author": "denalex", "createdAt": "2020-11-18T19:05:49Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` initially includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |\n+| version              | The PXF version.             |\n+\n+The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n \n | Directory | Description                                                                                                                                                                                                                                |\n |--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n-| apache&#8209;tomcat/     | The PXF Tomcat directory.  |\n-| bin/                | The PXF script and executable directory.                                                                                                                                                                                                                       |\n-| commit.sha          | The commit identifier for this PXF release.                                                                                                                                                                                                                       |\n-| conf/                | The PXF internal configuration directory. This directory contains the `pxf-env-default.sh` and `pxf-profiles-default.xml` configuration files. After initializing PXF, this directory will also include the `pxf-private.classpath` file. |\n-| gpextable/           | The PXF extension files. The files in this directory are copied to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run `pxf [cluster] register`.                                                                                                                                                                                                              |\n-| lib/                 | The PXF library directory.                                                                                                                                                                                                                       |\n-| templates/                | Configuration templates for PXF. |\n-| version              | The PXF version.                                                                                                                                                                                                                       |\n+| conf/                | The location of user-customizable PXF configuration files for PXF runtime and logging configuration settings. This directory contains the `pxf-application.properties`, `pxf-env.sh`, `pxf-log4j2.xml`, and `pxf-profiles.xml` files. |\n+| keytabs/  | The default location for the PXF service Kerberos principal keytab file.  The `keytabs/` directory and contained files are readable only by the `gpadmin` user. |", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0ODkwOA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526348908", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | lib/     | The default PXF directory for user-added runtime JAR dependencies. The `native/` subdirectory is the default PXF runtime directory for native libraries. |\n          \n          \n            \n            | lib/     | The location for user-added runtime JAR dependencies. The `native/` subdirectory is the default PXF runtime directory for native libraries. |", "author": "denalex", "createdAt": "2020-11-18T19:06:17Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` initially includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |\n+| version              | The PXF version.             |\n+\n+The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n \n | Directory | Description                                                                                                                                                                                                                                |\n |--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n-| apache&#8209;tomcat/     | The PXF Tomcat directory.  |\n-| bin/                | The PXF script and executable directory.                                                                                                                                                                                                                       |\n-| commit.sha          | The commit identifier for this PXF release.                                                                                                                                                                                                                       |\n-| conf/                | The PXF internal configuration directory. This directory contains the `pxf-env-default.sh` and `pxf-profiles-default.xml` configuration files. After initializing PXF, this directory will also include the `pxf-private.classpath` file. |\n-| gpextable/           | The PXF extension files. The files in this directory are copied to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run `pxf [cluster] register`.                                                                                                                                                                                                              |\n-| lib/                 | The PXF library directory.                                                                                                                                                                                                                       |\n-| templates/                | Configuration templates for PXF. |\n-| version              | The PXF version.                                                                                                                                                                                                                       |\n+| conf/                | The location of user-customizable PXF configuration files for PXF runtime and logging configuration settings. This directory contains the `pxf-application.properties`, `pxf-env.sh`, `pxf-log4j2.xml`, and `pxf-profiles.xml` files. |\n+| keytabs/  | The default location for the PXF service Kerberos principal keytab file.  The `keytabs/` directory and contained files are readable only by the `gpadmin` user. |\n+| lib/     | The default PXF directory for user-added runtime JAR dependencies. The `native/` subdirectory is the default PXF runtime directory for native libraries. |", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM0OTkxMw==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526349913", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | run/         | The default PXF run directory. After starting PXF, this directory contains a PXF process id file. The default `$PXF_OOM_DUMP_PATH` resides in a `pxf_heap_dump/` subdirectory. `run/` and contained files and directories are readable only by the `gpadmin` user. |\n          \n          \n            \n            | run/         | The default PXF run directory. After starting PXF, this directory contains a PXF process id file `pxf-app.pid`. The default `$PXF_OOM_DUMP_PATH` resides in a `pxf_heap_dump/` subdirectory. `run/` and contained files and directories are readable only by the `gpadmin` user. |", "author": "denalex", "createdAt": "2020-11-18T19:08:00Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` initially includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |\n+| version              | The PXF version.             |\n+\n+The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n \n | Directory | Description                                                                                                                                                                                                                                |\n |--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n-| apache&#8209;tomcat/     | The PXF Tomcat directory.  |\n-| bin/                | The PXF script and executable directory.                                                                                                                                                                                                                       |\n-| commit.sha          | The commit identifier for this PXF release.                                                                                                                                                                                                                       |\n-| conf/                | The PXF internal configuration directory. This directory contains the `pxf-env-default.sh` and `pxf-profiles-default.xml` configuration files. After initializing PXF, this directory will also include the `pxf-private.classpath` file. |\n-| gpextable/           | The PXF extension files. The files in this directory are copied to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run `pxf [cluster] register`.                                                                                                                                                                                                              |\n-| lib/                 | The PXF library directory.                                                                                                                                                                                                                       |\n-| templates/                | Configuration templates for PXF. |\n-| version              | The PXF version.                                                                                                                                                                                                                       |\n+| conf/                | The location of user-customizable PXF configuration files for PXF runtime and logging configuration settings. This directory contains the `pxf-application.properties`, `pxf-env.sh`, `pxf-log4j2.xml`, and `pxf-profiles.xml` files. |\n+| keytabs/  | The default location for the PXF service Kerberos principal keytab file.  The `keytabs/` directory and contained files are readable only by the `gpadmin` user. |\n+| lib/     | The default PXF directory for user-added runtime JAR dependencies. The `native/` subdirectory is the default PXF runtime directory for native libraries. |\n+| logs/                | The PXF runtime log file directory. The `logs/` directory and log files are readable only by the `gpadmin` user. |\n+| run/         | The default PXF run directory. After starting PXF, this directory contains a PXF process id file. The default `$PXF_OOM_DUMP_PATH` resides in a `pxf_heap_dump/` subdirectory. `run/` and contained files and directories are readable only by the `gpadmin` user. |", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1MDYyNg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526350626", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If you require that `$PXF_BASE` reside in a directory distinct from `$PXF_HOME`, you can change it from the default location to a location of your choosing after you install PXF 6.\n          \n          \n            \n            If you require that `$PXF_BASE` reside in a directory distinct from `$PXF_HOME`, you can change it from the default location to a location of your choosing after you install PXF 6.x.", "author": "denalex", "createdAt": "2020-11-18T19:09:17Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+\n+In PXF 5.x, you specified a `$PXF_CONF` directory for configuration and runtime files when you initialized PXF.  In PXF 6.x, configuration and runtime files are located in `$PXF_BASE`, and no initialization is required.\n+\n+When you install PXF 6, the default `$PXF_BASE` is `$PXF_HOME`.\n \n ## <a id=\"installed\"></a>PXF Installation Directories\n \n-The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF `rpm` or `deb`:\n+The following PXF files and directories are installed to `$PXF_HOME` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n+\n+| Directory | Description                                                                                                   |\n+|--------------------------------|------------------------------------------------------------------------------------------|\n+| application/                | The PXF Spring Boot application JAR file.   |\n+| bin/                | The PXF command line executable directory.   |\n+| commit.sha          | The commit identifier for this PXF release.   |\n+| gpextable/           | The PXF extension files. PXF copies the `pxf.control` file in this directory to the Greenplum installation (`$GPHOME`) on a single host or on all hosts in the cluster when you run the `pxf [cluster] register` command.   |\n+| share/                | The directory for shared PXF files that you may require depending on the external data stores that you access. `share/` initially includes only the PXF HBase JAR file. |\n+| templates/  | The PXF directory for template server configuration files. |\n+| version              | The PXF version.             |\n+\n+The following PXF directories are installed to `$PXF_BASE` when you install Greenplum Database or the PXF 6 `rpm` or `deb` package:\n \n | Directory | Description                                                                                                                                                                                                                                |\n |--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n-| apache&#8209;tomcat/     | The PXF Tomcat directory.  |\n-| bin/                | The PXF script and executable directory.                                                                                                                                                                                                                       |\n-| commit.sha          | The commit identifier for this PXF release.                                                                                                                                                                                                                       |\n-| conf/                | The PXF internal configuration directory. This directory contains the `pxf-env-default.sh` and `pxf-profiles-default.xml` configuration files. After initializing PXF, this directory will also include the `pxf-private.classpath` file. |\n-| gpextable/           | The PXF extension files. The files in this directory are copied to the Greenplum installation (`$GPHOME`) on a single host or all hosts in the cluster when you run `pxf [cluster] register`.                                                                                                                                                                                                              |\n-| lib/                 | The PXF library directory.                                                                                                                                                                                                                       |\n-| templates/                | Configuration templates for PXF. |\n-| version              | The PXF version.                                                                                                                                                                                                                       |\n+| conf/                | The location of user-customizable PXF configuration files for PXF runtime and logging configuration settings. This directory contains the `pxf-application.properties`, `pxf-env.sh`, `pxf-log4j2.xml`, and `pxf-profiles.xml` files. |\n+| keytabs/  | The default location for the PXF service Kerberos principal keytab file.  The `keytabs/` directory and contained files are readable only by the `gpadmin` user. |\n+| lib/     | The default PXF directory for user-added runtime JAR dependencies. The `native/` subdirectory is the default PXF runtime directory for native libraries. |\n+| logs/                | The PXF runtime log file directory. The `logs/` directory and log files are readable only by the `gpadmin` user. |\n+| run/         | The default PXF run directory. After starting PXF, this directory contains a PXF process id file. The default `$PXF_OOM_DUMP_PATH` resides in a `pxf_heap_dump/` subdirectory. `run/` and contained files and directories are readable only by the `gpadmin` user. |\n+| servers/  | The configuration directory for PXF servers; each subdirectory contains a server definition, and the name of the subdirectory identifies the name of the server. The default server is named `default`. The Greenplum Database administrator may configure other servers. |\n \n+Refer to [Configuring PXF](instcfg_pxf.html) and [Starting PXF](cfginitstart_pxf.html#start_pxf) for detailed information about the PXF configuration and startup commands and procedures.\n \n-## <a id=\"runtime\"></a>PXF Runtime Directories\n+## <a id=\"movebase\"></a>Relocating $PXF_BASE\n \n-During initialization and startup, PXF creates the following internal directories in `$PXF_HOME`:\n+If you require that `$PXF_BASE` reside in a directory distinct from `$PXF_HOME`, you can change it from the default location to a location of your choosing after you install PXF 6.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1NTc5NQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526355795", "bodyText": "which step 7 ? if we are talking about pxf cluster sync then it should be step 5 above.", "author": "denalex", "createdAt": "2020-11-18T19:17:46Z", "path": "docs/content/pxf_kerbhdfs.html.md.erb", "diffHunk": "@@ -163,11 +163,11 @@ When you configure PXF for secure HDFS using an AD Kerberos KDC server, you will\n     gpadmin@master$ pxf cluster restart\n     ```\n \n-6. Step 7 does not synchronize the keytabs in `$PXF_CONF`. You must distribute the keytab file to `$PXF_CONF/keytabs/`. Locate the keytab file, copy the file to the `$PXF_CONF` user configuration directory, and set required permissions. For example:\n+6. Step 7 does not synchronize the keytabs in `$PXF_BASE`. You must distribute the keytab file to `$PXF_BASE/keytabs/`. Locate the keytab file, copy the file to the `$PXF_BASE` user configuration directory, and set required permissions. For example:", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ4Nzk3Ng==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526487976", "bodyText": "yes, the cluster sync step, and it is actually step 7.  (it doesn't matter what the list numbers are, markdown will render/number them correctly.)", "author": "lisakowen", "createdAt": "2020-11-18T23:20:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1NTc5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1NjAyMQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526356021", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            6. Step 7 does not synchronize the keytabs in `$PXF_BASE`. You must distribute the keytab file to `$PXF_BASE/keytabs/`. Locate the keytab file, copy the file to the `$PXF_BASE` user configuration directory, and set required permissions. For example:\n          \n          \n            \n            6. Step 7 does not synchronize the keytabs in `$PXF_BASE`. You must distribute the keytab file to `$PXF_BASE/keytabs/`. Locate the keytab file, copy the file to the `$PXF_BASE` runtime configuration directory, and set required permissions. For example:", "author": "denalex", "createdAt": "2020-11-18T19:18:11Z", "path": "docs/content/pxf_kerbhdfs.html.md.erb", "diffHunk": "@@ -163,11 +163,11 @@ When you configure PXF for secure HDFS using an AD Kerberos KDC server, you will\n     gpadmin@master$ pxf cluster restart\n     ```\n \n-6. Step 7 does not synchronize the keytabs in `$PXF_CONF`. You must distribute the keytab file to `$PXF_CONF/keytabs/`. Locate the keytab file, copy the file to the `$PXF_CONF` user configuration directory, and set required permissions. For example:\n+6. Step 7 does not synchronize the keytabs in `$PXF_BASE`. You must distribute the keytab file to `$PXF_BASE/keytabs/`. Locate the keytab file, copy the file to the `$PXF_BASE` user configuration directory, and set required permissions. For example:", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1ODEzMg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526358132", "bodyText": "^^^ You can initialize or reset PXF on the master ... reset is no longer doing anything and we do not need init either.", "author": "denalex", "createdAt": "2020-11-18T19:21:32Z", "path": "docs/content/ref/pxf.html.md.erb", "diffHunk": "@@ -34,9 +35,9 @@ You can initialize or reset PXF on the master, master standby, or a specific seg\n ", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NTcwNw==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526475707", "bodyText": "the next PR i submit will take care of init/reset references and deprecation.", "author": "lisakowen", "createdAt": "2020-11-18T22:49:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1ODEzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1ODgyMQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526358821", "bodyText": "we now copy only extension control file , not \"extension files\"", "author": "denalex", "createdAt": "2020-11-18T19:22:36Z", "path": "docs/content/ref/pxf.html.md.erb", "diffHunk": "@@ -34,9 +35,9 @@ You can initialize or reset PXF on the master, master standby, or a specific seg\n \n You can start, stop, or restart the PXF service instance on a specific segment host, or display the status of the PXF service instance running on a segment host.\n \n-You can copy the extension files from a PXF installation on the host to the Greenplum installation on the host after a Greenplum upgrade.\n+You can prepare a new `$PXF_BASE` runtime configuration directory on the host, or copy the extension files from a PXF installation on the host to the Greenplum installation on the host after a Greenplum upgrade.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NTk5OA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526475998", "bodyText": "the next PR also will include updates to the register command (copies only one file now, only need to do it once.)", "author": "lisakowen", "createdAt": "2020-11-18T22:50:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1ODgyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM1OTE1MQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526359151", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            (Use the [`pxf cluster`](pxf-cluster.html#topic1) command to prepare a new `$PXF_BASE`, copy extension files to, initialize, or reset PXF on all hosts, synchronize the PXF configuration to the Greenplum Database cluster, or to start, stop, or display the status of the PXF service instance on all segment hosts in the cluster.)\n          \n          \n            \n            (Use the [`pxf cluster`](pxf-cluster.html#topic1) command to prepare a new `$PXF_BASE`, copy extension file to `$GPHOME` on all hosts, synchronize the PXF configuration to the Greenplum Database cluster, or to start, stop, or display the status of the PXF service instance on all segment hosts in the cluster.)", "author": "denalex", "createdAt": "2020-11-18T19:23:10Z", "path": "docs/content/ref/pxf.html.md.erb", "diffHunk": "@@ -34,9 +35,9 @@ You can initialize or reset PXF on the master, master standby, or a specific seg\n \n You can start, stop, or restart the PXF service instance on a specific segment host, or display the status of the PXF service instance running on a segment host.\n \n-You can copy the extension files from a PXF installation on the host to the Greenplum installation on the host after a Greenplum upgrade.\n+You can prepare a new `$PXF_BASE` runtime configuration directory on the host, or copy the extension files from a PXF installation on the host to the Greenplum installation on the host after a Greenplum upgrade.\n \n-(Use the [`pxf cluster`](pxf-cluster.html#topic1) command to copy extension files to, initialize, or reset PXF on all hosts, synchronize the PXF configuration to the Greenplum Database cluster, or to start, stop, or display the status of the PXF service instance on all segment hosts in the cluster.)\n+(Use the [`pxf cluster`](pxf-cluster.html#topic1) command to prepare a new `$PXF_BASE`, copy extension files to, initialize, or reset PXF on all hosts, synchronize the PXF configuration to the Greenplum Database cluster, or to start, stop, or display the status of the PXF service instance on all segment hosts in the cluster.)", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM2MDQ2NA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526360464", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <dd>Prepare a new `$PXF_BASE` directory on the host. When you run the command, you must identify the new PXF runtime configuration directory via an environment variable named `PXF_BASE`. PXF copies template runtime configuration files and directories to this `$PXF_BASE`.</dd>\n          \n          \n            \n            <dd>Prepare a new `$PXF_BASE` directory on the host. When you run the command, you must identify the new PXF runtime configuration directory via an environment variable named `PXF_BASE`. PXF copies runtime configuration file templates and directories to this `$PXF_BASE`.</dd>", "author": "denalex", "createdAt": "2020-11-18T19:25:12Z", "path": "docs/content/ref/pxf.html.md.erb", "diffHunk": "@@ -49,6 +50,9 @@ You can copy the extension files from a PXF installation on the host to the Gree\n <dt>init</dt>\n <dd>Initialize the PXF service instance on the host. The command also copies the PXF extension files from the PXF installation to the Greenplum installation on the host. (Specify the `--skip-register` option to instruct PXF to skip this initialization step.) When you initialize PXF, you must identify the PXF user configuration directory via an environment variable named `$PXF_CONF`. If you do not set `$PXF_CONF` prior to initializing PXF, PXF prompts you to accept or decline the default user configuration directory, `$HOME/pxf`, during the initialization process. See [Options](pxf.html#options).</dd>\n \n+<dt>prepare</dt>\n+<dd>Prepare a new `$PXF_BASE` directory on the host. When you run the command, you must identify the new PXF runtime configuration directory via an environment variable named `PXF_BASE`. PXF copies template runtime configuration files and directories to this `$PXF_BASE`.</dd>", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM2MDc4Nw==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526360787", "bodyText": "only 1 file is now copied.", "author": "denalex", "createdAt": "2020-11-18T19:25:41Z", "path": "docs/content/ref/pxf.html.md.erb", "diffHunk": "@@ -49,6 +50,9 @@ You can copy the extension files from a PXF installation on the host to the Gree\n <dt>init</dt>\n <dd>Initialize the PXF service instance on the host. The command also copies the PXF extension files from the PXF installation to the Greenplum installation on the host. (Specify the `--skip-register` option to instruct PXF to skip this initialization step.) When you initialize PXF, you must identify the PXF user configuration directory via an environment variable named `$PXF_CONF`. If you do not set `$PXF_CONF` prior to initializing PXF, PXF prompts you to accept or decline the default user configuration directory, `$HOME/pxf`, during the initialization process. See [Options](pxf.html#options).</dd>\n \n+<dt>prepare</dt>\n+<dd>Prepare a new `$PXF_BASE` directory on the host. When you run the command, you must identify the new PXF runtime configuration directory via an environment variable named `PXF_BASE`. PXF copies template runtime configuration files and directories to this `$PXF_BASE`.</dd>\n+\n <dt>register</dt>\n <dd>Copy the PXF extension files from the PXF installation on the host to the Greenplum installation on the host. This command requires that `$GPHOME` be set, and is typically run after you upgrade your Greenplum Database installation.</dd>", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM2MTc1Mg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526361752", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            PXF provides a template configuration file for each object store connector. These template files are located in the `$PXF_HOME/templates/` directory.\n          \n          \n            \n            PXF provides a configuration file template for each object store connector. These template files are located in the `$PXF_HOME/templates/` directory.", "author": "denalex", "createdAt": "2020-11-18T19:27:17Z", "path": "docs/content/s3_objstore_cfg.html.md.erb", "diffHunk": "@@ -10,12 +10,12 @@ You can use PXF to access S3-compatible object stores. This topic describes how\n \n To access data in an object store, you must provide a server location and client credentials. When you configure a PXF object store connector, you add at least one named PXF server configuration for the connector as described in [Configuring PXF Servers](cfg_server.html).\n \n-PXF provides a template configuration file for each object store connector. These template files are located in the `$PXF_CONF/templates/` directory.\n+PXF provides a template configuration file for each object store connector. These template files are located in the `$PXF_HOME/templates/` directory.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM4ODU1MA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526388550", "bodyText": "The Fedora packaging guidelines discourages the use of relocatable RPMs. I understand that we have some users the require this and that's why we use it. Would it make sense to separate the issue of relocating to a separate section for advanced topics?", "author": "bradfordb-vmware", "createdAt": "2020-11-18T20:11:59Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzEwMjIyMg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r527102222", "bodyText": "@bradfordb-vmware - can we defer this discussion and possible doc changes to another PR?  this is one of the few places that we mention relocatable rpm.  most of the content is in the install topic.  we can talk about moving it out of the main install procedure.", "author": "lisakowen", "createdAt": "2020-11-19T18:20:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM4ODU1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM3NTIwMQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526375201", "bodyText": "I wonder if we should still bundle PXF 6+ with Greenplum. If we do, we will have the same issues we have with PXF 5.x, that we need to separate binaries from runtime configurations. I guess it's supported with PXF_BASE, but documentation will be a nightmare. Any opinions @denalex @lisakowen ?", "author": "frankgh", "createdAt": "2020-11-18T19:49:20Z", "path": "docs/content/about_pxf_dir.html.md.erb", "diffHunk": "@@ -2,45 +2,54 @@\n title: About the PXF Installation and Configuration Directories\n ---\n \n-PXF is installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.\n+PXF may be installed to `$GPHOME/pxf` on your master and segment nodes when you install Greenplum Database. If you install the PXF `rpm` or `deb` package, PXF is installed to `/usr/local/pxf-gp<greenplum-major-version>`, or to a directory of your choosing (CentOS/RHEL only). This documentation uses `$PXF_HOME` to refer to the PXF installation directory.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzE5NDMyMQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r527194321", "bodyText": "@frankgh - yes, if pxf 6 is embedded in greenplum, with the new rpm file layout/PXF_BASE we are back to the same issues that we had with pxf 5.x and greenplum upgrades - > upgrading greenplum could munge the runtime configuration dirs/files.  seems like there are a few options:\n\nremove pxf from greenplum 6 distribution\nkeep pxf 5.15.1 in greenplum 6 distribution, no further pxf-integrated updates\ninclude pxf 5.latest (5.16) in the greenplum distribution, no further pxf-integrated updates\ninclude pxf 6.latest in the greenplum distribution, [possibly update with newer versions of pxf 6.x.]\n\n1, 2, and 3 require that the user must install the pxf rpm to get pxf 6.  if we limit it to one of these options, we won't need to worry about greenplum upgrades with pxf 6.  if we choose 4, we will probably want to recommend that the user relocate their PXF base on their first use of pxf 6.", "author": "lisakowen", "createdAt": "2020-11-19T20:59:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM3NTIwMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQxNjM0OQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526416349", "bodyText": "Installing PXF -> The PXF installation?", "author": "frankgh", "createdAt": "2020-11-18T20:59:05Z", "path": "docs/content/cfg_server.html.md.erb", "diffHunk": "@@ -58,7 +58,7 @@ For example, the contents of the `s3-site.xml` template file follow:\n \n ## <a id=\"default\"></a>About the Default Server\n \n-PXF defines a special server named `default`. When you initialize PXF, it automatically creates a `$PXF_CONF/servers/default/` directory. This directory, initially empty, identifies the default PXF server configuration. You can configure and assign the default PXF server to any external data source. For example, you can assign the PXF default server to a Hadoop cluster, or to a MySQL database that your users frequently access.\n+PXF defines a special server named `default`. Installing PXF creates a `$PXF_BASE/servers/default/` directory. This directory, initially empty, identifies the default PXF server configuration. You can configure and assign the default PXF server to any external data source. For example, you can assign the PXF default server to a Hadoop cluster, or to a MySQL database that your users frequently access.", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQyMDEzMg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526420132", "bodyText": "I assume pxf migrate will be documented later.", "author": "frankgh", "createdAt": "2020-11-18T21:06:02Z", "path": "docs/content/ref/pxf-cluster.html.md.erb", "diffHunk": "@@ -15,6 +15,7 @@ where `<command>` is:\n ``` pre\n help\n init\n+prepare", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjM0MA==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526476340", "bodyText": "yes, will document pxf migrate in a later PR.", "author": "lisakowen", "createdAt": "2020-11-18T22:50:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQyMDEzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQyMzUwOQ==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526423509", "bodyText": "we have a single log file now, it's called pxf-service.log by default. maybe out of scope of this PR though", "author": "frankgh", "createdAt": "2020-11-18T21:12:17Z", "path": "docs/content/troubleshooting_pxf.html.md.erb", "diffHunk": "@@ -146,7 +146,7 @@ By default, PXF is configured such that when the PXF JVM detects an out of memor\n \n When auto-kill is enabled and the PXF JVM detects an OOM condition and kills the PXF server on the segment host:\n \n-- PXF logs the following messages to `$PXF_CONF/logs/catalina.out` on the segment host:\n+- PXF logs the following messages to `$PXF_BASE/logs/catalina.out` on the segment host:", "originalCommit": "64b897fe93ae0f8063a8b59e547847202b2924b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQ3NjQ5Mg==", "url": "https://github.com/greenplum-db/pxf/pull/493#discussion_r526476492", "bodyText": "will address log-related changes in a separate PR.", "author": "lisakowen", "createdAt": "2020-11-18T22:51:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQyMzUwOQ=="}], "type": "inlineReview"}, {"oid": "20269b6ba35e9f52ee2e57dc0258efa940101592", "url": "https://github.com/greenplum-db/pxf/commit/20269b6ba35e9f52ee2e57dc0258efa940101592", "message": "some of the requested edits from review", "committedDate": "2020-11-18T22:36:30Z", "type": "commit"}, {"oid": "dff91c87442451ff019f65237ae491060cea75f0", "url": "https://github.com/greenplum-db/pxf/commit/dff91c87442451ff019f65237ae491060cea75f0", "message": "include more info about PXF_BASE on the install file page", "committedDate": "2020-11-19T18:16:25Z", "type": "commit"}]}