{"pr_number": 314, "pr_title": "Add PXF FDW code to the PXF repository", "pr_createdAt": "2020-03-05T22:19:35Z", "pr_url": "https://github.com/greenplum-db/pxf/pull/314", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODYwODkyOA==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r388608928", "bodyText": "no longer in contrib", "author": "denalex", "createdAt": "2020-03-05T22:40:41Z", "path": "fdw/Makefile", "diffHunk": "@@ -0,0 +1,22 @@\n+# contrib/pxf_fdw/Makefile", "originalCommit": "7b0abd311d93513b92bdf2f73d46737a14df594f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODYwOTIwMw==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r388609203", "bodyText": "are the above still correct ?", "author": "denalex", "createdAt": "2020-03-05T22:41:26Z", "path": "fdw/Makefile", "diffHunk": "@@ -0,0 +1,22 @@\n+# contrib/pxf_fdw/Makefile\n+\n+MODULE_big = pxf_fdw\n+OBJS = pxf_fdw.o pxf_bridge.o pxf_deparse.o pxf_filter.o pxf_fragment.o pxf_header.o pxf_option.o libchurl.o\n+\n+SHLIB_LINK += -lcurl\n+\n+EXTENSION = pxf_fdw\n+DATA = pxf_fdw--1.0.sql\n+\n+REGRESS = pxf_fdw_wrapper pxf_fdw_server pxf_fdw_user_mapping pxf_fdw_foreign_table\n+\n+ifdef USE_PGXS\n+PG_CONFIG = pg_config\n+PGXS := $(shell $(PG_CONFIG) --pgxs)\n+include $(PGXS)\n+else\n+subdir = contrib/pxf_fdw\n+top_builddir = ../..\n+include $(top_builddir)/src/Makefile.global\n+include $(top_srcdir)/contrib/contrib-global.mk", "originalCommit": "7b0abd311d93513b92bdf2f73d46737a14df594f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODYxNTE2Nw==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r388615167", "bodyText": "the else section is removed now", "author": "frankgh", "createdAt": "2020-03-05T22:56:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODYwOTIwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODYwOTgxMA==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r388609810", "bodyText": "different place now", "author": "denalex", "createdAt": "2020-03-05T22:43:02Z", "path": "fdw/pxf_fdw.h", "diffHunk": "@@ -0,0 +1,65 @@\n+/*\n+ * pxf_fdw.h\n+ *\t\t  Foreign-data wrapper for PXF (Platform Extension Framework)\n+ *\n+ * IDENTIFICATION\n+ *\t\t  contrib/pxf_fdw/pxf_fdw.h", "originalCommit": "7b0abd311d93513b92bdf2f73d46737a14df594f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a7dd9e09f67b3fecf2e98804593dcee639c25506", "url": "https://github.com/greenplum-db/pxf/commit/a7dd9e09f67b3fecf2e98804593dcee639c25506", "message": "Add PXF FDW code to the PXF repository\n\nThe PXF FDW code is moving to the PXF repository. The code is based on\nthe pxf_fdw_feature_6x version.", "committedDate": "2020-03-05T22:49:27Z", "type": "commit"}, {"oid": "a7dd9e09f67b3fecf2e98804593dcee639c25506", "url": "https://github.com/greenplum-db/pxf/commit/a7dd9e09f67b3fecf2e98804593dcee639c25506", "message": "Add PXF FDW code to the PXF repository\n\nThe PXF FDW code is moving to the PXF repository. The code is based on\nthe pxf_fdw_feature_6x version.", "committedDate": "2020-03-05T22:49:27Z", "type": "forcePushed"}, {"oid": "5ee812fb7e7e3a65c4bc48481814eb0c9f1cc40e", "url": "https://github.com/greenplum-db/pxf/commit/5ee812fb7e7e3a65c4bc48481814eb0c9f1cc40e", "message": "Address PR feedback", "committedDate": "2020-03-05T22:56:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzOTQzMQ==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r390039431", "bodyText": "Will this work with Greenplum 6? Don't we need some changes to the COPY code before that's the case?", "author": "oliverralbertini", "createdAt": "2020-03-10T00:54:45Z", "path": "fdw/README.md", "diffHunk": "@@ -0,0 +1,25 @@\n+# PXF Foreign Data Wrapper for Greenplum and PostgreSQL\n+\n+This Greenplum extension implements a Foreign Data Wrapper (FDW) for PXF.\n+\n+PXF is a query federation engine that accesses data residing in external systems\n+such as Hadoop, Hive, HBase, relational databases, S3, Google Cloud Storage,\n+among other external systems.\n+\n+### Development\n+\n+## Compile\n+\n+To compile the PXF foreign data wrapper, we need a Greenplum 6+ installation and libcurl.\n+", "originalCommit": "5ee812fb7e7e3a65c4bc48481814eb0c9f1cc40e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM4NTk1MQ==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r390385951", "bodyText": "Great point, @oliverralbertini. We need that commit in 6. For now I have disabled that code, and I return an error. I can create a PR for that change on the GPDB project. Let me know how would you like me to proceed.", "author": "frankgh", "createdAt": "2020-03-10T15:08:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzOTQzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzNzQwNA==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r390637404", "bodyText": "I think having it disabled for now is fine.", "author": "oliverralbertini", "createdAt": "2020-03-10T22:03:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAzOTQzMQ=="}], "type": "inlineReview"}, {"oid": "80ccd4983d0137677d8de9951268263992709859", "url": "https://github.com/greenplum-db/pxf/commit/80ccd4983d0137677d8de9951268263992709859", "message": "Disable BeginCopy until it is merged into 6X_STABLE", "committedDate": "2020-03-10T15:07:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzM2MTQ0Nw==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r393361447", "bodyText": "comment from sync up: error out if not set?", "author": "oliverralbertini", "createdAt": "2020-03-16T23:11:03Z", "path": "fdw/Makefile", "diffHunk": "@@ -0,0 +1,15 @@\n+# fdw/Makefile\n+\n+MODULE_big = pxf_fdw\n+OBJS = pxf_fdw.o pxf_bridge.o pxf_deparse.o pxf_filter.o pxf_fragment.o pxf_header.o pxf_option.o libchurl.o\n+\n+SHLIB_LINK += -lcurl\n+\n+EXTENSION = pxf_fdw\n+DATA = pxf_fdw--1.0.sql\n+\n+REGRESS = pxf_fdw_wrapper pxf_fdw_server pxf_fdw_user_mapping pxf_fdw_foreign_table\n+\n+PG_CONFIG = pg_config\n+PGXS := $(shell $(PG_CONFIG) --pgxs)\n+include $(PGXS)", "originalCommit": "80ccd4983d0137677d8de9951268263992709859", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc5MTQ3MQ==", "url": "https://github.com/greenplum-db/pxf/pull/314#discussion_r393791471", "bodyText": "done", "author": "frankgh", "createdAt": "2020-03-17T16:03:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzM2MTQ0Nw=="}], "type": "inlineReview"}, {"oid": "5511b612905486973cdd457eda1650c7e320cd53", "url": "https://github.com/greenplum-db/pxf/commit/5511b612905486973cdd457eda1650c7e320cd53", "message": "Validate that greenplum binaries are in the PATH", "committedDate": "2020-03-17T16:02:43Z", "type": "commit"}]}