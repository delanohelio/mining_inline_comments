{"pr_number": 429, "pr_title": "Add pipeline tasks to package OSL file inside RPMs", "pr_createdAt": "2020-08-24T20:50:22Z", "pr_url": "https://github.com/greenplum-db/pxf/pull/429", "timeline": [{"oid": "29c1c9cd4b5fef5c020a2eefb1884d95f5e73874", "url": "https://github.com/greenplum-db/pxf/commit/29c1c9cd4b5fef5c020a2eefb1884d95f5e73874", "message": "added scripts for adding OSL to RPM", "committedDate": "2020-08-22T05:21:04Z", "type": "commit"}, {"oid": "13673737cc11afd2461d12b5b207fdd865f630ce", "url": "https://github.com/greenplum-db/pxf/commit/13673737cc11afd2461d12b5b207fdd865f630ce", "message": "changed script permissions", "committedDate": "2020-08-22T05:21:43Z", "type": "commit"}, {"oid": "2ddd55b30011f8cf3e52701a3416703b51e66654", "url": "https://github.com/greenplum-db/pxf/commit/2ddd55b30011f8cf3e52701a3416703b51e66654", "message": "updated script", "committedDate": "2020-08-22T05:50:05Z", "type": "commit"}, {"oid": "5dc101575cb9fe145bcd8ab1090a0d56d1388caa", "url": "https://github.com/greenplum-db/pxf/commit/5dc101575cb9fe145bcd8ab1090a0d56d1388caa", "message": "updated release field", "committedDate": "2020-08-22T06:16:04Z", "type": "commit"}, {"oid": "613ae7af48eb9abba81dd4dbf162f3911cf9964d", "url": "https://github.com/greenplum-db/pxf/commit/613ae7af48eb9abba81dd4dbf162f3911cf9964d", "message": "modified build pipeline template", "committedDate": "2020-08-24T20:49:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg4ODg4MA==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475888880", "bodyText": "should we do * instead? or is this only for a one-off?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                regexp: ((pxf-releng-gp5-drop-path))/pxf-gp5-(.*)-2.el6.x86_64.rpm\n          \n          \n            \n                regexp: ((pxf-releng-gp5-drop-path))/pxf-gp5-(.*)-*.el6.x86_64.rpm", "author": "frankgh", "createdAt": "2020-08-24T20:55:56Z", "path": "concourse/pipelines/templates/build_pipeline-tpl.yml", "diffHunk": "@@ -272,7 +272,7 @@ resources:\n     bucket: ((pxf-releng-gp5-drop-bucket))\n     region_name: ((aws-region))\n     secret_access_key: ((bucket-secret-access-key))\n-    regexp: ((pxf-releng-gp5-drop-path))/pxf-gp5-(.*)-1.el6.x86_64.rpm\n+    regexp: ((pxf-releng-gp5-drop-path))/pxf-gp5-(.*)-2.el6.x86_64.rpm", "originalCommit": "613ae7af48eb9abba81dd4dbf162f3911cf9964d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkwMTQyOA==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475901428", "bodyText": "want to specifically ensure we are shipping and naming as -2", "author": "denalex", "createdAt": "2020-08-24T21:21:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg4ODg4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5NzMyMg==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475897322", "bodyText": "I am curious about the name change -- did you add the underscores to make it easier to interact with this job via the CLI? Or just preference/consistency?", "author": "bradfordb-vmware", "createdAt": "2020-08-24T21:12:48Z", "path": "concourse/pipelines/templates/build_pipeline-tpl.yml", "diffHunk": "@@ -1532,7 +1550,7 @@ jobs:\n     <<: *slack_alert\n {% endif %}\n \n-- name: Publish PXF-GP5 and PXF-GP6 Artifacts to GP-RelEng\n+- name: Publish_PXF-GP5_and_PXF-GP6_Artifacts_to_GP-RelEng", "originalCommit": "613ae7af48eb9abba81dd4dbf162f3911cf9964d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkwMTc0Mg==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475901742", "bodyText": "having spaces in the job name breaks an HTML link in the email, will see if this will be better", "author": "denalex", "createdAt": "2020-08-24T21:21:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5NzMyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5ODM4Nw==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475898387", "bodyText": "One suggesting for a future refactor: We could move this into a Concourse var (e.g., pxf-rpm-release) and then only have to work about changing it in one place. I'll add a chore to the icebox.", "author": "bradfordb-vmware", "createdAt": "2020-08-24T21:15:05Z", "path": "concourse/pipelines/templates/build_pipeline-tpl.yml", "diffHunk": "@@ -272,7 +272,7 @@ resources:\n     bucket: ((pxf-releng-gp5-drop-bucket))\n     region_name: ((aws-region))\n     secret_access_key: ((bucket-secret-access-key))\n-    regexp: ((pxf-releng-gp5-drop-path))/pxf-gp5-(.*)-1.el6.x86_64.rpm\n+    regexp: ((pxf-releng-gp5-drop-path))/pxf-gp5-(.*)-2.el6.x86_64.rpm", "originalCommit": "613ae7af48eb9abba81dd4dbf162f3911cf9964d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkwMjAzNg==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475902036", "bodyText": "ok, makes sense, thanks @bradfordb-vmware", "author": "denalex", "createdAt": "2020-08-24T21:22:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5ODM4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5ODc3Nw==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475898777", "bodyText": "Since this is a template and we have looping constructs, would it make sense to define this inside a template loop?", "author": "bradfordb-vmware", "createdAt": "2020-08-24T21:15:51Z", "path": "concourse/pipelines/templates/build_pipeline-tpl.yml", "diffHunk": "@@ -387,6 +387,24 @@ resources:\n     password: ((pxf-cloudbuild-service-account-key))\n {% set gp_ver = None %}\n \n+- name: rpmrebuild-centos6-image", "originalCommit": "613ae7af48eb9abba81dd4dbf162f3911cf9964d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkwMjk4OQ==", "url": "https://github.com/greenplum-db/pxf/pull/429#discussion_r475902989", "bodyText": "could be, I was on the fence there, was actually advising against excessive loop usage to improve readability. I think we mostly use loops on gp_ver, to a lesser extend on centos versions", "author": "denalex", "createdAt": "2020-08-24T21:24:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg5ODc3Nw=="}], "type": "inlineReview"}]}