{"pr_number": 9621, "pr_title": "CB-9462 [E2E] Enable Private Link creation in CB E2E test", "pr_createdAt": "2020-12-10T08:48:35Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/9621", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MDU4Mw==", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540070583", "bodyText": "Usually we extends GherkinTest at this level of the project. If you do not judge, this is not worth it, we can leave this at it is.", "author": "aszegedi", "createdAt": "2020-12-10T10:53:54Z", "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/PrivateEndpointTest.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.sequenceiq.it.cloudbreak;\n+\n+public class PrivateEndpointTest {", "originalCommit": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcyNzM5NA==", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540727394", "bodyText": "I see. What is the benefit of extending the GherkinTest class? I see that the methods of the GherkinTest class are used solely in RepositoryConfigTests.", "author": "gergopapi2", "createdAt": "2020-12-11T06:47:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MDU4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTI2ODM5Nw==", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r541268397", "bodyText": "Ok, you convinced me via chat, I change it. It helps the organization.", "author": "gergopapi2", "createdAt": "2020-12-11T20:42:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MDU4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MDcxOA==", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540070718", "bodyText": "Usually we extends GherkinTest at this level of the project. If you do not judge, this is not worth it, we can leave this at it is.", "author": "aszegedi", "createdAt": "2020-12-10T10:54:06Z", "path": "integration-test/src/main/java/com/sequenceiq/it/cloudbreak/ResourceGroupTest.java", "diffHunk": "@@ -5,10 +5,17 @@\n \n     public static final String AZURE_RESOURCE_GROUP_USAGE_SINGLE = \"SINGLE\";\n \n+    public static final String AZURE_RESOURCE_GROUP_USAGE_SINGLE_DEDICATED = \"SINGLE_WITH_DEDICATED_STORAGE_ACCOUNT\";\n+\n     public static final String AZURE_RESOURCE_GROUP_USAGE_MULTIPLE = \"MULTIPLE\";\n \n     public static final String AZURE_RESOURCE_GROUP_NAME = \"AZURE_RESOURCE_GROUP_NAME\";\n \n     private ResourceGroupTest() {", "originalCommit": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MjUzNg==", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540072536", "bodyText": "If privateEndpoint won't contain any further parameters, you can set this directly:\nprivateEndpoint: false", "author": "aszegedi", "createdAt": "2020-12-10T10:56:47Z", "path": "integration-test/src/main/resources/application.yml", "diffHunk": "@@ -69,6 +69,8 @@ integrationtest:\n   upgrade:\n     currentRuntimeVersion: 7.2.0\n     targetRuntimeVersion: 7.2.6\n+  privateendpoint:\n+    enabled: false", "originalCommit": "97bdde50b370e91ce2a6a4c317c8e1ca95e20b28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDczMzAwNg==", "url": "https://github.com/hortonworks/cloudbreak/pull/9621#discussion_r540733006", "bodyText": "I changed it to privateEndpointEnabled, would that be ok?", "author": "gergopapi2", "createdAt": "2020-12-11T07:03:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA3MjUzNg=="}], "type": "inlineReview"}, {"oid": "ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "url": "https://github.com/hortonworks/cloudbreak/commit/ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "message": "CB-9462 [E2E] Enable Private Link creation in CB E2E test\n\nThis commit enabled to test postgres via private endpoint on azure as well. It can be turned on for AWS and AZURE via environment variable 'integrationtest.privateendpoint.enabled'. For other platforms it is disabled for now.\n\nFor AZURE it also needs to be used together with single rg option. If it is a multiple rg deployment, then private endpoints are automatically turned off in int-test.", "committedDate": "2020-12-11T20:44:42Z", "type": "commit"}, {"oid": "ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "url": "https://github.com/hortonworks/cloudbreak/commit/ad811abff7ab214a5ab99e3dcff20fab4b04b6d0", "message": "CB-9462 [E2E] Enable Private Link creation in CB E2E test\n\nThis commit enabled to test postgres via private endpoint on azure as well. It can be turned on for AWS and AZURE via environment variable 'integrationtest.privateendpoint.enabled'. For other platforms it is disabled for now.\n\nFor AZURE it also needs to be used together with single rg option. If it is a multiple rg deployment, then private endpoints are automatically turned off in int-test.", "committedDate": "2020-12-11T20:44:42Z", "type": "forcePushed"}]}