{"pr_number": 7756, "pr_title": "CB-6494: Update FreeIPA backup scripts to provide status", "pr_createdAt": "2020-04-07T21:03:49Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/7756", "timeline": [{"oid": "7be3b69dcf87145b1d7b3ae9ea2493191653a7a4", "url": "https://github.com/hortonworks/cloudbreak/commit/7be3b69dcf87145b1d7b3ae9ea2493191653a7a4", "message": "CB-6494: Update FreeIPA backup scripts to provide status\n\nThis change enables the backup script to report a single\nline status. This enables easier parsing of the last\nbackup status for the health checks.", "committedDate": "2020-04-07T20:23:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI4ODIxMg==", "url": "https://github.com/hortonworks/cloudbreak/pull/7756#discussion_r405288212", "bodyText": "so don't we need the same for error?", "author": "lacikaaa", "createdAt": "2020-04-08T06:33:28Z", "path": "freeipa/src/main/resources/freeipa-salt/salt/freeipa/scripts/freeipa_backup", "diffHunk": "@@ -83,10 +92,19 @@ doLog(){\n     echo \"`date \"+%Y-%m-%dT%H:%M:%SZ\"` $type_of_msg \"\"$msg\" >> $LOGFILE\n }\n \n+doStatus(){\n+    type_of_msg=$(echo $*|cut -d\" \" -f1)\n+    msg=$(echo \"$*\"|cut -d\" \" -f2-)\n+    [[ $type_of_msg == INFO ]] && type_of_msg=\"INFO \" # one space for aligning", "originalCommit": "7be3b69dcf87145b1d7b3ae9ea2493191653a7a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTU0NDk2Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/7756#discussion_r405544966", "bodyText": "No.  This code is just adding an addition space next to INFO so the logging lines up visually.", "author": "holleyism", "createdAt": "2020-04-08T13:56:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI4ODIxMg=="}], "type": "inlineReview"}]}