{"pr_number": 8185, "pr_title": "CB-6236 do not add RAZ service to SDX template if not enabled", "pr_createdAt": "2020-05-29T15:11:38Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8185", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjYxOTk1MA==", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#discussion_r432619950", "bodyText": "It looks like that this was not properly covered with test, please cover it in this fix.", "author": "akanto", "createdAt": "2020-05-29T17:04:54Z", "path": "template-manager-cmtemplate/src/main/java/com/sequenceiq/cloudbreak/cmtemplate/configproviders/raz/RangerRazConfigProvider.java", "diffHunk": "@@ -35,11 +35,14 @@\n \n     @Override\n     public Map<String, ApiClusterTemplateService> getAdditionalServices(CmTemplateProcessor cmTemplateProcessor, TemplatePreparationObject source) {\n-        ApiClusterTemplateService coreSettings = createTemplate();\n-        Set<HostgroupView> hostgroupViews = source.getHostgroupViews();\n-        return hostgroupViews.stream()\n-                .filter(hg -> InstanceGroupType.CORE.equals(hg.getInstanceGroupType()))\n-                .collect(Collectors.toMap(HostgroupView::getName, v -> coreSettings));\n+        if (isConfigurationNeeded(cmTemplateProcessor, source)) {", "originalCommit": "e2cbf0de521807ec135bda836d440f3abcfa3716", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgxNzM3MQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/8185#discussion_r432817371", "bodyText": "Done", "author": "keyki", "createdAt": "2020-05-30T06:59:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjYxOTk1MA=="}], "type": "inlineReview"}, {"oid": "ef7f3f22f5e45306fffd4607118a0e06c726ed30", "url": "https://github.com/hortonworks/cloudbreak/commit/ef7f3f22f5e45306fffd4607118a0e06c726ed30", "message": "CB-6236 do not add RAZ service to SDX template if not enabled", "committedDate": "2020-05-29T17:56:54Z", "type": "forcePushed"}, {"oid": "23ac6435d0037e81a0c644a9885ed748349b78cb", "url": "https://github.com/hortonworks/cloudbreak/commit/23ac6435d0037e81a0c644a9885ed748349b78cb", "message": "CB-6236 do not add RAZ service to SDX template if not enabled", "committedDate": "2020-05-30T06:58:19Z", "type": "forcePushed"}, {"oid": "f0802cf076c65257b82c17d3afa60ad6ed913578", "url": "https://github.com/hortonworks/cloudbreak/commit/f0802cf076c65257b82c17d3afa60ad6ed913578", "message": "CB-6236 do not add RAZ service to SDX template if not enabled", "committedDate": "2020-05-30T07:00:44Z", "type": "forcePushed"}, {"oid": "acd81325e2aad0d4149990348a822920ec50221f", "url": "https://github.com/hortonworks/cloudbreak/commit/acd81325e2aad0d4149990348a822920ec50221f", "message": "CB-6236 do not add RAZ service to SDX template if not enabled", "committedDate": "2020-05-30T07:04:41Z", "type": "commit"}, {"oid": "acd81325e2aad0d4149990348a822920ec50221f", "url": "https://github.com/hortonworks/cloudbreak/commit/acd81325e2aad0d4149990348a822920ec50221f", "message": "CB-6236 do not add RAZ service to SDX template if not enabled", "committedDate": "2020-05-30T07:04:41Z", "type": "forcePushed"}]}