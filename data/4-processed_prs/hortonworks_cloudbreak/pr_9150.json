{"pr_number": 9150, "pr_title": "CB-9155 and CB-9147", "pr_createdAt": "2020-10-06T09:35:07Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/9150", "timeline": [{"oid": "4239bd206f4215a79fc6379abd2370f4873a51db", "url": "https://github.com/hortonworks/cloudbreak/commit/4239bd206f4215a79fc6379abd2370f4873a51db", "message": "CB-9155 Network deletion problem when multiple delete happends then after some time we are not able to write back the record because it is too long. Now it is change to env name + 'network' fixed string.", "committedDate": "2020-10-06T09:34:25Z", "type": "commit"}, {"oid": "34af8a80884d31da074720549388ba9cfb752398", "url": "https://github.com/hortonworks/cloudbreak/commit/34af8a80884d31da074720549388ba9cfb752398", "message": "CB-9147 modify the generated swagger def to use produces json. This will fix the UI side code generation and we will be able to download the zip.", "committedDate": "2020-10-06T09:34:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDIxNDA3Mw==", "url": "https://github.com/hortonworks/cloudbreak/pull/9150#discussion_r500214073", "bodyText": "it is the same then earlier. Much better if you check _DELETED_@_timestamp is in the name or not.", "author": "topolyai5", "createdAt": "2020-10-06T11:53:27Z", "path": "environment/src/main/java/com/sequenceiq/environment/environment/flow/deletion/handler/NetworkDeleteHandler.java", "diffHunk": "@@ -61,7 +61,7 @@ public void accept(Event<EnvironmentDeletionDto> environmentDtoEvent) {\n                     if (RegistrationType.CREATE_NEW == registrationType) {\n                         environmentNetworkService.deleteNetwork(environmentDtoConverter.environmentToDto(environment));\n                     }\n-                    network.setName(network.getName() + \"_DELETED_@_\" + System.currentTimeMillis());\n+                    network.setName(environment.getName() + \"_network_DELETED_@_\" + System.currentTimeMillis());", "originalCommit": "34af8a80884d31da074720549388ba9cfb752398", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDIyMTIwNg==", "url": "https://github.com/hortonworks/cloudbreak/pull/9150#discussion_r500221206", "bodyText": "why is this the same?\nwe dont modify the env name until we can not delete", "author": "doktoric", "createdAt": "2020-10-06T12:06:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDIxNDA3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDIyNjIzNQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/9150#discussion_r500226235", "bodyText": "if you see the desc in the jira: gtlocal1_DELETED_@1601902245809_DELETED@1601903025413_DELETED@1601903612895_DELETED@1601904217274_DELETED@1601904607194_DELETED@1601905595570_DELETED@1601906596339_DELETED@1601906833696_DELETED@1601907190970_DELETED@1601908948322_DELETED@_1601923539012\nof course, this is a timeline error but I could delete only in debug mode (I updated first with less than 255 chars and save it)", "author": "topolyai5", "createdAt": "2020-10-06T12:14:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDIxNDA3Mw=="}], "type": "inlineReview"}]}