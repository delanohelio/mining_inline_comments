{"pr_number": 7830, "pr_title": "CB-6660 Added NIFI_REGISTRY_REST as an exposed service", "pr_createdAt": "2020-04-17T19:17:36Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/7830", "timeline": [{"oid": "18edcb65be9da44c1b8c342874c69ca6902d776d", "url": "https://github.com/hortonworks/cloudbreak/commit/18edcb65be9da44c1b8c342874c69ca6902d776d", "message": "CB-6660 Added NIFI_REGISTRY_REST as an exposed service\nUpdated displayName for the NIFI and NIFI_REGISTRY exposed services for proper stylization\nUpdated knoxService value for the NIFI_REGISTRY exposed service to be consistent with other exposed services\nUpdated apiIncluded to be false for the NIFI_REGISTRY exposed service due to the addition of the NIFI_REGISTRY_REST (NiFi Registry API) exposed service", "committedDate": "2020-04-17T19:13:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ3NjU5Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/7830#discussion_r410476596", "bodyText": "I don't think this change is right? It should be NIFI-REGISTRY and not with an underscore?\nReferences:\n\nhttps://github.com/apache/knox/blob/master/gateway-service-definitions/src/main/resources/services/nifi-registry/0.5.0/service.xml#L17\nhttps://github.com/hortonworks/cloudbreak/blob/master/orchestrator-salt/src/main/resources/salt/salt/gateway/config/cm/topology.xml.j2#L624", "author": "risdenk", "createdAt": "2020-04-17T21:22:58Z", "path": "core-api/src/main/resources/definitions/exposed-services.json", "diffHunk": "@@ -296,15 +296,15 @@\n     },\n     {\n       \"name\": \"NIFI_REGISTRY\",\n-      \"displayName\": \"Nifi Registry\",\n+      \"displayName\": \"NiFi Registry\",\n       \"serviceName\": \"NIFI_REGISTRY_SERVER\",\n-      \"knoxService\": \"NIFI-REGISTRY\",", "originalCommit": "18edcb65be9da44c1b8c342874c69ca6902d776d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ3NzQ3NQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/7830#discussion_r410477475", "bodyText": "This should be NIFI-REGISTRY and not NIFI_REGISTRY_REST. If you want this to change, most likely need to change here as well:\nhttps://github.com/hortonworks/cloudbreak/blob/master/orchestrator-salt/src/main/resources/salt/salt/gateway/config/cm/topology_api.xml.j2#L202", "author": "risdenk", "createdAt": "2020-04-17T21:25:13Z", "path": "core-api/src/main/resources/definitions/exposed-services.json", "diffHunk": "@@ -322,6 +322,20 @@\n       \"visibleForDatalake\": true,\n       \"visibleForDatahub\": true\n     },\n+    {\n+      \"name\": \"NIFI_REGISTRY_REST\",\n+      \"displayName\": \"NiFi Registry Rest\",\n+      \"serviceName\": \"NIFI_REGISTRY_SERVER\",\n+      \"knoxService\": \"NIFI_REGISTRY_REST\",", "originalCommit": "18edcb65be9da44c1b8c342874c69ca6902d776d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e70cf775a3672f9436f1ed5a4adff924119806de", "url": "https://github.com/hortonworks/cloudbreak/commit/e70cf775a3672f9436f1ed5a4adff924119806de", "message": "Addressing PR review feedback\nUpdated ExposedServiceCollectorTest to verify addition of NiFi Registry rest-only endpoint to exposed services\nUpdated topology_api.xml.j2 to include nifi-registry.acl with gateway:envAccessGroup and reference NIFI-REGISTRY-REST exposed service from exposed-services.json", "committedDate": "2020-04-20T23:50:27Z", "type": "commit"}]}