{"pr_number": 8931, "pr_title": "DISTX-504 Optimize DB Cluster Update", "pr_createdAt": "2020-09-04T09:57:34Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8931", "timeline": [{"oid": "72a6c8af527772785b811b74876a5c98f0a75522", "url": "https://github.com/hortonworks/cloudbreak/commit/72a6c8af527772785b811b74876a5c98f0a75522", "message": "DISTX-504 Optimize DB Cluster Update\n\nAS Cluster's lastEvaluated and lastScalingActivity are updated at a very high rate for every alert monitor run. Saving the entire cluster object hierarchy in this flow is inefficient and unnecessary. Hence only the required single field is updated.", "committedDate": "2020-09-04T09:51:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzUxNzM5Mw==", "url": "https://github.com/hortonworks/cloudbreak/pull/8931#discussion_r483517393", "bodyText": "The returned object is unused and avoids additional DB Hit in ClusterMonitor.", "author": "smaniraju", "createdAt": "2020-09-04T09:58:32Z", "path": "autoscale/src/main/java/com/sequenceiq/periscope/monitor/AbstractMonitor.java", "diffHunk": "@@ -64,7 +64,7 @@ protected EvaluatorExecutor getEvaluatorExecutorBean(M monitored) {\n \n     protected abstract List<M> getMonitored();\n \n-    protected abstract M save(M monitored);\n+    protected abstract void save(M monitored);\n ", "originalCommit": "72a6c8af527772785b811b74876a5c98f0a75522", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzcyMDAzOQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/8931#discussion_r483720039", "bodyText": "Will this change affect HA deployments, and failover?", "author": "sidseth", "createdAt": "2020-09-04T16:13:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzUxNzM5Mw=="}], "type": "inlineReview"}]}