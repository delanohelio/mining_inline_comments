{"pr_number": 8023, "pr_title": "CB-7013 Delete old 7.1.1 templates / definitions", "pr_createdAt": "2020-05-12T10:42:59Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8023", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY5Njg1Mg==", "url": "https://github.com/hortonworks/cloudbreak/pull/8023#discussion_r423696852", "bodyText": "I think we don't need this anymore, the code shall hide things automatically.", "author": "akanto", "createdAt": "2020-05-12T12:35:11Z", "path": "core/src/main/resources/schema/app/20200512100924_CB-7013_Delete_old_7.1.1_templates.sql", "diffHunk": "@@ -0,0 +1,11 @@\n+-- // CB-7013 Delete old 7.1.1 templates\n+-- Migration SQL that makes the change goes here.\n+\n+UPDATE blueprint SET status = 'DEFAULT_DELETED' WHERE status = 'DEFAULT' AND name LIKE '7.1.1%';", "originalCommit": "fc6b03bda3dab5bca8c2cb35e6b5ce7af4c9f72a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg2MzQxNA==", "url": "https://github.com/hortonworks/cloudbreak/pull/8023#discussion_r423863414", "bodyText": "I removed the line and also fixed an issue with the loader service what I just realized. Different commit and different issue but if you want I can open two separated pull request for this.", "author": "doktoric", "createdAt": "2020-05-12T16:18:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY5Njg1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwMzg1MQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/8023#discussion_r424203851", "bodyText": "Thanks, but I think we don't need SQL at all", "author": "akanto", "createdAt": "2020-05-13T06:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY5Njg1Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMwMjEyMA==", "url": "https://github.com/hortonworks/cloudbreak/pull/8023#discussion_r424302120", "bodyText": "removed", "author": "doktoric", "createdAt": "2020-05-13T09:30:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzY5Njg1Mg=="}], "type": "inlineReview"}, {"oid": "4cd11f62b0b6c38d0fff15607a3011baeaefff0a", "url": "https://github.com/hortonworks/cloudbreak/commit/4cd11f62b0b6c38d0fff15607a3011baeaefff0a", "message": "CB-7027 DefaultBlueprint Loader service don't deregister blueprint which are not in the cache", "committedDate": "2020-05-13T09:29:09Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMwODQ4OQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/8023#discussion_r424308489", "bodyText": "clouderamanager section still contains reference for 7.1.1", "author": "akanto", "createdAt": "2020-05-13T09:41:13Z", "path": "core/src/main/resources/application.yml", "diffHunk": "@@ -234,15 +234,6 @@ cb:\n         7.1.0 - SDX Medium Duty: Apache Hive Metastore, Apache Ranger, Apache Atlas=cdp-sdx-medium-ha-710;\n         7.1.0 - Streams Messaging Heavy Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-710;\n         7.1.0 - Streams Messaging Light Duty: Apache Kafka, Schema Registry, Streams Messaging Manager=cdp-streaming-small-710;\n-        7.1.1 - Data Engineering: Apache Spark, Apache Hive, Apache Oozie=cdp-data-engineering-711;", "originalCommit": "4cd11f62b0b6c38d0fff15607a3011baeaefff0a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a59088e9f7b8c29c9fcc3fb48c368ad6aece6cc7", "url": "https://github.com/hortonworks/cloudbreak/commit/a59088e9f7b8c29c9fcc3fb48c368ad6aece6cc7", "message": "CB-7027 DefaultBlueprint Loader service don't deregister blueprint which are not in the cache", "committedDate": "2020-05-13T10:05:46Z", "type": "forcePushed"}, {"oid": "4dcd83155881a89f8827407e04bd803b7919fc38", "url": "https://github.com/hortonworks/cloudbreak/commit/4dcd83155881a89f8827407e04bd803b7919fc38", "message": "CB-7013 Delete old 7.1.1 templates / definitions", "committedDate": "2020-05-13T12:47:27Z", "type": "commit"}, {"oid": "3f961cb54476b6eaca93c8ee1e5419c4f7a780a7", "url": "https://github.com/hortonworks/cloudbreak/commit/3f961cb54476b6eaca93c8ee1e5419c4f7a780a7", "message": "CB-7027 DefaultBlueprint Loader service don't deregister blueprint which are not in the cache", "committedDate": "2020-05-13T12:47:28Z", "type": "commit"}, {"oid": "3f961cb54476b6eaca93c8ee1e5419c4f7a780a7", "url": "https://github.com/hortonworks/cloudbreak/commit/3f961cb54476b6eaca93c8ee1e5419c4f7a780a7", "message": "CB-7027 DefaultBlueprint Loader service don't deregister blueprint which are not in the cache", "committedDate": "2020-05-13T12:47:28Z", "type": "forcePushed"}]}