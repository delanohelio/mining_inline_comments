{"pr_number": 998, "pr_title": "Filter and display tags", "pr_createdAt": "2020-05-27T13:30:04Z", "pr_url": "https://github.com/UNC-Libraries/box-c/pull/998", "timeline": [{"oid": "03b59a604af69cfa81c6086e2faa13c926907383", "url": "https://github.com/UNC-Libraries/box-c/commit/03b59a604af69cfa81c6086e2faa13c926907383", "message": "* Filter and display tags\n* Remove unpublished tag", "committedDate": "2020-05-27T13:20:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTE5Nzc0MQ==", "url": "https://github.com/UNC-Libraries/box-c/pull/998#discussion_r431197741", "bodyText": "Is tag.text still a thing? Seems like the tags are just strings now. It would probably be a good idea to have help text for each tag though, which could be passed in as a map. You're welcome to add that, or create a follow up ticket for it", "author": "bbpennel", "createdAt": "2020-05-27T14:50:56Z", "path": "static/templates/admin/resultEntry.html", "diffHunk": "@@ -28,7 +28,7 @@\n \t\t\t<% for (var i in metadata.tags) { \n \t\t\t\tvar tag = metadata.tags[i];\n \t\t\t\t%>\n-\t\t\t\t<a class=\"status\" title=\"<%= tag.text %>\" ><%= _.escape(tag.label) %></a>\n+\t\t\t\t<a class=\"status\" title=\"<%= tag.text %>\" ><%= _.escape(tag) %></a>", "originalCommit": "03b59a604af69cfa81c6086e2faa13c926907383", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9a4c0bf20679d769097382ad696613414fea2dd7", "url": "https://github.com/UNC-Libraries/box-c/commit/9a4c0bf20679d769097382ad696613414fea2dd7", "message": "Add help text for tags", "committedDate": "2020-05-27T19:27:09Z", "type": "commit"}, {"oid": "00ebb5457551890bb0fc5a84b7a379f99c414841", "url": "https://github.com/UNC-Libraries/box-c/commit/00ebb5457551890bb0fc5a84b7a379f99c414841", "message": "Update hover text", "committedDate": "2020-05-28T17:37:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUxMDQ5NQ==", "url": "https://github.com/UNC-Libraries/box-c/pull/998#discussion_r433510495", "bodyText": "Based on the list from the ticket, I don't think public-access should be showing as a tag, only as a facet", "author": "bbpennel", "createdAt": "2020-06-01T21:52:53Z", "path": "static/js/admin/src/ResultObject.js", "diffHunk": "@@ -60,6 +66,38 @@ define('ResultObject', [ 'jquery', 'jquery-ui', 'underscore', 'ModalLoadingOverl\n \t\tif (this.options.selected || this.selected)\n \t\t\tthis.select();\n \t};\n+\n+\tResultObject.prototype._tagText = function(tag) {\n+\t\tvar helpText;\n+\n+\t\tswitch (tag) {\n+\t\t\tcase 'deleted':\n+\t\t\t\thelpText = 'Object has been marked for deletion'\n+\t\t\t\tbreak;\n+\t\t\tcase 'described':\n+\t\t\t\thelpText = 'Object has a MODS description';\n+\t\t\t\tbreak;\n+\t\t\tcase 'embargoed':\n+\t\t\t\thelpText = 'Object has an active embargo set';\n+\t\t\t\tbreak;\n+\t\t\tcase 'patron-settings':\n+\t\t\t\thelpText = 'Patron access settings for this object have been added';\n+\t\t\t\tbreak;\n+\t\t\tcase 'primary-object':\n+\t\t\t\thelpText = 'This file is the representative object for the work which contains it';\n+\t\t\t\tbreak;\n+\t\t\tcase 'public-access':", "originalCommit": "00ebb5457551890bb0fc5a84b7a379f99c414841", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b70a09c3632e135e9aad6605f4bd64fdbcad2bc2", "url": "https://github.com/UNC-Libraries/box-c/commit/b70a09c3632e135e9aad6605f4bd64fdbcad2bc2", "message": "Don't display \"public access\"", "committedDate": "2020-06-02T12:45:18Z", "type": "commit"}]}