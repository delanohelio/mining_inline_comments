{"pr_number": 893, "pr_title": "BXC-2515 - Premis Migration", "pr_createdAt": "2020-01-31T19:47:39Z", "pr_url": "https://github.com/UNC-Libraries/box-c/pull/893", "timeline": [{"oid": "8e32174373dcbde4816d59056404dbefd73d5592", "url": "https://github.com/UNC-Libraries/box-c/commit/8e32174373dcbde4816d59056404dbefd73d5592", "message": "Remove unnecessary rethrow as caught exception", "committedDate": "2020-01-24T19:34:46Z", "type": "commit"}, {"oid": "e6ee1a4bad802ec79cf410f72c0ed08585a6e001", "url": "https://github.com/UNC-Libraries/box-c/commit/e6ee1a4bad802ec79cf410f72c0ed08585a6e001", "message": "Allow event id to be supplied when building events", "committedDate": "2020-01-24T19:34:46Z", "type": "commit"}, {"oid": "afa9be68278ad101effc4996eff0e5e0df491f39", "url": "https://github.com/UNC-Libraries/box-c/commit/afa9be68278ad101effc4996eff0e5e0df491f39", "message": "Add transformation for deposit record premis", "committedDate": "2020-01-24T22:23:59Z", "type": "commit"}, {"oid": "878832de31b45bdcf96ba3852aa2805bce3b2a10", "url": "https://github.com/UNC-Libraries/box-c/commit/878832de31b45bdcf96ba3852aa2805bce3b2a10", "message": "Add the name of agent as a slug to hash uri to allow for multiple agents of same type on an event. Only perform event detail formatting when more than zero arguments provided.", "committedDate": "2020-01-26T03:08:41Z", "type": "commit"}, {"oid": "1a39d99cce2ce53a032868dc9a7c02758479ab8a", "url": "https://github.com/UNC-Libraries/box-c/commit/1a39d99cce2ce53a032868dc9a7c02758479ab8a", "message": "Add transformation for content object premis events. Add more premis types and software agents.", "committedDate": "2020-01-26T03:09:12Z", "type": "commit"}, {"oid": "6efdd97046c56428383a156fe26497fcbb4a16ca", "url": "https://github.com/UNC-Libraries/box-c/commit/6efdd97046c56428383a156fe26497fcbb4a16ca", "message": "Pull premis test helper methods into test utility", "committedDate": "2020-01-29T22:47:10Z", "type": "commit"}, {"oid": "34cb199c2e037eb0cf68271f04721b1041ebfcb3", "url": "https://github.com/UNC-Libraries/box-c/commit/34cb199c2e037eb0cf68271f04721b1041ebfcb3", "message": "Add services and commandline for executing premis transformation", "committedDate": "2020-01-29T23:11:32Z", "type": "commit"}, {"oid": "e696c9911dc7143b87ab10d7e6f32d8203ae5601", "url": "https://github.com/UNC-Libraries/box-c/commit/e696c9911dc7143b87ab10d7e6f32d8203ae5601", "message": "Fix class path issues with jar. Add flags for premis tranformation. Add tests for transformation services", "committedDate": "2020-01-30T15:22:13Z", "type": "commit"}, {"oid": "ae005b76bae9ec470b2113172c37b476978b1b94", "url": "https://github.com/UNC-Libraries/box-c/commit/ae005b76bae9ec470b2113172c37b476978b1b94", "message": "Add missing event profiles", "committedDate": "2020-01-30T15:42:05Z", "type": "commit"}, {"oid": "4b1df57fdadc5958247943d3d5e4f4683d2f5bbd", "url": "https://github.com/UNC-Libraries/box-c/commit/4b1df57fdadc5958247943d3d5e4f4683d2f5bbd", "message": "Catch illegal arg exception when setting date fields", "committedDate": "2020-02-01T17:34:45Z", "type": "commit"}, {"oid": "a6ba475ea70dc9eebdca73fc0bf5db5fe0378965", "url": "https://github.com/UNC-Libraries/box-c/commit/a6ba475ea70dc9eebdca73fc0bf5db5fe0378965", "message": "Catch null event outcome case", "committedDate": "2020-02-03T15:01:27Z", "type": "commit"}, {"oid": "ab58a14847aa78e21887d219bd1c2b492f2c6b0e", "url": "https://github.com/UNC-Libraries/box-c/commit/ab58a14847aa78e21887d219bd1c2b492f2c6b0e", "message": "Update readme", "committedDate": "2020-02-03T19:04:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDI5MDg5Mg==", "url": "https://github.com/UNC-Libraries/box-c/pull/893#discussion_r374290892", "bodyText": "Remove Premis.VirusCheck", "author": "bbpennel", "createdAt": "2020-02-03T19:20:26Z", "path": "migration-util/src/main/java/edu/unc/lib/dcr/migration/MigrationCLI.java", "diffHunk": "@@ -18,29 +18,46 @@\n import static edu.unc.lib.dcr.migration.MigrationConstants.OUTPUT_LOGGER;\n import static org.slf4j.LoggerFactory.getLogger;\n \n+import java.util.concurrent.Callable;\n+\n import org.slf4j.Logger;\n \n+import edu.unc.lib.dl.rdf.Premis;\n+import picocli.CommandLine;\n+import picocli.CommandLine.Command;\n+\n /**\n  * Main class for the migration tool\n  *\n  * @author bbpennel\n  *\n  */\n-public class MigrationMain {\n+@Command(subcommands = {\n+        TransformPremis.class\n+    })\n+public class MigrationCLI implements Callable<Integer> {\n     private static final Logger output = getLogger(OUTPUT_LOGGER);\n \n-    private MigrationMain() {\n+    private MigrationCLI() {\n+    }\n+\n+    @Override\n+    public Integer call() throws Exception {\n+        output.info(\"{} {}\", BannerUtility.getBanner(), Premis.VirusCheck);", "originalCommit": "ab58a14847aa78e21887d219bd1c2b492f2c6b0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6c4b6a5a1c8b3bb92e06320ddc4df7f41bda24d1", "url": "https://github.com/UNC-Libraries/box-c/commit/6c4b6a5a1c8b3bb92e06320ddc4df7f41bda24d1", "message": "Remove unintentional output", "committedDate": "2020-02-03T20:18:17Z", "type": "commit"}, {"oid": "26149b80215caf065b8e5e95310cef677e8afb44", "url": "https://github.com/UNC-Libraries/box-c/commit/26149b80215caf065b8e5e95310cef677e8afb44", "message": "Remove unused import", "committedDate": "2020-02-03T20:28:40Z", "type": "commit"}]}