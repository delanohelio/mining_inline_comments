{"pr_number": 1037, "pr_title": "Skip transformation of deposit records for items in the CDR", "pr_createdAt": "2020-07-06T18:20:51Z", "pr_url": "https://github.com/UNC-Libraries/box-c/pull/1037", "timeline": [{"oid": "225c488ecdf87be268bbe393bff25ebfd95da924", "url": "https://github.com/UNC-Libraries/box-c/commit/225c488ecdf87be268bbe393bff25ebfd95da924", "message": "Skip transformation of deposit records for items in the CDR", "committedDate": "2020-07-06T18:19:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg1NTk2NA==", "url": "https://github.com/UNC-Libraries/box-c/pull/1037#discussion_r450855964", "bodyText": "This all looks good. Two minor things:\n\nall three of these tests start the same way, it might become more readable if (or at least easier to identify the differences) if you moved lines 231 through 245 into a helper method that takes the packaging type as a parameter\nDo you know if its possible for transformer.compute(); to throw a NotFoundException? If so, that test might incorrectly pass without reaching repoObjLoader.getDepositRecord(bxc5Pid);. That might not be an issue though", "author": "bbpennel", "createdAt": "2020-07-07T13:17:20Z", "path": "migration-util/src/test/java/edu/unc/lib/dcr/migration/deposit/DepositRecordTransformerIT.java", "diffHunk": "@@ -225,6 +226,80 @@ public void transform_DepositRecord_WithDepositProperties() throws Exception {\n         assertTrue(recResc.hasProperty(Cdr.depositPackageProfile, \"package subtype\"));\n     }\n \n+    @Test(expected = NotFoundException.class)", "originalCommit": "225c488ecdf87be268bbe393bff25ebfd95da924", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg5NjM4Mg==", "url": "https://github.com/UNC-Libraries/box-c/pull/1037#discussion_r450896382", "bodyText": "Looks like it already has the foxml at that point and there aren't any read operations against fedora.", "author": "lfarrell", "createdAt": "2020-07-07T14:13:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg1NTk2NA=="}], "type": "inlineReview"}, {"oid": "738d9151265f99110a80f201e2c21ae01ce98297", "url": "https://github.com/UNC-Libraries/box-c/commit/738d9151265f99110a80f201e2c21ae01ce98297", "message": "Split out setup into a helper", "committedDate": "2020-07-07T14:14:04Z", "type": "commit"}, {"oid": "c9bac6968ea58eaa388bfe6d48033894eb5555dd", "url": "https://github.com/UNC-Libraries/box-c/commit/c9bac6968ea58eaa388bfe6d48033894eb5555dd", "message": "Check if packageType is a resource or a literal", "committedDate": "2020-07-08T19:15:39Z", "type": "commit"}]}