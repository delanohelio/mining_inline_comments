{"pr_number": 1521, "pr_title": "Upgrade Helix lib to Apache Helix 1.0.0", "pr_createdAt": "2020-05-14T20:51:20Z", "pr_url": "https://github.com/linkedin/ambry/pull/1521", "timeline": [{"oid": "c1f1ee11166d4bf9ce2562a6775e0cf890e0c728", "url": "https://github.com/linkedin/ambry/commit/c1f1ee11166d4bf9ce2562a6775e0cf890e0c728", "message": "Upgrade Helix lib to Apache Helix 1.0.0\n\n1. upgraded Helix lib to latest version(1.0.0)\n2. fixed test failure and conflicts due to new changes in Helix lib.", "committedDate": "2020-05-14T20:55:00Z", "type": "commit"}, {"oid": "c1f1ee11166d4bf9ce2562a6775e0cf890e0c728", "url": "https://github.com/linkedin/ambry/commit/c1f1ee11166d4bf9ce2562a6775e0cf890e0c728", "message": "Upgrade Helix lib to Apache Helix 1.0.0\n\n1. upgraded Helix lib to latest version(1.0.0)\n2. fixed test failure and conflicts due to new changes in Helix lib.", "committedDate": "2020-05-14T20:55:00Z", "type": "forcePushed"}, {"oid": "db8185ebcfce381e7f963e3cd444ceaf2073ed62", "url": "https://github.com/linkedin/ambry/commit/db8185ebcfce381e7f963e3cd444ceaf2073ed62", "message": "minor", "committedDate": "2020-05-14T20:58:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ2MzUyOA==", "url": "https://github.com/linkedin/ambry/pull/1521#discussion_r425463528", "bodyText": "Curious why you throw IllegalStateException in the other methods but not these?", "author": "lightningrob", "createdAt": "2020-05-14T22:21:31Z", "path": "ambry-clustermap/src/test/java/com/github/ambry/clustermap/MockHelixAdmin.java", "diffHunk": "@@ -579,6 +600,16 @@ public void dropResource(String clusterName, String resourceName) {\n     throw new IllegalStateException(\"Not implemented\");\n   }\n \n+  @Override\n+  public void addCloudConfig(String clusterName, CloudConfig cloudConfig) {\n+", "originalCommit": "db8185ebcfce381e7f963e3cd444ceaf2073ed62", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MTkzMg==", "url": "https://github.com/linkedin/ambry/pull/1521#discussion_r425471932", "bodyText": "My bad, will add it to these methods.", "author": "jsjtzyy", "createdAt": "2020-05-14T22:46:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ2MzUyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ2NDE1OQ==", "url": "https://github.com/linkedin/ambry/pull/1521#discussion_r425464159", "bodyText": "Minor: Collections.emptyMap();", "author": "lightningrob", "createdAt": "2020-05-14T22:23:16Z", "path": "ambry-clustermap/src/test/java/com/github/ambry/clustermap/MockHelixDataAccessor.java", "diffHunk": "@@ -170,19 +192,7 @@ public boolean removeProperty(PropertyKey key) {\n \n   @Override\n   public <T extends HelixProperty> Map<String, T> getChildValuesMap(PropertyKey key, boolean throwException) {\n-    Map<String, T> result = new HashMap<>();\n-    if (key.toString().equals(LIVEINSTANCE_PATH)) {\n-      for (String instance : mockHelixAdmin.getUpInstances()) {\n-        LiveInstance liveInstance = new LiveInstance(instance);\n-        liveInstance.setSessionId(SESSION_ID);\n-        result.put(instance, (T) liveInstance);\n-      }\n-    } else if (key.toString().equals(INSTANCECONFIG_PATH)) {\n-      for (InstanceConfig config : mockHelixAdmin.getInstanceConfigs(clusterName)) {\n-        result.put(config.getInstanceName(), (T) config);\n-      }\n-    }\n-    return result;\n+    return new HashMap<>();", "originalCommit": "db8185ebcfce381e7f963e3cd444ceaf2073ed62", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "061500a98bb2b541830e333154bbf27ecce5740b", "url": "https://github.com/linkedin/ambry/commit/061500a98bb2b541830e333154bbf27ecce5740b", "message": "comments", "committedDate": "2020-05-14T22:46:45Z", "type": "commit"}, {"oid": "3f48193276f50ba81c6344435318bee198e4a31b", "url": "https://github.com/linkedin/ambry/commit/3f48193276f50ba81c6344435318bee198e4a31b", "message": "split cloud end-to-end test into separate test methods", "committedDate": "2020-05-15T05:09:39Z", "type": "commit"}, {"oid": "5362b596f91dac913e339049b66b26730bba2015", "url": "https://github.com/linkedin/ambry/commit/5362b596f91dac913e339049b66b26730bba2015", "message": "remove unnecessary ZK server startup and Helix cluster creation", "committedDate": "2020-05-15T20:59:57Z", "type": "commit"}, {"oid": "bef3fe111b69ba96104d9e35fbf4792e616faada", "url": "https://github.com/linkedin/ambry/commit/bef3fe111b69ba96104d9e35fbf4792e616faada", "message": "minor fixes", "committedDate": "2020-05-15T22:25:47Z", "type": "commit"}, {"oid": "86d82d0f07633ae4b1fb3c33b7dd7750dc1bdb1d", "url": "https://github.com/linkedin/ambry/commit/86d82d0f07633ae4b1fb3c33b7dd7750dc1bdb1d", "message": "some changes in integration tests", "committedDate": "2020-05-16T18:31:56Z", "type": "commit"}, {"oid": "1bf2a5ca92a5cfe89da097759c5eb834c09cd27a", "url": "https://github.com/linkedin/ambry/commit/1bf2a5ca92a5cfe89da097759c5eb834c09cd27a", "message": "relax VCR assigned partitions check", "committedDate": "2020-05-16T20:36:00Z", "type": "commit"}, {"oid": "4e92b3a1c7322ff55736121a1a77dccea25ae215", "url": "https://github.com/linkedin/ambry/commit/4e92b3a1c7322ff55736121a1a77dccea25ae215", "message": "fix compilation error", "committedDate": "2020-05-16T21:19:19Z", "type": "commit"}]}