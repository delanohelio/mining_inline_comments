{"pr_number": 1585, "pr_title": "Remove hardcoded MAX_DISK_CAPACITY_IN_BYTES and make it configurable.", "pr_createdAt": "2020-07-11T00:10:58Z", "pr_url": "https://github.com/linkedin/ambry/pull/1585", "timeline": [{"oid": "a2e3086d81ae5800020a8f1d83260abe69e132d8", "url": "https://github.com/linkedin/ambry/commit/a2e3086d81ae5800020a8f1d83260abe69e132d8", "message": "Remove hardcoded MAX_DISK_CAPACITY_IN_BYTES and make it configurable.", "committedDate": "2020-07-11T00:05:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4Mzg2NA==", "url": "https://github.com/linkedin/ambry/pull/1585#discussion_r453783864", "bodyText": "minor: java doc", "author": "jsjtzyy", "createdAt": "2020-07-13T16:41:34Z", "path": "ambry-api/src/main/java/com/github/ambry/config/ClusterMapConfig.java", "diffHunk": "@@ -266,6 +267,9 @@\n   @Default(\"{}\")\n   public final JSONObject clustermapRecoveryTestHardwareLayout;\n \n+  @Config(CLUSTERMAP_MAX_DISK_CAPACITY_IN_BYTES)", "originalCommit": "a2e3086d81ae5800020a8f1d83260abe69e132d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgwMzQ1OA==", "url": "https://github.com/linkedin/ambry/pull/1585#discussion_r453803458", "bodyText": "done.", "author": "ankagrawal", "createdAt": "2020-07-13T17:14:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4Mzg2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4NTYyMQ==", "url": "https://github.com/linkedin/ambry/pull/1585#discussion_r453785621", "bodyText": "Could you change this to getLongInRange?  The parameters are:  min = 0, max = Long.MAX_VALUE, default = 20L * 1024 * 1024 * 1024 * 1024 (let's use 20TB as default value)", "author": "jsjtzyy", "createdAt": "2020-07-13T16:44:25Z", "path": "ambry-api/src/main/java/com/github/ambry/config/ClusterMapConfig.java", "diffHunk": "@@ -320,5 +324,7 @@ public ClusterMapConfig(VerifiableProperties verifiableProperties) {\n         new JSONObject(verifiableProperties.getString(\"clustermap.recovery.test.hardware.layout\", \"{}\"));\n     clustermapRecoveryTestPartitionLayout =\n         new JSONObject(verifiableProperties.getString(\"clustermap.recovery.test.partition.layout\", \"{}\"));\n+    clustermapMaxDiskCapacityInBytes =\n+        verifiableProperties.getLong(CLUSTERMAP_MAX_DISK_CAPACITY_IN_BYTES, 10L * 1024 * 1024 * 1024 * 1024);", "originalCommit": "a2e3086d81ae5800020a8f1d83260abe69e132d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgwMjg1Mw==", "url": "https://github.com/linkedin/ambry/pull/1585#discussion_r453802853", "bodyText": "done.", "author": "ankagrawal", "createdAt": "2020-07-13T17:13:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc4NTYyMQ=="}], "type": "inlineReview"}, {"oid": "cc7b2d745f7f380f7ff19089dd3f2c06b5de1c83", "url": "https://github.com/linkedin/ambry/commit/cc7b2d745f7f380f7ff19089dd3f2c06b5de1c83", "message": "Address review comments.", "committedDate": "2020-07-13T17:14:43Z", "type": "commit"}]}