{"pr_number": 401, "pr_title": "iOS - Refresh activities list when new run available.", "pr_createdAt": "2020-05-14T08:15:58Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/401", "timeline": [{"oid": "81f5327eb77a6e1e5903cdab4df9ae75b9b32738", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/81f5327eb77a6e1e5903cdab4df9ae75b9b32738", "message": "Refresh activities list when new run available.", "committedDate": "2020-05-14T08:11:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI0OTcwNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/401#discussion_r425249706", "bodyText": "Can studyID = userInfo[\"studyId\"] as? String be moved to the guard?", "author": "nikklassen", "createdAt": "2020-05-14T15:59:04Z", "path": "iOS/HPHC/HPHC/AppDelegate.swift", "diffHunk": "@@ -936,6 +939,15 @@ class AppDelegate: UIResponder, UIApplicationDelegate {\n     }\n   }\n \n+  private func refreshStudyActivitiesState(with userInfo: JSONDictionary) {\n+    guard let currentStudyID = Study.currentStudy?.studyId else { return }\n+    if let studyID = userInfo[\"studyId\"] as? String, currentStudyID == studyID {", "originalCommit": "81f5327eb77a6e1e5903cdab4df9ae75b9b32738", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg1NTgzMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/401#discussion_r425855832", "bodyText": "Yes. This can be moved to guard.", "author": "tushar-boston", "createdAt": "2020-05-15T14:52:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI0OTcwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjQyMTQzNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/401#discussion_r426421437", "bodyText": "@nikklassen Done.", "author": "tushar-boston", "createdAt": "2020-05-18T07:32:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI0OTcwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0OTM3Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/401#discussion_r425849377", "bodyText": "Just to make sure because I'm not familiar with iOS, could this be added multiple times?", "author": "nikklassen", "createdAt": "2020-05-15T14:42:26Z", "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ActivityUI/ActivitiesViewController.swift", "diffHunk": "@@ -143,6 +148,20 @@ class ActivitiesViewController: UIViewController {\n     }\n   }\n \n+  private func addObservers() {\n+    // Add activity refresh notification observer.\n+    NotificationCenter.default.addObserver(", "originalCommit": "81f5327eb77a6e1e5903cdab4df9ae75b9b32738", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg1Njg4OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/401#discussion_r425856889", "bodyText": "This will be added only once from viewDidLoad.", "author": "tushar-boston", "createdAt": "2020-05-15T14:53:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg0OTM3Nw=="}], "type": "inlineReview"}, {"oid": "514a9a1939495bab1294b5d1870625cf1b6c994e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/514a9a1939495bab1294b5d1870625cf1b6c994e", "message": "Guard cleanup for refreshStudyActivitiesState.", "committedDate": "2020-05-18T07:31:11Z", "type": "commit"}, {"oid": "14ae88d6cb6e885136ca064b847b74bf4ba5867f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/14ae88d6cb6e885136ca064b847b74bf4ba5867f", "message": "Merge branch 'early-access' into ios-ui-patch-2", "committedDate": "2020-05-19T14:56:27Z", "type": "commit"}]}