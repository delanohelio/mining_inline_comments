{"pr_number": 906, "pr_title": "Participant Manager web app header search functionality", "pr_createdAt": "2020-09-07T15:03:25Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906", "timeline": [{"oid": "a9a265b852bc7f344f348c090dae685ebc854453", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a9a265b852bc7f344f348c090dae685ebc854453", "message": "header search functionality has been implmented", "committedDate": "2020-09-07T15:01:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjMzMw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485016333", "bodyText": "Please rename this SearchService. Shared could mean anything.", "author": "nikklassen", "createdAt": "2020-09-08T15:37:40Z", "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {", "originalCommit": "a9a265b852bc7f344f348c090dae685ebc854453", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTE5NA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621194", "bodyText": "Updated.", "author": "firdosebtc1", "createdAt": "2020-09-09T13:42:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjMzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjkzNQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485016935", "bodyText": "this should be private", "author": "nikklassen", "createdAt": "2020-09-08T15:38:36Z", "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {\n+  searchPlaceHolder$ = new BehaviorSubject('');", "originalCommit": "a9a265b852bc7f344f348c090dae685ebc854453", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTIzNQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621235", "bodyText": "Updated.", "author": "firdosebtc1", "createdAt": "2020-09-09T13:42:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjkzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNzQ4OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485017488", "bodyText": "I would rename the behavior subject searchPlaceHolderSubject and this one searchPlaceHolder$.", "author": "nikklassen", "createdAt": "2020-09-08T15:39:27Z", "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {\n+  searchPlaceHolder$ = new BehaviorSubject('');\n+  updatedSearchPlaceHolder: Observable<string>;", "originalCommit": "a9a265b852bc7f344f348c090dae685ebc854453", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTI3Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621273", "bodyText": "Updated.", "author": "firdosebtc1", "createdAt": "2020-09-09T13:42:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNzQ4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODAzNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485018037", "bodyText": "Prefer {...manageLocations} to Object.assign", "author": "nikklassen", "createdAt": "2020-09-08T15:40:14Z", "path": "UR-web-app/src/app/site-coordinator/location/location-list/location-list.component.ts", "diffHunk": "@@ -31,14 +35,15 @@ export class LocationListComponent implements OnInit {\n       this.query$,\n     ).pipe(\n       map(([manageLocations, query]) => {\n-        manageLocations.locations = manageLocations.locations.filter(\n+        this.manageLocationBackup = Object.assign({}, manageLocations);", "originalCommit": "a9a265b852bc7f344f348c090dae685ebc854453", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTMwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621307", "bodyText": "Updated.", "author": "firdosebtc1", "createdAt": "2020-09-09T13:42:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODAzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODU2MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485018560", "bodyText": "location-list uses clone, but here you are just saving the reference. These should be consistent.", "author": "nikklassen", "createdAt": "2020-09-08T15:40:59Z", "path": "UR-web-app/src/app/site-coordinator/apps/app-list/app-list.component.ts", "diffHunk": "@@ -35,12 +41,13 @@ export class AppListComponent implements OnInit {\n       this.query$,\n     ).pipe(\n       map(([manageApps, query]) => {\n-        manageApps.apps = manageApps.apps.filter(\n+        this.manageAppsBackup = manageApps;", "originalCommit": "a9a265b852bc7f344f348c090dae685ebc854453", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTM0MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621340", "bodyText": "Updated.", "author": "firdosebtc1", "createdAt": "2020-09-09T13:42:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODU2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxOTQ4Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485019482", "bodyText": "Please rename this to searchBar: SearchBar so that people know what component you are referencing. You shouldn't use ! because an event could be triggered before it's populated. If would be better to check if it's defined in the event handler.", "author": "nikklassen", "createdAt": "2020-09-08T15:42:23Z", "path": "UR-web-app/src/app/site-coordinator/sitecoordinator.component.ts", "diffHunk": "@@ -1,18 +1,36 @@\n-import {Component} from '@angular/core';\n+import {Component, OnInit} from '@angular/core';\n+import {SharedService} from '../shared/shared.service';\n+import {SearchBarGeneric} from '../shared/search-bar-generic';\n \n @Component({\n   selector: 'site-coordinator',\n   templateUrl: './sitecoordinator.component.html',\n   styleUrls: ['./sitecoordinator.component.scss'],\n })\n-export class SiteCoordinatorComponent {\n+export class SiteCoordinatorComponent implements OnInit {\n   searchPlaceholder = 'Search by Site or Study ID or Name';\n-  showSearchBar = true;\n+  showSearchBar = false;\n   filterQuery = '';\n+  componentRef!: SearchBarGeneric;", "originalCommit": "a9a265b852bc7f344f348c090dae685ebc854453", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTM3OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621379", "bodyText": "Updated.", "author": "firdosebtc1", "createdAt": "2020-09-09T13:42:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxOTQ4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAyMTMwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485021307", "bodyText": "Don't include Generic in this interface name. Just SearchBar is fine. If you only have one type you may as well just use the type explicitly.", "author": "nikklassen", "createdAt": "2020-09-08T15:45:12Z", "path": "UR-web-app/src/app/shared/search-bar-generic.ts", "diffHunk": "@@ -0,0 +1,3 @@\n+export interface SearchBarGeneric {", "originalCommit": "a9a265b852bc7f344f348c090dae685ebc854453", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTQzOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621439", "bodyText": "Updated.", "author": "firdosebtc1", "createdAt": "2020-09-09T13:42:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAyMTMwNw=="}], "type": "inlineReview"}, {"oid": "50161fdebd45483ae67f06b5eee1e6e0bcd224b4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/50161fdebd45483ae67f06b5eee1e6e0bcd224b4", "message": "Merge branch 'develop' of https://github.com/GoogleCloudPlatform/fda-mystudies into participant-manager-webapp-header-implementation", "committedDate": "2020-09-09T07:38:36Z", "type": "commit"}, {"oid": "75c942456794d6e1fbef4f53438fa841c93c313b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/75c942456794d6e1fbef4f53438fa841c93c313b", "message": "code review comments has been resolved", "committedDate": "2020-09-09T09:16:40Z", "type": "commit"}, {"oid": "674d82ecf23db4421c9e3a79bc8e35149bd18968", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/674d82ecf23db4421c9e3a79bc8e35149bd18968", "message": "Merge branch 'develop' of https://github.com/GoogleCloudPlatform/fda-mystudies into participant-manager-webapp-header-implementation", "committedDate": "2020-09-09T10:12:42Z", "type": "commit"}, {"oid": "c86372388e7087ff6cb03f947cccb10e5e33b8d4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c86372388e7087ff6cb03f947cccb10e5e33b8d4", "message": "filter functionality has been implemented in study and sites list", "committedDate": "2020-09-09T10:36:42Z", "type": "commit"}, {"oid": "11a3a1123c8568818cd12c4dc7e4918173c70694", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/11a3a1123c8568818cd12c4dc7e4918173c70694", "message": "site and study search issues has been fixed", "committedDate": "2020-09-09T12:32:43Z", "type": "commit"}]}