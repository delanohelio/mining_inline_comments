{"pr_number": 1943, "pr_title": "add firewall rule for health check", "pr_createdAt": "2020-11-10T15:01:49Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1943", "timeline": [{"oid": "69a294f9f58cd6cd96cd390dcc7f07a322df076f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/69a294f9f58cd6cd96cd390dcc7f07a322df076f", "message": "add firewall rule for health check", "committedDate": "2020-11-10T15:00:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY0NzUzNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1943#discussion_r520647534", "bodyText": "these ports are not needed for early-access", "author": "zohrehj", "createdAt": "2020-11-10T15:23:50Z", "path": "deployment.hcl", "diffHunk": "@@ -360,6 +360,43 @@ EOF\n         }]\n       }]\n     }\n+    terraform_addons = {\n+      raw_config = <<EOF\n+resource \"google_compute_firewall\" \"fw_allow_k8s_ingress_lb_health_checks\" {\n+  name        = \"fw-allow-k8s-ingress-lb-health-checks\"\n+  description = \"GCE L7 firewall rule\"\n+  network     = module.{{$prefix}}_{{$env}}_network.network.network.self_link\n+  project     = module.project.project_id\n+  allow {\n+    protocol = \"tcp\"\n+    ports    = [\"30000-32767\"]\n+  }\n+  allow {\n+    protocol = \"tcp\"\n+    ports    = [\"4444\"]\n+  }\n+  allow {\n+    protocol = \"tcp\"\n+    ports    = [\"80\"]\n+  }", "originalCommit": "69a294f9f58cd6cd96cd390dcc7f07a322df076f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY0OTYwMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1943#discussion_r520649600", "bodyText": "Done", "author": "xingao267", "createdAt": "2020-11-10T15:26:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY0NzUzNA=="}], "type": "inlineReview"}, {"oid": "578c3db2fe60a4a5e24bfdaaba0be83baefe8829", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/578c3db2fe60a4a5e24bfdaaba0be83baefe8829", "message": "ports", "committedDate": "2020-11-10T15:25:46Z", "type": "commit"}, {"oid": "c1de50f425639ec8d9d0bc0832334e38a06793e1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c1de50f425639ec8d9d0bc0832334e38a06793e1", "message": "regen", "committedDate": "2020-11-10T15:26:43Z", "type": "commit"}]}