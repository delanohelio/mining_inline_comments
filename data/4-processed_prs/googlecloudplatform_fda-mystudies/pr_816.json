{"pr_number": 816, "pr_title": "Fix docker image build", "pr_createdAt": "2020-08-26T19:55:04Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/816", "timeline": [{"oid": "e5457f2c78ab83d1858a5d4f8644cee121d356ac", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e5457f2c78ab83d1858a5d4f8644cee121d356ac", "message": "Fix docker image build", "committedDate": "2020-08-26T19:49:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU1NzM0Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/816#discussion_r477557343", "bodyText": "nit: TODO(#815)?", "author": "nikklassen", "createdAt": "2020-08-26T20:03:58Z", "path": "response-server-module/Dockerfile", "diffHunk": "@@ -1,9 +1,15 @@\n-FROM mohankgonthina/commonmodule:latest AS maven_builder\n+# first build common module, then run:\n+# export DOCKER_ID=<YourDockerID>\n+# docker image build --tag $DOCKER_ID/response-server-module . --build-arg DOCKER_ID\n+ARG DOCKER_ID\n+FROM ${DOCKER_ID}/commonmodule:latest AS maven_builder\n COPY response-server-service /app/response-server-module/response-server-service\n COPY pom.xml /app/response-server-module/\n WORKDIR /app/response-server-module/\n-RUN mvn clean package\n+# skipping tests until #815 is fixed", "originalCommit": "e5457f2c78ab83d1858a5d4f8644cee121d356ac", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU2MTg2OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/816#discussion_r477561869", "bodyText": "good point, but I am removing the text. I think we should not run tests in Docker build anyway", "author": "zohrehj", "createdAt": "2020-08-26T20:13:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU1NzM0Mw=="}], "type": "inlineReview"}, {"oid": "f37466fdd8491195df85338f189948178492f5fc", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f37466fdd8491195df85338f189948178492f5fc", "message": "Update docker directory to match current hierarchy", "committedDate": "2020-08-26T20:16:29Z", "type": "commit"}, {"oid": "ab07e2a8f8736bf18450166d91ec6c383424561c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ab07e2a8f8736bf18450166d91ec6c383424561c", "message": "Merge branch 'develop' into schema-gen", "committedDate": "2020-08-28T14:22:27Z", "type": "commit"}, {"oid": "a4ac799607e5b2ae58e9141eab2120e5ee34f45d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a4ac799607e5b2ae58e9141eab2120e5ee34f45d", "message": "Merge branch 'develop' into schema-gen", "committedDate": "2020-08-28T16:14:28Z", "type": "commit"}, {"oid": "3019ecc766d9d7b5bd72f5815d928419d5f470d5", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3019ecc766d9d7b5bd72f5815d928419d5f470d5", "message": "Merge branch 'develop' into schema-gen", "committedDate": "2020-08-28T17:02:48Z", "type": "commit"}, {"oid": "1511d274780278934016c0fa39cdb058ff5f2690", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1511d274780278934016c0fa39cdb058ff5f2690", "message": "Merge branch 'develop' into schema-gen", "committedDate": "2020-08-28T20:16:04Z", "type": "commit"}]}