{"pr_number": 1954, "pr_title": "[participant-manager-datastore] and [participant-datastore]:- [GET] \"/sites/{participantRegistrySiteId}/participant\" and \"/enroll\" end points Issue 1742 fixes", "pr_createdAt": "2020-11-11T08:00:38Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954", "timeline": [{"oid": "9523c5948cf7528d988e024dce9756bbace8feb2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9523c5948cf7528d988e024dce9756bbace8feb2", "message": "issue #1742 fixes", "committedDate": "2020-11-10T09:08:02Z", "type": "commit"}, {"oid": "f80350c2501f6b1c11bf368db58b7b9c2ff0161f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f80350c2501f6b1c11bf368db58b7b9c2ff0161f", "message": "Merge branch 'develop' of https://github.com/GoogleCloudPlatform/fda-mystudies into issue-1742-fixes", "committedDate": "2020-11-11T07:39:51Z", "type": "commit"}, {"oid": "837c817bc3e356488e59f0304f8d43df152237cf", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/837c817bc3e356488e59f0304f8d43df152237cf", "message": "added comments with issue #1454", "committedDate": "2020-11-12T08:18:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUxMzU2OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#discussion_r522513568", "bodyText": "Why is this condition (participants enrollment is withdrawn necessary?", "author": "saminguyen", "createdAt": "2020-11-12T23:49:13Z", "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/mapper/ParticipantMapper.java", "diffHunk": "@@ -205,9 +205,24 @@ public static ParticipantDetail toParticipantDetails(UserDetailsEntity userDetai\n   }\n \n   public static void addEnrollments(\n-      ParticipantDetail participantDetail, List<ParticipantStudyEntity> participantsEnrollments) {\n+      ParticipantDetail participantDetail,\n+      List<ParticipantStudyEntity> participantsEnrollments,\n+      String onboardingStatus) {\n     for (ParticipantStudyEntity participantsEnrollment : participantsEnrollments) {\n       Enrollment enrollment = new Enrollment();\n+      if ((OnboardingStatus.INVITED.getStatus().equals(onboardingStatus)\n+              || OnboardingStatus.NEW.getStatus().equals(onboardingStatus))\n+          && EnrollmentStatus.WITHDRAWN.getStatus().equals(participantsEnrollment.getStatus())) {", "originalCommit": "837c817bc3e356488e59f0304f8d43df152237cf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzAyOTA4OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#discussion_r523029088", "bodyText": "If a participant enrolled and withdrawn  from the study, enrollment status will be WITHDRAWN in participant study info table. IN case of participant re-invitation for the same study the onboarding status will be changed to INVITED/New in participant registry site table, however in participant study info table  the enrollment status for the same participant will be WITHDRAWN.", "author": "chiranjibi009", "createdAt": "2020-11-13T15:37:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUxMzU2OA=="}], "type": "inlineReview"}, {"oid": "c58cd82d0965480c93520caebbd1c3768fabb93b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c58cd82d0965480c93520caebbd1c3768fabb93b", "message": "Merge branch 'develop' into issue-1742-fixes", "committedDate": "2020-11-16T15:46:37Z", "type": "commit"}, {"oid": "74501846fe693cfcd4f805d15cb923ee32f3f76f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/74501846fe693cfcd4f805d15cb923ee32f3f76f", "message": "Merge branch 'develop' into issue-1742-fixes", "committedDate": "2020-11-17T07:44:56Z", "type": "commit"}]}