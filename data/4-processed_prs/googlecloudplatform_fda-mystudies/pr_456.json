{"pr_number": 456, "pr_title": "Enforce password change for all users [ Enhancement ]", "pr_createdAt": "2020-06-08T06:09:06Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/456", "timeline": [{"oid": "7b2d08a008aa0c09fb98e1843e98da211f7d82be", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7b2d08a008aa0c09fb98e1843e98da211f7d82be", "message": "code commit for enhancement  for enforcing password change for all users exclude super admin", "committedDate": "2020-06-08T06:06:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjgwNDc4OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/456#discussion_r436804789", "bodyText": "use .removeAttr('disabled') instead.", "author": "zohrehj", "createdAt": "2020-06-08T15:41:45Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/addOrEditUserPage.jsp", "diffHunk": "@@ -1,808 +1,831 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n \n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t\t\t<span class=\"mr-xs\"><a href=\"javascript:void(0)\"\n-\t\t\t\tclass=\"backOrCancelBttn\"><img\n-\t\t\t\t\tsrc=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n-\t\t\t<c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n-              \tAdd New User\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n-              \tEdit User Details\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n-              \tUser Details\n-              </c:if>\n+                             class=\"backOrCancelBttn\"><img\n+          src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n+      <c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n+        Add New User\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n+        Edit User Details\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n+        User Details\n+      </c:if>\n \n-\t\t</div>\n-\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n-\t\t\t<div class=\"dis-line pull-right\">\n-\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+    </div>\n+    <c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n+      <div class=\"dis-line pull-right\">\n+        <div class=\"form-group mb-none\">\n+          <c:if\n+              test=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"stat\"><span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword &&  not userBO.enabled}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>\n+            </div>\n+          </c:if>\n+          <c:if\n+              test=\"${not empty userBO.userPassword &&  not userBO.enabled}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Deactivated</span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if test=\"${empty userBO.userPassword}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Deactivated</span></span>\n+            </div>\n+          </c:if>\n+          <c:if test=\"${empty userBO.userPassword}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs pr-md\"> Invitation Sent,\n+                  class=\"gray-xs-f mb-xs pl-xs pr-md\"> Invitation Sent,\n \t\t\t\t\t\t\t\t\tAccount Activation Pending</span></span><span class=\"black-sm-f resend pl-md\"><a\n-\t\t\t\t\t\t\t\thref=\"javascript:void(0)\" id=\"resendLinkId\">Re-send\n+                href=\"javascript:void(0)\" id=\"resendLinkId\">Re-send\n \t\t\t\t\t\t\t\t\tActivation Link</a></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if test=\"${userBO.emailChanged}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+            </div>\n+          </c:if>\n+          <c:if test=\"${userBO.emailChanged}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Pending Verification</span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</c:if>\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Pending Verification</span></span>\n+            </div>\n+          </c:if>\n+        </div>\n+      </div>\n+    </c:if>\n \n-\t</div>\n+  </div>\n \n </div>\n \n <form:form\n-\taction=\"/studybuilder/adminUsersEdit/addOrUpdateUserDetails.do\"\n-\tdata-toggle=\"validator\" id=\"userForm\" role=\"form\" method=\"post\"\n-\tautocomplete=\"off\">\n-\t<input type=\"hidden\" name=\"userId\" value=\"${userBO.userId}\">\n-\t<input type=\"hidden\" id=\"userStatus\" name=\"enabled\"\n-\t\tvalue=\"${userBO.enabled}\">\n-\t<input type=\"hidden\" id=\"selectedStudies\" name=\"selectedStudies\">\n-\t<input type=\"hidden\" id=\"permissionValues\" name=\"permissionValues\">\n-\t<input type=\"hidden\" name=\"ownUser\" id=\"ownUser\">\n-\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"white-bg box-space\">\n-\t\t\t<c:if\n-\t\t\t\ttest=\"${actionPage eq 'EDIT_PAGE' && not empty userBO.userPassword && not userBO.emailChanged}\">\n-\t\t\t\t<div class=\"gray-xs-f text-weight-semibold pull-right\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\"\n-\t\t\t\t\t\tid=\"enforcePasswordId\">Enforce Password Change</button>\n-\t\t\t\t</div>\n-\t\t\t</c:if>\n-\t\t\t<div class=\"ed-user-layout row\">\n-\t\t\t\t<!-- Edit User Layout-->\n-\n-\t\t\t\t<div class=\"blue-md-f text-uppercase mb-md\">Basic Information</div>\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tFirst Name\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n-\t\t\t\t\t\t\t\tname=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\"\n-\t\t\t\t\t\t\t\tmaxlength=\"50\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pr-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tLast Name\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"lastName\"\n-\t\t\t\t\t\t\t\tvalue=\"${fn:escapeXml(userBO.lastName)}\" maxlength=\"50\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\n-\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tEmail Address\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(100\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"emailId\"\n-\t\t\t\t\t\t\t\tname=\"userEmail\" value=\"${userBO.userEmail}\"\n-\t\t\t\t\t\t\t\toldVal=\"${userBO.userEmail}\"\n-\t\t\t\t\t\t\t\tpattern=\"[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\"\n-\t\t\t\t\t\t\t\tdata-pattern-error=\"Email address is invalid\" maxlength=\"100\"\n-\t\t\t\t\t\t\t\trequired \n-                                <%-- <c:if test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO) || not empty userBO}\">disabled</c:if>/> --%>\n-                                <c:if test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO)}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pr-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tPhone (XXX - XXX - XXXX)<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control phoneMask\"\n-\t\t\t\t\t\t\t\tname=\"phoneNumber\" value=\"${userBO.phoneNumber}\"\n-\t\t\t\t\t\t\t\tdata-minlength=\"12\" maxlength=\"12\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\n-\t\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t\t<!-- Assign Role Section -->\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg mb-md\">\n-\t\t\t\t\t\t\tAssign Role<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<select id=\"roleId\"\n-\t\t\t\t\t\t\t\tclass=\"selectpicker <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n-\t\t\t\t\t\t\t\tname=\"roleId\" required>\n-\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>- Select Role -</option>\n-\t\t\t\t\t\t\t\t<c:forEach items=\"${roleBOList}\" var=\"role\">\n-\t\t\t\t\t\t\t\t\t<option ${role.roleId eq userBO.roleId ? 'selected' : ''}\n-\t\t\t\t\t\t\t\t\t\tvalue=\"${role.roleId}\">${role.roleName}</option>\n-\t\t\t\t\t\t\t\t</c:forEach>\n-\t\t\t\t\t\t\t</select>\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<c:if test=\"${actionPage ne 'ADD_PAGE'}\">\n-\t\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg mb-md\">&nbsp;&nbsp;&nbsp;&nbsp;Activate\n-\t\t\t\t\t\t\t\t/ Deactivate</div>\n-\t\t\t\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t\t\t\t<c:if\n-\t\t\t\t\t\t\t\t\ttest=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n+    action=\"/studybuilder/adminUsersEdit/addOrUpdateUserDetails.do\"\n+    data-toggle=\"validator\" id=\"userForm\" role=\"form\" method=\"post\"\n+    autocomplete=\"off\">\n+  <input type=\"hidden\" name=\"userId\" value=\"${userBO.userId}\">\n+  <input type=\"hidden\" id=\"userStatus\" name=\"enabled\"\n+         value=\"${userBO.enabled}\">\n+  <input type=\"hidden\" id=\"selectedStudies\" name=\"selectedStudies\">\n+  <input type=\"hidden\" id=\"permissionValues\" name=\"permissionValues\">\n+  <input type=\"hidden\" name=\"ownUser\" id=\"ownUser\">\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"white-bg box-space\">\n+      <c:if\n+          test=\"${actionPage eq 'EDIT_PAGE' && not empty userBO.userPassword && not userBO.emailChanged}\">\n+        <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_SUPERADMIN')}\">\n+          <div class=\"gray-xs-f text-weight-semibold pull-right\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\"\n+                    id=\"enforcePasswordId\">Enforce Password Change\n+            </button>\n+          </div>\n+        </c:if>\n+      </c:if>\n+      <div class=\"ed-user-layout row\">\n+        <!-- Edit User Layout-->\n+\n+        <div class=\"blue-md-f text-uppercase mb-md\">Basic Information</div>\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              First Name\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                     name=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\"\n+                     maxlength=\"50\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pr-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Last Name\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control\" name=\"lastName\"\n+                     value=\"${fn:escapeXml(userBO.lastName)}\" maxlength=\"50\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+        </div>\n+\n+\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Email Address\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(100\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control\" id=\"emailId\"\n+                     name=\"userEmail\" value=\"${userBO.userEmail}\"\n+                     oldVal=\"${userBO.userEmail}\"\n+                     pattern=\"[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\"\n+                     data-pattern-error=\"Email address is invalid\" maxlength=\"100\"\n+                     required\n+                     <c:if\n+                         test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO)}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pr-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Phone (XXX - XXX - XXXX)<span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control phoneMask\"\n+                     name=\"phoneNumber\" value=\"${userBO.phoneNumber}\"\n+                     data-minlength=\"12\" maxlength=\"12\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+        <!-- Assign Role Section -->\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"blue-md-f text-uppercase mt-lg mb-md\">\n+              Assign Role<span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <select id=\"roleId\"\n+                      class=\"selectpicker <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n+                      name=\"roleId\" required>\n+                <option value=\"\" selected disabled>- Select Role -</option>\n+                <c:forEach items=\"${roleBOList}\" var=\"role\">\n+                  <option ${role.roleId eq userBO.roleId ? 'selected' : ''}\n+                      value=\"${role.roleId}\">${role.roleName}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <c:if test=\"${actionPage ne 'ADD_PAGE'}\">\n+            <div class=\"col-md-6 pl-none\">\n+              <div class=\"blue-md-f text-uppercase mt-lg mb-md\">&nbsp;&nbsp;&nbsp;&nbsp;Activate\n+                / Deactivate\n+              </div>\n+              <div class=\"form-group mb-none\">\n+                <c:if\n+                    test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n \t\t\t\t\t\t\t\t\t<span class=\"ml-xs\">&nbsp; <label\n-\t\t\t\t\t\t\t\t\t\tclass=\"switch bg-transparent mt-xs\"> <input\n-\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" class=\"switch-input\"\n-\t\t\t\t\t\t\t\t\t\t\tvalue=\"${userBO.enabled}\" id=\"change${userBO.userId}\"\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${userBO.enabled}\">checked</c:if>\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${empty userBO.userPassword || actionPage eq 'VIEW_PAGE' || userBO.emailChanged}\">disabled</c:if>\n-\t\t\t\t\t\t\t\t\t\t\tonclick=\"activateOrDeactivateUser(${userBO.userId});\">\n+                      class=\"switch bg-transparent mt-xs\"> <input\n+                      type=\"checkbox\" class=\"switch-input\"\n+                      value=\"${userBO.enabled}\" id=\"change${userBO.userId}\"\n+                      <c:if test=\"${userBO.enabled}\">checked</c:if>\n+                      <c:if\n+                          test=\"${empty userBO.userPassword || actionPage eq 'VIEW_PAGE' || userBO.emailChanged}\">disabled</c:if>\n+                      onclick=\"activateOrDeactivateUser(${userBO.userId});\">\n \t\t\t\t\t\t\t\t\t\t\t<span class=\"switch-label bg-transparent\" data-on=\"On\"\n-\t\t\t\t\t\t\t\t\t\t\tdata-off=\"Off\"></span> <span class=\"switch-handle\"></span>\n+                            data-off=\"Off\"></span> <span class=\"switch-handle\"></span>\n \t\t\t\t\t\t\t\t\t</label>\n \t\t\t\t\t\t\t\t\t</span>\n-\t\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t</div>\n-\n-\t\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t\t<!-- Assign Permissions -->\n-\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg\">Assign Permissions</div>\n-\t\t\t\t<div class=\"pull-right mb-xs\">\n-\t\t\t\t\t<span class=\"gray-xs-f\">View only</span> <span\n-\t\t\t\t\t\tclass=\"gray-xs-f ml-lg\">View and edit</span>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"clearfix\"></div>\n-\n-\t\t\t\t<!-- Gray Widget-->\n-\t\t\t\t<div class=\"edit-user-list-widget\">\n+                </c:if>\n+              </div>\n+            </div>\n+          </c:if>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+        <!-- Assign Permissions -->\n+        <div class=\"blue-md-f text-uppercase mt-lg\">Assign Permissions</div>\n+        <div class=\"pull-right mb-xs\">\n+          <span class=\"gray-xs-f\">View only</span> <span\n+            class=\"gray-xs-f ml-lg\">View and edit</span>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+\n+        <!-- Gray Widget-->\n+        <div class=\"edit-user-list-widget\">\n \t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\ttype=\"checkbox\" class=\"chk\" id=\"inlineCheckbox1\" value=\"option1\"\n-\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n-\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+              type=\"checkbox\" class=\"chk\" id=\"inlineCheckbox1\" value=\"option1\"\n+              <c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n+              <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t<label for=\"inlineCheckbox1\"> Users </label>\n \t\t\t\t\t</span> <span class=\"pull-right\"> <span\n-\t\t\t\t\t\tclass=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\t\t\ttype=\"radio\" class=\"musr\" id=\"inlineRadio1\" value=\"0\"\n-\t\t\t\t\t\t\tname=\"manageUsers\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+            class=\"radio radio-info radio-inline p-45\"> <input\n+            type=\"radio\" class=\"musr\" id=\"inlineRadio1\" value=\"0\"\n+            name=\"manageUsers\"\n+            <c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n+            <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio1\"></label>\n \t\t\t\t\t</span> <span class=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\tclass=\"musr\" id=\"inlineRadio2\" value=\"1\" name=\"manageUsers\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,5)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                                                           class=\"musr\" id=\"inlineRadio2\" value=\"1\"\n+                                                           name=\"manageUsers\"\n+                                                           <c:if\n+                                                               test=\"${fn:contains(permissions,5)}\">checked</c:if>\n+                                                           <c:if\n+                                                               test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio2\"></label>\n \t\t\t\t\t</span>\n \t\t\t\t\t</span>\n-\t\t\t\t</div>\n+        </div>\n \n-\t\t\t\t<div class=\"edit-user-list-widget\">\n+        <div class=\"edit-user-list-widget\">\n \t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\ttype=\"checkbox\" id=\"inlineCheckbox3\" class=\"chk\" value=\"option1\"\n-\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n-\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+              type=\"checkbox\" id=\"inlineCheckbox3\" class=\"chk\" value=\"option1\"\n+              <c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n+              <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t<label for=\"inlineCheckbox3\"> Notifications </label>\n \t\t\t\t\t</span> <span class=\"pull-right\"> <span\n-\t\t\t\t\t\tclass=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\t\t\ttype=\"radio\" id=\"inlineRadio5\" class=\"mnotf\" value=\"0\"\n-\t\t\t\t\t\t\tname=\"manageNotifications\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+            class=\"radio radio-info radio-inline p-45\"> <input\n+            type=\"radio\" id=\"inlineRadio5\" class=\"mnotf\" value=\"0\"\n+            name=\"manageNotifications\"\n+            <c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n+            <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio5\"></label>\n \t\t\t\t\t</span> <span class=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\tid=\"inlineRadio6\" class=\"mnotf\" value=\"1\"\n-\t\t\t\t\t\t\tname=\"manageNotifications\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,6)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                                                           id=\"inlineRadio6\" class=\"mnotf\" value=\"1\"\n+                                                           name=\"manageNotifications\"\n+                                                           <c:if\n+                                                               test=\"${fn:contains(permissions,6)}\">checked</c:if>\n+                                                           <c:if\n+                                                               test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio6\"></label>\n \t\t\t\t\t</span>\n \t\t\t\t\t</span>\n-\t\t\t\t</div>\n+        </div>\n \n-\t\t\t\t<!-- Gray Widget-->\n-\t\t\t\t<div class=\"edit-user-list-widget\">\n+        <!-- Gray Widget-->\n+        <div class=\"edit-user-list-widget\">\n \t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\ttype=\"checkbox\" id=\"inlineCheckbox4\" name=\"manageStudies\"\n-\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,2)}\">value=\"1\" checked</c:if>\n-\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+              type=\"checkbox\" id=\"inlineCheckbox4\" name=\"manageStudies\"\n+              <c:if test=\"${fn:contains(permissions,2)}\">value=\"1\" checked</c:if>\n+              <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t<label for=\"inlineCheckbox4\"> Studies </label>\n \t\t\t\t\t</span>\n-\t\t\t\t\t<div class=\"mt-lg pl-lg\">\n-\t\t\t\t\t\t<div class=\"pb-md bor-dashed\">\n+          <div class=\"mt-lg pl-lg\">\n+            <div class=\"pb-md bor-dashed\">\n \t\t\t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\t\t\ttype=\"checkbox\" id=\"inlineCheckbox5\" class=\"changeView1\"\n-\t\t\t\t\t\t\t\tname=\"addingNewStudy\"\n-\t\t\t\t\t\t\t\tvalue=\"${fn:contains(permissions,8)?'1':''}\"\n-\t\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,8)}\"> checked</c:if>\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                  type=\"checkbox\" id=\"inlineCheckbox5\" class=\"changeView1\"\n+                  name=\"addingNewStudy\"\n+                  value=\"${fn:contains(permissions,8)?'1':''}\"\n+              <c:if test=\"${fn:contains(permissions,8)}\"> checked</c:if>\n+                  <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t\t<label for=\"inlineCheckbox5\"> Create New Studies </label>\n \t\t\t\t\t\t\t</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"mt-md study-list mb-md addHide\">\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n-\t\t\t\t\t\t\t\t<select\n-\t\t\t\t\t\t\t\t\tclass=\"selectpicker col-md-6 p-none changeView <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n-\t\t\t\t\t\t\t\t\ttitle=\"- Select and Add Studies -\" multiple id=\"multiple\">\n-\t\t\t\t\t\t\t\t\t<c:forEach items=\"${studyBOList}\" var=\"study\">\n-\t\t\t\t\t\t\t\t\t\t<option value=\"${study.id}\" id=\"selectStudies${study.id}\">${study.name}&nbsp;(${study.customStudyId})</option>\n-\t\t\t\t\t\t\t\t\t</c:forEach>\n-\t\t\t\t\t\t\t\t</select>\n-\t\t\t\t\t\t\t\t<span class=\"study-addbtn changeView\">+</span>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"addHide\">\n-\t\t\t\t\t\t\t<span class=\"mr-lg text-weight-semibold text-uppercase\">Existing Study Permissions</span>\n-\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n-\t\t\t\t\t\t\t\t<span class=\"ablue removeAll changeView\">x Remove all</span>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<!-- Selected Study items -->\n-\t\t\t\t\t\t<div class=\"study-selected mt-md\">\n-\t\t\t\t\t\t\t<c:forEach items=\"${studyBOs}\" var=\"study\">\n-\t\t\t\t\t\t\t\t<div class=\"study-selected-item selStd\" id=\"std${study.id}\">\n-\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"stdCls\" id=\"${study.id}\" name=\"\"\n-\t\t\t\t\t\t\t\t\t\tvalue=\"${study.id}\"\n-\t\t\t\t\t\t\t\t\t\tstdTxt=\"${study.name}&nbsp;(${study.customStudyId})\"\n-\t\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n-\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n+            </div>\n+            <div class=\"mt-md study-list mb-md addHide\">\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n+                <select\n+                    class=\"selectpicker col-md-6 p-none changeView <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n+                    title=\"- Select and Add Studies -\" multiple id=\"multiple\">\n+                  <c:forEach items=\"${studyBOList}\" var=\"study\">\n+                    <option value=\"${study.id}\"\n+                            id=\"selectStudies${study.id}\">${study.name}&nbsp;(${study.customStudyId})\n+                    </option>\n+                  </c:forEach>\n+                </select>\n+                <span class=\"study-addbtn changeView\">+</span>\n+              </c:if>\n+            </div>\n+            <div class=\"addHide\">\n+              <span\n+                  class=\"mr-lg text-weight-semibold text-uppercase\">Existing Study Permissions</span>\n+\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n+                <span class=\"ablue removeAll changeView\">x Remove all</span>\n+              </c:if>\n+            </div>\n+            <!-- Selected Study items -->\n+            <div class=\"study-selected mt-md\">\n+              <c:forEach items=\"${studyBOs}\" var=\"study\">\n+                <div class=\"study-selected-item selStd\" id=\"std${study.id}\">\n+                  <input type=\"hidden\" class=\"stdCls\" id=\"${study.id}\" name=\"\"\n+                         value=\"${study.id}\"\n+                         stdTxt=\"${study.name}&nbsp;(${study.customStudyId})\"\n+                         <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                  <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n \t\t\t\t\t\t\t\t\t\t<span class=\"mr-md\"><img\n-\t\t\t\t\t\t\t\t\t\t\tsrc=\"/studybuilder/images/icons/close.png\"\n-\t\t\t\t\t\t\t\t\t\t\tonclick=\"del(${study.id});\" alt=\"\"/></span>\n-\t\t\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t\t\t<span>${study.name}&nbsp;(${study.customStudyId})</span> <span\n-\t\t\t\t\t\t\t\t\t\tclass=\"pull-right\"> <span\n-\t\t\t\t\t\t\t\t\t\tclass=\"radio radio-info radio-inline p-45 mr-xs\"> <input\n-\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\" class=\"v${study.id} changeView\"\n-\t\t\t\t\t\t\t\t\t\t\tid=\"v1${study.id}\" name=\"radio${study.id}\" value=\"0\"\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${not study.viewPermission}\">checked</c:if>\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                        src=\"/studybuilder/images/icons/close.png\"\n+                        onclick=\"del(${study.id});\" alt=\"\"/></span>\n+                  </c:if>\n+                  <span>${study.name}&nbsp;(${study.customStudyId})</span> <span\n+                    class=\"pull-right\"> <span\n+                    class=\"radio radio-info radio-inline p-45 mr-xs\"> <input\n+                    type=\"radio\" class=\"v${study.id} changeView\"\n+                    id=\"v1${study.id}\" name=\"radio${study.id}\" value=\"0\"\n+                    <c:if test=\"${not study.viewPermission}\">checked</c:if>\n+                    <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t\t\t\t\t<label for=\"v1${study.id}\"></label></span> <span\n-\t\t\t\t\t\t\t\t\t\tclass=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\t\t\t\t\tclass=\"v${study.id} changeView\" id=\"v2${study.id}\"\n-\t\t\t\t\t\t\t\t\t\t\tname=\"radio${study.id}\" value=\"1\"\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${study.viewPermission}\">checked</c:if>\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                    class=\"radio radio-inline\"> <input type=\"radio\"\n+                                                       class=\"v${study.id} changeView\"\n+                                                       id=\"v2${study.id}\"\n+                                                       name=\"radio${study.id}\" value=\"1\"\n+                                                       <c:if\n+                                                           test=\"${study.viewPermission}\">checked</c:if>\n+                                                       <c:if\n+                                                           test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t\t\t\t\t<label for=\"v2${study.id}\"></label>\n \t\t\t\t\t\t\t\t\t</span>\n \t\t\t\t\t\t\t\t\t</span>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t</c:forEach>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</div>\n-\t</div>\n-\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n-\t\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t\t<div class=\"white-bg box-space t-bor text-right\">\n-\t\t\t\t<div class=\"dis-line text-right ml-md\">\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t\t\t<button type=\"button\"\n-\t\t\t\t\t\t\tclass=\"btn btn-default gray-btn backOrCancelBttn\">Cancel</button>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n-\t\t\t\t\t\t<div class=\"dis-line form-group mb-none\">\n-\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn addUpdate\">Add</button>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n-\t\t\t\t\t\t<div class=\"dis-line form-group mb-none\">\n-\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn addUpdate\">Update</button>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</div>\n-\t</c:if>\n+                </div>\n+              </c:forEach>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+    </div>\n+  </div>\n+  <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n+    <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+      <div class=\"white-bg box-space t-bor text-right\">\n+        <div class=\"dis-line text-right ml-md\">\n+          <div class=\"dis-line form-group mb-none mr-sm\">\n+            <button type=\"button\"\n+                    class=\"btn btn-default gray-btn backOrCancelBttn\">Cancel\n+            </button>\n+          </div>\n+          <c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n+            <div class=\"dis-line form-group mb-none\">\n+              <button type=\"button\" class=\"btn btn-primary blue-btn addUpdate\">Add</button>\n+            </div>\n+          </c:if>\n+          <c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n+            <div class=\"dis-line form-group mb-none\">\n+              <button type=\"button\" class=\"btn btn-primary blue-btn addUpdate\">Update</button>\n+            </div>\n+          </c:if>\n+        </div>\n+      </div>\n+    </div>\n+  </c:if>\n </form:form>\n \n <form:form action=\"/studybuilder/adminUsersView/getUserList.do\"\n-\tid=\"backOrCancelBtnForm\" name=\"backOrCancelBtnForm\" method=\"post\">\n+           id=\"backOrCancelBtnForm\" name=\"backOrCancelBtnForm\" method=\"post\">\n </form:form>\n <script>\n \n \n-    $(document).ready(function(){\n-    \t$('#rowId').parent().removeClass('white-bg');\n-    \t\n-    \t<c:if test=\"${empty studyBOList && empty studyBOs}\">\n-    \t\t$('.addHide').hide();\n-    \t</c:if>\n-    \t\n-    \t$('#users').addClass('active');\n-    \t\n-    \t$('[data-toggle=\"tooltip\"]').tooltip();\t\n-    \t\n-    \tvar isManageStudyChecked =$(\"#inlineCheckbox4\").is(\":checked\");\n-    \tif(isManageStudyChecked){\n-    \t\n-    \t}else{\n-    \t   $('#inlineCheckbox5').val('');\n-           $('#inlineCheckbox5').prop('checked',false);\n-           $('.changeView').prop('disabled',true);\n-           $('.changeView1').prop('disabled',true);\n-    \t}\n-    \tvar role = '${userBO.roleName}';\n-    \tif(role){\n-    \t   setStudySettingByRole(role);\n-    \t}\n-    \t\n-    \t$('#roleId').on('change', function() {\n-\t\t  var element = $(this).find('option:selected').text(); \n-\t\t  setStudySettingByRole(element);\n-\t\t});\n-    \t\n-    \t\n-   var countCall = 0;\n-   $(window).on('load',function(){\n-\t   countCall = 1;\n-    \t   \t$('.selStd').each(function(){\n-        \t\tvar stdTxt = $(this).find('.stdCls').attr('stdTxt');\n-        \t\t $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li a span:first-child\").each(function(){\n-       \t  \t\t  var ltxt = $(this).text();\n-       \t  \t\t  var a = $.trim(ltxt);\n-       \t  \t\t  var b = $.trim(stdTxt);\n-       \t          if(a == b){\n-       \t        \t $(this).parent().parent().hide();\n-       \t          }\n-       \t      });\n-        \t});\n-   }); \n-   \n-   if(countCall == 0){\n-\t\t$('.selStd').each(function(){\n-    \t\tvar stdTxt = $(this).find('.stdCls').attr('stdTxt');\n-    \t\t $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li a span:first-child\").each(function(){\n-   \t  \t\t  var ltxt = $(this).text();\n-   \t  \t\t  var a = $.trim(ltxt);\n-   \t  \t\t  var b = $.trim(stdTxt);\n-   \t          if(a == b){\n-   \t        \t $(this).parent().parent().hide();\n-   \t          }\n-   \t      });\n-    \t});\n-   }\n-      $(\"#emailId\").blur(function(){  \n-    \t   var email = $('#emailId').val().toLowerCase();\n-    \t   var emailCopy = $('#emailId').val();\n-    \t   var oldEmail = $('#emailId').attr('oldVal');\n-    \t   var isEmail;\n-    \t   var regEX = /^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n-    \t   isEmail = regEX.test(email);\n-    \t   if(isEmail && ('' === oldEmail || ('' !== oldEmail && oldEmail !== email))){\n-    \t   \tvar csrfDetcsrfParamName = $('#csrfDet').attr('csrfParamName');\n-    \t       var csrfToken = $('#csrfDet').attr('csrfToken');\n-    \t       $('#emailId').parent().find(\".help-block\").html(\"<ul class='list-unstyled'><li></li></ul>\");\n-    \t       if(email !== ''){\n-    \t           $.ajax({\n-    \t               url: \"/studybuilder/isEmailValid.do?\"+csrfDetcsrfParamName+\"=\"+csrfToken,\n-    \t               type: \"POST\",\n-    \t               datatype: \"json\",\n-    \t               global : false,\n-    \t               data: {\n-    \t                   email : email,\n-    \t               },\n-    \t               success:  function getResponse(data){\n-    \t                   var message = data.message;\n-    \t                   if('SUCCESS' !== message){\n-                               $('#emailId').validator('validate');\n-                               $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n-                               $('#emailId').parent().find(\".help-block\").html(\"\");\n-                           }else{\n-                         \t   $(\"body\").removeClass(\"loading\");\n-                               $('#emailId').val('');\n-                               $('#emailId').parent().addClass(\"has-danger\").addClass(\"has-error\");\n-                               $('#emailId').parent().find(\".help-block\").empty();\n-                               $('#emailId').parent().find(\".help-block\").append(\"<ul class='list-unstyled'><li>'\" + emailCopy + \"' already exists.</li></ul>\");\n-                           }\n-    \t               }\n-    \t         });\n-    \t     }\n-    \t   }else{\n-    \t     $('#emailId').validator('validate');\n-    \t     $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n-    \t     $('#emailId').parent().find(\".help-block\").html(\"\");\n-    \t   \t}\n-    \t   });\n-      \n-    \t//cancel or back click\n-    \t$('.backOrCancelBttn').on('click',function(){\n-    \t\t$('#backOrCancelBtnForm').submit();\n-    \t});\n-    \t\n-    \t\n-    \tif($('#inlineCheckbox1').prop(\"checked\") == false){\n-    \t\t$('.musr').prop('checked',false);\n-    \t\t$('.musr').prop('disabled',true);\n-    \t}\n-    \t\n-    \tif($('#inlineCheckbox3').prop(\"checked\") == false){\n-    \t\t$('.mnotf').prop('checked',false);\n-    \t\t$('.mnotf').prop('disabled',true);\n-    \t}\n-    \t\n-    \tif($('#inlineCheckbox4').prop(\"checked\") == false){\n-    \t\t$('#inlineCheckbox5').prop('checked',false);\n-    \t\t$('#inlineCheckbox5').prop('disabled',true);\n-    \t}\n-    \t\n-    \t$('#inlineCheckbox1').on('click',function(){\n-    \t\tif($(this).prop(\"checked\") == true){\n-    \t\t\t$('.musr').prop('disabled',false);\n-    \t\t\t$('#inlineRadio1').prop('checked',true);\n-    \t\t}\n-    \t\telse if($(this).prop(\"checked\") == false){\n-    \t\t\t$('.musr').prop('checked',false);\n-        \t\t$('.musr').prop('disabled',true);\n-    \t\t}\n-    \t});\n-    \t\n-    \t$('#inlineCheckbox3').on('click',function(){\n-    \t\tif($(this).prop(\"checked\") == true){\n-    \t\t\t$('.mnotf').prop('disabled',false);\n-    \t\t\t$('#inlineRadio5').prop('checked',true);\n-    \t\t}\n-    \t\telse if($(this).prop(\"checked\") == false){\n-    \t\t\t$('.mnotf').prop('checked',false);\n-        \t\t$('.mnotf').prop('disabled',true);\n-    \t\t}\n-    \t});\n-    \t\n-    \t$('#inlineCheckbox4').on('click',function(){\n-   \t\t   if($(this).prop(\"checked\") == true){\n-               $(this).val(1);\n-               $('.changeView').prop('disabled',false);\n-               var element = $(\"#roleId option:selected\").text();\n-               if(element == 'Org-level Admin'){\n-\t\t         $('.changeView1').prop('disabled',true);\n-\t\t\t   }else{\n-\t\t\t       $('.changeView1').prop('disabled',false);\n-\t\t\t   }\n-           }else if($(this).prop(\"checked\") == false){\n-               $(this).val('');\n-               $('#inlineCheckbox5').val('');\n-               $('#inlineCheckbox5').prop('checked',false);\n-               $('.changeView').prop('disabled',true);\n-               $('.changeView1').prop('disabled',true);\n-           }\n-    \t});\n-    \t\n-    \t$('#inlineCheckbox5').on('click',function(){\n-    \t\tif($(this).prop(\"checked\") == true){\n-                $(this).val(1);\n-            }\n-            else if($(this).prop(\"checked\") == false){\n-                $(this).val('');\n+  $(document).ready(function () {\n+    $('#rowId').parent().removeClass('white-bg');\n+\n+    <c:if test=\"${empty studyBOList && empty studyBOs}\">\n+    $('.addHide').hide();\n+    </c:if>\n+\n+    $('#users').addClass('active');\n+\n+    $('[data-toggle=\"tooltip\"]').tooltip();\n+\n+    var isManageStudyChecked = $(\"#inlineCheckbox4\").is(\":checked\");\n+    if (isManageStudyChecked) {\n+\n+    } else {\n+      $('#inlineCheckbox5').val('');\n+      $('#inlineCheckbox5').prop('checked', false);\n+      $('.changeView').prop('disabled', true);\n+      $('.changeView1').prop('disabled', true);\n+    }\n+    var role = '${userBO.roleName}';\n+    if (role) {\n+      setStudySettingByRole(role);\n+    }\n+\n+    $('#roleId').on('change', function () {\n+      var element = $(this).find('option:selected').text();\n+      setStudySettingByRole(element);\n+    });\n+\n+    var countCall = 0;\n+    $(window).on('load', function () {\n+      countCall = 1;\n+      $('.selStd').each(function () {\n+        var stdTxt = $(this).find('.stdCls').attr('stdTxt');\n+        $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li a span:first-child\").each(\n+            function () {\n+              var ltxt = $(this).text();\n+              var a = $.trim(ltxt);\n+              var b = $.trim(stdTxt);\n+              if (a == b) {\n+                $(this).parent().parent().hide();\n+              }\n+            });\n+      });\n+    });\n+\n+    if (countCall == 0) {\n+      $('.selStd').each(function () {\n+        var stdTxt = $(this).find('.stdCls').attr('stdTxt');\n+        $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li a span:first-child\").each(\n+            function () {\n+              var ltxt = $(this).text();\n+              var a = $.trim(ltxt);\n+              var b = $.trim(stdTxt);\n+              if (a == b) {\n+                $(this).parent().parent().hide();\n+              }\n+            });\n+      });\n+    }\n+    $(\"#emailId\").blur(function () {\n+      var email = $('#emailId').val().toLowerCase();\n+      var emailCopy = $('#emailId').val();\n+      var oldEmail = $('#emailId').attr('oldVal');\n+      var isEmail;\n+      var regEX = /^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n+      isEmail = regEX.test(email);\n+      if (isEmail && ('' === oldEmail || ('' !== oldEmail && oldEmail !== email))) {\n+        var csrfDetcsrfParamName = $('#csrfDet').attr('csrfParamName');\n+        var csrfToken = $('#csrfDet').attr('csrfToken');\n+        $('#emailId').parent().find(\".help-block\").html(\"<ul class='list-unstyled'><li></li></ul>\");\n+        if (email !== '') {\n+          $.ajax({\n+            url: \"/studybuilder/isEmailValid.do?\" + csrfDetcsrfParamName + \"=\" + csrfToken,\n+            type: \"POST\",\n+            datatype: \"json\",\n+            global: false,\n+            data: {\n+              email: email,\n+            },\n+            success: function getResponse(data) {\n+              var message = data.message;\n+              if ('SUCCESS' !== message) {\n+                $('#emailId').validator('validate');\n+                $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n+                $('#emailId').parent().find(\".help-block\").html(\"\");\n+              } else {\n+                $(\"body\").removeClass(\"loading\");\n+                $('#emailId').val('');\n+                $('#emailId').parent().addClass(\"has-danger\").addClass(\"has-error\");\n+                $('#emailId').parent().find(\".help-block\").empty();\n+                $('#emailId').parent().find(\".help-block\").append(\n+                    \"<ul class='list-unstyled'><li>'\" + emailCopy + \"' already exists.</li></ul>\");\n+              }\n             }\n-    \t});\n-     // Adding selected study items    \n-  $(\".study-addbtn\").click(function(){\n-\t  \n-\t\t  $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li.selected\").hide();\n-\t      \n-\t      $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").each(function(){\n-\t         if($(this).text()==\"- All items are already selected -\"){\n-\t           $(this).hide();  \n-\t         }\n-\t       });\n-\t  \n-\t\t$('#multiple :selected').each(function(i, sel){ \n-\t\t\t\t\t\t\t\t    var selVal = $(sel).val(); \n-\t\t\t\t\t\t\t\t    var selTxt = $(sel).text(); \n-\t\t\t\t\t\t\t\t    var existingStudyDiv = \"<div class='study-selected-item selStd' id='std\"+selVal+\"'>\"\n-\t\t\t\t\t\t\t\t\t+\"<input type='hidden' class='stdCls' id='\"+selVal+\"' name='' value='\"+selVal+\"'>\"\n-\t\t\t\t\t\t            +\"<span class='mr-md cls cur-pointer'><img src='/studybuilder/images/icons/close.png' onclick='del(\"+selVal+\");'/></span>\"\n-\t\t\t\t\t\t            +\"<span>\"+selTxt+\"</span>\"\n-\t\t\t\t\t\t            +\"<span class='pull-right'>\"\n-\t\t\t\t\t\t            +\"<span class='radio radio-info radio-inline p-45 mr-xs'>\"\n-\t\t\t\t\t\t            +\" <input type='radio' class='v\"+selVal+\" changeView' id='v1\"+selVal+\"' name='radio\"+selVal+\"' value='0' checked='checked'>\"\n-\t\t\t\t\t\t            +\"<label for='v1\"+selVal+\"'></label></span>\"\n-\t\t\t\t\t\t            +\"<span class='radio radio-inline'>\"\n-\t\t\t\t\t\t            +\"<input type='radio' class='v\"+selVal+\" changeView' id='v2\"+selVal+\"' name='radio\"+selVal+\"' value='1'>\"\n-\t\t\t\t\t\t            +\" <label for='v2\"+selVal+\"'></label>\"\n-\t\t\t\t\t\t            +\"</span>\"\n-\t\t\t\t\t\t            +\"</span>\"\n-\t\t\t\t\t\t            +\"</div>\";\n-\t\t\t\t\t\t            \n-\t\t\t\t\t\t            $('.study-selected').append(existingStudyDiv); \n-\t\t});\n-          \n-\t\t $(\".selectpicker\").selectpicker('deselectAll');\n-         var tot_items = $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").length;\n-         var count = $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li[style]\").length;    \n-         if(count == tot_items){\n-             $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu\").append('<li class=\"text-center\">- All items are already selected -</li>');\n-         }\n-          \n-        });\n-     \n+          });\n+        }\n+      } else {\n+        $('#emailId').validator('validate');\n+        $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n+        $('#emailId').parent().find(\".help-block\").html(\"\");\n+      }\n+    });\n+\n+    //cancel or back click\n+    $('.backOrCancelBttn').on('click', function () {\n+      $('#backOrCancelBtnForm').submit();\n+    });\n+\n+    if ($('#inlineCheckbox1').prop(\"checked\") == false) {\n+      $('.musr').prop('checked', false);\n+      $('.musr').prop('disabled', true);\n+    }\n+\n+    if ($('#inlineCheckbox3').prop(\"checked\") == false) {\n+      $('.mnotf').prop('checked', false);\n+      $('.mnotf').prop('disabled', true);\n+    }\n+\n+    if ($('#inlineCheckbox4').prop(\"checked\") == false) {\n+      $('#inlineCheckbox5').prop('checked', false);\n+      $('#inlineCheckbox5').prop('disabled', true);\n+    }\n+\n+    $('#inlineCheckbox1').on('click', function () {\n+      if ($(this).prop(\"checked\") == true) {\n+        $('.musr').prop('disabled', false);\n+        $('#inlineRadio1').prop('checked', true);\n+      } else if ($(this).prop(\"checked\") == false) {\n+        $('.musr').prop('checked', false);\n+        $('.musr').prop('disabled', true);\n+      }\n+    });\n+\n+    $('#inlineCheckbox3').on('click', function () {\n+      if ($(this).prop(\"checked\") == true) {\n+        $('.mnotf').prop('disabled', false);\n+        $('#inlineRadio5').prop('checked', true);\n+      } else if ($(this).prop(\"checked\") == false) {\n+        $('.mnotf').prop('checked', false);\n+        $('.mnotf').prop('disabled', true);\n+      }\n+    });\n+\n+    $('#inlineCheckbox4').on('click', function () {\n+      if ($(this).prop(\"checked\") == true) {\n+        $(this).val(1);\n+        $('.changeView').prop('disabled', false);\n+        var element = $(\"#roleId option:selected\").text();\n+        if (element == 'Org-level Admin') {\n+          $('.changeView1').prop('disabled', true);\n+        } else {\n+          $('.changeView1').prop('disabled', false);\n+        }\n+      } else if ($(this).prop(\"checked\") == false) {\n+        $(this).val('');\n+        $('#inlineCheckbox5').val('');\n+        $('#inlineCheckbox5').prop('checked', false);\n+        $('.changeView').prop('disabled', true);\n+        $('.changeView1').prop('disabled', true);\n+      }\n+    });\n+\n+    $('#inlineCheckbox5').on('click', function () {\n+      if ($(this).prop(\"checked\") == true) {\n+        $(this).val(1);\n+      } else if ($(this).prop(\"checked\") == false) {\n+        $(this).val('');\n+      }\n+    });\n+    // Adding selected study items\n+    $(\".study-addbtn\").click(function () {\n+\n+      $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li.selected\").hide();\n+\n+      $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").each(function () {\n+        if ($(this).text() == \"- All items are already selected -\") {\n+          $(this).hide();\n+        }\n+      });\n+\n+      $('#multiple :selected').each(function (i, sel) {\n+        var selVal = $(sel).val();\n+        var selTxt = $(sel).text();\n+        var existingStudyDiv = \"<div class='study-selected-item selStd' id='std\" + selVal + \"'>\"\n+            + \"<input type='hidden' class='stdCls' id='\" + selVal + \"' name='' value='\" + selVal\n+            + \"'>\"\n+            + \"<span class='mr-md cls cur-pointer'><img src='/studybuilder/images/icons/close.png' onclick='del(\"\n+            + selVal + \");'/></span>\"\n+            + \"<span>\" + selTxt + \"</span>\"\n+            + \"<span class='pull-right'>\"\n+            + \"<span class='radio radio-info radio-inline p-45 mr-xs'>\"\n+            + \" <input type='radio' class='v\" + selVal + \" changeView' id='v1\" + selVal\n+            + \"' name='radio\" + selVal + \"' value='0' checked='checked'>\"\n+            + \"<label for='v1\" + selVal + \"'></label></span>\"\n+            + \"<span class='radio radio-inline'>\"\n+            + \"<input type='radio' class='v\" + selVal + \" changeView' id='v2\" + selVal\n+            + \"' name='radio\" + selVal + \"' value='1'>\"\n+            + \" <label for='v2\" + selVal + \"'></label>\"\n+            + \"</span>\"\n+            + \"</span>\"\n+            + \"</div>\";\n+\n+        $('.study-selected').append(existingStudyDiv);\n+      });\n+\n+      $(\".selectpicker\").selectpicker('deselectAll');\n+      var tot_items = $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").length;\n+      var count = $(\n+          \".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li[style]\").length;\n+      if (count == tot_items) {\n+        $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu\").append(\n+            '<li class=\"text-center\">- All items are already selected -</li>');\n+      }\n+\n+    });\n+\n //Removing selected study items\n-\t$(\".removeAll\").click(function(){\n-\t\t$(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li[style],.study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").show();\n-      $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").each(function(){\n-          if($(this).text()==\"- All items are already selected -\"){\n-            $(this).hide();  \n-          }\n+    $(\".removeAll\").click(function () {\n+      $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li[style],.study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").show();\n+      $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").each(function () {\n+        if ($(this).text() == \"- All items are already selected -\") {\n+          $(this).hide();\n+        }\n       });\n       $(\".study-selected-item\").remove();\n-  });\n-  \n-  $('.addUpdate').on('click',function(){\n-\t  var email = $('#emailId').val();\n+    });\n+\n+    $('.addUpdate').on('click', function () {\n+      var email = $('#emailId').val();\n       var oldEmail = $('#emailId').attr('oldVal');\n       var isEmail;\n       var regEX = /^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/;\n       isEmail = regEX.test(email);\n-      if(isEmail && ('' === oldEmail || ('' !== oldEmail && oldEmail !== email))){\n-      \tvar csrfDetcsrfParamName = $('#csrfDet').attr('csrfParamName');\n-          var csrfToken = $('#csrfDet').attr('csrfToken');\n-          //var thisAttr= this;\n-          $('#emailId').parent().find(\".help-block\").html(\"<ul class='list-unstyled'><li></li></ul>\");\n-              if(email !== ''){\n-            \t  $(\"body\").addClass(\"loading\");\n-                  $.ajax({\n-                      url: \"/studybuilder/isEmailValid.do?\"+csrfDetcsrfParamName+\"=\"+csrfToken,\n-                      type: \"POST\",\n-                      datatype: \"json\",\n-                      global : false,\n-                      data: {\n-                          email : email,\n-                      },\n-                      success:  function getResponse(data){\n-                          var message = data.message;\n-                          if('SUCCESS' !== message){\n-                              $('#emailId').validator('validate');\n-                              $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n-                              $('#emailId').parent().find(\".help-block\").html(\"\");\n-                              saveUser();\n-                          }else{\n-                        \t  $(\"body\").removeClass(\"loading\");\n-                        \t  isFromValid($('.addUpdate').parents('form'));\n-                              $('#emailId').val('');\n-                              $('#emailId').parent().addClass(\"has-danger\").addClass(\"has-error\");\n-                              $('#emailId').parent().find(\".help-block\").empty();\n-                              $('#emailId').parent().find(\".help-block\").append(\"<ul class='list-unstyled'><li>'\" + email + \"' already exists.</li></ul>\");\n-                          }\n-                      }\n-                });\n+      if (isEmail && ('' === oldEmail || ('' !== oldEmail && oldEmail !== email))) {\n+        var csrfDetcsrfParamName = $('#csrfDet').attr('csrfParamName');\n+        var csrfToken = $('#csrfDet').attr('csrfToken');\n+        $('#emailId').parent().find(\".help-block\").html(\"<ul class='list-unstyled'><li></li></ul>\");\n+        if (email !== '') {\n+          $(\"body\").addClass(\"loading\");\n+          $.ajax({\n+            url: \"/studybuilder/isEmailValid.do?\" + csrfDetcsrfParamName + \"=\" + csrfToken,\n+            type: \"POST\",\n+            datatype: \"json\",\n+            global: false,\n+            data: {\n+              email: email,\n+            },\n+            success: function getResponse(data) {\n+              var message = data.message;\n+              if ('SUCCESS' !== message) {\n+                $('#emailId').validator('validate');\n+                $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n+                $('#emailId').parent().find(\".help-block\").html(\"\");\n+                saveUser();\n+              } else {\n+                $(\"body\").removeClass(\"loading\");\n+                isFromValid($('.addUpdate').parents('form'));\n+                $('#emailId').val('');\n+                $('#emailId').parent().addClass(\"has-danger\").addClass(\"has-error\");\n+                $('#emailId').parent().find(\".help-block\").empty();\n+                $('#emailId').parent().find(\".help-block\").append(\n+                    \"<ul class='list-unstyled'><li>'\" + email + \"' already exists.</li></ul>\");\n+              }\n             }\n-      }else{\n-    \t  $('#emailId').validator('validate');\n-          $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n-          $('#emailId').parent().find(\".help-block\").html(\"\");\n-    \t  saveUser();\n+          });\n+        }\n+      } else {\n+        $('#emailId').validator('validate');\n+        $('#emailId').parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n+        $('#emailId').parent().find(\".help-block\").html(\"\");\n+        saveUser();\n       }\n+    });\n+\n+    $('#resendLinkId').on('click', function () {\n+      var form = document.createElement('form');\n+      form.method = 'post';\n+      var input = document.createElement('input');\n+      input.type = 'hidden';\n+      input.name = 'userId';\n+      input.value = '${userBO.userId}';\n+      form.appendChild(input);\n+\n+      input = document.createElement('input');\n+      input.type = 'hidden';\n+      input.name = '${_csrf.parameterName}';\n+      input.value = '${_csrf.token}';\n+      form.appendChild(input);\n+\n+      form.action = '/studybuilder/adminUsersEdit/resendActivateDetailsLink.do';\n+      document.body.appendChild(form);\n+      form.submit();\n+    });\n+\n+    $('#enforcePasswordId').on('click', function () {\n+      bootbox.confirm({\n+        closeButton: false,\n+        message: \"Are you sure you wish to enforce a password change for this user?\",\n+        buttons: {\n+          'cancel': {\n+            label: 'No',\n+          },\n+          'confirm': {\n+            label: 'Yes',\n+          },\n+        },\n+        callback: function (result) {\n+          if (result) {\n+            var form = document.createElement('form');\n+            form.method = 'post';\n+            var input = document.createElement('input');\n+            input.type = 'hidden';\n+            input.name = 'changePassworduserId';\n+            input.value = '${userBO.userId}';\n+            form.appendChild(input);\n+\n+            var input = document.createElement('input');\n+            input.type = 'hidden';\n+            input.name = 'emailId';\n+            input.value = '${userBO.userEmail}';\n+            form.appendChild(input);\n+\n+            input = document.createElement('input');\n+            input.type = 'hidden';\n+            input.name = '${_csrf.parameterName}';\n+            input.value = '${_csrf.token}';\n+            form.appendChild(input);\n+\n+            form.action = '/studybuilder/adminUsersEdit/enforcePasswordChange.do';\n+            document.body.appendChild(form);\n+            form.submit();\n+          }\n+        }\n+      })\n+\n+    });\n+\n   });\n-  \n-      $('#resendLinkId').on('click',function(){\n-    \t    var form= document.createElement('form');\n-\t    \tform.method= 'post';\n-\t    \tvar input= document.createElement('input');\n-\t    \tinput.type= 'hidden';\n-\t\t\tinput.name= 'userId';\n-\t\t\tinput.value= '${userBO.userId}';\n-\t\t\tform.appendChild(input);\n-\t\t\t\n-\t\t\tinput= document.createElement('input');\n-\t    \tinput.type= 'hidden';\n-\t\t\tinput.name= '${_csrf.parameterName}';\n-\t\t\tinput.value= '${_csrf.token}';\n-\t\t\tform.appendChild(input);\n-\t\t\t\n-\t    \tform.action= '/studybuilder/adminUsersEdit/resendActivateDetailsLink.do';\n-\t    \tdocument.body.appendChild(form);\n-\t    \tform.submit();\n-     });\n-      \n-     $('#enforcePasswordId').on('click',function(){\n-    \tbootbox.confirm({\n-\t\t\t\tcloseButton: false,\n-\t\t\t\tmessage : \"Are you sure you wish to enforce a password change for this user?\",\t\n-\t\t\t    buttons: {\n-\t\t\t        'cancel': {\n-\t\t\t            label: 'No',\n-\t\t\t        },\n-\t\t\t        'confirm': {\n-\t\t\t            label: 'Yes',\n-\t\t\t        },\n-\t\t\t    },\n-\t\t\t    callback: function(result) {\n-\t\t\t        if (result) {\n-\t\t\t        \tvar form= document.createElement('form');\n-\t\t            \tform.method= 'post';\n-\t\t            \tvar input= document.createElement('input');\n-\t\t            \tinput.type= 'hidden';\n-\t\t        \t\tinput.name= 'changePassworduserId';\n-\t\t        \t\tinput.value= '${userBO.userId}';\n-\t\t        \t\tform.appendChild(input);\n-\t\t        \t\t\n-\t\t        \t\tvar input= document.createElement('input');\n-\t\t            \tinput.type= 'hidden';\n-\t\t        \t\tinput.name= 'emailId';\n-\t\t        \t\tinput.value= '${userBO.userEmail}';\n-\t\t        \t\tform.appendChild(input);\n-\t\t        \t\t\n-\t\t        \t\tinput= document.createElement('input');\n-\t\t            \tinput.type= 'hidden';\n-\t\t        \t\tinput.name= '${_csrf.parameterName}';\n-\t\t        \t\tinput.value= '${_csrf.token}';\n-\t\t        \t\tform.appendChild(input);\n-\t\t        \t\t\n-\t\t            \tform.action= '/studybuilder/adminUsersEdit/enforcePasswordChange.do';\n-\t\t            \tdocument.body.appendChild(form);\n-\t\t            \tform.submit();\n-\t\t\t             }\t\n-\t\t\t        }\n-\t\t}) \n-    \t\n-     });\n-        \n-   });\n-    \n-    function del(id){\n-  \t \tvar atxt = $('#std'+id).children().text();\n-  \t \t\n-\t  \t  $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li a span:first-child\").each(function(){\n-\t  \t\t  var ltxt = $(this).text();\n-\t  \t\t  var a = $.trim(ltxt);\n-\t  \t\t  var b = $.trim(atxt);\t  \t\t  \n-\t          if(a == b){\n-\t        \t $(this).parent().parent().show();\n-\t          }\n-\t      });\n-\t  \t  \n-\t  \t $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").each(function(){\n-            if($(this).text()==\"- All items are already selected -\"){\n-              $(this).hide();  \n-            }\n+\n+  function del(id) {\n+    var atxt = $('#std' + id).children().text();\n+\n+    $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li a span:first-child\").each(\n+        function () {\n+          var ltxt = $(this).text();\n+          var a = $.trim(ltxt);\n+          var b = $.trim(atxt);\n+          if (a == b) {\n+            $(this).parent().parent().show();\n+          }\n         });\n-\t  \t  \n-  \t \t $('#std'+id).remove();\n-  \t \t\n-    }\n-    \n-    function activateOrDeactivateUser(userId){\n-    \tvar status = $('#change'+userId).val();\n-    \tvar msgPart = \"\";\n-    \tif('false' == status){\n-    \t\tmsgPart = \"activate\";\n-    \t} else {\n-    \t\tmsgPart = \"deactivate\";\n-    \t}\n-    \tbootbox.confirm(\"Are you sure you want to \" + msgPart + \" this user?\", function(result){\n-    \tif(result){\n-    \tif(status == 'true'){\n-    \t\t$('#change'+userId).val(false);\n-    \t\t$('#userStatus').val(false);\n-    \t} else {\n-    \t\t$('#change'+userId).val(true);\n-    \t\t$('#userStatus').val(true);\n-    \t}\n-    \t}else {\n-    \t\tif(status == 'true'){\n-    \t\t\t$('#change'+userId).prop('checked', true);\n-    \t\t\t$('#userStatus').val(true);\n-    \t\t\t\n-    \t\t} else if(status == 'false'){\n-    \t\t\t$('#change'+userId).prop('checked', false);\n-    \t\t\t$('#userStatus').val(false);\n-    \t\t}\n-    \t\treturn;\n-    \t}\n-    \t});\n+\n+    $(\".study-list .bootstrap-select .dropdown-menu ul.dropdown-menu li\").each(function () {\n+      if ($(this).text() == \"- All items are already selected -\") {\n+        $(this).hide();\n+      }\n+    });\n+\n+    $('#std' + id).remove();\n+\n+  }\n+\n+  function activateOrDeactivateUser(userId) {\n+    var status = $('#change' + userId).val();\n+    var msgPart = \"\";\n+    if ('false' == status) {\n+      msgPart = \"activate\";\n+    } else {\n+      msgPart = \"deactivate\";\n     }\n-    \n-    function saveUser(){\n-    \t$('#emailId').prop('disabled',false);\n-    \tvar selectedStudies = \"\";\n-      \tvar permissionValues = \"\";\n-      \tif(isFromValid($('.addUpdate').parents('form'))){\n-    \t  \t$('.selStd').each(function(){\n-    \t  \t\tvar studyId = $(this).find('.stdCls').val();\n-    \t  \t\tvar permissionValue = $('#std'+studyId).find('input[type=radio]:checked').val();\n-    \t  \t\tif(selectedStudies == \"\"){\n-    \t  \t\t\tselectedStudies = studyId;\n-    \t  \t\t}else{\n-    \t  \t\t\tselectedStudies += \",\"+studyId;\n-    \t  \t\t}\n-    \t  \t\tif(permissionValues == \"\"){\n-    \t  \t\t\tpermissionValues = permissionValue;\n-    \t  \t\t}else{\n-    \t  \t\t\tpermissionValues += \",\"+permissionValue;\n-    \t  \t\t}\n-    \t  \t});\n-    \t  \t$('#selectedStudies').val(selectedStudies);\n-    \t  \t$('#permissionValues').val(permissionValues);\n-    \t  \t<c:if test=\"${sessionObject.userId eq userBO.userId}\">\n-    \t  \t\t$('#ownUser').val('1');\n-    \t  \t</c:if>\n-      \t\t$('.addUpdate').parents('form').submit();\t\n-      \t}\n+    bootbox.confirm(\"Are you sure you want to \" + msgPart + \" this user?\", function (result) {\n+      if (result) {\n+        if (status == 'true') {\n+          $('#change' + userId).val(false);\n+          $('#userStatus').val(false);\n+        } else {\n+          $('#change' + userId).val(true);\n+          $('#userStatus').val(true);\n+        }\n+      } else {\n+        if (status == 'true') {\n+          $('#change' + userId).prop('checked', true);\n+          $('#userStatus').val(true);\n+\n+        } else if (status == 'false') {\n+          $('#change' + userId).prop('checked', false);\n+          $('#userStatus').val(false);\n+        }\n+        return;\n+      }\n+    });\n+  }\n+\n+  function saveUser() {\n+    $('#emailId').prop('disabled', false);\n+    var selectedStudies = \"\";\n+    var permissionValues = \"\";\n+    if (isFromValid($('.addUpdate').parents('form'))) {\n+      $('.selStd').each(function () {\n+        var studyId = $(this).find('.stdCls').val();\n+        var permissionValue = $('#std' + studyId).find('input[type=radio]:checked').val();\n+        if (selectedStudies == \"\") {\n+          selectedStudies = studyId;\n+        } else {\n+          selectedStudies += \",\" + studyId;\n+        }\n+        if (permissionValues == \"\") {\n+          permissionValues = permissionValue;\n+        } else {\n+          permissionValues += \",\" + permissionValue;\n+        }\n+      });\n+      $('#selectedStudies').val(selectedStudies);\n+      $('#permissionValues').val(permissionValues);\n+      <c:if test=\"${sessionObject.userId eq userBO.userId}\">\n+      $('#ownUser').val('1');\n+      </c:if>\n+      $('.addUpdate').parents('form').submit();\n     }\n-    function setStudySettingByRole(element){\n-      if(element == 'Org-level Admin'){\n-\t\t     $('#inlineCheckbox1').prop('checked', false);\n-\t\t     $('#inlineCheckbox3').prop('checked', false);\n-\t\t     $('.changeView1').prop('checked', false);\n-\t\t     $('.musr').prop('checked',false);\n-             $('.mnotf').prop('checked',false);\n-             $('.musr').prop('disabled',true);\n-             $('.mnotf').prop('disabled',true);\n-\t\t     $('#inlineCheckbox1').attr('disabled',true);\n-\t\t     $('#inlineCheckbox3').attr('disabled',true);\n-\t\t     $('.changeView1').prop('disabled',true);\n-\t\t     $('#inlineCheckbox5').prop('checked',false);\n-\t\t     $('#inlineCheckbox5').attr('disabled',true);\n-\t\t  }else{\n-\t\t     $('#inlineCheckbox1').attr('disabled',false);\n-\t\t     $('#inlineCheckbox3').attr('disabled',false);\n-\t\t     $('#inlineCheckbox5').attr('disabled',false);\n-\t\t  }\n-\t\t  \n+  }\n+\n+  function setStudySettingByRole(element) {\n+    if (element == 'Org-level Admin') {\n+      $('#inlineCheckbox1').prop('checked', false);\n+      $('#inlineCheckbox3').prop('checked', false);\n+      $('.changeView1').prop('checked', false);\n+      $('.musr').prop('checked', false);\n+      $('.mnotf').prop('checked', false);\n+      $('.musr').prop('disabled', true);\n+      $('.mnotf').prop('disabled', true);\n+      $('#inlineCheckbox1').attr('disabled', true);\n+      $('#inlineCheckbox3').attr('disabled', true);\n+      $('.changeView1').prop('disabled', true);\n+      $('#inlineCheckbox5').prop('checked', false);\n+      $('#inlineCheckbox5').attr('disabled', true);\n+    } else {\n+      $('#inlineCheckbox1').attr('disabled', false);", "originalCommit": "7b2d08a008aa0c09fb98e1843e98da211f7d82be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQzMTk1Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/456#discussion_r439431956", "bodyText": "please fix indentation, these are too deeply nested.", "author": "zohrehj", "createdAt": "2020-06-12T13:53:23Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/addOrEditUserPage.jsp", "diffHunk": "@@ -1,808 +1,831 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n \n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t\t\t<span class=\"mr-xs\"><a href=\"javascript:void(0)\"\n-\t\t\t\tclass=\"backOrCancelBttn\"><img\n-\t\t\t\t\tsrc=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n-\t\t\t<c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n-              \tAdd New User\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n-              \tEdit User Details\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n-              \tUser Details\n-              </c:if>\n+                             class=\"backOrCancelBttn\"><img\n+          src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n+      <c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n+        Add New User\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n+        Edit User Details\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n+        User Details\n+      </c:if>", "originalCommit": "7b2d08a008aa0c09fb98e1843e98da211f7d82be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQzMjMxOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/456#discussion_r439432318", "bodyText": "move to new line, it's hard to follow structure of the page as is.", "author": "zohrehj", "createdAt": "2020-06-12T13:53:57Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/addOrEditUserPage.jsp", "diffHunk": "@@ -1,808 +1,831 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n \n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t\t\t<span class=\"mr-xs\"><a href=\"javascript:void(0)\"\n-\t\t\t\tclass=\"backOrCancelBttn\"><img\n-\t\t\t\t\tsrc=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n-\t\t\t<c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n-              \tAdd New User\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n-              \tEdit User Details\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n-              \tUser Details\n-              </c:if>\n+                             class=\"backOrCancelBttn\"><img\n+          src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n+      <c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n+        Add New User\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n+        Edit User Details\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n+        User Details\n+      </c:if>\n \n-\t\t</div>\n-\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n-\t\t\t<div class=\"dis-line pull-right\">\n-\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+    </div>\n+    <c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n+      <div class=\"dis-line pull-right\">\n+        <div class=\"form-group mb-none\">\n+          <c:if\n+              test=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"stat\"><span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword &&  not userBO.enabled}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>", "originalCommit": "7b2d08a008aa0c09fb98e1843e98da211f7d82be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQzMjkwOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/456#discussion_r439432908", "bodyText": "move top new line", "author": "zohrehj", "createdAt": "2020-06-12T13:55:00Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/addOrEditUserPage.jsp", "diffHunk": "@@ -1,808 +1,831 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n \n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t\t\t<span class=\"mr-xs\"><a href=\"javascript:void(0)\"\n-\t\t\t\tclass=\"backOrCancelBttn\"><img\n-\t\t\t\t\tsrc=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n-\t\t\t<c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n-              \tAdd New User\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n-              \tEdit User Details\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n-              \tUser Details\n-              </c:if>\n+                             class=\"backOrCancelBttn\"><img\n+          src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n+      <c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n+        Add New User\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n+        Edit User Details\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n+        User Details\n+      </c:if>\n \n-\t\t</div>\n-\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n-\t\t\t<div class=\"dis-line pull-right\">\n-\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+    </div>\n+    <c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n+      <div class=\"dis-line pull-right\">\n+        <div class=\"form-group mb-none\">\n+          <c:if\n+              test=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"stat\"><span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword &&  not userBO.enabled}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>\n+            </div>\n+          </c:if>\n+          <c:if\n+              test=\"${not empty userBO.userPassword &&  not userBO.enabled}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Deactivated</span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if test=\"${empty userBO.userPassword}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Deactivated</span></span>\n+            </div>\n+          </c:if>\n+          <c:if test=\"${empty userBO.userPassword}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs pr-md\"> Invitation Sent,\n+                  class=\"gray-xs-f mb-xs pl-xs pr-md\"> Invitation Sent,\n \t\t\t\t\t\t\t\t\tAccount Activation Pending</span></span><span class=\"black-sm-f resend pl-md\"><a\n-\t\t\t\t\t\t\t\thref=\"javascript:void(0)\" id=\"resendLinkId\">Re-send\n+                href=\"javascript:void(0)\" id=\"resendLinkId\">Re-send\n \t\t\t\t\t\t\t\t\tActivation Link</a></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if test=\"${userBO.emailChanged}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+            </div>\n+          </c:if>\n+          <c:if test=\"${userBO.emailChanged}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Pending Verification</span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</c:if>\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Pending Verification</span></span>\n+            </div>\n+          </c:if>\n+        </div>\n+      </div>\n+    </c:if>\n \n-\t</div>\n+  </div>\n \n </div>\n \n <form:form\n-\taction=\"/studybuilder/adminUsersEdit/addOrUpdateUserDetails.do\"\n-\tdata-toggle=\"validator\" id=\"userForm\" role=\"form\" method=\"post\"\n-\tautocomplete=\"off\">\n-\t<input type=\"hidden\" name=\"userId\" value=\"${userBO.userId}\">\n-\t<input type=\"hidden\" id=\"userStatus\" name=\"enabled\"\n-\t\tvalue=\"${userBO.enabled}\">\n-\t<input type=\"hidden\" id=\"selectedStudies\" name=\"selectedStudies\">\n-\t<input type=\"hidden\" id=\"permissionValues\" name=\"permissionValues\">\n-\t<input type=\"hidden\" name=\"ownUser\" id=\"ownUser\">\n-\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"white-bg box-space\">\n-\t\t\t<c:if\n-\t\t\t\ttest=\"${actionPage eq 'EDIT_PAGE' && not empty userBO.userPassword && not userBO.emailChanged}\">\n-\t\t\t\t<div class=\"gray-xs-f text-weight-semibold pull-right\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\"\n-\t\t\t\t\t\tid=\"enforcePasswordId\">Enforce Password Change</button>\n-\t\t\t\t</div>\n-\t\t\t</c:if>\n-\t\t\t<div class=\"ed-user-layout row\">\n-\t\t\t\t<!-- Edit User Layout-->\n-\n-\t\t\t\t<div class=\"blue-md-f text-uppercase mb-md\">Basic Information</div>\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tFirst Name\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n-\t\t\t\t\t\t\t\tname=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\"\n-\t\t\t\t\t\t\t\tmaxlength=\"50\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pr-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tLast Name\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"lastName\"\n-\t\t\t\t\t\t\t\tvalue=\"${fn:escapeXml(userBO.lastName)}\" maxlength=\"50\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\n-\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tEmail Address\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(100\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"emailId\"\n-\t\t\t\t\t\t\t\tname=\"userEmail\" value=\"${userBO.userEmail}\"\n-\t\t\t\t\t\t\t\toldVal=\"${userBO.userEmail}\"\n-\t\t\t\t\t\t\t\tpattern=\"[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\"\n-\t\t\t\t\t\t\t\tdata-pattern-error=\"Email address is invalid\" maxlength=\"100\"\n-\t\t\t\t\t\t\t\trequired \n-                                <%-- <c:if test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO) || not empty userBO}\">disabled</c:if>/> --%>\n-                                <c:if test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO)}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pr-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tPhone (XXX - XXX - XXXX)<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control phoneMask\"\n-\t\t\t\t\t\t\t\tname=\"phoneNumber\" value=\"${userBO.phoneNumber}\"\n-\t\t\t\t\t\t\t\tdata-minlength=\"12\" maxlength=\"12\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\n-\t\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t\t<!-- Assign Role Section -->\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg mb-md\">\n-\t\t\t\t\t\t\tAssign Role<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<select id=\"roleId\"\n-\t\t\t\t\t\t\t\tclass=\"selectpicker <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n-\t\t\t\t\t\t\t\tname=\"roleId\" required>\n-\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>- Select Role -</option>\n-\t\t\t\t\t\t\t\t<c:forEach items=\"${roleBOList}\" var=\"role\">\n-\t\t\t\t\t\t\t\t\t<option ${role.roleId eq userBO.roleId ? 'selected' : ''}\n-\t\t\t\t\t\t\t\t\t\tvalue=\"${role.roleId}\">${role.roleName}</option>\n-\t\t\t\t\t\t\t\t</c:forEach>\n-\t\t\t\t\t\t\t</select>\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<c:if test=\"${actionPage ne 'ADD_PAGE'}\">\n-\t\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg mb-md\">&nbsp;&nbsp;&nbsp;&nbsp;Activate\n-\t\t\t\t\t\t\t\t/ Deactivate</div>\n-\t\t\t\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t\t\t\t<c:if\n-\t\t\t\t\t\t\t\t\ttest=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n+    action=\"/studybuilder/adminUsersEdit/addOrUpdateUserDetails.do\"\n+    data-toggle=\"validator\" id=\"userForm\" role=\"form\" method=\"post\"\n+    autocomplete=\"off\">\n+  <input type=\"hidden\" name=\"userId\" value=\"${userBO.userId}\">\n+  <input type=\"hidden\" id=\"userStatus\" name=\"enabled\"\n+         value=\"${userBO.enabled}\">\n+  <input type=\"hidden\" id=\"selectedStudies\" name=\"selectedStudies\">\n+  <input type=\"hidden\" id=\"permissionValues\" name=\"permissionValues\">\n+  <input type=\"hidden\" name=\"ownUser\" id=\"ownUser\">\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"white-bg box-space\">\n+      <c:if\n+          test=\"${actionPage eq 'EDIT_PAGE' && not empty userBO.userPassword && not userBO.emailChanged}\">\n+        <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_SUPERADMIN')}\">\n+          <div class=\"gray-xs-f text-weight-semibold pull-right\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\"\n+                    id=\"enforcePasswordId\">Enforce Password Change\n+            </button>\n+          </div>\n+        </c:if>\n+      </c:if>\n+      <div class=\"ed-user-layout row\">\n+        <!-- Edit User Layout-->\n+\n+        <div class=\"blue-md-f text-uppercase mb-md\">Basic Information</div>\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              First Name\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                     name=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\"\n+                     maxlength=\"50\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pr-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Last Name\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control\" name=\"lastName\"\n+                     value=\"${fn:escapeXml(userBO.lastName)}\" maxlength=\"50\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+        </div>\n+\n+\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Email Address\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(100\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control\" id=\"emailId\"\n+                     name=\"userEmail\" value=\"${userBO.userEmail}\"\n+                     oldVal=\"${userBO.userEmail}\"\n+                     pattern=\"[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\"\n+                     data-pattern-error=\"Email address is invalid\" maxlength=\"100\"\n+                     required\n+                     <c:if\n+                         test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO)}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pr-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Phone (XXX - XXX - XXXX)<span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control phoneMask\"\n+                     name=\"phoneNumber\" value=\"${userBO.phoneNumber}\"\n+                     data-minlength=\"12\" maxlength=\"12\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+        <!-- Assign Role Section -->\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"blue-md-f text-uppercase mt-lg mb-md\">\n+              Assign Role<span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <select id=\"roleId\"\n+                      class=\"selectpicker <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n+                      name=\"roleId\" required>\n+                <option value=\"\" selected disabled>- Select Role -</option>\n+                <c:forEach items=\"${roleBOList}\" var=\"role\">\n+                  <option ${role.roleId eq userBO.roleId ? 'selected' : ''}\n+                      value=\"${role.roleId}\">${role.roleName}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <c:if test=\"${actionPage ne 'ADD_PAGE'}\">\n+            <div class=\"col-md-6 pl-none\">\n+              <div class=\"blue-md-f text-uppercase mt-lg mb-md\">&nbsp;&nbsp;&nbsp;&nbsp;Activate\n+                / Deactivate\n+              </div>\n+              <div class=\"form-group mb-none\">\n+                <c:if\n+                    test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n \t\t\t\t\t\t\t\t\t<span class=\"ml-xs\">&nbsp; <label", "originalCommit": "7b2d08a008aa0c09fb98e1843e98da211f7d82be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQzMzQxOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/456#discussion_r439433418", "bodyText": "move to new line, fix nesting if needed", "author": "zohrehj", "createdAt": "2020-06-12T13:55:53Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/addOrEditUserPage.jsp", "diffHunk": "@@ -1,808 +1,831 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n \n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t\t\t<span class=\"mr-xs\"><a href=\"javascript:void(0)\"\n-\t\t\t\tclass=\"backOrCancelBttn\"><img\n-\t\t\t\t\tsrc=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n-\t\t\t<c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n-              \tAdd New User\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n-              \tEdit User Details\n-              </c:if>\n-\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n-              \tUser Details\n-              </c:if>\n+                             class=\"backOrCancelBttn\"><img\n+          src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a> </span>\n+      <c:if test=\"${actionPage eq 'ADD_PAGE'}\">\n+        Add New User\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'EDIT_PAGE'}\">\n+        Edit User Details\n+      </c:if>\n+      <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">\n+        User Details\n+      </c:if>\n \n-\t\t</div>\n-\t\t<c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n-\t\t\t<div class=\"dis-line pull-right\">\n-\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+    </div>\n+    <c:if test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n+      <div class=\"dis-line pull-right\">\n+        <div class=\"form-group mb-none\">\n+          <c:if\n+              test=\"${not empty userBO.userPassword && userBO.enabled && not userBO.emailChanged}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"stat\"><span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty userBO.userPassword &&  not userBO.enabled}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Active</span></span></span>\n+            </div>\n+          </c:if>\n+          <c:if\n+              test=\"${not empty userBO.userPassword &&  not userBO.enabled}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Deactivated</span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if test=\"${empty userBO.userPassword}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Deactivated</span></span>\n+            </div>\n+          </c:if>\n+          <c:if test=\"${empty userBO.userPassword}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs pr-md\"> Invitation Sent,\n+                  class=\"gray-xs-f mb-xs pl-xs pr-md\"> Invitation Sent,\n \t\t\t\t\t\t\t\t\tAccount Activation Pending</span></span><span class=\"black-sm-f resend pl-md\"><a\n-\t\t\t\t\t\t\t\thref=\"javascript:void(0)\" id=\"resendLinkId\">Re-send\n+                href=\"javascript:void(0)\" id=\"resendLinkId\">Re-send\n \t\t\t\t\t\t\t\t\tActivation Link</a></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t\t<c:if test=\"${userBO.emailChanged}\">\n-\t\t\t\t\t\t<div class=\"dis-inline mt-sm\">\n+            </div>\n+          </c:if>\n+          <c:if test=\"${userBO.emailChanged}\">\n+            <div class=\"dis-inline mt-sm\">\n \t\t\t\t\t\t\t<span class=\"black-sm-f\">Status:<span\n-\t\t\t\t\t\t\t\tclass=\"gray-xs-f mb-xs pl-xs\"> Pending Verification</span></span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</c:if>\n+                  class=\"gray-xs-f mb-xs pl-xs\"> Pending Verification</span></span>\n+            </div>\n+          </c:if>\n+        </div>\n+      </div>\n+    </c:if>\n \n-\t</div>\n+  </div>\n \n </div>\n \n <form:form\n-\taction=\"/studybuilder/adminUsersEdit/addOrUpdateUserDetails.do\"\n-\tdata-toggle=\"validator\" id=\"userForm\" role=\"form\" method=\"post\"\n-\tautocomplete=\"off\">\n-\t<input type=\"hidden\" name=\"userId\" value=\"${userBO.userId}\">\n-\t<input type=\"hidden\" id=\"userStatus\" name=\"enabled\"\n-\t\tvalue=\"${userBO.enabled}\">\n-\t<input type=\"hidden\" id=\"selectedStudies\" name=\"selectedStudies\">\n-\t<input type=\"hidden\" id=\"permissionValues\" name=\"permissionValues\">\n-\t<input type=\"hidden\" name=\"ownUser\" id=\"ownUser\">\n-\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t\t<div class=\"white-bg box-space\">\n-\t\t\t<c:if\n-\t\t\t\ttest=\"${actionPage eq 'EDIT_PAGE' && not empty userBO.userPassword && not userBO.emailChanged}\">\n-\t\t\t\t<div class=\"gray-xs-f text-weight-semibold pull-right\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\"\n-\t\t\t\t\t\tid=\"enforcePasswordId\">Enforce Password Change</button>\n-\t\t\t\t</div>\n-\t\t\t</c:if>\n-\t\t\t<div class=\"ed-user-layout row\">\n-\t\t\t\t<!-- Edit User Layout-->\n-\n-\t\t\t\t<div class=\"blue-md-f text-uppercase mb-md\">Basic Information</div>\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tFirst Name\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n-\t\t\t\t\t\t\t\tname=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\"\n-\t\t\t\t\t\t\t\tmaxlength=\"50\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pr-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tLast Name\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"lastName\"\n-\t\t\t\t\t\t\t\tvalue=\"${fn:escapeXml(userBO.lastName)}\" maxlength=\"50\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\n-\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tEmail Address\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(100\n-\t\t\t\t\t\t\t\t\tcharacters max)</small>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" id=\"emailId\"\n-\t\t\t\t\t\t\t\tname=\"userEmail\" value=\"${userBO.userEmail}\"\n-\t\t\t\t\t\t\t\toldVal=\"${userBO.userEmail}\"\n-\t\t\t\t\t\t\t\tpattern=\"[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\"\n-\t\t\t\t\t\t\t\tdata-pattern-error=\"Email address is invalid\" maxlength=\"100\"\n-\t\t\t\t\t\t\t\trequired \n-                                <%-- <c:if test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO) || not empty userBO}\">disabled</c:if>/> --%>\n-                                <c:if test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO)}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pr-none\">\n-\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\tPhone (XXX - XXX - XXXX)<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control phoneMask\"\n-\t\t\t\t\t\t\t\tname=\"phoneNumber\" value=\"${userBO.phoneNumber}\"\n-\t\t\t\t\t\t\t\tdata-minlength=\"12\" maxlength=\"12\" required\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\n-\t\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t\t<!-- Assign Role Section -->\n-\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t<!-- form- input-->\n-\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg mb-md\">\n-\t\t\t\t\t\t\tAssign Role<span class=\"requiredStar\"> *</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t<select id=\"roleId\"\n-\t\t\t\t\t\t\t\tclass=\"selectpicker <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n-\t\t\t\t\t\t\t\tname=\"roleId\" required>\n-\t\t\t\t\t\t\t\t<option value=\"\" selected disabled>- Select Role -</option>\n-\t\t\t\t\t\t\t\t<c:forEach items=\"${roleBOList}\" var=\"role\">\n-\t\t\t\t\t\t\t\t\t<option ${role.roleId eq userBO.roleId ? 'selected' : ''}\n-\t\t\t\t\t\t\t\t\t\tvalue=\"${role.roleId}\">${role.roleName}</option>\n-\t\t\t\t\t\t\t\t</c:forEach>\n-\t\t\t\t\t\t\t</select>\n-\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<c:if test=\"${actionPage ne 'ADD_PAGE'}\">\n-\t\t\t\t\t\t<div class=\"col-md-6 pl-none\">\n-\t\t\t\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg mb-md\">&nbsp;&nbsp;&nbsp;&nbsp;Activate\n-\t\t\t\t\t\t\t\t/ Deactivate</div>\n-\t\t\t\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t\t\t\t<c:if\n-\t\t\t\t\t\t\t\t\ttest=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n+    action=\"/studybuilder/adminUsersEdit/addOrUpdateUserDetails.do\"\n+    data-toggle=\"validator\" id=\"userForm\" role=\"form\" method=\"post\"\n+    autocomplete=\"off\">\n+  <input type=\"hidden\" name=\"userId\" value=\"${userBO.userId}\">\n+  <input type=\"hidden\" id=\"userStatus\" name=\"enabled\"\n+         value=\"${userBO.enabled}\">\n+  <input type=\"hidden\" id=\"selectedStudies\" name=\"selectedStudies\">\n+  <input type=\"hidden\" id=\"permissionValues\" name=\"permissionValues\">\n+  <input type=\"hidden\" name=\"ownUser\" id=\"ownUser\">\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"white-bg box-space\">\n+      <c:if\n+          test=\"${actionPage eq 'EDIT_PAGE' && not empty userBO.userPassword && not userBO.emailChanged}\">\n+        <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_SUPERADMIN')}\">\n+          <div class=\"gray-xs-f text-weight-semibold pull-right\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\"\n+                    id=\"enforcePasswordId\">Enforce Password Change\n+            </button>\n+          </div>\n+        </c:if>\n+      </c:if>\n+      <div class=\"ed-user-layout row\">\n+        <!-- Edit User Layout-->\n+\n+        <div class=\"blue-md-f text-uppercase mb-md\">Basic Information</div>\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              First Name\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                     name=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\"\n+                     maxlength=\"50\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pr-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Last Name\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(50\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control\" name=\"lastName\"\n+                     value=\"${fn:escapeXml(userBO.lastName)}\" maxlength=\"50\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+        </div>\n+\n+\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Email Address\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">&nbsp;<small>(100\n+                characters max)</small>\n+              </c:if>\n+              <span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control\" id=\"emailId\"\n+                     name=\"userEmail\" value=\"${userBO.userEmail}\"\n+                     oldVal=\"${userBO.userEmail}\"\n+                     pattern=\"[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$\"\n+                     data-pattern-error=\"Email address is invalid\" maxlength=\"100\"\n+                     required\n+                     <c:if\n+                         test=\"${actionPage eq 'VIEW_PAGE' || (empty userBO.userPassword && not empty userBO)}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pr-none\">\n+            <div class=\"gray-xs-f mb-xs\">\n+              Phone (XXX - XXX - XXXX)<span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control phoneMask\"\n+                     name=\"phoneNumber\" value=\"${userBO.phoneNumber}\"\n+                     data-minlength=\"12\" maxlength=\"12\" required\n+                     <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if> />\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+        <!-- Assign Role Section -->\n+        <div class=\"col-md-12 p-none\">\n+          <!-- form- input-->\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"blue-md-f text-uppercase mt-lg mb-md\">\n+              Assign Role<span class=\"requiredStar\"> *</span>\n+            </div>\n+            <div class=\"form-group\">\n+              <select id=\"roleId\"\n+                      class=\"selectpicker <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n+                      name=\"roleId\" required>\n+                <option value=\"\" selected disabled>- Select Role -</option>\n+                <c:forEach items=\"${roleBOList}\" var=\"role\">\n+                  <option ${role.roleId eq userBO.roleId ? 'selected' : ''}\n+                      value=\"${role.roleId}\">${role.roleName}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+          <c:if test=\"${actionPage ne 'ADD_PAGE'}\">\n+            <div class=\"col-md-6 pl-none\">\n+              <div class=\"blue-md-f text-uppercase mt-lg mb-md\">&nbsp;&nbsp;&nbsp;&nbsp;Activate\n+                / Deactivate\n+              </div>\n+              <div class=\"form-group mb-none\">\n+                <c:if\n+                    test=\"${actionPage eq 'EDIT_PAGE' || actionPage eq 'VIEW_PAGE'}\">\n \t\t\t\t\t\t\t\t\t<span class=\"ml-xs\">&nbsp; <label\n-\t\t\t\t\t\t\t\t\t\tclass=\"switch bg-transparent mt-xs\"> <input\n-\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" class=\"switch-input\"\n-\t\t\t\t\t\t\t\t\t\t\tvalue=\"${userBO.enabled}\" id=\"change${userBO.userId}\"\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${userBO.enabled}\">checked</c:if>\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${empty userBO.userPassword || actionPage eq 'VIEW_PAGE' || userBO.emailChanged}\">disabled</c:if>\n-\t\t\t\t\t\t\t\t\t\t\tonclick=\"activateOrDeactivateUser(${userBO.userId});\">\n+                      class=\"switch bg-transparent mt-xs\"> <input\n+                      type=\"checkbox\" class=\"switch-input\"\n+                      value=\"${userBO.enabled}\" id=\"change${userBO.userId}\"\n+                      <c:if test=\"${userBO.enabled}\">checked</c:if>\n+                      <c:if\n+                          test=\"${empty userBO.userPassword || actionPage eq 'VIEW_PAGE' || userBO.emailChanged}\">disabled</c:if>\n+                      onclick=\"activateOrDeactivateUser(${userBO.userId});\">\n \t\t\t\t\t\t\t\t\t\t\t<span class=\"switch-label bg-transparent\" data-on=\"On\"\n-\t\t\t\t\t\t\t\t\t\t\tdata-off=\"Off\"></span> <span class=\"switch-handle\"></span>\n+                            data-off=\"Off\"></span> <span class=\"switch-handle\"></span>\n \t\t\t\t\t\t\t\t\t</label>\n \t\t\t\t\t\t\t\t\t</span>\n-\t\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t</c:if>\n-\t\t\t\t</div>\n-\n-\t\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t\t<!-- Assign Permissions -->\n-\t\t\t\t<div class=\"blue-md-f text-uppercase mt-lg\">Assign Permissions</div>\n-\t\t\t\t<div class=\"pull-right mb-xs\">\n-\t\t\t\t\t<span class=\"gray-xs-f\">View only</span> <span\n-\t\t\t\t\t\tclass=\"gray-xs-f ml-lg\">View and edit</span>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"clearfix\"></div>\n-\n-\t\t\t\t<!-- Gray Widget-->\n-\t\t\t\t<div class=\"edit-user-list-widget\">\n+                </c:if>\n+              </div>\n+            </div>\n+          </c:if>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+        <!-- Assign Permissions -->\n+        <div class=\"blue-md-f text-uppercase mt-lg\">Assign Permissions</div>\n+        <div class=\"pull-right mb-xs\">\n+          <span class=\"gray-xs-f\">View only</span> <span\n+            class=\"gray-xs-f ml-lg\">View and edit</span>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+\n+        <!-- Gray Widget-->\n+        <div class=\"edit-user-list-widget\">\n \t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\ttype=\"checkbox\" class=\"chk\" id=\"inlineCheckbox1\" value=\"option1\"\n-\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n-\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+              type=\"checkbox\" class=\"chk\" id=\"inlineCheckbox1\" value=\"option1\"\n+              <c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n+              <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t<label for=\"inlineCheckbox1\"> Users </label>\n \t\t\t\t\t</span> <span class=\"pull-right\"> <span\n-\t\t\t\t\t\tclass=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\t\t\ttype=\"radio\" class=\"musr\" id=\"inlineRadio1\" value=\"0\"\n-\t\t\t\t\t\t\tname=\"manageUsers\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+            class=\"radio radio-info radio-inline p-45\"> <input\n+            type=\"radio\" class=\"musr\" id=\"inlineRadio1\" value=\"0\"\n+            name=\"manageUsers\"\n+            <c:if test=\"${fn:contains(permissions,7)}\">checked</c:if>\n+            <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio1\"></label>\n \t\t\t\t\t</span> <span class=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\tclass=\"musr\" id=\"inlineRadio2\" value=\"1\" name=\"manageUsers\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,5)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                                                           class=\"musr\" id=\"inlineRadio2\" value=\"1\"\n+                                                           name=\"manageUsers\"\n+                                                           <c:if\n+                                                               test=\"${fn:contains(permissions,5)}\">checked</c:if>\n+                                                           <c:if\n+                                                               test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio2\"></label>\n \t\t\t\t\t</span>\n \t\t\t\t\t</span>\n-\t\t\t\t</div>\n+        </div>\n \n-\t\t\t\t<div class=\"edit-user-list-widget\">\n+        <div class=\"edit-user-list-widget\">\n \t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\ttype=\"checkbox\" id=\"inlineCheckbox3\" class=\"chk\" value=\"option1\"\n-\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n-\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+              type=\"checkbox\" id=\"inlineCheckbox3\" class=\"chk\" value=\"option1\"\n+              <c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n+              <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t<label for=\"inlineCheckbox3\"> Notifications </label>\n \t\t\t\t\t</span> <span class=\"pull-right\"> <span\n-\t\t\t\t\t\tclass=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\t\t\ttype=\"radio\" id=\"inlineRadio5\" class=\"mnotf\" value=\"0\"\n-\t\t\t\t\t\t\tname=\"manageNotifications\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+            class=\"radio radio-info radio-inline p-45\"> <input\n+            type=\"radio\" id=\"inlineRadio5\" class=\"mnotf\" value=\"0\"\n+            name=\"manageNotifications\"\n+            <c:if test=\"${fn:contains(permissions,4)}\">checked</c:if>\n+            <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio5\"></label>\n \t\t\t\t\t</span> <span class=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\tid=\"inlineRadio6\" class=\"mnotf\" value=\"1\"\n-\t\t\t\t\t\t\tname=\"manageNotifications\"\n-\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,6)}\">checked</c:if>\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                                                           id=\"inlineRadio6\" class=\"mnotf\" value=\"1\"\n+                                                           name=\"manageNotifications\"\n+                                                           <c:if\n+                                                               test=\"${fn:contains(permissions,6)}\">checked</c:if>\n+                                                           <c:if\n+                                                               test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t<label for=\"inlineRadio6\"></label>\n \t\t\t\t\t</span>\n \t\t\t\t\t</span>\n-\t\t\t\t</div>\n+        </div>\n \n-\t\t\t\t<!-- Gray Widget-->\n-\t\t\t\t<div class=\"edit-user-list-widget\">\n+        <!-- Gray Widget-->\n+        <div class=\"edit-user-list-widget\">\n \t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\ttype=\"checkbox\" id=\"inlineCheckbox4\" name=\"manageStudies\"\n-\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,2)}\">value=\"1\" checked</c:if>\n-\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+              type=\"checkbox\" id=\"inlineCheckbox4\" name=\"manageStudies\"\n+              <c:if test=\"${fn:contains(permissions,2)}\">value=\"1\" checked</c:if>\n+              <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t<label for=\"inlineCheckbox4\"> Studies </label>\n \t\t\t\t\t</span>\n-\t\t\t\t\t<div class=\"mt-lg pl-lg\">\n-\t\t\t\t\t\t<div class=\"pb-md bor-dashed\">\n+          <div class=\"mt-lg pl-lg\">\n+            <div class=\"pb-md bor-dashed\">\n \t\t\t\t\t\t\t<span class=\"checkbox checkbox-inline\"> <input\n-\t\t\t\t\t\t\t\ttype=\"checkbox\" id=\"inlineCheckbox5\" class=\"changeView1\"\n-\t\t\t\t\t\t\t\tname=\"addingNewStudy\"\n-\t\t\t\t\t\t\t\tvalue=\"${fn:contains(permissions,8)?'1':''}\"\n-\t\t\t\t\t\t\t\t<c:if test=\"${fn:contains(permissions,8)}\"> checked</c:if>\n-\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                  type=\"checkbox\" id=\"inlineCheckbox5\" class=\"changeView1\"\n+                  name=\"addingNewStudy\"\n+                  value=\"${fn:contains(permissions,8)?'1':''}\"\n+              <c:if test=\"${fn:contains(permissions,8)}\"> checked</c:if>\n+                  <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t\t<label for=\"inlineCheckbox5\"> Create New Studies </label>\n \t\t\t\t\t\t\t</span>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"mt-md study-list mb-md addHide\">\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n-\t\t\t\t\t\t\t\t<select\n-\t\t\t\t\t\t\t\t\tclass=\"selectpicker col-md-6 p-none changeView <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n-\t\t\t\t\t\t\t\t\ttitle=\"- Select and Add Studies -\" multiple id=\"multiple\">\n-\t\t\t\t\t\t\t\t\t<c:forEach items=\"${studyBOList}\" var=\"study\">\n-\t\t\t\t\t\t\t\t\t\t<option value=\"${study.id}\" id=\"selectStudies${study.id}\">${study.name}&nbsp;(${study.customStudyId})</option>\n-\t\t\t\t\t\t\t\t\t</c:forEach>\n-\t\t\t\t\t\t\t\t</select>\n-\t\t\t\t\t\t\t\t<span class=\"study-addbtn changeView\">+</span>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"addHide\">\n-\t\t\t\t\t\t\t<span class=\"mr-lg text-weight-semibold text-uppercase\">Existing Study Permissions</span>\n-\n-\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n-\t\t\t\t\t\t\t\t<span class=\"ablue removeAll changeView\">x Remove all</span>\n-\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<!-- Selected Study items -->\n-\t\t\t\t\t\t<div class=\"study-selected mt-md\">\n-\t\t\t\t\t\t\t<c:forEach items=\"${studyBOs}\" var=\"study\">\n-\t\t\t\t\t\t\t\t<div class=\"study-selected-item selStd\" id=\"std${study.id}\">\n-\t\t\t\t\t\t\t\t\t<input type=\"hidden\" class=\"stdCls\" id=\"${study.id}\" name=\"\"\n-\t\t\t\t\t\t\t\t\t\tvalue=\"${study.id}\"\n-\t\t\t\t\t\t\t\t\t\tstdTxt=\"${study.name}&nbsp;(${study.customStudyId})\"\n-\t\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n-\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n+            </div>\n+            <div class=\"mt-md study-list mb-md addHide\">\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n+                <select\n+                    class=\"selectpicker col-md-6 p-none changeView <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">linkDis</c:if>\"\n+                    title=\"- Select and Add Studies -\" multiple id=\"multiple\">\n+                  <c:forEach items=\"${studyBOList}\" var=\"study\">\n+                    <option value=\"${study.id}\"\n+                            id=\"selectStudies${study.id}\">${study.name}&nbsp;(${study.customStudyId})\n+                    </option>\n+                  </c:forEach>\n+                </select>\n+                <span class=\"study-addbtn changeView\">+</span>\n+              </c:if>\n+            </div>\n+            <div class=\"addHide\">\n+              <span\n+                  class=\"mr-lg text-weight-semibold text-uppercase\">Existing Study Permissions</span>\n+\n+              <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n+                <span class=\"ablue removeAll changeView\">x Remove all</span>\n+              </c:if>\n+            </div>\n+            <!-- Selected Study items -->\n+            <div class=\"study-selected mt-md\">\n+              <c:forEach items=\"${studyBOs}\" var=\"study\">\n+                <div class=\"study-selected-item selStd\" id=\"std${study.id}\">\n+                  <input type=\"hidden\" class=\"stdCls\" id=\"${study.id}\" name=\"\"\n+                         value=\"${study.id}\"\n+                         stdTxt=\"${study.name}&nbsp;(${study.customStudyId})\"\n+                         <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                  <c:if test=\"${actionPage ne 'VIEW_PAGE'}\">\n \t\t\t\t\t\t\t\t\t\t<span class=\"mr-md\"><img\n-\t\t\t\t\t\t\t\t\t\t\tsrc=\"/studybuilder/images/icons/close.png\"\n-\t\t\t\t\t\t\t\t\t\t\tonclick=\"del(${study.id});\" alt=\"\"/></span>\n-\t\t\t\t\t\t\t\t\t</c:if>\n-\t\t\t\t\t\t\t\t\t<span>${study.name}&nbsp;(${study.customStudyId})</span> <span\n-\t\t\t\t\t\t\t\t\t\tclass=\"pull-right\"> <span\n-\t\t\t\t\t\t\t\t\t\tclass=\"radio radio-info radio-inline p-45 mr-xs\"> <input\n-\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\" class=\"v${study.id} changeView\"\n-\t\t\t\t\t\t\t\t\t\t\tid=\"v1${study.id}\" name=\"radio${study.id}\" value=\"0\"\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${not study.viewPermission}\">checked</c:if>\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                        src=\"/studybuilder/images/icons/close.png\"\n+                        onclick=\"del(${study.id});\" alt=\"\"/></span>\n+                  </c:if>\n+                  <span>${study.name}&nbsp;(${study.customStudyId})</span> <span\n+                    class=\"pull-right\"> <span\n+                    class=\"radio radio-info radio-inline p-45 mr-xs\"> <input\n+                    type=\"radio\" class=\"v${study.id} changeView\"\n+                    id=\"v1${study.id}\" name=\"radio${study.id}\" value=\"0\"\n+                    <c:if test=\"${not study.viewPermission}\">checked</c:if>\n+                    <c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n \t\t\t\t\t\t\t\t\t\t\t<label for=\"v1${study.id}\"></label></span> <span\n-\t\t\t\t\t\t\t\t\t\tclass=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\t\t\t\t\tclass=\"v${study.id} changeView\" id=\"v2${study.id}\"\n-\t\t\t\t\t\t\t\t\t\t\tname=\"radio${study.id}\" value=\"1\"\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${study.viewPermission}\">checked</c:if>\n-\t\t\t\t\t\t\t\t\t\t\t<c:if test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>\n+                    class=\"radio radio-inline\"> <input type=\"radio\"\n+                                                       class=\"v${study.id} changeView\"\n+                                                       id=\"v2${study.id}\"\n+                                                       name=\"radio${study.id}\" value=\"1\"\n+                                                       <c:if\n+                                                           test=\"${study.viewPermission}\">checked</c:if>\n+                                                       <c:if\n+                                                           test=\"${actionPage eq 'VIEW_PAGE'}\">disabled</c:if>>", "originalCommit": "7b2d08a008aa0c09fb98e1843e98da211f7d82be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQzMzk3NA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/456#discussion_r439433974", "bodyText": "move each element to separate line, and nesting", "author": "zohrehj", "createdAt": "2020-06-12T13:56:51Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/userListPage.jsp", "diffHunk": "@@ -1,273 +1,297 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n <%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n \n-<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 grayeef2f5-bg p-none\">\n-     <div>\n-         <!-- widgets section-->\n-         <div class=\"col-sm-12 col-md-12 col-lg-12 p-none mb-md\">\n-         \n-            <div class=\"black-lg-f\" style=\"margin-top: 0px\">\n-                Manage Users\n+<div\n+    class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 grayeef2f5-bg p-none\">\n+  <div>\n+    <!-- widgets section-->\n+    <div class=\"col-sm-12 col-md-12 col-lg-12 p-none mb-md\">\n+\n+      <div class=\"black-lg-f\" style=\"margin-top: 0px\">Manage Users</div>\n+\n+      <div class=\"dis-inline\" style=\"margin-top: 8px\">\n+        <form class=\"navbar-form\" role=\"search\">\n+          <div class=\"form-group mb-none mt-xs\">\n+            <div class=\"input-group add-on\">\n+              <input placeholder=\"Search\" class=\"c__search\" type=\"text\"\n+                     style=\"height: auto; padding: 4px 20px; background-position: left 7px top 6px; color: #000;\">\n             </div>\n-             \n-             <div class=\"dis-inline\" style=\"margin-top: 8px\">\n-              <form class=\"navbar-form\" role=\"search\">\n-              <div class=\"form-group mb-none mt-xs\">\n-                <div class=\"input-group add-on\">\n-                  <input placeholder=\"Search\" class=\"c__search\"  type=\"text\" style=\"height: auto;\n-\t\t\t\t\t\t padding: 4px 20px;\n-\t\t\t\t\t\t background-position: left 7px top 6px;color: #000;\"> \n-                </div>\n-                </div>\n-              </form>\n-             </div>\n-             \n-             <div class=\"dis-line pull-right ml-md\">\n-\t             <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_EDIT')}\">\n-\t                 <div class=\"form-group mb-none mt-xs\">\n-\t                 \t <button type=\"button\" class=\"btn btn-default gray-btn mr-sm\" id=\"enforcePasswordId\" style=\"margin-top: 12px;\">Enforce Password Change</button>                 \t\n-\t                     <button type=\"button\" class=\"btn btn-primary blue-btn addOrEditUser\" style=\"margin-top: 12px;\">Add User</button>\n-\t                 </div>\n-\t             </c:if>\n-             </div>\n-             <div class=\"dis-line pull-right\" style=\"margin-top: 10px;height: auto;\">\n-              \t<div class=\"mb-none mt-xs\">\n-                  <select class=\"selectpicker btn-md\" id=\"filterRole\">\n-                    <option value=\"\" selected>Filter by role</option>\n-                    <c:forEach items=\"${roleList}\" var=\"role\">\n-                        <option value=\"${role.roleName}\">${role.roleName}</option>\n-                     </c:forEach>\n-                    </select>\n-                </div>\n-             </div>\n-                      \n-         </div>         \n+          </div>\n+        </form>\n+      </div>\n+\n+      <div class=\"dis-line pull-right ml-md\">\n+        <div class=\"form-group mb-none mt-xs\">\n+          <c:if\n+              test=\"${fn:contains(sessionObject.userPermissions,'ROLE_SUPERADMIN')}\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn mr-sm\"\n+                    id=\"enforcePasswordId\" style=\"margin-top: 12px;\">Enforce\n+              Password Change\n+            </button>\n+          </c:if>\n+          <c:if\n+              test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_EDIT')}\">\n+            <button type=\"button\"\n+                    class=\"btn btn-primary blue-btn addOrEditUser\"\n+                    style=\"margin-top: 12px;\">Add User\n+            </button>\n+          </c:if>\n+        </div>\n+      </div>\n+      <div class=\"dis-line pull-right\"\n+           style=\"margin-top: 10px; height: auto;\">\n+        <div class=\"mb-none mt-xs\">\n+          <select class=\"selectpicker btn-md\" id=\"filterRole\">\n+            <option value=\"\" selected>Filter by role</option>\n+            <c:forEach items=\"${roleList}\" var=\"role\">\n+              <option value=\"${role.roleName}\">${role.roleName}</option>\n+            </c:forEach>\n+          </select>\n+        </div>\n+      </div>\n+\n     </div>\n-    <div  class=\"clearfix\"></div>\n+  </div>\n+  <div class=\"clearfix\"></div>\n </div>\n-<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\"> \n-    <div class=\"white-bg\">\n-        <div>\n-            <table id=\"user_list\" class=\"table tbl_rightalign tbl\">\n-            <thead>\n-              <tr>\n-                <th id=\"\">Name <span class=\"sort\"></span></th>\n-                <th id=\"\">Email  address <span class=\"sort\"></span></th>\n-                <th id=\"\">ROLE <span class=\"sort\"></span></th>\n-                <th id=\"\">Actions</th>\n-              </tr>\n-            </thead>\n-            <tbody>\n-            <c:forEach items=\"${userList}\" var=\"user\">\n-              <tr <c:if test=\"${fn:contains(aspList.capability , 'Project Lead' )}\"> plRow </c:if>\n+<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+  <div class=\"white-bg\">\n+    <div>\n+      <table id=\"user_list\" class=\"table tbl_rightalign tbl\">\n+        <thead>\n+        <tr>\n+          <th id=\"\">Name <span class=\"sort\"></span></th>\n+          <th id=\"\">Email address <span class=\"sort\"></span></th>\n+          <th id=\"\">ROLE <span class=\"sort\"></span></th>\n+          <th id=\"\">Actions</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <c:forEach items=\"${userList}\" var=\"user\">\n+          <tr\n+              <c:if test=\"${fn:contains(aspList.capability , 'Project Lead' )}\"> plRow </c:if>\n               <c:if test=\"${fn:contains(aspList.capability , 'Coordinator' )}\"> cRow </c:if>>\n-                <td><div class=\"dis-ellipsis\" title=\"${fn:escapeXml(user.userFullName)}\">${fn:escapeXml(user.userFullName)}</div></td>\n-                <td>\n-                \t<div class=\"dis-ellipsis\" title=\"${user.userEmail}\">${user.userEmail}</div>\n-                </td>\n-                <td>${user.roleName}</td>\n-                <td>\n-                \t<span class=\"sprites_icon preview-g mr-lg viewUser\" userId=\"${user.userId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View\"></span>\n-                \t<c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_EDIT')}\">\n-\t                    <span class=\"sprites_icon edit-g addOrEditUser <c:if test='${not empty user.userPassword &&  not user.enabled}'>cursor-none</c:if>\" \n-\t                    \tuserId=\"${user.userId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\"  id=\"editIcon${user.userId}\">\n-                    \t</span>\n-\t                    <span class=\"ml-lg\">\n-\t                        <label class=\"switch\" data-toggle=\"tooltip\" id=\"label${user.userId}\" data-placement=\"top\"\n-\t                        <c:if test=\"${empty user.userPassword}\">title=\"Status: Invitation Sent, Account Activation Pending\"</c:if>\n-\t                        <c:if test=\"${user.emailChanged}\">title=\"Status: Pending Verification\"</c:if>\n-\t                        <c:if test=\"${!user.emailChanged && not empty user.userPassword && user.enabled}\">title=\"Status: Active\"</c:if>\n-\t                        <c:if test=\"${!user.emailChanged && not empty user.userPassword &&  not user.enabled}\">title=\"Status: Deactivated\"</c:if> >\n-\t                          <input type=\"checkbox\" class=\"switch-input\" value=\"${user.enabled ? 1 : 0}\" id=\"${user.userId}\"\n-\t                          <c:if test=\"${user.enabled}\">checked</c:if> onchange=\"activateOrDeactivateUser(${user.userId})\" \n-\t                          <c:if test=\"${empty user.userPassword || user.emailChanged}\">disabled</c:if> >\n-\t                          <span class=\"switch-label\" data-on=\"On\" data-off=\"Off\"></span>\n-\t                          <span class=\"switch-handle\"></span>\n-\t                        </label>\n-\t                    </span>\n-                    </c:if>\n-                </td> \n-              </tr>\n-              </c:forEach>\n-            </tbody>\n-          </table>\n-        </div>\n+            <td>\n+              <div class=\"dis-ellipsis\"\n+                   title=\"${fn:escapeXml(user.userFullName)}\">${fn:escapeXml(user.userFullName)}</div>\n+            </td>\n+            <td>\n+              <div class=\"dis-ellipsis\" title=\"${user.userEmail}\">${user.userEmail}</div>\n+            </td>\n+            <td>${user.roleName}</td>\n+            <td><span class=\"sprites_icon preview-g mr-lg viewUser\"\n+                      userId=\"${user.userId}\" data-toggle=\"tooltip\"", "originalCommit": "7b2d08a008aa0c09fb98e1843e98da211f7d82be", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cd02bf328b1f1dc8d51a5e12ee2ad3583ebcb8f5", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/cd02bf328b1f1dc8d51a5e12ee2ad3583ebcb8f5", "message": "Merge branch 'early-access' of https://github.com/GoogleCloudPlatform/fda-mystudies into early-access-enforce-password-change-enhancement\n\n# Conflicts:\n#\tWCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/addOrEditUserPage.jsp\n#\tWCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/users/userListPage.jsp", "committedDate": "2020-06-22T16:36:43Z", "type": "commit"}, {"oid": "67a3bb515cbab28df6a0e58604883ce34f35d1b5", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/67a3bb515cbab28df6a0e58604883ce34f35d1b5", "message": "Merge branch 'early-access' into early-access-enforce-password-change-enhancement", "committedDate": "2020-06-25T13:44:57Z", "type": "commit"}]}