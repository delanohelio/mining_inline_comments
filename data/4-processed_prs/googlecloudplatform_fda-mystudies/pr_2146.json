{"pr_number": 2146, "pr_title": "Move all deployment assets under deployment dir", "pr_createdAt": "2020-11-25T18:14:37Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2146", "timeline": [{"oid": "6bea4b7a6508e94793e2815c281a7117d97ba617", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6bea4b7a6508e94793e2815c281a7117d97ba617", "message": "Move all deployment assets under deployment/", "committedDate": "2020-11-25T18:02:09Z", "type": "commit"}, {"oid": "213be5187d8aed9780f7dc2f557ae390c3dee528", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/213be5187d8aed9780f7dc2f557ae390c3dee528", "message": "improve helper screipts, move them to scripts dir", "committedDate": "2020-11-25T18:13:47Z", "type": "commit"}, {"oid": "2fabd858e7ec7e31c7bf92f94cda7b4ad2239880", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2fabd858e7ec7e31c7bf92f94cda7b4ad2239880", "message": "Fix search path in kubeapply", "committedDate": "2020-11-25T18:16:02Z", "type": "commit"}, {"oid": "3295d915f2e135a41802fc8423ec29b60389885b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3295d915f2e135a41802fc8423ec29b60389885b", "message": "Update terraform deployment template + generate files", "committedDate": "2020-11-25T20:11:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0MTM4MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2146#discussion_r530641380", "bodyText": "These should not be deleted?", "author": "xingao267", "createdAt": "2020-11-25T21:03:32Z", "path": "deployment/terraform/example-dev-apps/main.tf", "diffHunk": "@@ -204,29 +204,6 @@ module \"example_dev_gke_cluster\" {\n \n }\n \n-module \"project_iam_members\" {", "originalCommit": "3295d915f2e135a41802fc8423ec29b60389885b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0NTYwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2146#discussion_r530645607", "bodyText": "it is commented out in mystudies.hcl since it needs the projects to be present; so it should not be included. no?", "author": "zohrehj", "createdAt": "2020-11-25T21:14:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0MTM4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0ODU3Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2146#discussion_r530648577", "bodyText": "Both the apps project and service accounts depended by these IAM bindings are created in the same deployment. It should be ok to create these IAM bindings in the same deployment.", "author": "xingao267", "createdAt": "2020-11-25T21:21:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0MTM4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY1MjczNQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2146#discussion_r530652735", "bodyText": "updated", "author": "zohrehj", "createdAt": "2020-11-25T21:32:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0MTM4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0MjI2MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2146#discussion_r530642260", "bodyText": "add empty line at the end", "author": "xingao267", "createdAt": "2020-11-25T21:05:36Z", "path": "deployment/scripts/delete_project.sh", "diffHunk": "@@ -0,0 +1,24 @@\n+# Copyright 2020 Google LLC\n+#\n+# Use of this source code is governed by an MIT-style\n+# license that can be found in the LICENSE file or at\n+# https://opensource.org/licenses/MIT.\n+\n+#/bin/bash\n+\n+# This is a helper script to delete projects created with terraform engine.\n+# Run like:\n+# $ ./deployment/scripts/delete_project.sh fda-mystudies-dev-apps\n+\n+set -e\n+\n+for PROJECT in $@\n+do\n+   echo ${PROJECT}\n+   for lien in $(gcloud alpha resource-manager liens list --project=${PROJECT} --format=\"value(name)\")\n+   do\n+   gcloud alpha resource-manager liens delete ${lien}\n+   done\n+\n+   gcloud projects delete ${PROJECT}\n+done", "originalCommit": "3295d915f2e135a41802fc8423ec29b60389885b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0NDI4Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2146#discussion_r530644282", "bodyText": "fixed.", "author": "zohrehj", "createdAt": "2020-11-25T21:10:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY0MjI2MA=="}], "type": "inlineReview"}, {"oid": "3b658d70915be09e8e4053f8dfa2e7413e3da419", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3b658d70915be09e8e4053f8dfa2e7413e3da419", "message": "add empty line eof", "committedDate": "2020-11-25T21:10:32Z", "type": "commit"}, {"oid": "94a7bace6b1f4d1a3813e6fdb293c5106b9f6a4b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/94a7bace6b1f4d1a3813e6fdb293c5106b9f6a4b", "message": "Move logwriter permission to initial deployment step", "committedDate": "2020-11-25T21:31:35Z", "type": "commit"}]}