{"pr_number": 308, "pr_title": "Add GKE subnet to NAT.", "pr_createdAt": "2020-05-01T21:02:30Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/308", "timeline": [{"oid": "1f547b2689c41b4abc0fd3f8c141ba0fe9b28df8", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1f547b2689c41b4abc0fd3f8c141ba0fe9b28df8", "message": "Add GKE subnet to NAT", "committedDate": "2020-05-01T21:02:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODczOTk5Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/308#discussion_r418739993", "bodyText": "Does ALL_IP_RANGES cover secondary ranges, even though this is empty?", "author": "MartinPetkov", "createdAt": "2020-05-01T21:12:02Z", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-networks/networks/bastion.tf", "diffHunk": "@@ -65,6 +65,11 @@ module \"bastion_router\" {\n       name                     = module.private.subnets[\"${var.region}/${local.bastion_subnet_name}\"].self_link\n       source_ip_ranges_to_nat  = [\"PRIMARY_IP_RANGE\"]\n       secondary_ip_range_names = []\n+    },\n+    {\n+      name                     = module.private.subnets[\"${var.region}/${local.gke_clusters_subnet_name}\"].self_link\n+      source_ip_ranges_to_nat  = [\"ALL_IP_RANGES\"]\n+      secondary_ip_range_names = []", "originalCommit": "1f547b2689c41b4abc0fd3f8c141ba0fe9b28df8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc0OTExOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/308#discussion_r418749118", "bodyText": "It does https://www.terraform.io/docs/providers/google/r/compute_router_nat.html. The reason why secondary_ip_range_names has to be also declared but left empty is because the router module currently always looks for it https://github.com/terraform-google-modules/terraform-google-cloud-router/blob/master/nat.tf", "author": "xingao267", "createdAt": "2020-05-01T21:38:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODczOTk5Mw=="}], "type": "inlineReview"}, {"oid": "f7eced6b3ba8761805f2a10936905c32cf39af03", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f7eced6b3ba8761805f2a10936905c32cf39af03", "message": "Merge branch 'early-access' into gke-nat", "committedDate": "2020-05-01T23:07:48Z", "type": "commit"}, {"oid": "bcc72cb00928ce4c7ee567e60021995e31540ab1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bcc72cb00928ce4c7ee567e60021995e31540ab1", "message": "Ran terraform fmt -recursive", "committedDate": "2020-05-02T03:05:50Z", "type": "commit"}, {"oid": "c34a1c569f0321eb24911d1da10410a1d2c8c73c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c34a1c569f0321eb24911d1da10410a1d2c8c73c", "message": "Merge branch 'gke-nat' of https://github.com/GoogleCloudPlatform/fda-mystudies into gke-nat", "committedDate": "2020-05-02T03:06:01Z", "type": "commit"}, {"oid": "1b1695abb7040274b78c61c9930ba6f3ab73cf73", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1b1695abb7040274b78c61c9930ba6f3ab73cf73", "message": "add todo", "committedDate": "2020-05-02T03:08:24Z", "type": "commit"}, {"oid": "6a29832b4406793ab191e1591621c6a048d1c4fc", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6a29832b4406793ab191e1591621c6a048d1c4fc", "message": "Merge branch 'early-access' into gke-nat", "committedDate": "2020-05-02T03:09:08Z", "type": "commit"}]}