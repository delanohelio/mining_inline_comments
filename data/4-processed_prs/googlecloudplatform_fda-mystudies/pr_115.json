{"pr_number": 115, "pr_title": "add readme", "pr_createdAt": "2020-04-08T19:42:18Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115", "timeline": [{"oid": "a9985d2c4fd482a38b8e76181b7e65b32febe75e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a9985d2c4fd482a38b8e76181b7e65b32febe75e", "message": "add terraform readme", "committedDate": "2020-04-08T19:41:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc4NDc2OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r405784768", "bodyText": "Maybe some more explanation here, in case they're not familiar with what G Suite Domain is or why they need one.", "author": "MartinPetkov", "createdAt": "2020-04-08T20:11:10Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,79 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+    - [GCloud](https://cloud.google.com/sdk/gcloud)\n+    - [Terraform](https://www.terraform.io/)\n+    - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+   [Terraform](https://www.terraform.io/intro/index.html) and\n+   [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+   The infrastructure is deployed using Terraform, which is an industry standard\n+   for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+   Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your [G Suite Domain](https://gsuite.google.com/).", "originalCommit": "a9985d2c4fd482a38b8e76181b7e65b32febe75e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc4NDg4Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r405784882", "bodyText": "Should clarify if this needs to be done manually via the GCP Console (UI).", "author": "MartinPetkov", "createdAt": "2020-04-08T20:11:24Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,79 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+    - [GCloud](https://cloud.google.com/sdk/gcloud)\n+    - [Terraform](https://www.terraform.io/)\n+    - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+   [Terraform](https://www.terraform.io/intro/index.html) and\n+   [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+   The infrastructure is deployed using Terraform, which is an industry standard\n+   for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+   Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your [G Suite Domain](https://gsuite.google.com/).\n+\n+1. Create admin groups:", "originalCommit": "a9985d2c4fd482a38b8e76181b7e65b32febe75e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTgxNDAyNQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r405814025", "bodyText": "also a short explanation on each group would be great. e.g.\n\nOrganization administrators, e.g. X-org-admins@domain.com. This group would be given permission to access all resources.\nAudit Owners, e.g. X-audit-owners@domain.com. Audit management access.\n\n...", "author": "zohrehj", "createdAt": "2020-04-08T21:04:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc4NDg4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc4NDk3MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r405784971", "bodyText": "Nit: \"breakglass\" or \"break-glass\"", "author": "MartinPetkov", "createdAt": "2020-04-08T20:11:35Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,79 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+    - [GCloud](https://cloud.google.com/sdk/gcloud)\n+    - [Terraform](https://www.terraform.io/)\n+    - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+   [Terraform](https://www.terraform.io/intro/index.html) and\n+   [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+   The infrastructure is deployed using Terraform, which is an industry standard\n+   for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+   Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your [G Suite Domain](https://gsuite.google.com/).\n+\n+1. Create admin groups:\n+\n+   - X-org-admins@domain.com\n+   - X-devops-owners@domain.com\n+   - X-audit-owners@domain.com\n+   - X-apps-owners@domain.com\n+   - X-data-owners@domain.com\n+   - X-networks-owners@domain.com\n+   - X-firebase-owners@domain.com\n+   - X-auditors@domain.com\n+\n+   NOTE: It is always recommended to use CICD to deploy changes to the\n+   infrastructure. These groups should remain empty and only have humans added\n+   for emergency break the glass situations or when debugging is required.", "originalCommit": "a9985d2c4fd482a38b8e76181b7e65b32febe75e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc4NTEyOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r405785128", "bodyText": "There should be a mention somewhere of having to create an org, if you don't already have one.", "author": "MartinPetkov", "createdAt": "2020-04-08T20:11:50Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,79 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+    - [GCloud](https://cloud.google.com/sdk/gcloud)\n+    - [Terraform](https://www.terraform.io/)\n+    - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+   [Terraform](https://www.terraform.io/intro/index.html) and\n+   [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+   The infrastructure is deployed using Terraform, which is an industry standard\n+   for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+   Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your [G Suite Domain](https://gsuite.google.com/).\n+\n+1. Create admin groups:\n+\n+   - X-org-admins@domain.com\n+   - X-devops-owners@domain.com\n+   - X-audit-owners@domain.com\n+   - X-apps-owners@domain.com\n+   - X-data-owners@domain.com\n+   - X-networks-owners@domain.com\n+   - X-firebase-owners@domain.com\n+   - X-auditors@domain.com\n+\n+   NOTE: It is always recommended to use CICD to deploy changes to the\n+   infrastructure. These groups should remain empty and only have humans added\n+   for emergency break the glass situations or when debugging is required.\n+   Always join the group that grants you access to the fewest number of\n+   resources to do the job.\n+\n+\n+## Directory Structure\n+\n+The infrastructure is split into multiple directories. Each directory represents\n+one Terraform deployment. Each deployment will manage specific resources in your infrastructure.\n+\n+A deployment typically contains the following files:\n+\n+- *main.tf*: This file defines the Terraform resources and modules to manage. For\n+  more complex deployments, there may be multiple .tf files that define\n+  resources.\n+\n+- *variables.tf*: This file defines any input variables that the deployment can\n+  take.\n+\n+- *outputs.tf*: This file defines any outputs from this deployment. These values\n+  can be used by other deployments.\n+\n+- *terraform.tfvars*: This file defines values for the input variables.\n+\n+- *terragrunt.hcl*: This file defines dependencies between other deployments,\n+  the remote state, and input values from other dependent deployments.\n+\n+## Layout", "originalCommit": "a9985d2c4fd482a38b8e76181b7e65b32febe75e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTc4NTIyMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r405785220", "bodyText": "This is presented without comment, and should be expanded. We should have a section on what exactly is being CI'd and CD'd.", "author": "MartinPetkov", "createdAt": "2020-04-08T20:12:00Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,79 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+    - [GCloud](https://cloud.google.com/sdk/gcloud)\n+    - [Terraform](https://www.terraform.io/)\n+    - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+   [Terraform](https://www.terraform.io/intro/index.html) and\n+   [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+   The infrastructure is deployed using Terraform, which is an industry standard\n+   for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+   Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your [G Suite Domain](https://gsuite.google.com/).\n+\n+1. Create admin groups:\n+\n+   - X-org-admins@domain.com\n+   - X-devops-owners@domain.com\n+   - X-audit-owners@domain.com\n+   - X-apps-owners@domain.com\n+   - X-data-owners@domain.com\n+   - X-networks-owners@domain.com\n+   - X-firebase-owners@domain.com\n+   - X-auditors@domain.com\n+\n+   NOTE: It is always recommended to use CICD to deploy changes to the\n+   infrastructure. These groups should remain empty and only have humans added\n+   for emergency break the glass situations or when debugging is required.\n+   Always join the group that grants you access to the fewest number of\n+   resources to do the job.\n+\n+\n+## Directory Structure\n+\n+The infrastructure is split into multiple directories. Each directory represents\n+one Terraform deployment. Each deployment will manage specific resources in your infrastructure.\n+\n+A deployment typically contains the following files:\n+\n+- *main.tf*: This file defines the Terraform resources and modules to manage. For\n+  more complex deployments, there may be multiple .tf files that define\n+  resources.\n+\n+- *variables.tf*: This file defines any input variables that the deployment can\n+  take.\n+\n+- *outputs.tf*: This file defines any outputs from this deployment. These values\n+  can be used by other deployments.\n+\n+- *terraform.tfvars*: This file defines values for the input variables.\n+\n+- *terragrunt.hcl*: This file defines dependencies between other deployments,\n+  the remote state, and input values from other dependent deployments.\n+\n+## Layout\n+\n+```\n+|- bootstrap: one time setup to create projects to host Terraform state and CICD pipeline.\n+|- cicd: CloudBuild configs for the CICD pipeline.", "originalCommit": "a9985d2c4fd482a38b8e76181b7e65b32febe75e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTgxMTk3Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r405811972", "bodyText": "let's rename to FDA MyStudies for now.", "author": "zohrehj", "createdAt": "2020-04-08T21:00:21Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,79 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.", "originalCommit": "a9985d2c4fd482a38b8e76181b7e65b32febe75e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d5f46c51e7791c038071792c297fa9816bccd169", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d5f46c51e7791c038071792c297fa9816bccd169", "message": "add deployment steps", "committedDate": "2020-04-09T00:12:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4NzYyMQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406287621", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            These directories define the entire GCP infrastructure app to run the Heroes Hat\n          \n          \n            \n            These directories define the entire GCP infrastructure app to run FDA MyStudies", "author": "jkrogers18", "createdAt": "2020-04-09T15:27:15Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4OTQ3Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406289473", "bodyText": "Is the numbering for the pre-requisite steps correct?", "author": "jkrogers18", "createdAt": "2020-04-09T15:29:45Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+\n+  - [GCloud](https://cloud.google.com/sdk/gcloud)\n+  - [Terraform](https://www.terraform.io/)\n+  - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5MDI1OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406290258", "bodyText": "Looks like there might be numbering issues throughout the doc", "author": "jkrogers18", "createdAt": "2020-04-09T15:30:52Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+\n+  - [GCloud](https://cloud.google.com/sdk/gcloud)\n+  - [Terraform](https://www.terraform.io/)\n+  - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+  [Terraform](https://www.terraform.io/intro/index.html) and\n+  [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+  The infrastructure is deployed using Terraform, which is an industry standard\n+  for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+  Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your\n+  [organization](https://cloud.google.com/resource-manager/docs/creating-managing-organization) for GCP resources\n+  and [G Suite Domain](https://gsuite.google.com/) for groups.\n+\n+1. [Create admin groups](https://support.google.com/a/answer/33343?hl=en) in the\n+  G Suite Domain:\n+\n+  - X-org-admins@domain.com\n+  - X-devops-owners@domain.com\n+  - X-audit-owners@domain.com\n+  - X-apps-owners@domain.com\n+  - X-data-owners@domain.com\n+  - X-networks-owners@domain.com\n+  - X-firebase-owners@domain.com\n+  - X-auditors@domain.com\n+\n+  NOTE: It is always recommended to use CICD to deploy changes to the\n+  infrastructure. These groups should remain empty and only have humans added\n+  for emergency break-glass situations or when debugging is required.\n+  Always join the group that grants you access to the fewest number of\n+  resources to do the job.\n+\n+\n+## Directory Structure\n+\n+The infrastructure is split into multiple directories. Each directory represents\n+one Terraform deployment. Each deployment will manage specific resources in you\n+infrastructure.\n+\n+A deployment typically contains the following files:\n+\n+- **main.tf**: This file defines the Terraform resources and modules to manage. For\n+  more complex deployments, there may be multiple .tf files that define\n+  resources.\n+\n+- **variables.tf**: This file defines any input variables that the deployment can\n+  take.\n+\n+- **outputs.tf**: This file defines any outputs from this deployment. These values\n+  can be used by other deployments.\n+\n+- **terraform.tfvars**: This file defines values for the input variables.\n+\n+- **terragrunt.hcl**: This file defines dependencies between other deployments,\n+  the remote state, and input values from other dependent deployments.\n+\n+## Layout\n+\n+```\n+|- bootstrap: one time setup to create projects to host Terraform state and CICD pipeline.\n+|- cicd: CloudBuild configs for the CICD pipeline.\n+|- org: org level resources. Resources within this directory should be managed by CICD pipeline.\n+  |- terragrunt.hcl: root Terragrunt config which defines remote state for all deployments.\n+  |- project.X-devops: additional resources that will go in the devops project.\n+  |- project.X-audit: the project to hold all audit logs for the org.\n+  |- audit: deployment to setup auditing for the org.\n+  |- iam: org level iam definitions such as org admins.\n+  |- folder.fda-my-studies: folder to hold all projects related to FDA MyStudies.\n+    |- project.X-apps: apps project and resources (GKE)\n+    |- project.X-data: data project and resources (GCS buckets, CloudSQL instances)\n+    |- project.X-networks: network project and resources (VPC)\n+    |- project.X-firebase: firebase project (firestores)\n+```\n+\n+## Deployment Steps\n+\n+1. Authenticate as a super admin using `gcloud auth login`.", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzMDc1Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406330752", "bodyText": "Thanks, numbering is fixed now", "author": "umairidris", "createdAt": "2020-04-09T16:34:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5MDI1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5MzcwMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406293700", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              |- folder.fda-my-studies: folder to hold all projects related to FDA MyStudies.\n          \n          \n            \n              |- folder.fda-mystudies: folder to hold all projects related to FDA MyStudies.", "author": "jkrogers18", "createdAt": "2020-04-09T15:36:13Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+\n+  - [GCloud](https://cloud.google.com/sdk/gcloud)\n+  - [Terraform](https://www.terraform.io/)\n+  - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+  [Terraform](https://www.terraform.io/intro/index.html) and\n+  [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+  The infrastructure is deployed using Terraform, which is an industry standard\n+  for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+  Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your\n+  [organization](https://cloud.google.com/resource-manager/docs/creating-managing-organization) for GCP resources\n+  and [G Suite Domain](https://gsuite.google.com/) for groups.\n+\n+1. [Create admin groups](https://support.google.com/a/answer/33343?hl=en) in the\n+  G Suite Domain:\n+\n+  - X-org-admins@domain.com\n+  - X-devops-owners@domain.com\n+  - X-audit-owners@domain.com\n+  - X-apps-owners@domain.com\n+  - X-data-owners@domain.com\n+  - X-networks-owners@domain.com\n+  - X-firebase-owners@domain.com\n+  - X-auditors@domain.com\n+\n+  NOTE: It is always recommended to use CICD to deploy changes to the\n+  infrastructure. These groups should remain empty and only have humans added\n+  for emergency break-glass situations or when debugging is required.\n+  Always join the group that grants you access to the fewest number of\n+  resources to do the job.\n+\n+\n+## Directory Structure\n+\n+The infrastructure is split into multiple directories. Each directory represents\n+one Terraform deployment. Each deployment will manage specific resources in you\n+infrastructure.\n+\n+A deployment typically contains the following files:\n+\n+- **main.tf**: This file defines the Terraform resources and modules to manage. For\n+  more complex deployments, there may be multiple .tf files that define\n+  resources.\n+\n+- **variables.tf**: This file defines any input variables that the deployment can\n+  take.\n+\n+- **outputs.tf**: This file defines any outputs from this deployment. These values\n+  can be used by other deployments.\n+\n+- **terraform.tfvars**: This file defines values for the input variables.\n+\n+- **terragrunt.hcl**: This file defines dependencies between other deployments,\n+  the remote state, and input values from other dependent deployments.\n+\n+## Layout\n+\n+```\n+|- bootstrap: one time setup to create projects to host Terraform state and CICD pipeline.\n+|- cicd: CloudBuild configs for the CICD pipeline.\n+|- org: org level resources. Resources within this directory should be managed by CICD pipeline.\n+  |- terragrunt.hcl: root Terragrunt config which defines remote state for all deployments.\n+  |- project.X-devops: additional resources that will go in the devops project.\n+  |- project.X-audit: the project to hold all audit logs for the org.\n+  |- audit: deployment to setup auditing for the org.\n+  |- iam: org level iam definitions such as org admins.\n+  |- folder.fda-my-studies: folder to hold all projects related to FDA MyStudies.", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5NDQ4Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406294483", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            These directories define the entire GCP infrastructure app to run the Heroes Hat\n          \n          \n            \n            These directories define the entire GCP infrastructure to run FDA MyStudies.", "author": "jkrogers18", "createdAt": "2020-04-09T15:37:26Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5NDYzNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406294637", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            application.", "author": "jkrogers18", "createdAt": "2020-04-09T15:37:37Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5NTUyNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406295527", "bodyText": "Is the numbering incrementing correctly throughout the doc?", "author": "jkrogers18", "createdAt": "2020-04-09T15:38:55Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5NzQ2Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406297463", "bodyText": "I think Github markdown editor would adjust the numbers automatically.", "author": "zohrehj", "createdAt": "2020-04-09T15:41:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5NTUyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5NjU5MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406296590", "bodyText": "If the X in these groups refers to the Amber team, should we refer to this as \"org-admins@domain.com\" instead of \"X-org...\" to make this readme more general?", "author": "jkrogers18", "createdAt": "2020-04-09T15:40:25Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,124 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the Heroes Hat\n+application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+\n+  - [GCloud](https://cloud.google.com/sdk/gcloud)\n+  - [Terraform](https://www.terraform.io/)\n+  - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+  [Terraform](https://www.terraform.io/intro/index.html) and\n+  [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+  The infrastructure is deployed using Terraform, which is an industry standard\n+  for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+  Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your\n+  [organization](https://cloud.google.com/resource-manager/docs/creating-managing-organization) for GCP resources\n+  and [G Suite Domain](https://gsuite.google.com/) for groups.\n+\n+1. [Create admin groups](https://support.google.com/a/answer/33343?hl=en) in the\n+  G Suite Domain:\n+\n+  - X-org-admins@domain.com", "originalCommit": "d5f46c51e7791c038071792c297fa9816bccd169", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjMzMTIxMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406331210", "bodyText": "I think as a next step we should make a copy of this folder and replace all the names and resource names with the prod resources for UNC. Do you have that info? Then we can replace these with the real group names that should be created.", "author": "umairidris", "createdAt": "2020-04-09T16:35:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5NjU5MA=="}], "type": "inlineReview"}, {"oid": "6fc630ff3d63b642fd339f45a18976adef46c9f3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6fc630ff3d63b642fd339f45a18976adef46c9f3", "message": "aaddress zohreh comments", "committedDate": "2020-04-09T16:28:38Z", "type": "commit"}, {"oid": "117d59cef4554ca9df06fc4335ef905854c3f579", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/117d59cef4554ca9df06fc4335ef905854c3f579", "message": "try to fix numbering", "committedDate": "2020-04-09T16:33:06Z", "type": "commit"}, {"oid": "7aa2659599882eb25b7378d223293290fa4e35cb", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7aa2659599882eb25b7378d223293290fa4e35cb", "message": "rename folder", "committedDate": "2020-04-09T16:33:38Z", "type": "commit"}, {"oid": "801c70321780acdcdf8d3107c145af5218276556", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/801c70321780acdcdf8d3107c145af5218276556", "message": "Merge branch 'terraform' into readme", "committedDate": "2020-04-09T16:35:56Z", "type": "commit"}, {"oid": "73d22e9f0ea3425228287d1651521da6c2a3654b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/73d22e9f0ea3425228287d1651521da6c2a3654b", "message": "wording", "committedDate": "2020-04-09T16:37:12Z", "type": "commit"}, {"oid": "f1e951dcfd215ed75ed96800cb9a0fc6203cef4d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f1e951dcfd215ed75ed96800cb9a0fc6203cef4d", "message": "Merge branch 'readme' of https://github.com/GoogleCloudPlatform/fda-mystudies into readme", "committedDate": "2020-04-09T16:37:17Z", "type": "commit"}, {"oid": "d4f56df6adfa680d13ed50cb6ef9045c99b9e91c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d4f56df6adfa680d13ed50cb6ef9045c99b9e91c", "message": "Merge branch 'terraform' into readme", "committedDate": "2020-04-09T17:17:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3Mzc4Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406373787", "bodyText": "<X>-org-admins@domain.com.... and for other places as well? i.e. s/X/<X>", "author": "xingao267", "createdAt": "2020-04-09T17:49:10Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,139 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the FDA\n+MyStudies application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+\n+   - [GCloud](https://cloud.google.com/sdk/gcloud)\n+   - [Terraform](https://www.terraform.io/)\n+   - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+   [Terraform](https://www.terraform.io/intro/index.html) and\n+   [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+   The infrastructure is deployed using Terraform, which is an industry standard\n+   for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+   Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your\n+   [organization](https://cloud.google.com/resource-manager/docs/creating-managing-organization) for GCP resources\n+   and [G Suite Domain](https://gsuite.google.com/) for groups.\n+\n+1. [Create administrative groups](https://support.google.com/a/answer/33343?hl=en)\n+   in the G Suite Domain:\n+\n+   - X-org-admins@domain.com: This group has administrative access to the entire", "originalCommit": "d4f56df6adfa680d13ed50cb6ef9045c99b9e91c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3OTc3OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406379778", "bodyText": "Yes we want to remove references to Amber team everywhere", "author": "jkrogers18", "createdAt": "2020-04-09T17:59:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3Mzc4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQyODM1MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406428351", "bodyText": "Oh I see the confusion. X was supposed to be a generic prefix, not the team working on this. I will just replace it with {PREFIX}", "author": "umairidris", "createdAt": "2020-04-09T19:29:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3Mzc4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3NDExOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406374118", "bodyText": "Add a note that Terraform configs currently do not include IAM bindings for these groups, and should be added after these groups are created?", "author": "xingao267", "createdAt": "2020-04-09T17:49:47Z", "path": "Terraform/README.md", "diffHunk": "@@ -0,0 +1,139 @@\n+# FDA MyStudies Terraform Infrastructure\n+\n+These directories define the entire GCP infrastructure app to run the FDA\n+MyStudies application.\n+\n+## Pre-Requisites\n+\n+1. Install the following dependencies and add them to your PATH:\n+\n+   - [GCloud](https://cloud.google.com/sdk/gcloud)\n+   - [Terraform](https://www.terraform.io/)\n+   - [Terragrunt](https://terragrunt.gruntwork.io/)\n+\n+1. Get familiar with [GCP](https://cloud.google.com/docs/overview),\n+   [Terraform](https://www.terraform.io/intro/index.html) and\n+   [Terragrunt](https://blog.gruntwork.io/terragrunt-how-to-keep-your-terraform-code-dry-and-maintainable-f61ae06959d8).\n+\n+   The infrastructure is deployed using Terraform, which is an industry standard\n+   for defining infrastructure-as-code. Terragrunt is used as a wrapper around\n+   Terraform to manage multiple Terraform deployments and reduce duplication.\n+\n+1. Setup your\n+   [organization](https://cloud.google.com/resource-manager/docs/creating-managing-organization) for GCP resources\n+   and [G Suite Domain](https://gsuite.google.com/) for groups.\n+\n+1. [Create administrative groups](https://support.google.com/a/answer/33343?hl=en)\n+   in the G Suite Domain:\n+\n+   - X-org-admins@domain.com: This group has administrative access to the entire", "originalCommit": "d4f56df6adfa680d13ed50cb6ef9045c99b9e91c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQzMDA1MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406430050", "bodyText": "The org admin should be granted through bootstrap, the auditors through audit and project owners in each project deployment. Is that not ok?", "author": "umairidris", "createdAt": "2020-04-09T19:32:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3NDExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQzNDk4NQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406434985", "bodyText": "That's ok. It's just in the TF configs right now, they are all giving the group:rocketturtle-gcp-admin@rocketturtle.net roles/owner role and placeholders for these groups are not yet put in the TF configs.", "author": "xingao267", "createdAt": "2020-04-09T19:42:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3NDExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ0MTkxMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/115#discussion_r406441912", "bodyText": "Oh right. We will need to wait for the templates to be done first before we can change those. If we change them right now then itll cause the CICD to deploy.\nI wanted to make this README more generic so that it can be shared as is with customers.", "author": "umairidris", "createdAt": "2020-04-09T19:55:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM3NDExOA=="}], "type": "inlineReview"}, {"oid": "527e58b31f47d5c96c064482cbf8a8b49fae1855", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/527e58b31f47d5c96c064482cbf8a8b49fae1855", "message": "prefix", "committedDate": "2020-04-09T19:33:11Z", "type": "commit"}, {"oid": "5919748f2be1d8a86dfe934dfc0424886c3bf1e3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5919748f2be1d8a86dfe934dfc0424886c3bf1e3", "message": "Merge branch 'readme' of https://github.com/GoogleCloudPlatform/fda-mystudies into readme", "committedDate": "2020-04-09T19:33:16Z", "type": "commit"}]}