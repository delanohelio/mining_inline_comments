{"pr_number": 1641, "pr_title": "[Study Datastore] SQL injection issue fix ", "pr_createdAt": "2020-10-23T14:19:50Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641", "timeline": [{"oid": "69e584a48f0b2a3e3cf39b43b8747d809bdac59e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/69e584a48f0b2a3e3cf39b43b8747d809bdac59e", "message": "SQL queries changes for Study Metadata for sql injection", "committedDate": "2020-10-22T12:51:14Z", "type": "commit"}, {"oid": "538cccbe0862e1bf5e7b43c286dbd14150a2dae2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/538cccbe0862e1bf5e7b43c286dbd14150a2dae2", "message": "Merge branch 'develop' into studybuilder_sql_issues_vasanth", "committedDate": "2020-10-22T12:51:41Z", "type": "commit"}, {"oid": "fc5b59ac3a77de4f09dbbc28f6cb654eed4d9f4d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fc5b59ac3a77de4f09dbbc28f6cb654eed4d9f4d", "message": "Changed the queries for SQL injection handling", "committedDate": "2020-10-23T14:15:27Z", "type": "commit"}, {"oid": "1d29a46920dfc1f7d9625732be32513571763ca1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1d29a46920dfc1f7d9625732be32513571763ca1", "message": "Merge branch 'develop' into studybuilder_sql_issues_vasanth", "committedDate": "2020-10-23T14:16:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDkyMzMyMw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#discussion_r510923323", "bodyText": "please remove all commented out code", "author": "zohrehj", "createdAt": "2020-10-23T14:28:19Z", "path": "study-datastore/src/main/java/com/hphc/mystudies/dao/ActivityMetaDataDao.java", "diffHunk": "@@ -493,9 +493,10 @@ public ActiveTaskActivityStructureBean activeTaskMetadata(\n                 session\n                     .createQuery(\n                         \" from ActiveTaskMasterAttributeDto ATMADTO\"\n-                            + \" where ATMADTO.masterId in (\"\n-                            + StringUtils.join(taskMasterAttrIdList, \",\")\n+                            + \" where ATMADTO.masterId in (:taskMasterAttrIdList\"\n+                            // + StringUtils.join(taskMasterAttrIdList, \",\")", "originalCommit": "1d29a46920dfc1f7d9625732be32513571763ca1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk5MzgwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#discussion_r513993807", "bodyText": "Fixed as suggested", "author": "vasantbtc", "createdAt": "2020-10-29T05:46:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDkyMzMyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDkzMTM1Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#discussion_r510931356", "bodyText": "since you have moved them to the same line, you can remove the + and turn into a single string", "author": "zohrehj", "createdAt": "2020-10-23T14:40:00Z", "path": "study-datastore/src/main/java/com/hphc/mystudies/dao/ActivityMetaDataDao.java", "diffHunk": "@@ -2006,10 +2008,8 @@ public ActivityFrequencyBean getFrequencyRunsDetailsForQuestionaires(\n           formQuestionsList =\n               session\n                   .createQuery(\n-                      \"from QuestionsDto QDTO\"\n-                          + \" where QDTO.id in (\"\n-                          + StringUtils.join(formQuestionIdsList, ',')\n-                          + \")\")\n+                      \"from QuestionsDto QDTO\" + \" where QDTO.id in (:formQuestionIdsList\" + \")\")", "originalCommit": "1d29a46920dfc1f7d9625732be32513571763ca1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk5Mzk5NQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#discussion_r513993995", "bodyText": "Fixed as suggested", "author": "vasantbtc", "createdAt": "2020-10-29T05:46:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDkzMTM1Ng=="}], "type": "inlineReview"}, {"oid": "50063e13057aac399b2544a076f0dee8bc937f8b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/50063e13057aac399b2544a076f0dee8bc937f8b", "message": "Removed all commented code and removed plus symbol in between the string", "committedDate": "2020-10-29T05:42:39Z", "type": "commit"}, {"oid": "950fe8d54f6e3c165741f98a27c5596ec33b7a6a", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/950fe8d54f6e3c165741f98a27c5596ec33b7a6a", "message": "Merge branch 'develop' into studybuilder_sql_issues_vasanth", "committedDate": "2020-10-30T06:02:36Z", "type": "commit"}]}