{"pr_number": 989, "pr_title": "Participant manager webapp change password implementation", "pr_createdAt": "2020-09-18T12:44:54Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989", "timeline": [{"oid": "efa7a78c4152a1f7e0efe453bed69d4c93f6b0db", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/efa7a78c4152a1f7e0efe453bed69d4c93f6b0db", "message": "Change-password-implentation\n\nChange-password-implentation", "committedDate": "2020-09-18T00:34:26Z", "type": "commit"}, {"oid": "f377072fcb6c0e9333b2227f2851a1d2c55b5767", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f377072fcb6c0e9333b2227f2851a1d2c55b5767", "message": "ui changes\n\nui changes", "committedDate": "2020-09-18T03:45:28Z", "type": "commit"}, {"oid": "d2bfdaf8dab6947f82639df1efd885a0f6338bee", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d2bfdaf8dab6947f82639df1efd885a0f6338bee", "message": "Merge branch 'participant-manager-webapp-Login-Setup-implementation' into participant-manager-webapp-change-password-implementation", "committedDate": "2020-09-18T06:48:51Z", "type": "commit"}, {"oid": "c7df8be203ed819e0bdf67fe6822ab203313c40d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c7df8be203ed819e0bdf67fe6822ab203313c40d", "message": "merged with base branch\n\nmerged with base branch", "committedDate": "2020-09-18T07:11:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAzMzE3Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492033176", "bodyText": "Don't disable this linter rule.", "author": "nikklassen", "createdAt": "2020-09-21T13:12:34Z", "path": "UR-web-app/src/app/shared/success.codes.enum.ts", "diffHunk": "@@ -57,3 +57,16 @@ export type SuccessCode = keyof typeof successMessages;\n export function getMessage(key: SuccessCode): string {\n   return successMessages[key];\n }\n+\n+export function getSuccessMessage(key: SuccessCode, message: string): string {\n+  // eslint-disable-next-line no-prototype-builtins", "originalCommit": "c7df8be203ed819e0bdf67fe6822ab203313c40d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAzMzU4OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492033589", "bodyText": "nit: 'change-password'", "author": "nikklassen", "createdAt": "2020-09-21T13:13:12Z", "path": "UR-web-app/src/app/site-coordinator/account/account-routing.module.ts", "diffHunk": "@@ -1,8 +1,11 @@\n import {NgModule} from '@angular/core';\n import {Routes, RouterModule} from '@angular/router';\n import {AccountProfileComponent} from './account-profile/account-profile.component';\n-\n-const routes: Routes = [{path: '', component: AccountProfileComponent}];\n+import {ChangePasswordComponent} from './change-password/change-password.component';\n+const routes: Routes = [\n+  {path: '', component: AccountProfileComponent},\n+  {path: 'changepassword', component: ChangePasswordComponent},", "originalCommit": "c7df8be203ed819e0bdf67fe6822ab203313c40d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE4NzEyOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492187128", "bodyText": "Modified as you suggested", "author": "firdosebtc1", "createdAt": "2020-09-21T16:19:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAzMzU4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAzNzExMQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492037111", "bodyText": "typo: reset", "author": "nikklassen", "createdAt": "2020-09-21T13:18:33Z", "path": "UR-web-app/src/app/site-coordinator/account/change-password/change-password.component.ts", "diffHunk": "@@ -0,0 +1,76 @@\n+import {Component, OnInit} from '@angular/core';\n+import {ActivatedRoute, Router} from '@angular/router';\n+import {Validators, FormBuilder, FormGroup} from '@angular/forms';\n+import {ToastrService} from 'ngx-toastr';\n+import {AccountService} from '../shared/account.service';\n+import {ApiResponse} from 'src/app/entity/api.response.model';\n+import {getMessage} from 'src/app/shared/success.codes.enum';\n+import {ChangePassword} from '../shared/profile.model';\n+import {mustMatch, passwordValidator} from 'src/app/_helper/validator';\n+import {UnsubscribeOnDestroyAdapter} from 'src/app/unsubscribe-on-destroy-adapter';\n+@Component({\n+  selector: 'app-change-password',\n+  templateUrl: './change-password.component.html',\n+  styleUrls: ['./change-password.component.scss'],\n+})\n+export class ChangePasswordComponent extends UnsubscribeOnDestroyAdapter\n+  implements OnInit {\n+  resetPasswordForm: FormGroup;\n+  constructor(\n+    private readonly fb: FormBuilder,\n+    private readonly accountService: AccountService,\n+    private readonly route: ActivatedRoute,\n+    private readonly router: Router,\n+    private readonly toastr: ToastrService,\n+  ) {\n+    super();\n+    this.resetPasswordForm = this.fb.group(\n+      {\n+        // eslint-disable-next-line @typescript-eslint/unbound-method\n+        currentPassword: ['', Validators.required],\n+        // eslint-disable-next-line @typescript-eslint/unbound-method\n+        newPassword: ['', [Validators.required, passwordValidator()]],\n+        // eslint-disable-next-line @typescript-eslint/unbound-method\n+        confirmPassword: ['', [Validators.required]],\n+      },\n+      {\n+        validator: [mustMatch('newPassword', 'confirmPassword')],\n+      },\n+    );\n+  }\n+  passCriteria = '';\n+  get ressetPassword() {", "originalCommit": "c7df8be203ed819e0bdf67fe6822ab203313c40d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE4NzMzMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492187330", "bodyText": "corrected as you suggested", "author": "firdosebtc1", "createdAt": "2020-09-21T16:20:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAzNzExMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAzNzQ0MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492037440", "bodyText": "You aren't using this anywhere.", "author": "nikklassen", "createdAt": "2020-09-21T13:19:03Z", "path": "UR-web-app/src/app/site-coordinator/account/change-password/change-password.component.ts", "diffHunk": "@@ -0,0 +1,76 @@\n+import {Component, OnInit} from '@angular/core';\n+import {ActivatedRoute, Router} from '@angular/router';\n+import {Validators, FormBuilder, FormGroup} from '@angular/forms';\n+import {ToastrService} from 'ngx-toastr';\n+import {AccountService} from '../shared/account.service';\n+import {ApiResponse} from 'src/app/entity/api.response.model';\n+import {getMessage} from 'src/app/shared/success.codes.enum';\n+import {ChangePassword} from '../shared/profile.model';\n+import {mustMatch, passwordValidator} from 'src/app/_helper/validator';\n+import {UnsubscribeOnDestroyAdapter} from 'src/app/unsubscribe-on-destroy-adapter';\n+@Component({\n+  selector: 'app-change-password',\n+  templateUrl: './change-password.component.html',\n+  styleUrls: ['./change-password.component.scss'],\n+})\n+export class ChangePasswordComponent extends UnsubscribeOnDestroyAdapter\n+  implements OnInit {\n+  resetPasswordForm: FormGroup;\n+  constructor(\n+    private readonly fb: FormBuilder,\n+    private readonly accountService: AccountService,\n+    private readonly route: ActivatedRoute,\n+    private readonly router: Router,\n+    private readonly toastr: ToastrService,\n+  ) {\n+    super();\n+    this.resetPasswordForm = this.fb.group(\n+      {\n+        // eslint-disable-next-line @typescript-eslint/unbound-method\n+        currentPassword: ['', Validators.required],\n+        // eslint-disable-next-line @typescript-eslint/unbound-method\n+        newPassword: ['', [Validators.required, passwordValidator()]],\n+        // eslint-disable-next-line @typescript-eslint/unbound-method\n+        confirmPassword: ['', [Validators.required]],\n+      },\n+      {\n+        validator: [mustMatch('newPassword', 'confirmPassword')],\n+      },\n+    );\n+  }\n+  passCriteria = '';", "originalCommit": "c7df8be203ed819e0bdf67fe6822ab203313c40d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "dd0e12c656885e5fe67113210e0f2bf29d235e2d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/dd0e12c656885e5fe67113210e0f2bf29d235e2d", "message": "client comment fix\n\nclient comment fix", "committedDate": "2020-09-21T16:14:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE4ODg4Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492188882", "bodyText": "I think this should be removed.", "author": "nikklassen", "createdAt": "2020-09-21T16:22:26Z", "path": "UR-web-app/src/app/service/auth.service.ts", "diffHunk": "@@ -49,6 +49,7 @@ export class AuthService {\n       .set('tempRegId', sessionStorage.getItem('tempRegId') || '')\n       .set('redirect_uri', environment.redirectUrl)\n       .set('state', uuidv4())\n+      .set('env', 'localhost')", "originalCommit": "dd0e12c656885e5fe67113210e0f2bf29d235e2d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE5NTE0OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/989#discussion_r492195148", "bodyText": "This has been removed", "author": "firdosebtc1", "createdAt": "2020-09-21T16:32:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjE4ODg4Mg=="}], "type": "inlineReview"}, {"oid": "872952233e13f80e7933e12881d775f87da95963", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/872952233e13f80e7933e12881d775f87da95963", "message": "removed work-around codes\n\nremoved work-around codes", "committedDate": "2020-09-21T16:23:51Z", "type": "commit"}]}