{"pr_number": 442, "pr_title": "google style guide changes for jsps and xml files", "pr_createdAt": "2020-06-03T17:18:38Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442", "timeline": [{"oid": "2f4ef7fe34720d3754f9347f815b374666e08d41", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2f4ef7fe34720d3754f9347f815b374666e08d41", "message": "code commit for google style guide changes for jsps and xml files", "committedDate": "2020-06-03T17:16:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkzMzQzMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r435933430", "bodyText": "please remove all commented out code across all files.", "author": "zohrehj", "createdAt": "2020-06-05T13:49:27Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/header.jsp", "diffHunk": "@@ -1,130 +1,158 @@\n-<%@page import=\"com.fdahpstudydesigner.util.SessionObject\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@page import=\"com.fdahpstudydesigner.util.SessionObject\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\" />\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\"/>\n+\n+\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none white-bg hd_con\">\n-     <div class=\"md-container\">\n-         \n-         <!-- Navigation Menu-->\n-         <nav class=\"navbar navbar-inverse\">\n-          <div class=\"container-fluid p-none\">\n-            <div class=\"navbar-header\">\n-              <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>                        \n-              </button>\n-              <a class=\"navbar-brand pt-none pb-none\" href=\"javascript:void(0)\" id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n-            </div>\n-            <div class=\"collapse navbar-collapse p-none\" id=\"myNavbar\">\n-              <ul class=\"nav navbar-nav\">\n-              <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n-                <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\" >Studies</a></li>\n-              </c:if>\n-                <!-- <li class=\"dropdown\">\n-                  <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n-                  <ul class=\"dropdown-menu\">\n-                    <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n-                    <li><a href=\"javascript:void(0)\">QA content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Resources</a></li>\n-                    <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Legal Text</a></li>\n-                  </ul>\n-                </li> -->\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n-                <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\" id=\"manageNotificationSection\">Notifications</a></li>\n-                </c:if>\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_VIEW')}\">\n-                <li id=\"users\"><a href=\"javascript:void(0)\" id=\"usersSection\">Users</a></li>\n-                </c:if>\n+  <div class=\"md-container\">\n+    <!-- Navigation Menu-->\n+    <nav class=\"navbar navbar-inverse\">\n+      <div class=\" display__flex__center justyfy__space__between \">\n+        <div class=\"navbar-header display__flex__center mr-lg\">\n+          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\"\n+                  data-target=\"#myNavbar\">\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+          </button>\n+          <a class=\"navbar-brand pt-none pb-none display__flex__center p-none pr-lg\"\n+             href=\"javascript:void(0)\"\n+             id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n+          <ul class=\"nav navbar-nav ml-none\">\n+            <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n+              <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\">Studies</a></li>\n+            </c:if>\n+            <!-- <li class=\"dropdown\">\n+              <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n+              <ul class=\"dropdown-menu\">\n+                <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n+                <li><a href=\"javascript:void(0)\">QA content</a></li>\n+                <li><a href=\"javascript:void(0)\">Resources</a></li>\n+                <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n+                <li><a href=\"javascript:void(0)\">Legal Text</a></li>\n               </ul>\n-              \n-              <ul class=\"nav navbar-nav navbar-right\">\n-\t\t        <li id=\"myAccount\" class=\"dropdown ml-lg userLi\">\n-\t\t          <a class=\"dropdown-toggle blue-link\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">${sessionObject.firstName} ${sessionObject.lastName} &nbsp;<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></a>\n-\t\t          <ul class=\"dropdown-menu pb-none pt-none profileBox\">\n-\t\t         \n-\t\t            <li class=\"linkProf\"><a href=\"javascript:void(0)\" class=\"blue-link text-weight-normal text-uppercase\" id=\"profileSection\">My Account</a><hr align=\"left\" width=\"100%\"><a href=\"/studybuilder/sessionOut.do\" class=\"blue-link text-weight-normal text-uppercase\"><span>sign Out</span> <span class=\"ml-xs\"><img src=\"/studybuilder/images/icons/logout.png\"/></span></a></li>\n-\t\t          </ul>\n-\t\t          </li>\n-               </ul>\n-              \n-              \n-               <%-- <ul class=\"nav navbar-nav navbar-right\">\n-\t\t        <li id=\"myAccount\" class=\"dropdown ml-lg userLi\">\n-\t\t          <a class=\"dropdown-toggle blue-link\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">${sessionObject.firstName} ${sessionObject.lastName} &nbsp;<span class=\"caret\"></span></a>\n-\t\t          <ul class=\"dropdown-menu pb-none profileBox\">\n-\t\t         \n-\t\t            <li class=\"linkProf\"><a href=\"javascript:void(0)\" class=\"blue-link text-weight-normal text-uppercase\" id=\"profileSection\">My Account</a><hr align=\"left\" width=\"100%\"><a href=\"javascript:formSubmit();\" class=\"blue-link text-weight-normal text-uppercase\"><span>sign Out</span> <span class=\"ml-xs\"><img src=\"/studybuilder/images/icons/logout.png\"/></span></a></li>\n-\t\t          </ul>\n-\t\t          </li>\n-               </ul> --%>\n-               \n-               \n-              <%-- <ul style=\"float: right;\" class=\"nav navbar-nav\">\n-                <li id=\"myAccount\">\n-                <a href=\"javascript:void(0)\" id=\"profileSection\" class=\"blue-link\">${sessionObject.firstName} ${sessionObject.lastName}&nbsp;&nbsp;<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></a></li>\n-              </ul> --%>\n-            </div>\n-          </div>\n-        </nav>   \n-         \n-     </div>\n- </div>\n- \n+            </li> -->\n+            <c:if\n+                test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n+              <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\"\n+                                                id=\"manageNotificationSection\">Notifications</a>\n+              </li>\n+            </c:if>\n+            <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_VIEW')}\">\n+              <li id=\"users\"><a href=\"javascript:void(0)\" id=\"usersSection\">Users</a></li>\n+            </c:if>\n+          </ul>\n+        </div>\n+        <div class=\"collapse navbar-collapse p-none\" id=\"myNavbar\">\n+\n+\n+          <ul class=\"nav navbar-nav navbar-right\">\n+            <li id=\"myAccount\" class=\"dropdown ml-lg userLi\">\n+              <a class=\"dropdown-toggle blue-link\" data-toggle=\"dropdown\"\n+                 href=\"javascript:void(0)\">${sessionObject.firstName} ${sessionObject.lastName}\n+                &nbsp;<i\n+                    class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></a>\n+              <ul class=\"dropdown-menu pb-none pt-none profileBox\">\n+\n+                <li class=\"linkProf\"><a href=\"javascript:void(0)\"\n+                                        class=\"blue-link text-weight-normal text-uppercase\"\n+                                        id=\"profileSection\">My Account</a>\n+                  <hr align=\"left\" width=\"100%\">\n+                  <a href=\"/studybuilder/sessionOut.do\"\n+                     class=\"blue-link text-weight-normal text-uppercase\"><span>sign Out</span> <span\n+                      class=\"ml-xs\"><img src=\"/studybuilder/images/icons/logout.png\"/></span></a>\n+                </li>\n+              </ul>\n+            </li>\n+          </ul>\n+\n+\n+          <%-- <ul class=\"nav navbar-nav navbar-right\">\n+           <li id=\"myAccount\" class=\"dropdown ml-lg userLi\">\n+             <a class=\"dropdown-toggle blue-link\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">${sessionObject.firstName} ${sessionObject.lastName} &nbsp;<span class=\"caret\"></span></a>\n+             <ul class=\"dropdown-menu pb-none profileBox\">\n+\n+               <li class=\"linkProf\"><a href=\"javascript:void(0)\" class=\"blue-link text-weight-normal text-uppercase\" id=\"profileSection\">My Account</a><hr align=\"left\" width=\"100%\"><a href=\"javascript:formSubmit();\" class=\"blue-link text-weight-normal text-uppercase\"><span>sign Out</span> <span class=\"ml-xs\"><img src=\"/studybuilder/images/icons/logout.png\"/></span></a></li>\n+             </ul>\n+             </li>\n+          </ul> --%>\n+\n+\n+          <%-- <ul style=\"float: right;\" class=\"nav navbar-nav\">\n+            <li id=\"myAccount\">\n+            <a href=\"javascript:void(0)\" id=\"profileSection\" class=\"blue-link\">${sessionObject.firstName} ${sessionObject.lastName}&nbsp;&nbsp;<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></a></li>\n+          </ul> --%>\n+        </div>\n+      </div>\n+    </nav>\n+\n+  </div>\n+</div>\n+\n <form action=\"${logoutUrl}\" method=\"post\" id=\"logoutForm\">\n-\t<input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\" id=\"logoutCsrf\"/>\n+  <input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\" id=\"logoutCsrf\"/>\n </form>\n-<form:form action=\"/studybuilder/adminUsersView/getUserList.do\" id=\"userListForm\" name=\"userListForm\" method=\"post\">\n+<form:form action=\"/studybuilder/adminUsersView/getUserList.do\" id=\"userListForm\"\n+           name=\"userListForm\" method=\"post\">\n </form:form>\n-<form:form action=\"/studybuilder/adminNotificationView/viewNotificationList.do\" id=\"manageNotificationForm\" name=\"manageNotificationForm\" method=\"post\">\n+<form:form action=\"/studybuilder/adminNotificationView/viewNotificationList.do\"\n+           id=\"manageNotificationForm\"\n+           name=\"manageNotificationForm\" method=\"post\">\n </form:form>\n-<form:form action=\"/studybuilder/adminDashboard/viewUserDetails.do\" id=\"myAccountForm\" name=\"myAccountForm\" method=\"post\">\n+<form:form action=\"/studybuilder/adminDashboard/viewUserDetails.do\" id=\"myAccountForm\"\n+           name=\"myAccountForm\"\n+           method=\"post\">\n </form:form>\n-<form:form action=\"/studybuilder/adminStudies/studyList.do\" id=\"adminStudyDashForm\" name=\"adminStudyDashForm\" method=\"post\">\n+<form:form action=\"/studybuilder/adminStudies/studyList.do\" id=\"adminStudyDashForm\"\n+           name=\"adminStudyDashForm\"\n+           method=\"post\">\n </form:form>\n-<form:form action=\"/studybuilder/adminDashboard/viewDashBoard.do\" id=\"landingPageForm\" name=\"landingPageForm\" method=\"post\">\n+<form:form action=\"/studybuilder/adminDashboard/viewDashBoard.do\" id=\"landingPageForm\"\n+           name=\"landingPageForm\"\n+           method=\"post\">\n </form:form>\n- <script type=\"text/javascript\">\n- $(document).ready(function(){\n- \tvar a = document.createElement('a');\n- \t$('#usersSection').on('click',function(){\n+<script type=\"text/javascript\">\n+  $(document).ready(function () {\n+    var a = document.createElement('a');\n+    $('#usersSection').on('click', function () {\n //  \t\t$('#userListForm').submit();\n-\t\ta.href = \"/studybuilder/adminUsersView/getUserList.do\";\n-\t\tdocument.body.appendChild(a).click();\n- \t});\n- \t\n- \t$('#manageNotificationSection').on('click',function(){\n+      a.href = \"/studybuilder/adminUsersView/getUserList.do\";\n+      document.body.appendChild(a).click();\n+    });\n+\n+    $('#manageNotificationSection').on('click', function () {\n //  \t\t$('#manageNotificationForm').submit();\n-\t\ta.href = \"/studybuilder/adminNotificationView/viewNotificationList.do\";\n-\t\tdocument.body.appendChild(a).click();\n- \t});\n- \t\n- \t$('#profileSection').on('click',function(){\n+      a.href = \"/studybuilder/adminNotificationView/viewNotificationList.do\";\n+      document.body.appendChild(a).click();\n+    });\n+\n+    $('#profileSection').on('click', function () {\n //  \t\t$('#myAccountForm').submit();\n-\t\ta.href = \"/studybuilder/adminDashboard/viewUserDetails.do\";\n-\t\tdocument.body.appendChild(a).click();\n- \t});\n- \t\n- \t$('#studySection').on('click',function(){\n+      a.href = \"/studybuilder/adminDashboard/viewUserDetails.do\";\n+      document.body.appendChild(a).click();\n+    });\n+\n+    $('#studySection').on('click', function () {\n //  \t\t$('#adminStudyDashForm').submit();\n-\t\ta.href = \"/studybuilder/adminStudies/studyList.do\";\n-\t\tdocument.body.appendChild(a).click();\n- \t});\n- \t\n- \t$('#landingScreen').on('click',function(){\n+      a.href = \"/studybuilder/adminStudies/studyList.do\";\n+      document.body.appendChild(a).click();\n+    });\n+\n+    $('#landingScreen').on('click', function () {\n //  \t\t$('#landingPageForm').submit();\n-\t\ta.href = \"/studybuilder/adminDashboard/viewDashBoard.do\";\n-\t\tdocument.body.appendChild(a).click();\n- \t});\n- \t\n- });\n-\tfunction formSubmit() {\n-\t\t\tdocument.getElementById(\"logoutForm\").submit();\n+      a.href = \"/studybuilder/adminDashboard/viewDashBoard.do\";\n+      document.body.appendChild(a).click();\n+    });\n+\n+  });\n+\n+  function formSubmit() {\n+    document.getElementById(\"logoutForm\").submit();\n // \t\tvar a = document.createElement('a');\n // \t\ta.href = \"fdahpStudyDesigner/${logoutUrl}\";\n // \t\tdocument.body.appendChild(a).click();", "originalCommit": "2f4ef7fe34720d3754f9347f815b374666e08d41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkzMzcxMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r435933712", "bodyText": "remove all commented out code", "author": "zohrehj", "createdAt": "2020-06-05T13:49:52Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/header.jsp", "diffHunk": "@@ -1,130 +1,158 @@\n-<%@page import=\"com.fdahpstudydesigner.util.SessionObject\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@page import=\"com.fdahpstudydesigner.util.SessionObject\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\" />\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\"/>\n+\n+\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none white-bg hd_con\">\n-     <div class=\"md-container\">\n-         \n-         <!-- Navigation Menu-->\n-         <nav class=\"navbar navbar-inverse\">\n-          <div class=\"container-fluid p-none\">\n-            <div class=\"navbar-header\">\n-              <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>                        \n-              </button>\n-              <a class=\"navbar-brand pt-none pb-none\" href=\"javascript:void(0)\" id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n-            </div>\n-            <div class=\"collapse navbar-collapse p-none\" id=\"myNavbar\">\n-              <ul class=\"nav navbar-nav\">\n-              <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n-                <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\" >Studies</a></li>\n-              </c:if>\n-                <!-- <li class=\"dropdown\">\n-                  <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n-                  <ul class=\"dropdown-menu\">\n-                    <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n-                    <li><a href=\"javascript:void(0)\">QA content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Resources</a></li>\n-                    <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Legal Text</a></li>\n-                  </ul>\n-                </li> -->\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n-                <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\" id=\"manageNotificationSection\">Notifications</a></li>\n-                </c:if>\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_VIEW')}\">\n-                <li id=\"users\"><a href=\"javascript:void(0)\" id=\"usersSection\">Users</a></li>\n-                </c:if>\n+  <div class=\"md-container\">\n+    <!-- Navigation Menu-->\n+    <nav class=\"navbar navbar-inverse\">\n+      <div class=\" display__flex__center justyfy__space__between \">\n+        <div class=\"navbar-header display__flex__center mr-lg\">\n+          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\"\n+                  data-target=\"#myNavbar\">\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+          </button>\n+          <a class=\"navbar-brand pt-none pb-none display__flex__center p-none pr-lg\"\n+             href=\"javascript:void(0)\"\n+             id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n+          <ul class=\"nav navbar-nav ml-none\">\n+            <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n+              <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\">Studies</a></li>\n+            </c:if>\n+            <!-- <li class=\"dropdown\">\n+              <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n+              <ul class=\"dropdown-menu\">\n+                <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n+                <li><a href=\"javascript:void(0)\">QA content</a></li>\n+                <li><a href=\"javascript:void(0)\">Resources</a></li>\n+                <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n+                <li><a href=\"javascript:void(0)\">Legal Text</a></li>\n               </ul>\n-              \n-              <ul class=\"nav navbar-nav navbar-right\">\n-\t\t        <li id=\"myAccount\" class=\"dropdown ml-lg userLi\">\n-\t\t          <a class=\"dropdown-toggle blue-link\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">${sessionObject.firstName} ${sessionObject.lastName} &nbsp;<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></a>\n-\t\t          <ul class=\"dropdown-menu pb-none pt-none profileBox\">\n-\t\t         \n-\t\t            <li class=\"linkProf\"><a href=\"javascript:void(0)\" class=\"blue-link text-weight-normal text-uppercase\" id=\"profileSection\">My Account</a><hr align=\"left\" width=\"100%\"><a href=\"/studybuilder/sessionOut.do\" class=\"blue-link text-weight-normal text-uppercase\"><span>sign Out</span> <span class=\"ml-xs\"><img src=\"/studybuilder/images/icons/logout.png\"/></span></a></li>\n-\t\t          </ul>\n-\t\t          </li>\n-               </ul>\n-              \n-              \n-               <%-- <ul class=\"nav navbar-nav navbar-right\">\n-\t\t        <li id=\"myAccount\" class=\"dropdown ml-lg userLi\">\n-\t\t          <a class=\"dropdown-toggle blue-link\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">${sessionObject.firstName} ${sessionObject.lastName} &nbsp;<span class=\"caret\"></span></a>\n-\t\t          <ul class=\"dropdown-menu pb-none profileBox\">\n-\t\t         \n-\t\t            <li class=\"linkProf\"><a href=\"javascript:void(0)\" class=\"blue-link text-weight-normal text-uppercase\" id=\"profileSection\">My Account</a><hr align=\"left\" width=\"100%\"><a href=\"javascript:formSubmit();\" class=\"blue-link text-weight-normal text-uppercase\"><span>sign Out</span> <span class=\"ml-xs\"><img src=\"/studybuilder/images/icons/logout.png\"/></span></a></li>\n-\t\t          </ul>\n-\t\t          </li>\n-               </ul> --%>\n-               \n-               \n-              <%-- <ul style=\"float: right;\" class=\"nav navbar-nav\">\n-                <li id=\"myAccount\">\n-                <a href=\"javascript:void(0)\" id=\"profileSection\" class=\"blue-link\">${sessionObject.firstName} ${sessionObject.lastName}&nbsp;&nbsp;<i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></a></li>\n-              </ul> --%>\n-            </div>\n-          </div>\n-        </nav>   \n-         \n-     </div>\n- </div>\n- \n+            </li> -->\n+            <c:if\n+                test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n+              <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\"\n+                                                id=\"manageNotificationSection\">Notifications</a>\n+              </li>\n+            </c:if>\n+            <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_VIEW')}\">\n+              <li id=\"users\"><a href=\"javascript:void(0)\" id=\"usersSection\">Users</a></li>\n+            </c:if>\n+          </ul>\n+        </div>\n+        <div class=\"collapse navbar-collapse p-none\" id=\"myNavbar\">\n+\n+\n+          <ul class=\"nav navbar-nav navbar-right\">\n+            <li id=\"myAccount\" class=\"dropdown ml-lg userLi\">\n+              <a class=\"dropdown-toggle blue-link\" data-toggle=\"dropdown\"\n+                 href=\"javascript:void(0)\">${sessionObject.firstName} ${sessionObject.lastName}\n+                &nbsp;<i\n+                    class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></a>\n+              <ul class=\"dropdown-menu pb-none pt-none profileBox\">\n+\n+                <li class=\"linkProf\"><a href=\"javascript:void(0)\"\n+                                        class=\"blue-link text-weight-normal text-uppercase\"\n+                                        id=\"profileSection\">My Account</a>\n+                  <hr align=\"left\" width=\"100%\">\n+                  <a href=\"/studybuilder/sessionOut.do\"\n+                     class=\"blue-link text-weight-normal text-uppercase\"><span>sign Out</span> <span\n+                      class=\"ml-xs\"><img src=\"/studybuilder/images/icons/logout.png\"/></span></a>\n+                </li>\n+              </ul>\n+            </li>\n+          </ul>\n+\n+\n+          <%-- <ul class=\"nav navbar-nav navbar-right\">", "originalCommit": "2f4ef7fe34720d3754f9347f815b374666e08d41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ebcd1d38c4f2aed4085f454d616a02fe7417aa25", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ebcd1d38c4f2aed4085f454d616a02fe7417aa25", "message": "Merge branch 'early-access' into early-access-studybuilder-jsp-styleguide-changes", "committedDate": "2020-06-08T09:36:38Z", "type": "commit"}, {"oid": "1d36a428e46599afbf125ebe47b1966d07445061", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1d36a428e46599afbf125ebe47b1966d07445061", "message": "commented code removed", "committedDate": "2020-06-08T09:41:41Z", "type": "commit"}, {"oid": "d19200dbcee2a5171d8a6ff1d4c89dcce5774367", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d19200dbcee2a5171d8a6ff1d4c89dcce5774367", "message": "Merge branch 'early-access-studybuilder-jsp-styleguide-changes' of https://github.com/GoogleCloudPlatform/fda-mystudies into early-access-studybuilder-jsp-styleguide-changes", "committedDate": "2020-06-08T09:42:14Z", "type": "commit"}, {"oid": "55b4ccb3ad10523595920bacae70ab49fa942fa4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/55b4ccb3ad10523595920bacae70ab49fa942fa4", "message": "Merge branch 'early-access' into early-access-studybuilder-jsp-styleguide-changes", "committedDate": "2020-06-08T12:02:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc4NTMzMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r436785330", "bodyText": "please remove", "author": "zohrehj", "createdAt": "2020-06-08T15:13:48Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/ApplicationContext.xml", "diffHunk": "@@ -12,54 +14,60 @@\n \thttp://www.springframework.org/schema/task\n \thttp://www.springframework.org/schema/task/spring-task-3.0.xsd\">\n \n-\t<task:annotation-driven />\n-\t<bean id=\"myAppScheduleJobs\" class=\"com.fdahpstudydesigner.scheduler.FDASchedulerService\" />\n-\t\n-\t<bean id=\"restTemplate\"\n-\t\tclass=\"org.springframework.web.client.RestTemplate\">\n-\t</bean>\n+  <task:annotation-driven/>\n+  <bean id=\"myAppScheduleJobs\"\n+    class=\"com.fdahpstudydesigner.scheduler.FDASchedulerService\"/>\n \n-\t<context:component-scan base-package=\"com.fdahpstudydesigner\" />\n-\t<bean id=\"messageSource\"\n-\t\tclass=\"org.springframework.context.support.ResourceBundleMessageSource\">\n-\t\t<property name=\"basename\">\n-\t\t\t<value>messageResource</value>\n-\t\t</property>\n-\t</bean>\n-<!-- \t<util:properties id=\"propertyConfigurer\"\n-\t\tlocation=\"#{contextParameters.property_file_location_config}\" /> -->\n-\t<util:properties id=\"propertyConfigurer\" location=\"classpath:application_local.properties\" \n-\t\t/>\n-\t<!-- <context:property-placeholder\n-\t\tproperties-ref=\"propertyConfigurer\" /> -->\n-\t\t<context:property-placeholder location=\"classpath:application_local.properties\" \n-\t\t/>\n-\t<bean id=\"dataSource\"\n-\t\tclass=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n-\t\t<property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" />\n-\t\t<property name=\"url\" value=\"jdbc:mysql://${db.url}\" />\n-\t\t<property name=\"username\" value=\"${db.username}\" />\n-\t\t<property name=\"password\" value=\"${db.password}\" />\n-\t</bean>\n-\t<bean id=\"mySessionFactory\"\n-\t\tclass=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\">\n-\t\t<property name=\"dataSource\" ref=\"dataSource\" />\n-\t\t<property name=\"packagesToScan\" value=\"com.fdahpstudydesigner.bo\" />\n-\t\t<property name=\"hibernateProperties\">\n-\t\t\t<props>\n-\t\t\t\t<prop key=\"hibernate.dialect\">org.hibernate.dialect.MySQLDialect</prop>\n-\t\t\t\t<prop key=\"hibernate.show_sql\">false</prop>\n-\t\t\t\t<prop key=\"hibernate.hbm2ddl.auto\">update</prop>\n-\t\t\t\t<prop key=\"hibernate.format_sql\">true</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.max_size\">20</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.min_size\">5</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.timeout\">300</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.max_statements\">100</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.idle_test_period\">60</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.acquire_increment\">2</prop>\n-\t\t\t</props>\n-\t\t</property>\n-\t</bean>\n-\t<bean id=\"loginService\" class=\"com.fdahpstudydesigner.service.LoginServiceImpl\">\n-\t</bean>\n+  <bean id=\"restTemplate\"\n+    class=\"org.springframework.web.client.RestTemplate\">\n+  </bean>\n+\n+  <context:component-scan\n+    base-package=\"com.fdahpstudydesigner\"/>\n+  <bean id=\"messageSource\"\n+    class=\"org.springframework.context.support.ResourceBundleMessageSource\">\n+    <property name=\"basename\">\n+      <value>messageResource</value>\n+    </property>\n+  </bean>\n+  <!-- <util:properties id=\"propertyConfigurer\" location=\"#{contextParameters.property_file_location_config}\"\n+      /> -->", "originalCommit": "55b4ccb3ad10523595920bacae70ab49fa942fa4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkzMzAwMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r437933000", "bodyText": "removed", "author": "aswinijena100", "createdAt": "2020-06-10T07:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc4NTMzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc4NjA4Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r436786083", "bodyText": "please remove", "author": "zohrehj", "createdAt": "2020-06-08T15:14:54Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/header.jsp", "diffHunk": "@@ -1,130 +1,158 @@\n-<%@page import=\"com.fdahpstudydesigner.util.SessionObject\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@page import=\"com.fdahpstudydesigner.util.SessionObject\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\" />\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\"/>\n+\n+\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none white-bg hd_con\">\n-     <div class=\"md-container\">\n-         \n-         <!-- Navigation Menu-->\n-         <nav class=\"navbar navbar-inverse\">\n-          <div class=\"container-fluid p-none\">\n-            <div class=\"navbar-header\">\n-              <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>                        \n-              </button>\n-              <a class=\"navbar-brand pt-none pb-none\" href=\"javascript:void(0)\" id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n-            </div>\n-            <div class=\"collapse navbar-collapse p-none\" id=\"myNavbar\">\n-              <ul class=\"nav navbar-nav\">\n-              <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n-                <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\" >Studies</a></li>\n-              </c:if>\n-                <!-- <li class=\"dropdown\">\n-                  <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n-                  <ul class=\"dropdown-menu\">\n-                    <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n-                    <li><a href=\"javascript:void(0)\">QA content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Resources</a></li>\n-                    <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Legal Text</a></li>\n-                  </ul>\n-                </li> -->\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n-                <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\" id=\"manageNotificationSection\">Notifications</a></li>\n-                </c:if>\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_VIEW')}\">\n-                <li id=\"users\"><a href=\"javascript:void(0)\" id=\"usersSection\">Users</a></li>\n-                </c:if>\n+  <div class=\"md-container\">\n+    <!-- Navigation Menu-->\n+    <nav class=\"navbar navbar-inverse\">\n+      <div class=\" display__flex__center justyfy__space__between \">\n+        <div class=\"navbar-header display__flex__center mr-lg\">\n+          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\"\n+                  data-target=\"#myNavbar\">\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+          </button>\n+          <a class=\"navbar-brand pt-none pb-none display__flex__center p-none pr-lg\"\n+             href=\"javascript:void(0)\"\n+             id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n+          <ul class=\"nav navbar-nav ml-none\">\n+            <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n+              <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\">Studies</a></li>\n+            </c:if>\n+            <!-- <li class=\"dropdown\">\n+              <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n+              <ul class=\"dropdown-menu\">\n+                <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n+                <li><a href=\"javascript:void(0)\">QA content</a></li>\n+                <li><a href=\"javascript:void(0)\">Resources</a></li>\n+                <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n+                <li><a href=\"javascript:void(0)\">Legal Text</a></li>", "originalCommit": "55b4ccb3ad10523595920bacae70ab49fa942fa4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkzMzA2NA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r437933064", "bodyText": "removed", "author": "aswinijena100", "createdAt": "2020-06-10T07:58:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc4NjA4Mw=="}], "type": "inlineReview"}, {"oid": "14b2d3c298f84ce0b544028593937f8e048d57fa", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/14b2d3c298f84ce0b544028593937f8e048d57fa", "message": "removed commented code from pending files", "committedDate": "2020-06-10T07:57:11Z", "type": "commit"}, {"oid": "2004ded2c30069ca2ca60b21c739df200b755d75", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2004ded2c30069ca2ca60b21c739df200b755d75", "message": "Merge branch 'early-access' into early-access-studybuilder-jsp-styleguide-changes", "committedDate": "2020-06-10T07:58:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1NTY0NQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438155645", "bodyText": "these prop value have been flipped, that should be out of the scope of this change.", "author": "zohrehj", "createdAt": "2020-06-10T14:14:55Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/ApplicationContext.xml", "diffHunk": "@@ -12,54 +14,56 @@\n \thttp://www.springframework.org/schema/task\n \thttp://www.springframework.org/schema/task/spring-task-3.0.xsd\">\n \n-\t<task:annotation-driven />\n-\t<bean id=\"myAppScheduleJobs\" class=\"com.fdahpstudydesigner.scheduler.FDASchedulerService\" />\n-\t\n-\t<bean id=\"restTemplate\"\n-\t\tclass=\"org.springframework.web.client.RestTemplate\">\n-\t</bean>\n+  <task:annotation-driven/>\n+  <bean id=\"myAppScheduleJobs\"\n+    class=\"com.fdahpstudydesigner.scheduler.FDASchedulerService\"/>\n \n-\t<context:component-scan base-package=\"com.fdahpstudydesigner\" />\n-\t<bean id=\"messageSource\"\n-\t\tclass=\"org.springframework.context.support.ResourceBundleMessageSource\">\n-\t\t<property name=\"basename\">\n-\t\t\t<value>messageResource</value>\n-\t\t</property>\n-\t</bean>\n-<!-- \t<util:properties id=\"propertyConfigurer\"\n-\t\tlocation=\"#{contextParameters.property_file_location_config}\" /> -->\n-\t<util:properties id=\"propertyConfigurer\" location=\"classpath:application_local.properties\" \n-\t\t/>\n-\t<!-- <context:property-placeholder\n-\t\tproperties-ref=\"propertyConfigurer\" /> -->\n-\t\t<context:property-placeholder location=\"classpath:application_local.properties\" \n-\t\t/>\n-\t<bean id=\"dataSource\"\n-\t\tclass=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n-\t\t<property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" />\n-\t\t<property name=\"url\" value=\"jdbc:mysql://${db.url}\" />\n-\t\t<property name=\"username\" value=\"${db.username}\" />\n-\t\t<property name=\"password\" value=\"${db.password}\" />\n-\t</bean>\n-\t<bean id=\"mySessionFactory\"\n-\t\tclass=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\">\n-\t\t<property name=\"dataSource\" ref=\"dataSource\" />\n-\t\t<property name=\"packagesToScan\" value=\"com.fdahpstudydesigner.bo\" />\n-\t\t<property name=\"hibernateProperties\">\n-\t\t\t<props>\n-\t\t\t\t<prop key=\"hibernate.dialect\">org.hibernate.dialect.MySQLDialect</prop>\n-\t\t\t\t<prop key=\"hibernate.show_sql\">false</prop>\n-\t\t\t\t<prop key=\"hibernate.hbm2ddl.auto\">update</prop>\n-\t\t\t\t<prop key=\"hibernate.format_sql\">true</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.max_size\">20</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.min_size\">5</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.timeout\">300</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.max_statements\">100</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.idle_test_period\">60</prop>\n-\t\t\t\t<prop key=\"hibernate.c3p0.acquire_increment\">2</prop>\n-\t\t\t</props>\n-\t\t</property>\n-\t</bean>\n-\t<bean id=\"loginService\" class=\"com.fdahpstudydesigner.service.LoginServiceImpl\">\n-\t</bean>\n+  <bean id=\"restTemplate\"\n+    class=\"org.springframework.web.client.RestTemplate\">\n+  </bean>\n+\n+  <context:component-scan\n+    base-package=\"com.fdahpstudydesigner\"/>\n+  <bean id=\"messageSource\"\n+    class=\"org.springframework.context.support.ResourceBundleMessageSource\">\n+    <property name=\"basename\">\n+      <value>messageResource</value>\n+    </property>\n+  </bean>\n+  <util:properties id=\"propertyConfigurer\"\n+    location=\"classpath:application_local.properties\"/>\n+  <context:property-placeholder\n+    location=\"classpath:application_local.properties\"/>\n+  <bean id=\"dataSource\"\n+    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\">\n+    <property name=\"driverClassName\"\n+      value=\"com.mysql.cj.jdbc.Driver\"/>\n+    <property name=\"url\" value=\"jdbc:mysql://${db.url}\"/>\n+    <property name=\"username\" value=\"${db.username}\"/>\n+    <property name=\"password\" value=\"${db.password}\"/>\n+  </bean>\n+  <bean id=\"mySessionFactory\"\n+    class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\">\n+    <property name=\"dataSource\" ref=\"dataSource\"/>\n+    <property name=\"packagesToScan\"\n+      value=\"com.fdahpstudydesigner.bo\"/>\n+    <property name=\"hibernateProperties\">\n+      <props>\n+\n+        <prop key=\"hibernate.dialect\">org.hibernate.dialect.MySQLDialect</prop>\n+        <prop key=\"hibernate.show_sql\">true</prop>\n+        <prop key=\"hibernate.hbm2ddl.auto\">update</prop>\n+        <prop key=\"hibernate.format_sql\">false</prop>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1NjY4OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438156689", "bodyText": "nit: maybe put <a> tag on a new line?", "author": "zohrehj", "createdAt": "2020-06-10T14:16:15Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/header.jsp", "diffHunk": "@@ -1,130 +1,123 @@\n-<%@page import=\"com.fdahpstudydesigner.util.SessionObject\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@page import=\"com.fdahpstudydesigner.util.SessionObject\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\" />\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\"/>\n+\n+\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none white-bg hd_con\">\n-     <div class=\"md-container\">\n-         \n-         <!-- Navigation Menu-->\n-         <nav class=\"navbar navbar-inverse\">\n-          <div class=\"container-fluid p-none\">\n-            <div class=\"navbar-header\">\n-              <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>                        \n-              </button>\n-              <a class=\"navbar-brand pt-none pb-none\" href=\"javascript:void(0)\" id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n-            </div>\n-            <div class=\"collapse navbar-collapse p-none\" id=\"myNavbar\">\n-              <ul class=\"nav navbar-nav\">\n-              <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n-                <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\" >Studies</a></li>\n-              </c:if>\n-                <!-- <li class=\"dropdown\">\n-                  <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n-                  <ul class=\"dropdown-menu\">\n-                    <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n-                    <li><a href=\"javascript:void(0)\">QA content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Resources</a></li>\n-                    <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Legal Text</a></li>\n-                  </ul>\n-                </li> -->\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n-                <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\" id=\"manageNotificationSection\">Notifications</a></li>\n-                </c:if>\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_VIEW')}\">\n-                <li id=\"users\"><a href=\"javascript:void(0)\" id=\"usersSection\">Users</a></li>\n-                </c:if>\n+  <div class=\"md-container\">\n+    <!-- Navigation Menu-->\n+    <nav class=\"navbar navbar-inverse\">\n+      <div class=\" display__flex__center justyfy__space__between \">\n+        <div class=\"navbar-header display__flex__center mr-lg\">\n+          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\"\n+                  data-target=\"#myNavbar\">\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+          </button>\n+          <a class=\"navbar-brand pt-none pb-none display__flex__center p-none pr-lg\"\n+             href=\"javascript:void(0)\"\n+             id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n+          <ul class=\"nav navbar-nav ml-none\">\n+            <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n+              <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\">Studies</a></li>\n+            </c:if>\n+            <c:if\n+                test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n+              <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\"\n+                                                id=\"manageNotificationSection\">Notifications</a>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1NzM0OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438157348", "bodyText": "nit: can test=... be moved to new line?", "author": "zohrehj", "createdAt": "2020-06-10T14:17:04Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/header.jsp", "diffHunk": "@@ -1,130 +1,123 @@\n-<%@page import=\"com.fdahpstudydesigner.util.SessionObject\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@page import=\"com.fdahpstudydesigner.util.SessionObject\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\" />\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<c:url value=\"/j_spring_security_logout\" var=\"logoutUrl\"/>\n+\n+\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none white-bg hd_con\">\n-     <div class=\"md-container\">\n-         \n-         <!-- Navigation Menu-->\n-         <nav class=\"navbar navbar-inverse\">\n-          <div class=\"container-fluid p-none\">\n-            <div class=\"navbar-header\">\n-              <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>\n-                <span class=\"icon-bar\"></span>                        \n-              </button>\n-              <a class=\"navbar-brand pt-none pb-none\" href=\"javascript:void(0)\" id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n-            </div>\n-            <div class=\"collapse navbar-collapse p-none\" id=\"myNavbar\">\n-              <ul class=\"nav navbar-nav\">\n-              <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n-                <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\" >Studies</a></li>\n-              </c:if>\n-                <!-- <li class=\"dropdown\">\n-                  <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"javascript:void(0)\">repository <span><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></span></a>\n-                  <ul class=\"dropdown-menu\">\n-                    <li><a href=\"javascript:void(0)\">Reference Tables</a></li>\n-                    <li><a href=\"javascript:void(0)\">QA content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Resources</a></li>\n-                    <li><a href=\"javascript:void(0)\">Gateway app level content</a></li>\n-                    <li><a href=\"javascript:void(0)\">Legal Text</a></li>\n-                  </ul>\n-                </li> -->\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">\n-                <li id=\"notification\" class=\"\"><a href=\"javascript:void(0)\" id=\"manageNotificationSection\">Notifications</a></li>\n-                </c:if>\n-                <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_USERS_VIEW')}\">\n-                <li id=\"users\"><a href=\"javascript:void(0)\" id=\"usersSection\">Users</a></li>\n-                </c:if>\n+  <div class=\"md-container\">\n+    <!-- Navigation Menu-->\n+    <nav class=\"navbar navbar-inverse\">\n+      <div class=\" display__flex__center justyfy__space__between \">\n+        <div class=\"navbar-header display__flex__center mr-lg\">\n+          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\"\n+                  data-target=\"#myNavbar\">\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+            <span class=\"icon-bar\"></span>\n+          </button>\n+          <a class=\"navbar-brand pt-none pb-none display__flex__center p-none pr-lg\"\n+             href=\"javascript:void(0)\"\n+             id=\"landingScreen\"><img src=\"/studybuilder/images/logo/logo_innerScreens.png\"/></a>\n+          <ul class=\"nav navbar-nav ml-none\">\n+            <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_STUDIES')}\">\n+              <li class=\"studyClass\"><a href=\"javascript:void(0)\" id=\"studySection\">Studies</a></li>\n+            </c:if>\n+            <c:if\n+                test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_VIEW')}\">", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1Nzk4OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438157988", "bodyText": "nit: move <i> to new line", "author": "zohrehj", "createdAt": "2020-06-10T14:17:55Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/layout.jsp", "diffHunk": "@@ -1,208 +1,192 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\"%>\n-<%@ taglib uri=\"http://tiles.apache.org/tags-tiles\" prefix=\"tiles\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\" pageEncoding=\"UTF-8\" %>\n+<%@ taglib uri=\"http://tiles.apache.org/tags-tiles\" prefix=\"tiles\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n <!DOCTYPE html>\n <html lang=\"en\">\n <head>\n-<!-- Basic -->\n-    <meta charset=\"utf-8\">\n-    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n-            \n-    <title>Study Builder</title>\t\n-    \n-    <meta name=\"description\" content=\"\">\n-    <meta name=\"keywords\" content=\"\">\n-    <meta name=\"author\" content=\"\">\n-\n-    <!-- Favicon -->\n-    <link rel=\"shortcut icon\" href=\"/studybuilder/images/icons/FAV_Icon.png\" type=\"image/x-icon\" />\n-    <link rel=\"apple-touch-icon\" href=\"/studybuilder/images/icons/FAV_Icon.png\">\n-        \n-    <!-- Mobile Metas -->\n-    <meta name=\"viewport\" content=\"width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n-        \n-    <!-- Web Fonts  -->\n-   <link href=\"https://fonts.googleapis.com/css?family=Roboto:300,400\" rel=\"stylesheet\">\n-        \n-    <!-- Vendor CSS -->\n-    \n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/boostrap/bootstrap.min.css\">    \n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datetimepicker/css/bootstrap-timepicker.min.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/scrollbar/jquery.mCustomScrollbar.min.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datetimepicker/css/bootstrap-datetimepicker.min.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datatable/css/dataTables.bootstrap.min.css\">\n-    \n-     <!-- Your custom styles (optional) -->\n-    <link href=\"/studybuilder/css/loader.css\" rel=\"stylesheet\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datatable/css/jquery.dataTables.min.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datatable/css/rowReorder.dataTables.min.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/dragula/dragula.min.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/magnific-popup/magnific-popup.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/font-awesome/font-awesome.min.css\"> \n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/select2/bootstrap-select.min.css\">      \n-    <link rel=\"stylesheet\" href=\"/studybuilder/vendor/animation/animate.css\">\n-        \n-    <!-- Theme Responsive CSS -->\n-    <link rel=\"stylesheet\" href=\"/studybuilder/css/layout.css\">   \n-        \n-    <!-- Theme CSS -->\n-    <link rel=\"stylesheet\" href=\"/studybuilder/css/theme.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/css/style.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/css/sprites_icon.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/css/sprites-icons-2.css\"> \n-    <link rel=\"stylesheet\" href=\"/studybuilder/css/sprites_v3.css\">\n-    <link rel=\"stylesheet\" href=\"/studybuilder/css/jquery-password-validator.css\">\n-    \n-     <!-- Summer Note CSS -->\n-     <link rel=\"stylesheet\" href=\"/studybuilder/vendor/summernote/summernote-bs4.min.css\"> \n-     \n-        \n-    <!-- Head Libs -->\n-    <script src=\"/studybuilder/vendor/modernizr/modernizr.js\"></script>\n-    \n-    \n-    <!-- Vendor -->\n-    \n-    <script src=\"/studybuilder/vendor/jquery/jquery-3.1.1.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/summernote/popper.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/boostrap/bootstrap.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/summernote/summernote.min.js\"></script>\n-\n-    <script src=\"/studybuilder/vendor/scrollbar/jquery.mCustomScrollbar.concat.min.js\"></script>\n-     <script src=\"/studybuilder/vendor/datetimepicker/js/moment.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/datetimepicker/js/bootstrap-timepicker.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/datetimepicker/js/bootstrap-datetimepicker.min.js\"></script>\n-    <script src=\"/studybuilder/js/validator.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/animation/wow.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/datatable/js/jquery.dataTables.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/datatable/js/dataTables.rowReorder.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/dragula/react-dragula.min.js\"></script>\n-    <script src=\"/studybuilder/vendor/magnific-popup/jquery.magnific-popup.min.js\"></script>    \n-\t<!-- <script src=\"/studybuilder/vendor/slimscroll/jquery.slimscroll.min.js\"></script> -->\n-    <script src=\"/studybuilder/vendor/select2/bootstrap-select.min.js\"></script>\n-    \n-    <script src=\"/studybuilder/js/jquery.password-validator.js\"></script>\n-    \n-    <script src=\"/studybuilder/js/underscore-min.js\"></script>\n-    <script src=\"/studybuilder/js/ajaxRequestInterceptor.js\"></script>\n-    <script type=\"text/javascript\" src=\"/studybuilder/js/loader.js\"></script>\n-    <script>\n-//       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n-//       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n-//       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n-//       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n-\n-//       ga('create', 'UA-71064806-1', 'auto');\n-//       ga('send', 'pageview');\n-      $(window).on('keydown keypress mousedown',function(event){\n-    \t\t event = (event || window.event);\n-    \t   if(event.keyCode == 13) {\n-    \t\t   if(!(event.target.nodeName == 'TEXTAREA')){\n-    \t\t\t  (event).preventDefault(); // Disable the \" Entry \" key\n-    \t\t      return false;\n-    \t\t   }\n-    \t\t   return true;\n-    \t   }\n-   \t });\n-    </script>\n-        \n+  <!-- Basic -->\n+  <meta charset=\"utf-8\">\n+  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n+\n+  <title>Study Builder</title>\n+\n+  <meta name=\"description\" content=\"\">\n+  <meta name=\"keywords\" content=\"\">\n+  <meta name=\"author\" content=\"\">\n+\n+  <!-- Favicon -->\n+  <link rel=\"shortcut icon\" href=\"/studybuilder/images/icons/FAV_Icon.png\" type=\"image/x-icon\"/>\n+  <link rel=\"apple-touch-icon\" href=\"/studybuilder/images/icons/FAV_Icon.png\">\n+\n+  <!-- Mobile Metas -->\n+  <meta name=\"viewport\"\n+        content=\"width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n+\n+  <!-- Web Fonts  -->\n+  <link href=\"https://fonts.googleapis.com/css?family=Roboto:300,400\" rel=\"stylesheet\">\n+\n+  <!-- Vendor CSS -->\n+\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/boostrap/bootstrap.min.css\">\n+  <link rel=\"stylesheet\"\n+        href=\"/studybuilder/vendor/datetimepicker/css/bootstrap-timepicker.min.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/scrollbar/jquery.mCustomScrollbar.min.css\">\n+  <link rel=\"stylesheet\"\n+        href=\"/studybuilder/vendor/datetimepicker/css/bootstrap-datetimepicker.min.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datatable/css/dataTables.bootstrap.min.css\">\n+\n+  <!-- Your custom styles (optional) -->\n+  <link href=\"/studybuilder/css/loader.css\" rel=\"stylesheet\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datatable/css/jquery.dataTables.min.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/datatable/css/rowReorder.dataTables.min.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/dragula/dragula.min.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/magnific-popup/magnific-popup.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/font-awesome/font-awesome.min.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/select2/bootstrap-select.min.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/animation/animate.css\">\n+\n+  <!-- Theme Responsive CSS -->\n+  <link rel=\"stylesheet\" href=\"/studybuilder/css/layout.css\">\n+\n+  <!-- Theme CSS -->\n+  <link rel=\"stylesheet\" href=\"/studybuilder/css/theme.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/css/style.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/css/sprites_icon.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/css/sprites-icons-2.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/css/sprites_v3.css\">\n+  <link rel=\"stylesheet\" href=\"/studybuilder/css/jquery-password-validator.css\">\n+\n+  <!-- Summer Note CSS -->\n+  <link rel=\"stylesheet\" href=\"/studybuilder/vendor/summernote/summernote-bs4.min.css\">\n+\n+\n+  <!-- Head Libs -->\n+  <script src=\"/studybuilder/vendor/modernizr/modernizr.js\"></script>\n+\n+\n+  <!-- Vendor -->\n+\n+  <script src=\"/studybuilder/vendor/jquery/jquery-3.1.1.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/summernote/popper.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/boostrap/bootstrap.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/summernote/summernote.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/scrollbar/jquery.mCustomScrollbar.concat.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/datetimepicker/js/moment.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/datetimepicker/js/bootstrap-timepicker.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/datetimepicker/js/bootstrap-datetimepicker.min.js\"></script>\n+  <script src=\"/studybuilder/js/validator.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/animation/wow.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/datatable/js/jquery.dataTables.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/datatable/js/dataTables.rowReorder.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/dragula/react-dragula.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/magnific-popup/jquery.magnific-popup.min.js\"></script>\n+  <script src=\"/studybuilder/vendor/select2/bootstrap-select.min.js\"></script>\n+  <script src=\"/studybuilder/js/jquery.password-validator.js\"></script>\n+  <script src=\"/studybuilder/js/underscore-min.js\"></script>\n+  <script src=\"/studybuilder/js/ajaxRequestInterceptor.js\"></script>\n+  <script type=\"text/javascript\" src=\"/studybuilder/js/loader.js\"></script>\n+  <script>\n+    $(window).on('keydown keypress mousedown', function (event) {\n+      event = (event || window.event);\n+      if (event.keyCode == 13) {\n+        if (!(event.target.nodeName == 'TEXTAREA')) {\n+          (event).preventDefault(); // Disable the \" Entry \" key\n+          return false;\n+        }\n+        return true;\n+      }\n+    });\n+  </script>\n+\n </head>\n <body class=\"loading\" onload=\"noBack();\" onpageshow=\"if (event.persisted) noBack();\" onunload=\"\">\n <div id=\"loader\"><span></span></div>\n-\t\t\t<tiles:insertAttribute name=\"header\" />\n- \t\t\t<tiles:insertAttribute name=\"subheader\" /> \n-\t\t\t\t\t\t \t\n-\t\t\t<!-- content start  -->\n- \t\t\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n- \t\t\t    <div class=\"md-container white-bg \"> \t\t\t    \t\n- \t\t\t    \t<div class=\"row\" id=\"rowId\">\n-\t\t\t\t\t    <tiles:insertAttribute name=\"menu\" />\n-\t\t\t\t\t    <tiles:insertAttribute name=\"body\" />\n-\t\t\t\t    </div>\n- \t\t\t    </div>\n-\t\t\t</div>  \n-\t\t\t \t\n-\t\t\t<!-- /End content   -->\n-\t\t\t<tiles:insertAttribute name=\"footer\" />\n-\t\t<input type=\"hidden\" id=\"csrfDet\" csrfParamName=\"${_csrf.parameterName}\" csrfToken=\"${_csrf.token}\" />\n-\t\t\n-\t<!-- Return to Top -->\n-\t<a href=\"javascript:void(0)\" id=\"return-to-top\"><i class=\"fa fa-angle-up\" aria-hidden=\"true\"></i></a>\n-\t\n-\t<!-- Theme Custom JS-->\n-    <script src=\"/studybuilder/js/theme.js\"></script>\n-    <script src=\"/studybuilder/js/jquery.mask.min.js\"></script>\n-    <script src=\"/studybuilder/js/jquery-scrollto.js\" ></script>\n-    <script src=\"/studybuilder/js/jquery.nicescroll.min.js\"></script>\n-    <script src=\"/studybuilder/js/bootbox.min.js\"></script>\n-    \n-    \n-    <script src=\"/studybuilder/js/common.js\"></script>\n-    \n- \n-    \n-    <script>\n+<tiles:insertAttribute name=\"header\"/>\n+<tiles:insertAttribute name=\"subheader\"/>\n+\n+<!-- content start  -->\n+<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+  <div class=\"md-container white-bg \">\n+    <div class=\"row\" id=\"rowId\">\n+      <tiles:insertAttribute name=\"menu\"/>\n+      <tiles:insertAttribute name=\"body\"/>\n+    </div>\n+  </div>\n+</div>\n+\n+<!-- /End content   -->\n+<tiles:insertAttribute name=\"footer\"/>\n+<input type=\"hidden\" id=\"csrfDet\" csrfParamName=\"${_csrf.parameterName}\"\n+       csrfToken=\"${_csrf.token}\"/>\n+\n+<!-- Return to Top -->\n+<a href=\"javascript:void(0)\" id=\"return-to-top\"><i class=\"fa fa-angle-up\"", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1OTMxOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438159319", "bodyText": "indentation is too large, should be two spaces.", "author": "zohrehj", "createdAt": "2020-06-10T14:19:39Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/fdaAdminDashBoardPage.jsp", "diffHunk": "@@ -116,9 +120,13 @@\n       </div>\n     </div>\n     <div class=\"footer\">\n-      <span>Copyright Placeholder</span><span><a href=\"/studybuilder/terms.do\" id=\"\"\n-                                                 target=\"_blank\">Terms</a></span><span><a\n-            href=\"/studybuilder/privacyPolicy.do\" id=\"\" target=\"_blank\">Privacy Policy</a></span>\n+      <span>Copyright Placeholder</span>\n+      <span>\n+      \t<a href=\"/studybuilder/terms.do\" id=\"\" target=\"_blank\">Terms</a>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE1OTkzOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438159939", "bodyText": "nit: move small and span to new line", "author": "zohrehj", "createdAt": "2020-06-10T14:20:27Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/myAccount.jsp", "diffHunk": "@@ -1,357 +1,401 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@page import=\"com.fdahpstudydesigner.util.SessionObject\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@page import=\"com.fdahpstudydesigner.util.SessionObject\" %>\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-md\">\n-         <!-- widgets section-->\n-         <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-            <div class=\"black-lg-f\">\n-              My Account <c:if test=\"${accountManager eq 'Yes'}\"><span class=\"gray-xs-f ml-xlg\">Account Manager</span></c:if>\n-            </div>\n-         </div>   \n-    \n-    <div  class=\"clearfix\"></div>\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n+      My Account <c:if test=\"${accountManager eq 'Yes'}\"><span\n+        class=\"gray-xs-f ml-xlg\">Account Manager</span></c:if>\n+    </div>\n+  </div>\n+\n+  <div class=\"clearfix\"></div>\n </div>\n-   <form:form action=\"/studybuilder/adminDashboard/updateUserDetails.do?${_csrf.parameterName}=${_csrf.token}\" id=\"userDetailsForm\" \n-         \t\t\tname=\"userDetailsForm\" role=\"form\" data-toggle=\"validator\" method=\"post\" autocomplete=\"off\">\n-<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-lg\">\n-     <div class=\"white-bg box-space\">\n-         <div class=\"b-bor\">\n-              <div class=\"ed-user-layout row\">               \n-                    <div class=\"col-md-4 p-none\">\n-                       <div class=\"gray-xs-f line34\">First Name <small>(50 characters max)</small><span class=\"requiredStar\"> *</span></div>\n-                    </div>\n-                    <div class=\"col-md-6 p-none\">\n-                        <div class=\"form-group cursAllow\">\n-                            <input type=\"text\" class=\"form-control edit-field bor-trans resetVal linkDis\" name=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\" oldVal=\"${fn:escapeXml(userBO.firstName)}\" \n-                            maxlength=\"50\" required readonly/>\n-                        \t<div class=\"help-block with-errors red-txt\"></div>\n-                        </div>\n-                    </div>                \n-             </div>\n+<form:form\n+    action=\"/studybuilder/adminDashboard/updateUserDetails.do?${_csrf.parameterName}=${_csrf.token}\"\n+    id=\"userDetailsForm\"\n+    name=\"userDetailsForm\" role=\"form\" data-toggle=\"validator\" method=\"post\" autocomplete=\"off\">\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-lg\">\n+    <div class=\"white-bg box-space\">\n+      <div class=\"b-bor\">\n+        <div class=\"ed-user-layout row\">\n+          <div class=\"col-md-4 p-none\">\n+            <div class=\"gray-xs-f line34\">First Name <small>(50 characters max)</small><span", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2MDMyNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438160326", "bodyText": "nit: same here. moving span and small to new line", "author": "zohrehj", "createdAt": "2020-06-10T14:20:55Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/myAccount.jsp", "diffHunk": "@@ -1,357 +1,401 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@page import=\"com.fdahpstudydesigner.util.SessionObject\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@page import=\"com.fdahpstudydesigner.util.SessionObject\" %>\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-md\">\n-         <!-- widgets section-->\n-         <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-            <div class=\"black-lg-f\">\n-              My Account <c:if test=\"${accountManager eq 'Yes'}\"><span class=\"gray-xs-f ml-xlg\">Account Manager</span></c:if>\n-            </div>\n-         </div>   \n-    \n-    <div  class=\"clearfix\"></div>\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n+      My Account <c:if test=\"${accountManager eq 'Yes'}\"><span\n+        class=\"gray-xs-f ml-xlg\">Account Manager</span></c:if>\n+    </div>\n+  </div>\n+\n+  <div class=\"clearfix\"></div>\n </div>\n-   <form:form action=\"/studybuilder/adminDashboard/updateUserDetails.do?${_csrf.parameterName}=${_csrf.token}\" id=\"userDetailsForm\" \n-         \t\t\tname=\"userDetailsForm\" role=\"form\" data-toggle=\"validator\" method=\"post\" autocomplete=\"off\">\n-<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-lg\">\n-     <div class=\"white-bg box-space\">\n-         <div class=\"b-bor\">\n-              <div class=\"ed-user-layout row\">               \n-                    <div class=\"col-md-4 p-none\">\n-                       <div class=\"gray-xs-f line34\">First Name <small>(50 characters max)</small><span class=\"requiredStar\"> *</span></div>\n-                    </div>\n-                    <div class=\"col-md-6 p-none\">\n-                        <div class=\"form-group cursAllow\">\n-                            <input type=\"text\" class=\"form-control edit-field bor-trans resetVal linkDis\" name=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\" oldVal=\"${fn:escapeXml(userBO.firstName)}\" \n-                            maxlength=\"50\" required readonly/>\n-                        \t<div class=\"help-block with-errors red-txt\"></div>\n-                        </div>\n-                    </div>                \n-             </div>\n+<form:form\n+    action=\"/studybuilder/adminDashboard/updateUserDetails.do?${_csrf.parameterName}=${_csrf.token}\"\n+    id=\"userDetailsForm\"\n+    name=\"userDetailsForm\" role=\"form\" data-toggle=\"validator\" method=\"post\" autocomplete=\"off\">\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-lg\">\n+    <div class=\"white-bg box-space\">\n+      <div class=\"b-bor\">\n+        <div class=\"ed-user-layout row\">\n+          <div class=\"col-md-4 p-none\">\n+            <div class=\"gray-xs-f line34\">First Name <small>(50 characters max)</small><span\n+                class=\"requiredStar\"> *</span></div>\n+          </div>\n+          <div class=\"col-md-6 p-none\">\n+            <div class=\"form-group cursAllow\">\n+              <input type=\"text\" class=\"form-control edit-field bor-trans resetVal linkDis\"\n+                     name=\"firstName\" value=\"${fn:escapeXml(userBO.firstName)}\"\n+                     oldVal=\"${fn:escapeXml(userBO.firstName)}\"\n+                     maxlength=\"50\" required readonly/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+            </div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"b-bor mt-md\">\n+        <div class=\"ed-user-layout row\">\n+          <div class=\"col-md-4 p-none\">\n+            <div class=\"gray-xs-f line34\">Last Name <small>(50 characters max)</small><span", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2MjEwMQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438162101", "bodyText": "indentation is incorrect! span is too deeply nested, it should be only two space deeper than div", "author": "zohrehj", "createdAt": "2020-06-10T14:23:09Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/notification/createOrUpdateNotification.jsp", "diffHunk": "@@ -1,373 +1,410 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t   <div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t     <span class=\"mr-xs\"><a href=\"javascript:void(0)\" class=\"backOrCancelBtnOfNotification\">\n-\t     <img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span> \n-\t     <c:if test=\"${notificationBO.actionPage eq 'addOrCopy' || notificationBO eq null}\">Create Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n-\t   </div>\n-\t</div>         \n-</div> \n-<form:form action=\"/studybuilder/adminNotificationEdit/saveOrUpdateNotification.do?${_csrf.parameterName}=${_csrf.token}\" \n-     data-toggle=\"validator\" role=\"form\" id=\"appNotificationFormId\"  method=\"post\" autocomplete=\"off\">       \n-     <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n-     <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n- \n-\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t    <div class=\"col-md-12 p-none\">\n-\t        <div class=\"box-space white-bg\">\n-\t            \n-\t            <!-- form- input-->\n-\t            <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit'}\">\n-\t\t\t       <div>\n-\t\t\t       \t\t<span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n-\t\t\t       </div>\n-       \t\t\t</c:if>\n-\t            <div class=\"pl-none\">\n-\t                <div class=\"gray-xs-f mb-xs mt-xs\">Notification Text (250 characters max) <span class=\"requiredStar\">*</span></div>\n-\t                 <div class=\"form-group\">\n-\t                    <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\" id=\"notificationText\" name=\"notificationText\" required\n-\t                    >${notificationBO.notificationText}</textarea>\n-\t                    <div class=\"help-block with-errors red-txt\"></div>\n-\t                </div>\n-\t            </div>\n-\t            \n-\t            <div class=\"mt-xlg mb-lg\">\n-\t             <div class=\"form-group\">\n+\t     <img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+      <c:if\n+          test=\"${notificationBO.actionPage eq 'addOrCopy' || notificationBO eq null}\">Create Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n+    </div>\n+  </div>\n+</div>\n+<form:form\n+    action=\"/studybuilder/adminNotificationEdit/saveOrUpdateNotification.do?${_csrf.parameterName}=${_csrf.token}\"\n+    data-toggle=\"validator\" role=\"form\" id=\"appNotificationFormId\" method=\"post\" autocomplete=\"off\">\n+  <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n+  <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n+\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"col-md-12 p-none\">\n+      <div class=\"box-space white-bg\">\n+\n+        <!-- form- input-->\n+        <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit'}\">\n+          <div>\n+            <span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n+          </div>\n+        </c:if>\n+        <div class=\"pl-none\">\n+          <div class=\"gray-xs-f mb-xs mt-xs\">Notification Text (250 characters max) <span\n+              class=\"requiredStar\">*</span></div>\n+          <div class=\"form-group\">\n+\t                    <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\"\n+                                id=\"notificationText\" name=\"notificationText\" required\n+                      >${notificationBO.notificationText}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+\n+        <div class=\"mt-xlg mb-lg\">\n+          <div class=\"form-group\">\n \t\t                <span class=\"radio radio-info radio-inline p-45\">", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2MjM1Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438162356", "bodyText": "indentation is incorrect, textarea is too deeply nested", "author": "zohrehj", "createdAt": "2020-06-10T14:23:30Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/notification/createOrUpdateNotification.jsp", "diffHunk": "@@ -1,373 +1,410 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t   <div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t     <span class=\"mr-xs\"><a href=\"javascript:void(0)\" class=\"backOrCancelBtnOfNotification\">\n-\t     <img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span> \n-\t     <c:if test=\"${notificationBO.actionPage eq 'addOrCopy' || notificationBO eq null}\">Create Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n-\t   </div>\n-\t</div>         \n-</div> \n-<form:form action=\"/studybuilder/adminNotificationEdit/saveOrUpdateNotification.do?${_csrf.parameterName}=${_csrf.token}\" \n-     data-toggle=\"validator\" role=\"form\" id=\"appNotificationFormId\"  method=\"post\" autocomplete=\"off\">       \n-     <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n-     <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n- \n-\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t    <div class=\"col-md-12 p-none\">\n-\t        <div class=\"box-space white-bg\">\n-\t            \n-\t            <!-- form- input-->\n-\t            <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit'}\">\n-\t\t\t       <div>\n-\t\t\t       \t\t<span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n-\t\t\t       </div>\n-       \t\t\t</c:if>\n-\t            <div class=\"pl-none\">\n-\t                <div class=\"gray-xs-f mb-xs mt-xs\">Notification Text (250 characters max) <span class=\"requiredStar\">*</span></div>\n-\t                 <div class=\"form-group\">\n-\t                    <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\" id=\"notificationText\" name=\"notificationText\" required\n-\t                    >${notificationBO.notificationText}</textarea>\n-\t                    <div class=\"help-block with-errors red-txt\"></div>\n-\t                </div>\n-\t            </div>\n-\t            \n-\t            <div class=\"mt-xlg mb-lg\">\n-\t             <div class=\"form-group\">\n+\t     <img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+      <c:if\n+          test=\"${notificationBO.actionPage eq 'addOrCopy' || notificationBO eq null}\">Create Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n+    </div>\n+  </div>\n+</div>\n+<form:form\n+    action=\"/studybuilder/adminNotificationEdit/saveOrUpdateNotification.do?${_csrf.parameterName}=${_csrf.token}\"\n+    data-toggle=\"validator\" role=\"form\" id=\"appNotificationFormId\" method=\"post\" autocomplete=\"off\">\n+  <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n+  <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n+\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"col-md-12 p-none\">\n+      <div class=\"box-space white-bg\">\n+\n+        <!-- form- input-->\n+        <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit'}\">\n+          <div>\n+            <span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n+          </div>\n+        </c:if>\n+        <div class=\"pl-none\">\n+          <div class=\"gray-xs-f mb-xs mt-xs\">Notification Text (250 characters max) <span\n+              class=\"requiredStar\">*</span></div>\n+          <div class=\"form-group\">\n+\t                    <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\"", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2MjkwOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438162909", "bodyText": "please fix the nesting for all these values", "author": "zohrehj", "createdAt": "2020-06-10T14:24:17Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/notification/createOrUpdateNotification.jsp", "diffHunk": "@@ -1,373 +1,410 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n \n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mt-md mb-md\">\n-\t<!-- widgets section-->\n-\t<div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t   <div class=\"black-lg-f\">\n+  <!-- widgets section-->\n+  <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"black-lg-f\">\n \t     <span class=\"mr-xs\"><a href=\"javascript:void(0)\" class=\"backOrCancelBtnOfNotification\">\n-\t     <img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span> \n-\t     <c:if test=\"${notificationBO.actionPage eq 'addOrCopy' || notificationBO eq null}\">Create Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n-\t    <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n-\t   </div>\n-\t</div>         \n-</div> \n-<form:form action=\"/studybuilder/adminNotificationEdit/saveOrUpdateNotification.do?${_csrf.parameterName}=${_csrf.token}\" \n-     data-toggle=\"validator\" role=\"form\" id=\"appNotificationFormId\"  method=\"post\" autocomplete=\"off\">       \n-     <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n-     <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n- \n-\t<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n-\t    <div class=\"col-md-12 p-none\">\n-\t        <div class=\"box-space white-bg\">\n-\t            \n-\t            <!-- form- input-->\n-\t            <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit'}\">\n-\t\t\t       <div>\n-\t\t\t       \t\t<span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n-\t\t\t       </div>\n-       \t\t\t</c:if>\n-\t            <div class=\"pl-none\">\n-\t                <div class=\"gray-xs-f mb-xs mt-xs\">Notification Text (250 characters max) <span class=\"requiredStar\">*</span></div>\n-\t                 <div class=\"form-group\">\n-\t                    <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\" id=\"notificationText\" name=\"notificationText\" required\n-\t                    >${notificationBO.notificationText}</textarea>\n-\t                    <div class=\"help-block with-errors red-txt\"></div>\n-\t                </div>\n-\t            </div>\n-\t            \n-\t            <div class=\"mt-xlg mb-lg\">\n-\t             <div class=\"form-group\">\n+\t     <img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+      <c:if\n+          test=\"${notificationBO.actionPage eq 'addOrCopy' || notificationBO eq null}\">Create Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n+      <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n+    </div>\n+  </div>\n+</div>\n+<form:form\n+    action=\"/studybuilder/adminNotificationEdit/saveOrUpdateNotification.do?${_csrf.parameterName}=${_csrf.token}\"\n+    data-toggle=\"validator\" role=\"form\" id=\"appNotificationFormId\" method=\"post\" autocomplete=\"off\">\n+  <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n+  <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n+\n+  <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+    <div class=\"col-md-12 p-none\">\n+      <div class=\"box-space white-bg\">\n+\n+        <!-- form- input-->\n+        <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit'}\">\n+          <div>\n+            <span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n+          </div>\n+        </c:if>\n+        <div class=\"pl-none\">\n+          <div class=\"gray-xs-f mb-xs mt-xs\">Notification Text (250 characters max) <span\n+              class=\"requiredStar\">*</span></div>\n+          <div class=\"form-group\">\n+\t                    <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\"\n+                                id=\"notificationText\" name=\"notificationText\" required\n+                      >${notificationBO.notificationText}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+\n+        <div class=\"mt-xlg mb-lg\">\n+          <div class=\"form-group\">\n \t\t                <span class=\"radio radio-info radio-inline p-45\">\n-\t\t                    <input type=\"radio\" id=\"inlineRadio1\" value=\"notImmediate\" name=\"currentDateTime\" \n-\t\t                    <c:if test=\"${notificationBO.notificationScheduleType eq 'notImmediate'}\">checked</c:if>\n-\t\t                    <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">checked</c:if>>\n+\t\t                    <input type=\"radio\" id=\"inlineRadio1\" value=\"notImmediate\"\n+                               name=\"currentDateTime\"\n+                               <c:if\n+                                   test=\"${notificationBO.notificationScheduleType eq 'notImmediate'}\">checked</c:if>\n+                               <c:if\n+                                   test=\"${notificationBO.actionPage eq 'addOrCopy'}\">checked</c:if>>\n \t\t                    <label for=\"inlineRadio1\">Schedule a date/time</label>\n \t\t                </span>\n-\t\t                <span class=\"radio radio-inline\">\n-\t\t                    <input type=\"radio\" id=\"inlineRadio2\" value=\"immediate\" name=\"currentDateTime\"\n-\t\t                    <c:if test=\"${notificationBO.notificationScheduleType eq 'immediate'}\">checked</c:if>>\n+            <span class=\"radio radio-inline\">\n+\t\t                    <input type=\"radio\" id=\"inlineRadio2\" value=\"immediate\"\n+                               name=\"currentDateTime\"\n+                               <c:if\n+                                   test=\"${notificationBO.notificationScheduleType eq 'immediate'}\">checked</c:if>>\n \t\t                    <label for=\"inlineRadio2\">Send immediately</label>\n \t\t                </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2MzYwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438163607", "bodyText": "too deeply nested, please fix", "author": "zohrehj", "createdAt": "2020-06-10T14:25:11Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/notification/notificationListPage.jsp", "diffHunk": "@@ -1,118 +1,145 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n <style>\n-<!--\n-.sorting, .sorting_asc, .sorting_desc {\n-    background : none !important;\n-}\n--->\n+  <!--\n+  .sorting, .sorting_asc, .sorting_desc {\n+    background: none !important;\n+  }\n+\n+  -->\n </style>\n-\t\n+\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-md\">\n-     <div>\n-         <!-- widgets section-->        \n-         <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-            <div class=\"black-lg-f\">\n-                Manage App-level Notifications\n-            </div>          \n-            <div class=\"dis-line pull-right ml-md\">\n-             \t<c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_EDIT')}\">\n-\t                 <div class=\"form-group mb-none mt-xs\">\n-\t                     <button type=\"button\" class=\"btn btn-primary blue-btn notificationDetailsToEdit\" actionType=\"add\">\n-\t                      Create Notification</button>\n-\t                 </div>\n-                 </c:if>\n-             </div>\n-         </div>         \n+  <div>\n+    <!-- widgets section-->\n+    <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+      <div class=\"black-lg-f\">\n+        Manage App-level Notifications\n+      </div>\n+      <div class=\"dis-line pull-right ml-md\">\n+        <c:if\n+            test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_EDIT')}\">\n+          <div class=\"form-group mb-none mt-xs\">\n+            <button type=\"button\" class=\"btn btn-primary blue-btn notificationDetailsToEdit\"\n+                    actionType=\"add\">\n+              Create Notification\n+            </button>\n+          </div>\n+        </c:if>\n+      </div>\n     </div>\n-    <div  class=\"clearfix\"></div>\n+  </div>\n+  <div class=\"clearfix\"></div>\n </div>\n \n-<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\"> \n-    <div class=\"white-bg\">\n-        <div>\n-            <table id=\"app_Wide_Notification_list\" class=\"table table-right tbl\">\n-            <thead>\n-              <tr>\n-                <th id=\"\">TITLE</th>\n-                <th id=\"\" class=\"linkDis\">Status</th>\n-                <th id=\"\" class=\"linkDis\">ACTIONS</th>  \n-              </tr>\n-            </thead>\n-            <tbody>\n-            <c:forEach items=\"${notificationList}\" var=\"notification\" varStatus=\"status\">\n-              <tr>\n-                <td><div class=\"dis-ellipsis lg-ellipsis\" title=\"${fn:escapeXml(notification.notificationText)}\">${fn:escapeXml(notification.notificationText)}</div></td>                \n-                <td>${notification.checkNotificationSendingStatus}</td>\n-                <td>\n-                \t<span class=\"sprites_icon preview-g mr-lg notificationDetailsToView\" actionType=\"view\" notificationId=\"${notification.notificationId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View\"></span>\n-                    <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_EDIT')}\">\n-                    \t<c:if test=\"${notification.notificationSent}\">\n-\t                    \t<span class=\"sprites-icons-2 send mr-lg notificationDetailsToEdit\" actionType=\"resend\" notificationId=\"${notification.notificationId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Resend\"></span>\n-\t                    </c:if>\n-\t                    <c:if test=\"${not notification.notificationSent}\">\n-\t                    \t<span class=\"sprites_icon edit-g mr-lg notificationDetailsToEdit\" actionType=\"edit\" notificationId=\"${notification.notificationId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\"></span>\n-\t                    </c:if>\n-\t                    <span class=\"sprites_icon copy notificationDetailsToEdit\" actionType=\"add\" notificationText=\"${fn:escapeXml(notification.notificationText)}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Copy\"></span>                    \n-                    </c:if>\n-                  </td>        \n-               </tr> \n-              </c:forEach>\n-\t\t\t  </tbody>\n-          </table>\n-        </div>\n+<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+  <div class=\"white-bg\">\n+    <div>\n+      <table id=\"app_Wide_Notification_list\" class=\"table table-right tbl\">\n+        <thead>\n+        <tr>\n+          <th id=\"\">TITLE</th>\n+          <th id=\"\" class=\"linkDis\">Status</th>\n+          <th id=\"\" class=\"linkDis\">ACTIONS</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <c:forEach items=\"${notificationList}\" var=\"notification\" varStatus=\"status\">\n+          <tr>\n+            <td>\n+              <div class=\"dis-ellipsis lg-ellipsis\"\n+                   title=\"${fn:escapeXml(notification.notificationText)}\">${fn:escapeXml(notification.notificationText)}</div>\n+            </td>\n+            <td>${notification.checkNotificationSendingStatus}</td>\n+            <td>\n+                            <span class=\"sprites_icon preview-g mr-lg notificationDetailsToView\"\n+                                  actionType=\"view\"\n+                                  notificationId=\"${notification.notificationId}\"\n+                                  data-toggle=\"tooltip\"\n+                                  data-placement=\"top\" title=\"View\"></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2MzkwNA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438163904", "bodyText": "same here, please fix indentation", "author": "zohrehj", "createdAt": "2020-06-10T14:25:30Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/notification/notificationListPage.jsp", "diffHunk": "@@ -1,118 +1,145 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n <style>\n-<!--\n-.sorting, .sorting_asc, .sorting_desc {\n-    background : none !important;\n-}\n--->\n+  <!--\n+  .sorting, .sorting_asc, .sorting_desc {\n+    background: none !important;\n+  }\n+\n+  -->\n </style>\n-\t\n+\n <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none mb-md\">\n-     <div>\n-         <!-- widgets section-->        \n-         <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n-            <div class=\"black-lg-f\">\n-                Manage App-level Notifications\n-            </div>          \n-            <div class=\"dis-line pull-right ml-md\">\n-             \t<c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_EDIT')}\">\n-\t                 <div class=\"form-group mb-none mt-xs\">\n-\t                     <button type=\"button\" class=\"btn btn-primary blue-btn notificationDetailsToEdit\" actionType=\"add\">\n-\t                      Create Notification</button>\n-\t                 </div>\n-                 </c:if>\n-             </div>\n-         </div>         \n+  <div>\n+    <!-- widgets section-->\n+    <div class=\"col-sm-12 col-md-12 col-lg-12 p-none\">\n+      <div class=\"black-lg-f\">\n+        Manage App-level Notifications\n+      </div>\n+      <div class=\"dis-line pull-right ml-md\">\n+        <c:if\n+            test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_EDIT')}\">\n+          <div class=\"form-group mb-none mt-xs\">\n+            <button type=\"button\" class=\"btn btn-primary blue-btn notificationDetailsToEdit\"\n+                    actionType=\"add\">\n+              Create Notification\n+            </button>\n+          </div>\n+        </c:if>\n+      </div>\n     </div>\n-    <div  class=\"clearfix\"></div>\n+  </div>\n+  <div class=\"clearfix\"></div>\n </div>\n \n-<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\"> \n-    <div class=\"white-bg\">\n-        <div>\n-            <table id=\"app_Wide_Notification_list\" class=\"table table-right tbl\">\n-            <thead>\n-              <tr>\n-                <th id=\"\">TITLE</th>\n-                <th id=\"\" class=\"linkDis\">Status</th>\n-                <th id=\"\" class=\"linkDis\">ACTIONS</th>  \n-              </tr>\n-            </thead>\n-            <tbody>\n-            <c:forEach items=\"${notificationList}\" var=\"notification\" varStatus=\"status\">\n-              <tr>\n-                <td><div class=\"dis-ellipsis lg-ellipsis\" title=\"${fn:escapeXml(notification.notificationText)}\">${fn:escapeXml(notification.notificationText)}</div></td>                \n-                <td>${notification.checkNotificationSendingStatus}</td>\n-                <td>\n-                \t<span class=\"sprites_icon preview-g mr-lg notificationDetailsToView\" actionType=\"view\" notificationId=\"${notification.notificationId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View\"></span>\n-                    <c:if test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_EDIT')}\">\n-                    \t<c:if test=\"${notification.notificationSent}\">\n-\t                    \t<span class=\"sprites-icons-2 send mr-lg notificationDetailsToEdit\" actionType=\"resend\" notificationId=\"${notification.notificationId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Resend\"></span>\n-\t                    </c:if>\n-\t                    <c:if test=\"${not notification.notificationSent}\">\n-\t                    \t<span class=\"sprites_icon edit-g mr-lg notificationDetailsToEdit\" actionType=\"edit\" notificationId=\"${notification.notificationId}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\"></span>\n-\t                    </c:if>\n-\t                    <span class=\"sprites_icon copy notificationDetailsToEdit\" actionType=\"add\" notificationText=\"${fn:escapeXml(notification.notificationText)}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Copy\"></span>                    \n-                    </c:if>\n-                  </td>        \n-               </tr> \n-              </c:forEach>\n-\t\t\t  </tbody>\n-          </table>\n-        </div>\n+<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 p-none\">\n+  <div class=\"white-bg\">\n+    <div>\n+      <table id=\"app_Wide_Notification_list\" class=\"table table-right tbl\">\n+        <thead>\n+        <tr>\n+          <th id=\"\">TITLE</th>\n+          <th id=\"\" class=\"linkDis\">Status</th>\n+          <th id=\"\" class=\"linkDis\">ACTIONS</th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <c:forEach items=\"${notificationList}\" var=\"notification\" varStatus=\"status\">\n+          <tr>\n+            <td>\n+              <div class=\"dis-ellipsis lg-ellipsis\"\n+                   title=\"${fn:escapeXml(notification.notificationText)}\">${fn:escapeXml(notification.notificationText)}</div>\n+            </td>\n+            <td>${notification.checkNotificationSendingStatus}</td>\n+            <td>\n+                            <span class=\"sprites_icon preview-g mr-lg notificationDetailsToView\"\n+                                  actionType=\"view\"\n+                                  notificationId=\"${notification.notificationId}\"\n+                                  data-toggle=\"tooltip\"\n+                                  data-placement=\"top\" title=\"View\"></span>\n+              <c:if\n+                  test=\"${fn:contains(sessionObject.userPermissions,'ROLE_MANAGE_APP_WIDE_NOTIFICATION_EDIT')}\">\n+                <c:if test=\"${notification.notificationSent}\">\n+                                    <span\n+                                        class=\"sprites-icons-2 send mr-lg notificationDetailsToEdit\"\n+                                        actionType=\"resend\"\n+                                        notificationId=\"${notification.notificationId}\"\n+                                        data-toggle=\"tooltip\" data-placement=\"top\"\n+                                        title=\"Resend\"></span>\n+                </c:if>\n+                <c:if test=\"${not notification.notificationSent}\">\n+                                    <span\n+                                        class=\"sprites_icon edit-g mr-lg notificationDetailsToEdit\"\n+                                        actionType=\"edit\"\n+                                        notificationId=\"${notification.notificationId}\"\n+                                        data-toggle=\"tooltip\"\n+                                        data-placement=\"top\" title=\"Edit\"></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NDYxNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438164617", "bodyText": "nesting is incorrect, it should be alined with the previous close tag", "author": "zohrehj", "createdAt": "2020-06-10T14:26:24Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/actionListPage.jsp", "diffHunk": "@@ -1,320 +1,340 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n \n-\t<!--  Start top tab section-->\n-\t<div class=\"right-content-head\">\n-\t\t<div class=\"text-right\">\n-\t\t\t<div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIONS</div>\n-\t\t\t<div class=\"dis-line form-group mb-none mr-sm\"></div>\n-\t\t\t<div class=\"dis-line form-group mb-none\"></div>\n-\t\t</div>\n-\t</div>\n-\t<!--  End  top tab section-->\n-\t<!--  Start body tab section -->\n-\t<div class=\"right-content-body\">\n-\t\t<div>\n-\t\t\t<c:if test=\"${studyBo.studyPreActiveFlag eq false}\">\n-\t\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n-\t\t\t\t\t\tid=\"publishId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t\t<c:choose>\n-\t\t\t\t             <c:when test=\"${not empty permission}\">\n-\t\t\t\t                disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t             <c:when test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Pre-launch(Published)' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n-\t\t\t\t                    disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t            </c:choose>\n-\t\t\t\t            <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Publish as Upcoming Study</button>\n-\t\t\t\t</div>\n-\t\t\t</c:if>\n-\t\t\t<c:if test=\"${studyBo.studyPreActiveFlag eq true}\">\n-\t\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n-\t\t\t\t\t\tid=\"unpublishId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t\t<c:choose>\n-\t\t\t\t             <c:when test=\"${not empty permission}\">\n-\t\t\t\t                disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t             <c:when test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n-\t\t\t\t                    disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t            </c:choose>\n-\t\t\t\t            <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Unpublish</button>\n-\t\t\t\t</div>\n-\t\t\t</c:if>\n-\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn-action \"\n-\t\t\t\t\tid=\"lunchId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t<c:choose>\n-\t\t\t\t            <c:when test=\"${not empty permission}\">\n-\t\t\t\t                disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t             <c:when test=\"${not empty studyBo.status && (studyBo.status eq 'Active' || studyBo.status eq 'Paused' || studyBo.status eq 'Deactivated')}\">\n-\t\t\t\t                    disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t            </c:choose>\n-\t\t\t\t            <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Launch\n-\t\t\t\t\tStudy</button>\n-\t\t\t</div>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIONS</div>\n+      <div class=\"dis-line form-group mb-none mr-sm\"></div>\n+      <div class=\"dis-line form-group mb-none\"></div>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <div class=\"right-content-body\">\n+    <div>\n+      <c:if test=\"${studyBo.studyPreActiveFlag eq false}\">\n+        <div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n+                  id=\"publishId\" onclick=\"validateStudyStatus(this);\"\n+              <c:choose>\n+                <c:when test=\"${not empty permission}\">\n+                  disabled\n+                </c:when>\n+                <c:when\n+                    test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Pre-launch(Published)' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n+                  disabled\n+                </c:when>\n+              </c:choose>\n+                  <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Publish as\n+            Upcoming\n+            Study\n+          </button>\n+        </div>\n+      </c:if>\n+      <c:if test=\"${studyBo.studyPreActiveFlag eq true}\">\n+        <div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n+                  id=\"unpublishId\" onclick=\"validateStudyStatus(this);\"\n+              <c:choose>\n+                <c:when test=\"${not empty permission}\">\n+                  disabled\n+                </c:when>\n+                <c:when\n+                    test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n+                  disabled\n+                </c:when>\n+              </c:choose>\n+                  <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Unpublish", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg2ODQ5Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r442868497", "bodyText": "not addressed. please fix", "author": "zohrehj", "createdAt": "2020-06-19T14:20:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NDYxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NDk1MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438164951", "bodyText": "same here, please fix the indentation", "author": "zohrehj", "createdAt": "2020-06-10T14:26:48Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/actionListPage.jsp", "diffHunk": "@@ -1,320 +1,340 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n \n-\t<!--  Start top tab section-->\n-\t<div class=\"right-content-head\">\n-\t\t<div class=\"text-right\">\n-\t\t\t<div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIONS</div>\n-\t\t\t<div class=\"dis-line form-group mb-none mr-sm\"></div>\n-\t\t\t<div class=\"dis-line form-group mb-none\"></div>\n-\t\t</div>\n-\t</div>\n-\t<!--  End  top tab section-->\n-\t<!--  Start body tab section -->\n-\t<div class=\"right-content-body\">\n-\t\t<div>\n-\t\t\t<c:if test=\"${studyBo.studyPreActiveFlag eq false}\">\n-\t\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n-\t\t\t\t\t\tid=\"publishId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t\t<c:choose>\n-\t\t\t\t             <c:when test=\"${not empty permission}\">\n-\t\t\t\t                disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t             <c:when test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Pre-launch(Published)' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n-\t\t\t\t                    disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t            </c:choose>\n-\t\t\t\t            <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Publish as Upcoming Study</button>\n-\t\t\t\t</div>\n-\t\t\t</c:if>\n-\t\t\t<c:if test=\"${studyBo.studyPreActiveFlag eq true}\">\n-\t\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n-\t\t\t\t\t\tid=\"unpublishId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t\t<c:choose>\n-\t\t\t\t             <c:when test=\"${not empty permission}\">\n-\t\t\t\t                disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t             <c:when test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n-\t\t\t\t                    disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t            </c:choose>\n-\t\t\t\t            <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Unpublish</button>\n-\t\t\t\t</div>\n-\t\t\t</c:if>\n-\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn-action \"\n-\t\t\t\t\tid=\"lunchId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t<c:choose>\n-\t\t\t\t            <c:when test=\"${not empty permission}\">\n-\t\t\t\t                disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t             <c:when test=\"${not empty studyBo.status && (studyBo.status eq 'Active' || studyBo.status eq 'Paused' || studyBo.status eq 'Deactivated')}\">\n-\t\t\t\t                    disabled\n-\t\t\t\t             </c:when>\n-\t\t\t\t            </c:choose>\n-\t\t\t\t            <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Launch\n-\t\t\t\t\tStudy</button>\n-\t\t\t</div>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIONS</div>\n+      <div class=\"dis-line form-group mb-none mr-sm\"></div>\n+      <div class=\"dis-line form-group mb-none\"></div>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <div class=\"right-content-body\">\n+    <div>\n+      <c:if test=\"${studyBo.studyPreActiveFlag eq false}\">\n+        <div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n+                  id=\"publishId\" onclick=\"validateStudyStatus(this);\"\n+              <c:choose>\n+                <c:when test=\"${not empty permission}\">\n+                  disabled\n+                </c:when>\n+                <c:when\n+                    test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Pre-launch(Published)' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n+                  disabled\n+                </c:when>\n+              </c:choose>\n+                  <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Publish as\n+            Upcoming\n+            Study\n+          </button>\n+        </div>\n+      </c:if>\n+      <c:if test=\"${studyBo.studyPreActiveFlag eq true}\">\n+        <div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn-action\"\n+                  id=\"unpublishId\" onclick=\"validateStudyStatus(this);\"\n+              <c:choose>\n+                <c:when test=\"${not empty permission}\">\n+                  disabled\n+                </c:when>\n+                <c:when\n+                    test=\"${not empty studyBo.status && (studyBo.status eq 'Paused' || studyBo.status eq 'Active' || studyBo.status eq 'Deactivated')}\">\n+                  disabled\n+                </c:when>\n+              </c:choose>\n+                  <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Unpublish\n+          </button>\n+        </div>\n+      </c:if>\n+      <div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn-action \"\n+                id=\"lunchId\" onclick=\"validateStudyStatus(this);\"\n+            <c:choose>\n+              <c:when test=\"${not empty permission}\">\n+                disabled\n+              </c:when>\n+              <c:when\n+                  test=\"${not empty studyBo.status && (studyBo.status eq 'Active' || studyBo.status eq 'Paused' || studyBo.status eq 'Deactivated')}\">\n+                disabled\n+              </c:when>\n+            </c:choose>\n+                <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Launch\n+          Study\n+        </button>\n+      </div>\n \n-\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn-action\"\n-\t\t\t\t\tid=\"updatesId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t<c:choose>\n-\t\t\t\t\t            <c:when test=\"${not empty permission}\">\n-\t\t\t\t\t                disabled\n-\t\t\t\t\t             </c:when>\n-\t\t\t\t\t             <c:when test=\"${not empty studyBo.status && empty liveStudyBo && (studyBo.hasStudyDraft==0  || studyBo.status eq 'Pre-launch' || studyBo.status eq 'Pre-launch(Published)' || \n+      <div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn-action\"\n+                id=\"updatesId\" onclick=\"validateStudyStatus(this);\"\n+            <c:choose>\n+              <c:when test=\"${not empty permission}\">\n+                disabled\n+              </c:when>\n+              <c:when test=\"${not empty studyBo.status && empty liveStudyBo && (studyBo.hasStudyDraft==0  || studyBo.status eq 'Pre-launch' || studyBo.status eq 'Pre-launch(Published)' ||\n \t\t\t\t\t             studyBo.status eq 'Paused' || studyBo.status eq 'Deactivated')}\">\n-\t\t\t                      disabled\n-\t\t\t                    </c:when>\n-\t\t\t\t\t             <c:when test=\"${not empty studyBo.status && not empty liveStudyBo && (studyBo.hasStudyDraft==0  || studyBo.status eq 'Pre-launch' || studyBo.status eq 'Pre-launch(Published)' || \n+                disabled\n+              </c:when>\n+              <c:when test=\"${not empty studyBo.status && not empty liveStudyBo && (studyBo.hasStudyDraft==0  || studyBo.status eq 'Pre-launch' || studyBo.status eq 'Pre-launch(Published)' ||\n \t\t\t\t\t             studyBo.status eq 'Paused' || studyBo.status eq 'Deactivated' || liveStudyBo.status eq 'Paused')}\">\n-\t\t\t\t\t                    disabled\n-\t\t\t\t\t             </c:when>\n-\t\t\t\t\t            </c:choose>\n-\t\t\t\t\t<c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Publish\n-\t\t\t\t\tUpdates</button>\n-\t\t\t</div>\n+                disabled\n+              </c:when>\n+            </c:choose>\n+                <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Publish\n+          Updates\n+        </button>\n+      </div>\n \n-\t\t\t<div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n-\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn-action \"\n-\t\t\t\t\tid=\"pauseId\" onclick=\"validateStudyStatus(this);\"\n-\t\t\t\t\t<c:choose>\n-\t\t\t             <c:when test=\"${not empty permission}\">\n-\t\t\t                disabled\n-\t\t\t             </c:when>\n-\t\t\t             <c:when test=\"${empty liveStudyBo && not empty studyBo.status && (studyBo.status eq 'Pre-launch' || studyBo.status eq 'Pre-launch(Published)' || studyBo.status eq 'Paused'  || studyBo.status eq 'Deactivated')}\">\n-\t\t\t                    disabled\n-\t\t\t             </c:when>\n-\t\t\t             <c:when test=\"${not empty liveStudyBo && not empty liveStudyBo.status && (liveStudyBo.status eq 'Pre-launch' || liveStudyBo.status eq 'Pre-launch(Published)' || liveStudyBo.status eq 'Paused'  || liveStudyBo.status eq 'Deactivated')}\">\n-\t\t\t                    disabled\n-\t\t\t             </c:when>\n-\t\t\t           </c:choose>\n-\t\t\t\t\t<c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Pause</button>\n-\t\t\t</div>\n+      <div class=\"form-group mr-sm\" style=\"white-space: normal;\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn-action \"\n+                id=\"pauseId\" onclick=\"validateStudyStatus(this);\"\n+            <c:choose>\n+              <c:when test=\"${not empty permission}\">\n+                disabled\n+              </c:when>\n+              <c:when\n+                  test=\"${empty liveStudyBo && not empty studyBo.status && (studyBo.status eq 'Pre-launch' || studyBo.status eq 'Pre-launch(Published)' || studyBo.status eq 'Paused'  || studyBo.status eq 'Deactivated')}\">\n+                disabled\n+              </c:when>\n+              <c:when\n+                  test=\"${not empty liveStudyBo && not empty liveStudyBo.status && (liveStudyBo.status eq 'Pre-launch' || liveStudyBo.status eq 'Pre-launch(Published)' || liveStudyBo.status eq 'Paused'  || liveStudyBo.status eq 'Deactivated')}\">\n+                disabled\n+              </c:when>\n+            </c:choose>\n+                <c:if test=\"${not studyPermissionBO.viewPermission}\">disabled</c:if>>Pause", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg2ODcyNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r442868727", "bodyText": "not addressed. please fix.", "author": "zohrehj", "createdAt": "2020-06-19T14:21:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NDk1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NTg0MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438165841", "bodyText": "<span> tag is not indented properly. it should be indented two spaces deeper <td>. please fix", "author": "zohrehj", "createdAt": "2020-06-10T14:27:51Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/activeTaskListPage.jsp", "diffHunk": "@@ -1,220 +1,243 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <style>\n-.cursonMove {\n-\tcursor: move !important;\n-}\n-.tool-tip {\n-\tdisplay: inline-block;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n \n-.tool-tip [disabled] {\n-\tpointer-events: none;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n- <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-       <div class=\"col-sm-10 col-rc white-bg p-none\">\n-            \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIVE TASKS </div>\n-                    \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n-                     </div>\n-                    \n-\t               <c:if test=\"${empty permission}\">\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none\">\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIVE TASKS</div>\n+\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n+      </div>\n+\n+      <c:if test=\"${empty permission}\">\n+        <div class=\"dis-line form-group mb-none\">\n \t\t\t\t\t\t<span id=\"spancomId\" class=\"tool-tip\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n-\t\t\t\t\t\t\t<c:if test=\"${!markAsComplete}\"> title=\"${activityMsg}\" </c:if> >\n+                <c:if test=\"${!markAsComplete}\"> title=\"${activityMsg}\" </c:if> >\n \t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn\"\n-\t\t\t\t\t\t\t\tid=\"markAsComp\" onclick=\"markAsCompleted();\"\n-\t\t\t\t\t\t\t\t<c:if test=\"${!markAsComplete}\">disabled</c:if>>\n+                      id=\"markAsComp\" onclick=\"markAsCompleted();\"\n+                      <c:if test=\"${!markAsComplete}\">disabled</c:if>>\n \t\t\t\t\t\t\t\tMark as Completed</button>\n \t\t\t\t\t\t</span>\n-\t\t\t\t\t</div>\n-\t\t\t\t  </c:if>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            \n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body pt-none\">\n-                <div>\n-                    <table id=\"activedatatable_list\" class=\"display bor-none dragtbl\" cellspacing=\"0\" width=\"100%\">\n-                         <thead>\n-                            <tr>\n-                                <th style=\"display: none;\" id=\"\"></th>\n-                                <th id=\"\">TITLE<span class=\"sort\"></span></th>\n-                                <th id=\"\">TYPE<span class=\"sort\"></span></th>\n-                                <th id=\"\">FREQUENCY<span class=\"sort\"></span></th>                                \n-                                <th id=\"\">\n-                                    <div class=\"dis-line form-group mb-none\">\n-                                         <c:if test=\"${empty permission}\">\n-                                         <button type=\"button\" class=\"btn btn-primary blue-btn\" onclick=\"addActiveTaskPage();\">Add Active Task</button>\n-                                         </c:if>\n-                                     </div>\n-                                </th>\n-                            </tr>\n-                        </thead>\n-                        <tbody>\n-                          <c:forEach items=\"${activeTasks}\" var=\"activeTasksInfo\">\n-\t\t             \t    <tr id=\"row${activeTasksInfo.id}\">\n-\t\t             \t      <td style=\"display: none;\">${activeTasksInfo.createdDate}</td>\n-\t\t\t                  <td><div class=\"dis-ellipsis pr-100\" title=\"${fn:escapeXml(activeTasksInfo.displayName)}\">${activeTasksInfo.displayName}</div></td>\n-\t\t\t                  <td>${activeTasksInfo.type}</td>\n-\t\t\t                  <td>${activeTasksInfo.frequency  == 'Manually Schedule' ? 'Custom Schedule' : activeTasksInfo.frequency}</td>\n-\t\t\t                  <td>\n-\t\t\t                     <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View\" onclick=\"viewTaskInfo(${activeTasksInfo.id});\"></span>\n-\t\t\t                     <span class=\"${activeTasksInfo.action?'edit-inc':'edit-inc-draft mr-md'} mr-lg <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\" id=\"editTask\" onclick=\"editTaskInfo(${activeTasksInfo.id});\"></span>\n-\t\t\t                     <span class=\"sprites_icon copy delete <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete\" id=\"delTask\" onclick=\"deleteTaskInfo(${activeTasksInfo.id});\"></span>\n-\t\t\t                  </td>\n-\t\t\t               </tr>\n-\t\t\t             </c:forEach>\n-                        </tbody>\n-                    </table>\n-                </div>\n-            </div>\n-            <!--  End body tab section -->\n-            \n-            \n-            \n-            \n         </div>\n-        <!-- End right Content here -->\n-<form:form action=\"/studybuilder/adminStudies/viewActiveTask.do?_S=${param._S}\" name=\"activeTaskInfoForm\" id=\"activeTaskInfoForm\" method=\"post\">\n-<input type=\"hidden\" name=\"activeTaskInfoId\" id=\"activeTaskInfoId\" value=\"\">\n-<input type=\"hidden\" name=\"actionType\" id=\"actionType\">\n-<input type=\"hidden\" name=\"studyId\" id=\"studyId\" value=\"${studyBo.id}\" />\n-</form:form> \n-<form:form action=\"/studybuilder/adminStudies/activeTAskMarkAsCompleted.do?_S=${param._S}\" name=\"completeInfoForm\" id=\"completeInfoForm\" method=\"post\">\n-<input type=\"hidden\" name=\"studyId\" id=\"studyId\" value=\"${studyBo.id}\" />\n-</form:form>    \n-<c:set var=\"studyId\">${_S}studyId</c:set>   \n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+\n+\n+  <!--  Start body tab section -->\n+  <div class=\"right-content-body pt-none\">\n+    <div>\n+      <table id=\"activedatatable_list\" class=\"display bor-none dragtbl\" cellspacing=\"0\"\n+             width=\"100%\">\n+        <thead>\n+        <tr>\n+          <th style=\"display: none;\" id=\"\"></th>\n+          <th id=\"\">TITLE<span class=\"sort\"></span></th>\n+          <th id=\"\">TYPE<span class=\"sort\"></span></th>\n+          <th id=\"\">FREQUENCY<span class=\"sort\"></span></th>\n+          <th id=\"\">\n+            <div class=\"dis-line form-group mb-none\">\n+              <c:if test=\"${empty permission}\">\n+                <button type=\"button\" class=\"btn btn-primary blue-btn\"\n+                        onclick=\"addActiveTaskPage();\">\n+                  Add Active Task\n+                </button>\n+              </c:if>\n+            </div>\n+          </th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <c:forEach items=\"${activeTasks}\" var=\"activeTasksInfo\">\n+          <tr id=\"row${activeTasksInfo.id}\">\n+            <td style=\"display: none;\">${activeTasksInfo.createdDate}</td>\n+            <td>\n+              <div class=\"dis-ellipsis pr-100\"\n+                   title=\"${fn:escapeXml(activeTasksInfo.displayName)}\">${activeTasksInfo.displayName}</div>\n+            </td>\n+            <td>${activeTasksInfo.type}</td>\n+            <td>${activeTasksInfo.frequency  == 'Manually Schedule' ? 'Custom Schedule' : activeTasksInfo.frequency}</td>\n+            <td>\n+                            <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\"\n+                                  data-placement=\"top\"\n+                                  title=\"View\"\n+                                  onclick=\"viewTaskInfo(${activeTasksInfo.id});\"></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2NzYxNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438167617", "bodyText": "nit: long chains would read better this way:\n$(\"#alertMsg\")\n  .removeClass('s-box')\n  .addClass('e-box')\n  .html(\"Unable to delete resource\");", "author": "zohrehj", "createdAt": "2020-06-10T14:30:08Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/activeTaskListPage.jsp", "diffHunk": "@@ -1,220 +1,243 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <style>\n-.cursonMove {\n-\tcursor: move !important;\n-}\n-.tool-tip {\n-\tdisplay: inline-block;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n \n-.tool-tip [disabled] {\n-\tpointer-events: none;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n- <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-       <div class=\"col-sm-10 col-rc white-bg p-none\">\n-            \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIVE TASKS </div>\n-                    \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n-                     </div>\n-                    \n-\t               <c:if test=\"${empty permission}\">\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none\">\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f text-uppercase dis-line pull-left line34\">ACTIVE TASKS</div>\n+\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n+      </div>\n+\n+      <c:if test=\"${empty permission}\">\n+        <div class=\"dis-line form-group mb-none\">\n \t\t\t\t\t\t<span id=\"spancomId\" class=\"tool-tip\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n-\t\t\t\t\t\t\t<c:if test=\"${!markAsComplete}\"> title=\"${activityMsg}\" </c:if> >\n+                <c:if test=\"${!markAsComplete}\"> title=\"${activityMsg}\" </c:if> >\n \t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn\"\n-\t\t\t\t\t\t\t\tid=\"markAsComp\" onclick=\"markAsCompleted();\"\n-\t\t\t\t\t\t\t\t<c:if test=\"${!markAsComplete}\">disabled</c:if>>\n+                      id=\"markAsComp\" onclick=\"markAsCompleted();\"\n+                      <c:if test=\"${!markAsComplete}\">disabled</c:if>>\n \t\t\t\t\t\t\t\tMark as Completed</button>\n \t\t\t\t\t\t</span>\n-\t\t\t\t\t</div>\n-\t\t\t\t  </c:if>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            \n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body pt-none\">\n-                <div>\n-                    <table id=\"activedatatable_list\" class=\"display bor-none dragtbl\" cellspacing=\"0\" width=\"100%\">\n-                         <thead>\n-                            <tr>\n-                                <th style=\"display: none;\" id=\"\"></th>\n-                                <th id=\"\">TITLE<span class=\"sort\"></span></th>\n-                                <th id=\"\">TYPE<span class=\"sort\"></span></th>\n-                                <th id=\"\">FREQUENCY<span class=\"sort\"></span></th>                                \n-                                <th id=\"\">\n-                                    <div class=\"dis-line form-group mb-none\">\n-                                         <c:if test=\"${empty permission}\">\n-                                         <button type=\"button\" class=\"btn btn-primary blue-btn\" onclick=\"addActiveTaskPage();\">Add Active Task</button>\n-                                         </c:if>\n-                                     </div>\n-                                </th>\n-                            </tr>\n-                        </thead>\n-                        <tbody>\n-                          <c:forEach items=\"${activeTasks}\" var=\"activeTasksInfo\">\n-\t\t             \t    <tr id=\"row${activeTasksInfo.id}\">\n-\t\t             \t      <td style=\"display: none;\">${activeTasksInfo.createdDate}</td>\n-\t\t\t                  <td><div class=\"dis-ellipsis pr-100\" title=\"${fn:escapeXml(activeTasksInfo.displayName)}\">${activeTasksInfo.displayName}</div></td>\n-\t\t\t                  <td>${activeTasksInfo.type}</td>\n-\t\t\t                  <td>${activeTasksInfo.frequency  == 'Manually Schedule' ? 'Custom Schedule' : activeTasksInfo.frequency}</td>\n-\t\t\t                  <td>\n-\t\t\t                     <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View\" onclick=\"viewTaskInfo(${activeTasksInfo.id});\"></span>\n-\t\t\t                     <span class=\"${activeTasksInfo.action?'edit-inc':'edit-inc-draft mr-md'} mr-lg <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\" id=\"editTask\" onclick=\"editTaskInfo(${activeTasksInfo.id});\"></span>\n-\t\t\t                     <span class=\"sprites_icon copy delete <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete\" id=\"delTask\" onclick=\"deleteTaskInfo(${activeTasksInfo.id});\"></span>\n-\t\t\t                  </td>\n-\t\t\t               </tr>\n-\t\t\t             </c:forEach>\n-                        </tbody>\n-                    </table>\n-                </div>\n-            </div>\n-            <!--  End body tab section -->\n-            \n-            \n-            \n-            \n         </div>\n-        <!-- End right Content here -->\n-<form:form action=\"/studybuilder/adminStudies/viewActiveTask.do?_S=${param._S}\" name=\"activeTaskInfoForm\" id=\"activeTaskInfoForm\" method=\"post\">\n-<input type=\"hidden\" name=\"activeTaskInfoId\" id=\"activeTaskInfoId\" value=\"\">\n-<input type=\"hidden\" name=\"actionType\" id=\"actionType\">\n-<input type=\"hidden\" name=\"studyId\" id=\"studyId\" value=\"${studyBo.id}\" />\n-</form:form> \n-<form:form action=\"/studybuilder/adminStudies/activeTAskMarkAsCompleted.do?_S=${param._S}\" name=\"completeInfoForm\" id=\"completeInfoForm\" method=\"post\">\n-<input type=\"hidden\" name=\"studyId\" id=\"studyId\" value=\"${studyBo.id}\" />\n-</form:form>    \n-<c:set var=\"studyId\">${_S}studyId</c:set>   \n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+\n+\n+  <!--  Start body tab section -->\n+  <div class=\"right-content-body pt-none\">\n+    <div>\n+      <table id=\"activedatatable_list\" class=\"display bor-none dragtbl\" cellspacing=\"0\"\n+             width=\"100%\">\n+        <thead>\n+        <tr>\n+          <th style=\"display: none;\" id=\"\"></th>\n+          <th id=\"\">TITLE<span class=\"sort\"></span></th>\n+          <th id=\"\">TYPE<span class=\"sort\"></span></th>\n+          <th id=\"\">FREQUENCY<span class=\"sort\"></span></th>\n+          <th id=\"\">\n+            <div class=\"dis-line form-group mb-none\">\n+              <c:if test=\"${empty permission}\">\n+                <button type=\"button\" class=\"btn btn-primary blue-btn\"\n+                        onclick=\"addActiveTaskPage();\">\n+                  Add Active Task\n+                </button>\n+              </c:if>\n+            </div>\n+          </th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <c:forEach items=\"${activeTasks}\" var=\"activeTasksInfo\">\n+          <tr id=\"row${activeTasksInfo.id}\">\n+            <td style=\"display: none;\">${activeTasksInfo.createdDate}</td>\n+            <td>\n+              <div class=\"dis-ellipsis pr-100\"\n+                   title=\"${fn:escapeXml(activeTasksInfo.displayName)}\">${activeTasksInfo.displayName}</div>\n+            </td>\n+            <td>${activeTasksInfo.type}</td>\n+            <td>${activeTasksInfo.frequency  == 'Manually Schedule' ? 'Custom Schedule' : activeTasksInfo.frequency}</td>\n+            <td>\n+                            <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\"\n+                                  data-placement=\"top\"\n+                                  title=\"View\"\n+                                  onclick=\"viewTaskInfo(${activeTasksInfo.id});\"></span>\n+              <span\n+                  class=\"${activeTasksInfo.action?'edit-inc':'edit-inc-draft mr-md'} mr-lg <c:if test=\"${not empty permission}\"> cursor-none </c:if>\"\n+                  data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\" id=\"editTask\"\n+                  onclick=\"editTaskInfo(${activeTasksInfo.id});\"></span>\n+              <span\n+                  class=\"sprites_icon copy delete <c:if test=\"${not empty permission}\"> cursor-none </c:if>\"\n+                  data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete\" id=\"delTask\"\n+                  onclick=\"deleteTaskInfo(${activeTasksInfo.id});\"></span>\n+            </td>\n+          </tr>\n+        </c:forEach>\n+        </tbody>\n+      </table>\n+    </div>\n+  </div>\n+  <!--  End body tab section -->\n+\n+\n+</div>\n+<!-- End right Content here -->\n+<form:form action=\"/studybuilder/adminStudies/viewActiveTask.do?_S=${param._S}\"\n+           name=\"activeTaskInfoForm\"\n+           id=\"activeTaskInfoForm\" method=\"post\">\n+  <input type=\"hidden\" name=\"activeTaskInfoId\" id=\"activeTaskInfoId\" value=\"\">\n+  <input type=\"hidden\" name=\"actionType\" id=\"actionType\">\n+  <input type=\"hidden\" name=\"studyId\" id=\"studyId\" value=\"${studyBo.id}\"/>\n+</form:form>\n+<form:form action=\"/studybuilder/adminStudies/activeTAskMarkAsCompleted.do?_S=${param._S}\"\n+           name=\"completeInfoForm\"\n+           id=\"completeInfoForm\" method=\"post\">\n+  <input type=\"hidden\" name=\"studyId\" id=\"studyId\" value=\"${studyBo.id}\"/>\n+</form:form>\n+<c:set var=\"studyId\">${_S}studyId</c:set>\n <script>\n-var dataTable;\n-$(document).ready(function(){  \n-\t        $('[data-toggle=\"tooltip\"]').tooltip();\n-\t\t\t$(\".menuNav li.active\").removeClass('active');\n-\t\t\t$(\".sixthTask\").addClass('active');\n-\t\n-            // Fancy Scroll Bar\n-           /*  $(\".left-content\").niceScroll({cursorcolor:\"#95a2ab\",cursorborder:\"1px solid #95a2ab\"});\n-            $(\".right-content-body\").niceScroll({cursorcolor:\"#d5dee3\",cursorborder:\"1px solid #d5dee3\"}); */\n-            $('[data-toggle=\"tooltip\"]').tooltip();\n-            dataTable = $('#activedatatable_list').DataTable( {\n-                 \"paging\":   true,\n-                 \"abColumns\": [\n-                               { \"bSortable\": true },\n-                               { \"bSortable\": true },\n-                               { \"bSortable\": true }\n-                               ],\n-                  \"order\": [[ 0, \"desc\" ]],\n-                 \"info\" : false, \n-                 language: {\n-                 \t\"zeroRecords\": \"You haven't created any content yet.\",\n-\t\t\t    },\n-                 \"lengthChange\": false, \n-                 \"searching\": false, \n-                 \"pageLength\": 10 \n-             } );\n+  var dataTable;\n+  $(document).ready(function () {\n+    $('[data-toggle=\"tooltip\"]').tooltip();\n+    $(\".menuNav li.active\").removeClass('active');\n+    $(\".sixthTask\").addClass('active');\n+\n+    // Fancy Scroll Bar\n+    $('[data-toggle=\"tooltip\"]').tooltip();\n+    dataTable = $('#activedatatable_list').DataTable({\n+      \"paging\": true,\n+      \"abColumns\": [\n+        {\"bSortable\": true},\n+        {\"bSortable\": true},\n+        {\"bSortable\": true}\n+      ],\n+      \"order\": [[0, \"desc\"]],\n+      \"info\": false,\n+      language: {\n+        \"zeroRecords\": \"You haven't created any content yet.\",\n+      },\n+      \"lengthChange\": false,\n+      \"searching\": false,\n+      \"pageLength\": 10\n+    });\n   });\n-function addActiveTaskPage(){\n-\t$(\"#actionType\").val('add');\n-\t$(\"#activeTaskInfoId\").val('');\n-\t$(\"#activeTaskInfoForm\").submit();\n-}\n-function viewTaskInfo(taskInfoId){\n-\tif(taskInfoId != null && taskInfoId != '' && typeof taskInfoId !='undefined'){\n-\t\t$(\"#actionType\").val('view');\n-\t\t$(\"#activeTaskInfoId\").val(taskInfoId);\n-\t\t$(\"#activeTaskInfoForm\").submit();\n-\t}\n-}\n-function editTaskInfo(taskInfoId){\n-\tif(taskInfoId != null && taskInfoId != '' && typeof taskInfoId !='undefined'){\n-\t\t$('#editTask').addClass('cursor-none');\n-\t\t$(\"#actionType\").val('addEdit');\n-\t\t$(\"#activeTaskInfoId\").val(taskInfoId);\n-\t\t$(\"#activeTaskInfoForm\").submit();\n-\t}\n-}\n-function deleteTaskInfo(activeTaskInfoId){\n-\t$('#delTask').addClass('cursor-none');\n-\tbootbox.confirm({\n-\t    message: \"Are you sure you want to delete this active task item? This item will no longer appear on the mobile app or admin portal. Response data already gathered against this item, if any, will still be available on the response database.\",\n-\t    buttons: {\n-\t        confirm: {\n-\t            label: 'Yes',\n-\t        },\n-\t        cancel: {\n-\t            label: 'No',\n-\t        }\n-\t    },\n-\t    callback: function (result) { \n-\t\t\tif(result){\n-\t\t    \tif(activeTaskInfoId != '' && activeTaskInfoId != null && typeof activeTaskInfoId != 'undefined'){\n-\t\t    \t\t$.ajax({\n-\t\t    \t\t\turl: \"/studybuilder/adminStudies/deleteActiveTask.do?_S=${param._S}\",\n-\t\t    \t\t\ttype: \"POST\",\n-\t\t    \t\t\tdatatype: \"json\",\n-\t\t    \t\t\tdata:{\n-\t\t    \t\t\t\tactiveTaskInfoId: activeTaskInfoId,\n-\t\t    \t\t\t\tstudyId : '${sessionScope[studyId]}',\n-\t\t    \t\t\t\t\"${_csrf.parameterName}\":\"${_csrf.token}\",\n-\t\t    \t\t\t},\n-\t\t    \t\t\tsuccess: function deleteActiveInfo(data){\n-\t\t    \t\t\t\tvar status = data.message;\n-\t\t    \t\t\t\tvar markAsComplete = data.markAsComplete;\n-\t\t    \t\t\t\tvar activityMsg = data.activityMsg;\n-\t\t    \t\t\t\tif(status == \"SUCCESS\"){\n-\t\t\t\t\t\t\t\tdataTable\n-\t\t    \t\t\t        .row($('#row'+activeTaskInfoId))\n-\t\t    \t\t\t        .remove()\n-\t\t    \t\t\t        .draw();\n-\t\t    \t\t\t\t\tif(!markAsComplete){\n-\t\t    \t\t\t\t\t\t$('#markAsComp').prop('disabled',true);\n-\t\t    \t\t\t\t\t\t//$('[data-toggle=\"tooltip\"]').tooltip();\n-\t\t    \t\t\t\t\t\t$('#spancomId').attr(\"data-original-title\", activityMsg);\n-\t\t    \t\t\t\t\t}else{\n-\t\t    \t\t\t\t\t\t$('#markAsComp').prop('disabled',false);\n-\t\t    \t\t\t\t\t\t//$('[data-toggle=\"tooltip\"]').tooltip('destroy');\n-\t\t    \t\t\t\t\t\t$('#spancomId').removeAttr('data-original-title');\n-\t\t    \t\t\t\t\t}\n-\t\t    \t\t\t\t\t$(\"#alertMsg\").removeClass('e-box').addClass('s-box').html(\"ActiveTask deleted successfully\");\n-\t\t    \t\t\t\t\t$('#alertMsg').show();\n-\t\t    \t\t\t\t\t/* reloadData(studyId); */\n-\t\t    \t\t\t\t\tif($('.sixthTask').find('span').hasClass('sprites-icons-2 tick pull-right mt-xs')){\n-\t\t    \t\t\t\t\t\t$('.sixthTask').find('span').removeClass('sprites-icons-2 tick pull-right mt-xs');\n-\t\t    \t\t\t\t\t}\n-\t\t    \t\t\t\t}else{\n-\t\t    \t\t\t\t\t$(\"#alertMsg\").removeClass('s-box').addClass('e-box').html(\"Unable to delete resource\");\n-\t\t    \t\t\t\t\t$('#alertMsg').show();\n-\t\t    \t            }\n-\t\t    \t\t\t\tsetTimeout(hideDisplayMessage, 4000);\n-\t\t    \t\t\t},\n-\t\t    \t\t\terror: function(xhr, status, error) {\n-\t\t    \t\t\t  $(\"#alertMsg\").removeClass('s-box').addClass('e-box').html(error);\n-\t\t    \t\t\t  setTimeout(hideDisplayMessage, 4000);\n-\t\t    \t\t\t}\n-\t\t    \t\t});\n-\t\t    \t}\n-\t\t\t}\n-\t    }\n-\t});\n-\t$('#delTask').removeClass('cursor-none');\n-}\n-function markAsCompleted(){\n-\t\t$(\"#completeInfoForm\").submit();\n-}\n+\n+  function addActiveTaskPage() {\n+    $(\"#actionType\").val('add');\n+    $(\"#activeTaskInfoId\").val('');\n+    $(\"#activeTaskInfoForm\").submit();\n+  }\n+\n+  function viewTaskInfo(taskInfoId) {\n+    if (taskInfoId != null && taskInfoId != '' && typeof taskInfoId != 'undefined') {\n+      $(\"#actionType\").val('view');\n+      $(\"#activeTaskInfoId\").val(taskInfoId);\n+      $(\"#activeTaskInfoForm\").submit();\n+    }\n+  }\n+\n+  function editTaskInfo(taskInfoId) {\n+    if (taskInfoId != null && taskInfoId != '' && typeof taskInfoId != 'undefined') {\n+      $('#editTask').addClass('cursor-none');\n+      $(\"#actionType\").val('addEdit');\n+      $(\"#activeTaskInfoId\").val(taskInfoId);\n+      $(\"#activeTaskInfoForm\").submit();\n+    }\n+  }\n+\n+  function deleteTaskInfo(activeTaskInfoId) {\n+    $('#delTask').addClass('cursor-none');\n+    bootbox.confirm({\n+      message: \"Are you sure you want to delete this active task item? This item will no longer appear on the mobile app or admin portal. Response data already gathered against this item, if any, will still be available on the response database.\",\n+      buttons: {\n+        confirm: {\n+          label: 'Yes',\n+        },\n+        cancel: {\n+          label: 'No',\n+        }\n+      },\n+      callback: function (result) {\n+        if (result) {\n+          if (activeTaskInfoId != '' && activeTaskInfoId != null && typeof activeTaskInfoId\n+              != 'undefined') {\n+            $.ajax({\n+              url: \"/studybuilder/adminStudies/deleteActiveTask.do?_S=${param._S}\",\n+              type: \"POST\",\n+              datatype: \"json\",\n+              data: {\n+                activeTaskInfoId: activeTaskInfoId,\n+                studyId: '${sessionScope[studyId]}',\n+                \"${_csrf.parameterName}\": \"${_csrf.token}\",\n+              },\n+              success: function deleteActiveInfo(data) {\n+                var status = data.message;\n+                var markAsComplete = data.markAsComplete;\n+                var activityMsg = data.activityMsg;\n+                if (status == \"SUCCESS\") {\n+                  dataTable\n+                  .row($('#row' + activeTaskInfoId))\n+                  .remove()\n+                  .draw();\n+                  if (!markAsComplete) {\n+                    $('#markAsComp').prop('disabled', true);\n+                    $('#spancomId').attr(\"data-original-title\", activityMsg);\n+                  } else {\n+                    $('#markAsComp').prop('disabled', false);\n+                    $('#spancomId').removeAttr('data-original-title');\n+                  }\n+                  $(\"#alertMsg\").removeClass('e-box').addClass('s-box').html(\n+                      \"ActiveTask deleted successfully\");\n+                  $('#alertMsg').show();\n+                  if ($('.sixthTask').find('span').hasClass(\n+                      'sprites-icons-2 tick pull-right mt-xs')) {\n+                    $('.sixthTask').find('span').removeClass(\n+                        'sprites-icons-2 tick pull-right mt-xs');\n+                  }\n+                } else {\n+                  $(\"#alertMsg\").removeClass('s-box').addClass('e-box').html(\n+                      \"Unable to delete resource\");", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE2Nzk0Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438167946", "bodyText": "please fix indentation", "author": "zohrehj", "createdAt": "2020-06-10T14:30:33Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/activeTaskScheduled.jsp", "diffHunk": "@@ -44,27 +44,32 @@\n <div class=\"gray-xs-f mb-sm\">Active Task Schedule Type</div>\n <div class=\"pb-lg \">\n                <span class=\"radio radio-info radio-inline p-40\">\n-               <input type=\"radio\" id=\"schedule1\" class=\"typeofschedule\" scheduletype=\"Regular\" value=\"Regular\"\n+               <input type=\"radio\" id=\"schedule1\" class=\"typeofschedule\" scheduletype=\"Regular\"\n+                      value=\"Regular\"\n                       name=\"scheduleType\" ${empty activeTaskBo.scheduleType  || activeTaskBo.scheduleType=='Regular' ?'checked':''} ${(activeTaskBo.isDuplicate > 0)?'disabled' : ''}", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4MzAzOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438183039", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:49:04Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4MzIyNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438183226", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:49:18Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\"  name=\"textOrPdfParam\" value=\"1\" <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n+        <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\" name=\"textOrPdfParam\"\n+                           value=\"1\"\n+                           <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio2\">Upload PDF</label>\n-                </span>  \n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-             \n-            <div id=\"richEditor\" class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n-              <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\" required>${resourceBO.richText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>      \n-            </div>\n-            \n-            \n-            <div id=\"pdf_file\" class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n-                <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">Upload PDF</button>\n-                <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\" data-error=\"Please select a pdf file\" required>\n-                <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\" name=\"pdfUrl\">\n-                <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n-             <span class=\"alert customalert pdfDiv\">\n-                <a href=\"javascript:void(0)\" id=\"pdf_name\" class=\"pdfClass\" >${resourceBO.pdfName}</a>\n-\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a href=\"javascript:void(0)\" class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n+                </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4MzUwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438183507", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:49:40Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\"  name=\"textOrPdfParam\" value=\"1\" <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n+        <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\" name=\"textOrPdfParam\"\n+                           value=\"1\"\n+                           <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio2\">Upload PDF</label>\n-                </span>  \n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-             \n-            <div id=\"richEditor\" class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n-              <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\" required>${resourceBO.richText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>      \n-            </div>\n-            \n-            \n-            <div id=\"pdf_file\" class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n-                <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">Upload PDF</button>\n-                <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\" data-error=\"Please select a pdf file\" required>\n-                <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\" name=\"pdfUrl\">\n-                <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n-             <span class=\"alert customalert pdfDiv\">\n-                <a href=\"javascript:void(0)\" id=\"pdf_name\" class=\"pdfClass\" >${resourceBO.pdfName}</a>\n-\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a href=\"javascript:void(0)\" class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n+                </span>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div id=\"richEditor\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\"\n+                  required>${resourceBO.richText}</textarea>\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+\n+      <div id=\"pdf_file\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">\n+          Upload PDF\n+        </button>\n+        <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\"\n+               data-error=\"Please select a pdf file\" required>\n+        <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\"\n+               name=\"pdfUrl\">\n+        <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n+        <span class=\"alert customalert pdfDiv\">\n+                <a href=\"javascript:void(0)\" id=\"pdf_name\"\n+                   class=\"pdfClass\">${resourceBO.pdfName}</a>\n+\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a\n+            href=\"javascript:void(0)\"\n+            class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n \t\t\t</span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4MzY3Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438183673", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:49:51Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\"  name=\"textOrPdfParam\" value=\"1\" <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n+        <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\" name=\"textOrPdfParam\"\n+                           value=\"1\"\n+                           <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio2\">Upload PDF</label>\n-                </span>  \n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-             \n-            <div id=\"richEditor\" class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n-              <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\" required>${resourceBO.richText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>      \n-            </div>\n-            \n-            \n-            <div id=\"pdf_file\" class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n-                <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">Upload PDF</button>\n-                <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\" data-error=\"Please select a pdf file\" required>\n-                <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\" name=\"pdfUrl\">\n-                <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n-             <span class=\"alert customalert pdfDiv\">\n-                <a href=\"javascript:void(0)\" id=\"pdf_name\" class=\"pdfClass\" >${resourceBO.pdfName}</a>\n-\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a href=\"javascript:void(0)\" class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n+                </span>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div id=\"richEditor\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\"\n+                  required>${resourceBO.richText}</textarea>\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+\n+      <div id=\"pdf_file\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">\n+          Upload PDF\n+        </button>\n+        <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\"\n+               data-error=\"Please select a pdf file\" required>\n+        <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\"\n+               name=\"pdfUrl\">\n+        <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n+        <span class=\"alert customalert pdfDiv\">\n+                <a href=\"javascript:void(0)\" id=\"pdf_name\"\n+                   class=\"pdfClass\">${resourceBO.pdfName}</a>\n+\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a\n+            href=\"javascript:void(0)\"\n+            class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n \t\t\t</span>\n-            <div class=\"help-block with-errors red-txt\"></div>  \n-            </div>\n-             \n-            <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">   \n-            <div class=\"clearfix\"></div>\n-                \n-            <div class=\"mt-xs\">\n-                <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\" class=\"filled-tooltip\"></span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+      <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-xs\">\n+          <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span\n+              class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\"\n+                                                  title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\"\n+                                                  class=\"filled-tooltip\"></span></div>\n+          <span class=\"radio radio-info radio-inline p-45\">\n                     <input type=\"radio\" id=\"inlineRadio3\" name=\"resourceVisibilityParam\" value=\"0\"\n-                     <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n+                           <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n                       <label for=\"inlineRadio3\">Yes</label>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4Mzg5Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438183892", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:50:07Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\"  name=\"textOrPdfParam\" value=\"1\" <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n+        <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\" name=\"textOrPdfParam\"\n+                           value=\"1\"\n+                           <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio2\">Upload PDF</label>\n-                </span>  \n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-             \n-            <div id=\"richEditor\" class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n-              <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\" required>${resourceBO.richText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>      \n-            </div>\n-            \n-            \n-            <div id=\"pdf_file\" class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n-                <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">Upload PDF</button>\n-                <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\" data-error=\"Please select a pdf file\" required>\n-                <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\" name=\"pdfUrl\">\n-                <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n-             <span class=\"alert customalert pdfDiv\">\n-                <a href=\"javascript:void(0)\" id=\"pdf_name\" class=\"pdfClass\" >${resourceBO.pdfName}</a>\n-\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a href=\"javascript:void(0)\" class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n+                </span>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div id=\"richEditor\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\"\n+                  required>${resourceBO.richText}</textarea>\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+\n+      <div id=\"pdf_file\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">\n+          Upload PDF\n+        </button>\n+        <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\"\n+               data-error=\"Please select a pdf file\" required>\n+        <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\"\n+               name=\"pdfUrl\">\n+        <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n+        <span class=\"alert customalert pdfDiv\">\n+                <a href=\"javascript:void(0)\" id=\"pdf_name\"\n+                   class=\"pdfClass\">${resourceBO.pdfName}</a>\n+\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a\n+            href=\"javascript:void(0)\"\n+            class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n \t\t\t</span>\n-            <div class=\"help-block with-errors red-txt\"></div>  \n-            </div>\n-             \n-            <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">   \n-            <div class=\"clearfix\"></div>\n-                \n-            <div class=\"mt-xs\">\n-                <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\" class=\"filled-tooltip\"></span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+      <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-xs\">\n+          <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span\n+              class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\"\n+                                                  title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\"\n+                                                  class=\"filled-tooltip\"></span></div>\n+          <span class=\"radio radio-info radio-inline p-45\">\n                     <input type=\"radio\" id=\"inlineRadio3\" name=\"resourceVisibilityParam\" value=\"0\"\n-                     <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n+                           <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n                       <label for=\"inlineRadio3\">Yes</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\" <c:if test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n+          <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\"\n+                           <c:if\n+                               test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n                     <label for=\"inlineRadio4\">No</label>\n-                </span>    \n-                <div class=\"help-block with-errors red-txt\"></div>\n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-               \n-             <div class=\"mt-lg resetDate\">\n-                <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n-                <div id=\"selectTime\">\n+                </span>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-lg resetDate\">\n+          <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n+          <div id=\"selectTime\">\n                  <span class=\"radio radio-info radio-inline pr-md\">\n-                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\" name=\"resourceTypeParm\">\n+                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\"\n+                           name=\"resourceTypeParm\">\n                     <label for=\"inlineRadio5\">Anchor Date-based Period</label><br/>\n                 </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NDEyMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438184120", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:50:25Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\"  name=\"textOrPdfParam\" value=\"1\" <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n+        <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\" name=\"textOrPdfParam\"\n+                           value=\"1\"\n+                           <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio2\">Upload PDF</label>\n-                </span>  \n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-             \n-            <div id=\"richEditor\" class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n-              <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\" required>${resourceBO.richText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>      \n-            </div>\n-            \n-            \n-            <div id=\"pdf_file\" class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n-                <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">Upload PDF</button>\n-                <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\" data-error=\"Please select a pdf file\" required>\n-                <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\" name=\"pdfUrl\">\n-                <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n-             <span class=\"alert customalert pdfDiv\">\n-                <a href=\"javascript:void(0)\" id=\"pdf_name\" class=\"pdfClass\" >${resourceBO.pdfName}</a>\n-\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a href=\"javascript:void(0)\" class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n+                </span>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div id=\"richEditor\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\"\n+                  required>${resourceBO.richText}</textarea>\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+\n+      <div id=\"pdf_file\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">\n+          Upload PDF\n+        </button>\n+        <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\"\n+               data-error=\"Please select a pdf file\" required>\n+        <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\"\n+               name=\"pdfUrl\">\n+        <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n+        <span class=\"alert customalert pdfDiv\">\n+                <a href=\"javascript:void(0)\" id=\"pdf_name\"\n+                   class=\"pdfClass\">${resourceBO.pdfName}</a>\n+\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a\n+            href=\"javascript:void(0)\"\n+            class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n \t\t\t</span>\n-            <div class=\"help-block with-errors red-txt\"></div>  \n-            </div>\n-             \n-            <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">   \n-            <div class=\"clearfix\"></div>\n-                \n-            <div class=\"mt-xs\">\n-                <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\" class=\"filled-tooltip\"></span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+      <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-xs\">\n+          <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span\n+              class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\"\n+                                                  title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\"\n+                                                  class=\"filled-tooltip\"></span></div>\n+          <span class=\"radio radio-info radio-inline p-45\">\n                     <input type=\"radio\" id=\"inlineRadio3\" name=\"resourceVisibilityParam\" value=\"0\"\n-                     <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n+                           <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n                       <label for=\"inlineRadio3\">Yes</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\" <c:if test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n+          <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\"\n+                           <c:if\n+                               test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n                     <label for=\"inlineRadio4\">No</label>\n-                </span>    \n-                <div class=\"help-block with-errors red-txt\"></div>\n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-               \n-             <div class=\"mt-lg resetDate\">\n-                <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n-                <div id=\"selectTime\">\n+                </span>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-lg resetDate\">\n+          <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n+          <div id=\"selectTime\">\n                  <span class=\"radio radio-info radio-inline pr-md\">\n-                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\" name=\"resourceTypeParm\">\n+                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\"\n+                           name=\"resourceTypeParm\">\n                     <label for=\"inlineRadio5\">Anchor Date-based Period</label><br/>\n                 </span>\n-                <%-- <c:if test=\"${fn:length(anchorTypeList) gt 0}\">\n-                \t<div>\n-\t            \t  <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span class=\"requiredStar\">*</span></div>\n-\t                  <div class=\"col-md-3 col-lg-3 p-none\">\n-\t\t                  <div class=\"form-group\">\n-\t\t                     <select id=\"anchorDateId\" class=\"selectpicker disRadBtn1 disBtn1\" required name=\"anchorDateId\">\n-\t\t                      <option value='' >Select</option>\n-\t\t                      <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n-\t\t                      \t<option value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n-\t\t                      </c:forEach>\n-\t\t                     </select>\n-\t\t                     <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                  </div>\n-\t                  </div>\n-\t                  <div class=\"clearfix\"></div>\n-\t                 </div>\n-                </c:if> --%>\n-                \t<div>\n-\t            \t  <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span class=\"requiredStar\">*</span></div>\n-\t                  <div class=\"col-md-3 col-lg-3 p-none\">\n-\t\t                  <div class=\"form-group\">\n-\t\t                     <select id=\"anchorDateId\" class=\"selectpicker disBtn1\" required name=\"anchorDateId\">\n-\t\t                      <option value='' >Select</option>\n-\t\t                      <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n-\t\t                      <option value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n-\t\t                      </c:forEach>\n-\t\t                     </select>\n-\t\t                     <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                  </div>\n-\t                  </div>\n-\t                  <div class=\"clearfix\"></div>\n-\t                 </div>\n-                <span class=\"mb-sm pr-md\">\n+            <div>\n+              <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"col-md-3 col-lg-3 p-none\">\n+                <div class=\"form-group\">\n+                  <select id=\"anchorDateId\" class=\"selectpicker disBtn1\" required\n+                          name=\"anchorDateId\">\n+                    <option value=''>Select</option>\n+                    <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n+                      <option\n+                          value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n+                    </c:forEach>\n+                  </select>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+              <div class=\"clearfix\"></div>\n+            </div>\n+            <span class=\"mb-sm pr-md\">\n                     <span class=\"light-txt opacity06\">Anchor Date </span>                   \n                  </span>\n-                <span>\n-\t                 <select class=\"signDropDown selectpicker sign-box\" title=\"Select\" name=\"xDaysSign\" id=\"xSign\">\n+            <span>\n+\t                 <select class=\"signDropDown selectpicker sign-box\" title=\"Select\"\n+                           name=\"xDaysSign\" id=\"xSign\">\n \t                          <option value=\"0\" ${not resourceBO.xDaysSign ?'selected':''}>+</option>\n \t                          <option value=\"1\" ${resourceBO.xDaysSign ?'selected':''}>-</option>\n \t                 </select>\n                 </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NDI3MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438184270", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:50:36Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\"  name=\"textOrPdfParam\" value=\"1\" <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n+        <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\" name=\"textOrPdfParam\"\n+                           value=\"1\"\n+                           <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio2\">Upload PDF</label>\n-                </span>  \n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-             \n-            <div id=\"richEditor\" class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n-              <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\" required>${resourceBO.richText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>      \n-            </div>\n-            \n-            \n-            <div id=\"pdf_file\" class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n-                <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">Upload PDF</button>\n-                <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\" data-error=\"Please select a pdf file\" required>\n-                <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\" name=\"pdfUrl\">\n-                <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n-             <span class=\"alert customalert pdfDiv\">\n-                <a href=\"javascript:void(0)\" id=\"pdf_name\" class=\"pdfClass\" >${resourceBO.pdfName}</a>\n-\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a href=\"javascript:void(0)\" class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n+                </span>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div id=\"richEditor\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\"\n+                  required>${resourceBO.richText}</textarea>\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+\n+      <div id=\"pdf_file\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">\n+          Upload PDF\n+        </button>\n+        <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\"\n+               data-error=\"Please select a pdf file\" required>\n+        <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\"\n+               name=\"pdfUrl\">\n+        <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n+        <span class=\"alert customalert pdfDiv\">\n+                <a href=\"javascript:void(0)\" id=\"pdf_name\"\n+                   class=\"pdfClass\">${resourceBO.pdfName}</a>\n+\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a\n+            href=\"javascript:void(0)\"\n+            class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n \t\t\t</span>\n-            <div class=\"help-block with-errors red-txt\"></div>  \n-            </div>\n-             \n-            <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">   \n-            <div class=\"clearfix\"></div>\n-                \n-            <div class=\"mt-xs\">\n-                <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\" class=\"filled-tooltip\"></span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+      <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-xs\">\n+          <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span\n+              class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\"\n+                                                  title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\"\n+                                                  class=\"filled-tooltip\"></span></div>\n+          <span class=\"radio radio-info radio-inline p-45\">\n                     <input type=\"radio\" id=\"inlineRadio3\" name=\"resourceVisibilityParam\" value=\"0\"\n-                     <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n+                           <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n                       <label for=\"inlineRadio3\">Yes</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\" <c:if test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n+          <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\"\n+                           <c:if\n+                               test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n                     <label for=\"inlineRadio4\">No</label>\n-                </span>    \n-                <div class=\"help-block with-errors red-txt\"></div>\n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-               \n-             <div class=\"mt-lg resetDate\">\n-                <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n-                <div id=\"selectTime\">\n+                </span>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-lg resetDate\">\n+          <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n+          <div id=\"selectTime\">\n                  <span class=\"radio radio-info radio-inline pr-md\">\n-                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\" name=\"resourceTypeParm\">\n+                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\"\n+                           name=\"resourceTypeParm\">\n                     <label for=\"inlineRadio5\">Anchor Date-based Period</label><br/>\n                 </span>\n-                <%-- <c:if test=\"${fn:length(anchorTypeList) gt 0}\">\n-                \t<div>\n-\t            \t  <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span class=\"requiredStar\">*</span></div>\n-\t                  <div class=\"col-md-3 col-lg-3 p-none\">\n-\t\t                  <div class=\"form-group\">\n-\t\t                     <select id=\"anchorDateId\" class=\"selectpicker disRadBtn1 disBtn1\" required name=\"anchorDateId\">\n-\t\t                      <option value='' >Select</option>\n-\t\t                      <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n-\t\t                      \t<option value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n-\t\t                      </c:forEach>\n-\t\t                     </select>\n-\t\t                     <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                  </div>\n-\t                  </div>\n-\t                  <div class=\"clearfix\"></div>\n-\t                 </div>\n-                </c:if> --%>\n-                \t<div>\n-\t            \t  <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span class=\"requiredStar\">*</span></div>\n-\t                  <div class=\"col-md-3 col-lg-3 p-none\">\n-\t\t                  <div class=\"form-group\">\n-\t\t                     <select id=\"anchorDateId\" class=\"selectpicker disBtn1\" required name=\"anchorDateId\">\n-\t\t                      <option value='' >Select</option>\n-\t\t                      <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n-\t\t                      <option value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n-\t\t                      </c:forEach>\n-\t\t                     </select>\n-\t\t                     <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                  </div>\n-\t                  </div>\n-\t                  <div class=\"clearfix\"></div>\n-\t                 </div>\n-                <span class=\"mb-sm pr-md\">\n+            <div>\n+              <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"col-md-3 col-lg-3 p-none\">\n+                <div class=\"form-group\">\n+                  <select id=\"anchorDateId\" class=\"selectpicker disBtn1\" required\n+                          name=\"anchorDateId\">\n+                    <option value=''>Select</option>\n+                    <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n+                      <option\n+                          value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n+                    </c:forEach>\n+                  </select>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+              <div class=\"clearfix\"></div>\n+            </div>\n+            <span class=\"mb-sm pr-md\">\n                     <span class=\"light-txt opacity06\">Anchor Date </span>                   \n                  </span>\n-                <span>\n-\t                 <select class=\"signDropDown selectpicker sign-box\" title=\"Select\" name=\"xDaysSign\" id=\"xSign\">\n+            <span>\n+\t                 <select class=\"signDropDown selectpicker sign-box\" title=\"Select\"\n+                           name=\"xDaysSign\" id=\"xSign\">\n \t                          <option value=\"0\" ${not resourceBO.xDaysSign ?'selected':''}>+</option>\n \t                          <option value=\"1\" ${resourceBO.xDaysSign ?'selected':''}>-</option>\n \t                 </select>\n                 </span>\n-                <!--  selectpicker -->\n-                 <span class=\"form-group m-none dis-inline vertical-align-middle\">\n+            <!--  selectpicker -->\n+            <span class=\"form-group m-none dis-inline vertical-align-middle\">\n                  \t\n-                     <input id=\"xdays\" type=\"text\" class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave daysMask mt-sm resetAncDate\" \n-                     placeholder=\"X\" name=\"timePeriodFromDays\" value=\"${resourceBO.timePeriodFromDays}\" oldxDaysVal=\"${resourceBO.timePeriodFromDays}\" \n-                     maxlength=\"3\" required pattern=\"[0-9]+\" data-pattern-error=\"Please enter valid number.\"/>\n+                     <input id=\"xdays\" type=\"text\"\n+                            class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave daysMask mt-sm resetAncDate\"\n+                            placeholder=\"X\" name=\"timePeriodFromDays\"\n+                            value=\"${resourceBO.timePeriodFromDays}\"\n+                            oldxDaysVal=\"${resourceBO.timePeriodFromDays}\"\n+                            maxlength=\"3\" required pattern=\"[0-9]+\"\n+                            data-pattern-error=\"Please enter valid number.\"/>\n                  \t <span class=\"help-block with-errors red-txt\"></span>\n                  </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NDYwOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438184608", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:51:00Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditResourcePage.jsp", "diffHunk": "@@ -1,890 +1,955 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-  <!-- ============================================================== -->\n-         <!-- Start right Content here -->\n-         <!-- ============================================================== --> \n-        <div class=\"col-sm-10 col-rc white-bg p-none\">\n-        <form:form action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\" enctype=\"multipart/form-data\">    \n-            <!--  Start top tab section-->\n-            <div class=\"right-content-head\">        \n-                <div class=\"text-right\">\n-                    <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a href=\"javascript:void(0)\" class=\"goToResourceListForm\" id=\"goToResourceListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n-                    <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n-                    <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-                    </c:if>\n-                    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-                    <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n-                    <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n-                    </c:if></div>\n-                     \n-                    <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                     </div>\n-                    \n-                     <div class=\"dis-line form-group mb-none mr-sm\">\n-                         <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save</button>\n-                     </div>\n-\n-                     <div class=\"dis-line form-group mb-none\">\n-                         <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done</button>\n-                     </div>\n-                 </div>\n-            </div>\n-            <!--  End  top tab section-->\n-            <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n-            <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n-            <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n-            <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n-            \t<input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+<!-- ============================================================== -->\n+<!-- Start right Content here -->\n+<!-- ============================================================== -->\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateResource.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" id=\"resourceForm\" role=\"form\" method=\"post\" autocomplete=\"off\"\n+      enctype=\"multipart/form-data\">\n+    <!-- Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\"><span class=\"pr-sm\"><a\n+            href=\"javascript:void(0)\"\n+            class=\"goToResourceListForm\"\n+            id=\"goToResourceListForm\"><img\n+            src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a></span>\n+          <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Resource</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Resource</c:if>\n+            <c:if test=\"${not empty resourceBO && actionOn eq 'view'}\">View Resource <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n             </c:if>\n-            \n-            \n-            <!--  Start body tab section -->\n-            <div class=\"right-content-body\">\n-                \n-             <div class=\"mt-none\">\n-                <!-- form- input-->\n-                <div>\n-                   <div class=\"gray-xs-f mb-xs\">Title <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span class=\"requiredStar\"> *</span></div>\n-                   <div class=\"form-group\">\n-                        <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\" name=\"title\" value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required  <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n-                   \t\t<div class=\"help-block with-errors red-txt\"></div>\n-                   </div>\n-                </div>\n-             </div>\n-                \n-            <div class=\"clearfix\"></div>\n-                \n-            <div>\n-            <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n-                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\"  name=\"textOrPdfParam\" value=\"0\" <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n+          </c:if>\n+          <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+            <c:if test=\"${actionOn eq 'add'}\">Add Study Protocol</c:if>\n+            <c:if test=\"${actionOn eq 'edit'}\">Edit Study Protocol</c:if>\n+          </c:if></div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToResourceListForm\"\n+                  id=\"goToStudyListPage\">\n+            Cancel\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn viewAct\" id=\"saveResourceId\">Save\n+          </button>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn viewAct\" id=\"doneResourceId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <input type=\"hidden\" name=\"id\" value=\"${resourceBO.id}\"/>\n+    <input type=\"hidden\" id=\"buttonText\" name=\"buttonText\">\n+    <input type=\"hidden\" id=\"actionOn\" name=\"actionOn\">\n+    <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">\n+      <input type=\"hidden\" name=\"isstudyProtocol\" value=\"isstudyProtocol\"/>\n+    </c:if>\n+\n+\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+\n+      <div class=\"mt-none\">\n+        <!-- form- input-->\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Title <c:if\n+              test=\"${isstudyProtocol ne 'isstudyProtocol'}\">&nbsp;<small class=\"viewAct\">(50 characters max)</small></c:if><span\n+              class=\"requiredStar\"> *</span></div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" id=\"resourceTitle\"\n+                   name=\"title\"\n+                   value=\"${fn:escapeXml(resourceBO.title)}\" maxlength=\"50\" required\n+                   <c:if test=\"${isstudyProtocol eq 'isstudyProtocol'}\">readonly</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">Content Type<span class=\"requiredStar\"> *</span></div>\n+        <span class=\"radio radio-info radio-inline p-45\">\n+                    <input type=\"radio\" class=\"addResource\" id=\"inlineRadio1\" name=\"textOrPdfParam\"\n+                           value=\"0\"\n+                           <c:if test=\"${not resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio1\">Rich Text editor</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\"  name=\"textOrPdfParam\" value=\"1\" <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n+        <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio2\" class=\"addResource\" name=\"textOrPdfParam\"\n+                           value=\"1\"\n+                           <c:if test=\"${resourceBO.textOrPdf}\">checked</c:if>>\n                     <label for=\"inlineRadio2\">Upload PDF</label>\n-                </span>  \n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-             \n-            <div id=\"richEditor\" class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n-              <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\" required>${resourceBO.richText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>      \n-            </div>\n-            \n-            \n-            <div id=\"pdf_file\" class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n-                <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">Upload PDF</button>\n-                <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\" data-error=\"Please select a pdf file\" required>\n-                <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\" name=\"pdfUrl\">\n-                <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n-             <span class=\"alert customalert pdfDiv\">\n-                <a href=\"javascript:void(0)\" id=\"pdf_name\" class=\"pdfClass\" >${resourceBO.pdfName}</a>\n-\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a href=\"javascript:void(0)\" class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n+                </span>\n+      </div>\n+\n+      <div class=\"clearfix\"></div>\n+\n+      <div id=\"richEditor\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <textarea class=\"remReqOnSave\" id=\"richText\" name=\"richText\"\n+                  required>${resourceBO.richText}</textarea>\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+\n+      <div id=\"pdf_file\"\n+           class=\"mt-lg form-group resetContentType <c:if test=\"${empty resourceBO || not resourceBO.textOrPdf}\">dis-none</c:if>\">\n+        <button id=\"uploadPdf\" type=\"button\" class=\"btn btn-default gray-btn uploadPdf viewAct\">\n+          Upload PDF\n+        </button>\n+        <input id=\"uploadImg\" class=\"dis-none remReqOnSave\" type=\"file\" name=\"pdfFile\" accept=\".pdf\"\n+               data-error=\"Please select a pdf file\" required>\n+        <input type=\"hidden\" class=\"remReqOnSave\" value=\"${resourceBO.pdfUrl}\" required id=\"pdfUrl\"\n+               name=\"pdfUrl\">\n+        <input type=\"hidden\" value=\"${resourceBO.pdfName}\" id=\"pdfName\" name=\"pdfName\">\n+        <span class=\"alert customalert pdfDiv\">\n+                <a href=\"javascript:void(0)\" id=\"pdf_name\"\n+                   class=\"pdfClass\">${resourceBO.pdfName}</a>\n+\t\t\t\t<span id=\"delete\" class=\"blue-link dis-none viewAct borr\">&nbsp;X<a\n+            href=\"javascript:void(0)\"\n+            class=\"blue-link pl-xs mr-sm\">Remove PDF</a></span>\n \t\t\t</span>\n-            <div class=\"help-block with-errors red-txt\"></div>  \n-            </div>\n-             \n-            <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">   \n-            <div class=\"clearfix\"></div>\n-                \n-            <div class=\"mt-xs\">\n-                <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\" title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\" class=\"filled-tooltip\"></span></div>\n-                 <span class=\"radio radio-info radio-inline p-45\">\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+\n+      <c:if test=\"${isstudyProtocol ne 'isstudyProtocol'}\">\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-xs\">\n+          <div class=\"gray-xs-f mb-sm\">Set a Period of Visibility for this resource? <span\n+              class=\"requiredStar\">*</span> <span data-toggle=\"tooltip\" data-placement=\"top\"\n+                                                  title=\"If you choose Yes, the resource will be made available in the app for the selected time period. If you choose No, the Resource is available for the entire duration of the study.\"\n+                                                  class=\"filled-tooltip\"></span></div>\n+          <span class=\"radio radio-info radio-inline p-45\">\n                     <input type=\"radio\" id=\"inlineRadio3\" name=\"resourceVisibilityParam\" value=\"0\"\n-                     <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n+                           <c:if test=\"${not resourceBO.resourceVisibility}\">checked</c:if>>\n                       <label for=\"inlineRadio3\">Yes</label>\n                 </span>\n-                <span class=\"radio radio-inline\">\n-                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\" <c:if test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n+          <span class=\"radio radio-inline\">\n+                    <input type=\"radio\" id=\"inlineRadio4\" name=\"resourceVisibilityParam\" value=\"1\"\n+                           <c:if\n+                               test=\"${resourceBO.resourceVisibility  || empty resourceBO}\">checked</c:if>>\n                     <label for=\"inlineRadio4\">No</label>\n-                </span>    \n-                <div class=\"help-block with-errors red-txt\"></div>\n-            </div>\n-                \n-            <div class=\"clearfix\"></div>\n-               \n-             <div class=\"mt-lg resetDate\">\n-                <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n-                <div id=\"selectTime\">\n+                </span>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-lg resetDate\">\n+          <div class=\"gray-xs-f mb-xs\">Select Time Period <span class=\"requiredStar\">*</span></div>\n+          <div id=\"selectTime\">\n                  <span class=\"radio radio-info radio-inline pr-md\">\n-                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\" name=\"resourceTypeParm\">\n+                    <input type=\"radio\" id=\"inlineRadio5\" class=\"disRadBtn1\" value=\"1\"\n+                           name=\"resourceTypeParm\">\n                     <label for=\"inlineRadio5\">Anchor Date-based Period</label><br/>\n                 </span>\n-                <%-- <c:if test=\"${fn:length(anchorTypeList) gt 0}\">\n-                \t<div>\n-\t            \t  <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span class=\"requiredStar\">*</span></div>\n-\t                  <div class=\"col-md-3 col-lg-3 p-none\">\n-\t\t                  <div class=\"form-group\">\n-\t\t                     <select id=\"anchorDateId\" class=\"selectpicker disRadBtn1 disBtn1\" required name=\"anchorDateId\">\n-\t\t                      <option value='' >Select</option>\n-\t\t                      <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n-\t\t                      \t<option value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n-\t\t                      </c:forEach>\n-\t\t                     </select>\n-\t\t                     <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                  </div>\n-\t                  </div>\n-\t                  <div class=\"clearfix\"></div>\n-\t                 </div>\n-                </c:if> --%>\n-                \t<div>\n-\t            \t  <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span class=\"requiredStar\">*</span></div>\n-\t                  <div class=\"col-md-3 col-lg-3 p-none\">\n-\t\t                  <div class=\"form-group\">\n-\t\t                     <select id=\"anchorDateId\" class=\"selectpicker disBtn1\" required name=\"anchorDateId\">\n-\t\t                      <option value='' >Select</option>\n-\t\t                      <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n-\t\t                      <option value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n-\t\t                      </c:forEach>\n-\t\t                     </select>\n-\t\t                     <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                  </div>\n-\t                  </div>\n-\t                  <div class=\"clearfix\"></div>\n-\t                 </div>\n-                <span class=\"mb-sm pr-md\">\n+            <div>\n+              <div class=\"gray-xs-f col-md-3 col-lg-3 p-none mt-sm\">Select Anchor Date Type<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"col-md-3 col-lg-3 p-none\">\n+                <div class=\"form-group\">\n+                  <select id=\"anchorDateId\" class=\"selectpicker disBtn1\" required\n+                          name=\"anchorDateId\">\n+                    <option value=''>Select</option>\n+                    <c:forEach items=\"${anchorTypeList}\" var=\"anchorTypeInfo\">\n+                      <option\n+                          value=\"${anchorTypeInfo.id}\" ${resourceBO.anchorDateId eq anchorTypeInfo.id ? 'selected' : ''}>${anchorTypeInfo.name}</option>\n+                    </c:forEach>\n+                  </select>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+              <div class=\"clearfix\"></div>\n+            </div>\n+            <span class=\"mb-sm pr-md\">\n                     <span class=\"light-txt opacity06\">Anchor Date </span>                   \n                  </span>\n-                <span>\n-\t                 <select class=\"signDropDown selectpicker sign-box\" title=\"Select\" name=\"xDaysSign\" id=\"xSign\">\n+            <span>\n+\t                 <select class=\"signDropDown selectpicker sign-box\" title=\"Select\"\n+                           name=\"xDaysSign\" id=\"xSign\">\n \t                          <option value=\"0\" ${not resourceBO.xDaysSign ?'selected':''}>+</option>\n \t                          <option value=\"1\" ${resourceBO.xDaysSign ?'selected':''}>-</option>\n \t                 </select>\n                 </span>\n-                <!--  selectpicker -->\n-                 <span class=\"form-group m-none dis-inline vertical-align-middle\">\n+            <!--  selectpicker -->\n+            <span class=\"form-group m-none dis-inline vertical-align-middle\">\n                  \t\n-                     <input id=\"xdays\" type=\"text\" class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave daysMask mt-sm resetAncDate\" \n-                     placeholder=\"X\" name=\"timePeriodFromDays\" value=\"${resourceBO.timePeriodFromDays}\" oldxDaysVal=\"${resourceBO.timePeriodFromDays}\" \n-                     maxlength=\"3\" required pattern=\"[0-9]+\" data-pattern-error=\"Please enter valid number.\"/>\n+                     <input id=\"xdays\" type=\"text\"\n+                            class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave daysMask mt-sm resetAncDate\"\n+                            placeholder=\"X\" name=\"timePeriodFromDays\"\n+                            value=\"${resourceBO.timePeriodFromDays}\"\n+                            oldxDaysVal=\"${resourceBO.timePeriodFromDays}\"\n+                            maxlength=\"3\" required pattern=\"[0-9]+\"\n+                            data-pattern-error=\"Please enter valid number.\"/>\n                  \t <span class=\"help-block with-errors red-txt\"></span>\n                  </span>\n-                 <span class=\"mb-sm pr-md\">\n-                    <span class=\"light-txt opacity06\"> days <span style=\"padding-right:5px;padding-left:5px\">to </span>  Anchor Date </span>                   \n+            <span class=\"mb-sm pr-md\">\n+                    <span class=\"light-txt opacity06\"> days <span\n+                        style=\"padding-right:5px;padding-left:5px\">to </span>  Anchor Date </span>\n                  </span>\n-                 \n-                 <span>\n-                 \t <select class=\"signDropDown selectpicker sign-box\" title=\"Select\" name=\"yDaysSign\" id=\"ySign\">\n-                              <option value=\"0\" ${not resourceBO.yDaysSign ?'selected':''}>+</option>\n+\n+            <span>\n+                 \t <select class=\"signDropDown selectpicker sign-box\" title=\"Select\"\n+                           name=\"yDaysSign\" id=\"ySign\">\n+                              <option\n+                                  value=\"0\" ${not resourceBO.yDaysSign ?'selected':''}>+</option>\n                               <option value=\"1\" ${resourceBO.yDaysSign ?'selected':''}>-</option>\n                      </select>\n                  </span>\n-                 \n-                  <span class=\"form-group m-none dis-inline vertical-align-middle\">\n+\n+            <span class=\"form-group m-none dis-inline vertical-align-middle\">\n                     \n-                     <input id=\"ydays\" type=\"text\" class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave daysMask mt-sm resetAncDate\" placeholder=\"Y\" \n-                     \tname=\"timePeriodToDays\" value=\"${resourceBO.timePeriodToDays}\" oldyDaysVal=\"${resourceBO.timePeriodToDays}\" maxlength=\"3\" required />\n+                     <input id=\"ydays\" type=\"text\"\n+                            class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave daysMask mt-sm resetAncDate\"\n+                            placeholder=\"Y\"\n+                            name=\"timePeriodToDays\" value=\"${resourceBO.timePeriodToDays}\"\n+                            oldyDaysVal=\"${resourceBO.timePeriodToDays}\" maxlength=\"3\" required/>\n                      \t\n                  \t <span class=\"help-block with-errors red-txt\"></span>\n                  </span>\n-                 <span class=\"mb-sm pr-md\">\n+            <span class=\"mb-sm pr-md\">\n \t                    <span class=\"light-txt opacity06 disBtn1\"> days </span>                   \n \t                 </span>\n-                 </div>\n-             </div>\n-                \n-             <div class=\"mt-lg resetDate\">\n-                 <div class=\"mb-none\">\n+          </div>\n+        </div>\n+\n+        <div class=\"mt-lg resetDate\">\n+          <div class=\"mb-none\">\n                      <span class=\"radio radio-info radio-inline pr-md\">\n-                        <input type=\"radio\" class=\"disRadBtn1\" id=\"inlineRadio6\" value=\"0\" name=\"resourceTypeParm\">\n+                        <input type=\"radio\" class=\"disRadBtn1\" id=\"inlineRadio6\" value=\"0\"\n+                               name=\"resourceTypeParm\">\n                         <label for=\"inlineRadio6\">Custom Date Range</label>\n                     </span>\n-                </div>\n-                 <div>\n+          </div>\n+          <div>\n                      <span class=\"form-group m-none dis-inline vertical-align-middle pr-md\">\n-                         <input id=\"StartDate\" type=\"text\" class=\"form-control disRadBtn1 disBtn2 datepicker remReqOnSave mt-md\" placeholder=\"Start Date\" name=\"startDate\" value=\"${resourceBO.startDate}\" oldStartDateVal=\"${resourceBO.startDate}\" required/>\n+                         <input id=\"StartDate\" type=\"text\"\n+                                class=\"form-control disRadBtn1 disBtn2 datepicker remReqOnSave mt-md\"\n+                                placeholder=\"Start Date\" name=\"startDate\"\n+                                value=\"${resourceBO.startDate}\"\n+                                oldStartDateVal=\"${resourceBO.startDate}\" required/>\n                          <span class=\"help-block with-errors red-txt\"></span>\n                      </span>\n-                     <span class=\"gray-xs-f mb-sm pr-md\">\n+            <span class=\"gray-xs-f mb-sm pr-md\">\n                         to \n                      </span>\n-                      <span class=\"form-group m-none dis-inline vertical-align-middle\">\n-                         <input id=\"EndDate\" type=\"text\" class=\"form-control disRadBtn1 disBtn2 datepicker remReqOnSave mt-md\" placeholder=\"End Date\" name=\"endDate\" value=\"${resourceBO.endDate}\" oldEndDateVal=\"${resourceBO.endDate}\" required/>\n+            <span class=\"form-group m-none dis-inline vertical-align-middle\">\n+                         <input id=\"EndDate\" type=\"text\"\n+                                class=\"form-control disRadBtn1 disBtn2 datepicker remReqOnSave mt-md\"\n+                                placeholder=\"End Date\" name=\"endDate\" value=\"${resourceBO.endDate}\"\n+                                oldEndDateVal=\"${resourceBO.endDate}\" required/>\n                     \t <span class=\"help-block with-errors red-txt\"></span>\n                      </span>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                 </div>\n-             </div>\n-            \n-              <div class=\"clearfix\"></div>\n-                \n-             <div class=\"mt-sm\">\n-                <div class=\"gray-xs-f mb-xs\">Text for notifying participants about the new resource being available&nbsp;<small class=\"viewAct\">(250 characters max)</small> <span class=\"requiredStar\">*</span> </div>\n-                 \n-                 <div class=\"form-group\">\n-                  <textarea class=\"form-control remReqOnSave\" rows=\"4\" id=\"comment\" name=\"resourceText\" data-error=\"Please enter plain text of up to 250 characters max.\" maxlength=\"250\" required>${resourceBO.resourceText}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-                 </div>\n-             </div>\n-            </c:if>\n-            \n-                \n-            </div>\n-            <!--  End body tab section -->\n-            <!-- Modal -->\n-\t\t\t<div class=\"modal fade\" id=\"myModal\" role=\"dialog\">\n-\t\t\t   <div class=\"modal-dialog modal-lg\" style=\"width:98%;\">\n-\t\t\t      <!-- Modal content-->\n-\t\t\t      <div class=\"modal-content\">\n-\t\t\t      <div class=\"modal-header\">\n-\t\t\t          <button type=\"button\" class=\"close\" data-dismiss=\"modal\">&times;</button>\n-\t\t\t       </div>\n-\t\t\t         <div class=\"modal-body pt-xs pb-lg pl-xlg pr-xlg\" >\n-\t\t\t            <embed id=\"embedPdfId\" src=\"<spring:eval expression=\"@propertyConfigurer.getProperty('fda.imgDisplaydPath')\" />studyResources/${resourceBO.pdfUrl}\" oncontextmenu=\"return false;\" onkeydown=\"return false;\" onmousedown=\"return false;\" width=\"100%\" height=\"500px\" />\n-\t\t\t         </div>\n-\t\t\t      </div>\n-\t\t\t   </div>\n-\t\t\t</div>\n-        </form:form>   \n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+\n+        <div class=\"clearfix\"></div>\n+\n+        <div class=\"mt-sm\">\n+          <div class=\"gray-xs-f mb-xs\">Text for notifying participants about the new resource being\n+            available&nbsp;<small\n+                class=\"viewAct\">(250 characters max)</small> <span class=\"requiredStar\">*</span>\n+          </div>\n+\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control remReqOnSave\" rows=\"4\" id=\"comment\"\n+                                  name=\"resourceText\"\n+                                  data-error=\"Please enter plain text of up to 250 characters max.\"\n+                                  maxlength=\"250\"\n+                                  required>${resourceBO.resourceText}</textarea>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NTQ5OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438185499", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:52:07Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditStudyNotification.jsp", "diffHunk": "@@ -1,430 +1,467 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n \n- <div class=\"col-sm-10 col-rc white-bg p-none\">\n-       <form:form action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" \n-       data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\"  method=\"post\" autocomplete=\"off\">       \n-       <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n-       <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n-       <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n-       <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n-       <div class=\"right-content-head\"> \n-           <div class=\"text-right\">\n-               <div class=\"black-md-f dis-line pull-left line34\">\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\" method=\"post\"\n+      autocomplete=\"off\">\n+    <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n+    <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n+    <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n+    <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\">\n \t               <span class=\"pr-sm\">\n-\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\" id=\"goToNotificationListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n+\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\"\n+                       id=\"goToNotificationListForm\"><img\n+                        src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n \t               </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NTczMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438185732", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:52:25Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditStudyNotification.jsp", "diffHunk": "@@ -1,430 +1,467 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n \n- <div class=\"col-sm-10 col-rc white-bg p-none\">\n-       <form:form action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" \n-       data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\"  method=\"post\" autocomplete=\"off\">       \n-       <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n-       <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n-       <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n-       <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n-       <div class=\"right-content-head\"> \n-           <div class=\"text-right\">\n-               <div class=\"black-md-f dis-line pull-left line34\">\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\" method=\"post\"\n+      autocomplete=\"off\">\n+    <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n+    <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n+    <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n+    <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\">\n \t               <span class=\"pr-sm\">\n-\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\" id=\"goToNotificationListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n+\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\"\n+                       id=\"goToNotificationListForm\"><img\n+                        src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n \t               </span>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">Add Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n-               </div>\n-               \n-               <div class=\"dis-line form-group mb-none\">\n-                    <button type=\"button\" class=\"btn btn-default gray-btn goToNotificationListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                </div>\n-                <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary gray-btn deleteNotificationButtonHide ml-sm\" id=\"deleteStudyNotification\">Delete</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                      <button type=\"button\" class=\"btn btn-default gray-btn studyNotificationButtonHide ml-sm mr-sm\" id=\"saveStudyId\">Save</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary blue-btn studyNotificationButtonHide mr-sm\" id=\"doneStudyId\">Done</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary blue-btn resendBuuttonAsDone mr-sm\" id=\"resendStudyId\">Done</button>\n-                 </div>\n-            </div>\n-       </div>\n-       <!--  End  top tab section-->\n-       <!--  Start body tab section -->\n-       <div class=\"right-content-body\">\n-           <!-- form- input-->\n-       <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit' && not empty notificationHistoryNoDateTime}\">\n-\t       <div>\n-\t       \t\t<span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n-\t       </div>\n-       </c:if>\n-           \n-       <div class=\"pl-none mt-none\">\n-           <div class=\"gray-xs-f mb-xs\">Notification Text (250 characters max) <span class=\"requiredStar\">*</span></div>\n-           <div class=\"form-group\">\n-               <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\" id=\"notificationText\" name=\"notificationText\" required\n+          <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">Add Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToNotificationListForm\"\n+                  id=\"goToStudyListPage\">Cancel\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary gray-btn deleteNotificationButtonHide ml-sm\"\n+                  id=\"deleteStudyNotification\">Delete\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\"\n+                  class=\"btn btn-default gray-btn studyNotificationButtonHide ml-sm mr-sm\"\n+                  id=\"saveStudyId\">Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn studyNotificationButtonHide mr-sm\"\n+                  id=\"doneStudyId\">Done\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn resendBuuttonAsDone mr-sm\"\n+                  id=\"resendStudyId\">\n+            Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+      <!-- form- input-->\n+      <c:if\n+          test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit' && not empty notificationHistoryNoDateTime}\">\n+        <div>\n+          <span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n+        </div>\n+      </c:if>\n+\n+      <div class=\"pl-none mt-none\">\n+        <div class=\"gray-xs-f mb-xs\">Notification Text (250 characters max) <span\n+            class=\"requiredStar\">*</span>\n+        </div>\n+        <div class=\"form-group\">\n+               <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\"\n+                         id=\"notificationText\"\n+                         name=\"notificationText\" required\n                >${notificationBO.notificationText}</textarea>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NTg1MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438185850", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:52:35Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditStudyNotification.jsp", "diffHunk": "@@ -1,430 +1,467 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n \n- <div class=\"col-sm-10 col-rc white-bg p-none\">\n-       <form:form action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" \n-       data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\"  method=\"post\" autocomplete=\"off\">       \n-       <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n-       <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n-       <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n-       <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n-       <div class=\"right-content-head\"> \n-           <div class=\"text-right\">\n-               <div class=\"black-md-f dis-line pull-left line34\">\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\" method=\"post\"\n+      autocomplete=\"off\">\n+    <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n+    <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n+    <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n+    <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\">\n \t               <span class=\"pr-sm\">\n-\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\" id=\"goToNotificationListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n+\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\"\n+                       id=\"goToNotificationListForm\"><img\n+                        src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n \t               </span>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">Add Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n-               </div>\n-               \n-               <div class=\"dis-line form-group mb-none\">\n-                    <button type=\"button\" class=\"btn btn-default gray-btn goToNotificationListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                </div>\n-                <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary gray-btn deleteNotificationButtonHide ml-sm\" id=\"deleteStudyNotification\">Delete</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                      <button type=\"button\" class=\"btn btn-default gray-btn studyNotificationButtonHide ml-sm mr-sm\" id=\"saveStudyId\">Save</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary blue-btn studyNotificationButtonHide mr-sm\" id=\"doneStudyId\">Done</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary blue-btn resendBuuttonAsDone mr-sm\" id=\"resendStudyId\">Done</button>\n-                 </div>\n-            </div>\n-       </div>\n-       <!--  End  top tab section-->\n-       <!--  Start body tab section -->\n-       <div class=\"right-content-body\">\n-           <!-- form- input-->\n-       <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit' && not empty notificationHistoryNoDateTime}\">\n-\t       <div>\n-\t       \t\t<span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n-\t       </div>\n-       </c:if>\n-           \n-       <div class=\"pl-none mt-none\">\n-           <div class=\"gray-xs-f mb-xs\">Notification Text (250 characters max) <span class=\"requiredStar\">*</span></div>\n-           <div class=\"form-group\">\n-               <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\" id=\"notificationText\" name=\"notificationText\" required\n+          <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">Add Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToNotificationListForm\"\n+                  id=\"goToStudyListPage\">Cancel\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary gray-btn deleteNotificationButtonHide ml-sm\"\n+                  id=\"deleteStudyNotification\">Delete\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\"\n+                  class=\"btn btn-default gray-btn studyNotificationButtonHide ml-sm mr-sm\"\n+                  id=\"saveStudyId\">Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn studyNotificationButtonHide mr-sm\"\n+                  id=\"doneStudyId\">Done\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn resendBuuttonAsDone mr-sm\"\n+                  id=\"resendStudyId\">\n+            Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+      <!-- form- input-->\n+      <c:if\n+          test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit' && not empty notificationHistoryNoDateTime}\">\n+        <div>\n+          <span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n+        </div>\n+      </c:if>\n+\n+      <div class=\"pl-none mt-none\">\n+        <div class=\"gray-xs-f mb-xs\">Notification Text (250 characters max) <span\n+            class=\"requiredStar\">*</span>\n+        </div>\n+        <div class=\"form-group\">\n+               <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\"\n+                         id=\"notificationText\"\n+                         name=\"notificationText\" required\n                >${notificationBO.notificationText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>\n-           </div>\n-       </div>\n-       \n-       <div class=\"mt-lg mb-none\">\n-       \t\t<div class=\"form-group hideOnHover\">\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+      </div>\n+\n+      <div class=\"mt-lg mb-none\">\n+        <div class=\"form-group hideOnHover\">\n \t\t            <span class=\"radio radio-info radio-inline p-45\">\n-\t\t                <input type=\"radio\" id=\"inlineRadio1\" value=\"notImmediate\" name=\"currentDateTime\"\n-\t\t                <c:if test=\"${notificationBO.notificationScheduleType eq 'notImmediate'}\">checked</c:if>\n-\t\t                <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">checked</c:if>>\n+\t\t                <input type=\"radio\" id=\"inlineRadio1\" value=\"notImmediate\"\n+                           name=\"currentDateTime\"\n+                           <c:if\n+                               test=\"${notificationBO.notificationScheduleType eq 'notImmediate'}\">checked</c:if>\n+                           <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">checked</c:if>>\n \t\t                <label for=\"inlineRadio1\">Schedule a date / time</label>\t                    \n \t\t            </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NTk3Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438185972", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:52:45Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditStudyNotification.jsp", "diffHunk": "@@ -1,430 +1,467 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%> \n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib uri = \"http://java.sun.com/jsp/jstl/fmt\" prefix = \"fmt\" %>\n-<jsp:useBean id=\"date\" class=\"java.util.Date\" />\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/fmt\" prefix=\"fmt\" %>\n+<jsp:useBean id=\"date\" class=\"java.util.Date\"/>\n <c:set var=\"tz\" value=\"America/Los_Angeles\"/>\n \n- <div class=\"col-sm-10 col-rc white-bg p-none\">\n-       <form:form action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" \n-       data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\"  method=\"post\" autocomplete=\"off\">       \n-       <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n-       <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n-       <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n-       <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n-       <div class=\"right-content-head\"> \n-           <div class=\"text-right\">\n-               <div class=\"black-md-f dis-line pull-left line34\">\n+<div class=\"col-sm-10 col-rc white-bg p-none\">\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateStudyNotification.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      data-toggle=\"validator\" role=\"form\" id=\"studyNotificationFormId\" method=\"post\"\n+      autocomplete=\"off\">\n+    <input type=\"hidden\" name=\"buttonType\" id=\"buttonType\">\n+    <input type=\"hidden\" name=\"notificationId\" value=\"${notificationBO.notificationId}\">\n+    <input type=\"hidden\" name=\"actionPage\" value=\"${notificationBO.actionPage}\">\n+    <input type=\"hidden\" name=\"appId\" value=\"${appId}\">\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\">\n \t               <span class=\"pr-sm\">\n-\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\" id=\"goToNotificationListForm\"><img src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n+\t               \t\t<a href=\"javascript:void(0)\" class=\"goToNotificationListForm\"\n+                       id=\"goToNotificationListForm\"><img\n+                        src=\"/studybuilder/images/icons/back-b.png\" alt=\"\"/></a>\n \t               </span>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">Add Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n-\t               <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n-               </div>\n-               \n-               <div class=\"dis-line form-group mb-none\">\n-                    <button type=\"button\" class=\"btn btn-default gray-btn goToNotificationListForm\" id=\"goToStudyListPage\">Cancel</button>\n-                </div>\n-                <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary gray-btn deleteNotificationButtonHide ml-sm\" id=\"deleteStudyNotification\">Delete</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                      <button type=\"button\" class=\"btn btn-default gray-btn studyNotificationButtonHide ml-sm mr-sm\" id=\"saveStudyId\">Save</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary blue-btn studyNotificationButtonHide mr-sm\" id=\"doneStudyId\">Done</button>\n-                 </div>\n-                 <div class=\"dis-line form-group mb-none\">\n-                     \t<button type=\"button\" class=\"btn btn-primary blue-btn resendBuuttonAsDone mr-sm\" id=\"resendStudyId\">Done</button>\n-                 </div>\n-            </div>\n-       </div>\n-       <!--  End  top tab section-->\n-       <!--  Start body tab section -->\n-       <div class=\"right-content-body\">\n-           <!-- form- input-->\n-       <c:if test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit' && not empty notificationHistoryNoDateTime}\">\n-\t       <div>\n-\t       \t\t<span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n-\t       </div>\n-       </c:if>\n-           \n-       <div class=\"pl-none mt-none\">\n-           <div class=\"gray-xs-f mb-xs\">Notification Text (250 characters max) <span class=\"requiredStar\">*</span></div>\n-           <div class=\"form-group\">\n-               <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\" id=\"notificationText\" name=\"notificationText\" required\n+          <c:if test=\"${notificationBO.actionPage eq 'edit'}\">Edit Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">Add Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'view'}\">View Notification</c:if>\n+          <c:if test=\"${notificationBO.actionPage eq 'resend'}\">Resend Notification</c:if>\n+        </div>\n+\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn goToNotificationListForm\"\n+                  id=\"goToStudyListPage\">Cancel\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary gray-btn deleteNotificationButtonHide ml-sm\"\n+                  id=\"deleteStudyNotification\">Delete\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\"\n+                  class=\"btn btn-default gray-btn studyNotificationButtonHide ml-sm mr-sm\"\n+                  id=\"saveStudyId\">Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn studyNotificationButtonHide mr-sm\"\n+                  id=\"doneStudyId\">Done\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn resendBuuttonAsDone mr-sm\"\n+                  id=\"resendStudyId\">\n+            Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+      <!-- form- input-->\n+      <c:if\n+          test=\"${notificationBO.notificationSent && notificationBO.actionPage eq 'edit' && not empty notificationHistoryNoDateTime}\">\n+        <div>\n+          <span>This notification has already been sent out to users and cannot be edited. To resend this notification, use the Resend action and choose a time for firing the notification.</span>\n+        </div>\n+      </c:if>\n+\n+      <div class=\"pl-none mt-none\">\n+        <div class=\"gray-xs-f mb-xs\">Notification Text (250 characters max) <span\n+            class=\"requiredStar\">*</span>\n+        </div>\n+        <div class=\"form-group\">\n+               <textarea autofocus=\"autofocus\" class=\"form-control\" maxlength=\"250\" rows=\"5\"\n+                         id=\"notificationText\"\n+                         name=\"notificationText\" required\n                >${notificationBO.notificationText}</textarea>\n-               <div class=\"help-block with-errors red-txt\"></div>\n-           </div>\n-       </div>\n-       \n-       <div class=\"mt-lg mb-none\">\n-       \t\t<div class=\"form-group hideOnHover\">\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+      </div>\n+\n+      <div class=\"mt-lg mb-none\">\n+        <div class=\"form-group hideOnHover\">\n \t\t            <span class=\"radio radio-info radio-inline p-45\">\n-\t\t                <input type=\"radio\" id=\"inlineRadio1\" value=\"notImmediate\" name=\"currentDateTime\"\n-\t\t                <c:if test=\"${notificationBO.notificationScheduleType eq 'notImmediate'}\">checked</c:if>\n-\t\t                <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">checked</c:if>>\n+\t\t                <input type=\"radio\" id=\"inlineRadio1\" value=\"notImmediate\"\n+                           name=\"currentDateTime\"\n+                           <c:if\n+                               test=\"${notificationBO.notificationScheduleType eq 'notImmediate'}\">checked</c:if>\n+                           <c:if test=\"${notificationBO.actionPage eq 'addOrCopy'}\">checked</c:if>>\n \t\t                <label for=\"inlineRadio1\">Schedule a date / time</label>\t                    \n \t\t            </span>\n-\t\t            <span class=\"radio radio-inline\">\n+          <span class=\"radio radio-inline\">\n \t\t                <input type=\"radio\" id=\"inlineRadio2\" value=\"immediate\" name=\"currentDateTime\"\n-\t\t                <c:if test=\"${notificationBO.notificationScheduleType eq 'immediate'}\">checked</c:if>\n-\t\t                <c:if test=\"${studyBo.status ne 'Active'}\">disabled</c:if>>\n-\t\t                <label for=\"inlineRadio2\" data-toggle=\"tooltip\" data-placement=\"top\" \n-\t\t            title=\"This option will be available once the study is launched.\">Send Immediately</label>\n+                           <c:if\n+                               test=\"${notificationBO.notificationScheduleType eq 'immediate'}\">checked</c:if>\n+                           <c:if test=\"${studyBo.status ne 'Active'}\">disabled</c:if>>\n+\t\t                <label for=\"inlineRadio2\" data-toggle=\"tooltip\" data-placement=\"top\"\n+                           title=\"This option will be available once the study is launched.\">Send Immediately</label>\n \t\t            </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NzA3OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438187078", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:54:12Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/comprehensionList.jsp", "diffHunk": "@@ -1,481 +1,542 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"  pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-</style> \n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+</style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n+  }\n </script>\n <!-- Start right Content here -->\n-<!-- ============================================================== --> \n-<form:form action=\"/studybuilder/adminStudies/consentReview.do?_S=${param._S}\" name=\"comprehensionInfoForm\" id=\"comprehensionInfoForm\" method=\"post\">\n-<div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-\t<div class=\"right-content-head\">        \n-       <div class=\"text-right\">\n-          <div class=\"black-md-f text-uppercase dis-line pull-left line34\">COMPREHENSION TEST</div>\n-           <div class=\"dis-line form-group mb-none mr-sm\">\n-                 <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n-           </div>\n-           <c:if test=\"${empty permission}\">\n-           <div class=\"dis-line form-group mb-none mr-sm TestQuestionButtonHide\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n-\t       </div>\n-           <div class=\"dis-line form-group mb-none\">\n+<!-- ============================================================== -->\n+<form:form action=\"/studybuilder/adminStudies/consentReview.do?_S=${param._S}\"\n+           name=\"comprehensionInfoForm\"\n+           id=\"comprehensionInfoForm\" method=\"post\">\n+  <div class=\"col-sm-10 col-rc white-bg p-none\">\n+    <!--  Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f text-uppercase dis-line pull-left line34\">COMPREHENSION TEST</div>\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n+        </div>\n+        <c:if test=\"${empty permission}\">\n+          <div class=\"dis-line form-group mb-none mr-sm TestQuestionButtonHide\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n+          </div>\n+          <div class=\"dis-line form-group mb-none\">\n            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-placement=\"bottom\" id=\"helpNote\"", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE4NzM0Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438187347", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T14:54:35Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/comprehensionList.jsp", "diffHunk": "@@ -1,481 +1,542 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"  pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-</style> \n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+</style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n+  }\n </script>\n <!-- Start right Content here -->\n-<!-- ============================================================== --> \n-<form:form action=\"/studybuilder/adminStudies/consentReview.do?_S=${param._S}\" name=\"comprehensionInfoForm\" id=\"comprehensionInfoForm\" method=\"post\">\n-<div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-\t<div class=\"right-content-head\">        \n-       <div class=\"text-right\">\n-          <div class=\"black-md-f text-uppercase dis-line pull-left line34\">COMPREHENSION TEST</div>\n-           <div class=\"dis-line form-group mb-none mr-sm\">\n-                 <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n-           </div>\n-           <c:if test=\"${empty permission}\">\n-           <div class=\"dis-line form-group mb-none mr-sm TestQuestionButtonHide\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n-\t       </div>\n-           <div class=\"dis-line form-group mb-none\">\n+<!-- ============================================================== -->\n+<form:form action=\"/studybuilder/adminStudies/consentReview.do?_S=${param._S}\"\n+           name=\"comprehensionInfoForm\"\n+           id=\"comprehensionInfoForm\" method=\"post\">\n+  <div class=\"col-sm-10 col-rc white-bg p-none\">\n+    <!--  Start top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f text-uppercase dis-line pull-left line34\">COMPREHENSION TEST</div>\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n+        </div>\n+        <c:if test=\"${empty permission}\">\n+          <div class=\"dis-line form-group mb-none mr-sm TestQuestionButtonHide\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n+          </div>\n+          <div class=\"dis-line form-group mb-none\">\n            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-placement=\"bottom\" id=\"helpNote\"\n-\t\t          <c:if test=\"${!markAsComplete && consentBo.needComprehensionTest eq 'Yes'}\"> title=\"Please ensure individual list items on this page are marked Done before attempting to mark this section as Complete.\" </c:if> >\n-                 \t<button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"markAsCompleteBtnId\" <c:if test=\"${!markAsComplete && consentBo.needComprehensionTest eq 'Yes'}\">disabled</c:if> onclick=\"markAsCompleted();\">Mark as Completed</button>\n+                  <c:if\n+                      test=\"${!markAsComplete && consentBo.needComprehensionTest eq 'Yes'}\"> title=\"Please ensure individual list items on this page are marked Done before attempting to mark this section as Complete.\" </c:if> >\n+                 \t<button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"markAsCompleteBtnId\"\n+                          <c:if\n+                              test=\"${!markAsComplete && consentBo.needComprehensionTest eq 'Yes'}\">disabled</c:if>\n+                          onclick=\"markAsCompleted();\">Mark as Completed</button>\n                  </span>\n-           </div>  \n-           </c:if>\n-       </div>         \n+          </div>\n+        </c:if>\n+      </div>\n     </div>\n-\t<!--  End  top tab section-->\n-\t<div class=\"right-content-head\"> \n-\t<div class=\"mb-xlg\" id=\"displayTitleId\">\n-         <div class=\"gray-xs-f mb-xs\">Add a comprehension test? <span class=\"ct_panel\" id=\"addHelpNote\"><small>(Please save to continue)</small></span></div>\n-         <div class=\"form-group col-md-5 p-none\">\n+    <!--  End  top tab section-->\n+    <div class=\"right-content-head\">\n+      <div class=\"mb-xlg\" id=\"displayTitleId\">\n+        <div class=\"gray-xs-f mb-xs\">Add a comprehension test? <span class=\"ct_panel\"\n+                                                                     id=\"addHelpNote\"><small>(Please save to continue)</small></span>\n+        </div>\n+        <div class=\"form-group col-md-5 p-none\">\n \t\t\t   <span class=\"radio radio-info radio-inline p-45\">\n-\t\t\t  \t <input type=\"radio\" id=\"comprehensionTestYes\" value=\"Yes\" name=\"needComprehensionTest\" ${consentBo.needComprehensionTest eq 'Yes' ? 'checked' : ''}>\n+\t\t\t  \t <input type=\"radio\" id=\"comprehensionTestYes\" value=\"Yes\"\n+                  name=\"needComprehensionTest\" ${consentBo.needComprehensionTest eq 'Yes' ? 'checked' : ''}>\n \t\t\t   \t <label for=\"comprehensionTestYes\">Yes</label>\n \t\t\t   </span>\n-\t\t\t   <span class=\"radio radio-inline\">\n-\t\t\t  \t <input type=\"radio\" id=\"comprehensionTestNo\" value=\"No\" name=\"needComprehensionTest\" ${empty consentBo.needComprehensionTest || consentBo.needComprehensionTest eq 'No' ? 'checked' : ''}>\n+          <span class=\"radio radio-inline\">\n+\t\t\t  \t <input type=\"radio\" id=\"comprehensionTestNo\" value=\"No\"\n+                  name=\"needComprehensionTest\" ${empty consentBo.needComprehensionTest || consentBo.needComprehensionTest eq 'No' ? 'checked' : ''}>\n \t\t\t     <label for=\"comprehensionTestNo\">No</label>\n \t\t\t   </span>\n-\t\t\t   <div class=\"help-block with-errors red-txt\"></div>\n-         </div>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n       </div>\n-\t</div>\n-   <!--  Start body tab section -->\n-   <div class=\"right-content-body pt-none pb-none <c:if test=\"${empty consentBo.needComprehensionTest || consentBo.needComprehensionTest eq 'No'}\">ct_panel</c:if>\" id=\"mainContainer\">\n+    </div>\n+    <!--  Start body tab section -->\n+    <div\n+        class=\"right-content-body pt-none pb-none <c:if test=\"${empty consentBo.needComprehensionTest || consentBo.needComprehensionTest eq 'No'}\">ct_panel</c:if>\"\n+        id=\"mainContainer\">\n       <div>\n-         <table id=\"comprehension_list\" class=\"display bor-none\" cellspacing=\"0\" width=\"100%\">\n-           <thead>\n-\t\t\t   <tr>\n-\t\t\t      <th id=\"\"><span class=\"marL10\">#</span></th>\n-\t\t\t      <th id=\"\">Question</th>\n-\t\t\t      <th id=\"\">\n-\t\t\t       <c:if test=\"${empty permission}\">\n-\t\t\t         <div class=\"dis-line form-group mb-none\">\n-\t\t\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"addQuestionId\" onclick=\"addComphernsionQuestionPage();\">Add Question</button>\n-\t\t\t         </div>\n-\t\t\t       </c:if>\n-\t\t\t      </th>\n-\t\t\t   </tr>\n-\t\t\t</thead>\n-            <tbody>\n-             <c:forEach items=\"${comprehensionTestQuestionList}\" var=\"comprehensionTestQuestion\">\n-\t              <tr id=\"${comprehensionTestQuestion.id}\">\n-\t                  <td>${comprehensionTestQuestion.sequenceNo}</td>\n-\t                  <td><div class=\"dis-ellipsis\" title=\"${fn:escapeXml(comprehensionTestQuestion.questionText)}\">${fn:escapeXml(comprehensionTestQuestion.questionText)}</div></td>\n-\t                  <td>\n-\t                     <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View\" onclick=\"viewComprehensionQuestion(${comprehensionTestQuestion.id});\"></span>\n-\t                     <span class=\"${comprehensionTestQuestion.status?'edit-inc':'edit-inc-draft mr-md'} mr-lg <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" onclick=\"editComprehensionQuestion(${comprehensionTestQuestion.id});\"></span>\n-\t                     <span class=\"sprites_icon copy delete <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" onclick=\"deleteComprehensionQuestion(${comprehensionTestQuestion.id});\"></span>\n-\t                  </td>\n-\t               </tr>\n-             </c:forEach>\n-            </tbody>\n-         </table>\n-      </div> \n-      \n+        <table id=\"comprehension_list\" class=\"display bor-none\" cellspacing=\"0\" width=\"100%\">\n+          <thead>\n+          <tr>\n+            <th id=\"\"><span class=\"marL10\">#</span></th>\n+            <th id=\"\">Question</th>\n+            <th id=\"\">\n+              <c:if test=\"${empty permission}\">\n+                <div class=\"dis-line form-group mb-none\">\n+                  <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"addQuestionId\"\n+                          onclick=\"addComphernsionQuestionPage();\">Add Question\n+                  </button>\n+                </div>\n+              </c:if>\n+            </th>\n+          </tr>\n+          </thead>\n+          <tbody>\n+          <c:forEach items=\"${comprehensionTestQuestionList}\" var=\"comprehensionTestQuestion\">\n+            <tr id=\"${comprehensionTestQuestion.id}\">\n+              <td>${comprehensionTestQuestion.sequenceNo}</td>\n+              <td>\n+                <div class=\"dis-ellipsis\"\n+                     title=\"${fn:escapeXml(comprehensionTestQuestion.questionText)}\">${fn:escapeXml(comprehensionTestQuestion.questionText)}</div>\n+              </td>\n+              <td>\n+                                <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\"\n+                                      data-placement=\"top\"\n+                                      title=\"View\"\n+                                      onclick=\"viewComprehensionQuestion(${comprehensionTestQuestion.id});\"></span>\n+                <span\n+                    class=\"${comprehensionTestQuestion.status?'edit-inc':'edit-inc-draft mr-md'} mr-lg <c:if test=\"${not empty permission}\"> cursor-none </c:if>\"\n+                    onclick=\"editComprehensionQuestion(${comprehensionTestQuestion.id});\"></span>\n+                <span\n+                    class=\"sprites_icon copy delete <c:if test=\"${not empty permission}\"> cursor-none </c:if>\"\n+                    onclick=\"deleteComprehensionQuestion(${comprehensionTestQuestion.id});\"></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5MjUxMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438192510", "bodyText": "this code doesn't seem to be present in addDefaultData() method.\nPlease explain why this was changed", "author": "zohrehj", "createdAt": "2020-06-10T15:01:29Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/consentInfo.jsp", "diffHunk": "@@ -1,637 +1,624 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\"%>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n <!-- ============================================================== -->\n <!-- Start right Content here -->\n <!-- ============================================================== -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-\t<!--  Start top tab section-->\n-\t<form:form\n-\t\taction=\"/studybuilder/adminStudies/saveOrUpdateConsentInfo.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n-\t\tname=\"consentInfoFormId\" id=\"consentInfoFormId\" method=\"post\"\n-\t\tdata-toggle=\"validator\" role=\"form\" autocomplete=\"off\">\n-\t\t<input type=\"hidden\" id=\"id\" name=\"id\" value=\"${consentInfoBo.id}\">\n-\t\t<c:if test=\"${not empty consentInfoBo.id}\">\n-\t\t\t<input type=\"hidden\" id=\"studyId\" name=\"studyId\"\n-\t\t\t\tvalue=\"${consentInfoBo.studyId}\">\n-\t\t</c:if>\n-\t\t<c:if test=\"${empty consentInfoBo.id}\">\n-\t\t\t<input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n-\t\t</c:if>\n-\t\t<input type=\"hidden\" id=\"elaborated\" name=\"elaborated\" value=\"\" />\n-\t\t<input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-\t\t<div class=\"right-content-head\" style=\"z-index: 999;\">\n-\t\t\t<div class=\"text-right\">\n-\t\t\t\t<div class=\"black-md-f dis-line pull-left line34\">\n+  <!--  Start top tab section-->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateConsentInfo.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+      name=\"consentInfoFormId\" id=\"consentInfoFormId\" method=\"post\"\n+      data-toggle=\"validator\" role=\"form\" autocomplete=\"off\">\n+    <input type=\"hidden\" id=\"id\" name=\"id\" value=\"${consentInfoBo.id}\">\n+    <c:if test=\"${not empty consentInfoBo.id}\">\n+      <input type=\"hidden\" id=\"studyId\" name=\"studyId\"\n+             value=\"${consentInfoBo.studyId}\">\n+    </c:if>\n+    <c:if test=\"${empty consentInfoBo.id}\">\n+      <input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n+    </c:if>\n+    <input type=\"hidden\" id=\"elaborated\" name=\"elaborated\" value=\"\"/>\n+    <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+    <div class=\"right-content-head\" style=\"z-index: 999;\">\n+      <div class=\"text-right\">\n+        <div class=\"black-md-f dis-line pull-left line34\">\n \t\t\t\t\t<span class=\"pr-sm cur-pointer\" onclick=\"goToBackPage(this);\">\n-\t\t\t\t\t\t<img src=\"../images/icons/back-b.png\" alt=\"\" />\n+\t\t\t\t\t\t<img src=\"../images/icons/back-b.png\" alt=\"\"/>\n \t\t\t\t\t</span>\n-\t\t\t\t\t<c:if test=\"${empty consentInfoBo.id}\"> Add Consent Section</c:if>\n-\t\t\t\t\t<c:if\n-\t\t\t\t\t\ttest=\"${not empty consentInfoBo.id && actionPage eq 'addEdit'}\">Edit Consent Section</c:if>\n-\t\t\t\t\t<c:if test=\"${not empty consentInfoBo.id && actionPage eq 'view'}\">View Consent Section <c:set\n-\t\t\t\t\t\t\tvar=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"dis-line form-group mb-none\">\n-\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\"\n-\t\t\t\t\t\tonclick=\"goToBackPage(this);\">Cancel</button>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"dis-line form-group mb-none\">\n-\t\t\t\t\t<button type=\"button\"\n-\t\t\t\t\t\tclass=\"btn btn-default gray-btn ConsentButtonHide ml-sm mr-sm\"\n-\t\t\t\t\t\tonclick=\"saveConsentInfo(this);\">Save</button>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"dis-line form-group mb-none\">\n-\t\t\t\t\t<button type=\"button\"\n-\t\t\t\t\t\tclass=\"btn btn-primary blue-btn ConsentButtonHide\" id=\"doneId\">Done</button>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</div>\n-\t\t<!--  End  top tab section-->\n-\t\t<!--  Start body tab section -->\n-\t\t<div class=\"right-content-body\">\n-\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\tConsent Section Type<span class=\"requiredStar\">*</span>\n-\t\t\t</div>\n-\t\t\t<div class=\"mt-sm form-group\">\n+          <c:if test=\"${empty consentInfoBo.id}\"> Add Consent Section</c:if>\n+          <c:if\n+              test=\"${not empty consentInfoBo.id && actionPage eq 'addEdit'}\">Edit Consent Section</c:if>\n+          <c:if test=\"${not empty consentInfoBo.id && actionPage eq 'view'}\">View Consent Section\n+            <c:set\n+                var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+          </c:if>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn\"\n+                  onclick=\"goToBackPage(this);\">Cancel\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\"\n+                  class=\"btn btn-default gray-btn ConsentButtonHide ml-sm mr-sm\"\n+                  onclick=\"saveConsentInfo(this);\">Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\"\n+                  class=\"btn btn-primary blue-btn ConsentButtonHide\" id=\"doneId\">Done\n+          </button>\n+        </div>\n+      </div>\n+    </div>\n+    <!-- End top tab section-->\n+    <!-- Start body tab section -->\n+    <div class=\"right-content-body\">\n+      <div class=\"gray-xs-f mb-xs\">\n+        Consent Section Type<span class=\"requiredStar\">*</span>\n+      </div>\n+      <div class=\"mt-sm form-group\">\n \t\t\t\t<span class=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\ttype=\"radio\" id=\"inlineRadio1\" value=\"ResearchKit/ResearchStack\"\n-\t\t\t\t\tname=\"consentItemType\" required data-error=\"Please choose type\"\n-\t\t\t\t\t${empty consentInfoBo.consentItemType  || consentInfoBo.consentItemType=='ResearchKit/ResearchStack' ?'checked':''}>\n+            type=\"radio\" id=\"inlineRadio1\" value=\"ResearchKit/ResearchStack\"\n+            name=\"consentItemType\" required data-error=\"Please choose type\"\n+          ${empty consentInfoBo.consentItemType  || consentInfoBo.consentItemType=='ResearchKit/ResearchStack' ?'checked':''}>\n \t\t\t\t\t<label for=\"inlineRadio1\">Default Options</label>\n \t\t\t\t</span> <span class=\"radio radio-inline p-45\"> <input type=\"radio\"\n-\t\t\t\t\tid=\"inlineRadio2\" value=\"Custom\" name=\"consentItemType\" required\n-\t\t\t\t\tdata-error=\"Please choose type\"\n-\t\t\t\t\t${consentInfoBo.consentItemType=='Custom'?'checked':''}> <label\n-\t\t\t\t\tfor=\"inlineRadio2\">Create Custom</label>\n+                                                              id=\"inlineRadio2\" value=\"Custom\"\n+                                                              name=\"consentItemType\" required\n+                                                              data-error=\"Please choose type\"\n+        ${consentInfoBo.consentItemType=='Custom'?'checked':''}> <label\n+          for=\"inlineRadio2\">Create Custom</label>\n \t\t\t\t</span>\n-\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t</div>\n-\t\t\t<div id=\"titleContainer\">\n-\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\tTopic <span class=\"requiredStar\">*</span>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"col-md-5 p-none form-group elaborateClass consentTitle\">\n-\t\t\t\t\t<select class=\"selectpicker\" id=\"consentItemTitleId\"\n-\t\t\t\t\t\tname=\"consentItemTitleId\" required\n-\t\t\t\t\t\tdata-error=\"Please choose one title\">\n-\t\t\t\t\t\t<option value=\"\">Select</option>\n-\t\t\t\t\t\t<c:forEach items=\"${consentMasterInfoList}\" var=\"consentMaster\">\n-\t\t\t\t\t\t\t<option value=\"${consentMaster.id}\"\n-\t\t\t\t\t\t\t\t${consentInfoBo.consentItemTitleId eq consentMaster.id  ? 'selected' : ''}>${consentMaster.title}</option>\n-\t\t\t\t\t\t</c:forEach>\n-\t\t\t\t\t</select>\n-\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t<input type=\"hidden\" id=\"displayTitleTemp\" name=\"displayTitleTemp\"\n-\t\t\t\tvalue=\"${consentInfoBo.displayTitle}\"> <input type=\"hidden\"\n-\t\t\t\tid=\"briefSummaryTemp\" name=\"briefSummaryTemp\"\n-\t\t\t\tvalue=\"${consentInfoBo.briefSummary}\">\n-\t\t\t<textarea name=\"hide\" id=\"elaboratedTemp\" style=\"display: none;\">${consentInfoBo.elaborated}</textarea>\n-\t\t\t<div id=\"displayTitleId\">\n-\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\tTitle <small>(75 characters max)</small><span class=\"requiredStar\">*</span>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t<input autofocus=\"autofocus\" type=\"text\" id=\"displayTitle\"\n-\t\t\t\t\t\tclass=\"form-control\" name=\"displayTitle\" required\n-\t\t\t\t\t\tvalue=\"${fn:escapeXml(consentInfoBo.displayTitle)}\" maxlength=\"75\">\n-\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t\t<div>\n-\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\tBrief Summary <small>(500 characters max)</small><span\n-\t\t\t\t\t\tclass=\"requiredStar\">*</span>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"form-group\">\n+        <div class=\"help-block with-errors red-txt\"></div>\n+      </div>\n+      <div id=\"titleContainer\">\n+        <div class=\"gray-xs-f mb-xs\">\n+          Topic <span class=\"requiredStar\">*</span>\n+        </div>\n+        <div class=\"col-md-5 p-none form-group elaborateClass consentTitle\">\n+          <select class=\"selectpicker\" id=\"consentItemTitleId\"\n+                  name=\"consentItemTitleId\" required\n+                  data-error=\"Please choose one title\">\n+            <option value=\"\">Select</option>\n+            <c:forEach items=\"${consentMasterInfoList}\" var=\"consentMaster\">\n+              <option value=\"${consentMaster.id}\"\n+                ${consentInfoBo.consentItemTitleId eq consentMaster.id  ? 'selected' : ''}>${consentMaster.title}</option>\n+            </c:forEach>\n+          </select>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+      </div>\n+      <div class=\"clearfix\"></div>\n+      <input type=\"hidden\" id=\"displayTitleTemp\" name=\"displayTitleTemp\"\n+             value=\"${consentInfoBo.displayTitle}\"> <input type=\"hidden\"\n+                                                           id=\"briefSummaryTemp\"\n+                                                           name=\"briefSummaryTemp\"\n+                                                           value=\"${consentInfoBo.briefSummary}\">\n+      <textarea name=\"hide\" id=\"elaboratedTemp\"\n+                style=\"display: none;\">${consentInfoBo.elaborated}</textarea>\n+      <div id=\"displayTitleId\">\n+        <div class=\"gray-xs-f mb-xs\">\n+          Title <small>(75 characters max)</small><span class=\"requiredStar\">*</span>\n+        </div>\n+        <div class=\"form-group\">\n+          <input autofocus=\"autofocus\" type=\"text\" id=\"displayTitle\"\n+                 class=\"form-control\" name=\"displayTitle\" required\n+                 value=\"${fn:escapeXml(consentInfoBo.displayTitle)}\" maxlength=\"75\">\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+      </div>\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">\n+          Brief Summary <small>(500 characters max)</small><span\n+            class=\"requiredStar\">*</span>\n+        </div>\n+        <div class=\"form-group\">\n \t\t\t\t\t<textarea class=\"form-control\" rows=\"7\" id=\"briefSummary\"\n-\t\t\t\t\t\tname=\"briefSummary\" required maxlength=\"500\">${consentInfoBo.briefSummary}</textarea>\n-\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t<div>\n-\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\tElaborated Content (appears in a 'Learn More' section) <span\n-\t\t\t\t\t\tclass=\"requiredStar\">*</span>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"form-group\">\n+                    name=\"briefSummary\" required\n+                    maxlength=\"500\">${consentInfoBo.briefSummary}</textarea>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+      </div>\n+      <div class=\"clearfix\"></div>\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">\n+          Elaborated Content (appears in a 'Learn More' section) <span\n+            class=\"requiredStar\">*</span>\n+        </div>\n+        <div class=\"form-group\">\n \t\t\t\t\t<textarea class=\"\" rows=\"8\" id=\"elaboratedRTE\" name=\"elaboratedRTE\"\n-\t\t\t\t\t\trequired>${consentInfoBo.elaborated}</textarea>\n-\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t\t<div class=\"clearfix\"></div>\n-\t\t\t<div>\n-\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\tShow as a visual step? <span class=\"requiredStar\">*</span><span\n-\t\t\t\t\t\tclass=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n-\t\t\t\t\t\ttitle=\"Choose Yes if you wish this section to appear as a standalone Visual Step in the app prior to the full Consent Document. A Visual Step screen shows the section Title, and the Brief Summary with a link to the elaborated version of the content.\"></span>\n-\t\t\t\t</div>\n-\t\t\t\t<div class=\"form-group visualStepDiv\">\n+                    required>${consentInfoBo.elaborated}</textarea>\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+      </div>\n+      <div class=\"clearfix\"></div>\n+      <div>\n+        <div class=\"gray-xs-f mb-xs\">\n+          Show as a visual step? <span class=\"requiredStar\">*</span><span\n+            class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+            title=\"Choose Yes if you wish this section to appear as a standalone Visual Step in the app prior to the full Consent Document. A Visual Step screen shows the section Title, and the Brief Summary with a link to the elaborated version of the content.\"></span>\n+        </div>\n+        <div class=\"form-group visualStepDiv\">\n \t\t\t\t\t<span class=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\t\tclass=\"\" type=\"radio\" id=\"inlineRadio3\" value=\"Yes\"\n-\t\t\t\t\t\tname=\"visualStep\" required\n-\t\t\t\t\t\tdata-error=\"Please choose one visual step\"\n-\t\t\t\t\t\t${consentInfoBo.visualStep=='Yes'?'checked':''}> <label\n-\t\t\t\t\t\tfor=\"inlineRadio3\">Yes</label>\n+              class=\"\" type=\"radio\" id=\"inlineRadio3\" value=\"Yes\"\n+              name=\"visualStep\" required\n+              data-error=\"Please choose one visual step\"\n+            ${consentInfoBo.visualStep=='Yes'?'checked':''}> <label\n+              for=\"inlineRadio3\">Yes</label>\n \t\t\t\t\t</span> <span class=\"radio radio-inline p-45\"> <input class=\"\"\n-\t\t\t\t\t\ttype=\"radio\" id=\"inlineRadio4\" value=\"No\" name=\"visualStep\"\n-\t\t\t\t\t\trequired data-error=\"Please choose one visual step\"\n-\t\t\t\t\t\t${consentInfoBo.visualStep=='No'?'checked':''}> <label\n-\t\t\t\t\t\tfor=\"inlineRadio4\">No</label>\n+                                                                type=\"radio\" id=\"inlineRadio4\"\n+                                                                value=\"No\"\n+                                                                name=\"visualStep\"\n+                                                                required\n+                                                                data-error=\"Please choose one visual step\"\n+          ${consentInfoBo.visualStep=='No'?'checked':''}> <label\n+            for=\"inlineRadio4\">No</label>\n \t\t\t\t\t</span>\n-\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t</div>\n-\t</form:form>\n-\t<!--  End body tab section -->\n+          <div class=\"help-block with-errors red-txt\"></div>\n+        </div>\n+      </div>\n+    </div>\n+  </form:form>\n+  <!--  End body tab section -->\n </div>\n <!-- End right Content here -->\n <script type=\"text/javascript\">\n-$(document).ready(function(){  \n+  $(document).ready(function () {\n     // Fancy Scroll Bar\n-    \n+\n     <c:if test=\"${actionPage eq 'view'}\">\n-\t    $('#consentInfoFormId input,textarea').prop('disabled', true);\n-\t    $('#consentInfoFormId .elaborateClass').addClass('linkDis');\n-\t    $('.ConsentButtonHide').hide();\n+    $('#consentInfoFormId input,textarea').prop('disabled', true);\n+    $('#consentInfoFormId .elaborateClass').addClass('linkDis');\n+    $('.ConsentButtonHide').hide();\n     </c:if>\n-    \n-    if('${consentInfoBo.id}' == ''){\n-    \t $(\"#displayTitleId\").hide();\n+\n+    if ('${consentInfoBo.id}' == '') {\n+      $(\"#displayTitleId\").hide();\n     }\n     $(\".menuNav li\").removeClass('active');\n     $(\".fifthConsent\").addClass('active');\n-\t$(\"#createStudyId\").show();\n+    $(\"#createStudyId\").show();\n     //load the list of titles when the page loads\n-\tconsentInfoDetails();\n-\tinitSummernoteEditor();\n+    consentInfoDetails();\n+    initSummernoteEditor();\n     //get the selected consent type on change\n-    $('input[name=\"consentItemType\"]').change(function(){\n-    \t$('.visualStepDiv').find(\".help-block\").empty();\n-    \tresetValidation($(\"#consentInfoFormId\"));\n-    \t\n-    \tif (this.value == 'Custom') {\n-    \t\t$(\"#displayTitleId\").show();\n-    \t\t$(\"#titleContainer\").hide();\n-    \t\t$(\"#consentItemTitleId\").prop('required', false);\n-    \t}else{\n-    \t\t\n-    \t\tconsentInfoDetails();\n-    \t\t$(\"#consentItemTitleId\").prop('required', true);\n-    \t\t$(\"#titleContainer\").show();\n-    \t}\n-    \taddDefaultData();\n-\t\t\n-        \n+    $('input[name=\"consentItemType\"]').change(function () {\n+      $('.visualStepDiv').find(\".help-block\").empty();\n+      resetValidation($(\"#consentInfoFormId\"));\n+\n+      if (this.value == 'Custom') {\n+        $(\"#displayTitleId\").show();\n+        $(\"#titleContainer\").hide();\n+        $(\"#consentItemTitleId\").prop('required', false);\n+      } else {\n+\n+        consentInfoDetails();\n+        $(\"#consentItemTitleId\").prop('required', true);\n+        $(\"#titleContainer\").show();\n+      }\n+      addDefaultData();\n+\n     });\n-   \n-    $(\"#consentItemTitleId\").change(function(){\n-    \tvar titleText = this.options[this.selectedIndex].text;\n-    \tresetValidation($(\"#consentInfoFormId\"));\n-    \t\n-    \t$(\".consentTitle\").parent().removeClass('has-error has-danger');\n-\t\t$(\".consentTitle\").parent().find(\".help-block\").empty();\n-\t\t$(\"#displayTitle\").parent().removeClass('has-error has-danger');\n-\t\t$(\"#displayTitle\").parent().find(\".help-block\").empty();\n-    \tif(titleText != null && titleText != '' && typeof titleText != 'undefined'){\n-    \t\t$(\"#displayTitleId\").show();\n-    \t\tif(titleText != 'Select'){\n-    \t\t\t$(\"#displayTitle\").val(titleText);\n-    \t\t}else{\n-    \t\t\t$(\"#displayTitle\").val('');\n-    \t\t}\n-    \t}\n+\n+    $(\"#consentItemTitleId\").change(function () {\n+      var titleText = this.options[this.selectedIndex].text;\n+      resetValidation($(\"#consentInfoFormId\"));\n+\n+      $(\".consentTitle\").parent().removeClass('has-error has-danger');\n+      $(\".consentTitle\").parent().find(\".help-block\").empty();\n+      $(\"#displayTitle\").parent().removeClass('has-error has-danger');\n+      $(\"#displayTitle\").parent().find(\".help-block\").empty();\n+      if (titleText != null && titleText != '' && typeof titleText != 'undefined') {\n+        $(\"#displayTitleId\").show();\n+        if (titleText != 'Select') {\n+          $(\"#displayTitle\").val(titleText);\n+        } else {\n+          $(\"#displayTitle\").val('');\n+        }\n+      }\n     });\n-    \n-    if('${consentInfoBo.consentItemType}' == 'Custom'){\n-    \t$(\"#titleContainer\").hide();\n-    \t$(\"#consentItemTitleId\").prop('required',false);\n-    }else{\n-    \t$(\"#titleContainer\").show();\n-    \t$(\"#consentItemTitleId\").prop('required',true);\n+\n+    if ('${consentInfoBo.consentItemType}' == 'Custom') {\n+      $(\"#titleContainer\").hide();\n+      $(\"#consentItemTitleId\").prop('required', false);\n+    } else {\n+      $(\"#titleContainer\").show();\n+      $(\"#consentItemTitleId\").prop('required', true);\n+    }\n+    addDefaultData();\n+ \n+\n+  });", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5MjgyNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438192827", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:01:56Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/consentInfoList.jsp", "diffHunk": "@@ -1,341 +1,391 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.sepimgClass{\n- position: relative;\n-}\n-.sorting, .sorting_asc, .sorting_desc {\n-    background : none !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n \n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .sepimgClass {\n+    position: relative;\n+  }\n+\n+  .sorting, .sorting_asc, .sorting_desc {\n+    background: none !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- ============================================================== -->\n <!-- Start right Content here -->\n-<!-- ============================================================== --> \n+<!-- ============================================================== -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-\t<div class=\"right-content-head\">        \n-       <div class=\"text-right\">\n-          <div class=\"black-md-f text-uppercase dis-line pull-left line34\">Consent Sections \n-          \n-          <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span> ':''} <span>${not empty  sessionScope[isLive]?studyBo.studyVersionBo.consentLVersion:''}</span></div>\n-          <div class=\"dis-line form-group mb-none mr-sm\">\n-              <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n-          </div>\n-          <div class=\"dis-line form-group mb-none\">\n-\t          <c:if test=\"${empty permission}\">\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f text-uppercase dis-line pull-left line34\">Consent Sections\n+\n+        <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span> ':''}\n+        <span>${not empty  sessionScope[isLive]?studyBo.studyVersionBo.consentLVersion:''}</span>\n+      </div>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n+      </div>\n+      <div class=\"dis-line form-group mb-none\">\n+        <c:if test=\"${empty permission}\">\n \t\t          <span class=\"tool-tip\" data-toggle=\"tooltip\" data-placement=\"bottom\" id=\"helpNote\"\n-\t\t          <c:if test=\"${fn:length(consentInfoList) eq 0 }\"> title=\"Please ensure you add one or more Consent Sections before attempting to mark this section as Complete.\" </c:if>\n-\t\t          <c:if test=\"${!markAsComplete}\"> title=\"Please ensure individual list items on this page are marked Done before attempting to mark this section as Complete.\" </c:if> >\n-\t\t\t\t    <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"markAsCompleteBtnId\" onclick=\"markAsCompleted();\"  <c:if test=\"${fn:length(consentInfoList) eq 0 || !markAsComplete}\">disabled</c:if>  >Mark as Completed</button>\n+                  <c:if\n+                      test=\"${fn:length(consentInfoList) eq 0 }\"> title=\"Please ensure you add one or more Consent Sections before attempting to mark this section as Complete.\" </c:if>\n+\t\t          <c:if\n+                  test=\"${!markAsComplete}\"> title=\"Please ensure individual list items on this page are marked Done before attempting to mark this section as Complete.\" </c:if> >\n+\t\t\t\t    <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"markAsCompleteBtnId\"\n+                    onclick=\"markAsCompleted();\"\n+                    <c:if\n+                        test=\"${fn:length(consentInfoList) eq 0 || !markAsComplete}\">disabled</c:if>  >Mark as Completed</button>\n \t\t\t\t  </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5MzAwMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438193000", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:02:08Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/consentInfoList.jsp", "diffHunk": "@@ -1,341 +1,391 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.sepimgClass{\n- position: relative;\n-}\n-.sorting, .sorting_asc, .sorting_desc {\n-    background : none !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n \n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .sepimgClass {\n+    position: relative;\n+  }\n+\n+  .sorting, .sorting_asc, .sorting_desc {\n+    background: none !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- ============================================================== -->\n <!-- Start right Content here -->\n-<!-- ============================================================== --> \n+<!-- ============================================================== -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-\t<div class=\"right-content-head\">        \n-       <div class=\"text-right\">\n-          <div class=\"black-md-f text-uppercase dis-line pull-left line34\">Consent Sections \n-          \n-          <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span> ':''} <span>${not empty  sessionScope[isLive]?studyBo.studyVersionBo.consentLVersion:''}</span></div>\n-          <div class=\"dis-line form-group mb-none mr-sm\">\n-              <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n-          </div>\n-          <div class=\"dis-line form-group mb-none\">\n-\t          <c:if test=\"${empty permission}\">\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f text-uppercase dis-line pull-left line34\">Consent Sections\n+\n+        <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span> ':''}\n+        <span>${not empty  sessionScope[isLive]?studyBo.studyVersionBo.consentLVersion:''}</span>\n+      </div>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn cancelBut\">Cancel</button>\n+      </div>\n+      <div class=\"dis-line form-group mb-none\">\n+        <c:if test=\"${empty permission}\">\n \t\t          <span class=\"tool-tip\" data-toggle=\"tooltip\" data-placement=\"bottom\" id=\"helpNote\"\n-\t\t          <c:if test=\"${fn:length(consentInfoList) eq 0 }\"> title=\"Please ensure you add one or more Consent Sections before attempting to mark this section as Complete.\" </c:if>\n-\t\t          <c:if test=\"${!markAsComplete}\"> title=\"Please ensure individual list items on this page are marked Done before attempting to mark this section as Complete.\" </c:if> >\n-\t\t\t\t    <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"markAsCompleteBtnId\" onclick=\"markAsCompleted();\"  <c:if test=\"${fn:length(consentInfoList) eq 0 || !markAsComplete}\">disabled</c:if>  >Mark as Completed</button>\n+                  <c:if\n+                      test=\"${fn:length(consentInfoList) eq 0 }\"> title=\"Please ensure you add one or more Consent Sections before attempting to mark this section as Complete.\" </c:if>\n+\t\t          <c:if\n+                  test=\"${!markAsComplete}\"> title=\"Please ensure individual list items on this page are marked Done before attempting to mark this section as Complete.\" </c:if> >\n+\t\t\t\t    <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"markAsCompleteBtnId\"\n+                    onclick=\"markAsCompleted();\"\n+                    <c:if\n+                        test=\"${fn:length(consentInfoList) eq 0 || !markAsComplete}\">disabled</c:if>  >Mark as Completed</button>\n \t\t\t\t  </span>\n-\t         </c:if>\n-          </div> \t\t  \n-       </div>         \n-    </div>\n-\t<!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <div class=\"right-content-body pt-none pb-none\">\n-      <div>\n-         <table id=\"consent_list\" class=\"display bor-none\" cellspacing=\"0\" width=\"100%\">\n-            <thead>\n-               <tr>\n-                  <th id=\"\"><span class=\"marL10\">#</span></th>\n-                  <th id=\"\">Consent Title</th>\n-                  <th id=\"\">visual step</th>\n-                  <th id=\"\">\n-                  \t <div class=\"dis-line form-group mb-none\">\n-                  \t <c:if test=\"${empty permission}\">\n-                        <button type=\"button\" class=\"btn btn-primary blue-btn\" onclick=\"addConsentPage();\">Add Consent Section</button>\n-                     </c:if>\n-                     </div>\n-                  </th>\n-               </tr>\n-            </thead>\n-            <tbody>\n-             <c:forEach items=\"${consentInfoList}\" var=\"consentInfo\">\n-\t              <tr id=\"${consentInfo.id}\">\n-\t                  <td>${consentInfo.sequenceNo}</td>\n-\t                  <td>${consentInfo.displayTitle}</td>\n-\t                  <td>${consentInfo.visualStep}</td>\n-\t                  <td>\n-\t                  \t <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"View\" onclick=\"viewConsentInfo(${consentInfo.id});\"></span>\n-\t\t                     <span class=\"${consentInfo.status?'edit-inc':'edit-inc-draft mr-md'} mr-lg <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\" onclick=\"editConsentInfo(${consentInfo.id});\"></span>\n-\t\t                     <span class=\"sprites_icon copy delete <c:if test=\"${not empty permission}\"> cursor-none </c:if>\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete\" onclick=\"deleteConsentInfo(${consentInfo.id});\"></span>\n-\t                  </td>\n-\t               </tr>\n-             </c:forEach>\n-            </tbody>\n-         </table>\n+        </c:if>\n       </div>\n-   </div>\n-   <!--  End body tab section -->\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <div class=\"right-content-body pt-none pb-none\">\n+    <div>\n+      <table id=\"consent_list\" class=\"display bor-none\" cellspacing=\"0\" width=\"100%\">\n+        <thead>\n+        <tr>\n+          <th id=\"\"><span class=\"marL10\">#</span></th>\n+          <th id=\"\">Consent Title</th>\n+          <th id=\"\">visual step</th>\n+          <th id=\"\">\n+            <div class=\"dis-line form-group mb-none\">\n+              <c:if test=\"${empty permission}\">\n+                <button type=\"button\" class=\"btn btn-primary blue-btn\" onclick=\"addConsentPage();\">\n+                  Add\n+                  Consent Section\n+                </button>\n+              </c:if>\n+            </div>\n+          </th>\n+        </tr>\n+        </thead>\n+        <tbody>\n+        <c:forEach items=\"${consentInfoList}\" var=\"consentInfo\">\n+          <tr id=\"${consentInfo.id}\">\n+            <td>${consentInfo.sequenceNo}</td>\n+            <td>${consentInfo.displayTitle}</td>\n+            <td>${consentInfo.visualStep}</td>\n+            <td>\n+                            <span class=\"sprites_icon preview-g mr-lg\" data-toggle=\"tooltip\"\n+                                  data-placement=\"top\"\n+                                  title=\"View\" onclick=\"viewConsentInfo(${consentInfo.id});\"></span>\n+              <span\n+                  class=\"${consentInfo.status?'edit-inc':'edit-inc-draft mr-md'} mr-lg <c:if test=\"${not empty permission}\"> cursor-none </c:if>\"\n+                  data-toggle=\"tooltip\" data-placement=\"top\" title=\"Edit\"\n+                  onclick=\"editConsentInfo(${consentInfo.id});\"></span>\n+              <span\n+                  class=\"sprites_icon copy delete <c:if test=\"${not empty permission}\"> cursor-none </c:if>\"\n+                  data-toggle=\"tooltip\" data-placement=\"top\" title=\"Delete\"\n+                  onclick=\"deleteConsentInfo(${consentInfo.id});\"></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5Mzg2Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438193862", "bodyText": "fix nesting\nput elements on new lines and remove excessive spaces between them.", "author": "zohrehj", "createdAt": "2020-06-10T15:03:17Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/consentReviewAndEConsentPage.jsp", "diffHunk": "@@ -1,359 +1,324 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <!-- ============================================================== -->\n <!-- Start right Content here -->\n <!-- ============================================================== -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-\t<!--  Start top tab section-->\n-\t<form:form\n-\t\taction=\"/studybuilder/adminStudies/studyList.do?_S=${param._S}\"\n-\t\tname=\"cancelConsentReviewFormId\" id=\"cancelConsentReviewFormId\"\n-\t\tmethod=\"POST\" role=\"form\">\n-\t\t<input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n-\t\t<input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n-\t\t\tvalue=\"${consentBo.id}\">\n-\t</form:form>\n-\t<form:form\n-\t\taction=\"/studybuilder/adminStudies/saveConsentReviewAndEConsentInfo.do?_S=${param._S}\"\n-\t\tname=\"consentReviewFormId\" id=\"consentReviewFormId\" method=\"post\"\n-\t\trole=\"form\">\n-\t\t<input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n-\t\t<input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n-\t\t\tvalue=\"${consentBo.id}\">\n-\t\t<input type=\"hidden\" id=\"consentBo\" name=\"consentBo\"\n-\t\t\tvalue=\"${consentBo}\">\n-\t\t<input type=\"hidden\" id=\"typeOfCensent\" name=\"typeOfCensent\"\n-\t\t\tvalue=\"${consentBo.consentDocType}\">\n-\t\t<!--  End body tab section -->\n-\t\t<div>\n-\t\t\t<!--  Start top tab section-->\n-\t\t\t<div class=\"right-content-head\" style=\"z-index: 999;\">\n-\t\t\t\t<div class=\"text-right\">\n-\t\t\t\t\t<div class=\"black-md-f text-uppercase dis-line pull-left line34\">\n-\t\t\t\t\t\tReview and E-Consent Steps\n-\t\t\t\t\t\t<c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</div>\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\"\n-\t\t\t\t\t\t\tonclick=\"goToBackPage(this);\">Cancel</button>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none\">\n-\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Mark\n-\t\t\t\t\t\t\tas Completed</button>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t\t<!--  End  top tab section-->\n-\t\t\t<!--  Start body tab section -->\n-\t\t\t<div class=\"right-content-body pt-none pl-none\">\n-\t\t\t\t<ul class=\"nav nav-tabs review-tabs\">\n-\t\t\t\t\t<li class=\"shareData active\"><a data-toggle=\"tab\"\n-\t\t\t\t\t\thref=\"#menu1\">Data-sharing Permission</a></li>\n-\t\t\t\t\t<li class=\"consentReview\"><a data-toggle=\"tab\" href=\"#menu2\">Consent\n-\t\t\t\t\t\t\tDocument for Review</a></li>\n-\t\t\t\t\t<li class=\"econsentForm\"><a data-toggle=\"tab\" href=\"#menu3\">E-Consent\n-\t\t\t\t\t\t\tForm </a></li>\n-\t\t\t\t</ul>\n-\t\t\t\t<div class=\"tab-content pl-xlg pr-xlg\">\n-\t\t\t\t\t<input type=\"hidden\" id=\"version\" name=\"version\"\n-\t\t\t\t\t\tvalue=\"${consentBo.version}\">\n-\t\t\t\t\t<div id=\"menu1\" class=\"tab-pane fade in active\">\n-\t\t\t\t\t\t<div class=\"mt-lg\">\n-\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-sm\">Enable data-sharing permission\n-\t\t\t\t\t\t\t\tstep for this study? (This will let participants choose whether\n-\t\t\t\t\t\t\t\tthey want to allow their data to be shared with 3rd parties)</div>\n-\t\t\t\t\t\t\t<div class=\"col-md-12 pl-none\">\n-\t\t\t\t\t\t\t\t<div class=\"form-group custom-form\">\n+  <!--  Start top tab section-->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/studyList.do?_S=${param._S}\"\n+      name=\"cancelConsentReviewFormId\" id=\"cancelConsentReviewFormId\"\n+      method=\"POST\" role=\"form\">\n+    <input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n+    <input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n+           value=\"${consentBo.id}\">\n+  </form:form>\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveConsentReviewAndEConsentInfo.do?_S=${param._S}\"\n+      name=\"consentReviewFormId\" id=\"consentReviewFormId\" method=\"post\"\n+      role=\"form\">\n+    <input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n+    <input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n+           value=\"${consentBo.id}\">\n+    <input type=\"hidden\" id=\"consentBo\" name=\"consentBo\"\n+           value=\"${consentBo}\">\n+    <input type=\"hidden\" id=\"typeOfCensent\" name=\"typeOfCensent\"\n+           value=\"${consentBo.consentDocType}\">\n+    <!-- End body tab section -->\n+    <div>\n+      <!--  Start top tab section-->\n+      <div class=\"right-content-head\" style=\"z-index: 999;\">\n+        <div class=\"text-right\">\n+          <div class=\"black-md-f text-uppercase dis-line pull-left line34\">\n+            Review and E-Consent Steps\n+            <c:set var=\"isLive\">${_S}isLive</c:set>\n+              ${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</div>\n+          <div class=\"dis-line form-group mb-none mr-sm\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\"\n+                    onclick=\"goToBackPage(this);\">Cancel\n+            </button>\n+          </div>\n+          <div class=\"dis-line form-group mb-none mr-sm\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n+          </div>\n+          <div class=\"dis-line form-group mb-none\">\n+            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Mark\n+              as Completed\n+            </button>\n+          </div>\n+        </div>\n+      </div>\n+      <!--  End  top tab section-->\n+      <!--  Start body tab section -->\n+      <div class=\"right-content-body pt-none pl-none\">\n+        <ul class=\"nav nav-tabs review-tabs\">\n+          <li class=\"shareData active\"><a data-toggle=\"tab\"\n+                                          href=\"#menu1\">Data-sharing Permission</a></li>\n+          <li class=\"consentReview\"><a data-toggle=\"tab\" href=\"#menu2\">Consent\n+            Document for Review</a></li>\n+          <li class=\"econsentForm\"><a data-toggle=\"tab\" href=\"#menu3\">E-Consent\n+            Form </a></li>\n+        </ul>\n+        <div class=\"tab-content pl-xlg pr-xlg\">\n+          <input type=\"hidden\" id=\"version\" name=\"version\"\n+                 value=\"${consentBo.version}\">\n+          <div id=\"menu1\" class=\"tab-pane fade in active\">\n+            <div class=\"mt-lg\">\n+              <div class=\"gray-xs-f mb-sm\">Enable data-sharing permission\n+                step for this study? (This will let participants choose whether\n+                they want to allow their data to be shared with 3rd parties)\n+              </div>\n+              <div class=\"col-md-12 pl-none\">\n+                <div class=\"form-group custom-form\">\n \t\t\t\t\t\t\t\t\t<span class=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\t\t\t\t\t\ttype=\"radio\" id=\"shareDataPermissionsYes\" value=\"Yes\"\n-\t\t\t\t\t\t\t\t\t\tname=\"shareDataPermissions\"\n-\t\t\t\t\t\t\t\t\t\t${consentBo.shareDataPermissions eq 'Yes' ? 'checked' : ''}>\n+                      type=\"radio\" id=\"shareDataPermissionsYes\" value=\"Yes\"\n+                      name=\"shareDataPermissions\"\n+                    ${consentBo.shareDataPermissions eq 'Yes' ? 'checked' : ''}>\n \t\t\t\t\t\t\t\t\t\t<label for=\"shareDataPermissionsYes\">Yes</label>\n \t\t\t\t\t\t\t\t\t</span> <span class=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\t\t\t\tid=\"shareDataPermissionsNo\" value=\"No\"\n-\t\t\t\t\t\t\t\t\t\tname=\"shareDataPermissions\"\n-\t\t\t\t\t\t\t\t\t\t${empty consentBo.shareDataPermissions || consentBo.shareDataPermissions eq 'No' ? 'checked' : ''}>\n+                                                                   id=\"shareDataPermissionsNo\"\n+                                                                   value=\"No\"\n+                                                                   name=\"shareDataPermissions\"\n+                  ${empty consentBo.shareDataPermissions || consentBo.shareDataPermissions eq 'No' ? 'checked' : ''}>\n \t\t\t\t\t\t\t\t\t\t<label for=\"shareDataPermissionsNo\">No</label>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5Mzk5NA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438193994", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:03:28Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/consentReviewAndEConsentPage.jsp", "diffHunk": "@@ -1,359 +1,324 @@\n <%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\"\n-\tpageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+         pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <!-- ============================================================== -->\n <!-- Start right Content here -->\n <!-- ============================================================== -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-\t<!--  Start top tab section-->\n-\t<form:form\n-\t\taction=\"/studybuilder/adminStudies/studyList.do?_S=${param._S}\"\n-\t\tname=\"cancelConsentReviewFormId\" id=\"cancelConsentReviewFormId\"\n-\t\tmethod=\"POST\" role=\"form\">\n-\t\t<input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n-\t\t<input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n-\t\t\tvalue=\"${consentBo.id}\">\n-\t</form:form>\n-\t<form:form\n-\t\taction=\"/studybuilder/adminStudies/saveConsentReviewAndEConsentInfo.do?_S=${param._S}\"\n-\t\tname=\"consentReviewFormId\" id=\"consentReviewFormId\" method=\"post\"\n-\t\trole=\"form\">\n-\t\t<input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n-\t\t<input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n-\t\t\tvalue=\"${consentBo.id}\">\n-\t\t<input type=\"hidden\" id=\"consentBo\" name=\"consentBo\"\n-\t\t\tvalue=\"${consentBo}\">\n-\t\t<input type=\"hidden\" id=\"typeOfCensent\" name=\"typeOfCensent\"\n-\t\t\tvalue=\"${consentBo.consentDocType}\">\n-\t\t<!--  End body tab section -->\n-\t\t<div>\n-\t\t\t<!--  Start top tab section-->\n-\t\t\t<div class=\"right-content-head\" style=\"z-index: 999;\">\n-\t\t\t\t<div class=\"text-right\">\n-\t\t\t\t\t<div class=\"black-md-f text-uppercase dis-line pull-left line34\">\n-\t\t\t\t\t\tReview and E-Consent Steps\n-\t\t\t\t\t\t<c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</div>\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\"\n-\t\t\t\t\t\t\tonclick=\"goToBackPage(this);\">Cancel</button>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div class=\"dis-line form-group mb-none\">\n-\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Mark\n-\t\t\t\t\t\t\tas Completed</button>\n-\t\t\t\t\t</div>\n-\t\t\t\t</div>\n-\t\t\t</div>\n-\t\t\t<!--  End  top tab section-->\n-\t\t\t<!--  Start body tab section -->\n-\t\t\t<div class=\"right-content-body pt-none pl-none\">\n-\t\t\t\t<ul class=\"nav nav-tabs review-tabs\">\n-\t\t\t\t\t<li class=\"shareData active\"><a data-toggle=\"tab\"\n-\t\t\t\t\t\thref=\"#menu1\">Data-sharing Permission</a></li>\n-\t\t\t\t\t<li class=\"consentReview\"><a data-toggle=\"tab\" href=\"#menu2\">Consent\n-\t\t\t\t\t\t\tDocument for Review</a></li>\n-\t\t\t\t\t<li class=\"econsentForm\"><a data-toggle=\"tab\" href=\"#menu3\">E-Consent\n-\t\t\t\t\t\t\tForm </a></li>\n-\t\t\t\t</ul>\n-\t\t\t\t<div class=\"tab-content pl-xlg pr-xlg\">\n-\t\t\t\t\t<input type=\"hidden\" id=\"version\" name=\"version\"\n-\t\t\t\t\t\tvalue=\"${consentBo.version}\">\n-\t\t\t\t\t<div id=\"menu1\" class=\"tab-pane fade in active\">\n-\t\t\t\t\t\t<div class=\"mt-lg\">\n-\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-sm\">Enable data-sharing permission\n-\t\t\t\t\t\t\t\tstep for this study? (This will let participants choose whether\n-\t\t\t\t\t\t\t\tthey want to allow their data to be shared with 3rd parties)</div>\n-\t\t\t\t\t\t\t<div class=\"col-md-12 pl-none\">\n-\t\t\t\t\t\t\t\t<div class=\"form-group custom-form\">\n+  <!--  Start top tab section-->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/studyList.do?_S=${param._S}\"\n+      name=\"cancelConsentReviewFormId\" id=\"cancelConsentReviewFormId\"\n+      method=\"POST\" role=\"form\">\n+    <input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n+    <input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n+           value=\"${consentBo.id}\">\n+  </form:form>\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveConsentReviewAndEConsentInfo.do?_S=${param._S}\"\n+      name=\"consentReviewFormId\" id=\"consentReviewFormId\" method=\"post\"\n+      role=\"form\">\n+    <input type=\"hidden\" id=\"studyId\" name=\"studyId\" value=\"${studyId}\">\n+    <input type=\"hidden\" id=\"consentId\" name=\"consentId\"\n+           value=\"${consentBo.id}\">\n+    <input type=\"hidden\" id=\"consentBo\" name=\"consentBo\"\n+           value=\"${consentBo}\">\n+    <input type=\"hidden\" id=\"typeOfCensent\" name=\"typeOfCensent\"\n+           value=\"${consentBo.consentDocType}\">\n+    <!-- End body tab section -->\n+    <div>\n+      <!--  Start top tab section-->\n+      <div class=\"right-content-head\" style=\"z-index: 999;\">\n+        <div class=\"text-right\">\n+          <div class=\"black-md-f text-uppercase dis-line pull-left line34\">\n+            Review and E-Consent Steps\n+            <c:set var=\"isLive\">${_S}isLive</c:set>\n+              ${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</div>\n+          <div class=\"dis-line form-group mb-none mr-sm\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\"\n+                    onclick=\"goToBackPage(this);\">Cancel\n+            </button>\n+          </div>\n+          <div class=\"dis-line form-group mb-none mr-sm\">\n+            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n+          </div>\n+          <div class=\"dis-line form-group mb-none\">\n+            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Mark\n+              as Completed\n+            </button>\n+          </div>\n+        </div>\n+      </div>\n+      <!--  End  top tab section-->\n+      <!--  Start body tab section -->\n+      <div class=\"right-content-body pt-none pl-none\">\n+        <ul class=\"nav nav-tabs review-tabs\">\n+          <li class=\"shareData active\"><a data-toggle=\"tab\"\n+                                          href=\"#menu1\">Data-sharing Permission</a></li>\n+          <li class=\"consentReview\"><a data-toggle=\"tab\" href=\"#menu2\">Consent\n+            Document for Review</a></li>\n+          <li class=\"econsentForm\"><a data-toggle=\"tab\" href=\"#menu3\">E-Consent\n+            Form </a></li>\n+        </ul>\n+        <div class=\"tab-content pl-xlg pr-xlg\">\n+          <input type=\"hidden\" id=\"version\" name=\"version\"\n+                 value=\"${consentBo.version}\">\n+          <div id=\"menu1\" class=\"tab-pane fade in active\">\n+            <div class=\"mt-lg\">\n+              <div class=\"gray-xs-f mb-sm\">Enable data-sharing permission\n+                step for this study? (This will let participants choose whether\n+                they want to allow their data to be shared with 3rd parties)\n+              </div>\n+              <div class=\"col-md-12 pl-none\">\n+                <div class=\"form-group custom-form\">\n \t\t\t\t\t\t\t\t\t<span class=\"radio radio-info radio-inline p-45\"> <input\n-\t\t\t\t\t\t\t\t\t\ttype=\"radio\" id=\"shareDataPermissionsYes\" value=\"Yes\"\n-\t\t\t\t\t\t\t\t\t\tname=\"shareDataPermissions\"\n-\t\t\t\t\t\t\t\t\t\t${consentBo.shareDataPermissions eq 'Yes' ? 'checked' : ''}>\n+                      type=\"radio\" id=\"shareDataPermissionsYes\" value=\"Yes\"\n+                      name=\"shareDataPermissions\"\n+                    ${consentBo.shareDataPermissions eq 'Yes' ? 'checked' : ''}>\n \t\t\t\t\t\t\t\t\t\t<label for=\"shareDataPermissionsYes\">Yes</label>\n \t\t\t\t\t\t\t\t\t</span> <span class=\"radio radio-inline\"> <input type=\"radio\"\n-\t\t\t\t\t\t\t\t\t\tid=\"shareDataPermissionsNo\" value=\"No\"\n-\t\t\t\t\t\t\t\t\t\tname=\"shareDataPermissions\"\n-\t\t\t\t\t\t\t\t\t\t${empty consentBo.shareDataPermissions || consentBo.shareDataPermissions eq 'No' ? 'checked' : ''}>\n+                                                                   id=\"shareDataPermissionsNo\"\n+                                                                   value=\"No\"\n+                                                                   name=\"shareDataPermissions\"\n+                  ${empty consentBo.shareDataPermissions || consentBo.shareDataPermissions eq 'No' ? 'checked' : ''}>\n \t\t\t\t\t\t\t\t\t\t<label for=\"shareDataPermissionsNo\">No</label>\n \t\t\t\t\t\t\t\t\t</span>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t<div\n-\t\t\t\t\t\t\t\tclass=\"<c:if test=\"${consentBo.shareDataPermissions eq 'No'}\">ct_panel</c:if>\"\n-\t\t\t\t\t\t\t\tid=\"rootContainer\">\n-\t\t\t\t\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\t\t\t\tScreen Title <small>(250 characters max)</small><span\n-\t\t\t\t\t\t\t\t\t\t\tclass=\"requiredStar\">*</span> E.g. Sharing Options\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t\t<div class=\"form-group custom-form\">\n-\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control requiredClass\"\n-\t\t\t\t\t\t\t\t\t\t\tplaceholde=\"\" id=\"titleId\" name=\"title\"\n-\t\t\t\t\t\t\t\t\t\t\tvalue=\"${consentBo.title}\" maxlength=\"250\" />\n-\t\t\t\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\t\t\t\tBrief description <small>(500 characters max)</small><span\n-\t\t\t\t\t\t\t\t\t\t\tclass=\"requiredStar\">*</span> E.g. &lt;Institution&gt; and\n-\t\t\t\t\t\t\t\t\t\tits partners will receive your study data from your\n-\t\t\t\t\t\t\t\t\t\tparticipation in the study. Please indicate if you permit to\n-\t\t\t\t\t\t\t\t\t\tshare your data more broadly to other parties for research.\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t\t<div class=\"form-group custom-form\">\n-\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control requiredClass\"\n-\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\" maxlength=\"250\" name=\"taglineDescription\"\n-\t\t\t\t\t\t\t\t\t\t\tid=\"taglineDescriptionId\"\n-\t\t\t\t\t\t\t\t\t\t\tvalue=\"${consentBo.taglineDescription}\" />\n-\t\t\t\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\t\t\t\tOption 1: Share my data with &lt;institution&gt; and qualified\n-\t\t\t\t\t\t\t\t\t\tresearchers worldwide. <small>(250 characters max)</small><span\n-\t\t\t\t\t\t\t\t\t\t\tclass=\"requiredStar\">*</span>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t\t<div class=\"form-group custom-form\">\n-\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control requiredClass\"\n-\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"\" maxlength=\"250\" name=\"shortDescription\"\n-\t\t\t\t\t\t\t\t\t\t\tid=\"shortDescriptionId\" value=\"${consentBo.shortDescription}\" />\n-\t\t\t\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\t\t\t\tOption 2: Only share my data with &lt;institution and its\n-\t\t\t\t\t\t\t\t\t\tpartners&gt; <small>(500 characters max)</small><span\n-\t\t\t\t\t\t\t\t\t\t\tclass=\"requiredStar\">*</span>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t\t<div class=\"form-group custom-form\">\n+                </div>\n+              </div>\n+              <div\n+                  class=\"<c:if test=\"${consentBo.shareDataPermissions eq 'No'}\">ct_panel</c:if>\"\n+                  id=\"rootContainer\">\n+                <div class=\"col-md-12 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">\n+                    Screen Title <small>(250 characters max)</small><span\n+                      class=\"requiredStar\">*</span> E.g. Sharing Options\n+                  </div>\n+                  <div class=\"form-group custom-form\">\n+                    <input type=\"text\" class=\"form-control requiredClass\"\n+                           placeholde=\"\" id=\"titleId\" name=\"title\"\n+                           value=\"${consentBo.title}\" maxlength=\"250\"/>\n+                    <div class=\"help-block with-errors red-txt\"></div>\n+                  </div>\n+                </div>\n+                <div class=\"col-md-12 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">\n+                    Brief description <small>(500 characters max)</small><span\n+                      class=\"requiredStar\">*</span> E.g. &lt;Institution&gt; and\n+                    its partners will receive your study data from your\n+                    participation in the study. Please indicate if you permit to\n+                    share your data more broadly to other parties for research.\n+                  </div>\n+                  <div class=\"form-group custom-form\">\n+                    <input type=\"text\" class=\"form-control requiredClass\"\n+                           placeholder=\"\" maxlength=\"250\" name=\"taglineDescription\"\n+                           id=\"taglineDescriptionId\"\n+                           value=\"${consentBo.taglineDescription}\"/>\n+                    <div class=\"help-block with-errors red-txt\"></div>\n+                  </div>\n+                </div>\n+                <div class=\"col-md-12 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">\n+                    Option 1: Share my data with &lt;institution&gt; and qualified\n+                    researchers worldwide. <small>(250 characters max)</small><span\n+                      class=\"requiredStar\">*</span>\n+                  </div>\n+                  <div class=\"form-group custom-form\">\n+                    <input type=\"text\" class=\"form-control requiredClass\"\n+                           placeholder=\"\" maxlength=\"250\" name=\"shortDescription\"\n+                           id=\"shortDescriptionId\" value=\"${consentBo.shortDescription}\"/>\n+                    <div class=\"help-block with-errors red-txt\"></div>\n+                  </div>\n+                </div>\n+                <div class=\"col-md-12 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">\n+                    Option 2: Only share my data with &lt;institution and its\n+                    partners&gt; <small>(500 characters max)</small><span\n+                      class=\"requiredStar\">*</span>\n+                  </div>\n+                  <div class=\"form-group custom-form\">\n \t\t\t\t\t\t\t\t\t\t<textarea class=\"form-control requiredClass\" rows=\"5\"\n-\t\t\t\t\t\t\t\t\t\t\tmaxlength=\"500\" placeholder=\"\" name=\"longDescription\"\n-\t\t\t\t\t\t\t\t\t\t\tid=\"longDescriptionId\">${consentBo.longDescription}</textarea>\n-\t\t\t\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t<div class=\"col-md-12 p-none\">\n-\t\t\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-xs\">\n-\t\t\t\t\t\t\t\t\t\tExplanatory text that can be provided in a 'Learn More'\n-\t\t\t\t\t\t\t\t\t\tsection <span class=\"requiredStar\">*</span>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t\t\t\t<textarea id=\"learnMoreTextId\" name=\"learnMoreText\" required>${consentBo.learnMoreText}</textarea>\n-\t\t\t\t\t\t\t\t\t\t<div class=\"help-block with-errors red-txt\"></div>\n-\t\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t\t<%-- <div class=\"col-md-12 pl-none mt-lg\">\n-\t\t                \t<div class=\"gray-xs-f mb-sm\">Allow user to proceed if permission not provided</div>\n-\t                        <div class=\"form-group\">\n-\t                            <span class=\"radio radio-info radio-inline p-45\">\n-\t                                <input type=\"radio\" id=\"allowWithoutPermissionYes\"  name=\"allowWithoutPermission\" ${empty consentBo.allowWithoutPermission || consentBo.allowWithoutPermission eq 'Yes' ? 'checked' : ''} value=\"Yes\">\n-\t                                <label for=\"allowWithoutPermissionYes\">Yes</label>\n-\t                            </span>\n-\t                            <span class=\"radio radio-inline\">\n-\t                                <input type=\"radio\" id=\"allowWithoutPermissionNo\"  name=\"allowWithoutPermission\" ${consentBo.allowWithoutPermission eq 'No' ? 'checked' : ''} value=\"No\">\n-\t                                <label for=\"allowWithoutPermissionNo\">No</label>\n-\t                            </span>\n-\t                        </div>\n-                    \t</div> --%>\n-\t\t\t\t\t\t\t\t<div class=\"col-md-12 pl-none mt-lg mb-xlg\">\n-\t\t\t\t\t\t\t\t\t<a class=\"preview__text\" href=\"javascript:void()\"\n-\t\t\t\t\t\t\t\t\t\tdata-toggle=\"modal\" onclick=\"previewDataSharing();\"> <img\n-\t\t\t\t\t\t\t\t\t\tclass=\"mr-xs\" src=\"../images/icons/eye-icn.png\" alt=\"\">\n-\t\t\t\t\t\t\t\t\t\t<span>See Screen Preview</span>\n-\t\t\t\t\t\t\t\t\t</a>\n-\t\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t</div>\n-\t\t\t\t\t\t<div class=\"clearfix\"></div>\n-\n-\n-\n-\t\t\t\t\t</div>\n-\t\t\t\t\t<div id=\"menu2\" class=\"tab-pane fade\">\n-\t\t\t\t\t\t<div class=\"mt-lg\">\n-\t\t\t\t\t\t\t<div class=\"gray-xs-f mb-sm\">Select a method of creation\n-\t\t\t\t\t\t\t\tfor the consent document:</div>\n-\t\t\t\t\t\t\t<div class=\"form-group mb-none\">\n-\t\t\t\t\t\t\t\t<div id=\"consentDocTypeDivId\">\n+                              maxlength=\"500\" placeholder=\"\" name=\"longDescription\"\n+                              id=\"longDescriptionId\">${consentBo.longDescription}</textarea>\n+                    <div class=\"help-block with-errors red-txt\"></div>\n+                  </div>\n+                </div>\n+                <div class=\"col-md-12 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">\n+                    Explanatory text that can be provided in a 'Learn More'\n+                    section <span class=\"requiredStar\">*</span>\n+                  </div>\n+                  <div class=\"form-group\">\n+                                        <textarea id=\"learnMoreTextId\" name=\"learnMoreText\"\n+                                                  required>${consentBo.learnMoreText}</textarea>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NTY1MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438195650", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:05:48Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/formStep.jsp", "diffHunk": "@@ -1,790 +1,897 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- Start right Content here -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span> \n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n-            <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t<c:choose>\n-\t\t\t\t\t<c:when test=\"${not empty questionnairesStepsBo.stepId}\"><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Save</button></c:when>\n-\t\t\t\t\t<c:otherwise><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Next</button></c:otherwise>\n-\t\t\t\t</c:choose>\t         \n-\t            \n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\" \n-\t            <c:if test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NTk1OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438195959", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:06:14Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/formStep.jsp", "diffHunk": "@@ -1,790 +1,897 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- Start right Content here -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span> \n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n-            <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t<c:choose>\n-\t\t\t\t\t<c:when test=\"${not empty questionnairesStepsBo.stepId}\"><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Save</button></c:when>\n-\t\t\t\t\t<c:otherwise><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Next</button></c:otherwise>\n-\t\t\t\t</c:choose>\t         \n-\t            \n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\" \n-\t            <c:if test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+      </div>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <c:choose>\n+            <c:when test=\"${not empty questionnairesStepsBo.stepId}\">\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Save\n+              </button>\n+            </c:when>\n+            <c:otherwise>\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Next\n+              </button>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n+                  <c:if", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NjI5NA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438196294", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:06:41Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/formStep.jsp", "diffHunk": "@@ -1,790 +1,897 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- Start right Content here -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span> \n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n-            <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t<c:choose>\n-\t\t\t\t\t<c:when test=\"${not empty questionnairesStepsBo.stepId}\"><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Save</button></c:when>\n-\t\t\t\t\t<c:otherwise><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Next</button></c:otherwise>\n-\t\t\t\t</c:choose>\t         \n-\t            \n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\" \n-\t            <c:if test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+      </div>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <c:choose>\n+            <c:when test=\"${not empty questionnairesStepsBo.stepId}\">\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Save\n+              </button>\n+            </c:when>\n+            <c:otherwise>\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Next\n+              </button>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n+                  <c:if\n+                      test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n \t            <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0}\">\n-\t             title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if> \n+                title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if>\n \t            <c:if test=\"${!questionnairesStepsBo.status}\">\n-\t             title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\" <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n+                title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n+\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\"\n+                      <c:if\n+                          test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n \t            </span>\n-\t         </div>\n-\t        \n-         </c:if>\n-      </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\" name=\"formStepId\" id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n+        </div>\n+\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\"\n+             name=\"formStepId\"\n+             id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n+    <div class=\"right-content-body pt-none pl-none pr-none\">\n       <ul class=\"nav nav-tabs review-tabs gray-bg\" id=\"formTabConstiner\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n+        <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+        <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n       </ul>\n       <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n-         <input type=\"hidden\" name=\"formId\" id=\"formId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"questionId\" name=\"questionId\"  />\n-         <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"  />\n-         \n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required \n-                     maxlength=\"15\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Form Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <div>\n-                  <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span></div>\n-                  <div>\n+        <!-- Step-level Attributes-->\n+        <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+        <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+               value=\"${questionnaireId}\">\n+        <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+        <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n+        <input type=\"hidden\" name=\"formId\" id=\"formId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+        <input type=\"hidden\" id=\"questionId\" name=\"questionId\"/>\n+        <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"/>\n+\n+        <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+          <div class=\"row\">\n+            <div class=\"col-md-6 pl-none\">\n+              <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\"\n+                                                      title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\"\n+                       name=\"stepShortTitle\" id=\"stepShortTitle\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required\n+                       maxlength=\"15\" <c:if\n+                    test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+                <input type=\"hidden\" id=\"preShortTitleId\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n+              </div>\n+            </div>\n+            <div class=\"col-md-6\">\n+              <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+              <div>Form Step</div>\n+            </div>\n+            <div class=\"clearfix\"></div>\n+            <div>\n+              <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span\n+                  class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                  title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span>\n+              </div>\n+              <div>\n                      <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                      </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NjYwMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438196600", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:07:05Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/formStep.jsp", "diffHunk": "@@ -1,790 +1,897 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- Start right Content here -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span> \n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n-            <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t<c:choose>\n-\t\t\t\t\t<c:when test=\"${not empty questionnairesStepsBo.stepId}\"><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Save</button></c:when>\n-\t\t\t\t\t<c:otherwise><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Next</button></c:otherwise>\n-\t\t\t\t</c:choose>\t         \n-\t            \n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\" \n-\t            <c:if test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+      </div>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <c:choose>\n+            <c:when test=\"${not empty questionnairesStepsBo.stepId}\">\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Save\n+              </button>\n+            </c:when>\n+            <c:otherwise>\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Next\n+              </button>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n+                  <c:if\n+                      test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n \t            <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0}\">\n-\t             title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if> \n+                title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if>\n \t            <c:if test=\"${!questionnairesStepsBo.status}\">\n-\t             title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\" <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n+                title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n+\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\"\n+                      <c:if\n+                          test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n \t            </span>\n-\t         </div>\n-\t        \n-         </c:if>\n-      </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\" name=\"formStepId\" id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n+        </div>\n+\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\"\n+             name=\"formStepId\"\n+             id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n+    <div class=\"right-content-body pt-none pl-none pr-none\">\n       <ul class=\"nav nav-tabs review-tabs gray-bg\" id=\"formTabConstiner\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n+        <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+        <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n       </ul>\n       <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n-         <input type=\"hidden\" name=\"formId\" id=\"formId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"questionId\" name=\"questionId\"  />\n-         <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"  />\n-         \n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required \n-                     maxlength=\"15\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Form Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <div>\n-                  <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span></div>\n-                  <div>\n+        <!-- Step-level Attributes-->\n+        <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+        <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+               value=\"${questionnaireId}\">\n+        <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+        <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n+        <input type=\"hidden\" name=\"formId\" id=\"formId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+        <input type=\"hidden\" id=\"questionId\" name=\"questionId\"/>\n+        <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"/>\n+\n+        <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+          <div class=\"row\">\n+            <div class=\"col-md-6 pl-none\">\n+              <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\"\n+                                                      title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\"\n+                       name=\"stepShortTitle\" id=\"stepShortTitle\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required\n+                       maxlength=\"15\" <c:if\n+                    test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+                <input type=\"hidden\" id=\"preShortTitleId\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n+              </div>\n+            </div>\n+            <div class=\"col-md-6\">\n+              <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+              <div>Form Step</div>\n+            </div>\n+            <div class=\"clearfix\"></div>\n+            <div>\n+              <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span\n+                  class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                  title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span>\n+              </div>\n+              <div>\n                      <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                      </span>\n-                     <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+                <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                      </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5NjgzOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438196839", "bodyText": "change to two spaces", "author": "zohrehj", "createdAt": "2020-06-10T15:07:22Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/formStep.jsp", "diffHunk": "@@ -1,790 +1,897 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- Start right Content here -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span> \n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n-            <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t<c:choose>\n-\t\t\t\t\t<c:when test=\"${not empty questionnairesStepsBo.stepId}\"><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Save</button></c:when>\n-\t\t\t\t\t<c:otherwise><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Next</button></c:otherwise>\n-\t\t\t\t</c:choose>\t         \n-\t            \n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\" \n-\t            <c:if test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+      </div>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <c:choose>\n+            <c:when test=\"${not empty questionnairesStepsBo.stepId}\">\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Save\n+              </button>\n+            </c:when>\n+            <c:otherwise>\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Next\n+              </button>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n+                  <c:if\n+                      test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n \t            <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0}\">\n-\t             title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if> \n+                title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if>\n \t            <c:if test=\"${!questionnairesStepsBo.status}\">\n-\t             title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\" <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n+                title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n+\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\"\n+                      <c:if\n+                          test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n \t            </span>\n-\t         </div>\n-\t        \n-         </c:if>\n-      </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\" name=\"formStepId\" id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n+        </div>\n+\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\"\n+             name=\"formStepId\"\n+             id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n+    <div class=\"right-content-body pt-none pl-none pr-none\">\n       <ul class=\"nav nav-tabs review-tabs gray-bg\" id=\"formTabConstiner\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n+        <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+        <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n       </ul>\n       <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n-         <input type=\"hidden\" name=\"formId\" id=\"formId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"questionId\" name=\"questionId\"  />\n-         <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"  />\n-         \n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required \n-                     maxlength=\"15\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Form Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <div>\n-                  <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span></div>\n-                  <div>\n+        <!-- Step-level Attributes-->\n+        <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+        <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+               value=\"${questionnaireId}\">\n+        <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+        <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n+        <input type=\"hidden\" name=\"formId\" id=\"formId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+        <input type=\"hidden\" id=\"questionId\" name=\"questionId\"/>\n+        <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"/>\n+\n+        <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+          <div class=\"row\">\n+            <div class=\"col-md-6 pl-none\">\n+              <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\"\n+                                                      title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\"\n+                       name=\"stepShortTitle\" id=\"stepShortTitle\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required\n+                       maxlength=\"15\" <c:if\n+                    test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+                <input type=\"hidden\" id=\"preShortTitleId\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n+              </div>\n+            </div>\n+            <div class=\"col-md-6\">\n+              <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+              <div>Form Step</div>\n+            </div>\n+            <div class=\"clearfix\"></div>\n+            <div>\n+              <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span\n+                  class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                  title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span>\n+              </div>\n+              <div>\n                      <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                      </span>\n-                     <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+                <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                      </span>\n-                  </div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none mt-md\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select  class=\"selectpicker\" name=\"destinationStep\" id=\"destinationStepId\" value=\"${questionnairesStepsBo.destinationStep}\" required>\n-                        <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t        </c:forEach>\n-                        <option value=\"0\" ${questionnairesStepsBo.destinationStep eq '0' ? 'selected' :''}>Completion Step</option>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+              </div>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"fla\" class=\"tab-pane fade mt-xlg\">\n+            <div class=\"clearfix\"></div>\n+            <c:if test=\"${questionnaireBo.branching}\">\n+              <div class=\"col-md-4 col-lg-3 p-none mt-md\">\n+                <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                    class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                        data-toggle=\"tooltip\"\n+                                                        title=\"The step that the user must be directed to from this step.\"></span>\n+                </div>\n+                <div class=\"form-group\">\n+                  <select class=\"selectpicker\" name=\"destinationStep\" id=\"destinationStepId\"\n+                          value=\"${questionnairesStepsBo.destinationStep}\" required>\n+                    <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                      <option\n+                          value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                        Step ${destinationStep.sequenceNo}\n+                        : ${destinationStep.stepShortTitle}</option>\n+                    </c:forEach>\n+                    <option\n+                        value=\"0\" ${questionnairesStepsBo.destinationStep eq '0' ? 'selected' :''}>\n+                      Completion Step\n+                    </option>\n+                  </select>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:if>\n+          </div>\n+        </div>\n+        <!---  Form-level Attributes --->\n+        <div id=\"fla\" class=\"tab-pane fade mt-xlg\">\n+          <div>\n+            <div class=\"gray-xs-f mb-xs\">Make form repeatable?</div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Make form repeatable?</div>\n-               <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"repeatableYes\" value=\"Yes\" name=\"repeatable\"  ${questionnairesStepsBo.repeatable eq'Yes' ?'checked':''}>\n+                  <input type=\"radio\" id=\"repeatableYes\" value=\"Yes\"\n+                         name=\"repeatable\"  ${questionnairesStepsBo.repeatable eq'Yes' ?'checked':''}>\n                   <label for=\"repeatableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"repeatableNo\" value=\"No\" name=\"repeatable\" ${empty questionnairesStepsBo.repeatable || questionnairesStepsBo.repeatable eq 'No' ?'checked':''}>\n+              <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"repeatableNo\" value=\"No\"", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5Njk3Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438196977", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:07:33Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/formStep.jsp", "diffHunk": "@@ -1,790 +1,897 @@\n-<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\"%>\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ page language=\"java\" contentType=\"text/html; charset=ISO-8859-1\" pageEncoding=\"ISO-8859-1\" %>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n <style>\n-.cursonMove{\n- cursor: move !important;\n-}\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n+  .cursonMove {\n+    cursor: move !important;\n+  }\n+\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n </style>\n <!-- Start right Content here -->\n <div class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span> \n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n-            <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t\t\t\t<c:choose>\n-\t\t\t\t\t<c:when test=\"${not empty questionnairesStepsBo.stepId}\"><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Save</button></c:when>\n-\t\t\t\t\t<c:otherwise><button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\" onclick=\"saveFormStep(this);\">Next</button></c:otherwise>\n-\t\t\t\t</c:choose>\t         \n-\t            \n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\" \n-\t            <c:if test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Form Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Form Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+      </div>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <c:choose>\n+            <c:when test=\"${not empty questionnairesStepsBo.stepId}\">\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Save\n+              </button>\n+            </c:when>\n+            <c:otherwise>\n+              <button type=\"button\" id=\"saveBtn\" class=\"btn btn-default gray-btn\"\n+                      onclick=\"saveFormStep(this);\">Next\n+              </button>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+\t            <span class=\"tool-tip\" id=\"helpNote\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n+                  <c:if\n+                      test=\"${empty questionnairesStepsBo.stepId}\"> title=\"Please click on Next to continue.\" </c:if>\n \t            <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0}\">\n-\t             title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if> \n+                title=\"Please ensure you add one or more questions to this Form Step before attempting this action.\" </c:if>\n \t            <c:if test=\"${!questionnairesStepsBo.status}\">\n-\t             title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\" <c:if test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n+                title=\"Please ensure individual list items on this page are marked Done before attempting this action.\" </c:if>>\n+\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\"\n+                      <c:if\n+                          test=\"${fn:length(questionnairesStepsBo.formQuestionMap) eq 0 || !questionnairesStepsBo.status}\">disabled</c:if>>Done</button>\n \t            </span>\n-\t         </div>\n-\t        \n-         </c:if>\n-      </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\" name=\"formStepId\" id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n+        </div>\n+\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromStepQuestionnaire.do?_S=${param._S}\"\n+             name=\"formStepId\"\n+             id=\"formStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\">\n+    <div class=\"right-content-body pt-none pl-none pr-none\">\n       <ul class=\"nav nav-tabs review-tabs gray-bg\" id=\"formTabConstiner\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n+        <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+        <li class=\"formLevel\"><a data-toggle=\"tab\" href=\"#fla\">Form-level Attributes</a></li>\n       </ul>\n       <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n-         <input type=\"hidden\" name=\"formId\" id=\"formId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"questionId\" name=\"questionId\"  />\n-         <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"  />\n-         \n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required \n-                     maxlength=\"15\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Form Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <div>\n-                  <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span></div>\n-                  <div>\n+        <!-- Step-level Attributes-->\n+        <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+        <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+               value=\"${questionnaireId}\">\n+        <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+        <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Form\">\n+        <input type=\"hidden\" name=\"formId\" id=\"formId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+               value=\"${questionnairesStepsBo.instructionFormId}\">\n+        <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+        <input type=\"hidden\" id=\"questionId\" name=\"questionId\"/>\n+        <input type=\"hidden\" id=\"actionTypeForFormStep\" name=\"actionTypeForFormStep\"/>\n+\n+        <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+          <div class=\"row\">\n+            <div class=\"col-md-6 pl-none\">\n+              <div class=\"gray-xs-f mb-xs\">Step title or Key (1 to 15 characters) <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\"\n+                                                      title=\"A human readable step identifier and must be unique across all steps of the questionnaire.Note that this field cannot be edited once the study is Launched.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <input autofocus=\"autofocus\" type=\"text\" custAttType=\"cust\" class=\"form-control\"\n+                       name=\"stepShortTitle\" id=\"stepShortTitle\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" required\n+                       maxlength=\"15\" <c:if\n+                    test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+                <input type=\"hidden\" id=\"preShortTitleId\"\n+                       value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n+              </div>\n+            </div>\n+            <div class=\"col-md-6\">\n+              <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+              <div>Form Step</div>\n+            </div>\n+            <div class=\"clearfix\"></div>\n+            <div>\n+              <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?<span\n+                  class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                  title=\"If marked as Yes, it means the user can skip the entire step meaning no responses are captured from this form step. If marked No, it means the user cannot skip the step and has to answer at least one of the questions to proceed.\"></span>\n+              </div>\n+              <div>\n                      <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                      </span>\n-                     <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+                <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                      </span>\n-                  </div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none mt-md\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select  class=\"selectpicker\" name=\"destinationStep\" id=\"destinationStepId\" value=\"${questionnairesStepsBo.destinationStep}\" required>\n-                        <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t        </c:forEach>\n-                        <option value=\"0\" ${questionnairesStepsBo.destinationStep eq '0' ? 'selected' :''}>Completion Step</option>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+              </div>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"fla\" class=\"tab-pane fade mt-xlg\">\n+            <div class=\"clearfix\"></div>\n+            <c:if test=\"${questionnaireBo.branching}\">\n+              <div class=\"col-md-4 col-lg-3 p-none mt-md\">\n+                <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                    class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                        data-toggle=\"tooltip\"\n+                                                        title=\"The step that the user must be directed to from this step.\"></span>\n+                </div>\n+                <div class=\"form-group\">\n+                  <select class=\"selectpicker\" name=\"destinationStep\" id=\"destinationStepId\"\n+                          value=\"${questionnairesStepsBo.destinationStep}\" required>\n+                    <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                      <option\n+                          value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                        Step ${destinationStep.sequenceNo}\n+                        : ${destinationStep.stepShortTitle}</option>\n+                    </c:forEach>\n+                    <option\n+                        value=\"0\" ${questionnairesStepsBo.destinationStep eq '0' ? 'selected' :''}>\n+                      Completion Step\n+                    </option>\n+                  </select>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:if>\n+          </div>\n+        </div>\n+        <!---  Form-level Attributes --->\n+        <div id=\"fla\" class=\"tab-pane fade mt-xlg\">\n+          <div>\n+            <div class=\"gray-xs-f mb-xs\">Make form repeatable?</div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Make form repeatable?</div>\n-               <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"repeatableYes\" value=\"Yes\" name=\"repeatable\"  ${questionnairesStepsBo.repeatable eq'Yes' ?'checked':''}>\n+                  <input type=\"radio\" id=\"repeatableYes\" value=\"Yes\"\n+                         name=\"repeatable\"  ${questionnairesStepsBo.repeatable eq'Yes' ?'checked':''}>\n                   <label for=\"repeatableYes\">Yes</label>\n                   </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5OTYyOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438199629", "bodyText": "put tags on new lines to make the code more readable", "author": "zohrehj", "createdAt": "2020-06-10T15:11:15Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE5OTgzNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438199837", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:11:31Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMDE2Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438200163", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:11:53Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMDM4MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438200381", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:12:11Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t                >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                     <c:if\n+                         test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+                 >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if> \n-\t\t\t                     <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if>\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMDU4Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438200582", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:12:27Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t                >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                     <c:if\n+                         test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+                 >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if> \n-\t\t\t                     <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if>\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\" value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\"\n+                        value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMTAyMQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438201021", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:13:02Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t                >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                     <c:if\n+                         test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+                 >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if> \n-\t\t\t                     <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if>\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\" value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\"\n+                        value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-html=true data-toggle=\"tooltip\" title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"healthkitDatatype\" value=\"${questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-html=true data-toggle=\"tooltip\"\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"healthkitDatatype\"\n+                        value=\"${questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\" value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\"\n+                      value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\"\n+                                                                          data-toggle=\"tooltip\"\n+                                                                          title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMTE5NQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438201195", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:13:17Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t                >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                     <c:if\n+                         test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+                 >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if> \n-\t\t\t                     <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if>\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\" value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\"\n+                        value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-html=true data-toggle=\"tooltip\" title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"healthkitDatatype\" value=\"${questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-html=true data-toggle=\"tooltip\"\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"healthkitDatatype\"\n+                        value=\"${questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\" value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\"\n+                      value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\"\n+                                                                          data-toggle=\"tooltip\"\n+                                                                          title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n+                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n+                <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartNo\">No</label>\n                   </span>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\" id=\"chartTitleId\" value=\"${fn:escapeXml(\n+              <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\"\n+                       id=\"chartTitleId\" value=\"${fn:escapeXml(\n                   questionsBo.chartTitle)}\" maxlength=\"30\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id= \"useStasticData\" value=\"Yes\" name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"useStasticData\" value=\"Yes\"\n+                      name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n                <label for=\"useStasticData\"> Use response data for statistic on dashboard</label>\n                </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMTQ1OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438201459", "bodyText": "fix nesting. also put tags on new lines to make the code more readable", "author": "zohrehj", "createdAt": "2020-06-10T15:13:38Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t                >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                     <c:if\n+                         test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+                 >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if> \n-\t\t\t                     <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if>\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\" value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\"\n+                        value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-html=true data-toggle=\"tooltip\" title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"healthkitDatatype\" value=\"${questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-html=true data-toggle=\"tooltip\"\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"healthkitDatatype\"\n+                        value=\"${questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\" value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\"\n+                      value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\"\n+                                                                          data-toggle=\"tooltip\"\n+                                                                          title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n+                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n+                <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartNo\">No</label>\n                   </span>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\" id=\"chartTitleId\" value=\"${fn:escapeXml(\n+              <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\"\n+                       id=\"chartTitleId\" value=\"${fn:escapeXml(\n                   questionsBo.chartTitle)}\" maxlength=\"30\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id= \"useStasticData\" value=\"Yes\" name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"useStasticData\" value=\"Yes\"\n+                      name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n                <label for=\"useStasticData\"> Use response data for statistic on dashboard</label>\n                </span>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div id=\"statContainer\" style=\"display: none\">\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\"\n+                     name=\"statShortName\"\n+                     id=\"statShortNameId\" value=\"${fn:escapeXml(questionsBo.statShortName)}\"\n+                     maxlength=\"20\" <c:if\n+                  test=\"${not empty questionsBo.isStatShortNameDuplicate && (questionsBo.isStatShortNameDuplicate gt 0)}\">\n+                     disabled</c:if>>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"prevStatShortNameId\"\n+                     value=\"${fn:escapeXml(questionsBo.statShortName)}\">\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"statContainer\" style=\"display: none\">\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\" name=\"statShortName\" id=\"statShortNameId\" value=\"${fn:escapeXml(questionsBo.statShortName)}\" \n-                  maxlength=\"20\" <c:if test=\"${not empty questionsBo.isStatShortNameDuplicate && (questionsBo.isStatShortNameDuplicate gt 0)}\"> disabled</c:if>>\n-               \t  <div class=\"help-block with-errors red-txt\"></div>\n-               \t  <input type=\"hidden\" id=\"prevStatShortNameId\" value= \"${fn:escapeXml(questionsBo.statShortName)}\">\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity Over 6 Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayName\" id=\"statDisplayNameId\" value=\"${fn:escapeXml(\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity\n+              Over 6\n+              Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayName\"\n+                     id=\"statDisplayNameId\" value=\"${fn:escapeXml(\n                   questionsBo.statDisplayName)}\" maxlength=\"50\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayUnits\" id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayUnits\"\n+                     id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(\n                   questionsBo.statDisplayUnits)}\" maxlength=\"15\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-4 col-lg-3 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\" title=\"Select\" name=\"statType\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n-\t\t\t            <option value=\"${statisticImage.statisticImageId}\" ${questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select> \n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span\n+                class=\"requiredStar\">*</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\" title=\"Select\" name=\"statFormula\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n-\t\t\t            <option value=\"${activetaskFormula.activetaskFormulaId}\" ${questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select>\n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\"\n+                      title=\"Select\"\n+                      name=\"statType\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n+                  <option\n+                      value=\"${statisticImage.statisticImageId}\" ${questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n-               <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\"\n+                      title=\"Select\"\n+                      name=\"statFormula\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n+                  <option\n+                      value=\"${activetaskFormula.activetaskFormulaId}\" ${questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n             <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div>\n             <div>\n-               <div>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Day</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Week</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Month</span></span>\n-                  <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n-               </div>\n-               \n-            </div>\n-\t\t</div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"rla\" class=\"tab-pane fade mt-xlg\">\n-            <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Response Type </div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response</small></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n-               </div>\n+                            <span class=\"mr-lg\"><span class=\"mr-sm\"><img\n+                                src=\"../images/icons/tick.png\"\n+                                alt=\"\"/></span><span>Current Day</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Week</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Month</span></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMjAxOA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438202018", "bodyText": "fix nesting.", "author": "zohrehj", "createdAt": "2020-06-10T15:14:26Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t                >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                     <c:if\n+                         test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+                 >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if> \n-\t\t\t                     <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if>\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\" value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\"\n+                        value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-html=true data-toggle=\"tooltip\" title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"healthkitDatatype\" value=\"${questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-html=true data-toggle=\"tooltip\"\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"healthkitDatatype\"\n+                        value=\"${questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\" value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\"\n+                      value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\"\n+                                                                          data-toggle=\"tooltip\"\n+                                                                          title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n+                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n+                <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartNo\">No</label>\n                   </span>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\" id=\"chartTitleId\" value=\"${fn:escapeXml(\n+              <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\"\n+                       id=\"chartTitleId\" value=\"${fn:escapeXml(\n                   questionsBo.chartTitle)}\" maxlength=\"30\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id= \"useStasticData\" value=\"Yes\" name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"useStasticData\" value=\"Yes\"\n+                      name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n                <label for=\"useStasticData\"> Use response data for statistic on dashboard</label>\n                </span>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div id=\"statContainer\" style=\"display: none\">\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\"\n+                     name=\"statShortName\"\n+                     id=\"statShortNameId\" value=\"${fn:escapeXml(questionsBo.statShortName)}\"\n+                     maxlength=\"20\" <c:if\n+                  test=\"${not empty questionsBo.isStatShortNameDuplicate && (questionsBo.isStatShortNameDuplicate gt 0)}\">\n+                     disabled</c:if>>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"prevStatShortNameId\"\n+                     value=\"${fn:escapeXml(questionsBo.statShortName)}\">\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"statContainer\" style=\"display: none\">\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\" name=\"statShortName\" id=\"statShortNameId\" value=\"${fn:escapeXml(questionsBo.statShortName)}\" \n-                  maxlength=\"20\" <c:if test=\"${not empty questionsBo.isStatShortNameDuplicate && (questionsBo.isStatShortNameDuplicate gt 0)}\"> disabled</c:if>>\n-               \t  <div class=\"help-block with-errors red-txt\"></div>\n-               \t  <input type=\"hidden\" id=\"prevStatShortNameId\" value= \"${fn:escapeXml(questionsBo.statShortName)}\">\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity Over 6 Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayName\" id=\"statDisplayNameId\" value=\"${fn:escapeXml(\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity\n+              Over 6\n+              Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayName\"\n+                     id=\"statDisplayNameId\" value=\"${fn:escapeXml(\n                   questionsBo.statDisplayName)}\" maxlength=\"50\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayUnits\" id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayUnits\"\n+                     id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(\n                   questionsBo.statDisplayUnits)}\" maxlength=\"15\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-4 col-lg-3 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\" title=\"Select\" name=\"statType\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n-\t\t\t            <option value=\"${statisticImage.statisticImageId}\" ${questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select> \n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span\n+                class=\"requiredStar\">*</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\" title=\"Select\" name=\"statFormula\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n-\t\t\t            <option value=\"${activetaskFormula.activetaskFormulaId}\" ${questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select>\n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\"\n+                      title=\"Select\"\n+                      name=\"statType\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n+                  <option\n+                      value=\"${statisticImage.statisticImageId}\" ${questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n-               <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\"\n+                      title=\"Select\"\n+                      name=\"statFormula\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n+                  <option\n+                      value=\"${activetaskFormula.activetaskFormulaId}\" ${questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n             <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div>\n             <div>\n-               <div>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Day</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Week</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Month</span></span>\n-                  <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n-               </div>\n-               \n-            </div>\n-\t\t</div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"rla\" class=\"tab-pane fade mt-xlg\">\n-            <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Response Type </div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response</small></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n-               </div>\n+                            <span class=\"mr-lg\"><span class=\"mr-sm\"><img\n+                                src=\"../images/icons/tick.png\"\n+                                alt=\"\"/></span><span>Current Day</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Week</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Month</span></span>\n+              <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-sm\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n-                  <div id=\"rlaResonseTypeDescription\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"rlaResonseDataType\"> - NA -</div>\n-               </div>\n+\n+          </div>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"rla\" class=\"tab-pane fade mt-xlg\">\n+        <div class=\"col-md-4 col-lg-4 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Response Type</div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the\n+            response</small>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-sm\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"rlaResonseTypeDescription\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.responseTypeId\" id=\"questionResponseTypeId\" value=\"${questionsBo.questionReponseTypeBo.responseTypeId}\">\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.questionsResponseTypeId\" id=\"responseQuestionId\" value=\"${questionsBo.questionReponseTypeBo.questionsResponseTypeId}\">\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.placeholder\" id=\"placeholderTextId\" />\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.step\" id=\"stepValueId\" />\n-            <div id=\"responseTypeDivId\">\n-            <div id=\"scaleType\" style=\"display: none\">\n-            \t<div class=\"mt-lg\">\n-\t               <div class=\"gray-xs-f mb-xs\">Scale Type <span class=\"requiredStar\">*</span></div>\n-\t               <div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"rlaResonseDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.responseTypeId\"\n+               id=\"questionResponseTypeId\"\n+               value=\"${questionsBo.questionReponseTypeBo.responseTypeId}\">\n+        <input type=\"hidden\" class=\"form-control\"\n+               name=\"questionReponseTypeBo.questionsResponseTypeId\"\n+               id=\"responseQuestionId\"\n+               value=\"${questionsBo.questionReponseTypeBo.questionsResponseTypeId}\">\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.placeholder\"\n+               id=\"placeholderTextId\"/>\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.step\"\n+               id=\"stepValueId\"/>\n+        <div id=\"responseTypeDivId\">\n+          <div id=\"scaleType\" style=\"display: none\">\n+            <div class=\"mt-lg\">\n+              <div class=\"gray-xs-f mb-xs\">Scale Type <span class=\"requiredStar\">*</span></div>\n+              <div>\n \t                  <span class=\"radio radio-info radio-inline p-45\">\n-\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"vertical\" value=\"true\" name=\"questionReponseTypeBo.vertical\"  ${questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n+\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"vertical\" value=\"true\"\n+                           name=\"questionReponseTypeBo.vertical\"  ${questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n \t                  <label for=\"vertical\">Vertical</label>\n \t                  </span>\n-\t                  <span class=\"radio radio-inline\">\n-\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"horizontal\" value=\"false\" name=\"questionReponseTypeBo.vertical\" ${empty questionsBo.questionReponseTypeBo.vertical || !questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n+                <span class=\"radio radio-inline\">\n+\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"horizontal\" value=\"false\"\n+                           name=\"questionReponseTypeBo.vertical\" ${empty questionsBo.questionReponseTypeBo.vertical || !questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n \t                  <label for=\"horizontal\">Horizontal</label>\n \t                  </span>\n-\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t               </div>\n-\t            </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div id=\"Scale\" style=\"display: none\">\n+          </div>\n+          <div id=\"Scale\" style=\"display: none\">\n             <div class=\"clearfix\"></div>\n             <div class=\"row mt-md mb-xs\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"col-md-9 col-lg-9 p-none\">\n-                     <div class=\"gray-xs-f mb-xs\">Minimum Value <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"Enter an integer number in the range (Min, 10000).\"></span></div>\n-                     <div class=\"form-group\">\n-                        <input type=\"text\" class=\"form-control ScaleRequired\"  name=\"questionReponseTypeBo.minValue\" id=\"scaleMinValueId\" value=\"${fn:escapeXml(\n-                        questionsBo.questionReponseTypeBo.minValue)}\" onkeypress=\"return isOnlyNumber(event)\">\n-                        <div class=\"help-block with-errors red-txt\"></div>\n-                     </div>\n+              <div class=\"col-md-6 pl-none\">\n+                <div class=\"col-md-9 col-lg-9 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">Minimum Value <span class=\"requiredStar\">*</span>\n+                    <span\n+                        class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                        title=\"Enter an integer number in the range (Min, 10000).\"></span></div>\n+                  <div class=\"form-group\">\n+                    <input type=\"text\" class=\"form-control ScaleRequired\"\n+                           name=\"questionReponseTypeBo.minValue\" id=\"scaleMinValueId\" value=\"${fn:escapeXml(\n+                        questionsBo.questionReponseTypeBo.minValue)}\"\n+                           onkeypress=\"return isOnlyNumber(event)\">\n+                    <div class=\"help-block with-errors red-txt\"></div>\n                   </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"col-md-9 col-lg-9 p-none\">\n-                     <div class=\"gray-xs-f mb-xs\">Maximum Value <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"Enter an integer number in the range (Min+1, 10000).\"></span></div>\n-                     <div class=\"form-group\">\n-                        <input type=\"text\" class=\"form-control ScaleRequired\" name=\"questionReponseTypeBo.maxValue\" id=\"scaleMaxValueId\" value=\"${fn:escapeXml(\n-                        questionsBo.questionReponseTypeBo.maxValue)}\" onkeypress=\"return isOnlyNumber(event)\">\n-                        <div class=\"help-block with-errors red-txt\"></div>\n-                     </div>\n+                </div>\n+              </div>\n+              <div class=\"col-md-6\">\n+                <div class=\"col-md-9 col-lg-9 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">Maximum Value <span class=\"requiredStar\">*</span>\n+                    <span\n+                        class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                        title=\"Enter an integer number in the range (Min+1, 10000).\"></span></div>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMjI5OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438202299", "bodyText": "move to new line and fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:14:51Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -1,3703 +1,4618 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-.tooltip {\n-  width: 200px;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 200px;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-    \t\treturn false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionPage\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+<!-- Start top tab section-->\n+<div class=\"right-content-head\">\n+  <div class=\"text-right\">\n+    <div class=\"black-md-f dis-line pull-left line34\">\n+      <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+          src=\"../images/icons/back-b.png\"\n+          alt=\"\"/></span>\n+      <c:if test=\"${actionTypeForFormStep == 'edit'}\">Edit Question</c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'view'}\">View Question <c:set\n+          var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+      </c:if>\n+      <c:if test=\"${actionTypeForFormStep == 'add'}\">Add Question</c:if>\n+    </div>\n+    <div class=\"dis-line form-group mb-none mr-sm\">\n+      <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel\n+      </button>\n+    </div>\n+    <c:if test=\"${actionTypeForFormStep ne 'view'}\">\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" id=\"saveId\">Save</button>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\" enctype=\"multipart/form-data\" >\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n-         <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\" />\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireBo.id}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionsBo.isShorTitleDuplicate}\" />\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n-            <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Question Short Title or Key  (1 to 15 characters) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group mb-none\">\n-                     <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\" id=\"shortTitle\" value=\"${fn:escapeXml(\n-                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(\n+      <div class=\"dis-line form-group mb-none\">\n+        <button type=\"button\" class=\"btn btn-primary blue-btn\" id=\"doneId\">Done</button>\n+      </div>\n+    </c:if>\n+  </div>\n+</div>\n+<!-- End top tab section-->\n+<!-- Start body tab section -->\n+<form:form\n+    action=\"/studybuilder/adminStudies/saveOrUpdateFromQuestion.do?_S=${param._S}&${_csrf.parameterName}=${_csrf.token}\"\n+    name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" role=\"form\"\n+    enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"questionLevel active\"><a data-toggle=\"tab\" href=\"#qla\">Question-level\n+        Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" name=\"id\" id=\"questionId\" value=\"${questionsBo.id}\">\n+      <input type=\"hidden\" id=\"fromId\" name=\"fromId\" value=\"${formId}\"/>\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\"\n+             value=\"${questionnaireBo.id}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionsBo.isShorTitleDuplicate}\"/>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade active in mt-xlg\">\n+        <div class=\"col-md-6 pl-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Short Title or Key (1 to 15 characters) <span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"This must be a human-readable question identifier and unique across all steps of the questionnaire and across all questions belonging to various form steps.In other words, no two questions should have the same short title - whether it belongs to a question step or a form step.Note that this field cannot be edited once the study is Launched.\"></span>\n+          </div>\n+          <div class=\"form-group mb-none\">\n+            <input type=\"text\" custAttType=\"cust\" class=\"form-control\" name=\"shortTitle\"\n+                   id=\"shortTitle\"\n+                   value=\"${fn:escapeXml(\n+                     questionsBo.shortTitle)}\" required maxlength=\"15\" <c:if\n+                test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+            <input type=\"hidden\" id=\"preShortTitleId\" value=\"${fn:escapeXml(\n                      questionsBo.shortTitle)}\"/>\n-                  </div>\n-            </div>\n-            <div class=\"col-md-10 p-none mt-md\">\n-               <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none mt-md\">\n+          <div class=\"gray-xs-f mb-xs\">Text of the question (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" name=\"question\" id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(\n                   questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n-               <div>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Question?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skippable\"  ${empty questionsBo.skippable  || questionsBo.skippable =='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skippable\" ${questionsBo.skippable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required\n+                      value=\"${questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"responseType\" required value=\"${questionsBo.responseType}\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-none\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-none\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\">- NA - </div>\n-               </div>\n-            </div>\n-            <%-- <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-               <c:choose>\n-               \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-               \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t            </span>\n-               \t</c:when>\n-               \t<c:otherwise>\n-               \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes' || questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t               <label for=\"useAnchorDateId\"> Use Anchor Date </label>\n-\t\t               </span>\n-\t               </span>\n-               \t</c:otherwise>\n-               </c:choose>\n-            </div> --%>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionsBo.useAnchorDate}\">\n-            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\">- NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionsBo.useAnchorDate}\">\n+            \t    <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                        title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                            <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>\n+                     <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t                >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${questionsBo.anchorDateName}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                     <c:if\n+                         test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+                 >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\" value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if> \n-\t\t\t                     <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"useAnchorDate\"\n+                            value=\"true\" ${questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\"> disabled </c:if>\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"anchorDateName\" id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if\n+                      test=\"${not empty questionsBo.isShorTitleDuplicate && (questionsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mt-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\" value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"allowHealthKit\"\n+                        value=\"Yes\" ${questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer  <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-html=true data-toggle=\"tooltip\" title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"healthkitDatatype\" value=\"${questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mt-lg\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-html=true data-toggle=\"tooltip\"\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"healthkitDatatype\"\n+                        value=\"${questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-md mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\" value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"addLineChart\"\n+                      value=\"Yes\" ${questionsBo.addLineChart eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq'Yes'}\">disabled</c:if>>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"lineChartTimeRange\" value=\"${questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"sprites_icon info\"\n+                                                                          data-toggle=\"tooltip\"\n+                                                                          title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n+                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\" name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n+                <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\"\n+                         name=\"allowRollbackChart\" ${questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartNo\">No</label>\n                   </span>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\" id=\"chartTitleId\" value=\"${fn:escapeXml(\n+              <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" class=\"form-control chartrequireClass\" name=\"chartTitle\"\n+                       id=\"chartTitleId\" value=\"${fn:escapeXml(\n                   questionsBo.chartTitle)}\" maxlength=\"30\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"bor-dashed mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id= \"useStasticData\" value=\"Yes\" name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''} <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n+               <input type=\"checkbox\" id=\"useStasticData\" value=\"Yes\"\n+                      name=\"useStasticData\" ${questionsBo.useStasticData eq 'Yes' ? 'checked':''}\n+                      <c:if test=\"${questionnairesStepsBo.repeatable eq 'Yes'}\">disabled</c:if>>\n                <label for=\"useStasticData\"> Use response data for statistic on dashboard</label>\n                </span>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div id=\"statContainer\" style=\"display: none\">\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\"\n+                     name=\"statShortName\"\n+                     id=\"statShortNameId\" value=\"${fn:escapeXml(questionsBo.statShortName)}\"\n+                     maxlength=\"20\" <c:if\n+                  test=\"${not empty questionsBo.isStatShortNameDuplicate && (questionsBo.isStatShortNameDuplicate gt 0)}\">\n+                     disabled</c:if>>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"prevStatShortNameId\"\n+                     value=\"${fn:escapeXml(questionsBo.statShortName)}\">\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"statContainer\" style=\"display: none\">\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\" name=\"statShortName\" id=\"statShortNameId\" value=\"${fn:escapeXml(questionsBo.statShortName)}\" \n-                  maxlength=\"20\" <c:if test=\"${not empty questionsBo.isStatShortNameDuplicate && (questionsBo.isStatShortNameDuplicate gt 0)}\"> disabled</c:if>>\n-               \t  <div class=\"help-block with-errors red-txt\"></div>\n-               \t  <input type=\"hidden\" id=\"prevStatShortNameId\" value= \"${fn:escapeXml(questionsBo.statShortName)}\">\n-               </div>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity Over 6 Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayName\" id=\"statDisplayNameId\" value=\"${fn:escapeXml(\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity\n+              Over 6\n+              Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayName\"\n+                     id=\"statDisplayNameId\" value=\"${fn:escapeXml(\n                   questionsBo.statDisplayName)}\" maxlength=\"50\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayUnits\" id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span>\n+            </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\" name=\"statDisplayUnits\"\n+                     id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(\n                   questionsBo.statDisplayUnits)}\" maxlength=\"15\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-4 col-lg-3 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\" title=\"Select\" name=\"statType\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n-\t\t\t            <option value=\"${statisticImage.statisticImageId}\" ${questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select> \n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span\n+                class=\"requiredStar\">*</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\" title=\"Select\" name=\"statFormula\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n-\t\t\t            <option value=\"${activetaskFormula.activetaskFormulaId}\" ${questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select>\n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\"\n+                      title=\"Select\"\n+                      name=\"statType\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n+                  <option\n+                      value=\"${statisticImage.statisticImageId}\" ${questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n-               <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\"\n+                      title=\"Select\"\n+                      name=\"statFormula\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n+                  <option\n+                      value=\"${activetaskFormula.activetaskFormulaId}\" ${questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n             <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div>\n             <div>\n-               <div>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Day</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Week</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Month</span></span>\n-                  <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n-               </div>\n-               \n-            </div>\n-\t\t</div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"rla\" class=\"tab-pane fade mt-xlg\">\n-            <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Response Type </div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response</small></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n-               </div>\n+                            <span class=\"mr-lg\"><span class=\"mr-sm\"><img\n+                                src=\"../images/icons/tick.png\"\n+                                alt=\"\"/></span><span>Current Day</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Week</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Month</span></span>\n+              <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-sm\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n-                  <div id=\"rlaResonseTypeDescription\">\n-                     - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"rlaResonseDataType\"> - NA -</div>\n-               </div>\n+\n+          </div>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"rla\" class=\"tab-pane fade mt-xlg\">\n+        <div class=\"col-md-4 col-lg-4 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Response Type</div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the\n+            response</small>\n+          </div>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-sm\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"rlaResonseTypeDescription\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.responseTypeId\" id=\"questionResponseTypeId\" value=\"${questionsBo.questionReponseTypeBo.responseTypeId}\">\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.questionsResponseTypeId\" id=\"responseQuestionId\" value=\"${questionsBo.questionReponseTypeBo.questionsResponseTypeId}\">\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.placeholder\" id=\"placeholderTextId\" />\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.step\" id=\"stepValueId\" />\n-            <div id=\"responseTypeDivId\">\n-            <div id=\"scaleType\" style=\"display: none\">\n-            \t<div class=\"mt-lg\">\n-\t               <div class=\"gray-xs-f mb-xs\">Scale Type <span class=\"requiredStar\">*</span></div>\n-\t               <div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"rlaResonseDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.responseTypeId\"\n+               id=\"questionResponseTypeId\"\n+               value=\"${questionsBo.questionReponseTypeBo.responseTypeId}\">\n+        <input type=\"hidden\" class=\"form-control\"\n+               name=\"questionReponseTypeBo.questionsResponseTypeId\"\n+               id=\"responseQuestionId\"\n+               value=\"${questionsBo.questionReponseTypeBo.questionsResponseTypeId}\">\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.placeholder\"\n+               id=\"placeholderTextId\"/>\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.step\"\n+               id=\"stepValueId\"/>\n+        <div id=\"responseTypeDivId\">\n+          <div id=\"scaleType\" style=\"display: none\">\n+            <div class=\"mt-lg\">\n+              <div class=\"gray-xs-f mb-xs\">Scale Type <span class=\"requiredStar\">*</span></div>\n+              <div>\n \t                  <span class=\"radio radio-info radio-inline p-45\">\n-\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"vertical\" value=\"true\" name=\"questionReponseTypeBo.vertical\"  ${questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n+\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"vertical\" value=\"true\"\n+                           name=\"questionReponseTypeBo.vertical\"  ${questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n \t                  <label for=\"vertical\">Vertical</label>\n \t                  </span>\n-\t                  <span class=\"radio radio-inline\">\n-\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"horizontal\" value=\"false\" name=\"questionReponseTypeBo.vertical\" ${empty questionsBo.questionReponseTypeBo.vertical || !questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n+                <span class=\"radio radio-inline\">\n+\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"horizontal\" value=\"false\"\n+                           name=\"questionReponseTypeBo.vertical\" ${empty questionsBo.questionReponseTypeBo.vertical || !questionsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n \t                  <label for=\"horizontal\">Horizontal</label>\n \t                  </span>\n-\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t               </div>\n-\t            </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div id=\"Scale\" style=\"display: none\">\n+          </div>\n+          <div id=\"Scale\" style=\"display: none\">\n             <div class=\"clearfix\"></div>\n             <div class=\"row mt-md mb-xs\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"col-md-9 col-lg-9 p-none\">\n-                     <div class=\"gray-xs-f mb-xs\">Minimum Value <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"Enter an integer number in the range (Min, 10000).\"></span></div>\n-                     <div class=\"form-group\">\n-                        <input type=\"text\" class=\"form-control ScaleRequired\"  name=\"questionReponseTypeBo.minValue\" id=\"scaleMinValueId\" value=\"${fn:escapeXml(\n-                        questionsBo.questionReponseTypeBo.minValue)}\" onkeypress=\"return isOnlyNumber(event)\">\n-                        <div class=\"help-block with-errors red-txt\"></div>\n-                     </div>\n+              <div class=\"col-md-6 pl-none\">\n+                <div class=\"col-md-9 col-lg-9 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">Minimum Value <span class=\"requiredStar\">*</span>\n+                    <span\n+                        class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                        title=\"Enter an integer number in the range (Min, 10000).\"></span></div>\n+                  <div class=\"form-group\">\n+                    <input type=\"text\" class=\"form-control ScaleRequired\"\n+                           name=\"questionReponseTypeBo.minValue\" id=\"scaleMinValueId\" value=\"${fn:escapeXml(\n+                        questionsBo.questionReponseTypeBo.minValue)}\"\n+                           onkeypress=\"return isOnlyNumber(event)\">\n+                    <div class=\"help-block with-errors red-txt\"></div>\n                   </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"col-md-9 col-lg-9 p-none\">\n-                     <div class=\"gray-xs-f mb-xs\">Maximum Value <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"Enter an integer number in the range (Min+1, 10000).\"></span></div>\n-                     <div class=\"form-group\">\n-                        <input type=\"text\" class=\"form-control ScaleRequired\" name=\"questionReponseTypeBo.maxValue\" id=\"scaleMaxValueId\" value=\"${fn:escapeXml(\n-                        questionsBo.questionReponseTypeBo.maxValue)}\" onkeypress=\"return isOnlyNumber(event)\">\n-                        <div class=\"help-block with-errors red-txt\"></div>\n-                     </div>\n+                </div>\n+              </div>\n+              <div class=\"col-md-6\">\n+                <div class=\"col-md-9 col-lg-9 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">Maximum Value <span class=\"requiredStar\">*</span>\n+                    <span\n+                        class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                        title=\"Enter an integer number in the range (Min+1, 10000).\"></span></div>\n+                  <div class=\"form-group\">\n+                    <input type=\"text\" class=\"form-control ScaleRequired\"\n+                           name=\"questionReponseTypeBo.maxValue\" id=\"scaleMaxValueId\" value=\"${fn:escapeXml(\n+                        questionsBo.questionReponseTypeBo.maxValue)}\"\n+                           onkeypress=\"return isOnlyNumber(event)\">\n+                    <div class=\"help-block with-errors red-txt\"></div>\n                   </div>\n-               </div>\n+                </div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"row mb-xs\">\n-            \t<div class=\"col-md-6 pl-none\">\n-                  <div class=\"col-md-9 col-lg-9 p-none\">\n-                  \t<div class=\"gray-xs-f mb-xs\">Description for minimum value (1 to 50 characters)</div>\n-\t                <div class=\"form-group\">\n-\t                  <input type=\"text\" class=\"form-control\" name=\"questionReponseTypeBo.minDescription\" id=\"scaleMinDescriptionId\" value=\"${fn:escapeXml(\n+              <div class=\"col-md-6 pl-none\">\n+                <div class=\"col-md-9 col-lg-9 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">Description for minimum value (1 to 50 characters)\n+                  </div>\n+                  <div class=\"form-group\">\n+                    <input type=\"text\" class=\"form-control\"\n+                           name=\"questionReponseTypeBo.minDescription\" id=\"scaleMinDescriptionId\"\n+                           value=\"${fn:escapeXml(\n \t                  questionsBo.questionReponseTypeBo.minDescription)}\" maxlength=\"50\"/>\n-\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t                </div>\n+                    <div class=\"help-block with-errors red-txt\"></div>\n                   </div>\n                 </div>\n-            \t<div class=\"col-md-6\">\n-                  <div class=\"col-md-9 col-lg-9 p-none\">\n-                  \t<div class=\"gray-xs-f mb-xs\">Description for maximum value (1 to 50 characters)</div>\n-\t                <div class=\"form-group\">\n-\t                  <input type=\"text\" class=\"form-control\" name=\"questionReponseTypeBo.maxDescription\" id=\"scaleMaxDescriptionId\" value=\"${fn:escapeXml(\n-\t                  questionsBo.questionReponseTypeBo.maxDescription)}\" maxlength=\"50\" />\n-\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t                </div>\n+              </div>\n+              <div class=\"col-md-6\">\n+                <div class=\"col-md-9 col-lg-9 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">Description for maximum value (1 to 50 characters)\n+                  </div>\n+                  <div class=\"form-group\">\n+                    <input type=\"text\" class=\"form-control\"\n+                           name=\"questionReponseTypeBo.maxDescription\" id=\"scaleMaxDescriptionId\"\n+                           value=\"${fn:escapeXml(\n+\t                  questionsBo.questionReponseTypeBo.maxDescription)}\" maxlength=\"50\"/>\n+                    <div class=\"help-block with-errors red-txt\"></div>\n                   </div>\n                 </div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"row mb-xs\">\n-               <div class=\"col-md-6 pl-none\">\n-\t               <div class=\"col-md-9 col-lg-9 p-none\">\n-\t\t               <div class=\"gray-xs-f mb-xs\">Step Size  <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"Enter the desired size to be applied to each step in the scale. Note that this value determines the step count or  number of steps in the scale. You will be prompted to enter a different step size if the scale cannot be divided into equal steps. Or if the value you entered results in a step count <1 or >13. \"></span></div>\n-\t\t               <div class=\"form-group\">\n-\t\t               \t  <c:if test=\"${not empty questionsBo.questionReponseTypeBo.step}\">\n-\t\t               \t  \t<input type=\"text\" class=\"form-control ScaleRequired\" id=\"displayStepsCount\"  value=\"<fmt:formatNumber  value=\"${(questionsBo.questionReponseTypeBo.maxValue-questionsBo.questionReponseTypeBo.minValue)/questionsBo.questionReponseTypeBo.step}\"  groupingUsed=\"false\" maxFractionDigits=\"0\" type=\"number\" />\" onkeypress=\"return isNumber(event)\" >\n-\t\t               \t  </c:if>\n-\t\t                  <c:if test=\"${empty questionsBo.questionReponseTypeBo.step}\">\n-\t\t               \t  \t<input type=\"text\" class=\"form-control ScaleRequired\" id=\"displayStepsCount\"  value=\"\" onkeypress=\"return isNumber(event)\" >\n-\t\t               \t  </c:if>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t           </div>\n-\t           </div>\n-\t           <div class=\"col-md-6 \">\n-\t           <div class=\"col-md-9 col-lg-9 p-none\">\n-\t           \t\t<div class=\"gray-xs-f mb-xs\">Number of Step <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"This represents the number of steps the scale is divided into.\"></span></div>\n-\t           \t\t <input type=\"text\" class=\"form-control ScaleRequired\"  id=\"scaleStepId\" value=\"${questionsBo.questionReponseTypeBo.step}\" disabled=\"disabled\" >\n-\t           \t\t <div class=\"help-block with-errors red-txt\"></div>\n-\t           \t   </div>\n-\t           </div>\n-\t        </div>\n-\t        <div class=\"clearfix\"></div>\n-\t        <div class=\"row mb-xs\">\n-\t        \t<div class=\"col-md-6 pl-none\">\n-                  <div class=\"col-md-9 col-lg-9 p-none\">\n-                     <div class=\"gray-xs-f mb-xs\">Default value (slider position) <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"Enter an integer number to indicate the desired default step position for the slider in the scale.  Ensure it is in the range (0,  Numer of  Steps). For example, if you have 6 steps,  0 indicates the minimum value, 1 indicates the first step and so on. 6 indicates the maximum value. \"></span></div>\n-                     <div class=\"form-group\">\n-                        <input type=\"text\" class=\"form-control ScaleRequired\" name=\"questionReponseTypeBo.defaultValue\" id=\"scaleDefaultValueId\" value=\"${fn:escapeXml(\n-                        questionsBo.questionReponseTypeBo.defaultValue)}\" onkeypress=\"return isOnlyNumber(event)\">\n-                        <div class=\"help-block with-errors red-txt\"></div>\n-                     </div>\n+              <div class=\"col-md-6 pl-none\">\n+                <div class=\"col-md-9 col-lg-9 p-none\">\n+                  <div class=\"gray-xs-f mb-xs\">Step Size <span class=\"requiredStar\">*</span> <span\n+                      class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"Enter the desired size to be applied to each step in the scale. Note that this value determines the step count or  number of steps in the scale. You will be prompted to enter a different step size if the scale cannot be divided into equal steps. Or if the value you entered results in a step count <1 or >13. \"></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMjcxNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438202717", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:15:22Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMzc5Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438203792", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:16:54Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" autocomplete=\"off\" role=\"form\" enctype=\"multipart/form-data\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionnairesStepsBo.isShorTitleDuplicate}\" />\n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input  type=\"text\" <c:if test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if> custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" \n-                       <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if> required maxlength=\"15\"/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Question Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select name=\"destinationStep\" id=\"destinationStepId\" data-error=\"Please choose one option\" class=\"selectpicker\" required>\n-\t\t\t\t         <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t         </c:forEach>\n-\t\t\t\t         <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>Completion Step</option>\n-\t\t\t\t     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\"\n+                  id=\"saveId\">\n+            Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\"\n+                  id=\"doneId\">\n+            Done\n+          </button>\n+        </div>\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\"\n+      autocomplete=\"off\"\n+      role=\"form\" enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+      <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+             value=\"${questionnairesStepsBo.instructionFormId}\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionnairesStepsBo.isShorTitleDuplicate}\"/>\n+      <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n-          <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\" value=\"${questionnairesStepsBo.questionsBo.id}\">\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" name=\"questionsBo.question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\"\n+                     <c:if\n+                         test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if>\n+                     custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\"\n+                     id=\"stepShortTitle\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"\n+                  <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>\n+                     required maxlength=\"15\"/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"preShortTitleId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n             </div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n-               <div class=\"form-group\">\n-                  <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\" id=\"descriptionId\" placeholder=\"Enter a line that describes your question, if needed\" maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+            <div>Question Step</div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <c:if test=\"${questionnaireBo.branching}\">\n+            <div class=\"col-md-4 col-lg-3 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The step that the user must be directed to from this step.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select name=\"destinationStep\" id=\"destinationStepId\"\n+                        data-error=\"Please choose one option\" class=\"selectpicker\" required>\n+                  <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                    <option\n+                        value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                      Step ${destinationStep.sequenceNo}\n+                      : ${destinationStep.stepShortTitle}</option>\n+                  </c:forEach>\n+                  <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>\n+                    Completion Step\n+                  </option>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n-               <div>\n+          </c:if>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n+        <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\"\n+               value=\"${questionnairesStepsBo.questionsBo.id}\">\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                   name=\"questionsBo.question\"\n+                   id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\"\n+                   value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required\n+                   maxlength=\"300\"/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\"\n+                                  id=\"descriptionId\"\n+                                  placeholder=\"Enter a line that describes your question, if needed\"\n+                                  maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMzk0OA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438203948", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:17:09Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" autocomplete=\"off\" role=\"form\" enctype=\"multipart/form-data\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionnairesStepsBo.isShorTitleDuplicate}\" />\n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input  type=\"text\" <c:if test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if> custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" \n-                       <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if> required maxlength=\"15\"/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Question Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select name=\"destinationStep\" id=\"destinationStepId\" data-error=\"Please choose one option\" class=\"selectpicker\" required>\n-\t\t\t\t         <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t         </c:forEach>\n-\t\t\t\t         <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>Completion Step</option>\n-\t\t\t\t     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\"\n+                  id=\"saveId\">\n+            Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\"\n+                  id=\"doneId\">\n+            Done\n+          </button>\n+        </div>\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\"\n+      autocomplete=\"off\"\n+      role=\"form\" enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+      <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+             value=\"${questionnairesStepsBo.instructionFormId}\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionnairesStepsBo.isShorTitleDuplicate}\"/>\n+      <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n-          <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\" value=\"${questionnairesStepsBo.questionsBo.id}\">\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" name=\"questionsBo.question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\"\n+                     <c:if\n+                         test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if>\n+                     custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\"\n+                     id=\"stepShortTitle\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"\n+                  <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>\n+                     required maxlength=\"15\"/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"preShortTitleId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n             </div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n-               <div class=\"form-group\">\n-                  <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\" id=\"descriptionId\" placeholder=\"Enter a line that describes your question, if needed\" maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+            <div>Question Step</div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <c:if test=\"${questionnaireBo.branching}\">\n+            <div class=\"col-md-4 col-lg-3 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The step that the user must be directed to from this step.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select name=\"destinationStep\" id=\"destinationStepId\"\n+                        data-error=\"Please choose one option\" class=\"selectpicker\" required>\n+                  <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                    <option\n+                        value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                      Step ${destinationStep.sequenceNo}\n+                      : ${destinationStep.stepShortTitle}</option>\n+                  </c:forEach>\n+                  <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>\n+                    Completion Step\n+                  </option>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n-               <div>\n+          </c:if>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n+        <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\"\n+               value=\"${questionnairesStepsBo.questionsBo.id}\">\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                   name=\"questionsBo.question\"\n+                   id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\"\n+                   value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required\n+                   maxlength=\"300\"/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\"\n+                                  id=\"descriptionId\"\n+                                  placeholder=\"Enter a line that describes your question, if needed\"\n+                                  maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwNDIzNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438204236", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:17:31Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" autocomplete=\"off\" role=\"form\" enctype=\"multipart/form-data\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionnairesStepsBo.isShorTitleDuplicate}\" />\n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input  type=\"text\" <c:if test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if> custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" \n-                       <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if> required maxlength=\"15\"/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Question Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select name=\"destinationStep\" id=\"destinationStepId\" data-error=\"Please choose one option\" class=\"selectpicker\" required>\n-\t\t\t\t         <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t         </c:forEach>\n-\t\t\t\t         <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>Completion Step</option>\n-\t\t\t\t     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\"\n+                  id=\"saveId\">\n+            Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\"\n+                  id=\"doneId\">\n+            Done\n+          </button>\n+        </div>\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\"\n+      autocomplete=\"off\"\n+      role=\"form\" enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+      <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+             value=\"${questionnairesStepsBo.instructionFormId}\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionnairesStepsBo.isShorTitleDuplicate}\"/>\n+      <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n-          <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\" value=\"${questionnairesStepsBo.questionsBo.id}\">\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" name=\"questionsBo.question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\"\n+                     <c:if\n+                         test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if>\n+                     custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\"\n+                     id=\"stepShortTitle\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"\n+                  <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>\n+                     required maxlength=\"15\"/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"preShortTitleId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n             </div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n-               <div class=\"form-group\">\n-                  <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\" id=\"descriptionId\" placeholder=\"Enter a line that describes your question, if needed\" maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+            <div>Question Step</div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <c:if test=\"${questionnaireBo.branching}\">\n+            <div class=\"col-md-4 col-lg-3 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The step that the user must be directed to from this step.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select name=\"destinationStep\" id=\"destinationStepId\"\n+                        data-error=\"Please choose one option\" class=\"selectpicker\" required>\n+                  <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                    <option\n+                        value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                      Step ${destinationStep.sequenceNo}\n+                      : ${destinationStep.stepShortTitle}</option>\n+                  </c:forEach>\n+                  <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>\n+                    Completion Step\n+                  </option>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n-               <div>\n+          </c:if>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n+        <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\"\n+               value=\"${questionnairesStepsBo.questionsBo.id}\">\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                   name=\"questionsBo.question\"\n+                   id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\"\n+                   value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required\n+                   maxlength=\"300\"/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\"\n+                                  id=\"descriptionId\"\n+                                  placeholder=\"Enter a line that describes your question, if needed\"\n+                                  maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n-            </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\" required value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\"\n+                      required\n+                      value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                      - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6 mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\"> - NA -</div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n-            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6 mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n+            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                      title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwNDgxMw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438204813", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:18:17Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" autocomplete=\"off\" role=\"form\" enctype=\"multipart/form-data\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionnairesStepsBo.isShorTitleDuplicate}\" />\n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input  type=\"text\" <c:if test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if> custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" \n-                       <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if> required maxlength=\"15\"/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Question Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select name=\"destinationStep\" id=\"destinationStepId\" data-error=\"Please choose one option\" class=\"selectpicker\" required>\n-\t\t\t\t         <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t         </c:forEach>\n-\t\t\t\t         <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>Completion Step</option>\n-\t\t\t\t     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\"\n+                  id=\"saveId\">\n+            Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\"\n+                  id=\"doneId\">\n+            Done\n+          </button>\n+        </div>\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\"\n+      autocomplete=\"off\"\n+      role=\"form\" enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+      <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+             value=\"${questionnairesStepsBo.instructionFormId}\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionnairesStepsBo.isShorTitleDuplicate}\"/>\n+      <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n-          <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\" value=\"${questionnairesStepsBo.questionsBo.id}\">\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" name=\"questionsBo.question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\"\n+                     <c:if\n+                         test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if>\n+                     custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\"\n+                     id=\"stepShortTitle\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"\n+                  <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>\n+                     required maxlength=\"15\"/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"preShortTitleId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n             </div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n-               <div class=\"form-group\">\n-                  <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\" id=\"descriptionId\" placeholder=\"Enter a line that describes your question, if needed\" maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+            <div>Question Step</div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <c:if test=\"${questionnaireBo.branching}\">\n+            <div class=\"col-md-4 col-lg-3 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The step that the user must be directed to from this step.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select name=\"destinationStep\" id=\"destinationStepId\"\n+                        data-error=\"Please choose one option\" class=\"selectpicker\" required>\n+                  <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                    <option\n+                        value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                      Step ${destinationStep.sequenceNo}\n+                      : ${destinationStep.stepShortTitle}</option>\n+                  </c:forEach>\n+                  <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>\n+                    Completion Step\n+                  </option>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n-               <div>\n+          </c:if>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n+        <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\"\n+               value=\"${questionnairesStepsBo.questionsBo.id}\">\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                   name=\"questionsBo.question\"\n+                   id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\"\n+                   value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required\n+                   maxlength=\"300\"/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\"\n+                                  id=\"descriptionId\"\n+                                  placeholder=\"Enter a line that describes your question, if needed\"\n+                                  maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n-            </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\" required value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\"\n+                      required\n+                      value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                      - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6 mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\"> - NA -</div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n-            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6 mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n+            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                      title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-            \t\t<%-- <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t\t               <label for=\"useAnchorDateId\"> Use response as Anchor Date </label>\n-\t\t               </span>\n-\t               </span> --%>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t               >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\"\n+                         maxlength=\"50\" <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+              <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                  <c:if\n+                      test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+              >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               \n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-                 \n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\"\n+                         maxlength=\"50\"\n+                         <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\"\n+                        value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" data-html=true title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group mb-xs\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\" value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\" data-html=true\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group mb-xs\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\"\n+                        value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\"\n+                      value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwNTM1Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438205352", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:19:00Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" autocomplete=\"off\" role=\"form\" enctype=\"multipart/form-data\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionnairesStepsBo.isShorTitleDuplicate}\" />\n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input  type=\"text\" <c:if test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if> custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" \n-                       <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if> required maxlength=\"15\"/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Question Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select name=\"destinationStep\" id=\"destinationStepId\" data-error=\"Please choose one option\" class=\"selectpicker\" required>\n-\t\t\t\t         <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t         </c:forEach>\n-\t\t\t\t         <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>Completion Step</option>\n-\t\t\t\t     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\"\n+                  id=\"saveId\">\n+            Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\"\n+                  id=\"doneId\">\n+            Done\n+          </button>\n+        </div>\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\"\n+      autocomplete=\"off\"\n+      role=\"form\" enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+      <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+             value=\"${questionnairesStepsBo.instructionFormId}\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionnairesStepsBo.isShorTitleDuplicate}\"/>\n+      <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n-          <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\" value=\"${questionnairesStepsBo.questionsBo.id}\">\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" name=\"questionsBo.question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\"\n+                     <c:if\n+                         test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if>\n+                     custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\"\n+                     id=\"stepShortTitle\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"\n+                  <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>\n+                     required maxlength=\"15\"/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"preShortTitleId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n             </div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n-               <div class=\"form-group\">\n-                  <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\" id=\"descriptionId\" placeholder=\"Enter a line that describes your question, if needed\" maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+            <div>Question Step</div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <c:if test=\"${questionnaireBo.branching}\">\n+            <div class=\"col-md-4 col-lg-3 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The step that the user must be directed to from this step.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select name=\"destinationStep\" id=\"destinationStepId\"\n+                        data-error=\"Please choose one option\" class=\"selectpicker\" required>\n+                  <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                    <option\n+                        value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                      Step ${destinationStep.sequenceNo}\n+                      : ${destinationStep.stepShortTitle}</option>\n+                  </c:forEach>\n+                  <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>\n+                    Completion Step\n+                  </option>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n-               <div>\n+          </c:if>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n+        <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\"\n+               value=\"${questionnairesStepsBo.questionsBo.id}\">\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                   name=\"questionsBo.question\"\n+                   id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\"\n+                   value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required\n+                   maxlength=\"300\"/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\"\n+                                  id=\"descriptionId\"\n+                                  placeholder=\"Enter a line that describes your question, if needed\"\n+                                  maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n-            </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\" required value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\"\n+                      required\n+                      value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                      - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6 mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\"> - NA -</div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n-            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6 mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n+            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                      title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-            \t\t<%-- <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t\t               <label for=\"useAnchorDateId\"> Use response as Anchor Date </label>\n-\t\t               </span>\n-\t               </span> --%>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t               >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\"\n+                         maxlength=\"50\" <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+              <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                  <c:if\n+                      test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+              >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               \n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-                 \n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\"\n+                         maxlength=\"50\"\n+                         <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\"\n+                        value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" data-html=true title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group mb-xs\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\" value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\" data-html=true\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group mb-xs\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\"\n+                        value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\"\n+                      value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"questionsBo.lineChartTimeRange\" value=\"${questionnairesStepsBo.questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionnairesStepsBo.questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"questionsBo.lineChartTimeRange\"\n+                        value=\"${questionnairesStepsBo.questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionnairesStepsBo.questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span\n+                  class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                  title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\" name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n+                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\"\n+                         name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\" name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n+                <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\"\n+                         name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartNo\">No</label>\n                   </span>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control chartrequireClass\" name=\"questionsBo.chartTitle\" id=\"chartTitleId\" value=\"${questionnairesStepsBo.questionsBo.chartTitle}\" maxlength=\"30\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n+              <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" class=\"form-control chartrequireClass\"\n+                       name=\"questionsBo.chartTitle\"\n+                       id=\"chartTitleId\" value=\"${questionnairesStepsBo.questionsBo.chartTitle}\"\n+                       maxlength=\"30\">\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"bor-dashed mt-none mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"bor-dashed mt-none mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id= \"useStasticData\" value=\"Yes\" name=\"questionsBo.useStasticData\" ${questionnairesStepsBo.questionsBo.useStasticData eq 'Yes' ? 'checked':''}>\n+               <input type=\"checkbox\" id=\"useStasticData\" value=\"Yes\"\n+                      name=\"questionsBo.useStasticData\" ${questionnairesStepsBo.questionsBo.useStasticData eq 'Yes' ? 'checked':''}>\n                <label for=\"useStasticData\"> Use response data for statistic on dashboard</label>\n                </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwOTA1MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438209051", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:23:03Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" autocomplete=\"off\" role=\"form\" enctype=\"multipart/form-data\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionnairesStepsBo.isShorTitleDuplicate}\" />\n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input  type=\"text\" <c:if test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if> custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" \n-                       <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if> required maxlength=\"15\"/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Question Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select name=\"destinationStep\" id=\"destinationStepId\" data-error=\"Please choose one option\" class=\"selectpicker\" required>\n-\t\t\t\t         <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t         </c:forEach>\n-\t\t\t\t         <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>Completion Step</option>\n-\t\t\t\t     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\"\n+                  id=\"saveId\">\n+            Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\"\n+                  id=\"doneId\">\n+            Done\n+          </button>\n+        </div>\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\"\n+      autocomplete=\"off\"\n+      role=\"form\" enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+      <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+             value=\"${questionnairesStepsBo.instructionFormId}\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionnairesStepsBo.isShorTitleDuplicate}\"/>\n+      <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n-          <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\" value=\"${questionnairesStepsBo.questionsBo.id}\">\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" name=\"questionsBo.question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\"\n+                     <c:if\n+                         test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if>\n+                     custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\"\n+                     id=\"stepShortTitle\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"\n+                  <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>\n+                     required maxlength=\"15\"/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"preShortTitleId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n             </div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n-               <div class=\"form-group\">\n-                  <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\" id=\"descriptionId\" placeholder=\"Enter a line that describes your question, if needed\" maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+            <div>Question Step</div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <c:if test=\"${questionnaireBo.branching}\">\n+            <div class=\"col-md-4 col-lg-3 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The step that the user must be directed to from this step.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select name=\"destinationStep\" id=\"destinationStepId\"\n+                        data-error=\"Please choose one option\" class=\"selectpicker\" required>\n+                  <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                    <option\n+                        value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                      Step ${destinationStep.sequenceNo}\n+                      : ${destinationStep.stepShortTitle}</option>\n+                  </c:forEach>\n+                  <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>\n+                    Completion Step\n+                  </option>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n-               <div>\n+          </c:if>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n+        <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\"\n+               value=\"${questionnairesStepsBo.questionsBo.id}\">\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                   name=\"questionsBo.question\"\n+                   id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\"\n+                   value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required\n+                   maxlength=\"300\"/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\"\n+                                  id=\"descriptionId\"\n+                                  placeholder=\"Enter a line that describes your question, if needed\"\n+                                  maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n-            </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\" required value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\"\n+                      required\n+                      value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                      - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6 mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\"> - NA -</div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n-            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6 mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n+            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                      title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-            \t\t<%-- <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t\t               <label for=\"useAnchorDateId\"> Use response as Anchor Date </label>\n-\t\t               </span>\n-\t               </span> --%>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t               >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\"\n+                         maxlength=\"50\" <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+              <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                  <c:if\n+                      test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+              >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               \n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-                 \n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\"\n+                         maxlength=\"50\"\n+                         <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\"\n+                        value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" data-html=true title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group mb-xs\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\" value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\" data-html=true\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group mb-xs\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\"\n+                        value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\"\n+                      value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"questionsBo.lineChartTimeRange\" value=\"${questionnairesStepsBo.questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionnairesStepsBo.questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"questionsBo.lineChartTimeRange\"\n+                        value=\"${questionnairesStepsBo.questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionnairesStepsBo.questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span\n+                  class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                  title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\" name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n+                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\"\n+                         name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\" name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n+                <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\"\n+                         name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartNo\">No</label>\n                   </span>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control chartrequireClass\" name=\"questionsBo.chartTitle\" id=\"chartTitleId\" value=\"${questionnairesStepsBo.questionsBo.chartTitle}\" maxlength=\"30\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n+              <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" class=\"form-control chartrequireClass\"\n+                       name=\"questionsBo.chartTitle\"\n+                       id=\"chartTitleId\" value=\"${questionnairesStepsBo.questionsBo.chartTitle}\"\n+                       maxlength=\"30\">\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"bor-dashed mt-none mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"bor-dashed mt-none mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id= \"useStasticData\" value=\"Yes\" name=\"questionsBo.useStasticData\" ${questionnairesStepsBo.questionsBo.useStasticData eq 'Yes' ? 'checked':''}>\n+               <input type=\"checkbox\" id=\"useStasticData\" value=\"Yes\"\n+                      name=\"questionsBo.useStasticData\" ${questionnairesStepsBo.questionsBo.useStasticData eq 'Yes' ? 'checked':''}>\n                <label for=\"useStasticData\"> Use response data for statistic on dashboard</label>\n                </span>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div id=\"statContainer\" style=\"display: none\">\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\"\n+                     name=\"questionsBo.statShortName\" id=\"statShortNameId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\"\n+              <c:if\n+                  test=\"${not empty questionnairesStepsBo.questionsBo.isStatShortNameDuplicate && (questionnairesStepsBo.questionsBo.isStatShortNameDuplicate gt 0)}\">\n+                     disabled</c:if> maxlength=\"20\">\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"prevStatShortNameId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\">\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"statContainer\" style=\"display: none\">\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\" name=\"questionsBo.statShortName\" id=\"statShortNameId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\" \n-                     <c:if test=\"${not empty questionnairesStepsBo.questionsBo.isStatShortNameDuplicate && (questionnairesStepsBo.questionsBo.isStatShortNameDuplicate gt 0)}\"> disabled</c:if> maxlength=\"20\">\n-               \t  <div class=\"help-block with-errors red-txt\"></div>\n-               \t  <input type=\"hidden\" id=\"prevStatShortNameId\" value= \"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\">\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity\n+              Over 6\n+              Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\"\n+                     name=\"questionsBo.statDisplayName\"\n+                     id=\"statDisplayNameId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayName)}\"\n+                     maxlength=\"50\">\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity Over 6 Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"questionsBo.statDisplayName\" id=\"statDisplayNameId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayName)}\" maxlength=\"50\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"questionsBo.statDisplayUnits\" id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayUnits)}\" maxlength=\"15\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\"\n+                     name=\"questionsBo.statDisplayUnits\"\n+                     id=\"statDisplayUnitsId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayUnits)}\"\n+                     maxlength=\"15\">\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-4 col-lg-3 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\" title=\"Select\" name=\"questionsBo.statType\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n-\t\t\t            <option value=\"${statisticImage.statisticImageId}\" ${questionnairesStepsBo.questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select> \n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span\n+                class=\"requiredStar\">*</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\" title=\"Select\" name=\"questionsBo.statFormula\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n-\t\t\t            <option value=\"${activetaskFormula.activetaskFormulaId}\" ${questionnairesStepsBo.questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select>\n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\"\n+                      title=\"Select\"\n+                      name=\"questionsBo.statType\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n+                  <option\n+                      value=\"${statisticImage.statisticImageId}\" ${questionnairesStepsBo.questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n-               <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\"\n+                      title=\"Select\"\n+                      name=\"questionsBo.statFormula\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n+                  <option\n+                      value=\"${activetaskFormula.activetaskFormulaId}\" ${questionnairesStepsBo.questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n             <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div>\n             <div>\n-               <div>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Day</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Week</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Month</span></span>\n-                  <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n-               </div>\n-            </div>\n-\t\t  </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"rla\" class=\"tab-pane fade mt-lg\">\n-            <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Response Type  </div>\n-               <small>The type of interface needed to capture the response</small>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n-               </div>\n+                            <span class=\"mr-lg\"><span class=\"mr-sm\"><img\n+                                src=\"../images/icons/tick.png\"\n+                                alt=\"\"/></span><span>Current Day</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Week</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Month</span></span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwOTI4OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r438209289", "bodyText": "fix nesting", "author": "zohrehj", "createdAt": "2020-06-10T15:23:17Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -1,5186 +1,6636 @@\n-<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\"%>\n-<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\"%>\n+<%@ taglib prefix=\"form\" uri=\"http://www.springframework.org/tags/form\" %>\n+<%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %>\n <%@ taglib uri=\"http://java.sun.com/jsp/jstl/functions\" prefix=\"fn\" %>\n-<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\"%>\n-<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\"%>\n-<%@ taglib prefix = \"fmt\" uri = \"http://java.sun.com/jsp/jstl/fmt\" %>\n+<%@ taglib prefix=\"spring\" uri=\"http://www.springframework.org/tags\" %>\n+<%@ taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %>\n+<%@ taglib prefix=\"fmt\" uri=\"http://java.sun.com/jsp/jstl/fmt\" %>\n <style>\n-.tool-tip {\n-  display: inline-block;\n-}\n-\n-.tool-tip [disabled] {\n-  pointer-events: none;\n-}\n-\n-.tooltip {\n-  width: 175px;\n-}\n-.display__flex__{\n-\tdisplay:flex;\n-\talign-items:center;\n-}\n+  .tool-tip {\n+    display: inline-block;\n+  }\n+\n+  .tool-tip [disabled] {\n+    pointer-events: none;\n+  }\n+\n+  .tooltip {\n+    width: 175px;\n+  }\n+\n+  .display__flex__ {\n+    display: flex;\n+    align-items: center;\n+  }\n </style>\n <script type=\"text/javascript\">\n-function isNumber(evt) {\n+  function isNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-        return false;\n+      return false;\n     }\n     return true;\n-}\n-function isOnlyNumber(evt) {\n+  }\n+\n+  function isOnlyNumber(evt) {\n     evt = (evt) ? evt : window.event;\n     var charCode = (evt.which) ? evt.which : evt.keyCode;\n     if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n-      \n-       if(charCode != 45){\n-        \treturn false;\n-        }\n-        \n+\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n     }\n     return true;\n-}\n-function isNumberKey(evt)\n-{\n-   var charCode = (evt.which) ? evt.which : evt.keyCode;\n-   if (charCode != 46 && charCode > 31 \n-     && (charCode < 48 || charCode > 57))\n-\t   if(charCode != 45){\n-       \treturn false;\n-       }\n-\n-   return true;\n-}\n+  }\n+\n+  function isNumberKey(evt) {\n+    var charCode = (evt.which) ? evt.which : evt.keyCode;\n+    if (charCode != 46 && charCode > 31\n+        && (charCode < 48 || charCode > 57))\n+      if (charCode != 45) {\n+        return false;\n+      }\n+\n+    return true;\n+  }\n </script>\n <!-- Start right Content here -->\n <div id=\"questionStep\" class=\"col-sm-10 col-rc white-bg p-none\">\n-   <!--  Start top tab section-->\n-   <div class=\"right-content-head\">\n-      <div class=\"text-right\">\n-         <div class=\"black-md-f dis-line pull-left line34\">\n-            <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img src=\"../images/icons/back-b.png\" alt=\"\"/></span>\n-            <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}</c:if>\n-         \t<c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n-         </div>\n-         <div class=\"dis-line form-group mb-none mr-sm\">\n-            <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">Cancel</button>\n-         </div>\n-         <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n-\t         <div class=\"dis-line form-group mb-none mr-sm\">\n-\t            <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\" id=\"saveId\" >Save</button>\n-\t         </div>\n-\t         <div class=\"dis-line form-group mb-none\">\n-\t            <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\" id=\"doneId\">Done</button>\n-\t         </div>\n-         </c:if>\n+  <!--  Start top tab section-->\n+  <div class=\"right-content-head\">\n+    <div class=\"text-right\">\n+      <div class=\"black-md-f dis-line pull-left line34\">\n+                <span class=\"mr-sm cur-pointer\" onclick=\"goToBackPage(this);\"><img\n+                    src=\"../images/icons/back-b.png\"\n+                    alt=\"\"/></span>\n+        <c:if test=\"${actionTypeForQuestionPage == 'edit'}\">Edit Question Step</c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'view'}\">View Question Step <c:set\n+            var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'<span class=\"eye-inc ml-sm vertical-align-text-top\"></span>':''}\n+        </c:if>\n+        <c:if test=\"${actionTypeForQuestionPage == 'add'}\">Add Question Step</c:if>\n       </div>\n-   </div>\n-   <!--  End  top tab section-->\n-   <!--  Start body tab section -->\n-   <form:form action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\" name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\" autocomplete=\"off\" role=\"form\" enctype=\"multipart/form-data\">\n-   <div class=\"right-content-body pt-none pl-none pr-none\">\n-      <ul class=\"nav nav-tabs review-tabs gray-bg\">\n-         <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n-         <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n-         <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n-      </ul>\n-      <div class=\"tab-content pl-xlg pr-xlg\">\n-         <!-- Step-level Attributes--> \n-         <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n-         <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n-         <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n-         <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n-         <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\" value=\"${questionnairesStepsBo.instructionFormId}\">\n-         <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\" />\n-         <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\" />\n-         <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\" value=\"${questionnairesStepsBo.isShorTitleDuplicate}\" />\n-         <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <input  type=\"text\" <c:if test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if> custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\" id=\"stepShortTitle\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\" \n-                       <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if> required maxlength=\"15\"/>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                     <input  type=\"hidden\"  id=\"preShortTitleId\" value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Step Type</div>\n-                  <div>Question Step</div>\n-               </div>\n-               <div class=\"clearfix\"></div>\n-               <c:if test=\"${questionnaireBo.branching}\">\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Default Destination Step <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"The step that the user must be directed to from this step.\"></span></div>\n-                  <div class=\"form-group\">\n-                     <select name=\"destinationStep\" id=\"destinationStepId\" data-error=\"Please choose one option\" class=\"selectpicker\" required>\n-\t\t\t\t         <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n-\t\t\t\t         \t<option value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>Step ${destinationStep.sequenceNo} : ${destinationStep.stepShortTitle}</option>\n-\t\t\t\t         </c:forEach>\n-\t\t\t\t         <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>Completion Step</option>\n-\t\t\t\t     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n-               </c:if>\n+      <div class=\"dis-line form-group mb-none mr-sm\">\n+        <button type=\"button\" class=\"btn btn-default gray-btn\" onclick=\"goToBackPage(this);\">\n+          Cancel\n+        </button>\n+      </div>\n+      <c:if test=\"${actionTypeForQuestionPage ne 'view'}\">\n+        <div class=\"dis-line form-group mb-none mr-sm\">\n+          <button type=\"button\" class=\"btn btn-default gray-btn questionStepSaveDoneButtonHide\"\n+                  id=\"saveId\">\n+            Save\n+          </button>\n+        </div>\n+        <div class=\"dis-line form-group mb-none\">\n+          <button type=\"button\" class=\"btn btn-primary blue-btn questionStepSaveDoneButtonHide\"\n+                  id=\"doneId\">\n+            Done\n+          </button>\n+        </div>\n+      </c:if>\n+    </div>\n+  </div>\n+  <!--  End  top tab section-->\n+  <!--  Start body tab section -->\n+  <form:form\n+      action=\"/studybuilder/adminStudies/saveOrUpdateQuestionStepQuestionnaire.do?${_csrf.parameterName}=${_csrf.token}&_S=${param._S}\"\n+      name=\"questionStepId\" id=\"questionStepId\" method=\"post\" data-toggle=\"validator\"\n+      autocomplete=\"off\"\n+      role=\"form\" enctype=\"multipart/form-data\">\n+  <div class=\"right-content-body pt-none pl-none pr-none\">\n+    <ul class=\"nav nav-tabs review-tabs gray-bg\">\n+      <li class=\"stepLevel active\"><a data-toggle=\"tab\" href=\"#sla\">Step-level Attributes</a></li>\n+      <li class=\"questionLevel\"><a data-toggle=\"tab\" href=\"#qla\">Question-level Attributes</a></li>\n+      <li class=\"responseLevel\"><a data-toggle=\"tab\" href=\"#rla\">Response-level Attributes</a></li>\n+    </ul>\n+    <div class=\"tab-content pl-xlg pr-xlg\">\n+      <!-- Step-level Attributes-->\n+      <input type=\"hidden\" name=\"stepId\" id=\"stepId\" value=\"${questionnairesStepsBo.stepId}\">\n+      <input type=\"hidden\" name=\"questionnairesId\" id=\"questionnairesId\" value=\"${questionnaireId}\">\n+      <input type=\"hidden\" id=\"questionnaireShortId\" value=\"${questionnaireBo.shortTitle}\">\n+      <input type=\"hidden\" name=\"stepType\" id=\"stepType\" value=\"Question\">\n+      <input type=\"hidden\" name=\"instructionFormId\" id=\"instructionFormId\"\n+             value=\"${questionnairesStepsBo.instructionFormId}\">\n+      <input type=\"hidden\" id=\"type\" name=\"type\" value=\"complete\"/>\n+      <input type=\"hidden\" id=\"anchorDateId\" name=\"anchorDateId\"\n+             value=\"${questionnairesStepsBo.questionsBo.anchorDateId}\"/>\n+      <input type=\"hidden\" id=\"isShorTitleDuplicate\" name=\"isShorTitleDuplicate\"\n+             value=\"${questionnairesStepsBo.isShorTitleDuplicate}\"/>\n+      <div id=\"sla\" class=\"tab-pane fade in active mt-xlg\">\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short Title or Key (15 characters max) <span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"A human readable step identifier and must be unique across all steps of the questionnaire. Note that this field cannot be edited once the study is Launched.\"></span>\n             </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n-          <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\" value=\"${questionnairesStepsBo.questionsBo.id}\">\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The question you wish to ask the participant.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\" name=\"questionsBo.question\" id=\"questionTextId\" placeholder=\"Type the question you wish to ask the participant\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required maxlength=\"300\"/>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\"\n+                     <c:if\n+                         test=\"${empty questionnairesStepsBo.stepShortTitle}\">autofocus=\"autofocus\"</c:if>\n+                     custAttType=\"cust\" class=\"form-control\" name=\"stepShortTitle\"\n+                     id=\"stepShortTitle\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"\n+                  <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>\n+                     required maxlength=\"15\"/>\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"preShortTitleId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.stepShortTitle)}\"/>\n             </div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n-               <div class=\"form-group\">\n-                  <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\" id=\"descriptionId\" placeholder=\"Enter a line that describes your question, if needed\" maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Step Type</div>\n+            <div>Question Step</div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <c:if test=\"${questionnaireBo.branching}\">\n+            <div class=\"col-md-4 col-lg-3 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Default Destination Step <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The step that the user must be directed to from this step.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select name=\"destinationStep\" id=\"destinationStepId\"\n+                        data-error=\"Please choose one option\" class=\"selectpicker\" required>\n+                  <c:forEach items=\"${destinationStepList}\" var=\"destinationStep\">\n+                    <option\n+                        value=\"${destinationStep.stepId}\" ${questionnairesStepsBo.destinationStep eq destinationStep.stepId ? 'selected' :''}>\n+                      Step ${destinationStep.sequenceNo}\n+                      : ${destinationStep.stepShortTitle}</option>\n+                  </c:forEach>\n+                  <option value=\"0\" ${questionnairesStepsBo.destinationStep eq 0 ? 'selected' :''}>\n+                    Completion Step\n+                  </option>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div>\n-               <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n-               <div>\n+          </c:if>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"qla\" class=\"tab-pane fade mt-xlg\">\n+        <input type=\"hidden\" name=\"questionsBo.id\" id=\"questionId\"\n+               value=\"${questionnairesStepsBo.questionsBo.id}\">\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Question Text (1 to 300 characters)<span\n+              class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                 data-toggle=\"tooltip\"\n+                                                 title=\"The question you wish to ask the participant.\"></span>\n+          </div>\n+          <div class=\"form-group\">\n+            <input autofocus=\"autofocus\" type=\"text\" class=\"form-control\"\n+                   name=\"questionsBo.question\"\n+                   id=\"questionTextId\"\n+                   placeholder=\"Type the question you wish to ask the participant\"\n+                   value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.question)}\" required\n+                   maxlength=\"300\"/>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"col-md-10 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Description of the question (1 to 500 characters)</div>\n+          <div class=\"form-group\">\n+                        <textarea class=\"form-control\" rows=\"4\" name=\"questionsBo.description\"\n+                                  id=\"descriptionId\"\n+                                  placeholder=\"Enter a line that describes your question, if needed\"\n+                                  maxlength=\"500\">${questionnairesStepsBo.questionsBo.description}</textarea>\n+            <div class=\"help-block with-errors red-txt\"></div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div>\n+          <div class=\"gray-xs-f mb-xs\">Is this a Skippable Step?</div>\n+          <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\" name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n+                     <input type=\"radio\" id=\"skiappableYes\" value=\"Yes\"\n+                            name=\"skiappable\"  ${empty questionnairesStepsBo.skiappable  || questionnairesStepsBo.skiappable=='Yes' ? 'checked':''}>\n                      <label for=\"skiappableYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\" name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n+            <span class=\"radio radio-inline\">\n+                     <input type=\"radio\" id=\"skiappableNo\" value=\"No\"\n+                            name=\"skiappable\" ${questionnairesStepsBo.skiappable=='No' ?'checked':''}>\n                      <label for=\"skiappableNo\">No</label>\n                   </span>\n-             </div>\n-            </div>\n-            <div class=\"mt-lg\">\n-               <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n-               <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response. Note that this is not editable after Study Launch.</small></div>\n-               <div class=\"clearfix\"></div>\n-               <div class=\"col-md-4 col-lg-3 p-none\">\n-                  <div class=\"form-group\">\n-                     <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\" required value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n-                      <option value=''>Select</option>\n-                      <c:forEach items=\"${questionResponseTypeMasterInfoList}\" var=\"questionResponseTypeMasterInfo\">\n-                      \t<option value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n-                      </c:forEach>\n-                     </select>\n-                     <div class=\"help-block with-errors red-txt\"></div>\n-                  </div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg\">\n+          <div class=\"gray-xs-f\">Response Type <span class=\"requiredStar\">*</span></div>\n+          <div class=\"gray-xs-f mb-xs\"><small>The type of interface needed to capture the response.\n+            Note that\n+            this is not editable after Study Launch.</small></div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"form-group\">\n+              <select id=\"responseTypeId\" class=\"selectpicker\" name=\"questionsBo.responseType\"\n+                      required\n+                      value=\"${questionnairesStepsBo.questionsBo.responseType}\" <c:if\n+                  test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+                <option value=''>Select</option>\n+                <c:forEach items=\"${questionResponseTypeMasterInfoList}\"\n+                           var=\"questionResponseTypeMasterInfo\">\n+                  <option\n+                      value=\"${questionResponseTypeMasterInfo.id}\" ${questionnairesStepsBo.questionsBo.responseType eq questionResponseTypeMasterInfo.id ? 'selected' : ''}>${questionResponseTypeMasterInfo.responseType}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row\">\n-               <div class=\"col-md-6 pl-none mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type </div>\n-                  <div id=\"responseTypeDescrption\">\n-                      - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6 mb-lg\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"responseTypeDataType\"> - NA -</div>\n-               </div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row\">\n+          <div class=\"col-md-6 pl-none mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"responseTypeDescrption\">\n+              - NA -\n             </div>\n-            <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n-            <c:choose>\n-            \t<c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n-            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"  >\n+          </div>\n+          <div class=\"col-md-6 mb-lg\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"responseTypeDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"mt-lg mb-lg\" id=\"useAnchorDateContainerId\" style=\"display: none\">\n+          <c:choose>\n+            <c:when test=\"${questionnairesStepsBo.questionsBo.useAnchorDate}\">\n+            \t\t<span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                      title=\"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\">\n             \t\t<span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t             </span>\n \t\t             </span>\n-\t\t             <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\" maxlength=\"50\" <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:when>\n-            \t<c:otherwise>\n-            \t\t<%-- <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\" <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> title=\"This field is disabled for one of the following reasons:<br/>1. Your questionnaire is scheduled for a frequency other than 'one-time'<br/>2. There is already another question in the study that has been marked for anchor date<br/>Please make changes accordingly and try again.\" </c:if> >\n-\t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || isAnchorDate}\"> disabled </c:if> >\n-\t\t\t               <label for=\"useAnchorDateId\"> Use response as Anchor Date </label>\n-\t\t               </span>\n-\t               </span> --%>\n-\t               <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"  \n-\t               <c:if test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n-\t               <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n-\t               >\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${questionnairesStepsBo.questionsBo.anchorDateName}\"\n+                         maxlength=\"50\" <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:when>\n+            <c:otherwise>\n+              <span class=\"tool-tip\" data-toggle=\"tooltip\" data-html=\"true\" data-placement=\"top\"\n+                  <c:if\n+                      test=\"${questionnaireBo.scheduleType eq 'AnchorDate'}\"> title= \"This option has been disabled, since this questionnaire has anchor-date based scheduling already.\"</c:if>\n+\t               <c:if\n+                     test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType eq 'Regular'}\"> title= \"The date supplied by a participant in response to this question can be used to dictate the schedule for other questionnaires or active tasks in the study, or to determine the Period of Visibility of study resources.\"</c:if>\n+              >\n \t\t               <span class=\"checkbox checkbox-inline\">\n-\t\t               \n-\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\" value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''} <c:if test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\"> disabled </c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>>\n+\n+\t\t\t               <input type=\"checkbox\" id=\"useAnchorDateId\" name=\"questionsBo.useAnchorDate\"\n+                            value=\"true\" ${questionnairesStepsBo.questionsBo.useAnchorDate ? 'checked':''}\n+                     <c:if\n+                         test=\"${questionnaireBo.frequency ne 'One time' || questionnaireBo.scheduleType ne 'Regular'}\">\n+                            disabled </c:if> <c:if\n+                         test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\">\n+                            disabled</c:if>>\n \t\t\t               <label for=\"useAnchorDateId\"> Use response as anchor date </label>\n \t\t               </span>\n \t               </span>\n-\t               <div class=\"clearfix\"></div>\n-\t            \t<div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n-\t\t                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span class=\"requiredStar\">*</span></div>\n-\t\t                <div class=\"form-group\">\n-\t\t                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\" id=\"anchorTextId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\" maxlength=\"50\" <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t                </div>\n-                   </div>\n-            \t</c:otherwise>\n-            </c:choose>\n-                 \n-            </div>\n-            <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n-            \t<div class=\"clearfix\"></div>\n-            \t<div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n+              <div class=\"clearfix\"></div>\n+              <div class=\"col-md-6 p-none useAnchorDateName mt-md\" style=\"display: none\">\n+                <div class=\"gray-xs-f mb-xs\">Define name for anchor date<span\n+                    class=\"requiredStar\">*</span></div>\n+                <div class=\"form-group\">\n+                  <input type=\"text\" class=\"form-control\" name=\"questionsBo.anchorDateName\"\n+                         id=\"anchorTextId\"\n+                         value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.anchorDateName)}\"\n+                         maxlength=\"50\"\n+                         <c:if test=\"${questionsBo.isShorTitleDuplicate gt 0}\">disabled</c:if> <c:if\n+                      test=\"${not empty questionnairesStepsBo.isShorTitleDuplicate && (questionnairesStepsBo.isShorTitleDuplicate gt 0)}\"> disabled</c:if>/>\n+                  <div class=\"help-block with-errors red-txt\"></div>\n+                </div>\n+              </div>\n+            </c:otherwise>\n+          </c:choose>\n+\n+        </div>\n+        <c:if test=\"${fn:contains(studyBo.platform, 'I')}\">\n+          <div class=\"clearfix\"></div>\n+          <div class=\"mb-lg\" id=\"allowHealthKitId\" style=\"display: none\">\n \t               <span class=\"checkbox checkbox-inline\">\n-\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n-\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n+\t               <input type=\"checkbox\" id=\"allowHealthKit\" name=\"questionsBo.allowHealthKit\"\n+                        value=\"Yes\" ${questionnairesStepsBo.questionsBo.allowHealthKit eq 'Yes' ? 'checked':''}>\n+\t               <label for=\"allowHealthKit\"> Allow participant to optionally use HealthKit to provide answer <span\n+                     class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                     title=\"If you check this box, participants who are using the app on an iOS device will be presented with an option to provide data from Health as the answer to this question. Participants are allowed to edit  the answer before submitting it.\"></span></label>\n \t               </span>\n-\t            </div>\n-\t            <div id=\"healthKitContainerId\" style=\"display: none\">\n-\t            \t<div class=\"col-md-4 p-none\">\n-\t\t               <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" data-html=true title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span></div>\n-\t\t               <div class=\"form-group mb-xs\">\n-\t\t                  <select class=\"selectpicker elaborateClass healthkitrequireClass\" id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\" value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n-\t\t                       <option value=\"\" selected >Select</option>\n-\t\t\t                   <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n-\t\t\t                        <option value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n-\t\t\t                   </c:forEach>\n-\t\t                  </select>\n-\t\t                  <div class=\"help-block with-errors red-txt\"></div>\n-\t\t               </div>\n-\t\t            </div>\n-\t            </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n-            <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n-            <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n+          </div>\n+          <div id=\"healthKitContainerId\" style=\"display: none\">\n+            <div class=\"col-md-4 p-none\">\n+              <div class=\"gray-xs-f mb-xs\">Select a HealthKit quantity data type <span\n+                  class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                      data-toggle=\"tooltip\" data-html=true\n+                                                      title=\"- Please select the appropriate HealthKit data type as suited to the question<br>- Please note that only the most recent value available in HealthKit would be read by the app<br>- Access to HealthKit data is subject to the user providing permissions for the app to read the data\"></span>\n+              </div>\n+              <div class=\"form-group mb-xs\">\n+                <select class=\"selectpicker elaborateClass healthkitrequireClass\"\n+                        id=\"healthkitDatatypeId\" name=\"questionsBo.healthkitDatatype\"\n+                        value=\"${questionnairesStepsBo.questionsBo.healthkitDatatype}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${healthKitKeysInfo}\" var=\"healthKitKeys\">\n+                    <option\n+                        value=\"${healthKitKeys.key}\" ${questionnairesStepsBo.questionsBo.healthkitDatatype eq healthKitKeys.key ? 'selected':''}>${healthKitKeys.displayName}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n+            </div>\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <c:if test=\"${questionnaireBo.frequency ne 'One time'}\">\n+          <div class=\"bor-dashed mt-none mb-md\" id=\"borderHealthdashId\" style=\"display:none\"></div>\n+          <div class=\"mt-lg mb-lg\" id=\"addLineChartContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\" value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n+               <input type=\"checkbox\" id=\"addLineChart\" name=\"questionsBo.addLineChart\"\n+                      value=\"Yes\" ${questionnairesStepsBo.questionsBo.addLineChart eq 'Yes' ? 'checked':''}>\n                <label for=\"addLineChart\"> Add response data to line chart on app dashboard </label>\n                </span>\n-            </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"chartContainer\" style=\"display: none\">\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div id=\"chartContainer\" style=\"display: none\">\n             <div class=\"col-md-6 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time range for the chart <span class=\"requiredStar\">*</span> <span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass chartrequireClass\" id=\"lineChartTimeRangeId\" name=\"questionsBo.lineChartTimeRange\" value=\"${questionnairesStepsBo.questionsBo.lineChartTimeRange}\">\n-                       <option value=\"\" selected >Select</option>\n-\t                   <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n-\t                        <option value=\"${timeRangeAttr}\" ${questionnairesStepsBo.questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n-\t                   </c:forEach>\n-                  </select>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+              <div class=\"gray-xs-f mb-xs\">Time range for the chart <span\n+                  class=\"requiredStar\">*</span>\n+                <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                      title=\"The options available here depend on the scheduling frequency set for the activity. For multiple-times-a-day and custom- scheduled activities, the chart's X axis divisions will represent runs. For the former case, the chart will display all runs for the day while for the latter, the chart will display a max of 5 runs at a time.\"></span>\n+              </div>\n+              <div class=\"form-group\">\n+                <select class=\"selectpicker elaborateClass chartrequireClass\"\n+                        id=\"lineChartTimeRangeId\"\n+                        name=\"questionsBo.lineChartTimeRange\"\n+                        value=\"${questionnairesStepsBo.questionsBo.lineChartTimeRange}\">\n+                  <option value=\"\" selected>Select</option>\n+                  <c:forEach items=\"${timeRangeList}\" var=\"timeRangeAttr\">\n+                    <option\n+                        value=\"${timeRangeAttr}\" ${questionnairesStepsBo.questionsBo.lineChartTimeRange eq timeRangeAttr ? 'selected':''}>${timeRangeAttr}</option>\n+                  </c:forEach>\n+                </select>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div>\n-               <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\" title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span></div>\n-               <div>\n+              <div class=\"gray-xs-f mb-xs\">Allow rollback of chart? <span\n+                  class=\"ml-xs sprites_v3 filled-tooltip\" data-toggle=\"tooltip\"\n+                  title=\"If you select Yes, the chart will be allowed for rollback until the date of enrollment into the study.\"></span>\n+              </div>\n+              <div>\n                   <span class=\"radio radio-info radio-inline p-45\">\n-                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\" name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n+                  <input type=\"radio\" id=\"allowRollbackChartYes\" value=\"Yes\"\n+                         name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'Yes' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartYes\">Yes</label>\n                   </span>\n-                  <span class=\"radio radio-inline\">\n-                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\" name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n+                <span class=\"radio radio-inline\">\n+                  <input type=\"radio\" id=\"allowRollbackChartNo\" value=\"No\"\n+                         name=\"questionsBo.allowRollbackChart\" ${questionnairesStepsBo.questionsBo.allowRollbackChart eq 'No' ? 'checked': ''}>\n                   <label for=\"allowRollbackChartNo\">No</label>\n                   </span>\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n             <div class=\"clearfix\"></div>\n             <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control chartrequireClass\" name=\"questionsBo.chartTitle\" id=\"chartTitleId\" value=\"${questionnairesStepsBo.questionsBo.chartTitle}\" maxlength=\"30\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n-            </div>\n+              <div class=\"gray-xs-f mb-xs\">Title for the chart (1 to 30 characters)<span\n+                  class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n+                <input type=\"text\" class=\"form-control chartrequireClass\"\n+                       name=\"questionsBo.chartTitle\"\n+                       id=\"chartTitleId\" value=\"${questionnairesStepsBo.questionsBo.chartTitle}\"\n+                       maxlength=\"30\">\n+                <div class=\"help-block with-errors red-txt\"></div>\n+              </div>\n             </div>\n-            </c:if>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"bor-dashed mt-none mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n+          </div>\n+        </c:if>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"bor-dashed mt-none mb-md\" id=\"borderdashId\" style=\"display:none\"></div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"mb-lg\" id=\"useStasticDataContainerId\" style=\"display: none\">\n                <span class=\"checkbox checkbox-inline\">\n-               <input type=\"checkbox\" id= \"useStasticData\" value=\"Yes\" name=\"questionsBo.useStasticData\" ${questionnairesStepsBo.questionsBo.useStasticData eq 'Yes' ? 'checked':''}>\n+               <input type=\"checkbox\" id=\"useStasticData\" value=\"Yes\"\n+                      name=\"questionsBo.useStasticData\" ${questionnairesStepsBo.questionsBo.useStasticData eq 'Yes' ? 'checked':''}>\n                <label for=\"useStasticData\"> Use response data for statistic on dashboard</label>\n                </span>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div id=\"statContainer\" style=\"display: none\">\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\"\n+                     name=\"questionsBo.statShortName\" id=\"statShortNameId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\"\n+              <c:if\n+                  test=\"${not empty questionnairesStepsBo.questionsBo.isStatShortNameDuplicate && (questionnairesStepsBo.questionsBo.isStatShortNameDuplicate gt 0)}\">\n+                     disabled</c:if> maxlength=\"20\">\n+              <div class=\"help-block with-errors red-txt\"></div>\n+              <input type=\"hidden\" id=\"prevStatShortNameId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\">\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div id=\"statContainer\" style=\"display: none\">\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Short identifier name (1 to 20 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" custAttType=\"cust\" class=\"form-control requireClass\" name=\"questionsBo.statShortName\" id=\"statShortNameId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\" \n-                     <c:if test=\"${not empty questionnairesStepsBo.questionsBo.isStatShortNameDuplicate && (questionnairesStepsBo.questionsBo.isStatShortNameDuplicate gt 0)}\"> disabled</c:if> maxlength=\"20\">\n-               \t  <div class=\"help-block with-errors red-txt\"></div>\n-               \t  <input type=\"hidden\" id=\"prevStatShortNameId\" value= \"${fn:escapeXml(questionnairesStepsBo.questionsBo.statShortName)}\">\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity\n+              Over 6\n+              Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\"\n+                     name=\"questionsBo.statDisplayName\"\n+                     id=\"statDisplayNameId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayName)}\"\n+                     maxlength=\"50\">\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display name for the Stat (e.g. Total Hours of Activity Over 6 Months) (1 to 50 characters)<span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"questionsBo.statDisplayName\" id=\"statDisplayNameId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayName)}\" maxlength=\"50\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-6 col-lg-4 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span\n+                class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"\n+                                                   data-toggle=\"tooltip\"\n+                                                   title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-6 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Display Units (e.g. hours) (1 to 15 characters)<span class=\"requiredStar\">*</span><span class=\"ml-xs sprites_v3 filled-tooltip\"  data-toggle=\"tooltip\" title=\"For Response Types of Time Interval and Height, participant responses are saved in hours and cms respectively. Please enter units accordingly.\"></span></div>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control requireClass\" name=\"questionsBo.statDisplayUnits\" id=\"statDisplayUnitsId\" value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayUnits)}\" maxlength=\"15\">\n-                  <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <input type=\"text\" class=\"form-control requireClass\"\n+                     name=\"questionsBo.statDisplayUnits\"\n+                     id=\"statDisplayUnitsId\"\n+                     value=\"${fn:escapeXml(questionnairesStepsBo.questionsBo.statDisplayUnits)}\"\n+                     maxlength=\"15\">\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-4 col-lg-3 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\" title=\"Select\" name=\"questionsBo.statType\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n-\t\t\t            <option value=\"${statisticImage.statisticImageId}\" ${questionnairesStepsBo.questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select> \n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-4 col-lg-3 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Stat Type for image upload <span\n+                class=\"requiredStar\">*</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span class=\"requiredStar\">*</span></div>\n-               <div class=\"form-group\">\n-                  <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\" title=\"Select\" name=\"questionsBo.statFormula\">\n-\t\t\t         <option value=\"\" selected >Select</option>\n-\t\t\t         <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n-\t\t\t            <option value=\"${activetaskFormula.activetaskFormulaId}\" ${questionnairesStepsBo.questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n-\t\t\t         </c:forEach>\n-\t\t\t      </select>\n-\t\t\t      <div class=\"help-block with-errors red-txt\"></div>\n-               </div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statTypeId\"\n+                      title=\"Select\"\n+                      name=\"questionsBo.statType\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${statisticImageList}\" var=\"statisticImage\">\n+                  <option\n+                      value=\"${statisticImage.statisticImageId}\" ${questionnairesStepsBo.questionsBo.statType eq statisticImage.statisticImageId ? 'selected':''}>${statisticImage.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"col-md-10 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n-               <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Formula for to be applied <span\n+                class=\"requiredStar\">*</span></div>\n+            <div class=\"form-group\">\n+              <select class=\"selectpicker elaborateClass requireClass\" id=\"statFormula\"\n+                      title=\"Select\"\n+                      name=\"questionsBo.statFormula\">\n+                <option value=\"\" selected>Select</option>\n+                <c:forEach items=\"${activetaskFormulaList}\" var=\"activetaskFormula\">\n+                  <option\n+                      value=\"${activetaskFormula.activetaskFormulaId}\" ${questionnairesStepsBo.questionsBo.statFormula eq activetaskFormula.activetaskFormulaId ? 'selected':''}>${activetaskFormula.value}</option>\n+                </c:forEach>\n+              </select>\n+              <div class=\"help-block with-errors red-txt\"></div>\n             </div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div class=\"col-md-10 p-none\">\n+            <div class=\"gray-xs-f mb-xs\">Time ranges options available to the mobile app user</div>\n             <div class=\"clearfix\"></div>\n+          </div>\n+          <div class=\"clearfix\"></div>\n+          <div>\n             <div>\n-               <div>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Day</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Week</span></span>\n-                  <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\" alt=\"\"/></span><span>Current Month</span></span>\n-                  <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n-               </div>\n-            </div>\n-\t\t  </div>\n-         </div>\n-         <!---  Form-level Attributes ---> \n-         <div id=\"rla\" class=\"tab-pane fade mt-lg\">\n-            <div class=\"col-md-4 col-lg-4 p-none\">\n-               <div class=\"gray-xs-f mb-xs\">Response Type  </div>\n-               <small>The type of interface needed to capture the response</small>\n-               <div class=\"form-group\">\n-                  <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n-               </div>\n+                            <span class=\"mr-lg\"><span class=\"mr-sm\"><img\n+                                src=\"../images/icons/tick.png\"\n+                                alt=\"\"/></span><span>Current Day</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Week</span></span>\n+              <span class=\"mr-lg\"><span class=\"mr-sm\"><img src=\"../images/icons/tick.png\"\n+                                                           alt=\"\"/></span><span>Current Month</span></span>\n+              <span class=\"txt-gray\">(Rollback option provided for these three options)</span>\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <div class=\"row mt-xs\">\n-               <div class=\"col-md-6 pl-none\">\n-                  <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n-                  <div id=\"rlaResonseTypeDescription\">\n-                      - NA -\n-                  </div>\n-               </div>\n-               <div class=\"col-md-6\">\n-                  <div class=\"gray-xs-f mb-xs\">Data Type</div>\n-                  <div id=\"rlaResonseDataType\"> - NA -</div>\n-               </div>\n+          </div>\n+        </div>\n+      </div>\n+      <!---  Form-level Attributes --->\n+      <div id=\"rla\" class=\"tab-pane fade mt-lg\">\n+        <div class=\"col-md-4 col-lg-4 p-none\">\n+          <div class=\"gray-xs-f mb-xs\">Response Type</div>\n+          <small>The type of interface needed to capture the response</small>\n+          <div class=\"form-group\">\n+            <input type=\"text\" class=\"form-control\" id=\"rlaResonseType\" disabled>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <div class=\"row mt-xs\">\n+          <div class=\"col-md-6 pl-none\">\n+            <div class=\"gray-xs-f mb-xs\">Description of response type</div>\n+            <div id=\"rlaResonseTypeDescription\">\n+              - NA -\n             </div>\n-            <div class=\"clearfix\"></div>\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.responseTypeId\" id=\"questionResponseTypeId\" value=\"${questionnairesStepsBo.questionReponseTypeBo.responseTypeId}\">\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.questionsResponseTypeId\" id=\"responseQuestionId\" value=\"${questionnairesStepsBo.questionReponseTypeBo.questionsResponseTypeId}\">\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.placeholder\" id=\"placeholderTextId\" />\n-            <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.step\" id=\"stepValueId\" />\n-            <div id=\"responseTypeDivId\">\n-            <div id=\"scaleType\" style=\"display: none\">\n-            \t<div class=\"mt-lg\">\n-\t               <div class=\"gray-xs-f mb-xs\">Scale Type <span class=\"requiredStar\">*</span></div>\n-\t               <div class=\"form-group\">\n+          </div>\n+          <div class=\"col-md-6\">\n+            <div class=\"gray-xs-f mb-xs\">Data Type</div>\n+            <div id=\"rlaResonseDataType\"> - NA -</div>\n+          </div>\n+        </div>\n+        <div class=\"clearfix\"></div>\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.responseTypeId\"\n+               id=\"questionResponseTypeId\"\n+               value=\"${questionnairesStepsBo.questionReponseTypeBo.responseTypeId}\">\n+        <input type=\"hidden\" class=\"form-control\"\n+               name=\"questionReponseTypeBo.questionsResponseTypeId\"\n+               id=\"responseQuestionId\"\n+               value=\"${questionnairesStepsBo.questionReponseTypeBo.questionsResponseTypeId}\">\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.placeholder\"\n+               id=\"placeholderTextId\"/>\n+        <input type=\"hidden\" class=\"form-control\" name=\"questionReponseTypeBo.step\"\n+               id=\"stepValueId\"/>\n+        <div id=\"responseTypeDivId\">\n+          <div id=\"scaleType\" style=\"display: none\">\n+            <div class=\"mt-lg\">\n+              <div class=\"gray-xs-f mb-xs\">Scale Type <span class=\"requiredStar\">*</span></div>\n+              <div class=\"form-group\">\n \t                  <span class=\"radio radio-info radio-inline p-45\">\n-\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"scalevertical\" value=\"true\" name=\"questionReponseTypeBo.vertical\"  ${questionnairesStepsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n+\t                  <input type=\"radio\" class=\"ScaleRequired\" id=\"scalevertical\" value=\"true\"\n+                           name=\"questionReponseTypeBo.vertical\"  ${questionnairesStepsBo.questionReponseTypeBo.vertical ? 'checked':''} >\n \t                  <label for=\"scalevertical\">Vertical</label>\n \t                  </span>", "originalCommit": "2004ded2c30069ca2ca60b21c739df200b755d75", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f035801add1bfb4804a11831126936bbfb8ae62e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f035801add1bfb4804a11831126936bbfb8ae62e", "message": "indentation and nesting issue fixes", "committedDate": "2020-06-19T12:23:27Z", "type": "commit"}, {"oid": "5b14be30abe750f91c2f43250e776fbd07c7700c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5b14be30abe750f91c2f43250e776fbd07c7700c", "message": "conflict issue fixes", "committedDate": "2020-06-19T12:29:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg2NTY2NQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r442865665", "bodyText": "Javascript code's indented with 4 spaces, whereas html code in indented with 2 spaces. Is that per  style guide? if not, please keep a consistent indentation.", "author": "zohrehj", "createdAt": "2020-06-19T14:15:29Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/studyMenu.jsp", "diffHunk": "@@ -25,277 +26,253 @@\n \t                    deactivated_txt\n \t                </c:if>\n \t                \">${studyBo.status}</span>\n-<%-- \t                <span class=\"version\">${not empty studyBo.studyVersionBo?studyBo.studyVersionBo.studyLVersion:''}</span> --%>\n-\t                <c:set var=\"isLive\">${_S}isLive</c:set> <span class=\"version\">${not empty  sessionScope[isLive]?studyBo.studyVersionBo.studyLVersion:''}</span>\n-                </div>\n-                 </li>\n-                    <li class=\"first active\">\n-                    \tBasic Information \n-\t                    <c:if test=\"${studyBo.studySequenceBo.basicInfo}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"second commonCls\">\n-                    \tSettings and Admins\n-                    \t<c:if test=\"${studyBo.studySequenceBo.settingAdmins}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"third commonCls\">\n-                    \tOverview\n-                    \t<c:if test=\"${studyBo.studySequenceBo.overView}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"fourth commonCls\">\n-                    \tEligibility\n-                    \t<c:if test=\"${studyBo.studySequenceBo.eligibility}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"fifth commonCls\">\n-                    \tInformed Consent\n-                    \t <c:if test=\"${studyBo.studySequenceBo.consentEduInfo && studyBo.studySequenceBo.comprehensionTest && studyBo.studySequenceBo.eConsent}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"sub fifthConsent commonCls\"> Consent Sections\n-                    \t<c:if test=\"${studyBo.studySequenceBo.consentEduInfo}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-\t                </li>\n-                    <li class=\"sub fifthComre commonCls\">Comprehension Test\n-                    \t<c:if test=\"${studyBo.studySequenceBo.comprehensionTest}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"sub fifthConsentReview commonCls\"> Review and E-consent Steps\n-                    \t<c:if test=\"${studyBo.studySequenceBo.eConsent}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"sixth commonCls\">\n-                    \tStudy Activities\n-                    </li>\n-                    <li class=\"sub sixthQuestionnaires commonCls\"> Questionnaires\n-                    <c:if test=\"${studyBo.studySequenceBo.studyExcQuestionnaries}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                </c:if> </li>\n-                    <li class=\"sub sixthTask commonCls \">\n-                    Active Tasks\n-                       <c:if test=\"${studyBo.studySequenceBo.studyExcActiveTask}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                </c:if>\n-                    </li>\n-                   <%--  <li class=\"seventh commonCls\">\n-                    \t Study Dashboard\n-                    \t<c:if test=\"${studyBo.studySequenceBo.eConsent}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li> --%>\n-                    <%-- <li class=\"eight commonCls\">\n-                    \t Miscellaneous\n-                    \t<c:if test=\"${studyBo.studySequenceBo.miscellaneousResources && studyBo.studySequenceBo.miscellaneousNotification}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li> --%>\n-                    \n-                    <li class=\" eighthResources commonCls\">Resources \n-                    <c:if test=\"${studyBo.studySequenceBo.miscellaneousResources}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-                    </c:if>\n-                    </li>\n-                    \n-                    <li class=\" eigthNotification commonCls <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'cursor-none':''}\">Notifications \n-                    \t<c:if test=\"${studyBo.studySequenceBo.miscellaneousNotification}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-                    \t</c:if>\n-                    </li> \n-                    <%-- <li class=\"eighthResources commonCls\">\n-                    \tResources \n-                    <c:if test=\"${studyBo.studySequenceBo.miscellaneousResources}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-                    </c:if>\n-                    </li>\n-                    <li class=\"eigthNotification commonCls cursor-none-without-event\">\n-                    \tNotifications \n-                    \t<c:if test=\"${studyBo.studySequenceBo.miscellaneousNotification}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-                    \t</c:if>\n-                    </li> --%>\n-                    <li class=\"nine commonCls <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'cursor-none':''}\">\n-                    \tChecklist\n-                    \t<c:if test=\"${studyBo.studySequenceBo.checkList}\">\n-\t                    \t<span class=\"sprites-icons-2 tick pull-right mt-xs\" ></span>\n-\t                    </c:if>\n-                    </li>\n-                    <li class=\"tenth commonCls <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'cursor-none':''}\">\n-                    \tActions\n-                    </li>                 \n-                </ul>\n-            </div>\n+          <c:set var=\"isLive\">${_S}isLive</c:set>\n+          <span\n+              class=\"version\">${not empty  sessionScope[isLive]?studyBo.studyVersionBo.studyLVersion:''}</span>\n         </div>\n-        \n-        <!-- End left Content here -->\n+      </li>\n+      <li class=\"first active\">\n+        Basic Information\n+        <c:if test=\"${studyBo.studySequenceBo.basicInfo}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"second commonCls\">\n+        Settings and Admins\n+        <c:if test=\"${studyBo.studySequenceBo.settingAdmins}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"third commonCls\">\n+        Overview\n+        <c:if test=\"${studyBo.studySequenceBo.overView}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"fourth commonCls\">\n+        Eligibility\n+        <c:if test=\"${studyBo.studySequenceBo.eligibility}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"fifth commonCls\">\n+        Informed Consent\n+        <c:if\n+            test=\"${studyBo.studySequenceBo.consentEduInfo && studyBo.studySequenceBo.comprehensionTest && studyBo.studySequenceBo.eConsent}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"sub fifthConsent commonCls\"> Consent Sections\n+        <c:if test=\"${studyBo.studySequenceBo.consentEduInfo}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"sub fifthComre commonCls\">Comprehension Test\n+        <c:if test=\"${studyBo.studySequenceBo.comprehensionTest}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"sub fifthConsentReview commonCls\"> Review and E-consent Steps\n+        <c:if test=\"${studyBo.studySequenceBo.eConsent}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"sixth commonCls\">\n+        Study Activities\n+      </li>\n+      <li class=\"sub sixthQuestionnaires commonCls\"> Questionnaires\n+        <c:if test=\"${studyBo.studySequenceBo.studyExcQuestionnaries}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if></li>\n+      <li class=\"sub sixthTask commonCls \">\n+        Active Tasks\n+        <c:if test=\"${studyBo.studySequenceBo.studyExcActiveTask}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\" eighthResources commonCls\">Resources\n+        <c:if test=\"${studyBo.studySequenceBo.miscellaneousResources}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+\n+      <li class=\" eigthNotification commonCls <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'cursor-none':''}\">\n+        Notifications\n+        <c:if test=\"${studyBo.studySequenceBo.miscellaneousNotification}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"nine commonCls <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'cursor-none':''}\">\n+        Checklist\n+        <c:if test=\"${studyBo.studySequenceBo.checkList}\">\n+          <span class=\"sprites-icons-2 tick pull-right mt-xs\"></span>\n+        </c:if>\n+      </li>\n+      <li class=\"tenth commonCls <c:set var=\"isLive\">${_S}isLive</c:set>${not empty  sessionScope[isLive]?'cursor-none':''}\">\n+        Actions\n+      </li>\n+    </ul>\n+  </div>\n+</div>\n+\n+<!-- End left Content here -->\n <script type=\"text/javascript\">\n-$(document).ready(function(){\n-$(\"#rowId\").addClass('lc-gray-bg');\t\n-   $('#createStudyId').show();\n-   // Fancy Scroll Bar\n-   // $(\".left-content\").niceScroll({cursorcolor:\"#95a2ab\",cursorborder:\"1px solid #95a2ab\"});\n-   // $(\".right-content-body\").niceScroll({cursorcolor:\"#d5dee3\",cursorborder:\"1px solid #d5dee3\"});\n-   $(\"#myNavbar li.studyClass\").addClass('active');\n-   $('[data-toggle=\"tooltip\"]').tooltip();\n-   \n-   $('.cancelBut').click(function() {\n-\t   <c:if test=\"${empty permission}\">\n-\t   $('.cancelBut').prop('disabled', true);\n-\t   bootbox.confirm({\n-\t\t\tcloseButton: false,\n-\t\t\tmessage : 'You are about to leave the page and any unsaved changes will be lost. Are you sure you want to proceed?',\t\n-\t\t    buttons: {\n-\t\t        'cancel': {\n-\t\t            label: 'Cancel',\n-\t\t        },\n-\t\t        'confirm': {\n-\t\t            label: 'OK',\n-\t\t        },\n-\t\t    },\n-\t\t    callback: function(result) {\n-\t\t        if (result) {\n-\t\t        \tvar a = document.createElement('a');\n-\t\t    \t\ta.href = \"/studybuilder/adminStudies/studyList.do\";\n-\t\t    \t\tdocument.body.appendChild(a).click();\n-\t\t        }else{\n-\t\t        \t$('.cancelBut').prop('disabled', false);\n-\t\t        }\n-\t\t    }\n-\t\t\t});\n-\t   </c:if>\n-\t   <c:if test=\"${not empty permission}\">\n-\t\t   \tvar a = document.createElement('a');\n-\t\t\ta.href = \"/studybuilder/adminStudies/studyList.do\";\n-\t\t\tdocument.body.appendChild(a).click();\n-\t   </c:if>\n-\t});\n-   \n-   var a = document.createElement('a');\n-   $('.first').click(function() {\n-\t\ta.href = \"/studybuilder/adminStudies/viewBasicInfo.do?_S=${param._S}\";\n-\t\tdocument.body.appendChild(a).click();\n-\t});\n-   \n-   <c:if test=\"${not empty studyBo.studySequenceBo && studyBo.studySequenceBo.basicInfo}\">\n-\t   $('.second').click(function() {\n-\t\t\ta.href = \"/studybuilder/adminStudies/viewSettingAndAdmins.do?_S=${param._S}\";\n-\t\t\tdocument.body.appendChild(a).click();\n-\t\t});\n-\t   <c:if test=\"${studyBo.studySequenceBo.settingAdmins}\">\n-\t\t   $('.third').click(function() {\n-\t\t\t\ta.href = \"/studybuilder/adminStudies/overviewStudyPages.do?_S=${param._S}\";\n-\t\t\t\tdocument.body.appendChild(a).click();\n-\t\t\t});\n-\t\t   $('.fourth').click(function() {\n-\t\t\t\ta.href = \"/studybuilder/adminStudies/viewStudyEligibilty.do?_S=${param._S}\";\n-\t\t\t\tdocument.body.appendChild(a).click();\n-\t\t\t});\n-\t\t\t$('.fifth').click(function() {\n-\t\t\t\ta.href = \"/studybuilder/adminStudies/consentListPage.do?_S=${param._S}\";\n-\t\t\t\tdocument.body.appendChild(a).click();\n-\t\t\t});\n-\t\t\t$('.fifthConsent').click(function() {\n-\t\t\t\ta.href = \"/studybuilder/adminStudies/consentListPage.do?_S=${param._S}\";\n-\t\t\t\tdocument.body.appendChild(a).click();\n-\t\t\t});\n- \t\t\t$('.fifthComre').click(function() {\n- \t\t\t\ta.href = \"/studybuilder/adminStudies/comprehensionQuestionList.do?_S=${param._S}\";\n- \t\t\t\tdocument.body.appendChild(a).click();\n-\t\t\t});\n-\t\t\t$('.fifthConsentReview').click(function() {\n-\t\t\t\ta.href = \"/studybuilder/adminStudies/consentReview.do?_S=${param._S}\";\n-\t\t\t\tdocument.body.appendChild(a).click();\n-\t\t\t});\n-\t\t\t$('.sixth , .sixthQuestionnaires').click(function() {\n-\t\t\t\ta.href = \"/studybuilder/adminStudies/viewStudyQuestionnaires.do?_S=${param._S}\";\n-\t\t\t\tdocument.body.appendChild(a).click();\n+    $(document).ready(function () {", "originalCommit": "5b14be30abe750f91c2f43250e776fbd07c7700c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU0MDc1NQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r443540755", "bodyText": "Indentation issue fix for java script", "author": "aswinijena100", "createdAt": "2020-06-22T13:01:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg2NTY2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg3MDI1Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r442870256", "bodyText": "move select to new line and indent accordingly.", "author": "zohrehj", "createdAt": "2020-06-19T14:23:59Z", "path": "WCP/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/activeTaskScheduled.jsp", "diffHunk": "@@ -843,66 +1008,90 @@\n     <!-- anchor start-->\n     <div class=\"manuallyAnchorContainer\" style=\"display:none;\">\n       <c:if\n-              test=\"${fn:length(activeTaskBo.activeTaskCustomScheduleBo) eq 0}\">\n+          test=\"${fn:length(activeTaskBo.activeTaskCustomScheduleBo) eq 0}\">\n         <div class=\"manually-anchor-option mb-md form-group\" id=\"0\">\n           <input type=\"hidden\" name=\"activeTaskCustomScheduleBo[0].activeTaskId\" id=\"activeTaskId\"\n                  class=\"activeTaskIdClass\" value=\"${activeTaskBo.id}\">\n-          <span class=\"mb-sm pr-md\"> <span class=\"light-txt opacity06\">\n-\t\t\t\t\t\t\tAnchor Date </span>\n-\t\t\t\t\t</span> <span> <select class=\"signDropDown selectpicker sign-box\"\n-                                           count='0' title=\"Select\"\n-                                           name=\"activeTaskCustomScheduleBo[0].xDaysSign\" id=\"xSign0\">\n-\t\t\t\t\t\t\t<option value=\"0\"\n-                              ${not activeTaskCustomScheduleBo.xDaysSign ?'selected':''}>+</option>\n-\t\t\t\t\t\t\t<option value=\"1\"\n-                              ${activeTaskCustomScheduleBo.xDaysSign ?'selected':''}>-</option>\n-\t\t\t\t\t</select>\n-\t\t\t\t\t</span> <span class=\"form-group m-none dis-inline vertical-align-middle\">\n-\t\t\t\t\t\t<input id=\"xdays0\" type=\"text\"\n-                               class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave xdays daysMask mt-sm resetAncDate\"\n-                               count='0' placeholder=\"X\"\n-                               name=\"activeTaskCustomScheduleBo[0].timePeriodFromDays\"\n-                               value=\"${activeTaskCustomScheduleBo.timePeriodFromDays}\"\n-                               maxlength=\"3\" required pattern=\"[0-9]+\"\n-                               data-pattern-error=\"Please enter valid number.\"/> <span\n+          <span class=\"mb-sm pr-md\">\n+            <span class=\"light-txt opacity06\">\n+              Anchor Date\n+            </span>\n+          </span>\n+          <span><select class=\"signDropDown selectpicker sign-box\"\n+                        count='0' title=\"Select\"\n+                        name=\"activeTaskCustomScheduleBo[0].xDaysSign\" id=\"xSign0\">\n+            <option value=\"0\"\n+              ${not activeTaskCustomScheduleBo.xDaysSign ?'selected':''}>+\n+            </option>\n+            <option value=\"1\"\n+              ${activeTaskCustomScheduleBo.xDaysSign ?'selected':''}>-\n+            </option>\n+          </select>\n+          </span>\n+          <span class=\"form-group m-none dis-inline vertical-align-middle\">\n+            <input id=\"xdays0\" type=\"text\"\n+                   class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave xdays daysMask mt-sm resetAncDate\"\n+                   count='0' placeholder=\"X\"\n+                   name=\"activeTaskCustomScheduleBo[0].timePeriodFromDays\"\n+                   value=\"${activeTaskCustomScheduleBo.timePeriodFromDays}\"\n+                   maxlength=\"3\" required pattern=\"[0-9]+\"\n+                   data-pattern-error=\"Please enter valid number.\"/>\n+            <span\n                 class=\"help-block with-errors red-txt\"></span>\n-\t\t\t\t\t</span> <span class=\"mb-sm pr-md\"> <span\n-                class=\"light-txt opacity06\"> days <span\n-                style=\"padding-right: 5px; padding-left: 5px\">to </span> Anchor\n-\t\t\t\t\t\t\tDate\n-\t\t\t\t\t</span>\n-\t\t\t\t\t</span> <span> <select class=\"signDropDown selectpicker sign-box\"\n-                                           count='0' title=\"Select\"\n-                                           name=\"activeTaskCustomScheduleBo[0].yDaysSign\" id=\"ySign0\">\n-\t\t\t\t\t\t\t<option value=\"0\"\n-                              ${not activeTaskCustomScheduleBo.yDaysSign ?'selected':''}>+</option>\n-\t\t\t\t\t\t\t<option value=\"1\"\n-                              ${activeTaskCustomScheduleBo.yDaysSign ?'selected':''}>-</option>\n-\t\t\t\t\t</select>\n-\t\t\t\t\t</span> <span class=\"form-group m-none dis-inline vertical-align-middle\">\n-\t\t\t\t\t\t<input id=\"ydays0\" type=\"text\"\n-                               class=\"form-control wid70 disRadBtn1 disBtn1 remReqOnSave ydays daysMask mt-sm resetAncDate\"\n-                               count='0' placeholder=\"Y\"\n-                               name=\"activeTaskCustomScheduleBo[0].timePeriodToDays\"\n-                               value=\"${activeTaskCustomScheduleBo.timePeriodToDays}\"\n-                               maxlength=\"3\" pattern=\"[0-9]+\"\n-                               data-pattern-error=\"Please enter valid number.\" required/> <span\n+          </span>\n+          <span class=\"mb-sm pr-md\">\n+            <span\n+                class=\"light-txt opacity06\"> days\n+              <span\n+                  style=\"padding-right: 5px; padding-left: 5px\">to\n+              </span>\n+              Anchor\n+              Date\n+            </span>\n+          </span>\n+          <span><select class=\"signDropDown selectpicker sign-box\"", "originalCommit": "5b14be30abe750f91c2f43250e776fbd07c7700c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU0MjcyNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/442#discussion_r443542727", "bodyText": "fixed this issue.", "author": "aswinijena100", "createdAt": "2020-06-22T13:04:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg3MDI1Ng=="}], "type": "inlineReview"}, {"oid": "d456f5f7bc40539d36c0acd4f222fb7595de13b0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d456f5f7bc40539d36c0acd4f222fb7595de13b0", "message": "resolved java script indentation issues", "committedDate": "2020-06-22T12:57:03Z", "type": "commit"}, {"oid": "3da8f02815fc80e016bcd6e4a699b8b5e9ff31a2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3da8f02815fc80e016bcd6e4a699b8b5e9ff31a2", "message": "Merge branch 'early-access' into early-access-studybuilder-jsp-styleguide-changes", "committedDate": "2020-06-22T13:05:02Z", "type": "commit"}]}