{"pr_number": 293, "pr_title": "Updated Dockerfile and deployment.yml to install gcsfuse and dependencies", "pr_createdAt": "2020-04-30T20:12:52Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/293", "timeline": [{"oid": "536469ebd08fb29d534eaf7475030b784e2ff026", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/536469ebd08fb29d534eaf7475030b784e2ff026", "message": "Update Dockerfile", "committedDate": "2020-04-30T20:12:15Z", "type": "commit"}, {"oid": "df06bf6e3bfe961ce0dc092d7d793b812f22ed64", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/df06bf6e3bfe961ce0dc092d7d793b812f22ed64", "message": "Set securityContext and lifecycle in WCP deployment", "committedDate": "2020-04-30T20:20:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2OTkwNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/293#discussion_r418269907", "bodyText": "The \"fda_resources\" should eventually come from an environment variable. Can we add a TODO here?", "author": "kuoyuchi", "createdAt": "2020-04-30T20:29:07Z", "path": "WCP/deployment.yaml", "diffHunk": "@@ -17,6 +17,18 @@ spec:\n       containers: \n         - name: study-designer \n           image: gcr.io/heroes-hat-dev/study-designer:latest\n+          securityContext:\n+            privileged: true\n+            capabilities:\n+              add:\n+                - SYS_ADMIN\n+          lifecycle:\n+            postStart:\n+              exec:\n+                command: [\"gcsfuse\", \"-o\", \"nonempty\", \"fda_resources\", \"/usr/local/tomcat/webapps/fdaResources\"]", "originalCommit": "df06bf6e3bfe961ce0dc092d7d793b812f22ed64", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI3MjM5MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/293#discussion_r418272390", "bodyText": "Done", "author": "xueweiwu", "createdAt": "2020-04-30T20:33:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2OTkwNw=="}], "type": "inlineReview"}, {"oid": "f3422568740310afa3883bf8f098ce2ab571d665", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f3422568740310afa3883bf8f098ce2ab571d665", "message": "Added comment for \"fda_resources\"", "committedDate": "2020-04-30T20:33:31Z", "type": "commit"}]}