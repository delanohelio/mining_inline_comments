{"pr_number": 878, "pr_title": "User Management Service: Refactored code to reuse email service from common service", "pr_createdAt": "2020-09-04T14:05:41Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878", "timeline": [{"oid": "a38a8cc2a99471942e7dfed10921017954b7e461", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a38a8cc2a99471942e7dfed10921017954b7e461", "message": "Email Service integration", "committedDate": "2020-09-04T14:00:46Z", "type": "commit"}, {"oid": "6c8df4c8e53af631d1239d38ae76760189ff0013", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6c8df4c8e53af631d1239d38ae76760189ff0013", "message": "property file changes for email config", "committedDate": "2020-09-07T07:17:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwMzE4Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r484503183", "bodyText": "nit: remove new space.", "author": "zohrehj", "createdAt": "2020-09-07T15:53:32Z", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -1,9 +1,9 @@\n-#dev\n+ #dev", "originalCommit": "6c8df4c8e53af631d1239d38ae76760189ff0013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk1OTMyNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r486959327", "bodyText": "Fixed review comment.", "author": "madhurya-btc", "createdAt": "2020-09-11T10:34:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwMzE4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwMzg0OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r484503849", "bodyText": "SCIM_AUTH_URL would probably inlcude /oauth-scim-service too, no?", "author": "zohrehj", "createdAt": "2020-09-07T15:55:12Z", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -64,10 +55,10 @@ API_URL_FCM=https://fcm.googleapis.com/fcm/send\n \n #Auth Server Local\n \n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n+register.url=${SCIM_AUTH_URL}/oauth-scim-service/users", "originalCommit": "6c8df4c8e53af631d1239d38ae76760189ff0013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njg5NjEzNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r486896136", "bodyText": "@madhurya-btc ${SCIM_AUTH_URL} should include /oauth-scim-service, please remove /oauth-scim-service.", "author": "dhanyak-btc", "createdAt": "2020-09-11T09:17:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwMzg0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk1OTQzMA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r486959430", "bodyText": "Fixed review comment", "author": "madhurya-btc", "createdAt": "2020-09-11T10:34:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwMzg0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwMzkyMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r484503922", "bodyText": "same for the response server URL", "author": "zohrehj", "createdAt": "2020-09-07T15:55:24Z", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -64,10 +55,10 @@ API_URL_FCM=https://fcm.googleapis.com/fcm/send\n \n #Auth Server Local\n \n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n+register.url=${SCIM_AUTH_URL}/oauth-scim-service/users\n+auth.server.updateStatus.url=${SCIM_AUTH_URL}/oauth-scim-service/users/{userId}\n \n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n+response.server.url.participant.withdraw=http://${RESPONSE_SERVER_URL}/mystudies-response-server/participant/withdraw", "originalCommit": "6c8df4c8e53af631d1239d38ae76760189ff0013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk1OTQ3Mg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r486959472", "bodyText": "Fixed review comment.", "author": "madhurya-btc", "createdAt": "2020-09-11T10:34:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwMzkyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNDU0OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r484504549", "bodyText": "what's the difference between HYDRA_ADMIN_URL vs SCIM_AUTH_URL?", "author": "zohrehj", "createdAt": "2020-09-07T15:57:11Z", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -86,22 +77,41 @@ feedback.email=<Feedback Mail>\n \n feedback.mail.subject=<App Name> App Feedback:\n \n-feedback.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div><span>A user of the &lt;App Name&gt; mobile app has provided feedback via the app. Here&#39;s the content of the feedback:</span></div><br\\><div><span><i>$body</i></span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n+feedback.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div><span>A user of the &lt;App Name&gt; mobile app has provided feedback via the app. Here&#39;s the content of the feedback:</span></div><br\\><div><span><i>@body@</i></span></div><br\\\\><div><span>Thanks,</span><br\\><span>The @orgName@ MyStudies Support Team</span><br\\\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n \n contactus.email=<ContactUs Mail>\n \n contactus.mail.subject=<App Name> App Helpdesk:\n \n-contactus.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div style='padding-bottom:10px;'><span>A user of the &lt;App Neme&gt; mobile app has reached out this helpdesk via the &#39;Contact Us&#39; form in the mobile app. The details submitted in the form are given below:</span></div><div><div>___________________________________________</div><div style='padding-top:20px;'>First Name: $firstName</div><div style='padding-top:10px;'>Email: <a href='mailto: $email'> $email </a></div><div style='padding-top:10px;'>Subject: $subject</div><div style='padding-top:10px;padding-bottom:10px'>Message: $body</div></div><div>___________________________________________</div><div style='padding-top:10px;'><span>Please respond to the app user at the email provided.</span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n+contactus.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div style='padding-bottom:10px;'><span>A user of the &lt;App Name&gt; mobile app has reached out this helpdesk via the &#39;Contact Us&#39; form in the mobile app. The details submitted in the form are given below:</span></div><div><div>___________________________________________</div><div style='padding-top:20px;'>First Name: @firstName@</div><div style='padding-top:10px;'>Email: <a href='mailto: @email@'> @email@ </a></div><div style='padding-top:10px;'>Subject: @subject@</div><div style='padding-top:10px;padding-bottom:10px'>Message: @body@</div></div><div>___________________________________________</div><div style='padding-top:10px;'><span>Please respond to the app user at the email provided.</span></div><br\\\\><div><span>Thanks,</span><br\\\\><span>The @orgName@ MyStudies Support Team</span><br\\\\><span>-------------------------------------------</span><br\\\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n # Feedback & Contactus mail content ends\n \n-security.oauth2.client.client-id= oauth-scim-client-id\n-security.oauth2.client.client-secret= oauth-scim-client-secret\n+security.oauth2.client.client-id=${CLIENT_ID}\n+security.oauth2.client.client-secret=${SECRET_KEY}\n \n-security.oauth2.introspection_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/introspect\n-security.oauth2.token_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/token\n-security.oauth2.client.redirect-uri=http://35.193.185.224:8087/oauth-scim-service/login\n+security.oauth2.introspection_endpoint=${HYDRA_ADMIN_URL}/oauth-scim-service/oauth2/introspect\n+security.oauth2.token_endpoint=${HYDRA_ADMIN_URL}/oauth-scim-service/oauth2/token\n+security.oauth2.client.redirect-uri= http://${HYDRA_ADMIN_URL}/oauth-scim-service/login", "originalCommit": "6c8df4c8e53af631d1239d38ae76760189ff0013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njg5OTE1Nw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r486899157", "bodyText": "SCIM_AUTH_URL - for APIs such as create user, change password, reset password etc. HYDRA_ADMIN_URL to access APIs such as /token, /introspection etc from ORY Hydra.", "author": "dhanyak-btc", "createdAt": "2020-09-11T09:20:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNDU0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3MzMwMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r487873302", "bodyText": "do we expect them to be deployed on different services? and have different URLs?", "author": "zohrehj", "createdAt": "2020-09-14T12:29:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNDU0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkzMDA4MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r487930080", "bodyText": "@zohrehj OAuth Scim Service and ORY Hydra should be deployed as different services, both will have different URLs", "author": "dhanyak-btc", "createdAt": "2020-09-14T13:46:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNDU0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkyMQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r484505921", "bodyText": "why not move  into a variable to be replaced as well?\nAppName should come from the database app record associated with the study.", "author": "zohrehj", "createdAt": "2020-09-07T16:01:01Z", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -76,7 +67,7 @@ certificate.password=XXXX\n \n confirmation.mail.subject=Welcome to the <App Name> App!", "originalCommit": "6c8df4c8e53af631d1239d38ae76760189ff0013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc2ODY4NA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r487768684", "bodyText": "Please find inline comment by BA team on this change.\n This should be dynamically replaced from the app information stored in the database, depending on the app (App ID) fhat the email is being sent out for. We have a task in Track 1 (release 2) for centralization of all branding elements across platform components so that developers don't need to replace values in multiple places in the code. As part of this, elements such as app name is to be read from the database for the app in question. This should get addressed by the end of release 2.", "author": "madhurya-btc", "createdAt": "2020-09-14T09:17:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3MzcwMQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r487873701", "bodyText": "sounds good, please add a TODO with bug number here.", "author": "zohrehj", "createdAt": "2020-09-14T12:30:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkzMzUxNQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r487933515", "bodyText": "Created Issue #966 @madhurya-btc  please add this issue number in the application.properties", "author": "dhanyak-btc", "createdAt": "2020-09-14T13:49:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAzMDM2OQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r488030369", "bodyText": "Added TODO (966) in application.properties", "author": "madhurya-btc", "createdAt": "2020-09-14T15:36:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAzMzY2MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r488033661", "bodyText": "please add a sentence describing the TODO.\n# TODO(#966): replace AppName with app_info.name\nsimilar to the one you left for orgID", "author": "zohrehj", "createdAt": "2020-09-14T15:41:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkyMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM0NTEyNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r489345127", "bodyText": "Fixed review comment.", "author": "madhurya-btc", "createdAt": "2020-09-16T10:50:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTkyMQ=="}], "type": "inlineReview"}, {"oid": "c804b47b98d8dcb0e139018dc55397511c73287e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c804b47b98d8dcb0e139018dc55397511c73287e", "message": "Fixed review comment", "committedDate": "2020-09-11T10:33:38Z", "type": "commit"}, {"oid": "f6d57de08f233e0319804612d445119f5da8273d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f6d57de08f233e0319804612d445119f5da8273d", "message": "Email service with argument captor", "committedDate": "2020-09-11T13:16:11Z", "type": "commit"}, {"oid": "6ca64b74fd582aec6133db1cd07be059c1c940f0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6ca64b74fd582aec6133db1cd07be059c1c940f0", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-11T14:09:14Z", "type": "commit"}, {"oid": "259f44af4b1dc7887f373b12a771fbb8658355b9", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/259f44af4b1dc7887f373b12a771fbb8658355b9", "message": "Merge branch 'user-mgmt-email-service-with-common-service' of https://github.com/GoogleCloudPlatform/fda-mystudies into user-mgmt-email-service-with-common-service\n\n# Conflicts:\n#\tcommon-modules/common-tests/src/main/java/com/google/cloud/healthcare/fdamystudies/common/BaseMockIT.java", "committedDate": "2020-09-11T14:23:23Z", "type": "commit"}, {"oid": "b35d12b687ac32905102fbaf62dce67e972d5f7b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b35d12b687ac32905102fbaf62dce67e972d5f7b", "message": "build issue", "committedDate": "2020-09-11T14:29:07Z", "type": "commit"}, {"oid": "b4ba2088207cdec5c5ca05b52a8392e16e3f2d46", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b4ba2088207cdec5c5ca05b52a8392e16e3f2d46", "message": "email service argument captor", "committedDate": "2020-09-11T14:37:29Z", "type": "commit"}, {"oid": "7c570d386cb7f84e87324cafb83e11e8bc6158c3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7c570d386cb7f84e87324cafb83e11e8bc6158c3", "message": "Property file value", "committedDate": "2020-09-14T13:39:16Z", "type": "commit"}, {"oid": "c670f657b00be9f230f5600cd3025834d00c91d8", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c670f657b00be9f230f5600cd3025834d00c91d8", "message": "Added todo", "committedDate": "2020-09-14T15:35:18Z", "type": "commit"}, {"oid": "77fe2eb86b252f0ee0a3bb23dcab46704986431d", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/77fe2eb86b252f0ee0a3bb23dcab46704986431d", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-14T15:36:34Z", "type": "commit"}, {"oid": "0510a479f908e2ca48006530c6a7cdd77f93c60c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0510a479f908e2ca48006530c6a7cdd77f93c60c", "message": "TODO comment", "committedDate": "2020-09-15T05:56:59Z", "type": "commit"}, {"oid": "0b22f67aad51a28c09fa95dde44fe2b49e72658f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0b22f67aad51a28c09fa95dde44fe2b49e72658f", "message": "Merge branch 'user-mgmt-email-service-with-common-service' of https://github.com/GoogleCloudPlatform/fda-mystudies into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-15T05:58:27Z", "type": "commit"}, {"oid": "5a8645020dd04deeefcff45121f85a0c4e0e4a42", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5a8645020dd04deeefcff45121f85a0c4e0e4a42", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-16T10:49:06Z", "type": "commit"}, {"oid": "eff155e89674c9f9a0640d0ee8ed86b125fefcfe", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/eff155e89674c9f9a0640d0ee8ed86b125fefcfe", "message": "resolved conflicts", "committedDate": "2020-09-16T11:25:33Z", "type": "commit"}, {"oid": "e33120ae77c71758506ed0ea8a51572dfb8a866c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e33120ae77c71758506ed0ea8a51572dfb8a866c", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-22T12:21:32Z", "type": "commit"}, {"oid": "e0d5911a035155a3fefe4bf88326f7da571cb48a", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e0d5911a035155a3fefe4bf88326f7da571cb48a", "message": "resolved conflicts", "committedDate": "2020-09-22T12:55:04Z", "type": "commit"}, {"oid": "ae7799a52d17dad881d993d4c1626b6325af9feb", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ae7799a52d17dad881d993d4c1626b6325af9feb", "message": "user management", "committedDate": "2020-09-22T13:16:34Z", "type": "commit"}, {"oid": "6ffdf1f6e63323505642fcfe0d7d1e9dc9fb21cd", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6ffdf1f6e63323505642fcfe0d7d1e9dc9fb21cd", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-24T14:12:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjU5MA==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r494356590", "bodyText": "redirect URl is created based on auth base url in other components, this should match what we have in other services/.", "author": "zohrehj", "createdAt": "2020-09-24T14:17:00Z", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -86,26 +78,42 @@ feedback.email=<Feedback Mail>\n \n feedback.mail.subject=<App Name> App Feedback:\n \n-feedback.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div><span>A user of the &lt;App Name&gt; mobile app has provided feedback via the app. Here&#39;s the content of the feedback:</span></div><br\\><div><span><i>$body</i></span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n+feedback.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div><span>A user of the &lt;App Name&gt; mobile app has provided feedback via the app. Here&#39;s the content of the feedback:</span></div><br\\><div><span><i>@body@</i></span></div><br\\\\><div><span>Thanks,</span><br\\><span>The @orgName@ MyStudies Support Team</span><br\\\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n \n contactus.email=<ContactUs Mail>\n \n contactus.mail.subject=<App Name> App Helpdesk:\n \n-contactus.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div style='padding-bottom:10px;'><span>A user of the &lt;App Neme&gt; mobile app has reached out this helpdesk via the &#39;Contact Us&#39; form in the mobile app. The details submitted in the form are given below:</span></div><div><div>___________________________________________</div><div style='padding-top:20px;'>First Name: $firstName</div><div style='padding-top:10px;'>Email: <a href='mailto: $email'> $email </a></div><div style='padding-top:10px;'>Subject: $subject</div><div style='padding-top:10px;padding-bottom:10px'>Message: $body</div></div><div>___________________________________________</div><div style='padding-top:10px;'><span>Please respond to the app user at the email provided.</span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n+contactus.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div style='padding-bottom:10px;'><span>A user of the &lt;App Name&gt; mobile app has reached out this helpdesk via the &#39;Contact Us&#39; form in the mobile app. The details submitted in the form are given below:</span></div><div><div>___________________________________________</div><div style='padding-top:20px;'>First Name: @firstName@</div><div style='padding-top:10px;'>Email: <a href='mailto: @email@'> @email@ </a></div><div style='padding-top:10px;'>Subject: @subject@</div><div style='padding-top:10px;padding-bottom:10px'>Message: @body@</div></div><div>___________________________________________</div><div style='padding-top:10px;'><span>Please respond to the app user at the email provided.</span></div><br\\\\><div><span>Thanks,</span><br\\\\><span>The @orgName@ MyStudies Support Team</span><br\\\\><span>-------------------------------------------</span><br\\\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n # Feedback & Contactus mail content ends\n \n-security.oauth2.client.client-id= oauth-scim-client-id\n-security.oauth2.client.client-secret= oauth-scim-client-secret\n+security.oauth2.client.client-id=${CLIENT_ID}\n+security.oauth2.client.client-secret=${SECRET_KEY}\n \n-security.oauth2.introspection_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/introspect\n-security.oauth2.token_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/token\n-security.oauth2.client.redirect-uri=http://35.193.185.224:8087/oauth-scim-service/login\n+security.oauth2.introspection_endpoint=${HYDRA_ADMIN_URL}/oauth2/introspect\n+security.oauth2.token_endpoint=${SCIM_AUTH_URL}/oauth2/token\n+security.oauth2.client.redirect-uri= ${LOGIN_REDIRECT_URL}", "originalCommit": "6ffdf1f6e63323505642fcfe0d7d1e9dc9fb21cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4OTYwMw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r494789603", "bodyText": "@madhurya-btc Please change the value as below:\nsecurity.oauth2.client.redirect-uri=${SCIM_AUTH_URL}/callback", "author": "dhanyak-btc", "createdAt": "2020-09-25T07:06:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjU5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDg5MDg1Ng==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r494890856", "bodyText": "Fixed review comment.", "author": "madhurya-btc", "createdAt": "2020-09-25T10:15:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1NjU5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1ODYyNQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r494358625", "bodyText": "please add default values in comment; for mail protocol, what other protocols would work? if we haven't tested any other, then I would prefer to leave smtp hardcoded instead.", "author": "zohrehj", "createdAt": "2020-09-24T14:19:33Z", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -86,26 +78,42 @@ feedback.email=<Feedback Mail>\n \n feedback.mail.subject=<App Name> App Feedback:\n \n-feedback.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div><span>A user of the &lt;App Name&gt; mobile app has provided feedback via the app. Here&#39;s the content of the feedback:</span></div><br\\><div><span><i>$body</i></span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n+feedback.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div><span>A user of the &lt;App Name&gt; mobile app has provided feedback via the app. Here&#39;s the content of the feedback:</span></div><br\\><div><span><i>@body@</i></span></div><br\\\\><div><span>Thanks,</span><br\\><span>The @orgName@ MyStudies Support Team</span><br\\\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n \n contactus.email=<ContactUs Mail>\n \n contactus.mail.subject=<App Name> App Helpdesk:\n \n-contactus.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div style='padding-bottom:10px;'><span>A user of the &lt;App Neme&gt; mobile app has reached out this helpdesk via the &#39;Contact Us&#39; form in the mobile app. The details submitted in the form are given below:</span></div><div><div>___________________________________________</div><div style='padding-top:20px;'>First Name: $firstName</div><div style='padding-top:10px;'>Email: <a href='mailto: $email'> $email </a></div><div style='padding-top:10px;'>Subject: $subject</div><div style='padding-top:10px;padding-bottom:10px'>Message: $body</div></div><div>___________________________________________</div><div style='padding-top:10px;'><span>Please respond to the app user at the email provided.</span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n+contactus.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div style='padding-bottom:10px;'><span>A user of the &lt;App Name&gt; mobile app has reached out this helpdesk via the &#39;Contact Us&#39; form in the mobile app. The details submitted in the form are given below:</span></div><div><div>___________________________________________</div><div style='padding-top:20px;'>First Name: @firstName@</div><div style='padding-top:10px;'>Email: <a href='mailto: @email@'> @email@ </a></div><div style='padding-top:10px;'>Subject: @subject@</div><div style='padding-top:10px;padding-bottom:10px'>Message: @body@</div></div><div>___________________________________________</div><div style='padding-top:10px;'><span>Please respond to the app user at the email provided.</span></div><br\\\\><div><span>Thanks,</span><br\\\\><span>The @orgName@ MyStudies Support Team</span><br\\\\><span>-------------------------------------------</span><br\\\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n # Feedback & Contactus mail content ends\n \n-security.oauth2.client.client-id= oauth-scim-client-id\n-security.oauth2.client.client-secret= oauth-scim-client-secret\n+security.oauth2.client.client-id=${CLIENT_ID}\n+security.oauth2.client.client-secret=${SECRET_KEY}\n \n-security.oauth2.introspection_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/introspect\n-security.oauth2.token_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/token\n-security.oauth2.client.redirect-uri=http://35.193.185.224:8087/oauth-scim-service/login\n+security.oauth2.introspection_endpoint=${HYDRA_ADMIN_URL}/oauth2/introspect\n+security.oauth2.token_endpoint=${SCIM_AUTH_URL}/oauth2/token\n+security.oauth2.client.redirect-uri= ${LOGIN_REDIRECT_URL}\n \n spring.main.allow-bean-definition-overriding=true\n \n org.name = Org Name\n \n+# mail smtp configs\n+spring.mail.default-encoding=UTF-8\n+spring.mail.host=${MAIL_HOST}\n+spring.mail.username=${MAIL_USERNAME}\n+spring.mail.password=${MAIL_PASSWORD}\n+spring.mail.port=${MAIL_PORT}\n+spring.mail.protocol=${MAIL_PROTOCOL}", "originalCommit": "6ffdf1f6e63323505642fcfe0d7d1e9dc9fb21cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4ODAyNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r494788027", "bodyText": "@madhurya-btc please add the comments to properties and put hardcoded values. Also update these properties on other services and raise one more PR.\n# The default port: 587 for smtp protocol\nspring.mail.port=587\n\n# Email Protocols - POP3, SMTP and IMAP, The default protocol: 'smtp'.\nspring.mail.protocol=smtp", "author": "dhanyak-btc", "createdAt": "2020-09-25T07:03:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1ODYyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDg5MjgyOQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/878#discussion_r494892829", "bodyText": "Fixed review comment. Created an issue #1030 for other service changes", "author": "madhurya-btc", "createdAt": "2020-09-25T10:20:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM1ODYyNQ=="}], "type": "inlineReview"}, {"oid": "a42b3b4c8184555b415368b7746f3cbdc0995f63", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a42b3b4c8184555b415368b7746f3cbdc0995f63", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-24T16:19:49Z", "type": "commit"}, {"oid": "e4e5a0217dd6b6ca410ab6e220261bc7149f5d00", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e4e5a0217dd6b6ca410ab6e220261bc7149f5d00", "message": "review comment fix", "committedDate": "2020-09-25T08:17:54Z", "type": "commit"}, {"oid": "c1e732f409083c1a2377915f75f712fd966261f6", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c1e732f409083c1a2377915f75f712fd966261f6", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-25T10:15:26Z", "type": "commit"}, {"oid": "396bc560c4b6d47d5a69d5d7fe15dd8fc55b08c6", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/396bc560c4b6d47d5a69d5d7fe15dd8fc55b08c6", "message": "Merge branch 'develop' into user-mgmt-email-service-with-common-service", "committedDate": "2020-09-25T14:12:31Z", "type": "commit"}]}