{"pr_number": 1697, "pr_title": "Fixed issue #1562 [PM] Users > Edit user details > 'Delete invitation' button for users with Invited status", "pr_createdAt": "2020-10-28T16:32:10Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1697", "timeline": [{"oid": "b46a8263cdf7fd1f24df881d58de35e080423b29", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b46a8263cdf7fd1f24df881d58de35e080423b29", "message": "Fixed issue  #1562 [PM] Users > Edit user details > 'Delete invitation' button for users with Invited status #1562\n\nFixed issue  #1562 [PM] Users > Edit user details > 'Delete invitation' button for users with Invited status", "committedDate": "2020-10-28T16:25:50Z", "type": "commit"}, {"oid": "be63d8a48bbc3e0eca837cccc0a07b34f7f3c855", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/be63d8a48bbc3e0eca837cccc0a07b34f7f3c855", "message": "Code format\n\nCode format", "committedDate": "2020-10-28T16:27:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc0OTAyMg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1697#discussion_r513749022", "bodyText": "are you setting the same user as both superadmin and invited?\nlet's not do that. otherwise any future change in superadmin functionality and/or additional safety checks will break your test.", "author": "zohrehj", "createdAt": "2020-10-28T20:46:11Z", "path": "participant-manager-datastore/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileControllerTest.java", "diffHunk": "@@ -532,6 +533,83 @@ public void shouldReturnBadRequestForDeactivateUser() throws Exception {\n     verifyTokenIntrospectRequest();\n   }\n \n+  @Test\n+  public void shouldDeleteInvitedUser() throws Exception {\n+    // Step 1: set user status as invited\n+    userRegAdminEntity.setStatus(CommonConstants.INVITED_STATUS);\n+    testDataHelper.getUserRegAdminRepository().saveAndFlush(userRegAdminEntity);\n+\n+    // Step 2: Call the API and expect INVITATION_DELETED_SUCCESSFULLY message\n+    HttpHeaders headers = testDataHelper.newCommonHeaders();\n+    headers.add(\"userId\", userRegAdminEntity.getId());", "originalCommit": "be63d8a48bbc3e0eca837cccc0a07b34f7f3c855", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDE2NzU2MQ==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1697#discussion_r514167561", "bodyText": "Fixed review comment", "author": "harisboston", "createdAt": "2020-10-29T10:51:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzc0OTAyMg=="}], "type": "inlineReview"}, {"oid": "a16d8a13a4fa36101011a750bd7be5d16506435b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a16d8a13a4fa36101011a750bd7be5d16506435b", "message": "Fixed review comment of  'Delete invitation' button for users with Invited status PR #1697\n\nFixed review comment of  'Delete invitation' button for users with Invited status PR #1697", "committedDate": "2020-10-29T10:45:26Z", "type": "commit"}, {"oid": "0698e1db2447bdf8a4fcf25f1a5387f5cf18c36f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0698e1db2447bdf8a4fcf25f1a5387f5cf18c36f", "message": "Merge branch 'develop' into participant-datastore-delete-invitation-issue-1562", "committedDate": "2020-11-18T05:54:32Z", "type": "commit"}, {"oid": "0de18bb56d4d64c29b548424e60f99ac8055eec4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0de18bb56d4d64c29b548424e60f99ac8055eec4", "message": "Merge branch 'develop' into participant-datastore-delete-invitation-issue-1562", "committedDate": "2020-11-18T15:43:08Z", "type": "commit"}]}