{"pr_number": 1578, "pr_title": "[eclipse/xtext-eclipse#1547] enhance ecore2xtext and xtext2ecore", "pr_createdAt": "2020-09-28T08:09:59Z", "pr_url": "https://github.com/eclipse/xtext-core/pull/1578", "timeline": [{"oid": "f64df760eb61a052f3249e14dff71e181a8fa6d4", "url": "https://github.com/eclipse/xtext-core/commit/f64df760eb61a052f3249e14dff71e181a8fa6d4", "message": "[eclipse/xtext-eclipse#1547] enhance ecore2xtext generator & xtext2ecore transformer for reserved keywords in enums\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-09-28T08:10:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2MjM5MA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495762390", "bodyText": "wonder why i dont see any change in ide parser", "author": "cdietrich", "createdAt": "2020-09-28T08:12:36Z", "path": "org.eclipse.xtext.xtext.ide/src-gen/org/eclipse/xtext/xtext/ide/contentassist/antlr/internal/InternalXtext.g", "diffHunk": "@@ -9874,9 +9874,9 @@ rule__EnumLiteralDeclaration__EnumLiteralAssignment_0\n \t(\n \t\t{ before(grammarAccess.getEnumLiteralDeclarationAccess().getEnumLiteralEEnumLiteralCrossReference_0_0()); }\n \t\t(\n-\t\t\t{ before(grammarAccess.getEnumLiteralDeclarationAccess().getEnumLiteralEEnumLiteralIDTerminalRuleCall_0_0_1()); }", "originalCommit": "f64df760eb61a052f3249e14dff71e181a8fa6d4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2NTgzNQ==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495765835", "bodyText": "How do you generate the code?", "author": "szarnekow", "createdAt": "2020-09-28T08:19:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2MjM5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2NjUxMA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495766510", "bodyText": "e.g. I use these args in the launch config:\nsrc/org/eclipse/xtext/xtext/bootstrap/GenerateXtext.mwe2 --param eclipseProjectPath=${project_loc:/org.eclipse.xtext.xtext.ui}\nI suspect that the UI/IDE code was generated to another location.", "author": "szarnekow", "createdAt": "2020-09-28T08:20:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2MjM5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2ODkzMA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495768930", "bodyText": "Something else: isn't this the IDE parser?", "author": "szarnekow", "createdAt": "2020-09-28T08:24:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2MjM5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NDEzNg==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495774136", "bodyText": "i just ran GenerateXtext from eclipse", "author": "cdietrich", "createdAt": "2020-09-28T08:33:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2MjM5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NDQ1NA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495774454", "bodyText": "ahhh it actually is", "author": "cdietrich", "createdAt": "2020-09-28T08:34:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2MjM5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc3NTMwNA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495775304", "bodyText": "\ud83d\udc4d", "author": "szarnekow", "createdAt": "2020-09-28T08:35:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc2MjM5MA=="}], "type": "inlineReview"}, {"oid": "25709c73de1de0d2fd2dd37a7746dddbaad1567b", "url": "https://github.com/eclipse/xtext-core/commit/25709c73de1de0d2fd2dd37a7746dddbaad1567b", "message": "[eclipse/xtext-eclipse#1547] enhance ecore2xtext generator & xtext2ecore transformer for reserved keywords in enums\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-09-28T08:32:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NDE1Nw==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495784157", "bodyText": "Quoting shouldn't be necessary anymore given that we call ValidID now.", "author": "szarnekow", "createdAt": "2020-09-28T08:50:50Z", "path": "org.eclipse.xtext.tests/xtend-gen/org/eclipse/xtext/xtext/ecoreInference/Xtext2EcoreTransformerTest.java", "diffHunk": "@@ -2091,6 +2095,33 @@ public void testBug296496_02() throws Exception {\n       this.<EStructuralFeature>feature(createdType, \"otherEnumFeature\").getEType());\n   }\n   \n+  @Test\n+  public void testEclipseIssue1547() throws Exception {\n+    StringConcatenation _builder = new StringConcatenation();\n+    _builder.append(\"grammar test with org.eclipse.xtext.common.Terminals\");\n+    _builder.newLine();\n+    _builder.append(\"generate myDsl \\'uri\\'\");\n+    _builder.newLine();\n+    _builder.append(\"Model: element=Element;\");\n+    _builder.newLine();\n+    _builder.append(\"enum Element : ^false=\\'false\\' | ^true=\\'true\\';\");", "originalCommit": "25709c73de1de0d2fd2dd37a7746dddbaad1567b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NDU3Mg==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495784572", "bodyText": "For other IDs it is necessary though.", "author": "szarnekow", "createdAt": "2020-09-28T08:51:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NDE1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NDYyNA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495784624", "bodyText": "?", "author": "cdietrich", "createdAt": "2020-09-28T08:51:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NDE1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NDk2OQ==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495784969", "bodyText": "ok will test both.", "author": "cdietrich", "createdAt": "2020-09-28T08:52:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NDE1Nw=="}], "type": "inlineReview"}, {"oid": "aca7dce376f8d51303a93df30462cc24c3426a37", "url": "https://github.com/eclipse/xtext-core/commit/aca7dce376f8d51303a93df30462cc24c3426a37", "message": "[eclipse/xtext-eclipse#1547] enhance ecore2xtext generator & xtext2ecore transformer for reserved keywords in enums\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-09-28T08:52:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NTg1Nw==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495785857", "bodyText": "I see that isXtextKeyword should return true for trueand false, but it doesn't really help given how this method is used.", "author": "szarnekow", "createdAt": "2020-09-28T08:53:49Z", "path": "org.eclipse.xtext.xtext.wizard/src/org/eclipse/xtext/xtext/wizard/ecore2xtext/Ecore2XtextExtensions.xtend", "diffHunk": "@@ -172,7 +172,9 @@ class Ecore2XtextExtensions {\n \t\t\t'as',\n \t\t\t'current',\n \t\t\t'fragment',\n-\t\t\t'EOF'\n+\t\t\t'EOF',\n+\t\t\t'true',\n+\t\t\t'false'", "originalCommit": "aca7dce376f8d51303a93df30462cc24c3426a37", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NzYyMA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495787620", "bodyText": "see org.eclipse.xtext.xtext.wizard.ecore2xtext.Ecore2XtextExtensions.quoteIfNeccesary(String)", "author": "cdietrich", "createdAt": "2020-09-28T08:56:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NTg1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4ODQ0MA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495788440", "bodyText": "looks like we dont have a consistent concept for when to use ^ there", "author": "cdietrich", "createdAt": "2020-09-28T08:58:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NTg1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4ODY2NA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495788664", "bodyText": "(maybe for some backwards compatibility, so i would keep it for consistency", "author": "cdietrich", "createdAt": "2020-09-28T08:58:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NTg1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc5MDAyNw==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495790027", "bodyText": "so as we use validID everywhere we also could drop it here", "author": "cdietrich", "createdAt": "2020-09-28T09:00:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NTg1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgwNTQ4OA==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495805488", "bodyText": "so as we use validID everywhere we also could drop it here\n\n\ud83d\udc4d", "author": "szarnekow", "createdAt": "2020-09-28T09:26:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NTg1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTgxMDgzMQ==", "url": "https://github.com/eclipse/xtext-core/pull/1578#discussion_r495810831", "bodyText": "done", "author": "cdietrich", "createdAt": "2020-09-28T09:35:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTc4NTg1Nw=="}], "type": "inlineReview"}, {"oid": "56de6162c06c0ac68cb5359f807126b96f5ebf8a", "url": "https://github.com/eclipse/xtext-core/commit/56de6162c06c0ac68cb5359f807126b96f5ebf8a", "message": "[eclipse/xtext-eclipse#1547] enhance ecore2xtext generator & xtext2ecore transformer for reserved keywords in enums\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-09-28T09:35:33Z", "type": "commit"}, {"oid": "56de6162c06c0ac68cb5359f807126b96f5ebf8a", "url": "https://github.com/eclipse/xtext-core/commit/56de6162c06c0ac68cb5359f807126b96f5ebf8a", "message": "[eclipse/xtext-eclipse#1547] enhance ecore2xtext generator & xtext2ecore transformer for reserved keywords in enums\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>", "committedDate": "2020-09-28T09:35:33Z", "type": "forcePushed"}]}