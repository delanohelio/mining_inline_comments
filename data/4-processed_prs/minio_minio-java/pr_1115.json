{"pr_number": 1115, "pr_title": "build: upgrade shadow v6.1.0", "pr_createdAt": "2020-11-14T18:10:28Z", "pr_url": "https://github.com/minio/minio-java/pull/1115", "timeline": [{"oid": "e7dde5cf39c38e9d299e42c733c8d0ade4dc8206", "url": "https://github.com/minio/minio-java/commit/e7dde5cf39c38e9d299e42c733c8d0ade4dc8206", "message": "Upgrade to Shadow 6.1.0\n\nThis commit simplifies the publishing configuration by upgrading Shadow\nto 6.1.0 and using Gradle's built-in javadocJar/sourcesJar tasks.", "committedDate": "2020-11-14T18:09:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ0NjczNA==", "url": "https://github.com/minio/minio-java/pull/1115#discussion_r523446734", "bodyText": "This is unnecessary as far as I can see.", "author": "marcphilipp", "createdAt": "2020-11-14T18:12:02Z", "path": "build.gradle", "diffHunk": "@@ -184,18 +179,11 @@ project(':api') {\n         }\n     }\n \n-    artifacts {\n-        archives javadocJar, sourcesJar, shadowJar\n-    }\n-", "originalCommit": "e7dde5cf39c38e9d299e42c733c8d0ade4dc8206", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ0ODIyMg==", "url": "https://github.com/minio/minio-java/pull/1115#discussion_r523448222", "bodyText": "Actually this is needed @marcphilipp", "author": "harshavardhana", "createdAt": "2020-11-14T18:28:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ0NjczNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ0Njc1NQ==", "url": "https://github.com/minio/minio-java/pull/1115#discussion_r523446755", "bodyText": "Automatically done by Gradle/Shadow.", "author": "marcphilipp", "createdAt": "2020-11-14T18:12:16Z", "path": "build.gradle", "diffHunk": "@@ -184,18 +179,11 @@ project(':api') {\n         }\n     }\n \n-    artifacts {\n-        archives javadocJar, sourcesJar, shadowJar\n-    }\n-\n     publishing {\n         publications {\n             mavenJava(MavenPublication) {\n                 artifactId archivesBaseName\n                 from components.java\n-                artifact sourcesJar\n-                artifact shadowJar\n-                artifact javadocJar", "originalCommit": "e7dde5cf39c38e9d299e42c733c8d0ade4dc8206", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ0Njc4NA==", "url": "https://github.com/minio/minio-java/pull/1115#discussion_r523446784", "bodyText": "Does the same as before bu uses Gradle's built-in tasks.", "author": "marcphilipp", "createdAt": "2020-11-14T18:12:40Z", "path": "build.gradle", "diffHunk": "@@ -156,14 +156,9 @@ project(':api') {\n         }\n     }\n \n-    task sourcesJar(type: Jar) {\n-        classifier = 'sources'\n-        from sourceSets.main.allJava\n-    }\n-\n-    task javadocJar(type: Jar, dependsOn: javadoc) {\n-        classifier = 'javadoc'\n-        from javadoc.destinationDir\n+    java {\n+        withJavadocJar()\n+        withSourcesJar()", "originalCommit": "e7dde5cf39c38e9d299e42c733c8d0ade4dc8206", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ0ODI4Ng==", "url": "https://github.com/minio/minio-java/pull/1115#discussion_r523448286", "bodyText": "artifacts {\t\n    archives javadocJar, sourcesJar, shadowJar\t\n}", "author": "harshavardhana", "createdAt": "2020-11-14T18:29:01Z", "path": "build.gradle", "diffHunk": "@@ -184,18 +179,11 @@ project(':api') {\n         }\n     }\n \n-    artifacts {\n-        archives javadocJar, sourcesJar, shadowJar\n-    }\n-", "originalCommit": "e7dde5cf39c38e9d299e42c733c8d0ade4dc8206", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d484d9c839e0d72942e398a76f5bc1b185d74ed5", "url": "https://github.com/minio/minio-java/commit/d484d9c839e0d72942e398a76f5bc1b185d74ed5", "message": "Revert change to artifacts", "committedDate": "2020-11-15T14:02:26Z", "type": "commit"}]}