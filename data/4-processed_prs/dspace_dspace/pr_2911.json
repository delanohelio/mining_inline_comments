{"pr_number": 2911, "pr_title": "[Issue 2800] workflowgroup collection links", "pr_createdAt": "2020-07-30T07:40:15Z", "pr_url": "https://github.com/DSpace/DSpace/pull/2911", "timeline": [{"oid": "239bc5271d248923cf65df277ccfc9a4a4244860", "url": "https://github.com/DSpace/DSpace/commit/239bc5271d248923cf65df277ccfc9a4a4244860", "message": "[Issue: 2800] Put dynamic workflowgroup links on Collections in an array", "committedDate": "2020-07-22T09:31:51Z", "type": "commit"}, {"oid": "338764b0462f59d3deff7054711978747131ded2", "url": "https://github.com/DSpace/DSpace/commit/338764b0462f59d3deff7054711978747131ded2", "message": "[Task 72222] fixed a bug with the links after the implementation of the array dynamic workflowgroup links", "committedDate": "2020-07-29T11:00:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcwNDkzOQ==", "url": "https://github.com/DSpace/DSpace/pull/2911#discussion_r463704939", "bodyText": "While this entire for loop should work, just a note that this can be simplified in Java 8+ like this:\n// If a link of this name doesn't already exist in the list, add it\nif (!list.stream().anyMatch((l -> l.getName().equalsIgnoreCase(name)))) {\n    super.add(link);\n}\n\nIf you prefer your manner, that's fine. It'll work.  Just noting an opportunity for code simplification here.", "author": "tdonohue", "createdAt": "2020-07-31T16:18:48Z", "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/model/hateoas/HALResource.java", "diffHunk": "@@ -49,6 +51,20 @@ public void setPageHeader(EmbeddedPageHeader page) {\n     public EntityModel<T> add(Link link) {\n         if (!hasLink(link.getRel())) {\n             return super.add(link);\n+        } else {\n+            String name = link.getName();\n+            if (StringUtils.isNotBlank(name)) {\n+                List<Link> list = this.getLinks(link.getRel());\n+                boolean doesNameExist = false;\n+                for (Link existingLink : list) {", "originalCommit": "338764b0462f59d3deff7054711978747131ded2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM0OTAzOA==", "url": "https://github.com/DSpace/DSpace/pull/2911#discussion_r466349038", "bodyText": "@tdonohue Thanks for this point of feedback, we altered the code in this manner (& also merged the latest master into this branch).", "author": "KevinVdV", "createdAt": "2020-08-06T11:33:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcwNDkzOQ=="}], "type": "inlineReview"}, {"oid": "9de632d6597a87108dcb61db62e08b1d3b4da708", "url": "https://github.com/DSpace/DSpace/commit/9de632d6597a87108dcb61db62e08b1d3b4da708", "message": "Merge remote-tracking branch 'dspace/main' into issue-2800-workflowgroup-collection-links", "committedDate": "2020-08-06T09:22:25Z", "type": "commit"}, {"oid": "61d44087fd6d8b8e9f035e5962fedcde8ef8ea7b", "url": "https://github.com/DSpace/DSpace/commit/61d44087fd6d8b8e9f035e5962fedcde8ef8ea7b", "message": "[Task 72222] simplified the for loop in halResource to use java8 stream", "committedDate": "2020-08-06T10:25:11Z", "type": "commit"}]}