{"pr_number": 2924, "pr_title": "[Issue: 2821] Metadata export script file parameter removed from REST", "pr_createdAt": "2020-08-07T12:00:58Z", "pr_url": "https://github.com/DSpace/DSpace/pull/2924", "timeline": [{"oid": "bbdc47fbbf1f458a3311900e12a7338a86d56a3f", "url": "https://github.com/DSpace/DSpace/commit/bbdc47fbbf1f458a3311900e12a7338a86d56a3f", "message": "[Task 72215] removed the eperson flag from the REST metadata import script whilst leaving cli unaltered", "committedDate": "2020-07-28T14:16:05Z", "type": "commit"}, {"oid": "8df7e572b53550103c2969f6e4f64d83dfd85338", "url": "https://github.com/DSpace/DSpace/commit/8df7e572b53550103c2969f6e4f64d83dfd85338", "message": "[Task 72215] small bugfix in MetadataImport scripts", "committedDate": "2020-07-29T07:05:13Z", "type": "commit"}, {"oid": "8f384deca7863240d095dfb4ad473c035302b21a", "url": "https://github.com/DSpace/DSpace/commit/8f384deca7863240d095dfb4ad473c035302b21a", "message": "[Task 72215] made sure that the script rest calls in tests are single threaded and fixed CsvImportIT tests", "committedDate": "2020-07-30T13:58:54Z", "type": "commit"}, {"oid": "fd63d6216e88ee3299f5872ff489a672510ee39c", "url": "https://github.com/DSpace/DSpace/commit/fd63d6216e88ee3299f5872ff489a672510ee39c", "message": "[Task 72215] moved CSVMetadataImportreferenceIT to the dspace-api module and fixed tests", "committedDate": "2020-07-31T09:39:22Z", "type": "commit"}, {"oid": "7ea393570969737e7c7ee5ca97177086055d0c1a", "url": "https://github.com/DSpace/DSpace/commit/7ea393570969737e7c7ee5ca97177086055d0c1a", "message": "[Task 72215] minor cleanup", "committedDate": "2020-07-31T09:42:45Z", "type": "commit"}, {"oid": "9f3c8f65199504cdfc1b1eaa743797e543c5b143", "url": "https://github.com/DSpace/DSpace/commit/9f3c8f65199504cdfc1b1eaa743797e543c5b143", "message": "Merge remote-tracking branch 'dspace/main' into w2p-72215_metadataimport-email-parameter\n\nConflicts:\n\tdspace-api/src/test/java/org/dspace/app/bulkedit/MetadataImportTest.java\n\tdspace-api/src/test/java/org/dspace/app/csv/CSVMetadataImportReferenceIT.java\n\tdspace-server-webapp/src/test/java/org/dspace/app/rest/csv/CsvImportIT.java", "committedDate": "2020-08-06T09:09:48Z", "type": "commit"}, {"oid": "362064f76f516c289f4c80eb7509a5f3e7cf8b67", "url": "https://github.com/DSpace/DSpace/commit/362064f76f516c289f4c80eb7509a5f3e7cf8b67", "message": "[Task 72215] fixing issues after merge", "committedDate": "2020-08-06T09:10:00Z", "type": "commit"}, {"oid": "69b722a97f81f7f610cfb6cef7f6d3353eb096d4", "url": "https://github.com/DSpace/DSpace/commit/69b722a97f81f7f610cfb6cef7f6d3353eb096d4", "message": "[Task 72430] removed the metadata export file parameter for the REST api", "committedDate": "2020-08-06T13:56:12Z", "type": "commit"}, {"oid": "483ec64ce024b2db6c29db118607446619db3bc2", "url": "https://github.com/DSpace/DSpace/commit/483ec64ce024b2db6c29db118607446619db3bc2", "message": "[Issue: 2821] Metadata-export adding file name extension", "committedDate": "2020-08-07T11:47:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEyNDg1NA==", "url": "https://github.com/DSpace/DSpace/pull/2924#discussion_r467124854", "bodyText": "No, please.  We should have a meaningful name for the export file & not a random filename.  I had recommended we name the export file based on the UUID of the collection/community you are exporting.  So, this name should be based on the -i input value (which specifies the object we are exporting).  It can be any one of the following:\n\n[objection-uuid].csv\n[object-type]-[object-uuid].csv (e.g. COLLECTION-[uuid].csv)\nOr, one of the above based on the value of -i param.  So, for example, if exporting a Collection with handle \"123/456\" then the file might be named: 123-456.csv or COLLECTION-123-456.csv", "author": "tdonohue", "createdAt": "2020-08-07T15:52:04Z", "path": "dspace-api/src/main/java/org/dspace/app/bulkedit/MetadataExport.java", "diffHunk": "@@ -88,4 +89,8 @@ public void setup() throws ParseException {\n         }\n         handle = commandLine.getOptionValue('i');\n     }\n+\n+    protected String getFileNameForExportFile() {\n+        return UUID.randomUUID().toString() + \".csv\";", "originalCommit": "483ec64ce024b2db6c29db118607446619db3bc2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ec76371456ca1cf84a649515128b113c6d3d0eaf", "url": "https://github.com/DSpace/DSpace/commit/ec76371456ca1cf84a649515128b113c6d3d0eaf", "message": "[Task 72430] applied feedback on the filename for MetadataExport", "committedDate": "2020-08-12T08:31:16Z", "type": "commit"}]}