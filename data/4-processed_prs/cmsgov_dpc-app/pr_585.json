{"pr_number": 585, "pr_title": "DPC-1010 Vendor Id Column", "pr_createdAt": "2020-02-04T14:58:56Z", "pr_url": "https://github.com/CMSgov/dpc-app/pull/585", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDcyNjcyNw==", "url": "https://github.com/CMSgov/dpc-app/pull/585#discussion_r374726727", "bodyText": "Let's not shorten names of things unless a) the alternative is quite long and b) the shortened version is clear. In this case, vendor_id isn't long and it's much clearer than venid.", "author": "switzersc-usds", "createdAt": "2020-02-04T15:08:10Z", "path": "dpc-web/db/migrate/20200203201716_add_vendor_id_to_organizations.rb", "diffHunk": "@@ -0,0 +1,5 @@\n+class AddVendorIdToOrganizations < ActiveRecord::Migration[5.2]\n+  def change\n+    add_column :organizations, :venid, :string", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4MjgxMA==", "url": "https://github.com/CMSgov/dpc-app/pull/585#discussion_r374782810", "bodyText": "Do we really need a second migration to rename the column? Since the change hasn't been deployed yet, I think we can just leave this as a single column add.", "author": "nickrobison-usds", "createdAt": "2020-02-04T16:33:35Z", "path": "dpc-web/db/migrate/20200204152555_change_vendor_id_column_name.rb", "diffHunk": "@@ -0,0 +1,5 @@\n+class ChangeVendorIdColumnName < ActiveRecord::Migration[5.2]", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "39822344f816f470f8065a57ab471a57b2bf4d8d", "url": "https://github.com/CMSgov/dpc-app/commit/39822344f816f470f8065a57ab471a57b2bf4d8d", "message": "added vendor id ('vendor_id') column", "committedDate": "2020-02-04T19:58:02Z", "type": "commit"}, {"oid": "fb6dcb0eec8c8b6d36841dd2c88842a460c0a428", "url": "https://github.com/CMSgov/dpc-app/commit/fb6dcb0eec8c8b6d36841dd2c88842a460c0a428", "message": "fixed DPC-API's README docker-compose directions", "committedDate": "2020-02-04T19:58:25Z", "type": "commit"}, {"oid": "fb6dcb0eec8c8b6d36841dd2c88842a460c0a428", "url": "https://github.com/CMSgov/dpc-app/commit/fb6dcb0eec8c8b6d36841dd2c88842a460c0a428", "message": "fixed DPC-API's README docker-compose directions", "committedDate": "2020-02-04T19:58:25Z", "type": "forcePushed"}, {"oid": "c82fbbd4c672b17e3077d929c86ac19805158326", "url": "https://github.com/CMSgov/dpc-app/commit/c82fbbd4c672b17e3077d929c86ac19805158326", "message": "update dpc-web-test.sh for travis", "committedDate": "2020-02-04T20:51:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDkzMzMxOA==", "url": "https://github.com/CMSgov/dpc-app/pull/585#discussion_r374933318", "bodyText": "Can you explain why this change is needed now? Has it not been working previously?", "author": "nickrobison-usds", "createdAt": "2020-02-04T21:29:27Z", "path": "dpc-web-test.sh", "diffHunk": "@@ -12,7 +12,7 @@ make website\n \n # Run the tests\n docker-compose -f dpc-web/docker-compose.yml up start_core_dependencies\n-docker-compose -f dpc-web/docker-compose.yml run web bundle exec rails db:create db:migrate db:seed\n+docker-compose -f dpc-web/docker-compose.yml run web bundle exec rails db:create db:migrate RAILS_ENV=test", "originalCommit": "c82fbbd4c672b17e3077d929c86ac19805158326", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDkzNDc3NQ==", "url": "https://github.com/CMSgov/dpc-app/pull/585#discussion_r374934775", "bodyText": "Travis didn't pass the last check.\nThe error it threw was\n** [NewRelic] FATAL : Config file at /dpc-web/config/newrelic.yml doesn't include a 'test' section!\n** [NewRelic] FATAL : Config file at /dpc-web/config/newrelic.yml doesn't include a 'test' section!\nMigrations are pending. To resolve this issue, run:\n        bin/rails db:migrate RAILS_ENV=test\n\n@switzersc-usds gave me the code to fix it. As for why, I can't answer that.", "author": "Sun-Mountain", "createdAt": "2020-02-04T21:32:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDkzMzMxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDkzOTE1MQ==", "url": "https://github.com/CMSgov/dpc-app/pull/585#discussion_r374939151", "bodyText": "Ok. Sounds good. Thanks!", "author": "nickrobison-usds", "createdAt": "2020-02-04T21:42:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDkzMzMxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDk0NjgyNQ==", "url": "https://github.com/CMSgov/dpc-app/pull/585#discussion_r374946825", "bodyText": "This wasn't necessary before because the development DB and the test DB were the same. When we updated the db config to use separate DBs for dev vs test, we needed to update travis to make sure the test database gets migrated before running tests.", "author": "switzersc-usds", "createdAt": "2020-02-04T21:59:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDkzMzMxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDk0NzcwMA==", "url": "https://github.com/CMSgov/dpc-app/pull/585#discussion_r374947700", "bodyText": "Also removed db:seed because that's not necessary for tests.", "author": "switzersc-usds", "createdAt": "2020-02-04T22:00:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDkzMzMxOA=="}], "type": "inlineReview"}]}