{"pr_number": 517, "pr_title": "DPC-907 update docker scripts to redirect logs", "pr_createdAt": "2020-01-02T18:40:07Z", "pr_url": "https://github.com/CMSgov/dpc-app/pull/517", "timeline": [{"oid": "fb16d4ab7210c7482b48c498a9dba1c891e8495e", "url": "https://github.com/CMSgov/dpc-app/commit/fb16d4ab7210c7482b48c498a9dba1c891e8495e", "message": "wip redirect log output from container process to container's /var/log/", "committedDate": "2019-12-20T16:47:15Z", "type": "commit"}, {"oid": "ad13b67967f3aefb9c8e6a5b8e8708bb64abd3db", "url": "https://github.com/CMSgov/dpc-app/commit/ad13b67967f3aefb9c8e6a5b8e8708bb64abd3db", "message": "prefix log files with service name", "committedDate": "2019-12-20T18:42:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjYyMTI3Mg==", "url": "https://github.com/CMSgov/dpc-app/pull/517#discussion_r362621272", "bodyText": "Should the name of this log file have a prefix of dpc-consent?", "author": "em1", "createdAt": "2020-01-02T20:38:30Z", "path": "dpc-consent/docker/entrypoint.sh", "diffHunk": "@@ -17,4 +17,4 @@ fi\n \n echo \"Running server\"\n \n-exec ${CMDLINE} \"$@\"\n+exec ${CMDLINE} \"$@\" 2>&1 | tee -a /var/log/$(hostname).log", "originalCommit": "ad13b67967f3aefb9c8e6a5b8e8708bb64abd3db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bc34227b0196eaea087733a4bc66d689fbd58604", "url": "https://github.com/CMSgov/dpc-app/commit/bc34227b0196eaea087733a4bc66d689fbd58604", "message": "correct dpc-consent log filename", "committedDate": "2020-01-06T14:39:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg1NDIzMA==", "url": "https://github.com/CMSgov/dpc-app/pull/517#discussion_r364854230", "bodyText": "Just asking a dumb question, will this still log to stdout, or will it silently redirect everything to the log file?", "author": "nickrobison-usds", "createdAt": "2020-01-09T16:58:53Z", "path": "dpc-aggregation/docker/entrypoint.sh", "diffHunk": "@@ -29,4 +29,4 @@ if [ $DB_MIGRATION -eq 1 ]; then\n fi\n \n echo \"Running server via entrypoint!\"\n-exec ${CMDLINE} \"$@\"\n+exec ${CMDLINE} \"$@\" 2>&1 | tee -a /var/log/dpc-aggregation-$(hostname).log", "originalCommit": "bc34227b0196eaea087733a4bc66d689fbd58604", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgxNTQxNQ==", "url": "https://github.com/CMSgov/dpc-app/pull/517#discussion_r365815415", "bodyText": "Still log to stdout\nMarissas-MacBook-Pro:dpc-app mmurphy$ cat dsfaf\ncat: dsfaf: No such file or directory\nMarissas-MacBook-Pro:dpc-app mmurphy$ cat dsfaf 2>&1 | tee -a test.txt\ncat: dsfaf: No such file or directory\nMarissas-MacBook-Pro:dpc-app mmurphy$ cat test.txt\ncat: dsfaf: No such file or directory", "author": "mamurphy", "createdAt": "2020-01-13T13:55:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg1NDIzMA=="}], "type": "inlineReview"}, {"oid": "38ff68fbc985dc210909385bba1152e785005c9a", "url": "https://github.com/CMSgov/dpc-app/commit/38ff68fbc985dc210909385bba1152e785005c9a", "message": "Merge branch 'master' into rnagle/dpc-907", "committedDate": "2020-01-13T17:58:29Z", "type": "commit"}, {"oid": "f2bc8198bec11cb7bbad03d9a051f0417fbff73a", "url": "https://github.com/CMSgov/dpc-app/commit/f2bc8198bec11cb7bbad03d9a051f0417fbff73a", "message": "Merge branch 'master' into rnagle/dpc-907", "committedDate": "2020-01-13T20:10:31Z", "type": "commit"}, {"oid": "739ab66aaabb823c15bcbf50d23c21dd7971f7b1", "url": "https://github.com/CMSgov/dpc-app/commit/739ab66aaabb823c15bcbf50d23c21dd7971f7b1", "message": "DPC-907 update the containers to only redirect if the  flag isn't set", "committedDate": "2020-01-13T21:16:30Z", "type": "commit"}, {"oid": "03fdd4386594f11a62d639e423a7216a00ff0220", "url": "https://github.com/CMSgov/dpc-app/commit/03fdd4386594f11a62d639e423a7216a00ff0220", "message": "fix if then", "committedDate": "2020-01-14T14:26:26Z", "type": "commit"}, {"oid": "0caca27ce0804ed0d790e4f57eb2d467b84cd349", "url": "https://github.com/CMSgov/dpc-app/commit/0caca27ce0804ed0d790e4f57eb2d467b84cd349", "message": "Merge branch 'master' into rnagle/dpc-907", "committedDate": "2020-01-14T15:03:08Z", "type": "commit"}, {"oid": "e7ab151d31ffba5dfaf744260a97ea4c56ad892c", "url": "https://github.com/CMSgov/dpc-app/commit/e7ab151d31ffba5dfaf744260a97ea4c56ad892c", "message": "Merge branch 'master' into rnagle/dpc-907", "committedDate": "2020-01-14T15:55:11Z", "type": "commit"}]}