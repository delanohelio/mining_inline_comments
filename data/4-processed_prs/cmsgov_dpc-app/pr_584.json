{"pr_number": 584, "pr_title": "DPC-1016: Data migration to populate fhir_endpoints.registered_organization_id", "pr_createdAt": "2020-02-04T14:14:44Z", "pr_url": "https://github.com/CMSgov/dpc-app/pull/584", "timeline": [{"oid": "152a557c59a3fbc1c5bf9a107ed86a0a05ad7228", "url": "https://github.com/CMSgov/dpc-app/commit/152a557c59a3fbc1c5bf9a107ed86a0a05ad7228", "message": "Data migration for Fhir Endpoints\n\nIn DPC-954 we refactored the relationships between FhirEndpoint and\nOrganization and RegisteredOrganization. This data migration updates\nthe existing data to match the new structure and be valid.", "committedDate": "2020-02-04T14:08:59Z", "type": "commit"}, {"oid": "cb7b47cbefaa1b2a6ca4d1405fbe6df59105e7f0", "url": "https://github.com/CMSgov/dpc-app/commit/cb7b47cbefaa1b2a6ca4d1405fbe6df59105e7f0", "message": "Skip fhir endpoints if they were created after refactor deploy", "committedDate": "2020-02-04T14:17:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDcwNTg1NA==", "url": "https://github.com/CMSgov/dpc-app/pull/584#discussion_r374705854", "bodyText": "Method up has a Cognitive Complexity of 10 (exceeds 9 allowed). Consider refactoring.", "author": "codeclimate", "createdAt": "2020-02-04T14:35:39Z", "path": "dpc-web/db/migrate/20200204135210_fhir_endpoint_data_migration.rb", "diffHunk": "@@ -0,0 +1,48 @@\n+class FhirEndpointDataMigration < ActiveRecord::Migration[5.2]\n+  def up", "originalCommit": "cb7b47cbefaa1b2a6ca4d1405fbe6df59105e7f0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDcxMDg0Mw==", "url": "https://github.com/CMSgov/dpc-app/pull/584#discussion_r374710843", "bodyText": "Vote down. This is a temporary piece of code and doesn't need to be elegant. If it's too complex for what we need it for, then that will come out during code review.", "author": "switzersc-usds", "createdAt": "2020-02-04T14:43:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDcwNTg1NA=="}], "type": "inlineReview"}]}