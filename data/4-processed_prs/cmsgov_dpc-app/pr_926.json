{"pr_number": 926, "pr_title": "DPC-109: Signup Password Policy for DPC", "pr_createdAt": "2020-07-23T13:54:15Z", "pr_url": "https://github.com/CMSgov/dpc-app/pull/926", "timeline": [{"oid": "87493dece854c4eb7b6fad4c321987ea8b5addf7", "url": "https://github.com/CMSgov/dpc-app/commit/87493dece854c4eb7b6fad4c321987ea8b5addf7", "message": "init", "committedDate": "2020-07-21T14:22:03Z", "type": "commit"}, {"oid": "98218ae24248fd5e4356d68989a6d08ccc803954", "url": "https://github.com/CMSgov/dpc-app/commit/98218ae24248fd5e4356d68989a6d08ccc803954", "message": "Devise security gem installed", "committedDate": "2020-07-21T15:36:34Z", "type": "commit"}, {"oid": "2dc6066badf4bb5d3eda706963b68494c267a254", "url": "https://github.com/CMSgov/dpc-app/commit/2dc6066badf4bb5d3eda706963b68494c267a254", "message": "Password validator", "committedDate": "2020-07-21T17:30:01Z", "type": "commit"}, {"oid": "8c12eb3a271c4d21c8d792e16d65d3932cfde9c8", "url": "https://github.com/CMSgov/dpc-app/commit/8c12eb3a271c4d21c8d792e16d65d3932cfde9c8", "message": "Password check init", "committedDate": "2020-07-22T16:09:51Z", "type": "commit"}, {"oid": "0a9d981e65d5da6d144b7757fa53eeafd48131ca", "url": "https://github.com/CMSgov/dpc-app/commit/0a9d981e65d5da6d144b7757fa53eeafd48131ca", "message": "Registration password UI", "committedDate": "2020-07-22T21:05:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2ODIwMg==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r459468202", "bodyText": "Line is too long. [123/120]", "author": "codeclimate", "createdAt": "2020-07-23T13:55:55Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,14 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    if password.present?\n+      unless password.match(/(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$&*])/)\n+        errors.add :password, \"must include at least one lowercase letter, one uppercase letter, one digit, and one symbol\"", "originalCommit": "0a9d981e65d5da6d144b7757fa53eeafd48131ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2ODIwNQ==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r459468205", "bodyText": "Use =~ in places where the MatchData returned by #match will not be used.", "author": "codeclimate", "createdAt": "2020-07-23T13:55:55Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,14 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    if password.present?\n+      unless password.match(/(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$&*])/)", "originalCommit": "0a9d981e65d5da6d144b7757fa53eeafd48131ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2ODIwOA==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r459468208", "bodyText": "Use a guard clause instead of wrapping the code inside a conditional expression.", "author": "codeclimate", "createdAt": "2020-07-23T13:55:55Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,14 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    if password.present?", "originalCommit": "0a9d981e65d5da6d144b7757fa53eeafd48131ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2ODIxMA==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r459468210", "bodyText": "Prefer single-quoted strings when you don't need string interpolation or special symbols.", "author": "codeclimate", "createdAt": "2020-07-23T13:55:55Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,14 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    if password.present?\n+      unless password.match(/(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$&*])/)\n+        errors.add :password, \"must include at least one lowercase letter, one uppercase letter, one digit, and one symbol\"", "originalCommit": "0a9d981e65d5da6d144b7757fa53eeafd48131ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQ2ODIxMw==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r459468213", "bodyText": "Replace interpolated variable $& with expression #{$&}.", "author": "codeclimate", "createdAt": "2020-07-23T13:55:55Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,14 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    if password.present?\n+      unless password.match(/(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$&*])/)", "originalCommit": "0a9d981e65d5da6d144b7757fa53eeafd48131ca", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "687bc6941565d2a632bb766c5481795c4b6c6596", "url": "https://github.com/CMSgov/dpc-app/commit/687bc6941565d2a632bb766c5481795c4b6c6596", "message": "Renew password view", "committedDate": "2020-07-23T14:10:48Z", "type": "commit"}, {"oid": "963f403da3a2075af7805dee6e787a3e9fa22e2b", "url": "https://github.com/CMSgov/dpc-app/commit/963f403da3a2075af7805dee6e787a3e9fa22e2b", "message": "Renew reset (2 months)", "committedDate": "2020-07-23T15:10:59Z", "type": "commit"}, {"oid": "ddb3b530c7a75a14faf082859885edc6d2f974ad", "url": "https://github.com/CMSgov/dpc-app/commit/ddb3b530c7a75a14faf082859885edc6d2f974ad", "message": "Password archive", "committedDate": "2020-07-23T19:08:04Z", "type": "commit"}, {"oid": "e6b8b62931aa51a09b2d104544e967bcfed6360b", "url": "https://github.com/CMSgov/dpc-app/commit/e6b8b62931aa51a09b2d104544e967bcfed6360b", "message": "Regex fix", "committedDate": "2020-07-24T15:03:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDEyMzQxNg==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460123416", "bodyText": "Use =~ in places where the MatchData returned by #match will not be used.", "author": "codeclimate", "createdAt": "2020-07-24T15:24:47Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,21 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    unless password.match(/(?=.*\\d)/)", "originalCommit": "e6b8b62931aa51a09b2d104544e967bcfed6360b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDEyMzQxOQ==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460123419", "bodyText": "Use =~ in places where the MatchData returned by #match will not be used.", "author": "codeclimate", "createdAt": "2020-07-24T15:24:47Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,21 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"\n+    end\n+    unless password.match(/(?=.*[a-z])/)", "originalCommit": "e6b8b62931aa51a09b2d104544e967bcfed6360b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDEyMzQyMA==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460123420", "bodyText": "Use =~ in places where the MatchData returned by #match will not be used.", "author": "codeclimate", "createdAt": "2020-07-24T15:24:47Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,21 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"\n+    end\n+    unless password.match(/(?=.*[a-z])/)\n+      errors.add :password, \"must include at least one lowercase letter\"\n+    end\n+    unless password.match(/(?=.*[A-Z])/)", "originalCommit": "e6b8b62931aa51a09b2d104544e967bcfed6360b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDEyMzQyNA==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460123424", "bodyText": "Use =~ in places where the MatchData returned by #match will not be used.", "author": "codeclimate", "createdAt": "2020-07-24T15:24:48Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,21 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"\n+    end\n+    unless password.match(/(?=.*[a-z])/)\n+      errors.add :password, \"must include at least one lowercase letter\"\n+    end\n+    unless password.match(/(?=.*[A-Z])/)\n+      errors.add :password, \"must include at least one uppercase letter\"\n+    end\n+    unless password.match(/(?=.*[!@\\#\\$\\&*])/)", "originalCommit": "e6b8b62931aa51a09b2d104544e967bcfed6360b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDEyMzQyOA==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460123428", "bodyText": "Use match? instead of match when MatchData is not used.", "author": "codeclimate", "createdAt": "2020-07-24T15:24:48Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,21 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    unless password.match(/(?=.*\\d)/)", "originalCommit": "e6b8b62931aa51a09b2d104544e967bcfed6360b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4a7ab74a06760cdab74d3ffe5de200504fa15e14", "url": "https://github.com/CMSgov/dpc-app/commit/4a7ab74a06760cdab74d3ffe5de200504fa15e14", "message": "Test changes", "committedDate": "2020-07-24T16:47:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4MTc5NQ==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460181795", "bodyText": "Use match? instead of match when MatchData is not used.", "author": "codeclimate", "createdAt": "2020-07-24T17:10:37Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,25 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    return if password.nil?\n+\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"\n+    end\n+\n+    unless password.match(/(?=.*[a-z])/)", "originalCommit": "4a7ab74a06760cdab74d3ffe5de200504fa15e14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4MTc5Ng==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460181796", "bodyText": "Use match? instead of match when MatchData is not used.", "author": "codeclimate", "createdAt": "2020-07-24T17:10:37Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,25 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    return if password.nil?\n+\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"\n+    end\n+\n+    unless password.match(/(?=.*[a-z])/)\n+      errors.add :password, \"must include at least one lowercase letter\"\n+    end\n+\n+    unless password.match(/(?=.*[A-Z])/)", "originalCommit": "4a7ab74a06760cdab74d3ffe5de200504fa15e14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4MTc5Nw==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460181797", "bodyText": "Use match? instead of match when MatchData is not used.", "author": "codeclimate", "createdAt": "2020-07-24T17:10:37Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,25 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    return if password.nil?\n+\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"\n+    end\n+\n+    unless password.match(/(?=.*[a-z])/)\n+      errors.add :password, \"must include at least one lowercase letter\"\n+    end\n+\n+    unless password.match(/(?=.*[A-Z])/)\n+      errors.add :password, \"must include at least one uppercase letter\"\n+    end\n+    unless password.match(/(?=.*[!@\\#\\$\\&*])/)", "originalCommit": "4a7ab74a06760cdab74d3ffe5de200504fa15e14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4MTc5OA==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460181798", "bodyText": "Use a guard clause instead of wrapping the code inside a conditional expression.", "author": "codeclimate", "createdAt": "2020-07-24T17:10:37Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,25 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    return if password.nil?\n+\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"\n+    end\n+\n+    unless password.match(/(?=.*[a-z])/)\n+      errors.add :password, \"must include at least one lowercase letter\"\n+    end\n+\n+    unless password.match(/(?=.*[A-Z])/)\n+      errors.add :password, \"must include at least one uppercase letter\"\n+    end\n+    unless password.match(/(?=.*[!@\\#\\$\\&*])/)", "originalCommit": "4a7ab74a06760cdab74d3ffe5de200504fa15e14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4MTc5OQ==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460181799", "bodyText": "Prefer single-quoted strings when you don't need string interpolation or special symbols.", "author": "codeclimate", "createdAt": "2020-07-24T17:10:38Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,25 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    return if password.nil?\n+\n+    unless password.match(/(?=.*\\d)/)\n+      errors.add :password, \"must include at least one one digit\"", "originalCommit": "4a7ab74a06760cdab74d3ffe5de200504fa15e14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f166e57e4db1308b13e5b2ecec751622288c27fb", "url": "https://github.com/CMSgov/dpc-app/commit/f166e57e4db1308b13e5b2ecec751622288c27fb", "message": "Code climate notes", "committedDate": "2020-07-24T17:19:37Z", "type": "commit"}, {"oid": "39a18743a42dc9e968f8ed923d8a977553421178", "url": "https://github.com/CMSgov/dpc-app/commit/39a18743a42dc9e968f8ed923d8a977553421178", "message": "Merge branch 'master' into nicole/dpc-109-password-req", "committedDate": "2020-07-24T17:33:17Z", "type": "commit"}, {"oid": "cca42f8ab50b66a8c5373d0b30cc3c2731ab9a62", "url": "https://github.com/CMSgov/dpc-app/commit/cca42f8ab50b66a8c5373d0b30cc3c2731ab9a62", "message": "Missing paranthesis", "committedDate": "2020-07-24T17:36:45Z", "type": "commit"}, {"oid": "830c1449fc34f6d7ae5aff8da4398868349ec0e7", "url": "https://github.com/CMSgov/dpc-app/commit/830c1449fc34f6d7ae5aff8da4398868349ec0e7", "message": "Merge master", "committedDate": "2020-07-24T17:37:47Z", "type": "commit"}, {"oid": "768474e249250d54e06f51f7745ba10d7900914a", "url": "https://github.com/CMSgov/dpc-app/commit/768474e249250d54e06f51f7745ba10d7900914a", "message": "Code climate", "committedDate": "2020-07-24T17:56:51Z", "type": "commit"}, {"oid": "849b8eee4866292cc7234d4002f4b5818b573853", "url": "https://github.com/CMSgov/dpc-app/commit/849b8eee4866292cc7234d4002f4b5818b573853", "message": "Code climate", "committedDate": "2020-07-24T17:59:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDIxNzgwNQ==", "url": "https://github.com/CMSgov/dpc-app/pull/926#discussion_r460217805", "bodyText": "Use =~ in places where the MatchData returned by #match will not be used.", "author": "codeclimate", "createdAt": "2020-07-24T18:24:21Z", "path": "dpc-web/app/models/user.rb", "diffHunk": "@@ -115,6 +118,15 @@ def unassigned?\n \n   private\n \n+  def password_complexity\n+    return if password.nil?\n+\n+    return if password.match(/(?=~.*\\d)(?=~.*[a-z])(?=~.*[A-Z])(?=~.*[!@\\#\\$\\&*])/)", "originalCommit": "849b8eee4866292cc7234d4002f4b5818b573853", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "dbf6213167cd43a2c8d1a1cb3a62000e76e4d13b", "url": "https://github.com/CMSgov/dpc-app/commit/dbf6213167cd43a2c8d1a1cb3a62000e76e4d13b", "message": "Code climate", "committedDate": "2020-07-24T18:34:17Z", "type": "commit"}, {"oid": "affd39596d6afa421aea40054974e6f63b9d17e9", "url": "https://github.com/CMSgov/dpc-app/commit/affd39596d6afa421aea40054974e6f63b9d17e9", "message": "Client Token test fix", "committedDate": "2020-07-28T16:40:42Z", "type": "commit"}, {"oid": "871b02606cab2c95f8165652a4dd86c4b195348f", "url": "https://github.com/CMSgov/dpc-app/commit/871b02606cab2c95f8165652a4dd86c4b195348f", "message": "Update organization_enabled method to private", "committedDate": "2020-07-28T18:55:58Z", "type": "commit"}, {"oid": "4e8f35e6e396bb4204adfa142f87293bc70d393c", "url": "https://github.com/CMSgov/dpc-app/commit/4e8f35e6e396bb4204adfa142f87293bc70d393c", "message": "prod-sbx", "committedDate": "2020-07-29T17:03:07Z", "type": "commit"}, {"oid": "ba38d9d2236c62fbc49aeb00181c6fed3462f2dc", "url": "https://github.com/CMSgov/dpc-app/commit/ba38d9d2236c62fbc49aeb00181c6fed3462f2dc", "message": "Condtional conditional", "committedDate": "2020-07-29T17:10:19Z", "type": "commit"}, {"oid": "34b3be1af1db5edad579cf9bee00b5cf1796b345", "url": "https://github.com/CMSgov/dpc-app/commit/34b3be1af1db5edad579cf9bee00b5cf1796b345", "message": "password expired", "committedDate": "2020-07-29T19:29:40Z", "type": "commit"}, {"oid": "805729a8a6781522804958cd0911402d45701772", "url": "https://github.com/CMSgov/dpc-app/commit/805729a8a6781522804958cd0911402d45701772", "message": "High password requirements", "committedDate": "2020-07-30T16:42:31Z", "type": "commit"}, {"oid": "49b014fce628e8cbd94fde8f663efeef04907107", "url": "https://github.com/CMSgov/dpc-app/commit/49b014fce628e8cbd94fde8f663efeef04907107", "message": "Fix reset password", "committedDate": "2020-07-30T16:51:42Z", "type": "commit"}, {"oid": "0746e51d72d61183b7ceb6144b31f4b861324080", "url": "https://github.com/CMSgov/dpc-app/commit/0746e51d72d61183b7ceb6144b31f4b861324080", "message": "Merge branch 'master' into nicole/dpc-109-password-req", "committedDate": "2020-07-30T17:14:10Z", "type": "commit"}, {"oid": "9445318522cd144899feaf4c2d8050ae48c31ea7", "url": "https://github.com/CMSgov/dpc-app/commit/9445318522cd144899feaf4c2d8050ae48c31ea7", "message": "snippet", "committedDate": "2020-08-04T17:37:20Z", "type": "commit"}, {"oid": "be0778936a595553aed2fe8a73a2693ecfefcfb1", "url": "https://github.com/CMSgov/dpc-app/commit/be0778936a595553aed2fe8a73a2693ecfefcfb1", "message": "Code climate fix", "committedDate": "2020-08-04T17:43:38Z", "type": "commit"}, {"oid": "a51c767a65256cb15e9aaf0500ce40eca714c3f9", "url": "https://github.com/CMSgov/dpc-app/commit/a51c767a65256cb15e9aaf0500ce40eca714c3f9", "message": "Merge branch 'master' into nicole/dpc-109-password-req", "committedDate": "2020-08-04T18:05:03Z", "type": "commit"}]}