{"pr_number": 725, "pr_title": "DPC-1210: Generate fake identifier for provider orgs in sandbox", "pr_createdAt": "2020-04-02T19:24:21Z", "pr_url": "https://github.com/CMSgov/dpc-app/pull/725", "timeline": [{"oid": "3b28b8b79ea80d1c98030a495f8db2417ec0fa65", "url": "https://github.com/CMSgov/dpc-app/commit/3b28b8b79ea80d1c98030a495f8db2417ec0fa65", "message": "Provider_Id column added to database", "committedDate": "2020-04-02T17:02:42Z", "type": "commit"}, {"oid": "ec33faee0be66f126e1ef01acb19481c43e12f39", "url": "https://github.com/CMSgov/dpc-app/commit/ec33faee0be66f126e1ef01acb19481c43e12f39", "message": "Merge branch 'master' into nzonnenberg/dpc-1210-prov-id", "committedDate": "2020-04-02T17:32:57Z", "type": "commit"}, {"oid": "b42a10e533cc6dce500d931ae07af4b169deabb4", "url": "https://github.com/CMSgov/dpc-app/commit/b42a10e533cc6dce500d931ae07af4b169deabb4", "message": "Provider_id assigned to provider if no provider_id present\n\nIf internal user creates or updates an organization without a vendor or provider id, it will assign a unique id depending on the organization type.", "committedDate": "2020-04-02T17:46:43Z", "type": "commit"}, {"oid": "f6ec607d43ce9d2d092478d9cae0519f128d1964", "url": "https://github.com/CMSgov/dpc-app/commit/f6ec607d43ce9d2d092478d9cae0519f128d1964", "message": "Provider_Id used if not NPI present", "committedDate": "2020-04-02T18:32:10Z", "type": "commit"}, {"oid": "9a5db1d9a97f6fa11811d5b0d953e4bf2f7fbb13", "url": "https://github.com/CMSgov/dpc-app/commit/9a5db1d9a97f6fa11811d5b0d953e4bf2f7fbb13", "message": "Internal user can view Provider_Id if no NPI is provided", "committedDate": "2020-04-02T18:37:43Z", "type": "commit"}, {"oid": "914dab7d27ab1b749d26885c96cd7cbff0add5d7", "url": "https://github.com/CMSgov/dpc-app/commit/914dab7d27ab1b749d26885c96cd7cbff0add5d7", "message": "Organization show updated", "committedDate": "2020-04-02T18:54:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU1NzYzMw==", "url": "https://github.com/CMSgov/dpc-app/pull/725#discussion_r402557633", "bodyText": "Move registered_organizations.count.positive? out of the conditional.", "author": "codeclimate", "createdAt": "2020-04-02T19:25:24Z", "path": "dpc-web/app/models/organization.rb", "diffHunk": "@@ -41,18 +41,24 @@ def api_credentialable?\n     if health_it_vendor?\n       registered_organizations.count.positive?\n     else\n-      registered_organizations.count.positive? && npi.present?\n+      registered_organizations.count.positive?", "originalCommit": "914dab7d27ab1b749d26885c96cd7cbff0add5d7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0c507c94d39183894747546e7370afadddf175ff", "url": "https://github.com/CMSgov/dpc-app/commit/0c507c94d39183894747546e7370afadddf175ff", "message": "Existing tests adjusted to pass with new parameters", "committedDate": "2020-04-02T19:29:16Z", "type": "commit"}, {"oid": "47cba268840a201ccd18688296c342a6efb564f1", "url": "https://github.com/CMSgov/dpc-app/commit/47cba268840a201ccd18688296c342a6efb564f1", "message": "Merge branch 'master' into nzonnenberg/dpc-1210-prov-id", "committedDate": "2020-04-02T19:29:29Z", "type": "commit"}, {"oid": "1b79c409d2c0983c4c76505b4be21f4c121d12ba", "url": "https://github.com/CMSgov/dpc-app/commit/1b79c409d2c0983c4c76505b4be21f4c121d12ba", "message": "Adjusted existing and added new tests\n\nassign_vendor_id (line 68) calls the correct methed for ids\n\napi_credentialable? (line 121) returns true if registered org present but npi\n\nadded assign_provider_id tests (line 54) for provider organizations\n\nadded external_identifier tests (line 82) to test on returned value based on organization type and if npi is present", "committedDate": "2020-04-03T16:09:43Z", "type": "commit"}, {"oid": "9d423376fdd7efd1181080063bf12d05566d0a3f", "url": "https://github.com/CMSgov/dpc-app/commit/9d423376fdd7efd1181080063bf12d05566d0a3f", "message": "Merge branch 'nzonnenberg/dpc-1210-prov-id' of github.com:CMSgov/dpc-app into nzonnenberg/dpc-1210-prov-id", "committedDate": "2020-04-03T16:25:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMzOTk0NQ==", "url": "https://github.com/CMSgov/dpc-app/pull/725#discussion_r404339945", "bodyText": "Do we actually no longer care whether the NPI is present for providers?", "author": "dhgreene", "createdAt": "2020-04-06T19:37:20Z", "path": "dpc-web/app/models/organization.rb", "diffHunk": "@@ -38,21 +38,23 @@ def npi=(input)\n   end\n \n   def api_credentialable?\n-    if health_it_vendor?\n-      registered_organizations.count.positive?\n-    else\n-      registered_organizations.count.positive? && npi.present?\n-    end\n+    registered_organizations.count.positive?", "originalCommit": "9d423376fdd7efd1181080063bf12d05566d0a3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDM2MTk5NQ==", "url": "https://github.com/CMSgov/dpc-app/pull/725#discussion_r404361995", "bodyText": "We don't. That part has been deleted. Now it's just checking if there is a registered organization present.", "author": "Sun-Mountain", "createdAt": "2020-04-06T20:18:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMzOTk0NQ=="}], "type": "inlineReview"}, {"oid": "6a48c0b2f1248faacc6ba3f7d97b2c5927994516", "url": "https://github.com/CMSgov/dpc-app/commit/6a48c0b2f1248faacc6ba3f7d97b2c5927994516", "message": "Merge branch 'master' into nzonnenberg/dpc-1210-prov-id", "committedDate": "2020-04-07T12:41:36Z", "type": "commit"}]}