{"pr_number": 725, "pr_title": "Check that the expected parameter is a String instead of using .toString()", "pr_createdAt": "2020-04-10T14:51:00Z", "pr_url": "https://github.com/senx/warp10-platform/pull/725", "timeline": [{"oid": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "url": "https://github.com/senx/warp10-platform/commit/48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "message": "Check that the expected parameter is a String instead of using .toString()", "committedDate": "2020-04-10T14:47:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDAyNQ==", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794025", "bodyText": "remove mention of the stack", "author": "hbs", "createdAt": "2020-04-10T14:54:46Z", "path": "warp10/src/main/java/io/warp10/script/functions/ASSERTMSG.java", "diffHunk": "@@ -30,8 +30,12 @@ public ASSERTMSG(String name) {\n   @Override\n   public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     Object o = stack.pop();\n-    \n-    String msg = o.toString();\n+\n+    if (!(o instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a STRING message on top of the stack.\");", "originalCommit": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDA4Mg==", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794082", "bodyText": "ditto", "author": "hbs", "createdAt": "2020-04-10T14:54:53Z", "path": "warp10/src/main/java/io/warp10/script/functions/CHRONOEND.java", "diffHunk": "@@ -37,7 +37,12 @@ public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     long endNanos = System.nanoTime();\n \n     Object o1 = stack.pop();\n-    String alias = o1.toString();\n+\n+    if (!(o1 instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a String alias on top of the stack.\");", "originalCommit": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDE2OQ==", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794169", "bodyText": "ditto", "author": "hbs", "createdAt": "2020-04-10T14:55:06Z", "path": "warp10/src/main/java/io/warp10/script/functions/CHRONOSTART.java", "diffHunk": "@@ -32,7 +32,12 @@ public CHRONOSTART(String name) {\n   @Override\n   public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     Object o1 = stack.pop();\n-    String alias = o1.toString();\n+\n+    if (!(o1 instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a String alias on top of the stack.\");", "originalCommit": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDU3OA==", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794578", "bodyText": "ditto", "author": "hbs", "createdAt": "2020-04-10T14:56:01Z", "path": "warp10/src/main/java/io/warp10/script/functions/FFTWINDOW.java", "diffHunk": "@@ -55,6 +55,10 @@ public FFTWINDOW(String name) {\n     Map<String,Object> params = new HashMap<String, Object>();\n     \n     Object window = stack.pop();\n+\n+    if (!(window instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a STRING on top of the stack\");", "originalCommit": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NDg4NQ==", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406794885", "bodyText": "ditto", "author": "hbs", "createdAt": "2020-04-10T14:56:42Z", "path": "warp10/src/main/java/io/warp10/script/functions/RENAME.java", "diffHunk": "@@ -40,18 +40,22 @@ public RENAME(String name) {\n   public ElementStackFunction generateFunction(WarpScriptStack stack) throws WarpScriptException {\n     final Object top = stack.pop();\n \n+    if(!(top instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a STRING on top of the stack.\");", "originalCommit": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NTA0OA==", "url": "https://github.com/senx/warp10-platform/pull/725#discussion_r406795048", "bodyText": "ditto", "author": "hbs", "createdAt": "2020-04-10T14:57:04Z", "path": "warp10/src/main/java/io/warp10/script/functions/TIMED.java", "diffHunk": "@@ -38,7 +38,12 @@ public TIMED(String name) {\n   @Override\n   public Object apply(WarpScriptStack stack) throws WarpScriptException {\n     Object o1 = stack.pop();\n-    String alias = o1.toString();\n+\n+    if (!(o1 instanceof String)) {\n+      throw new WarpScriptException(getName() + \" expects a String alias on top of the stack.\");", "originalCommit": "48001d5bc7a83daf843e5b54c1e5bb896efc4dbf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b613c0951d2c330ec0b93195bc870c0d83ac1f50", "url": "https://github.com/senx/warp10-platform/commit/b613c0951d2c330ec0b93195bc870c0d83ac1f50", "message": "Remove mention of the stack in error messages", "committedDate": "2020-04-14T09:54:16Z", "type": "commit"}]}