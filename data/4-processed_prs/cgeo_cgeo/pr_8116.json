{"pr_number": 8116, "pr_title": "add option to prevent waypoint extraction from note (fix #8078)", "pr_createdAt": "2020-02-01T16:23:32Z", "pr_url": "https://github.com/cgeo/cgeo/pull/8116", "timeline": [{"oid": "85143f2e0d9553bd90bbd4fcd2cea9efc674c547", "url": "https://github.com/cgeo/cgeo/commit/85143f2e0d9553bd90bbd4fcd2cea9efc674c547", "message": "option to prevent waypoint extraction from note (on per cache basis) (fix #8078)", "committedDate": "2020-02-01T16:21:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMDI0OQ==", "url": "https://github.com/cgeo/cgeo/pull/8116#discussion_r375520249", "bodyText": "I do not understand of the parameter forceExtraction.\nWhy do we need them?", "author": "bekuno", "createdAt": "2020-02-05T21:33:56Z", "path": "main/src/cgeo/geocaching/models/Geocache.java", "diffHunk": "@@ -1557,12 +1558,14 @@ public boolean addWaypointsFromNote() {\n      * @param updateDb if true the added waypoints are stored in DB right away\n      * @param namePrefix prefix for waypoint names\n      */\n-    public boolean addWaypointsFromText(@Nullable final String text, final boolean updateDb, @NonNull final String namePrefix) {\n+    public boolean addWaypointsFromText(@Nullable final String text, final boolean updateDb, @NonNull final String namePrefix, final boolean forceExtraction) {", "originalCommit": "6f47d4e4e305e8f85b49acdd3a5ac6ead4d528d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYxMDAxNg==", "url": "https://github.com/cgeo/cgeo/pull/8116#discussion_r376610016", "bodyText": "addWaypointsFromText() is called in two contexts - extracting from listing (needs forceExtraction = true) and extracting from personal note (should respect global setting, therefore forceExtraction = false).", "author": "moving-bits", "createdAt": "2020-02-07T21:13:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMDI0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMTI4MA==", "url": "https://github.com/cgeo/cgeo/pull/8116#discussion_r375521280", "bodyText": "Where is the extra parameter \"cache_menu_allowWaypointExtraction\" used?", "author": "bekuno", "createdAt": "2020-02-05T21:36:10Z", "path": "main/res/values/strings.xml", "diffHunk": "@@ -857,6 +857,8 @@\n     <string name=\"cache_log_images_title\">Log images</string>\n     <string name=\"cache_log_image_default_title\">Photo</string>\n     <string name=\"cache_personal_note\">Personal note</string>\n+    <string name=\"cache_menu_preventWaypointsFromNote\">Prevent waypoints from note</string>\n+    <string name=\"cache_menu_allowWaypointExtraction\">Allow waypoints from note</string>", "originalCommit": "6f47d4e4e305e8f85b49acdd3a5ac6ead4d528d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYwOTUwNQ==", "url": "https://github.com/cgeo/cgeo/pull/8116#discussion_r376609505", "bodyText": "Those two lines are for the cache menu - enabling / disabling waypoint extraction from personal note.", "author": "moving-bits", "createdAt": "2020-02-07T21:11:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMTI4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYyNzQwMg==", "url": "https://github.com/cgeo/cgeo/pull/8116#discussion_r376627402", "bodyText": "but it is a checkbutton, isn't it?", "author": "bekuno", "createdAt": "2020-02-07T21:59:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMTI4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYyOTc1Nw==", "url": "https://github.com/cgeo/cgeo/pull/8116#discussion_r376629757", "bodyText": "No, the strings starting with \"cache_menu_\" refer to the new menu entry at the end of the cache menu, whereas the new string \"cache_personal_note_preventWaypointsExtraction\" is for the checkbox in the personal note edit dialog.", "author": "moving-bits", "createdAt": "2020-02-07T22:06:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMTI4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjYzNTU5MA==", "url": "https://github.com/cgeo/cgeo/pull/8116#discussion_r376635590", "bodyText": "Understand, ok.", "author": "bekuno", "createdAt": "2020-02-07T22:22:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTUyMTI4MA=="}], "type": "inlineReview"}, {"oid": "a742612d1aa7aeb823e06d102c7fd43816e2459e", "url": "https://github.com/cgeo/cgeo/commit/a742612d1aa7aeb823e06d102c7fd43816e2459e", "message": "add checkbox to note edit dialog", "committedDate": "2020-02-07T21:17:20Z", "type": "commit"}, {"oid": "a742612d1aa7aeb823e06d102c7fd43816e2459e", "url": "https://github.com/cgeo/cgeo/commit/a742612d1aa7aeb823e06d102c7fd43816e2459e", "message": "add checkbox to note edit dialog", "committedDate": "2020-02-07T21:17:20Z", "type": "forcePushed"}]}