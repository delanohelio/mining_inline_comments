{"pr_number": 3986, "pr_title": "[GEOS-9461] Update YAML docs for new cascaded WMS controls", "pr_createdAt": "2020-01-20T16:54:05Z", "pr_url": "https://github.com/geoserver/geoserver/pull/3986", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc2MTA3MQ==", "url": "https://github.com/geoserver/geoserver/pull/3986#discussion_r368761071", "bodyText": "Some small difference of indenting here, just making a note that it masks the small change you performed in the example.", "author": "jodygarnett", "createdAt": "2020-01-20T23:53:02Z", "path": "doc/en/api/1.0.0/wmslayers.yaml", "diffHunk": "@@ -139,55 +139,109 @@ paths:\n           schema:\n             $ref: \"#/definitions/WMSStoreLayerInfo\"\n           examples:\n-            application/xml: |\n+            application/xml: |              \n               <wmsLayer>\n-                <name>dem</name>\n-                <nativeName>usgs:dem</nativeName>\n-                <namespace>\n-                  <name>cite</name>\n-                  <atom:link xmlns:atom=\"http://www.w3.org/2005/Atom\" rel=\"alternate\" href=\"http://localhost:8080/geoserver/rest/namespaces/cite.xml\" type=\"application/xml\"/>\n-                </namespace>\n-                <title>Digital elevation model</title>\n-                <description>USGS GTOPO30 digital elevation model</description>\n-                <abstract>USGS GTOPO30 digital elevation model</abstract>\n-                <keywords>\n-                  <string>WCS</string>\n-                  <string>GeoTIFF</string>\n-                  <string>W100N40</string>\n-                </keywords>\n-                <nativeCRS>GEOGCS[&quot;WGS 84&quot;, &#xd;\n-                DATUM[&quot;World Geodetic System 1984&quot;, &#xd;\n-                  SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563, AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]], &#xd;\n-                  AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]], &#xd;\n-                PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], &#xd;\n-                UNIT[&quot;degree&quot;, 0.017453292519943295], &#xd;\n-                AXIS[&quot;Geodetic longitude&quot;, EAST], &#xd;\n-                AXIS[&quot;Geodetic latitude&quot;, NORTH], &#xd;\n-                AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]</nativeCRS>\n-                <srs>EPSG:4326</srs>\n-                <nativeBoundingBox>\n-                  <minx>-100.0</minx>\n-                  <maxx>-60.000000000015994</maxx>\n-                  <miny>-9.999999999980012</miny>\n-                  <maxy>39.99999999999999</maxy>\n-                  <crs>EPSG:4326</crs>\n-                </nativeBoundingBox>\n-                <latLonBoundingBox>\n-                  <minx>-100.0</minx>\n-                  <maxx>-60.000000000015994</maxx>\n-                  <miny>-9.999999999980012</miny>\n-                  <maxy>39.99999999999999</maxy>\n-                  <crs>EPSG:4326</crs>\n-                </latLonBoundingBox>\n-                <projectionPolicy>FORCE_DECLARED</projectionPolicy>\n-                <enabled>true</enabled>\n-                <metadata>\n-                  <entry key=\"cachingEnabled\">false</entry>\n-                </metadata>\n-                <store class=\"wmsStore\">\n-                  <name>cite:altgs</name>\n-                  <atom:link xmlns:atom=\"http://www.w3.org/2005/Atom\" rel=\"alternate\" href=\"http://localhost:8080/geoserver/rest/workspaces/cite/wmsstores/altgs.xml\" type=\"application/xml\"/>\n-                </store>\n+                 <name>dem</name>", "originalCommit": "dfbc5c90b5dbe79a06fd21101b187693a819e015", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxNjcyMQ==", "url": "https://github.com/geoserver/geoserver/pull/3986#discussion_r368816721", "bodyText": "will fix", "author": "imranrajjad", "createdAt": "2020-01-21T05:27:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc2MTA3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc2MTEwOQ==", "url": "https://github.com/geoserver/geoserver/pull/3986#discussion_r368761109", "bodyText": "excellent!", "author": "jodygarnett", "createdAt": "2020-01-20T23:53:14Z", "path": "doc/en/api/1.0.0/wmslayers.yaml", "diffHunk": "@@ -139,55 +139,109 @@ paths:\n           schema:\n             $ref: \"#/definitions/WMSStoreLayerInfo\"\n           examples:\n-            application/xml: |\n+            application/xml: |              \n               <wmsLayer>\n-                <name>dem</name>\n-                <nativeName>usgs:dem</nativeName>\n-                <namespace>\n-                  <name>cite</name>\n-                  <atom:link xmlns:atom=\"http://www.w3.org/2005/Atom\" rel=\"alternate\" href=\"http://localhost:8080/geoserver/rest/namespaces/cite.xml\" type=\"application/xml\"/>\n-                </namespace>\n-                <title>Digital elevation model</title>\n-                <description>USGS GTOPO30 digital elevation model</description>\n-                <abstract>USGS GTOPO30 digital elevation model</abstract>\n-                <keywords>\n-                  <string>WCS</string>\n-                  <string>GeoTIFF</string>\n-                  <string>W100N40</string>\n-                </keywords>\n-                <nativeCRS>GEOGCS[&quot;WGS 84&quot;, &#xd;\n-                DATUM[&quot;World Geodetic System 1984&quot;, &#xd;\n-                  SPHEROID[&quot;WGS 84&quot;, 6378137.0, 298.257223563, AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]], &#xd;\n-                  AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]], &#xd;\n-                PRIMEM[&quot;Greenwich&quot;, 0.0, AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]], &#xd;\n-                UNIT[&quot;degree&quot;, 0.017453292519943295], &#xd;\n-                AXIS[&quot;Geodetic longitude&quot;, EAST], &#xd;\n-                AXIS[&quot;Geodetic latitude&quot;, NORTH], &#xd;\n-                AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]</nativeCRS>\n-                <srs>EPSG:4326</srs>\n-                <nativeBoundingBox>\n-                  <minx>-100.0</minx>\n-                  <maxx>-60.000000000015994</maxx>\n-                  <miny>-9.999999999980012</miny>\n-                  <maxy>39.99999999999999</maxy>\n-                  <crs>EPSG:4326</crs>\n-                </nativeBoundingBox>\n-                <latLonBoundingBox>\n-                  <minx>-100.0</minx>\n-                  <maxx>-60.000000000015994</maxx>\n-                  <miny>-9.999999999980012</miny>\n-                  <maxy>39.99999999999999</maxy>\n-                  <crs>EPSG:4326</crs>\n-                </latLonBoundingBox>\n-                <projectionPolicy>FORCE_DECLARED</projectionPolicy>\n-                <enabled>true</enabled>\n-                <metadata>\n-                  <entry key=\"cachingEnabled\">false</entry>\n-                </metadata>\n-                <store class=\"wmsStore\">\n-                  <name>cite:altgs</name>\n-                  <atom:link xmlns:atom=\"http://www.w3.org/2005/Atom\" rel=\"alternate\" href=\"http://localhost:8080/geoserver/rest/workspaces/cite/wmsstores/altgs.xml\" type=\"application/xml\"/>\n-                </store>\n+                 <name>dem</name>\n+                 <nativeName>usgs:dem</nativeName>\n+                 <namespace>\n+                    <name>cite</name>\n+                    <atom:link xmlns:atom=\"http://www.w3.org/2005/Atom\" rel=\"alternate\" href=\"http://localhost:8080/geoserver/rest/namespaces/cite.xml\" type=\"application/xml\" />\n+                 </namespace>\n+                 <title>Digital elevation model</title>\n+                 <description>USGS GTOPO30 digital elevation model</description>\n+                 <abstract>USGS GTOPO30 digital elevation model</abstract>\n+                 <keywords>\n+                    <string>WCS</string>\n+                    <string>GeoTIFF</string>\n+                    <string>W100N40</string>\n+                 </keywords>\n+                 <nativeCRS>GEOGCS[\"WGS 84\", &#xD;\n+                              DATUM[\"World Geodetic System 1984\", &#xD;\n+                                SPHEROID[\"WGS 84\", 6378137.0, 298.257223563, AUTHORITY[\"EPSG\",\"7030\"]], &#xD;\n+                                AUTHORITY[\"EPSG\",\"6326\"]], &#xD;\n+                              PRIMEM[\"Greenwich\", 0.0, AUTHORITY[\"EPSG\",\"8901\"]], &#xD;\n+                              UNIT[\"degree\", 0.017453292519943295], &#xD;\n+                              AXIS[\"Geodetic longitude\", EAST], &#xD;\n+                              AXIS[\"Geodetic latitude\", NORTH], &#xD;\n+                              AUTHORITY[\"EPSG\",\"4326\"]]</nativeCRS>\n+                 <srs>EPSG:4326</srs>\n+                 <nativeBoundingBox>\n+                    <minx>-100.0</minx>\n+                    <maxx>-60.000000000015994</maxx>\n+                    <miny>-9.999999999980012</miny>\n+                    <maxy>39.99999999999999</maxy>\n+                    <crs>EPSG:4326</crs>\n+                 </nativeBoundingBox>\n+                 <latLonBoundingBox>\n+                    <minx>-100.0</minx>\n+                    <maxx>-60.000000000015994</maxx>\n+                    <miny>-9.999999999980012</miny>\n+                    <maxy>39.99999999999999</maxy>\n+                    <crs>EPSG:4326</crs>\n+                 </latLonBoundingBox>\n+                 <projectionPolicy>FORCE_DECLARED</projectionPolicy>\n+                 <enabled>true</enabled>\n+                 <metadata>\n+                    <entry key=\"OTHER_SRS\">EPSG:3857,EPSG:900913</entry>\n+                    <entry key=\"cachingEnabled\">false</entry>\n+                 </metadata>\n+                 <store class=\"wmsStore\">\n+                    <name>cite:altgs</name>\n+                    <atom:link xmlns:atom=\"http://www.w3.org/2005/Atom\" rel=\"alternate\" href=\"http://localhost:8080/geoserver/rest/workspaces/cite/wmsstores/altgs.xml\" type=\"application/xml\" />\n+                 </store>\n+                 <forcedRemoteStyle>dem_style</forcedRemoteStyle>\n+                 <preferredFormat>image/png</preferredFormat>\n+                 <selectedRemoteFormats>\n+                    <string>image/png</string>\n+                    <string>image/jpeg</string>\n+                    <string>image/tiff</string>\n+                    <string>image/gif</string>\n+                    <string>image/geotiff</string>\n+                    <string>image/png8</string>\n+                    <string>image/tiff8</string>\n+                    <string>image/geotiff8</string>\n+                 </selectedRemoteFormats>\n+                 <selectedRemoteStyles>\n+                    <string>dem_style</string>\n+                    <string>another_dem_style</string>\n+                 </selectedRemoteStyles>\n+                 <minScale>1000000.0</minScale>\n+                 <maxScale>1.0E7</maxScale>\n+                 <metadataBBoxRespected>false</metadataBBoxRespected>\n+                 <allAvailableRemoteStyles>\n+                    <style>\n+                       <name>another_dem_style</name>\n+                       <format>sld</format>\n+                       <languageVersion>\n+                          <version>1.0.0</version>\n+                       </languageVersion>\n+                       <legend>\n+                          <width>20</width>\n+                          <height>20</height>\n+                          <format>image/png</format>\n+                          <onlineResource>https://remote.wms.server/geoserver/wms?request=GetLegendGraphic&amp;format=image%2Fpng&amp;width=20&amp;height=20&amp;layer=topp%3Astates&amp;style=another_dem_style</onlineResource>\n+                       </legend>\n+                       <metadata>\n+                          <entry key=\"isRemote\">true</entry>\n+                       </metadata>\n+                    </style>\n+                    <style>\n+                       <name>dem_style</name>\n+                       <format>sld</format>\n+                       <languageVersion>\n+                          <version>1.0.0</version>\n+                       </languageVersion>\n+                       <legend>\n+                          <width>20</width>\n+                          <height>20</height>\n+                          <format>image/png</format>\n+                          <onlineResource>https://remote.wms.server/geoserver/wms?request=GetLegendGraphic&amp;format=image%2Fpng&amp;width=20&amp;height=20&amp;layer=topp%3Astates&amp;style=dem_style</onlineResource>\n+                       </legend>\n+                       <metadata>\n+                          <entry key=\"isRemote\">true</entry>", "originalCommit": "dfbc5c90b5dbe79a06fd21101b187693a819e015", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc2MTI5NQ==", "url": "https://github.com/geoserver/geoserver/pull/3986#discussion_r368761295", "bodyText": "description being repeated here", "author": "jodygarnett", "createdAt": "2020-01-20T23:54:34Z", "path": "doc/en/api/1.0.0/wmslayers.yaml", "diffHunk": "@@ -746,4 +830,41 @@ definitions:\n           description: Key used for metadata entry\n         text:\n           type: string\n-          description: Value of given key\n+          description: Value of given key \n+\n+  StyleInfo:\n+      type: object\n+      title: style\n+      properties:\n+        name:\n+          type: string\n+          description: Name of remote style\n+        format:\n+          type: string\n+          description: format of style\n+          example: \"sld\"\n+        languageVersion:\n+          type: object\n+          properties:\n+            version:\n+              type: string\n+              description: versioon of format\n+              example: \"1.0.0\"\n+        legend:\n+          type: object\n+          properties:\n+            width:\n+              type: number\n+              description: version of format", "originalCommit": "dfbc5c90b5dbe79a06fd21101b187693a819e015", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxNjc5Nw==", "url": "https://github.com/geoserver/geoserver/pull/3986#discussion_r368816797", "bodyText": "will fix", "author": "imranrajjad", "createdAt": "2020-01-21T05:27:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc2MTI5NQ=="}], "type": "inlineReview"}, {"oid": "b66ac0b22d91957804cbaefcfd55a4ce5cfef72c", "url": "https://github.com/geoserver/geoserver/commit/b66ac0b22d91957804cbaefcfd55a4ce5cfef72c", "message": "[GEOS-9461] Update YAML docs for new cascaded WMS controls\n\nupdate \\doc\\en\\api\\1.0.0\\wmtslayers.yaml\n\n-add remote styles and format\n-add min/max scale denominators\n-add respect remote bounds settings", "committedDate": "2020-01-21T05:56:29Z", "type": "forcePushed"}, {"oid": "cec8a8399d2d73f7106598d1a09d5a03ec07fdb2", "url": "https://github.com/geoserver/geoserver/commit/cec8a8399d2d73f7106598d1a09d5a03ec07fdb2", "message": "[GEOS-9461] Update YAML docs for new cascaded WMS controls\n\nupdate \\doc\\en\\api\\1.0.0\\wmtslayers.yaml\n\n-add remote styles and format\n-add min/max scale denominators\n-add respect remote bounds settings", "committedDate": "2020-01-23T13:26:24Z", "type": "forcePushed"}, {"oid": "5f1322d70cc22b343802ec4c5f18ef111cdd425e", "url": "https://github.com/geoserver/geoserver/commit/5f1322d70cc22b343802ec4c5f18ef111cdd425e", "message": "[GEOS-9461] Update YAML docs for new cascaded WMS controls\n\nupdate \\doc\\en\\api\\1.0.0\\wmtslayers.yaml\n\n-add remote styles and format\n-add min/max scale denominators\n-add respect remote bounds settings\n\nFix invalid escape character in YAML file", "committedDate": "2020-01-24T05:23:51Z", "type": "commit"}, {"oid": "5f1322d70cc22b343802ec4c5f18ef111cdd425e", "url": "https://github.com/geoserver/geoserver/commit/5f1322d70cc22b343802ec4c5f18ef111cdd425e", "message": "[GEOS-9461] Update YAML docs for new cascaded WMS controls\n\nupdate \\doc\\en\\api\\1.0.0\\wmtslayers.yaml\n\n-add remote styles and format\n-add min/max scale denominators\n-add respect remote bounds settings\n\nFix invalid escape character in YAML file", "committedDate": "2020-01-24T05:23:51Z", "type": "forcePushed"}]}