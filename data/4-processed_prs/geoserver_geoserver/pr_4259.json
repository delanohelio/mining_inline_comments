{"pr_number": 4259, "pr_title": "[GEOS-9630] Add details on store configuration in App-Schema Mongo in\u2026", "pr_createdAt": "2020-05-25T08:11:10Z", "pr_url": "https://github.com/geoserver/geoserver/pull/4259", "timeline": [{"oid": "e3b6e594c32e89d72ce4877f36456f521d4a6b11", "url": "https://github.com/geoserver/geoserver/commit/e3b6e594c32e89d72ce4877f36456f521d4a6b11", "message": "[GEOS-9630] Add details on store configuration in App-Schema Mongo integration doc", "committedDate": "2020-05-25T08:09:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg0ODEwMQ==", "url": "https://github.com/geoserver/geoserver/pull/4259#discussion_r429848101", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When configuring app-schema mappings for a MongoDB source there are few things to mind of regarding store configuration.\n          \n          \n            \n            When configuring app-schema mappings for a MongoDB source some connection parameters tweaks might be needed, in order to ensure that the full set of recognized and made available to the mapping.", "author": "aaime", "createdAt": "2020-05-25T09:58:17Z", "path": "doc/en/user/source/data/app-schema/mongo-tutorial.rst", "diffHunk": "@@ -181,6 +181,39 @@ This is the schema that will be used to do the mappings in app-schema:\n Mappings\n --------\n \n+MongoDB Store\n+^^^^^^^^^^^^^\n+\n+When configuring app-schema mappings for a MongoDB source there are few things to mind of regarding store configuration.", "originalCommit": "e3b6e594c32e89d72ce4877f36456f521d4a6b11", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg0ODMyOA==", "url": "https://github.com/geoserver/geoserver/pull/4259#discussion_r429848328", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The building of a MongoDB Store implies the creation of a Mongo schema, inferred from the db collection. \n          \n          \n            \n            The setup of a MongoDB Store implies the creation of a Mongo schema, inferred from the db collection.", "author": "aaime", "createdAt": "2020-05-25T09:58:45Z", "path": "doc/en/user/source/data/app-schema/mongo-tutorial.rst", "diffHunk": "@@ -181,6 +181,39 @@ This is the schema that will be used to do the mappings in app-schema:\n Mappings\n --------\n \n+MongoDB Store\n+^^^^^^^^^^^^^\n+\n+When configuring app-schema mappings for a MongoDB source there are few things to mind of regarding store configuration.\n+The building of a MongoDB Store implies the creation of a Mongo schema, inferred from the db collection. ", "originalCommit": "e3b6e594c32e89d72ce4877f36456f521d4a6b11", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg0ODU3MQ==", "url": "https://github.com/geoserver/geoserver/pull/4259#discussion_r429848571", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The inferring process by default will use a random Mongo object from the collection. If that object doesn't contain all attributes of interest, the result will be an incomplete schema.  \n          \n          \n            \n            This process by default will use a random Mongo object from the collection. If that object doesn't contain all attributes of interest, the result will be an incomplete schema.", "author": "aaime", "createdAt": "2020-05-25T09:59:17Z", "path": "doc/en/user/source/data/app-schema/mongo-tutorial.rst", "diffHunk": "@@ -181,6 +181,39 @@ This is the schema that will be used to do the mappings in app-schema:\n Mappings\n --------\n \n+MongoDB Store\n+^^^^^^^^^^^^^\n+\n+When configuring app-schema mappings for a MongoDB source there are few things to mind of regarding store configuration.\n+The building of a MongoDB Store implies the creation of a Mongo schema, inferred from the db collection. \n+The inferring process by default will use a random Mongo object from the collection. If that object doesn't contain all attributes of interest, the result will be an incomplete schema.  ", "originalCommit": "e3b6e594c32e89d72ce4877f36456f521d4a6b11", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg0ODc0NA==", "url": "https://github.com/geoserver/geoserver/pull/4259#discussion_r429848744", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This behaviour can thus be controlled by means of the following two parameters that should be provided inside the ``<parameters>`` element under the ``<DataStore>`` node:\n          \n          \n            \n            This behaviour can thus be controlled by means of the following two parameters, which should be provided inside the ``<parameters>`` element under the ``<DataStore>`` node:", "author": "aaime", "createdAt": "2020-05-25T09:59:38Z", "path": "doc/en/user/source/data/app-schema/mongo-tutorial.rst", "diffHunk": "@@ -181,6 +181,39 @@ This is the schema that will be used to do the mappings in app-schema:\n Mappings\n --------\n \n+MongoDB Store\n+^^^^^^^^^^^^^\n+\n+When configuring app-schema mappings for a MongoDB source there are few things to mind of regarding store configuration.\n+The building of a MongoDB Store implies the creation of a Mongo schema, inferred from the db collection. \n+The inferring process by default will use a random Mongo object from the collection. If that object doesn't contain all attributes of interest, the result will be an incomplete schema.  \n+This behaviour can thus be controlled by means of the following two parameters that should be provided inside the ``<parameters>`` element under the ``<DataStore>`` node:", "originalCommit": "e3b6e594c32e89d72ce4877f36456f521d4a6b11", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg0ODkwMA==", "url": "https://github.com/geoserver/geoserver/pull/4259#discussion_r429848900", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * the parameter ``objs_id_schema``, which specifies a comma separeted list of MongoDB JSON object to be used to build the schema (not needed if ``max_objs_schema`` is present)\n          \n          \n            \n            * ``objs_id_schema``, which specifies a comma separeted list of MongoDB JSON object to be used to build the schema (not needed if ``max_objs_schema`` is present).", "author": "aaime", "createdAt": "2020-05-25T09:59:57Z", "path": "doc/en/user/source/data/app-schema/mongo-tutorial.rst", "diffHunk": "@@ -181,6 +181,39 @@ This is the schema that will be used to do the mappings in app-schema:\n Mappings\n --------\n \n+MongoDB Store\n+^^^^^^^^^^^^^\n+\n+When configuring app-schema mappings for a MongoDB source there are few things to mind of regarding store configuration.\n+The building of a MongoDB Store implies the creation of a Mongo schema, inferred from the db collection. \n+The inferring process by default will use a random Mongo object from the collection. If that object doesn't contain all attributes of interest, the result will be an incomplete schema.  \n+This behaviour can thus be controlled by means of the following two parameters that should be provided inside the ``<parameters>`` element under the ``<DataStore>`` node:\n+\n+* the parameter ``objs_id_schema``, which specifies a comma separeted list of MongoDB JSON object to be used to build the schema (not needed if ``max_objs_schema`` is present)", "originalCommit": "e3b6e594c32e89d72ce4877f36456f521d4a6b11", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg0OTIxNg==", "url": "https://github.com/geoserver/geoserver/pull/4259#discussion_r429849216", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * the parameter ``max_objs_schema``, which specifies the max number of MongoDB JSON object to be used to build the schema and where a value of ``-1`` means all the objects present in the collection (not needed if ``objs_id_schema`` is present)\n          \n          \n            \n            * ``max_objs_schema``, which specifies the max number of MongoDB JSON object to be used to build the schema and where a value of ``-1`` means all the objects present in the collection (not needed if ``objs_id_schema`` is present).", "author": "aaime", "createdAt": "2020-05-25T10:00:38Z", "path": "doc/en/user/source/data/app-schema/mongo-tutorial.rst", "diffHunk": "@@ -181,6 +181,39 @@ This is the schema that will be used to do the mappings in app-schema:\n Mappings\n --------\n \n+MongoDB Store\n+^^^^^^^^^^^^^\n+\n+When configuring app-schema mappings for a MongoDB source there are few things to mind of regarding store configuration.\n+The building of a MongoDB Store implies the creation of a Mongo schema, inferred from the db collection. \n+The inferring process by default will use a random Mongo object from the collection. If that object doesn't contain all attributes of interest, the result will be an incomplete schema.  \n+This behaviour can thus be controlled by means of the following two parameters that should be provided inside the ``<parameters>`` element under the ``<DataStore>`` node:\n+\n+* the parameter ``objs_id_schema``, which specifies a comma separeted list of MongoDB JSON object to be used to build the schema (not needed if ``max_objs_schema`` is present)\n+\n+.. code-block:: xml\n+\n+  <Parameter>\n+    <name>objs_id_schema</name>\n+    <value>6eb85d889396eb0475f815ef,6eb85d889396eb0475f815eg</value>\n+  </Parameter>\n+\n+\n+* the parameter ``max_objs_schema``, which specifies the max number of MongoDB JSON object to be used to build the schema and where a value of ``-1`` means all the objects present in the collection (not needed if ``objs_id_schema`` is present)", "originalCommit": "e3b6e594c32e89d72ce4877f36456f521d4a6b11", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ee36c279c7f38ade8f5b2335c448eae994e87e6d", "url": "https://github.com/geoserver/geoserver/commit/ee36c279c7f38ade8f5b2335c448eae994e87e6d", "message": "Apply suggestions from code review\n\nCo-authored-by: Andrea Aime <andrea.aime@gmail.com>", "committedDate": "2020-05-26T14:50:58Z", "type": "commit"}]}