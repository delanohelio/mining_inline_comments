{"pr_number": 4566, "pr_title": "Updating ImageIO-Ext release for latest COG improvements and doc updates", "pr_createdAt": "2020-11-16T08:42:48Z", "pr_url": "https://github.com/geoserver/geoserver/pull/4566", "timeline": [{"oid": "791084e96dcbda0b385028722762fa2cd1f5c5aa", "url": "https://github.com/geoserver/geoserver/commit/791084e96dcbda0b385028722762fa2cd1f5c5aa", "message": "Updating ImageIO-Ext release for latest COG improvements and doc updates", "committedDate": "2020-11-13T17:08:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDA3NDYzNg==", "url": "https://github.com/geoserver/geoserver/pull/4566#discussion_r524074636", "bodyText": "IIO?", "author": "aaime", "createdAt": "2020-11-16T10:15:44Z", "path": "doc/en/user/source/community/cog/index.rst", "diffHunk": "@@ -125,19 +125,15 @@ On the table below, replace the \"$ALIAS$\" template with HTTP or HTTPS or S3 if y\n      - Default password (secret access key) for AWS basic authentication credentials\n \n Client configuration (System Properties)\n------------------------------------------------------------------\n-Note that all the settings reported in the previous tables can also be specified using System Properties instead of Environment variables.\n+----------------------------------------\n+Note that all the IIO  settings reported in the previous tables can also be specified using System Properties instead of Environment variables.", "originalCommit": "791084e96dcbda0b385028722762fa2cd1f5c5aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE1NTUyMw==", "url": "https://github.com/geoserver/geoserver/pull/4566#discussion_r524155523", "bodyText": "Yep. there are several IIO_ prefixed settings in the previous tables.", "author": "dromagnoli", "createdAt": "2020-11-16T11:29:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDA3NDYzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDA3NjE0OA==", "url": "https://github.com/geoserver/geoserver/pull/4566#discussion_r524076148", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            By default, when accessing a COG, a first chunk of 16 KB is read in attempt to parset the header so that the reader will know offset and length of the available tiles. When dealing with big files, there might be the case that the whole header won't fit in the first chunk so additional reads (chunks of the same size) will be progressively made to complete the parsing.\n          \n          \n            \n            By default, when accessing a COG, a first chunk of 16 KB is read in attempt to parset the header so that the reader will know offset and length of the available tiles. When dealing with files hosting many tiles, it might happen that the whole header won't fit in the first chunk. In this case additional reads (chunks of the same size) will be progressively made to complete loading the header.", "author": "aaime", "createdAt": "2020-11-16T10:17:07Z", "path": "doc/en/user/source/community/cog/index.rst", "diffHunk": "@@ -125,19 +125,15 @@ On the table below, replace the \"$ALIAS$\" template with HTTP or HTTPS or S3 if y\n      - Default password (secret access key) for AWS basic authentication credentials\n \n Client configuration (System Properties)\n------------------------------------------------------------------\n-Note that all the settings reported in the previous tables can also be specified using System Properties instead of Environment variables.\n+----------------------------------------\n+Note that all the IIO  settings reported in the previous tables can also be specified using System Properties instead of Environment variables.\n You just need to replace UPPER CASE words with lower case words and underscores with dots.\n So, the value for Maximum HTTP requests can be specified by setting either a ``IIO_HTTP_MAX_REQUESTS`` Environment variable or a ``iio.http.max.requests`` Java System Property alternatively (Environment variables are checked first).\n \n+By default, when accessing a COG, a first chunk of 16 KB is read in attempt to parset the header so that the reader will know offset and length of the available tiles. When dealing with big files, there might be the case that the whole header won't fit in the first chunk so additional reads (chunks of the same size) will be progressively made to complete the parsing.", "originalCommit": "791084e96dcbda0b385028722762fa2cd1f5c5aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDA3NzYzMQ==", "url": "https://github.com/geoserver/geoserver/pull/4566#discussion_r524077631", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            A ``it.geosolutions.cog.default.header.length`` System Propery can be configured to set the length (in bytes) of the reading chunk.\n          \n          \n            \n            A ``it.geosolutions.cog.default.header.length`` system propery can be configured to set the length (in bytes) of the reading chunk. Tuning this so that the header is read with few extra requests can help improve performance. A value too large can cause memory comsumption issues and will reduce efficiency, as un-necessary data will be read.", "author": "aaime", "createdAt": "2020-11-16T10:18:37Z", "path": "doc/en/user/source/community/cog/index.rst", "diffHunk": "@@ -125,19 +125,15 @@ On the table below, replace the \"$ALIAS$\" template with HTTP or HTTPS or S3 if y\n      - Default password (secret access key) for AWS basic authentication credentials\n \n Client configuration (System Properties)\n------------------------------------------------------------------\n-Note that all the settings reported in the previous tables can also be specified using System Properties instead of Environment variables.\n+----------------------------------------\n+Note that all the IIO  settings reported in the previous tables can also be specified using System Properties instead of Environment variables.\n You just need to replace UPPER CASE words with lower case words and underscores with dots.\n So, the value for Maximum HTTP requests can be specified by setting either a ``IIO_HTTP_MAX_REQUESTS`` Environment variable or a ``iio.http.max.requests`` Java System Property alternatively (Environment variables are checked first).\n \n+By default, when accessing a COG, a first chunk of 16 KB is read in attempt to parset the header so that the reader will know offset and length of the available tiles. When dealing with big files, there might be the case that the whole header won't fit in the first chunk so additional reads (chunks of the same size) will be progressively made to complete the parsing.\n+A ``it.geosolutions.cog.default.header.length`` System Propery can be configured to set the length (in bytes) of the reading chunk.", "originalCommit": "791084e96dcbda0b385028722762fa2cd1f5c5aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "22b4d5a31e1c1ccd1c850061558668362562f7ed", "url": "https://github.com/geoserver/geoserver/commit/22b4d5a31e1c1ccd1c850061558668362562f7ed", "message": "Update doc/en/user/source/community/cog/index.rst\n\nCo-authored-by: Andrea Aime <andrea.aime@gmail.com>", "committedDate": "2020-11-16T11:29:37Z", "type": "commit"}, {"oid": "cc174fa16fbf26cd83b1d1b03024aa44dff9e95f", "url": "https://github.com/geoserver/geoserver/commit/cc174fa16fbf26cd83b1d1b03024aa44dff9e95f", "message": "Update doc/en/user/source/community/cog/index.rst\n\nCo-authored-by: Andrea Aime <andrea.aime@gmail.com>", "committedDate": "2020-11-16T11:29:48Z", "type": "commit"}]}