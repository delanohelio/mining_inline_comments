{"pr_number": 4453, "pr_title": "Add docs about the handling of SVG parameters", "pr_createdAt": "2020-08-18T19:40:36Z", "pr_url": "https://github.com/geoserver/geoserver/pull/4453", "timeline": [{"oid": "f868f8159a40f7b3c8803bf0ec5080031d4b1c12", "url": "https://github.com/geoserver/geoserver/commit/f868f8159a40f7b3c8803bf0ec5080031d4b1c12", "message": "Add docs about the handling of SVG parameters", "committedDate": "2020-08-18T19:35:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA2MjcyOQ==", "url": "https://github.com/geoserver/geoserver/pull/4453#discussion_r474062729", "bodyText": "I did not know this was part of the SVG specification cool :)\n\n\nGeoServer\n\n\nI try and use links of the form:\n`SVG Parameters 1.0 spec <https://www.w3.org/TR/SVGParamPrimer/>`__\n\nThe two under scores are processed differently by sphinx and avoids a conflict if the same URL is referenced twice in the docs.", "author": "jodygarnett", "createdAt": "2020-08-20T15:17:13Z", "path": "doc/en/user/source/styling/sld/extensions/pointsymbols.rst", "diffHunk": "@@ -286,7 +286,75 @@ For example:\n       </Graphic>\n     </PointSymbolizer>\n \n-In this example an SVG graphic is being used, so the size is specified explicitly. \n+In this example an SVG graphic is being used, so the size is specified explicitly.\n+\n+Parameterized (like QGIS) SVG images\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Just like QGIS, Geoserver can handle SVG images in which parts of the SVG-attributes are \n+named parameters as defined in the `SVG Parameters 1.0 spec <https://www.w3.org/TR/SVGParamPrimer/>`_.", "originalCommit": "f868f8159a40f7b3c8803bf0ec5080031d4b1c12", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA2NDE4NQ==", "url": "https://github.com/geoserver/geoserver/pull/4453#discussion_r474064185", "bodyText": "If it is part of a standard we could change the heading to reflect that, and keep QGIS as an example.\nSVG Parameters\n~~~~~~~~~~~~\n\nMany GeoServer users are coming from a web mapping background and will be familiar with SVG, but may not of heard of QGIS yet.", "author": "jodygarnett", "createdAt": "2020-08-20T15:19:18Z", "path": "doc/en/user/source/styling/sld/extensions/pointsymbols.rst", "diffHunk": "@@ -286,7 +286,75 @@ For example:\n       </Graphic>\n     </PointSymbolizer>\n \n-In this example an SVG graphic is being used, so the size is specified explicitly. \n+In this example an SVG graphic is being used, so the size is specified explicitly.\n+\n+Parameterized (like QGIS) SVG images", "originalCommit": "f868f8159a40f7b3c8803bf0ec5080031d4b1c12", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA2NTM3MA==", "url": "https://github.com/geoserver/geoserver/pull/4453#discussion_r474065370", "bodyText": "We try to use ` characters (monospace) for named things as they are displayed different, and not to quote things like \"simple svg\".", "author": "jodygarnett", "createdAt": "2020-08-20T15:20:57Z", "path": "doc/en/user/source/styling/sld/extensions/pointsymbols.rst", "diffHunk": "@@ -286,7 +286,75 @@ For example:\n       </Graphic>\n     </PointSymbolizer>\n \n-In this example an SVG graphic is being used, so the size is specified explicitly. \n+In this example an SVG graphic is being used, so the size is specified explicitly.\n+\n+Parameterized (like QGIS) SVG images\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Just like QGIS, Geoserver can handle SVG images in which parts of the SVG-attributes are \n+named parameters as defined in the `SVG Parameters 1.0 spec <https://www.w3.org/TR/SVGParamPrimer/>`_.\n+\n+A QGIS SVG like: `poi_peak.svg <https://github.com/qgis/QGIS/blob/master/images/svg/symbol/poi_peak.svg>`_ has as SVG source:\n+\n+.. code-block:: xml\n+\n+   <svg enable-background=\"new 0 0 580 580\" height=\"580\" viewBox=\"0 0 580 580\" width=\"580\" xmlns=\"http://www.w3.org/2000/svg\">\n+   <path d=\"m290.565 67.281l-255.498 442.534-1.087 1.885 511.229.393 2.18.002z\" fill=\"param(fill)\" \n+    fill-opacity=\"param(fill-opacity)\" stroke=\"param(outline)\" stroke-opacity=\"param(outline-opacity)\" stroke-width=\"param(outline-width)\"/>\n+   </svg>\n+\n+The 'param'-constructs mean that you can define the parameters: fill, fill-opacity, outline, outline-opacity and outline-width as so called SVG URL references,\n+e.g. a refence to this image with red fill would be: ``poi_peak.svg?fill=#FF0000``.\n+\n+Note: when you edit svg's yourself (e.g. in Inkscape) you should save your svg's as 'simple svg'.", "originalCommit": "f868f8159a40f7b3c8803bf0ec5080031d4b1c12", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA2NzMyMA==", "url": "https://github.com/geoserver/geoserver/pull/4453#discussion_r474067320", "bodyText": "Our writing guidelines try and avoid the use of \"we\" and \"you\" and instead provide direct commands.\nNote: When editing SVG files (e.g. in Inkscape) save using the `simple svg` format.\n``", "author": "jodygarnett", "createdAt": "2020-08-20T15:24:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA2NTM3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDA2ODUwMA==", "url": "https://github.com/geoserver/geoserver/pull/4453#discussion_r474068500", "bodyText": "Same feedback on direct commands (avoiding \"now\"):\nThe SLD the OnlineResource uri without any parameters in the 'href':\n``", "author": "jodygarnett", "createdAt": "2020-08-20T15:25:40Z", "path": "doc/en/user/source/styling/sld/extensions/pointsymbols.rst", "diffHunk": "@@ -286,7 +286,75 @@ For example:\n       </Graphic>\n     </PointSymbolizer>\n \n-In this example an SVG graphic is being used, so the size is specified explicitly. \n+In this example an SVG graphic is being used, so the size is specified explicitly.\n+\n+Parameterized (like QGIS) SVG images\n+~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n+\n+Just like QGIS, Geoserver can handle SVG images in which parts of the SVG-attributes are \n+named parameters as defined in the `SVG Parameters 1.0 spec <https://www.w3.org/TR/SVGParamPrimer/>`_.\n+\n+A QGIS SVG like: `poi_peak.svg <https://github.com/qgis/QGIS/blob/master/images/svg/symbol/poi_peak.svg>`_ has as SVG source:\n+\n+.. code-block:: xml\n+\n+   <svg enable-background=\"new 0 0 580 580\" height=\"580\" viewBox=\"0 0 580 580\" width=\"580\" xmlns=\"http://www.w3.org/2000/svg\">\n+   <path d=\"m290.565 67.281l-255.498 442.534-1.087 1.885 511.229.393 2.18.002z\" fill=\"param(fill)\" \n+    fill-opacity=\"param(fill-opacity)\" stroke=\"param(outline)\" stroke-opacity=\"param(outline-opacity)\" stroke-width=\"param(outline-width)\"/>\n+   </svg>\n+\n+The 'param'-constructs mean that you can define the parameters: fill, fill-opacity, outline, outline-opacity and outline-width as so called SVG URL references,\n+e.g. a refence to this image with red fill would be: ``poi_peak.svg?fill=#FF0000``.\n+\n+Note: when you edit svg's yourself (e.g. in Inkscape) you should save your svg's as 'simple svg'.\n+\n+Now in the SLD the OnlineResource uri without any parameters in the 'href':", "originalCommit": "f868f8159a40f7b3c8803bf0ec5080031d4b1c12", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2ada22f2acc7f13066b3073f3d97354263197531", "url": "https://github.com/geoserver/geoserver/commit/2ada22f2acc7f13066b3073f3d97354263197531", "message": "Feedback from review and style guide\n\nUse of figure, rather than image.", "committedDate": "2020-08-20T17:28:56Z", "type": "commit"}]}