{"pr_number": 2081, "pr_title": "Add an error message to better explain Java 11+ build requirement", "pr_createdAt": "2020-11-16T08:36:53Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081", "timeline": [{"oid": "0712201f086837d01123045d7891037e61209fff", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0712201f086837d01123045d7891037e61209fff", "message": "Add an error message to better explain Java 11+ build requirement", "committedDate": "2020-11-16T08:36:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk3NTI1NA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r523975254", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                throw new GradleException(\"Java 11 or higher is required to build. \" +\n          \n          \n            \n                throw new GradleException(\"JDK 11 or higher is required to build. \" +", "author": "Oberon00", "createdAt": "2020-11-16T08:43:01Z", "path": "build.gradle", "diffHunk": "@@ -10,6 +10,13 @@ plugins {\n     id \"io.morethan.jmhreport\" apply false\n }\n \n+if (!JavaVersion.current().isJava11Compatible()) {\n+    throw new GradleException(\"Java 11 or higher is required to build. \" +", "originalCommit": "0712201f086837d01123045d7891037e61209fff", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk3NTM2Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r523975367", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"Java 11 installation.\")\n          \n          \n            \n                        \"JDK 11 installation.\")", "author": "Oberon00", "createdAt": "2020-11-16T08:43:15Z", "path": "build.gradle", "diffHunk": "@@ -10,6 +10,13 @@ plugins {\n     id \"io.morethan.jmhreport\" apply false\n }\n \n+if (!JavaVersion.current().isJava11Compatible()) {\n+    throw new GradleException(\"Java 11 or higher is required to build. \" +\n+            \"Please download it from https://adoptopenjdk.net/. If you believe you already \" +\n+            \"have it, please check that the JAVA_HOME environment variable is pointing at the \" +\n+            \"Java 11 installation.\")", "originalCommit": "0712201f086837d01123045d7891037e61209fff", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524000416", "bodyText": "I am against this endorsement. Albeit all the great work that AdoptOpenJDK did, I cannot recommend their distribution. At least as they are not TCK-compliant.", "author": "iNikem", "createdAt": "2020-11-16T09:09:44Z", "path": "build.gradle", "diffHunk": "@@ -10,6 +10,13 @@ plugins {\n     id \"io.morethan.jmhreport\" apply false\n }\n \n+if (!JavaVersion.current().isJava11Compatible()) {\n+    throw new GradleException(\"Java 11 or higher is required to build. \" +\n+            \"Please download it from https://adoptopenjdk.net/. If you believe you already \" +", "originalCommit": "0712201f086837d01123045d7891037e61209fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDA0MjM3NQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524042375", "bodyText": "I mainly picked it because Gradle defaults to downloading it, and GitHub Actions has a plan to as well actions/setup-java#98. I don't know why, but I'm personally OK with any URL here as long as it's stable, which official OpenJDK ones aren't (old Java gets removed IIUC).", "author": "anuraaga", "createdAt": "2020-11-16T09:47:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDA1MDkxMw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524050913", "bodyText": "My go-to java distribution is Liberica. Another option is Zulu (which is default for setup-java as of now)", "author": "iNikem", "createdAt": "2020-11-16T09:54:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIyMTAxMQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524221011", "bodyText": "I would prefer Adopt, but what about not including any concrete suggestion? Since this seems to be a point of conflict.", "author": "Oberon00", "createdAt": "2020-11-16T12:30:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMwMjk0Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524302942", "bodyText": "I checked openjdk.java.net again for Java 11 but it seems to be as hidden as ever. So the most standard option doesn't seem great.\nI have a personal preference for zulu, mainly because of the TCK thing but see the ecosystem consolidating on adopt (GitHub planning to switch from zulu to adopt does mean something), which is why I went with it here. Admittedly the TCK issue seems theoretical given they are in the end effectively the same codebase, and both have wide adoption.\nI think a link is far more user friendly than no link. Given our Gradle build already automatically downloads adopt if Java 11 or 8 isn't installed, I am leaning strongly for not making a change to this url. I also wouldn't revert the change to using Gradle's toolchain feature to automatically download adopt because automatically downloading a missing JDK is way more user friendly than not.\nWhat do you think?", "author": "anuraaga", "createdAt": "2020-11-16T14:22:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMwNjA5Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524306097", "bodyText": "Also somewhat random but if someone can help with diffplug/spotless#724 than any Java would work with the build. I want to do it someday (cloned spotless repo :) but probably still will take some time. After that we can remove this message - if anyone has strong issues with the message I encourage them to help with the issue since this is OSS :D", "author": "anuraaga", "createdAt": "2020-11-16T14:26:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDM5Mjg2Mw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524392863", "bodyText": "How about mentioning several options, so it doesn't look like we're endorsing a single JDK distro?", "author": "jkwatson", "createdAt": "2020-11-16T16:20:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQ5NzEwOQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524497109", "bodyText": "I think it's ok to include a link to AdoptOpenJDK. It's great to have a vendor neutral option. And this is only a recommendation for building the project (not for production usage where TCK compliance would be more of an influence).\nTo make clear that we don't specifically require AdoptOpenJDK:\nPlease download it from https://adoptopenjdk.net/.\n==>\nOne option is to download it from https://adoptopenjdk.net/.", "author": "trask", "createdAt": "2020-11-16T18:50:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU4OTQxNQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524589415", "bodyText": "thought I had seen news on the AdoptOpenJDK TCK front, found it:\nhttps://blog.adoptopenjdk.net/2020/06/adoptopenjdk-to-join-the-eclipse-foundation/\nhttps://projects.eclipse.org/projects/adoptium/governance:\n\nScope:\nEclipse Adoptium provides runtime binaries that are high performance, enterprise-caliber, cross-platform, open-source licensed, Java SE TCK-tested and compliant for general use across the Java ecosystem", "author": "trask", "createdAt": "2020-11-16T21:15:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU5MjUyMw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2081#discussion_r524592523", "bodyText": "the real facepalm is the name \"Adoptium\"", "author": "jkwatson", "createdAt": "2020-11-16T21:17:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwMDQxNg=="}], "type": "inlineReview"}, {"oid": "0427b114012f9b676c664de76b9c7de219ab97c0", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0427b114012f9b676c664de76b9c7de219ab97c0", "message": "Better wording", "committedDate": "2020-11-17T00:14:34Z", "type": "commit"}, {"oid": "ae314da767f4cdf6d5bac2416058da7c572066ee", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ae314da767f4cdf6d5bac2416058da7c572066ee", "message": "Merge", "committedDate": "2020-11-17T00:15:14Z", "type": "commit"}, {"oid": "ae314da767f4cdf6d5bac2416058da7c572066ee", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ae314da767f4cdf6d5bac2416058da7c572066ee", "message": "Merge", "committedDate": "2020-11-17T00:15:14Z", "type": "forcePushed"}]}