{"pr_number": 1287, "pr_title": "Update config / deps to allow building on Java 14.", "pr_createdAt": "2020-05-29T03:08:02Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/1287", "timeline": [{"oid": "4d0d882c1036556f8f6c85cdefc3e508fc95028d", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/4d0d882c1036556f8f6c85cdefc3e508fc95028d", "message": "Update config / deps to allow building on Java 14.", "committedDate": "2020-05-29T03:03:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI5MDUwNw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1287#discussion_r432290507", "bodyText": "prevent what?", "author": "iNikem", "createdAt": "2020-05-29T06:57:20Z", "path": "build.gradle", "diffHunk": "@@ -38,11 +38,17 @@ configure(opentelemetryProjects) {\n     targetCompatibility = 1.7\n \n     tasks.withType(JavaCompile) {\n-        // We suppress the \"try\" warning because it disallows managing an auto-closeable with\n-        // try-with-resources without referencing the auto-closeable within the try block.\n-        // We suppress the \"processing\" warning as suggested in\n-        // https://groups.google.com/forum/#!topic/bazel-discuss/_R3A9TJSoPM\n-        it.options.compilerArgs += [\"-Xlint:all\", \"-Xlint:-try\", \"-Xlint:-processing\"]\n+        it.options.compilerArgs += [\n+                \"-Xlint:all\",\n+                // We suppress the \"try\" warning because it disallows managing an auto-closeable with\n+                // try-with-resources without referencing the auto-closeable within the try block.\n+                \"-Xlint:-try\",\n+                // We suppress the \"processing\" warning as suggested in\n+                // https://groups.google.com/forum/#!topic/bazel-discuss/_R3A9TJSoPM\n+                \"-Xlint:-processing\",\n+                // We suppress the \"options\" warning because it prevents", "originalCommit": "4d0d882c1036556f8f6c85cdefc3e508fc95028d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI5MDg3NA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1287#discussion_r432290874", "bodyText": "Oops fixed", "author": "anuraaga", "createdAt": "2020-05-29T06:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI5MDUwNw=="}], "type": "inlineReview"}, {"oid": "862aef76d2ad0b2617c85b66917ba2a19efe7f5e", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/862aef76d2ad0b2617c85b66917ba2a19efe7f5e", "message": "Finish comment", "committedDate": "2020-05-29T06:58:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjU0NTI3Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1287#discussion_r432545272", "bodyText": "Please leave this if java version 8", "author": "bogdandrutu", "createdAt": "2020-05-29T14:59:20Z", "path": "build.gradle", "diffHunk": "@@ -66,17 +72,17 @@ configure(opentelemetryProjects) {\n         it.options.errorprone.disable(\"AutoValueImmutableFields\")\n         // \"-Xep:AutoValueImmutableFields:OFF\"\n \n+        // UnnecessaryAnonymousClass requires Java 8 but we target Java 7\n+        it.options.errorprone.disable(\"UnnecessaryAnonymousClass\")\n+        // \"-Xep:UnnecessaryAnonymousClass:OFF\"\n+\n         it.options.encoding = \"UTF-8\"\n \n         // Ignore warnings for protobuf and jmh generated files.\n         it.options.errorprone.excludedPaths = \".*generated.*\"\n         // \"-XepExcludedPaths:.*/build/generated/source/proto/.*\"\n \n-        // Enforce errorprone warnings to be errors.\n-        if (!JavaVersion.current().isJava9() && !JavaVersion.current().isJava10() && !JavaVersion.current().isJava11()) {\n-            // TODO: Enable -Werror for Java 9+\n-            it.options.compilerArgs += [\"-Werror\"]\n-        }\n+        it.options.compilerArgs += [\"-Werror\"]", "originalCommit": "862aef76d2ad0b2617c85b66917ba2a19efe7f5e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjU0OTQzMQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1287#discussion_r432549431", "bodyText": "Why? If it's working (it seems to build successfully at least on Java 11 with our CI), I see no reason to disable this.", "author": "Oberon00", "createdAt": "2020-05-29T15:06:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjU0NTI3Mg=="}], "type": "inlineReview"}]}