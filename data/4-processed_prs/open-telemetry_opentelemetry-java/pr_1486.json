{"pr_number": 1486, "pr_title": "Add public constants for all exporter default configuration values", "pr_createdAt": "2020-07-30T14:25:06Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486", "timeline": [{"oid": "7a9eaafa492ccb97b0bb63c16dd89c99e21db9c8", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7a9eaafa492ccb97b0bb63c16dd89c99e21db9c8", "message": "Add public constants for all exporter default configuration values", "committedDate": "2020-07-30T14:17:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA1NDM5MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463054391", "bodyText": "Start with uppercase for all javadoc", "author": "anuraaga", "createdAt": "2020-07-30T14:50:48Z", "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/export/ExporterConstants.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.trace.export;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+/** Provides constants for all exporter default configuration values. */\n+public class ExporterConstants {\n+\n+  private ExporterConstants() {}\n+\n+  /** common unknown constant. */", "originalCommit": "7a9eaafa492ccb97b0bb63c16dd89c99e21db9c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA1NjYwNw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463056607", "bodyText": "This seems like a too generic constant, we'd generally expect the default configuration value to be empty. Translating that to unknown may be an exporter-specific implementation detail.", "author": "anuraaga", "createdAt": "2020-07-30T14:53:49Z", "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/export/ExporterConstants.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.trace.export;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+/** Provides constants for all exporter default configuration values. */\n+public class ExporterConstants {\n+\n+  private ExporterConstants() {}\n+\n+  /** common unknown constant. */\n+  public static final String UNKNOWN = \"unknown\";", "originalCommit": "7a9eaafa492ccb97b0bb63c16dd89c99e21db9c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEzNDMwMQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463134301", "bodyText": "thx. fixed at lastest commit.", "author": "dengliming", "createdAt": "2020-07-30T16:49:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA1NjYwNw=="}], "type": "inlineReview"}, {"oid": "b910b31fc4e89c67dc9fb69e52dd2d6f82266e22", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/b910b31fc4e89c67dc9fb69e52dd2d6f82266e22", "message": "Fix review", "committedDate": "2020-07-30T16:48:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEzNzkwMw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463137903", "bodyText": "This should not be an exporter constant.", "author": "bogdandrutu", "createdAt": "2020-07-30T16:55:17Z", "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/export/ExporterConstants.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.trace.export;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+/** Provides constants for all exporter default configuration values. */\n+public class ExporterConstants {\n+\n+  private ExporterConstants() {}\n+\n+  /** Common default host name. */\n+  public static final String DEFAULT_HOST_NAME = \"unknown\";\n+  /** Common default service name. */\n+  public static final String DEFAULT_SERVICE_NAME = DEFAULT_HOST_NAME;", "originalCommit": "b910b31fc4e89c67dc9fb69e52dd2d6f82266e22", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE2ODMyMA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463168320", "bodyText": "This can be reconsidered. If it doesn't make sense we can remove it.", "author": "dengliming", "createdAt": "2020-07-30T17:49:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEzNzkwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEzODI0OA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463138248", "bodyText": "Why unknown default?", "author": "bogdandrutu", "createdAt": "2020-07-30T16:55:51Z", "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/export/ExporterConstants.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.trace.export;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+/** Provides constants for all exporter default configuration values. */\n+public class ExporterConstants {\n+\n+  private ExporterConstants() {}\n+\n+  /** Common default host name. */\n+  public static final String DEFAULT_HOST_NAME = \"unknown\";", "originalCommit": "b910b31fc4e89c67dc9fb69e52dd2d6f82266e22", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE2ODEwMA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463168100", "bodyText": "The default value used now is unknown. see \n  \n    \n      opentelemetry-java/exporters/jaeger/src/main/java/io/opentelemetry/exporters/jaeger/JaegerGrpcSpanExporter.java\n    \n    \n         Line 170\n      in\n      78ed649\n    \n    \n    \n    \n\n        \n          \n           private String serviceName = UNKNOWN; \n        \n    \n  \n\n\n\n  \n    \n      opentelemetry-java/exporters/zipkin/src/main/java/io/opentelemetry/exporters/zipkin/ZipkinSpanExporter.java\n    \n    \n         Line 282\n      in\n      78ed649\n    \n    \n    \n    \n\n        \n          \n           private static final String DEFAULT_SERVICE_NAME = \"unknown\";", "author": "dengliming", "createdAt": "2020-07-30T17:48:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEzODI0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI1NjEwNw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463256107", "bodyText": "I don't think it's a good idea to centralize these constants that are only used by the specific exporters. Keep the knowledge close to the place that needs it.", "author": "jkwatson", "createdAt": "2020-07-30T20:36:09Z", "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/export/ExporterConstants.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.trace.export;\n+\n+import java.util.concurrent.TimeUnit;\n+\n+/** Provides constants for all exporter default configuration values. */\n+public class ExporterConstants {\n+\n+  private ExporterConstants() {}\n+\n+  /** Common default host name. */\n+  public static final String DEFAULT_HOST_NAME = \"unknown\";\n+  /** Common default service name. */\n+  public static final String DEFAULT_SERVICE_NAME = DEFAULT_HOST_NAME;\n+\n+  public static final long DEFAULT_DEADLINE_MS = TimeUnit.SECONDS.toMillis(1); // 1 second\n+\n+  /** Default endpoint for otlp. */\n+  public static final String OTLP_DEFAULT_ENDPOINT = \"localhost:55680\";", "originalCommit": "b910b31fc4e89c67dc9fb69e52dd2d6f82266e22", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "675c76c4d84cd4ed3e4b499c10f53836b00c155b", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/675c76c4d84cd4ed3e4b499c10f53836b00c155b", "message": " Keep public constants to live in their own exporter", "committedDate": "2020-07-31T03:46:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYyNzY3OQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463627679", "bodyText": "The obsessive in me would love to have the public constants next to each other ;)", "author": "carlosalberto", "createdAt": "2020-07-31T13:58:32Z", "path": "exporters/jaeger/src/main/java/io/opentelemetry/exporters/jaeger/JaegerGrpcSpanExporter.java", "diffHunk": "@@ -39,11 +39,13 @@\n   private static final Logger logger = Logger.getLogger(JaegerGrpcSpanExporter.class.getName());\n   private static final String CLIENT_VERSION_KEY = \"jaeger.version\";\n   private static final String CLIENT_VERSION_VALUE = \"opentelemetry-java\";\n-  private static final String DEFAULT_JAEGER_ENDPOINT = \"localhost:14250\";\n+  public static final String DEFAULT_ENDPOINT = \"localhost:14250\";\n   private static final String HOSTNAME_KEY = \"hostname\";\n-  private static final String UNKNOWN = \"unknown\";\n+  private static final String DEFAULT_HOST_NAME = \"unknown\";\n   private static final String IP_KEY = \"ip\";\n   private static final String IP_DEFAULT = \"0.0.0.0\";\n+  public static final String DEFAULT_SERVICE_NAME = DEFAULT_HOST_NAME;", "originalCommit": "675c76c4d84cd4ed3e4b499c10f53836b00c155b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bc30adcc9ea39f3c77953cfe598d7f3488d74acd", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/bc30adcc9ea39f3c77953cfe598d7f3488d74acd", "message": "Fix review", "committedDate": "2020-07-31T14:27:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY0ODY4NA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463648684", "bodyText": "Comment is not needed anymore", "author": "iNikem", "createdAt": "2020-07-31T14:36:08Z", "path": "exporters/jaeger/src/main/java/io/opentelemetry/exporters/jaeger/JaegerGrpcSpanExporter.java", "diffHunk": "@@ -167,10 +168,10 @@ public void shutdown() {\n     private static final String KEY_SERVICE_NAME = \"otel.jaeger.service.name\";\n     private static final String KEY_ENDPOINT = \"otel.jaeger.endpoint\";\n \n-    private String serviceName = UNKNOWN;\n-    private String endpoint = DEFAULT_JAEGER_ENDPOINT;\n+    private String serviceName = DEFAULT_SERVICE_NAME;\n+    private String endpoint = DEFAULT_ENDPOINT;\n     private ManagedChannel channel;\n-    private long deadlineMs = 1_000; // 1 second\n+    private long deadlineMs = DEFAULT_DEADLINE_MS; // 1 second", "originalCommit": "bc30adcc9ea39f3c77953cfe598d7f3488d74acd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY0OTM1Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463649352", "bodyText": "Usually public static final fields are on the top, no?", "author": "iNikem", "createdAt": "2020-07-31T14:37:17Z", "path": "exporters/jaeger/src/main/java/io/opentelemetry/exporters/jaeger/JaegerGrpcSpanExporter.java", "diffHunk": "@@ -39,16 +39,17 @@\n   private static final Logger logger = Logger.getLogger(JaegerGrpcSpanExporter.class.getName());\n   private static final String CLIENT_VERSION_KEY = \"jaeger.version\";\n   private static final String CLIENT_VERSION_VALUE = \"opentelemetry-java\";\n-  private static final String DEFAULT_JAEGER_ENDPOINT = \"localhost:14250\";\n   private static final String HOSTNAME_KEY = \"hostname\";\n-  private static final String UNKNOWN = \"unknown\";\n+  private static final String DEFAULT_HOST_NAME = \"unknown\";\n   private static final String IP_KEY = \"ip\";\n   private static final String IP_DEFAULT = \"0.0.0.0\";\n-\n   private final CollectorServiceGrpc.CollectorServiceBlockingStub blockingStub;\n   private final Model.Process process;\n   private final ManagedChannel managedChannel;\n   private final long deadlineMs;\n+  public static final String DEFAULT_ENDPOINT = \"localhost:14250\";", "originalCommit": "bc30adcc9ea39f3c77953cfe598d7f3488d74acd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY2NzIwMg==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463667202", "bodyText": "agree. thx.", "author": "dengliming", "createdAt": "2020-07-31T15:08:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY0OTM1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY0OTY2MQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463649661", "bodyText": "Comment not needed", "author": "iNikem", "createdAt": "2020-07-31T14:37:47Z", "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcMetricExporter.java", "diffHunk": "@@ -158,8 +160,8 @@ public void shutdown() {\n     private static final String KEY_USE_TLS = \"otel.otlp.use.tls\";\n     private static final String KEY_METADATA = \"otel.otlp.metadata\";\n     private ManagedChannel channel;\n-    private long deadlineMs = 1_000; // 1 second\n-    private String endpoint = \"localhost:55680\";\n+    private long deadlineMs = DEFAULT_DEADLINE_MS; // 1 second", "originalCommit": "bc30adcc9ea39f3c77953cfe598d7f3488d74acd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzY0OTczOA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1486#discussion_r463649738", "bodyText": "Comment not needed", "author": "iNikem", "createdAt": "2020-07-31T14:37:55Z", "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcSpanExporter.java", "diffHunk": "@@ -166,8 +168,8 @@ public void shutdown() {\n     private static final String KEY_USE_TLS = \"otel.otlp.use.tls\";\n     private static final String KEY_METADATA = \"otel.otlp.metadata\";\n     private ManagedChannel channel;\n-    private long deadlineMs = 1_000; // 1 second\n-    private String endpoint = \"localhost:55680\";\n+    private long deadlineMs = DEFAULT_DEADLINE_MS; // 1 second", "originalCommit": "bc30adcc9ea39f3c77953cfe598d7f3488d74acd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b47b304f912fdad27443bddbd4743972e25d1b09", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/b47b304f912fdad27443bddbd4743972e25d1b09", "message": "Remove comment", "committedDate": "2020-07-31T14:51:13Z", "type": "commit"}, {"oid": "95013dd0d0ae0cba6d161dc947e63038d9778a0a", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/95013dd0d0ae0cba6d161dc947e63038d9778a0a", "message": "Fix review", "committedDate": "2020-07-31T15:09:02Z", "type": "commit"}]}