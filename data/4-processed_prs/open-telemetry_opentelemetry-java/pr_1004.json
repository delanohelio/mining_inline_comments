{"pr_number": 1004, "pr_title": "Add dropped attribute count to SpanData, Link and Event", "pr_createdAt": "2020-03-12T16:27:34Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/1004", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc1NjkzNA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1004#discussion_r391756934", "bodyText": "An int should definitely be sufficient, I would think, to hold the number of dropped attributes.", "author": "jkwatson", "createdAt": "2020-03-12T16:52:51Z", "path": "api/src/main/java/io/opentelemetry/trace/Event.java", "diffHunk": "@@ -41,4 +41,11 @@\n    * @since 0.1.0\n    */\n   Map<String, AttributeValue> getAttributes();\n+\n+  /**\n+   * Returns the number of dropped attributes.\n+   *\n+   * @return the number of dropped attributes.\n+   */\n+  long getDroppedAttributeCount();", "originalCommit": "d23a0314d0f89bfa81007f44c005fc80c5a70cf3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc1ODMxMA==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1004#discussion_r391758310", "bodyText": "Yeah, not sure why I picked long. I'll update to int.", "author": "MikeGoldsmith", "createdAt": "2020-03-12T16:55:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTc1NjkzNA=="}], "type": "inlineReview"}, {"oid": "89cb06fcfe1c923d50d32ecc328236cda997f949", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/89cb06fcfe1c923d50d32ecc328236cda997f949", "message": "add dropped attribute count to SpanData, Link and Event\n\n# Conflicts:\n#\tsdk/src/main/java/io/opentelemetry/sdk/trace/data/SpanData.java", "committedDate": "2020-03-13T13:31:29Z", "type": "commit"}, {"oid": "cf929c842c77ef5deba66769e5a1e6d90c0748d6", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cf929c842c77ef5deba66769e5a1e6d90c0748d6", "message": "add private field and update constructor for dropped attr count", "committedDate": "2020-03-13T13:31:29Z", "type": "commit"}, {"oid": "78bcf65b29abc8200fbf1fb8737d9562bccfbdc2", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/78bcf65b29abc8200fbf1fb8737d9562bccfbdc2", "message": "update count to type to int", "committedDate": "2020-03-13T13:31:30Z", "type": "commit"}, {"oid": "f07fc62101c8569538d3d3187de1f20d89fb860c", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f07fc62101c8569538d3d3187de1f20d89fb860c", "message": "add dropped attribute count to SpanData, Link and Event", "committedDate": "2020-03-13T13:31:30Z", "type": "commit"}, {"oid": "2adcf5e920d5e3c954ff1f76f4ae215f47cd1bec", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/2adcf5e920d5e3c954ff1f76f4ae215f47cd1bec", "message": "remove droppedAttributeCound from api interfaces", "committedDate": "2020-03-13T13:31:30Z", "type": "commit"}, {"oid": "2adcf5e920d5e3c954ff1f76f4ae215f47cd1bec", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/2adcf5e920d5e3c954ff1f76f4ae215f47cd1bec", "message": "remove droppedAttributeCound from api interfaces", "committedDate": "2020-03-13T13:31:30Z", "type": "forcePushed"}, {"oid": "500957a44c4368979db3eb3f67da64ac7a04beea", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/500957a44c4368979db3eb3f67da64ac7a04beea", "message": "use static int for default value in MessageEvent", "committedDate": "2020-03-13T13:34:30Z", "type": "commit"}, {"oid": "50b160517ab1cff02098bdab94282de33733fc2e", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/50b160517ab1cff02098bdab94282de33733fc2e", "message": "add missing return description for SpanData", "committedDate": "2020-03-13T13:36:36Z", "type": "commit"}, {"oid": "869533ee0af7c264512a7b739ca9c0bfaa877845", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/869533ee0af7c264512a7b739ca9c0bfaa877845", "message": "fix up some SpanDataTests", "committedDate": "2020-03-13T13:38:07Z", "type": "commit"}, {"oid": "3e6073718aac66520cd60db6c84460a8c13893e6", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/3e6073718aac66520cd60db6c84460a8c13893e6", "message": "remove unnecessary methods on Link", "committedDate": "2020-03-13T13:45:36Z", "type": "commit"}, {"oid": "d05a3624799e2e8ba8b3854eacf3519875e48180", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/d05a3624799e2e8ba8b3854eacf3519875e48180", "message": "fix linting warning for spacing", "committedDate": "2020-03-13T13:45:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjMzODAxMQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1004#discussion_r392338011", "bodyText": "Changes in this file are not needed.", "author": "bogdandrutu", "createdAt": "2020-03-13T16:31:38Z", "path": "contrib/trace_utils/src/main/java/io/opentelemetry/contrib/trace/MessageEvent.java", "diffHunk": "@@ -112,7 +118,17 @@ public String getName() {\n     return attributeValueMap;\n   }\n \n-  private MessageEvent(Map<String, AttributeValue> attributeValueMap) {\n+  private MessageEvent(Map<String, AttributeValue> attributeValueMap, int droppedAttributeCount) {\n     this.attributeValueMap = attributeValueMap;\n+    this.droppedAttributeCount = droppedAttributeCount;\n+  }\n+\n+  /**\n+   * Returns the number of dropped attributes.\n+   *\n+   * @return the number of dropped attributes.\n+   */\n+  public int getDroppedAttributeCount() {\n+    return droppedAttributeCount;", "originalCommit": "d05a3624799e2e8ba8b3854eacf3519875e48180", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1611e7962cd2b90e9961eb3ff352b7934c3f0bc3", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/1611e7962cd2b90e9961eb3ff352b7934c3f0bc3", "message": "revert changes to MessageEvent", "committedDate": "2020-03-13T16:58:13Z", "type": "commit"}]}