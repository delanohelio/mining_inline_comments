{"pr_number": 1626, "pr_title": "Apply publishing configuration to all projects, including bom and all\u2026", "pr_createdAt": "2020-09-08T07:59:47Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java/pull/1626", "timeline": [{"oid": "78962b4e4c0accdd68c37b651584f561f47cf59e", "url": "https://github.com/open-telemetry/opentelemetry-java/commit/78962b4e4c0accdd68c37b651584f561f47cf59e", "message": "Apply publishing configuration to all projects, including bom and allow it to work with java-platform.", "committedDate": "2020-09-08T07:55:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcyNTUzNw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1626#discussion_r484725537", "bodyText": "Key change is moving into this subprojects block", "author": "anuraaga", "createdAt": "2020-09-08T08:00:03Z", "path": "build.gradle", "diffHunk": "@@ -14,6 +14,120 @@ ext {\n subprojects {\n     group = \"io.opentelemetry\"\n     version = \"0.9.0-SNAPSHOT\" // CURRENT_OPEN_TELEMETRY_VERSION\n+\n+\n+\n+    plugins.withId(\"maven-publish\") {", "originalCommit": "78962b4e4c0accdd68c37b651584f561f47cf59e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcyNTczOQ==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1626#discussion_r484725739", "bodyText": "These allow picking the appropriate component for bom vs non-bom", "author": "anuraaga", "createdAt": "2020-09-08T08:00:22Z", "path": "build.gradle", "diffHunk": "@@ -14,6 +14,120 @@ ext {\n subprojects {\n     group = \"io.opentelemetry\"\n     version = \"0.9.0-SNAPSHOT\" // CURRENT_OPEN_TELEMETRY_VERSION\n+\n+\n+\n+    plugins.withId(\"maven-publish\") {\n+        // Always include the artifactory/bintray plugins to do the deployment.\n+        pluginManager.apply \"com.jfrog.artifactory\"\n+        pluginManager.apply \"com.jfrog.bintray\"\n+\n+        publishing {\n+            publications {\n+                mavenPublication(MavenPublication) {\n+                    version version\n+                    groupId group\n+\n+                    plugins.withId(\"java-platform\") {", "originalCommit": "78962b4e4c0accdd68c37b651584f561f47cf59e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcyNjE0Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1626#discussion_r484726147", "bodyText": "Gradle has finally supported these natively for a few versions. It's nice since maven publishing will pick them up automatically too without the artifact stuff", "author": "anuraaga", "createdAt": "2020-09-08T08:01:05Z", "path": "build.gradle", "diffHunk": "@@ -37,6 +151,11 @@ configure(opentelemetryProjects) {\n     sourceCompatibility = 1.7\n     targetCompatibility = 1.7\n \n+    java {\n+        withJavadocJar()", "originalCommit": "78962b4e4c0accdd68c37b651584f561f47cf59e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}