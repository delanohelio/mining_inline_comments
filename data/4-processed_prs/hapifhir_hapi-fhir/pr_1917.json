{"pr_number": 1917, "pr_title": "Update for Loinc 2.68", "pr_createdAt": "2020-06-11T21:06:52Z", "pr_url": "https://github.com/hapifhir/hapi-fhir/pull/1917", "timeline": [{"oid": "7b8b492d20ed00d6af2cdda0a7a0bf2728d588ea", "url": "https://github.com/hapifhir/hapi-fhir/commit/7b8b492d20ed00d6af2cdda0a7a0bf2728d588ea", "message": "Work on loinc updates", "committedDate": "2020-05-27T21:01:08Z", "type": "commit"}, {"oid": "a27a6c069825a6bf7ac5dd87111b3aff53f08947", "url": "https://github.com/hapifhir/hapi-fhir/commit/a27a6c069825a6bf7ac5dd87111b3aff53f08947", "message": "Merge branch 'master' into ja_20200527_account_for_loinc268", "committedDate": "2020-06-11T00:40:54Z", "type": "commit"}, {"oid": "ec52c191c6c3359886fbc64fc91f5883c49d971f", "url": "https://github.com/hapifhir/hapi-fhir/commit/ec52c191c6c3359886fbc64fc91f5883c49d971f", "message": "Work on loinc upload", "committedDate": "2020-06-11T01:43:29Z", "type": "commit"}, {"oid": "9dd5eb39d7cfb417498f350064701abf94cb1174", "url": "https://github.com/hapifhir/hapi-fhir/commit/9dd5eb39d7cfb417498f350064701abf94cb1174", "message": "Clean up CLI config", "committedDate": "2020-06-11T20:46:14Z", "type": "commit"}, {"oid": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "url": "https://github.com/hapifhir/hapi-fhir/commit/49f2a1bebaf4c196f3e872afb69d99963ac74a65", "message": "Add changelog", "committedDate": "2020-06-11T21:07:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0NTE1OA==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441845158", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\tuploadProperties.getProperty(LOINC_PART_LINK_FILE_PRIMARY.getCode(), LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode()),\n          \n          \n            \n            \t\t\t\tuploadProperties.getProperty(LOINC_PART_LINK_FILE_PRIMARY.getCode(), LOINC_PART_LINK_FILE_PRIMARY_DEFAULT.getCode()),", "author": "IanMMarshall", "createdAt": "2020-06-17T21:29:42Z", "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/TermLoaderSvcImpl.java", "diffHunk": "@@ -119,7 +114,8 @@ public UploadStatistics loadLoinc(List<FileDescriptor> theFiles, RequestDetails\n \t\t\t\tuploadProperties.getProperty(LOINC_IEEE_MEDICAL_DEVICE_CODE_MAPPING_TABLE_FILE.getCode(), LOINC_IEEE_MEDICAL_DEVICE_CODE_MAPPING_TABLE_FILE_DEFAULT.getCode()),\n \t\t\t\tuploadProperties.getProperty(LOINC_IMAGING_DOCUMENT_CODES_FILE.getCode(), LOINC_IMAGING_DOCUMENT_CODES_FILE_DEFAULT.getCode()),\n \t\t\t\tuploadProperties.getProperty(LOINC_PART_FILE.getCode(), LOINC_PART_FILE_DEFAULT.getCode()),\n-\t\t\t\tuploadProperties.getProperty(LOINC_PART_LINK_FILE.getCode(), LOINC_PART_LINK_FILE_DEFAULT.getCode()),\n+\t\t\t\tuploadProperties.getProperty(LOINC_PART_LINK_FILE_PRIMARY.getCode(), LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode()),", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0NTQ2MQ==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441845461", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\titerateOverZipFile(theDescriptors, theUploadProperties.getProperty(LOINC_PART_LINK_FILE_PRIMARY.getCode(), LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode()), handler, ',', QuoteMode.NON_NUMERIC, false);\n          \n          \n            \n            \t\titerateOverZipFile(theDescriptors, theUploadProperties.getProperty(LOINC_PART_LINK_FILE_PRIMARY.getCode(), LOINC_PART_LINK_FILE_PRIMARY_DEFAULT.getCode()), handler, ',', QuoteMode.NON_NUMERIC, false);", "author": "IanMMarshall", "createdAt": "2020-06-17T21:30:10Z", "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/TermLoaderSvcImpl.java", "diffHunk": "@@ -469,6 +468,11 @@ UploadStatistics processLoincFiles(LoadedFileDescriptors theDescriptors, Request\n \t\thandler = new LoincParentGroupFileHandler(code2concept, valueSets, conceptMaps, theUploadProperties);\n \t\titerateOverZipFile(theDescriptors, theUploadProperties.getProperty(LOINC_PARENT_GROUP_FILE.getCode(), LOINC_PARENT_GROUP_FILE_DEFAULT.getCode()), handler, ',', QuoteMode.NON_NUMERIC, false);\n \n+\t\t// Part link\n+\t\thandler = new LoincPartLinkHandler(codeSystemVersion, code2concept, propertyNamesToTypes);\n+\t\titerateOverZipFile(theDescriptors, theUploadProperties.getProperty(LOINC_PART_LINK_FILE_PRIMARY.getCode(), LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode()), handler, ',', QuoteMode.NON_NUMERIC, false);", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0NTY2Ng==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441845666", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tLOINC_PART_LINK_FILE_PRTIMARY_DEFAULT(\"AccessoryFiles/PartFile/LoincPartLink_Primary.csv\"),\n          \n          \n            \n            \tLOINC_PART_LINK_FILE_PRIMARY_DEFAULT(\"AccessoryFiles/PartFile/LoincPartLink_Primary.csv\"),", "author": "IanMMarshall", "createdAt": "2020-06-17T21:30:37Z", "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/loinc/LoincUploadPropertiesEnum.java", "diffHunk": "@@ -67,9 +67,13 @@\n \t// Part\n \tLOINC_PART_FILE(\"loinc.part.file\"),\n \tLOINC_PART_FILE_DEFAULT(\"AccessoryFiles/PartFile/Part.csv\"),\n+\n \t// Part link\n-\tLOINC_PART_LINK_FILE(\"loinc.part.link.file\"),\n-\tLOINC_PART_LINK_FILE_DEFAULT(\"AccessoryFiles/PartFile/LoincPartLink.csv\"),\n+\tLOINC_PART_LINK_FILE_PRIMARY(\"loinc.part.link.primary.file\"),\n+\tLOINC_PART_LINK_FILE_PRTIMARY_DEFAULT(\"AccessoryFiles/PartFile/LoincPartLink_Primary.csv\"),", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0NTgwNQ==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441845805", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\taddFile(zos, LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode());\n          \n          \n            \n            \t\taddFile(zos, LOINC_PART_LINK_FILE_PRIMARY_DEFAULT.getCode());", "author": "IanMMarshall", "createdAt": "2020-06-17T21:30:56Z", "path": "hapi-fhir-jpaserver-base/src/test/java/ca/uhn/fhir/jpa/provider/r4/TerminologyUploaderProviderR4Test.java", "diffHunk": "@@ -492,7 +492,8 @@ private static void addFile(ZipOutputStream theZos, String theFileName) throws I\n \t\taddFile(zos, LOINC_GROUP_FILE_DEFAULT.getCode());\n \t\taddFile(zos, LOINC_GROUP_TERMS_FILE_DEFAULT.getCode());\n \t\taddFile(zos, LOINC_PARENT_GROUP_FILE_DEFAULT.getCode());\n-\t\taddFile(zos, LOINC_PART_LINK_FILE_DEFAULT.getCode());\n+\t\taddFile(zos, LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode());", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0NTk0OQ==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441845949", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\ttheFiles.addFileZip(\"/loinc/\", LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode());\n          \n          \n            \n            \t\ttheFiles.addFileZip(\"/loinc/\", LOINC_PART_LINK_FILE_PRIMARY_DEFAULT.getCode());", "author": "IanMMarshall", "createdAt": "2020-06-17T21:31:15Z", "path": "hapi-fhir-jpaserver-base/src/test/java/ca/uhn/fhir/jpa/term/TerminologyLoaderSvcLoincTest.java", "diffHunk": "@@ -379,7 +379,8 @@ public static void addLoincMandatoryFilesToZip(ZipCollectionBuilder theFiles) th\n \t\ttheFiles.addFileZip(\"/loinc/\", LOINC_ANSWERLIST_LINK_FILE_DEFAULT.getCode());\n \t\ttheFiles.addFileZip(\"/loinc/\", LOINC_ANSWERLIST_LINK_DUPLICATE_FILE_DEFAULT.getCode());\n \t\ttheFiles.addFileZip(\"/loinc/\", LOINC_PART_FILE_DEFAULT.getCode());\n-\t\ttheFiles.addFileZip(\"/loinc/\", LOINC_PART_LINK_FILE_DEFAULT.getCode());\n+\t\ttheFiles.addFileZip(\"/loinc/\", LOINC_PART_LINK_FILE_PRTIMARY_DEFAULT.getCode());", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0ODg1MA==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441848850", "bodyText": "FIXME needs to be addressed.", "author": "IanMMarshall", "createdAt": "2020-06-17T21:37:54Z", "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/loinc/LoincHandler.java", "diffHunk": "@@ -86,44 +86,48 @@ public void accept(CSVRecord theRecord) {\n \t\t\t\t\t\t\tconcept.addPropertyString(nextPropertyName, nextPropertyValue);\n \t\t\t\t\t\t\tbreak;\n \t\t\t\t\t\tcase CODING:\n-\t\t\t\t\t\t\t// TODO: handle \"Ser/Plas^Donor\"\n-\t\t\t\t\t\t\tString propertyValue = nextPropertyValue;\n-\t\t\t\t\t\t\tif (nextPropertyName.equals(\"COMPONENT\")) {\n-\t\t\t\t\t\t\t\tif (propertyValue.contains(\"^\")) {\n-\t\t\t\t\t\t\t\t\tpropertyValue = propertyValue.substring(0, propertyValue.indexOf(\"^\"));\n-\t\t\t\t\t\t\t\t} else if (propertyValue.contains(\"/\")) {\n-\t\t\t\t\t\t\t\t\tpropertyValue = propertyValue.substring(0, propertyValue.indexOf(\"/\"));\n-\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t}\n-\n-\t\t\t\t\t\t\tPartTypeAndPartName key = new PartTypeAndPartName(nextPropertyName, propertyValue);\n-\t\t\t\t\t\t\tString partNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"TIME_ASPCT\")) {\n-\t\t\t\t\t\t\t\tkey = new PartTypeAndPartName(\"TIME\", nextPropertyValue);\n-\t\t\t\t\t\t\t\tpartNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"METHOD_TYP\")) {\n-\t\t\t\t\t\t\t\tkey = new PartTypeAndPartName(\"METHOD\", nextPropertyValue);\n-\t\t\t\t\t\t\t\tpartNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"SCALE_TYP\")) {\n-\t\t\t\t\t\t\t\tkey = new PartTypeAndPartName(\"SCALE\", nextPropertyValue);\n-\t\t\t\t\t\t\t\tpartNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\t\t\t\t\t\t\t}\n-\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"SYSTEM\") && nextPropertyValue.startsWith(\"^\")) {\n-\t\t\t\t\t\t\t\tcontinue;\n-\t\t\t\t\t\t\t}\n-\n-\t\t\t\t\t\t\tif (isNotBlank(partNumber)) {\n-\t\t\t\t\t\t\t\tconcept.addPropertyCoding(nextPropertyName, ITermLoaderSvc.LOINC_URI, partNumber, nextPropertyValue);\n-\t\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\t\tString msg = \"Unable to find part code with TYPE[\" + key.getPartType() + \"] and NAME[\" + nextPropertyValue + \"] (using name \" + propertyValue + \")\";\n-\t\t\t\t\t\t\t\tourLog.warn(msg);\n-//\t\t\t\t\t\t\t\tthrow new InternalErrorException(msg);\n-\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t// These are handles by the LOINC PartLink file\n \t\t\t\t\t\t\tbreak;\n+\n+\t\t\t\t\t\t\t// FIXME: remove", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQxMzkwMw==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r442413903", "bodyText": "Oops- Done. Yup, will remove", "author": "jamesagnew", "createdAt": "2020-06-18T18:14:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg0ODg1MA=="}], "type": "inlineReview"}, {"oid": "c9099f73a83c41d40a7a445d6694f97a5cb7c7a9", "url": "https://github.com/hapifhir/hapi-fhir/commit/c9099f73a83c41d40a7a445d6694f97a5cb7c7a9", "message": "Update hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/TermLoaderSvcImpl.java\n\nCo-authored-by: IanMMarshall <49525404+IanMMarshall@users.noreply.github.com>", "committedDate": "2020-06-17T21:41:15Z", "type": "commit"}, {"oid": "4c5cbe4ae81b65046b5802526b2fbfbd40ec6695", "url": "https://github.com/hapifhir/hapi-fhir/commit/4c5cbe4ae81b65046b5802526b2fbfbd40ec6695", "message": "Update hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/TermLoaderSvcImpl.java\n\nCo-authored-by: IanMMarshall <49525404+IanMMarshall@users.noreply.github.com>", "committedDate": "2020-06-17T21:54:24Z", "type": "commit"}, {"oid": "0a7e55dd77b05628d34e4de9b830ac8e87831706", "url": "https://github.com/hapifhir/hapi-fhir/commit/0a7e55dd77b05628d34e4de9b830ac8e87831706", "message": "Update hapi-fhir-jpaserver-base/src/test/java/ca/uhn/fhir/jpa/provider/r4/TerminologyUploaderProviderR4Test.java\n\nCo-authored-by: IanMMarshall <49525404+IanMMarshall@users.noreply.github.com>", "committedDate": "2020-06-17T21:54:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg1NzA3NQ==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441857075", "bodyText": "I think you might be able to remove the myPartTypeAndPartNameToPartNumber property as this commented block of code appears to be the only thing referencing this property.", "author": "IanMMarshall", "createdAt": "2020-06-17T21:57:31Z", "path": "hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/loinc/LoincHandler.java", "diffHunk": "@@ -86,44 +86,48 @@ public void accept(CSVRecord theRecord) {\n \t\t\t\t\t\t\tconcept.addPropertyString(nextPropertyName, nextPropertyValue);\n \t\t\t\t\t\t\tbreak;\n \t\t\t\t\t\tcase CODING:\n-\t\t\t\t\t\t\t// TODO: handle \"Ser/Plas^Donor\"\n-\t\t\t\t\t\t\tString propertyValue = nextPropertyValue;\n-\t\t\t\t\t\t\tif (nextPropertyName.equals(\"COMPONENT\")) {\n-\t\t\t\t\t\t\t\tif (propertyValue.contains(\"^\")) {\n-\t\t\t\t\t\t\t\t\tpropertyValue = propertyValue.substring(0, propertyValue.indexOf(\"^\"));\n-\t\t\t\t\t\t\t\t} else if (propertyValue.contains(\"/\")) {\n-\t\t\t\t\t\t\t\t\tpropertyValue = propertyValue.substring(0, propertyValue.indexOf(\"/\"));\n-\t\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\t}\n-\n-\t\t\t\t\t\t\tPartTypeAndPartName key = new PartTypeAndPartName(nextPropertyName, propertyValue);\n-\t\t\t\t\t\t\tString partNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"TIME_ASPCT\")) {\n-\t\t\t\t\t\t\t\tkey = new PartTypeAndPartName(\"TIME\", nextPropertyValue);\n-\t\t\t\t\t\t\t\tpartNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"METHOD_TYP\")) {\n-\t\t\t\t\t\t\t\tkey = new PartTypeAndPartName(\"METHOD\", nextPropertyValue);\n-\t\t\t\t\t\t\t\tpartNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\t\t\t\t\t\t\t}\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"SCALE_TYP\")) {\n-\t\t\t\t\t\t\t\tkey = new PartTypeAndPartName(\"SCALE\", nextPropertyValue);\n-\t\t\t\t\t\t\t\tpartNumber = myPartTypeAndPartNameToPartNumber.get(key);\n-\t\t\t\t\t\t\t}\n-\n-\t\t\t\t\t\t\tif (partNumber == null && nextPropertyName.equals(\"SYSTEM\") && nextPropertyValue.startsWith(\"^\")) {\n-\t\t\t\t\t\t\t\tcontinue;\n-\t\t\t\t\t\t\t}\n-\n-\t\t\t\t\t\t\tif (isNotBlank(partNumber)) {\n-\t\t\t\t\t\t\t\tconcept.addPropertyCoding(nextPropertyName, ITermLoaderSvc.LOINC_URI, partNumber, nextPropertyValue);\n-\t\t\t\t\t\t\t} else {\n-\t\t\t\t\t\t\t\tString msg = \"Unable to find part code with TYPE[\" + key.getPartType() + \"] and NAME[\" + nextPropertyValue + \"] (using name \" + propertyValue + \")\";\n-\t\t\t\t\t\t\t\tourLog.warn(msg);\n-//\t\t\t\t\t\t\t\tthrow new InternalErrorException(msg);\n-\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t// These are handles by the LOINC PartLink file\n \t\t\t\t\t\t\tbreak;\n+\n+\t\t\t\t\t\t\t// FIXME: remove\n+//\t\t\t\t\t\t\t// TODO: handle \"Ser/Plas^Donor\"\n+//\t\t\t\t\t\t\tString propertyValue = nextPropertyValue;\n+//\t\t\t\t\t\t\tif (nextPropertyName.equals(\"COMPONENT\")) {\n+//\t\t\t\t\t\t\t\tif (propertyValue.contains(\"^\")) {\n+//\t\t\t\t\t\t\t\t\tpropertyValue = propertyValue.substring(0, propertyValue.indexOf(\"^\"));\n+//\t\t\t\t\t\t\t\t} else if (propertyValue.contains(\"/\")) {\n+//\t\t\t\t\t\t\t\t\tpropertyValue = propertyValue.substring(0, propertyValue.indexOf(\"/\"));\n+//\t\t\t\t\t\t\t\t}\n+//\t\t\t\t\t\t\t}\n+//\n+//\t\t\t\t\t\t\tPartTypeAndPartName key = new PartTypeAndPartName(nextPropertyName, propertyValue);\n+//\t\t\t\t\t\t\tString partNumber = myPartTypeAndPartNameToPartNumber.get(key);", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ3MjAyMw==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r442472023", "bodyText": "Oops- Done. Yup, will remove", "author": "jamesagnew", "createdAt": "2020-06-18T20:02:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg1NzA3NQ=="}], "type": "inlineReview"}, {"oid": "d0c5290fae8ec0c7edc667c47e51f0221c3327bb", "url": "https://github.com/hapifhir/hapi-fhir/commit/d0c5290fae8ec0c7edc667c47e51f0221c3327bb", "message": "Update hapi-fhir-jpaserver-base/src/main/java/ca/uhn/fhir/jpa/term/loinc/LoincUploadPropertiesEnum.java\n\nCo-authored-by: IanMMarshall <49525404+IanMMarshall@users.noreply.github.com>", "committedDate": "2020-06-17T21:57:44Z", "type": "commit"}, {"oid": "3605e408d13f006ef7830d75c03911f8e6d1db10", "url": "https://github.com/hapifhir/hapi-fhir/commit/3605e408d13f006ef7830d75c03911f8e6d1db10", "message": "Update hapi-fhir-jpaserver-base/src/test/java/ca/uhn/fhir/jpa/term/TerminologyLoaderSvcLoincTest.java\n\nCo-authored-by: IanMMarshall <49525404+IanMMarshall@users.noreply.github.com>", "committedDate": "2020-06-17T21:57:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg1ODY0MA==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r441858640", "bodyText": "I am confused here - the three new asserts here appear to simply duplicate the previous three assert statements. Were these supposed to be checking something else?", "author": "IanMMarshall", "createdAt": "2020-06-17T22:01:21Z", "path": "hapi-fhir-jpaserver-base/src/test/java/ca/uhn/fhir/jpa/term/TerminologyLoaderSvcLoincTest.java", "diffHunk": "@@ -413,6 +414,9 @@ public void testLoadLoincMultiaxialHierarchySupport() throws Exception {\n \t\tassertEquals(ITermLoaderSvc.LOINC_URI, code.getCodingProperties(\"PROPERTY\").get(0).getSystem());\n \t\tassertEquals(\"LP6802-5\", code.getCodingProperties(\"PROPERTY\").get(0).getCode());\n \t\tassertEquals(\"Elpot\", code.getCodingProperties(\"PROPERTY\").get(0).getDisplay());\n+\t\tassertEquals(ITermLoaderSvc.LOINC_URI, code.getCodingProperties(\"PROPERTY\").get(0).getSystem());\n+\t\tassertEquals(\"LP6802-5\", code.getCodingProperties(\"PROPERTY\").get(0).getCode());\n+\t\tassertEquals(\"Elpot\", code.getCodingProperties(\"PROPERTY\").get(0).getDisplay());", "originalCommit": "49f2a1bebaf4c196f3e872afb69d99963ac74a65", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQxMzk1MQ==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1917#discussion_r442413951", "bodyText": "Removed", "author": "jamesagnew", "createdAt": "2020-06-18T18:14:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTg1ODY0MA=="}], "type": "inlineReview"}, {"oid": "40d8be205b9101708b412726a9606edfbee78c4d", "url": "https://github.com/hapifhir/hapi-fhir/commit/40d8be205b9101708b412726a9606edfbee78c4d", "message": "Clean up imports", "committedDate": "2020-06-18T14:28:04Z", "type": "commit"}, {"oid": "c7c40f6276d1e07bcac3bfb241f9e8c4e08bd1d7", "url": "https://github.com/hapifhir/hapi-fhir/commit/c7c40f6276d1e07bcac3bfb241f9e8c4e08bd1d7", "message": "Merge branch 'master' into ja_20200527_account_for_loinc268", "committedDate": "2020-06-18T14:28:24Z", "type": "commit"}, {"oid": "9e3533b31b5aa7e1f4d249f03a11359b2dc1c64f", "url": "https://github.com/hapifhir/hapi-fhir/commit/9e3533b31b5aa7e1f4d249f03a11359b2dc1c64f", "message": "LOINC fixes", "committedDate": "2020-06-18T18:13:49Z", "type": "commit"}, {"oid": "cd73039e82e4466522ce7076f88daf340277459f", "url": "https://github.com/hapifhir/hapi-fhir/commit/cd73039e82e4466522ce7076f88daf340277459f", "message": "Loinc loader fixes", "committedDate": "2020-06-18T19:50:16Z", "type": "commit"}]}