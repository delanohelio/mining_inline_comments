{"pr_number": 1733, "pr_title": "Implement Jackson parser/serializer", "pr_createdAt": "2020-02-28T02:48:36Z", "pr_url": "https://github.com/hapifhir/hapi-fhir/pull/1733", "timeline": [{"oid": "95c0dbcfef7d4443d630b7843500da4ee2d0553f", "url": "https://github.com/hapifhir/hapi-fhir/commit/95c0dbcfef7d4443d630b7843500da4ee2d0553f", "message": "[dev] Integration of a Jackson serializer and deserializer - first stage", "committedDate": "2020-01-28T20:46:41Z", "type": "commit"}, {"oid": "f5a2f916b97a46d3f62f52c3b0877929c47a71b7", "url": "https://github.com/hapifhir/hapi-fhir/commit/f5a2f916b97a46d3f62f52c3b0877929c47a71b7", "message": "[fix] Fixed some serializing issues\n[improve] Improved the processing, removed the loggers", "committedDate": "2020-01-28T20:46:41Z", "type": "commit"}, {"oid": "d6a1d483de530bcf14ce96c374ba0679066e29f0", "url": "https://github.com/hapifhir/hapi-fhir/commit/d6a1d483de530bcf14ce96c374ba0679066e29f0", "message": "[clean] Removed the JacksonSerializer class, replaced all the Gson classes with Jackson classes", "committedDate": "2020-01-28T20:46:41Z", "type": "commit"}, {"oid": "9f71252600152bfbf04a69eedf74d8db21e00659", "url": "https://github.com/hapifhir/hapi-fhir/commit/9f71252600152bfbf04a69eedf74d8db21e00659", "message": "[clean] Small cleanup", "committedDate": "2020-01-28T20:46:41Z", "type": "commit"}, {"oid": "da3b87366aa48585b2dc05bafb3c3e4456254693", "url": "https://github.com/hapifhir/hapi-fhir/commit/da3b87366aa48585b2dc05bafb3c3e4456254693", "message": "[improve] Throw a ConfigurationException if the JsonGenerator cannot be created", "committedDate": "2020-01-28T20:46:41Z", "type": "commit"}, {"oid": "bd8da810802a9dd6f4c2ac4eec412b24e1eafebc", "url": "https://github.com/hapifhir/hapi-fhir/commit/bd8da810802a9dd6f4c2ac4eec412b24e1eafebc", "message": "[improve] Use the ObjectMapper's `readTree` instead of `readValue`", "committedDate": "2020-01-28T20:46:41Z", "type": "commit"}, {"oid": "09f20a35307f470ae76d1e240b2c6b9f0f37f666", "url": "https://github.com/hapifhir/hapi-fhir/commit/09f20a35307f470ae76d1e240b2c6b9f0f37f666", "message": "[dev] Latest fixes and improvements", "committedDate": "2020-01-28T20:46:42Z", "type": "commit"}, {"oid": "65d2a33c30d31d8e4e5f172a14de07e39fcf6fb3", "url": "https://github.com/hapifhir/hapi-fhir/commit/65d2a33c30d31d8e4e5f172a14de07e39fcf6fb3", "message": "[dev] Use the Jackson serializer", "committedDate": "2020-01-28T20:46:42Z", "type": "commit"}, {"oid": "656778348e2c07fb67b850a739b214da547be603", "url": "https://github.com/hapifhir/hapi-fhir/commit/656778348e2c07fb67b850a739b214da547be603", "message": "[clean] Removed the ObjectMapper configuration, for now", "committedDate": "2020-01-28T20:57:53Z", "type": "commit"}, {"oid": "7d2e309f8e66f8105a06d436639f190f45d51b3b", "url": "https://github.com/hapifhir/hapi-fhir/commit/7d2e309f8e66f8105a06d436639f190f45d51b3b", "message": "[fix] Use the GsonStructure also for the parsing of a FHIR resource", "committedDate": "2020-01-29T19:46:42Z", "type": "commit"}, {"oid": "850cf23ba3d954ee64531cdd4bc40d252bcb6746", "url": "https://github.com/hapifhir/hapi-fhir/commit/850cf23ba3d954ee64531cdd4bc40d252bcb6746", "message": "[clean] Removed the LinkedList usage", "committedDate": "2020-01-31T04:47:29Z", "type": "commit"}, {"oid": "2bf1a07433bfabd0d4c7763f87b642614392f83b", "url": "https://github.com/hapifhir/hapi-fhir/commit/2bf1a07433bfabd0d4c7763f87b642614392f83b", "message": "Merge branch 'jackson-parser-integration' of https://github.com/bogdansolga/hapi-fhir into bogdansolga-jackson-parser-integration", "committedDate": "2020-02-28T02:21:24Z", "type": "commit"}, {"oid": "cc1f4354074f928baf876c1a3a79490aa17ef095", "url": "https://github.com/hapifhir/hapi-fhir/commit/cc1f4354074f928baf876c1a3a79490aa17ef095", "message": "Work on preparing for merge of #1673", "committedDate": "2020-02-28T02:47:08Z", "type": "commit"}, {"oid": "4f9b68b8acb0d93e7aaa9fa6d0dce22490eae4d9", "url": "https://github.com/hapifhir/hapi-fhir/commit/4f9b68b8acb0d93e7aaa9fa6d0dce22490eae4d9", "message": "Resolve build errors", "committedDate": "2020-02-28T03:01:03Z", "type": "commit"}, {"oid": "a106e7c5e9872b44ac50f6a7819d958f6042d837", "url": "https://github.com/hapifhir/hapi-fhir/commit/a106e7c5e9872b44ac50f6a7819d958f6042d837", "message": "Work on parser integration", "committedDate": "2020-02-28T21:38:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2OTY1OQ==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1733#discussion_r386069659", "bodyText": "Rather than removing LinkedList, I would suggest using a Stack like the GsonWriter uses. This is necessary in order for endBlock() to work properly if called twice in a row", "author": "bdenton", "createdAt": "2020-03-01T02:00:37Z", "path": "hapi-fhir-base/src/main/java/ca/uhn/fhir/parser/json/jackson/JacksonWriter.java", "diffHunk": "@@ -21,7 +19,6 @@\n     }\n \n     private BlockType blockType = BlockType.NONE;\n-    private final List<BlockType> blocks = new LinkedList<>();", "originalCommit": "850cf23ba3d954ee64531cdd4bc40d252bcb6746", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjE0MTA4MQ==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1733#discussion_r386141081", "bodyText": "All tests are passing without having this stack- Truthfully I don't actually see where endBlock() is actually called either, other than in tests. What is its purpose?", "author": "jamesagnew", "createdAt": "2020-03-01T21:10:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2OTY1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYyNzg1Ng==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1733#discussion_r386627856", "bodyText": "When it was written, there were a couple of places in the Json serialization process where the closing of nested arrays & objects was unclear... could need to close a nested array or the surrounding object. Rather than adding logic to JsonParser to keep track of what needed closing, seemed to make more sense to have the JsonLikeWriter keep track", "author": "bdenton", "createdAt": "2020-03-02T20:20:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2OTY1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg4MTg2Ng==", "url": "https://github.com/hapifhir/hapi-fhir/pull/1733#discussion_r393881866", "bodyText": "hmm, i wonder if they were refactored out as a part of other fixes. The good news is that they don't seem to be present any more.", "author": "jamesagnew", "createdAt": "2020-03-17T18:21:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjA2OTY1OQ=="}], "type": "inlineReview"}, {"oid": "d489e944ee5356f256ec8e9feb5b8004ef084c9a", "url": "https://github.com/hapifhir/hapi-fhir/commit/d489e944ee5356f256ec8e9feb5b8004ef084c9a", "message": "Tests passing", "committedDate": "2020-03-01T21:02:07Z", "type": "commit"}, {"oid": "3b273eba4c9217f6fcd005ea1d900c5fc77ac9d0", "url": "https://github.com/hapifhir/hapi-fhir/commit/3b273eba4c9217f6fcd005ea1d900c5fc77ac9d0", "message": "Resolve fixme", "committedDate": "2020-03-01T21:07:53Z", "type": "commit"}, {"oid": "50d056a783af92a51a6e276c54ee9da7b8139bcf", "url": "https://github.com/hapifhir/hapi-fhir/commit/50d056a783af92a51a6e276c54ee9da7b8139bcf", "message": "Merge branch 'master' into bogdansolga-jackson-parser-integration", "committedDate": "2020-03-17T18:28:20Z", "type": "commit"}, {"oid": "335f7838b7ea76766e674d26898277097f066008", "url": "https://github.com/hapifhir/hapi-fhir/commit/335f7838b7ea76766e674d26898277097f066008", "message": "CLeanup", "committedDate": "2020-03-17T18:31:15Z", "type": "commit"}, {"oid": "b15b6dd3b0a559bb842a488efead98f8ab6931d7", "url": "https://github.com/hapifhir/hapi-fhir/commit/b15b6dd3b0a559bb842a488efead98f8ab6931d7", "message": "Fix dependency", "committedDate": "2020-03-17T19:54:19Z", "type": "commit"}]}