{"pr_number": 514, "pr_title": "Migrate from travis to github actions ci", "pr_createdAt": "2020-11-04T15:58:31Z", "pr_url": "https://github.com/opensrp/opensrp-client-native-form/pull/514", "timeline": [{"oid": "8369aed9e726afb62bdd4a1eca291ead7a4203c7", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/8369aed9e726afb62bdd4a1eca291ead7a4203c7", "message": "Migrate from travis to github actions ci", "committedDate": "2020-11-04T15:55:25Z", "type": "commit"}, {"oid": "40cee7f2aed41737328d7919d327aeba293d5bbb", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/40cee7f2aed41737328d7919d327aeba293d5bbb", "message": "Trigger Build", "committedDate": "2020-11-04T17:56:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzU4MDM3OQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/514#discussion_r517580379", "bodyText": "This should be for Coveralls and not Javadoc task", "author": "githengi", "createdAt": "2020-11-04T19:27:36Z", "path": ".github/workflows/ci.yml", "diffHunk": "@@ -0,0 +1,34 @@\n+# This workflow will build a Java project with Gradle\n+# For more information see: https://help.github.com/actions/language-and-framework-guides/building-and-testing-java-with-gradle\n+\n+name: Android CI with Gradle\n+\n+on:\n+  push:\n+    branches: [ master ]\n+  pull_request:\n+    branches: [ master ]\n+\n+jobs:\n+  unit_tests:\n+\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+    - uses: actions/checkout@v2\n+    - name: Set up JDK 1.8\n+      uses: actions/setup-java@v1\n+      with:\n+        java-version: 1.8\n+    - name: Install NDK\n+      run: echo \"y\" | sudo ${ANDROID_HOME}/tools/bin/sdkmanager --install \"ndk;21.0.6113669\" --sdk_root=${ANDROID_SDK_ROOT}\n+    - name: Grant execute permission for gradlew\n+      run: chmod +x gradlew\n+    - name: Run unit tests with Gradle\n+      run: ./gradlew :android-json-form-wizard:clean :android-json-form-wizard:jacocoTestReport  --stacktrace\n+    - name: Upload coverage to Coveralls with Gradle\n+      run: ./gradlew coveralls --stacktrace\n+    - name: Generate Javadoc with Gradle\n+      run: ./gradlew javadoc\n+      env:\n+        COVERALLS_REPO_TOKEN: ${{ secrets.COVERALLS_TOKEN }}", "originalCommit": "40cee7f2aed41737328d7919d327aeba293d5bbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "78aed2892c449610c7bad1bdb149d8af7a8cdeb9", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/78aed2892c449610c7bad1bdb149d8af7a8cdeb9", "message": "Add coveralls repo token", "committedDate": "2020-11-04T19:57:44Z", "type": "commit"}, {"oid": "608451e8494102baf1ba2c0490d2b37153fd31fc", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/608451e8494102baf1ba2c0490d2b37153fd31fc", "message": "Trigger Build", "committedDate": "2020-11-05T03:09:04Z", "type": "commit"}, {"oid": "1b618d1e76601d768f7155f34a3dd8a271edb85f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1b618d1e76601d768f7155f34a3dd8a271edb85f", "message": "Correct Indentation on CI config", "committedDate": "2020-11-05T11:32:10Z", "type": "commit"}]}