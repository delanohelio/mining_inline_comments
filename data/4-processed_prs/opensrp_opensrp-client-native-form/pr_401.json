{"pr_number": 401, "pr_title": "Support defining spinner keys and values within an options block", "pr_createdAt": "2020-04-03T07:46:05Z", "pr_url": "https://github.com/opensrp/opensrp-client-native-form/pull/401", "timeline": [{"oid": "370fc0e34e07272ab583aa364ddca70d6fdeeff0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/370fc0e34e07272ab583aa364ddca70d6fdeeff0", "message": "Support defining spinners key and values within an options block", "committedDate": "2020-04-03T07:42:48Z", "type": "commit"}, {"oid": "ccacee2d7197826124e7b259dd21daced0908a9c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ccacee2d7197826124e7b259dd21daced0908a9c", "message": "Add spinner options block demo to basic form", "committedDate": "2020-04-03T07:47:03Z", "type": "commit"}, {"oid": "3168416cf8d6002cf95055554161d7e5e3e14441", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3168416cf8d6002cf95055554161d7e5e3e14441", "message": "Add SpinnerFactory test", "committedDate": "2020-04-03T08:05:17Z", "type": "commit"}, {"oid": "10643c797d3646f6c3a45513bbb5387529e5d384", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/10643c797d3646f6c3a45513bbb5387529e5d384", "message": "Bump lib version", "committedDate": "2020-04-03T08:06:08Z", "type": "commit"}, {"oid": "9bba749a83721e0863f1dd5b5654892d780584d5", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/9bba749a83721e0863f1dd5b5654892d780584d5", "message": "Fix failing NumericDatePicker test", "committedDate": "2020-04-03T08:09:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MzUzNw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r403493537", "bodyText": "How does this spinner variant save the selected items?\nDoes it use the value attribute on the root of the widget? If not it should work like the radio button and as the previous spinner variant since they are select one.", "author": "dubdabasoduba", "createdAt": "2020-04-04T17:16:41Z", "path": "sample/src/main/assets/json.form/basic_form.json", "diffHunk": "@@ -353,6 +353,45 @@\n           \"user_two\": \"1713AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n         }\n       },\n+      {\n+        \"key\": \"response_spinner_with_options\",\n+        \"openmrs_entity_parent\": \"\",\n+        \"openmrs_entity\": \"\",\n+        \"openmrs_entity_id\": \"\",\n+        \"type\": \"spinner\",\n+        \"hint\": \"Response Spinners\",\n+        \"options\": [\n+          {\n+            \"key\": \"yes\",\n+            \"text\": \"Yes\",\n+            \"value\": false,", "originalCommit": "9bba749a83721e0863f1dd5b5654892d780584d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjIxMDMxMg==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r406210312", "bodyText": "Nothing about  how selections are saved has been altered. The only changes here are to pull the keys and values for the options block.\nI also encourage testing this on the client apps to verify the same.", "author": "vincent-karuri", "createdAt": "2020-04-09T13:38:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MzUzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NDYzMA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r408684630", "bodyText": "Tested on ANC.", "author": "dubdabasoduba", "createdAt": "2020-04-15T08:53:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MzUzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NTU2OQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r408685569", "bodyText": "I would recommend removing the \"value\":true attribute on the options. its only needed for checkboxes. Single value selections like radio buttons & the spinner don't need it.", "author": "dubdabasoduba", "createdAt": "2020-04-15T08:55:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MzUzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTIyMTE2MA==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r411221160", "bodyText": "Done.", "author": "vincent-karuri", "createdAt": "2020-04-20T09:14:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MzUzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NzUxMw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r408687513", "bodyText": "we should also update this functionality to make sure the openmrs_entities can be read from the options if the options are available. Then we wouldn't need this block for spinners with options", "author": "dubdabasoduba", "createdAt": "2020-04-15T08:58:16Z", "path": "sample/src/main/assets/json.form/basic_form.json", "diffHunk": "@@ -353,6 +353,45 @@\n           \"user_two\": \"1713AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n         }\n       },\n+      {\n+        \"key\": \"response_spinner_with_options\",\n+        \"openmrs_entity_parent\": \"\",\n+        \"openmrs_entity\": \"\",\n+        \"openmrs_entity_id\": \"\",\n+        \"type\": \"spinner\",\n+        \"hint\": \"Response Spinners\",\n+        \"options\": [\n+          {\n+            \"key\": \"yes\",\n+            \"text\": \"Yes\",\n+            \"value\": false,\n+            \"openmrs_entity\": \"\",\n+            \"openmrs_entity_id\": \"\"\n+          },\n+          {\n+            \"key\": \"no\",\n+            \"text\": \"No\",\n+            \"value\": false,\n+            \"openmrs_entity\": \"\",\n+            \"openmrs_entity_id\": \"\"\n+          },\n+          {\n+            \"key\": \"maybe\",\n+            \"text\": \"Maybe\",\n+            \"value\": false,\n+            \"openmrs_entity\": \"\",\n+            \"openmrs_entity_id\": \"\"\n+          }\n+        ],\n+        \"v_required\": {\n+          \"value\": \"true\",\n+          \"err\": \"Please enter response\"\n+        },\n+        \"openmrs_choice_ids\": {\n+          \"user_one\": \"1107AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\n+          \"user_two\": \"1713AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\"\n+        }", "originalCommit": "9bba749a83721e0863f1dd5b5654892d780584d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTIyMzk3OQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r411223979", "bodyText": "Are these currently extracted in the widget factory?", "author": "vincent-karuri", "createdAt": "2020-04-20T09:18:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NzUxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTIzNDE3Ng==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r411234176", "bodyText": "And what do the openmrs_choice_ids correspond to when compared with checkbox options?", "author": "vincent-karuri", "createdAt": "2020-04-20T09:33:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NzUxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI0MDQzMg==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r411240432", "bodyText": "They correspond to the key & the openmrs_entity_id", "author": "dubdabasoduba", "createdAt": "2020-04-20T09:43:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NzUxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTI2NDQ2Nw==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r411264467", "bodyText": "Thanks.", "author": "vincent-karuri", "createdAt": "2020-04-20T10:22:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NzUxMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMzNDc2MQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/401#discussion_r411334761", "bodyText": "Done.", "author": "vincent-karuri", "createdAt": "2020-04-20T12:25:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NzUxMw=="}], "type": "inlineReview"}, {"oid": "4ff62048af0bce4c250d66ff7a029ce93da8c44a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/4ff62048af0bce4c250d66ff7a029ce93da8c44a", "message": "Remove redundant value fields", "committedDate": "2020-04-20T09:41:52Z", "type": "commit"}, {"oid": "3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "message": "Extract openmrs attributes from spinner options", "committedDate": "2020-04-20T12:31:22Z", "type": "commit"}, {"oid": "3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3b112d53f2f5d63828433a1f4c17ef2d3a02fc75", "message": "Extract openmrs attributes from spinner options", "committedDate": "2020-04-20T12:31:22Z", "type": "forcePushed"}, {"oid": "3dc6b903b0b5f21dcd4de618ce20f476ee438ccf", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3dc6b903b0b5f21dcd4de618ce20f476ee438ccf", "message": "Merge remote-tracking branch 'origin/master' into support-options-block-in-spinner-factory", "committedDate": "2020-04-20T12:43:45Z", "type": "commit"}, {"oid": "07344f5c244c31a14799c90973018265e098ed82", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/07344f5c244c31a14799c90973018265e098ed82", "message": "Fix bug when verifying spinner type and extracting spinner key", "committedDate": "2020-04-20T13:24:00Z", "type": "commit"}, {"oid": "2896a27b7db5f2160f040d9d84e10ba63ab51f29", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/2896a27b7db5f2160f040d9d84e10ba63ab51f29", "message": "Add form utils test", "committedDate": "2020-04-20T13:24:52Z", "type": "commit"}, {"oid": "cab4d48584cdd358bc2e45aaaf8bc5302763eec0", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/cab4d48584cdd358bc2e45aaaf8bc5302763eec0", "message": "Merge branch 'master' into support-options-block-in-spinner-factory", "committedDate": "2020-04-22T08:00:17Z", "type": "commit"}, {"oid": "dc2093e2949ff1b8961ab663dada1bdc1e7bb99e", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/dc2093e2949ff1b8961ab663dada1bdc1e7bb99e", "message": "Merge branch 'master' into support-options-block-in-spinner-factory", "committedDate": "2020-04-22T08:02:41Z", "type": "commit"}, {"oid": "24d89744245948234337356f5378adfa35d0157a", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/24d89744245948234337356f5378adfa35d0157a", "message": ":zap: add codacy standards suggestions", "committedDate": "2020-04-22T08:23:21Z", "type": "commit"}]}