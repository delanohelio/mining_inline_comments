{"pr_number": 1156, "pr_title": "Document changed UUID serialization methods", "pr_createdAt": "2020-03-06T20:04:25Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1156", "timeline": [{"oid": "753d04e83e1dfb9e0b70f07e4ca5c496f08d73a7", "url": "https://github.com/FabricMC/yarn/commit/753d04e83e1dfb9e0b70f07e4ca5c496f08d73a7", "message": "Document changed NBT methods", "committedDate": "2020-03-06T20:00:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMTE4Mg==", "url": "https://github.com/FabricMC/yarn/pull/1156#discussion_r389221182", "bodyText": "Why \"old\"? What's the difference between this method and the new one exactly? Also, is it also annotated as @Deprecated?", "author": "Runemoro", "createdAt": "2020-03-07T02:51:40Z", "path": "mappings/net/minecraft/nbt/CompoundTag.mapping", "diffHunk": "@@ -60,7 +60,8 @@ CLASS net/minecraft/class_2487 net/minecraft/nbt/CompoundTag\n \t\tARG 1 key\n \tMETHOD method_10559 createCrashReport (Ljava/lang/String;Lnet/minecraft/class_4614;Ljava/lang/ClassCastException;)Lnet/minecraft/class_128;\n \t\tARG 1 key\n-\tMETHOD method_10560 putUuid (Ljava/lang/String;Ljava/util/UUID;)V\n+\tMETHOD method_10560 putUuidOld (Ljava/lang/String;Ljava/util/UUID;)V", "originalCommit": "753d04e83e1dfb9e0b70f07e4ca5c496f08d73a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMjMwMw==", "url": "https://github.com/FabricMC/yarn/pull/1156#discussion_r389222303", "bodyText": "The old puts uuid into a sub compound tag with M and L long tags. the new one puts a sub int array tag with 4 uuid components", "author": "liach", "createdAt": "2020-03-07T03:08:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMTE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMjgwOA==", "url": "https://github.com/FabricMC/yarn/pull/1156#discussion_r389222808", "bodyText": "Since the format is different, I think it's a very bad idea to rename the new method to putUuid. Any mod using the old version would now be silently switched to use the new method when updating mappings, breaking all old worlds when the mod is updated!\nThe new method should be named putUuidNew, and all the javadocs should make it clear that the format has been changed.", "author": "Runemoro", "createdAt": "2020-03-07T03:16:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMTE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMzI2NQ==", "url": "https://github.com/FabricMC/yarn/pull/1156#discussion_r389223265", "bodyText": "or uuidToSubIntArray?", "author": "liach", "createdAt": "2020-03-07T03:24:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMTE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMzQ2OQ==", "url": "https://github.com/FabricMC/yarn/pull/1156#discussion_r389223469", "bodyText": "I think \"new\" and \"old\" is good. We can later drop the \"new\" once the risk of devs not noticing the change is lower.", "author": "Runemoro", "createdAt": "2020-03-07T03:27:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMTE4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI1MTU5Ng==", "url": "https://github.com/FabricMC/yarn/pull/1156#discussion_r389251596", "bodyText": "Good idea, suffixed the new methods with New. We should probably drop it whenever Mojang removes the old method.", "author": "Pyrofab", "createdAt": "2020-03-07T12:31:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIyMTE4Mg=="}], "type": "inlineReview"}, {"oid": "093757fcb9d1cc17c7edb62cffa316d11cec35bc", "url": "https://github.com/FabricMC/yarn/commit/093757fcb9d1cc17c7edb62cffa316d11cec35bc", "message": "Avoid unintended incompatibilities with old worlds", "committedDate": "2020-03-07T12:27:35Z", "type": "commit"}]}