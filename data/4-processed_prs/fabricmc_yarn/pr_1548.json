{"pr_number": 1548, "pr_title": "Actually describe vague \"checkChunk\" methods.", "pr_createdAt": "2020-07-06T02:29:09Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1548", "timeline": [{"oid": "b69705384d5d590f630900f299eff33c13cc9b3e", "url": "https://github.com/FabricMC/yarn/commit/b69705384d5d590f630900f299eff33c13cc9b3e", "message": "Actually describe vague \"checkChunk\" methods.\n\nThese are quite vague, and the profiler call is all we really have to go off of.\n\nFrom looking around the codebase, these methods validate the entity's chunkX/Y/Z positions are correct. If the entity's last and current chunk pos are not the same, move the entity to it's new chunk (which also changes the chunkX/Y/Z values to the correct ones).\n\nOh and some synthetic method params while I was at it.", "committedDate": "2020-07-06T02:28:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUyODcxOQ==", "url": "https://github.com/FabricMC/yarn/pull/1548#discussion_r450528719", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Validates an entity's current position matches the it's chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to it's new chunk.\n          \n          \n            \n            \t\tCOMMENT Validates an entity's current position matches the its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.", "author": "liach", "createdAt": "2020-07-06T23:23:55Z", "path": "mappings/net/minecraft/client/world/ClientWorld.mapping", "diffHunk": "@@ -35,7 +35,8 @@ CLASS net/minecraft/class_638 net/minecraft/client/world/ClientWorld\n \tMETHOD method_18647 tickPassenger (Lnet/minecraft/class_1297;Lnet/minecraft/class_1297;)V\n \t\tARG 1 entity\n \t\tARG 2 passenger\n-\tMETHOD method_18648 checkChunk (Lnet/minecraft/class_1297;)V\n+\tMETHOD method_18648 checkEntityChunkPos (Lnet/minecraft/class_1297;)V\n+\t\tCOMMENT Validates an entity's current position matches the it's chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to it's new chunk.", "originalCommit": "b69705384d5d590f630900f299eff33c13cc9b3e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUyODc3OA==", "url": "https://github.com/FabricMC/yarn/pull/1548#discussion_r450528778", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_29240 chunkPosUpdateRequested ()Z\n          \n          \n            \n            \tMETHOD method_29240 isChunkPosUpdateRequested ()Z", "author": "liach", "createdAt": "2020-07-06T23:24:06Z", "path": "mappings/net/minecraft/entity/Entity.mapping", "diffHunk": "@@ -221,6 +222,7 @@ CLASS net/minecraft/class_1297 net/minecraft/entity/Entity\n \t\tARG 1 onGround\n \tMETHOD method_25936 getLandingBlockState ()Lnet/minecraft/class_2680;\n \tMETHOD method_27298 shouldSpawnSprintingParticles ()Z\n+\tMETHOD method_29240 chunkPosUpdateRequested ()Z", "originalCommit": "b69705384d5d590f630900f299eff33c13cc9b3e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUyODg2Nw==", "url": "https://github.com/FabricMC/yarn/pull/1548#discussion_r450528867", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Validates an entity's current position matches the it's chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to it's new chunk.\n          \n          \n            \n            \t\tCOMMENT Validates an entity's current position matches the its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.", "author": "liach", "createdAt": "2020-07-06T23:24:22Z", "path": "mappings/net/minecraft/server/world/ServerWorld.mapping", "diffHunk": "@@ -107,7 +109,9 @@ CLASS net/minecraft/class_3218 net/minecraft/server/world/ServerWorld\n \t\tARG 1 shouldKeepTicking\n \tMETHOD method_18766 getPlayers (Ljava/util/function/Predicate;)Ljava/util/List;\n \t\tARG 1 predicate\n-\tMETHOD method_18767 checkChunk (Lnet/minecraft/class_1297;)V\n+\tMETHOD method_18767 checkEntityChunkPos (Lnet/minecraft/class_1297;)V\n+\t\tCOMMENT Validates an entity's current position matches the it's chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to it's new chunk.", "originalCommit": "b69705384d5d590f630900f299eff33c13cc9b3e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "98cc6f8e984d48f1f4d185702b0d6458ddded59f", "url": "https://github.com/FabricMC/yarn/commit/98cc6f8e984d48f1f4d185702b0d6458ddded59f", "message": "Update mappings/net/minecraft/server/world/ServerWorld.mapping\n\nCo-authored-by: liach <7806504+liach@users.noreply.github.com>", "committedDate": "2020-07-06T23:36:20Z", "type": "commit"}, {"oid": "552c6ec4f1b9da1782b263535054432ad103bbf0", "url": "https://github.com/FabricMC/yarn/commit/552c6ec4f1b9da1782b263535054432ad103bbf0", "message": "Update mappings/net/minecraft/entity/Entity.mapping\n\nCo-authored-by: liach <7806504+liach@users.noreply.github.com>", "committedDate": "2020-07-06T23:36:28Z", "type": "commit"}, {"oid": "942a0a64d542ad90a865af42c87cdf4b5890df86", "url": "https://github.com/FabricMC/yarn/commit/942a0a64d542ad90a865af42c87cdf4b5890df86", "message": "Update mappings/net/minecraft/client/world/ClientWorld.mapping\n\nCo-authored-by: liach <7806504+liach@users.noreply.github.com>", "committedDate": "2020-07-06T23:36:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3OTQ5MA==", "url": "https://github.com/FabricMC/yarn/pull/1548#discussion_r450679490", "bodyText": "Should the field name match the function here?", "author": "Gegy", "createdAt": "2020-07-07T07:59:41Z", "path": "mappings/net/minecraft/entity/Entity.mapping", "diffHunk": "@@ -7,6 +7,7 @@ CLASS net/minecraft/class_1297 net/minecraft/entity/Entity\n \tFIELD field_22467 pos Lnet/minecraft/class_243;\n \tFIELD field_22468 blockPos Lnet/minecraft/class_2338;\n \tFIELD field_23807 inanimate Z\n+\tFIELD field_25154 chunkPosUpdateNeeded Z", "originalCommit": "942a0a64d542ad90a865af42c87cdf4b5890df86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA4MzU1NQ==", "url": "https://github.com/FabricMC/yarn/pull/1548#discussion_r451083555", "bodyText": "Yeah would be better to match", "author": "YanisBft", "createdAt": "2020-07-07T19:09:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDY3OTQ5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA4MzI0Ng==", "url": "https://github.com/FabricMC/yarn/pull/1548#discussion_r451083246", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Validates an entity's current position matches the its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.\n          \n          \n            \n            \t\tCOMMENT Validates if an entity's current position matches its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.", "author": "YanisBft", "createdAt": "2020-07-07T19:09:05Z", "path": "mappings/net/minecraft/client/world/ClientWorld.mapping", "diffHunk": "@@ -35,7 +35,8 @@ CLASS net/minecraft/class_638 net/minecraft/client/world/ClientWorld\n \tMETHOD method_18647 tickPassenger (Lnet/minecraft/class_1297;Lnet/minecraft/class_1297;)V\n \t\tARG 1 entity\n \t\tARG 2 passenger\n-\tMETHOD method_18648 checkChunk (Lnet/minecraft/class_1297;)V\n+\tMETHOD method_18648 checkEntityChunkPos (Lnet/minecraft/class_1297;)V\n+\t\tCOMMENT Validates an entity's current position matches the its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.", "originalCommit": "942a0a64d542ad90a865af42c87cdf4b5890df86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTA4Mzc3MA==", "url": "https://github.com/FabricMC/yarn/pull/1548#discussion_r451083770", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Validates an entity's current position matches the its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.\n          \n          \n            \n            \t\tCOMMENT Validates if an entity's current position matches its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.", "author": "YanisBft", "createdAt": "2020-07-07T19:10:06Z", "path": "mappings/net/minecraft/server/world/ServerWorld.mapping", "diffHunk": "@@ -107,7 +109,9 @@ CLASS net/minecraft/class_3218 net/minecraft/server/world/ServerWorld\n \t\tARG 1 shouldKeepTicking\n \tMETHOD method_18766 getPlayers (Ljava/util/function/Predicate;)Ljava/util/List;\n \t\tARG 1 predicate\n-\tMETHOD method_18767 checkChunk (Lnet/minecraft/class_1297;)V\n+\tMETHOD method_18767 checkEntityChunkPos (Lnet/minecraft/class_1297;)V\n+\t\tCOMMENT Validates an entity's current position matches the its chunk position. If the entity's chunk position and actual position don't match, then the entity will be moved to its new chunk.", "originalCommit": "942a0a64d542ad90a865af42c87cdf4b5890df86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3765a20e93d97b66d8d12524b4906823c8b4ae17", "url": "https://github.com/FabricMC/yarn/commit/3765a20e93d97b66d8d12524b4906823c8b4ae17", "message": "Update mappings/net/minecraft/server/world/ServerWorld.mapping\n\nCo-authored-by: Yanis48 <doublecraft.official@gmail.com>", "committedDate": "2020-07-07T19:15:23Z", "type": "commit"}, {"oid": "396aea21d3c40fc997d15665fa1e058f282ee6ee", "url": "https://github.com/FabricMC/yarn/commit/396aea21d3c40fc997d15665fa1e058f282ee6ee", "message": "Update mappings/net/minecraft/client/world/ClientWorld.mapping\n\nCo-authored-by: Yanis48 <doublecraft.official@gmail.com>", "committedDate": "2020-07-07T19:15:30Z", "type": "commit"}, {"oid": "1c35d14ec43ab1e244b927c45e6bd7bf91f0fe69", "url": "https://github.com/FabricMC/yarn/commit/1c35d14ec43ab1e244b927c45e6bd7bf91f0fe69", "message": "match method name", "committedDate": "2020-07-07T19:16:09Z", "type": "commit"}]}