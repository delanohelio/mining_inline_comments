{"pr_number": 1254, "pr_title": "Region and session lock", "pr_createdAt": "2020-04-02T22:35:21Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1254", "timeline": [{"oid": "50ad73a3bfdd93fe7a4c65c04c91fb4a03175c84", "url": "https://github.com/FabricMC/yarn/commit/50ad73a3bfdd93fe7a4c65c04c91fb4a03175c84", "message": "Region and session lock\n\nSigned-off-by: liach <liach@users.noreply.github.com>", "committedDate": "2020-04-02T20:29:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY4ODI3MA==", "url": "https://github.com/FabricMC/yarn/pull/1254#discussion_r402688270", "bodyText": "What does the \"d\" mean here?", "author": "Runemoro", "createdAt": "2020-04-03T01:32:46Z", "path": "mappings/net/minecraft/world/storage/RegionFile.mapping", "diffHunk": "@@ -11,9 +11,12 @@ CLASS net/minecraft/class_2861 net/minecraft/world/storage/RegionFile\n \tMETHOD <init> (Ljava/io/File;Ljava/io/File;Z)V\n \t\tARG 1 file\n \t\tARG 2 directory\n+\t\tARG 3 dsync", "originalCommit": "50ad73a3bfdd93fe7a4c65c04c91fb4a03175c84", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY5MDMxMA==", "url": "https://github.com/FabricMC/yarn/pull/1254#discussion_r402690310", "bodyText": "Just realized this name is from Java.", "author": "Runemoro", "createdAt": "2020-04-03T01:40:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjY4ODI3MA=="}], "type": "inlineReview"}, {"oid": "ff1817d8257e878da0d7d91f03f22954429df38c", "url": "https://github.com/FabricMC/yarn/commit/ff1817d8257e878da0d7d91f03f22954429df38c", "message": "Merge branch '20w14a' into 20w14a-3", "committedDate": "2020-04-03T23:30:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4NTA1Mg==", "url": "https://github.com/FabricMC/yarn/pull/1254#discussion_r403385052", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_26974 getStructruesWithChildren (Lnet/minecraft/class_4076;Lnet/minecraft/class_3195;Lnet/minecraft/class_1936;)Ljava/util/stream/Stream;\n          \n          \n            \n            \tMETHOD method_26974 getStructuresWithChildren (Lnet/minecraft/class_4076;Lnet/minecraft/class_3195;Lnet/minecraft/class_1936;)Ljava/util/stream/Stream;", "author": "YanisBft", "createdAt": "2020-04-03T23:38:57Z", "path": "mappings/net/minecraft/world/gen/StructureAccessor.mapping", "diffHunk": "@@ -0,0 +1,19 @@\n+CLASS net/minecraft/class_5138 net/minecraft/world/gen/StructureAccessor\n+\tMETHOD method_26973 addStructureReference (Lnet/minecraft/class_4076;Lnet/minecraft/class_3195;JLnet/minecraft/class_2810;)V\n+\t\tARG 1 pos\n+\t\tARG 2 feature\n+\t\tARG 3 reference\n+\t\tARG 5 holder\n+\tMETHOD method_26974 getStructruesWithChildren (Lnet/minecraft/class_4076;Lnet/minecraft/class_3195;Lnet/minecraft/class_1936;)Ljava/util/stream/Stream;", "originalCommit": "ff1817d8257e878da0d7d91f03f22954429df38c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4NTQ3Nw==", "url": "https://github.com/FabricMC/yarn/pull/1254#discussion_r403385477", "bodyText": "loadNbt? Did you turn into Prospector?", "author": "YanisBft", "createdAt": "2020-04-03T23:40:52Z", "path": "mappings/net/minecraft/world/storage/SerializingRegionBasedStorage.mapping", "diffHunk": "@@ -24,5 +30,11 @@ CLASS net/minecraft/class_4180 net/minecraft/world/storage/SerializingRegionBase\n \t\tARG 1 pos\n \tMETHOD method_19295 getOrCreate (J)Ljava/lang/Object;\n \t\tARG 1 pos\n+\tMETHOD method_20368 update (Lnet/minecraft/class_1923;Lcom/mojang/datafixers/types/DynamicOps;Ljava/lang/Object;)V\n+\t\tARG 1 pos\n+\t\tARG 2 ops\n+\t\tARG 3 data\n \tMETHOD method_20369 getDataVersion (Lcom/mojang/datafixers/Dynamic;)I\n \tMETHOD method_20370 save (Lnet/minecraft/class_1923;)V\n+\tMETHOD method_20621 loadNbt (Lnet/minecraft/class_1923;)Lnet/minecraft/class_2487;", "originalCommit": "ff1817d8257e878da0d7d91f03f22954429df38c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4NTgwNg==", "url": "https://github.com/FabricMC/yarn/pull/1254#discussion_r403385806", "bodyText": "I recall there is a specific reason I named this, let me look into it real quick (like this is not copying wholesale but some sort of selective reading)", "author": "liach", "createdAt": "2020-04-03T23:42:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4NTQ3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4NjI0NA==", "url": "https://github.com/FabricMC/yarn/pull/1254#discussion_r403386244", "bodyText": "Oh, this is not a fromNbt but rather getting nbt from disk (loaded by the storage io worker that is a field of it, calls its getNbt and wraps the call in an exception check). What name do you suggest?", "author": "liach", "createdAt": "2020-04-03T23:44:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4NTQ3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4Njg5Mw==", "url": "https://github.com/FabricMC/yarn/pull/1254#discussion_r403386893", "bodyText": "I'm fine with this name, I was just surprised as the current convention is to use \"tag(s)\" over \"nbt\"", "author": "YanisBft", "createdAt": "2020-04-03T23:47:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM4NTQ3Nw=="}], "type": "inlineReview"}, {"oid": "ede81d94872eb41865342340db331741fd5037fb", "url": "https://github.com/FabricMC/yarn/commit/ede81d94872eb41865342340db331741fd5037fb", "message": "Update mappings/net/minecraft/world/gen/StructureAccessor.mapping\n\nCo-Authored-By: Yanis48 <doublecraft.official@gmail.com>", "committedDate": "2020-04-03T23:41:51Z", "type": "commit"}]}