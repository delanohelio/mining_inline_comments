{"pr_number": 1379, "pr_title": "Registry mappings", "pr_createdAt": "2020-05-20T19:40:36Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1379", "timeline": [{"oid": "be3b126882f10d7bef17908ddbf5c7824100b201", "url": "https://github.com/FabricMC/yarn/commit/be3b126882f10d7bef17908ddbf5c7824100b201", "message": "Registry mappings", "committedDate": "2020-05-20T19:39:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NDU5NA==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428264594", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT The {@code RegistryKey} representing the ID of the actual registry.\n          \n          \n            \n            \t\tCOMMENT The {@linkplain RegistryKey} representing the ID of the actual registry.", "author": "YanisBft", "createdAt": "2020-05-20T19:42:37Z", "path": "mappings/net/minecraft/util/registry/Registry.mapping", "diffHunk": "@@ -74,6 +74,11 @@ CLASS net/minecraft/class_2378 net/minecraft/util/registry/Registry\n \tFIELD field_25095 DIMENSION_TYPE_KEY Lnet/minecraft/class_5321;\n \tFIELD field_25096 BIOME_SOURCE Lnet/minecraft/class_2378;\n \tFIELD field_25097 CHUNK_GENERATOR Lnet/minecraft/class_2378;\n+\tFIELD field_25098 registryKey Lnet/minecraft/class_5321;\n+\t\tCOMMENT The {@code RegistryKey} representing the ID of the actual registry.", "originalCommit": "be3b126882f10d7bef17908ddbf5c7824100b201", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NTEyMw==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428265123", "bodyText": "Would that actually link it?", "author": "Earthcomputer", "createdAt": "2020-05-20T19:43:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NDU5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NTMxMA==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428265310", "bodyText": "It should yes", "author": "YanisBft", "createdAt": "2020-05-20T19:44:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NDU5NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Njk4Mg==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428266982", "bodyText": "It would. The text will just render as plain text (way less discoverable), but you can click it. Doesn't prompt people to click as much.", "author": "liach", "createdAt": "2020-05-20T19:47:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NDU5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NDQxMA==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428264410", "bodyText": "woo, are they starting to deprecate registries", "author": "liach", "createdAt": "2020-05-20T19:42:16Z", "path": "mappings/net/minecraft/util/registry/Registry.mapping", "diffHunk": "@@ -74,6 +74,11 @@ CLASS net/minecraft/class_2378 net/minecraft/util/registry/Registry\n \tFIELD field_25095 DIMENSION_TYPE_KEY Lnet/minecraft/class_5321;\n \tFIELD field_25096 BIOME_SOURCE Lnet/minecraft/class_2378;\n \tFIELD field_25097 CHUNK_GENERATOR Lnet/minecraft/class_2378;\n+\tFIELD field_25098 registryKey Lnet/minecraft/class_5321;\n+\t\tCOMMENT The {@code RegistryKey} representing the ID of the actual registry.\n+\tFIELD field_25099 lifecycle Lcom/mojang/serialization/Lifecycle;", "originalCommit": "be3b126882f10d7bef17908ddbf5c7824100b201", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NTI2NQ==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428265265", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_29180 getOrCreateRegistryKey (Lnet/minecraft/class_2960;)Lnet/minecraft/class_5321;\n          \n          \n            \n            \tMETHOD method_29180 getOrCreate (Lnet/minecraft/class_2960;)Lnet/minecraft/class_5321;\n          \n      \n    \n    \n  \n\nThe rename is probably fine as the descriptor differs", "author": "liach", "createdAt": "2020-05-20T19:43:58Z", "path": "mappings/net/minecraft/util/registry/RegistryKey.mapping", "diffHunk": "@@ -0,0 +1,16 @@\n+CLASS net/minecraft/class_5321 net/minecraft/util/registry/RegistryKey\n+\tFIELD field_25136 INSTANCES Ljava/util/Map;\n+\tFIELD field_25137 registryId Lnet/minecraft/class_2960;\n+\tFIELD field_25138 valueId Lnet/minecraft/class_2960;\n+\tMETHOD <init> (Lnet/minecraft/class_2960;Lnet/minecraft/class_2960;)V\n+\t\tARG 1 registryId\n+\t\tARG 2 valueId\n+\tMETHOD method_29177 getValueId ()Lnet/minecraft/class_2960;\n+\tMETHOD method_29179 getOrCreate (Lnet/minecraft/class_5321;Lnet/minecraft/class_2960;)Lnet/minecraft/class_5321;\n+\t\tARG 0 registryId\n+\t\tARG 1 valueId\n+\tMETHOD method_29180 getOrCreateRegistryKey (Lnet/minecraft/class_2960;)Lnet/minecraft/class_5321;", "originalCommit": "be3b126882f10d7bef17908ddbf5c7824100b201", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NjI5Mg==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428266292", "bodyText": "This is specifically an overload where a registry key for Registry.ROOT is created (i.e. an ID for a registry). I'll rename it to \"root key\"", "author": "Earthcomputer", "createdAt": "2020-05-20T19:45:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NTI2NQ=="}], "type": "inlineReview"}, {"oid": "684da8e7c08b1134d7293db2739e9be5a75272fe", "url": "https://github.com/FabricMC/yarn/commit/684da8e7c08b1134d7293db2739e9be5a75272fe", "message": "Update mappings/net/minecraft/util/registry/Registry.mapping\n\nCo-authored-by: Yanis48 <doublecraft.official@gmail.com>", "committedDate": "2020-05-20T19:48:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NzQ5Mw==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428267493", "bodyText": "I really want to use RegistryIdentifier instead, since at the end of the day, it is still an identifier", "author": "shedaniel", "createdAt": "2020-05-20T19:48:22Z", "path": "mappings/net/minecraft/util/registry/RegistryKey.mapping", "diffHunk": "@@ -0,0 +1,16 @@\n+CLASS net/minecraft/class_5321 net/minecraft/util/registry/RegistryKey", "originalCommit": "684da8e7c08b1134d7293db2739e9be5a75272fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2ODU3Ng==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428268576", "bodyText": "It's not an identifier though, it does not extend the identifier class. It's a registry id + identifier pair.", "author": "Earthcomputer", "createdAt": "2020-05-20T19:50:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NzQ5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3MTEzMg==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428271132", "bodyText": "good point, however it is used for finding the entry, it is almost like it is an identifier for an entry. I am happy with RegistryKey tho. just concerned about the consistency of it since identifier is technically a key as well if you put it in the same context", "author": "shedaniel", "createdAt": "2020-05-20T19:55:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NzQ5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3MjE0Mg==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428272142", "bodyText": "Yeah, tbh this class is a little confusing, as the registry id part of it doesn't seem to be used anywhere. However it's useful to have this distinction so we can have containsId vs containsKey and the likes.", "author": "Earthcomputer", "createdAt": "2020-05-20T19:57:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NzQ5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3Mzc5NQ==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428273795", "bodyText": "that sounds fair enough", "author": "shedaniel", "createdAt": "2020-05-20T20:00:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NzQ5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3MzgxOQ==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428273819", "bodyText": "This is more analogous to that object which is a compound of two identifier for locating an atlas and then a sprite in the atlas. I forgot what that class is named, might be a good idea to make two have similar names.", "author": "liach", "createdAt": "2020-05-20T20:00:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2NzQ5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Nzg0Ng==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428267846", "bodyText": "would name this parentId imo, but up for debate", "author": "shedaniel", "createdAt": "2020-05-20T19:49:02Z", "path": "mappings/net/minecraft/util/registry/RegistryKey.mapping", "diffHunk": "@@ -0,0 +1,16 @@\n+CLASS net/minecraft/class_5321 net/minecraft/util/registry/RegistryKey\n+\tFIELD field_25136 INSTANCES Ljava/util/Map;\n+\tFIELD field_25137 registryId Lnet/minecraft/class_2960;", "originalCommit": "684da8e7c08b1134d7293db2739e9be5a75272fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2ODgwMA==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428268800", "bodyText": "registryId is clearer", "author": "Earthcomputer", "createdAt": "2020-05-20T19:50:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Nzg0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3MjQ4MA==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428272480", "bodyText": "you can have a registry in both the key and the value id, it is more about which one is the parent imo", "author": "shedaniel", "createdAt": "2020-05-20T19:57:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Nzg0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3NDA2Mw==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428274063", "bodyText": "What isn't clear to me though with that is that how do we know \"parent\" refers to a registry?", "author": "Earthcomputer", "createdAt": "2020-05-20T20:01:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Nzg0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3NTE4NA==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428275184", "bodyText": "parentRegistryId? sounds long and weird tho\nbut you don't really have to know if that's a registry, because it is just defining a parent for that entry imo", "author": "shedaniel", "createdAt": "2020-05-20T20:03:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Nzg0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3NTU1Mw==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428275553", "bodyText": "No, just registryId", "author": "liach", "createdAt": "2020-05-20T20:03:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Nzg0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI3NTg1Nw==", "url": "https://github.com/FabricMC/yarn/pull/1379#discussion_r428275857", "bodyText": "Or even just registry as this is just a pojo and holds no references.", "author": "liach", "createdAt": "2020-05-20T20:04:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODI2Nzg0Ng=="}], "type": "inlineReview"}, {"oid": "ffc5499a81a33538931aa222bc1a7531e6b05d3c", "url": "https://github.com/FabricMC/yarn/commit/ffc5499a81a33538931aa222bc1a7531e6b05d3c", "message": "getOrCreateRegistryKey -> getOrCreateRootKey", "committedDate": "2020-05-20T19:49:40Z", "type": "commit"}]}