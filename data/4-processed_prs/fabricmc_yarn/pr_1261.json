{"pr_number": 1261, "pr_title": "trunk placer and tree generation mappings", "pr_createdAt": "2020-04-04T02:03:54Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1261", "timeline": [{"oid": "08795498f5bdbe1037668679d2d610d531a1593b", "url": "https://github.com/FabricMC/yarn/commit/08795498f5bdbe1037668679d2d610d531a1593b", "message": "trunk placer and tree generation mappings\n\nSigned-off-by: liach <liach@users.noreply.github.com>", "committedDate": "2020-04-04T02:03:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1MTQzNQ==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403451435", "bodyText": "I assume this method returns the height after the random was applied, so maybe getFinalHeight would be better?", "author": "YanisBft", "createdAt": "2020-04-04T10:01:21Z", "path": "mappings/net/minecraft/world/gen/trunk/TrunkPlacer.mapping", "diffHunk": "@@ -0,0 +1,27 @@\n+CLASS net/minecraft/class_5141 net/minecraft/world/gen/trunk/TrunkPlacer\n+\tFIELD field_23759 type Lnet/minecraft/class_5142;\n+\tFIELD field_23760 baseHeight I\n+\tFIELD field_23761 firstRandomHeight I\n+\tFIELD field_23762 secondRandomHeight I\n+\tMETHOD <init> (IIILnet/minecraft/class_5142;)V\n+\t\tARG 1 baseHeight\n+\t\tARG 2 firstRandomHeight\n+\t\tARG 3 secondRandomHeight\n+\t\tARG 4 type\n+\tMETHOD method_26990 getBaseHeight ()I\n+\tMETHOD method_26991 generate (Lnet/minecraft/class_3747;Ljava/util/Random;ILnet/minecraft/class_2338;ILjava/util/Set;Lnet/minecraft/class_3341;Lnet/minecraft/class_4640;)Ljava/util/Map;\n+\t\tCOMMENT Generates the trunk blocks and return a map from branch tops to the\n+\t\tCOMMENT radius allowed for foliage generation on that branch top.\n+\t\tARG 1 world\n+\t\tARG 2 random\n+\t\tARG 3 trunkHeight\n+\t\tARG 4 pos\n+\t\tARG 5 foliageRadius\n+\t\tARG 6 logs\n+\t\tARG 7 box\n+\t\tARG 8 config\n+\tMETHOD method_26992 serialize (Lcom/mojang/datafixers/types/DynamicOps;)Ljava/lang/Object;\n+\t\tARG 1 ops\n+\tMETHOD method_26993 getHeight (Ljava/util/Random;Lnet/minecraft/class_4640;)I", "originalCommit": "08795498f5bdbe1037668679d2d610d531a1593b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ3MzY2MA==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403473660", "bodyText": "the height field should probably be renamed to base height than editing this method", "author": "liach", "createdAt": "2020-04-04T14:03:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1MTQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4NjkzMA==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403486930", "bodyText": "However the height and height_random are fields from mojang, I can still rename height to baseHeight, offset to baseOffset if you'd prefer. @Runemoro how's your opinion?", "author": "liach", "createdAt": "2020-04-04T16:12:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1MTQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4NzMxOA==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403487318", "bodyText": "I think it's clear getHeight is the final height. Any other height would be named something like getBaseHeight.", "author": "Runemoro", "createdAt": "2020-04-04T16:16:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1MTQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4NzYzNA==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403487634", "bodyText": "There is a field in this class called height (as seen in data structure), but the field is effectively a base height. Should that field be renamed from height to baseHeight", "author": "liach", "createdAt": "2020-04-04T16:19:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1MTQzNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4ODM0Nw==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403488347", "bodyText": "Oh. If it matches the Mojang name then I think it's ok.", "author": "Runemoro", "createdAt": "2020-04-04T16:27:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ1MTQzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTA4Mw==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403489083", "bodyText": "why was this changed?", "author": "SuperCoder7979", "createdAt": "2020-04-04T16:34:22Z", "path": "mappings/net/minecraft/world/gen/foliage/FoliagePlacer.mapping", "diffHunk": "@@ -26,9 +47,14 @@ CLASS net/minecraft/class_4647 net/minecraft/world/gen/foliage/FoliagePlacer\n \t\tARG 5 leaves\n \tMETHOD method_23451 isInvalidForLeaves (Ljava/util/Random;IIIII)Z\n \t\tARG 2 baseHeight\n-\t\tARG 3 x\n-\t\tARG 4 y\n-\t\tARG 5 z\n+\t\tARG 3 dx\n+\t\tARG 4 dy\n+\t\tARG 5 dz", "originalCommit": "08795498f5bdbe1037668679d2d610d531a1593b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MTczMw==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403491733", "bodyText": "because this is not xyz but relative xyz from the tree root", "author": "liach", "createdAt": "2020-04-04T16:59:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTA4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY5OTM5Mw==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403699393", "bodyText": "ok", "author": "SuperCoder7979", "createdAt": "2020-04-05T13:05:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTA4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTE0NA==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403489144", "bodyText": "wouldn't BranchedTrunkPlacer be a better name? since we already refer to certain things as Branched", "author": "SuperCoder7979", "createdAt": "2020-04-04T16:35:02Z", "path": "mappings/net/minecraft/world/gen/trunk/ForkingTrunkPlacer.mapping", "diffHunk": "@@ -0,0 +1,7 @@\n+CLASS net/minecraft/class_5139 net/minecraft/world/gen/trunk/ForkingTrunkPlacer", "originalCommit": "08795498f5bdbe1037668679d2d610d531a1593b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MTY3OA==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403491678", "bodyText": "This is from mojang's registration id", "author": "liach", "createdAt": "2020-04-04T16:58:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTE0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY5OTM2OA==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403699368", "bodyText": "god damn it", "author": "SuperCoder7979", "createdAt": "2020-04-05T13:05:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTE0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTI0NQ==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403489245", "bodyText": "weren't these referred to as heightRandA and heightRandB before?", "author": "SuperCoder7979", "createdAt": "2020-04-04T16:36:00Z", "path": "mappings/net/minecraft/world/gen/trunk/StraightTrunkPlacer.mapping", "diffHunk": "@@ -0,0 +1,7 @@\n+CLASS net/minecraft/class_5140 net/minecraft/world/gen/trunk/StraightTrunkPlacer\n+\tMETHOD <init> (III)V\n+\t\tARG 1 baseHeight\n+\t\tARG 2 firstRandomHeight\n+\t\tARG 3 secondRandomHeight", "originalCommit": "08795498f5bdbe1037668679d2d610d531a1593b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ5MTc3Ng==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403491776", "bodyText": "heightRandA and heightRandB are not descriptive and doesn't fit with yarn guideline", "author": "liach", "createdAt": "2020-04-04T16:59:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTI0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY5OTM4Ng==", "url": "https://github.com/FabricMC/yarn/pull/1261#discussion_r403699386", "bodyText": "alright", "author": "SuperCoder7979", "createdAt": "2020-04-05T13:05:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4OTI0NQ=="}], "type": "inlineReview"}]}