{"pr_number": 1461, "pr_title": "Map various, mostly private parts of client.texture classes", "pr_createdAt": "2020-06-10T23:08:13Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1461", "timeline": [{"oid": "67f8abaac11e2cc88f9c99cf00c77ef1b1b3178f", "url": "https://github.com/FabricMC/yarn/commit/67f8abaac11e2cc88f9c99cf00c77ef1b1b3178f", "message": "Map various, mostly private parts of client.texture classes", "committedDate": "2020-06-10T23:04:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU5OTk3Mw==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438599973", "bodyText": "alpha? We use delta for this in lerp.", "author": "Juuxel", "createdAt": "2020-06-11T07:39:53Z", "path": "mappings/net/minecraft/client/texture/Sprite.mapping", "diffHunk": "@@ -60,3 +68,17 @@ CLASS net/minecraft/class_1058 net/minecraft/client/texture/Sprite\n \t\tFIELD field_21758 images [Lnet/minecraft/class_1011;\n \t\tMETHOD <init> (Lnet/minecraft/class_1058;Lnet/minecraft/class_1058$class_4727;I)V\n \t\t\tARG 3 mipmap\n+\t\tMETHOD method_24128 apply ()V\n+\t\t\tCOMMENT Linearly interpolate between the current and next frame on all miplevels\n+\t\t\tCOMMENT based on the tick position within the current frame,\n+\t\t\tCOMMENT and upload the results to the currently bound texture to the frame slot at position (0,0).\n+\t\tMETHOD method_24129 mix (DII)I\n+\t\t\tARG 1 alpha", "originalCommit": "67f8abaac11e2cc88f9c99cf00c77ef1b1b3178f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYxNDY3Ng==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438614676", "bodyText": "As I said, this is based on glsl terminology (they use just a but it's clearly based on blending usecase, + this lerp is directly used  for blending).", "author": "Sturmlilie", "createdAt": "2020-06-11T08:08:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU5OTk3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc5NjkyNw==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438796927", "bodyText": "Think alpha for a blend of a background and a foreground color is fine", "author": "liach", "createdAt": "2020-06-11T13:47:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU5OTk3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYwMDEyNw==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438600127", "bodyText": "Should be lerp to match MathHelper.lerp \ud83d\ude1b", "author": "Juuxel", "createdAt": "2020-06-11T07:40:11Z", "path": "mappings/net/minecraft/client/texture/Sprite.mapping", "diffHunk": "@@ -60,3 +68,17 @@ CLASS net/minecraft/class_1058 net/minecraft/client/texture/Sprite\n \t\tFIELD field_21758 images [Lnet/minecraft/class_1011;\n \t\tMETHOD <init> (Lnet/minecraft/class_1058;Lnet/minecraft/class_1058$class_4727;I)V\n \t\t\tARG 3 mipmap\n+\t\tMETHOD method_24128 apply ()V\n+\t\t\tCOMMENT Linearly interpolate between the current and next frame on all miplevels\n+\t\t\tCOMMENT based on the tick position within the current frame,\n+\t\t\tCOMMENT and upload the results to the currently bound texture to the frame slot at position (0,0).\n+\t\tMETHOD method_24129 mix (DII)I", "originalCommit": "67f8abaac11e2cc88f9c99cf00c77ef1b1b3178f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "32556faeb3e86b107040d7a24271f3813b9756be", "url": "https://github.com/FabricMC/yarn/commit/32556faeb3e86b107040d7a24271f3813b9756be", "message": "Fixup: Use MathHelper#lerp terminology", "committedDate": "2020-06-11T08:14:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc5ODk2MA==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438798960", "bodyText": "So this is lerping by each r/g/b portion? maybe mention that to clarify from regular lerp, like add javadoc or call this lerpColor", "author": "liach", "createdAt": "2020-06-11T13:49:22Z", "path": "mappings/net/minecraft/client/texture/Sprite.mapping", "diffHunk": "@@ -60,3 +68,17 @@ CLASS net/minecraft/class_1058 net/minecraft/client/texture/Sprite\n \t\tFIELD field_21758 images [Lnet/minecraft/class_1011;\n \t\tMETHOD <init> (Lnet/minecraft/class_1058;Lnet/minecraft/class_1058$class_4727;I)V\n \t\t\tARG 3 mipmap\n+\t\tMETHOD method_24128 apply ()V\n+\t\t\tCOMMENT Linearly interpolate between the current and next frame on all miplevels\n+\t\t\tCOMMENT based on the tick position within the current frame,\n+\t\t\tCOMMENT and upload the results to the currently bound texture to the frame slot at position (0,0).\n+\t\tMETHOD method_24129 lerp (DII)I", "originalCommit": "32556faeb3e86b107040d7a24271f3813b9756be", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgxNDc3Mg==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438814772", "bodyText": "No, not at all, this is a purely value(int)-level lerp that doesn't know about colors or anything. The code that uses it though applies it to RGB components. Edit: Maybe I should mention that the javadoc above is part of apply, not lerp.", "author": "Sturmlilie", "createdAt": "2020-06-11T14:08:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc5ODk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgxODAzNw==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438818037", "bodyText": "Hmm, great. Think mathhelper only has int lerp. I saw that jd is for apply so i suggested \"add javadoc\" to this method, which now appears unnecessary.", "author": "liach", "createdAt": "2020-06-11T14:13:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc5ODk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgxOTE4NQ==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r438819185", "bodyText": "Oh sorry I misread your comment earlier. I will add javadoc to lift the confusion then.", "author": "Sturmlilie", "createdAt": "2020-06-11T14:15:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc5ODk2MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTczMTE1MA==", "url": "https://github.com/FabricMC/yarn/pull/1461#discussion_r439731150", "bodyText": "@liach if you could review whether the javadoc I added is adequate I'd be grateful =3", "author": "Sturmlilie", "createdAt": "2020-06-13T11:15:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc5ODk2MA=="}], "type": "inlineReview"}, {"oid": "ae89e71865d601784446e6da9da3087b43fea403", "url": "https://github.com/FabricMC/yarn/commit/ae89e71865d601784446e6da9da3087b43fea403", "message": "Fixup: Document Sprite.Interpolation#lerp", "committedDate": "2020-06-11T14:30:00Z", "type": "commit"}]}