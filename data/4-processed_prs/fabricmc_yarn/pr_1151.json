{"pr_number": 1151, "pr_title": "Map Chunk loading, Chunks and Chunk Generation", "pr_createdAt": "2020-03-05T01:58:09Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1151", "timeline": [{"oid": "b7750c1af9a04dcc13b9ff2cdd25d55e4490ef03", "url": "https://github.com/FabricMC/yarn/commit/b7750c1af9a04dcc13b9ff2cdd25d55e4490ef03", "message": "ThreadedAnvilChunkStorage#method_20458(2) -> tryUnloadChunk", "committedDate": "2020-03-05T01:12:41Z", "type": "commit"}, {"oid": "50b1d33f4cee1b6c2b78965102cd32265fcfdaa5", "url": "https://github.com/FabricMC/yarn/commit/50b1d33f4cee1b6c2b78965102cd32265fcfdaa5", "message": "ThreadedAnvilChunkStorage#tryUnloadChunk(2)[1 = ] -> chunkPosLong", "committedDate": "2020-03-05T01:13:18Z", "type": "commit"}, {"oid": "88c351ad1a1d108ac0719b0d8c59f12eef65e9a3", "url": "https://github.com/FabricMC/yarn/commit/88c351ad1a1d108ac0719b0d8c59f12eef65e9a3", "message": "ThreadedAnvilChunkStorage#method_21676(1) -> getFutureStatus", "committedDate": "2020-03-05T01:14:12Z", "type": "commit"}, {"oid": "8e475d65d67ded196e2538e4c45d0dc1bd3dfe55", "url": "https://github.com/FabricMC/yarn/commit/8e475d65d67ded196e2538e4c45d0dc1bd3dfe55", "message": "ChunkHolder#method_20725(0) -> getBorderFuture", "committedDate": "2020-03-05T01:14:30Z", "type": "commit"}, {"oid": "dd609fd8d0eca339f0e0739cef29afdd9b4b41bd", "url": "https://github.com/FabricMC/yarn/commit/dd609fd8d0eca339f0e0739cef29afdd9b4b41bd", "message": "ChunkTicketManager#method_21623(1)[1 = ] -> chunkPosLong", "committedDate": "2020-03-05T01:16:05Z", "type": "commit"}, {"oid": "b6026c52420d3a9915557aa76eeb42f91b93bad2", "url": "https://github.com/FabricMC/yarn/commit/b6026c52420d3a9915557aa76eeb42f91b93bad2", "message": "ChunkTicketManager#method_21623(1) -> getTicket", "committedDate": "2020-03-05T01:16:15Z", "type": "commit"}, {"oid": "553dd105809ced8723c0615875829c28ce3aa4c4", "url": "https://github.com/FabricMC/yarn/commit/553dd105809ced8723c0615875829c28ce3aa4c4", "message": "+191 doc in ThreadedAnvilChunkStorage%MAX_LEVEL", "committedDate": "2020-03-05T01:18:03Z", "type": "commit"}, {"oid": "214ef87f1d318903a83bfdaf0610fa8c19aa6fc4", "url": "https://github.com/FabricMC/yarn/commit/214ef87f1d318903a83bfdaf0610fa8c19aa6fc4", "message": "ChunkHolder%field_19238 -> ticking", "committedDate": "2020-03-05T01:18:26Z", "type": "commit"}, {"oid": "d425f235f18770ecbd76498001165571e3d1b21e", "url": "https://github.com/FabricMC/yarn/commit/d425f235f18770ecbd76498001165571e3d1b21e", "message": "ChunkHolder#method_20385(0) -> updateTickingStatus", "committedDate": "2020-03-05T01:18:39Z", "type": "commit"}, {"oid": "f2e738e2f7a2f821dd4fbdcf90142601a0db0d42", "url": "https://github.com/FabricMC/yarn/commit/f2e738e2f7a2f821dd4fbdcf90142601a0db0d42", "message": "ChunkHolder#method_20384(0) -> isTicking", "committedDate": "2020-03-05T01:18:50Z", "type": "commit"}, {"oid": "bf942b89ea670aae63f0e33d0dd430b49f95b6a1", "url": "https://github.com/FabricMC/yarn/commit/bf942b89ea670aae63f0e33d0dd430b49f95b6a1", "message": "ProtoChunk#method_22405(1) -> setBiomeArray", "committedDate": "2020-03-05T01:19:24Z", "type": "commit"}, {"oid": "a6528f471883d27b0be9a3daaaedb61b4a3a6822", "url": "https://github.com/FabricMC/yarn/commit/a6528f471883d27b0be9a3daaaedb61b4a3a6822", "message": "ProtoChunk%field_20656 -> biomes", "committedDate": "2020-03-05T01:19:35Z", "type": "commit"}, {"oid": "2d17561944158b9144d819d6d10b1dfed674e3bf", "url": "https://github.com/FabricMC/yarn/commit/2d17561944158b9144d819d6d10b1dfed674e3bf", "message": "ChunkHolder#method_23271(0) -> getLevelType", "committedDate": "2020-03-05T01:21:54Z", "type": "commit"}, {"oid": "898e9059c36f3a5dd80e528ca3c8ab1c990f97a1", "url": "https://github.com/FabricMC/yarn/commit/898e9059c36f3a5dd80e528ca3c8ab1c990f97a1", "message": "ProtoChunk#<init>(5)[5 = ] -> fluidTickScheduler", "committedDate": "2020-03-05T01:25:21Z", "type": "commit"}, {"oid": "d8cc229c1bc1a9f203c42e41f9e8601ca79d489c", "url": "https://github.com/FabricMC/yarn/commit/d8cc229c1bc1a9f203c42e41f9e8601ca79d489c", "message": "ProtoChunk#<init>(5)[4 = ] -> blockTickScheduler", "committedDate": "2020-03-05T01:25:29Z", "type": "commit"}, {"oid": "3b64ca13b5bf92b31b7aed39310e540193a67ab6", "url": "https://github.com/FabricMC/yarn/commit/3b64ca13b5bf92b31b7aed39310e540193a67ab6", "message": "Chunk#setBlockState(3)[3 = ] -> moved", "committedDate": "2020-03-05T01:27:15Z", "type": "commit"}, {"oid": "982a26c3738417d0343f8cf3126cd60c0df71d0b", "url": "https://github.com/FabricMC/yarn/commit/982a26c3738417d0343f8cf3126cd60c0df71d0b", "message": "ChunkTicketManager#addTicket(2)[3 = ] -> ticket", "committedDate": "2020-03-05T01:28:30Z", "type": "commit"}, {"oid": "0388925117df955418e706ac84ff3d3208d6b264", "url": "https://github.com/FabricMC/yarn/commit/0388925117df955418e706ac84ff3d3208d6b264", "message": "net/minecraft/world/chunk/ChunkStatus$Task -> GenerationTask", "committedDate": "2020-03-05T01:34:28Z", "type": "commit"}, {"oid": "26ab529b4a248ccfc7ed9d8186006a446d3bbea5", "url": "https://github.com/FabricMC/yarn/commit/26ab529b4a248ccfc7ed9d8186006a446d3bbea5", "message": "+54 doc in net/minecraft/world/chunk/ChunkStatus$GenerationTask", "committedDate": "2020-03-05T01:34:56Z", "type": "commit"}, {"oid": "88b46bfa589825cc56973e09afd5685891f3d759", "url": "https://github.com/FabricMC/yarn/commit/88b46bfa589825cc56973e09afd5685891f3d759", "message": "net/minecraft/world/chunk/ChunkStatus$GenerationTask -> Task", "committedDate": "2020-03-05T01:35:11Z", "type": "commit"}, {"oid": "d558593b526b932a2b47d7bbc08a824f00d53e36", "url": "https://github.com/FabricMC/yarn/commit/d558593b526b932a2b47d7bbc08a824f00d53e36", "message": "-54 doc in net/minecraft/world/chunk/ChunkStatus$Task", "committedDate": "2020-03-05T01:35:20Z", "type": "commit"}, {"oid": "dd1cb2faa59fc6c9dcb7c70fd9a6b3567359c242", "url": "https://github.com/FabricMC/yarn/commit/dd1cb2faa59fc6c9dcb7c70fd9a6b3567359c242", "message": "WorldChunk#<init>(9)[5 = ] -> blockTickScheduler", "committedDate": "2020-03-05T01:37:38Z", "type": "commit"}, {"oid": "b626e3e2286931a9f319cd4cb1fccf10815b0e21", "url": "https://github.com/FabricMC/yarn/commit/b626e3e2286931a9f319cd4cb1fccf10815b0e21", "message": "WorldChunk#<init>(9)[6 = ] -> fluidTickScheduler", "committedDate": "2020-03-05T01:37:47Z", "type": "commit"}, {"oid": "7ad0970e11ba9d2763c7de555bc929cf34fac4ea", "url": "https://github.com/FabricMC/yarn/commit/7ad0970e11ba9d2763c7de555bc929cf34fac4ea", "message": "WorldChunk#<init>(9)[7 = ] -> inhabitedTime", "committedDate": "2020-03-05T01:38:45Z", "type": "commit"}, {"oid": "71570c1f90f28c0ad878301f4f7812aced59fbde", "url": "https://github.com/FabricMC/yarn/commit/71570c1f90f28c0ad878301f4f7812aced59fbde", "message": "WorldChunk#<init>(9)[10 = ] -> loadToWorldConsumer", "committedDate": "2020-03-05T01:39:30Z", "type": "commit"}, {"oid": "fc89d041be914bc1898b71f0e9f97c985fc449da", "url": "https://github.com/FabricMC/yarn/commit/fc89d041be914bc1898b71f0e9f97c985fc449da", "message": "WorldChunk#getFluidState(3)[3 = ] -> z", "committedDate": "2020-03-05T01:40:11Z", "type": "commit"}, {"oid": "83acd0c9363cd0d51017cf159c303396517be4e8", "url": "https://github.com/FabricMC/yarn/commit/83acd0c9363cd0d51017cf159c303396517be4e8", "message": "WorldChunk#setLoadedToWorld(1)[1 = ] -> loaded", "committedDate": "2020-03-05T01:41:29Z", "type": "commit"}, {"oid": "33e9080047ccd179a8545f9ee89ffa6374420fb6", "url": "https://github.com/FabricMC/yarn/commit/33e9080047ccd179a8545f9ee89ffa6374420fb6", "message": "ThreadedAnvilChunkStorage$TicketManager#<init>(2)[1 = ] -> workerExecutor", "committedDate": "2020-03-05T01:44:22Z", "type": "commit"}, {"oid": "e04f181ce6ff972b8d2a51acf7c34f6d31771754", "url": "https://github.com/FabricMC/yarn/commit/e04f181ce6ff972b8d2a51acf7c34f6d31771754", "message": "ThreadedAnvilChunkStorage$TicketManager#<init>(2)[2 = ] -> mainThreadExecutor", "committedDate": "2020-03-05T01:44:28Z", "type": "commit"}, {"oid": "e559c80d2368f877b25482350c9bb7b67b64b592", "url": "https://github.com/FabricMC/yarn/commit/e559c80d2368f877b25482350c9bb7b67b64b592", "message": "ThreadedAnvilChunkStorage#method_20605(1) -> unloadChunks", "committedDate": "2020-03-05T01:45:42Z", "type": "commit"}, {"oid": "e79fa4f40b6f4a4157d1cfc19eb164d485df3097", "url": "https://github.com/FabricMC/yarn/commit/e79fa4f40b6f4a4157d1cfc19eb164d485df3097", "message": "ThreadedAnvilChunkStorage#unloadChunks(1)[1 = ] -> shouldKeepTicking", "committedDate": "2020-03-05T01:45:51Z", "type": "commit"}, {"oid": "7e5efbaabde15da91af082ff8e3eb2a95fc24c49", "url": "https://github.com/FabricMC/yarn/commit/7e5efbaabde15da91af082ff8e3eb2a95fc24c49", "message": "ThreadedAnvilChunkStorage#method_20619(1) -> loadChunk", "committedDate": "2020-03-05T01:48:03Z", "type": "commit"}, {"oid": "fd5121b8eb7cfb60698b5bcf30d67e0a2817f567", "url": "https://github.com/FabricMC/yarn/commit/fd5121b8eb7cfb60698b5bcf30d67e0a2817f567", "message": "ThreadedAnvilChunkStorage#loadChunk(1)[1 = ] -> pos", "committedDate": "2020-03-05T01:48:08Z", "type": "commit"}, {"oid": "a5fd15152bc10f9a1120cfd935197491e34a75bc", "url": "https://github.com/FabricMC/yarn/commit/a5fd15152bc10f9a1120cfd935197491e34a75bc", "message": "ThreadedAnvilChunkStorage#method_20617(2) -> generateChunk", "committedDate": "2020-03-05T01:52:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzOTU3OA==", "url": "https://github.com/FabricMC/yarn/pull/1151#discussion_r388039578", "bodyText": "chunkPos is enough, the type shouldn't be part of the name.", "author": "Runemoro", "createdAt": "2020-03-05T01:59:05Z", "path": "mappings/net/minecraft/server/world/ChunkTicketManager.mapping", "diffHunk": "@@ -66,6 +67,8 @@ CLASS net/minecraft/class_3204 net/minecraft/server/world/ChunkTicketManager\n \t\tARG 2 pos\n \t\tARG 3 level\n \t\tARG 4 argument\n+\tMETHOD method_21623 getTicket (J)Ljava/lang/String;\n+\t\tARG 1 chunkPosLong", "originalCommit": "a5fd15152bc10f9a1120cfd935197491e34a75bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzOTY0MA==", "url": "https://github.com/FabricMC/yarn/pull/1151#discussion_r388039640", "bodyText": "Same here.", "author": "Runemoro", "createdAt": "2020-03-05T01:59:20Z", "path": "mappings/net/minecraft/server/world/ThreadedAnvilChunkStorage.mapping", "diffHunk": "@@ -109,8 +110,16 @@ CLASS net/minecraft/class_3898 net/minecraft/server/world/ThreadedAnvilChunkStor\n \tMETHOD method_19488 getPointOfInterestStorage ()Lnet/minecraft/class_4153;\n \tMETHOD method_20441 releaseLightTicket (Lnet/minecraft/class_1923;)V\n \t\tARG 1 pos\n+\tMETHOD method_20458 tryUnloadChunk (JLnet/minecraft/class_3193;)V\n+\t\tARG 1 chunkPosLong", "originalCommit": "a5fd15152bc10f9a1120cfd935197491e34a75bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzOTY3Ng==", "url": "https://github.com/FabricMC/yarn/pull/1151#discussion_r388039676", "bodyText": "Empty comment?", "author": "Runemoro", "createdAt": "2020-03-05T01:59:29Z", "path": "mappings/net/minecraft/world/chunk/ChunkStatus.mapping", "diffHunk": "@@ -60,6 +60,7 @@ CLASS net/minecraft/class_2806 net/minecraft/world/chunk/ChunkStatus\n \t\tARG 5 task\n \tMETHOD method_20612 runNoGenTask (Lnet/minecraft/class_3218;Lnet/minecraft/class_3485;Lnet/minecraft/class_3227;Ljava/util/function/Function;Lnet/minecraft/class_2791;)Ljava/util/concurrent/CompletableFuture;\n \tCLASS class_2807 Task\n+\t\tCOMMENT ", "originalCommit": "a5fd15152bc10f9a1120cfd935197491e34a75bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzOTc4Nw==", "url": "https://github.com/FabricMC/yarn/pull/1151#discussion_r388039787", "bodyText": "setBiomes", "author": "Runemoro", "createdAt": "2020-03-05T01:59:53Z", "path": "mappings/net/minecraft/world/chunk/ProtoChunk.mapping", "diffHunk": "@@ -44,3 +48,4 @@ CLASS net/minecraft/class_2839 net/minecraft/world/chunk/ProtoChunk\n \tMETHOD method_16679 getSection (I)Lnet/minecraft/class_2826;\n \t\tARG 1 y\n \tMETHOD method_17032 setLightingProvider (Lnet/minecraft/class_3568;)V\n+\tMETHOD method_22405 setBiomeArray (Lnet/minecraft/class_4548;)V", "originalCommit": "a5fd15152bc10f9a1120cfd935197491e34a75bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA2MDEyOQ==", "url": "https://github.com/FabricMC/yarn/pull/1151#discussion_r388060129", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT", "author": "liach", "createdAt": "2020-03-05T03:25:04Z", "path": "mappings/net/minecraft/world/chunk/ChunkStatus.mapping", "diffHunk": "@@ -60,6 +60,7 @@ CLASS net/minecraft/class_2806 net/minecraft/world/chunk/ChunkStatus\n \t\tARG 5 task\n \tMETHOD method_20612 runNoGenTask (Lnet/minecraft/class_3218;Lnet/minecraft/class_3485;Lnet/minecraft/class_3227;Ljava/util/function/Function;Lnet/minecraft/class_2791;)Ljava/util/concurrent/CompletableFuture;\n \tCLASS class_2807 Task\n+\t\tCOMMENT ", "originalCommit": "a5fd15152bc10f9a1120cfd935197491e34a75bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ab60515059d06874fafbb9a57246bca576976f7e", "url": "https://github.com/FabricMC/yarn/commit/ab60515059d06874fafbb9a57246bca576976f7e", "message": "Fix issues", "committedDate": "2020-03-05T04:08:54Z", "type": "commit"}]}