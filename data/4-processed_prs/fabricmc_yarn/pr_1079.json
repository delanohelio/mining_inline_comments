{"pr_number": 1079, "pr_title": "1.15.2 EntityRenderer changes", "pr_createdAt": "2020-01-28T14:02:03Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1079", "timeline": [{"oid": "1afe34f6775e00e62200d0823ba566df960c2d3e", "url": "https://github.com/FabricMC/yarn/commit/1afe34f6775e00e62200d0823ba566df960c2d3e", "message": "1.15.2 EntityRenderer changes", "committedDate": "2020-01-28T13:59:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ3NTI0NQ==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r372475245", "bodyText": "Should we mention the impl detail in the comment? At least add a <p> on it.", "author": "liach", "createdAt": "2020-01-29T16:04:24Z", "path": "mappings/net/minecraft/client/render/entity/EntityRenderer.mapping", "diffHunk": "@@ -12,9 +14,13 @@ CLASS net/minecraft/class_897 net/minecraft/client/render/entity/EntityRenderer\n \t\tARG 1 entity\n \t\tARG 2 tickDelta\n \tMETHOD method_3921 hasLabel (Lnet/minecraft/class_1297;)Z\n+\t\tCOMMENT Determines whether the passed entity should render with a nameplate above its head.\n+\t\tCOMMENT\n+\t\tCOMMENT Checks for a custom nametag on living entities, and for teams/team visibilities for players.", "originalCommit": "1afe34f6775e00e62200d0823ba566df960c2d3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ3NTk4MA==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r372475980", "bodyText": "I think mentioning the impl detail is fine as this is Minecraft code. The <p> would also be a good thing to add.", "author": "Juuxel", "createdAt": "2020-01-29T16:05:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ3NTI0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ3NjE1Mg==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r372476152", "bodyText": "Empty comment?", "author": "Juuxel", "createdAt": "2020-01-29T16:06:00Z", "path": "mappings/net/minecraft/client/render/entity/LivingEntityRenderer.mapping", "diffHunk": "@@ -2,22 +2,46 @@ CLASS net/minecraft/class_922 net/minecraft/client/render/entity/LivingEntityRen\n \tFIELD field_21011 LOGGER Lorg/apache/logging/log4j/Logger;\n \tFIELD field_4737 model Lnet/minecraft/class_583;\n \tFIELD field_4738 features Ljava/util/List;\n+\tMETHOD <init> (Lnet/minecraft/class_898;Lnet/minecraft/class_583;F)V\n+\t\tARG 1 dispatcher\n+\t\tARG 2 model\n+\t\tARG 3 shadowSize\n \tMETHOD method_18656 getYaw (Lnet/minecraft/class_2350;)F\n+\t\tARG 0 direction\n \tMETHOD method_23185 getWhiteOverlayProgress (Lnet/minecraft/class_1309;F)F\n \t\tARG 1 entity\n \t\tARG 2 tickDelta\n \tMETHOD method_23622 getOverlay (Lnet/minecraft/class_1309;F)I\n+\t\tCOMMENT Returns the packed overlay colour for an entity, determined by its death progress and whether it is flashing.\n \t\tARG 0 entity\n \t\tARG 1 whiteOverlayProgress\n+\tMETHOD method_24302 getRenderLayer (Lnet/minecraft/class_1309;ZZ)Lnet/minecraft/class_1921;\n+\t\tCOMMENT Gets the render layer appropriate for rendering the passed entity. Return null if the entity should not be rendered.\n+\t\tARG 1 entity\n+\t\tARG 2 showBody\n+\t\t\tCOMMENT", "originalCommit": "1afe34f6775e00e62200d0823ba566df960c2d3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjUxNzkwMA==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r372517900", "bodyText": "Weird. I'd intended that to be deleted.", "author": "Sollace", "createdAt": "2020-01-29T17:15:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ3NjE1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjQ3NzYyMQ==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r372477621", "bodyText": "Swap the usage of the value first. Usage imo should come before impl detail.", "author": "liach", "createdAt": "2020-01-29T16:08:30Z", "path": "mappings/net/minecraft/client/render/entity/LivingEntityRenderer.mapping", "diffHunk": "@@ -2,22 +2,46 @@ CLASS net/minecraft/class_922 net/minecraft/client/render/entity/LivingEntityRen\n \tFIELD field_21011 LOGGER Lorg/apache/logging/log4j/Logger;\n \tFIELD field_4737 model Lnet/minecraft/class_583;\n \tFIELD field_4738 features Ljava/util/List;\n+\tMETHOD <init> (Lnet/minecraft/class_898;Lnet/minecraft/class_583;F)V\n+\t\tARG 1 dispatcher\n+\t\tARG 2 model\n+\t\tARG 3 shadowSize\n \tMETHOD method_18656 getYaw (Lnet/minecraft/class_2350;)F\n+\t\tARG 0 direction\n \tMETHOD method_23185 getWhiteOverlayProgress (Lnet/minecraft/class_1309;F)F\n \t\tARG 1 entity\n \t\tARG 2 tickDelta\n \tMETHOD method_23622 getOverlay (Lnet/minecraft/class_1309;F)I\n+\t\tCOMMENT Returns the packed overlay colour for an entity, determined by its death progress and whether it is flashing.\n \t\tARG 0 entity\n \t\tARG 1 whiteOverlayProgress\n+\tMETHOD method_24302 getRenderLayer (Lnet/minecraft/class_1309;ZZ)Lnet/minecraft/class_1921;\n+\t\tCOMMENT Gets the render layer appropriate for rendering the passed entity. Return null if the entity should not be rendered.\n+\t\tARG 1 entity\n+\t\tARG 2 showBody\n+\t\t\tCOMMENT\n+\t\tARG 3 translucent\n \tMETHOD method_4039 getLyingAngle (Lnet/minecraft/class_1309;)F\n+\t\tARG 1 entity\n \tMETHOD method_4042 scale (Lnet/minecraft/class_1309;Lnet/minecraft/class_4587;F)V\n \t\tARG 1 entity\n+\t\tARG 2 matrices\n+\t\tARG 3 tickDelta\n \tMETHOD method_4044 getHandSwingProgress (Lnet/minecraft/class_1309;F)F\n \t\tARG 1 entity\n \t\tARG 2 tickDelta\n-\tMETHOD method_4045 getCustomAngle (Lnet/minecraft/class_1309;F)F\n+\tMETHOD method_4045 getAnimationProgress (Lnet/minecraft/class_1309;F)F\n+\t\tCOMMENT Typically just the sum of entity's age (in ticks) and the passed tickDelta.\n+\t\tCOMMENT This value is passed to other methods when calculating angles for animation.", "originalCommit": "1afe34f6775e00e62200d0823ba566df960c2d3e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "944420e401b52e8412cd598c35dafef98045fee6", "url": "https://github.com/FabricMC/yarn/commit/944420e401b52e8412cd598c35dafef98045fee6", "message": "wtf Enigma", "committedDate": "2020-01-29T17:16:21Z", "type": "commit"}, {"oid": "a0c0c3a71767d0758ab39b9a359566248c045bf3", "url": "https://github.com/FabricMC/yarn/commit/a0c0c3a71767d0758ab39b9a359566248c045bf3", "message": "Added the P", "committedDate": "2020-01-29T17:17:15Z", "type": "commit"}, {"oid": "f5fd653b21e1536eba17aecb7bcb6b7e32415f8a", "url": "https://github.com/FabricMC/yarn/commit/f5fd653b21e1536eba17aecb7bcb6b7e32415f8a", "message": "\"Swap the usage of the value first\"", "committedDate": "2020-01-29T17:18:40Z", "type": "commit"}, {"oid": "a2a725928c109fb46447ddbb0301fe1d33d907c9", "url": "https://github.com/FabricMC/yarn/commit/a2a725928c109fb46447ddbb0301fe1d33d907c9", "message": "See my new dog color mah!?", "committedDate": "2020-01-29T17:19:56Z", "type": "commit"}, {"oid": "5c1599b5323bd9b24c7620346eb5f3fcd4b03e1a", "url": "https://github.com/FabricMC/yarn/commit/5c1599b5323bd9b24c7620346eb5f3fcd4b03e1a", "message": "\"S\" that ws meant to be an \"S\"", "committedDate": "2020-01-29T17:21:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzU2NjkwMg==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r373566902", "bodyText": "Should we wrap param ref in method doc with {@code }, like how limit param is wrapped in https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-", "author": "liach", "createdAt": "2020-01-31T16:25:56Z", "path": "mappings/net/minecraft/client/render/entity/LivingEntityRenderer.mapping", "diffHunk": "@@ -2,22 +2,45 @@ CLASS net/minecraft/class_922 net/minecraft/client/render/entity/LivingEntityRen\n \tFIELD field_21011 LOGGER Lorg/apache/logging/log4j/Logger;\n \tFIELD field_4737 model Lnet/minecraft/class_583;\n \tFIELD field_4738 features Ljava/util/List;\n+\tMETHOD <init> (Lnet/minecraft/class_898;Lnet/minecraft/class_583;F)V\n+\t\tARG 1 dispatcher\n+\t\tARG 2 model\n+\t\tARG 3 shadowSize\n \tMETHOD method_18656 getYaw (Lnet/minecraft/class_2350;)F\n+\t\tARG 0 direction\n \tMETHOD method_23185 getWhiteOverlayProgress (Lnet/minecraft/class_1309;F)F\n \t\tARG 1 entity\n \t\tARG 2 tickDelta\n \tMETHOD method_23622 getOverlay (Lnet/minecraft/class_1309;F)I\n+\t\tCOMMENT Returns the packed overlay color for an entity, determined by its death progress and whether it is flashing.\n \t\tARG 0 entity\n \t\tARG 1 whiteOverlayProgress\n+\tMETHOD method_24302 getRenderLayer (Lnet/minecraft/class_1309;ZZ)Lnet/minecraft/class_1921;\n+\t\tCOMMENT Gets the render layer appropriate for rendering the passed entity. Returns null if the entity should not be rendered.\n+\t\tARG 1 entity\n+\t\tARG 2 showBody\n+\t\tARG 3 translucent\n \tMETHOD method_4039 getLyingAngle (Lnet/minecraft/class_1309;)F\n+\t\tARG 1 entity\n \tMETHOD method_4042 scale (Lnet/minecraft/class_1309;Lnet/minecraft/class_4587;F)V\n \t\tARG 1 entity\n+\t\tARG 2 matrices\n+\t\tARG 3 tickDelta\n \tMETHOD method_4044 getHandSwingProgress (Lnet/minecraft/class_1309;F)F\n \t\tARG 1 entity\n \t\tARG 2 tickDelta\n-\tMETHOD method_4045 getCustomAngle (Lnet/minecraft/class_1309;F)F\n+\tMETHOD method_4045 getAnimationProgress (Lnet/minecraft/class_1309;F)F\n+\t\tCOMMENT This value is passed to other methods when calculating angles for animation.\n+\t\tCOMMENT It's typically just the sum of the entity's age (in ticks) and the passed in tickDelta.", "originalCommit": "5c1599b5323bd9b24c7620346eb5f3fcd4b03e1a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "45a02881f9b53a3da2afa11c4d4207f601d811b6", "url": "https://github.com/FabricMC/yarn/commit/45a02881f9b53a3da2afa11c4d4207f601d811b6", "message": "Merge branch '1.15.2' into renderer_mapping_updates", "committedDate": "2020-01-31T20:09:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3ODEyMg==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r373778122", "bodyText": "The rest of these should be pretty obvious as well IIRC, but that can be for another PR.\nEdit: they are (entity, label, matrices, vertexConsumers, light), feel free to steal for a PR", "author": "Juuxel", "createdAt": "2020-02-01T12:42:09Z", "path": "mappings/net/minecraft/client/render/entity/EntityRenderer.mapping", "diffHunk": "@@ -12,9 +14,13 @@ CLASS net/minecraft/class_897 net/minecraft/client/render/entity/EntityRenderer\n \t\tARG 1 entity\n \t\tARG 2 tickDelta\n \tMETHOD method_3921 hasLabel (Lnet/minecraft/class_1297;)Z\n+\t\tCOMMENT Determines whether the passed entity should render with a nameplate above its head.\n+\t\tCOMMENT \n+\t\tCOMMENT <p>Checks for a custom nametag on living entities, and for teams/team visibilities for players.</p>\n \t\tARG 1 entity\n \tMETHOD method_3926 renderLabelIfPresent (Lnet/minecraft/class_1297;Ljava/lang/String;Lnet/minecraft/class_4587;Lnet/minecraft/class_4597;I)V\n \t\tARG 1 entity\n+\t\tARG 3 matrices", "originalCommit": "45a02881f9b53a3da2afa11c4d4207f601d811b6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc4ODk1MQ==", "url": "https://github.com/FabricMC/yarn/pull/1079#discussion_r373788951", "bodyText": "Pretty sure these are in my other PR", "author": "Sollace", "createdAt": "2020-02-01T16:40:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzc3ODEyMg=="}], "type": "inlineReview"}]}