{"pr_number": 1348, "pr_title": "Some refactor and clean up with KeyBinding and EntryListWidget$Entry", "pr_createdAt": "2020-05-12T10:23:18Z", "pr_url": "https://github.com/FabricMC/yarn/pull/1348", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk5ODYyMQ==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r423998621", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tFIELD field_2736 categoryText Lnet/minecraft/class_2561;\n          \n          \n            \n            \t\tFIELD field_2737 categoryTextWidth I\n          \n          \n            \n            \t\tMETHOD <init> (Lnet/minecraft/class_459;Lnet/minecraft/class_2561;)V\n          \n          \n            \n            \t\t\tARG 2 categoryText\n          \n          \n            \n            \t\tFIELD field_2736 text Lnet/minecraft/class_2561;\n          \n          \n            \n            \t\tFIELD field_2737 textWidth I\n          \n          \n            \n            \t\tMETHOD <init> (Lnet/minecraft/class_459;Lnet/minecraft/class_2561;)V\n          \n          \n            \n            \t\t\tARG 2 text", "author": "liach", "createdAt": "2020-05-12T20:01:14Z", "path": "mappings/net/minecraft/client/gui/screen/options/ControlsListWidget.mapping", "diffHunk": "@@ -5,11 +5,15 @@ CLASS net/minecraft/class_459 net/minecraft/client/gui/screen/options/ControlsLi\n \t\tARG 1 gui\n \t\tARG 2 client\n \tCLASS class_460 CategoryEntry\n-\t\tFIELD field_2736 name Lnet/minecraft/class_2561;\n-\t\tFIELD field_2737 nameWidth I\n+\t\tFIELD field_2736 categoryText Lnet/minecraft/class_2561;\n+\t\tFIELD field_2737 categoryTextWidth I\n+\t\tMETHOD <init> (Lnet/minecraft/class_459;Lnet/minecraft/class_2561;)V\n+\t\t\tARG 2 categoryText", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk5OTYwNg==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r423999606", "bodyText": "maybe just Key for this class so fromKeyCode returning a Key makes sense (than returning a KeyCode)", "author": "liach", "createdAt": "2020-05-12T20:03:05Z", "path": "mappings/net/minecraft/client/util/InputUtil.mapping", "diffHunk": "@@ -2,38 +2,57 @@ CLASS net/minecraft/class_3675 net/minecraft/client/util/InputUtil\n \tFIELD field_16237 UNKNOWN_KEYCODE Lnet/minecraft/class_3675$class_306;\n \tFIELD field_20333 GLFW_RAW_MOUSE_MOTION_SUPPORTED_HANDLE Ljava/lang/invoke/MethodHandle;\n \tFIELD field_20334 GLFW_RAW_MOUSE_MOTION I\n-\tMETHOD method_15981 fromName (Ljava/lang/String;)Lnet/minecraft/class_3675$class_306;\n-\t\tARG 0 s\n+\tMETHOD method_15981 fromTranslationKey (Ljava/lang/String;)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 translationKey\n \tMETHOD method_15983 setMouseCallbacks (JLorg/lwjgl/glfw/GLFWCursorPosCallbackI;Lorg/lwjgl/glfw/GLFWMouseButtonCallbackI;Lorg/lwjgl/glfw/GLFWScrollCallbackI;)V\n \t\tARG 0 handle\n+\t\tARG 2 cursorPosCallback\n+\t\tARG 3 mouseButtonCallback\n+\t\tARG 4 scrollCallback\n \tMETHOD method_15984 setCursorParameters (JIDD)V\n-\tMETHOD method_15985 getKeyCode (II)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 handler\n+\tMETHOD method_15985 fromKeyCode (II)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 keyCode\n+\t\tARG 1 scanCode\n \tMETHOD method_15986 setKeyboardCallbacks (JLorg/lwjgl/glfw/GLFWKeyCallbackI;Lorg/lwjgl/glfw/GLFWCharModsCallbackI;)V\n \t\tARG 0 handle\n+\t\tARG 2 keyCallback\n+\t\tARG 3 charModsCallback\n \tMETHOD method_15987 isKeyPressed (JI)Z\n \t\tARG 0 handle\n+\t\tARG 2 code\n \tMETHOD method_21735 isRawMouseMotionSupported ()Z\n \tMETHOD method_21736 setRawMouseMotionMode (JZ)V\n \t\tARG 0 window\n \t\tARG 2 value\n \tCLASS class_306 KeyCode", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDAwMDM0Mw==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r424000343", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tFIELD field_24197 textLocalizeFunction Ljava/util/function/BiFunction;\n          \n          \n            \n            \t\tFIELD field_24197 textTranslator Ljava/util/function/BiFunction;\n          \n      \n    \n    \n  \n\ndon't need the function suffix", "author": "liach", "createdAt": "2020-05-12T20:04:27Z", "path": "mappings/net/minecraft/client/util/InputUtil.mapping", "diffHunk": "@@ -2,38 +2,57 @@ CLASS net/minecraft/class_3675 net/minecraft/client/util/InputUtil\n \tFIELD field_16237 UNKNOWN_KEYCODE Lnet/minecraft/class_3675$class_306;\n \tFIELD field_20333 GLFW_RAW_MOUSE_MOTION_SUPPORTED_HANDLE Ljava/lang/invoke/MethodHandle;\n \tFIELD field_20334 GLFW_RAW_MOUSE_MOTION I\n-\tMETHOD method_15981 fromName (Ljava/lang/String;)Lnet/minecraft/class_3675$class_306;\n-\t\tARG 0 s\n+\tMETHOD method_15981 fromTranslationKey (Ljava/lang/String;)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 translationKey\n \tMETHOD method_15983 setMouseCallbacks (JLorg/lwjgl/glfw/GLFWCursorPosCallbackI;Lorg/lwjgl/glfw/GLFWMouseButtonCallbackI;Lorg/lwjgl/glfw/GLFWScrollCallbackI;)V\n \t\tARG 0 handle\n+\t\tARG 2 cursorPosCallback\n+\t\tARG 3 mouseButtonCallback\n+\t\tARG 4 scrollCallback\n \tMETHOD method_15984 setCursorParameters (JIDD)V\n-\tMETHOD method_15985 getKeyCode (II)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 handler\n+\tMETHOD method_15985 fromKeyCode (II)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 keyCode\n+\t\tARG 1 scanCode\n \tMETHOD method_15986 setKeyboardCallbacks (JLorg/lwjgl/glfw/GLFWKeyCallbackI;Lorg/lwjgl/glfw/GLFWCharModsCallbackI;)V\n \t\tARG 0 handle\n+\t\tARG 2 keyCallback\n+\t\tARG 3 charModsCallback\n \tMETHOD method_15987 isKeyPressed (JI)Z\n \t\tARG 0 handle\n+\t\tARG 2 code\n \tMETHOD method_21735 isRawMouseMotionSupported ()Z\n \tMETHOD method_21736 setRawMouseMotionMode (JZ)V\n \t\tARG 0 window\n \t\tARG 2 value\n \tCLASS class_306 KeyCode\n-\t\tFIELD field_1663 name Ljava/lang/String;\n-\t\tFIELD field_1664 NAMES Ljava/util/Map;\n-\t\tFIELD field_1665 keyCode I\n+\t\tFIELD field_1663 translationKey Ljava/lang/String;\n+\t\tFIELD field_1664 CODES Ljava/util/Map;\n+\t\tFIELD field_1665 code I\n \t\tFIELD field_1666 type Lnet/minecraft/class_3675$class_307;\n+\t\tFIELD field_24196 localizedText Lnet/minecraft/class_3528;\n \t\tMETHOD <init> (Ljava/lang/String;Lnet/minecraft/class_3675$class_307;I)V\n-\t\t\tARG 1 keyName\n+\t\t\tARG 1 translationKey\n \t\t\tARG 2 type\n+\t\t\tARG 3 code\n \t\tMETHOD equals (Ljava/lang/Object;)Z\n-\t\t\tARG 1 o\n-\t\tMETHOD method_1441 getName ()Ljava/lang/String;\n+\t\t\tARG 1 other\n+\t\tMETHOD method_1441 getTranslationKey ()Ljava/lang/String;\n \t\tMETHOD method_1442 getCategory ()Lnet/minecraft/class_3675$class_307;\n-\t\tMETHOD method_1444 getKeyCode ()I\n+\t\tMETHOD method_1444 getCode ()I\n+\t\tMETHOD method_27445 getLocalizedText ()Lnet/minecraft/class_2561;\n \tCLASS class_307 Type\n \t\tFIELD field_1673 name Ljava/lang/String;\n \t\tFIELD field_1674 map Lit/unimi/dsi/fastutil/ints/Int2ObjectMap;\n+\t\tFIELD field_24197 textLocalizeFunction Ljava/util/function/BiFunction;", "originalCommit": null, "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU3MTU2MA==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r424571560", "bodyText": "keyToBindings?", "author": "liach", "createdAt": "2020-05-13T16:27:42Z", "path": "mappings/net/minecraft/client/options/KeyBinding.mapping", "diffHunk": "@@ -1,24 +1,26 @@\n CLASS net/minecraft/class_304 net/minecraft/client/options/KeyBinding\n \tFIELD field_1652 keyCategories Ljava/util/Set;\n \tFIELD field_1653 pressed Z\n-\tFIELD field_1654 defaultKeyCode Lnet/minecraft/class_3675$class_306;\n-\tFIELD field_1655 keyCode Lnet/minecraft/class_3675$class_306;\n+\tFIELD field_1654 defaultKey Lnet/minecraft/class_3675$class_306;\n+\tFIELD field_1655 boundKey Lnet/minecraft/class_3675$class_306;\n \tFIELD field_1656 categoryOrderMap Ljava/util/Map;\n \tFIELD field_1657 keysById Ljava/util/Map;\n-\tFIELD field_1658 keysByCode Ljava/util/Map;\n+\tFIELD field_1658 keyBindingsByKey Ljava/util/Map;", "originalCommit": null, "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU3NjA2NQ==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r424576065", "bodyText": "that works", "author": "shedaniel", "createdAt": "2020-05-13T16:34:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU3MTU2MA=="}], "type": "inlineReview"}, {"oid": null, "url": null, "message": null, "committedDate": null, "type": "forcePushed"}, {"oid": "745274959037968acec5c5cd60029fdf28c8718b", "url": "https://github.com/FabricMC/yarn/commit/745274959037968acec5c5cd60029fdf28c8718b", "message": "Some clean up with KeyBinding and EntryListWidget$Entry\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-05-14T14:44:44Z", "type": "commit"}, {"oid": "eaec3cb2468f13265ef6d733e2abd56085f47a03", "url": "https://github.com/FabricMC/yarn/commit/eaec3cb2468f13265ef6d733e2abd56085f47a03", "message": "Apply suggestions from code review\n\nCo-authored-by: liach <7806504+liach@users.noreply.github.com>", "committedDate": "2020-05-14T14:44:44Z", "type": "commit"}, {"oid": "87b544ee8945ae0b2146a28f25f4bff58c3fe5bd", "url": "https://github.com/FabricMC/yarn/commit/87b544ee8945ae0b2146a28f25f4bff58c3fe5bd", "message": "Rename to InputUtil$Key\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-05-14T14:44:44Z", "type": "commit"}, {"oid": "56fd5bdda6eac9cb7aafedceed9456c7401427bc", "url": "https://github.com/FabricMC/yarn/commit/56fd5bdda6eac9cb7aafedceed9456c7401427bc", "message": "20w20a\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-05-14T14:44:44Z", "type": "commit"}, {"oid": "56fd5bdda6eac9cb7aafedceed9456c7401427bc", "url": "https://github.com/FabricMC/yarn/commit/56fd5bdda6eac9cb7aafedceed9456c7401427bc", "message": "20w20a\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-05-14T14:44:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1NDc1OA==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r425254758", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tARG 4 textLocalizeFunction\n          \n          \n            \n            \t\t\tARG 4 textTranslator", "author": "liach", "createdAt": "2020-05-14T16:06:12Z", "path": "mappings/net/minecraft/client/util/InputUtil.mapping", "diffHunk": "@@ -1,39 +1,58 @@\n CLASS net/minecraft/class_3675 net/minecraft/client/util/InputUtil\n-\tFIELD field_16237 UNKNOWN_KEYCODE Lnet/minecraft/class_3675$class_306;\n+\tFIELD field_16237 UNKNOWN_KEY Lnet/minecraft/class_3675$class_306;\n \tFIELD field_20333 GLFW_RAW_MOUSE_MOTION_SUPPORTED_HANDLE Ljava/lang/invoke/MethodHandle;\n \tFIELD field_20334 GLFW_RAW_MOUSE_MOTION I\n-\tMETHOD method_15981 fromName (Ljava/lang/String;)Lnet/minecraft/class_3675$class_306;\n-\t\tARG 0 s\n+\tMETHOD method_15981 fromTranslationKey (Ljava/lang/String;)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 translationKey\n \tMETHOD method_15983 setMouseCallbacks (JLorg/lwjgl/glfw/GLFWCursorPosCallbackI;Lorg/lwjgl/glfw/GLFWMouseButtonCallbackI;Lorg/lwjgl/glfw/GLFWScrollCallbackI;)V\n \t\tARG 0 handle\n+\t\tARG 2 cursorPosCallback\n+\t\tARG 3 mouseButtonCallback\n+\t\tARG 4 scrollCallback\n \tMETHOD method_15984 setCursorParameters (JIDD)V\n-\tMETHOD method_15985 getKeyCode (II)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 handler\n+\tMETHOD method_15985 fromKeyCode (II)Lnet/minecraft/class_3675$class_306;\n+\t\tARG 0 keyCode\n+\t\tARG 1 scanCode\n \tMETHOD method_15986 setKeyboardCallbacks (JLorg/lwjgl/glfw/GLFWKeyCallbackI;Lorg/lwjgl/glfw/GLFWCharModsCallbackI;)V\n \t\tARG 0 handle\n+\t\tARG 2 keyCallback\n+\t\tARG 3 charModsCallback\n \tMETHOD method_15987 isKeyPressed (JI)Z\n \t\tARG 0 handle\n+\t\tARG 2 code\n \tMETHOD method_21735 isRawMouseMotionSupported ()Z\n \tMETHOD method_21736 setRawMouseMotionMode (JZ)V\n \t\tARG 0 window\n \t\tARG 2 value\n-\tCLASS class_306 KeyCode\n-\t\tFIELD field_1663 name Ljava/lang/String;\n-\t\tFIELD field_1664 NAMES Ljava/util/Map;\n-\t\tFIELD field_1665 keyCode I\n+\tCLASS class_306 Key\n+\t\tFIELD field_1663 translationKey Ljava/lang/String;\n+\t\tFIELD field_1664 KEYS Ljava/util/Map;\n+\t\tFIELD field_1665 code I\n \t\tFIELD field_1666 type Lnet/minecraft/class_3675$class_307;\n+\t\tFIELD field_24196 localizedText Lnet/minecraft/class_3528;\n \t\tMETHOD <init> (Ljava/lang/String;Lnet/minecraft/class_3675$class_307;I)V\n-\t\t\tARG 1 keyName\n+\t\t\tARG 1 translationKey\n \t\t\tARG 2 type\n+\t\t\tARG 3 code\n \t\tMETHOD equals (Ljava/lang/Object;)Z\n-\t\t\tARG 1 o\n-\t\tMETHOD method_1441 getName ()Ljava/lang/String;\n+\t\t\tARG 1 other\n+\t\tMETHOD method_1441 getTranslationKey ()Ljava/lang/String;\n \t\tMETHOD method_1442 getCategory ()Lnet/minecraft/class_3675$class_307;\n-\t\tMETHOD method_1444 getKeyCode ()I\n+\t\tMETHOD method_1444 getCode ()I\n+\t\tMETHOD method_27445 getLocalizedText ()Lnet/minecraft/class_2561;\n \tCLASS class_307 Type\n \t\tFIELD field_1673 name Ljava/lang/String;\n \t\tFIELD field_1674 map Lit/unimi/dsi/fastutil/ints/Int2ObjectMap;\n+\t\tFIELD field_24197 textTranslator Ljava/util/function/BiFunction;\n+\t\tMETHOD <init> (Ljava/lang/String;ILjava/lang/String;Ljava/util/function/BiFunction;)V\n+\t\t\tARG 3 name\n+\t\t\tARG 4 textLocalizeFunction", "originalCommit": "56fd5bdda6eac9cb7aafedceed9456c7401427bc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1NjYxMg==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r425256612", "bodyText": "Missed this oops", "author": "shedaniel", "createdAt": "2020-05-14T16:08:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1NDc1OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1NzY3Nw==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r425257677", "bodyText": "Yeah I should've suggested this change when I suggested the field change. Sorry!", "author": "liach", "createdAt": "2020-05-14T16:10:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1NDc1OA=="}], "type": "inlineReview"}, {"oid": "de5e28c93eb0e943ac87d99d4cadc3af64fc1d58", "url": "https://github.com/FabricMC/yarn/commit/de5e28c93eb0e943ac87d99d4cadc3af64fc1d58", "message": "Update mappings/net/minecraft/client/util/InputUtil.mapping\n\nCo-authored-by: liach <7806504+liach@users.noreply.github.com>", "committedDate": "2020-05-14T16:08:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2NjQzMQ==", "url": "https://github.com/FabricMC/yarn/pull/1348#discussion_r425266431", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tARG 3 x\n          \n          \n            \n            \t\t\tARG 4 y\n          \n          \n            \n            \t\t\tARG 3 y\n          \n          \n            \n            \t\t\tARG 4 x", "author": "YanisBft", "createdAt": "2020-05-14T16:22:52Z", "path": "mappings/net/minecraft/client/gui/widget/EntryListWidget.mapping", "diffHunk": "@@ -95,12 +95,14 @@ CLASS net/minecraft/class_350 net/minecraft/client/gui/widget/EntryListWidget\n \t\tFIELD field_22752 list Lnet/minecraft/class_350;\n \t\tMETHOD method_25343 render (Lnet/minecraft/class_4587;IIIIIIIZF)V\n \t\t\tARG 1 matrices\n-\t\t\tARG 2 x\n-\t\t\tARG 3 y\n-\t\t\tARG 4 width\n-\t\t\tARG 5 height\n-\t\t\tARG 6 mouseX\n-\t\t\tARG 7 mouseY\n+\t\t\tARG 2 index\n+\t\t\tARG 3 x\n+\t\t\tARG 4 y", "originalCommit": "de5e28c93eb0e943ac87d99d4cadc3af64fc1d58", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2e20813be7ce8c9b1c90c3e01cc81afe37c50e1b", "url": "https://github.com/FabricMC/yarn/commit/2e20813be7ce8c9b1c90c3e01cc81afe37c50e1b", "message": "Update mappings/net/minecraft/client/gui/widget/EntryListWidget.mapping\n\nCo-authored-by: Yanis48 <doublecraft.official@gmail.com>", "committedDate": "2020-05-14T16:32:54Z", "type": "commit"}]}