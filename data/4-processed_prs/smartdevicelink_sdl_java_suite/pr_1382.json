{"pr_number": 1382, "pr_title": "Bugfix/issue 1377 parcelable", "pr_createdAt": "2020-06-12T12:48:44Z", "pr_url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382", "timeline": [{"oid": "322aa77c18887c4f15b27649691444bc3eaf88f4", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/322aa77c18887c4f15b27649691444bc3eaf88f4", "message": "Refactor to Parcelable classes", "committedDate": "2020-06-10T18:03:11Z", "type": "commit"}, {"oid": "90c9ef0e1b2c5ef46c0c0334238d11ca9ab06dfc", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/90c9ef0e1b2c5ef46c0c0334238d11ca9ab06dfc", "message": "Add JavaSE Child Class for SdlPacket", "committedDate": "2020-06-10T18:21:52Z", "type": "commit"}, {"oid": "090648c33629c375ea25e2bda7b4842cc5a33c5d", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/090648c33629c375ea25e2bda7b4842cc5a33c5d", "message": "Add JavaSE Child class for TransportRecord", "committedDate": "2020-06-10T18:39:25Z", "type": "commit"}, {"oid": "bb06b8de745c17dd472a10114815573a2ec52801", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/bb06b8de745c17dd472a10114815573a2ec52801", "message": "Remove Parcelable implementation from base", "committedDate": "2020-06-10T18:58:20Z", "type": "commit"}, {"oid": "3049d561e939f833505100273f7c7ff72e050985", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/3049d561e939f833505100273f7c7ff72e050985", "message": "Remove Parcelable from BaseReansportRecord", "committedDate": "2020-06-10T19:09:35Z", "type": "commit"}, {"oid": "ab46f6d70d94985c47362718e8ef8069049184ac", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ab46f6d70d94985c47362718e8ef8069049184ac", "message": "Deprecate Parcel and Parcelable in base", "committedDate": "2020-06-11T20:40:22Z", "type": "commit"}, {"oid": "06469ae7ed13984e855770d4d84b987c505c5fdb", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/06469ae7ed13984e855770d4d84b987c505c5fdb", "message": "Merge branch 'develop' into bugfix/issue_1377_Parcelable", "committedDate": "2020-06-12T17:44:53Z", "type": "commit"}, {"oid": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "message": "Make new Base classes Package Private", "committedDate": "2020-06-12T17:48:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE1OTE0MQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445159141", "bodyText": "is that var needed here?", "author": "bilal-alsharifi", "createdAt": "2020-06-24T20:41:21Z", "path": "javaSE/src/main/java/com/smartdevicelink/protocol/SdlPacket.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/*\n+ * Copyright (c) 2017 - 2019, SmartDeviceLink Consortium, Inc.\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following\n+ * disclaimer in the documentation and/or other materials provided with the\n+ * distribution.\n+ *\n+ * Neither the name of the SmartDeviceLink Consortium, Inc. nor the names of its\n+ * contributors may be used to endorse or promote products derived from this\n+ * software without specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n+ * POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package com.smartdevicelink.protocol;\n+\n+import android.os.Parcel;\n+import android.os.Parcelable;\n+\n+public class SdlPacket extends BaseSdlPacket {\n+    private static final int EXTRA_PARCEL_DATA_LENGTH \t\t\t= 24;", "originalCommit": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzNzA4NA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445537084", "bodyText": "removed unused var", "author": "RHenigan", "createdAt": "2020-06-25T12:57:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE1OTE0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2MDYyMQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445160621", "bodyText": "There are some unused imports in this file", "author": "bilal-alsharifi", "createdAt": "2020-06-24T20:44:09Z", "path": "base/src/main/java/com/smartdevicelink/protocol/BaseSdlPacket.java", "diffHunk": "@@ -47,7 +47,7 @@\n  * Any other binder transactions must include an additional int flag into their bundle or the parsing\n  * of this object will fail.", "originalCommit": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzNzI3Nw==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445537277", "bodyText": "removed unused imports", "author": "RHenigan", "createdAt": "2020-06-25T12:58:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2MDYyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NDkxOA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445164918", "bodyText": "is there a reason why these vars exist on both parent and child classes?", "author": "bilal-alsharifi", "createdAt": "2020-06-24T20:52:27Z", "path": "base/src/main/java/com/smartdevicelink/transport/utl/BaseTransportRecord.java", "diffHunk": "@@ -32,17 +32,14 @@\n \n package com.smartdevicelink.transport.utl;\n \n-import android.os.Parcel;\n-import android.os.Parcelable;\n-\n import com.smartdevicelink.transport.enums.TransportType;\n \n-public class TransportRecord implements Parcelable{\n+class BaseTransportRecord{\n \n     private TransportType type;", "originalCommit": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzNzU2Ng==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445537566", "bodyText": "changed to protected in parent class so child classes have access", "author": "RHenigan", "createdAt": "2020-06-25T12:58:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NDkxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NTcxNg==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445165716", "bodyText": "also, why do we set these vars again, aren't they set in the parent class?", "author": "bilal-alsharifi", "createdAt": "2020-06-24T20:54:04Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/utl/TransportRecord.java", "diffHunk": "@@ -0,0 +1,60 @@\n+package com.smartdevicelink.transport.utl;\n+\n+import android.os.Parcel;\n+import android.os.Parcelable;\n+\n+import com.smartdevicelink.transport.enums.TransportType;\n+\n+public class TransportRecord extends BaseTransportRecord implements Parcelable {\n+\n+    private TransportType type;\n+    private String address;\n+\n+    public TransportRecord(TransportType transportType, String address) {\n+        super(transportType, address);\n+        this.type = transportType;", "originalCommit": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzNzgxOQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445537819", "bodyText": "with changing vars to protected child class has access now", "author": "RHenigan", "createdAt": "2020-06-25T12:59:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2NTcxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2ODMwOA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445168308", "bodyText": "This method got deleted from the base class and not added to the child class. Please be aware that this is a breaking change as the method is public.", "author": "bilal-alsharifi", "createdAt": "2020-06-24T20:59:06Z", "path": "base/src/main/java/com/smartdevicelink/transport/utl/BaseTransportRecord.java", "diffHunk": "@@ -80,47 +77,4 @@ public String toString(){\n         builder.append(address);\n         return builder.toString();\n     }\n-\n-    public TransportRecord(Parcel p){", "originalCommit": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzODQwOA==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445538408", "bodyText": "reimplemented in base class, added to child classes calling super, Deprecated in javaSE, will need to be moved out of base and into android after cleaning up deprecations", "author": "RHenigan", "createdAt": "2020-06-25T13:00:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2ODMwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2ODY3MQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445168671", "bodyText": "This method doesn't exactly match the one that is copied from the base class", "author": "bilal-alsharifi", "createdAt": "2020-06-24T20:59:51Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/transport/utl/TransportRecord.java", "diffHunk": "@@ -0,0 +1,60 @@\n+package com.smartdevicelink.transport.utl;\n+\n+import android.os.Parcel;\n+import android.os.Parcelable;\n+\n+import com.smartdevicelink.transport.enums.TransportType;\n+\n+public class TransportRecord extends BaseTransportRecord implements Parcelable {\n+\n+    private TransportType type;\n+    private String address;\n+\n+    public TransportRecord(TransportType transportType, String address) {\n+        super(transportType, address);\n+        this.type = transportType;\n+        this.address = address;\n+    }\n+\n+    @Override\n+    public int describeContents() {\n+        return 0;\n+    }\n+\n+    @Override\n+    public void writeToParcel(Parcel dest, int flags) {\n+        dest.writeInt(type!=null? 1 : 0);\n+        if(type != null){\n+            dest.writeString(type.name());\n+        }\n+\n+        dest.writeInt(address !=null? 1 : 0);\n+        if(address != null){\n+            dest.writeString(address);\n+        }\n+    }\n+\n+    public static final Parcelable.Creator<TransportRecord> CREATOR = new Parcelable.Creator<TransportRecord>() {\n+        public TransportRecord createFromParcel(Parcel in) {", "originalCommit": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzODg1NQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445538855", "bodyText": "This was a result of not properly implementing the parcel Constructor, with the other changes I was able to make this match the previous base class implementation", "author": "RHenigan", "createdAt": "2020-06-25T13:00:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2ODY3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2OTc5NQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445169795", "bodyText": "these vars should be reused from parent class also the constructor should be reused.", "author": "bilal-alsharifi", "createdAt": "2020-06-24T21:01:59Z", "path": "javaSE/src/main/java/com/smartdevicelink/transport/utl/TransportRecord.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/*\n+ * Copyright (c) 2017 - 2019, SmartDeviceLink Consortium, Inc.\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following\n+ * disclaimer in the documentation and/or other materials provided with the\n+ * distribution.\n+ *\n+ * Neither the name of the SmartDeviceLink Consortium, Inc. nor the names of its\n+ * contributors may be used to endorse or promote products derived from this\n+ * software without specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n+ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n+ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n+ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n+ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n+ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n+ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n+ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n+ * POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package com.smartdevicelink.transport.utl;\n+\n+import android.os.Parcel;\n+import android.os.Parcelable;\n+import com.smartdevicelink.transport.enums.TransportType;\n+\n+public class TransportRecord extends BaseTransportRecord {\n+    private TransportType type;\n+    private String address;", "originalCommit": "363dbca7ef05a9b96840b49d47df86cbe5ab4d2c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzOTAyNg==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1382#discussion_r445539026", "bodyText": "resolved after making the vars protected in base class", "author": "RHenigan", "createdAt": "2020-06-25T13:01:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE2OTc5NQ=="}], "type": "inlineReview"}, {"oid": "8b7d5caee548ce902ec12aaea6bff09280499117", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/8b7d5caee548ce902ec12aaea6bff09280499117", "message": "Fix feedback from review", "committedDate": "2020-06-25T13:04:54Z", "type": "commit"}, {"oid": "354293bfc6ecdb63bdc7adfef15dfb0ebf10a842", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/354293bfc6ecdb63bdc7adfef15dfb0ebf10a842", "message": "Move TransportRecord parcel constructor to Android", "committedDate": "2020-06-25T19:10:07Z", "type": "commit"}]}