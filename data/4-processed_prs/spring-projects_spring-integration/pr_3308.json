{"pr_number": 3308, "pr_title": "GH-3307: Retry DefaultLockRepository.acquire for TransTimedOutEx", "pr_createdAt": "2020-06-12T14:36:02Z", "pr_url": "https://github.com/spring-projects/spring-integration/pull/3308", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ1OTE3OA==", "url": "https://github.com/spring-projects/spring-integration/pull/3308#discussion_r439459178", "bodyText": "You know that we can't use this structure for 4.3.x. That one is still based on Java 6.\nSaying that it raises a question to you: why do you ask for 4.3.x if you don't use Java 6 any more?", "author": "artembilan", "createdAt": "2020-06-12T14:38:21Z", "path": "spring-integration-jdbc/src/main/java/org/springframework/integration/jdbc/lock/JdbcLockRegistry.java", "diffHunk": "@@ -131,7 +132,7 @@ public void lock() {\n \t\t\t\t\t}\n \t\t\t\t\tbreak;\n \t\t\t\t}\n-\t\t\t\tcatch (TransientDataAccessException e) {\n+\t\t\t\tcatch (TransientDataAccessException | TransactionTimedOutException e) {", "originalCommit": "53a862ed22a6d570048825661e390c62551f95f6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4NTE2NA==", "url": "https://github.com/spring-projects/spring-integration/pull/3308#discussion_r439485164", "bodyText": "Ho crap sorry..\nWe keep 4.3.x because of spring version. We not upgrade the project to a 5+ spring version yet :/", "author": "astrubel", "createdAt": "2020-06-12T15:22:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ1OTE3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4OTA4MA==", "url": "https://github.com/spring-projects/spring-integration/pull/3308#discussion_r439489080", "bodyText": "I have to create a new pull request for 4.3.x? I'm not familiar with your usage. I'm so sorry", "author": "astrubel", "createdAt": "2020-06-12T15:29:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ1OTE3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDIxMjE3OQ==", "url": "https://github.com/spring-projects/spring-integration/pull/3308#discussion_r440212179", "bodyText": "No, you don't: I'll back port it properly. Just curious why do you need fix in the version for Java 6, when you definitely could move already to 5.x generation if you don't use Java 6 any more...", "author": "artembilan", "createdAt": "2020-06-15T14:22:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ1OTE3OA=="}], "type": "inlineReview"}, {"oid": "066da3cad30f90a6f3854c2548296b5991fa6de5", "url": "https://github.com/spring-projects/spring-integration/commit/066da3cad30f90a6f3854c2548296b5991fa6de5", "message": "GH-3307: Retry DefaultLockRepository.acquire for TransTimedOutEx", "committedDate": "2020-06-16T14:02:48Z", "type": "commit"}, {"oid": "066da3cad30f90a6f3854c2548296b5991fa6de5", "url": "https://github.com/spring-projects/spring-integration/commit/066da3cad30f90a6f3854c2548296b5991fa6de5", "message": "GH-3307: Retry DefaultLockRepository.acquire for TransTimedOutEx", "committedDate": "2020-06-16T14:02:48Z", "type": "forcePushed"}]}