{"pr_number": 3234, "pr_title": "GH-3219: Add `HandleMessageAdviceAdapter`", "pr_createdAt": "2020-03-31T21:52:37Z", "pr_url": "https://github.com/spring-projects/spring-integration/pull/3234", "timeline": [{"oid": "67e543a4545261fc34c1e7209059701bf46fd701", "url": "https://github.com/spring-projects/spring-integration/commit/67e543a4545261fc34c1e7209059701bf46fd701", "message": "GH-3219: Add `HandleMessageAdviceAdapter`\n\nFixes https://github.com/spring-projects/spring-integration/issues/3219", "committedDate": "2020-03-31T21:52:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY3MDIxNg==", "url": "https://github.com/spring-projects/spring-integration/pull/3234#discussion_r401670216", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            See `HandleMessageAdviceAdapter` JavaDocs for more information.\n          \n          \n            \n            Starting with version 5.3, the `HandleMessageAdviceAdapter` is provided to apply any `MethodInterceptor` for the `MessageHandler.handleMessage()` method and, therefore, the whole sub-flow.\n          \n          \n            \n            For example, a `RetryOperationsInterceptor` could be applied to the whole sub-flow starting from some endpoint; this is not possible, by default, because the consumer endpoint applies advices only to the `AbstractReplyProducingMessageHandler.RequestHandler.handleRequestMessage()`.", "author": "garyrussell", "createdAt": "2020-04-01T14:43:17Z", "path": "src/reference/asciidoc/handler-advice.adoc", "diffHunk": "@@ -683,6 +683,10 @@ Note that, in that case, the entire downstream flow is within the transaction sc\n \n In the case of a `MessageHandler` that does not return a response, the advice chain order is retained.\n \n+Starting with version 5.3, the `HandleMessageAdviceAdapter` is present to let apply any existing `MethodInterceptor` for the `MessageHandler.handleMessage()` and, therefore, whole sub-flow.\n+For example a `RetryOperationsInterceptor` could be applied for the whole sub-flow starting from some endpoint, which is not possible by default because consumer endpoint applies advices only for the `AbstractReplyProducingMessageHandler.RequestHandler.handleRequestMessage()`.\n+See `HandleMessageAdviceAdapter` JavaDocs for more information.", "originalCommit": "67e543a4545261fc34c1e7209059701bf46fd701", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6f48bfc8161050158bb8819318f81e2b2ea497c7", "url": "https://github.com/spring-projects/spring-integration/commit/6f48bfc8161050158bb8819318f81e2b2ea497c7", "message": "* Fix language in doc\n\nCo-Authored-By: Gary Russell <grussell@pivotal.io>", "committedDate": "2020-04-01T15:05:28Z", "type": "commit"}]}