{"pr_number": 244, "pr_title": "PDS and PDSE 8 character informational message", "pr_createdAt": "2020-03-11T14:03:42Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/244", "timeline": [{"oid": "f5a10c0c82468775127b0b6f97a38980195a0020", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/f5a10c0c82468775127b0b6f97a38980195a0020", "message": "added a warning to user when copybook name is more than 8 characters\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-27T15:07:39Z", "type": "commit"}, {"oid": "132946ed996ea8ea515b49285fb640c32119c2b2", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/132946ed996ea8ea515b49285fb640c32119c2b2", "message": "added copybook truncation to 8 characters when being added to the dependency file\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-27T15:08:41Z", "type": "commit"}, {"oid": "5e2eae62f9b6000b553a86c184ac6c90c88a0db5", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/5e2eae62f9b6000b553a86c184ac6c90c88a0db5", "message": "fixing nullpointer exception found by sonarcloud\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-27T15:32:49Z", "type": "commit"}, {"oid": "dc26b7ebb5c1290b1e572006b4e96ac51618de1c", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/dc26b7ebb5c1290b1e572006b4e96ac51618de1c", "message": "merging development\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-03-09T11:29:49Z", "type": "commit"}, {"oid": "60ade8949ef73d6c7a312187c7ee5c18fa0a14d0", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/60ade8949ef73d6c7a312187c7ee5c18fa0a14d0", "message": "Merge branch 'development' into PDS_PDSE_trimming", "committedDate": "2020-03-10T13:33:23Z", "type": "commit"}, {"oid": "20dfb1727b01f4d717a1a396ff7fe4db6851bdb1", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/20dfb1727b01f4d717a1a396ff7fe4db6851bdb1", "message": "setting the 8 character notification as an informational message\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-03-10T17:00:37Z", "type": "commit"}, {"oid": "4c0666a9394ca111ab4c680dac8ecf46e6d98d2f", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/4c0666a9394ca111ab4c680dac8ecf46e6d98d2f", "message": "Merge branch 'development' into PDS_PDSE_trimming", "committedDate": "2020-03-10T17:01:13Z", "type": "commit"}, {"oid": "466e8764a13bf38b601f9f96b44688b2253542e6", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/466e8764a13bf38b601f9f96b44688b2253542e6", "message": "Merge branch 'development' into PDS_PDSE_trimming", "committedDate": "2020-03-11T13:28:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ1MjY5OQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/244#discussion_r391452699", "bodyText": "I saw that this routine is very similar as the method toSyntaxError()\nI think is a good idea try to define a more general function and call it two times or even better delegate this responsibility to an appropriate class and made it more general and available for all the core and service module", "author": "zacanbrcom", "createdAt": "2020-03-12T08:02:04Z", "path": "com.ca.lsp.cobol/lsp-core-cobol-parser/src/main/java/com/ca/lsp/core/cobol/preprocessor/sub/document/impl/CobolSemanticParserListenerImpl.java", "diffHunk": "@@ -134,9 +136,21 @@ public void exitCopyStatement(@Nonnull CopyStatementContext ctx) {\n     String copybookName = retrieveCopybookName(copySource);\n     Position position = retrievePosition(copySource);\n     defineCopybook(copybookName, position);\n+    checkCopybookNameLength(copybookName, position);\n     this.preprocessorCleanerService.excludeStatementFromText(ctx, COMMENT_TAG, tokens);\n   }\n \n+  private void checkCopybookNameLength(String copybookName, Position position) {\n+    if (copybookName != null && copybookName.length() > 8) {\n+      errors.add(\n+          SyntaxError.syntaxError()\n+              .severity(3)\n+              .suggestion(String.format(COPYBOOK_OVER_8_CHARACTERS, copybookName))\n+              .position(position)\n+              .build());\n+    }", "originalCommit": "466e8764a13bf38b601f9f96b44688b2253542e6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ1MzkyMA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/244#discussion_r391453920", "bodyText": "This class is going to be deleted and its logic will be moved to CobolSemanticParser, so at least for me it is better to keep it like this and refactor later.", "author": "temanbrcom", "createdAt": "2020-03-12T08:05:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ1MjY5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ1NDQ3Ng==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/244#discussion_r391454476", "bodyText": "ok", "author": "zacanbrcom", "createdAt": "2020-03-12T08:06:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ1MjY5OQ=="}], "type": "inlineReview"}]}