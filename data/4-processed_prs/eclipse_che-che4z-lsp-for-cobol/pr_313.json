{"pr_number": 313, "pr_title": "Add more test cases like copybooks etc.", "pr_createdAt": "2020-04-22T15:29:59Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313", "timeline": [{"oid": "65c273aee707187f56bfa0cc08288b9917ca547a", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/65c273aee707187f56bfa0cc08288b9917ca547a", "message": "test: Add more test cases like copybooks etc.\n\n8 tests was fail and tagged as Unstable.\n\nSigned-off-by: Anton Grigorev <anton.grigorev@broadcom.com>", "committedDate": "2020-04-22T15:29:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzU5MTk4MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r413591980", "bodyText": "This can break the local run. Can you please verify it? You can ask @AgisilaosVasileiadis for help.", "author": "ishche", "createdAt": "2020-04-23T07:51:29Z", "path": "tests/theia_automation_lsp/drivers/drv_config.py", "diffHunk": "@@ -25,15 +26,15 @@\n DRIVERS = {\n     \"darwin\": {\n         \"firefox\": \"https://github.com/mozilla/geckodriver/releases/download/v0.24.0/geckodriver-v0.24.0-macos.tar.gz\",\n-        \"chrome\": \"https://chromedriver.storage.googleapis.com/77.0.3865.40/chromedriver_mac64.zip\"\n+        \"chrome\": \"https://chromedriver.storage.googleapis.com/80.0.3987.106/chromedriver_mac64.zip\"", "originalCommit": "65c273aee707187f56bfa0cc08288b9917ca547a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYzMDM0MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r413630340", "bodyText": "You are right. I didn't test it with chrome.", "author": "grianbrcom", "createdAt": "2020-04-23T08:46:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzU5MTk4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzExODEwMQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r417118101", "bodyText": "@grianbrcom Any news about that?", "author": "zacanbrcom", "createdAt": "2020-04-29T07:29:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzU5MTk4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ1OTc1NQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r421459755", "bodyText": "Finally, I was able to run it. The previous driver could work only with chrome 77. I've got version 81 installed locally. This change is required.", "author": "grianbrcom", "createdAt": "2020-05-07T12:20:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzU5MTk4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEyOTQ5MQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r417129491", "bodyText": "Is possible (maybe in the future) split this huge file? Seems a kind of Pandora vase xD - btw I appreciate the order used to store the constants \ud83d\udc4d", "author": "zacanbrcom", "createdAt": "2020-04-29T07:52:24Z", "path": "tests/theia_automation_lsp/inc/theia/constants.py", "diffHunk": "@@ -1,4 +1,4 @@\n-# Copyright (c) 2019 Broadcom.\n+# Copyright (c) 2020 Broadcom.", "originalCommit": "65c273aee707187f56bfa0cc08288b9917ca547a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMDc2NQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r417130765", "bodyText": "I think is necessary avoid this hardcoded keys and introduce a constant definition, because sooner will change and we need an easy way to update this key", "author": "zacanbrcom", "createdAt": "2020-04-29T07:54:48Z", "path": "tests/theia_automation_lsp/inc/theia/lsp_constants.py", "diffHunk": "@@ -15,3 +15,14 @@\n TAB_TITLE_TEMPLATE = \"{0}_{1}.cbl\"\n \n SAVE_DIALOG_TEMPLATE = \"Do you want to save the changes you made to {0}?\"\n+\n+COPYBOOK_FOLDER = \".copybooks\"\n+ZOWE_PROFILE = \"zowe-profile-1\"\n+\n+CPY_DIR_1 = \"DATA.SET.PATH1\"\n+CPY_DIR_2 = \"DATA.SET.PATH2\"\n+\n+USER_COPYBOOK_PREFERENCES = {\n+    \"broadcom-cobol-lsp.cpy-manager.paths\": [CPY_DIR_1, CPY_DIR_2],\n+    \"broadcom-cobol-lsp.cpy-manager.profiles\": ZOWE_PROFILE", "originalCommit": "65c273aee707187f56bfa0cc08288b9917ca547a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ2OTUwNQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r421469505", "bodyText": "I think that these names could be hardcoded. Because they are related to our file structure for testing.\nZOWE_PROFILE and CPY_DIR_1 are part of the folder path:\nhttps://github.com/grianbrcom/che-che4z-lsp-for-cobol/tree/moreTestCases/tests/theia_automation_lsp/test_files/cobol/.copybooks/zowe-profile-1/DATA.SET.PATH1\nAnd in tests, we must use tests/theia_automation_lsp/test_files/cobol as our project folder.", "author": "grianbrcom", "createdAt": "2020-05-07T12:36:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMDc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU3NTQ0OQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r421575449", "bodyText": "Sorry I wasn't clear: I am referring to the keys \"broadcom-cobol-lsp.cpy-manager.paths\", \"broadcom-cobol-lsp.cpy-manager.profiles\" and so on.\nThose keys IMO should ke kept (if possible) in one place so that we can easily change it.\nJust to make an example: actually I have a PR to introduce a new key \"broadcom-cobol-lsp.cpy-manager.paths.local\" and rename the zowe ones in \"broadcom-cobol-lsp.cpy-manager.paths.dsn\".\nNow if the old keys are defined in one place I am ok with that, if in the code base more than one time you have something like\n{\n   \"broadcom-cobol-lsp.cpy-manager.paths\": [\"CPY_DIR1\", \"CPY_DIR_2\"],\n    // ...\n}\nit could be a problem from maintainability prospective ^__^", "author": "zacanbrcom", "createdAt": "2020-05-07T15:02:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMDc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU5MTc1Nw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r421591757", "bodyText": "Oh, you are right!", "author": "grianbrcom", "createdAt": "2020-05-07T15:24:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMDc2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMTkzOA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r417131938", "bodyText": "Is that an allowed comment?", "author": "zacanbrcom", "createdAt": "2020-04-29T07:57:00Z", "path": "tests/theia_automation_lsp/keywords/login.robot", "diffHunk": "@@ -0,0 +1,88 @@\n+# Copyright (c) 2020 Broadcom.\n+# The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+#\n+# This program and the accompanying materials are made\n+# available under the terms of the Eclipse Public License 2.0\n+# which is available at https://www.eclipse.org/legal/epl-2.0/\n+#\n+# SPDX-License-Identifier: EPL-2.0\n+#\n+# Contributors:\n+#   Broadcom, Inc. - initial API and implementation\n+\n+*** Settings ***", "originalCommit": "65c273aee707187f56bfa0cc08288b9917ca547a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzOTM2Mg==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r417139362", "bodyText": "This file have ~900 lines... since we introduced new elements, is possible plan an effort to split this file in smaller chunks? We can create a separate TD..", "author": "zacanbrcom", "createdAt": "2020-04-29T08:10:55Z", "path": "tests/theia_automation_lsp/lib/common_engine.py", "diffHunk": "@@ -14,8 +14,7 @@\n import time\n from time import sleep\n from robot.api.deco import keyword\n-from selenium.common.exceptions import WebDriverException, NoSuchElementException, TimeoutException, \\\n-    StaleElementReferenceException\n+from selenium.common.exceptions import WebDriverException, NoSuchElementException, StaleElementReferenceException", "originalCommit": "65c273aee707187f56bfa0cc08288b9917ca547a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ3MTkzNA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/313#discussion_r421471934", "bodyText": "I've created a separate issue to track these changes #337", "author": "grianbrcom", "createdAt": "2020-05-07T12:40:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzOTM2Mg=="}], "type": "inlineReview"}, {"oid": "b55e119d28e98f32c036ef574b309da347322c4d", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/b55e119d28e98f32c036ef574b309da347322c4d", "message": "fix chromedriver permissions\n\nSigned-off-by: Anton Grigorev <anton.grigorev@broadcom.com>", "committedDate": "2020-05-07T12:42:57Z", "type": "commit"}, {"oid": "726fe05f8f6659a35bdc0fdaa7324595ec2977ae", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/726fe05f8f6659a35bdc0fdaa7324595ec2977ae", "message": "Merge remote-tracking branch 'remotes/eclipse/development' into moreTestCases\n\n# Conflicts:\n#\ttests/theia_automation_lsp/robot_suites/lsp/local/chrome_lsp_local.robot\n#\ttests/theia_automation_lsp/robot_suites/lsp/local/firefox_lsp_local.robot", "committedDate": "2020-05-07T13:34:27Z", "type": "commit"}, {"oid": "7120f5f22dc991e8b23f9067ed2730cc29011b69", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/7120f5f22dc991e8b23f9067ed2730cc29011b69", "message": "Extract setting names as constants\n\nSigned-off-by: Anton Grigorev <anton.grigorev@broadcom.com>", "committedDate": "2020-05-11T10:51:38Z", "type": "commit"}]}