{"pr_number": 396, "pr_title": "Fix: unexpected Java 8 expected error message #333", "pr_createdAt": "2020-06-16T11:56:29Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396", "timeline": [{"oid": "c650f1dbf2ab64dd62060e9b1e46dc96b9f0180a", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/c650f1dbf2ab64dd62060e9b1e46dc96b9f0180a", "message": "Fix: unexpected Java 8 expected error message #333", "committedDate": "2020-06-16T11:53:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440800967", "bodyText": "What happens if not supported ? Like an else case. And we need a test case for that scenario as well.", "author": "asatklichov", "createdAt": "2020-06-16T12:10:40Z", "path": "clients/cobol-lsp-vscode-extension/src/services/JavaCheck.ts", "diffHunk": "@@ -21,12 +21,13 @@ export class JavaCheck {\n     }\n     public async isJavaInstalled() {\n         return new Promise<any>((resolve, reject) => {\n+            let resolved = false;\n             const ls = cp.spawn(\"java\", [\"-version\"]);\n             ls.stderr.on(\"data\", (data: any) => {\n-                if (!JavaCheck.isJavaVersionSupported(data.toString())) {\n-                    reject(\"Minimum expected Java version is 8\");\n+                if (JavaCheck.isJavaVersionSupported(data.toString())) {", "originalCommit": "c650f1dbf2ab64dd62060e9b1e46dc96b9f0180a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMTg5MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440801890", "bodyText": "there will be a reject\nhttps://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396/files#diff-f4a7f7595d05dd5c4124b39716587168R42", "author": "ishche", "createdAt": "2020-06-16T12:12:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMjQzMA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440802430", "bodyText": "But, I mean on \"data\", reject case (else) missing", "author": "asatklichov", "createdAt": "2020-06-16T12:13:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMzkyNw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440803927", "bodyText": "It can't be in data. Data is called for each line. And we don't know which line contains a version number.\nIf there was no good version in any of line, then JavaCheck rejects promise on close.", "author": "ishche", "createdAt": "2020-06-16T12:16:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwNTQwOQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440805409", "bodyText": "In this case resolve() should be out of if block, otherwise it is confusing", "author": "asatklichov", "createdAt": "2020-06-16T12:19:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwNzUxMw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440807513", "bodyText": "Sorry, I didn't get it.. which block?", "author": "ishche", "createdAt": "2020-06-16T12:23:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgxMTIzMw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440811233", "bodyText": "I mean, negative test-scenario is missing here", "author": "asatklichov", "createdAt": "2020-06-16T12:29:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgxNDA0OA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/396#discussion_r440814048", "bodyText": "Added one", "author": "ishche", "createdAt": "2020-06-16T12:34:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDgwMDk2Nw=="}], "type": "inlineReview"}, {"oid": "2ff6f4043526f1e5751d798af6f1bca77e284994", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/2ff6f4043526f1e5751d798af6f1bca77e284994", "message": "Add negative test case", "committedDate": "2020-06-16T12:32:32Z", "type": "commit"}]}