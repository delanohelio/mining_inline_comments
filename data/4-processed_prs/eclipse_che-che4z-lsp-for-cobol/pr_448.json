{"pr_number": 448, "pr_title": "Disable copybook analysis for extended documents #441", "pr_createdAt": "2020-08-06T07:15:52Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448", "timeline": [{"oid": "03aa3878cff7dd012324feeb43864a940dbc95f2", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/03aa3878cff7dd012324feeb43864a940dbc95f2", "message": "refactor: Rename enum to trigger the copybook scan analysis #441", "committedDate": "2020-07-30T11:02:55Z", "type": "commit"}, {"oid": "9307587a71bf29764ddf3d19649be706152f8d7e", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/9307587a71bf29764ddf3d19649be706152f8d7e", "message": "refactor: Add unit tests #441", "committedDate": "2020-08-03T06:49:21Z", "type": "commit"}, {"oid": "a9ecfc20d1fbc64cff969f3ea7c9a4317c096bf8", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/a9ecfc20d1fbc64cff969f3ea7c9a4317c096bf8", "message": "Merge remote-tracking branch 'remotes/origin/development' into 441_SuppressCpyExtSrc", "committedDate": "2020-08-03T06:49:39Z", "type": "commit"}, {"oid": "190e90be72939d21067c99070e121a7c7162bb29", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/190e90be72939d21067c99070e121a7c7162bb29", "message": "feat: disable copybook analysis for extended source documents #441", "committedDate": "2020-08-05T13:29:58Z", "type": "commit"}, {"oid": "679787ea2bb78f3411ee5b6d8a5594223c7baca3", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/679787ea2bb78f3411ee5b6d8a5594223c7baca3", "message": "refactor: Update constant values for CopybookScanAnalysis in test to follow convention #441", "committedDate": "2020-08-05T14:22:53Z", "type": "commit"}, {"oid": "fb94d726614d5104d66b93261f79726d26d210f6", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/fb94d726614d5104d66b93261f79726d26d210f6", "message": "fix: spelling typo and update in javadoc #441", "committedDate": "2020-08-06T07:30:47Z", "type": "commit"}, {"oid": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "message": "fix: spelling typo and update in javadoc #441", "committedDate": "2020-08-06T07:47:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNjUwNw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466506507", "bodyText": "Are you sure that you want to provide an implementation in the interface? Usually, we must use an interface for other purposes.", "author": "grianbrcom", "createdAt": "2020-08-06T15:42:45Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/utils/FileSystemService.java", "diffHunk": "@@ -73,4 +74,15 @@\n    */\n   @Nonnull\n   String decodeURI(@Nonnull String uri);\n+\n+  /**\n+   * This method validate an URI to verify if is defined as extended document, accordining to a\n+   * regex.\n+   *\n+   * @param uri document URI opened in the client\n+   * @return true if the document is an extended document, false otherwise\n+   */\n+  static boolean isFileUnderExtendedSourceFolder(String uri) {", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg1Mjc5Mw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466852793", "bodyText": "Well.. this method took in input an URI and this class looks appropriate for that concern and I don't want to create any derivatives of that regex match at the moment, but I am welcome to evaluate alternatives!", "author": "zacanbrcom", "createdAt": "2020-08-07T06:46:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNjUwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg4NzE1Mw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466887153", "bodyText": "As you see, we keep implementations in the WorkspaceFileService class but use this one only for function declarations. I want to suggest to follow this.", "author": "grianbrcom", "createdAt": "2020-08-07T08:04:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNjUwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwOTMxOQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466509319", "bodyText": "It is not clear what you mean here. Because (?:) is a non-captured group, but inside you have a captured one. Probably file:///.*?/\\.c4z/\\.extsrcs/.+ will be enough.", "author": "grianbrcom", "createdAt": "2020-08-06T15:46:45Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/utils/FileSystemService.java", "diffHunk": "@@ -73,4 +74,15 @@\n    */\n   @Nonnull\n   String decodeURI(@Nonnull String uri);\n+\n+  /**\n+   * This method validate an URI to verify if is defined as extended document, accordining to a\n+   * regex.\n+   *\n+   * @param uri document URI opened in the client\n+   * @return true if the document is an extended document, false otherwise\n+   */\n+  static boolean isFileUnderExtendedSourceFolder(String uri) {\n+    return Pattern.matches(\"file:///(?:(.*?/\\\\.c4z/\\\\.extsrcs/.+)|\\\\.c4z/\\\\.extsrcs/.+)\", uri);", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk5MjAyNg==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466992026", "bodyText": "To plan further a refactoring, getting rid of FileSystemService interface (tbd), I will move the method into the WorkspaceFileService class", "author": "zacanbrcom", "createdAt": "2020-08-07T11:52:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njk5Mjc0MQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466992741", "bodyText": "Why do you want to get rid of it?", "author": "temanbrcom", "createdAt": "2020-08-07T11:54:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzAwNjc2Nw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r467006767", "bodyText": "because we came up that WorkspaceFileService could be an utility class with no needs of an interface \ud83d\ude13", "author": "zacanbrcom", "createdAt": "2020-08-07T12:24:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzAwOTUyOQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r467009529", "bodyText": "But the initial idea of that was to simplify testing of CopybookService. Please, have a look at CopybookServiceTest", "author": "temanbrcom", "createdAt": "2020-08-07T12:29:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzAxNTk4Mw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r467015983", "bodyText": "yes and in future you could mock directly the utility class rather than the interface, right? BTW is not a decision that we have to make now! ;)", "author": "zacanbrcom", "createdAt": "2020-08-07T12:43:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwOTMxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ3NTUzMA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466475530", "bodyText": "I think it may be just \"equals\" due to we specify it using enum.", "author": "temanbrcom", "createdAt": "2020-08-06T14:58:40Z", "path": "com.ca.lsp.cobol/lsp-core-cobol-parser/src/main/java/com/ca/lsp/core/cobol/preprocessor/sub/document/impl/CobolSemanticParserListenerImpl.java", "diffHunk": "@@ -132,12 +137,15 @@ public void exitCopyStatement(@Nonnull CopyStatementContext ctx) {\n     /*\n      * define the copy book\n      */\n-    CopySourceContext copySource = ctx.copySource();\n-    String copybookName = retrieveCopybookName(copySource);\n-    Position position = retrievePosition(copySource);\n-    defineCopybook(copybookName, position);\n-    checkCopybookNameLength(copybookName, position);\n-    this.preprocessorCleanerService.excludeStatementFromText(ctx, COMMENT_TAG, tokens);\n+\n+    if (copybookScanAnalysis.equalsIgnoreCase(\"ENABLED\")) {", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ3NzU5Ng==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466477596", "bodyText": "I'm not sure if we need this check while analyzing the extended document. In fact, it checks the semantics, but I don't know if it will be useful for the user at that stage", "author": "temanbrcom", "createdAt": "2020-08-06T15:01:33Z", "path": "com.ca.lsp.cobol/lsp-core-cobol-parser/src/main/java/com/ca/lsp/core/cobol/preprocessor/sub/document/impl/CobolSemanticParserListenerImpl.java", "diffHunk": "@@ -132,12 +137,15 @@ public void exitCopyStatement(@Nonnull CopyStatementContext ctx) {\n     /*\n      * define the copy book\n      */\n-    CopySourceContext copySource = ctx.copySource();\n-    String copybookName = retrieveCopybookName(copySource);\n-    Position position = retrievePosition(copySource);\n-    defineCopybook(copybookName, position);\n-    checkCopybookNameLength(copybookName, position);\n-    this.preprocessorCleanerService.excludeStatementFromText(ctx, COMMENT_TAG, tokens);\n+\n+    if (copybookScanAnalysis.equalsIgnoreCase(\"ENABLED\")) {\n+      CopySourceContext copySource = ctx.copySource();\n+      String copybookName = retrieveCopybookName(copySource);\n+      Position position = retrievePosition(copySource);\n+      defineCopybook(copybookName, position);\n+      checkCopybookNameLength(copybookName, position);", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0OTMzOQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466849339", "bodyText": "well.. the purpose here is to don't throw syntax errors for copybooks that are not found", "author": "zacanbrcom", "createdAt": "2020-08-07T06:36:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ3NzU5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ4Mjg3MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466482870", "bodyText": "Do you use DID_CLOSE?", "author": "temanbrcom", "createdAt": "2020-08-06T15:09:07Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/TextDocumentSyncType.java", "diffHunk": "@@ -9,13 +9,17 @@\n  * SPDX-License-Identifier: EPL-2.0\n  *\n  * Contributors:\n+ *    Broadcom, Inc. - initial API and implementation\n  *\n- *   Broadcom, Inc. - initial API and implementation\n  */\n+\n package com.ca.lsp.cobol.service;\n \n-/** This enum class used to track text synchronization type for the processed document. */\n+/**\n+ * This enum class contains the kind of document synchronization that could be sent from the client\n+ */\n public enum TextDocumentSyncType {\n   DID_OPEN,\n-  DID_CHANGE\n+  DID_CHANGE,\n+  DID_CLOSE", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ5MzE0Mg==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466493142", "bodyText": "The faster would be to check the sync type first, then do regex matching", "author": "temanbrcom", "createdAt": "2020-08-06T15:24:08Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CopybookScanAnalysis.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) 2020 Broadcom.\n+ * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *\n+ * This program and the accompanying materials are made\n+ * available under the terms of the Eclipse Public License 2.0\n+ * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *\n+ * Contributors:\n+ *\n+ *   Broadcom, Inc. - initial API and implementation\n+ */\n+package com.ca.lsp.cobol.service;\n+\n+import static com.ca.lsp.cobol.service.utils.FileSystemService.isFileUnderExtendedSourceFolder;\n+\n+/** This enum class used to track text synchronization type for the processed document. */\n+public enum CopybookScanAnalysis {\n+  ENABLED,\n+  DISABLED;\n+\n+  /**\n+   * This method verify if enable or disable copybook management based on two factors: 1) the file\n+   * is an extended source file, 2) the file is open in DID_OPEN|DID_CHANGE\n+   *\n+   * @param uri of the document opened in the editor by the client\n+   * @param textDocSyncType define the document sync mode that could be [{@link\n+   *     TextDocumentSyncType#DID_OPEN}|{@link TextDocumentSyncType#DID_CHANGE}]\n+   * @return A value of that could be [{@link CopybookScanAnalysis#ENABLED}|{@link\n+   *     CopybookScanAnalysis#DISABLED}]\n+   */\n+  public static CopybookScanAnalysis getCopybookScanAnalysis(String uri, String textDocSyncType) {\n+\n+    return isFileUnderExtendedSourceFolder(uri)\n+        ? DISABLED\n+        : getCopybookScanAnalysisByDocSync(textDocSyncType);", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNDkwNA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466504904", "bodyText": "I'm not sure that you need this as a separate enum. You may just reuse the TextDocumentSyncType, but change its semantic: rename to something more descriptive, e.g. CopybookProcessingMode and redefine its elements to something kinda RESOLVE, IGNORE and SKIP.\nThe RESOLVE will act as DID_OPEN now, IGNORE as DID_CHANGE (as I can see, we don't really check this value, only equity to DID_OPEN, but let it be), and SKIP will disable the copybook processing for the extended sources.\nSo, you will call the isFileUnderExtendedSourceFolder() on didOpen or didChange and send the according value. The value is that the purpose of the parameter goes from its name, i.e. it is more descriptive. Also, you will have only one enum instead of two.\nThis is only an idea, the decision is up to you", "author": "temanbrcom", "createdAt": "2020-08-06T15:40:26Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CopybookScanAnalysis.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) 2020 Broadcom.\n+ * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *\n+ * This program and the accompanying materials are made\n+ * available under the terms of the Eclipse Public License 2.0\n+ * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *\n+ * Contributors:\n+ *\n+ *   Broadcom, Inc. - initial API and implementation\n+ */\n+package com.ca.lsp.cobol.service;\n+\n+import static com.ca.lsp.cobol.service.utils.FileSystemService.isFileUnderExtendedSourceFolder;\n+\n+/** This enum class used to track text synchronization type for the processed document. */\n+public enum CopybookScanAnalysis {\n+  ENABLED,\n+  DISABLED;", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0NzI1MQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466847251", "bodyText": "Initially I defined one enum and trowed away did_open, change and so on. But later on I verified that we still need to distinguish if a document is in did_open or did_change. Because there are two conditions that will disable the copybook analysis:\n\nthe file is an extended document\nthe file is in did_change\n\nSo for that reason I decided to separate those two concerns into two enums.\nBtw I like the name you suggested CopybookProcessingMode and the values, so if u are agree I will rename the enum CopybookScanAnalysis that didn't like a lot as name.", "author": "zacanbrcom", "createdAt": "2020-08-07T06:31:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNDkwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg2MzE5Mw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466863193", "bodyText": "Ok, why not", "author": "temanbrcom", "createdAt": "2020-08-07T07:12:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNDkwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg2NzcwMg==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466867702", "bodyText": "\ud83d\udcaa", "author": "zacanbrcom", "createdAt": "2020-08-07T07:23:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNDkwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNTgyNQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466505825", "bodyText": "\"This method checks...\" would be more correct here", "author": "temanbrcom", "createdAt": "2020-08-06T15:41:41Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CopybookScanAnalysis.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) 2020 Broadcom.\n+ * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *\n+ * This program and the accompanying materials are made\n+ * available under the terms of the Eclipse Public License 2.0\n+ * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *\n+ * Contributors:\n+ *\n+ *   Broadcom, Inc. - initial API and implementation\n+ */\n+package com.ca.lsp.cobol.service;\n+\n+import static com.ca.lsp.cobol.service.utils.FileSystemService.isFileUnderExtendedSourceFolder;\n+\n+/** This enum class used to track text synchronization type for the processed document. */\n+public enum CopybookScanAnalysis {\n+  ENABLED,\n+  DISABLED;\n+\n+  /**\n+   * This method verify if enable or disable copybook management based on two factors: 1) the file\n+   * is an extended source file, 2) the file is open in DID_OPEN|DID_CHANGE", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNzE0NA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466507144", "bodyText": "A couple of typos here, \"This method validates the URI to verify if is defined as an extended document, according to the regex.\"", "author": "temanbrcom", "createdAt": "2020-08-06T15:43:43Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/utils/FileSystemService.java", "diffHunk": "@@ -73,4 +74,15 @@\n    */\n   @Nonnull\n   String decodeURI(@Nonnull String uri);\n+\n+  /**\n+   * This method validate an URI to verify if is defined as extended document, accordining to a\n+   * regex.", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwODAyOA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r466508028", "bodyText": "\"This test verifies\" here and further", "author": "temanbrcom", "createdAt": "2020-08-06T15:44:54Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/service/MyTextDocumentServiceTest.java", "diffHunk": "@@ -157,6 +158,60 @@ public void testNotAllowedFileExtensionAnalysis() {\n                         .equals(\"The given document extension is unsupported: \" + CPY_EXTENSION)));\n   }\n \n+  /**\n+   * This test verify that when an extended document is opened, the code is analyzed and the", "originalCommit": "3e5ba4d85de32fc5a3012aff6b4242c177fccaa0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4e8c0848c5d5b1299973a3614a2dd7c058b62fdd", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/4e8c0848c5d5b1299973a3614a2dd7c058b62fdd", "message": "refactor: apply request of change #441", "committedDate": "2020-08-10T07:35:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc0MjUwNw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r467742507", "bodyText": "Isn't it overriding of an interface method?", "author": "temanbrcom", "createdAt": "2020-08-10T08:00:29Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/utils/WorkspaceFileService.java", "diffHunk": "@@ -86,4 +87,16 @@ public Path getPathFromURI(@Nonnull String uri) {\n       return null;\n     }\n   }\n+\n+  /**\n+   * This method validates an URI to verify if is defined as extended document, according to a\n+   * regex.\n+   *\n+   * @param uri document URI opened in the client\n+   * @return true if the document is an extended document, false otherwise\n+   */\n+  public static boolean isFileUnderExtendedSourceFolder(String uri) {", "originalCommit": "4e8c0848c5d5b1299973a3614a2dd7c058b62fdd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc0NjcwNQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r467746705", "bodyText": "No but is a intermediate step to transform this class in an utility class later on!", "author": "zacanbrcom", "createdAt": "2020-08-10T08:09:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc0MjUwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc2MDI2NA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/448#discussion_r467760264", "bodyText": "I cannot say that I like it, because, you know, there is nothing more permanent than a temporary solution. But I'll accept it", "author": "temanbrcom", "createdAt": "2020-08-10T08:37:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc0MjUwNw=="}], "type": "inlineReview"}, {"oid": "e60ed197b6a114c2f7fa14313f3e901978f8561b", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/e60ed197b6a114c2f7fa14313f3e901978f8561b", "message": "refactor: improve performance for CopybookProcessingMode #441", "committedDate": "2020-08-10T08:26:31Z", "type": "commit"}, {"oid": "9e3ef20c20c238009a4752ade85bb2f369d37f5c", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/9e3ef20c20c238009a4752ade85bb2f369d37f5c", "message": "refactor: apply request of change #441\n\nrefactor: improve performance for CopybookProcessingMode #441", "committedDate": "2020-08-10T11:50:55Z", "type": "commit"}, {"oid": "0a4c3f5bb409ba122ed335c83fcdfed34da41249", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/0a4c3f5bb409ba122ed335c83fcdfed34da41249", "message": "Merge remote-tracking branch 'remotes/origin/development' into 441_SuppressCpyExtSrc", "committedDate": "2020-08-10T11:51:39Z", "type": "commit"}, {"oid": "a14bbd17f64c35a105034ffb30b2576bf08cf650", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/a14bbd17f64c35a105034ffb30b2576bf08cf650", "message": "Merge remote-tracking branch 'origin/441_SuppressCpyExtSrc' into 441_SuppressCpyExtSrc", "committedDate": "2020-08-10T11:51:57Z", "type": "commit"}]}