{"pr_number": 399, "pr_title": "384 Simplify UI for copybook management", "pr_createdAt": "2020-06-18T08:30:41Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399", "timeline": [{"oid": "46ee6dd694d1b68193ba417d9168827c72719c42", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/46ee6dd694d1b68193ba417d9168827c72719c42", "message": "refactor: Remove async popup to ask user to select profile #384", "committedDate": "2020-06-10T12:45:21Z", "type": "commit"}, {"oid": "3acf1bce95856a44833bd640d5c5c3803d6b4fa9", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/3acf1bce95856a44833bd640d5c5c3803d6b4fa9", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy\n\n# Conflicts:\n#\tclients/cobol-lsp-vscode-extension/src/services/CopybookDownloadService.ts", "committedDate": "2020-06-11T08:55:44Z", "type": "commit"}, {"oid": "ef1adb35168973a736167a3c11b56f4108cb1af4", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/ef1adb35168973a736167a3c11b56f4108cb1af4", "message": "refactor: Remove UI components for handling resolution of copybooks from MF #384", "committedDate": "2020-06-11T09:42:38Z", "type": "commit"}, {"oid": "c7ac2dc3fab35004dde221dc152f193d092a714a", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/c7ac2dc3fab35004dde221dc152f193d092a714a", "message": "fix: Adjust unit test with renamed profile service API #384", "committedDate": "2020-06-11T09:43:24Z", "type": "commit"}, {"oid": "f8d176568081e876611ec70a2a393f62dfa65ca0", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/f8d176568081e876611ec70a2a393f62dfa65ca0", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy", "committedDate": "2020-06-12T10:34:18Z", "type": "commit"}, {"oid": "88b30de5eed520987b48d226461803743fc41922", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/88b30de5eed520987b48d226461803743fc41922", "message": "refactor: Reintroduce CodeActionProvider to add quickfix for goto settings #382", "committedDate": "2020-06-12T10:45:57Z", "type": "commit"}, {"oid": "88d7c845fb056976d1f1e4a0cad0cce6dc256e6c", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/88d7c845fb056976d1f1e4a0cad0cce6dc256e6c", "message": "refactor: update quickfix open settings action with reference to settings.json #382", "committedDate": "2020-06-15T07:30:27Z", "type": "commit"}, {"oid": "99b6087c5856823b934616e1d51873a38b11a79d", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/99b6087c5856823b934616e1d51873a38b11a79d", "message": "refactor: Define API to resolve profile from settings or document with unit tests #382", "committedDate": "2020-06-15T15:21:15Z", "type": "commit"}, {"oid": "9fd008fe55eff845d705f66e80094e929e138b7a", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/9fd008fe55eff845d705f66e80094e929e138b7a", "message": "refactor: Consume new API in CopybookURI to use new profile API #382", "committedDate": "2020-06-15T15:25:43Z", "type": "commit"}, {"oid": "ab74a08463e92c8d9c78b79c7fab1709150c49d1", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/ab74a08463e92c8d9c78b79c7fab1709150c49d1", "message": "refactor: Fix fetch copybook download when no profile is provided and update unit test #382", "committedDate": "2020-06-15T15:27:33Z", "type": "commit"}, {"oid": "479beb1109af58175b180698dda84db4a6763249", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/479beb1109af58175b180698dda84db4a6763249", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy", "committedDate": "2020-06-18T07:41:44Z", "type": "commit"}, {"oid": "b17a68ed0c15a64c65946ebca045f360ba5158e3", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/b17a68ed0c15a64c65946ebca045f360ba5158e3", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy\n\n# Conflicts:\n#\tclients/cobol-lsp-vscode-extension/src/__tests__/CopybookResolveURITest.ts", "committedDate": "2020-06-18T07:55:36Z", "type": "commit"}, {"oid": "c8bfd75d37f3146498afb631c924e0e475216310", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/c8bfd75d37f3146498afb631c924e0e475216310", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy", "committedDate": "2020-06-18T08:47:30Z", "type": "commit"}, {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/b8d50cc59d89eaf49f74bf3ea6f479627c98048f", "message": "refactor: Rename Fetch copybook command in Resolve Copybook Command #382", "committedDate": "2020-06-19T07:14:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1NjcwNw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442756707", "bodyText": "const name is quite self explaining, no need comment", "author": "asatklichov", "createdAt": "2020-06-19T10:17:20Z", "path": "clients/cobol-lsp-vscode-extension/src/constants.ts", "diffHunk": "@@ -34,3 +34,6 @@ export const DSN_MUSTBE_NOT_EMPTY = \"Dataset name segment must not be empty.\";\n export const DSN_NOMORE_8CHARS = \"Dataset name segment can't be more than 8 characters.\";\n export const DSN_START_PROHIBITED_CHAR = `Dataset name segment: ${SEGMENT_PLACEHOLDER} starts with a prohibited character.`;\n export const DSN_CONTAINS_PROHIBITED_CHAR = `Dataset name segment: ${SEGMENT_PLACEHOLDER} contains a prohibited character.`;\n+\n+// QUICK FIX CONSTANTS", "originalCommit": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1OTA1NQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442759055", "bodyText": "good candidates for reusing, can be extracted as constants in constants.ts", "author": "asatklichov", "createdAt": "2020-06-19T10:22:00Z", "path": "clients/cobol-lsp-vscode-extension/src/services/ProfileService.ts", "diffHunk": "@@ -12,26 +12,28 @@\n  *   Broadcom, Inc. - initial API and implementation\n  */\n \n-import { IProfile } from \"@zowe/imperative\";\n+import {IProfile} from \"@zowe/imperative\";\n import * as path from \"path\";\n import * as vscode from \"vscode\";\n-import { Disposable } from \"vscode-languageclient\";\n-import { SETTINGS_SECTION } from \"../constants\";\n-import { ProfilesMap, ZoweApi } from \"./ZoweApi\";\n+import {Disposable} from \"vscode-languageclient\";\n+import {SETTINGS_SECTION} from \"../constants\";\n+import {ProfilesMap, ZoweApi} from \"./ZoweApi\";\n \n const DEFAULT_STATUS_TEXT = \"CPY profile: undefined\";\n \n export class ProfileService implements Disposable {\n+\n+    private static isCobolProgram(fsPath: string) {\n+        const ext = path.extname(fsPath).toLocaleLowerCase();\n+        return ext === \".cbl\" || ext === \".cob\" || ext === \".cobol\";", "originalCommit": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MTI4MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442761280", "bodyText": "you mean the file extensions?", "author": "zacanbrcom", "createdAt": "2020-06-19T10:27:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1OTA1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MTg0Mg==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442761842", "bodyText": "Yes", "author": "asatklichov", "createdAt": "2020-06-19T10:28:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1OTA1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MzE4OQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442763189", "bodyText": "You could try this: return [\".cbl\", \".cob\", \".cobol\"].includes(ext);", "author": "grianbrcom", "createdAt": "2020-06-19T10:31:36Z", "path": "clients/cobol-lsp-vscode-extension/src/services/ProfileService.ts", "diffHunk": "@@ -12,26 +12,28 @@\n  *   Broadcom, Inc. - initial API and implementation\n  */\n \n-import { IProfile } from \"@zowe/imperative\";\n+import {IProfile} from \"@zowe/imperative\";\n import * as path from \"path\";\n import * as vscode from \"vscode\";\n-import { Disposable } from \"vscode-languageclient\";\n-import { SETTINGS_SECTION } from \"../constants\";\n-import { ProfilesMap, ZoweApi } from \"./ZoweApi\";\n+import {Disposable} from \"vscode-languageclient\";\n+import {SETTINGS_SECTION} from \"../constants\";\n+import {ProfilesMap, ZoweApi} from \"./ZoweApi\";\n \n const DEFAULT_STATUS_TEXT = \"CPY profile: undefined\";\n \n export class ProfileService implements Disposable {\n+\n+    private static isCobolProgram(fsPath: string) {\n+        const ext = path.extname(fsPath).toLocaleLowerCase();\n+        return ext === \".cbl\" || ext === \".cob\" || ext === \".cobol\";", "originalCommit": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc3MTAxMA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442771010", "bodyText": "\ud83d\udc4d sounds good.", "author": "zacanbrcom", "createdAt": "2020-06-19T10:50:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MzE4OQ=="}], "type": "inlineReview"}, {"oid": "27bf3ae8d2378c2c5c25d4ec7c2b56cc5ca0524e", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/27bf3ae8d2378c2c5c25d4ec7c2b56cc5ca0524e", "message": "refactor: Create ad hoc constants for cobol file extension #382", "committedDate": "2020-06-19T11:51:17Z", "type": "commit"}]}