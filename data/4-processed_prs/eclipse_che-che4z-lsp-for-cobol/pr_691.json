{"pr_number": 691, "pr_title": "MAPFAIL Produces a Semantic Error in HANDLE CONDITION", "pr_createdAt": "2020-12-04T12:20:53Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/691", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA2MzA1Ng==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/691#discussion_r536063056", "bodyText": "AFAIR. CONDITION is obligatory here. The previous implementation was incorrect.", "author": "temanbrcom", "createdAt": "2020-12-04T12:25:42Z", "path": "server/src/main/antlr4/com/broadcom/lsp/cobol/core/parser/CICSParser.g4", "diffHunk": "@@ -422,7 +422,7 @@ pf_option: PF1 | PF2 | PF3 | PF4 | PF5 | PF6 | PF7 | PF8 | PF9 | PF10 | PF11 | P\n            PF18 | PF19 | PF20 | PF21 | PF22 | PF23 | PF24;\n \n /** IGNORE CONDITION */\n-cics_ignore: IGNORE (CONDITION | mama | cics_resp)+;\n+cics_ignore: IGNORE CONDITION? (mama | cics_resp)+;", "originalCommit": "6bc4f9dcbb0c6b18b4109c7106d629a16828fd1f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA3MDM2MQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/691#discussion_r536070361", "bodyText": "I'll fix it.", "author": "grianbrcom", "createdAt": "2020-12-04T12:38:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA2MzA1Ng=="}], "type": "inlineReview"}, {"oid": "2d778ea65737ae64ddf565baa00fd0829d34c456", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/2d778ea65737ae64ddf565baa00fd0829d34c456", "message": "fix: MAPFAIL Produces a Semantic Error in HANDLE CONDITION\n\nANTLR parser was changed accordingly.\nRECEIVE MAP conditions was added.\n\nCloses #668\n\nSigned-off-by: Anton Grigorev <anton.grigorev@broadcom.com>", "committedDate": "2020-12-04T13:38:42Z", "type": "commit"}, {"oid": "2d778ea65737ae64ddf565baa00fd0829d34c456", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/2d778ea65737ae64ddf565baa00fd0829d34c456", "message": "fix: MAPFAIL Produces a Semantic Error in HANDLE CONDITION\n\nANTLR parser was changed accordingly.\nRECEIVE MAP conditions was added.\n\nCloses #668\n\nSigned-off-by: Anton Grigorev <anton.grigorev@broadcom.com>", "committedDate": "2020-12-04T13:38:42Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEyNzM4MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/691#discussion_r536127380", "bodyText": "May be simplified to (cics_conditions | mama | cics_label | cics_resp)+", "author": "temanbrcom", "createdAt": "2020-12-04T14:12:54Z", "path": "server/src/main/antlr4/com/broadcom/lsp/cobol/core/parser/CICSParser.g4", "diffHunk": "@@ -415,14 +417,14 @@ cics_handle_abend: ABEND (CANCEL | PROGRAM cics_name | LABEL cics_label | RESET\n cics_handle_aid: AID (ANYKEY (cics_label)? | CLEAR (cics_label)? | CLRPARTN (cics_label)? | ENTER (cics_label)? |\n                  LIGHTPEN (cics_label)? | OPERID  (cics_label)? | pa_option (cics_label)? | pf_option (cics_label)? |\n                  TRIGGER  (cics_label)? | cics_resp)*;\n-cics_handle_condition: CONDITION (mama cics_label? | cics_resp)+;\n+cics_handle_condition: CONDITION ((cics_conditions | mama) cics_label? | cics_resp)+;", "originalCommit": "2d778ea65737ae64ddf565baa00fd0829d34c456", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE0NjEyMQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/691#discussion_r536146121", "bodyText": "I'd like not to do that.\ncics_label: LPARENCHAR paragraphNameUsage RPARENCHAR;\n\nSo the following line will be valid EXEC CICS HANDLE CONDITION (10-EXIT) END-EXEC.", "author": "grianbrcom", "createdAt": "2020-12-04T14:40:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEyNzM4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE2MjMwMA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/691#discussion_r536162300", "bodyText": "But this one is valid, isn't it?", "author": "temanbrcom", "createdAt": "2020-12-04T15:02:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEyNzM4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE2NDAyMQ==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/691#discussion_r536164021", "bodyText": "Sorry, you are right", "author": "temanbrcom", "createdAt": "2020-12-04T15:05:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEyNzM4MA=="}], "type": "inlineReview"}]}