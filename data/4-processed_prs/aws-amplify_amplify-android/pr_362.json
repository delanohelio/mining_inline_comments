{"pr_number": 362, "pr_title": "[aws-datastore] Test against DataStoreCategory not Amplify", "pr_createdAt": "2020-04-07T17:42:30Z", "pr_url": "https://github.com/aws-amplify/amplify-android/pull/362", "timeline": [{"oid": "4b377d44b58c6fe1b77194ac4a5328c7b02ff1aa", "url": "https://github.com/aws-amplify/amplify-android/commit/4b377d44b58c6fe1b77194ac4a5328c7b02ff1aa", "message": "[aws-datastore] Test against DataStoreCategory not Amplify", "committedDate": "2020-04-07T17:32:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzNzI0Ng==", "url": "https://github.com/aws-amplify/amplify-android/pull/362#discussion_r405037246", "bodyText": "Yay for getting rid of useless helper methods and consolidating code in one place!", "author": "TrekSoft", "createdAt": "2020-04-07T18:51:16Z", "path": "aws-datastore/src/main/java/com/amplifyframework/datastore/AWSDataStorePlugin.java", "diffHunk": "@@ -69,33 +71,48 @@\n \n     private AWSDataStorePlugin(\n             @NonNull ModelSchemaRegistry modelSchemaRegistry,\n-            @NonNull ModelProvider modelProvider) {\n+            @NonNull ModelProvider modelProvider,\n+            @NonNull GraphQlBehavior api) {\n         this.sqliteStorageAdapter = SQLiteStorageAdapter.forModels(modelSchemaRegistry, modelProvider);\n         this.storageItemChangeConverter = new GsonStorageItemChangeConverter();\n-        this.orchestrator = createOrchestrator(modelProvider, modelSchemaRegistry, sqliteStorageAdapter);\n         this.categoryInitializationsPending = new CountDownLatch(1);\n-    }\n-\n-    private Orchestrator createOrchestrator(\n-            ModelProvider modelProvider, ModelSchemaRegistry modelSchemaRegistry, LocalStorageAdapter storageAdapter) {\n-        return new Orchestrator(\n+        this.orchestrator = new Orchestrator(\n             modelProvider,", "originalCommit": "4b377d44b58c6fe1b77194ac4a5328c7b02ff1aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzODkwOQ==", "url": "https://github.com/aws-amplify/amplify-android/pull/362#discussion_r405038909", "bodyText": "When I first created the factory method, it had some actual logic, to create several instances from only a few dependencies.\nBut as the code got refactored a few times, the argument list grew long, and yea -- the factory was only hurting the readability.", "author": "jamesonwilliams", "createdAt": "2020-04-07T18:53:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTAzNzI0Ng=="}], "type": "inlineReview"}]}