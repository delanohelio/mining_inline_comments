{"pr_number": 337, "pr_title": "Improve WhitespaceAround checks", "pr_createdAt": "2020-03-31T22:56:07Z", "pr_url": "https://github.com/aws-amplify/amplify-android/pull/337", "timeline": [{"oid": "935ecf411993776029eb985a5f48776ec8811c89", "url": "https://github.com/aws-amplify/amplify-android/commit/935ecf411993776029eb985a5f48776ec8811c89", "message": "Improve WhitespaceAround checks\n\nUtility classes are meant to have private constructors, and those\nconstructors should be empty. There are many such constructors around\nthe codebase, but they generate checkstyle warnings, which are\nsuppressed each time one occurs. Instead, allow empty construtors as a\ngeneral rule, in the checkstyle config.\n\nContinue to dis-allow empty lambda bodies, but make the rationale\nexplicit in the configuration file. Preferred style is a no-op\nimplementation class which expressed the intention, through naming.\n\nAdd explicit check for colon symbol in for-each style for loop.", "committedDate": "2020-03-31T22:53:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI2NDE3NA==", "url": "https://github.com/aws-amplify/amplify-android/pull/337#discussion_r401264174", "bodyText": "finally! :)", "author": "raphkim", "createdAt": "2020-03-31T23:01:01Z", "path": "configuration/checkstyle-rules.xml", "diffHunk": "@@ -88,7 +88,24 @@\n         <module name=\"NoWhitespaceBefore\" />\n         <module name=\"ParenPad\" />\n         <module name=\"WhitespaceAfter\" />\n-        <module name=\"WhitespaceAround\" />\n+        <module name=\"WhitespaceAround\">\n+            <property name=\"ignoreEnhancedForColon\" value=\"false\" />\n+            <!--\n+                Utility class constructors should be private. This\n+                happens widely in the code base, and is the desirable\n+                default. These should also have empty construtors, which\n+                might as well be consisely written.\n+            -->\n+            <property name=\"allowEmptyConstructors\" value=\"true\" />\n+            <!--\n+                 false is already the default value for\n+                 WhitespaceAround.  This documents that we have this\n+                 rule, intentionally. Don't use an empty lambda.  Create\n+                 a subclass which expresses this semantically:\n+                 EmptyConsumer.create(), etc., instead of value -> {}.\n+            -->\n+            <property name=\"allowEmptyLambdas\" value=\"false\" />\n+        </module>", "originalCommit": "935ecf411993776029eb985a5f48776ec8811c89", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}