{"pr_number": 247, "pr_title": "HH-109743 remove default value from ExecuteOnDataSource.dataSourceType", "pr_createdAt": "2020-05-22T12:27:28Z", "pr_url": "https://github.com/hhru/nuts-and-bolts/pull/247", "timeline": [{"oid": "508b643d9eaf6d7d4a434dc11840933f49424689", "url": "https://github.com/hhru/nuts-and-bolts/commit/508b643d9eaf6d7d4a434dc11840933f49424689", "message": "HH-109743 remove default value from ExecuteOnDataSource.dataSourceType", "committedDate": "2020-05-22T12:18:35Z", "type": "commit"}, {"oid": "c23761d2a008b5ebafd04b7e864b47d5649df8d6", "url": "https://github.com/hhru/nuts-and-bolts/commit/c23761d2a008b5ebafd04b7e864b47d5649df8d6", "message": "HH-109743 fix timeouts in kafka tests", "committedDate": "2020-05-22T12:18:35Z", "type": "commit"}, {"oid": "0e4238eb6e0f69a98beffd1ab9455fb04bccba56", "url": "https://github.com/hhru/nuts-and-bolts/commit/0e4238eb6e0f69a98beffd1ab9455fb04bccba56", "message": "HH-109743 fix unstable test", "committedDate": "2020-05-22T12:18:35Z", "type": "commit"}, {"oid": "2ee09079a69a19a14e5360ec78265ba1846b0e41", "url": "https://github.com/hhru/nuts-and-bolts/commit/2ee09079a69a19a14e5360ec78265ba1846b0e41", "message": "HH-109743 skip some unneeded build steps", "committedDate": "2020-05-22T12:18:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIxNzg3Ng==", "url": "https://github.com/hhru/nuts-and-bolts/pull/247#discussion_r429217876", "bodyText": "\u0434\u043e \u044d\u0442\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u044f \u043f\u0440\u043e\u0433\u043d\u0430\u043b 1000 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 - \u0443\u043f\u0430\u043b\u0438 25. \u043f\u043e\u0441\u043b\u0435 - \u043d\u0435 \u043f\u0430\u0434\u0430\u044e\u0442", "author": "Powerrr", "createdAt": "2020-05-22T12:30:32Z", "path": "nab-starter/src/test/java/ru/hh/nab/starter/server/jetty/HHServerConnectorFailFastTest.java", "diffHunk": "@@ -96,14 +96,17 @@ public void testHHServerConnectorResetsNewIncomingConnectionIfLowOnThreads() thr\n     List<Future<Integer>> statusesFutures = new ArrayList<>(REQUESTS);\n \n     for (int i=0; i < REQUESTS; i++) {\n+      if (i == REQUESTS - 1) {\n+        // make sure at least one request is made AFTER low on threads\n+        await().atMost(500, TimeUnit.MILLISECONDS).until(threadPool::isLowOnThreads);", "originalCommit": "2ee09079a69a19a14e5360ec78265ba1846b0e41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIxOTAxNA==", "url": "https://github.com/hhru/nuts-and-bolts/pull/247#discussion_r429219014", "bodyText": "\u0442\u0443\u0442 await \u043c\u043e\u0433 \u043f\u0440\u043e\u0436\u0434\u0430\u0442\u044c 3 \u0441\u0435\u043a\u0443\u043d\u0434\u044b \u0438 \u043d\u0435 \u0434\u043e\u0436\u0434\u0430\u0442\u044c\u0441\u044f. \u043a\u0430\u0436\u0435\u0442\u0441\u044f, \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u043b\u043e\u0441\u044c \u0432\u0441\u0451-\u0442\u0430\u043a\u0438 \u0434\u043e\u0436\u0434\u0430\u0442\u044c\u0441\u044f (\u043d\u0438\u0436\u0435 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e)", "author": "Powerrr", "createdAt": "2020-05-22T12:33:10Z", "path": "nab-tests/src/test/java/ru/hh/nab/kafka/consumer/ConsumerRecoveryAfterFailTest.java", "diffHunk": "@@ -141,7 +141,7 @@ public void testAtLeastOnceSemanticsWithBatchAck() throws Exception {\n       });\n       ack.acknowledge();\n     });\n-    fails.await(3, TimeUnit.SECONDS);\n+    assertTrue(fails.await(15, TimeUnit.SECONDS));", "originalCommit": "2ee09079a69a19a14e5360ec78265ba1846b0e41", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}