{"pr_number": 5835, "pr_title": "Observing Istio control plane ", "pr_createdAt": "2020-11-12T12:30:52Z", "pr_url": "https://github.com/apache/skywalking/pull/5835", "timeline": [{"oid": "798385aca1f500d486bc516c803489211050ef47", "url": "https://github.com/apache/skywalking/commit/798385aca1f500d486bc516c803489211050ef47", "message": "Add Istio control plane otel MAL expressions and UI template\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-12T09:32:57Z", "type": "commit"}, {"oid": "876a9e5f194fb34e329abd319bcc8d4cea61f293", "url": "https://github.com/apache/skywalking/commit/876a9e5f194fb34e329abd319bcc8d4cea61f293", "message": "Remove OpenCensus receiver, add OpenTelemetry receiver\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-12T12:23:35Z", "type": "commit"}, {"oid": "e4b875d7ca2c5cb545de5060bb6a817b98ecc132", "url": "https://github.com/apache/skywalking/commit/e4b875d7ca2c5cb545de5060bb6a817b98ecc132", "message": "Sum trace count metrics\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-14T05:48:17Z", "type": "commit"}, {"oid": "043d9670c829acfa377a8c17c17a6a7a188ef2e0", "url": "https://github.com/apache/skywalking/commit/043d9670c829acfa377a8c17c17a6a7a188ef2e0", "message": "Merge branch 'master' into otel-istio", "committedDate": "2020-11-18T00:22:38Z", "type": "commit"}, {"oid": "260453dfb909e3b92ba9bdd7c91afb83d2df6b69", "url": "https://github.com/apache/skywalking/commit/260453dfb909e3b92ba9bdd7c91afb83d2df6b69", "message": "Transfer oc receiver to ot receiver\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-18T02:45:32Z", "type": "commit"}, {"oid": "853339cea4e56d4f4800ff35a30ed1f005dd12f6", "url": "https://github.com/apache/skywalking/commit/853339cea4e56d4f4800ff35a30ed1f005dd12f6", "message": "Merge remote-tracking branch 'origin/master' into otel-istio", "committedDate": "2020-11-18T02:45:50Z", "type": "commit"}, {"oid": "51251d5a7fba0ba56863eb8abb78c64cc2ed93d9", "url": "https://github.com/apache/skywalking/commit/51251d5a7fba0ba56863eb8abb78c64cc2ed93d9", "message": "Merge branch 'otel-istio' of github.com:apache/skywalking into otel-istio", "committedDate": "2020-11-18T02:49:01Z", "type": "commit"}, {"oid": "00b23cf5372224823ea51c46f173260fc40d2d4a", "url": "https://github.com/apache/skywalking/commit/00b23cf5372224823ea51c46f173260fc40d2d4a", "message": "Create indices on boot\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-18T13:47:33Z", "type": "commit"}, {"oid": "b3a6ba62e6b398e71c81de111f3504af5ee06f29", "url": "https://github.com/apache/skywalking/commit/b3a6ba62e6b398e71c81de111f3504af5ee06f29", "message": "Merge remote-tracking branch 'origin/master' into otel-istio", "committedDate": "2020-11-18T13:48:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjEzOTYxMQ==", "url": "https://github.com/apache/skywalking/pull/5835#discussion_r526139611", "bodyText": "NULL_DEREFERENCE:  object ctx last assigned on line 46 could be null and is dereferenced at line 47.", "author": "sonatype-lift", "createdAt": "2020-11-18T14:41:22Z", "path": "oap-server/analyzer/meter-analyzer/src/main/java/org/apache/skywalking/oap/meter/analyzer/dsl/Expression.java", "diffHunk": "@@ -23,18 +23,35 @@\n import groovy.lang.GroovyObjectSupport;\n import groovy.util.DelegatingScript;\n import java.time.Instant;\n+import lombok.RequiredArgsConstructor;\n import lombok.extern.slf4j.Slf4j;\n \n /**\n  * Expression is a reusable monadic container type which represents a DSL expression.\n  */\n @Slf4j\n+@RequiredArgsConstructor\n public class Expression {\n \n+    private final String literal;\n+\n     private final DelegatingScript expression;\n \n-    Expression(DelegatingScript expression) {\n-        this.expression = expression;\n+    /**\n+     * Parse the expression statically.\n+     *\n+     * @return Parsed context of the expression.\n+     */\n+    public ExpressionParsingContext parse() {\n+        try (ExpressionParsingContext ctx = ExpressionParsingContext.create()) {\n+            ctx.downsampling = DownsamplingType.AVG;", "originalCommit": "b3a6ba62e6b398e71c81de111f3504af5ee06f29", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ2MzI5Nw==", "url": "https://github.com/apache/skywalking/pull/5835#discussion_r528463297", "bodyText": "done", "author": "hanahmily", "createdAt": "2020-11-23T04:07:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjEzOTYxMQ=="}], "type": "inlineReview"}, {"oid": "9c336559fe1cff0a519a4f4288f1db2c121a8f02", "url": "https://github.com/apache/skywalking/commit/9c336559fe1cff0a519a4f4288f1db2c121a8f02", "message": "Merge branch 'master' into otel-istio", "committedDate": "2020-11-23T02:20:57Z", "type": "commit"}, {"oid": "6a7512419ac18560762c79c728d0fbfc77b91570", "url": "https://github.com/apache/skywalking/commit/6a7512419ac18560762c79c728d0fbfc77b91570", "message": "Document istio metrics and otel receiver\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-23T03:53:26Z", "type": "commit"}, {"oid": "3f3a8b6623523ba84db7f0bea9d114149e61673e", "url": "https://github.com/apache/skywalking/commit/3f3a8b6623523ba84db7f0bea9d114149e61673e", "message": "Update CHANGES.md\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-23T03:59:59Z", "type": "commit"}, {"oid": "75ed9e65ef671a5ce39606fcd0469578acb6e387", "url": "https://github.com/apache/skywalking/commit/75ed9e65ef671a5ce39606fcd0469578acb6e387", "message": "Fix potential NPE\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-23T04:05:46Z", "type": "commit"}, {"oid": "42fc31fbaa92638ceb55c0e851c08137dfb7783c", "url": "https://github.com/apache/skywalking/commit/42fc31fbaa92638ceb55c0e851c08137dfb7783c", "message": "Update docs/en/setup/istio/README.md\n\nCo-authored-by: \u5434\u665f Wu Sheng <wu.sheng@foxmail.com>", "committedDate": "2020-11-23T06:50:45Z", "type": "commit"}, {"oid": "ccd07bc915b76c4b9daf99d5c990da74337c9558", "url": "https://github.com/apache/skywalking/commit/ccd07bc915b76c4b9daf99d5c990da74337c9558", "message": "Add namespace to meter and cleanup istio mixer\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-23T23:58:49Z", "type": "commit"}, {"oid": "4129d4a601c46ac30e4e7be352e0122fc329db5b", "url": "https://github.com/apache/skywalking/commit/4129d4a601c46ac30e4e7be352e0122fc329db5b", "message": "Update CHANGES.md\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T00:12:19Z", "type": "commit"}, {"oid": "edf490e9ee3409fc8f05b5ba3b750db879bf27c5", "url": "https://github.com/apache/skywalking/commit/edf490e9ee3409fc8f05b5ba3b750db879bf27c5", "message": "Update e2e case due to the change of meter metric name\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T00:36:52Z", "type": "commit"}, {"oid": "1718f38250894ef5a45e5a168f5b5a2878b450d3", "url": "https://github.com/apache/skywalking/commit/1718f38250894ef5a45e5a168f5b5a2878b450d3", "message": "Tweat names and docs\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T01:41:10Z", "type": "commit"}, {"oid": "daeb03cd5ccf9244cf8aa856c523259c52434187", "url": "https://github.com/apache/skywalking/commit/daeb03cd5ccf9244cf8aa856c523259c52434187", "message": "Update prometheus fetcher config, fix sql builder issue of h2\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T02:07:19Z", "type": "commit"}, {"oid": "68cc1ddea0eaa110ab4275cbf4f0f81040c3f8fe", "url": "https://github.com/apache/skywalking/commit/68cc1ddea0eaa110ab4275cbf4f0f81040c3f8fe", "message": "Update test case\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T03:37:18Z", "type": "commit"}, {"oid": "68cc1ddea0eaa110ab4275cbf4f0f81040c3f8fe", "url": "https://github.com/apache/skywalking/commit/68cc1ddea0eaa110ab4275cbf4f0f81040c3f8fe", "message": "Update test case\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T03:37:18Z", "type": "forcePushed"}, {"oid": "c0b2f9e447621eb4a4822fec6e26a7a45d3a08c0", "url": "https://github.com/apache/skywalking/commit/c0b2f9e447621eb4a4822fec6e26a7a45d3a08c0", "message": "Update docs/en/setup/istio/README.md\n\nCo-authored-by: \u5434\u665f Wu Sheng <wu.sheng@foxmail.com>", "committedDate": "2020-11-24T07:19:58Z", "type": "commit"}, {"oid": "4f2e0671ab13efb8c4005425d76a8ddb27ea822d", "url": "https://github.com/apache/skywalking/commit/4f2e0671ab13efb8c4005425d76a8ddb27ea822d", "message": "More docs and dist configuration\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T07:27:41Z", "type": "commit"}, {"oid": "5bac7dc355468b7b8b272eb4e8cad132631c8ac0", "url": "https://github.com/apache/skywalking/commit/5bac7dc355468b7b8b272eb4e8cad132631c8ac0", "message": "Exclude otel-oc-rules\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-24T10:13:01Z", "type": "commit"}, {"oid": "ebcb35aa64051ca10430551652da69441b094e5c", "url": "https://github.com/apache/skywalking/commit/ebcb35aa64051ca10430551652da69441b094e5c", "message": "Merge branch 'master' into otel-istio", "committedDate": "2020-11-24T12:01:38Z", "type": "commit"}, {"oid": "ead7cd89ae77a9194e35019736b8f8ecfb0f0c74", "url": "https://github.com/apache/skywalking/commit/ead7cd89ae77a9194e35019736b8f8ecfb0f0c74", "message": "Merge branch 'master' into otel-istio", "committedDate": "2020-11-25T00:40:24Z", "type": "commit"}, {"oid": "80f150ebdd7a975cf14262bdfdeb1b8c46698923", "url": "https://github.com/apache/skywalking/commit/80f150ebdd7a975cf14262bdfdeb1b8c46698923", "message": "Disable istio and so11y metrics by default.\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-25T02:14:16Z", "type": "commit"}, {"oid": "70ad9ec51ea0010a9447ff9311152caa3c07f2bc", "url": "https://github.com/apache/skywalking/commit/70ad9ec51ea0010a9447ff9311152caa3c07f2bc", "message": "Fix micrometer testcase\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-25T06:41:03Z", "type": "commit"}, {"oid": "1c1144b7857d138667937e9f2b345e2984149b7b", "url": "https://github.com/apache/skywalking/commit/1c1144b7857d138667937e9f2b345e2984149b7b", "message": "Update more cases\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-25T10:07:08Z", "type": "commit"}, {"oid": "1c1144b7857d138667937e9f2b345e2984149b7b", "url": "https://github.com/apache/skywalking/commit/1c1144b7857d138667937e9f2b345e2984149b7b", "message": "Update more cases\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>", "committedDate": "2020-11-25T10:07:08Z", "type": "forcePushed"}]}