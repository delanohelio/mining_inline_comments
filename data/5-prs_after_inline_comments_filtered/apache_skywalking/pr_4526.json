{"pr_number": 4526, "pr_title": "Add spring cloud feign 2.x plugin", "pr_createdAt": "2020-03-16T09:52:01Z", "pr_url": "https://github.com/apache/skywalking/pull/4526", "timeline": [{"oid": "58719b285ff691634a3ac0e0ad18fcd3e3111fa8", "url": "https://github.com/apache/skywalking/commit/58719b285ff691634a3ac0e0ad18fcd3e3111fa8", "message": "ClassCastException", "committedDate": "2020-03-04T10:19:05Z", "type": "commit"}, {"oid": "623a1793bf983d3e6ecd1483feddb8b9190b392d", "url": "https://github.com/apache/skywalking/commit/623a1793bf983d3e6ecd1483feddb8b9190b392d", "message": "Merge branch 'master' into master", "committedDate": "2020-03-04T14:12:40Z", "type": "commit"}, {"oid": "5f82e9279d76e79ec620479c17cf4df41d7fe8f3", "url": "https://github.com/apache/skywalking/commit/5f82e9279d76e79ec620479c17cf4df41d7fe8f3", "message": "Update FutureGetInterceptor.java", "committedDate": "2020-03-04T14:33:33Z", "type": "commit"}, {"oid": "6bffa5deb0639000fccb18b7ea4f5c36e1abd82c", "url": "https://github.com/apache/skywalking/commit/6bffa5deb0639000fccb18b7ea4f5c36e1abd82c", "message": "resttemplate 4.x scenario", "committedDate": "2020-03-08T07:06:05Z", "type": "commit"}, {"oid": "6144019b0d62161a8f016dd92fcd40884e3ca89d", "url": "https://github.com/apache/skywalking/commit/6144019b0d62161a8f016dd92fcd40884e3ca89d", "message": "Merge branch 'master' into master", "committedDate": "2020-03-08T07:11:52Z", "type": "commit"}, {"oid": "ed703073b8a242369419c995b7c1e797978737b0", "url": "https://github.com/apache/skywalking/commit/ed703073b8a242369419c995b7c1e797978737b0", "message": "add support versions & fix expectedData format", "committedDate": "2020-03-08T10:20:58Z", "type": "commit"}, {"oid": "6673c3d4cbdfc72e10b21b7b4e896d0fb0d59e58", "url": "https://github.com/apache/skywalking/commit/6673c3d4cbdfc72e10b21b7b4e896d0fb0d59e58", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-08T10:23:22Z", "type": "commit"}, {"oid": "47c84deea7f534f4cbb37d3b089b4b2d0ca4a4c7", "url": "https://github.com/apache/skywalking/commit/47c84deea7f534f4cbb37d3b089b4b2d0ca4a4c7", "message": "Merge branch 'master' into master", "committedDate": "2020-03-08T11:17:30Z", "type": "commit"}, {"oid": "bacd8218294bad42c3f4b09318a8847e48ad2501", "url": "https://github.com/apache/skywalking/commit/bacd8218294bad42c3f4b09318a8847e48ad2501", "message": "fix expectedData.yaml format", "committedDate": "2020-03-08T13:28:53Z", "type": "commit"}, {"oid": "200c2d34f47e76bc4b28f7ac2a028a7fe484039c", "url": "https://github.com/apache/skywalking/commit/200c2d34f47e76bc4b28f7ac2a028a7fe484039c", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-08T13:29:28Z", "type": "commit"}, {"oid": "d07e598711b22eecb89e94b927388561eaf8d0e2", "url": "https://github.com/apache/skywalking/commit/d07e598711b22eecb89e94b927388561eaf8d0e2", "message": "add support versions & fix expectedData format", "committedDate": "2020-03-08T13:57:00Z", "type": "commit"}, {"oid": "e02be7983763bd8b8c42d5f987b0771398f3c608", "url": "https://github.com/apache/skywalking/commit/e02be7983763bd8b8c42d5f987b0771398f3c608", "message": "Merge branch 'master' into master", "committedDate": "2020-03-09T00:45:48Z", "type": "commit"}, {"oid": "0757855dfd236c705d16a0c99985305b7c1fe55f", "url": "https://github.com/apache/skywalking/commit/0757855dfd236c705d16a0c99985305b7c1fe55f", "message": "spring web versions", "committedDate": "2020-03-09T15:10:40Z", "type": "commit"}, {"oid": "0f5a74a75263447ceade00f6f529cf8a030dc1f0", "url": "https://github.com/apache/skywalking/commit/0f5a74a75263447ceade00f6f529cf8a030dc1f0", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-09T15:11:01Z", "type": "commit"}, {"oid": "e4833dee3a16fb35b6c68fd7c13aa2ed3cd40625", "url": "https://github.com/apache/skywalking/commit/e4833dee3a16fb35b6c68fd7c13aa2ed3cd40625", "message": "Merge branch 'master' into master", "committedDate": "2020-03-09T15:16:13Z", "type": "commit"}, {"oid": "bb2dc60ad11b8bd6872268c4b1a8928181a0e9c3", "url": "https://github.com/apache/skywalking/commit/bb2dc60ad11b8bd6872268c4b1a8928181a0e9c3", "message": "supported versions", "committedDate": "2020-03-09T16:17:05Z", "type": "commit"}, {"oid": "b84f8208d956331f55af96ab63cac6ae3795792f", "url": "https://github.com/apache/skywalking/commit/b84f8208d956331f55af96ab63cac6ae3795792f", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-09T16:17:44Z", "type": "commit"}, {"oid": "12059d0542e011ac96a4ae027c91d3eb3a483d31", "url": "https://github.com/apache/skywalking/commit/12059d0542e011ac96a4ae027c91d3eb3a483d31", "message": "Merge branch 'master' into master", "committedDate": "2020-03-10T00:00:51Z", "type": "commit"}, {"oid": "f3cf391c7063170cb2dd90432fb0647f6c4a37b6", "url": "https://github.com/apache/skywalking/commit/f3cf391c7063170cb2dd90432fb0647f6c4a37b6", "message": "add healthCheck endpoint", "committedDate": "2020-03-10T02:10:24Z", "type": "commit"}, {"oid": "57e16762e5fe360cf63c0d9cde124fbda777bd00", "url": "https://github.com/apache/skywalking/commit/57e16762e5fe360cf63c0d9cde124fbda777bd00", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-10T02:11:06Z", "type": "commit"}, {"oid": "0957653659989eb5f2ee51395d949e6e644ad6b3", "url": "https://github.com/apache/skywalking/commit/0957653659989eb5f2ee51395d949e6e644ad6b3", "message": "Merge branch 'master' into master", "committedDate": "2020-03-10T13:51:50Z", "type": "commit"}, {"oid": "87c4ed274c2b30bacbe11e735c6fcb25b60c94c8", "url": "https://github.com/apache/skywalking/commit/87c4ed274c2b30bacbe11e735c6fcb25b60c94c8", "message": "add support versions & fix expectedData format", "committedDate": "2020-03-10T16:29:25Z", "type": "commit"}, {"oid": "8be8a8c8b6cb415f46192c933209c93b9b212b36", "url": "https://github.com/apache/skywalking/commit/8be8a8c8b6cb415f46192c933209c93b9b212b36", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-10T16:30:12Z", "type": "commit"}, {"oid": "9cf7398a97ffc86a3997650d9bfc6b834c435c90", "url": "https://github.com/apache/skywalking/commit/9cf7398a97ffc86a3997650d9bfc6b834c435c90", "message": "Merge branch 'master' into master", "committedDate": "2020-03-11T00:14:01Z", "type": "commit"}, {"oid": "b8bf621dd2327d74ff5e55cc9ce04c12796a0f0d", "url": "https://github.com/apache/skywalking/commit/b8bf621dd2327d74ff5e55cc9ce04c12796a0f0d", "message": "refs", "committedDate": "2020-03-11T03:00:07Z", "type": "commit"}, {"oid": "48dee58685dbf9e643167f715f458bbf9d3429b9", "url": "https://github.com/apache/skywalking/commit/48dee58685dbf9e643167f715f458bbf9d3429b9", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-11T03:00:21Z", "type": "commit"}, {"oid": "96e1362574773d054ec207f27b899e24797c63bd", "url": "https://github.com/apache/skywalking/commit/96e1362574773d054ec207f27b899e24797c63bd", "message": "Merge branch 'master' into master", "committedDate": "2020-03-11T03:26:42Z", "type": "commit"}, {"oid": "097ee2a28c9592a285f59d59a6d79bd2bfec17c1", "url": "https://github.com/apache/skywalking/commit/097ee2a28c9592a285f59d59a6d79bd2bfec17c1", "message": "context-path", "committedDate": "2020-03-11T04:43:11Z", "type": "commit"}, {"oid": "595fc73279b6cb856e045d7c23194900b19c2bf2", "url": "https://github.com/apache/skywalking/commit/595fc73279b6cb856e045d7c23194900b19c2bf2", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-11T04:43:38Z", "type": "commit"}, {"oid": "b0b71504b2f3906955c1e150b4b92cf731637df8", "url": "https://github.com/apache/skywalking/commit/b0b71504b2f3906955c1e150b4b92cf731637df8", "message": "Merge branch 'master' into master", "committedDate": "2020-03-11T05:06:27Z", "type": "commit"}, {"oid": "ce655d12d805786daf1af58bdbff1f22d1641fc7", "url": "https://github.com/apache/skywalking/commit/ce655d12d805786daf1af58bdbff1f22d1641fc7", "message": "jetty web context path", "committedDate": "2020-03-11T06:12:37Z", "type": "commit"}, {"oid": "f30d7096a5d684fa6b1338d05762d69853b29263", "url": "https://github.com/apache/skywalking/commit/f30d7096a5d684fa6b1338d05762d69853b29263", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-11T06:12:59Z", "type": "commit"}, {"oid": "989a1d6b90e8149f1c67c185f4d15056c1080c73", "url": "https://github.com/apache/skywalking/commit/989a1d6b90e8149f1c67c185f4d15056c1080c73", "message": "license", "committedDate": "2020-03-11T06:38:07Z", "type": "commit"}, {"oid": "967adfc11818945465567a89b4a7a50659a1febc", "url": "https://github.com/apache/skywalking/commit/967adfc11818945465567a89b4a7a50659a1febc", "message": "Merge branch 'master' into master", "committedDate": "2020-03-11T07:02:27Z", "type": "commit"}, {"oid": "3cb133d9f34327eeebe5785e675e3ca9f626a7b8", "url": "https://github.com/apache/skywalking/commit/3cb133d9f34327eeebe5785e675e3ca9f626a7b8", "message": "ok", "committedDate": "2020-03-11T14:27:51Z", "type": "commit"}, {"oid": "53083adcf2f0cf4ffd369855266d52320e4c1d0f", "url": "https://github.com/apache/skywalking/commit/53083adcf2f0cf4ffd369855266d52320e4c1d0f", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-11T14:29:48Z", "type": "commit"}, {"oid": "b449970f1b73a94b1d73fc57a1a863b36d778576", "url": "https://github.com/apache/skywalking/commit/b449970f1b73a94b1d73fc57a1a863b36d778576", "message": "Merge branch 'master' into master", "committedDate": "2020-03-12T05:38:40Z", "type": "commit"}, {"oid": "f42363b823ab465946a6d7b797395591e5655250", "url": "https://github.com/apache/skywalking/commit/f42363b823ab465946a6d7b797395591e5655250", "message": "method head", "committedDate": "2020-03-12T12:04:23Z", "type": "commit"}, {"oid": "1c7bbc35b86c92c3f3fd620b0a80db391f7c559c", "url": "https://github.com/apache/skywalking/commit/1c7bbc35b86c92c3f3fd620b0a80db391f7c559c", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-12T12:04:43Z", "type": "commit"}, {"oid": "779731f070da3894a2751aeb75582c4f4b5a9320", "url": "https://github.com/apache/skywalking/commit/779731f070da3894a2751aeb75582c4f4b5a9320", "message": "add support versions & fix expectedData format", "committedDate": "2020-03-12T12:13:41Z", "type": "commit"}, {"oid": "b646c498ce3e17d7690a43340738e557870ee219", "url": "https://github.com/apache/skywalking/commit/b646c498ce3e17d7690a43340738e557870ee219", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-13T11:09:55Z", "type": "commit"}, {"oid": "3b9397abfcda02ca65a561566fcfb93482430a45", "url": "https://github.com/apache/skywalking/commit/3b9397abfcda02ca65a561566fcfb93482430a45", "message": "Merge branch 'master' into master", "committedDate": "2020-03-13T13:18:21Z", "type": "commit"}, {"oid": "393dfa78593697775872c85aabeaeef440fc3ee1", "url": "https://github.com/apache/skywalking/commit/393dfa78593697775872c85aabeaeef440fc3ee1", "message": "spring cloud feign 2.x plugin\nspring cloud feign 2.x plugin test scenario\nspring cloud feign 1.x plugin test scenario", "committedDate": "2020-03-16T09:41:42Z", "type": "commit"}, {"oid": "95af00f36dc9b8ccc4fc39e6221161c8b3afd78a", "url": "https://github.com/apache/skywalking/commit/95af00f36dc9b8ccc4fc39e6221161c8b3afd78a", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-16T09:41:57Z", "type": "commit"}, {"oid": "cb516e0b2a64833d308fa25d864dfc5597c98e44", "url": "https://github.com/apache/skywalking/commit/cb516e0b2a64833d308fa25d864dfc5597c98e44", "message": "Merge branch 'master' into master", "committedDate": "2020-03-16T09:54:23Z", "type": "commit"}, {"oid": "3405460a4fcb1b219c36b82b931a06a9e5dbf8e6", "url": "https://github.com/apache/skywalking/commit/3405460a4fcb1b219c36b82b931a06a9e5dbf8e6", "message": "license", "committedDate": "2020-03-16T10:00:22Z", "type": "commit"}, {"oid": "fad22df4aefbaa69e3cc7836a4cb53c2dad30bf2", "url": "https://github.com/apache/skywalking/commit/fad22df4aefbaa69e3cc7836a4cb53c2dad30bf2", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking", "committedDate": "2020-03-16T10:01:00Z", "type": "commit"}, {"oid": "867c64530c2428748e703afaa982b3028d576663", "url": "https://github.com/apache/skywalking/commit/867c64530c2428748e703afaa982b3028d576663", "message": "RELEASE", "committedDate": "2020-03-16T10:20:32Z", "type": "commit"}, {"oid": "164d34f7fa5aa388bd9b051cd6bf20b260a60d5a", "url": "https://github.com/apache/skywalking/commit/164d34f7fa5aa388bd9b051cd6bf20b260a60d5a", "message": "not support 1.3.3.RELEASE", "committedDate": "2020-03-16T11:41:15Z", "type": "commit"}, {"oid": "d548ea183c86966bfc7841677fe443981a5d56be", "url": "https://github.com/apache/skywalking/commit/d548ea183c86966bfc7841677fe443981a5d56be", "message": "combine to Feign_Canal_Armeria", "committedDate": "2020-03-16T12:50:31Z", "type": "commit"}, {"oid": "00d495d0632c628e8f57d29493431d065612b04e", "url": "https://github.com/apache/skywalking/commit/00d495d0632c628e8f57d29493431d065612b04e", "message": "Merge branch 'master' of https://github.com/apache/skywalking into tmp", "committedDate": "2020-03-16T15:52:05Z", "type": "commit"}, {"oid": "c19508b735e9959384627fecb9968d2bdf574d6b", "url": "https://github.com/apache/skywalking/commit/c19508b735e9959384627fecb9968d2bdf574d6b", "message": "Merge branch 'master' into master", "committedDate": "2020-03-17T03:28:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQzMTYwMg==", "url": "https://github.com/apache/skywalking/pull/4526#discussion_r393431602", "bodyText": "According to this, feign is not a netflix component anymore. You should move it to the spring-cloud folder.", "author": "wu-sheng", "createdAt": "2020-03-17T03:54:53Z", "path": "apm-sniffer/apm-sdk-plugin/spring-plugins/spring-cloud/netflix-plugins/spring-cloud-feign-2.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/string/cloud/netflix/feign/v2/define/LoadBalancerFeignClientInstrumentation.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ */\n+\n+package org.apache.skywalking.apm.plugin.string.cloud.netflix.feign.v2.define;\n+\n+import net.bytebuddy.description.method.MethodDescription;\n+import net.bytebuddy.matcher.ElementMatcher;\n+import org.apache.skywalking.apm.agent.core.plugin.interceptor.ConstructorInterceptPoint;\n+import org.apache.skywalking.apm.agent.core.plugin.interceptor.InstanceMethodsInterceptPoint;\n+import org.apache.skywalking.apm.agent.core.plugin.interceptor.enhance.ClassInstanceMethodsEnhancePluginDefine;\n+import org.apache.skywalking.apm.agent.core.plugin.match.ClassMatch;\n+\n+import static net.bytebuddy.matcher.ElementMatchers.named;\n+import static org.apache.skywalking.apm.agent.core.plugin.match.NameMatch.byName;\n+\n+public class LoadBalancerFeignClientInstrumentation extends ClassInstanceMethodsEnhancePluginDefine {\n+\n+    public static final String ENHANCE_CLASS = \"org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient\";", "originalCommit": "c19508b735e9959384627fecb9968d2bdf574d6b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "11bb3e99bb91acb5f8a7c2b6cd5b4b55eaee8911", "url": "https://github.com/apache/skywalking/commit/11bb3e99bb91acb5f8a7c2b6cd5b4b55eaee8911", "message": "Merge branch 'master' into master", "committedDate": "2020-03-17T05:09:32Z", "type": "commit"}, {"oid": "8d41fe78191532f09ce8624efae8bb5bff36e943", "url": "https://github.com/apache/skywalking/commit/8d41fe78191532f09ce8624efae8bb5bff36e943", "message": "redirect to spring cloud", "committedDate": "2020-03-17T12:06:29Z", "type": "commit"}, {"oid": "ac78139b68c3a54dde64bb079791521bb037a742", "url": "https://github.com/apache/skywalking/commit/ac78139b68c3a54dde64bb079791521bb037a742", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking into tmp", "committedDate": "2020-03-17T12:07:05Z", "type": "commit"}, {"oid": "428bdd67e5d90c3e950b8584614088153716fba8", "url": "https://github.com/apache/skywalking/commit/428bdd67e5d90c3e950b8584614088153716fba8", "message": "1.3.3", "committedDate": "2020-03-17T13:47:41Z", "type": "commit"}, {"oid": "3941d15d03779aa04cf2d6ac8be338c542ed9951", "url": "https://github.com/apache/skywalking/commit/3941d15d03779aa04cf2d6ac8be338c542ed9951", "message": "Merge branch 'master' into master", "committedDate": "2020-03-17T13:48:19Z", "type": "commit"}, {"oid": "331a8b4d241d2120287b6e6a8c81697505075ce4", "url": "https://github.com/apache/skywalking/commit/331a8b4d241d2120287b6e6a8c81697505075ce4", "message": "Merge branch 'master' into master", "committedDate": "2020-03-19T04:44:06Z", "type": "commit"}, {"oid": "484b3e2b7a995c1be68a309eeb286c028181868c", "url": "https://github.com/apache/skywalking/commit/484b3e2b7a995c1be68a309eeb286c028181868c", "message": "Merge branch 'master' of https://github.com/apache/skywalking into tmp", "committedDate": "2020-03-20T07:58:53Z", "type": "commit"}, {"oid": "824190933ad23cac50684378e2c954816218f683", "url": "https://github.com/apache/skywalking/commit/824190933ad23cac50684378e2c954816218f683", "message": "7.1.0-SNAPSHOT", "committedDate": "2020-03-20T08:05:50Z", "type": "commit"}, {"oid": "0264a7166aef6b759aba14810bbf917aba985345", "url": "https://github.com/apache/skywalking/commit/0264a7166aef6b759aba14810bbf917aba985345", "message": "Merge branch 'master' of https://github.com/cngdkxw/skywalking into tmp", "committedDate": "2020-03-20T08:07:19Z", "type": "commit"}]}