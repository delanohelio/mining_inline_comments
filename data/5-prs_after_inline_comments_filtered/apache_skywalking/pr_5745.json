{"pr_number": 5745, "pr_title": "Make okhttp3 ,feign http9.x plugin to support java 14 ", "pr_createdAt": "2020-10-28T08:37:31Z", "pr_url": "https://github.com/apache/skywalking/pull/5745", "timeline": [{"oid": "9dc0fb78bc440bd90c9029fc257ab855d34a7228", "url": "https://github.com/apache/skywalking/commit/9dc0fb78bc440bd90c9029fc257ab855d34a7228", "message": "\u5220\u9664modifiers\u7684\u53cd\u5c04\u7092\u4f5c,\u7ecf\u6d4b\u8bd5 1.8 , 11, 14 \u4e09\u4e2a\u7248\u672c\u90fd\u4e0d\u9700\u8981\u4fee\u6539modifiers \u7684\u503c,\u53ef\u76f4\u63a5\u4fee\u6539\u5c5e\u6027\u503c", "committedDate": "2020-10-28T08:00:49Z", "type": "commit"}, {"oid": "e9f6ce11c09fff2df050c478e29763e73f2bbacb", "url": "https://github.com/apache/skywalking/commit/e9f6ce11c09fff2df050c478e29763e73f2bbacb", "message": "\u5220\u9664modifiers\u7684\u53cd\u5c04\u7092\u4f5c,\u7ecf\u6d4b\u8bd5 1.8 , 11, 14 \u4e09\u4e2a\u7248\u672c\u90fd\u4e0d\u9700\u8981\u4fee\u6539modifiers \u7684\u503c,\u53ef\u76f4\u63a5\u4fee\u6539\u5c5e\u6027\u503c", "committedDate": "2020-10-28T08:14:15Z", "type": "commit"}, {"oid": "31c783935d5e08eca64896bd3d21695868249a24", "url": "https://github.com/apache/skywalking/commit/31c783935d5e08eca64896bd3d21695868249a24", "message": "Merge branch 'master' into modifiers", "committedDate": "2020-10-28T08:40:34Z", "type": "commit"}, {"oid": "fb10f5f0c2e7a7672fe5cf2e05e9b5b3631808a7", "url": "https://github.com/apache/skywalking/commit/fb10f5f0c2e7a7672fe5cf2e05e9b5b3631808a7", "message": "\u4fee\u6539\u6587\u6848", "committedDate": "2020-10-28T09:36:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMwODc3OQ==", "url": "https://github.com/apache/skywalking/pull/5745#discussion_r513308779", "bodyText": "Note, the existing code creates a new builder, but never read the existing headers, if the client has meaning headers, such as token, they would be lost, right?", "author": "wu-sheng", "createdAt": "2020-10-28T09:49:32Z", "path": "apm-sniffer/apm-sdk-plugin/okhttp-3.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/okhttp/v3/RealCallInterceptor.java", "diffHunk": "@@ -70,10 +69,6 @@ public void beforeMethod(EnhancedInstance objInst, Method method, Object[] allAr\n         SpanLayer.asHttp(span);\n \n         Field headersField = Request.class.getDeclaredField(\"headers\");\n-        Field modifiersField = Field.class.getDeclaredField(\"modifiers\");\n-        modifiersField.setAccessible(true);\n-        modifiersField.setInt(headersField, headersField.getModifiers() & ~Modifier.FINAL);\n-\n         headersField.setAccessible(true);\n         Headers.Builder headerBuilder = request.headers().newBuilder();", "originalCommit": "fb10f5f0c2e7a7672fe5cf2e05e9b5b3631808a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMwOTQ3NA==", "url": "https://github.com/apache/skywalking/pull/5745#discussion_r513309474", "bodyText": "I know this is not related to this fix. You could consider to check these 3 plugins, to submit issue or another PR to fox this.", "author": "wu-sheng", "createdAt": "2020-10-28T09:50:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMwODc3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMyMjQzNw==", "url": "https://github.com/apache/skywalking/pull/5745#discussion_r513322437", "bodyText": "first question : request.headers().newBuilder();\nthis code read existing headers, and next step put new values in it.\n2: there just 3 block code use this way to change modifiers  in project.", "author": "hsoftxl", "createdAt": "2020-10-28T10:09:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMwODc3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMyMzEyMg==", "url": "https://github.com/apache/skywalking/pull/5745#discussion_r513323122", "bodyText": "Thanks for clearance. Good to me.", "author": "wu-sheng", "createdAt": "2020-10-28T10:10:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzMwODc3OQ=="}], "type": "inlineReview"}, {"oid": "5e9d1cb335045875beee706ba1385c47fd298104", "url": "https://github.com/apache/skywalking/commit/5e9d1cb335045875beee706ba1385c47fd298104", "message": "Merge branch 'master' into modifiers", "committedDate": "2020-10-28T23:51:32Z", "type": "commit"}]}