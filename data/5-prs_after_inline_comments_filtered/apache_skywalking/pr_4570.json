{"pr_number": 4570, "pr_title": "[Inventory Design Change] Remove endpoint register and endpoint inventory", "pr_createdAt": "2020-03-26T02:56:41Z", "pr_url": "https://github.com/apache/skywalking/pull/4570", "timeline": [{"oid": "675c0b02a206be0965f173db6126a6b592bdff19", "url": "https://github.com/apache/skywalking/commit/675c0b02a206be0965f173db6126a6b592bdff19", "message": "Finish step one, source and entity changed.", "committedDate": "2020-03-25T04:06:44Z", "type": "commit"}, {"oid": "f933cdd0541c11424d683d9343583b1e6d833665", "url": "https://github.com/apache/skywalking/commit/f933cdd0541c11424d683d9343583b1e6d833665", "message": "Step 2, finish the basic and core DAO changes.", "committedDate": "2020-03-25T07:50:36Z", "type": "commit"}, {"oid": "e3cd1b59875ba20e2c344fa3ec377917178b0267", "url": "https://github.com/apache/skywalking/commit/e3cd1b59875ba20e2c344fa3ec377917178b0267", "message": "Step 3. Change all source codes of backend, and make project compiling successfully.", "committedDate": "2020-03-25T13:33:54Z", "type": "commit"}, {"oid": "5e78bd00ec487e55ae266f0cbe0332ba0cab2af8", "url": "https://github.com/apache/skywalking/commit/5e78bd00ec487e55ae266f0cbe0332ba0cab2af8", "message": "Make startup successful and persistence works.", "committedDate": "2020-03-26T02:46:15Z", "type": "commit"}, {"oid": "ecbdefd52b7fb10152aeb7ac4d525e35b58c2604", "url": "https://github.com/apache/skywalking/commit/ecbdefd52b7fb10152aeb7ac4d525e35b58c2604", "message": "Merge branch 'master' into remove-endpoint-register", "committedDate": "2020-03-26T02:56:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMxOTcxOQ==", "url": "https://github.com/apache/skywalking/pull/4570#discussion_r398319719", "bodyText": "EndpointTraffic is not RegisterSource type, but creating InventoryIndexes needs a sequence column, which is defined in RegisterSource", "author": "kezhenxu94", "createdAt": "2020-03-26T05:04:37Z", "path": "oap-server/server-storage-plugin/storage-jdbc-hikaricp-plugin/src/main/java/org/apache/skywalking/oap/server/storage/plugin/jdbc/mysql/MySQLTableInstaller.java", "diffHunk": "@@ -111,7 +111,7 @@ protected void createIndexes(JDBCHikariCPClient client, Model model) throws Stor\n             case SERVICE_INVENTORY:\n             case SERVICE_INSTANCE_INVENTORY:\n             case NETWORK_ADDRESS:\n-            case ENDPOINT_INVENTORY:\n+            case ENDPOINT_TRAFFIC:\n                 createInventoryIndexes(client, model);", "originalCommit": "ecbdefd52b7fb10152aeb7ac4d525e35b58c2604", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMzMDUyOA==", "url": "https://github.com/apache/skywalking/pull/4570#discussion_r398330528", "bodyText": "Removed.", "author": "wu-sheng", "createdAt": "2020-03-26T05:47:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODMxOTcxOQ=="}], "type": "inlineReview"}, {"oid": "2baff1aeed4d4455eed195f16e7f2ef50ec6021d", "url": "https://github.com/apache/skywalking/commit/2baff1aeed4d4455eed195f16e7f2ef50ec6021d", "message": "Fix dead codes in the MySQLTableInstaller.", "committedDate": "2020-03-26T05:46:48Z", "type": "commit"}, {"oid": "f27e9b985cdbcd80c86d32886396c71112ad43c5", "url": "https://github.com/apache/skywalking/commit/f27e9b985cdbcd80c86d32886396c71112ad43c5", "message": "Fix mischange.", "committedDate": "2020-03-26T05:56:08Z", "type": "commit"}, {"oid": "173949e928d4d677c4e0143ba2078e2fbcd9e41f", "url": "https://github.com/apache/skywalking/commit/173949e928d4d677c4e0143ba2078e2fbcd9e41f", "message": "Fix MySQL storage bootstrap error.", "committedDate": "2020-03-26T06:24:16Z", "type": "commit"}, {"oid": "a1dc88ee42679e136353202ae595daa5eaa0aac4", "url": "https://github.com/apache/skywalking/commit/a1dc88ee42679e136353202ae595daa5eaa0aac4", "message": "Rollback dependency change.", "committedDate": "2020-03-26T06:48:12Z", "type": "commit"}, {"oid": "93bb8a8d2c5cefefb56d199d92e68b3c9b715b98", "url": "https://github.com/apache/skywalking/commit/93bb8a8d2c5cefefb56d199d92e68b3c9b715b98", "message": "Simply enable tailing logs from container no mater it's in CI or not", "committedDate": "2020-03-26T06:55:39Z", "type": "commit"}, {"oid": "7945c98f25d80a6e04c0ac50f15704378923513f", "url": "https://github.com/apache/skywalking/commit/7945c98f25d80a6e04c0ac50f15704378923513f", "message": "Fix segment table issue.", "committedDate": "2020-03-26T07:35:58Z", "type": "commit"}, {"oid": "7af8f1a922c6ac33d1e6b0873ccbe395ef9bdd13", "url": "https://github.com/apache/skywalking/commit/7af8f1a922c6ac33d1e6b0873ccbe395ef9bdd13", "message": "Fix MySQL Instanller.", "committedDate": "2020-03-26T08:37:25Z", "type": "commit"}, {"oid": "c1a60040f2720212b8f278576d425407d5d5d988", "url": "https://github.com/apache/skywalking/commit/c1a60040f2720212b8f278576d425407d5d5d988", "message": "Support Influxdb implementation of new endpoint traffic.", "committedDate": "2020-03-26T12:42:39Z", "type": "commit"}, {"oid": "aec1d9a0ec6a9d557b9daad5f7af97c75d3a6880", "url": "https://github.com/apache/skywalking/commit/aec1d9a0ec6a9d557b9daad5f7af97c75d3a6880", "message": "Merge branch 'master' into remove-endpoint-register", "committedDate": "2020-03-26T12:43:36Z", "type": "commit"}, {"oid": "aee87e32829ea084ed56fdc2792cc44ce266a5da", "url": "https://github.com/apache/skywalking/commit/aee87e32829ea084ed56fdc2792cc44ce266a5da", "message": "Set and modify timeout to 90mins", "committedDate": "2020-03-26T13:01:00Z", "type": "commit"}, {"oid": "8ca249199325eb824a18ba0f56d74d0def7bb219", "url": "https://github.com/apache/skywalking/commit/8ca249199325eb824a18ba0f56d74d0def7bb219", "message": "Remove unnecessary entity in the EndpointTraffic.", "committedDate": "2020-03-26T15:00:08Z", "type": "commit"}, {"oid": "97f98356e0f26fbc767106950961b1150607d911", "url": "https://github.com/apache/skywalking/commit/97f98356e0f26fbc767106950961b1150607d911", "message": "Fix wrong entity builder and make name more clear.", "committedDate": "2020-03-26T15:30:48Z", "type": "commit"}, {"oid": "c376daa7815580462c4644d80c04d0744030693d", "url": "https://github.com/apache/skywalking/commit/c376daa7815580462c4644d80c04d0744030693d", "message": "Merge branch 'master' into remove-endpoint-register", "committedDate": "2020-03-26T23:39:22Z", "type": "commit"}, {"oid": "fac4615216ed731c8adaec7e4d32f0d921764d51", "url": "https://github.com/apache/skywalking/commit/fac4615216ed731c8adaec7e4d32f0d921764d51", "message": "Fix 2 equal methods bug.", "committedDate": "2020-03-27T00:45:14Z", "type": "commit"}, {"oid": "c08f7d7dcc3a10beeda78f3995f2b197e2e4b006", "url": "https://github.com/apache/skywalking/commit/c08f7d7dcc3a10beeda78f3995f2b197e2e4b006", "message": "Fix InfluxDB identifier(name) conflict issue.", "committedDate": "2020-03-27T05:25:12Z", "type": "commit"}, {"oid": "2330179482f372e81ff4a01db8bd79a69d3ce17a", "url": "https://github.com/apache/skywalking/commit/2330179482f372e81ff4a01db8bd79a69d3ce17a", "message": "Fix endpoint topology query, endpoint id should be changed as a string.", "committedDate": "2020-03-27T05:27:36Z", "type": "commit"}, {"oid": "a4160e2c1fa43e1eb601efb978b6c1fb6e425f73", "url": "https://github.com/apache/skywalking/commit/a4160e2c1fa43e1eb601efb978b6c1fb6e425f73", "message": "Fix a missing change.", "committedDate": "2020-03-27T05:44:25Z", "type": "commit"}, {"oid": "906cd37e1a155987bf7b250a2ba8d8167f8ea6ba", "url": "https://github.com/apache/skywalking/commit/906cd37e1a155987bf7b250a2ba8d8167f8ea6ba", "message": "Fix a wrong commit.", "committedDate": "2020-03-27T05:53:16Z", "type": "commit"}, {"oid": "a660ee3c9744a52ec647a32798ce682a4da948df", "url": "https://github.com/apache/skywalking/commit/a660ee3c9744a52ec647a32798ce682a4da948df", "message": "Column name can't be changed, due to it affect the hybrid metadb(h2/mysql) query, change it explicitly with double quotation marks.", "committedDate": "2020-03-27T06:23:27Z", "type": "commit"}, {"oid": "42587752db76caf7a6e1a805938fe8df1fe03c23", "url": "https://github.com/apache/skywalking/commit/42587752db76caf7a6e1a805938fe8df1fe03c23", "message": "Fix formats.", "committedDate": "2020-03-27T06:32:17Z", "type": "commit"}, {"oid": "213cb02f86204c0ce3c69a699b2661559fccf9a7", "url": "https://github.com/apache/skywalking/commit/213cb02f86204c0ce3c69a699b2661559fccf9a7", "message": "Merge branch 'master' into remove-endpoint-register", "committedDate": "2020-03-27T06:56:12Z", "type": "commit"}, {"oid": "92aad8c989e11836ff3d96e85bccaf45a8ae4536", "url": "https://github.com/apache/skywalking/commit/92aad8c989e11836ff3d96e85bccaf45a8ae4536", "message": "Remove endpoint/operation register from the agent. and change the plugin tests(without local tests). operationId relation codes have been removed from agent too.", "committedDate": "2020-03-27T07:48:37Z", "type": "commit"}, {"oid": "09f0a744496e05049df531e99423fb249c5bfa44", "url": "https://github.com/apache/skywalking/commit/09f0a744496e05049df531e99423fb249c5bfa44", "message": "Try to fix the hytrix case.", "committedDate": "2020-03-27T08:11:51Z", "type": "commit"}, {"oid": "e29a4fdc7bf191ca68719c953eba814a27aed4eb", "url": "https://github.com/apache/skywalking/commit/e29a4fdc7bf191ca68719c953eba814a27aed4eb", "message": "Fix 3 cases.", "committedDate": "2020-03-27T08:42:06Z", "type": "commit"}, {"oid": "e93f3bd2555c8abdd61925c4419419f4a3adca21", "url": "https://github.com/apache/skywalking/commit/e93f3bd2555c8abdd61925c4419419f4a3adca21", "message": "Try to fix cases.", "committedDate": "2020-03-27T09:04:06Z", "type": "commit"}, {"oid": "261a8b50a31282095ba868fa33c371182a27af72", "url": "https://github.com/apache/skywalking/commit/261a8b50a31282095ba868fa33c371182a27af72", "message": "Fix 2.", "committedDate": "2020-03-27T09:29:21Z", "type": "commit"}, {"oid": "695544c6e923b1077b3e8cb5cf7f81d1ebc0f74b", "url": "https://github.com/apache/skywalking/commit/695544c6e923b1077b3e8cb5cf7f81d1ebc0f74b", "message": "Fix one.", "committedDate": "2020-03-27T09:56:35Z", "type": "commit"}, {"oid": "c9736ba940761ed9430a588b148f54f1bf04cd8d", "url": "https://github.com/apache/skywalking/commit/c9736ba940761ed9430a588b148f54f1bf04cd8d", "message": "Fix the serviceId type mis-change.", "committedDate": "2020-03-27T13:51:17Z", "type": "commit"}, {"oid": "89e4bce142812b578e71d086662a21690265b113", "url": "https://github.com/apache/skywalking/commit/89e4bce142812b578e71d086662a21690265b113", "message": "Fix int query", "committedDate": "2020-03-27T14:43:28Z", "type": "commit"}, {"oid": "482f842531864311bf952e9e627aff6290cb5304", "url": "https://github.com/apache/skywalking/commit/482f842531864311bf952e9e627aff6290cb5304", "message": "Fix hystrix case.", "committedDate": "2020-03-27T14:46:12Z", "type": "commit"}, {"oid": "272ef5a3218fbb7ab46c45bba7da4a14b0f010f1", "url": "https://github.com/apache/skywalking/commit/272ef5a3218fbb7ab46c45bba7da4a14b0f010f1", "message": "Fix a case.", "committedDate": "2020-03-27T15:10:56Z", "type": "commit"}, {"oid": "5dfb9b7309ff38533f7602d7bc55ab0a4761b919", "url": "https://github.com/apache/skywalking/commit/5dfb9b7309ff38533f7602d7bc55ab0a4761b919", "message": "Fix EndpointCallRelationDispatcher set the source/dest endpoint without id encoding.", "committedDate": "2020-03-27T15:45:31Z", "type": "commit"}, {"oid": "3723c3befe84caf8a14e463dea74b2acca663507", "url": "https://github.com/apache/skywalking/commit/3723c3befe84caf8a14e463dea74b2acca663507", "message": "Merge branch 'master' into remove-endpoint-register", "committedDate": "2020-03-27T22:35:57Z", "type": "commit"}, {"oid": "7abb1326f0c1ea5bbc919308958af27cf962335f", "url": "https://github.com/apache/skywalking/commit/7abb1326f0c1ea5bbc919308958af27cf962335f", "message": "Merge branch 'master' into remove-endpoint-register", "committedDate": "2020-03-28T01:14:06Z", "type": "commit"}, {"oid": "bfe303918e0744927836637edd2f2eaa100fdf63", "url": "https://github.com/apache/skywalking/commit/bfe303918e0744927836637edd2f2eaa100fdf63", "message": "Merge branch 'master' into remove-endpoint-register", "committedDate": "2020-03-28T06:40:04Z", "type": "commit"}, {"oid": "06d30f15564f2326f7435fa1701371e1c769002d", "url": "https://github.com/apache/skywalking/commit/06d30f15564f2326f7435fa1701371e1c769002d", "message": "Update documentation and add 2 test cases.", "committedDate": "2020-03-28T06:41:51Z", "type": "commit"}]}