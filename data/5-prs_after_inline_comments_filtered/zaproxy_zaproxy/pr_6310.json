{"pr_number": 6310, "pr_title": "CustomPages: Add core isSuccess Method(s)", "pr_createdAt": "2020-11-19T10:40:28Z", "pr_url": "https://github.com/zaproxy/zaproxy/pull/6310", "timeline": [{"oid": "46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e", "url": "https://github.com/zaproxy/zaproxy/commit/46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-11-19T10:41:00Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjc3NDI3Ng==", "url": "https://github.com/zaproxy/zaproxy/pull/6310#discussion_r526774276", "bodyText": "Remove?", "author": "thc202", "createdAt": "2020-11-19T11:02:33Z", "path": "zap/src/main/java/org/zaproxy/zap/extension/pscan/PassiveScanData.java", "diffHunk": "@@ -247,8 +247,31 @@ public boolean isPageOther(HttpMessage msg) {\n     }\n \n     /**\n-     * Tells whether or not the response has a status code between 400 and 499 (inclusive). Falls\n-     * back to check {@code CustomPage.Type.NOTFOUND_404}. Checks if the message matches {@code\n+     * Tells whether or not the response has a status code between 200 and 299 (inclusive), or\n+     * {@code CustomPage.Type.OK_200}. Checks if the message matches {@code\n+     * CustomPage.Type.NOTFOUND_404} or {@code CusotmPage.Type.ERROR_500} first, in case the user is\n+     * trying to override something.\n+     *\n+     * @param msg the message that will be checked\n+     * @return {@code true} if the message matches, {@code false} otherwise\n+     * @since TODO Add version\n+     */\n+    public boolean isSuccess(HttpMessage msg) {\n+        if (isCustomPage(msg, CustomPage.Type.NOTFOUND_404)\n+                || isCustomPage(msg, CustomPage.Type.ERROR_500)) {\n+            return false;\n+        }\n+        if (isCustomPage(msg, CustomPage.Type.OK_200)) {\n+            return true;\n+        }\n+        return HttpStatusCode.isSuccess(\n+                msg.getResponseHeader()\n+                        .getStatusCode()); // TODO JavaDoc and dbl check then UnitTests.", "originalCommit": "46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjc3NTM2Mw==", "url": "https://github.com/zaproxy/zaproxy/pull/6310#discussion_r526775363", "bodyText": "Thanks, was a placeholder when I had to walk away at one point.", "author": "kingthorin", "createdAt": "2020-11-19T11:04:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjc3NDI3Ng=="}], "type": "inlineReview"}, {"oid": "70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "url": "https://github.com/zaproxy/zaproxy/commit/70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-11-19T11:05:53Z", "type": "commit"}, {"oid": "70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "url": "https://github.com/zaproxy/zaproxy/commit/70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>", "committedDate": "2020-11-19T11:05:53Z", "type": "forcePushed"}]}