{"pr_number": 6278, "pr_title": "Add Alert reference field", "pr_createdAt": "2020-11-03T13:51:48Z", "pr_url": "https://github.com/zaproxy/zaproxy/pull/6278", "timeline": [{"oid": "86481c3d37da04501068ff2b4fcc70313484dded", "url": "https://github.com/zaproxy/zaproxy/commit/86481c3d37da04501068ff2b4fcc70313484dded", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>", "committedDate": "2020-11-03T14:06:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNjkzMA==", "url": "https://github.com/zaproxy/zaproxy/pull/6278#discussion_r516706930", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * one type of alert but they should all have different alert references.\n          \n          \n            \n                 * one type of alert and they should all have different alert references.", "author": "kingthorin", "createdAt": "2020-11-03T14:28:51Z", "path": "zap/src/main/java/org/parosproxy/paros/core/scanner/Alert.java", "diffHunk": "@@ -921,6 +942,49 @@ public void setSource(Source source) {\n         this.source = source;\n     }\n \n+    /**\n+     * Gets the alert reference.\n+     *\n+     * <p>This is a unique identifier for the type of alert raised. A scan rule may raise more that\n+     * one type of alert but they should all have different alert references.", "originalCommit": "86481c3d37da04501068ff2b4fcc70313484dded", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjczNDE0OA==", "url": "https://github.com/zaproxy/zaproxy/pull/6278#discussion_r516734148", "bodyText": "Done.", "author": "psiinon", "createdAt": "2020-11-03T15:03:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNjkzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxNDM5MA==", "url": "https://github.com/zaproxy/zaproxy/pull/6278#discussion_r516714390", "bodyText": "Should we also update the core reporting? (Or separate issue/PR?)", "author": "kingthorin", "createdAt": "2020-11-03T14:37:49Z", "path": "zap/src/main/java/org/zaproxy/zap/extension/alert/AlertAPI.java", "diffHunk": "@@ -474,6 +474,7 @@ private void processAlerts(\n         Map<String, String> map = new HashMap<>();\n         map.put(\"id\", String.valueOf(alert.getAlertId()));\n         map.put(\"pluginId\", String.valueOf(alert.getPluginId()));\n+        map.put(\"alertRef\", alert.getAlertRef());", "originalCommit": "86481c3d37da04501068ff2b4fcc70313484dded", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjczMDYwOQ==", "url": "https://github.com/zaproxy/zaproxy/pull/6278#discussion_r516730609", "bodyText": "Doh, forgot about those, will add to this PR...", "author": "psiinon", "createdAt": "2020-11-03T14:58:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxNDM5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjczMzM5OA==", "url": "https://github.com/zaproxy/zaproxy/pull/6278#discussion_r516733398", "bodyText": "Ha! No need - they now call the alert API endpoints so they dont need to change.", "author": "psiinon", "createdAt": "2020-11-03T15:02:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxNDM5MA=="}], "type": "inlineReview"}, {"oid": "099b8d7c7e6df4e69c8e561d631b3e57f92ce9ec", "url": "https://github.com/zaproxy/zaproxy/commit/099b8d7c7e6df4e69c8e561d631b3e57f92ce9ec", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>", "committedDate": "2020-11-03T15:03:24Z", "type": "forcePushed"}, {"oid": "4ff76362592fd173b54bbba512eedb6db24c2900", "url": "https://github.com/zaproxy/zaproxy/commit/4ff76362592fd173b54bbba512eedb6db24c2900", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>", "committedDate": "2020-11-03T16:17:28Z", "type": "forcePushed"}, {"oid": "90ede663b0d97ca06c3e6dc90f542c3912a2e348", "url": "https://github.com/zaproxy/zaproxy/commit/90ede663b0d97ca06c3e6dc90f542c3912a2e348", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>", "committedDate": "2020-11-03T16:33:03Z", "type": "commit"}, {"oid": "90ede663b0d97ca06c3e6dc90f542c3912a2e348", "url": "https://github.com/zaproxy/zaproxy/commit/90ede663b0d97ca06c3e6dc90f542c3912a2e348", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>", "committedDate": "2020-11-03T16:33:03Z", "type": "forcePushed"}]}