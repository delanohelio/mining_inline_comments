{"pr_number": 5878, "pr_title": "Set RSyntaxTextArea dark mode if dark LookAndFeel used", "pr_createdAt": "2020-02-27T12:00:05Z", "pr_url": "https://github.com/zaproxy/zaproxy/pull/5878", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA4Mzk4OA==", "url": "https://github.com/zaproxy/zaproxy/pull/5878#discussion_r385083988", "bodyText": "Warn ? ZAP is still going to function fine right? (Just might not look the greatest)\nEdit maybe also move the theme application outside the try block? (Or add a conditional) no point trying to apply if there was an exception reading the file...", "author": "kingthorin", "createdAt": "2020-02-27T12:02:45Z", "path": "zap/src/main/java/org/zaproxy/zap/extension/httppanel/view/syntaxhighlight/HttpPanelSyntaxHighlightTextArea.java", "diffHunk": "@@ -129,6 +132,18 @@ public HttpPanelSyntaxHighlightTextArea() {\n         this.setFont(\n                 FontUtils.getFontWithFallback(FontType.workPanels, this.getFont().getFontName()));\n \n+        if (DisplayUtils.isDarkLookAndFeel()) {\n+            try {\n+                Theme theme =\n+                        Theme.load(\n+                                getClass()\n+                                        .getResourceAsStream(\n+                                                \"/org/fife/ui/rsyntaxtextarea/themes/dark.xml\"));\n+                theme.apply(this);\n+            } catch (IOException e) {\n+                log.error(\"Failed to set RSyntaxTextArea dark theme\", e);", "originalCommit": "9b98d88d36ba38165eb36b058c46891bc44f1d1e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA4OTAzMg==", "url": "https://github.com/zaproxy/zaproxy/pull/5878#discussion_r385089032", "bodyText": "I'm easy on warn vs error.\nBut I cant see the point of trying to load the theme unless we think we need to :)", "author": "psiinon", "createdAt": "2020-02-27T12:13:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA4Mzk4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTEwNDgzMg==", "url": "https://github.com/zaproxy/zaproxy/pull/5878#discussion_r385104832", "bodyText": "Agreed, so keep it inside if (DisplayUtils.isDarkLookAndFeel()) but outside the try block, so that there isn't an attempt to apply something that couldn't be read?", "author": "kingthorin", "createdAt": "2020-02-27T12:48:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTA4Mzk4OA=="}], "type": "inlineReview"}, {"oid": "56c0daffec5809b32937195b06a5e60fbd4afea8", "url": "https://github.com/zaproxy/zaproxy/commit/56c0daffec5809b32937195b06a5e60fbd4afea8", "message": "Set RSyntaxTextArea dark mode is dark LookAndFeel used\n\nPart of https://github.com/zaproxy/zaproxy/issues/5542\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>", "committedDate": "2020-02-27T13:26:53Z", "type": "commit"}, {"oid": "56c0daffec5809b32937195b06a5e60fbd4afea8", "url": "https://github.com/zaproxy/zaproxy/commit/56c0daffec5809b32937195b06a5e60fbd4afea8", "message": "Set RSyntaxTextArea dark mode is dark LookAndFeel used\n\nPart of https://github.com/zaproxy/zaproxy/issues/5542\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>", "committedDate": "2020-02-27T13:26:53Z", "type": "forcePushed"}]}