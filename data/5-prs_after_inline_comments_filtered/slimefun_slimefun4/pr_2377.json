{"pr_number": 2377, "pr_title": "Cartography Table fix", "pr_createdAt": "2020-10-01T17:33:50Z", "pr_url": "https://github.com/Slimefun/Slimefun4/pull/2377", "timeline": [{"oid": "30603d9bf5bd3cd13d7377123b4814e6ead44e81", "url": "https://github.com/Slimefun/Slimefun4/commit/30603d9bf5bd3cd13d7377123b4814e6ead44e81", "message": "Added an EventHandler for Cartography Table", "committedDate": "2020-10-01T17:12:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1NzQzMw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r498457433", "bodyText": "I think this is a bit too long of an if statement.", "author": "LinoxGH", "createdAt": "2020-10-01T19:06:24Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,19 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        if (e.getRawSlot() == 2 && e.getInventory().getType() == InventoryType.CARTOGRAPHY && e.getWhoClicked() instanceof Player) {", "originalCommit": "30603d9bf5bd3cd13d7377123b4814e6ead44e81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "76bc9b119222b9682d5525ec3336c2c0d0116c41", "url": "https://github.com/Slimefun/Slimefun4/commit/76bc9b119222b9682d5525ec3336c2c0d0116c41", "message": "Fixed capitalization", "committedDate": "2020-10-01T19:25:56Z", "type": "commit"}, {"oid": "93fc7ff3abef8c83a7a1627481ad2402a12e6927", "url": "https://github.com/Slimefun/Slimefun4/commit/93fc7ff3abef8c83a7a1627481ad2402a12e6927", "message": "Formatting", "committedDate": "2020-10-01T20:13:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODU0NTI1MA==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r498545250", "bodyText": "The Cartography table doesn't exist in 1.13 I think, so this will require a version check here", "author": "TheBusyBiscuit", "createdAt": "2020-10-01T22:35:42Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,20 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        if (e.getRawSlot() == 2 && e.getInventory().getType() == InventoryType.CARTOGRAPHY", "originalCommit": "93fc7ff3abef8c83a7a1627481ad2402a12e6927", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "59c1683295dee603e0cb6158cc9d2cf44ae929ff", "url": "https://github.com/Slimefun/Slimefun4/commit/59c1683295dee603e0cb6158cc9d2cf44ae929ff", "message": "Added version check", "committedDate": "2020-10-02T12:38:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MzY2OQ==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499173669", "bodyText": "You should probably format it like it was done with the Grindstone here:\nhttps://github.com/Slimefun/Slimefun4/pull/2377/files#diff-1d5c31c48a96cc8f0cfae3f72789abd9R43-R47\nBecause I think a comment explaining why we abort on earlier versions is important to keep there.", "author": "TheBusyBiscuit", "createdAt": "2020-10-03T19:06:13Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,20 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        if (SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_14) && e.getRawSlot() == 2", "originalCommit": "59c1683295dee603e0cb6158cc9d2cf44ae929ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MzkyMg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499173922", "bodyText": "Okay", "author": "poma123", "createdAt": "2020-10-03T19:10:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MzY2OQ=="}], "type": "inlineReview"}, {"oid": "cb97a89f9837307371d5e899a9cc5ecb06237399", "url": "https://github.com/Slimefun/Slimefun4/commit/cb97a89f9837307371d5e899a9cc5ecb06237399", "message": "Added a separate version check", "committedDate": "2020-10-03T19:12:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDE2Nw==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499174167", "bodyText": "Why do you create a variable here? This just creates an unnecessary memory heap for gc to clean.", "author": "LinoxGH", "createdAt": "2020-10-03T19:13:19Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,25 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        // The Cartography Table was only ever added in MC 1.14\n+        MinecraftVersion minecraftVersion = SlimefunPlugin.getMinecraftVersion();", "originalCommit": "cb97a89f9837307371d5e899a9cc5ecb06237399", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDU1Mg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499174552", "bodyText": "There you go.", "author": "poma123", "createdAt": "2020-10-03T19:19:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDE2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3NDMxMg==", "url": "https://github.com/Slimefun/Slimefun4/pull/2377#discussion_r499174312", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    MinecraftVersion minecraftVersion = SlimefunPlugin.getMinecraftVersion();\n          \n          \n            \n                    if (!minecraftVersion.isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {\n          \n          \n            \n                    if (!SlimefunPlugin.getMinecraftVersion().isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {\n          \n      \n    \n    \n  \n\nThis should suffice.", "author": "LinoxGH", "createdAt": "2020-10-03T19:15:16Z", "path": "src/main/java/io/github/thebusybiscuit/slimefun4/implementation/listeners/VanillaMachinesListener.java", "diffHunk": "@@ -97,6 +97,25 @@ public void onAnvil(InventoryClickEvent e) {\n         }\n     }\n \n+    @EventHandler(ignoreCancelled = true)\n+    public void onCartographyTable(InventoryClickEvent e) {\n+        // The Cartography Table was only ever added in MC 1.14\n+        MinecraftVersion minecraftVersion = SlimefunPlugin.getMinecraftVersion();\n+        if (!minecraftVersion.isAtLeast(MinecraftVersion.MINECRAFT_1_14)) {", "originalCommit": "cb97a89f9837307371d5e899a9cc5ecb06237399", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b1a07c033755fcd661fb73e2df31834e7d8c1814", "url": "https://github.com/Slimefun/Slimefun4/commit/b1a07c033755fcd661fb73e2df31834e7d8c1814", "message": "Minor improvements", "committedDate": "2020-10-03T19:18:36Z", "type": "commit"}]}