{"pr_number": 6519, "pr_title": "Enhancing activity list", "pr_createdAt": "2020-07-23T11:27:42Z", "pr_url": "https://github.com/nextcloud/android/pull/6519", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQyODUwMw==", "url": "https://github.com/nextcloud/android/pull/6519#discussion_r459428503", "bodyText": "why the break?", "author": "AndyScherzinger", "createdAt": "2020-07-23T12:58:28Z", "path": "src/main/java/com/owncloud/android/ui/adapter/ActivityListAdapter.java", "diffHunk": "@@ -256,23 +259,34 @@ public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int positi\n         }\n     }\n \n-    private ImageView createThumbnailNew(PreviewObject previewObject) {\n+    private ImageView createThumbnailNew(PreviewObject previewObject, ArrayList<RichObject> richObjectList) {\n         LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(px, px);\n         params.setMargins(10, 10, 10, 10);\n         ImageView imageView = new ImageView(context);\n         imageView.setLayoutParams(params);\n \n+        for (RichObject object : richObjectList) {\n+            if (Integer.parseInt(object.getId()) == previewObject.getFileId()) {\n+                imageView.setOnClickListener(v -> activityListInterface.onActivityClicked(object));\n+                break;", "originalCommit": "8f64065d565ad57fe0643098f0c72e8ef428f6ac", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTkyMTgxMg==", "url": "https://github.com/nextcloud/android/pull/6519#discussion_r459921812", "bodyText": "https://github.com/nextcloud/activity/blob/master/docs/endpoint-v2.md#example\nWe are using the PreviewObject, which does not contain the remote path.\nSo we cannot handle click operation with only this info. (to open a file we currently need the remote path. We could of course also write a function that retrieves first the remote path for a given file from server and use this then).\nAs this info is already in subject_rich  list, we search for matching info. As there is no direct relation between those (not via index), we need to use fileID and compare it with id.\nAs there can only be one match, we can do a break, if we found this.\ncreateThumbnailNew(\u2026) creates then one ImageView with corresponding click listener.\nFor next preview object creatThumbnailNew(\u2026) will be called again and thus do the same.", "author": "tobiasKaminsky", "createdAt": "2020-07-24T08:34:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQyODUwMw=="}], "type": "inlineReview"}, {"oid": "656b3b904e7c898748b49869c8adc9e75b3cab69", "url": "https://github.com/nextcloud/android/commit/656b3b904e7c898748b49869c8adc9e75b3cab69", "message": "Activity list:\n- show correct placeholder\n- click on preview open file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-23T15:08:43Z", "type": "forcePushed"}, {"oid": "681263cc7faf3d689749727dbabd96304ef5b45b", "url": "https://github.com/nextcloud/android/commit/681263cc7faf3d689749727dbabd96304ef5b45b", "message": "Activity list:\n- show correct placeholder\n- click on preview open file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-24T10:43:46Z", "type": "commit"}, {"oid": "681263cc7faf3d689749727dbabd96304ef5b45b", "url": "https://github.com/nextcloud/android/commit/681263cc7faf3d689749727dbabd96304ef5b45b", "message": "Activity list:\n- show correct placeholder\n- click on preview open file\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>", "committedDate": "2020-07-24T10:43:46Z", "type": "forcePushed"}]}