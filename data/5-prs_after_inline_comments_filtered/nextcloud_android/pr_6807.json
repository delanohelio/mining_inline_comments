{"pr_number": 6807, "pr_title": "Fix insert image file picker only opens once", "pr_createdAt": "2020-08-25T19:51:50Z", "pr_url": "https://github.com/nextcloud/android/pull/6807", "timeline": [{"oid": "e37635e602dfeb40207d4eaa81b3563d63119479", "url": "https://github.com/nextcloud/android/commit/e37635e602dfeb40207d4eaa81b3563d63119479", "message": "Fix insert image file picker only opens once\n\nWhen no image is selected from the intent we should set onReceiveValue to null and uploadMessage to null otherwise it does not open after closing it without selecting an image.", "committedDate": "2020-08-25T19:51:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwMDU1NQ==", "url": "https://github.com/nextcloud/android/pull/6807#discussion_r476700555", "bodyText": "Codacy found an issue: Assigning an Object to null is a code smell.  Consider refactoring.", "author": "nextcloud-android-bot", "createdAt": "2020-08-25T19:55:01Z", "path": "src/main/java/com/owncloud/android/ui/activity/RichDocumentsEditorWebView.java", "diffHunk": "@@ -144,7 +144,10 @@ private void openFileChooser() {\n     @Override\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n         if (RESULT_OK != resultCode) {\n-            // TODO\n+            if (requestCode == REQUEST_LOCAL_FILE) {\n+                this.uploadMessage.onReceiveValue(null);\n+                this.uploadMessage = null;", "originalCommit": "e37635e602dfeb40207d4eaa81b3563d63119479", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}