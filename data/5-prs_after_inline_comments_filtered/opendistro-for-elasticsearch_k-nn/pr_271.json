{"pr_number": 271, "pr_title": "k-NN plugin support for Elasticsearch version 7.10.0", "pr_createdAt": "2020-11-25T07:43:23Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271", "timeline": [{"oid": "7f8484aa004a07e17d40cb21b4fa4e2de18a9ee0", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/7f8484aa004a07e17d40cb21b4fa4e2de18a9ee0", "message": "odfe 1.12 support", "committedDate": "2020-11-24T08:05:15Z", "type": "commit"}, {"oid": "aca4be0fefd6e06a54474e5474ef255295501772", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/aca4be0fefd6e06a54474e5474ef255295501772", "message": "odfe 1.12 support", "committedDate": "2020-11-25T07:41:32Z", "type": "commit"}, {"oid": "055ff681b08209331ea0389f4421b1e599984e17", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/055ff681b08209331ea0389f4421b1e599984e17", "message": "odfe 1.12 support", "committedDate": "2020-11-25T07:45:25Z", "type": "commit"}, {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/89b74d3e6f08131f2c8be0214f5ca660cf8280cd", "message": "odfe 1.12 support", "committedDate": "2020-11-25T08:00:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTAwNA==", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530589004", "bodyText": "if o is null, then i don't think we can assign null to value since it is primitive.", "author": "VijayanB", "createdAt": "2020-11-25T19:06:06Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -78,9 +79,9 @@ private static KNNVectorFieldMapper toType(FieldMapper in) {\n                 m -> toType(m).stored, false);\n         private final Parameter<Boolean> hasDocValues = Parameter.boolParam(\"doc_values\", false,\n                 m -> toType(m).hasDocValues,  true);\n-        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, -1,\n-                (n, o) -> {\n-                            int value = XContentMapValues.nodeIntegerValue(o);\n+        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, () -> -1,\n+                (n, c, o) -> {\n+                            int value = (o == null ? null : XContentMapValues.nodeIntegerValue(o));", "originalCommit": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYwMDMzNg==", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530600336", "bodyText": "Good catch. Fixed.", "author": "vamshin", "createdAt": "2020-11-25T19:30:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTAwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTc4MA==", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530589780", "bodyText": "Copyright 2020", "author": "VijayanB", "createdAt": "2020-11-25T19:07:51Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/codec/KNN87Codec/KNN87Codec.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.", "originalCommit": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYwMDQxMg==", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530600412", "bodyText": "Fixed. Thanks", "author": "vamshin", "createdAt": "2020-11-25T19:30:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTc4MA=="}], "type": "inlineReview"}, {"oid": "644225323e48569e01775a2b9fb74230ac45bba5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/644225323e48569e01775a2b9fb74230ac45bba5", "message": "odfe 1.12 support", "committedDate": "2020-11-25T19:30:15Z", "type": "commit"}]}