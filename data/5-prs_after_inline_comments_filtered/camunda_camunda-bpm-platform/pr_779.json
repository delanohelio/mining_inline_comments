{"pr_number": 779, "pr_title": "CAM-11492 : topic-names-rest-api", "pr_createdAt": "2020-04-09T19:28:11Z", "pr_url": "https://github.com/camunda/camunda-bpm-platform/pull/779", "timeline": [{"oid": "010fc9daf888ec9dbd9f010415b5b34f701f3d5b", "url": "https://github.com/camunda/camunda-bpm-platform/commit/010fc9daf888ec9dbd9f010415b5b34f701f3d5b", "message": "\"feat(api): get list of topic names\"", "committedDate": "2020-04-10T17:25:28Z", "type": "forcePushed"}, {"oid": "68324147a5d70dbf815cb9660c9b91567b5118b5", "url": "https://github.com/camunda/camunda-bpm-platform/commit/68324147a5d70dbf815cb9660c9b91567b5118b5", "message": "\"feat(api): get list of topic names\"", "committedDate": "2020-04-10T17:53:30Z", "type": "forcePushed"}, {"oid": "db03587d3da2d787ab4c202c9d71fa08341a5772", "url": "https://github.com/camunda/camunda-bpm-platform/commit/db03587d3da2d787ab4c202c9d71fa08341a5772", "message": "\"feat(api): get list of topic names\"", "committedDate": "2020-04-13T15:47:29Z", "type": "forcePushed"}, {"oid": "d2fce28d24d5259553926af8b774c7ae7b9a43ff", "url": "https://github.com/camunda/camunda-bpm-platform/commit/d2fce28d24d5259553926af8b774c7ae7b9a43ff", "message": "\"feat(api): get list of topic names\"", "committedDate": "2020-04-13T15:49:12Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM0NzI5Ng==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#discussion_r411347296", "bodyText": "Let's use a dedicated DTO instead of List<String> to remain consistent with all other existing REST API endpoints:\n\nIntroduce a new DTO class (e. g. ExternalTaskTopicNameDto) located under org.camunda.bpm.engine.rest.dto.externaltask\n\nThe class should have the attribute topicName of type String\nIntroduce a getter & setter for the attribute\n\n\nConvert the list of strings to a list of ExternalTaskTopicNameDtos\nChange the method signature to return List<ExternalTaskTopicNameDto>", "author": "tasso94", "createdAt": "2020-04-20T12:45:24Z", "path": "engine-rest/engine-rest/src/main/java/org/camunda/bpm/engine/rest/ExternalTaskRestService.java", "diffHunk": "@@ -91,4 +91,11 @@\n   @Produces(MediaType.APPLICATION_JSON)\n   BatchDto setRetriesAsync(SetRetriesForExternalTasksDto retriesDto);\n \n+  @GET\n+  @Path(\"/topic-names\")\n+  @Produces(MediaType.APPLICATION_JSON)\n+  List<String> getTopicNames(@QueryParam(\"withLockedTasks\") boolean withLockedTasks,", "originalCommit": "d2fce28d24d5259553926af8b774c7ae7b9a43ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM1Njk1Mw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#discussion_r411356953", "bodyText": "@tasso94, do we really want that indirection in the response?\nRight now the response would look like this: [ \"foo\", \"bar\", ...] (basically, a flat list of topic names)\nWith the requested change, we would introduce another indirection which results in such a response:\n[\n { \"topicName\": \"foo\" },\n { \"topicName\": \"bar\" },\n { \"topicName\": ... }\n]\n\nAs a user, I need to resolve that indirection in my code.", "author": "romansmirnov", "createdAt": "2020-04-20T13:00:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM0NzI5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM2MjQyNw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#discussion_r411362427", "bodyText": "I agree with you: a flat list is nicer to handle. However, this would be the very first endpoint where we introduce such a flat list. For instance, the process engine endpoint has this indirection as well: https://docs.camunda.org/manual/7.12/reference/rest/engine/get-names/", "author": "tasso94", "createdAt": "2020-04-20T13:08:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM0NzI5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ1ODU1OA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/779#discussion_r411458558", "bodyText": "Let's keep it as is since it's easier for users.", "author": "tasso94", "createdAt": "2020-04-20T15:11:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM0NzI5Ng=="}], "type": "inlineReview"}, {"oid": "3b690ab48d50d94a7ea1ff3626791b19e76fd0f1", "url": "https://github.com/camunda/camunda-bpm-platform/commit/3b690ab48d50d94a7ea1ff3626791b19e76fd0f1", "message": "\"feat(api): get list of topic names\"", "committedDate": "2020-04-20T17:26:54Z", "type": "forcePushed"}, {"oid": "5b604500d25649c1981da84d28135bf0305d19ca", "url": "https://github.com/camunda/camunda-bpm-platform/commit/5b604500d25649c1981da84d28135bf0305d19ca", "message": "\"feat(api): get list of topic names\"", "committedDate": "2020-04-20T17:29:13Z", "type": "forcePushed"}, {"oid": "4ee08ff0497e4b4f7a2f05339b81ff3727a0ce33", "url": "https://github.com/camunda/camunda-bpm-platform/commit/4ee08ff0497e4b4f7a2f05339b81ff3727a0ce33", "message": "feat(api): get list of topic names\n\nrelated to CAM-11492", "committedDate": "2020-04-27T14:25:47Z", "type": "forcePushed"}, {"oid": "9343c1befb779589cde087c6ca2cffa9bfcb5c31", "url": "https://github.com/camunda/camunda-bpm-platform/commit/9343c1befb779589cde087c6ca2cffa9bfcb5c31", "message": "feat(engine/rest): add endpoint to get list of topic names\n\nCo-authored-by: Emma Pollum <emma.pollum@camunda.com>\nCo-authored-by: Yana Vasileva <yana.vasileva@camunda.com>\nCo-authored-by: Tassilo Weidner <tassilo.weidner@camunda.com>\n\nrelated to CAM-11492", "committedDate": "2020-04-27T15:45:16Z", "type": "forcePushed"}, {"oid": "cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "url": "https://github.com/camunda/camunda-bpm-platform/commit/cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "message": "feat(engine/rest): add endpoint to get list of topic names\n\nCo-authored-by: Emma Pollum <emma.pollum@camunda.com>\nCo-authored-by: Yana Vasileva <yana.vasileva@camunda.com>\nCo-authored-by: Tassilo Weidner <tassilo.weidner@camunda.com>\n\nrelated to CAM-11492", "committedDate": "2020-04-28T05:54:04Z", "type": "commit"}, {"oid": "cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "url": "https://github.com/camunda/camunda-bpm-platform/commit/cbf6a2d4d83e4df7f56760c0a00590b5b1313d0e", "message": "feat(engine/rest): add endpoint to get list of topic names\n\nCo-authored-by: Emma Pollum <emma.pollum@camunda.com>\nCo-authored-by: Yana Vasileva <yana.vasileva@camunda.com>\nCo-authored-by: Tassilo Weidner <tassilo.weidner@camunda.com>\n\nrelated to CAM-11492", "committedDate": "2020-04-28T05:54:04Z", "type": "forcePushed"}]}