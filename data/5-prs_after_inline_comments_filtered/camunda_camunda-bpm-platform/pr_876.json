{"pr_number": 876, "pr_title": "Engine: Add user data rule to password policy ", "pr_createdAt": "2020-06-30T12:21:40Z", "pr_url": "https://github.com/camunda/camunda-bpm-platform/pull/876", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc2MDMyMQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r448760321", "bodyText": "The static import of this method is not used anymore, we should remove it.", "author": "mboskamp", "createdAt": "2020-07-02T05:42:24Z", "path": "engine/src/main/java/org/camunda/bpm/engine/impl/cmd/CreateGroupCmd.java", "diffHunk": "@@ -39,8 +39,6 @@ public CreateGroupCmd(String groupId) {\n   }\n   \n   protected Group executeCmd(CommandContext commandContext) {\n-    ensureWhitelistedResourceId(commandContext, \"Group\", groupId);", "originalCommit": "32718dbb09dac8118d603304e62d737af3ee8bc6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU3NTE3OQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r449575179", "bodyText": "\ud83d\udc4d", "author": "tasso94", "createdAt": "2020-07-03T13:08:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc2MDMyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc2MDM5Mw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r448760393", "bodyText": "The static import of this method is not used anymore, we should remove it.", "author": "mboskamp", "createdAt": "2020-07-02T05:42:42Z", "path": "engine/src/main/java/org/camunda/bpm/engine/impl/cmd/CreateTenantCmd.java", "diffHunk": "@@ -38,8 +38,6 @@ public CreateTenantCmd(String tenantId) {\n \n   @Override\n   protected Tenant executeCmd(CommandContext commandContext) {\n-    ensureWhitelistedResourceId(commandContext, \"Tenant\", tenantId);", "originalCommit": "32718dbb09dac8118d603304e62d737af3ee8bc6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU3NTIwOA==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r449575208", "bodyText": "\ud83d\udc4d", "author": "tasso94", "createdAt": "2020-07-03T13:08:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc2MDM5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc2MDQ1Mw==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r448760453", "bodyText": "The static import of this method is not used anymore, we should remove it.", "author": "mboskamp", "createdAt": "2020-07-02T05:42:56Z", "path": "engine/src/main/java/org/camunda/bpm/engine/impl/cmd/CreateUserCmd.java", "diffHunk": "@@ -39,8 +39,6 @@ public CreateUserCmd(String userId) {\n   }\n   \n   protected User executeCmd(CommandContext commandContext) {\n-    ensureWhitelistedResourceId(commandContext, \"User\", userId);", "originalCommit": "32718dbb09dac8118d603304e62d737af3ee8bc6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU3NTI1MQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r449575251", "bodyText": "\ud83d\udc4d", "author": "tasso94", "createdAt": "2020-07-03T13:08:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc2MDQ1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg1ODIzNQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r448858235", "bodyText": "I understand that the design decision was to not mark the method as deprecated via the @Deprecated annotation, as we are forced to support it nevertheless. I would challenge that by arguing that it does add the value of discouraging the use of the method while not forcing a user to switch necessarily. I think it would be good to use the annotation and explain in the javadocs, why it is discouraged to use it.\nOn another note, mentioning in the javadocs that it is deprecated does not add any additional value compared to using the annotation and might be even more confusing (It says the method is deprecated, but it is not).\nEither way, I think we should explain in which cases the it is fine to stick with the old (deprecated) method and when a user should not use it anymore (e.g. when using user data in a PasswordPolicyRule implementation).\nWe can discuss this if you like.", "author": "mboskamp", "createdAt": "2020-07-02T09:05:06Z", "path": "engine/src/main/java/org/camunda/bpm/engine/identity/PasswordPolicyRule.java", "diffHunk": "@@ -43,13 +45,38 @@\n   Map<String, String> getParameters();\n \n   /**\n+   * <p>\n+   *   <strong>\n+   *     DEPRECATED: Use {@link PasswordPolicyRule#execute(String, User)} instead!", "originalCommit": "32718dbb09dac8118d603304e62d737af3ee8bc6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU5MDA5MQ==", "url": "https://github.com/camunda/camunda-bpm-platform/pull/876#discussion_r449590091", "bodyText": "I agree that a Javadocs comment brings no value. However, I would still argue against the @Deprecated annotation since public API is never removed from Camunda BPM 7.x, and we guarantee that it continues to work in future minor and patch releases as initially designed. Under these given circumstances, deprecating the API method would just bother our users and brings no extra value.", "author": "tasso94", "createdAt": "2020-07-03T13:42:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg1ODIzNQ=="}], "type": "inlineReview"}, {"oid": "f83a3e1623b6f097421a12c70d6a646f2f6a42a9", "url": "https://github.com/camunda/camunda-bpm-platform/commit/f83a3e1623b6f097421a12c70d6a646f2f6a42a9", "message": "fix(engine): remove resource whitelist check on instantiation\n\nrelated to CAM-12087", "committedDate": "2020-07-03T13:45:31Z", "type": "commit"}, {"oid": "87c7734567930e60f4e70b78ebedfce213bc7df3", "url": "https://github.com/camunda/camunda-bpm-platform/commit/87c7734567930e60f4e70b78ebedfce213bc7df3", "message": "fix(engine): add user data rule to password policy\n\nrelated to CAM-12087", "committedDate": "2020-07-03T13:45:31Z", "type": "commit"}, {"oid": "87c7734567930e60f4e70b78ebedfce213bc7df3", "url": "https://github.com/camunda/camunda-bpm-platform/commit/87c7734567930e60f4e70b78ebedfce213bc7df3", "message": "fix(engine): add user data rule to password policy\n\nrelated to CAM-12087", "committedDate": "2020-07-03T13:45:31Z", "type": "forcePushed"}]}