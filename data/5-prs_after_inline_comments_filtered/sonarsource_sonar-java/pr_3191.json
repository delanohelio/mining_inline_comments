{"pr_number": 3191, "pr_title": "SONARJAVA-3492 S1215 should detect \"System.runFinalization()\" the sam\u2026", "pr_createdAt": "2020-09-17T17:01:26Z", "pr_url": "https://github.com/SonarSource/sonar-java/pull/3191", "timeline": [{"oid": "ff3a5bee711019387286689e5755128617cabde1", "url": "https://github.com/SonarSource/sonar-java/commit/ff3a5bee711019387286689e5755128617cabde1", "message": "SONARJAVA-3492 S1215 should detect \"System.runFinalization()\" the same way it detects System.gc()", "committedDate": "2020-09-17T17:15:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDgwMzMwOA==", "url": "https://github.com/SonarSource/sonar-java/pull/3191#discussion_r490803308", "bodyText": "You can use org.sonar.java.model.ExpressionUtils.methodName(mit) helper to obtain the identifier.", "author": "quentin-jaquier-sonarsource", "createdAt": "2020-09-18T08:57:20Z", "path": "java-checks/src/main/java/org/sonar/java/checks/GarbageCollectorCalledCheck.java", "diffHunk": "@@ -40,31 +44,9 @@\n   @Override\n   public void visitNode(Tree tree) {\n     MethodInvocationTree mit = (MethodInvocationTree) tree;\n-    if (mit.arguments().isEmpty() && mit.methodSelect().is(Tree.Kind.MEMBER_SELECT)) {\n-      MemberSelectExpressionTree mset = (MemberSelectExpressionTree) mit.methodSelect();\n-      if (isGarbageCollectorCall(mset)) {\n-        reportIssue(mset.identifier(), \"Don't try to be smarter than the JVM, remove this call to run the garbage collector.\");\n-      }\n+    if (GC_METHOD_MATCHER.matches(mit)) {\n+      MemberSelectExpressionTree methodSelect = (MemberSelectExpressionTree) mit.methodSelect();\n+      reportIssue(methodSelect.identifier(), \"Don't try to be smarter than the JVM, remove this call to run the garbage collector.\");", "originalCommit": "ff3a5bee711019387286689e5755128617cabde1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg0MTA1Mg==", "url": "https://github.com/SonarSource/sonar-java/pull/3191#discussion_r490841052", "bodyText": "Nice simplification of this file! This is a perfect example to show that some rules are implemented since already quite some years, with the changes and improvement of the plugin, it is now possible to refactor some rule to something way cleaner.", "author": "quentin-jaquier-sonarsource", "createdAt": "2020-09-18T10:03:48Z", "path": "java-checks/src/main/java/org/sonar/java/checks/GarbageCollectorCalledCheck.java", "diffHunk": "@@ -19,18 +19,22 @@\n  */", "originalCommit": "ff3a5bee711019387286689e5755128617cabde1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b6ccaba3a5fa49a481e10c16351dc54eaffcbdf1", "url": "https://github.com/SonarSource/sonar-java/commit/b6ccaba3a5fa49a481e10c16351dc54eaffcbdf1", "message": "SONARJAVA-3492 S1215 should detect \"System.runFinalization()\" the same way it detects System.gc()", "committedDate": "2020-09-18T11:41:03Z", "type": "commit"}, {"oid": "b6ccaba3a5fa49a481e10c16351dc54eaffcbdf1", "url": "https://github.com/SonarSource/sonar-java/commit/b6ccaba3a5fa49a481e10c16351dc54eaffcbdf1", "message": "SONARJAVA-3492 S1215 should detect \"System.runFinalization()\" the same way it detects System.gc()", "committedDate": "2020-09-18T11:41:03Z", "type": "forcePushed"}]}