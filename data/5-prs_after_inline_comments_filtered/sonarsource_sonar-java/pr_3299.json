{"pr_number": 3299, "pr_title": "SONARJAVA-3615 Fix FP in S1905 when casted argument is a method reference to a method with varargs argument", "pr_createdAt": "2020-11-24T16:33:35Z", "pr_url": "https://github.com/SonarSource/sonar-java/pull/3299", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM2NzE5OA==", "url": "https://github.com/SonarSource/sonar-java/pull/3299#discussion_r530367198", "bodyText": "Checking for any array is too much here. Varargs can only be placed on last parameter. There is also a dedicated method in JUtils for that:\nreturn symbol.isMethodSymbol() && JUtils.isVarArgsMethod((Symbol.MethodSymbol) symbol);", "author": "m-g-sonar", "createdAt": "2020-11-25T13:18:16Z", "path": "java-checks/src/main/java/org/sonar/java/checks/RedundantTypeCastCheck.java", "diffHunk": "@@ -193,6 +193,10 @@ private static boolean hasOverloads(Symbol symbol) {\n     return owner.isTypeSymbol() && calcOverloads((Symbol.TypeSymbol) owner, symbol.name()) > 1;\n   }\n \n+  private static boolean hasVarargArg(Symbol symbol) {\n+    return symbol.isMethodSymbol() && ((Symbol.MethodSymbol) symbol).parameterTypes().stream().anyMatch(Type::isArray);", "originalCommit": "0e3c25fcc549ee80651c3f541e7754e38ff3ebd5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d1b45b630dddb7745cf9a8f7664e66b1d836c412", "url": "https://github.com/SonarSource/sonar-java/commit/d1b45b630dddb7745cf9a8f7664e66b1d836c412", "message": "SONARJAVA-3615 FP in S1905 when casted argument is a method reference to a varargs.", "committedDate": "2020-11-25T14:40:48Z", "type": "commit"}, {"oid": "d1b45b630dddb7745cf9a8f7664e66b1d836c412", "url": "https://github.com/SonarSource/sonar-java/commit/d1b45b630dddb7745cf9a8f7664e66b1d836c412", "message": "SONARJAVA-3615 FP in S1905 when casted argument is a method reference to a varargs.", "committedDate": "2020-11-25T14:40:48Z", "type": "forcePushed"}]}