{"pr_number": 913, "pr_title": "kotlin: refactor public functionality as precursor to L7 filters", "pr_createdAt": "2020-06-16T22:58:14Z", "pr_url": "https://github.com/envoyproxy/envoy-mobile/pull/913", "timeline": [{"oid": "9ce0487ad2f7a9331d3192fe167bc5546eb1c66a", "url": "https://github.com/envoyproxy/envoy-mobile/commit/9ce0487ad2f7a9331d3192fe167bc5546eb1c66a", "message": "checkpoint\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-16T22:56:36Z", "type": "commit"}, {"oid": "40a587b52237c3a53a8c0f719116f35573090fb0", "url": "https://github.com/envoyproxy/envoy-mobile/commit/40a587b52237c3a53a8c0f719116f35573090fb0", "message": "android compiles\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-17T00:09:43Z", "type": "commit"}, {"oid": "8f150e7f446ee781f26121085f990881b93d17bb", "url": "https://github.com/envoyproxy/envoy-mobile/commit/8f150e7f446ee781f26121085f990881b93d17bb", "message": "updates\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-17T01:21:21Z", "type": "commit"}, {"oid": "774d82899aae3a4ddc28cf1518f99ecf61e0a041", "url": "https://github.com/envoyproxy/envoy-mobile/commit/774d82899aae3a4ddc28cf1518f99ecf61e0a041", "message": "some tests\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-17T03:42:26Z", "type": "commit"}, {"oid": "ba1ce550f0e609e81cef73af5798cc0bef349c5b", "url": "https://github.com/envoyproxy/envoy-mobile/commit/ba1ce550f0e609e81cef73af5798cc0bef349c5b", "message": "ktlint\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-17T16:52:11Z", "type": "commit"}, {"oid": "3760807ad6da4b9b5d387af80d562ce01c80d329", "url": "https://github.com/envoyproxy/envoy-mobile/commit/3760807ad6da4b9b5d387af80d562ce01c80d329", "message": "GRPCRequestBuilderTest\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-17T17:19:37Z", "type": "commit"}, {"oid": "064cb26199c51caf51b549d4883425d51dea424b", "url": "https://github.com/envoyproxy/envoy-mobile/commit/064cb26199c51caf51b549d4883425d51dea424b", "message": "mocks compile\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-17T21:51:48Z", "type": "commit"}, {"oid": "1858c6cef1a5bbb66f5ff30f5e43dd876d870b10", "url": "https://github.com/envoyproxy/envoy-mobile/commit/1858c6cef1a5bbb66f5ff30f5e43dd876d870b10", "message": "some fixes\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-17T23:39:47Z", "type": "commit"}, {"oid": "c143054d32c12c6ee1763689b50647180e1e7ad1", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c143054d32c12c6ee1763689b50647180e1e7ad1", "message": "tests work\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T00:35:52Z", "type": "commit"}, {"oid": "6fc7714fafc71cf3902d2c1ff49a08fe75f72126", "url": "https://github.com/envoyproxy/envoy-mobile/commit/6fc7714fafc71cf3902d2c1ff49a08fe75f72126", "message": "fixups\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T01:03:26Z", "type": "commit"}, {"oid": "cf949d9036f69cb7cb9e6311262576e8a003a866", "url": "https://github.com/envoyproxy/envoy-mobile/commit/cf949d9036f69cb7cb9e6311262576e8a003a866", "message": "Merge remote-tracking branch 'origin/master' into kotlin-filters-m2\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T03:52:56Z", "type": "commit"}, {"oid": "b160cb1984d759117f0cfe4f72759c376a0d7da2", "url": "https://github.com/envoyproxy/envoy-mobile/commit/b160cb1984d759117f0cfe4f72759c376a0d7da2", "message": "fixes\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T04:43:14Z", "type": "commit"}, {"oid": "23cf61ebb84a2d007f30288bc1d82b6b1ddc9ae4", "url": "https://github.com/envoyproxy/envoy-mobile/commit/23cf61ebb84a2d007f30288bc1d82b6b1ddc9ae4", "message": "linter\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T05:11:39Z", "type": "commit"}, {"oid": "11eef0503e17f8acb202bc35101fe801397d72f0", "url": "https://github.com/envoyproxy/envoy-mobile/commit/11eef0503e17f8acb202bc35101fe801397d72f0", "message": "Update RequestHeadersBuilder.kt\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T05:49:01Z", "type": "commit"}, {"oid": "1098580e537f53d7566601489c04a89a437fe596", "url": "https://github.com/envoyproxy/envoy-mobile/commit/1098580e537f53d7566601489c04a89a437fe596", "message": "fixups\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T13:44:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM2NDE0MA==", "url": "https://github.com/envoyproxy/envoy-mobile/pull/913#discussion_r442364140", "bodyText": "This change was necessary in order to ensure that mock subclasses of EnvoyHTTPStream don't end up calling JNI at all (doing so caused tests to crash). Instead, the initializer now no longer has the side effect of calling the JNI, and the engine starts the stream via this method (similarly to the ObjC engine here)", "author": "rebello95", "createdAt": "2020-06-18T16:45:47Z", "path": "library/java/src/io/envoyproxy/envoymobile/engine/EnvoyHTTPStream.java", "diffHunk": "@@ -9,14 +9,22 @@\n import java.util.Map;\n \n public class EnvoyHTTPStream {\n-\n   private final long streamHandle;\n   private final JvmCallbackContext callbacksContext;\n \n-  EnvoyHTTPStream(long streamHandle, EnvoyHTTPCallbacks callbacks) {\n+  /**\n+   * Start the stream via the JNI library.\n+   */\n+  void start() { JniLibrary.startStream(streamHandle, callbacksContext); }", "originalCommit": "1098580e537f53d7566601489c04a89a437fe596", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3b90c5d6ec8942385a2c4b64470fc4a8e7dd1376", "url": "https://github.com/envoyproxy/envoy-mobile/commit/3b90c5d6ec8942385a2c4b64470fc4a8e7dd1376", "message": "Merge remote-tracking branch 'origin/master' into kotlin-filters-m2\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T16:46:16Z", "type": "commit"}, {"oid": "c1ff70a18918427c61a48093f1f1b6209f93e478", "url": "https://github.com/envoyproxy/envoy-mobile/commit/c1ff70a18918427c61a48093f1f1b6209f93e478", "message": "self review\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T17:13:16Z", "type": "commit"}, {"oid": "2d5ce6c61eb6ede4ae1328b85831901d24810478", "url": "https://github.com/envoyproxy/envoy-mobile/commit/2d5ce6c61eb6ede4ae1328b85831901d24810478", "message": "CR + running lint fixes\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T17:47:49Z", "type": "commit"}, {"oid": "34a840d3e67d0a6128005b51a66d13d2698d67e5", "url": "https://github.com/envoyproxy/envoy-mobile/commit/34a840d3e67d0a6128005b51a66d13d2698d67e5", "message": "missing overrides\n\nSigned-off-by: Michael Rebello <me@michaelrebello.com>", "committedDate": "2020-06-18T18:55:17Z", "type": "commit"}]}