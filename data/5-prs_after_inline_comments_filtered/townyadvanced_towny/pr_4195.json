{"pr_number": 4195, "pr_title": "Do compression via tar and not zip", "pr_createdAt": "2020-07-20T17:16:32Z", "pr_url": "https://github.com/TownyAdvanced/Towny/pull/4195", "timeline": [{"oid": "6b9fc964a7c769c28779151927f6d6f3374c7153", "url": "https://github.com/TownyAdvanced/Towny/commit/6b9fc964a7c769c28779151927f6d6f3374c7153", "message": "Do compression via tar and not zip", "committedDate": "2020-07-20T17:10:12Z", "type": "commit"}, {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50", "url": "https://github.com/TownyAdvanced/Towny/commit/9b9dea5f5de972b8547be48ba4609906d7831e50", "message": "restore old file name format.", "committedDate": "2020-07-20T17:45:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ==", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457609319", "bodyText": "if for w/e reason someone wants to have zip over tar we should still support doing zip files.", "author": "LlmDl", "createdAt": "2020-07-20T18:29:31Z", "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "originalCommit": "9b9dea5f5de972b8547be48ba4609906d7831e50", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzMTU2MA==", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457631560", "bodyText": "There's no benefit in using zip over tar.gz actually to be fair there are more disadvantages using the zip format. Hence tar.gz should be the standard option.", "author": null, "createdAt": "2020-07-20T19:09:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzMjc2NA==", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457632764", "bodyText": "I'm fine with tar being the default but someone might want to still use .zip, so we should continue to support it.", "author": "LlmDl", "createdAt": "2020-07-20T19:12:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzNDc5MQ==", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457634791", "bodyText": "I can't come up with a valid reason as to why someone would want that, it takes up more space and it's less universal. Unless there's some argument that shows otherwise I once again don't see why you'd want to support it.", "author": null, "createdAt": "2020-07-20T19:15:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzODUyOA==", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457638528", "bodyText": "\"Someone might want to continue using .zip.\" That's the reason.", "author": "LlmDl", "createdAt": "2020-07-20T19:22:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzOTU2Nw==", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457639567", "bodyText": "Yes I know but that reason is moot because tar.gz is better than zip, thus meaning there shouldn't be any reason to prefer zip over tar.gz", "author": null, "createdAt": "2020-07-20T19:24:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA1NjM0OA==", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r459056348", "bodyText": "I added a \"legacyzip\" as an option for compression which uses zip.", "author": null, "createdAt": "2020-07-22T20:14:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}], "type": "inlineReview"}, {"oid": "540e80690534cafceb70277fbe84bd9af32681bf", "url": "https://github.com/TownyAdvanced/Towny/commit/540e80690534cafceb70277fbe84bd9af32681bf", "message": "Add zip support.", "committedDate": "2020-07-22T20:14:27Z", "type": "commit"}, {"oid": "8f97b17b1959896bc589659f213e1afc2fc06b24", "url": "https://github.com/TownyAdvanced/Towny/commit/8f97b17b1959896bc589659f213e1afc2fc06b24", "message": "Rename node.", "committedDate": "2020-07-22T20:21:47Z", "type": "commit"}, {"oid": "d5f94fef21d41468794127bbb0c6bc5346e9fcbd", "url": "https://github.com/TownyAdvanced/Towny/commit/d5f94fef21d41468794127bbb0c6bc5346e9fcbd", "message": "Merge branch 'master' into feature/tar-compression", "committedDate": "2020-07-22T20:22:14Z", "type": "commit"}]}