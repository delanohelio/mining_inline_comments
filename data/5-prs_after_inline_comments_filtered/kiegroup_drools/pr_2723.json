{"pr_number": 2723, "pr_title": "RHDM-1159: Exception while coverting spreedsheet decision table to guided decision table", "pr_createdAt": "2020-01-15T20:54:31Z", "pr_url": "https://github.com/kiegroup/drools/pull/2723", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4NzQ2Mg==", "url": "https://github.com/kiegroup/drools/pull/2723#discussion_r367787462", "bodyText": "Shouln't we use org.drools.core.base.evaluators.Operator.getAllOperators() ?", "author": "jomarko", "createdAt": "2020-01-17T06:36:09Z", "path": "drools-workbench-models/drools-workbench-models-commons/src/main/java/org/drools/workbench/models/commons/backend/rule/RuleModelDRLPersistenceImpl.java", "diffHunk": "@@ -2783,7 +2784,16 @@ private static String findOperator(String expr) {\n     }\n \n     private static boolean isNotMethodName(final String expression,\n+                                           final String potentialOperator,\n                                            final int operatorPosition) {\n+        if (Objects.equals(potentialOperator, Operator.EQUAL.getOperatorString()) ||\n+                Objects.equals(potentialOperator, Operator.NOT_EQUAL.getOperatorString()) ||\n+                Objects.equals(potentialOperator, Operator.LESS.getOperatorString()) ||\n+                Objects.equals(potentialOperator, Operator.LESS_OR_EQUAL.getOperatorString()) ||\n+                Objects.equals(potentialOperator, Operator.GREATER.getOperatorString()) ||\n+                Objects.equals(potentialOperator, Operator.GREATER_OR_EQUAL.getOperatorString())) {\n+            return true;", "originalCommit": "9ea375f2be1d54d0598f35ad571681c798fec1f9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyOTc2Mw==", "url": "https://github.com/kiegroup/drools/pull/2723#discussion_r367829763", "bodyText": "No, this addition came about due to the XLS attached to the JIRA containing a CONDITION definition traceId==(\"$param\") where there are no spaces between the operator and the value so this check failed and the parsing of the XLS lead to incorrect results.\nI only check for ==, !=, <, <=, >, >= as these cannot be the prefix to a method name whereas, for example, matches could be in the method name matchesCheese().", "author": "manstis", "createdAt": "2020-01-17T09:03:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4NzQ2Mg=="}], "type": "inlineReview"}, {"oid": "f02a7d893a2255894022c88dc9bc3a14797edfca", "url": "https://github.com/kiegroup/drools/commit/f02a7d893a2255894022c88dc9bc3a14797edfca", "message": "RHDM-1159: Exception while coverting spreedsheet decision table to guided decision table", "committedDate": "2020-01-22T09:48:16Z", "type": "commit"}, {"oid": "f02a7d893a2255894022c88dc9bc3a14797edfca", "url": "https://github.com/kiegroup/drools/commit/f02a7d893a2255894022c88dc9bc3a14797edfca", "message": "RHDM-1159: Exception while coverting spreedsheet decision table to guided decision table", "committedDate": "2020-01-22T09:48:16Z", "type": "forcePushed"}]}