{"pr_number": 1399, "pr_title": "Refactor LCM Updates", "pr_createdAt": "2020-06-26T18:03:04Z", "pr_url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1399", "timeline": [{"oid": "33ed3b580a2b41686fafacc99777a254d8f45c08", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/33ed3b580a2b41686fafacc99777a254d8f45c08", "message": "Remove proxy naming from LCM", "committedDate": "2020-06-22T18:19:53Z", "type": "commit"}, {"oid": "d917c6b90d17c2d5a614db5b43dd778796605b35", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/d917c6b90d17c2d5a614db5b43dd778796605b35", "message": "Move internal classes to bottom of file", "committedDate": "2020-06-24T19:12:16Z", "type": "commit"}, {"oid": "39d5b6e2fd91e2e7e94c5ee3f1abb63629069fb1", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/39d5b6e2fd91e2e7e94c5ee3f1abb63629069fb1", "message": "Refactor to more descriptive naming\n\nand make context into a weakreference", "committedDate": "2020-06-24T19:12:55Z", "type": "commit"}, {"oid": "c9d7c38010137c486c0b64646456282d118b1aed", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/c9d7c38010137c486c0b64646456282d118b1aed", "message": "Rename callbacks to better reflect events", "committedDate": "2020-06-25T19:16:50Z", "type": "commit"}, {"oid": "48c151d5faa54bb52f9d9f5187d5cd0687a6d1ab", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/48c151d5faa54bb52f9d9f5187d5cd0687a6d1ab", "message": "Remove unncessary sleeps and extra classes", "committedDate": "2020-06-25T19:55:38Z", "type": "commit"}, {"oid": "ecb3b3828baeee1764bb0a04047e34208dc87473", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/ecb3b3828baeee1764bb0a04047e34208dc87473", "message": "Merge branch 'develop' of https://github.com/smartdevicelink/sdl_android into bugfix/refactor_lcm_updates", "committedDate": "2020-06-26T14:19:59Z", "type": "commit"}, {"oid": "99d5a47698d22de4d46d97fd50efff7743c78d29", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/99d5a47698d22de4d46d97fd50efff7743c78d29", "message": "Remove unused return value from tryVideoStream", "committedDate": "2020-06-26T14:34:20Z", "type": "commit"}, {"oid": "a410e24bc4aae3c748e3bb795465b3920f7a0287", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/a410e24bc4aae3c748e3bb795465b3920f7a0287", "message": "Remove unused state booleans", "committedDate": "2020-06-26T14:34:30Z", "type": "commit"}, {"oid": "11a8e7e6552054cf9618a3f21176e8f20bdbbdc5", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/11a8e7e6552054cf9618a3f21176e8f20bdbbdc5", "message": "Add synchronized lock to sdlmanager.dispose", "committedDate": "2020-06-26T17:46:54Z", "type": "commit"}, {"oid": "a5cc3d19814d1460299b9636bc645dd5d9a83b6b", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/a5cc3d19814d1460299b9636bc645dd5d9a83b6b", "message": "Add synchronized lock to lcm.stop\n\nAlso cleraed session in stop() as well as make taskmaster a daemon thread.", "committedDate": "2020-06-26T17:47:27Z", "type": "commit"}, {"oid": "4234bcc14808e3e3dc143ea75afdcdedbfacec55", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/4234bcc14808e3e3dc143ea75afdcdedbfacec55", "message": "Refactor TransportBroker to fit with LCM\n\nWith some of the removed queues out of the proxy base class, the tarnsport broker was experiencing some issues shutting down.", "committedDate": "2020-06-26T17:48:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk5MDc0MQ==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1399#discussion_r446990741", "bodyText": "onServiceEnded, onStopServiceNACKed methods seem to be not overridden anymore and could be removed from the BaseLifecycleManager class.", "author": "bilal-alsharifi", "createdAt": "2020-06-29T13:56:04Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/lifecycle/LifecycleManager.java", "diffHunk": "@@ -161,42 +161,18 @@ void onTransportDisconnected(String info, boolean availablePrimary, BaseTranspor\n         if (availablePrimary) {\n             _transportConfig = transportConfig;\n             Log.d(TAG, \"notifying RPC session ended, but potential primary transport available\");\n-            cycleProxy(SdlDisconnectedReason.PRIMARY_TRANSPORT_CYCLE_REQUEST);\n+            cycle(SdlDisconnectedReason.PRIMARY_TRANSPORT_CYCLE_REQUEST);\n         } else {\n             onClose(info, null, null);\n         }\n     }\n \n     @Override\n-    void onProtocolSessionStartedNACKed(SessionType sessionType) {\n-        super.onProtocolSessionStartedNACKed(sessionType);\n-        if (sessionType.eq(SessionType.NAV)) {\n-            navServiceStartResponseReceived = true;\n-            navServiceStartResponse = false;\n-        }\n-    }\n-\n-    @Override\n-    void onProtocolSessionEnded(SessionType sessionType) {\n-        super.onProtocolSessionEnded(sessionType);\n+    void onStartServiceNACKed(SessionType sessionType) {\n+        super.onStartServiceNACKed(sessionType);", "originalCommit": "4234bcc14808e3e3dc143ea75afdcdedbfacec55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA0NDU2Nw==", "url": "https://github.com/smartdevicelink/sdl_java_suite/pull/1399#discussion_r447044567", "bodyText": "There are some unused imports in this class that can be removed", "author": "bilal-alsharifi", "createdAt": "2020-06-29T15:09:03Z", "path": "android/sdl_android/src/main/java/com/smartdevicelink/managers/lifecycle/LifecycleManager.java", "diffHunk": "@@ -54,6 +54,7 @@\n import com.smartdevicelink.transport.enums.TransportType;\n import com.smartdevicelink.util.DebugTool;\n ", "originalCommit": "4234bcc14808e3e3dc143ea75afdcdedbfacec55", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bfcff7818ca66cc9b2a6ac37bf178c740a68ae29", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/bfcff7818ca66cc9b2a6ac37bf178c740a68ae29", "message": "Remove unused imports", "committedDate": "2020-06-30T15:09:16Z", "type": "commit"}, {"oid": "712c4a9b2ffba92586f75ee55de3b32942314846", "url": "https://github.com/smartdevicelink/sdl_java_suite/commit/712c4a9b2ffba92586f75ee55de3b32942314846", "message": "Remove unused methods in base LCM", "committedDate": "2020-06-30T15:11:42Z", "type": "commit"}]}