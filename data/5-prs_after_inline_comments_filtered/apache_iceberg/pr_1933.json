{"pr_number": 1933, "pr_title": "Refactor Spark DF read and Write options", "pr_createdAt": "2020-12-15T01:34:23Z", "pr_url": "https://github.com/apache/iceberg/pull/1933", "timeline": [{"oid": "0ddfeaf99820ebd22491e604223a8f9daca33feb", "url": "https://github.com/apache/iceberg/commit/0ddfeaf99820ebd22491e604223a8f9daca33feb", "message": "Fixes", "committedDate": "2020-12-10T20:05:19Z", "type": "commit"}, {"oid": "9e74e1870055858beab94d451109f801de5d1931", "url": "https://github.com/apache/iceberg/commit/9e74e1870055858beab94d451109f801de5d1931", "message": "Fix checkstyle", "committedDate": "2020-12-10T20:15:04Z", "type": "commit"}, {"oid": "1fba22440b4a6ef8567eca49f034c264ccc9757d", "url": "https://github.com/apache/iceberg/commit/1fba22440b4a6ef8567eca49f034c264ccc9757d", "message": "Refactor", "committedDate": "2020-12-15T01:28:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzI2MjU3MA==", "url": "https://github.com/apache/iceberg/pull/1933#discussion_r543262570", "bodyText": "I feel like there are more write properties. Is there a reason we don't include others?", "author": "aokolnychyi", "createdAt": "2020-12-15T11:25:37Z", "path": "spark/src/main/java/org/apache/iceberg/spark/SparkWriteOptions.java", "diffHunk": "@@ -29,4 +29,7 @@ private SparkWriteOptions() {\n \n   // Overrides table property write.spark.fanout.enabled(default: false)\n   public static final String FANOUT_ENABLED = \"fanout-enabled\";\n+\n+  // Fileformat for write operations\n+  public static final String WRITE_FORMAT = \"write-format\";", "originalCommit": "1fba22440b4a6ef8567eca49f034c264ccc9757d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzI2Mjc4MA==", "url": "https://github.com/apache/iceberg/pull/1933#discussion_r543262780", "bodyText": "There are also more read options. Why not include all of them?", "author": "aokolnychyi", "createdAt": "2020-12-15T11:25:58Z", "path": "spark/src/main/java/org/apache/iceberg/spark/SparkReadOptions.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.iceberg.spark;\n+\n+/**\n+ * Spark DF read options\n+ */\n+public class SparkReadOptions {\n+\n+  private SparkReadOptions() {\n+  }\n+\n+  // Snapshot ID of the table snapshot to read\n+  public static final String SNAPSHOT_ID = \"snapshot-id\";", "originalCommit": "1fba22440b4a6ef8567eca49f034c264ccc9757d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzI2MzUxNg==", "url": "https://github.com/apache/iceberg/pull/1933#discussion_r543263516", "bodyText": "Shall we use SparkReadOptions.SNAPSHOT_ID here?", "author": "aokolnychyi", "createdAt": "2020-12-15T11:27:09Z", "path": "spark2/src/main/java/org/apache/iceberg/spark/source/Reader.java", "diffHunk": "@@ -107,7 +108,7 @@\n       boolean caseSensitive, DataSourceOptions options) {\n     this.table = table;\n     this.snapshotId = options.get(\"snapshot-id\").map(Long::parseLong).orElse(null);", "originalCommit": "1fba22440b4a6ef8567eca49f034c264ccc9757d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d102f88f4aa22367d6d0d486cc965bf91b752a42", "url": "https://github.com/apache/iceberg/commit/d102f88f4aa22367d6d0d486cc965bf91b752a42", "message": "Add options that were left out", "committedDate": "2020-12-15T19:53:57Z", "type": "commit"}, {"oid": "ade06aebf84a7a5f15b50be84d5a3e12bd3b6276", "url": "https://github.com/apache/iceberg/commit/ade06aebf84a7a5f15b50be84d5a3e12bd3b6276", "message": "Add section for read/write constanst", "committedDate": "2020-12-19T00:19:34Z", "type": "commit"}, {"oid": "1fffc4972993a97f1a33559a3bcc2a1e5fa9f804", "url": "https://github.com/apache/iceberg/commit/1fffc4972993a97f1a33559a3bcc2a1e5fa9f804", "message": "Address review comments", "committedDate": "2020-12-21T20:47:41Z", "type": "commit"}, {"oid": "975f8772e770354181fe2a06f5a6ac58319bfa23", "url": "https://github.com/apache/iceberg/commit/975f8772e770354181fe2a06f5a6ac58319bfa23", "message": "Update spark.md", "committedDate": "2020-12-28T21:53:27Z", "type": "commit"}, {"oid": "16dafbef2def35291ae740817bb675b8951b4ba4", "url": "https://github.com/apache/iceberg/commit/16dafbef2def35291ae740817bb675b8951b4ba4", "message": "Update spark.md", "committedDate": "2020-12-28T21:54:16Z", "type": "commit"}]}