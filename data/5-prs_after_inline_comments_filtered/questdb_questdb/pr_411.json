{"pr_number": 411, "pr_title": "chore: Add configurable limits to the max number of pages in VirtualM\u2026", "pr_createdAt": "2020-06-19T11:43:42Z", "pr_url": "https://github.com/questdb/questdb/pull/411", "timeline": [{"oid": "31a2813e37c53b3ef93dd0b533f66a4eee59a01d", "url": "https://github.com/questdb/questdb/commit/31a2813e37c53b3ef93dd0b533f66a4eee59a01d", "message": "chore: Add configurable limits to the max number of pages in VirtualMemory", "committedDate": "2020-06-19T11:42:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg2MjA1OA==", "url": "https://github.com/questdb/questdb/pull/411#discussion_r442862058", "bodyText": "this introduces file handle leak in ReadWriteMemory", "author": "bluestreak01", "createdAt": "2020-06-19T14:08:31Z", "path": "core/src/main/java/io/questdb/cairo/VirtualMemory.java", "diffHunk": "@@ -634,7 +646,11 @@ private long computeHotPage(int page) {\n     }\n \n     protected void ensurePagesListCapacity(long size) {\n-        pages.ensureCapacity(pageIndex(size) + 1);\n+        int capacity = pageIndex(size) + 1;\n+        if (capacity > maxPages) {\n+            throw LimitOverflowException.instance().put(\"Maximum number of pages (\").put(maxPages).put(\") breached in VirtualMemory\");", "originalCommit": "31a2813e37c53b3ef93dd0b533f66a4eee59a01d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "73467fda4d2e2dc2411cf31cbf1f7ca7d7cfd766", "url": "https://github.com/questdb/questdb/commit/73467fda4d2e2dc2411cf31cbf1f7ca7d7cfd766", "message": "chore: Add configurable limits to the max number of pages in VirtualMemory", "committedDate": "2020-06-19T16:22:28Z", "type": "commit"}]}