{"pr_number": 3484, "pr_title": "Improve EndpointDslMojo", "pr_createdAt": "2020-01-15T16:13:53Z", "pr_url": "https://github.com/apache/camel/pull/3484", "timeline": [{"oid": "01f48e8085ee45f6f8a6df61791a2558715996ed", "url": "https://github.com/apache/camel/commit/01f48e8085ee45f6f8a6df61791a2558715996ed", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components.", "committedDate": "2020-01-15T16:24:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA4NTIxNw==", "url": "https://github.com/apache/camel/pull/3484#discussion_r367085217", "bodyText": "I guess this could use String#replace instead of String#replaceAll to avoid the regex and therefore improve performance. (Not sure if this is relevent.)", "author": "PascalSchumacher", "createdAt": "2020-01-15T20:15:32Z", "path": "tooling/maven/camel-package-maven-plugin/src/main/java/org/apache/camel/maven/packaging/EndpointDslMojo.java", "diffHunk": "@@ -480,16 +509,12 @@ private void createEndpointDsl(String packageName, ComponentModel model, List<Co\n             method.getJavaDoc().setText(desc);\n         }\n \n-        String fileName = packageName.replaceAll(\"\\\\.\", \"\\\\/\") + \"/\" + builderName + \"Factory.java\";\n-        writeSourceIfChanged(javaClass, fileName, false);\n+        writeSourceIfChanged(javaClass, packageName.replaceAll(\"\\\\.\", \"\\\\/\"), builderName + \"Factory.java\", false);", "originalCommit": "01f48e8085ee45f6f8a6df61791a2558715996ed", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fc93837e2252d8b07546a5770c7512d6aff3019c", "url": "https://github.com/apache/camel/commit/fc93837e2252d8b07546a5770c7512d6aff3019c", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components.", "committedDate": "2020-01-16T07:28:32Z", "type": "forcePushed"}, {"oid": "12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "url": "https://github.com/apache/camel/commit/12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components.", "committedDate": "2020-01-16T07:35:06Z", "type": "commit"}, {"oid": "12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "url": "https://github.com/apache/camel/commit/12ef91cc835c81cf198c87733d4c2175e7e5bd3c", "message": "Improve EndpointDslMojo\n\nThis commit improve a little the performances of EndpointDslMojo by\nlisting and parsing component specific endpoint factories only once.\n\nIn addition, this commit introduces:\n- options to control the generation of the endpoint dsl interfaces\n- an option to control the package name where to generate component\n  specific endpoint factories\n- an option to control the package name where to generate the endpoint\n  dsl interfaces\n\nThose changes are needed to use the mojo for component hosted outside\nthe camel repo and to give a change to at least generate component\nspecific endpoint factories. Such endpoint factories won't be availabe\nin the generic EndpointRouteBuilder but at least developer have a way\nto use a fluent endpoint builder even for such components.", "committedDate": "2020-01-16T07:35:06Z", "type": "forcePushed"}]}