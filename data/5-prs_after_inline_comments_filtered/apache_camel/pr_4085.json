{"pr_number": 4085, "pr_title": "CAMEL-15390: CollectionStringBuilder - Use JDK util methods instead", "pr_createdAt": "2020-08-11T13:35:07Z", "pr_url": "https://github.com/apache/camel/pull/4085", "timeline": [{"oid": "6aa74940d68679a6d88d35ddaaf5060c6e58716c", "url": "https://github.com/apache/camel/commit/6aa74940d68679a6d88d35ddaaf5060c6e58716c", "message": "CAMEL-15390: CollectionStringBuilder - Use JDK util methods instead", "committedDate": "2020-08-11T13:10:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU5NTgyNw==", "url": "https://github.com/apache/camel/pull/4085#discussion_r468595827", "bodyText": "I think we can avoid the 2 x toString as that is a costly operation. We can use length method to know if its empty or not. For example if length > 1 (as delimiter is 1) I think. There is a few other places where toString would be called twice like this.", "author": "davsclaus", "createdAt": "2020-08-11T13:52:29Z", "path": "components/camel-openapi-java/src/main/java/org/apache/camel/openapi/OpenApiRestProducerFactory.java", "diffHunk": "@@ -176,13 +176,13 @@ private Producer createHttpProducer(CamelContext camelContext, OasDocument openA\n                 }\n                 if (list != null) {\n                     for (String s : list) {\n-                        csb.append(s);\n+                        producesBuilder.add(s);\n                     }\n                 }\n-                produces = csb.isEmpty() ? null : csb.toString();\n+                produces = producesBuilder.toString().isEmpty() ? null : producesBuilder.toString();", "originalCommit": "6aa74940d68679a6d88d35ddaaf5060c6e58716c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTExMzA1Mw==", "url": "https://github.com/apache/camel/pull/4085#discussion_r469113053", "bodyText": "The length is 0 by the way, the delimiter is not added. If the value is null, the length gets prefix + suffix, which in this case is empty.", "author": "zbendhiba", "createdAt": "2020-08-12T09:01:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU5NTgyNw=="}], "type": "inlineReview"}, {"oid": "298cc30ca0195dac14c71b15d313fadad3ccbaa0", "url": "https://github.com/apache/camel/commit/298cc30ca0195dac14c71b15d313fadad3ccbaa0", "message": "CAMEL-15390: remove duplicates toString", "committedDate": "2020-08-12T09:27:01Z", "type": "commit"}]}