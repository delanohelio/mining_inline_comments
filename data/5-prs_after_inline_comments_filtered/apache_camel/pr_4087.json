{"pr_number": 4087, "pr_title": "CAMEL-15176 Add the components-init-work-in-progress.md to track the \u2026", "pr_createdAt": "2020-08-13T07:01:08Z", "pr_url": "https://github.com/apache/camel/pull/4087", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA0Mzg0OQ==", "url": "https://github.com/apache/camel/pull/4087#discussion_r470043849", "bodyText": "I wonder if this may cause some problems, as its in the JDK itself and if your build vs runtime are not the same then it can cause problems. I think we need to make this part in the doStart", "author": "davsclaus", "createdAt": "2020-08-13T15:37:41Z", "path": "components/camel-as2/camel-as2-component/src/main/java/org/apache/camel/component/as2/AS2Component.java", "diffHunk": "@@ -58,8 +58,8 @@ protected Endpoint createEndpoint(String uri, String methodName, AS2ApiName apiN\n     }\n \n     @Override\n-    protected void doStart() throws Exception {\n-        super.doStart();\n+    protected void doInit() throws Exception {\n+        super.doInit();\n         if (Security.getProvider(\"BC\") == null) {", "originalCommit": "5322968843fbe71fe6d03670051eb35e0043ab5a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIzNjUwNg==", "url": "https://github.com/apache/camel/pull/4087#discussion_r471236506", "bodyText": "yeah, it makes sense.", "author": "zhfeng", "createdAt": "2020-08-17T05:19:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA0Mzg0OQ=="}], "type": "inlineReview"}, {"oid": "4c8c11ab78264dc43afda892886a6c0ef730966c", "url": "https://github.com/apache/camel/commit/4c8c11ab78264dc43afda892886a6c0ef730966c", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-cdi\n* camel-csv", "committedDate": "2020-08-17T05:31:29Z", "type": "forcePushed"}, {"oid": "836d3e09957eb63444a320229b14b6cf197c37e8", "url": "https://github.com/apache/camel/commit/836d3e09957eb63444a320229b14b6cf197c37e8", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-cdi\n* camel-csv", "committedDate": "2020-08-17T05:46:49Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI0NTY1MQ==", "url": "https://github.com/apache/camel/pull/4087#discussion_r471245651", "bodyText": "This should be in doStart as we add / remove the consumer when the consumer is started/stopped, eg you can stop a consumer/route and then later start it. So this should be as before", "author": "davsclaus", "createdAt": "2020-08-17T05:53:54Z", "path": "components/camel-cdi/src/main/java/org/apache/camel/cdi/CdiEventConsumer.java", "diffHunk": "@@ -37,8 +37,8 @@\n     }\n \n     @Override\n-    protected void doStart() throws Exception {\n-        super.doStart();\n+    protected void doInit() throws Exception {\n+        super.doInit();", "originalCommit": "836d3e09957eb63444a320229b14b6cf197c37e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI0NzY3MQ==", "url": "https://github.com/apache/camel/pull/4087#discussion_r471247671", "bodyText": "Ok, I get it and I have not noticed that this is an event", "author": "zhfeng", "createdAt": "2020-08-17T06:00:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI0NTY1MQ=="}], "type": "inlineReview"}, {"oid": "c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675", "url": "https://github.com/apache/camel/commit/c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-apns\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv", "committedDate": "2020-08-17T06:06:01Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMzNzU0NQ==", "url": "https://github.com/apache/camel/pull/4087#discussion_r471337545", "bodyText": "Same thing here as before, we should do this in doStart as its adding and removing consumers on the endpoint at runtime when its started/stopped.", "author": "davsclaus", "createdAt": "2020-08-17T08:55:46Z", "path": "components/camel-apns/src/main/java/org/apache/camel/component/apns/ApnsConsumer.java", "diffHunk": "@@ -82,15 +82,15 @@ public ApnsEndpoint getEndpoint() {\n     }\n \n     @Override\n-    protected void doStart() throws Exception {\n+    protected void doInit() throws Exception {\n         // only add as consumer if not already registered\n         if (!getEndpoint().getConsumers().contains(this)) {\n             if (!getEndpoint().getConsumers().isEmpty()) {\n                 throw new IllegalStateException(\"Endpoint \" + getEndpoint().getEndpointUri() + \" only allows 1 active consumer but you attempted to start a 2nd consumer.\");\n             }\n             getEndpoint().getConsumers().add(this);", "originalCommit": "c6bbf0e0b38fb6818b3e0376a8b02db24d8cd675", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTkzODAwOQ==", "url": "https://github.com/apache/camel/pull/4087#discussion_r471938009", "bodyText": "Fixed", "author": "zhfeng", "createdAt": "2020-08-18T06:16:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMzNzU0NQ=="}], "type": "inlineReview"}, {"oid": "45056a158418c1c0e0780e42598b72b1af808a74", "url": "https://github.com/apache/camel/commit/45056a158418c1c0e0780e42598b72b1af808a74", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv\n\ntest", "committedDate": "2020-08-18T06:15:20Z", "type": "forcePushed"}, {"oid": "a6e86aa4b83172246b1d1e81a4c46805bfc8932d", "url": "https://github.com/apache/camel/commit/a6e86aa4b83172246b1d1e81a4c46805bfc8932d", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv", "committedDate": "2020-08-18T09:04:22Z", "type": "forcePushed"}, {"oid": "7f650f3fc84958895b885a686e1f383cd410bb21", "url": "https://github.com/apache/camel/commit/7f650f3fc84958895b885a686e1f383cd410bb21", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv", "committedDate": "2020-08-18T09:07:36Z", "type": "commit"}, {"oid": "7f650f3fc84958895b885a686e1f383cd410bb21", "url": "https://github.com/apache/camel/commit/7f650f3fc84958895b885a686e1f383cd410bb21", "message": "CAMEL-15176 Add the components-init-work-in-progress.md to track the work\nFix the following components\n* camel-activemq\n* camel-any23\n* camel-asterisk\n* camel-atomix\n* camel-avro\n* camel-benio\n* camel-cbor\n* camel-csv", "committedDate": "2020-08-18T09:07:36Z", "type": "forcePushed"}]}