{"pr_number": 6964, "pr_title": "[KEYCLOAK-13005] Make sure the master URL is used if the consumer POS\u2026", "pr_createdAt": "2020-04-06T02:32:59Z", "pr_url": "https://github.com/keycloak/keycloak/pull/6964", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE1NzM2Nw==", "url": "https://github.com/keycloak/keycloak/pull/6964#discussion_r411157367", "bodyText": "Should we use trim() here? Similarly to this: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/protocol/saml/SamlService.java#L726\nIf yes it should be fixed also here: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/protocol/saml/installation/SamlSPDescriptorClientInstallation.java#L59\nBTW: there is also a copy&paste bug. Should we fix it here or in separate Jira?", "author": "mhajas", "createdAt": "2020-04-20T07:33:38Z", "path": "services/src/main/java/org/keycloak/protocol/saml/SamlService.java", "diffHunk": "@@ -307,7 +307,7 @@ protected Response loginRequest(String relayState, AuthnRequestType requestAbstr\n                 } else {\n                     redirect = client.getAttribute(SamlProtocol.SAML_ASSERTION_CONSUMER_URL_REDIRECT_ATTRIBUTE);\n                 }\n-                if (redirect == null) {\n+                if (redirect == null || redirect.isEmpty()) {", "originalCommit": "50d98aac93757a021aeeccbf4a09b13ddcd86173", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTQ2MjQ1NA==", "url": "https://github.com/keycloak/keycloak/pull/6964#discussion_r415462454", "bodyText": "I think it doesn't hurt, changing to use trim(). Fixing the copy&paste bug as well.", "author": "sguilhen", "createdAt": "2020-04-27T02:08:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTE1NzM2Nw=="}], "type": "inlineReview"}, {"oid": "927e44719ab001cd57f466be1a2e2ed36ad08d09", "url": "https://github.com/keycloak/keycloak/commit/927e44719ab001cd57f466be1a2e2ed36ad08d09", "message": "[KEYCLOAK-13005] Make sure the master URL is used if the consumer POST or REDIRECT URL is an empty string\n - Fixes issue where admin console sets an empty string when the consumer POST or REDIRECT URL is deleted", "committedDate": "2020-04-27T02:08:56Z", "type": "commit"}, {"oid": "927e44719ab001cd57f466be1a2e2ed36ad08d09", "url": "https://github.com/keycloak/keycloak/commit/927e44719ab001cd57f466be1a2e2ed36ad08d09", "message": "[KEYCLOAK-13005] Make sure the master URL is used if the consumer POST or REDIRECT URL is an empty string\n - Fixes issue where admin console sets an empty string when the consumer POST or REDIRECT URL is deleted", "committedDate": "2020-04-27T02:08:56Z", "type": "forcePushed"}]}