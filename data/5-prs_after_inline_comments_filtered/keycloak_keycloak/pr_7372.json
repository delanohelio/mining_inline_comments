{"pr_number": 7372, "pr_title": "KEYCLOAK-14548 Add support for cached gzip encoding of resources", "pr_createdAt": "2020-08-26T18:06:23Z", "pr_url": "https://github.com/keycloak/keycloak/pull/7372", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzYwMjc2Nw==", "url": "https://github.com/keycloak/keycloak/pull/7372#discussion_r477602767", "bodyText": "Assume you didn't mean to leave this in?", "author": "ssilvert", "createdAt": "2020-08-26T21:34:38Z", "path": "services/src/main/java/org/keycloak/services/resources/KeycloakApplication.java", "diffHunk": "@@ -161,6 +162,12 @@ public void run(KeycloakSession session) {\n \n         setupScheduledTasks(sessionFactory);\n \n+        for (Class c : ResteasyProviderFactory.getInstance().getProviderClasses()) {\n+            if (c.getName().contains(\"GZIP\")) {\n+                System.out.println(c.getName());\n+            }\n+        }\n+", "originalCommit": "440b6a377d11bbf8ac879fab0deaffe99dc1694d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQxNjgyOQ==", "url": "https://github.com/keycloak/keycloak/pull/7372#discussion_r478416829", "bodyText": "Haha, yes that's correct ;)", "author": "stianst", "createdAt": "2020-08-27T13:25:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzYwMjc2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI5NDk0Mw==", "url": "https://github.com/keycloak/keycloak/pull/7372#discussion_r478294943", "bodyText": "Should be removed?", "author": "ssilvert", "createdAt": "2020-08-27T09:48:53Z", "path": "testsuite/integration-arquillian/servers/auth-server/undertow/src/main/java/org/keycloak/testsuite/arquillian/undertow/KeycloakOnUndertow.java", "diffHunk": "@@ -148,6 +152,10 @@ public ProtocolMetaData deploy(Archive<?> archive) throws DeploymentException {\n \n         deployedArchivesToContextPath.put(archive.getName(), di.getContextPath());\n \n+        for (Class c : ResteasyProviderFactory.getInstance().getProviderClasses()) {\n+            System.out.println(c);\n+        }\n+", "originalCommit": "440b6a377d11bbf8ac879fab0deaffe99dc1694d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODQxNjkyMA==", "url": "https://github.com/keycloak/keycloak/pull/7372#discussion_r478416920", "bodyText": "Yup ;)", "author": "stianst", "createdAt": "2020-08-27T13:25:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODI5NDk0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODMyMDQ5Mg==", "url": "https://github.com/keycloak/keycloak/pull/7372#discussion_r478320492", "bodyText": "Perhaps we should externalize this list to make it configurable.", "author": "ssilvert", "createdAt": "2020-08-27T10:34:52Z", "path": "services/src/main/java/org/keycloak/encoding/ResourceEncodingHelper.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package org.keycloak.encoding;\n+\n+import org.keycloak.models.KeycloakSession;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+public class ResourceEncodingHelper {\n+\n+    private static final List<String> EXCLUDE_ENCODING = Arrays.asList(\"image/png\", \"image/jpeg\");", "originalCommit": "440b6a377d11bbf8ac879fab0deaffe99dc1694d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aef8da4afdada4f154124455638d3a4fa820a3f7", "url": "https://github.com/keycloak/keycloak/commit/aef8da4afdada4f154124455638d3a4fa820a3f7", "message": "KEYCLOAK-14548 Add support for cached gzip encoding of resources", "committedDate": "2020-08-27T12:49:15Z", "type": "forcePushed"}, {"oid": "57308aebaf48c9b8dbfa0b3fdc1107d9e3066595", "url": "https://github.com/keycloak/keycloak/commit/57308aebaf48c9b8dbfa0b3fdc1107d9e3066595", "message": "KEYCLOAK-14548 Add support for cached gzip encoding of resources", "committedDate": "2020-08-27T19:05:39Z", "type": "forcePushed"}, {"oid": "3855838dc2e4773e73bce1eff86ba778a1e5c513", "url": "https://github.com/keycloak/keycloak/commit/3855838dc2e4773e73bce1eff86ba778a1e5c513", "message": "KEYCLOAK-14548 Add support for cached gzip encoding of resources", "committedDate": "2020-08-27T19:07:41Z", "type": "forcePushed"}, {"oid": "05eea60e6849cf33856e804fd994ffef92659fe1", "url": "https://github.com/keycloak/keycloak/commit/05eea60e6849cf33856e804fd994ffef92659fe1", "message": "KEYCLOAK-14548 Add support for cached gzip encoding of resources", "committedDate": "2020-08-27T19:20:26Z", "type": "forcePushed"}, {"oid": "ac68734eb49547276a3b5bc79c601286e12e2062", "url": "https://github.com/keycloak/keycloak/commit/ac68734eb49547276a3b5bc79c601286e12e2062", "message": "KEYCLOAK-14548 Add support for cached gzip encoding of resources", "committedDate": "2020-09-01T19:08:42Z", "type": "commit"}, {"oid": "ac68734eb49547276a3b5bc79c601286e12e2062", "url": "https://github.com/keycloak/keycloak/commit/ac68734eb49547276a3b5bc79c601286e12e2062", "message": "KEYCLOAK-14548 Add support for cached gzip encoding of resources", "committedDate": "2020-09-01T19:08:42Z", "type": "forcePushed"}]}