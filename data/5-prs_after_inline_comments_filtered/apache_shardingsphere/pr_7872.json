{"pr_number": 7872, "pr_title": "add table UT", "pr_createdAt": "2020-10-21T10:42:47Z", "pr_url": "https://github.com/apache/shardingsphere/pull/7872", "timeline": [{"oid": "8bd2fdf763b1c12a219ae87c06f174090393752e", "url": "https://github.com/apache/shardingsphere/commit/8bd2fdf763b1c12a219ae87c06f174090393752e", "message": "add table UT", "committedDate": "2020-10-21T10:38:13Z", "type": "commit"}, {"oid": "183d5bc4d3b9617d43e67482b4f14cd9a3cc47e5", "url": "https://github.com/apache/shardingsphere/commit/183d5bc4d3b9617d43e67482b4f14cd9a3cc47e5", "message": "delete commont", "committedDate": "2020-10-21T10:55:28Z", "type": "commit"}, {"oid": "cf5eab39c182d40b05372e5f6183ffbce13f94ad", "url": "https://github.com/apache/shardingsphere/commit/cf5eab39c182d40b05372e5f6183ffbce13f94ad", "message": "fix", "committedDate": "2020-10-21T10:58:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgyNjA4Mg==", "url": "https://github.com/apache/shardingsphere/pull/7872#discussion_r509826082", "bodyText": "redundant blank line", "author": "tristaZero", "createdAt": "2020-10-22T01:26:48Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/java/org/apache/shardingsphere/test/sql/parser/parameterized/asserts/segment/table/TableAssert.java", "diffHunk": "@@ -54,28 +57,24 @@\n      * @param actual actual tables\n      * @param expected expected tables\n      */\n-    public static void assertIs(final SQLCaseAssertContext assertContext, final Collection<TableSegment> actual, final ExpectedTables expected) {\n-        assertThat(assertContext.getText(\"Tables size assertion error: \"), actual.size(), is(expected.getSimpleTables().size() + expected.getSubqueryTables().size()));\n-        assertSimpleTableSegment(assertContext, actual, expected);\n-        assertSubqueryTableSegment(assertContext, actual, expected);\n-    }\n-    \n-    /**\n-     * Assert actual table segments is correct with expected tables.\n-     * \n-     * @param assertContext assert context\n-     * @param actual actual tables\n-     * @param expected expected tables\n-     */\n-    public static void assertIs(final SQLCaseAssertContext assertContext, final Collection<SimpleTableSegment> actual, final List<ExpectedSimpleTable> expected) {\n-        assertThat(assertContext.getText(\"Tables size assertion error: \"), actual.size(), is(expected.size()));\n-        int count = 0;\n-        for (SimpleTableSegment each : actual) {\n-            assertIs(assertContext, each, expected.get(count));\n-            count++;\n+    public static void assertIs(final SQLCaseAssertContext assertContext, final TableSegment actual, final ExpectedTable expected) {\n+        if (actual instanceof JoinTableSegment) {\n+            assertIs(assertContext, (JoinTableSegment) actual, expected.getJoinTable());\n+\n+        } else if (actual instanceof SimpleTableSegment) {\n+            assertIs(assertContext, (SimpleTableSegment) actual, expected.getSimpleTable());\n+\n+        } else if (actual instanceof SubqueryTableSegment) {\n+            assertIs(assertContext, (SubqueryTableSegment) actual, expected.getSubqueryTable());\n+\n+        } else if (actual instanceof DeleteMultiTableSegment) {\n+            return;", "originalCommit": "cf5eab39c182d40b05372e5f6183ffbce13f94ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTg4ODUzOQ==", "url": "https://github.com/apache/shardingsphere/pull/7872#discussion_r509888539", "bodyText": "redundant blank line", "author": "tristaZero", "createdAt": "2020-10-22T05:29:07Z", "path": "shardingsphere-sql-parser/shardingsphere-sql-parser-test/src/main/java/org/apache/shardingsphere/test/sql/parser/parameterized/asserts/segment/table/TableAssert.java", "diffHunk": "@@ -54,28 +57,24 @@\n      * @param actual actual tables\n      * @param expected expected tables\n      */\n-    public static void assertIs(final SQLCaseAssertContext assertContext, final Collection<TableSegment> actual, final ExpectedTables expected) {\n-        assertThat(assertContext.getText(\"Tables size assertion error: \"), actual.size(), is(expected.getSimpleTables().size() + expected.getSubqueryTables().size()));\n-        assertSimpleTableSegment(assertContext, actual, expected);\n-        assertSubqueryTableSegment(assertContext, actual, expected);\n-    }\n-    \n-    /**\n-     * Assert actual table segments is correct with expected tables.\n-     * \n-     * @param assertContext assert context\n-     * @param actual actual tables\n-     * @param expected expected tables\n-     */\n-    public static void assertIs(final SQLCaseAssertContext assertContext, final Collection<SimpleTableSegment> actual, final List<ExpectedSimpleTable> expected) {\n-        assertThat(assertContext.getText(\"Tables size assertion error: \"), actual.size(), is(expected.size()));\n-        int count = 0;\n-        for (SimpleTableSegment each : actual) {\n-            assertIs(assertContext, each, expected.get(count));\n-            count++;\n+    public static void assertIs(final SQLCaseAssertContext assertContext, final TableSegment actual, final ExpectedTable expected) {\n+        if (actual instanceof JoinTableSegment) {\n+            assertIs(assertContext, (JoinTableSegment) actual, expected.getJoinTable());\n+\n+        } else if (actual instanceof SimpleTableSegment) {\n+            assertIs(assertContext, (SimpleTableSegment) actual, expected.getSimpleTable());\n+", "originalCommit": "cf5eab39c182d40b05372e5f6183ffbce13f94ad", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7716b86d66766b4c939452bf39e0aba2d227cae2", "url": "https://github.com/apache/shardingsphere/commit/7716b86d66766b4c939452bf39e0aba2d227cae2", "message": "delete redundant blank line", "committedDate": "2020-10-22T05:53:18Z", "type": "commit"}]}