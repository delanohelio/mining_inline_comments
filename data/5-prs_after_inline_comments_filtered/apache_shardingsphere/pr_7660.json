{"pr_number": 7660, "pr_title": "Try to extract sharding columns from target config if it's available.", "pr_createdAt": "2020-09-29T09:30:45Z", "pr_url": "https://github.com/apache/shardingsphere/pull/7660", "timeline": [{"oid": "26ce74f2ce6aa64266ed92d1ce3302238572ae3a", "url": "https://github.com/apache/shardingsphere/commit/26ce74f2ce6aa64266ed92d1ce3302238572ae3a", "message": "Update usage document.", "committedDate": "2020-09-29T08:14:44Z", "type": "commit"}, {"oid": "ef767bd8c4706faf339fe9ec951502487088346b", "url": "https://github.com/apache/shardingsphere/commit/ef767bd8c4706faf339fe9ec951502487088346b", "message": "Try to extract sharding columns from target config if it's available.", "committedDate": "2020-09-29T08:17:57Z", "type": "commit"}, {"oid": "370122a1176f46e4d4942a8b81e39b2fa53329b9", "url": "https://github.com/apache/shardingsphere/commit/370122a1176f46e4d4942a8b81e39b2fa53329b9", "message": "Fix NPE bug in DataSourceConfiguration.getDatabaseType().", "committedDate": "2020-09-29T08:56:14Z", "type": "commit"}, {"oid": "3a796c0872b859e8685627ce2f881108f76f326f", "url": "https://github.com/apache/shardingsphere/commit/3a796c0872b859e8685627ce2f881108f76f326f", "message": "add @Override", "committedDate": "2020-09-29T09:08:05Z", "type": "commit"}, {"oid": "e1d533da7a547663bc36e0f1eaa5e837cec62d79", "url": "https://github.com/apache/shardingsphere/commit/e1d533da7a547663bc36e0f1eaa5e837cec62d79", "message": "add log", "committedDate": "2020-09-29T09:26:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU4MjM2Mg==", "url": "https://github.com/apache/shardingsphere/pull/7660#discussion_r496582362", "bodyText": "null == databaseType", "author": "menghaoranss", "createdAt": "2020-09-29T09:41:46Z", "path": "shardingsphere-scaling/shardingsphere-scaling-core/src/main/java/org/apache/shardingsphere/scaling/core/config/ShardingSphereJDBCConfiguration.java", "diffHunk": "@@ -40,7 +40,15 @@\n     public ShardingSphereJDBCConfiguration(final String dataSource, final String rule) {\n         this.dataSource = dataSource;\n         this.rule = rule;\n-        Map<String, org.apache.shardingsphere.infra.config.datasource.DataSourceConfiguration> sourceDataSource = ConfigurationYamlConverter.loadDataSourceConfigurations(dataSource);\n-        this.databaseType = DatabaseTypes.getDatabaseTypeByURL(sourceDataSource.values().iterator().next().getProps().get(\"jdbcUrl\").toString());\n+        this.databaseType = getDatabaseType();\n+    }\n+    \n+    @Override\n+    public DatabaseType getDatabaseType() {\n+        if (databaseType == null) {", "originalCommit": "e1d533da7a547663bc36e0f1eaa5e837cec62d79", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b901480b9dd50b7288681d261fa1cf33eec4275a", "url": "https://github.com/apache/shardingsphere/commit/b901480b9dd50b7288681d261fa1cf33eec4275a", "message": "flip ==", "committedDate": "2020-09-29T09:42:09Z", "type": "commit"}]}