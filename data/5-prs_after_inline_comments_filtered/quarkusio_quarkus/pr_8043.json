{"pr_number": 8043, "pr_title": "Support Maven sha1 & changelist version properties", "pr_createdAt": "2020-03-21T14:21:55Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8043", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzE3MA==", "url": "https://github.com/quarkusio/quarkus/pull/8043#discussion_r395997170", "bodyText": "I believe you can use other property names as the version. Shouldn't we just test if the version matches \\$\\{.*\\}?", "author": "gastaldi", "createdAt": "2020-03-21T14:28:16Z", "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/resolver/maven/workspace/LocalProject.java", "diffHunk": "@@ -30,8 +32,9 @@\n \n     private static final String PROJECT_BASEDIR = \"${project.basedir}\";\n     private static final String POM_XML = \"pom.xml\";\n-    private static final String REVISION = \"revision\";\n-    static final String REVISION_EXPR = \"${revision}\";\n+\n+    private static final Pattern UNRESOLVED_VERSION_PATTERN = Pattern\n+            .compile(Pattern.quote(\"${\") + \"(revision|sha1|changelist)\" + Pattern.quote(\"}\"));", "originalCommit": "ed504dd2654dea970e07551e7989b14eac245ecc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzQ2NQ==", "url": "https://github.com/quarkusio/quarkus/pull/8043#discussion_r395997465", "bodyText": "That's what I first thought, too. But that is not the case as @aloubyansky pointed out here: #7786 (comment)\nSee also the following bit from https://maven.apache.org/maven-ci-friendly.html:\n\nIn fact I had a very strange problem when I used a custom property in another project and back then I did not know that custom properties are not allowed.", "author": "famod", "createdAt": "2020-03-21T14:32:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzE3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzU4NQ==", "url": "https://github.com/quarkusio/quarkus/pull/8043#discussion_r395997585", "bodyText": "Interesting. Didn't know about that", "author": "gastaldi", "createdAt": "2020-03-21T14:33:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzE3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwMDUyMA==", "url": "https://github.com/quarkusio/quarkus/pull/8043#discussion_r396000520", "bodyText": "Yeah, me neither. I should have added a small comment to this field but I forgot about that...", "author": "famod", "createdAt": "2020-03-21T15:12:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzE3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwMTU3Ng==", "url": "https://github.com/quarkusio/quarkus/pull/8043#discussion_r396001576", "bodyText": "There is still time, the PR wasn't merged yet \ud83d\ude09", "author": "gastaldi", "createdAt": "2020-03-21T15:26:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzE3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAwMzEyMw==", "url": "https://github.com/quarkusio/quarkus/pull/8043#discussion_r396003123", "bodyText": "Ok, will add a comment once the last check has finished (Windows JDK 11 JVM Tests).\nEdit: done!", "author": "famod", "createdAt": "2020-03-21T15:47:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NzE3MA=="}], "type": "inlineReview"}, {"oid": "6b41a75834e29bd3abeb685738f947fa94346111", "url": "https://github.com/quarkusio/quarkus/commit/6b41a75834e29bd3abeb685738f947fa94346111", "message": "Support Maven sha1 & changelist version properties", "committedDate": "2020-03-21T15:45:40Z", "type": "commit"}]}