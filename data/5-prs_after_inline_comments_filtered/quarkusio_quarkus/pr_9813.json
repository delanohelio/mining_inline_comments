{"pr_number": 9813, "pr_title": "Fast jar performance improvements", "pr_createdAt": "2020-06-05T06:22:30Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/9813", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTcyOTU1Nw==", "url": "https://github.com/quarkusio/quarkus/pull/9813#discussion_r435729557", "bodyText": "How weird...", "author": "geoand", "createdAt": "2020-06-05T07:09:37Z", "path": "independent-projects/bootstrap/runner/src/main/java/io/quarkus/bootstrap/runner/SerializedApplication.java", "diffHunk": "@@ -152,6 +168,24 @@ private static void writeJar(DataOutputStream out, Path jar) throws IOException\n         }\n     }\n \n+    private static void collectPackages(Path jar, Set<String> dirs) throws IOException {\n+        try (JarFile zip = new JarFile(jar.toFile())) {\n+            Enumeration<? extends ZipEntry> entries = zip.entries();\n+            while (entries.hasMoreElements()) {\n+                ZipEntry entry = entries.nextElement();\n+                if (!entry.isDirectory()) {\n+                    //some jars don't have correct directory entries\n+                    //so we look at the file paths instead\n+                    //looking at you h2", "originalCommit": "15ba22151378a124e797ab8fbef7e1ee3cf97a81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cecaab2025cc1216916c9529f3c2e05e6aa22a90", "url": "https://github.com/quarkusio/quarkus/commit/cecaab2025cc1216916c9529f3c2e05e6aa22a90", "message": "Fast jar performmance improvements", "committedDate": "2020-06-09T01:26:22Z", "type": "forcePushed"}, {"oid": "5229b95e79f15360b38432b60b8073ea1b67a784", "url": "https://github.com/quarkusio/quarkus/commit/5229b95e79f15360b38432b60b8073ea1b67a784", "message": "Fast jar performmance improvements", "committedDate": "2020-06-09T05:43:20Z", "type": "forcePushed"}, {"oid": "d579c23c68e9bd9b56752cf05f0f3551267b5e8f", "url": "https://github.com/quarkusio/quarkus/commit/d579c23c68e9bd9b56752cf05f0f3551267b5e8f", "message": "Fast jar performmance improvements", "committedDate": "2020-06-10T01:52:52Z", "type": "forcePushed"}, {"oid": "61ab24825a669352f3527a2ad8844aa76eb8f7b0", "url": "https://github.com/quarkusio/quarkus/commit/61ab24825a669352f3527a2ad8844aa76eb8f7b0", "message": "Fast jar performmance improvements", "committedDate": "2020-06-10T02:13:40Z", "type": "commit"}, {"oid": "61ab24825a669352f3527a2ad8844aa76eb8f7b0", "url": "https://github.com/quarkusio/quarkus/commit/61ab24825a669352f3527a2ad8844aa76eb8f7b0", "message": "Fast jar performmance improvements", "committedDate": "2020-06-10T02:13:40Z", "type": "forcePushed"}]}