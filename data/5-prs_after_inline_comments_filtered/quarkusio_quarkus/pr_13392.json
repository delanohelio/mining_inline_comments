{"pr_number": 13392, "pr_title": "Eagerly reject malformed requests", "pr_createdAt": "2020-11-19T21:02:57Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/13392", "timeline": [{"oid": "f495e749f09cfa3acbfb90ac6496fa46e4b2ed08", "url": "https://github.com/quarkusio/quarkus/commit/f495e749f09cfa3acbfb90ac6496fa46e4b2ed08", "message": "Eagerly reject malformed requests\n\nFixes #10801", "committedDate": "2020-11-19T21:02:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxMzYwNA==", "url": "https://github.com/quarkusio/quarkus/pull/13392#discussion_r527613604", "bodyText": "I don't know about that. It will log something with a full stacktrace and I don't think we want that.\nGiven it's new URI(httpServerRequest.uri()) that fails, why not do it ourselves and catch the exception? That would avoid the logging that I'm really not sure we want.", "author": "gsmet", "createdAt": "2020-11-20T10:57:30Z", "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/VertxHttpRecorder.java", "diffHunk": "@@ -126,6 +126,10 @@\n     private static final Handler<HttpServerRequest> ACTUAL_ROOT = new Handler<HttpServerRequest>() {\n         @Override\n         public void handle(HttpServerRequest httpServerRequest) {\n+            if (httpServerRequest.absoluteURI() == null) {", "originalCommit": "f495e749f09cfa3acbfb90ac6496fa46e4b2ed08", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ0MDg4MQ==", "url": "https://github.com/quarkusio/quarkus/pull/13392#discussion_r528440881", "bodyText": "Really we should just change vert.x to remove the logging. If we manually parse the URI ourselves then it will get parsed twice in most situations, which could affect performance.", "author": "stuartwdouglas", "createdAt": "2020-11-23T01:53:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxMzYwNA=="}], "type": "inlineReview"}]}