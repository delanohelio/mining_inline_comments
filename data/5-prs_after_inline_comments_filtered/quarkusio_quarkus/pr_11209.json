{"pr_number": 11209, "pr_title": "Use packages for the common RESTEasy reflection ignores and add the JSON packages to DEFAULT_IGNORED_PACKAGES", "pr_createdAt": "2020-08-04T18:44:38Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/11209", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI3MzMxOA==", "url": "https://github.com/quarkusio/quarkus/pull/11209#discussion_r465273318", "bodyText": "This one is missing, it's on the javax.ws.rs.container package, not on javax.ws.rs.core", "author": "jorsol", "createdAt": "2020-08-04T19:18:21Z", "path": "extensions/resteasy-common/deployment/src/main/java/io/quarkus/resteasy/common/deployment/ResteasyDotNames.java", "diffHunk": "@@ -80,28 +80,19 @@ public boolean test(DotName dotName) {\n \n     // Types ignored for reflection used by the RESTEasy and SmallRye REST client extensions.\n     private static final Set<DotName> TYPES_IGNORED_FOR_REFLECTION = new HashSet<>(Arrays.asList(\n-            // Jackson\n-            DotName.createSimple(\"com.fasterxml.jackson.databind.JsonNode\"),\n+    // Consider adding packages below instead if it makes more sense\n+    ));\n \n+    private static final String[] PACKAGES_IGNORED_FOR_REFLECTION = {\n+            // JSON-P\n+            \"javax.json.\",\n+            // Jackson\n+            \"com.fasterxml.jackson.databind.\",\n             // JAX-RS\n-            DotName.createSimple(\"javax.ws.rs.core.Response\"),\n-            DotName.createSimple(\"javax.ws.rs.core.Response.StatusType\"),\n-            DotName.createSimple(\"javax.ws.rs.container.AsyncResponse\"),", "originalCommit": "b91e8a7961011041d019e9956ee50843a867ee77", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI5MDU2MQ==", "url": "https://github.com/quarkusio/quarkus/pull/11209#discussion_r465290561", "bodyText": "Good catch, fixed!", "author": "gsmet", "createdAt": "2020-08-04T19:47:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI3MzMxOA=="}], "type": "inlineReview"}, {"oid": "a7e594e5f92eec9c04265f4680b67d6a55b8a76d", "url": "https://github.com/quarkusio/quarkus/commit/a7e594e5f92eec9c04265f4680b67d6a55b8a76d", "message": "Use packages for the common RESTEasy reflection ignores\n\nWe used to add classes one at a time but in all those cases, adding the\nwhole package makes more sense as everything will be handled by RESTEasy\nand specific (de)serializers.", "committedDate": "2020-08-04T19:47:12Z", "type": "commit"}, {"oid": "c69a90d128b5fc56cdd3932d6e1b2f8a3ad5f86b", "url": "https://github.com/quarkusio/quarkus/commit/c69a90d128b5fc56cdd3932d6e1b2f8a3ad5f86b", "message": "Add JSON packages to DEFAULT_IGNORED_PACKAGES", "committedDate": "2020-08-04T19:47:12Z", "type": "commit"}, {"oid": "c69a90d128b5fc56cdd3932d6e1b2f8a3ad5f86b", "url": "https://github.com/quarkusio/quarkus/commit/c69a90d128b5fc56cdd3932d6e1b2f8a3ad5f86b", "message": "Add JSON packages to DEFAULT_IGNORED_PACKAGES", "committedDate": "2020-08-04T19:47:12Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxMjQ5MA==", "url": "https://github.com/quarkusio/quarkus/pull/11209#discussion_r465512490", "bodyText": "Wondering if we could provide a config item for user to build this list up by themselves? Of course we can have good defaults, but we have been adding classes/ packages on a continual basis here.", "author": "machi1990", "createdAt": "2020-08-05T06:55:22Z", "path": "extensions/resteasy-common/deployment/src/main/java/io/quarkus/resteasy/common/deployment/ResteasyDotNames.java", "diffHunk": "@@ -80,28 +80,19 @@ public boolean test(DotName dotName) {\n \n     // Types ignored for reflection used by the RESTEasy and SmallRye REST client extensions.\n     private static final Set<DotName> TYPES_IGNORED_FOR_REFLECTION = new HashSet<>(Arrays.asList(\n-            // Jackson\n-            DotName.createSimple(\"com.fasterxml.jackson.databind.JsonNode\"),\n+    // Consider adding packages below instead if it makes more sense\n+    ));\n \n+    private static final String[] PACKAGES_IGNORED_FOR_REFLECTION = {", "originalCommit": "c69a90d128b5fc56cdd3932d6e1b2f8a3ad5f86b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUzMDUxNQ==", "url": "https://github.com/quarkusio/quarkus/pull/11209#discussion_r465530515", "bodyText": "Yeah, so I kinda agree. What makes me hesitant is that I fear they won't report these things anymore, thus we would have a bad experience for new users.", "author": "gsmet", "createdAt": "2020-08-05T07:33:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxMjQ5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU2Njk2Mw==", "url": "https://github.com/quarkusio/quarkus/pull/11209#discussion_r465566963", "bodyText": "Yes, but new users will ran into these warnings and report them anyway. We could either add the configuration key to the warning message to make the experience even better or once the issue is reported see if we need to review the \"default values\" or something more refined need to be done.", "author": "machi1990", "createdAt": "2020-08-05T08:38:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxMjQ5MA=="}], "type": "inlineReview"}]}