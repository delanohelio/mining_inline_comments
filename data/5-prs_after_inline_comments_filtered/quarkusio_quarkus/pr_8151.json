{"pr_number": 8151, "pr_title": "Generate projects for Java 11 by default", "pr_createdAt": "2020-03-25T14:22:18Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8151", "timeline": [{"oid": "7ef666f1733c970c22f3dcc63d37dd24b68e4e85", "url": "https://github.com/quarkusio/quarkus/commit/7ef666f1733c970c22f3dcc63d37dd24b68e4e85", "message": "Generate projects for Java 11 by default", "committedDate": "2020-03-25T14:21:15Z", "type": "commit"}, {"oid": "36ca0171102cddf80aa6def23766759b40cc396c", "url": "https://github.com/quarkusio/quarkus/commit/36ca0171102cddf80aa6def23766759b40cc396c", "message": "Parameterize the Java target\n\nBy default, it is based on the Java version used to create the project.\nIt can be overridden in CreateProject though if you really want to\nenforce it in your tools.\n\nI haven't exposed it for now as we will probably remove it or tweak it\nlater.\n\nNote that even if you enforce it, it will still use either 8 or 11 for\nnow. We might want to further enhance that later.", "committedDate": "2020-03-25T16:30:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODAwNzc3Mw==", "url": "https://github.com/quarkusio/quarkus/pull/8151#discussion_r398007773", "bodyText": "The comment isn't really helpful, just saying :)", "author": "geoand", "createdAt": "2020-03-25T16:47:09Z", "path": "independent-projects/tools/common/src/main/java/io/quarkus/cli/commands/CreateProject.java", "diffHunk": "@@ -134,6 +147,15 @@ public boolean doCreateProject(final Map<String, Object> context) throws IOExcep\n     }\n \n     public QuarkusCommandOutcome execute() throws QuarkusCommandException {\n+        // Define the Java version to use determined from the one specified or the one creating the project", "originalCommit": "36ca0171102cddf80aa6def23766759b40cc396c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE3ODM5NQ==", "url": "https://github.com/quarkusio/quarkus/pull/8151#discussion_r398178395", "bodyText": "why not have one \"java_target\" and another \"java_underscore_target\" so the same property isn't to be treated differently ?", "author": "maxandersen", "createdAt": "2020-03-25T21:23:10Z", "path": "independent-projects/tools/common/src/main/java/io/quarkus/cli/commands/CreateProject.java", "diffHunk": "@@ -134,6 +147,15 @@ public boolean doCreateProject(final Map<String, Object> context) throws IOExcep\n     }\n \n     public QuarkusCommandOutcome execute() throws QuarkusCommandException {\n+        // Define the Java version to use determined from the one specified or the one creating the project\n+        Matcher matcher = JAVA_VERSION_PATTERN\n+                .matcher(this.javaTarget != null ? this.javaTarget : System.getProperty(\"java.version\", \"\"));\n+        if (matcher.matches() && Integer.parseInt(matcher.group(1)) < 11) {\n+            invocation.setProperty(JAVA_TARGET, invocation.getBuildTool() == BuildTool.MAVEN ? \"1.8\" : \"1_8\");", "originalCommit": "36ca0171102cddf80aa6def23766759b40cc396c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM3NjQ2NA==", "url": "https://github.com/quarkusio/quarkus/pull/8151#discussion_r398376464", "bodyText": "That was the other option I pondered. I decided to go with this one.", "author": "gsmet", "createdAt": "2020-03-26T07:58:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODE3ODM5NQ=="}], "type": "inlineReview"}, {"oid": "a2a8a8498f7f1669bc60c19922acf035a6b85b90", "url": "https://github.com/quarkusio/quarkus/commit/a2a8a8498f7f1669bc60c19922acf035a6b85b90", "message": "Keep template files compatible with Maven plugin < 1.3.1", "committedDate": "2020-03-26T08:51:45Z", "type": "commit"}]}