{"pr_number": 9790, "pr_title": "Add native args configuration in quarkusBuild task", "pr_createdAt": "2020-06-04T13:28:49Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/9790", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI2OTQ3MA==", "url": "https://github.com/quarkusio/quarkus/pull/9790#discussion_r435269470", "bodyText": "Just to clarify, is the purpose of this test to make sure the nativeArgs can be parsed and are a valid config?", "author": "aloubyansky", "createdAt": "2020-06-04T13:47:22Z", "path": "devtools/gradle/src/functionalTest/java/io/quarkus/gradle/BasicJavaNativeBuildTest.java", "diffHunk": "@@ -0,0 +1,29 @@\n+package io.quarkus.gradle;\n+\n+import org.gradle.testkit.runner.BuildResult;\n+import org.gradle.testkit.runner.GradleRunner;\n+import org.gradle.testkit.runner.TaskOutcome;\n+import org.junit.jupiter.api.Test;\n+\n+import java.io.File;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class BasicJavaNativeBuildTest extends QuarkusGradleTestBase  {\n+\n+    @Test\n+    public void shouldIgnoreNativeArgs() throws Exception{\n+        final File projectDir = getProjectDir(\"basic-java-native-module\");\n+\n+        BuildResult build = GradleRunner.create()\n+                .forwardOutput()\n+                .withPluginClasspath()\n+                .withArguments(arguments(\"clean\", \"quarkusBuild\"))\n+                .withProjectDir(projectDir)\n+                .build();\n+\n+        assertThat(build.task(\":quarkusBuild\").getOutcome()).isEqualTo(TaskOutcome.SUCCESS);\n+        assertThat(projectDir.toPath().resolve(\"build\").resolve(\"foo-1.0.0-SNAPSHOT-runner.jar\")).exists();\n+        assertThat(projectDir.toPath().resolve(\"build\").resolve(\"foo-1.0.0-SNAPSHOT-runner\")).doesNotExist();\n+    }\n+}", "originalCommit": "754ac984dbc7bf10bb7bdfd562c2aa03af3e8bc1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI4NzAzMQ==", "url": "https://github.com/quarkusio/quarkus/pull/9790#discussion_r435287031", "bodyText": "Yes exactly.", "author": "glefloch", "createdAt": "2020-06-04T14:08:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI2OTQ3MA=="}], "type": "inlineReview"}, {"oid": "baf502db819aa9e11676373a227437fea19d2c71", "url": "https://github.com/quarkusio/quarkus/commit/baf502db819aa9e11676373a227437fea19d2c71", "message": "Add native args configuration in quarkusBuild task", "committedDate": "2020-06-04T16:58:06Z", "type": "commit"}, {"oid": "baf502db819aa9e11676373a227437fea19d2c71", "url": "https://github.com/quarkusio/quarkus/commit/baf502db819aa9e11676373a227437fea19d2c71", "message": "Add native args configuration in quarkusBuild task", "committedDate": "2020-06-04T16:58:06Z", "type": "forcePushed"}]}