{"pr_number": 6924, "pr_title": "Add OIDC token grace period, better support for namespace-qualified claim paths and redirects", "pr_createdAt": "2020-01-31T18:18:24Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/6924", "timeline": [{"oid": "1573ceec9843a66de87eab1fd0a5c244dfa0a966", "url": "https://github.com/quarkusio/quarkus/commit/1573ceec9843a66de87eab1fd0a5c244dfa0a966", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-02T19:47:09Z", "type": "forcePushed"}, {"oid": "4bee27226df86f1533d683b022f948249a9df035", "url": "https://github.com/quarkusio/quarkus/commit/4bee27226df86f1533d683b022f948249a9df035", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-03T11:17:52Z", "type": "forcePushed"}, {"oid": "63b6a4c04b9fed6dc5e5efbf28a14f86bf2089e9", "url": "https://github.com/quarkusio/quarkus/commit/63b6a4c04b9fed6dc5e5efbf28a14f86bf2089e9", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-03T11:23:00Z", "type": "forcePushed"}, {"oid": "c1312a5ab8ae9bda9bd24795b135248e12eb637b", "url": "https://github.com/quarkusio/quarkus/commit/c1312a5ab8ae9bda9bd24795b135248e12eb637b", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-03T11:29:22Z", "type": "forcePushed"}, {"oid": "d2f1dd78a2c40fb04c148632c119eaadce4f8112", "url": "https://github.com/quarkusio/quarkus/commit/d2f1dd78a2c40fb04c148632c119eaadce4f8112", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-04T16:07:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE5MjY2Mg==", "url": "https://github.com/quarkusio/quarkus/pull/6924#discussion_r375192662", "bodyText": "@sberyozkin I let you change that one to use debugf. Ping me when it's done. Thanks!", "author": "gsmet", "createdAt": "2020-02-05T11:06:56Z", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/CodeAuthenticationMechanism.java", "diffHunk": "@@ -162,7 +177,10 @@ private static QuarkusSecurityIdentity augmentIdentity(SecurityIdentity security\n         }\n \n         params.put(\"code\", code);\n-        params.put(\"redirect_uri\", buildCodeRedirectUri(context, absoluteUri, getDynamicPath(context, absoluteUri)));\n+        String redirectPath = getRedirectPath(context, absoluteUri);\n+        String redirectUriParam = buildRedirectUri(context, absoluteUri, redirectPath);\n+        LOG.debug(\"Token request redirect_uri parameter: \" + redirectUriParam);", "originalCommit": "d2f1dd78a2c40fb04c148632c119eaadce4f8112", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE5NTYyMw==", "url": "https://github.com/quarkusio/quarkus/pull/6924#discussion_r375195623", "bodyText": "@gsmet Hi Guillaume, it is done, there were 2 more instances of debug in some other parts of this class. Thanks for spotting it.", "author": "sberyozkin", "createdAt": "2020-02-05T11:13:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE5MjY2Mg=="}], "type": "inlineReview"}, {"oid": "45a5700fc95327d9c2ffadfe64d6d08a159cba72", "url": "https://github.com/quarkusio/quarkus/commit/45a5700fc95327d9c2ffadfe64d6d08a159cba72", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-05T11:12:21Z", "type": "forcePushed"}, {"oid": "3b64e80c5bf5f8bb4f691b30fa255028aaf17dcb", "url": "https://github.com/quarkusio/quarkus/commit/3b64e80c5bf5f8bb4f691b30fa255028aaf17dcb", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-06T09:45:58Z", "type": "commit"}, {"oid": "3b64e80c5bf5f8bb4f691b30fa255028aaf17dcb", "url": "https://github.com/quarkusio/quarkus/commit/3b64e80c5bf5f8bb4f691b30fa255028aaf17dcb", "message": "Add OIDC token grace period, namespace-qualified claim path check, complete redirect support", "committedDate": "2020-02-06T09:45:58Z", "type": "forcePushed"}]}