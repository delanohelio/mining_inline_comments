{"pr_number": 12787, "pr_title": "BuildMojo - Delete .jar.original for both file and directory case", "pr_createdAt": "2020-10-19T10:41:43Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/12787", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY0OTMzMg==", "url": "https://github.com/quarkusio/quarkus/pull/12787#discussion_r507649332", "bodyText": "Perhaps we should call https://github.com/quarkusio/quarkus/blob/master/independent-projects/bootstrap/app-model/src/main/java/io/quarkus/bootstrap/util/IoUtils.java#L58 instead as this is what we've been using everywhere until now.", "author": "aloubyansky", "createdAt": "2020-10-19T10:45:55Z", "path": "devtools/maven/src/main/java/io/quarkus/maven/BuildMojo.java", "diffHunk": "@@ -97,7 +98,12 @@ protected void doExecute() throws MojoExecutionException {\n                         final Path standardJar = curatedApplication.getAppModel().getAppArtifact().getPaths().getSinglePath();\n                         if (Files.exists(standardJar)) {\n                             try {\n-                                Files.deleteIfExists(result.getJar().getOriginalArtifact());\n+                                if (Files.exists(result.getJar().getOriginalArtifact())) {\n+                                    Files.walk(result.getJar().getOriginalArtifact())\n+                                            .sorted(Comparator.reverseOrder())\n+                                            .map(Path::toFile)\n+                                            .forEach(File::delete);\n+                                }", "originalCommit": "97f2aa302d2d39a48dad88c9615e727b4319687d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY0OTc2Mg==", "url": "https://github.com/quarkusio/quarkus/pull/12787#discussion_r507649762", "bodyText": "Ok, thanks forpoinnter, I will update the PR", "author": "rsvoboda", "createdAt": "2020-10-19T10:46:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY0OTMzMg=="}], "type": "inlineReview"}, {"oid": "e97aed758054066145c33e65f75da519300cf769", "url": "https://github.com/quarkusio/quarkus/commit/e97aed758054066145c33e65f75da519300cf769", "message": "Delete .jar.original for both file and directory case", "committedDate": "2020-10-19T10:52:17Z", "type": "commit"}]}