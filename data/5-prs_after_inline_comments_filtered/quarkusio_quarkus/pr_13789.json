{"pr_number": 13789, "pr_title": "Make it possible for integration tests to observe Classloading events", "pr_createdAt": "2020-12-09T18:33:56Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/13789", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MDc3NA==", "url": "https://github.com/quarkusio/quarkus/pull/13789#discussion_r540190774", "bodyText": "I think an enhanced for-loop would be better here for performance purposes?", "author": "gastaldi", "createdAt": "2020-12-10T14:00:13Z", "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/classloading/QuarkusClassLoader.java", "diffHunk": "@@ -362,11 +365,13 @@ public InputStream getResourceAsStream(String unsanitisedName) {\n \n     @Override\n     public Class<?> loadClass(String name) throws ClassNotFoundException {\n+        classLoaderEventListeners.forEach(l -> l.loadClass(name, this.name));", "originalCommit": "181ee50f0d0b33925df6f7a6d4b534ef6a2e7d88", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MjE3OQ==", "url": "https://github.com/quarkusio/quarkus/pull/13789#discussion_r540192179", "bodyText": "That's certainly true, but as this is the dev and test mode ClassLoader, it shouldn't make much of a difference.\nSanne knows I was real picky about the prod ClassLoader, but for this one I don't think we need to be that extreme :)", "author": "geoand", "createdAt": "2020-12-10T14:02:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MDc3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM5NzY2Mw==", "url": "https://github.com/quarkusio/quarkus/pull/13789#discussion_r540397663", "bodyText": "I generally prefer avoiding lambdas myself, so I'd be happy to change this if you prefer.\nThe reason I went with it in this case is that this code only applies to test/dev mode - so I'm assuming the one-liner is less intrusive and maintenance friendly. No strong opinions, I just thought this stuff shouldn't be a distraction from the overall ClassLoading business :)", "author": "Sanne", "createdAt": "2020-12-10T18:24:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MDc3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQwMjE3Mg==", "url": "https://github.com/quarkusio/quarkus/pull/13789#discussion_r540402172", "bodyText": "If changing that makes the test or dev mode run faster, I'd say go for it \ud83d\ude09", "author": "gastaldi", "createdAt": "2020-12-10T18:31:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MDc3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDkwNTU3MQ==", "url": "https://github.com/quarkusio/quarkus/pull/13789#discussion_r540905571", "bodyText": "done", "author": "Sanne", "createdAt": "2020-12-11T12:14:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MDc3NA=="}], "type": "inlineReview"}, {"oid": "d7ee30885de571cd6d5896595c70ecb226547752", "url": "https://github.com/quarkusio/quarkus/commit/d7ee30885de571cd6d5896595c70ecb226547752", "message": "Make it possible for integration tests to observe Classloading events", "committedDate": "2020-12-11T12:09:18Z", "type": "commit"}, {"oid": "de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "url": "https://github.com/quarkusio/quarkus/commit/de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "message": "Replace the for-each with a traditional for loop in QuarkusClassLoader", "committedDate": "2020-12-11T12:12:46Z", "type": "commit"}, {"oid": "de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "url": "https://github.com/quarkusio/quarkus/commit/de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "message": "Replace the for-each with a traditional for loop in QuarkusClassLoader", "committedDate": "2020-12-11T12:12:46Z", "type": "forcePushed"}]}