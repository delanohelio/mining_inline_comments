{"pr_number": 8111, "pr_title": "Avoid using a null tenantId and enforce maps are initialized", "pr_createdAt": "2020-03-24T14:09:11Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/8111", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE4NTc5Mw==", "url": "https://github.com/quarkusio/quarkus/pull/8111#discussion_r397185793", "bodyText": "assertNotNull will only be triggered if asserts are enabled in the code.\nMaybe Asserts.checkNotNullParam is better,  but since staticTenantsConfig is not a parameter, I wonder if a simple if (staticTenantsConfig == null) { throw new IllegalStateException() } isn't easier \ud83e\udd14", "author": "gastaldi", "createdAt": "2020-03-24T14:16:39Z", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/DefaultTenantConfigResolver.java", "diffHunk": "@@ -77,13 +78,15 @@ void setTenantConfigContextFactory(Function<OidcTenantConfig, TenantConfigContex\n     }\n \n     private TenantConfigContext getTenantConfigFromTenantResolver(RoutingContext context) {\n+        Assert.assertNotNull(staticTenantsConfig);", "originalCommit": "62989f703cb69a102e00681f699754c678c19bbf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIyMzA3OA==", "url": "https://github.com/quarkusio/quarkus/pull/8111#discussion_r397223078", "bodyText": "@gastaldi How does it look now ? (FYI, I've dropped a dynamicTenantsConfig map check as it is initialized in a PostConstruct method)", "author": "sberyozkin", "createdAt": "2020-03-24T15:03:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE4NTc5Mw=="}], "type": "inlineReview"}, {"oid": "022900baad38b8bdb6bb3605053394d3e54502e0", "url": "https://github.com/quarkusio/quarkus/commit/022900baad38b8bdb6bb3605053394d3e54502e0", "message": "Avoid using a null tenantId", "committedDate": "2020-03-24T15:01:46Z", "type": "forcePushed"}, {"oid": "11eca829a921356d5a1b6e455c1eebbeef370eee", "url": "https://github.com/quarkusio/quarkus/commit/11eca829a921356d5a1b6e455c1eebbeef370eee", "message": "Avoid using a null tenantId", "committedDate": "2020-03-24T15:18:00Z", "type": "forcePushed"}, {"oid": "6cf0d68b3e04c0d049d4950f1a05a0598548b222", "url": "https://github.com/quarkusio/quarkus/commit/6cf0d68b3e04c0d049d4950f1a05a0598548b222", "message": "Avoid using a null tenantId", "committedDate": "2020-03-24T15:20:29Z", "type": "commit"}, {"oid": "6cf0d68b3e04c0d049d4950f1a05a0598548b222", "url": "https://github.com/quarkusio/quarkus/commit/6cf0d68b3e04c0d049d4950f1a05a0598548b222", "message": "Avoid using a null tenantId", "committedDate": "2020-03-24T15:20:29Z", "type": "forcePushed"}]}