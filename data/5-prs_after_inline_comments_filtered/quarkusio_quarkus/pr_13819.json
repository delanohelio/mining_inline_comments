{"pr_number": 13819, "pr_title": "Set targetDirectory when launching from IDE", "pr_createdAt": "2020-12-10T17:26:55Z", "pr_url": "https://github.com/quarkusio/quarkus/pull/13819", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1Nzc0Mg==", "url": "https://github.com/quarkusio/quarkus/pull/13819#discussion_r540357742", "bodyText": "This works for maven, as it points to target", "author": "geoand", "createdAt": "2020-12-10T17:27:17Z", "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/IDELauncherImpl.java", "diffHunk": "@@ -28,7 +28,8 @@ public static Closeable launch(Path projectRoot, Map<String, Object> context) {\n                     .setBaseClassLoader(IDELauncherImpl.class.getClassLoader())\n                     .setProjectRoot(projectRoot)\n                     .setIsolateDeployment(true)\n-                    .setMode(QuarkusBootstrap.Mode.DEV);\n+                    .setMode(QuarkusBootstrap.Mode.DEV)\n+                    .setTargetDirectory(projectRoot.getParent());", "originalCommit": "f596faea0534c34015206f3e2750122037794fdd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1NzkyMg==", "url": "https://github.com/quarkusio/quarkus/pull/13819#discussion_r540357922", "bodyText": "I have no idea if this works in Gradle - I just copied what I did for Maven", "author": "geoand", "createdAt": "2020-12-10T17:27:34Z", "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/IDELauncherImpl.java", "diffHunk": "@@ -39,7 +40,8 @@ public static Closeable launch(Path projectRoot, Map<String, Object> context) {\n                 Path launchingModulePath = QuarkusModelHelper.getClassPath(launchingModule);\n                 // Gradle uses a different output directory for classes, we override the one used by the IDE\n                 builder.setProjectRoot(launchingModulePath)\n-                        .setApplicationRoot(launchingModulePath);\n+                        .setApplicationRoot(launchingModulePath)\n+                        .setTargetDirectory(launchingModulePath.getParent());", "originalCommit": "f596faea0534c34015206f3e2750122037794fdd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDczNTU4Ng==", "url": "https://github.com/quarkusio/quarkus/pull/13819#discussion_r540735586", "bodyText": "@glefloch do you know if this will work for Gradle?", "author": "geoand", "createdAt": "2020-12-11T07:10:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1NzkyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDk0NzExNw==", "url": "https://github.com/quarkusio/quarkus/pull/13819#discussion_r540947117", "bodyText": "@geoand, I just ran a quick test.\nThe launchingModulePath points to build/classes/java/main. If you need to point to the module build dir, you can use launchingModule.getBuildDir() which points to build/or if you need the module root directory, you can use launchingModule.getProjectRoot(). So I think the should be .setTargetDirectory(launchingModule.getProjectRoot())", "author": "glefloch", "createdAt": "2020-12-11T13:29:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1NzkyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDk2NTcyMA==", "url": "https://github.com/quarkusio/quarkus/pull/13819#discussion_r540965720", "bodyText": "Thanks @glefloch!", "author": "geoand", "createdAt": "2020-12-11T13:59:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM1NzkyMg=="}], "type": "inlineReview"}, {"oid": "ecace4710c67216c2297b56cba71c9088324a42b", "url": "https://github.com/quarkusio/quarkus/commit/ecace4710c67216c2297b56cba71c9088324a42b", "message": "Set targetDirectory when launching from IDE\n\nFixes: #13814", "committedDate": "2020-12-11T13:58:51Z", "type": "forcePushed"}, {"oid": "ec97f49894d2381effbe3bdfb20dafc140dbf4cd", "url": "https://github.com/quarkusio/quarkus/commit/ec97f49894d2381effbe3bdfb20dafc140dbf4cd", "message": "Set targetDirectory when launching from IDE\n\nFixes: #13814", "committedDate": "2020-12-11T14:01:54Z", "type": "commit"}, {"oid": "ec97f49894d2381effbe3bdfb20dafc140dbf4cd", "url": "https://github.com/quarkusio/quarkus/commit/ec97f49894d2381effbe3bdfb20dafc140dbf4cd", "message": "Set targetDirectory when launching from IDE\n\nFixes: #13814", "committedDate": "2020-12-11T14:01:54Z", "type": "forcePushed"}]}