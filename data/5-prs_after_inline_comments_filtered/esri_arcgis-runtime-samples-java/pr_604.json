{"pr_number": 604, "pr_title": "New Basemaps: Map Category - part 1 of 2", "pr_createdAt": "2020-12-04T14:57:47Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604", "timeline": [{"oid": "c11c5ab0500750fdbf1fc5c62e8d67aa77caba34", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/c11c5ab0500750fdbf1fc5c62e8d67aa77caba34", "message": "Update build.gradle", "committedDate": "2020-11-24T12:10:23Z", "type": "commit"}, {"oid": "badfe5550d022e544621828e5e043306cea02cd5", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/badfe5550d022e544621828e5e043306cea02cd5", "message": "display map", "committedDate": "2020-11-25T13:58:06Z", "type": "commit"}, {"oid": "71f6cb3b11922ddc3b1791a209ff93499f100441", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/71f6cb3b11922ddc3b1791a209ff93499f100441", "message": "Access load status", "committedDate": "2020-11-25T14:05:34Z", "type": "commit"}, {"oid": "60605084457bb5c8e4a3d6d788406ed567233b69", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/60605084457bb5c8e4a3d6d788406ed567233b69", "message": "Change basemap", "committedDate": "2020-11-25T14:09:32Z", "type": "commit"}, {"oid": "1b9a475ec5ece5059418328020a2ed99c419c98d", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1b9a475ec5ece5059418328020a2ed99c419c98d", "message": "Create and save map", "committedDate": "2020-11-25T14:15:36Z", "type": "commit"}, {"oid": "a2327538e0fb3b0e34f7634ca08fc95a18d958ef", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/a2327538e0fb3b0e34f7634ca08fc95a18d958ef", "message": "Update readme metadata files", "committedDate": "2020-11-25T15:32:33Z", "type": "commit"}, {"oid": "192d9d0e93fe228b949338759a3e8a9cdda09063", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/192d9d0e93fe228b949338759a3e8a9cdda09063", "message": "Change basemap - set viewpoint on mapview", "committedDate": "2020-12-04T14:49:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE1NTE3OQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538155179", "bodyText": "Maybe it'd be better to make this into 'plain english' by saying 'standard imagery basemap style'.\nI might be wrong but possibly the enums are named in a format to have the 'imagery' appear first, followed by a qualifier (imagery, imagery standard, imagery labels, etc.). It's not 100% clear from the JavaDoc though, so I'll leave that to the phrasing specialists ;)", "author": "JonLavi", "createdAt": "2020-12-08T09:00:57Z", "path": "map/access-load-status/src/main/java/com/esri/samples/access_load_status/AccessLoadStatusSample.java", "diffHunk": "@@ -112,10 +117,10 @@ public void start(Stage stage) {\n       // add label, text and button to the control panel\n       controlsVBox.getChildren().addAll(loadStatusLabel, loadStatusText, reloadMapButton);\n \n-      // create ArcGISMap with the imagery basemap\n-      map = new ArcGISMap(Basemap.createImagery());\n+      // create a map with the imagery standard basemap style", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE1NjA5OQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538156099", "bodyText": "Could do plain english here as well?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // setup a listview of basemaps styles\n          \n          \n            \n                  // setup a list view of basemaps styles", "author": "JonLavi", "createdAt": "2020-12-08T09:02:12Z", "path": "map/change-basemap/src/main/java/com/esri/samples/change_basemap/ChangeBasemapSample.java", "diffHunk": "@@ -53,27 +51,32 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n       // creates a map view\n       mapView = new MapView();\n \n-      // setup listview of basemaps\n-      ListView<Basemap.Type> basemapList = new ListView<>(FXCollections.observableArrayList(Basemap.Type.values()));\n-      basemapList.setMaxSize(250, 150);\n+      // setup a listview of basemaps styles", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE1NjkzNw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538156937", "bodyText": "Sorry if this is a bit pedantic, but it's probably best naming the variable basemapStyleListView as well, as List is a different class with different implications (it's a data structure, rather than a UI element)", "author": "JonLavi", "createdAt": "2020-12-08T09:03:27Z", "path": "map/change-basemap/src/main/java/com/esri/samples/change_basemap/ChangeBasemapSample.java", "diffHunk": "@@ -53,27 +51,32 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n       // creates a map view\n       mapView = new MapView();\n \n-      // setup listview of basemaps\n-      ListView<Basemap.Type> basemapList = new ListView<>(FXCollections.observableArrayList(Basemap.Type.values()));\n-      basemapList.setMaxSize(250, 150);\n+      // setup a listview of basemaps styles\n+      ListView<BasemapStyle> basemapStyleList = new ListView<>(FXCollections.observableArrayList(BasemapStyle.values()));", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE2NTMwMQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538165301", "bodyText": "Maybe List View here as well? I see the other variables could also be named a bit better, so up to you if you want to include it in this PR or not\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              private ListView<BasemapStyle> basemapStyleList;\n          \n          \n            \n              private ListView<BasemapStyle> basemapStyleListView;", "author": "JonLavi", "createdAt": "2020-12-08T09:15:18Z", "path": "map/create-and-save-map/src/main/java/com/esri/samples/create_and_save_map/CreateAndSaveMapController.java", "diffHunk": "@@ -60,7 +62,7 @@\n   @FXML\n   private ComboBox<PortalFolder> folderList;\n   @FXML\n-  private ListView<Basemap> basemapList;\n+  private ListView<BasemapStyle> basemapStyleList;", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE2OTI3OA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538169278", "bodyText": "Small formatting suggestion, but up to you. I think these things look near when each entry is on it's own line, as I find it a lot easier to read:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                basemapStyleList.getItems().addAll(BasemapStyle.ARCGIS_STREETS, BasemapStyle.ARCGIS_IMAGERY_STANDARD,\n          \n          \n            \n                  BasemapStyle.ARCGIS_TOPOGRAPHIC, BasemapStyle.ARCGIS_OCEANS);\n          \n          \n            \n                basemapStyleList.getItems().addAll(\n          \n          \n            \n            \t    BasemapStyle.ARCGIS_STREETS, \n          \n          \n            \n            \t    BasemapStyle.ARCGIS_IMAGERY_STANDARD,\n          \n          \n            \n            \t    BasemapStyle.ARCGIS_TOPOGRAPHIC, \n          \n          \n            \n            \t    BasemapStyle.ARCGIS_OCEANS);", "author": "JonLavi", "createdAt": "2020-12-08T09:20:42Z", "path": "map/create-and-save-map/src/main/java/com/esri/samples/create_and_save_map/CreateAndSaveMapController.java", "diffHunk": "@@ -74,24 +76,29 @@\n   @FXML\n   private void initialize() {\n \n-    // set basemap options\n-    basemapList.getItems().addAll(Basemap.createStreets(), Basemap.createImagery(), Basemap\n-            .createTopographic(), Basemap.createOceans());\n+    // authentication with an API key or named user is required to access basemaps and other location services\n+    String yourAPIKey = System.getProperty(\"apiKey\");\n+    ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n \n-    // update basemap when selection changes\n-    basemapList.getSelectionModel().select(0);\n-    basemapList.getSelectionModel().selectedItemProperty()\n-            .addListener(o -> map.setBasemap(basemapList.getSelectionModel().getSelectedItem()));\n+    // set the basemap style options\n+    basemapStyleList.getItems().addAll(BasemapStyle.ARCGIS_STREETS, BasemapStyle.ARCGIS_IMAGERY_STANDARD,\n+      BasemapStyle.ARCGIS_TOPOGRAPHIC, BasemapStyle.ARCGIS_OCEANS);", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE3MjE0Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538172143", "bodyText": "It looks to me as if this variable is empty at this point? You have the same action on line 98, so it's probably ok to get rid of this line.", "author": "JonLavi", "createdAt": "2020-12-08T09:24:27Z", "path": "map/create-and-save-map/src/main/java/com/esri/samples/create_and_save_map/CreateAndSaveMapController.java", "diffHunk": "@@ -74,24 +76,29 @@\n   @FXML\n   private void initialize() {\n \n-    // set basemap options\n-    basemapList.getItems().addAll(Basemap.createStreets(), Basemap.createImagery(), Basemap\n-            .createTopographic(), Basemap.createOceans());\n+    // authentication with an API key or named user is required to access basemaps and other location services\n+    String yourAPIKey = System.getProperty(\"apiKey\");\n+    ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n \n-    // update basemap when selection changes\n-    basemapList.getSelectionModel().select(0);\n-    basemapList.getSelectionModel().selectedItemProperty()\n-            .addListener(o -> map.setBasemap(basemapList.getSelectionModel().getSelectedItem()));\n+    // set the basemap style options\n+    basemapStyleList.getItems().addAll(BasemapStyle.ARCGIS_STREETS, BasemapStyle.ARCGIS_IMAGERY_STANDARD,\n+      BasemapStyle.ARCGIS_TOPOGRAPHIC, BasemapStyle.ARCGIS_OCEANS);\n \n-    basemapList.setCellFactory(c -> new BasemapCell());\n+    // update the basemap when the selection changes\n+    basemapStyleList.getSelectionModel().select(0);\n+    basemapStyleList.getSelectionModel().selectedItemProperty()\n+      .addListener(o -> map.setBasemap(new Basemap(basemapStyleList.getSelectionModel().getSelectedItem())));\n \n-    // create and set a map with the first basemap option\n-    map = new ArcGISMap(basemapList.getSelectionModel().getSelectedItem());\n+    basemapStyleList.setCellFactory(c -> new BasemapCell());\n+    mapView.setMap(map);", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE4OTU0MA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538189540", "bodyText": "Ah - think I maybe reordered the MapView setup part or something so must have missed removing this. Thanks!", "author": "jenmerritt", "createdAt": "2020-12-08T09:47:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE3MjE0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE3MzAyNA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538173024", "bodyText": "Perhaps it'd be easier to do this after line 85, to do all the setup steps for the list view at once (i.e. put in the values, set the cell factory)", "author": "JonLavi", "createdAt": "2020-12-08T09:25:38Z", "path": "map/create-and-save-map/src/main/java/com/esri/samples/create_and_save_map/CreateAndSaveMapController.java", "diffHunk": "@@ -74,24 +76,29 @@\n   @FXML\n   private void initialize() {\n \n-    // set basemap options\n-    basemapList.getItems().addAll(Basemap.createStreets(), Basemap.createImagery(), Basemap\n-            .createTopographic(), Basemap.createOceans());\n+    // authentication with an API key or named user is required to access basemaps and other location services\n+    String yourAPIKey = System.getProperty(\"apiKey\");\n+    ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n \n-    // update basemap when selection changes\n-    basemapList.getSelectionModel().select(0);\n-    basemapList.getSelectionModel().selectedItemProperty()\n-            .addListener(o -> map.setBasemap(basemapList.getSelectionModel().getSelectedItem()));\n+    // set the basemap style options\n+    basemapStyleList.getItems().addAll(BasemapStyle.ARCGIS_STREETS, BasemapStyle.ARCGIS_IMAGERY_STANDARD,\n+      BasemapStyle.ARCGIS_TOPOGRAPHIC, BasemapStyle.ARCGIS_OCEANS);\n \n-    basemapList.setCellFactory(c -> new BasemapCell());\n+    // update the basemap when the selection changes\n+    basemapStyleList.getSelectionModel().select(0);\n+    basemapStyleList.getSelectionModel().selectedItemProperty()\n+      .addListener(o -> map.setBasemap(new Basemap(basemapStyleList.getSelectionModel().getSelectedItem())));\n \n-    // create and set a map with the first basemap option\n-    map = new ArcGISMap(basemapList.getSelectionModel().getSelectedItem());\n+    basemapStyleList.setCellFactory(c -> new BasemapCell());", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE3NDk4Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538174987", "bodyText": "I can't remember if there's an effor to not save single-use string variables (especially URLs), and just put them in-line. Meaning you could get rid of this line and just pop the url one line lower?\nArcGISMapImageLayer worldElevation = new ArcGISMapImageLayer(\"https://sampleserver6.arcgisonline.com/arcgis/rest/services/WorldTimeZones/MapServer\");\nEither way is good though!", "author": "JonLavi", "createdAt": "2020-12-08T09:28:18Z", "path": "map/create-and-save-map/src/main/java/com/esri/samples/create_and_save_map/CreateAndSaveMapController.java", "diffHunk": "@@ -74,24 +76,29 @@\n   @FXML\n   private void initialize() {\n \n-    // set basemap options\n-    basemapList.getItems().addAll(Basemap.createStreets(), Basemap.createImagery(), Basemap\n-            .createTopographic(), Basemap.createOceans());\n+    // authentication with an API key or named user is required to access basemaps and other location services\n+    String yourAPIKey = System.getProperty(\"apiKey\");\n+    ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n \n-    // update basemap when selection changes\n-    basemapList.getSelectionModel().select(0);\n-    basemapList.getSelectionModel().selectedItemProperty()\n-            .addListener(o -> map.setBasemap(basemapList.getSelectionModel().getSelectedItem()));\n+    // set the basemap style options\n+    basemapStyleList.getItems().addAll(BasemapStyle.ARCGIS_STREETS, BasemapStyle.ARCGIS_IMAGERY_STANDARD,\n+      BasemapStyle.ARCGIS_TOPOGRAPHIC, BasemapStyle.ARCGIS_OCEANS);\n \n-    basemapList.setCellFactory(c -> new BasemapCell());\n+    // update the basemap when the selection changes\n+    basemapStyleList.getSelectionModel().select(0);\n+    basemapStyleList.getSelectionModel().selectedItemProperty()\n+      .addListener(o -> map.setBasemap(new Basemap(basemapStyleList.getSelectionModel().getSelectedItem())));\n \n-    // create and set a map with the first basemap option\n-    map = new ArcGISMap(basemapList.getSelectionModel().getSelectedItem());\n+    basemapStyleList.setCellFactory(c -> new BasemapCell());\n+    mapView.setMap(map);\n+\n+    // create a basemap with the first basemap style option and set it to the map\n+    Basemap basemap = new Basemap(basemapStyleList.getSelectionModel().getSelectedItem());\n+    map = new ArcGISMap(basemap);\n     mapView.setMap(map);\n \n     // set operational layer options\n-    String worldElevationService =\n-            \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/WorldTimeZones/MapServer\";\n+    String worldElevationService = \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/WorldTimeZones/MapServer\";", "originalCommit": "192d9d0e93fe228b949338759a3e8a9cdda09063", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE5MDg2MA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r538190860", "bodyText": "Yeah we have been doing that I think you're right, I'll do that refactor", "author": "jenmerritt", "createdAt": "2020-12-08T09:49:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODE3NDk4Nw=="}], "type": "inlineReview"}, {"oid": "23966c1275317188ae4b221442b35e56ce4aa604", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/23966c1275317188ae4b221442b35e56ce4aa604", "message": "Access load status - amend comment", "committedDate": "2020-12-08T09:56:38Z", "type": "commit"}, {"oid": "cffffeca94122349547a53c912b6930a0ca4dba2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/cffffeca94122349547a53c912b6930a0ca4dba2", "message": "Change Basemap - variable naming", "committedDate": "2020-12-08T09:57:28Z", "type": "commit"}, {"oid": "3ecf34e20a9766a0715ebe457f5c88e7a237a628", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/3ecf34e20a9766a0715ebe457f5c88e7a237a628", "message": "Create and save map - code review tidy ups", "committedDate": "2020-12-08T09:58:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTE4Nzg5NA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/604#discussion_r539187894", "bodyText": "LOD 6 could be replaced by scale 9244648 (rounded down to 9240000 should be ok).", "author": "Rachael-E", "createdAt": "2020-12-09T10:28:04Z", "path": "map/change-basemap/src/main/java/com/esri/samples/change_basemap/ChangeBasemapSample.java", "diffHunk": "@@ -53,27 +51,32 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n       // creates a map view\n       mapView = new MapView();\n \n-      // setup listview of basemaps\n-      ListView<Basemap.Type> basemapList = new ListView<>(FXCollections.observableArrayList(Basemap.Type.values()));\n-      basemapList.setMaxSize(250, 150);\n+      // setup a list view of basemap styles\n+      ListView<BasemapStyle> basemapStyleListView = new ListView<>(FXCollections.observableArrayList(BasemapStyle.values()));\n+      basemapStyleListView.setMaxSize(250, 150);\n \n-      // change the basemap when list option is selected\n-      basemapList.getSelectionModel().selectedItemProperty().addListener(o -> {\n-        String basemapString = basemapList.getSelectionModel().getSelectedItem().toString();\n-        map = new ArcGISMap(Basemap.Type.valueOf(basemapString), LATITUDE, LONGITUDE, LOD);\n+      // change the basemap when a list option is selected\n+      basemapStyleListView.getSelectionModel().selectedItemProperty().addListener(o -> {\n+        BasemapStyle selectedBasemapStyle = basemapStyleListView.getSelectionModel().getSelectedItem();\n+        map = new ArcGISMap(selectedBasemapStyle);\n         mapView.setMap(map);\n+        mapView.setViewpoint(new Viewpoint(57.5000, -5.0000, 10000000.0));", "originalCommit": "3ecf34e20a9766a0715ebe457f5c88e7a237a628", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ca7bf594216482a66e5539722705e8e89eea5bbc", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/ca7bf594216482a66e5539722705e8e89eea5bbc", "message": "Merge branch 'dev' into jen/basemaps-map-part1", "committedDate": "2020-12-10T11:37:35Z", "type": "commit"}, {"oid": "700f90f3f92af3d6b337dc5b1c22b5c6f3b80b3f", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/700f90f3f92af3d6b337dc5b1c22b5c6f3b80b3f", "message": "update build.gradle - versions", "committedDate": "2020-12-10T11:50:21Z", "type": "commit"}, {"oid": "c11dd8521a26d29b0a6fe6fcfdfbfee5fbaa90ba", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/c11dd8521a26d29b0a6fe6fcfdfbfee5fbaa90ba", "message": "tidy comment and scale consistencies", "committedDate": "2020-12-10T11:50:33Z", "type": "commit"}]}