{"pr_number": 608, "pr_title": "New Basemaps: Portal and Raster Categories", "pr_createdAt": "2020-12-07T10:19:05Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/608", "timeline": [{"oid": "c5dd1a5edef585cf3ec3d947ff735699c8bf03e9", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/c5dd1a5edef585cf3ec3d947ff735699c8bf03e9", "message": "Update IntegratedWindowsAuthenticationController.java", "committedDate": "2020-11-27T15:04:06Z", "type": "commit"}, {"oid": "69b5ccb6630a774fd4dd6786cf7d5cd281affa7e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/69b5ccb6630a774fd4dd6786cf7d5cd281affa7e", "message": "Update OAuthSample.java", "committedDate": "2020-11-27T15:04:26Z", "type": "commit"}, {"oid": "320cab0b1072fdc1d7d3ef69eb1e1327efc57376", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/320cab0b1072fdc1d7d3ef69eb1e1327efc57376", "message": "Update ColormapRendererSample.java", "committedDate": "2020-11-27T15:04:31Z", "type": "commit"}, {"oid": "fae71e05f781ac3ba3bd18a19e934abce609394c", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/fae71e05f781ac3ba3bd18a19e934abce609394c", "message": "Update IdentifyRasterCellSample.java", "committedDate": "2020-11-27T15:04:35Z", "type": "commit"}, {"oid": "1d3326785b60dba512981abcaa4af9426590ff2e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1d3326785b60dba512981abcaa4af9426590ff2e", "message": "Update RasterFunctionSample.java", "committedDate": "2020-11-27T15:04:39Z", "type": "commit"}, {"oid": "775bf5e9ddc3a3a64403ee0bcea087887b4dd968", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/775bf5e9ddc3a3a64403ee0bcea087887b4dd968", "message": "Update RasterLayerFileSample.java", "committedDate": "2020-11-27T15:04:45Z", "type": "commit"}, {"oid": "02103ab67110aec6affde1bacd5971c875611103", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/02103ab67110aec6affde1bacd5971c875611103", "message": "Update RasterLayerGeopackageSample.java", "committedDate": "2020-11-27T15:04:49Z", "type": "commit"}, {"oid": "15a1ed2bb27307104cb140145a63a7469eccebe3", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/15a1ed2bb27307104cb140145a63a7469eccebe3", "message": "Update RasterLayerURLSample.java", "committedDate": "2020-11-27T15:04:52Z", "type": "commit"}, {"oid": "6880ed476697e784fb9c623ada4d2164c9ec1159", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/6880ed476697e784fb9c623ada4d2164c9ec1159", "message": "Update RasterRenderingRuleSample.java", "committedDate": "2020-11-27T15:04:55Z", "type": "commit"}, {"oid": "9bb704a74345ebf87b8bd04ab883855004500938", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/9bb704a74345ebf87b8bd04ab883855004500938", "message": "Fix comment", "committedDate": "2020-11-30T13:39:46Z", "type": "commit"}, {"oid": "317d576bf9ebf06aa1bab53724227396e047b00f", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/317d576bf9ebf06aa1bab53724227396e047b00f", "message": "Identify Raster Cell - tidy up indentation", "committedDate": "2020-12-03T16:41:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0NDIzOQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/608#discussion_r538244239", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with an imagery basemap style\n          \n          \n            \n                  // create a map with the imagery basemap style", "author": "JonLavi", "createdAt": "2020-12-08T11:01:12Z", "path": "portal/oauth/src/main/java/com/esri/samples/oauth/OAuthSample.java", "diffHunk": "@@ -49,8 +50,12 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create a map with imagery basemap\n-      ArcGISMap map = new ArcGISMap(Basemap.createImagery());\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create a map with an imagery basemap style", "originalCommit": "317d576bf9ebf06aa1bab53724227396e047b00f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0NTAwOA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/608#discussion_r538245008", "bodyText": "I realise I'm commenting on these to change to the, but Im not 100% sure it's correct. My rationale is since it's a unique value from an enum, there can't be any other imagery basemap styles, so it's correct to refer to as the style rather than a style?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with an imagery basemap style\n          \n          \n            \n                  // create a map with the imagery basemap style", "author": "JonLavi", "createdAt": "2020-12-08T11:02:22Z", "path": "raster/colormap-renderer/src/main/java/com/esri/samples/colormap_renderer/ColormapRendererSample.java", "diffHunk": "@@ -54,14 +55,18 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n       // create a raster from a local raster file\n       Raster raster = new Raster(new File(System.getProperty(\"data.dir\"), \"./samples-data/raster/ShastaBW.tif\").getAbsolutePath());\n \n       // create a raster layer\n       RasterLayer rasterLayer = new RasterLayer(raster);\n \n-      // create a Map with imagery basemap\n-      ArcGISMap map = new ArcGISMap(Basemap.createImagery());\n+      // create a map with an imagery basemap style", "originalCommit": "317d576bf9ebf06aa1bab53724227396e047b00f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQxNzMyNw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/608#discussion_r538417327", "bodyText": "Yeah I think 'a basemap style' but 'the specific basemap style' sounds correct.", "author": "jenmerritt", "createdAt": "2020-12-08T14:13:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0NTAwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0NTMyNA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/608#discussion_r538245324", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with an oceans basemap style\n          \n          \n            \n                  // create a map with the oceans basemap style", "author": "JonLavi", "createdAt": "2020-12-08T11:02:48Z", "path": "raster/identify-raster-cell/src/main/java/com/esri/samples/identify_raster_cell/IdentifyRasterCellSample.java", "diffHunk": "@@ -43,180 +45,182 @@\n \n public class IdentifyRasterCellSample extends Application {\n \n-    private boolean calloutLocked = false;\n-    private Callout callout;\n-    private MapView mapView;\n-    private RasterLayer rasterLayer;\n-\n-    @Override\n-    public void start(Stage stage) {\n-\n-        try {\n-            // create stack pane and application scene\n-            StackPane stackPane = new StackPane();\n-            Scene scene = new Scene(stackPane);\n-\n-            // set title, size, and add scene to stage\n-            stage.setTitle(\"Identify Raster Cell Sample\");\n-            stage.setWidth(800);\n-            stage.setHeight(700);\n-            stage.setScene(scene);\n-            stage.show();\n-\n-            // create a map view\n-            mapView = new MapView();\n-\n-            // create a Map with an oceans basemap\n-            ArcGISMap map = new ArcGISMap(Basemap.createOceans());\n-\n-            // add the map to a map view\n-            mapView.setMap(map);\n-\n-            // create a raster from a local raster file\n-            Raster raster = new Raster(new File(System.getProperty(\"data.dir\"), \"./samples-data/SA_EVI_8Day_03May20/SA_EVI_8Day_03May20.tif\").getAbsolutePath());\n-\n-            // create a raster layer\n-            rasterLayer = new RasterLayer(raster);\n-\n-            // add the raster as an operational layer\n-            map.getOperationalLayers().add(rasterLayer);\n-\n-            // set viewpoint on the raster\n-            rasterLayer.addDoneLoadingListener(() -> {\n-                if (map.getLoadStatus() == LoadStatus.LOADED) {\n-                    mapView.setViewpointGeometryAsync(rasterLayer.getFullExtent(), 50);\n-                } else {\n-                    Alert alert = new Alert(Alert.AlertType.ERROR, \"Raster Layer Failed to Load!\");\n-                    alert.show();\n-                }\n-            });\n-\n-            // get a handle on the callout\n-            callout = mapView.getCallout();\n-            callout.setTitle(\"Raster cell attributes:\");\n-            // make the callout transparent to mouse interactions, so that we keep identifying raster cells behind it\n-            callout.setMouseTransparent(true);\n-\n-            // start identifying on-the-fly if the mouse enters the map view, and the callout is not locked\n-            mapView.setOnMouseEntered(mouseEvent -> {\n-                if (!calloutLocked) {\n-                    mapView.setOnMouseMoved(this::identifyRasterCell);\n-                }\n-            });\n-\n-            // stop identifying on-the-fly when the mouse leaves the map view\n-            mapView.setOnMouseExited(null);\n-\n-            // on click, either lock the callout in place if raster cells are identified on-the-fly,\n-            // or release the callout again and start identifying on-the-fly\n-            mapView.setOnMouseClicked(mouseEvent -> {\n-                if (mouseEvent.getButton() == MouseButton.PRIMARY && mouseEvent.isStillSincePress()) {\n-\n-                    if (!calloutLocked) {\n-                        // stop identifying on the fly\n-                        mapView.setOnMouseMoved(null);\n-                        // lock the callout in place\n-                        calloutLocked = true;\n-\n-                    } else {\n-                        // dismiss the callout\n-                        callout.dismiss();\n-                        // unlock the callout\n-                        calloutLocked = false;\n-                        // show a new callout at the clicked location\n-                        identifyRasterCell(mouseEvent);\n-                        // start identifying on-the-fly\n-                        mapView.setOnMouseMoved(this::identifyRasterCell);\n-                    }\n-                }\n-            });\n-\n-            // add the map view to stack pane\n-            stackPane.getChildren().addAll(mapView);\n-\n-        } catch (Exception e) {\n-            // on any error, display the stack trace\n-            e.printStackTrace();\n+  private boolean calloutLocked = false;\n+  private Callout callout;\n+  private MapView mapView;\n+  private RasterLayer rasterLayer;\n+\n+  @Override\n+  public void start(Stage stage) {\n+\n+    try {\n+      // create stack pane and application scene\n+      StackPane stackPane = new StackPane();\n+      Scene scene = new Scene(stackPane);\n+\n+      // set title, size, and add scene to stage\n+      stage.setTitle(\"Identify Raster Cell Sample\");\n+      stage.setWidth(800);\n+      stage.setHeight(700);\n+      stage.setScene(scene);\n+      stage.show();\n+\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create a map with an oceans basemap style", "originalCommit": "317d576bf9ebf06aa1bab53724227396e047b00f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0NTY0NQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/608#discussion_r538245645", "bodyText": "I won't comment on any other instances, before I make a fool of myself!\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with a dark gray basemap style\n          \n          \n            \n                  // create a map with the dark gray basemap style", "author": "JonLavi", "createdAt": "2020-12-08T11:03:21Z", "path": "raster/raster-function/src/main/java/com/esri/samples/raster_function/RasterFunctionSample.java", "diffHunk": "@@ -56,10 +57,14 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create a map with dark canvas vector basemap\n-      ArcGISMap map = new ArcGISMap(Basemap.createDarkGrayCanvasVector());\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n \n-      // add the map to a map view\n+      // create a map with a dark gray basemap style", "originalCommit": "317d576bf9ebf06aa1bab53724227396e047b00f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI0NjU0MA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/608#discussion_r538246540", "bodyText": "Just said I won't comment, but this one definitely needs either a or the, doesn't matter which \ud83d\ude01\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with dark gray basemap style\n          \n          \n            \n                  // create a map with a dark gray basemap style", "author": "JonLavi", "createdAt": "2020-12-08T11:04:36Z", "path": "raster/raster-layer-url/src/main/java/com/esri/samples/raster_layer_url/RasterLayerURLSample.java", "diffHunk": "@@ -63,8 +68,8 @@ public void start(Stage stage) {\n         }\n       });\n \n-      // create a map with dark canvas vector basemap\n-      ArcGISMap map = new ArcGISMap(Basemap.createDarkGrayCanvasVector());\n+      // create a map with dark gray basemap style", "originalCommit": "317d576bf9ebf06aa1bab53724227396e047b00f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "39e10d5b112eb55a67300dab527e0435ee659524", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/39e10d5b112eb55a67300dab527e0435ee659524", "message": "Tidy style comments", "committedDate": "2020-12-08T14:15:39Z", "type": "commit"}, {"oid": "23a7b21b3b3c57e04d3748b7d72a45a048fa94ac", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/23a7b21b3b3c57e04d3748b7d72a45a048fa94ac", "message": "Merge branch 'dev' into sim11117-basemaps-portal-raster", "committedDate": "2020-12-10T13:51:20Z", "type": "commit"}, {"oid": "5f2a544b5e6e899d1127a60cca35f57866531581", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/5f2a544b5e6e899d1127a60cca35f57866531581", "message": "update build.gradle - versions", "committedDate": "2020-12-10T14:13:52Z", "type": "commit"}, {"oid": "acefc4d4373ec7e3a7c40154d03f9c39668da445", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/acefc4d4373ec7e3a7c40154d03f9c39668da445", "message": "oauth - update readme and comments", "committedDate": "2020-12-10T14:14:08Z", "type": "commit"}, {"oid": "01f5b41eb0d08b4cbd02083934bb76580d72c187", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/01f5b41eb0d08b4cbd02083934bb76580d72c187", "message": "tidy comment consistencies", "committedDate": "2020-12-10T14:14:20Z", "type": "commit"}]}