{"pr_number": 531, "pr_title": "Feature enhancement to Surface Placement", "pr_createdAt": "2020-07-16T15:02:19Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531", "timeline": [{"oid": "f52057583f4a5b2338ffac94e923be6441de4d5e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/f52057583f4a5b2338ffac94e923be6441de4d5e", "message": "amend arcgisversion to update 9", "committedDate": "2020-07-16T09:04:28Z", "type": "commit"}, {"oid": "0ef3d074a86f78d554a1797cc613df408773e7c0", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/0ef3d074a86f78d554a1797cc613df408773e7c0", "message": "add a scenelayer and adjust camera and points location", "committedDate": "2020-07-16T09:34:25Z", "type": "commit"}, {"oid": "490fd8f9dc7bc902cc02f5127ee4b705acc8da5e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/490fd8f9dc7bc902cc02f5127ee4b705acc8da5e", "message": "add relative to scene point and graphic and rename existing point to make it clear they are distinct with some amendments to related comments", "committedDate": "2020-07-16T09:55:42Z", "type": "commit"}, {"oid": "7cb52e46a159b158a3129ee2bf188dd54fc5950a", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/7cb52e46a159b158a3129ee2bf188dd54fc5950a", "message": "create style and display a slider that adjusts zvalue", "committedDate": "2020-07-16T10:37:25Z", "type": "commit"}, {"oid": "2057e18da8883af8350403485fd369453b9e486a", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/2057e18da8883af8350403485fd369453b9e486a", "message": "adjust styling on labels changing text to blue and increasing size", "committedDate": "2020-07-16T10:56:11Z", "type": "commit"}, {"oid": "58790e6a3e1da7474d133dc2431e888592496269", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/58790e6a3e1da7474d133dc2431e888592496269", "message": "additional label styling", "committedDate": "2020-07-16T11:03:08Z", "type": "commit"}, {"oid": "fafc2fbbed2381a3c875f3ad7f3183d5803fef3b", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/fafc2fbbed2381a3c875f3ad7f3183d5803fef3b", "message": "update copyright date and readme including image", "committedDate": "2020-07-16T12:00:38Z", "type": "commit"}, {"oid": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/139ffc90b0de67e15b5d170b278f81fb13323a6f", "message": "put copyright date back to original after confirming", "committedDate": "2020-07-16T14:40:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg2Nzg4Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455867883", "bodyText": "We generally want to have the imports in a specific order, with the Runtime imports coming last.\nLuckily we can set up the IDE to take care of that for us!\nTheres some details in Simone's recent PR showing how to set it up:\n#528 (comment)", "author": "JonLavi", "createdAt": "2020-07-16T15:19:23Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -18,12 +18,15 @@\n \n import java.util.Arrays;\n \n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg2OTIxNg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455869216", "bodyText": "In samples, we generally don't define a string variable for URLs unless they are being re-used, so here you could just write this URL directly inside the method call:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  final String buildings = \"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\";\n          \n          \n            \n                  ArcGISSceneLayer sceneLayer = new ArcGISSceneLayer(buildings);\n          \n          \n            \n                  ArcGISSceneLayer sceneLayer = new ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");", "author": "JonLavi", "createdAt": "2020-07-16T15:21:14Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -87,6 +90,11 @@ public void start(Stage stage) {\n       surface.getElevationSources().add(elevationSource);\n       scene.setBaseSurface(surface);\n \n+      // add a scene layer\n+      final String buildings = \"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\";\n+      ArcGISSceneLayer sceneLayer = new ArcGISSceneLayer(buildings);", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3MTUwNA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455871504", "bodyText": "Although these var names might be more accurate (I don't actuall know!), the rest of the vars in this sample have a slightly different naming convention. So perhaps we should update these to match the rest (e.g.relativeToSceneOverlay). I'll leave the final word here to @Rachael-E , she's the nomenclature expert.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  Point surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n          \n          \n            \n                  Point sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n          \n          \n            \n                  Point relativeToSurfacePoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n          \n          \n            \n                  Point relativeToScenePoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());", "author": "JonLavi", "createdAt": "2020-07-16T15:24:22Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -100,43 +108,55 @@ public void start(Stage stage) {\n       GraphicsOverlay absoluteOverlay = new GraphicsOverlay();\n       absoluteOverlay.getSceneProperties().setSurfacePlacement(SurfacePlacement.ABSOLUTE);\n \n-      // create point for graphic location\n-      Point point = new Point(-4.04, 53.06, 1000, SpatialReferences.getWgs84());\n+      GraphicsOverlay relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      Point surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+      Point sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4Nzg5OA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458887898", "bodyText": "Have left this for Rachael to comment when she reviews.", "author": "jenmerritt", "createdAt": "2020-07-22T15:39:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3MTUwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4NDYwMw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r460184603", "bodyText": "sorry @jenmerritt I just saw this. Let's go with Jon's suggestion, it makes it more clear what the points are for.", "author": "Rachael-E", "createdAt": "2020-07-24T17:16:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3MTUwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3MTk5Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455871997", "bodyText": "Good catch on this - the sample was previously called elevation mode in Java, but it was renamed surface placement to be consistent with the other sdks!", "author": "JonLavi", "createdAt": "2020-07-16T15:25:04Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -100,43 +108,55 @@ public void start(Stage stage) {\n       GraphicsOverlay absoluteOverlay = new GraphicsOverlay();\n       absoluteOverlay.getSceneProperties().setSurfacePlacement(SurfacePlacement.ABSOLUTE);\n \n-      // create point for graphic location\n-      Point point = new Point(-4.04, 53.06, 1000, SpatialReferences.getWgs84());\n+      GraphicsOverlay relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      Point surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+      Point sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n \n       // create a red triangle symbol\n-      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 10);\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n \n-      // create a text symbol for each elevation mode\n+      // create a text symbol for each surface placement type", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3NDQ1NQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455874455", "bodyText": "Since this is getting to be quite a lot of UI setup, you would want to make this sample into an FXML one, and define this slider (as well as the toggle buttons) in the main.fxml file.", "author": "JonLavi", "createdAt": "2020-07-16T15:28:25Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -168,10 +188,57 @@ public void start(Stage stage) {\n       controlsVBox.getChildren()\n           .addAll(toggleGroupLabel, drapedBillboardedRadioButton, drapedFlatRadioButton);\n \n-      // add the scene view and control box to the stack pane\n-      stackPane.getChildren().addAll(sceneView, controlsVBox);\n+      // create slider to adjust the z-value\n+      Slider zValueSlider = new Slider(0, 150, 70);\n+      Label zValueSliderLabel = new Label(\"Z-Value:\");\n+      zValueSlider.setShowTickMarks(true);\n+      zValueSlider.setShowTickLabels(true);\n+      zValueSlider.setMajorTickUnit(50);\n+      zValueSlider.setOrientation(Orientation.VERTICAL);", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg3OTEzNg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455879136", "bodyText": "I think a loop would be fine here, since it's quite clear that we're updating all the graphics in all the graphics overlays with one specific Point", "author": "JonLavi", "createdAt": "2020-07-16T15:34:49Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -168,10 +188,57 @@ public void start(Stage stage) {\n       controlsVBox.getChildren()\n           .addAll(toggleGroupLabel, drapedBillboardedRadioButton, drapedFlatRadioButton);\n \n-      // add the scene view and control box to the stack pane\n-      stackPane.getChildren().addAll(sceneView, controlsVBox);\n+      // create slider to adjust the z-value\n+      Slider zValueSlider = new Slider(0, 150, 70);\n+      Label zValueSliderLabel = new Label(\"Z-Value:\");\n+      zValueSlider.setShowTickMarks(true);\n+      zValueSlider.setShowTickLabels(true);\n+      zValueSlider.setMajorTickUnit(50);\n+      zValueSlider.setOrientation(Orientation.VERTICAL);\n+\n+      zValueSlider.valueProperty().addListener((observableValue, oldValue, newValue) -> {\n+\n+        // get z-value from slider\n+        Double zValueFromSlider = zValueSlider.getValue();\n+\n+        // create new points with updated z-value\n+        Point newSurfaceRelatedPoint = new Point(surfaceRelatedPoint.getX(), surfaceRelatedPoint.getY(), zValueFromSlider, surfaceRelatedPoint.getSpatialReference());\n+        Point newSceneRelatedPoint = new Point(sceneRelatedPoint.getX(), sceneRelatedPoint.getY(), zValueFromSlider, sceneRelatedPoint.getSpatialReference());\n+\n+        // update the geometry of each of the existing graphics (both the symbol and label) to the relevant new point\n+        drapedBillboardedOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        drapedBillboardedOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        drapedFlatOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        drapedFlatOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        relativeOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        relativeOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        absoluteOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        absoluteOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        relativeToSceneOverlay.getGraphics().get(0).setGeometry(newSceneRelatedPoint);\n+        relativeToSceneOverlay.getGraphics().get(1).setGeometry(newSceneRelatedPoint);", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg4MTczNw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455881737", "bodyText": "Thinking from a performance point of view (which might not entirely be in the spirit of samples):\nEvery time one of these slider event fires, these two lines are repeating the .getX(), .getY() and .getSpatialReference() calls. We know these aren't likely to change. The only thing we really change is the Z-value. So to save ourselves doing that, we could just save these values into variables outside of this event listener, and refer to them.\nWhat you definitely can do is save the spatial reference as a varialbe outside of this lambda, and re-use it, since it'll be the same for both points\nI'll leave it again to @Rachael-E to decide whether this should be updated, or left as is for user clarity. Either way, might be a helpful observation regarding not repeating method calls?", "author": "JonLavi", "createdAt": "2020-07-16T15:38:34Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -168,10 +188,57 @@ public void start(Stage stage) {\n       controlsVBox.getChildren()\n           .addAll(toggleGroupLabel, drapedBillboardedRadioButton, drapedFlatRadioButton);\n \n-      // add the scene view and control box to the stack pane\n-      stackPane.getChildren().addAll(sceneView, controlsVBox);\n+      // create slider to adjust the z-value\n+      Slider zValueSlider = new Slider(0, 150, 70);\n+      Label zValueSliderLabel = new Label(\"Z-Value:\");\n+      zValueSlider.setShowTickMarks(true);\n+      zValueSlider.setShowTickLabels(true);\n+      zValueSlider.setMajorTickUnit(50);\n+      zValueSlider.setOrientation(Orientation.VERTICAL);\n+\n+      zValueSlider.valueProperty().addListener((observableValue, oldValue, newValue) -> {\n+\n+        // get z-value from slider\n+        Double zValueFromSlider = zValueSlider.getValue();\n+\n+        // create new points with updated z-value\n+        Point newSurfaceRelatedPoint = new Point(surfaceRelatedPoint.getX(), surfaceRelatedPoint.getY(), zValueFromSlider, surfaceRelatedPoint.getSpatialReference());\n+        Point newSceneRelatedPoint = new Point(sceneRelatedPoint.getX(), sceneRelatedPoint.getY(), zValueFromSlider, sceneRelatedPoint.getSpatialReference());", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4ODQ4Mg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458888482", "bodyText": "This is probably resolved via the loop that's been implemented in the latest commits.", "author": "jenmerritt", "createdAt": "2020-07-22T15:40:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg4MTczNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg4ODU2Mg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455888562", "bodyText": "There's generally no need to 'chop' the method chaining if the line doesn't get too long \ud83d\ude04", "author": "JonLavi", "createdAt": "2020-07-16T15:48:31Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -168,10 +188,57 @@ public void start(Stage stage) {\n       controlsVBox.getChildren()\n           .addAll(toggleGroupLabel, drapedBillboardedRadioButton, drapedFlatRadioButton);\n \n-      // add the scene view and control box to the stack pane\n-      stackPane.getChildren().addAll(sceneView, controlsVBox);\n+      // create slider to adjust the z-value\n+      Slider zValueSlider = new Slider(0, 150, 70);\n+      Label zValueSliderLabel = new Label(\"Z-Value:\");\n+      zValueSlider.setShowTickMarks(true);\n+      zValueSlider.setShowTickLabels(true);\n+      zValueSlider.setMajorTickUnit(50);\n+      zValueSlider.setOrientation(Orientation.VERTICAL);\n+\n+      zValueSlider.valueProperty().addListener((observableValue, oldValue, newValue) -> {\n+\n+        // get z-value from slider\n+        Double zValueFromSlider = zValueSlider.getValue();\n+\n+        // create new points with updated z-value\n+        Point newSurfaceRelatedPoint = new Point(surfaceRelatedPoint.getX(), surfaceRelatedPoint.getY(), zValueFromSlider, surfaceRelatedPoint.getSpatialReference());\n+        Point newSceneRelatedPoint = new Point(sceneRelatedPoint.getX(), sceneRelatedPoint.getY(), zValueFromSlider, sceneRelatedPoint.getSpatialReference());\n+\n+        // update the geometry of each of the existing graphics (both the symbol and label) to the relevant new point\n+        drapedBillboardedOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        drapedBillboardedOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        drapedFlatOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        drapedFlatOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        relativeOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        relativeOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        absoluteOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        absoluteOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        relativeToSceneOverlay.getGraphics().get(0).setGeometry(newSceneRelatedPoint);\n+        relativeToSceneOverlay.getGraphics().get(1).setGeometry(newSceneRelatedPoint);\n+\n+      });\n+\n+      // create a controls area for the z-value slider\n+      VBox sliderVBox = new VBox();\n+      sliderVBox.setBackground(\n+        new Background(new BackgroundFill(Paint.valueOf(\"rgba(0,0,0,0.5)\"), CornerRadii.EMPTY, Insets.EMPTY)));\n+      sliderVBox.setPadding(new Insets(10.0));\n+      sliderVBox.setMaxSize(70, 200);\n+      sliderVBox.getStyleClass().add(\"panel-region\");\n+      sliderVBox.getChildren()\n+        .addAll(zValueSliderLabel, zValueSlider);", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTg5MTI0Mg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455891242", "bodyText": "You can define a lot of this stuff in the CSS file itself, so that it's easier for the users to focus just on the control elements.\nOnce you do sliderVBox.getStyleClass().add(\"panel-region\");, all the CSS rules targeting this class would apply, and then you could just apply the style class to both the slider and the radio-button vboxes.\nCheck out these files from animate images with image overlay for some inspiration:\nhttps://github.com/Esri/arcgis-runtime-samples-java/blob/master/scene/animate-images-with-image-overlay/src/main/resources/animate_images_with_image_overlay/style.css\nhttps://github.com/Esri/arcgis-runtime-samples-java/blob/master/scene/animate-images-with-image-overlay/src/main/resources/animate_images_with_image_overlay/main.fxml\nYou could also extract the styling from the VBoxes, Slider, and future RadioButtons.", "author": "JonLavi", "createdAt": "2020-07-16T15:52:17Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -168,10 +188,57 @@ public void start(Stage stage) {\n       controlsVBox.getChildren()\n           .addAll(toggleGroupLabel, drapedBillboardedRadioButton, drapedFlatRadioButton);\n \n-      // add the scene view and control box to the stack pane\n-      stackPane.getChildren().addAll(sceneView, controlsVBox);\n+      // create slider to adjust the z-value\n+      Slider zValueSlider = new Slider(0, 150, 70);\n+      Label zValueSliderLabel = new Label(\"Z-Value:\");\n+      zValueSlider.setShowTickMarks(true);\n+      zValueSlider.setShowTickLabels(true);\n+      zValueSlider.setMajorTickUnit(50);\n+      zValueSlider.setOrientation(Orientation.VERTICAL);\n+\n+      zValueSlider.valueProperty().addListener((observableValue, oldValue, newValue) -> {\n+\n+        // get z-value from slider\n+        Double zValueFromSlider = zValueSlider.getValue();\n+\n+        // create new points with updated z-value\n+        Point newSurfaceRelatedPoint = new Point(surfaceRelatedPoint.getX(), surfaceRelatedPoint.getY(), zValueFromSlider, surfaceRelatedPoint.getSpatialReference());\n+        Point newSceneRelatedPoint = new Point(sceneRelatedPoint.getX(), sceneRelatedPoint.getY(), zValueFromSlider, sceneRelatedPoint.getSpatialReference());\n+\n+        // update the geometry of each of the existing graphics (both the symbol and label) to the relevant new point\n+        drapedBillboardedOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        drapedBillboardedOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        drapedFlatOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        drapedFlatOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        relativeOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        relativeOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        absoluteOverlay.getGraphics().get(0).setGeometry(newSurfaceRelatedPoint);\n+        absoluteOverlay.getGraphics().get(1).setGeometry(newSurfaceRelatedPoint);\n+\n+        relativeToSceneOverlay.getGraphics().get(0).setGeometry(newSceneRelatedPoint);\n+        relativeToSceneOverlay.getGraphics().get(1).setGeometry(newSceneRelatedPoint);\n+\n+      });\n+\n+      // create a controls area for the z-value slider\n+      VBox sliderVBox = new VBox();\n+      sliderVBox.setBackground(\n+        new Background(new BackgroundFill(Paint.valueOf(\"rgba(0,0,0,0.5)\"), CornerRadii.EMPTY, Insets.EMPTY)));\n+      sliderVBox.setPadding(new Insets(10.0));\n+      sliderVBox.setMaxSize(70, 200);\n+      sliderVBox.getStyleClass().add(\"panel-region\");", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkwNjA4NA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r455906084", "bodyText": "You can get away with using double, the primitive type here:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Double zValueFromSlider = zValueSlider.getValue();\n          \n          \n            \n                    double zValueFromSlider = zValueSlider.getValue();\n          \n      \n    \n    \n  \n\nThe IDE does a better job at explaining why than I would ever do:\n\nThe Double class wraps a value of the primitive type double in an object. An object of type Double contains a single field whose type is double.\nIn addition, this class provides several methods for converting a double to a String and a String to a double, as well as other constants and methods useful when dealing with a double.", "author": "JonLavi", "createdAt": "2020-07-16T16:13:30Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementSample.java", "diffHunk": "@@ -168,10 +188,57 @@ public void start(Stage stage) {\n       controlsVBox.getChildren()\n           .addAll(toggleGroupLabel, drapedBillboardedRadioButton, drapedFlatRadioButton);\n \n-      // add the scene view and control box to the stack pane\n-      stackPane.getChildren().addAll(sceneView, controlsVBox);\n+      // create slider to adjust the z-value\n+      Slider zValueSlider = new Slider(0, 150, 70);\n+      Label zValueSliderLabel = new Label(\"Z-Value:\");\n+      zValueSlider.setShowTickMarks(true);\n+      zValueSlider.setShowTickLabels(true);\n+      zValueSlider.setMajorTickUnit(50);\n+      zValueSlider.setOrientation(Orientation.VERTICAL);\n+\n+      zValueSlider.valueProperty().addListener((observableValue, oldValue, newValue) -> {\n+\n+        // get z-value from slider\n+        Double zValueFromSlider = zValueSlider.getValue();", "originalCommit": "139ffc90b0de67e15b5d170b278f81fb13323a6f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3d1978ca3010999c839178ab0cb5496c140a54b5", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/3d1978ca3010999c839178ab0cb5496c140a54b5", "message": "tidy imports order", "committedDate": "2020-07-17T09:07:14Z", "type": "commit"}, {"oid": "cc8652c67e1144942fe80aebd197078d13b5eddf", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/cc8652c67e1144942fe80aebd197078d13b5eddf", "message": "add scene layer url into method and amend slider get value from Double to double type", "committedDate": "2020-07-17T09:19:15Z", "type": "commit"}, {"oid": "be1df771013ab747cefd1d00bd06e149de683867", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/be1df771013ab747cefd1d00bd06e149de683867", "message": "update gradle version to 6.5.1 and javafx to 11.0.2", "committedDate": "2020-07-17T13:39:14Z", "type": "commit"}, {"oid": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/6e19a0de6230a538cccda67f9bd2036517fdf4fc", "message": "refactored to MVC structure", "committedDate": "2020-07-22T14:18:00Z", "type": "commit"}, {"oid": "8f8fb3ab1b5196c1680ded72356fc818278e8c0e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/8f8fb3ab1b5196c1680ded72356fc818278e8c0e", "message": "implement loop in changeZValue method", "committedDate": "2020-07-22T15:36:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5NjU0OQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458896549", "bodyText": "There's no need for the empty line here I think", "author": "JonLavi", "createdAt": "2020-07-22T15:51:27Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,203 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+", "originalCommit": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg5OTQ3NQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458899475", "bodyText": "Maybe we can rephrase this comment a bit to describe the action that the code performs:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n          \n          \n            \n                  // add a listener to the toggle group to switch between billboarded and flat draped surface placement modes", "author": "JonLavi", "createdAt": "2020-07-22T15:55:32Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,203 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup", "originalCommit": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwMDY0Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458900647", "bodyText": "Maybe it'll be safer to clear all the graphics overlays here, so that we're essentally just zapping everything that's visible, and not relying on the oldToggle property.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n          \n          \n            \n                      sceneView.getGraphicsOverlays().clear();", "author": "JonLavi", "createdAt": "2020-07-22T15:57:15Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,203 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());", "originalCommit": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkzMTU5OA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458931598", "bodyText": "I tried with clear but it then removes the other overlays too. Shall I leave with the oldToggle, or I could do an addAll() on the next line that includes the other graphics.", "author": "jenmerritt", "createdAt": "2020-07-22T16:38:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwMDY0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI3OTcyOQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459279729", "bodyText": "You're absolutely right, I made a mistake there! Forgot that there's a bunch of other GraphicsOverlays, not just switching between 2. It was correct the way it was before, sorry!", "author": "JonLavi", "createdAt": "2020-07-23T08:06:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwMDY0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwMTIwOA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458901208", "bodyText": "We could just say 'slider' here I think\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * Sets the Z-Value to the value selected by the JavaFX slider.\n          \n          \n            \n               * Sets the Z-Value to the value selected by the slider.", "author": "JonLavi", "createdAt": "2020-07-22T15:57:59Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,203 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the JavaFX slider.", "originalCommit": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwMTQwMw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458901403", "bodyText": "No need for this empty line\n\n  \n    \n      \n        Suggested change", "author": "JonLavi", "createdAt": "2020-07-22T15:58:15Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,203 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the JavaFX slider.\n+   */\n+", "originalCommit": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwMTgxNg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458901816", "bodyText": "We generally try and have the comments in plain english, so lets add a the:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // get z-value from slider\n          \n          \n            \n                    // get the z-value from slider", "author": "JonLavi", "createdAt": "2020-07-22T15:58:50Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,203 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the JavaFX slider.\n+   */\n+\n+  @FXML\n+  private void changeZValue(){\n+        // get z-value from slider", "originalCommit": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwMjA0Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458902043", "bodyText": "As above, no harm in adding an article, I think:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // create new points with updated z-value\n          \n          \n            \n                    // create new points with the updated z-value", "author": "JonLavi", "createdAt": "2020-07-22T15:59:09Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,203 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the JavaFX slider.\n+   */\n+\n+  @FXML\n+  private void changeZValue(){\n+        // get z-value from slider\n+        double zValueFromSlider = zValueSlider.getValue();\n+\n+        // create new points with updated z-value", "originalCommit": "6e19a0de6230a538cccda67f9bd2036517fdf4fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwNDcyOA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458904728", "bodyText": "Lets add some articles here so that the comments are plain english:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // get z-value from slider\n          \n          \n            \n                // get the z-value from the slider", "author": "JonLavi", "createdAt": "2020-07-22T16:03:15Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,199 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the JavaFX slider.\n+   */\n+\n+  @FXML\n+  private void changeZValue(){\n+    // get z-value from slider", "originalCommit": "8f8fb3ab1b5196c1680ded72356fc818278e8c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwNTI3MA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458905270", "bodyText": "I think just zValue would be enough after we got it (there's no other source for a zValue after all):\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                double zValueFromSlider = zValueSlider.getValue();\n          \n          \n            \n                double zValue = zValueSlider.getValue();", "author": "JonLavi", "createdAt": "2020-07-22T16:04:04Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,199 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the JavaFX slider.\n+   */\n+\n+  @FXML\n+  private void changeZValue(){\n+    // get z-value from slider\n+    double zValueFromSlider = zValueSlider.getValue();", "originalCommit": "8f8fb3ab1b5196c1680ded72356fc818278e8c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkwODkwOA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458908908", "bodyText": "You could use the 'smart' loop syntax for this if you know you're going to make an operation on each item in the list:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                for(int i = 0; i < sceneView.getGraphicsOverlays().size(); i++){\n          \n          \n            \n                for (GraphicsOverlay graphicsOverlay : sceneView.getGraphicsOverlays().size()) {\n          \n      \n    \n    \n  \n\nAlso mind to have a space between the for keyword and the parentheses, as well as before the {\nThe same would apply to the inner loop.\nYou'd only really want to use the i++ type of loop if you know you might have a unique condition for starting/ending/iterating over your array (e.g. starting with i=2, or going until i < size -1).", "author": "JonLavi", "createdAt": "2020-07-22T16:09:21Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,199 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+\n+      sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // listener for toggles between billboarded and flat draped surface placement modes on the JavaFX ToggleGroup\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the JavaFX slider.\n+   */\n+\n+  @FXML\n+  private void changeZValue(){\n+    // get z-value from slider\n+    double zValueFromSlider = zValueSlider.getValue();\n+\n+    // update the geometry of each of the existing graphics to include the new z-value\n+    for(int i = 0; i < sceneView.getGraphicsOverlays().size(); i++){", "originalCommit": "8f8fb3ab1b5196c1680ded72356fc818278e8c0e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkxMjE4MA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r458912180", "bodyText": "I think most of these variables could be local variables instead of class members, so no need to define them here.", "author": "JonLavi", "createdAt": "2020-07-22T16:14:05Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,199 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+  private Surface surface;\n+  private Point surfaceRelatedPoint;\n+  private Point sceneRelatedPoint;\n+  private GraphicsOverlay drapedBillboardedOverlay;\n+  private GraphicsOverlay drapedFlatOverlay;\n+  private GraphicsOverlay absoluteOverlay;\n+  private GraphicsOverlay relativeOverlay;\n+  private GraphicsOverlay relativeToSceneOverlay;", "originalCommit": "8f8fb3ab1b5196c1680ded72356fc818278e8c0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI4NTg5Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459285893", "bodyText": "Nice, another good side effect of adding the loop in. Much cleaner there now, thanks!", "author": "jenmerritt", "createdAt": "2020-07-23T08:18:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODkxMjE4MA=="}], "type": "inlineReview"}, {"oid": "200e2f8d34df0e4106e4bdf92c3dcc8924a2553d", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/200e2f8d34df0e4106e4bdf92c3dcc8924a2553d", "message": "tidy ups from code review", "committedDate": "2020-07-23T08:21:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5MzU0Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459293543", "bodyText": "We can remove the extra spaces before and after the try", "author": "JonLavi", "createdAt": "2020-07-23T08:32:39Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,187 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+\n+  public void initialize() {\n+\n+    try {\n+", "originalCommit": "200e2f8d34df0e4106e4bdf92c3dcc8924a2553d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5MzcyNw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459293727", "bodyText": "We can also remove the extra spaces before and after this catch block`", "author": "JonLavi", "createdAt": "2020-07-23T08:32:59Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,187 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+\n+  public void initialize() {\n+\n+    try {\n+\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      Surface surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      GraphicsOverlay drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      GraphicsOverlay drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      GraphicsOverlay relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      GraphicsOverlay absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      GraphicsOverlay relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      Point surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+      Point sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // add a listener to the toggle group to switch between billboarded and flat draped surface placement modes\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }", "originalCommit": "200e2f8d34df0e4106e4bdf92c3dcc8924a2553d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8bdd99ed12ea37a3f2a22d4b801cb830f57dcaf5", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/8bdd99ed12ea37a3f2a22d4b801cb830f57dcaf5", "message": "update metadata file for fxml and tidy up spacing", "committedDate": "2020-07-23T08:56:01Z", "type": "commit"}, {"oid": "fa25a1a0d91dcd88c9d3987e4d2ee5361662701f", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/fa25a1a0d91dcd88c9d3987e4d2ee5361662701f", "message": "Merge pull request #1 from Esri/dev\n\nUpdating Dev to Esri repo", "committedDate": "2020-07-23T12:35:54Z", "type": "commit"}, {"oid": "1bb027302f8fbf9d2a7ec1cc9b4ec7202f52c109", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1bb027302f8fbf9d2a7ec1cc9b4ec7202f52c109", "message": "Merge branch 'jen/relative_to_scene_sp' into dev", "committedDate": "2020-07-23T12:42:14Z", "type": "commit"}, {"oid": "6415542e3796edf7ad55524e930b28de7d664d90", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/6415542e3796edf7ad55524e930b28de7d664d90", "message": "Merge dev into relative to scene branch\n\nMerge dev into relative to scene branch", "committedDate": "2020-07-23T12:43:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU2MTMyNQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459561325", "bodyText": "in this step, we // set the scene to the scene view: the stack pane is now tucked away in the FXML file :)", "author": "Rachael-E", "createdAt": "2020-07-23T16:04:27Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,183 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+\n+  public void initialize() {\n+    try {\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane", "originalCommit": "6415542e3796edf7ad55524e930b28de7d664d90", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYwMjI1Mw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459602253", "bodyText": "just to make this fit the code a little better, I'd suggest the following edit:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // add a camera and initial camera position\n          \n          \n            \n                  // set an initial viewpoint camera position to the scene view", "author": "Rachael-E", "createdAt": "2020-07-23T17:12:00Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,183 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+\n+  public void initialize() {\n+    try {\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      Surface surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position", "originalCommit": "6415542e3796edf7ad55524e930b28de7d664d90", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYwMjc0Ng==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459602746", "bodyText": "just to make it clear that the buildings are sourced from the scene layer, suggested edit:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // add a scene layer\n          \n          \n            \n                  // add buildings to the scene with a scene layer URI", "author": "Rachael-E", "createdAt": "2020-07-23T17:12:49Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,183 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+\n+  public void initialize() {\n+    try {\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      Surface surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer", "originalCommit": "6415542e3796edf7ad55524e930b28de7d664d90", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTk4OTcxOQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r459989719", "bodyText": "We can replace this nested for loop with a more modern approach using Java 8's stream API (see below). Generally if you come across an instance that requires a nested for loop, you can exchange them using streams.\n    sceneView.getGraphicsOverlays().forEach(graphicsOverlay ->\n      graphicsOverlay.getGraphics().stream().filter(\n        graphic -> graphic.getGeometry().getGeometryType() == GeometryType.POINT).forEach(graphic -> {\n        Geometry geometry = graphic.getGeometry();\n        Point currentPoint = (Point) geometry;\n        Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n        graphic.setGeometry(updatedPoint);\n      }));", "author": "Rachael-E", "createdAt": "2020-07-24T11:09:51Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -0,0 +1,183 @@\n+/*\n+ * Copyright 2017 Esri.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n+ * use this file except in compliance with the License. You may obtain a copy of\n+ * the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n+ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n+ * License for the specific language governing permissions and limitations under\n+ * the License.\n+ */\n+\n+package com.esri.samples.surface_placement;\n+\n+import java.util.Arrays;\n+\n+import javafx.fxml.FXML;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.Slider;\n+import javafx.scene.control.ToggleGroup;\n+\n+import com.esri.arcgisruntime.geometry.Geometry;\n+import com.esri.arcgisruntime.geometry.GeometryType;\n+import com.esri.arcgisruntime.geometry.Point;\n+import com.esri.arcgisruntime.geometry.SpatialReferences;\n+import com.esri.arcgisruntime.layers.ArcGISSceneLayer;\n+import com.esri.arcgisruntime.mapping.ArcGISScene;\n+import com.esri.arcgisruntime.mapping.ArcGISTiledElevationSource;\n+import com.esri.arcgisruntime.mapping.Basemap;\n+import com.esri.arcgisruntime.mapping.Surface;\n+import com.esri.arcgisruntime.mapping.view.Camera;\n+import com.esri.arcgisruntime.mapping.view.Graphic;\n+import com.esri.arcgisruntime.mapping.view.GraphicsOverlay;\n+import com.esri.arcgisruntime.mapping.view.LayerSceneProperties;\n+import com.esri.arcgisruntime.mapping.view.SceneView;\n+import com.esri.arcgisruntime.symbology.SimpleMarkerSymbol;\n+import com.esri.arcgisruntime.symbology.TextSymbol;\n+\n+public class SurfacePlacementController {\n+\n+  @FXML private SceneView sceneView;\n+  @FXML private Slider zValueSlider;\n+  @FXML private ToggleGroup toggleGroup;\n+  @FXML private RadioButton drapedBillboardedRadioButton;\n+  @FXML private RadioButton drapedFlatRadioButton;\n+\n+  public void initialize() {\n+    try {\n+      // create a scene and add a basemap to it\n+      ArcGISScene scene = new ArcGISScene(Basemap.Type.IMAGERY);\n+\n+      // add the SceneView to the stack pane\n+      sceneView.setArcGISScene(scene);\n+\n+      // add base surface for elevation data\n+      Surface surface = new Surface();\n+      ArcGISTiledElevationSource elevationSource = new ArcGISTiledElevationSource(\n+        \"https://elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\");\n+      surface.getElevationSources().add(elevationSource);\n+      scene.setBaseSurface(surface);\n+\n+      // add a scene layer\n+      ArcGISSceneLayer sceneLayer = new\n+        ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n+      scene.getOperationalLayers().add(sceneLayer);\n+\n+      // add a camera and initial camera position\n+      sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n+\n+      // create overlays with surface placement types\n+      GraphicsOverlay drapedBillboardedOverlay = new GraphicsOverlay();\n+      drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+\n+      GraphicsOverlay drapedFlatOverlay = new GraphicsOverlay();\n+      drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+\n+      GraphicsOverlay relativeOverlay = new GraphicsOverlay();\n+      relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+\n+      GraphicsOverlay absoluteOverlay = new GraphicsOverlay();\n+      absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+\n+      GraphicsOverlay relativeToSceneOverlay = new GraphicsOverlay();\n+      relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n+\n+      // create points for graphic locations\n+      Point surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n+      Point sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n+\n+      // create a red triangle symbol\n+      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n+\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText =\n+          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedBillboardedText.setOffsetX(20);\n+\n+      TextSymbol drapedFlatText =\n+          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      drapedFlatText.setOffsetX(20);\n+\n+      TextSymbol relativeText =\n+          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeText.setOffsetX(20);\n+\n+      TextSymbol absoluteText =\n+          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+      absoluteText.setOffsetX(20);\n+\n+      TextSymbol relativeToSceneText =\n+        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n+      relativeToSceneText.setOffsetX(-20);\n+\n+      // add the point graphic and text graphic to the corresponding graphics overlay\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n+\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n+\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n+\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n+      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n+\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n+      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+\n+      // add graphics overlays to the scene view\n+      sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));\n+\n+      // link up the ToggleGroup RadioButtons to the corresponding draped overlay\n+      drapedBillboardedRadioButton.setUserData(drapedBillboardedOverlay);\n+      drapedFlatRadioButton.setUserData(drapedFlatOverlay);\n+\n+      // add a listener to the toggle group to switch between billboarded and flat draped surface placement modes\n+      toggleGroup.selectedToggleProperty().addListener((observableValue, oldToggle, newToggle) -> {\n+        if (toggleGroup.getSelectedToggle() != null) {\n+          sceneView.getGraphicsOverlays().remove(oldToggle.getUserData());\n+          sceneView.getGraphicsOverlays().add((GraphicsOverlay) toggleGroup.getSelectedToggle().getUserData());\n+        }\n+      });\n+    } catch (Exception e) {\n+      // on any exception, print the stack trace\n+      e.printStackTrace();\n+    }\n+  }\n+\n+  /**\n+   * Sets the Z-Value to the value selected by the slider.\n+   */\n+  @FXML\n+  private void changeZValue(){\n+    // get the z-value from the slider\n+    double zValue = zValueSlider.getValue();\n+\n+    // update the geometry of each of the existing graphics to include the new z-value\n+    for (GraphicsOverlay graphicsOverlay : sceneView.getGraphicsOverlays()) {", "originalCommit": "6415542e3796edf7ad55524e930b28de7d664d90", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "aa11e93934999201e67c582cead05cb60c939a74", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/aa11e93934999201e67c582cead05cb60c939a74", "message": "amendments to comments, metadata and css change", "committedDate": "2020-07-24T13:28:57Z", "type": "commit"}, {"oid": "77fbcb91029bc192b04d839de68ddc72f910476d", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/77fbcb91029bc192b04d839de68ddc72f910476d", "message": "refactor loop to streams", "committedDate": "2020-07-24T13:37:19Z", "type": "commit"}, {"oid": "8dbe904cd0288465541f0fc190b6a7a177ad39e6", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/8dbe904cd0288465541f0fc190b6a7a177ad39e6", "message": "add methods for creating text symbols and adding graphics", "committedDate": "2020-07-24T13:56:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4Njg5Mg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r460186892", "bodyText": "I've just noticed that this line goes over our max line length guidance (120 chars). We should split it up to avoid users having to use the horizontal scroll bar on Github (another easy to implement improve readability thing)!\n      // add graphics overlays to the scene view\n      sceneView.getGraphicsOverlays().addAll(Arrays.asList(\n        drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));", "author": "Rachael-E", "createdAt": "2020-07-24T17:20:34Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -63,73 +63,41 @@ public void initialize() {\n       surface.getElevationSources().add(elevationSource);\n       scene.setBaseSurface(surface);\n \n-      // add a scene layer\n+      // add buildings to the scene with a scene layer URI\n       ArcGISSceneLayer sceneLayer = new\n         ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");\n       scene.getOperationalLayers().add(sceneLayer);\n \n-      // add a camera and initial camera position\n+      // set an initial viewpoint camera position to the scene view\n       sceneView.setViewpointCamera(new Camera(48.3889, -4.4595, 90, 330, 90, 0));\n \n-      // create overlays with surface placement types\n+      // create a text symbol for each surface placement type\n+      TextSymbol drapedBillboardedText = createTextSymbol(\"DRAPED BILLBOARDED\");\n+      TextSymbol drapedFlatText = createTextSymbol(\"DRAPED FLAT\");\n+      TextSymbol relativeText = createTextSymbol(\"RELATIVE\");\n+      TextSymbol absoluteText = createTextSymbol(\"ABSOLUTE\");\n+      TextSymbol relativeToSceneText = createTextSymbol(\"RELATIVE TO SCENE\");\n+\n+      // create graphics overlays with surface placement types, and add graphics to them\n       GraphicsOverlay drapedBillboardedOverlay = new GraphicsOverlay();\n       drapedBillboardedOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_BILLBOARDED);\n+      addGraphicsToGraphicsOverlay(drapedBillboardedOverlay, drapedBillboardedText);\n \n       GraphicsOverlay drapedFlatOverlay = new GraphicsOverlay();\n       drapedFlatOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.DRAPED_FLAT);\n+      addGraphicsToGraphicsOverlay(drapedFlatOverlay, drapedFlatText);\n \n       GraphicsOverlay relativeOverlay = new GraphicsOverlay();\n       relativeOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE);\n+      addGraphicsToGraphicsOverlay(relativeOverlay, relativeText);\n \n       GraphicsOverlay absoluteOverlay = new GraphicsOverlay();\n       absoluteOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.ABSOLUTE);\n+      addGraphicsToGraphicsOverlay(absoluteOverlay, absoluteText);\n \n       GraphicsOverlay relativeToSceneOverlay = new GraphicsOverlay();\n       relativeToSceneOverlay.getSceneProperties().setSurfacePlacement(LayerSceneProperties.SurfacePlacement.RELATIVE_TO_SCENE);\n-\n-      // create points for graphic locations\n-      Point surfaceRelatedPoint = new Point(-4.4609257, 48.3903965, 70, SpatialReferences.getWgs84());\n-      Point sceneRelatedPoint = new Point(-4.4610562, 48.3902727, 70, SpatialReferences.getWgs84());\n-\n-      // create a red triangle symbol\n-      SimpleMarkerSymbol triangleSymbol = new SimpleMarkerSymbol(SimpleMarkerSymbol.Style.TRIANGLE, 0xFFFF0000, 12);\n-\n-      // create a text symbol for each surface placement type\n-      TextSymbol drapedBillboardedText =\n-          new TextSymbol(14, \"DRAPED BILLBOARDED\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n-      drapedBillboardedText.setOffsetX(20);\n-\n-      TextSymbol drapedFlatText =\n-          new TextSymbol(14, \"DRAPED FLAT\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n-      drapedFlatText.setOffsetX(20);\n-\n-      TextSymbol relativeText =\n-          new TextSymbol(14, \"RELATIVE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n-      relativeText.setOffsetX(20);\n-\n-      TextSymbol absoluteText =\n-          new TextSymbol(14, \"ABSOLUTE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n-      absoluteText.setOffsetX(20);\n-\n-      TextSymbol relativeToSceneText =\n-        new TextSymbol(14, \"RELATIVE TO SCENE\", 0xFF0000FF, TextSymbol.HorizontalAlignment.RIGHT, TextSymbol.VerticalAlignment.MIDDLE);\n-      relativeToSceneText.setOffsetX(-20);\n-\n-      // add the point graphic and text graphic to the corresponding graphics overlay\n-      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n-      drapedBillboardedOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedBillboardedText));\n-\n-      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n-      drapedFlatOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, drapedFlatText));\n-\n-      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n-      relativeOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, relativeText));\n-\n-      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, triangleSymbol));\n-      absoluteOverlay.getGraphics().add(new Graphic(surfaceRelatedPoint, absoluteText));\n-\n-      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, triangleSymbol));\n-      relativeToSceneOverlay.getGraphics().add(new Graphic(sceneRelatedPoint, relativeToSceneText));\n+      addGraphicsToGraphicsOverlay(relativeToSceneOverlay, relativeToSceneText);\n \n       // add graphics overlays to the scene view\n       sceneView.getGraphicsOverlays().addAll(Arrays.asList(drapedBillboardedOverlay, relativeOverlay, absoluteOverlay, relativeToSceneOverlay));", "originalCommit": "8dbe904cd0288465541f0fc190b6a7a177ad39e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE4NzUxMA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r460187510", "bodyText": "this is also a bit too far over our line length guidance (over by a little bit is ok though). Suggest the following new line to break it up:\n      // add buildings to the scene with a scene layer URI\n      ArcGISSceneLayer sceneLayer = new ArcGISSceneLayer(\n        \"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");", "author": "Rachael-E", "createdAt": "2020-07-24T17:21:50Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -63,73 +63,41 @@ public void initialize() {\n       surface.getElevationSources().add(elevationSource);\n       scene.setBaseSurface(surface);\n \n-      // add a scene layer\n+      // add buildings to the scene with a scene layer URI\n       ArcGISSceneLayer sceneLayer = new\n         ArcGISSceneLayer(\"http://tiles.arcgis.com/tiles/P3ePLMYs2RVChkJx/arcgis/rest/services/Buildings_Brest/SceneServer/layers/0\");", "originalCommit": "8dbe904cd0288465541f0fc190b6a7a177ad39e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE5MDA5OA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r460190098", "bodyText": "I can't comment on line 126, but I just noticed that there should be an extra space between the parenthesis and curly brackets\nprivate void changeZValue() {", "author": "Rachael-E", "createdAt": "2020-07-24T17:27:13Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -160,15 +128,56 @@ private void changeZValue(){\n     double zValue = zValueSlider.getValue();", "originalCommit": "8dbe904cd0288465541f0fc190b6a7a177ad39e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE5MDQyMA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r460190420", "bodyText": "sorry this was my fault: we should do some breaking up of these brackets here to be more java-y :)\n  /**\n   * Sets the Z-Value to the value selected by the slider.\n   */\n  @FXML\n  private void changeZValue() {\n    // get the z-value from the slider\n    double zValue = zValueSlider.getValue();\n\n    // update the geometry of each of the existing graphics to include the new z-value\n    sceneView.getGraphicsOverlays().forEach(graphicsOverlay ->\n      graphicsOverlay.getGraphics().stream().filter(\n        graphic -> graphic.getGeometry().getGeometryType() == GeometryType.POINT).forEach(graphic -> {\n        Geometry geometry = graphic.getGeometry();\n        Point currentPoint = (Point) geometry;\n        Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n        graphic.setGeometry(updatedPoint);\n      })\n    );\n  }", "author": "Rachael-E", "createdAt": "2020-07-24T17:27:53Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -160,15 +128,56 @@ private void changeZValue(){\n     double zValue = zValueSlider.getValue();\n \n     // update the geometry of each of the existing graphics to include the new z-value\n-    for (GraphicsOverlay graphicsOverlay : sceneView.getGraphicsOverlays()) {\n-      for (Graphic graphic : graphicsOverlay.getGraphics()) {\n+    sceneView.getGraphicsOverlays().forEach(graphicsOverlay ->\n+      graphicsOverlay.getGraphics().stream().filter(\n+        graphic -> graphic.getGeometry().getGeometryType() == GeometryType.POINT).forEach(graphic -> {\n         Geometry geometry = graphic.getGeometry();\n-        if (geometry.getGeometryType().equals(GeometryType.POINT)) {\n-          Point currentPoint = (Point) geometry;\n-          Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n-          graphic.setGeometry(updatedPoint);\n-        }\n-      }\n+        Point currentPoint = (Point) geometry;\n+        Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n+        graphic.setGeometry(updatedPoint);\n+      }));", "originalCommit": "8dbe904cd0288465541f0fc190b6a7a177ad39e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE5MDc0OQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r460190749", "bodyText": "again probably my fault for not spotting this in the suggestion! Can remove this empty javaDoc line.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               *", "author": "Rachael-E", "createdAt": "2020-07-24T17:28:30Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -160,15 +128,56 @@ private void changeZValue(){\n     double zValue = zValueSlider.getValue();\n \n     // update the geometry of each of the existing graphics to include the new z-value\n-    for (GraphicsOverlay graphicsOverlay : sceneView.getGraphicsOverlays()) {\n-      for (Graphic graphic : graphicsOverlay.getGraphics()) {\n+    sceneView.getGraphicsOverlays().forEach(graphicsOverlay ->\n+      graphicsOverlay.getGraphics().stream().filter(\n+        graphic -> graphic.getGeometry().getGeometryType() == GeometryType.POINT).forEach(graphic -> {\n         Geometry geometry = graphic.getGeometry();\n-        if (geometry.getGeometryType().equals(GeometryType.POINT)) {\n-          Point currentPoint = (Point) geometry;\n-          Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n-          graphic.setGeometry(updatedPoint);\n-        }\n-      }\n+        Point currentPoint = (Point) geometry;\n+        Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n+        graphic.setGeometry(updatedPoint);\n+      }));\n+  }\n+\n+  /**\n+   * Creates a new TextSymbol from a string used to identify a surface placement type.\n+   * @param text string to be used as text within the TextSymbol constructor\n+   * @return a new TextSymbol\n+   *", "originalCommit": "8dbe904cd0288465541f0fc190b6a7a177ad39e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE5NDE1NQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/531#discussion_r460194155", "bodyText": "I'm getting an IDE suggestion here to replace the == operator with .equals().  The latter method checks the actual contents of the string, whereas the former operator checks whether the references to the objects are equal.", "author": "Rachael-E", "createdAt": "2020-07-24T17:35:15Z", "path": "scene/surface-placement/src/main/java/com/esri/samples/surface_placement/SurfacePlacementController.java", "diffHunk": "@@ -160,15 +128,56 @@ private void changeZValue(){\n     double zValue = zValueSlider.getValue();\n \n     // update the geometry of each of the existing graphics to include the new z-value\n-    for (GraphicsOverlay graphicsOverlay : sceneView.getGraphicsOverlays()) {\n-      for (Graphic graphic : graphicsOverlay.getGraphics()) {\n+    sceneView.getGraphicsOverlays().forEach(graphicsOverlay ->\n+      graphicsOverlay.getGraphics().stream().filter(\n+        graphic -> graphic.getGeometry().getGeometryType() == GeometryType.POINT).forEach(graphic -> {\n         Geometry geometry = graphic.getGeometry();\n-        if (geometry.getGeometryType().equals(GeometryType.POINT)) {\n-          Point currentPoint = (Point) geometry;\n-          Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n-          graphic.setGeometry(updatedPoint);\n-        }\n-      }\n+        Point currentPoint = (Point) geometry;\n+        Point updatedPoint = new Point(currentPoint.getX(), currentPoint.getY(), zValue, currentPoint.getSpatialReference());\n+        graphic.setGeometry(updatedPoint);\n+      }));\n+  }\n+\n+  /**\n+   * Creates a new TextSymbol from a string used to identify a surface placement type.\n+   * @param text string to be used as text within the TextSymbol constructor\n+   * @return a new TextSymbol\n+   *\n+   */\n+  private TextSymbol createTextSymbol(String text) {\n+\n+    TextSymbol textSymbol = new TextSymbol(14, text, 0xFF0000FF,\n+      TextSymbol.HorizontalAlignment.LEFT, TextSymbol.VerticalAlignment.MIDDLE);\n+    textSymbol.setOffsetX(20);\n+\n+    if (text == \"RELATIVE TO SCENE\") {", "originalCommit": "8dbe904cd0288465541f0fc190b6a7a177ad39e6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "da406be21a9e3608007f633db4dd8868b827788d", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/da406be21a9e3608007f633db4dd8868b827788d", "message": "rename points", "committedDate": "2020-07-27T08:29:56Z", "type": "commit"}, {"oid": "cffedc0989ca6ea9327a931643d514066b219191", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/cffedc0989ca6ea9327a931643d514066b219191", "message": "tidy up spacing", "committedDate": "2020-07-27T08:41:37Z", "type": "commit"}]}