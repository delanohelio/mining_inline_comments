{"pr_number": 602, "pr_title": "New Basemaps: Geometry Category", "pr_createdAt": "2020-12-04T14:29:36Z", "pr_url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602", "timeline": [{"oid": "df1bafab47d46abe6d3f3e13e00cf91b1f5d21f9", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/df1bafab47d46abe6d3f3e13e00cf91b1f5d21f9", "message": "Update BufferSample.java", "committedDate": "2020-11-26T17:38:39Z", "type": "commit"}, {"oid": "66b3a58db3fafae09abf1a17bbb81e2fe9e90554", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/66b3a58db3fafae09abf1a17bbb81e2fe9e90554", "message": "Update ClipGeometrySample.java", "committedDate": "2020-11-26T17:38:43Z", "type": "commit"}, {"oid": "036dac0c5f9f141b594971825d5aa3e80d5f324e", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/036dac0c5f9f141b594971825d5aa3e80d5f324e", "message": "Update ConvexHullListSample.java", "committedDate": "2020-11-26T17:38:48Z", "type": "commit"}, {"oid": "e2a333d3a9ba35c014c77f43a9b2b2ad7a308301", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/e2a333d3a9ba35c014c77f43a9b2b2ad7a308301", "message": "Update ConvexHullSample.java", "committedDate": "2020-11-26T17:38:52Z", "type": "commit"}, {"oid": "05d2b91bcfbb51d4d9937c80b5638345e9e1ac71", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/05d2b91bcfbb51d4d9937c80b5638345e9e1ac71", "message": "Update CreateGeometriesSample.java", "committedDate": "2020-11-26T17:38:57Z", "type": "commit"}, {"oid": "e6d06735801736654f1487166edb5623666d9072", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/e6d06735801736654f1487166edb5623666d9072", "message": "Update CutGeometrySample.java", "committedDate": "2020-11-26T17:39:02Z", "type": "commit"}, {"oid": "3d858c5c5820b1a99b5b5eb4ce5d75a54b1ff074", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/3d858c5c5820b1a99b5b5eb4ce5d75a54b1ff074", "message": "Update DensifyAndGeneralizeController.java", "committedDate": "2020-11-26T17:39:08Z", "type": "commit"}, {"oid": "a568745ef515e862f2fdf3c360269457a6c9ae5d", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/a568745ef515e862f2fdf3c360269457a6c9ae5d", "message": "Update GeodesicOperationsSample.java and README", "committedDate": "2020-11-26T17:39:58Z", "type": "commit"}, {"oid": "6788edfa70068d860a2b489a54739bc8b8e9bda2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/6788edfa70068d860a2b489a54739bc8b8e9bda2", "message": "Update GeodesicSectorAndEllipseController.java", "committedDate": "2020-11-26T17:40:02Z", "type": "commit"}, {"oid": "0bc38301f992fbf889f560e8d223546a8b027f1a", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/0bc38301f992fbf889f560e8d223546a8b027f1a", "message": "Update GeometryEngineSimplifySample.java", "committedDate": "2020-11-26T17:40:07Z", "type": "commit"}, {"oid": "142d25ba80ff733cd82e0e61ce531b46682bdecc", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/142d25ba80ff733cd82e0e61ce531b46682bdecc", "message": "Update ListTransformationsBySuitabilitySample.java", "committedDate": "2020-11-26T17:40:11Z", "type": "commit"}, {"oid": "78972a6251f02f9dd59ba2b9fa3955157bfe0494", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/78972a6251f02f9dd59ba2b9fa3955157bfe0494", "message": "Update NearestVertexSample.java", "committedDate": "2020-11-26T17:40:15Z", "type": "commit"}, {"oid": "870e670da7b798690c02748ae1f8300fb16dcc77", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/870e670da7b798690c02748ae1f8300fb16dcc77", "message": "Update ProjectSample.java", "committedDate": "2020-11-26T17:40:34Z", "type": "commit"}, {"oid": "3b2e06583101d9126105ecf70dd899253cf66d73", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/3b2e06583101d9126105ecf70dd899253cf66d73", "message": "Update SpatialOperationsSample.java", "committedDate": "2020-11-26T17:40:38Z", "type": "commit"}, {"oid": "fc6a638148182587d667a04a3de86816d73a0f97", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/fc6a638148182587d667a04a3de86816d73a0f97", "message": "Update SpatialRelationshipsSample.java", "committedDate": "2020-11-26T17:40:45Z", "type": "commit"}, {"oid": "4bfb4786fe1475e4ff4dd5a932e90b43d2655b66", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/4bfb4786fe1475e4ff4dd5a932e90b43d2655b66", "message": "Fix comment and remove extra ProjectSample.java", "committedDate": "2020-11-30T13:26:27Z", "type": "commit"}, {"oid": "e494bdb98fff70af50a70448177e7df80d706017", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/e494bdb98fff70af50a70448177e7df80d706017", "message": "Project sample - update basemap style and image", "committedDate": "2020-12-03T17:18:57Z", "type": "commit"}, {"oid": "e442836c141f722f2d00f60af15b02a1822f89cb", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/e442836c141f722f2d00f60af15b02a1822f89cb", "message": "Convex hull list - set viewpoint on mapview", "committedDate": "2020-12-04T14:15:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIzMTYxMQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538231611", "bodyText": "I think wkid 3857 is WebMercator:\nhttps://developers.arcgis.com/web-map-specification/objects/spatialReference/\nSo we could use the enum SpatialReferences.getWebMercator():\nhttps://developers.arcgis.com/java/latest/api-reference/reference/com/esri/arcgisruntime/geometry/SpatialReferences.html#getWebMercator()\nHowever, I'm pretty sure web mercator is the default SR (or WGS84??), so might be worth leaving it out of the 'new Point` and seeing if it works?", "author": "JonLavi", "createdAt": "2020-12-08T10:42:47Z", "path": "geometry/geodesic-sector-and-ellipse/src/main/java/com/esri/samples/geodesic_sector_and_ellipse/GeodesicSectorAndEllipseController.java", "diffHunk": "@@ -63,11 +64,16 @@\n   private MarkerSymbol sectorMarkerSymbol;\n \n   public void initialize() {\n-    // initialize a map to a viewpoint and set it to the map view\n-    ArcGISMap map = new ArcGISMap(Basemap.createImagery());\n-    center = new Point(-13574921.207495, 4378809.903179, SpatialReference.create\n-        (3857));\n+    // authentication with an API key or named user is required to access basemaps and other location services\n+    String yourAPIKey = System.getProperty(\"apiKey\");\n+    ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+    // create a map with a basemap style and set the initial viewpoint\n+    ArcGISMap map = new ArcGISMap(BasemapStyle.ARCGIS_IMAGERY);\n+    center = new Point(-13574921.207495, 4378809.903179, SpatialReference.create(3857));", "originalCommit": "e442836c141f722f2d00f60af15b02a1822f89cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI4MzM5Nw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538283397", "bodyText": "Didn't work removing it. Have replaced it for getWebMercator().  I also made a couple of other additional changes to this one - setting the ViewPoint on the MapView (which still seems to work correctly) and corrected the basemap style to IMAGERY_STANDARD.\nProbably one worth an extra check @Rachael-E", "author": "jenmerritt", "createdAt": "2020-12-08T11:55:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIzMTYxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc2MTM5MQ==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538761391", "bodyText": "looks good!", "author": "Rachael-E", "createdAt": "2020-12-08T19:52:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIzMTYxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIzMTk3OA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538231978", "bodyText": "A suggestion for plain english\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // enable geometry operations when ArcGISMap is done loading\n          \n          \n            \n                  // enable geometry operations when the map is done loading", "author": "JonLavi", "createdAt": "2020-12-08T10:43:20Z", "path": "geometry/geometry-engine-simplify/src/main/java/com/esri/samples/geometry_engine_simplify/GeometryEngineSimplifySample.java", "diffHunk": "@@ -119,7 +124,8 @@ public void start(Stage stage) {\n       // add buttons to the control panel\n       controlsVBox.getChildren().addAll(simplifyButton, resetButton);\n \n-      map = new ArcGISMap(Basemap.createLightGrayCanvas());\n+      // create a map with a basemap style\n+      map = new ArcGISMap(BasemapStyle.ARCGIS_LIGHT_GRAY);\n \n       // enable geometry operations when ArcGISMap is done loading", "originalCommit": "e442836c141f722f2d00f60af15b02a1822f89cb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIzMjIyMA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538232220", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with light gray basemap style\n          \n          \n            \n                  // create a map with the light gray basemap style", "author": "JonLavi", "createdAt": "2020-12-08T10:43:41Z", "path": "geometry/list-transformations-by-suitability/src/main/java/com/esri/samples/list_transformations_by_suitability/ListTransformationsBySuitabilitySample.java", "diffHunk": "@@ -68,8 +69,14 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create a map with light gray canvas basemap and add it to the map view\n-      map = new ArcGISMap(Basemap.createLightGrayCanvas());\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create a map with light gray basemap style", "originalCommit": "e442836c141f722f2d00f60af15b02a1822f89cb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIzMzkyMw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538233923", "bodyText": "Same here, we could write SpatialReferences.getWebMercator(), and possibly even leave it out?\nFor the comment, maybe we should capitalise Web Mercator as it's an established term? Not 100% sure though\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  // create a map with a web mercator spatial reference and a basemap style\n          \n          \n            \n                  ArcGISMap map = new ArcGISMap(SpatialReference.create(3857));\n          \n          \n            \n                  // create a map with the Web Mercator spatial reference and a basemap style\n          \n          \n            \n                  ArcGISMap map = new ArcGISMap(SpatialReferences.getWebMercator());", "author": "JonLavi", "createdAt": "2020-12-08T10:46:11Z", "path": "geometry/project/src/main/java/com/esri/samples/project/ProjectSample.java", "diffHunk": "@@ -58,9 +60,15 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create a map with a web mercator basemap\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create a map with a web mercator spatial reference and a basemap style\n       ArcGISMap map = new ArcGISMap(SpatialReference.create(3857));", "originalCommit": "e442836c141f722f2d00f60af15b02a1822f89cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI4ODExMg==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538288112", "bodyText": "I've tidied this up a bit", "author": "jenmerritt", "createdAt": "2020-12-08T12:01:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODIzMzkyMw=="}], "type": "inlineReview"}, {"oid": "9474e4da3f58729500e8d02833c0c35a0f6cef77", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/9474e4da3f58729500e8d02833c0c35a0f6cef77", "message": "Geodesic sector and ellipse - viewpoint amends", "committedDate": "2020-12-08T11:55:30Z", "type": "commit"}, {"oid": "7007e0a45111fbbbfb506afcef89a32492fca4c5", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/7007e0a45111fbbbfb506afcef89a32492fca4c5", "message": "Project - tidy up map constructor", "committedDate": "2020-12-08T12:01:43Z", "type": "commit"}, {"oid": "0bfb01e5c1a1492f899249385000e112df243d78", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/0bfb01e5c1a1492f899249385000e112df243d78", "message": "List transformations - tidy comment", "committedDate": "2020-12-08T12:02:05Z", "type": "commit"}, {"oid": "7bc28b79fbf4e05141c3ecbff442d57234dd2eb6", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/7bc28b79fbf4e05141c3ecbff442d57234dd2eb6", "message": "Geometry engine - tidy comment", "committedDate": "2020-12-08T12:02:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1NTM4NA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538755384", "bodyText": "this is a different scale value than was used in a previous PR https://github.com/Esri/arcgis-runtime-samples-java/pull/599/files#diff-8f2b646da59e98410b35da25b663995af9c16ab65fb85d1d6bea55aeff5de1df\nWe should try and be consistent with the values that we are swapping: the other values have been consistent between PRs for now :)\nif you haven't already seen it, you can refer to this to get an idea of what the exact replacement values would be, but rounding it down as you have been doing should be fine for samples. https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer\nwhere e.g. an old Level of Detail 12 would now be a new scale of 144447.638572", "author": "Rachael-E", "createdAt": "2020-12-08T19:42:55Z", "path": "geometry/convex-hull-list/src/main/java/com/esri/samples/convex_hull_list/ConvexHullListSample.java", "diffHunk": "@@ -67,11 +70,20 @@ public void start(Stage stage) {\n       stage.setScene(scene);\n       stage.show();\n \n-      // create a map with a basemap and add it to the map view\n-      ArcGISMap map = new ArcGISMap(Basemap.Type.TOPOGRAPHIC, 30.0, 0.0, 2);\n+      // authentication with an API key or named user is required to access basemaps and other location services\n+      String yourAPIKey = System.getProperty(\"apiKey\");\n+      ArcGISRuntimeEnvironment.setApiKey(yourAPIKey);\n+\n+      // create a map with a basemap style\n+      ArcGISMap map = new ArcGISMap(BasemapStyle.ARCGIS_TOPOGRAPHIC);\n+\n+      // create a map view and set its map\n       mapView = new MapView();\n       mapView.setMap(map);\n \n+      // set a viewpoint on the map view\n+      mapView.setViewpoint(new Viewpoint(30.0, 0.0, 600000000));", "originalCommit": "7bc28b79fbf4e05141c3ecbff442d57234dd2eb6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ5MTUyMw==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r539491523", "bodyText": "For reference, I've picked up on this point across the changes samples and will correct the scale vs level of detail as per the above link (but rounded)", "author": "jenmerritt", "createdAt": "2020-12-09T17:14:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1NTM4NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1NjQzNA==", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/602#discussion_r538756434", "bodyText": "can remove unused import", "author": "Rachael-E", "createdAt": "2020-12-08T19:44:36Z", "path": "geometry/geodesic-sector-and-ellipse/src/main/java/com/esri/samples/geodesic_sector_and_ellipse/GeodesicSectorAndEllipseController.java", "diffHunk": "@@ -23,15 +23,17 @@\n import javafx.scene.control.Spinner;\n import javafx.scene.input.MouseButton;\n \n+import com.esri.arcgisruntime.ArcGISRuntimeEnvironment;\n import com.esri.arcgisruntime.geometry.GeodesicEllipseParameters;\n import com.esri.arcgisruntime.geometry.GeodesicSectorParameters;\n import com.esri.arcgisruntime.geometry.Geometry;\n import com.esri.arcgisruntime.geometry.GeometryEngine;\n import com.esri.arcgisruntime.geometry.GeometryType;\n import com.esri.arcgisruntime.geometry.Point;\n import com.esri.arcgisruntime.geometry.SpatialReference;", "originalCommit": "7bc28b79fbf4e05141c3ecbff442d57234dd2eb6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "488a3ea0b25485d2ebc147980c48b08d6cd16043", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/488a3ea0b25485d2ebc147980c48b08d6cd16043", "message": "Merge branch 'dev' into sim11117-basemaps-geometry", "committedDate": "2020-12-09T17:17:02Z", "type": "commit"}, {"oid": "6ab47af4a8a1dd2aa8d3059f65dd058673fb4382", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/6ab47af4a8a1dd2aa8d3059f65dd058673fb4382", "message": "update build.gradle - versions", "committedDate": "2020-12-09T17:38:38Z", "type": "commit"}, {"oid": "8c63fbf27a409d7276bdd38bcdb7d0ff278a0053", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/8c63fbf27a409d7276bdd38bcdb7d0ff278a0053", "message": "buffer - tidy up constructor and comment", "committedDate": "2020-12-09T17:38:58Z", "type": "commit"}, {"oid": "d17c9f23366ecf244fa0ce9a7e7031dd837547aa", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/d17c9f23366ecf244fa0ce9a7e7031dd837547aa", "message": "clip geometry - tidy up constructor and comment", "committedDate": "2020-12-09T17:39:13Z", "type": "commit"}, {"oid": "1b0f0399dd06964c736d3ce6d843743a33d35da8", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1b0f0399dd06964c736d3ce6d843743a33d35da8", "message": "Tidy up comment and scale consistencies", "committedDate": "2020-12-09T17:39:46Z", "type": "commit"}, {"oid": "1e69e9a252ca8ea16bacaa6b38bd12876beb75e2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1e69e9a252ca8ea16bacaa6b38bd12876beb75e2", "message": "geometry engine - tidy up viewpoint", "committedDate": "2020-12-09T17:40:00Z", "type": "commit"}, {"oid": "96eb50c6d0b284a1ccae2733fe96469c54ce5ead", "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/96eb50c6d0b284a1ccae2733fe96469c54ce5ead", "message": "spatial operations - tidy up viewpoint", "committedDate": "2020-12-09T17:40:10Z", "type": "commit"}]}