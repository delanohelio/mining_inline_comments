{"pr_number": 5485, "pr_title": "Fix flaky CancelWorkflowInstanceConcurrentlyTest", "pr_createdAt": "2020-10-06T08:55:13Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5485", "timeline": [{"oid": "7b634918e3b7f7be6256c5dc55c3cdfb42939341", "url": "https://github.com/camunda-cloud/zeebe/commit/7b634918e3b7f7be6256c5dc55c3cdfb42939341", "message": "test(engine): fix flaky CancelWorkflowInstanceConcurrentlyTest\n\nThere was a timing issue in the multi-instance scenario, where the test\ndid not wait for both of the jobs to be created. Then when re-starting\nthe engine, reprocessing occurs including the verification of\nreprocessing which would then fail because of this inconsistency.\n\nBy waiting for 2 jobs to be created and then taking the 1 of the correct\ntype, instead of just waiting for the 1 job, the test has become stable..\n\nCo-authored-by: Philipp Ossler <philipp.ossler@gmail.com>", "committedDate": "2020-10-06T08:53:52Z", "type": "commit"}, {"oid": "81e1a932cc06f353861f33994b21bf721c6713de", "url": "https://github.com/camunda-cloud/zeebe/commit/81e1a932cc06f353861f33994b21bf721c6713de", "message": "chore(git): sneak in .worktree into gitignore", "committedDate": "2020-10-06T09:13:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMwMjYzNQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5485#discussion_r500302635", "bodyText": "Not sure whether I understand that \ud83d\ude05 Why I need to review it ? \ud83d\ude06 I thought you have discussed that with @saig0 ? \ud83d\ude05", "author": "Zelldon", "createdAt": "2020-10-06T13:57:09Z", "path": "engine/src/test/java/io/zeebe/engine/processing/workflowinstance/CancelWorkflowInstanceConcurrentlyTest.java", "diffHunk": "@@ -144,6 +144,7 @@ public void init() {\n     createdJob =\n         RecordingExporter.jobRecords(JobIntent.CREATED)\n             .withWorkflowInstanceKey(workflowInstanceKey)\n+            .limit(2)", "originalCommit": "81e1a932cc06f353861f33994b21bf721c6713de", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMwNzYyNg==", "url": "https://github.com/camunda-cloud/zeebe/pull/5485#discussion_r500307626", "bodyText": "True, we fixed it together, but thought it was good to have another pair of eyes on it. Perhaps that's overkill. I can also ask @saig0 to review.", "author": "korthout", "createdAt": "2020-10-06T14:02:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDMwMjYzNQ=="}], "type": "inlineReview"}]}