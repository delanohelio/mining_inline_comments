{"pr_number": 5454, "pr_title": "Lowers log level of RequestRetriesExhaustedException in the gateway", "pr_createdAt": "2020-10-01T15:49:15Z", "pr_url": "https://github.com/camunda-cloud/zeebe/pull/5454", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NzI4MQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5454#discussion_r498647281", "bodyText": "Should we set the status then to resource exhausted? As we do with the BrokerResourceExhausted exception?", "author": "Zelldon", "createdAt": "2020-10-02T07:03:49Z", "path": "gateway/src/main/java/io/zeebe/gateway/EndpointManager.java", "diffHunk": "@@ -419,6 +420,12 @@ public static StatusRuntimeException convertThrowable(final Throwable cause) {\n       status = Status.NOT_FOUND.augmentDescription(cause.getMessage());\n       Loggers.GATEWAY_LOGGER.debug(\n           \"Expected to handle gRPC request, but request could not be delivered\", cause);\n+    } else if (cause instanceof RequestRetriesExhaustedException) {\n+      // this error occurs when all partitions have exhausted for requests which have no fixed\n+      // partitions - it will then also occur when back pressure kicks in, leading to a large burst\n+      // of error logs that is, in fact, expected\n+      Loggers.GATEWAY_LOGGER.trace(", "originalCommit": "8c9e43728c95113c51a4a4e687cb488d737c490f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NzU4Mw==", "url": "https://github.com/camunda-cloud/zeebe/pull/5454#discussion_r498647583", "bodyText": "Previous it was unexpected error occured or what was logged and returned?", "author": "Zelldon", "createdAt": "2020-10-02T07:04:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NzI4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NzM4Nw==", "url": "https://github.com/camunda-cloud/zeebe/pull/5454#discussion_r498647387", "bodyText": "Do you think it is necessary?", "author": "Zelldon", "createdAt": "2020-10-02T07:04:09Z", "path": "gateway/src/main/java/io/zeebe/gateway/impl/broker/RequestRetriesExhaustedException.java", "diffHunk": "@@ -9,7 +9,9 @@\n \n import io.zeebe.gateway.cmd.ClientException;\n \n-class RequestRetriesExhaustedException extends ClientException {\n+public class RequestRetriesExhaustedException extends ClientException {\n+\n+  private static final long serialVersionUID = 1493435667474886479L;", "originalCommit": "8c9e43728c95113c51a4a4e687cb488d737c490f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgzMTg3NQ==", "url": "https://github.com/camunda-cloud/zeebe/pull/5454#discussion_r498831875", "bodyText": "No, sorry, my IDE automatically adds it \ud83d\ude48", "author": "npepinpe", "createdAt": "2020-10-02T13:46:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NzM4Nw=="}], "type": "inlineReview"}, {"oid": "b7e38d82f292e9f2d7d5a08ee6daf893af1d5b50", "url": "https://github.com/camunda-cloud/zeebe/commit/b7e38d82f292e9f2d7d5a08ee6daf893af1d5b50", "message": "chore(gateway): log retries exhausted as debug only", "committedDate": "2020-10-14T11:18:52Z", "type": "commit"}, {"oid": "26307e22060c532cca8f4585ab8e839baa1431e5", "url": "https://github.com/camunda-cloud/zeebe/commit/26307e22060c532cca8f4585ab8e839baa1431e5", "message": "chore(gateway): further lower log level", "committedDate": "2020-10-14T11:20:32Z", "type": "commit"}, {"oid": "2665d46bd0770d0ae09aaa36c04ba40b380fd1df", "url": "https://github.com/camunda-cloud/zeebe/commit/2665d46bd0770d0ae09aaa36c04ba40b380fd1df", "message": "chore(gateway): introduce error details", "committedDate": "2020-10-14T12:23:23Z", "type": "forcePushed"}, {"oid": "5e34c52b8943f956f0a1f35b918288e7bd03ae14", "url": "https://github.com/camunda-cloud/zeebe/commit/5e34c52b8943f956f0a1f35b918288e7bd03ae14", "message": "chore(gateway): introduce error details", "committedDate": "2020-10-14T13:35:18Z", "type": "forcePushed"}, {"oid": "40640e19228d0982ed65bdf975d11d2ee16b326a", "url": "https://github.com/camunda-cloud/zeebe/commit/40640e19228d0982ed65bdf975d11d2ee16b326a", "message": "chore(gateway): introduce error details", "committedDate": "2020-10-14T13:42:14Z", "type": "forcePushed"}, {"oid": "a3e7f97a5d5803bc37ac85841854bf4297746681", "url": "https://github.com/camunda-cloud/zeebe/commit/a3e7f97a5d5803bc37ac85841854bf4297746681", "message": "chore(gateway): introduce error details", "committedDate": "2020-10-14T13:56:23Z", "type": "commit"}, {"oid": "a3e7f97a5d5803bc37ac85841854bf4297746681", "url": "https://github.com/camunda-cloud/zeebe/commit/a3e7f97a5d5803bc37ac85841854bf4297746681", "message": "chore(gateway): introduce error details", "committedDate": "2020-10-14T13:56:23Z", "type": "forcePushed"}]}