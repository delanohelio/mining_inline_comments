{"pr_number": 4604, "pr_title": "Fix NPE in HouseKeeper.stopScavenging", "pr_createdAt": "2020-02-26T09:35:51Z", "pr_url": "https://github.com/eclipse/jetty.project/pull/4604", "timeline": [{"oid": "3b5fdcf55418f88ea77ac00718269061dfbde11b", "url": "https://github.com/eclipse/jetty.project/commit/3b5fdcf55418f88ea77ac00718269061dfbde11b", "message": "Fix NPE in HouseKeeper.stopScavenging\n\nSigned-off-by: Hirotaka Ikoma <hikoma@gmail.com>", "committedDate": "2020-02-26T09:20:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQwMDA5MQ==", "url": "https://github.com/eclipse/jetty.project/pull/4604#discussion_r384400091", "bodyText": "I think the fix is to set _ownScheduler = false here after line 164. That way _ownScheduler and _scheduler are kept in sync.", "author": "janbartel", "createdAt": "2020-02-26T10:22:38Z", "path": "jetty-server/src/main/java/org/eclipse/jetty/server/session/HouseKeeper.java", "diffHunk": "@@ -158,7 +158,7 @@ protected void stopScavenging() throws Exception\n                 LOG.info(\"{} Stopped scavenging\", _sessionIdManager.getWorkerName());\n             }\n             _task = null;\n-            if (_ownScheduler)\n+            if (_ownScheduler && _scheduler != null)", "originalCommit": "3b5fdcf55418f88ea77ac00718269061dfbde11b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQzNDI4MA==", "url": "https://github.com/eclipse/jetty.project/pull/4604#discussion_r384434280", "bodyText": "Thank you for your review. I agree and fixed it.", "author": "hikoma", "createdAt": "2020-02-26T11:28:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQwMDA5MQ=="}], "type": "inlineReview"}, {"oid": "723a58ce19315209feae891ec96c032f2ece2f7a", "url": "https://github.com/eclipse/jetty.project/commit/723a58ce19315209feae891ec96c032f2ece2f7a", "message": "Make _ownScheduler false to keep a consistency with _scheduler\n\nSigned-off-by: Hirotaka Ikoma <hikoma@gmail.com>", "committedDate": "2020-02-26T11:23:34Z", "type": "commit"}]}