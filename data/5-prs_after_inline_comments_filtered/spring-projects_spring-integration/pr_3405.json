{"pr_number": 3405, "pr_title": "Kafka Outbound Endpoints - Add futuresChannel", "pr_createdAt": "2020-10-15T21:52:10Z", "pr_url": "https://github.com/spring-projects/spring-integration/pull/3405", "timeline": [{"oid": "632811f2f1658f507c0bd3252dfec7898130cccc", "url": "https://github.com/spring-projects/spring-integration/commit/632811f2f1658f507c0bd3252dfec7898130cccc", "message": "Kafka Outbound Endpoints - Add futuresChannel\n\nCurrently, the only way to block is to set `sync=true` which waits for the future.\nThe problem with this is it only supports one-at-a-time publication.\n\nAdd an option to send the send futures to a channel, allowing the application to\nsend multiple records and then wait on the futures later.\n\nAlso fix long-running test.", "committedDate": "2020-10-15T21:50:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjUyOTc3NA==", "url": "https://github.com/spring-projects/spring-integration/pull/3405#discussion_r506529774", "bodyText": "We probably don't need sync to prove that \"send, send, wait, wait\" concept...", "author": "artembilan", "createdAt": "2020-10-16T15:10:40Z", "path": "spring-integration-kafka/src/test/java/org/springframework/integration/kafka/dsl/KafkaDslTests.java", "diffHunk": "@@ -354,6 +371,7 @@ public DefaultKafkaHeaderMapper mapper() {\n \n \t\t\treturn Kafka\n \t\t\t\t\t.outboundChannelAdapter(producerFactory)\n+\t\t\t\t\t.futuresChannel(\"futuresChannel\")\n \t\t\t\t\t.sync(true)", "originalCommit": "632811f2f1658f507c0bd3252dfec7898130cccc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjU0MzE5Mw==", "url": "https://github.com/spring-projects/spring-integration/pull/3405#discussion_r506543193", "bodyText": "It's not really important here; I just wanted to test that the futures were indeed sent to the channel; you are correct in that, in practice, you would not do both.", "author": "garyrussell", "createdAt": "2020-10-16T15:26:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjUyOTc3NA=="}], "type": "inlineReview"}, {"oid": "6bc863726212f41c1e0c2e0def6a34062d2c5be8", "url": "https://github.com/spring-projects/spring-integration/commit/6bc863726212f41c1e0c2e0def6a34062d2c5be8", "message": "Add docs.", "committedDate": "2020-10-16T16:44:12Z", "type": "commit"}]}