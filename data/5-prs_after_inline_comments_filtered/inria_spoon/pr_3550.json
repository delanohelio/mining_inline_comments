{"pr_number": 3550, "pr_title": "fix: fixed identifier correctness check when simplenamePart == \"\"", "pr_createdAt": "2020-08-25T20:56:59Z", "pr_url": "https://github.com/INRIA/spoon/pull/3550", "timeline": [{"oid": "85411b0a121fd70496101ca3290e09ebab05c16e", "url": "https://github.com/INRIA/spoon/commit/85411b0a121fd70496101ca3290e09ebab05c16e", "message": "Added test case for JLSCorrectness with simpleName List<String>[]", "committedDate": "2020-09-09T10:58:05Z", "type": "forcePushed"}, {"oid": "e6de5e1c591e7135466327325d4050883f2263c4", "url": "https://github.com/INRIA/spoon/commit/e6de5e1c591e7135466327325d4050883f2263c4", "message": "Fixed JSLCorrectness fix when simplenamePart == \"\"", "committedDate": "2020-09-09T10:58:58Z", "type": "commit"}, {"oid": "bc483e2d1f15297246579dc63b678da201425283", "url": "https://github.com/INRIA/spoon/commit/bc483e2d1f15297246579dc63b678da201425283", "message": "Added test case for JLSCorrectness with simpleName List<String>[]", "committedDate": "2020-09-09T10:59:32Z", "type": "forcePushed"}, {"oid": "80d2ad68385c388665bfc16e4a85d853c58c05d6", "url": "https://github.com/INRIA/spoon/commit/80d2ad68385c388665bfc16e4a85d853c58c05d6", "message": "Added test case for JLSCorrectness with simpleName List<String>[]", "committedDate": "2020-09-09T11:00:31Z", "type": "forcePushed"}, {"oid": "fd3313d5820f5aca1b1a949aa621bb0502913c70", "url": "https://github.com/INRIA/spoon/commit/fd3313d5820f5aca1b1a949aa621bb0502913c70", "message": "Added test case for JLSCorrectness with simpleName List<String>[]", "committedDate": "2020-09-09T11:02:45Z", "type": "commit"}, {"oid": "fd3313d5820f5aca1b1a949aa621bb0502913c70", "url": "https://github.com/INRIA/spoon/commit/fd3313d5820f5aca1b1a949aa621bb0502913c70", "message": "Added test case for JLSCorrectness with simpleName List<String>[]", "committedDate": "2020-09-09T11:02:45Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYzNTcwMg==", "url": "https://github.com/INRIA/spoon/pull/3550#discussion_r485635702", "bodyText": "is that a valid name for a local variable reference? Maybe you mean a type reference instead?", "author": "monperrus", "createdAt": "2020-09-09T14:01:07Z", "path": "src/test/java/spoon/generating/CorrectIdentifierTest.java", "diffHunk": "@@ -69,4 +69,10 @@ public void correctIdentiferUtfChinese() {\n \t\tCtLocalVariableReference<Object> localVariableRef = new Launcher().getFactory().createLocalVariableReference();\n \t\tassertDoesNotThrow(() -> localVariableRef.setSimpleName(\"\u51e6\u7406\"));\n \t}\n+\n+\t@Test\n+\tpublic void correctSquareBrackets() {\n+\t\tCtLocalVariableReference<Object> localVariableRef = new Launcher().getFactory().createLocalVariableReference();\n+\t\tassertDoesNotThrow(() -> localVariableRef.setSimpleName(\"List<String>[]\"));", "originalCommit": "fd3313d5820f5aca1b1a949aa621bb0502913c70", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY1NzQyOQ==", "url": "https://github.com/INRIA/spoon/pull/3550#discussion_r485657429", "bodyText": "It isn't a allowed identifier for a local variable, must be more or less alphanumeric with some exceptions.\nWe have 1 check for all setSimpleName methods. Looking at the decision today i would prefer something like a visitor. Allowing different handling for the cases., like type or local variable.", "author": "MartinWitt", "createdAt": "2020-09-09T14:29:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYzNTcwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA2OTIwNg==", "url": "https://github.com/INRIA/spoon/pull/3550#discussion_r486069206", "bodyText": "OK, @Strum355 could you create a type reference instead?", "author": "monperrus", "createdAt": "2020-09-10T05:11:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYzNTcwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI2MjQ5Nw==", "url": "https://github.com/INRIA/spoon/pull/3550#discussion_r486262497", "bodyText": "My attempts have been unsuccessful unfortunately, I consistently get NPE as getPackage always returns null and Ive been unable to run the Launcher in classpath mode. Im afraid my knowledge of Spoon only goes sofar \ud83d\ude1e", "author": "Strum355", "createdAt": "2020-09-10T11:27:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYzNTcwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc4NjUxNA==", "url": "https://github.com/INRIA/spoon/pull/3550#discussion_r486786514", "bodyText": "Fixed by CtTypeReference localVariableRef = new Launcher().getFactory().createTypeReference();\nLGTM, OK to merge", "author": "monperrus", "createdAt": "2020-09-11T05:45:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYzNTcwMg=="}], "type": "inlineReview"}, {"oid": "6a8b0a20d36173f0e13a119f0844078427cf7bd9", "url": "https://github.com/INRIA/spoon/commit/6a8b0a20d36173f0e13a119f0844078427cf7bd9", "message": "Merge branch 'master' into jlscorrect-fix", "committedDate": "2020-09-11T05:36:48Z", "type": "commit"}, {"oid": "b073f05e956c9c59da749d7118493d2ffab75165", "url": "https://github.com/INRIA/spoon/commit/b073f05e956c9c59da749d7118493d2ffab75165", "message": "up", "committedDate": "2020-09-11T05:43:59Z", "type": "commit"}]}