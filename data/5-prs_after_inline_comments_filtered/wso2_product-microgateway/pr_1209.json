{"pr_number": 1209, "pr_title": "Fix #1207 - Issue when endpoint url contain special characters", "pr_createdAt": "2020-04-22T13:33:37Z", "pr_url": "https://github.com/wso2/product-microgateway/pull/1209", "timeline": [{"oid": "161810d51862fd21b67547850d00bc7a43633844", "url": "https://github.com/wso2/product-microgateway/commit/161810d51862fd21b67547850d00bc7a43633844", "message": "Fix #1207 - Issue when endpoint url contain special characters\n\nWhen production endpoints containing special characters are specified in the open API definition, microgateway route the\nrequest to a wrong endpoint. This issue happens for production endpoints like \"http://test.com?value1=foo&valu2=bar\"\nwhere it contains query parameters.", "committedDate": "2020-04-22T13:27:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ2OTk5MQ==", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413469991", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Test(description = \"Test Invoking the resource which  endpoint defined at resource level \"\n          \n          \n            \n                @Test(description = \"Test Invoking the resource which endpoint defined at resource level \"", "author": "praminda", "createdAt": "2020-04-23T02:51:23Z", "path": "tests/src/test/java/org/wso2/micro/gateway/tests/endpoints/ResourceLevelEndpointsTestCase.java", "diffHunk": "@@ -67,6 +67,19 @@ public void testPerResourceEndpoint() throws Exception {\n         Assert.assertEquals(response.getResponseCode(), 200, \"Response code mismatched\");\n     }\n \n+    @Test(description = \"Test Invoking the resource which  endpoint defined at resource level \"", "originalCommit": "161810d51862fd21b67547850d00bc7a43633844", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ3NTMyMw==", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413475323", "bodyText": "Any reason to change the port? If there is an specific reason, better if you can put that in the PR description. It might be useful later.", "author": "praminda", "createdAt": "2020-04-23T03:07:17Z", "path": "tests/src/test/java/org/wso2/micro/gateway/tests/grpc/GrpcServer.java", "diffHunk": "@@ -31,7 +31,7 @@\n \n     public void start() throws IOException {\n         /* The port on which the server should run */\n-        int port = 50051;\n+        int port = 50075;", "originalCommit": "161810d51862fd21b67547850d00bc7a43633844", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzgzODg2MQ==", "url": "https://github.com/wso2/product-microgateway/pull/1209#discussion_r413838861", "bodyText": "There seems to be port conflict with mac. Its better to use a different port", "author": "Rajith90", "createdAt": "2020-04-23T14:22:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ3NTMyMw=="}], "type": "inlineReview"}, {"oid": "550cbe3de9a4ab29b57f0e6666d445b731bd9e4c", "url": "https://github.com/wso2/product-microgateway/commit/550cbe3de9a4ab29b57f0e6666d445b731bd9e4c", "message": "Fix #1210 - Improve interceptors to get path parameter related details\n\nWith this commit request.getPathParams() method is intorduced to java interceptors to get path parameter details.\nAnd for ballerina interceptors users can get it as invocationContext.attributes[\"pathParams\"] and cast it to a map.\nWith this commit users can details api_name, api_version, matching_resource , using this properties from the invocation context as well.", "committedDate": "2020-04-23T14:19:39Z", "type": "commit"}, {"oid": "550cbe3de9a4ab29b57f0e6666d445b731bd9e4c", "url": "https://github.com/wso2/product-microgateway/commit/550cbe3de9a4ab29b57f0e6666d445b731bd9e4c", "message": "Fix #1210 - Improve interceptors to get path parameter related details\n\nWith this commit request.getPathParams() method is intorduced to java interceptors to get path parameter details.\nAnd for ballerina interceptors users can get it as invocationContext.attributes[\"pathParams\"] and cast it to a map.\nWith this commit users can details api_name, api_version, matching_resource , using this properties from the invocation context as well.", "committedDate": "2020-04-23T14:19:39Z", "type": "forcePushed"}]}