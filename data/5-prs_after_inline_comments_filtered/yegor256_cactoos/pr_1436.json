{"pr_number": 1436, "pr_title": "#1217: Refactor test for ListEnvelope", "pr_createdAt": "2020-09-05T09:08:22Z", "pr_url": "https://github.com/yegor256/cactoos/pull/1436", "timeline": [{"oid": "c0e0075c58701aa5a7797aa7488db6467eee6c29", "url": "https://github.com/yegor256/cactoos/commit/c0e0075c58701aa5a7797aa7488db6467eee6c29", "message": "(#1217) Move test from `ListEnvelopeTest`", "committedDate": "2020-09-05T08:51:26Z", "type": "commit"}, {"oid": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "url": "https://github.com/yegor256/cactoos/commit/8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "message": "(#1217) Remove `Immutable` from test", "committedDate": "2020-09-05T09:02:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzA2NA==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013064", "bodyText": "@andreoss subList from who? Maybe you can be more explicit here.", "author": "fabriciofx", "createdAt": "2020-09-06T02:47:39Z", "path": "src/test/java/org/cactoos/list/ImmutableTest.java", "diffHunk": "@@ -560,4 +560,30 @@ public void testToString() {\n             new IsEqual<>(new ListOf<>(\"a\", \"b\", \"c\").toString())\n         ).affirm();\n     }\n+\n+    @Test\n+    public void subListReturnsListIteratorWithSupportedSet() {\n+        new Assertion<>(\n+            \"subList.listIterator().set() must throw exception\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA3MTAyOA==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484071028", "bodyText": "@fabriciofx Done.", "author": "andreoss", "createdAt": "2020-09-06T13:35:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzA2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzI1MA==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013250", "bodyText": "@andreoss please, fix ident here.", "author": "fabriciofx", "createdAt": "2020-09-06T02:50:38Z", "path": "src/test/java/org/cactoos/list/ImmutableTest.java", "diffHunk": "@@ -560,4 +560,30 @@ public void testToString() {\n             new IsEqual<>(new ListOf<>(\"a\", \"b\", \"c\").toString())\n         ).affirm();\n     }\n+\n+    @Test\n+    public void subListReturnsListIteratorWithSupportedSet() {\n+        new Assertion<>(\n+            \"subList.listIterator().set() must throw exception\",\n+            () -> {\n+                final ListIterator<String> iterator = new Immutable<>(\n+                    new ListOf<String>(\"one\", \"two\", \"three\")\n+                )\n+                    .subList(0, 2)\n+                    .listIterator(0);", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA3MTAwNA==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484071004", "bodyText": "@fabriciofx I believe the ident is fine, at least qulice does not allow it to be shifted either left or right here.", "author": "andreoss", "createdAt": "2020-09-06T13:35:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzI1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzMwOQ==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013309", "bodyText": "@andreoss ListIterator instead of List Iterator", "author": "fabriciofx", "createdAt": "2020-09-06T02:51:27Z", "path": "src/test/java/org/cactoos/list/ImmutableTest.java", "diffHunk": "@@ -560,4 +560,30 @@ public void testToString() {\n             new IsEqual<>(new ListOf<>(\"a\", \"b\", \"c\").toString())\n         ).affirm();\n     }\n+\n+    @Test\n+    public void subListReturnsListIteratorWithSupportedSet() {\n+        new Assertion<>(\n+            \"subList.listIterator().set() must throw exception\",\n+            () -> {\n+                final ListIterator<String> iterator = new Immutable<>(\n+                    new ListOf<String>(\"one\", \"two\", \"three\")\n+                )\n+                    .subList(0, 2)\n+                    .listIterator(0);\n+                iterator.next();\n+                iterator.set(\"zero\");\n+                return new Object();\n+            },\n+            new Throws<>(\n+                new MatcherOf<>(\n+                    (String msg) -> msg.equals(\n+                        \"List Iterator is read-only and doesn't allow rewriting items\"", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA3MDM1Mw==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484070353", "bodyText": "@fabriciofx It's the exception message that comes from ImmutableListIterator.\nThe space indeed seems unnecessary here.", "author": "andreoss", "createdAt": "2020-09-06T13:28:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzMwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzM2NQ==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013365", "bodyText": "@andreoss Which must be empty? Please, add more detail here.", "author": "fabriciofx", "createdAt": "2020-09-06T02:52:23Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDA3MTA1MQ==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484071051", "bodyText": "@fabriciofx Done", "author": "andreoss", "createdAt": "2020-09-06T13:35:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzM2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzQyNg==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013426", "bodyText": "@andreoss Return corrent index of what? Please, add more detail here.", "author": "fabriciofx", "createdAt": "2020-09-06T02:53:21Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzQ3Ng==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013476", "bodyText": "@andreoss Must be empty? Is it really correct?", "author": "fabriciofx", "createdAt": "2020-09-06T02:54:19Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMxODEzNQ==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484318135", "bodyText": "@andreoss what about this?", "author": "victornoel", "createdAt": "2020-09-07T09:42:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzQ3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzQ5OQ==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013499", "bodyText": "@andreoss Which value must be changed? Please, add more detail here.", "author": "fabriciofx", "createdAt": "2020-09-06T02:54:44Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",\n+            list,\n+            new IsEqual<>(new ListOf<>(\"two\", \"one\"))\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void setIsNotSupported() {\n+    @Test\n+    public void setIsDelegatedToTheOriginal() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.set(0, \"zero\");\n+        new Assertion<>(\n+            \"value must be changed\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzY4MA==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013680", "bodyText": "@andreoss Please, add more detail in this assertion message (as explained before).", "author": "fabriciofx", "createdAt": "2020-09-06T02:56:51Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",\n+            list,\n+            new IsEqual<>(new ListOf<>(\"two\", \"one\"))\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void setIsNotSupported() {\n+    @Test\n+    public void setIsDelegatedToTheOriginal() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.set(0, \"zero\");\n+        new Assertion<>(\n+            \"value must be changed\",\n+            list,\n+            new HasValues<>(\"zero\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void addIsNotSupported() {\n+    @Test\n+    public void addIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.add(\"two\");\n+        new Assertion<>(\n+            \"value must be added\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzY4Mw==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013683", "bodyText": "@andreoss Please, add more detail in this assertion message (as explained before).", "author": "fabriciofx", "createdAt": "2020-09-06T02:56:59Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",\n+            list,\n+            new IsEqual<>(new ListOf<>(\"two\", \"one\"))\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void setIsNotSupported() {\n+    @Test\n+    public void setIsDelegatedToTheOriginal() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.set(0, \"zero\");\n+        new Assertion<>(\n+            \"value must be changed\",\n+            list,\n+            new HasValues<>(\"zero\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void addIsNotSupported() {\n+    @Test\n+    public void addIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.add(\"two\");\n+        new Assertion<>(\n+            \"value must be added\",\n+            list,\n+            new HasValues<>(\"one\", \"two\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedRemove() {\n+    public void returnsSubListWithRemove() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.subList(0, 1).remove(0);\n+        new Assertion<>(\n+            \"must be empty after removal\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzczMw==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013733", "bodyText": "@andreoss List().subList().set()", "author": "fabriciofx", "createdAt": "2020-09-06T02:57:45Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",\n+            list,\n+            new IsEqual<>(new ListOf<>(\"two\", \"one\"))\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void setIsNotSupported() {\n+    @Test\n+    public void setIsDelegatedToTheOriginal() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.set(0, \"zero\");\n+        new Assertion<>(\n+            \"value must be changed\",\n+            list,\n+            new HasValues<>(\"zero\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void addIsNotSupported() {\n+    @Test\n+    public void addIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.add(\"two\");\n+        new Assertion<>(\n+            \"value must be added\",\n+            list,\n+            new HasValues<>(\"one\", \"two\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedRemove() {\n+    public void returnsSubListWithRemove() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.subList(0, 1).remove(0);\n+        new Assertion<>(\n+            \"must be empty after removal\",\n+            list,\n+            new IsEmptyCollection<>()\n+        ).affirm();\n     }\n \n-    @Test()\n+    @Test\n     public void returnsSubListWithSupportedSet() {\n+        final List<String> list = new StringList(\"one\");\n+        list.subList(0, 1).set(0, \"zero\");\n         new Assertion<>(\n-            \"subList.set() must throw exception\",\n-            () -> new StringList(\"one\").subList(0, 1).set(0, \"zero\"),\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\"#set(): the list is read-only\")\n-                ),\n-                UnsupportedOperationException.class\n+            \"subList.set() must change the original list\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzc1Mg==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013752", "bodyText": "@andreoss Please, add more detail in this assertion message (as explained before).", "author": "fabriciofx", "createdAt": "2020-09-06T02:58:01Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",\n+            list,\n+            new IsEqual<>(new ListOf<>(\"two\", \"one\"))\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void setIsNotSupported() {\n+    @Test\n+    public void setIsDelegatedToTheOriginal() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.set(0, \"zero\");\n+        new Assertion<>(\n+            \"value must be changed\",\n+            list,\n+            new HasValues<>(\"zero\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void addIsNotSupported() {\n+    @Test\n+    public void addIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.add(\"two\");\n+        new Assertion<>(\n+            \"value must be added\",\n+            list,\n+            new HasValues<>(\"one\", \"two\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedRemove() {\n+    public void returnsSubListWithRemove() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.subList(0, 1).remove(0);\n+        new Assertion<>(\n+            \"must be empty after removal\",\n+            list,\n+            new IsEmptyCollection<>()\n+        ).affirm();\n     }\n \n-    @Test()\n+    @Test\n     public void returnsSubListWithSupportedSet() {\n+        final List<String> list = new StringList(\"one\");\n+        list.subList(0, 1).set(0, \"zero\");\n         new Assertion<>(\n-            \"subList.set() must throw exception\",\n-            () -> new StringList(\"one\").subList(0, 1).set(0, \"zero\"),\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\"#set(): the list is read-only\")\n-                ),\n-                UnsupportedOperationException.class\n+            \"subList.set() must change the original list\",\n+            list,\n+            new HasValues<>(\n+                \"zero\"\n             )\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedAdd() {\n+    @Test\n+    public void addsAtGivenIndex() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.subList(0, 1).add(\"two\");\n+        list.add(0, \"two\");\n+        new Assertion<>(\n+            \"must add value\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzc1OQ==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013759", "bodyText": "@andreoss Please, add more detail in this assertion message (as explained before).", "author": "fabriciofx", "createdAt": "2020-09-06T02:58:17Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",\n+            list,\n+            new IsEqual<>(new ListOf<>(\"two\", \"one\"))\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void setIsNotSupported() {\n+    @Test\n+    public void setIsDelegatedToTheOriginal() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.set(0, \"zero\");\n+        new Assertion<>(\n+            \"value must be changed\",\n+            list,\n+            new HasValues<>(\"zero\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void addIsNotSupported() {\n+    @Test\n+    public void addIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.add(\"two\");\n+        new Assertion<>(\n+            \"value must be added\",\n+            list,\n+            new HasValues<>(\"one\", \"two\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedRemove() {\n+    public void returnsSubListWithRemove() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.subList(0, 1).remove(0);\n+        new Assertion<>(\n+            \"must be empty after removal\",\n+            list,\n+            new IsEmptyCollection<>()\n+        ).affirm();\n     }\n \n-    @Test()\n+    @Test\n     public void returnsSubListWithSupportedSet() {\n+        final List<String> list = new StringList(\"one\");\n+        list.subList(0, 1).set(0, \"zero\");\n         new Assertion<>(\n-            \"subList.set() must throw exception\",\n-            () -> new StringList(\"one\").subList(0, 1).set(0, \"zero\"),\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\"#set(): the list is read-only\")\n-                ),\n-                UnsupportedOperationException.class\n+            \"subList.set() must change the original list\",\n+            list,\n+            new HasValues<>(\n+                \"zero\"\n             )\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedAdd() {\n+    @Test\n+    public void addsAtGivenIndex() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.subList(0, 1).add(\"two\");\n+        list.add(0, \"two\");\n+        new Assertion<>(\n+            \"must add value\",\n+            list,\n+            new HasValues<>(\"two\")\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void getsAtGivenIndex() {\n+        final ListEnvelope<String> list = new StringList(\"one\");\n+        new Assertion<>(\n+            \"must add value\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDAxMzc3Mw==", "url": "https://github.com/yegor256/cactoos/pull/1436#discussion_r484013773", "bodyText": "@andreoss Please, add more detail in this assertion message (as explained before).", "author": "fabriciofx", "createdAt": "2020-09-06T02:58:26Z", "path": "src/test/java/org/cactoos/list/ListEnvelopeTest.java", "diffHunk": "@@ -73,97 +61,113 @@ public void returnsListIteratorWithSupportedSet() {\n         );\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsListIteratorWithUnsupportedAdd() {\n-        final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n-    }\n-\n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedRemove() {\n+    @Test\n+    public void removeIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final Iterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.remove();\n-    }\n-\n-    @Test()\n-    public void subListReturnsListIteratorWithSupportedSet() {\n+        list.remove(0);\n         new Assertion<>(\n-            \"subList.listIterator().set() must throw exception\",\n-            () -> {\n-                final ListIterator<String> iterator = new StringList(\"one\", \"two\", \"three\")\n-                    .subList(0, 2)\n-                    .listIterator(0);\n-                iterator.next();\n-                iterator.set(\"zero\");\n-                return new Object();\n-            },\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\n-                        \"List Iterator is read-only and doesn't allow rewriting items\"\n-                    )\n-                ),\n-                UnsupportedOperationException.class\n-            )\n+            \"must be empty\",\n+            list,\n+            new IsEmptyCollection<>()\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void subListReturnsListIteratorWithUnsupportedAdd() {\n+    @Test\n+    public void indexOfIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        final ListIterator<String> iterator = list.subList(0, 1)\n-            .listIterator();\n-        iterator.next();\n-        iterator.add(\"two\");\n+        new Assertion<>(\n+            \"must return corrent index\",\n+            list.indexOf(\"one\"),\n+            new IsEqual<>(0)\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void removeIsNotSupported() {\n+    @Test\n+    public void addAllIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.remove(0);\n+        list.addAll(0, new StringList(\"two\"));\n+        new Assertion<>(\n+            \"must be empty\",\n+            list,\n+            new IsEqual<>(new ListOf<>(\"two\", \"one\"))\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void setIsNotSupported() {\n+    @Test\n+    public void setIsDelegatedToTheOriginal() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.set(0, \"zero\");\n+        new Assertion<>(\n+            \"value must be changed\",\n+            list,\n+            new HasValues<>(\"zero\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void addIsNotSupported() {\n+    @Test\n+    public void addIsDelegated() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.add(\"two\");\n+        new Assertion<>(\n+            \"value must be added\",\n+            list,\n+            new HasValues<>(\"one\", \"two\")\n+        ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedRemove() {\n+    public void returnsSubListWithRemove() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n         list.subList(0, 1).remove(0);\n+        new Assertion<>(\n+            \"must be empty after removal\",\n+            list,\n+            new IsEmptyCollection<>()\n+        ).affirm();\n     }\n \n-    @Test()\n+    @Test\n     public void returnsSubListWithSupportedSet() {\n+        final List<String> list = new StringList(\"one\");\n+        list.subList(0, 1).set(0, \"zero\");\n         new Assertion<>(\n-            \"subList.set() must throw exception\",\n-            () -> new StringList(\"one\").subList(0, 1).set(0, \"zero\"),\n-            new Throws<>(\n-                new MatcherOf<>(\n-                    (String msg) -> msg.equals(\"#set(): the list is read-only\")\n-                ),\n-                UnsupportedOperationException.class\n+            \"subList.set() must change the original list\",\n+            list,\n+            new HasValues<>(\n+                \"zero\"\n             )\n         ).affirm();\n     }\n \n-    @Test(expected = UnsupportedOperationException.class)\n-    public void returnsSubListWithUnsupportedAdd() {\n+    @Test\n+    public void addsAtGivenIndex() {\n         final ListEnvelope<String> list = new StringList(\"one\");\n-        list.subList(0, 1).add(\"two\");\n+        list.add(0, \"two\");\n+        new Assertion<>(\n+            \"must add value\",\n+            list,\n+            new HasValues<>(\"two\")\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void getsAtGivenIndex() {\n+        final ListEnvelope<String> list = new StringList(\"one\");\n+        new Assertion<>(\n+            \"must add value\",\n+            list.get(0),\n+            new IsEqual<>(\"one\")\n+        ).affirm();\n+    }\n+\n+    @Test\n+    public void getsLastIndexOfValue() {\n+        final ListEnvelope<String> list = new StringList(\"one\");\n+        list.add(1, \"one\");\n+        new Assertion<>(\n+            \"must be last index\",", "originalCommit": "8f7bb832c9ab1961f2c1236df903b8f7c9fe4f48", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "84a93b935c21a486200347673f3c91e48dc8e8e0", "url": "https://github.com/yegor256/cactoos/commit/84a93b935c21a486200347673f3c91e48dc8e8e0", "message": "(#1217) Improve assertion messages", "committedDate": "2020-09-06T13:33:26Z", "type": "commit"}, {"oid": "3794cf469c506aeb3f72f88a997aa3155029e10f", "url": "https://github.com/yegor256/cactoos/commit/3794cf469c506aeb3f72f88a997aa3155029e10f", "message": "(#1217) Fix description", "committedDate": "2020-09-08T00:57:31Z", "type": "commit"}]}