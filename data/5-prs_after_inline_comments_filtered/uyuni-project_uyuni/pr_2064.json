{"pr_number": 2064, "pr_title": "Refactoring 3 uyuni", "pr_createdAt": "2020-03-26T10:23:43Z", "pr_url": "https://github.com/uyuni-project/uyuni/pull/2064", "timeline": [{"oid": "af2502ee31348ab65c2e0fbf34222cd1e0e34c61", "url": "https://github.com/uyuni-project/uyuni/commit/af2502ee31348ab65c2e0fbf34222cd1e0e34c61", "message": "fix checkstyle", "committedDate": "2020-03-30T11:06:53Z", "type": "forcePushed"}, {"oid": "a2adb1a3d5ee369e4767780a6c045e08c65170d5", "url": "https://github.com/uyuni-project/uyuni/commit/a2adb1a3d5ee369e4767780a6c045e08c65170d5", "message": "fixup! fix checkstyle", "committedDate": "2020-03-30T11:30:44Z", "type": "forcePushed"}, {"oid": "af79cefa9ef50d56c08d1998912300f4f4673121", "url": "https://github.com/uyuni-project/uyuni/commit/af79cefa9ef50d56c08d1998912300f4f4673121", "message": "fix tests", "committedDate": "2020-03-31T08:49:20Z", "type": "forcePushed"}, {"oid": "957998d711ad214a16cf396e96f74602bbda1fc4", "url": "https://github.com/uyuni-project/uyuni/commit/957998d711ad214a16cf396e96f74602bbda1fc4", "message": "fix tests", "committedDate": "2020-04-01T13:15:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk0MzkzNg==", "url": "https://github.com/uyuni-project/uyuni/pull/2064#discussion_r402943936", "bodyText": "Suggested change", "author": "renner", "createdAt": "2020-04-03T11:36:52Z", "path": "java/code/src/com/suse/manager/webui/services/iface/RedhatProductInfo.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * Copyright (c) 2020 SUSE LLC\n+ *\n+ * This software is licensed to you under the GNU General Public License,\n+ * version 2 (GPLv2). There is NO WARRANTY for this software, express or\n+ * implied, including the implied warranties of MERCHANTABILITY or FITNESS\n+ * FOR A PARTICULAR PURPOSE. You should have received a copy of GPLv2\n+ * along with this software; if not, see\n+ * http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.\n+ *\n+ * Red Hat trademarks are not licensed under GPLv2. No permission is\n+ * granted to use or replicate Red Hat trademarks that are incorporated\n+ * in this software or its documentation.\n+ */\n+package com.suse.manager.webui.services.iface;\n+\n+import java.util.Optional;\n+\n+/**\n+ * Information to determine redhat product.\n+ */\n+public class RedhatProductInfo {\n+\n+    private final Optional<String> centosReleaseContent;\n+    private final Optional<String> rhelReleaseContent;\n+    private final Optional<String> whatProvidesRes;\n+\n+    /**\n+     * @param centosReleaseContentIn centos release content\n+     * @param rhelReleaseContentIn rhel release content\n+     * @param whatProvidesResIn what provides res result\n+     */\n+    public RedhatProductInfo(Optional<String> centosReleaseContentIn, Optional<String> rhelReleaseContentIn,\n+                             Optional<String> whatProvidesResIn) {\n+        this.centosReleaseContent = centosReleaseContentIn;\n+        this.rhelReleaseContent = rhelReleaseContentIn;\n+        this.whatProvidesRes = whatProvidesResIn;\n+    }\n+\n+", "originalCommit": "957998d711ad214a16cf396e96f74602bbda1fc4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk0NDI5MQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2064#discussion_r402944291", "bodyText": "Is iface the right package to use here?", "author": "renner", "createdAt": "2020-04-03T11:37:44Z", "path": "java/code/src/com/suse/manager/webui/services/iface/RedhatProductInfo.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * Copyright (c) 2020 SUSE LLC\n+ *\n+ * This software is licensed to you under the GNU General Public License,\n+ * version 2 (GPLv2). There is NO WARRANTY for this software, express or\n+ * implied, including the implied warranties of MERCHANTABILITY or FITNESS\n+ * FOR A PARTICULAR PURPOSE. You should have received a copy of GPLv2\n+ * along with this software; if not, see\n+ * http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.\n+ *\n+ * Red Hat trademarks are not licensed under GPLv2. No permission is\n+ * granted to use or replicate Red Hat trademarks that are incorporated\n+ * in this software or its documentation.\n+ */\n+package com.suse.manager.webui.services.iface;", "originalCommit": "957998d711ad214a16cf396e96f74602bbda1fc4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjA3ODA5MQ==", "url": "https://github.com/uyuni-project/uyuni/pull/2064#discussion_r406078091", "bodyText": "do we have a better place? i put it there so its close to the interface its used in.", "author": "lucidd", "createdAt": "2020-04-09T09:32:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk0NDI5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk1NDE0Ng==", "url": "https://github.com/uyuni-project/uyuni/pull/2064#discussion_r402954146", "bodyText": "2018--2020", "author": "cbosdo", "createdAt": "2020-04-03T11:59:26Z", "path": "java/code/src/com/suse/manager/virtualization/VirtManagerSalt.java", "diffHunk": "@@ -0,0 +1,171 @@\n+/**\n+ * Copyright (c) 2018 SUSE LLC", "originalCommit": "957998d711ad214a16cf396e96f74602bbda1fc4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7423c6b5466c6d415e363aae5fc598417e35c9e5", "url": "https://github.com/uyuni-project/uyuni/commit/7423c6b5466c6d415e363aae5fc598417e35c9e5", "message": "remove empty line\n\nCo-Authored-By: Johannes Renner <jrenner@suse.de>", "committedDate": "2020-04-09T11:10:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3ODc4Mw==", "url": "https://github.com/uyuni-project/uyuni/pull/2064#discussion_r406178783", "bodyText": "This is confusing, why they both are pointing to same? Are they even being used?", "author": "admd", "createdAt": "2020-04-09T12:47:44Z", "path": "java/code/src/com/suse/manager/webui/services/impl/SaltService.java", "diffHunk": "@@ -122,14 +123,16 @@\n /**\n  * Singleton class acting as a service layer for accessing the salt API.\n  */\n-public class SaltService implements SystemQuery {\n+public class SaltService implements SystemQuery, SaltApi {\n \n     private final Batch defaultBatch;\n \n     /**\n      * Singleton instance of this class\n      */\n-    public static final SystemQuery INSTANCE = new SaltService();\n+    private static final SaltService INSTANCE_SALT_SERVICE = new SaltService();\n+    public static final SystemQuery INSTANCE = INSTANCE_SALT_SERVICE;\n+    public static final SaltApi INSTANCE_SALT_API = INSTANCE_SALT_SERVICE;", "originalCommit": "24d78455f57ad4a3ef82569c17ddccbd9fa3e2da", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI4MzMxOA==", "url": "https://github.com/uyuni-project/uyuni/pull/2064#discussion_r406283318", "bodyText": "The reason is to have the variable be declared with the interface type rather then SaltService so there is no accidental mixup. It also helps to track where each interface is used right now.\nIn the end those static instances are just temporary until further refactorings.", "author": "lucidd", "createdAt": "2020-04-09T15:21:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE3ODc4Mw=="}], "type": "inlineReview"}, {"oid": "069b6fd51405908499629162b05082215696b931", "url": "https://github.com/uyuni-project/uyuni/commit/069b6fd51405908499629162b05082215696b931", "message": "update copyright", "committedDate": "2020-04-14T10:12:23Z", "type": "forcePushed"}, {"oid": "2a5c22fe3e871738b77560f5a36438ada94b7c93", "url": "https://github.com/uyuni-project/uyuni/commit/2a5c22fe3e871738b77560f5a36438ada94b7c93", "message": "update copyright", "committedDate": "2020-04-14T10:42:49Z", "type": "forcePushed"}, {"oid": "9d67aaf6777e10101f4a7cabca20a5d4fea52df0", "url": "https://github.com/uyuni-project/uyuni/commit/9d67aaf6777e10101f4a7cabca20a5d4fea52df0", "message": "replace applyState with more specific method", "committedDate": "2020-04-14T12:06:58Z", "type": "commit"}, {"oid": "e11383f1f56effe9096a7051ce342ba0e83db32c", "url": "https://github.com/uyuni-project/uyuni/commit/e11383f1f56effe9096a7051ce342ba0e83db32c", "message": "remove setReactor", "committedDate": "2020-04-14T12:07:02Z", "type": "commit"}, {"oid": "7ceeb96d4008a8611d314e7acdf56a1377b552d2", "url": "https://github.com/uyuni-project/uyuni/commit/7ceeb96d4008a8611d314e7acdf56a1377b552d2", "message": "add VirtManager interface and removing method from SystemQuery", "committedDate": "2020-04-14T12:07:02Z", "type": "commit"}, {"oid": "c5ef3f2223faa15f683764cc9dac41be856b8fa0", "url": "https://github.com/uyuni-project/uyuni/commit/c5ef3f2223faa15f683764cc9dac41be856b8fa0", "message": "Pass SystemQuery instance to *MinionBootstrappers", "committedDate": "2020-04-14T12:07:03Z", "type": "commit"}, {"oid": "eaaea1925dbb14547b207ebd77fe47315dd6af04", "url": "https://github.com/uyuni-project/uyuni/commit/eaaea1925dbb14547b207ebd77fe47315dd6af04", "message": "fix checkstyle", "committedDate": "2020-04-14T12:07:03Z", "type": "commit"}, {"oid": "3675a9d98625e13e5bcd97fac8d2e2dec151301b", "url": "https://github.com/uyuni-project/uyuni/commit/3675a9d98625e13e5bcd97fac8d2e2dec151301b", "message": "fix tests", "committedDate": "2020-04-14T12:07:03Z", "type": "commit"}, {"oid": "a62013753a4a82c8492e8145f0b77c43bb10f18b", "url": "https://github.com/uyuni-project/uyuni/commit/a62013753a4a82c8492e8145f0b77c43bb10f18b", "message": "remove empty line\n\nCo-Authored-By: Johannes Renner <jrenner@suse.de>", "committedDate": "2020-04-14T12:07:03Z", "type": "commit"}, {"oid": "9b8e16d2693423aff1215780f4689a5ddbb574c7", "url": "https://github.com/uyuni-project/uyuni/commit/9b8e16d2693423aff1215780f4689a5ddbb574c7", "message": "update copyright", "committedDate": "2020-04-14T12:07:03Z", "type": "commit"}, {"oid": "9b8e16d2693423aff1215780f4689a5ddbb574c7", "url": "https://github.com/uyuni-project/uyuni/commit/9b8e16d2693423aff1215780f4689a5ddbb574c7", "message": "update copyright", "committedDate": "2020-04-14T12:07:03Z", "type": "forcePushed"}, {"oid": "83e4951e4b468134d26ba4ee43362a088f64fd34", "url": "https://github.com/uyuni-project/uyuni/commit/83e4951e4b468134d26ba4ee43362a088f64fd34", "message": "Merge branch 'refactoring-3-uyuni' into uyuni-master", "committedDate": "2020-04-14T12:07:48Z", "type": "commit"}]}