{"pr_number": 3381, "pr_title": "adjust grpc tests to work with grpc-stub", "pr_createdAt": "2020-04-10T15:12:28Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3381", "timeline": [{"oid": "72e5f83a6dfb5b0c6776c45b75b0c87096746389", "url": "https://github.com/telstra/open-kilda/commit/72e5f83a6dfb5b0c6776c45b75b0c87096746389", "message": "adjust grpc tests to work with stub", "committedDate": "2020-04-10T15:14:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgxNTQ0OA==", "url": "https://github.com/telstra/open-kilda/pull/3381#discussion_r406815448", "bodyText": "why on earth will you put this local-only code into lockkeeper and request container name over http? Do it directly in test classes\ndef dockerClient = DefaultDockerClient.fromEnv().build()", "author": "rtretyak", "createdAt": "2020-04-10T15:43:19Z", "path": "src-java/testing/test-library/src/main/java/org/openkilda/testing/service/lockkeeper/LockKeeperService.java", "diffHunk": "@@ -69,6 +69,8 @@\n \n     void reviveFloodlight(String region);\n \n+    String getContainerIp(String containerName);", "originalCommit": "72e5f83a6dfb5b0c6776c45b75b0c87096746389", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQyNTQzMg==", "url": "https://github.com/telstra/open-kilda/pull/3381#discussion_r407425432", "bodyText": "in this case we will not be able to run grpc tests from remote machine", "author": "andriidovhan", "createdAt": "2020-04-13T10:52:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgxNTQ0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk3Mjk1NA==", "url": "https://github.com/telstra/open-kilda/pull/3381#discussion_r407972954", "bodyText": "Maybe it's cleaner to do sth like DefaultDockerClient.fromEnv().uri(whereTheDockerIs).build() in this case? I mean it fixes the issue with container ip for grpc, but we have other tests that manipulate with docker containers and they remain unfixed for the 'remote machine' scenario", "author": "rtretyak", "createdAt": "2020-04-14T08:53:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjgxNTQ0OA=="}], "type": "inlineReview"}, {"oid": "5a8fac50d72e3d5d89d36c8f1d6aeea270f34b21", "url": "https://github.com/telstra/open-kilda/commit/5a8fac50d72e3d5d89d36c8f1d6aeea270f34b21", "message": "adjust grpc tests to work with stub", "committedDate": "2020-04-13T08:54:29Z", "type": "forcePushed"}, {"oid": "a6013863a84d2936ff0463b6fde5b6b99490034f", "url": "https://github.com/telstra/open-kilda/commit/a6013863a84d2936ff0463b6fde5b6b99490034f", "message": "add dockerHelper", "committedDate": "2020-04-14T15:31:25Z", "type": "forcePushed"}, {"oid": "33f4f123216606864cb20feda0ecbb5161723040", "url": "https://github.com/telstra/open-kilda/commit/33f4f123216606864cb20feda0ecbb5161723040", "message": "add dockerHelper", "committedDate": "2020-04-15T07:20:17Z", "type": "forcePushed"}, {"oid": "97d351aa8e51702c2729b56db97c16f2faa6e9b6", "url": "https://github.com/telstra/open-kilda/commit/97d351aa8e51702c2729b56db97c16f2faa6e9b6", "message": "add dockerHelper", "committedDate": "2020-04-15T08:41:37Z", "type": "forcePushed"}, {"oid": "c8ba675eea5257dd8b5f20322009c32bc3c10fd8", "url": "https://github.com/telstra/open-kilda/commit/c8ba675eea5257dd8b5f20322009c32bc3c10fd8", "message": "fix wfmManipulator", "committedDate": "2020-04-15T12:58:31Z", "type": "forcePushed"}, {"oid": "ee7d1b1ee8ff1abd482db2956380c845c4d8f0f5", "url": "https://github.com/telstra/open-kilda/commit/ee7d1b1ee8ff1abd482db2956380c845c4d8f0f5", "message": "fix wfmManipulator", "committedDate": "2020-04-15T13:19:27Z", "type": "forcePushed"}, {"oid": "ee7d1b1ee8ff1abd482db2956380c845c4d8f0f5", "url": "https://github.com/telstra/open-kilda/commit/ee7d1b1ee8ff1abd482db2956380c845c4d8f0f5", "message": "fix wfmManipulator", "committedDate": "2020-04-15T13:19:27Z", "type": "forcePushed"}, {"oid": "359e54ad7f879708a0804cace15f30b65167613e", "url": "https://github.com/telstra/open-kilda/commit/359e54ad7f879708a0804cace15f30b65167613e", "message": "add possibility to get ip of container via lockkeper", "committedDate": "2020-04-16T16:38:25Z", "type": "commit"}, {"oid": "422b12980c2c96208181e39d8f5fc40d8eadd90e", "url": "https://github.com/telstra/open-kilda/commit/422b12980c2c96208181e39d8f5fc40d8eadd90e", "message": "adjust grpc tests to work with stub", "committedDate": "2020-04-16T16:39:32Z", "type": "commit"}, {"oid": "f3e18bafd076daade8b9961fae6618ca8ac00bdd", "url": "https://github.com/telstra/open-kilda/commit/f3e18bafd076daade8b9961fae6618ca8ac00bdd", "message": "fix wfmManipulator", "committedDate": "2020-04-16T16:39:32Z", "type": "commit"}, {"oid": "bc0fbf7fb1176085acef21a567a56c35a52bd5f1", "url": "https://github.com/telstra/open-kilda/commit/bc0fbf7fb1176085acef21a567a56c35a52bd5f1", "message": "fix \"Simultaneous reroute of multiple flows should not oversubscribe any ISLs\"", "committedDate": "2020-04-16T16:40:31Z", "type": "commit"}, {"oid": "bc0fbf7fb1176085acef21a567a56c35a52bd5f1", "url": "https://github.com/telstra/open-kilda/commit/bc0fbf7fb1176085acef21a567a56c35a52bd5f1", "message": "fix \"Simultaneous reroute of multiple flows should not oversubscribe any ISLs\"", "committedDate": "2020-04-16T16:40:31Z", "type": "forcePushed"}]}