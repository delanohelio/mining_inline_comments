{"pr_number": 3466, "pr_title": "Test/qinq final", "pr_createdAt": "2020-05-13T13:57:57Z", "pr_url": "https://github.com/telstra/open-kilda/pull/3466", "timeline": [{"oid": "d559b319e86c135c9e631b4528596b1451b0e65e", "url": "https://github.com/telstra/open-kilda/commit/d559b319e86c135c9e631b4528596b1451b0e65e", "message": "test traffic for vlan/default/qinq flows at the same time", "committedDate": "2020-05-13T14:30:57Z", "type": "forcePushed"}, {"oid": "d3ecc3671ffa79d02c64c7ff09d0fe755f78ee62", "url": "https://github.com/telstra/open-kilda/commit/d3ecc3671ffa79d02c64c7ff09d0fe755f78ee62", "message": "test traffic for vlan/default/qinq flows at the same time", "committedDate": "2020-05-13T16:01:23Z", "type": "forcePushed"}, {"oid": "8e0a7192d2032a8a47cd6f1b301602f43cbd66c1", "url": "https://github.com/telstra/open-kilda/commit/8e0a7192d2032a8a47cd6f1b301602f43cbd66c1", "message": "add draft test for qinq+connecteDevices", "committedDate": "2020-05-14T14:11:25Z", "type": "forcePushed"}, {"oid": "89ad7619d759fad9248aadb78270261adfdf815d", "url": "https://github.com/telstra/open-kilda/commit/89ad7619d759fad9248aadb78270261adfdf815d", "message": "add draft test for qinq+connecteDevices", "committedDate": "2020-05-15T08:41:53Z", "type": "forcePushed"}, {"oid": "053a2ad50ac0c14d702c1aef1df0cd232c98f23b", "url": "https://github.com/telstra/open-kilda/commit/053a2ad50ac0c14d702c1aef1df0cd232c98f23b", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-15T14:44:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg3MzcxMQ==", "url": "https://github.com/telstra/open-kilda/pull/3466#discussion_r425873711", "bodyText": "?", "author": "rtretyak", "createdAt": "2020-05-15T15:19:17Z", "path": "src-java/testing/test-library/src/main/java/org/openkilda/testing/service/traffexam/TraffExamServiceImpl.java", "diffHunk": "@@ -343,14 +344,16 @@ public void destroy() throws Exception {\n     }\n \n     @Override\n-    public Address allocateFreeAddress(Host host, int vlan) throws OperationalException, Inet4ValueException {\n+    public Address allocateFreeAddress(Host host, List<Vlan> vlan) throws OperationalException, Inet4ValueException {\n         Inet4Network subnet;\n         try {\n             subnet = addressPool.allocate();\n         } catch (Inet4ValueException e) {\n             throw new OperationalException(\"Unable to allocate subnet for exam. There is no more addresses available.\");\n         }\n-        return assignAddress(host, new Address(subnet.address(1), subnet.getPrefix(), new Vlan(vlan)));\n+        return assignAddress(host, new Address(subnet.address(1), subnet.getPrefix(), vlan\n+//                Collections.singletonList(new Vlan(vlan))", "originalCommit": "053a2ad50ac0c14d702c1aef1df0cd232c98f23b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjY4NTQzOQ==", "url": "https://github.com/telstra/open-kilda/pull/3466#discussion_r426685439", "bodyText": "my bad,\ndeleted", "author": "andriidovhan", "createdAt": "2020-05-18T14:53:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTg3MzcxMQ=="}], "type": "inlineReview"}, {"oid": "eddf1bf28b451739303fcf57b3766e3dbed4681d", "url": "https://github.com/telstra/open-kilda/commit/eddf1bf28b451739303fcf57b3766e3dbed4681d", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-18T07:23:51Z", "type": "forcePushed"}, {"oid": "cac4e4738f580145621d48890f7cd38016f44483", "url": "https://github.com/telstra/open-kilda/commit/cac4e4738f580145621d48890f7cd38016f44483", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-18T07:59:40Z", "type": "forcePushed"}, {"oid": "2be00881e5fc38ba0d32ed4983132242295da1b3", "url": "https://github.com/telstra/open-kilda/commit/2be00881e5fc38ba0d32ed4983132242295da1b3", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-18T09:31:42Z", "type": "forcePushed"}, {"oid": "419fd2710c6fa6fd8e2334c780ecc917d490fb4f", "url": "https://github.com/telstra/open-kilda/commit/419fd2710c6fa6fd8e2334c780ecc917d490fb4f", "message": "fix", "committedDate": "2020-05-18T14:40:17Z", "type": "forcePushed"}, {"oid": "39859ce9fd26748c5352958868eaf337fe73efa2", "url": "https://github.com/telstra/open-kilda/commit/39859ce9fd26748c5352958868eaf337fe73efa2", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-18T14:44:58Z", "type": "forcePushed"}, {"oid": "428f0ad7fdd0768926d0ed48b985afa61b5a68a2", "url": "https://github.com/telstra/open-kilda/commit/428f0ad7fdd0768926d0ed48b985afa61b5a68a2", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-19T06:47:01Z", "type": "forcePushed"}, {"oid": "3b177268e526f3591b87d8121b33437c973bb3d3", "url": "https://github.com/telstra/open-kilda/commit/3b177268e526f3591b87d8121b33437c973bb3d3", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-19T07:50:08Z", "type": "forcePushed"}, {"oid": "c24461f66cc539b00d81a11a080bc63ce9aedf8e", "url": "https://github.com/telstra/open-kilda/commit/c24461f66cc539b00d81a11a080bc63ce9aedf8e", "message": "fix SwitchSyncSpec", "committedDate": "2020-05-20T06:18:33Z", "type": "forcePushed"}, {"oid": "f0dc9bd6980bc7a35590b9b70c24d1b9431a91c0", "url": "https://github.com/telstra/open-kilda/commit/f0dc9bd6980bc7a35590b9b70c24d1b9431a91c0", "message": "fix MetersSpec.groovy", "committedDate": "2020-05-21T14:55:43Z", "type": "forcePushed"}, {"oid": "6c9bcafa7cafabb73904c570e8ea912eb49b6028", "url": "https://github.com/telstra/open-kilda/commit/6c9bcafa7cafabb73904c570e8ea912eb49b6028", "message": "fix MetersSpec.groovy", "committedDate": "2020-05-22T07:28:05Z", "type": "forcePushed"}, {"oid": "4f0d7d440d5c863bed114857b6591394c3cfa641", "url": "https://github.com/telstra/open-kilda/commit/4f0d7d440d5c863bed114857b6591394c3cfa641", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-22T14:01:18Z", "type": "forcePushed"}, {"oid": "296daf728e7a0cf75683af841113acc5faebd654", "url": "https://github.com/telstra/open-kilda/commit/296daf728e7a0cf75683af841113acc5faebd654", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-22T14:19:24Z", "type": "forcePushed"}, {"oid": "a735210af1cd2a99f1a19452f75c19933048394c", "url": "https://github.com/telstra/open-kilda/commit/a735210af1cd2a99f1a19452f75c19933048394c", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-22T19:20:26Z", "type": "forcePushed"}, {"oid": "9bc3b4c94d82383e42cc92fc67e0895ddbba0fc5", "url": "https://github.com/telstra/open-kilda/commit/9bc3b4c94d82383e42cc92fc67e0895ddbba0fc5", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-26T14:57:23Z", "type": "forcePushed"}, {"oid": "fd130a5582bf2c8d3f47d11017770f539dd98b41", "url": "https://github.com/telstra/open-kilda/commit/fd130a5582bf2c8d3f47d11017770f539dd98b41", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-26T17:28:25Z", "type": "forcePushed"}, {"oid": "6c97d1f634bdd0ba8a8afd7d05404dd98bbfd169", "url": "https://github.com/telstra/open-kilda/commit/6c97d1f634bdd0ba8a8afd7d05404dd98bbfd169", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-27T03:52:02Z", "type": "forcePushed"}, {"oid": "a54667e1d31364dc15edf05f7f76e5812813d7b2", "url": "https://github.com/telstra/open-kilda/commit/a54667e1d31364dc15edf05f7f76e5812813d7b2", "message": "Dispatch v1 flow create to flow hs\n\n- changed worker for flow v1 create request\n- fixed compile time warnings", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "e9e0e4fe07ca62d176c27759c1f7ca52718e448a", "url": "https://github.com/telstra/open-kilda/commit/e9e0e4fe07ca62d176c27759c1f7ca52718e448a", "message": "(func-test-incompatibility)", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "587ded3aa33ca55dd8391aa931232c54a2f801a0", "url": "https://github.com/telstra/open-kilda/commit/587ded3aa33ca55dd8391aa931232c54a2f801a0", "message": "(func-tests-incompatibility)", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "7bafe09b26010ed2e691ecb72cf10beac358c225", "url": "https://github.com/telstra/open-kilda/commit/7bafe09b26010ed2e691ecb72cf10beac358c225", "message": "(func-tests-incompatibility)", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "8e9e4eff8509bd8610b00c2a982cbfd97f5c7535", "url": "https://github.com/telstra/open-kilda/commit/8e9e4eff8509bd8610b00c2a982cbfd97f5c7535", "message": "adjust test framework to work with list of vlans", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "f5a84119f77ae2c22c0eecca572ab9277818c90e", "url": "https://github.com/telstra/open-kilda/commit/f5a84119f77ae2c22c0eecca572ab9277818c90e", "message": "add QinQFlow spec", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "e759339c695e1fb5294e4d9118d289825a3609ce", "url": "https://github.com/telstra/open-kilda/commit/e759339c695e1fb5294e4d9118d289825a3609ce", "message": "delete duplicated test", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "a307ae9bb3d3503e79b863eb9d4e6b6c982e94f2", "url": "https://github.com/telstra/open-kilda/commit/a307ae9bb3d3503e79b863eb9d4e6b6c982e94f2", "message": "test traffic for vlan/default/qinq flows at the same time", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "b1078c76b2ea239469dd15219baf9a72938d7a63", "url": "https://github.com/telstra/open-kilda/commit/b1078c76b2ea239469dd15219baf9a72938d7a63", "message": "add test for issue 3472", "committedDate": "2020-05-27T07:09:53Z", "type": "commit"}, {"oid": "a8163f92872fc3a682b5a9d5d4485d308d884045", "url": "https://github.com/telstra/open-kilda/commit/a8163f92872fc3a682b5a9d5d4485d308d884045", "message": "add test swap endpoints qinq", "committedDate": "2020-05-27T07:12:52Z", "type": "commit"}, {"oid": "e13393d95b337c57885aeb9a0dc326995cf22323", "url": "https://github.com/telstra/open-kilda/commit/e13393d95b337c57885aeb9a0dc326995cf22323", "message": "adjust connectedDevices work with qinq and add test", "committedDate": "2020-05-27T07:12:52Z", "type": "commit"}, {"oid": "d119a04b81dfe61b77bf1a5f2d287335328fcb46", "url": "https://github.com/telstra/open-kilda/commit/d119a04b81dfe61b77bf1a5f2d287335328fcb46", "message": "update SwitchHelper(ignore shared rule)", "committedDate": "2020-05-27T07:12:52Z", "type": "commit"}, {"oid": "40f08cfe41c8ab6b396a930635a318314e2dab53", "url": "https://github.com/telstra/open-kilda/commit/40f08cfe41c8ab6b396a930635a318314e2dab53", "message": "fix MetersSpec", "committedDate": "2020-05-27T07:12:52Z", "type": "commit"}, {"oid": "ac87020d079c1b986d834abf0af9c6d1912dae8c", "url": "https://github.com/telstra/open-kilda/commit/ac87020d079c1b986d834abf0af9c6d1912dae8c", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-27T07:22:33Z", "type": "forcePushed"}, {"oid": "d45e50a429badf6daf6948dcadf6f03d43b0d8a5", "url": "https://github.com/telstra/open-kilda/commit/d45e50a429badf6daf6948dcadf6f03d43b0d8a5", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-27T10:47:26Z", "type": "forcePushed"}, {"oid": "fa2f189eac6cea8bf38ce17c7d3567e09973b671", "url": "https://github.com/telstra/open-kilda/commit/fa2f189eac6cea8bf38ce17c7d3567e09973b671", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-27T11:50:47Z", "type": "commit"}, {"oid": "fa2f189eac6cea8bf38ce17c7d3567e09973b671", "url": "https://github.com/telstra/open-kilda/commit/fa2f189eac6cea8bf38ce17c7d3567e09973b671", "message": "fix errorMessages in tests for APIv1", "committedDate": "2020-05-27T11:50:47Z", "type": "forcePushed"}]}