{"pr_number": 1451, "pr_title": "LUCENE-9345: Separate MergeSchedulder from IndexWriter", "pr_createdAt": "2020-04-23T10:25:02Z", "pr_url": "https://github.com/apache/lucene-solr/pull/1451", "timeline": [{"oid": "f7064311f5a78827323375ac8410215d5bbd4c8a", "url": "https://github.com/apache/lucene-solr/commit/f7064311f5a78827323375ac8410215d5bbd4c8a", "message": "LUCENE-9345: Separate MergeSchedulder from IndexWriter\n\nThis change extracts the methods that are used by MergeScheduler into\na MergeSource interface. This allows IndexWriter to better ensure\nlocking, hide internal methods and removes the tight coupling between the two\ncomplex classes. This will also improve future testing.", "committedDate": "2020-04-23T10:22:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzc5MTkzMQ==", "url": "https://github.com/apache/lucene-solr/pull/1451#discussion_r413791931", "bodyText": "did you mean to add (source) after index or is it a side-effect of a search/replace?", "author": "jpountz", "createdAt": "2020-04-23T12:55:57Z", "path": "lucene/core/src/java/org/apache/lucene/index/ConcurrentMergeScheduler.java", "diffHunk": "@@ -516,18 +519,18 @@ public synchronized void merge(IndexWriter writer, MergeTrigger trigger) throws\n \n     if (verbose()) {\n       message(\"now merge\");\n-      message(\"  index: \" + writer.segString());\n+      message(\"  index(source): \" + mergeSource.toString());", "originalCommit": "f7064311f5a78827323375ac8410215d5bbd4c8a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk5ODcyMQ==", "url": "https://github.com/apache/lucene-solr/pull/1451#discussion_r413998721", "bodyText": "I added it on purpose.", "author": "s1monw", "createdAt": "2020-04-23T17:46:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzc5MTkzMQ=="}], "type": "inlineReview"}, {"oid": "24c3dd2ebfe8ca8adff32dd8e28624e4d4ecbfff", "url": "https://github.com/apache/lucene-solr/commit/24c3dd2ebfe8ca8adff32dd8e28624e4d4ecbfff", "message": "add missing file", "committedDate": "2020-04-23T17:47:21Z", "type": "commit"}, {"oid": "62419b9c0ea8237b9770c2471603dc293de15717", "url": "https://github.com/apache/lucene-solr/commit/62419b9c0ea8237b9770c2471603dc293de15717", "message": "fix compile errors", "committedDate": "2020-04-23T18:43:16Z", "type": "commit"}, {"oid": "1f0c5e0afb14249f051c1c477181b8e6a35e6a4c", "url": "https://github.com/apache/lucene-solr/commit/1f0c5e0afb14249f051c1c477181b8e6a35e6a4c", "message": "more compile issues", "committedDate": "2020-04-23T19:42:04Z", "type": "commit"}, {"oid": "015525c165475387a5178a3f102b4f0e78ea9562", "url": "https://github.com/apache/lucene-solr/commit/015525c165475387a5178a3f102b4f0e78ea9562", "message": "more missing files", "committedDate": "2020-04-24T06:09:56Z", "type": "commit"}, {"oid": "9f18b310d74ef53e8dcfc63a46e674fbe0a551d2", "url": "https://github.com/apache/lucene-solr/commit/9f18b310d74ef53e8dcfc63a46e674fbe0a551d2", "message": "Merge branch 'master' into LUCENE-9345", "committedDate": "2020-04-24T06:40:51Z", "type": "commit"}, {"oid": "39f88ec7dc88e8456a8eb3061fc5533af4ddf989", "url": "https://github.com/apache/lucene-solr/commit/39f88ec7dc88e8456a8eb3061fc5533af4ddf989", "message": "remove unused import:", "committedDate": "2020-04-24T06:42:30Z", "type": "commit"}, {"oid": "78a4e44da0b014d1a01c6c1068e442740753bd5d", "url": "https://github.com/apache/lucene-solr/commit/78a4e44da0b014d1a01c6c1068e442740753bd5d", "message": "fix imports", "committedDate": "2020-04-24T12:19:51Z", "type": "commit"}, {"oid": "05f96703df5d2bcafb053ffe4971b31b3a55c278", "url": "https://github.com/apache/lucene-solr/commit/05f96703df5d2bcafb053ffe4971b31b3a55c278", "message": "add changes", "committedDate": "2020-04-24T12:28:23Z", "type": "commit"}, {"oid": "b1dfeb0dcd8e7e570995cd5ad9d19fd2998c7008", "url": "https://github.com/apache/lucene-solr/commit/b1dfeb0dcd8e7e570995cd5ad9d19fd2998c7008", "message": "Merge branch 'master' into LUCENE-9345", "committedDate": "2020-04-24T12:34:30Z", "type": "commit"}]}