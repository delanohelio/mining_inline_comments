{"pr_number": 2147, "pr_title": "LUCENE-9637: Clean up ShapeField/ShapeQuery random test", "pr_createdAt": "2020-12-15T10:11:09Z", "pr_url": "https://github.com/apache/lucene-solr/pull/2147", "timeline": [{"oid": "d71de14848340270e020c6fdccb646efd94a3bda", "url": "https://github.com/apache/lucene-solr/commit/d71de14848340270e020c6fdccb646efd94a3bda", "message": "Clean up ShapeField/ShapeQuery random test", "committedDate": "2020-12-15T10:09:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzIyMzkyNw==", "url": "https://github.com/apache/lucene-solr/pull/2147#discussion_r543223927", "bodyText": "Suggested change", "author": "jbampton", "createdAt": "2020-12-15T10:26:47Z", "path": "lucene/core/src/test/org/apache/lucene/document/BaseXYShapeTestCase.java", "diffHunk": "@@ -126,24 +132,12 @@ protected boolean rectCrossesDateline(Object rect) {\n     return false;\n   }\n \n-  /** use {@link ShapeTestUtil#nextPolygon()} to create a random line; TODO: move to GeoTestUtil */\n+  /** use {@link ShapeTestUtil#nextPolygon()} to create a random line */\n   @Override\n   public XYLine nextLine() {\n-    return getNextLine();\n-  }\n-\n-  public static XYLine getNextLine() {\n-    XYPolygon poly = ShapeTestUtil.nextPolygon();\n-    float[] x = new float[poly.numPoints() - 1];\n-    float[] y = new float[x.length];\n-    for (int i = 0; i < x.length; ++i) {\n-      x[i] = poly.getPolyX(i);\n-      y[i] = poly.getPolyY(i);\n-    }\n-\n-    return new XYLine(x, y);\n+    return ShapeTestUtil.nextLine();\n   }\n-\n+  ", "originalCommit": "d71de14848340270e020c6fdccb646efd94a3bda", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a3942a950b3f054b52a6f3d2dd3d17f9286d8c17", "url": "https://github.com/apache/lucene-solr/commit/a3942a950b3f054b52a6f3d2dd3d17f9286d8c17", "message": "remove tab", "committedDate": "2020-12-16T10:40:03Z", "type": "commit"}, {"oid": "f0865df9f880d69e15c399cac1ab7625fc27900a", "url": "https://github.com/apache/lucene-solr/commit/f0865df9f880d69e15c399cac1ab7625fc27900a", "message": "Merge branch 'master' into LUCENE-9637", "committedDate": "2020-12-16T10:40:45Z", "type": "commit"}, {"oid": "5640cdebae5392812f6777806dd02b78dbc31ed1", "url": "https://github.com/apache/lucene-solr/commit/5640cdebae5392812f6777806dd02b78dbc31ed1", "message": "Add entry in CHANGES.txt", "committedDate": "2020-12-16T10:43:03Z", "type": "commit"}]}