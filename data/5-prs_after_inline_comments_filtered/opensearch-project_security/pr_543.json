{"pr_number": 543, "pr_title": "AuditConfig and AuditCategory minor refactoring", "pr_createdAt": "2020-07-03T05:47:14Z", "pr_url": "https://github.com/opensearch-project/security/pull/543", "timeline": [{"oid": "3ce9d0b266282eaa3ac8c26ecacb9a30674aba66", "url": "https://github.com/opensearch-project/security/commit/3ce9d0b266282eaa3ac8c26ecacb9a30674aba66", "message": "Refactoring: moved getSettingAsSet() method and DEFAULT_DISABLED_CATEGORIES from AuditConfig to ConfigConstants.", "committedDate": "2020-07-03T05:32:28Z", "type": "commit"}, {"oid": "d2527aaae667bc1eb5f6ec0e16dbea085f3ba290", "url": "https://github.com/opensearch-project/security/commit/d2527aaae667bc1eb5f6ec0e16dbea085f3ba290", "message": "Introduced method to construct AuditCategory EnumSet from Settings", "committedDate": "2020-07-03T05:40:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTkwNDg3Nw==", "url": "https://github.com/opensearch-project/security/pull/543#discussion_r449904877", "bodyText": "Would be nice if the util function is moved out of ConfigConstants (has only constants).\nThis is used only in AuditCategory mainly because of \"NONE\" dependency which should be removed by #325 . Consider moving it there or address this change with 325 ?", "author": "sujithvm", "createdAt": "2020-07-05T18:21:14Z", "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/support/ConfigConstants.java", "diffHunk": "@@ -247,4 +256,12 @@\n     public static final List<String> OPENDISTRO_SECURITY_PROTECTED_INDICES_DEFAULT = Collections.emptyList();\n     public static final String OPENDISTRO_SECURITY_PROTECTED_INDICES_ROLES_KEY = \"opendistro_security.protected_indices.roles\";\n     public static final List<String> OPENDISTRO_SECURITY_PROTECTED_INDICES_ROLES_DEFAULT = Collections.emptyList();\n+\n+    public static Set<String> getSettingAsSet(final Settings settings, final String key, final List<String> defaultList, final boolean ignoreCaseForNone) {", "originalCommit": "d2527aaae667bc1eb5f6ec0e16dbea085f3ba290", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk3NzIzNw==", "url": "https://github.com/opensearch-project/security/pull/543#discussion_r449977237", "bodyText": "It is a shared utility function and I did not find a better place to put it without introducing a new class.", "author": "vrozov", "createdAt": "2020-07-06T04:26:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTkwNDg3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUxMjMwNw==", "url": "https://github.com/opensearch-project/security/pull/543#discussion_r450512307", "bodyText": "Every java class requires it's metadata to be loaded into JVM and consumes memory. Not a big deal, but it may be better to avoid introducing a class with a single static method.", "author": "vrozov", "createdAt": "2020-07-06T22:29:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTkwNDg3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUyMzUyNQ==", "url": "https://github.com/opensearch-project/security/pull/543#discussion_r450523525", "bodyText": "Thanks for the explanation", "author": "debjanibnrj", "createdAt": "2020-07-06T23:06:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTkwNDg3Nw=="}], "type": "inlineReview"}]}