{"pr_number": 1571, "pr_title": "Exclude generated sources from error-prone", "pr_createdAt": "2020-11-26T18:10:22Z", "pr_url": "https://github.com/palantir/gradle-baseline/pull/1571", "timeline": [{"oid": "6d8bbdedfc516948e7371f24c0a0a5d98186eb39", "url": "https://github.com/palantir/gradle-baseline/commit/6d8bbdedfc516948e7371f24c0a0a5d98186eb39", "message": "Exclude generated sources from error-prone", "committedDate": "2020-11-26T18:00:05Z", "type": "commit"}, {"oid": "efe8e94c3997ab87728f2ae3b5d7c7d7bdf5e724", "url": "https://github.com/palantir/gradle-baseline/commit/efe8e94c3997ab87728f2ae3b5d7c7d7bdf5e724", "message": "Add generated changelog entries", "committedDate": "2020-11-26T18:00:05Z", "type": "commit"}, {"oid": "edabb0e13ec672e0c2d61aa86e5fd7343073facb", "url": "https://github.com/palantir/gradle-baseline/commit/edabb0e13ec672e0c2d61aa86e5fd7343073facb", "message": "format", "committedDate": "2020-11-26T18:12:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE1Mzk4NA==", "url": "https://github.com/palantir/gradle-baseline/pull/1571#discussion_r532153984", "bodyText": "@iamdanfox we might be able to remove build from regex here, or might want to constrain the pattern to avoid falsely matching say com/foo/build/Bar.java.", "author": "schlosna", "createdAt": "2020-11-29T04:33:43Z", "path": "gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineErrorProne.java", "diffHunk": "@@ -292,6 +286,12 @@ private static void configureErrorProneOptions(\n         }\n     }\n \n+    static String excludedPathsRegex() {\n+        // don't want backslashes on windows to break our regex\n+        String separator = File.separator.contains(\"\\\\\") ? Pattern.quote(\"\\\\\") : File.separator;\n+        return String.format(\".*%s(build|generated_.*[sS]rc|src%sgenerated.*)%s.*\", separator, separator, separator);", "originalCommit": "edabb0e13ec672e0c2d61aa86e5fd7343073facb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjcxNTA0OQ==", "url": "https://github.com/palantir/gradle-baseline/pull/1571#discussion_r532715049", "bodyText": "Yeah this feels a bit dangerous. I'd suggest we do something like build.*generated since almost all code-gen plugins I've seen put source files on a path with a generated component.", "author": "pkoenig10", "createdAt": "2020-11-30T16:11:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE1Mzk4NA=="}], "type": "inlineReview"}]}