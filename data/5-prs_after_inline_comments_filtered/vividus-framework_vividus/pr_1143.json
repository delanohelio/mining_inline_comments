{"pr_number": 1143, "pr_title": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element", "pr_createdAt": "2020-11-16T08:52:55Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/1143", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4NDExMw==", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r523984113", "bodyText": "private void performWithHideKeyboard(WebElement element, Consumer<WebElement> action)", "author": "valfirst", "createdAt": "2020-11-16T08:54:52Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "diffHunk": "@@ -79,16 +81,27 @@ public void typeText(WebElement element, String text)\n      */\n     public void clearText(WebElement element)\n     {\n-        performWithHideKeyboard(element::clear);\n+        performWithHideKeyboard(element::clear, element::getTagName);\n     }\n \n-    private void performWithHideKeyboard(Runnable runnable)\n+    private void performWithHideKeyboard(Runnable runnable, Supplier<String> tagSupplier)", "originalCommit": "fae810fa48e21446516966d47a9e8339c4687b2c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527", "url": "https://github.com/vividus-framework/vividus/commit/95c0f748ace38898e9e5437cb1a1aa0090f8c527", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element", "committedDate": "2020-11-16T09:02:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNDExNQ==", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524024115", "bodyText": "shouldn't it be stated somewhere in the docs also?", "author": "ikalinin1", "createdAt": "2020-11-16T09:30:53Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "diffHunk": "@@ -79,16 +81,27 @@ public void typeText(WebElement element, String text)\n      */\n     public void clearText(WebElement element)\n     {\n-        performWithHideKeyboard(element::clear);\n+        performWithHideKeyboard(element, WebElement::clear);\n     }\n \n-    private void performWithHideKeyboard(Runnable runnable)\n+    private void performWithHideKeyboard(WebElement webElement, Consumer<WebElement> performOnElement)\n     {\n-        runnable.run();\n+        performOnElement.accept(webElement);\n \n         // https://github.com/appium/WebDriverAgent/blob/master/WebDriverAgentLib/Commands/FBCustomCommands.m#L107\n         if (genericWebDriverManager.isIOSNativeApp() && realDevice)\n         {\n+            String tagName = webElement.getTagName();\n+            /**\n+             * Tap on 'Return' doesn't close the keyboard for XCUIElementTypeTextView element, the only way to close the", "originalCommit": "95c0f748ace38898e9e5437cb1a1aa0090f8c527", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNTU1NA==", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524025554", "bodyText": "Also, I propose to describe the strategy to the work with such fields in the documentation", "author": "ikalinin1", "createdAt": "2020-11-16T09:32:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNDExNQ=="}], "type": "inlineReview"}, {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8", "url": "https://github.com/vividus-framework/vividus/commit/9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element", "committedDate": "2020-11-16T10:38:41Z", "type": "forcePushed"}, {"oid": "66dba81430fa0966b00d950150ca5fab53b82baf", "url": "https://github.com/vividus-framework/vividus/commit/66dba81430fa0966b00d950150ca5fab53b82baf", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element", "committedDate": "2020-11-16T11:30:59Z", "type": "commit"}, {"oid": "66dba81430fa0966b00d950150ca5fab53b82baf", "url": "https://github.com/vividus-framework/vividus/commit/66dba81430fa0966b00d950150ca5fab53b82baf", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element", "committedDate": "2020-11-16T11:30:59Z", "type": "forcePushed"}]}