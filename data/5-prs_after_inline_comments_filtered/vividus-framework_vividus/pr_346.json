{"pr_number": 346, "pr_title": "Update visual tests integration story", "pr_createdAt": "2020-02-26T15:04:42Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/346", "timeline": [{"oid": "e3aee02fb97f6d448775d9595ff3c51ee4674549", "url": "https://github.com/vividus-framework/vividus/commit/e3aee02fb97f6d448775d9595ff3c51ee4674549", "message": "Update visual test integration story to use test site", "committedDate": "2020-02-26T15:21:26Z", "type": "forcePushed"}, {"oid": "fcb4539af15511152ec3eaf6fef55da26bde7444", "url": "https://github.com/vividus-framework/vividus/commit/fcb4539af15511152ec3eaf6fef55da26bde7444", "message": "Update visual test integration story to use test site", "committedDate": "2020-02-26T15:46:45Z", "type": "forcePushed"}, {"oid": "f0d76a79a9652c36f095449243ac41f73a0ac55b", "url": "https://github.com/vividus-framework/vividus/commit/f0d76a79a9652c36f095449243ac41f73a0ac55b", "message": "Update visual test integration story to use test site", "committedDate": "2020-02-26T18:31:10Z", "type": "forcePushed"}, {"oid": "a95be2bcb63770afc2172559f79d972aaca95988", "url": "https://github.com/vividus-framework/vividus/commit/a95be2bcb63770afc2172559f79d972aaca95988", "message": "Update visual test integration story to use test site", "committedDate": "2020-02-26T18:47:38Z", "type": "forcePushed"}, {"oid": "60403107a10d5cb8cb03247d35a6b0f9cf4b8c61", "url": "https://github.com/vividus-framework/vividus/commit/60403107a10d5cb8cb03247d35a6b0f9cf4b8c61", "message": "Update visual test integration story to use test site", "committedDate": "2020-02-26T18:54:12Z", "type": "forcePushed"}, {"oid": "88c24884758247f38e670a818e803aff899f236f", "url": "https://github.com/vividus-framework/vividus/commit/88c24884758247f38e670a818e803aff899f236f", "message": "Publis report despite integration tests result", "committedDate": "2020-02-26T19:58:13Z", "type": "forcePushed"}, {"oid": "20a05846c62d3bb607f2effb87351148070bbbaa", "url": "https://github.com/vividus-framework/vividus/commit/20a05846c62d3bb607f2effb87351148070bbbaa", "message": "Add debug coords", "committedDate": "2020-02-26T20:48:16Z", "type": "forcePushed"}, {"oid": "bc73afada4a23c7ed48bde7828d9e7065f627eb8", "url": "https://github.com/vividus-framework/vividus/commit/bc73afada4a23c7ed48bde7828d9e7065f627eb8", "message": "Add debug coords", "committedDate": "2020-02-26T21:23:37Z", "type": "forcePushed"}, {"oid": "ad3e6e3235de89d636f250bbfe006c3ab7437635", "url": "https://github.com/vividus-framework/vividus/commit/ad3e6e3235de89d636f250bbfe006c3ab7437635", "message": "Add debug coords", "committedDate": "2020-02-27T05:04:25Z", "type": "forcePushed"}, {"oid": "e71faa0602e015c3f8bf7918825cea2fd87c84b0", "url": "https://github.com/vividus-framework/vividus/commit/e71faa0602e015c3f8bf7918825cea2fd87c84b0", "message": "Add debug coords", "committedDate": "2020-02-27T05:22:37Z", "type": "forcePushed"}, {"oid": "397ea1de5893e723a9d4a68a1f11ac586f3bab2e", "url": "https://github.com/vividus-framework/vividus/commit/397ea1de5893e723a9d4a68a1f11ac586f3bab2e", "message": "Add debug coords", "committedDate": "2020-02-27T05:41:05Z", "type": "forcePushed"}, {"oid": "c0f09ba8293bc0b72959e095919d81f97f430db4", "url": "https://github.com/vividus-framework/vividus/commit/c0f09ba8293bc0b72959e095919d81f97f430db4", "message": "Publish report despite integration tests result", "committedDate": "2020-02-27T07:21:01Z", "type": "forcePushed"}, {"oid": "94ed4e2d454f64977c4ddd2a03b8212a22b37db8", "url": "https://github.com/vividus-framework/vividus/commit/94ed4e2d454f64977c4ddd2a03b8212a22b37db8", "message": "Publish report despite integration tests result", "committedDate": "2020-02-27T07:30:28Z", "type": "forcePushed"}, {"oid": "2e442616bf625c4740ea1eff6e0a7d8efff61669", "url": "https://github.com/vividus-framework/vividus/commit/2e442616bf625c4740ea1eff6e0a7d8efff61669", "message": "Publish report despite integration tests result", "committedDate": "2020-02-27T07:34:52Z", "type": "forcePushed"}, {"oid": "e76bcffccb80b8ff6a0566257fc6012704a5b1b3", "url": "https://github.com/vividus-framework/vividus/commit/e76bcffccb80b8ff6a0566257fc6012704a5b1b3", "message": "Publish report despite integration tests result", "committedDate": "2020-02-27T07:36:00Z", "type": "forcePushed"}, {"oid": "e8e36b7ffb1d5bc471f1869b17480f3cc693ca35", "url": "https://github.com/vividus-framework/vividus/commit/e8e36b7ffb1d5bc471f1869b17480f3cc693ca35", "message": "Publish report despite integration tests result", "committedDate": "2020-02-27T07:43:16Z", "type": "forcePushed"}, {"oid": "af3c6d4c42f4cff87e716491a78f7378c1bbec6e", "url": "https://github.com/vividus-framework/vividus/commit/af3c6d4c42f4cff87e716491a78f7378c1bbec6e", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T08:17:14Z", "type": "forcePushed"}, {"oid": "dac054372f4c1516de00cf54c978a05ba5965a5f", "url": "https://github.com/vividus-framework/vividus/commit/dac054372f4c1516de00cf54c978a05ba5965a5f", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T08:52:03Z", "type": "forcePushed"}, {"oid": "3891ca463f78634981c77eb6cfd48f53771c4e05", "url": "https://github.com/vividus-framework/vividus/commit/3891ca463f78634981c77eb6cfd48f53771c4e05", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T08:56:31Z", "type": "forcePushed"}, {"oid": "5103a40cc1aa34293ed48ac56337ad4759fd5916", "url": "https://github.com/vividus-framework/vividus/commit/5103a40cc1aa34293ed48ac56337ad4759fd5916", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T08:59:12Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDk5MTgwNw==", "url": "https://github.com/vividus-framework/vividus/pull/346#discussion_r384991807", "bodyText": "even for invalid folders I recommend to use @TempDir, since we don't know all environment conditions and interaction with file system is always fragile", "author": "valfirst", "createdAt": "2020-02-27T09:05:09Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/selenium/screenshot/FilesystemScreenshotDebuggerTests.java", "diffHunk": "@@ -57,6 +62,27 @@ void shouldNotSaveDebugScreenshotIfFolderNotSpecified()\n         assertThat(testLogger.getLoggingEvents(), empty());\n     }\n \n+    @Test\n+    void shouldCleanUpFolder(@TempDir File debugFolder) throws IOException\n+    {\n+        filesystemScreenshotDebugger.setDebugScreenshotsLocation(Optional.of(debugFolder));\n+        assertThat(debugFolder.list(), is(arrayWithSize(0)));\n+        assertTrue(new File(debugFolder, \"temp.txt\").createNewFile());\n+        assertThat(debugFolder.list(), is(arrayWithSize(1)));\n+        filesystemScreenshotDebugger.cleanUp();\n+        assertThat(debugFolder.list(), is(arrayWithSize(0)));\n+    }\n+\n+    @Test\n+    @SuppressFBWarnings(\"DMI_HARDCODED_ABSOLUTE_FILENAME\")\n+    void shouldLogExceptionIfCleanUpFails() throws IOException\n+    {\n+        File invalidFolder = new File(\"/invalid\");", "originalCommit": "5103a40cc1aa34293ed48ac56337ad4759fd5916", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4fe07afd28b5442e464dea01e59f582346da659d", "url": "https://github.com/vividus-framework/vividus/commit/4fe07afd28b5442e464dea01e59f582346da659d", "message": "[plugin-visual] Do not apply header adjustment after first scroll", "committedDate": "2020-02-27T09:10:56Z", "type": "commit"}, {"oid": "f4f5e719516aedd476cc51d4d5dda194811eaba7", "url": "https://github.com/vividus-framework/vividus/commit/f4f5e719516aedd476cc51d4d5dda194811eaba7", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T09:25:51Z", "type": "forcePushed"}, {"oid": "84c6d1885eafdc5a480a509a476b84e4d96951b4", "url": "https://github.com/vividus-framework/vividus/commit/84c6d1885eafdc5a480a509a476b84e4d96951b4", "message": "[plugin-web-app] Clean-up debug screenshots folder on start-up", "committedDate": "2020-02-27T10:30:18Z", "type": "commit"}, {"oid": "a9277292b22a2e7c82738409aac4b95723dd65c1", "url": "https://github.com/vividus-framework/vividus/commit/a9277292b22a2e7c82738409aac4b95723dd65c1", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T10:42:53Z", "type": "forcePushed"}, {"oid": "152696f657bf2310407e90cc641ae134fafbb276", "url": "https://github.com/vividus-framework/vividus/commit/152696f657bf2310407e90cc641ae134fafbb276", "message": "Extract visual test integration tests into system suite", "committedDate": "2020-02-27T11:57:06Z", "type": "commit"}, {"oid": "ebe6288eae3fe5eb6f7d8e849b388bdbe1fc407f", "url": "https://github.com/vividus-framework/vividus/commit/ebe6288eae3fe5eb6f7d8e849b388bdbe1fc407f", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T11:57:37Z", "type": "commit"}, {"oid": "ebe6288eae3fe5eb6f7d8e849b388bdbe1fc407f", "url": "https://github.com/vividus-framework/vividus/commit/ebe6288eae3fe5eb6f7d8e849b388bdbe1fc407f", "message": "[GitHub Actions] Publish report despite integration tests result", "committedDate": "2020-02-27T11:57:37Z", "type": "forcePushed"}]}