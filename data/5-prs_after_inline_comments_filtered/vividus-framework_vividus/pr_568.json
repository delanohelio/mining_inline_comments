{"pr_number": 568, "pr_title": "Add step 'When I wait 'duration' with 'pollingDuration' polling until\u2026", "pr_createdAt": "2020-05-12T18:06:20Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/568", "timeline": [{"oid": "682b14e507bea0277cb54c24d3043f62862e995e", "url": "https://github.com/vividus-framework/vividus/commit/682b14e507bea0277cb54c24d3043f62862e995e", "message": "Add step 'When I wait 'duration' with 'pollingDuration' polling until an element located by locator disappears'", "committedDate": "2020-05-12T18:18:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk1ODkzNA==", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423958934", "bodyText": "@When(\"I wait `$duration` with `$pollingDuration` polling until element located `$locator` disappears\")", "author": "valfirst", "createdAt": "2020-05-12T18:51:19Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -103,6 +103,35 @@ public boolean waitDurationWithPollingDurationTillElementAppears(Duration durati\n                 expectedSearchActionsConditions.visibilityOfAllElementsLocatedBy(locator)).isWaitPassed();\n     }\n \n+    /**\n+     * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n+     * disappearance in the specified search context\n+     * <p>\n+     * Actions performed at this step:\n+     * </p>\n+     * <ul>\n+     * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes not visible\n+     * </ul>\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until an element located by By.id(text) disappears</code>\n+     * - wait until all elements with id=text for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time for an element becomes not visible according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @return True if element disappears, otherwise false\n+     */\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\")", "originalCommit": "682b14e507bea0277cb54c24d3043f62862e995e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk3NTU3NQ==", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423975575", "bodyText": "What do you think about making this step generic like\nWhen I wait `$duration` with `$pollingDuration` polling until element located `$locator` becomes $state\n\nthis would reduce \"duplicate\" code base and make those steps as composites", "author": "uarlouski", "createdAt": "2020-05-12T19:20:21Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -103,6 +103,35 @@ public boolean waitDurationWithPollingDurationTillElementAppears(Duration durati\n                 expectedSearchActionsConditions.visibilityOfAllElementsLocatedBy(locator)).isWaitPassed();\n     }\n \n+    /**\n+     * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n+     * disappearance in the specified search context\n+     * <p>\n+     * Actions performed at this step:\n+     * </p>\n+     * <ul>\n+     * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes not visible\n+     * </ul>\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until an element located by By.id(text) disappears</code>\n+     * - wait until all elements with id=text for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time for an element becomes not visible according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @return True if element disappears, otherwise false\n+     */\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\")", "originalCommit": "682b14e507bea0277cb54c24d3043f62862e995e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "12fe4c355e214f38ce29eb31cf83a329c1d49e1f", "url": "https://github.com/vividus-framework/vividus/commit/12fe4c355e214f38ce29eb31cf83a329c1d49e1f", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite", "committedDate": "2020-05-23T22:57:35Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzODQyNw==", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r429638427", "bodyText": "#568 (comment):\n@When(\"I wait `$duration` with `$pollingDuration` polling until element located `$locator` becomes $state\")\n\nplease pay attention to ` not '", "author": "valfirst", "createdAt": "2020-05-24T13:46:13Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -84,25 +84,33 @@ public boolean waitTillElementWithTextAppearsPageRefresh(String text, Duration t\n \n     /**\n      * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n-     * appears in the specified search context\n+     * becomes a <b>state</b> in the specified search context\n      * <p>\n      * Actions performed at this step:\n      * </p>\n      * <ul>\n      * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n-     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes visible\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes <b>state</b>\n      * </ul>\n-     * @param duration Total waiting time for an element becomes visible\n-     * @param pollingDuration Defines the timeout between attempts\n-     * @param locator Locator to search for elements\n-     * @return True if element appears, otherwise false\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until element located `By.id(text)` becomes NOT_VISIBLE</code>\n+     * - wait until all elements with id=text becomes not visible for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @param state           State value of the element\n+     * (<i>Possible values:</i> <b>ENABLED, DISABLED, SELECTED, NOT_SELECTED, VISIBLE, NOT_VISIBLE</b>)\n+     * @return True if element becomes a <b>state</b>, otherwise false\n      */\n-    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator appears\")\n-    public boolean waitDurationWithPollingDurationTillElementAppears(Duration duration, Duration pollingDuration,\n-            SearchAttributes locator)\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until element located `$locator` becomes $state\")", "originalCommit": "12fe4c355e214f38ce29eb31cf83a329c1d49e1f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "added72328ab700ceb423e7d7d86ff7efb587989", "url": "https://github.com/vividus-framework/vividus/commit/added72328ab700ceb423e7d7d86ff7efb587989", "message": "Add step 'When I wait '$duration' with '$pollingDuration' polling until element located `$locator` becomes $state'", "committedDate": "2020-05-26T07:25:34Z", "type": "commit"}, {"oid": "d3100e2574748619e0f351de9e9fcf85d200dc0b", "url": "https://github.com/vividus-framework/vividus/commit/d3100e2574748619e0f351de9e9fcf85d200dc0b", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite", "committedDate": "2020-05-26T07:27:53Z", "type": "forcePushed"}, {"oid": "8b41e058722544d1f413c701f1410ae7547372a2", "url": "https://github.com/vividus-framework/vividus/commit/8b41e058722544d1f413c701f1410ae7547372a2", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite", "committedDate": "2020-05-26T07:33:31Z", "type": "forcePushed"}, {"oid": "b3a7908cbac6b847233cb54684501d540c532b9d", "url": "https://github.com/vividus-framework/vividus/commit/b3a7908cbac6b847233cb54684501d540c532b9d", "message": "Move step 'When I wait 'duration' with 'duration' polling until an element located by locator appears' to composite", "committedDate": "2020-05-26T07:34:05Z", "type": "commit"}, {"oid": "b3a7908cbac6b847233cb54684501d540c532b9d", "url": "https://github.com/vividus-framework/vividus/commit/b3a7908cbac6b847233cb54684501d540c532b9d", "message": "Move step 'When I wait 'duration' with 'duration' polling until an element located by locator appears' to composite", "committedDate": "2020-05-26T07:34:05Z", "type": "forcePushed"}]}