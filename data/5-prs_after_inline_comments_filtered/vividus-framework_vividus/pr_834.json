{"pr_number": 834, "pr_title": "Verify elements in state existence", "pr_createdAt": "2020-08-19T11:54:35Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/834", "timeline": [{"oid": "5ea5df685ef6c75d39397134d5b8c755eb6c3ae9", "url": "https://github.com/vividus-framework/vividus/commit/5ea5df685ef6c75d39397134d5b8c755eb6c3ae9", "message": "[plugin-web-app] Add step to verify elements in state existence", "committedDate": "2020-08-19T12:28:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAyMjY3Nw==", "url": "https://github.com/vividus-framework/vividus/pull/834#discussion_r473022677", "bodyText": "Use case:\nThen number of visible elements found by `...` is equal to `3`\n\nThere are 4 elements by locator, and only 3 of them are visible, what will the step result be? I assume failure", "author": "valfirst", "createdAt": "2020-08-19T13:19:17Z", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -315,6 +317,25 @@ public void clickOnAllElements(SearchAttributes locator)\n                 .forEach(e -> mouseActions.click(e));\n     }\n \n+    /**\n+     * Verifies elements' located by locator state.\n+     * Where state one of: ENABLED/DISABLED, SELECTED/NOT_SELECTED, VISIBLE/NOT_VISIBLE\n+     * @param state Desired state of an element\n+     * @param locator Locator to locate element\n+     * @param comparisonRule The rule to compare values\n+     * (<i>Possible values:<b> LESS_THAN, LESS_THAN_OR_EQUAL_TO, GREATER_THAN, GREATER_THAN_OR_EQUAL_TO,\n+     * EQUAL_TO</b></i>)\n+     * @param quantity Desired amount of elements\n+     */\n+    @Then(\"number of $state elements found by `$locator` is $comparisonRule `$quantity`\")\n+    public void doesElementsNumberInStateExists(State state, SearchAttributes locator, ComparisonRule comparisonRule,\n+            int quantity)\n+    {\n+        String description = \"Element is \" + state;\n+        thePageContainsQuantityElements(locator, comparisonRule, quantity)\n+                .forEach(e -> baseValidations.assertElementState(description, state, e));", "originalCommit": "5ea5df685ef6c75d39397134d5b8c755eb6c3ae9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAyNjMwNw==", "url": "https://github.com/vividus-framework/vividus/pull/834#discussion_r473026307", "bodyText": "Yep as stated - equal to 3 visible elements expected but got 4: 3 visible, and 1 invisible.\n\nFail condition check\nFail visibility check", "author": "ikalinin1", "createdAt": "2020-08-19T13:24:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAyMjY3Nw=="}], "type": "inlineReview"}, {"oid": "18064896498bd58b17251a1fee570aaa5132c6b5", "url": "https://github.com/vividus-framework/vividus/commit/18064896498bd58b17251a1fee570aaa5132c6b5", "message": "[plugin-web-app] Add step to verify elements in state existence", "committedDate": "2020-08-21T13:45:02Z", "type": "forcePushed"}, {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "url": "https://github.com/vividus-framework/vividus/commit/c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "message": "[plugin-web-app] Add step to verify elements in state existence", "committedDate": "2020-08-21T13:52:07Z", "type": "commit"}, {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "url": "https://github.com/vividus-framework/vividus/commit/c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "message": "[plugin-web-app] Add step to verify elements in state existence", "committedDate": "2020-08-21T13:52:07Z", "type": "forcePushed"}]}