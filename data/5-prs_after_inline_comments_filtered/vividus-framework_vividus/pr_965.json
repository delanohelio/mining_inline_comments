{"pr_number": 965, "pr_title": "[xray-exporter] Add ability to set assigne for new test cases", "pr_createdAt": "2020-09-23T14:14:23Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/965", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMDYxOA==", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493630618", "bodyText": "shouldn't you put this check on the particular field? this change is not safe since it could introduce bugs when mandatory fields are missed", "author": "valfirst", "createdAt": "2020-09-23T14:17:54Z", "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "diffHunk": "@@ -105,8 +107,11 @@ private static void writeJsonArray(JsonGenerator generator, String startField, C\n     private static void writeObjectWithField(JsonGenerator generator, String objectKey, String fieldName,\n             String fieldValue) throws IOException\n     {\n-        generator.writeObjectFieldStart(objectKey);\n-        generator.writeStringField(fieldName, fieldValue);\n-        generator.writeEndObject();\n+        if (fieldValue != null)", "originalCommit": "b406dc31dbe63ac3e018a141bd611818f45ed29f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY2Mzc2OQ==", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493663769", "bodyText": "fixed, but at some point it looks like double check because we already have jira that will fail if mandatory fields are missed", "author": "uarlouski", "createdAt": "2020-09-23T14:58:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMDYxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMTI3NA==", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493631274", "bodyText": "should it be username or user email?", "author": "valfirst", "createdAt": "2020-09-23T14:18:50Z", "path": "vividus-to-xray-exporter/src/test/java/org/vividus/xray/databind/ManualTestCaseSerializerTests.java", "diffHunk": "@@ -56,6 +56,7 @@ void init()\n     void shouldSerializeManualTest() throws IOException\n     {\n         ManualTestCase test = createBaseTest();\n+        test.setAssignee(\"support@vividus.dev\");", "originalCommit": "b406dc31dbe63ac3e018a141bd611818f45ed29f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzODk4OA==", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493638988", "bodyText": "username, removed email part to make it more clear", "author": "uarlouski", "createdAt": "2020-09-23T14:28:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMTI3NA=="}], "type": "inlineReview"}, {"oid": "fc0005d910ac0ea3ddc809087d863fff52716f6d", "url": "https://github.com/vividus-framework/vividus/commit/fc0005d910ac0ea3ddc809087d863fff52716f6d", "message": "[xray-exporter] Add ability to set assigne for new test cases", "committedDate": "2020-09-23T14:48:19Z", "type": "forcePushed"}, {"oid": "6212f55d135ed86dac2749941f81f0fb88af4995", "url": "https://github.com/vividus-framework/vividus/commit/6212f55d135ed86dac2749941f81f0fb88af4995", "message": "[xray-exporter] Add ability to set assigne for new test cases", "committedDate": "2020-09-23T14:49:24Z", "type": "forcePushed"}, {"oid": "58edfce64254b798e2f88ab129635d322ec170b6", "url": "https://github.com/vividus-framework/vividus/commit/58edfce64254b798e2f88ab129635d322ec170b6", "message": "[xray-exporter] Add ability to set assigne for new test cases", "committedDate": "2020-09-23T14:51:40Z", "type": "forcePushed"}, {"oid": "4c5e38e11d88fe4e18fc873d2b4d72747773c81a", "url": "https://github.com/vividus-framework/vividus/commit/4c5e38e11d88fe4e18fc873d2b4d72747773c81a", "message": "[xray-exporter] Add ability to set assigne for new test cases", "committedDate": "2020-09-23T14:54:40Z", "type": "forcePushed"}, {"oid": "df9420d70cf388820dba1db46b142fc917f7f142", "url": "https://github.com/vividus-framework/vividus/commit/df9420d70cf388820dba1db46b142fc917f7f142", "message": "[xray-exporter] Add ability to set assigne for new test cases", "committedDate": "2020-09-23T14:56:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzcwOTYzNg==", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493709636", "bodyText": "KISS?:\nString assignee = manualTest.getAssignee();\nif (assignee != null)\n{\n    writeObjectWithField(generator, \"assignee\", NAME, manualTest.getAssignee());\n}", "author": "valfirst", "createdAt": "2020-09-23T16:00:06Z", "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "diffHunk": "@@ -47,6 +47,8 @@ public void serialize(ManualTestCase manualTest, JsonGenerator generator, Serial\n \n         writeObjectWithField(generator, \"project\", \"key\", manualTest.getProjectKey());\n \n+        writeObjectWithField(generator, \"assignee\", NAME, manualTest.getAssignee(), true);", "originalCommit": "df9420d70cf388820dba1db46b142fc917f7f142", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzgwNjM2Nw==", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493806367", "bodyText": "fixed, but I thinks sometimes it makes sense to sacrifice KISS in favor of more concise code", "author": "uarlouski", "createdAt": "2020-09-23T18:36:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzcwOTYzNg=="}], "type": "inlineReview"}, {"oid": "ab61f2ce876f5a0f3e7f4c04926adf571d29b2c1", "url": "https://github.com/vividus-framework/vividus/commit/ab61f2ce876f5a0f3e7f4c04926adf571d29b2c1", "message": "[xray-exporter] Add ability to set assigne for new test cases", "committedDate": "2020-09-23T18:20:57Z", "type": "commit"}, {"oid": "ab61f2ce876f5a0f3e7f4c04926adf571d29b2c1", "url": "https://github.com/vividus-framework/vividus/commit/ab61f2ce876f5a0f3e7f4c04926adf571d29b2c1", "message": "[xray-exporter] Add ability to set assigne for new test cases", "committedDate": "2020-09-23T18:20:57Z", "type": "forcePushed"}]}