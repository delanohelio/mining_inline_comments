{"pr_number": 931, "pr_title": "Add enter text step", "pr_createdAt": "2020-09-11T12:27:36Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/931", "timeline": [{"oid": "97db4b84403d04f8825173e56c48c1061d305af3", "url": "https://github.com/vividus-framework/vividus/commit/97db4b84403d04f8825173e56c48c1061d305af3", "message": "Add enter text step", "committedDate": "2020-09-11T12:29:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA0MzAwOQ==", "url": "https://github.com/vividus-framework/vividus/pull/931#discussion_r487043009", "bodyText": "typeText", "author": "valfirst", "createdAt": "2020-09-11T13:25:37Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/InputActions.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.mobileapp.action;\n+\n+import org.openqa.selenium.WebElement;\n+import org.vividus.selenium.IWebDriverProvider;\n+\n+import io.appium.java_client.HidesKeyboard;\n+\n+public class InputActions\n+{\n+    private final IWebDriverProvider webDriverProvider;\n+\n+    public InputActions(IWebDriverProvider webDriverProvider)\n+    {\n+        this.webDriverProvider = webDriverProvider;\n+    }\n+\n+    /**\n+     * Input <b>text</b> into the <b>element</b>\n+     * <br>\n+     * The atomic actions performed are:\n+     * <ol>\n+     * <li>input text into the element</li>\n+     * <li>hide keyboard</li>\n+     * </ol>\n+     * @param element element to input text, must not be {@code null}\n+     * @param text text to input into the element, must not be {@code null}\n+     */\n+    public void inputText(WebElement element, String text)", "originalCommit": "97db4b84403d04f8825173e56c48c1061d305af3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA0MzMwMA==", "url": "https://github.com/vividus-framework/vividus/pull/931#discussion_r487043300", "bodyText": "Enter -> Type", "author": "valfirst", "createdAt": "2020-09-11T13:26:06Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -71,8 +74,30 @@ public void tapByLocator(Locator locator)\n         findElementToTap(locator).ifPresent(tapActions::tap);\n     }\n \n+    /**\n+     * Enter <b>text</b> into the <b>element</b>", "originalCommit": "97db4b84403d04f8825173e56c48c1061d305af3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA0Mzc5NQ==", "url": "https://github.com/vividus-framework/vividus/pull/931#discussion_r487043795", "bodyText": "enter -> type", "author": "valfirst", "createdAt": "2020-09-11T13:26:56Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -71,8 +74,30 @@ public void tapByLocator(Locator locator)\n         findElementToTap(locator).ifPresent(tapActions::tap);\n     }\n \n+    /**\n+     * Enter <b>text</b> into the <b>element</b>\n+     * <br>\n+     * The atomic actions performed are:\n+     * <ol>\n+     * <li>enter text into the element</li>\n+     * <li>hide keyboard</li>\n+     * </ol>\n+     * @param text text to enter into the element\n+     * @param locator locator to find an element\n+     */\n+    @When(\"I enter `$text` in field located `$locator`\")", "originalCommit": "97db4b84403d04f8825173e56c48c1061d305af3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA0NDA3NQ==", "url": "https://github.com/vividus-framework/vividus/pull/931#discussion_r487044075", "bodyText": "what's the profit?", "author": "valfirst", "createdAt": "2020-09-11T13:27:27Z", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -71,8 +74,30 @@ public void tapByLocator(Locator locator)\n         findElementToTap(locator).ifPresent(tapActions::tap);\n     }\n \n+    /**\n+     * Enter <b>text</b> into the <b>element</b>\n+     * <br>\n+     * The atomic actions performed are:\n+     * <ol>\n+     * <li>enter text into the element</li>\n+     * <li>hide keyboard</li>\n+     * </ol>\n+     * @param text text to enter into the element\n+     * @param locator locator to find an element\n+     */\n+    @When(\"I enter `$text` in field located `$locator`\")\n+    public void enterTextInField(String text, Locator locator)\n+    {\n+        findElement(\"The element to enter text\", locator).ifPresent(e -> inputActions.inputText(e, text));\n+    }\n+\n     private Optional<WebElement> findElementToTap(Locator locator)\n     {\n-        return baseValidations.assertElementExists(\"The element to tap\", locator);\n+        return findElement(\"The element to tap\", locator);\n+    }\n+\n+    private Optional<WebElement> findElement(String description, Locator locator)", "originalCommit": "97db4b84403d04f8825173e56c48c1061d305af3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA3MTk4NA==", "url": "https://github.com/vividus-framework/vividus/pull/931#discussion_r487071984", "bodyText": "discussed to remove", "author": "uarlouski", "createdAt": "2020-09-11T14:11:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA0NDA3NQ=="}], "type": "inlineReview"}, {"oid": "90cf0003556a788ba74c99eb8dbd6767d9625bc2", "url": "https://github.com/vividus-framework/vividus/commit/90cf0003556a788ba74c99eb8dbd6767d9625bc2", "message": "[plugin-vividus-mobile-app] Add type text step", "committedDate": "2020-09-11T14:05:35Z", "type": "forcePushed"}, {"oid": "b20a567a3e9734c50c70b3447ee1574cdefd7fda", "url": "https://github.com/vividus-framework/vividus/commit/b20a567a3e9734c50c70b3447ee1574cdefd7fda", "message": "[plugin-vividus-mobile-app] Add type text step", "committedDate": "2020-09-11T14:10:00Z", "type": "forcePushed"}, {"oid": "309e266b9e6c6abf412680592493859e497835fe", "url": "https://github.com/vividus-framework/vividus/commit/309e266b9e6c6abf412680592493859e497835fe", "message": "[plugin-vividus-mobile-app] Add type text step", "committedDate": "2020-09-11T14:21:42Z", "type": "forcePushed"}, {"oid": "4cd0a9a971e7d97d3879dcfb49f8bceea2e3b6cf", "url": "https://github.com/vividus-framework/vividus/commit/4cd0a9a971e7d97d3879dcfb49f8bceea2e3b6cf", "message": "[plugin-vividus-mobile-app] Add type text step", "committedDate": "2020-09-11T14:23:51Z", "type": "forcePushed"}, {"oid": "ebd3da489dc331e2fcb8779b8060a217d8b0d074", "url": "https://github.com/vividus-framework/vividus/commit/ebd3da489dc331e2fcb8779b8060a217d8b0d074", "message": "[plugin-vividus-mobile-app] Add type text step", "committedDate": "2020-09-11T15:32:04Z", "type": "forcePushed"}, {"oid": "3aa7cf909c26459ec9f63054e8e3ee9acc0493fe", "url": "https://github.com/vividus-framework/vividus/commit/3aa7cf909c26459ec9f63054e8e3ee9acc0493fe", "message": "[plugin-vividus-mobile-app] Add type text step", "committedDate": "2020-09-11T15:34:25Z", "type": "commit"}, {"oid": "3aa7cf909c26459ec9f63054e8e3ee9acc0493fe", "url": "https://github.com/vividus-framework/vividus/commit/3aa7cf909c26459ec9f63054e8e3ee9acc0493fe", "message": "[plugin-vividus-mobile-app] Add type text step", "committedDate": "2020-09-11T15:34:25Z", "type": "forcePushed"}]}