{"pr_number": 873, "pr_title": "[plugin-web-app] Handle visibility designator if colon separator is present", "pr_createdAt": "2020-08-31T11:59:07Z", "pr_url": "https://github.com/vividus-framework/vividus/pull/873", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEwOTgxNw==", "url": "https://github.com/vividus-framework/vividus/pull/873#discussion_r480109817", "bodyText": "I think since we are aware of the missing part, why not notify the user carefully?", "author": "ikalinin1", "createdAt": "2020-08-31T12:54:04Z", "path": "vividus-plugin-web-app/src/test/java/org/vividus/ui/web/util/SearchAttributesConversionUtilsTests.java", "diffHunk": "@@ -67,12 +67,16 @@ void testConvertToSearchAttributesInvalidFilterType()\n         assertEquals(\"Unsupported filter type: notFilter\", exception.getMessage());\n     }\n \n-    @Test\n-    void testConvertToSearchAttributesInvalidLocatorFormat()\n+    @ParameterizedTest\n+    @ValueSource(strings = {\n+        \"To.xpath(.a)\",\n+        \"By.id(id):\"\n+    })\n+    void testConvertToSearchAttributesInvalidLocatorFormat(String invalidLocator)\n     {\n         IllegalArgumentException exception = assertThrows(IllegalArgumentException.class,\n-            () -> SearchAttributesConversionUtils.convertToSearchAttributes(INVALID_LOCATOR));\n-        assertEquals(INVALID_LOCATOR_MESSAGE + INVALID_LOCATOR + CLOSING_BRACKET, exception.getMessage());\n+            () -> SearchAttributesConversionUtils.convertToSearchAttributes(invalidLocator));", "originalCommit": "661bb1fc3d6f336a5441ec0fb9022ba74aaa6ac8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDExNzA4NQ==", "url": "https://github.com/vividus-framework/vividus/pull/873#discussion_r480117085", "bodyText": "I think to make the message understandable to end users we should get rid of the regex in the error message and then break that regex into understandable pieces that will be clear even for people who don't know regexes; I just followed approach accepted initially and suggested improvement is better to implement in separate commit", "author": "uarlouski", "createdAt": "2020-08-31T13:07:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEwOTgxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDExNzQ4NQ==", "url": "https://github.com/vividus-framework/vividus/pull/873#discussion_r480117485", "bodyText": "probably I didn't understand you correctly", "author": "uarlouski", "createdAt": "2020-08-31T13:07:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEwOTgxNw=="}], "type": "inlineReview"}, {"oid": "587d28893537cd7b3866feb2596ad8c45c6b9501", "url": "https://github.com/vividus-framework/vividus/commit/587d28893537cd7b3866feb2596ad8c45c6b9501", "message": "[plugin-web-app] Require visibility designator if colon separator is present", "committedDate": "2021-02-17T09:22:12Z", "type": "forcePushed"}, {"oid": "490e78305db8d05ee2c220ea9bf290d56173ae71", "url": "https://github.com/vividus-framework/vividus/commit/490e78305db8d05ee2c220ea9bf290d56173ae71", "message": "[plugin-web-app] Require visibility designator if colon separator is present", "committedDate": "2021-02-17T09:51:53Z", "type": "forcePushed"}, {"oid": "fbb8fdc972249cb3455482e964f6b90659a7b15f", "url": "https://github.com/vividus-framework/vividus/commit/fbb8fdc972249cb3455482e964f6b90659a7b15f", "message": "[plugin-web-app] Require visibility designator if colon separator is present", "committedDate": "2021-02-17T09:56:35Z", "type": "forcePushed"}, {"oid": "76ecee1f5c4e3b5ccd08686f90bc8f6d193158ff", "url": "https://github.com/vividus-framework/vividus/commit/76ecee1f5c4e3b5ccd08686f90bc8f6d193158ff", "message": "[plugin-web-app] Require visibility designator if colon separator is present", "committedDate": "2021-02-17T10:07:14Z", "type": "forcePushed"}, {"oid": "21848f45a8988bb5381c77e6894b54bf1ce15efa", "url": "https://github.com/vividus-framework/vividus/commit/21848f45a8988bb5381c77e6894b54bf1ce15efa", "message": "[plugin-web-app] Require visibility designator if colon separator is present", "committedDate": "2021-02-17T10:30:32Z", "type": "forcePushed"}, {"oid": "476c32a68724d901e4f5993781a20bf809e349a3", "url": "https://github.com/vividus-framework/vividus/commit/476c32a68724d901e4f5993781a20bf809e349a3", "message": "[plugin-web-app] Require visibility designator if colon separator is present", "committedDate": "2021-02-17T10:32:14Z", "type": "forcePushed"}, {"oid": "b9abe29777df8d8ce87ce3b7c72dad39972baecf", "url": "https://github.com/vividus-framework/vividus/commit/b9abe29777df8d8ce87ce3b7c72dad39972baecf", "message": "[plugin-web-app] Handle visibility designator if colon separator is present", "committedDate": "2021-02-17T10:43:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NzU0MDI3OA==", "url": "https://github.com/vividus-framework/vividus/pull/873#discussion_r577540278", "bodyText": "Expected one of 'visible', 'invisible', 'all' ?", "author": "valfirst", "createdAt": "2021-02-17T11:36:45Z", "path": "vividus-extension-selenium/src/test/java/org/vividus/ui/util/LocatorConversionUtilsTests.java", "diffHunk": "@@ -105,6 +105,26 @@ void testConvertToLocatorInvalidFilterType()\n         assertEquals(\"Unsupported filter type: notFilter\", exception.getMessage());\n     }\n \n+    @Test\n+    void testConvertToLocatorInvalidVisibilityType()\n+    {\n+        when(service.getSearchLocatorTypes()).thenReturn(Set.of(TestLocatorType.SEARCH));\n+        IllegalArgumentException exception = assertThrows(IllegalArgumentException.class,\n+            () -> utils.convertToLocator(\"By.search(id):invalid\"));\n+        assertEquals(\"Illegal visibility type 'invalid'. Expected one of visible, invisible, all\",", "originalCommit": "b9abe29777df8d8ce87ce3b7c72dad39972baecf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9c54d4e493a0c549c2eaeadca9c8e4308f93f10d", "url": "https://github.com/vividus-framework/vividus/commit/9c54d4e493a0c549c2eaeadca9c8e4308f93f10d", "message": "[plugin-web-app] Handle visibility designator if colon separator is present", "committedDate": "2021-02-17T11:51:46Z", "type": "forcePushed"}, {"oid": "ff278e85210ec33f6946d7a572cf042f2ae2b5e8", "url": "https://github.com/vividus-framework/vividus/commit/ff278e85210ec33f6946d7a572cf042f2ae2b5e8", "message": "[plugin-web-app] Handle visibility designator if colon separator is present", "committedDate": "2021-02-17T11:53:09Z", "type": "forcePushed"}, {"oid": "ce6e1e7d897aeb6e7711bbacd242ba45f6d977e3", "url": "https://github.com/vividus-framework/vividus/commit/ce6e1e7d897aeb6e7711bbacd242ba45f6d977e3", "message": "[plugin-web-app] Handle visibility designator if colon separator is present", "committedDate": "2021-02-17T11:55:18Z", "type": "forcePushed"}, {"oid": "d479720b2934288c48f90f0d3de5f3c9ed05135c", "url": "https://github.com/vividus-framework/vividus/commit/d479720b2934288c48f90f0d3de5f3c9ed05135c", "message": "[plugin-web-app] Handle visibility designator if colon separator is present", "committedDate": "2021-02-17T12:36:09Z", "type": "commit"}, {"oid": "d479720b2934288c48f90f0d3de5f3c9ed05135c", "url": "https://github.com/vividus-framework/vividus/commit/d479720b2934288c48f90f0d3de5f3c9ed05135c", "message": "[plugin-web-app] Handle visibility designator if colon separator is present", "committedDate": "2021-02-17T12:36:09Z", "type": "forcePushed"}]}