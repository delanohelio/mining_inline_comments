{"pr_number": 9132, "pr_title": "CB-9055: Put HBase Cloud Storage feature under entitlement", "pr_createdAt": "2020-10-01T16:53:58Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/9132", "timeline": [{"oid": "c4387b50737dd6f50f4afb7033c2422bd6defab9", "url": "https://github.com/hortonworks/cloudbreak/commit/c4387b50737dd6f50f4afb7033c2422bd6defab9", "message": "CB-9055: Put NO HDFS feature under entitlement", "committedDate": "2020-10-01T16:44:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTI1Mw==", "url": "https://github.com/hortonworks/cloudbreak/pull/9132#discussion_r498721253", "bodyText": "CDP_SDX_NO_HDFS ?", "author": "doktoric", "createdAt": "2020-10-02T09:43:23Z", "path": "auth-connector/src/main/java/com/sequenceiq/cloudbreak/auth/altus/EntitlementService.java", "diffHunk": "@@ -74,6 +74,9 @@\n     @VisibleForTesting\n     static final String CDP_UMS_USER_SYNC_MODEL_GENERATION = \"CDP_UMS_USER_SYNC_MODEL_GENERATION\";\n \n+    @VisibleForTesting\n+    static final String CDP_SDX_HBASE_CLOUD_STORAGE = \"CDP_SDX_HBASE_CLOUD_STORAGE\";", "originalCommit": "c4387b50737dd6f50f4afb7033c2422bd6defab9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODc3MzQ1MQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/9132#discussion_r498773451", "bodyText": "That is the initial name I came up. I have discussed with Karthik offline. The reasons we use the current name are\n\nWe prefer to use positive tone for the entitlement name. So customers perceive they are getting benefits instead of losing some features.\nThe main purpose of removing HDFS from Data Lake is to store HBase data to cloud storage for public cloud deployment. Therefore, we can reduce resources (such as CPU, memory) used by HDFS, and cut cost. The current name highlights this purpose.", "author": "LinaAtAustin", "createdAt": "2020-10-02T11:49:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg0MjYwMA==", "url": "https://github.com/hortonworks/cloudbreak/pull/9132#discussion_r498842600", "bodyText": "@LinaAtAustin I see the point but lets see a different aspect. Somebody who join to team and will see this entitlement, do you think it is expressive enough? Maybe it is only my view :)", "author": "doktoric", "createdAt": "2020-10-02T14:04:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg2NDM5Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/9132#discussion_r498864396", "bodyText": "@doktoric so the issue is that we are making this in phases. Currently its not actually \"NO HDFS\" because HDFS is still going to be there. This change particularly only moves HBase data onto cloud storage. Once that is done, we have to change the configurations of the services to not depend on HDFS service, move Solr storage etc.\nIn the long term, we don't intend to keep these entitlements around. Once all the parts are completed, we'll remove these entitlements and make this the default behavior.\n\nSomebody` who join to team and will see this entitlement, do you think it is expressive enough\n\nNO_HDFS is not correct though \ud83d\ude04  I think that would cause confusion if something thinks, \"I enabled NO_HDFS, why is there HDFS\" \ud83d\ude05", "author": "kmanamcheri", "createdAt": "2020-10-02T14:41:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg2NDk5Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/9132#discussion_r498864996", "bodyText": "FYI @doktoric this functional change is already merged (and has been merged for a while). We forgot to put it behind an entitlement \ud83d\ude28 \ud83d\ude05", "author": "kmanamcheri", "createdAt": "2020-10-02T14:42:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg3MTg3Nw==", "url": "https://github.com/hortonworks/cloudbreak/pull/9132#discussion_r498871877", "bodyText": "@kmanamcheri ok so the Jira ticket confused me already this is why I thought no hdfs on the datalake cluster. @LinaAtAustin  can you please correct the commit message?", "author": "doktoric", "createdAt": "2020-10-02T14:53:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg3NzMxNA==", "url": "https://github.com/hortonworks/cloudbreak/pull/9132#discussion_r498877314", "bodyText": "@doktoric I have changed the title of this jira to \"Put HBase Cloud Storage feature under entitlement\", and the description in \"https://jira.cloudera.com/browse/CB-9055\". Is that enough?", "author": "LinaAtAustin", "createdAt": "2020-10-02T15:01:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMTI1Mw=="}], "type": "inlineReview"}]}