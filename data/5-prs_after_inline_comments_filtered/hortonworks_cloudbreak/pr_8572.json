{"pr_number": 8572, "pr_title": "CB-7930 Use DataHubCreator role for DataHub creation authz", "pr_createdAt": "2020-07-16T11:33:25Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8572", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczMTI3OA==", "url": "https://github.com/hortonworks/cloudbreak/pull/8572#discussion_r455731278", "bodyText": "looks good, but later we'll might have issue with this, if someone add @CheckPermissionByResourceObject for example for a getDistrox method, then it will check for create_datahub also during getDistrox, but i know it is a gap in authz framework.\nI also would be happier, if we have different request object for distrox creation, but I know it is a design issue regarding API models.", "author": "horadla23", "createdAt": "2020-07-16T11:56:16Z", "path": "core-api/src/main/java/com/sequenceiq/distrox/api/v1/distrox/model/DistroXV1Request.java", "diffHunk": "@@ -26,6 +29,7 @@\n @JsonInclude(Include.NON_NULL)\n public class DistroXV1Request extends DistroXV1Base implements TaggableRequest {\n \n+    @ResourceObjectField(action = AuthorizationResourceAction.ENVIRONMENT_CREATE_DATAHUB, variableType = AuthorizationVariableType.NAME)", "originalCommit": "4be46104aec272a61d4dbd5a7b5c5fdd83e4349a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4628a347d6828ff257ed2b2957d8f10949dbee98", "url": "https://github.com/hortonworks/cloudbreak/commit/4628a347d6828ff257ed2b2957d8f10949dbee98", "message": "CB-7930 Use DataHubCreator role for DataHub creation authz", "committedDate": "2020-07-16T12:33:32Z", "type": "forcePushed"}, {"oid": "e42447f5cff9526fce16d0a1535f3c07845722e3", "url": "https://github.com/hortonworks/cloudbreak/commit/e42447f5cff9526fce16d0a1535f3c07845722e3", "message": "CB-7930 Use DataHubCreator role for DataHub creation authz", "committedDate": "2020-07-17T08:17:18Z", "type": "commit"}, {"oid": "e42447f5cff9526fce16d0a1535f3c07845722e3", "url": "https://github.com/hortonworks/cloudbreak/commit/e42447f5cff9526fce16d0a1535f3c07845722e3", "message": "CB-7930 Use DataHubCreator role for DataHub creation authz", "committedDate": "2020-07-17T08:17:18Z", "type": "forcePushed"}]}