{"pr_number": 8546, "pr_title": "CDPCP-1941. Fix cloud identity sync filter", "pr_createdAt": "2020-07-14T07:20:07Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8546", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NTMwMg==", "url": "https://github.com/hortonworks/cloudbreak/pull/8546#discussion_r454545302", "bodyText": "Should we use Objects.equals for this to be safe? The current code assumes that the fields are not null. I see the fields are annotated @NotNull, but that just affects validation.", "author": "handavid", "createdAt": "2020-07-14T18:05:26Z", "path": "datalake-api/src/main/java/com/sequenceiq/sdx/api/model/SetRangerCloudIdentityMappingRequest.java", "diffHunk": "@@ -42,4 +43,22 @@ public String toString() {\n                 \", azureGroupMapping=\" + azureGroupMapping +\n                 '}';\n     }\n+\n+    @Override\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (o == null || getClass() != o.getClass()) {\n+            return false;\n+        }\n+        SetRangerCloudIdentityMappingRequest that = (SetRangerCloudIdentityMappingRequest) o;\n+        return azureUserMapping.equals(that.azureUserMapping) &&", "originalCommit": "7f52b97087930bd243bd308259eb1a4e72970326", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYxNDE2MA==", "url": "https://github.com/hortonworks/cloudbreak/pull/8546#discussion_r454614160", "bodyText": "True, I've updated the equals to be null safe.", "author": "aarman-cloudera", "createdAt": "2020-07-14T20:09:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU0NTMwMg=="}], "type": "inlineReview"}, {"oid": "1694a3aec51c2863a04ddccbe57fe4cf5158a00d", "url": "https://github.com/hortonworks/cloudbreak/commit/1694a3aec51c2863a04ddccbe57fe4cf5158a00d", "message": "CDPCP-1941. Fix cloud identity sync filter\n\nCloudIdentitySyncService was filtering by the identity domain, but\nthis field may be null. This is fixed by filtering based on cloud\nidentity name instead. This commit also adds unit tests for\nCloudIdentitySyncService.", "committedDate": "2020-07-14T20:01:28Z", "type": "commit"}, {"oid": "1694a3aec51c2863a04ddccbe57fe4cf5158a00d", "url": "https://github.com/hortonworks/cloudbreak/commit/1694a3aec51c2863a04ddccbe57fe4cf5158a00d", "message": "CDPCP-1941. Fix cloud identity sync filter\n\nCloudIdentitySyncService was filtering by the identity domain, but\nthis field may be null. This is fixed by filtering based on cloud\nidentity name instead. This commit also adds unit tests for\nCloudIdentitySyncService.", "committedDate": "2020-07-14T20:01:28Z", "type": "forcePushed"}]}