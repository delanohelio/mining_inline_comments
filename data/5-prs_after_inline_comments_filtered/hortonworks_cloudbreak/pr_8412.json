{"pr_number": 8412, "pr_title": "CB-7543 - [ASRG] Let entitlement drive default behaviour if no RG inf\u2026", "pr_createdAt": "2020-06-25T13:36:08Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8412", "timeline": [{"oid": "10f3e1ebaf2aa4a5323159352a0722ec98c98c93", "url": "https://github.com/hortonworks/cloudbreak/commit/10f3e1ebaf2aa4a5323159352a0722ec98c98c93", "message": "CB-7543 - [ASRG] Let entitlement drive default behaviour if no RG info is in the request", "committedDate": "2020-06-25T13:37:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTU2NjIzMg==", "url": "https://github.com/hortonworks/cloudbreak/pull/8412#discussion_r445566232", "bodyText": "I think we should use the internal crn here.", "author": "keyki", "createdAt": "2020-06-25T13:40:30Z", "path": "environment/src/main/java/com/sequenceiq/environment/environment/v1/converter/EnvironmentApiConverter.java", "diffHunk": "@@ -304,4 +315,15 @@ public EnvironmentFeatures convertToEnvironmentTelemetryFeatures(FeaturesRequest\n         features.setClusterLogsCollection(featuresRequest.getClusterLogsCollection());\n         return features;\n     }\n+\n+    private boolean azureSingleResourceGroupDeploymentEnabled() {\n+        String userCrn = ThreadBasedUserCrnProvider.getUserCrn();\n+        boolean azureSingleResourceGroupDeploymentEnabled =\n+                entitlementService.azureSingleResourceGroupDeploymentEnabled(userCrn, Crn.safeFromString(userCrn).getAccountId());", "originalCommit": "10f3e1ebaf2aa4a5323159352a0722ec98c98c93", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ea1f5733e71132d2e0476a9ec98f0c4379d13c6b", "url": "https://github.com/hortonworks/cloudbreak/commit/ea1f5733e71132d2e0476a9ec98f0c4379d13c6b", "message": "CB-7543 - [ASRG] Let entitlement drive default behaviour if no RG info is in the request", "committedDate": "2020-06-25T14:47:39Z", "type": "commit"}, {"oid": "ea1f5733e71132d2e0476a9ec98f0c4379d13c6b", "url": "https://github.com/hortonworks/cloudbreak/commit/ea1f5733e71132d2e0476a9ec98f0c4379d13c6b", "message": "CB-7543 - [ASRG] Let entitlement drive default behaviour if no RG info is in the request", "committedDate": "2020-06-25T14:47:39Z", "type": "forcePushed"}]}