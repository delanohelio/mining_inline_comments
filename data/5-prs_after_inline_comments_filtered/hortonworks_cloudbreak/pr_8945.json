{"pr_number": 8945, "pr_title": "CB-8605 - New SINGLE option to use Dedicated Storage Account", "pr_createdAt": "2020-09-08T10:29:59Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8945", "timeline": [{"oid": "2bcb7d24c284b5369d2584a697baf32f008a310f", "url": "https://github.com/hortonworks/cloudbreak/commit/2bcb7d24c284b5369d2584a697baf32f008a310f", "message": "CB-8605 - New SINGLE option to use Dedicated Storage Account", "committedDate": "2020-09-08T12:13:12Z", "type": "forcePushed"}, {"oid": "24e46dd8d0878f413e087ff36cd1811cbe37a527", "url": "https://github.com/hortonworks/cloudbreak/commit/24e46dd8d0878f413e087ff36cd1811cbe37a527", "message": "CB-8605 - New SINGLE option to use Dedicated Storage Account", "committedDate": "2020-09-08T15:06:46Z", "type": "forcePushed"}, {"oid": "bb36e7167c5bd4c0667313200fc1f399fc2046e4", "url": "https://github.com/hortonworks/cloudbreak/commit/bb36e7167c5bd4c0667313200fc1f399fc2046e4", "message": "CB-8605 - New SINGLE option to use Dedicated Storage Account", "committedDate": "2020-09-08T19:46:02Z", "type": "commit"}, {"oid": "bb36e7167c5bd4c0667313200fc1f399fc2046e4", "url": "https://github.com/hortonworks/cloudbreak/commit/bb36e7167c5bd4c0667313200fc1f399fc2046e4", "message": "CB-8605 - New SINGLE option to use Dedicated Storage Account", "committedDate": "2020-09-08T19:46:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ1NTk2Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/8945#discussion_r485455966", "bodyText": "I would add a method as isSingleResourceGroup(), as in some cases the flavor of the single RG is not important.", "author": "gergopapi2", "createdAt": "2020-09-09T09:04:05Z", "path": "cloud-azure/src/main/java/com/sequenceiq/cloudbreak/cloud/azure/ResourceGroupUsage.java", "diffHunk": "@@ -2,5 +2,6 @@\n \n public enum ResourceGroupUsage {\n     SINGLE,\n-    MULTIPLE\n+    MULTIPLE,\n+    SINGLE_WITH_DEDICATED_STORAGE_ACCOUNT", "originalCommit": "bb36e7167c5bd4c0667313200fc1f399fc2046e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQ2OTI4Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/8945#discussion_r485469286", "bodyText": "I am not sure this is related to the rest of the changes. If not, it might make sense to extract it to a separate PR.", "author": "gergopapi2", "createdAt": "2020-09-09T09:23:51Z", "path": "core/src/main/java/com/sequenceiq/distrox/v1/distrox/StackOperations.java", "diffHunk": "@@ -234,7 +235,9 @@ public UpgradeV4Response checkForClusterUpgrade(@NotNull NameOrCrn nameOrCrn, Lo\n             boolean osUpgrade = upgradeService.isOsUpgrade(request);\n             UpgradeV4Response upgradeResponse = clusterUpgradeAvailabilityService.checkForUpgradesByName(workspaceId, stackName,\n                     osUpgrade);\n-            clusterUpgradeAvailabilityService.filterUpgradeOptions(upgradeResponse, request);\n+            if (CollectionUtils.isNotEmpty(upgradeResponse.getUpgradeCandidates())) {\n+                clusterUpgradeAvailabilityService.filterUpgradeOptions(upgradeResponse, request);\n+            }", "originalCommit": "bb36e7167c5bd4c0667313200fc1f399fc2046e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}