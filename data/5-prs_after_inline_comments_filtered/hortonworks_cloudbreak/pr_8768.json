{"pr_number": 8768, "pr_title": "CB-8237 adding details to the aws waiters exceptions because it was a\u2026", "pr_createdAt": "2020-08-10T14:12:51Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/8768", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM5ODQ5NQ==", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#discussion_r468398495", "bodyText": "Can we mention the snapshot id or any relevant info ?", "author": "doktoric", "createdAt": "2020-08-11T08:02:51Z", "path": "cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/encryption/EncryptedSnapshotService.java", "diffHunk": "@@ -142,14 +142,14 @@ private void checkSnapshotReadiness(AuthenticatedContext ac, AmazonEC2Client cli\n         Waiter<DescribeSnapshotsRequest> snapshotWaiter = client.waiters().snapshotCompleted();\n         DescribeSnapshotsRequest describeSnapshotsRequest = new DescribeSnapshotsRequest().withSnapshotIds(snapshotResult.getSnapshot().getSnapshotId());\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(ac.getCloudContext().getId());\n-        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck);\n+        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck, \"Snapshot creation failed\");", "originalCommit": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM5ODU1Ng==", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#discussion_r468398556", "bodyText": "Can we mention the volume id or any relevant info ?", "author": "doktoric", "createdAt": "2020-08-11T08:02:59Z", "path": "cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/encryption/EncryptedSnapshotService.java", "diffHunk": "@@ -142,14 +142,14 @@ private void checkSnapshotReadiness(AuthenticatedContext ac, AmazonEC2Client cli\n         Waiter<DescribeSnapshotsRequest> snapshotWaiter = client.waiters().snapshotCompleted();\n         DescribeSnapshotsRequest describeSnapshotsRequest = new DescribeSnapshotsRequest().withSnapshotIds(snapshotResult.getSnapshot().getSnapshotId());\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(ac.getCloudContext().getId());\n-        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck);\n+        run(snapshotWaiter, describeSnapshotsRequest, stackCancellationCheck, \"Snapshot creation failed\");\n     }\n \n     private void checkEbsVolumeStatus(AuthenticatedContext ac, AmazonEC2Client client, String volumeId) {\n         Waiter<DescribeVolumesRequest> volumeChecker = client.waiters().volumeAvailable();\n         DescribeVolumesRequest describeVolumesRequest = new DescribeVolumesRequest().withVolumeIds(volumeId);\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(ac.getCloudContext().getId());\n-        run(volumeChecker, describeVolumesRequest, stackCancellationCheck);\n+        run(volumeChecker, describeVolumesRequest, stackCancellationCheck, \"Volume creation failed\");", "originalCommit": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODM5ODg3OA==", "url": "https://github.com/hortonworks/cloudbreak/pull/8768#discussion_r468398878", "bodyText": "Can we mention the instance id or any relevant info ?", "author": "doktoric", "createdAt": "2020-08-11T08:03:40Z", "path": "cloud-aws/src/main/java/com/sequenceiq/cloudbreak/cloud/aws/connector/resource/AwsDownscaleService.java", "diffHunk": "@@ -166,6 +166,6 @@ private void waitForTerminateInstances(Long stackId, List<String> instanceIds, A\n         Waiter<DescribeInstancesRequest> instanceTerminatedWaiter = amazonEC2Client.waiters().instanceTerminated();\n         DescribeInstancesRequest describeInstancesRequest = new DescribeInstancesRequest().withInstanceIds(instanceIds);\n         StackCancellationCheck stackCancellationCheck = new StackCancellationCheck(stackId);\n-        run(instanceTerminatedWaiter, describeInstancesRequest, stackCancellationCheck);\n+        run(instanceTerminatedWaiter, describeInstancesRequest, stackCancellationCheck, \"Instances termination failed\");", "originalCommit": "d3c267acffdb4ddb8676a3eafd0c1e9cee6d1ea8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "73f82701185e78c240d0ebd0c33b046f8b0117b5", "url": "https://github.com/hortonworks/cloudbreak/commit/73f82701185e78c240d0ebd0c33b046f8b0117b5", "message": "CB-8237 adding details to the aws waiters exceptions because it was always failing with unclear message", "committedDate": "2020-08-11T09:12:10Z", "type": "commit"}, {"oid": "73f82701185e78c240d0ebd0c33b046f8b0117b5", "url": "https://github.com/hortonworks/cloudbreak/commit/73f82701185e78c240d0ebd0c33b046f8b0117b5", "message": "CB-8237 adding details to the aws waiters exceptions because it was always failing with unclear message", "committedDate": "2020-08-11T09:12:10Z", "type": "forcePushed"}]}