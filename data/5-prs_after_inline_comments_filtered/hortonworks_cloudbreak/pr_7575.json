{"pr_number": 7575, "pr_title": "CB-5582 Authz framework - get resource crn by environment name or crn", "pr_createdAt": "2020-03-13T10:52:17Z", "pr_url": "https://github.com/hortonworks/cloudbreak/pull/7575", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI2NzIzMg==", "url": "https://github.com/hortonworks/cloudbreak/pull/7575#discussion_r392267232", "bodyText": "MapMap?", "author": "lnardai", "createdAt": "2020-03-13T14:37:15Z", "path": "authorization-common/src/main/java/com/sequenceiq/authorization/service/EnvironmentCrnPermissionChecker.java", "diffHunk": "@@ -0,0 +1,56 @@\n+package com.sequenceiq.authorization.service;\n+\n+import java.lang.annotation.Annotation;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+\n+import javax.annotation.PostConstruct;\n+import javax.inject.Inject;\n+\n+import org.aspectj.lang.ProceedingJoinPoint;\n+import org.aspectj.lang.reflect.MethodSignature;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.stereotype.Component;\n+\n+import com.sequenceiq.authorization.annotation.CheckPermissionByEnvironmentCrn;\n+import com.sequenceiq.authorization.annotation.EnvironmentCrn;\n+import com.sequenceiq.authorization.resource.AuthorizationResourceAction;\n+import com.sequenceiq.authorization.resource.AuthorizationResourceType;\n+\n+@Component\n+public class EnvironmentCrnPermissionChecker implements PermissionChecker<CheckPermissionByEnvironmentCrn> {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(EnvironmentCrnPermissionChecker.class);\n+\n+    @Inject\n+    private CommonPermissionCheckingUtils commonPermissionCheckingUtils;\n+\n+    @Inject\n+    private List<ResourceBasedCrnProvider> resourceBasedCrnProviders;\n+\n+    private final Map<AuthorizationResourceType, ResourceBasedCrnProvider> resourceBasedCrnProviderMap = new HashMap<>();\n+\n+    @PostConstruct\n+    public void populateResourceBasedCrnProviderMapMap() {", "originalCommit": "74a5ccafac7c55742cc2f461bee5fe0dd5a0e606", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI2OTI1Mg==", "url": "https://github.com/hortonworks/cloudbreak/pull/7575#discussion_r392269252", "bodyText": "oops :)", "author": "horadla23", "createdAt": "2020-03-13T14:40:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjI2NzIzMg=="}], "type": "inlineReview"}, {"oid": "43468bcfc10bc5d59f0464189393303e3dfca345", "url": "https://github.com/hortonworks/cloudbreak/commit/43468bcfc10bc5d59f0464189393303e3dfca345", "message": "CB-5582 Authz framework - get resource crn by environment name or crn", "committedDate": "2020-03-13T14:41:38Z", "type": "forcePushed"}, {"oid": "7d3c0c4d887f96465a239e21d6e5b9646830d4dd", "url": "https://github.com/hortonworks/cloudbreak/commit/7d3c0c4d887f96465a239e21d6e5b9646830d4dd", "message": "CB-5582 Authz framework - get resource crn by environment name or crn", "committedDate": "2020-03-16T07:40:34Z", "type": "commit"}, {"oid": "7d3c0c4d887f96465a239e21d6e5b9646830d4dd", "url": "https://github.com/hortonworks/cloudbreak/commit/7d3c0c4d887f96465a239e21d6e5b9646830d4dd", "message": "CB-5582 Authz framework - get resource crn by environment name or crn", "committedDate": "2020-03-16T07:40:34Z", "type": "forcePushed"}]}