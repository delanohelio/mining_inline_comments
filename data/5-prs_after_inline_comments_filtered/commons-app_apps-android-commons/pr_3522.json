{"pr_number": 3522, "pr_title": "Solved crashing problem in nomination button", "pr_createdAt": "2020-03-16T09:40:48Z", "pr_url": "https://github.com/commons-app/apps-android-commons/pull/3522", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg5Mzg3Mg==", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392893872", "bodyText": "I would just merge these 2 if statements (if it is valid that a non logged in user can nominate things for deletion), also the null check is not in style, no space on the left hand side", "author": "macgills", "createdAt": "2020-03-16T09:48:48Z", "path": "app/src/main/java/fr/free/nrw/commons/media/MediaDetailFragment.java", "diffHunk": "@@ -348,67 +348,74 @@ public void onCopyWikicodeClicked(){\n \n     @OnClick(R.id.nominateDeletion)\n     public void onDeleteButtonClicked(){\n-        if(AccountUtil.getUserName(getContext()).equals(media.getCreator())){\n-        final ArrayAdapter<String> languageAdapter = new ArrayAdapter<>(getActivity(),\n-                R.layout.simple_spinner_dropdown_list, reasonList);\n-        final Spinner spinner = new Spinner(getActivity());\n-        spinner.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n-        spinner.setAdapter(languageAdapter);\n-        spinner.setGravity(17);\n-\n-        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n-        builder.setView(spinner);\n-        builder.setTitle(R.string.nominate_delete)\n-                .setPositiveButton(R.string.about_translate_proceed, (dialog, which) -> onDeleteClicked(spinner));\n-        builder.setNegativeButton(R.string.about_translate_cancel, (dialog, which) -> dialog.dismiss());\n-        AlertDialog dialog = builder.create();\n-        dialog.show();\n-        if(isDeleted) {\n-            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);\n-        }\n-        }\n-        //Reviewer correct me if i have misunderstood something over here\n-        //But how does this  if (delete.getVisibility() == View.VISIBLE) {\n-        //            enableDeleteButton(true);   makes sense ?\n-        else{\n-        AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());\n-        alert.setMessage(getString(R.string.dialog_box_text_nomination,media.getDisplayTitle()));\n-        final EditText input = new EditText(getActivity());\n-        alert.setView(input);\n-        input.requestFocus();\n-        alert.setPositiveButton(R.string.ok, (dialog1, whichButton) -> {\n-            String reason = input.getText().toString();\n-            onDeleteClickeddialogtext(reason);\n-        });\n-        alert.setNegativeButton(R.string.cancel, (dialog12, whichButton) -> {\n-        });\n-        AlertDialog d = alert.create();\n-        input.addTextChangedListener(new TextWatcher() {\n-            private void handleText() {\n-                final Button okButton = d.getButton(AlertDialog.BUTTON_POSITIVE);\n-                if (input.getText().length() == 0) {\n-                    okButton.setEnabled(false);\n-                } else {\n-                    okButton.setEnabled(true);\n+        if (AccountUtil.getUserName(getContext())!= null) {\n+            if (AccountUtil.getUserName(getContext()).equals(media.getCreator())) {", "originalCommit": "8fec404b55348dd1e023c848944af681d3d9a15a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkyOTk0Ng==", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392929946", "bodyText": "@macgills  Done. :)", "author": "gouri-panda", "createdAt": "2020-03-16T10:45:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg5Mzg3Mg=="}], "type": "inlineReview"}, {"oid": "d20748b7df58afa429e4e4adf228b4797031fe5f", "url": "https://github.com/commons-app/apps-android-commons/commit/d20748b7df58afa429e4e4adf228b4797031fe5f", "message": "solved crashing problem in nomination button\n\nsolved crashing problem in nomination button\n\nsolved crashing problem in nomination button", "committedDate": "2020-03-16T11:02:39Z", "type": "commit"}]}