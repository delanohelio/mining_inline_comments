{"pr_number": 4351, "pr_title": "[risk=low] Update the Create Auth Domain endpoint and project-rb command", "pr_createdAt": "2020-12-03T19:56:28Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4351", "timeline": [{"oid": "29f8f3707deb4e06b1b3cffcac8c989475f5c60e", "url": "https://github.com/all-of-us/workbench/commit/29f8f3707deb4e06b1b3cffcac8c989475f5c60e", "message": "Add user parameter and make all params required", "committedDate": "2020-12-03T19:51:39Z", "type": "commit"}, {"oid": "ee18c9c28ae92fb1e11a6d746731d4361cfe9b5c", "url": "https://github.com/all-of-us/workbench/commit/ee18c9c28ae92fb1e11a6d746731d4361cfe9b5c", "message": "Update create auth domain to return the group email", "committedDate": "2020-12-03T19:51:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTU1MDEwMA==", "url": "https://github.com/all-of-us/workbench/pull/4351#discussion_r535550100", "bodyText": "Step 45 of the New Application Environment creation doc is running the Create Auth Domain command.\nStep 46 involves determining the Auth Domain's Terra Group Email via a multi-step process.  Terra already returns this information to us during creation!  Let's return it to the script caller.", "author": "jmthibault79", "createdAt": "2020-12-03T20:08:01Z", "path": "api/src/main/java/org/pmiops/workbench/api/AuthDomainController.java", "diffHunk": "@@ -36,9 +37,13 @@\n \n   @AuthorityRequired({Authority.DEVELOPER})\n   @Override\n-  public ResponseEntity<EmptyResponse> createAuthDomain(String groupName) {\n-    fireCloudService.createGroup(groupName);\n-    return ResponseEntity.ok(new EmptyResponse());\n+  public ResponseEntity<AuthDomainCreatedResponse> createAuthDomain(String authDomainName) {", "originalCommit": "ee18c9c28ae92fb1e11a6d746731d4361cfe9b5c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI2NjcyNQ==", "url": "https://github.com/all-of-us/workbench/pull/4351#discussion_r536266725", "bodyText": "optional nit: variable not really necessary, could inline below", "author": "calbach", "createdAt": "2020-12-04T17:40:43Z", "path": "api/src/main/java/org/pmiops/workbench/api/AuthDomainController.java", "diffHunk": "@@ -36,9 +37,13 @@\n \n   @AuthorityRequired({Authority.DEVELOPER})\n   @Override\n-  public ResponseEntity<EmptyResponse> createAuthDomain(String groupName) {\n-    fireCloudService.createGroup(groupName);\n-    return ResponseEntity.ok(new EmptyResponse());\n+  public ResponseEntity<AuthDomainCreatedResponse> createAuthDomain(String authDomainName) {\n+    final FirecloudManagedGroupWithMembers group = fireCloudService.createGroup(authDomainName);\n+    final AuthDomainCreatedResponse response =", "originalCommit": "ee18c9c28ae92fb1e11a6d746731d4361cfe9b5c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0ca773da1c0d74b8e1efd36b757383781f14c2d2", "url": "https://github.com/all-of-us/workbench/commit/0ca773da1c0d74b8e1efd36b757383781f14c2d2", "message": "inline the new AuthDomainCreatedResponse()", "committedDate": "2020-12-07T15:05:03Z", "type": "commit"}]}