{"pr_number": 4225, "pr_title": "[no ticket][risk=no] dataset query efficiency", "pr_createdAt": "2020-10-29T18:19:27Z", "pr_url": "https://github.com/all-of-us/workbench/pull/4225", "timeline": [{"oid": "ad94dfdb86b9919bd87c92f3c0c19478f5e821df", "url": "https://github.com/all-of-us/workbench/commit/ad94dfdb86b9919bd87c92f3c0c19478f5e821df", "message": "making queries faster", "committedDate": "2020-10-29T18:18:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ3NDE0NQ==", "url": "https://github.com/all-of-us/workbench/pull/4225#discussion_r514474145", "bodyText": "All of your SQL ends with \\n. I would probably replace that with a \"space\"", "author": "jscherdin", "createdAt": "2020-10-29T18:22:38Z", "path": "api/src/main/java/org/pmiops/workbench/cohortbuilder/SearchGroupItemQueryBuilder.java", "diffHunk": "@@ -76,7 +76,7 @@\n       \"is_standard = %s and concept_id in (select distinct c.concept_id\\n\"\n           + \"from `${projectId}.${dataSetId}.cb_criteria` c\\n\"\n           + \"join (${childLookup}) a\\n\"\n-          + \"on (c.path like concat('%%.', a.id, '.%%') or c.path like concat('%%.', a.id) or c.path like concat(a.id, '.%%') or c.path = a.id)\\n\"\n+          + \"on (c.path like concat('%%.', a.id, '.%%') or c.path like concat('%%.', a.id))\\n\"", "originalCommit": "ad94dfdb86b9919bd87c92f3c0c19478f5e821df", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ3OTMzNA==", "url": "https://github.com/all-of-us/workbench/pull/4225#discussion_r514479334", "bodyText": "space won't do a carriage return.", "author": "freemabd", "createdAt": "2020-10-29T18:31:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ3NDE0NQ=="}], "type": "inlineReview"}, {"oid": "5f7e995cedef20bf9d546f87793346ba757cae5d", "url": "https://github.com/all-of-us/workbench/commit/5f7e995cedef20bf9d546f87793346ba757cae5d", "message": "fixing tests", "committedDate": "2020-10-29T19:00:28Z", "type": "commit"}]}