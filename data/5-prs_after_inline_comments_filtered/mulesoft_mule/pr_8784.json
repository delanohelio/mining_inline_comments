{"pr_number": 8784, "pr_title": "MULE-18205: Review performance overhead of", "pr_createdAt": "2020-04-06T18:29:05Z", "pr_url": "https://github.com/mulesoft/mule/pull/8784", "timeline": [{"oid": "75359847bf262f23b3abfa1ab7f53ad27e88490b", "url": "https://github.com/mulesoft/mule/commit/75359847bf262f23b3abfa1ab7f53ad27e88490b", "message": "MULE-18205: Review performance overhead of\nFlowProcessMediator#policySuccessError", "committedDate": "2020-04-06T18:27:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMxMDg3Nw==", "url": "https://github.com/mulesoft/mule/pull/8784#discussion_r404310877", "bodyText": "I would remove the Phase thing from this name. The Phase concept is genetic garbage inherited from 3.x... I wouldn't bubble that up all the way here", "author": "marianogonzalez", "createdAt": "2020-04-06T18:45:43Z", "path": "core/src/main/java/org/mule/runtime/core/internal/message/InternalEvent.java", "diffHunk": "@@ -45,6 +45,21 @@\n   @Deprecated\n   <T> T getInternalParameter(String key);\n \n+  /**\n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @since 4.4, 4.3.1\n+   */\n+  public EventInternalContext getFlowProcessMediatorPhaseContext();\n+\n+  /**\n+   * Sets context related to the source-flow dispatch\n+   * \n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @param context an {@link EventInternalContext}\n+   * @since 4.4, 4.3.1\n+   */\n+  public void setFlowProcessMediatorPhaseContext(EventInternalContext flowProcessMediatorPhaseContext);", "originalCommit": "75359847bf262f23b3abfa1ab7f53ad27e88490b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDMxMTk1OA==", "url": "https://github.com/mulesoft/mule/pull/8784#discussion_r404311958", "bodyText": "At a quick glance, all other implementations of EventInternalContext are named explicitly when used in method signatures such as this. Although I see why you want to keep this so abstract, this API is telling people that ANY implementation is valid when it's not the case. I think that we should promote PhaseContext to a first class citizen like OperationPolicyContext and rename it to something better while at it (this comment also implies the getter method above and other variable names)", "author": "marianogonzalez", "createdAt": "2020-04-06T18:47:34Z", "path": "core/src/main/java/org/mule/runtime/core/internal/message/InternalEvent.java", "diffHunk": "@@ -45,6 +45,21 @@\n   @Deprecated\n   <T> T getInternalParameter(String key);\n \n+  /**\n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @since 4.4, 4.3.1\n+   */\n+  public EventInternalContext getFlowProcessMediatorPhaseContext();\n+\n+  /**\n+   * Sets context related to the source-flow dispatch\n+   * \n+   * @return a {@link EventInternalContext} with state from source-flow dispatch\n+   * @param context an {@link EventInternalContext}\n+   * @since 4.4, 4.3.1\n+   */\n+  public void setFlowProcessMediatorPhaseContext(EventInternalContext flowProcessMediatorPhaseContext);", "originalCommit": "75359847bf262f23b3abfa1ab7f53ad27e88490b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cf2ae88540b689b1b7c7c57713399a8d4c026b10", "url": "https://github.com/mulesoft/mule/commit/cf2ae88540b689b1b7c7c57713399a8d4c026b10", "message": "review", "committedDate": "2020-04-06T20:28:14Z", "type": "commit"}, {"oid": "00a5308e4a69975d108afbf5ff7731d36e4e0ad0", "url": "https://github.com/mulesoft/mule/commit/00a5308e4a69975d108afbf5ff7731d36e4e0ad0", "message": "review", "committedDate": "2020-04-06T21:33:35Z", "type": "commit"}, {"oid": "4f431ebbed10ac4c4c0b3a449c3d06001f912a90", "url": "https://github.com/mulesoft/mule/commit/4f431ebbed10ac4c4c0b3a449c3d06001f912a90", "message": "sonar", "committedDate": "2020-04-07T14:20:07Z", "type": "commit"}]}