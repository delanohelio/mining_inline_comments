{"pr_number": 8726, "pr_title": "MULE-16528: remove flatmap in foreach", "pr_createdAt": "2020-03-11T18:39:48Z", "pr_url": "https://github.com/mulesoft/mule/pull/8726", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTE5NzQxMw==", "url": "https://github.com/mulesoft/mule/pull/8726#discussion_r391197413", "bodyText": "use the constant for NUMBER instead of building it", "author": "elrodro83", "createdAt": "2020-03-11T19:02:48Z", "path": "core-tests/src/test/java/org/mule/runtime/core/internal/routing/ForeachTestCase.java", "diffHunk": "@@ -423,7 +441,8 @@ public void variables() throws Exception {\n     assertThat(variables.get(DEFAULT_ROOT_MESSAGE_VARIABLE).getDataType(), is(assignableTo(MULE_MESSAGE)));\n     assertThat(variables.get(DEFAULT_ROOT_MESSAGE_VARIABLE).getValue(), equalTo(in.getMessage()));\n \n-    assertThat(variables.get(DEFAULT_COUNTER_VARIABLE).getDataType(), equalTo(DataType.builder().type(Integer.class).build()));\n+    assertThat(variables.get(DEFAULT_COUNTER_VARIABLE).getDataType(),\n+               equalTo(DataType.builder().type(Number.class).build()));", "originalCommit": "224c9ffc804b273c2f6be00f2da625fefb7d96b4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTE5NzUwOA==", "url": "https://github.com/mulesoft/mule/pull/8726#discussion_r391197508", "bodyText": "check if this change has impact in datasense", "author": "elrodro83", "createdAt": "2020-03-11T19:02:59Z", "path": "core-tests/src/test/java/org/mule/runtime/core/internal/routing/ForeachTestCase.java", "diffHunk": "@@ -423,7 +441,8 @@ public void variables() throws Exception {\n     assertThat(variables.get(DEFAULT_ROOT_MESSAGE_VARIABLE).getDataType(), is(assignableTo(MULE_MESSAGE)));\n     assertThat(variables.get(DEFAULT_ROOT_MESSAGE_VARIABLE).getValue(), equalTo(in.getMessage()));\n \n-    assertThat(variables.get(DEFAULT_COUNTER_VARIABLE).getDataType(), equalTo(DataType.builder().type(Integer.class).build()));\n+    assertThat(variables.get(DEFAULT_COUNTER_VARIABLE).getDataType(),\n+               equalTo(DataType.builder().type(Number.class).build()));", "originalCommit": "224c9ffc804b273c2f6be00f2da625fefb7d96b4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1094f68776a32bdde6eabca555698b6deee0e208", "url": "https://github.com/mulesoft/mule/commit/1094f68776a32bdde6eabca555698b6deee0e208", "message": "Revert \"Revert \"MULE-16528: remove `flatMap` in foreach (#8464)\" (#8499)\"\n\nThis reverts commit b6ddd5b8fbb858d3ab37b9e5edcb488d4b33b296.", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "29efd66752f0c782b272dfa87aef626363695103", "url": "https://github.com/mulesoft/mule/commit/29efd66752f0c782b272dfa87aef626363695103", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "86daf05b6e061873b02f417e799970e5a493a8a8", "url": "https://github.com/mulesoft/mule/commit/86daf05b6e061873b02f417e799970e5a493a8a8", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "d915c7a8c6d71b74cabbc7b32a2f5dfa5e13632a", "url": "https://github.com/mulesoft/mule/commit/d915c7a8c6d71b74cabbc7b32a2f5dfa5e13632a", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "1652e532090d1709e5d9230ea4c350a7b40ee90d", "url": "https://github.com/mulesoft/mule/commit/1652e532090d1709e5d9230ea4c350a7b40ee90d", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "8c8ab2c97efaf868d9ec6d3927f3cb26dccaf2e5", "url": "https://github.com/mulesoft/mule/commit/8c8ab2c97efaf868d9ec6d3927f3cb26dccaf2e5", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "5453af54b441cbeeae92a85eed1db918c32d2a5c", "url": "https://github.com/mulesoft/mule/commit/5453af54b441cbeeae92a85eed1db918c32d2a5c", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "a7391f507fdfa8e27b5574225945e0d11f55bb14", "url": "https://github.com/mulesoft/mule/commit/a7391f507fdfa8e27b5574225945e0d11f55bb14", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "5bb4ce98c795e2e96ef1c0b5057ee9163de39bb4", "url": "https://github.com/mulesoft/mule/commit/5bb4ce98c795e2e96ef1c0b5057ee9163de39bb4", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "5533082168135f24796aeffdf20f640e214740cf", "url": "https://github.com/mulesoft/mule/commit/5533082168135f24796aeffdf20f640e214740cf", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "a7fb2bb7211b0589ecb1c63fe175aed324e0304b", "url": "https://github.com/mulesoft/mule/commit/a7fb2bb7211b0589ecb1c63fe175aed324e0304b", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "292735bf9f6a6376f5d30dc2476a97685b8661be", "url": "https://github.com/mulesoft/mule/commit/292735bf9f6a6376f5d30dc2476a97685b8661be", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "6f74f836f68abd58de1f728d1225e6cf4de67482", "url": "https://github.com/mulesoft/mule/commit/6f74f836f68abd58de1f728d1225e6cf4de67482", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "74eed980f3fd39670c9ab7826368e3cbc7d486ed", "url": "https://github.com/mulesoft/mule/commit/74eed980f3fd39670c9ab7826368e3cbc7d486ed", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "c323d5fd158114a412c3f23f6eac934f8906e31b", "url": "https://github.com/mulesoft/mule/commit/c323d5fd158114a412c3f23f6eac934f8906e31b", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "9e27d6023104602e5593e915718afec726318455", "url": "https://github.com/mulesoft/mule/commit/9e27d6023104602e5593e915718afec726318455", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:08Z", "type": "commit"}, {"oid": "d3f12504d52a3bb9b8c4676f2a982c217aa75280", "url": "https://github.com/mulesoft/mule/commit/d3f12504d52a3bb9b8c4676f2a982c217aa75280", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:36Z", "type": "commit"}, {"oid": "d3f12504d52a3bb9b8c4676f2a982c217aa75280", "url": "https://github.com/mulesoft/mule/commit/d3f12504d52a3bb9b8c4676f2a982c217aa75280", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-11T19:45:36Z", "type": "forcePushed"}, {"oid": "ab33dffd10b60dae76a17159a0489891d0f7f765", "url": "https://github.com/mulesoft/mule/commit/ab33dffd10b60dae76a17159a0489891d0f7f765", "message": "MULE-16528: remove  in foreach", "committedDate": "2020-03-12T15:38:57Z", "type": "commit"}]}