{"pr_number": 9676, "pr_title": "MULE-18537: Log retries on retry policy", "pr_createdAt": "2020-11-04T20:34:09Z", "pr_url": "https://github.com/mulesoft/mule/pull/9676", "timeline": [{"oid": "d30e17e166f30126d0f7a5bda8a717795dddf8ee", "url": "https://github.com/mulesoft/mule/commit/d30e17e166f30126d0f7a5bda8a717795dddf8ee", "message": "MULE-18537: Log retries on retry policy", "committedDate": "2020-11-04T20:30:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAwODk0Nw==", "url": "https://github.com/mulesoft/mule/pull/9676#discussion_r518008947", "bodyText": "This could be very verbose, maybe change to DEBUG? what was the original reason for removing this in the first place?", "author": "elrodro83", "createdAt": "2020-11-05T12:19:29Z", "path": "core/src/main/java/org/mule/runtime/core/internal/retry/policies/SimpleRetryPolicy.java", "diffHunk": "@@ -194,4 +197,17 @@ protected AtomicInteger initialValue() {\n       return new AtomicInteger(0);\n     }\n   }\n+\n+  private void logRetrying(long attempts) {\n+    if (LOGGER.isInfoEnabled()) {\n+      LOGGER.info(\"Retrying execution of event, attempt {} of {}.\", attempts,\n+                  count != RETRY_COUNT_FOREVER ? valueOf(count) : \"unlimited\");\n+    }\n+  }\n+\n+  private void logRetriesExhausted() {\n+    if (LOGGER.isInfoEnabled()) {\n+      LOGGER.info(\"Retry attempts exhausted. Failing...\");\n+    }\n+  }", "originalCommit": "d30e17e166f30126d0f7a5bda8a717795dddf8ee", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAxODkxOA==", "url": "https://github.com/mulesoft/mule/pull/9676#discussion_r518018918", "bodyText": "It wasn't removed.  This piece of code didn't change between 4.2.2 and 4.3.x.  The retries are logged here in INFO, but they don't here.", "author": "szaffarano", "createdAt": "2020-11-05T12:37:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAwODk0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIzMjg3Mw==", "url": "https://github.com/mulesoft/mule/pull/9676#discussion_r518232873", "bodyText": "I changed the logging level to DEBUG instead of INFO.", "author": "szaffarano", "createdAt": "2020-11-05T17:35:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAwODk0Nw=="}], "type": "inlineReview"}, {"oid": "08c793f0b5cf38ba90b6925a0c6307a13f2b7aa2", "url": "https://github.com/mulesoft/mule/commit/08c793f0b5cf38ba90b6925a0c6307a13f2b7aa2", "message": "Lower logging level to DEBUG", "committedDate": "2020-11-05T17:34:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIzNDAzNA==", "url": "https://github.com/mulesoft/mule/pull/9676#discussion_r518234034", "bodyText": "for logging a constant string there is no need to ask for the level before", "author": "elrodro83", "createdAt": "2020-11-05T17:37:22Z", "path": "core/src/main/java/org/mule/runtime/core/internal/retry/policies/SimpleRetryPolicy.java", "diffHunk": "@@ -194,4 +197,17 @@ protected AtomicInteger initialValue() {\n       return new AtomicInteger(0);\n     }\n   }\n+\n+  private void logRetrying(long attempts) {\n+    if (LOGGER.isDebugEnabled()) {\n+      LOGGER.debug(\"Retrying execution of event, attempt {} of {}.\", attempts,\n+                  count != RETRY_COUNT_FOREVER ? valueOf(count) : \"unlimited\");\n+    }\n+  }\n+\n+  private void logRetriesExhausted() {\n+    if (LOGGER.isDebugEnabled()) {", "originalCommit": "08c793f0b5cf38ba90b6925a0c6307a13f2b7aa2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c2adf547bc3e8e2f1563330761fd3fab1bbf2280", "url": "https://github.com/mulesoft/mule/commit/c2adf547bc3e8e2f1563330761fd3fab1bbf2280", "message": "Remove unnecessary asking for logging level", "committedDate": "2020-11-05T17:49:06Z", "type": "commit"}]}