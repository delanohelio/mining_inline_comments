{"pr_number": 3190, "pr_title": "changes to LdapAttrPlugin", "pr_createdAt": "2020-08-21T14:35:24Z", "pr_url": "https://github.com/oracle/opengrok/pull/3190", "timeline": [{"oid": "ebd192abeae11ae525ad15827fc8d6bfa1f25a12", "url": "https://github.com/oracle/opengrok/commit/ebd192abeae11ae525ad15827fc8d6bfa1f25a12", "message": "log the correct user instance", "committedDate": "2020-09-17T15:34:50Z", "type": "commit"}, {"oid": "9243eae152d1c2183b6ef0969787a86cafbf0ac2", "url": "https://github.com/oracle/opengrok/commit/9243eae152d1c2183b6ef0969787a86cafbf0ac2", "message": "adjust another log message", "committedDate": "2020-09-17T15:39:16Z", "type": "commit"}, {"oid": "9243eae152d1c2183b6ef0969787a86cafbf0ac2", "url": "https://github.com/oracle/opengrok/commit/9243eae152d1c2183b6ef0969787a86cafbf0ac2", "message": "adjust another log message", "committedDate": "2020-09-17T15:39:16Z", "type": "forcePushed"}, {"oid": "48d37e9321282e86ddbe50b9f9c4d23d9447fc87", "url": "https://github.com/oracle/opengrok/commit/48d37e9321282e86ddbe50b9f9c4d23d9447fc87", "message": "reshuffle variables", "committedDate": "2020-09-17T15:42:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM2MjQzOQ==", "url": "https://github.com/oracle/opengrok/pull/3190#discussion_r490362439", "bodyText": "I think it looks better like this:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    LdapUser ldapUser;\n          \n          \n            \n                    if ((ldapUser = (LdapUser) req.getSession().\n          \n          \n            \n                            getAttribute(LdapUserPlugin.getSessionAttrName(ldapUserInstance))) == null) {\n          \n          \n            \n                    LdapUser ldapUser = (LdapUser) req.getSession().                getAttribute(LdapUserPlugin.getSessionAttrName(ldapUserInstance));\n          \n          \n            \n                    if (ldapUser == null) {", "author": "ahornace", "createdAt": "2020-09-17T15:55:12Z", "path": "plugins/src/main/java/opengrok/auth/plugin/LdapAttrPlugin.java", "diffHunk": "@@ -126,13 +126,9 @@ String getSessionAllowedAttrName() {\n \n     @Override\n     public void fillSession(HttpServletRequest req, User user) {\n-        boolean sessionAllowed;\n-        LdapUser ldapUser;\n-        Map<String, Set<String>> records = null;\n-        Set<String> attributeValues;\n-\n         updateSession(req, false);\n \n+        LdapUser ldapUser;\n         if ((ldapUser = (LdapUser) req.getSession().\n                 getAttribute(LdapUserPlugin.getSessionAttrName(ldapUserInstance))) == null) {", "originalCommit": "48d37e9321282e86ddbe50b9f9c4d23d9447fc87", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "413791cd06eb5d74b548ed3cd217628fa6b74ded", "url": "https://github.com/oracle/opengrok/commit/413791cd06eb5d74b548ed3cd217628fa6b74ded", "message": "Update plugins/src/main/java/opengrok/auth/plugin/LdapAttrPlugin.java\r\n\r\naccept review comment\n\nCo-authored-by: Adam Horn\u00e1\u010dek <adam.hornacek@icloud.com>", "committedDate": "2020-09-17T16:00:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDM2NzQyOA==", "url": "https://github.com/oracle/opengrok/pull/3190#discussion_r490367428", "bodyText": "I missed the whitespaces :(\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    LdapUser ldapUser = (LdapUser) req.getSession().                getAttribute(LdapUserPlugin.getSessionAttrName(ldapUserInstance));\n          \n          \n            \n                    LdapUser ldapUser = (LdapUser) req.getSession().getAttribute(LdapUserPlugin.getSessionAttrName(ldapUserInstance));", "author": "ahornace", "createdAt": "2020-09-17T16:02:21Z", "path": "plugins/src/main/java/opengrok/auth/plugin/LdapAttrPlugin.java", "diffHunk": "@@ -128,9 +128,8 @@ String getSessionAllowedAttrName() {\n     public void fillSession(HttpServletRequest req, User user) {\n         updateSession(req, false);\n \n-        LdapUser ldapUser;\n-        if ((ldapUser = (LdapUser) req.getSession().\n-                getAttribute(LdapUserPlugin.getSessionAttrName(ldapUserInstance))) == null) {\n+        LdapUser ldapUser = (LdapUser) req.getSession().                getAttribute(LdapUserPlugin.getSessionAttrName(ldapUserInstance));", "originalCommit": "413791cd06eb5d74b548ed3cd217628fa6b74ded", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e25440c62ab6be03df78e48aee7d50cf990f3173", "url": "https://github.com/oracle/opengrok/commit/e25440c62ab6be03df78e48aee7d50cf990f3173", "message": "Update plugins/src/main/java/opengrok/auth/plugin/LdapAttrPlugin.java\n\nCo-authored-by: Adam Horn\u00e1\u010dek <adam.hornacek@icloud.com>", "committedDate": "2020-09-17T16:08:42Z", "type": "commit"}]}