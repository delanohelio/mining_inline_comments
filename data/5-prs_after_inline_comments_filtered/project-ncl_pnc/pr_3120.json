{"pr_number": 3120, "pr_title": "[NCL-5705] Brew push: selecting build result in case of NO_REBUILD_RE\u2026", "pr_createdAt": "2020-06-23T12:42:14Z", "pr_url": "https://github.com/project-ncl/pnc/pull/3120", "timeline": [{"oid": "691a7f733e939fd2b9db1011bd73eae9bcc4b9ee", "url": "https://github.com/project-ncl/pnc/commit/691a7f733e939fd2b9db1011bd73eae9bcc4b9ee", "message": "[NCL-5705] Brew push: selecting build result in case of NO_REBUILD_REQUIRED", "committedDate": "2020-06-23T13:50:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY5NDMyNg==", "url": "https://github.com/project-ncl/pnc/pull/3120#discussion_r444694326", "bodyText": "I would maybe mention to push the one already built then to build a new one to push.", "author": "janinko", "createdAt": "2020-06-24T07:21:17Z", "path": "facade/src/main/java/org/jboss/pnc/facade/impl/BrewPusherImpl.java", "diffHunk": "@@ -151,6 +151,11 @@\n \n     @Override\n     public BuildPushResult pushBuild(String buildId, BuildPushParameters buildPushParameters) throws ProcessException {\n+        BuildRecord build = buildRecordRepository.queryById(Integer.valueOf(buildId));\n+        if (build.getStatus().equals(BuildStatus.NO_REBUILD_REQUIRED)) {\n+            throw new OperationNotAllowedException(\n+                    \"Build has NO_REBUILD_REQUIRED status, force-rebuild build or push different one.\");", "originalCommit": "691a7f733e939fd2b9db1011bd73eae9bcc4b9ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "43e5e7bd0041fc768f103d5e8470001a82de3bc7", "url": "https://github.com/project-ncl/pnc/commit/43e5e7bd0041fc768f103d5e8470001a82de3bc7", "message": "[NCL-5705] Brew push: selecting build result in case of NO_REBUILD_REQUIRED", "committedDate": "2020-06-24T09:10:28Z", "type": "forcePushed"}, {"oid": "fe5c0105049e89faca2981bedfa856c6da03f676", "url": "https://github.com/project-ncl/pnc/commit/fe5c0105049e89faca2981bedfa856c6da03f676", "message": "[NCL-5705] Brew push: selecting build result in case of NO_REBUILD_REQUIRED", "committedDate": "2020-06-24T09:15:17Z", "type": "commit"}, {"oid": "fe5c0105049e89faca2981bedfa856c6da03f676", "url": "https://github.com/project-ncl/pnc/commit/fe5c0105049e89faca2981bedfa856c6da03f676", "message": "[NCL-5705] Brew push: selecting build result in case of NO_REBUILD_REQUIRED", "committedDate": "2020-06-24T09:15:17Z", "type": "forcePushed"}]}