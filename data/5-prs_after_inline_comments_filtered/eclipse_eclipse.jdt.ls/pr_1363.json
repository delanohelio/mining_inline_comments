{"pr_number": 1363, "pr_title": "Provide the ability to test early access JDK.next support", "pr_createdAt": "2020-02-25T19:14:02Z", "pr_url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363", "timeline": [{"oid": "affc94f3f65c41b46ff1e320b558cf9b1773eef0", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/affc94f3f65c41b46ff1e320b558cf9b1773eef0", "message": "Remove direct dependency to ICU\n\nSigned-off-by: Fred Bricon <fbricon@gmail.com>", "committedDate": "2020-02-25T22:20:25Z", "type": "commit"}, {"oid": "0585be7adec451a79723bcaaa3e25b94647589e4", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/0585be7adec451a79723bcaaa3e25b94647589e4", "message": "fix launch configs: use com.ibm.icu\n\nSigned-off-by: Yan Zhang <yanzh@microsoft.com>", "committedDate": "2020-02-26T08:17:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM4MTU4Nw==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r384381587", "bodyText": "it looks like a regression no? If so is it a known bug upstream?", "author": "fbricon", "createdAt": "2020-02-26T09:50:27Z", "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/correction/MissingEnumQuickFixTest.java", "diffHunk": "@@ -109,16 +109,24 @@ public void testMissingEnumConstantDespiteDefault() throws Exception {\n \t\toptions.put(JavaCore.COMPILER_PB_MISSING_ENUM_CASE_DESPITE_DEFAULT, JavaCore.ENABLED);\r\n \t\tfJProject.setOptions(options);\r\n \t\tcodeActions = evaluateCodeActions(cu, range);\r\n-\t\tassertEquals(2, codeActions.size());\r\n+\t\tassertEquals(3, codeActions.size());\r\n \t\tEither<Command, CodeAction> codeAction = codeActions.get(0);\r\n \t\tCodeAction action = codeAction.getRight();\r\n \t\tassertEquals(CodeActionKind.QuickFix, action.getKind());\r\n-\t\tassertEquals(\"Add missing case statements\", action.getTitle());\r\n+\t\tassertEquals(\"Add 'default' case\", action.getTitle());\r\n \t\tTextEdit edit = getTextEdit(codeAction);\r\n-\t\tassertEquals(\"\\n        case One:\", edit.getNewText());\r\n+\t\t// FIXME\r\n+\t\tassertEquals(\"\\n        default:\\n            break;\", edit.getNewText());\r", "originalCommit": "00d6271f9e9a5136e9119560e81f592961f620c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDUwMzkzMg==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r384503932", "bodyText": "I can't reproduce the issue in Eclipse. checking jdt.ls...", "author": "snjeza", "createdAt": "2020-02-26T13:52:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM4MTU4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDU2MDc2NA==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r384560764", "bodyText": "Fixed.", "author": "snjeza", "createdAt": "2020-02-26T15:19:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM4MTU4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM4MjI0Mw==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r384382243", "bodyText": "why are 3 default cases added??", "author": "fbricon", "createdAt": "2020-02-26T09:51:31Z", "path": "org.eclipse.jdt.ls.tests/src/org/eclipse/jdt/ls/core/internal/correction/MissingEnumQuickFixTest.java", "diffHunk": "@@ -81,7 +81,7 @@ public void testMissingEnumConstant() throws Exception {\n \t\tassertEquals(CodeActionKind.QuickFix, action.getKind());\r\n \t\tassertEquals(\"Add missing case statements\", action.getTitle());\r\n \t\tedit = getTextEdit(codeAction);\r\n-\t\tassertEquals(\"\\n        case One:\\n            break;\\n        default:\\n            break;\", edit.getNewText());\r\n+\t\tassertEquals(\"\\n        default:\\n            break;\\n        default:\\n            break;\\n        default:\\n            break;\", edit.getNewText());\r", "originalCommit": "00d6271f9e9a5136e9119560e81f592961f620c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6854ed9d0ac3ac2d798db3403f113a31d037ab3f", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/6854ed9d0ac3ac2d798db3403f113a31d037ab3f", "message": "Provide the ability to test early access JDK.next support\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-02-26T15:18:23Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDU2Mzk4NQ==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r384563985", "bodyText": "@rgrunber any chance we could move that class to jdt-core so we can reuse it?", "author": "fbricon", "createdAt": "2020-02-26T15:23:54Z", "path": "org.eclipse.jdt.ls.core/src/org/eclipse/jdt/ls/core/internal/corext/utils/ASTHelper.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*******************************************************************************\n+ * Copyright (c) 2019, 2020 IBM Corporation and others.\n+ *\n+ * This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License 2.0\n+ * which accompanies this distribution, and is available at\n+ * https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *\n+ * Copied from org.eclipse.jdt.internal.ui.util.ASTHelper", "originalCommit": "6854ed9d0ac3ac2d798db3403f113a31d037ab3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM1MDA5Mg==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r390350092", "bodyText": "From what I can see, this class is in : org.eclipse.jdt.core.manipulation/common/org/eclipse/jdt/internal/ui/util/ASTHelper.java , so it should be possible to use much like other things within jdt.core.manipulation (internal, or API)", "author": "rgrunber", "createdAt": "2020-03-10T14:23:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDU2Mzk4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTYxNTQ0OQ==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r395615449", "bodyText": "@snjeza can you please use that core.manipulation class instead?", "author": "fbricon", "createdAt": "2020-03-20T12:52:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDU2Mzk4NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTg1MjMwNA==", "url": "https://github.com/eclipse/eclipse.jdt.ls/pull/1363#discussion_r395852304", "bodyText": "Done.", "author": "snjeza", "createdAt": "2020-03-20T19:37:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDU2Mzk4NQ=="}], "type": "inlineReview"}, {"oid": "59b223a9018e70374ca83079ab64f773adc91df2", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/59b223a9018e70374ca83079ab64f773adc91df2", "message": "match filterText with textEdit\n\nSigned-off-by: Yan Zhang <yanzh@microsoft.com>", "committedDate": "2020-02-28T10:22:48Z", "type": "commit"}, {"oid": "2eb0ab282234822bedd175536dc5c7bebd5171a9", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/2eb0ab282234822bedd175536dc5c7bebd5171a9", "message": "jdt-ls-master fails (#1373)\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-02-29T19:10:34Z", "type": "commit"}, {"oid": "b881de58458a9b3061fdb08e842dd685af17e989", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/b881de58458a9b3061fdb08e842dd685af17e989", "message": "Build workspace action can report progress to client\n\nSigned-off-by: Sheng Chen <sheche@microsoft.com>", "committedDate": "2020-03-02T13:48:24Z", "type": "commit"}, {"oid": "c026aafd84e454f77030132b7095b3971bd5a493", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/c026aafd84e454f77030132b7095b3971bd5a493", "message": "Allow renaming lambda parameters\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-03-03T15:46:15Z", "type": "commit"}, {"oid": "cdc9bc36775ce33cbae4804587df3c8ba4e3834e", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/cdc9bc36775ce33cbae4804587df3c8ba4e3834e", "message": "Update m2e to 1.15.0.20200304-0718\n\nSigned-off-by: Fred Bricon <fbricon@gmail.com>", "committedDate": "2020-03-04T13:49:29Z", "type": "commit"}, {"oid": "5165dbf66b0c7ab1227d3be7698ba2841d690482", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/5165dbf66b0c7ab1227d3be7698ba2841d690482", "message": "Provide diagnostics and quickfix when open non-project java file\n\nSigned-off-by: Jinbo Wang <jinbwan@microsoft.com>", "committedDate": "2020-03-04T16:23:32Z", "type": "commit"}, {"oid": "256284fe599777f6633363bc7c91675554a40d23", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/256284fe599777f6633363bc7c91675554a40d23", "message": "Support lazy loading invisible project\n\nSigned-off-by: Jinbo Wang <jinbwan@microsoft.com>", "committedDate": "2020-03-04T17:47:10Z", "type": "commit"}, {"oid": "b2ee6c1af3ed04b5e7d719a9b1a46135cd1c504c", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/b2ee6c1af3ed04b5e7d719a9b1a46135cd1c504c", "message": "Use more stable update sites in TP\n\nSee #1370\n\nThis reverts commit 2eb0ab282234822bedd175536dc5c7bebd5171a9.", "committedDate": "2020-03-04T20:31:52Z", "type": "commit"}, {"oid": "75a70331ec140cb2b585f4d244783d9cedffc74e", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/75a70331ec140cb2b585f4d244783d9cedffc74e", "message": "Add changelog for 0.52.0\n\nSigned-off-by: Fred Bricon <fbricon@gmail.com>", "committedDate": "2020-03-04T22:04:54Z", "type": "commit"}, {"oid": "12872ea7b4d14be1c872c86b0064d7482c8d14c2", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/12872ea7b4d14be1c872c86b0064d7482c8d14c2", "message": "BadLocationException and diagnostic with negative line number send to client\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-03-11T11:10:22Z", "type": "commit"}, {"oid": "b06ba7459923a71b70be58dccb586659f33d5f41", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/b06ba7459923a71b70be58dccb586659f33d5f41", "message": "Use stable lsp4j 0.9.0 release\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>\nAlso-by: Fred Bricon <fbricon@gmail.com>", "committedDate": "2020-03-12T01:00:54Z", "type": "commit"}, {"oid": "8d6793e481c5ec7e5bc7cb3f15e61547b50a8014", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/8d6793e481c5ec7e5bc7cb3f15e61547b50a8014", "message": "Add GRADLE_USER_HOME preference\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-03-16T11:10:28Z", "type": "commit"}, {"oid": "c02f881891cd86b21d31a74b37dd5b97238a5ff8", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/c02f881891cd86b21d31a74b37dd5b97238a5ff8", "message": "j.i.gradle.arguments and j.i.gradle.jvmArguments aren't properly defined\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-03-17T13:56:09Z", "type": "commit"}, {"oid": "ff427a6776d78813966d818c5f88821139936e99", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/ff427a6776d78813966d818c5f88821139936e99", "message": "Use stable version for JDT/Platform, for now\n\nSigned-off-by: Fred Bricon <fbricon@gmail.com>", "committedDate": "2020-03-18T13:55:27Z", "type": "commit"}, {"oid": "73a95801e72759d31c200d0630cd2e3f6e2cc0a2", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/73a95801e72759d31c200d0630cd2e3f6e2cc0a2", "message": "Upversion 0.53.0-SNAPSHOT\n\nSigned-off-by: Fred Bricon <fbricon@gmail.com>", "committedDate": "2020-03-18T14:59:16Z", "type": "commit"}, {"oid": "a398271f14cb1acc67869d2c03c1f1c4440773dd", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/a398271f14cb1acc67869d2c03c1f1c4440773dd", "message": "Update the root path on workspace folder change event (#1389)\n\nfixes #1388\r\n\r\nSigned-off-by: Sheng Chen <sheche@microsoft.com>", "committedDate": "2020-03-20T10:31:54Z", "type": "commit"}, {"oid": "fb21f43b27f8be698ffd0a2742607645ba0b6e6e", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/fb21f43b27f8be698ffd0a2742607645ba0b6e6e", "message": "Provide the ability to test early access JDK.next support\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-03-20T19:18:24Z", "type": "forcePushed"}, {"oid": "c09c25bcf112474cd5afd9438b329db7c8774def", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/c09c25bcf112474cd5afd9438b329db7c8774def", "message": "Provide the ability to test early access JDK.next support\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-03-20T19:55:20Z", "type": "commit"}, {"oid": "c09c25bcf112474cd5afd9438b329db7c8774def", "url": "https://github.com/eclipse/eclipse.jdt.ls/commit/c09c25bcf112474cd5afd9438b329db7c8774def", "message": "Provide the ability to test early access JDK.next support\n\nSigned-off-by: Snjezana Peco <snjezana.peco@redhat.com>", "committedDate": "2020-03-20T19:55:20Z", "type": "forcePushed"}]}