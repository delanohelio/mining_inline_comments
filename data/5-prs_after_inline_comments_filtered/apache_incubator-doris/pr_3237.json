{"pr_number": 3237, "pr_title": "fix the bug that 'username' in broker load is invalid ", "pr_createdAt": "2020-04-01T03:13:12Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3237", "timeline": [{"oid": "b2ae956a314bc414747ec4beb09171375069dc23", "url": "https://github.com/apache/incubator-doris/commit/b2ae956a314bc414747ec4beb09171375069dc23", "message": "make 'username' valid in broker load", "committedDate": "2020-03-31T15:08:36Z", "type": "commit"}, {"oid": "f448aac12710885808e684b4f85781d1d72c1cdb", "url": "https://github.com/apache/incubator-doris/commit/f448aac12710885808e684b4f85781d1d72c1cdb", "message": "delete 'hadoop.job.ugi'", "committedDate": "2020-04-01T02:38:36Z", "type": "commit"}, {"oid": "40d62189505c82b0d3a22380b220ec7519ddff5c", "url": "https://github.com/apache/incubator-doris/commit/40d62189505c82b0d3a22380b220ec7519ddff5c", "message": "delete redundant code", "committedDate": "2020-04-01T02:58:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTMzNTgwOA==", "url": "https://github.com/apache/incubator-doris/pull/3237#discussion_r401335808", "bodyText": "We need to determine whether the authentication method exists", "author": "HangyuanLiu", "createdAt": "2020-04-01T03:29:16Z", "path": "fs_brokers/apache_hdfs_broker/src/main/java/org/apache/doris/broker/hdfs/FileSystemManager.java", "diffHunk": "@@ -287,9 +285,6 @@ public BrokerFileSystem getDistributedFileSystem(String path, Map<String, String\n                                     e.getMessage());\n                         }\n                     }\n-                } else {\n-                    throw  new BrokerException(TBrokerOperationStatusCode.INVALID_ARGUMENT,\n-                            \"invalid authentication.\");", "originalCommit": "40d62189505c82b0d3a22380b220ec7519ddff5c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTMzODMxOA==", "url": "https://github.com/apache/incubator-doris/pull/3237#discussion_r401338318", "bodyText": "The authentication has been checked before, so this is  redundant here.", "author": "frwrdt", "createdAt": "2020-04-01T03:40:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTMzNTgwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTMzNjIzMA==", "url": "https://github.com/apache/incubator-doris/pull/3237#discussion_r401336230", "bodyText": "Is this method compatible with  versions of hdfs?", "author": "HangyuanLiu", "createdAt": "2020-04-01T03:30:47Z", "path": "fs_brokers/apache_hdfs_broker/src/main/java/org/apache/doris/broker/hdfs/FileSystemManager.java", "diffHunk": "@@ -338,7 +333,20 @@ public BrokerFileSystem getDistributedFileSystem(String path, Map<String, String\n                 }\n \n                 conf.set(FS_HDFS_IMPL_DISABLE_CACHE, \"true\");\n-                FileSystem dfsFileSystem = FileSystem.get(pathUri.getUri(), conf);\n+                FileSystem dfsFileSystem = null;", "originalCommit": "40d62189505c82b0d3a22380b220ec7519ddff5c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM3MTk1Mw==", "url": "https://github.com/apache/incubator-doris/pull/3237#discussion_r401371953", "bodyText": "The version 2.7.3 of package hadoop-common including this method is the same as package hadoop-hdfs.", "author": "frwrdt", "createdAt": "2020-04-01T05:57:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTMzNjIzMA=="}], "type": "inlineReview"}]}