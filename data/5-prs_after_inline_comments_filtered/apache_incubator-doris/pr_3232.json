{"pr_number": 3232, "pr_title": "Rewrite count distinct bitmap and hll in order by and having", "pr_createdAt": "2020-03-30T12:30:20Z", "pr_url": "https://github.com/apache/incubator-doris/pull/3232", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM2MTEyNw==", "url": "https://github.com/apache/incubator-doris/pull/3232#discussion_r401361127", "bodyText": "I'm not sure if it is OK to analyze it here.\nIs it possible to call this function after analyzed?", "author": "imay", "createdAt": "2020-04-01T05:18:34Z", "path": "fe/src/main/java/org/apache/doris/analysis/FunctionCallExpr.java", "diffHunk": "@@ -262,6 +262,11 @@ public boolean isCountDistinctBitmapOrHLL() {\n             return false;\n         }\n \n+        // if expr isn't analyzed, the type is INVALID\n+        if (!getChild(0).isAnalyzed) {\n+            getChild(0).analyzeNoThrow(analyzer);", "originalCommit": "9137a96d25da972c8b02b01c198b90bc8f815d67", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM3NzgwNg==", "url": "https://github.com/apache/incubator-doris/pull/3232#discussion_r401377806", "bodyText": "I also considered this problem\uff0cBut I think wrong before.\nDone.", "author": "kangkaisen", "createdAt": "2020-04-01T06:14:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM2MTEyNw=="}], "type": "inlineReview"}, {"oid": "7d2ff19301319a6967ba18679c1ab87a74b1efed", "url": "https://github.com/apache/incubator-doris/commit/7d2ff19301319a6967ba18679c1ab87a74b1efed", "message": "Rewrite count distinct bitmap and hll in order by and having", "committedDate": "2020-04-01T06:11:37Z", "type": "commit"}, {"oid": "7d2ff19301319a6967ba18679c1ab87a74b1efed", "url": "https://github.com/apache/incubator-doris/commit/7d2ff19301319a6967ba18679c1ab87a74b1efed", "message": "Rewrite count distinct bitmap and hll in order by and having", "committedDate": "2020-04-01T06:11:37Z", "type": "forcePushed"}]}