{"pr_number": 4150, "pr_title": "[BUG] fix 4149, add sessionVariable to choose broadcastjoin first when cardinality cannot be estimated", "pr_createdAt": "2020-07-23T03:01:10Z", "pr_url": "https://github.com/apache/incubator-doris/pull/4150", "timeline": [{"oid": "c7cfe7c4ac1bcfae74529e083941101421ee2dd6", "url": "https://github.com/apache/incubator-doris/commit/c7cfe7c4ac1bcfae74529e083941101421ee2dd6", "message": "[BUG] fix 4149, add sessionVariable to choose broadcastjoin first when cardinality cannot be estimated", "committedDate": "2020-07-23T02:57:28Z", "type": "commit"}, {"oid": "bdafba2f22ccb53e899942e58fe7d76a4191ae7d", "url": "https://github.com/apache/incubator-doris/commit/bdafba2f22ccb53e899942e58fe7d76a4191ae7d", "message": "change the sessionVariable's name", "committedDate": "2020-07-23T06:17:21Z", "type": "commit"}, {"oid": "7b0a80eb2f6f64c5ca0a16cb9d6e724a0c629f43", "url": "https://github.com/apache/incubator-doris/commit/7b0a80eb2f6f64c5ca0a16cb9d6e724a0c629f43", "message": "add optional values for doc", "committedDate": "2020-07-23T06:39:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5MzgyNg==", "url": "https://github.com/apache/incubator-doris/pull/4150#discussion_r459293826", "bodyText": "equalsIgnoreCase should more better.", "author": "kangkaisen", "createdAt": "2020-07-23T08:33:09Z", "path": "fe/fe-core/src/main/java/org/apache/doris/planner/DistributedPlanner.java", "diffHunk": "@@ -286,7 +286,8 @@ private PlanFragment createScanFragment(PlanNode node) {\n      * Therefore, we add a SessionVariable to help users choose a better join implementation.\n      */\n     private boolean isBroadcastCostSmaller(long broadcastCost, long partitionCost)  {\n-        if (ConnectContext.get().getSessionVariable().isPreferBroadcastJoin()) {\n+        String joinMethod = ConnectContext.get().getSessionVariable().getPreferJoinMethod();\n+        if (joinMethod.equals(\"broadcast\")) {", "originalCommit": "bdafba2f22ccb53e899942e58fe7d76a4191ae7d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8b43c5dfb143975751d08a53ae5adf38270f5ab4", "url": "https://github.com/apache/incubator-doris/commit/8b43c5dfb143975751d08a53ae5adf38270f5ab4", "message": "change equals to equalsIgnoreCase", "committedDate": "2020-07-28T09:08:55Z", "type": "commit"}]}