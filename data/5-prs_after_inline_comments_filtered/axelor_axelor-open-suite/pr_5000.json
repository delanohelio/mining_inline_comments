{"pr_number": 5000, "pr_title": "RM26096 Adding feature to clean Global Tracking Logs", "pr_createdAt": "2020-02-28T10:40:22Z", "pr_url": "https://github.com/axelor/axelor-open-suite/pull/5000", "timeline": [{"oid": "8d373ec70f017f2177e24156abcd8222ce58162e", "url": "https://github.com/axelor/axelor-open-suite/commit/8d373ec70f017f2177e24156abcd8222ce58162e", "message": "RM26096 Adding possibility to clean Global Tracking Logs with a scheduler or through the base config menu", "committedDate": "2020-02-28T10:31:41Z", "type": "commit"}, {"oid": "abc3a3c4ab617b8e8cd5518473961fd8af8fdf35", "url": "https://github.com/axelor/axelor-open-suite/commit/abc3a3c4ab617b8e8cd5518473961fd8af8fdf35", "message": "Update CHANGELOG.md", "committedDate": "2020-02-28T10:46:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxNTU1Mg==", "url": "https://github.com/axelor/axelor-open-suite/pull/5000#discussion_r386415552", "bodyText": "throws Exception => throws AxelorException", "author": "ale-axelor", "createdAt": "2020-03-02T14:14:16Z", "path": "axelor-admin/src/main/java/com/axelor/apps/admin/service/GlobalTrackingLogService.java", "diffHunk": "@@ -2,8 +2,13 @@\n \n import com.axelor.apps.admin.db.GlobalTrackingLog;\n import com.axelor.meta.db.MetaModel;\n+import java.util.List;\n \n public interface GlobalTrackingLogService {\n \n   public GlobalTrackingLog createExportLog(MetaModel model);\n+\n+  public void deleteOldGlobalTrackingLog(int months) throws Exception;", "originalCommit": "abc3a3c4ab617b8e8cd5518473961fd8af8fdf35", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxODY5Mw==", "url": "https://github.com/axelor/axelor-open-suite/pull/5000#discussion_r386418693", "bodyText": "add TraceBackService.trace(e)", "author": "ale-axelor", "createdAt": "2020-03-02T14:19:36Z", "path": "axelor-base/src/main/java/com/axelor/apps/base/job/GlobalTrackingLogCleaningJob.java", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.axelor.apps.base.job;\n+\n+import com.axelor.apps.admin.service.GlobalTrackingLogService;\n+import com.axelor.apps.base.service.app.AppBaseService;\n+import com.axelor.inject.Beans;\n+import org.quartz.JobExecutionContext;\n+\n+public class GlobalTrackingLogCleaningJob extends ThreadedJob {\n+\n+  @Override\n+  public void executeInThread(JobExecutionContext context) {\n+    try {\n+      Beans.get(GlobalTrackingLogService.class)\n+          .deleteOldGlobalTrackingLog(\n+              Beans.get(AppBaseService.class).getGlobalTrackingLogPersistence());\n+    } catch (Exception e) {\n+      throw new UncheckedJobExecutionException(e);", "originalCommit": "abc3a3c4ab617b8e8cd5518473961fd8af8fdf35", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b9bd574b6e5da0b95da6d8d537c3f228a3a830d5", "url": "https://github.com/axelor/axelor-open-suite/commit/b9bd574b6e5da0b95da6d8d537c3f228a3a830d5", "message": "Fix made according to the pull request comments", "committedDate": "2020-03-02T16:16:47Z", "type": "commit"}, {"oid": "f62011db9040fd6607247b23db93033e8a5be491", "url": "https://github.com/axelor/axelor-open-suite/commit/f62011db9040fd6607247b23db93033e8a5be491", "message": "Merge branch 'wip-26096' of github.com:erg-axelor/axelor-open-suite into wip-26096", "committedDate": "2020-03-02T16:17:38Z", "type": "commit"}, {"oid": "b9ba5f7b3b6268fad5db9d1c7f9d2906a43f9922", "url": "https://github.com/axelor/axelor-open-suite/commit/b9ba5f7b3b6268fad5db9d1c7f9d2906a43f9922", "message": "Merge branch 'wip' into wip-26096", "committedDate": "2020-03-02T16:20:20Z", "type": "commit"}, {"oid": "5be15bc52cd622a357ee27a3d4e44d9919c9d24c", "url": "https://github.com/axelor/axelor-open-suite/commit/5be15bc52cd622a357ee27a3d4e44d9919c9d24c", "message": "add i18n translation", "committedDate": "2020-03-04T09:20:27Z", "type": "commit"}, {"oid": "af76bd902dd579ee7d8e21fe41f3520e08621950", "url": "https://github.com/axelor/axelor-open-suite/commit/af76bd902dd579ee7d8e21fe41f3520e08621950", "message": "merge from origin", "committedDate": "2020-03-04T09:25:06Z", "type": "commit"}]}