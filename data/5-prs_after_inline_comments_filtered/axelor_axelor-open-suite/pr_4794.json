{"pr_number": 4794, "pr_title": "Anomaly RM#24619 : Use of try-with-resources for FileWriter", "pr_createdAt": "2020-01-13T11:27:58Z", "pr_url": "https://github.com/axelor/axelor-open-suite/pull/4794", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTc1Njk2OA==", "url": "https://github.com/axelor/axelor-open-suite/pull/4794#discussion_r365756968", "bodyText": "Is there need of ; ?", "author": "rme-axelor", "createdAt": "2020-01-13T11:31:15Z", "path": "axelor-base/src/main/java/com/axelor/apps/base/service/administration/ExportDbObjectService.java", "diffHunk": "@@ -232,26 +233,27 @@ private String getActionUrl(MetaAction action) {\n \n   public static String getActionViewType(String xml) {\n \n-    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\n+    DocumentBuilderFactory domFactory = Beans.get(XPathParse.class).getDocumentBuilderFactory();\n     domFactory.setNamespaceAware(true); // never forget this!\n     DocumentBuilder builder;\n \n     try {\n       builder = domFactory.newDocumentBuilder();\n       File tempXml = File.createTempFile(\"Temp\", \"xml\");\n-      FileWriter fw = new FileWriter(tempXml);\n-      fw.write(xml);\n-      fw.close();\n-      Document doc = builder.parse(new FileInputStream(tempXml));\n-      Node child = doc.getFirstChild();\n-      NodeList chs = child.getChildNodes();\n-      for (Integer i = 0; i < chs.getLength(); i++) {\n-        if (chs.item(i).getNodeName().equals(\"view\")) {\n-          NamedNodeMap attributes = chs.item(i).getAttributes();\n-          return attributes.getNamedItem(\"type\").getNodeValue();\n+      try (FileWriter fw = new FileWriter(tempXml); ) {", "originalCommit": "8d636dd374ddc12c1b87fbda7c1088e971e647c4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1dd52db479f03548036500ee8a07ef935ca6f0f6", "url": "https://github.com/axelor/axelor-open-suite/commit/1dd52db479f03548036500ee8a07ef935ca6f0f6", "message": ":Anomaly RM#24619 : Use of try-with-resources for FileWriter", "committedDate": "2020-01-13T11:35:21Z", "type": "commit"}, {"oid": "1dd52db479f03548036500ee8a07ef935ca6f0f6", "url": "https://github.com/axelor/axelor-open-suite/commit/1dd52db479f03548036500ee8a07ef935ca6f0f6", "message": ":Anomaly RM#24619 : Use of try-with-resources for FileWriter", "committedDate": "2020-01-13T11:35:21Z", "type": "forcePushed"}]}