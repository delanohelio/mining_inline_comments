{"pr_number": 1525, "pr_title": "HIVE-24199: Incorrect result when subquey in exists contains limit", "pr_createdAt": "2020-09-24T15:17:23Z", "pr_url": "https://github.com/apache/hive/pull/1525", "timeline": [{"oid": "faaa9442620001db8d5623fa4d396ca96b8bb103", "url": "https://github.com/apache/hive/commit/faaa9442620001db8d5623fa4d396ca96b8bb103", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit", "committedDate": "2020-09-29T08:35:46Z", "type": "forcePushed"}, {"oid": "eb4499dd816a7151be5e48014885e2445e434e30", "url": "https://github.com/apache/hive/commit/eb4499dd816a7151be5e48014885e2445e434e30", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit", "committedDate": "2020-09-29T09:13:21Z", "type": "forcePushed"}, {"oid": "7c3da644d4364689dafe0846bd0f1b84e781431a", "url": "https://github.com/apache/hive/commit/7c3da644d4364689dafe0846bd0f1b84e781431a", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit", "committedDate": "2020-09-30T13:20:36Z", "type": "forcePushed"}, {"oid": "7314db32eab015e41e008d49cf5fb0124e4e8521", "url": "https://github.com/apache/hive/commit/7314db32eab015e41e008d49cf5fb0124e4e8521", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit", "committedDate": "2020-10-01T08:47:50Z", "type": "forcePushed"}, {"oid": "9f2eeeaab340374b899d8028b8d4198b1437aa09", "url": "https://github.com/apache/hive/commit/9f2eeeaab340374b899d8028b8d4198b1437aa09", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit", "committedDate": "2020-10-02T10:48:02Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY2MTUwOA==", "url": "https://github.com/apache/hive/pull/1525#discussion_r500661508", "bodyText": "Can you add a comment to explain/mention why limit is being removed for correlated EXISTs?", "author": "vineetgarg02", "createdAt": "2020-10-07T00:00:18Z", "path": "ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HiveSubQueryRemoveRule.java", "diffHunk": "@@ -406,6 +409,16 @@ private RexNode rewriteInExists(RexSubQuery e, Set<CorrelationId> variablesSet,\n         offset = offset + 1;\n         builder.push(e.rel);\n       }\n+    } else if (e.getKind() == SqlKind.EXISTS && !variablesSet.isEmpty()) {\n+      // Query has 'exists' and correlation:", "originalCommit": "9f2eeeaab340374b899d8028b8d4198b1437aa09", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkxMDgyNg==", "url": "https://github.com/apache/hive/pull/1525#discussion_r500910826", "bodyText": "Added comment", "author": "kasakrisz", "createdAt": "2020-10-07T10:38:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY2MTUwOA=="}], "type": "inlineReview"}, {"oid": "62378f64be71521d4c24a8cf753018021b016f1b", "url": "https://github.com/apache/hive/commit/62378f64be71521d4c24a8cf753018021b016f1b", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit", "committedDate": "2020-10-07T05:27:08Z", "type": "commit"}, {"oid": "21dc1d5541407f0aeff8fb45e266a46c70a4dea8", "url": "https://github.com/apache/hive/commit/21dc1d5541407f0aeff8fb45e266a46c70a4dea8", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit - add comments", "committedDate": "2020-10-07T05:42:58Z", "type": "commit"}, {"oid": "21dc1d5541407f0aeff8fb45e266a46c70a4dea8", "url": "https://github.com/apache/hive/commit/21dc1d5541407f0aeff8fb45e266a46c70a4dea8", "message": "HIVE-24199: Incorrect result when subquey in exists contains limit - add comments", "committedDate": "2020-10-07T05:42:58Z", "type": "forcePushed"}]}