{"pr_number": 1797, "pr_title": "HIVE-24541: add config option for default storage handler class", "pr_createdAt": "2020-12-21T14:17:47Z", "pr_url": "https://github.com/apache/hive/pull/1797", "timeline": [{"oid": "e77de037d117266c4ec4c47cdc2e742e0fd50fb8", "url": "https://github.com/apache/hive/commit/e77de037d117266c4ec4c47cdc2e742e0fd50fb8", "message": "HIVE-24541: add config option for default storage handler class", "committedDate": "2020-12-21T14:10:28Z", "type": "commit"}, {"oid": "67dce18c254a18f7574899dfb12bd70a39328730", "url": "https://github.com/apache/hive/commit/67dce18c254a18f7574899dfb12bd70a39328730", "message": "Add new q file to test suite prop file", "committedDate": "2021-01-04T08:57:38Z", "type": "commit"}, {"oid": "0505241f17e6c4bb8e88cefbfa599ed495c5f98b", "url": "https://github.com/apache/hive/commit/0505241f17e6c4bb8e88cefbfa599ed495c5f98b", "message": "Add log and skip STORED AS", "committedDate": "2021-01-04T11:54:47Z", "type": "commit"}, {"oid": "597652f4586e2ee6183232e095de674e77bd803e", "url": "https://github.com/apache/hive/commit/597652f4586e2ee6183232e095de674e77bd803e", "message": "Add a test case for the stored as skipping", "committedDate": "2021-01-04T12:53:21Z", "type": "commit"}, {"oid": "aff4461bae936b239cd8abe27e73988312c67b9d", "url": "https://github.com/apache/hive/commit/aff4461bae936b239cd8abe27e73988312c67b9d", "message": "Update docs", "committedDate": "2021-01-04T13:15:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMDcwOQ==", "url": "https://github.com/apache/hive/pull/1797#discussion_r551330709", "bodyText": "Could be please use underscores to separate names? I understand that the ones before and after are not using them, but currently the underscore is the \"standard\"", "author": "pvary", "createdAt": "2021-01-04T13:56:42Z", "path": "common/src/java/org/apache/hadoop/hive/conf/HiveConf.java", "diffHunk": "@@ -1991,6 +1991,10 @@ private static void populateLlapDaemonVarsSet(Set<String> llapDaemonVarsSetLocal\n         \"Default file format for CREATE TABLE statement applied to managed tables only. External tables will be \\n\" +\n         \"created with format specified by hive.default.fileformat. Leaving this null will result in using hive.default.fileformat \\n\" +\n         \"for all tables.\"),\n+    HIVEDEFAULTSTORAGEHANDLER(\"hive.default.storage.handler.class\", \"\",", "originalCommit": "aff4461bae936b239cd8abe27e73988312c67b9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTM1NzA0OA==", "url": "https://github.com/apache/hive/pull/1797#discussion_r551357048", "bodyText": "sure", "author": "marton-bod", "createdAt": "2021-01-04T14:43:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMDcwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMTE5MQ==", "url": "https://github.com/apache/hive/pull/1797#discussion_r551331191", "bodyText": "Maybe log?", "author": "pvary", "createdAt": "2021-01-04T13:57:36Z", "path": "ql/src/java/org/apache/hadoop/hive/ql/parse/StorageFormat.java", "diffHunk": "@@ -69,6 +69,12 @@ public boolean fillStorageFormat(ASTNode child) throws SemanticException {\n       }\n       break;\n     case HiveParser.TOK_FILEFORMAT_GENERIC:\n+      if (storageHandler != null) {\n+        // Under normal circumstances, we should not get here (since STORED BY and STORED AS are incompatible within the\n+        // same command). Only scenario we can end up here is if a default storage handler class is set in the config.\n+        // In this case, we opt to ignore the STORED AS clause.", "originalCommit": "aff4461bae936b239cd8abe27e73988312c67b9d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTM1Njk4NQ==", "url": "https://github.com/apache/hive/pull/1797#discussion_r551356985", "bodyText": "sure", "author": "marton-bod", "createdAt": "2021-01-04T14:42:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTMzMTE5MQ=="}], "type": "inlineReview"}, {"oid": "1bb05cb90051d4f50a16936371c43ba0bb5baf4b", "url": "https://github.com/apache/hive/commit/1bb05cb90051d4f50a16936371c43ba0bb5baf4b", "message": "address review comments", "committedDate": "2021-01-04T14:42:38Z", "type": "commit"}]}