{"pr_number": 667, "pr_title": "require an -mnt suffix in maintainer name", "pr_createdAt": "2020-11-02T17:21:32Z", "pr_url": "https://github.com/RIPE-NCC/whois/pull/667", "timeline": [{"oid": "e45fbf6b4630571af513062944bb8f7e98482f85", "url": "https://github.com/RIPE-NCC/whois/commit/e45fbf6b4630571af513062944bb8f7e98482f85", "message": "require an -mnt suffix in maintainer name", "committedDate": "2020-11-02T15:06:08Z", "type": "commit"}, {"oid": "b4da644e63c55b822ae2bef3b7a6222d3404ff50", "url": "https://github.com/RIPE-NCC/whois/commit/b4da644e63c55b822ae2bef3b7a6222d3404ff50", "message": "Merge branch 'master' into mnt-suffix", "committedDate": "2020-11-03T03:55:06Z", "type": "commit"}, {"oid": "4f76f1363716c7d248abcfeabf2409bcaa286be9", "url": "https://github.com/RIPE-NCC/whois/commit/4f76f1363716c7d248abcfeabf2409bcaa286be9", "message": "removed the synntax checked added for mnt name. Added test to ensure it is possible to still update when maintainer name does not end with -MNT", "committedDate": "2020-11-03T19:35:42Z", "type": "commit"}, {"oid": "32b9885367bc01c932c5d9a2743176a203c90bf0", "url": "https://github.com/RIPE-NCC/whois/commit/32b9885367bc01c932c5d9a2743176a203c90bf0", "message": "Added check for -mnt suffix to MaintainerNameValidator", "committedDate": "2020-11-05T23:46:02Z", "type": "commit"}, {"oid": "6781902ac5fd6eacf3249859dd493ecd6683fc90", "url": "https://github.com/RIPE-NCC/whois/commit/6781902ac5fd6eacf3249859dd493ecd6683fc90", "message": "Merge branch 'master' into mnt-suffix", "committedDate": "2020-11-11T11:47:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTMzMDkxMQ==", "url": "https://github.com/RIPE-NCC/whois/pull/667#discussion_r521330911", "bodyText": "No need for toUpperCase(), CIString implements endsWith()", "author": "eshryane", "createdAt": "2020-11-11T12:41:39Z", "path": "whois-update/src/main/java/net/ripe/db/whois/update/handler/validator/maintainer/MaintainerNameValidator.java", "diffHunk": "@@ -32,6 +33,9 @@\n     @Override\n     public void validate(final PreparedUpdate update, final UpdateContext updateContext) {\n         final RpslObject updatedObject = update.getUpdatedObject();\n+        if (Action.CREATE.equals(update.getAction()) && !updatedObject.getKey().toUpperCase().endsWith(MNT_NAME_SUFFIX)) {", "originalCommit": "6781902ac5fd6eacf3249859dd493ecd6683fc90", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTM3MjYzMQ==", "url": "https://github.com/RIPE-NCC/whois/pull/667#discussion_r521372631", "bodyText": "Removed", "author": "dadepo", "createdAt": "2020-11-11T13:53:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTMzMDkxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTMzMjMyOQ==", "url": "https://github.com/RIPE-NCC/whois/pull/667#discussion_r521332329", "bodyText": "Update the message to clarify that the error is on CREATE only:\nWhen creating a MNTNER the name must end with an -MNT suffix", "author": "eshryane", "createdAt": "2020-11-11T12:44:10Z", "path": "whois-update/src/main/java/net/ripe/db/whois/update/domain/UpdateMessages.java", "diffHunk": "@@ -176,6 +176,10 @@ public static Message invalidMaintainerForOrganisationType(final CharSequence or\n         return new Message(Type.ERROR, \"Value '%s' can only be set by the RIPE NCC for this organisation.\", orgType);\n     }\n \n+    public static Message invalidMaintainerName() {\n+        return new Message(Type.ERROR, \"Maintainer name must end with a -MNT suffix\");", "originalCommit": "6781902ac5fd6eacf3249859dd493ecd6683fc90", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQxNzkyOA==", "url": "https://github.com/RIPE-NCC/whois/pull/667#discussion_r521417928", "bodyText": "done", "author": "dadepo", "createdAt": "2020-11-11T15:00:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTMzMjMyOQ=="}], "type": "inlineReview"}, {"oid": "c403dc67fd1fb30341b8a0ddeb06dfa7405158dd", "url": "https://github.com/RIPE-NCC/whois/commit/c403dc67fd1fb30341b8a0ddeb06dfa7405158dd", "message": "removed the need to manually turn to upper case", "committedDate": "2020-11-11T13:44:36Z", "type": "commit"}, {"oid": "9bd2e85c327eaddddee4e2e5cf41ca02cadfcaaf", "url": "https://github.com/RIPE-NCC/whois/commit/9bd2e85c327eaddddee4e2e5cf41ca02cadfcaaf", "message": "Merge branch 'mnt-suffix' of https://github.com/RIPE-NCC/whois into mnt-suffix", "committedDate": "2020-11-11T13:52:31Z", "type": "commit"}, {"oid": "33b41d96b8d73c1e93bd25569209844c49a25fdb", "url": "https://github.com/RIPE-NCC/whois/commit/33b41d96b8d73c1e93bd25569209844c49a25fdb", "message": "Updated message as suggested", "committedDate": "2020-11-11T15:00:06Z", "type": "commit"}, {"oid": "edc385b6e1eb9b78ded001e92eb0a4f66205b7ee", "url": "https://github.com/RIPE-NCC/whois/commit/edc385b6e1eb9b78ded001e92eb0a4f66205b7ee", "message": "Merge branch 'master' into mnt-suffix", "committedDate": "2020-11-13T07:34:34Z", "type": "commit"}]}