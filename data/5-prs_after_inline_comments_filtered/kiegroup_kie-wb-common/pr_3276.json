{"pr_number": 3276, "pr_title": "JBPM-7919 : Stunner - [BPMN] Support for Data Object", "pr_createdAt": "2020-04-21T22:23:23Z", "pr_url": "https://github.com/kiegroup/kie-wb-common/pull/3276", "timeline": [{"oid": "da805a1ef9f48aab3854620813a55c2baf096533", "url": "https://github.com/kiegroup/kie-wb-common/commit/da805a1ef9f48aab3854620813a55c2baf096533", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Added Tests", "committedDate": "2020-04-24T02:43:47Z", "type": "forcePushed"}, {"oid": "635c51515fdbc423776eb211f8825d767e78476b", "url": "https://github.com/kiegroup/kie-wb-common/commit/635c51515fdbc423776eb211f8825d767e78476b", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Added Tests", "committedDate": "2020-04-24T15:50:30Z", "type": "forcePushed"}, {"oid": "bf713958947adac3ac7e85ce95898c1cc9d182db", "url": "https://github.com/kiegroup/kie-wb-common/commit/bf713958947adac3ac7e85ce95898c1cc9d182db", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Added Tests", "committedDate": "2020-04-28T01:46:39Z", "type": "forcePushed"}, {"oid": "6bc56a8b5f8049a27c78168d32252d097e6bf19b", "url": "https://github.com/kiegroup/kie-wb-common/commit/6bc56a8b5f8049a27c78168d32252d097e6bf19b", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Fixed Build Error on Palette", "committedDate": "2020-04-30T02:02:15Z", "type": "forcePushed"}, {"oid": "f66225bc2e650f3ea4c2f629352c5d537638b73c", "url": "https://github.com/kiegroup/kie-wb-common/commit/f66225bc2e650f3ea4c2f629352c5d537638b73c", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Fixed Build Error on Palette Experimental Changes Fixed Dinamic Update Modified for Tests", "committedDate": "2020-05-07T03:10:59Z", "type": "forcePushed"}, {"oid": "2f30726800643e740e8dea75717a8298f3fe6e43", "url": "https://github.com/kiegroup/kie-wb-common/commit/2f30726800643e740e8dea75717a8298f3fe6e43", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Fixed issue with Chaining Updates / Undos", "committedDate": "2020-05-07T23:37:43Z", "type": "forcePushed"}, {"oid": "1248fac6d704e39241bb2ea959db74cd72bac14f", "url": "https://github.com/kiegroup/kie-wb-common/commit/1248fac6d704e39241bb2ea959db74cd72bac14f", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Added Visibility for Assignments", "committedDate": "2020-05-12T18:26:05Z", "type": "forcePushed"}, {"oid": "78edf1a546fbb56fe3c5080b8df1bc0fa0da5fc4", "url": "https://github.com/kiegroup/kie-wb-common/commit/78edf1a546fbb56fe3c5080b8df1bc0fa0da5fc4", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Added Validators for Kogito and BC", "committedDate": "2020-05-21T21:45:02Z", "type": "forcePushed"}, {"oid": "78bd964d377ad0f1a63b9ec655e6e8d37da8e304", "url": "https://github.com/kiegroup/kie-wb-common/commit/78bd964d377ad0f1a63b9ec655e6e8d37da8e304", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association / Rever to State Checker / Made Pop ups appear showing issue on Kogito and BC", "committedDate": "2020-05-26T17:03:00Z", "type": "forcePushed"}, {"oid": "4782ed1a39fde6a22cd3e7fbd1a05ec1ac8298df", "url": "https://github.com/kiegroup/kie-wb-common/commit/4782ed1a39fde6a22cd3e7fbd1a05ec1ac8298df", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association", "committedDate": "2020-05-28T01:18:45Z", "type": "forcePushed"}, {"oid": "7ecd802e930199cbe3ad62e061b670c98c635ca7", "url": "https://github.com/kiegroup/kie-wb-common/commit/7ecd802e930199cbe3ad62e061b670c98c635ca7", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association", "committedDate": "2020-05-28T20:09:56Z", "type": "forcePushed"}, {"oid": "42b79557f958dd272fdeac77e8e60e178591fd03", "url": "https://github.com/kiegroup/kie-wb-common/commit/42b79557f958dd272fdeac77e8e60e178591fd03", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association", "committedDate": "2020-06-02T13:48:18Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMDg1Mg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434910852", "bodyText": "is this method really necessary? does that null check really applies? Looking at the callers for it, maybe we can just replace it by the direct calls to the presenter instance: getEditor().getSessionPresenter().displayNotifications(t -> true/false);", "author": "romartin", "createdAt": "2020-06-03T23:26:24Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-kogito-runtime/src/main/java/org/kie/workbench/common/stunner/kogito/client/editor/BPMNDiagramEditor.java", "diffHunk": "@@ -259,10 +269,31 @@ public String getEditorIdentifier() {\n         return EDITOR_ID;\n     }\n \n+    private void displayNotifications(final boolean displayNotifications) {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMTU4Nw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434911587", "bodyText": "why here displayNotifications are set to false, and set to true again at the end of this method? Looks tricky...\nI was just expecting a single (unique) call setting displayNotifications = false, once the presenter instance is being loaded for first time, and no need for more calls. Then the call to getEditor().getSessionPresenter().getView().showWarning(...); should work anyway, isn't it?", "author": "romartin", "createdAt": "2020-06-03T23:29:06Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-kogito-runtime/src/main/java/org/kie/workbench/common/stunner/kogito/client/editor/BPMNDiagramEditor.java", "diffHunk": "@@ -259,10 +269,31 @@ public String getEditorIdentifier() {\n         return EDITOR_ID;\n     }\n \n+    private void displayNotifications(final boolean displayNotifications) {\n+        if (getEditor().getSessionPresenter() != null) {\n+            getEditor().getSessionPresenter().displayNotifications(t -> displayNotifications);\n+        }\n+    }\n     @GetContent\n     @Override\n     public Promise getContent() {\n         flush();\n+        displayNotifications(false);", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMxMzIyMw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438313223", "bodyText": "Hi @romartin removed the method, just calling it directly, I had used it because had trouble with the test calling so I needed to check for null, not anymore. The reason it needs two calls is to 1) disable warnings 2) enable them again, I need to do this, otherwise you cannot see pop ups later, for instance if you try to set a Data Object in an AdHoc proces. like this", "author": "inodeman", "createdAt": "2020-06-10T18:03:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMTU4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5OTA3MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443899070", "bodyText": "ok, it makes sense, it's not ideal but because also the way internal notifications are being managed does not fits too much he, no worries, it's fine to go ahead.\nBut maybe should result clear to move all these new logic to a NEW method, so reading the getContent would result more easy to understand, as it will jsut have a couple of method calls (flush and your new one), and the return object is calling marshallers so also clear... WDYT?", "author": "romartin", "createdAt": "2020-06-23T00:42:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMTU4Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMyOTU5Mw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444329593", "bodyText": "Good thinking @romartin refactored now.", "author": "inodeman", "createdAt": "2020-06-23T15:52:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMTU4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMzA1Ng==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434913056", "bodyText": "Missing I18n for \"Error\" literal, it should be already available in the core messages...", "author": "romartin", "createdAt": "2020-06-03T23:34:50Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-kogito-runtime/src/main/java/org/kie/workbench/common/stunner/kogito/client/editor/BPMNDiagramEditor.java", "diffHunk": "@@ -259,10 +269,31 @@ public String getEditorIdentifier() {\n         return EDITOR_ID;\n     }\n \n+    private void displayNotifications(final boolean displayNotifications) {\n+        if (getEditor().getSessionPresenter() != null) {\n+            getEditor().getSessionPresenter().displayNotifications(t -> displayNotifications);\n+        }\n+    }\n     @GetContent\n     @Override\n     public Promise getContent() {\n         flush();\n+        displayNotifications(false);\n+        AbstractCanvasHandler canvasHandler = (AbstractCanvasHandler) getCanvasHandler();\n+        validator.validate(canvasHandler, violations -> {\n+\n+            if (!violations.isEmpty()) {\n+                List<String> violationMessages = new ArrayList<>();\n+                for (DiagramElementViolation<RuleViolation> next : violations) {\n+                    final Collection<DomainViolation> domainViolations = next.getDomainViolations();\n+\n+                    domainViolations.forEach(item -> violationMessages.add(\"Error: \" + item.getUUID() + \" - \" + item.getMessage() + \" - \" + item.getViolationType()));", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMyNTczMw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438325733", "bodyText": "fixed, added i18n now", "author": "inodeman", "createdAt": "2020-06-10T18:26:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMzA1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMzA4Nw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434913087", "bodyText": "Missing I18n for \"Errors\" literal, it should be already available in the core messages...", "author": "romartin", "createdAt": "2020-06-03T23:34:57Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-kogito-runtime/src/main/java/org/kie/workbench/common/stunner/kogito/client/editor/BPMNDiagramEditor.java", "diffHunk": "@@ -259,10 +269,31 @@ public String getEditorIdentifier() {\n         return EDITOR_ID;\n     }\n \n+    private void displayNotifications(final boolean displayNotifications) {\n+        if (getEditor().getSessionPresenter() != null) {\n+            getEditor().getSessionPresenter().displayNotifications(t -> displayNotifications);\n+        }\n+    }\n     @GetContent\n     @Override\n     public Promise getContent() {\n         flush();\n+        displayNotifications(false);\n+        AbstractCanvasHandler canvasHandler = (AbstractCanvasHandler) getCanvasHandler();\n+        validator.validate(canvasHandler, violations -> {\n+\n+            if (!violations.isEmpty()) {\n+                List<String> violationMessages = new ArrayList<>();\n+                for (DiagramElementViolation<RuleViolation> next : violations) {\n+                    final Collection<DomainViolation> domainViolations = next.getDomainViolations();\n+\n+                    domainViolations.forEach(item -> violationMessages.add(\"Error: \" + item.getUUID() + \" - \" + item.getMessage() + \" - \" + item.getViolationType()));\n+                }\n+\n+                getEditor().getSessionPresenter().getView().showWarning(\"Errors: \" + violationMessages);", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMyNzE3OQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438327179", "bodyText": "fixed, added i18n now", "author": "inodeman", "createdAt": "2020-06-10T18:28:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMzA4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNDY2OQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434914669", "bodyText": "Does this makes sense? you're setting something to the pp instance, which value comes from the pp instance as well... is not p playing any role here? look at above lines, this looks incoherent\nAlso why I don't see this change in the DefinitionsConverter class for client side marshallers?", "author": "romartin", "createdAt": "2020-06-03T23:40:29Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-backend/src/main/java/org/kie/workbench/common/stunner/bpmn/backend/converters/fromstunner/DefinitionsConverter.java", "diffHunk": "@@ -65,6 +65,7 @@ public Definitions toDefinitions() {\n         p.addAllRootElements(pp.getItemDefinitions());\n         p.addAllRootElements(pp.getRootElements());\n         p.addAllRootElements(pp.getInterfaces());\n+        pp.getProcess().getFlowElements().addAll(pp.getDataObjects());", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODMzNjY2Mw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438336663", "bodyText": "Hi @romartin you are right, I checked and this line has no effect. Removed, (was part of original code)", "author": "inodeman", "createdAt": "2020-06-10T18:46:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNDY2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTU5MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434915590", "bodyText": "Missing I18n", "author": "romartin", "createdAt": "2020-06-03T23:43:43Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/validation/BPMNDataObjectValidator.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.stunner.bpmn.client.validation;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Consumer;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+\n+import org.kie.workbench.common.stunner.bpmn.BPMNDefinitionSet;\n+import org.kie.workbench.common.stunner.bpmn.definition.DataObject;\n+import org.kie.workbench.common.stunner.bpmn.validation.BPMNViolation;\n+import org.kie.workbench.common.stunner.core.definition.adapter.binding.BindableAdapterUtils;\n+import org.kie.workbench.common.stunner.core.diagram.Diagram;\n+import org.kie.workbench.common.stunner.core.graph.Element;\n+import org.kie.workbench.common.stunner.core.graph.content.view.View;\n+import org.kie.workbench.common.stunner.core.validation.DomainValidator;\n+import org.kie.workbench.common.stunner.core.validation.DomainViolation;\n+import org.kie.workbench.common.stunner.core.validation.Violation;\n+\n+@ApplicationScoped\n+public class BPMNDataObjectValidator implements DomainValidator {\n+\n+    private static final String ALLOWED_CHARS = \"^[a-zA-Z0-9\\\\-\\\\_\\\\ \\\\+\\\\/\\\\*\\\\?\\\\'\\\\.]*$\";\n+\n+    @Override\n+    public String getDefinitionSetId() {\n+        return BindableAdapterUtils.getDefinitionSetId(BPMNDefinitionSet.class);\n+    }\n+\n+    @Override\n+    public void validate(Diagram diagram, Consumer<Collection<DomainViolation>> resultConsumer) {\n+        Iterator<Element> it = diagram.getGraph().nodes().iterator();\n+        Map<String, String> dataObjectsMap = new HashMap<>();\n+        List<DomainViolation> violations = new ArrayList<>();\n+        while (it.hasNext()) {\n+            Element element = it.next();\n+            if (element.getContent() instanceof View && ((View) element.getContent()).getDefinition() instanceof DataObject) {\n+                    DataObject dataObject = (DataObject) ((View) element.getContent()).getDefinition();\n+\n+                    String name = dataObject.getName().getValue();\n+                    String type = dataObject.getType().getValue().getType();\n+                    String containedType = dataObjectsMap.get(name);\n+\n+                    if (containedType != null && !type.equals(containedType)) { // If already defined with different type\n+                        BPMNViolation bpmnViolation = new BPMNViolation(\"Data Object Exists with Same Name and Different Type: \" + name, Violation.Type.WARNING, element.getUUID());", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0NTk0MQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438345941", "bodyText": "@romartin Added i18n", "author": "inodeman", "createdAt": "2020-06-10T19:03:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTU5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTYxMg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434915612", "bodyText": "Missing I18n", "author": "romartin", "createdAt": "2020-06-03T23:43:47Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/validation/BPMNDataObjectValidator.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.stunner.bpmn.client.validation;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Consumer;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+\n+import org.kie.workbench.common.stunner.bpmn.BPMNDefinitionSet;\n+import org.kie.workbench.common.stunner.bpmn.definition.DataObject;\n+import org.kie.workbench.common.stunner.bpmn.validation.BPMNViolation;\n+import org.kie.workbench.common.stunner.core.definition.adapter.binding.BindableAdapterUtils;\n+import org.kie.workbench.common.stunner.core.diagram.Diagram;\n+import org.kie.workbench.common.stunner.core.graph.Element;\n+import org.kie.workbench.common.stunner.core.graph.content.view.View;\n+import org.kie.workbench.common.stunner.core.validation.DomainValidator;\n+import org.kie.workbench.common.stunner.core.validation.DomainViolation;\n+import org.kie.workbench.common.stunner.core.validation.Violation;\n+\n+@ApplicationScoped\n+public class BPMNDataObjectValidator implements DomainValidator {\n+\n+    private static final String ALLOWED_CHARS = \"^[a-zA-Z0-9\\\\-\\\\_\\\\ \\\\+\\\\/\\\\*\\\\?\\\\'\\\\.]*$\";\n+\n+    @Override\n+    public String getDefinitionSetId() {\n+        return BindableAdapterUtils.getDefinitionSetId(BPMNDefinitionSet.class);\n+    }\n+\n+    @Override\n+    public void validate(Diagram diagram, Consumer<Collection<DomainViolation>> resultConsumer) {\n+        Iterator<Element> it = diagram.getGraph().nodes().iterator();\n+        Map<String, String> dataObjectsMap = new HashMap<>();\n+        List<DomainViolation> violations = new ArrayList<>();\n+        while (it.hasNext()) {\n+            Element element = it.next();\n+            if (element.getContent() instanceof View && ((View) element.getContent()).getDefinition() instanceof DataObject) {\n+                    DataObject dataObject = (DataObject) ((View) element.getContent()).getDefinition();\n+\n+                    String name = dataObject.getName().getValue();\n+                    String type = dataObject.getType().getValue().getType();\n+                    String containedType = dataObjectsMap.get(name);\n+\n+                    if (containedType != null && !type.equals(containedType)) { // If already defined with different type\n+                        BPMNViolation bpmnViolation = new BPMNViolation(\"Data Object Exists with Same Name and Different Type: \" + name, Violation.Type.WARNING, element.getUUID());\n+                        violations.add(bpmnViolation);\n+                    } else {\n+                        dataObjectsMap.put(name, type);\n+                    }\n+\n+                    if (!name.matches(ALLOWED_CHARS)) {\n+                        BPMNViolation bpmnViolation = new BPMNViolation(\"Data Object with Invalid Name Exists: \" + name, Violation.Type.WARNING, element.getUUID());", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0NjAwOA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438346008", "bodyText": "@romartin Added i18n", "author": "inodeman", "createdAt": "2020-06-10T19:03:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTYxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTgwNg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434915806", "bodyText": "Maybe this class can be moved somewhere into the bpmn-api module, so making this validator available (in case) for both server and client side. Does it makes sense?", "author": "romartin", "createdAt": "2020-06-03T23:44:32Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/validation/BPMNDataObjectValidator.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.stunner.bpmn.client.validation;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Consumer;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+\n+import org.kie.workbench.common.stunner.bpmn.BPMNDefinitionSet;\n+import org.kie.workbench.common.stunner.bpmn.definition.DataObject;\n+import org.kie.workbench.common.stunner.bpmn.validation.BPMNViolation;\n+import org.kie.workbench.common.stunner.core.definition.adapter.binding.BindableAdapterUtils;\n+import org.kie.workbench.common.stunner.core.diagram.Diagram;\n+import org.kie.workbench.common.stunner.core.graph.Element;\n+import org.kie.workbench.common.stunner.core.graph.content.view.View;\n+import org.kie.workbench.common.stunner.core.validation.DomainValidator;\n+import org.kie.workbench.common.stunner.core.validation.DomainViolation;\n+import org.kie.workbench.common.stunner.core.validation.Violation;\n+\n+@ApplicationScoped\n+public class BPMNDataObjectValidator implements DomainValidator {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0OTA2MQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438349061", "bodyText": "Hi @romartin not sure, this class is annotated as ApplicationScoped, if I move it then it will be autoinitiallized? perhaps I can move it, but then will have to re-create a class in client and annotate it with ApplicationScoped correct? let me know what you think", "author": "inodeman", "createdAt": "2020-06-10T19:09:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTgwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NjkyNA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443896924", "bodyText": "moving it to a the bpmn-api module implies that it'll be available in both server and client side, so I would the concrete scope (ApplicationScoped) for it is not really an issue here, the key implication of moving it is about that it'll became visible on server as well.\nOn the other hand, it makes sense that the \"domain validation\" happens on server side as well, and this is an implemention for a DomainValidator, so makes sense not only considering it client side.\nCan we do the change? I don't really remember now if the server code is calling those validators, but we should, and this one should also be part of the server validation IMO.\nLemme know plz.", "author": "romartin", "createdAt": "2020-06-23T00:34:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTgwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM1MzIwMA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444353200", "bodyText": "Hi @romartin moved now, but since it accesses ClientTranslationServices I had to declare class abstract with 4 abstract methods, then define a ClientValidator that defines those methods.", "author": "inodeman", "createdAt": "2020-06-23T16:27:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNTgwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNjUxOA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434916518", "bodyText": "This class, as part of the BPMN eclise model for client side (kie-wb-common-stunner-bpmn-emf),  is being auto-generated from an eclipse model / plugin, so we're NOT  allowed to manually change any class in this module!\nIs the code here really necessary???? Again, this should not be manually changed please.", "author": "romartin", "createdAt": "2020-06-03T23:47:13Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-emf/src/main/java/org/eclipse/bpmn2/impl/DataObjectImpl.java", "diffHunk": "@@ -1,19 +1,21 @@\n /**\n  * <copyright>\n- * \n+ *\n  * Copyright (c) 2010 SAP AG.\n  * All rights reserved. This program and the accompanying materials\n  * are made available under the terms of the Eclipse Public License v1.0\n  * which accompanies this distribution, and is available at\n  * http://www.eclipse.org/legal/epl-v10.html\n- * \n+ *\n  * Contributors:\n  *    Reiner Hille-Doering (SAP AG) - initial API and implementation and/or initial documentation\n- * \n+ *\n  * </copyright>\n  */\n package org.eclipse.bpmn2.impl;\n \n+import java.util.Objects;", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM1MDA3OA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438350078", "bodyText": "Hi @romartin part of original code from this PR, let me refactor it, I believe it is used for a Set , the changes in this class are hashcode and equals.", "author": "inodeman", "createdAt": "2020-06-10T19:11:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4MDQ4MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438380480", "bodyText": "Hi @romartin fixed", "author": "inodeman", "createdAt": "2020-06-10T20:10:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NDU0Mw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443894543", "bodyText": "please let's avoid changing this file at all, still changes just on code styling", "author": "romartin", "createdAt": "2020-06-23T00:25:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM2MDIxOQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444360219", "bodyText": "Hi @romartin reverted. The first PR relied on this class and modified it, I refactored it and removed the changes, but seems I left a couple of lines, reverted now", "author": "inodeman", "createdAt": "2020-06-23T16:39:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNjUxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNzc1MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434917750", "bodyText": "no need for even variable creation, this argument and below ones can be inlined in the constructor for AssignmentData (eg: datainput != null ? datainput : null)", "author": "romartin", "createdAt": "2020-06-03T23:51:38Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4NTM0Nw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438385347", "bodyText": "Hi @romartin (part of initial PR) this set of code was duplicate from method  public void showDataIOEditor(final String datatypes) {\nI refactored it so that it is not duplicate. On the above suggestion, seems cannot be inlined since input vars have two variables that cann affect it\nString inputvars = null;\nif (datainput != null) {\ninputvars = datainput;\n}\nif (datainputset != null) {\ninputvars = datainputset;\n}\nsame for output vars\nString outputvars = null;\nif (dataoutput != null) {\noutputvars = dataoutput;\n}\nif (dataoutputset != null) {\noutputvars = dataoutputset;\n}\nLet me know if ok", "author": "inodeman", "createdAt": "2020-06-10T20:20:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxNzc1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxODA0NQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434918045", "bodyText": "IMO no need for a helper method that calls also another single helper method...", "author": "romartin", "createdAt": "2020-06-03T23:52:37Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {\n+        Diagram diagram = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram();\n+        Node selectedElement = getSelectedElement();\n+        String variables = VariableUtils.encodeProcessVariables(diagram, selectedElement);\n+        StringBuilder sb = new StringBuilder();\n+        if (!variables.isEmpty()) {\n+            sb.append(variables);\n+        }\n+\n+        String dataObjects =\n+                findDataObjects().stream()\n+                        .map(this::dataObjectToProcessVariableFormat)\n+                        .collect(Collectors.joining(\",\"));\n+\n+        if (!dataObjects.isEmpty()) {\n+            sb.append(dataObjects);\n+        }\n+\n+        return sb.toString();\n+    }\n+\n+    protected String getDisallowedPropertyNames() {\n+        if (bpmnModel instanceof BaseUserTask) {\n+            return DEFAULT_IGNORED_PROPERTY_NAMES;\n+        } else {\n+            return \"\";\n+        }\n+    }\n+\n+    protected Node getSelectedElement() {\n+        String elementUUID = getSelectedElementUUID(canvasSessionManager.getCurrentSession());\n+        if (elementUUID != null) {\n+            return canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getGraph().getNode(elementUUID);\n+        }\n+        return null;\n+    }\n+\n+    protected Set<String> getParentIds() {\n+        Set<String> parentIds = new HashSet<>();\n+        final Node selectedElement = getSelectedElement();\n+        Element parent = GraphUtils.getParent(selectedElement);\n+\n+        if (selectedElement != null) {\n+            final String mainDiagramId = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getMetadata().getCanvasRootUUID();\n+            parentIds.add(parent.getUUID());\n+\n+            while (!parent.getUUID().equals(mainDiagramId)) {\n+                parent = getParentElement(parent.asNode());\n+                parentIds.add(parent.getUUID());\n+            }\n+        }\n+        return parentIds;\n+    }\n+\n+    private Set<DataObject> findDataObjects() {\n+        Iterable<Node> nodes = canvasSessionManager.getCurrentSession()\n+                .getCanvasHandler()\n+                .getDiagram()\n+                .getGraph()\n+                .nodes();\n+\n+        final Set<String> parentIds = getParentIds();\n+        // Only return Data Objects that have the same id as the current as the parent and its parent recursively\n+        return StreamSupport.stream(nodes.spliterator(), false)\n+                .filter(this::isBPMNDefinition)\n+                .map(elm -> (Node<View<BPMNDefinition>, Edge>) elm)\n+                .filter(elm -> {\n+                    if (elm.getContent().getDefinition() instanceof DataObject) {\n+                        final Element parent = getParentElement(elm);\n+                        if (parent == null) { // test\n+                            return true;\n+                        }\n+\n+                        return parentIds.contains(parent.getUUID());\n+                    }\n+                    return false;\n+                })\n+                .map(elm -> ((DataObject) elm.getContent().getDefinition()))\n+                .collect(Collectors.toSet());\n+    }\n+\n+    protected Element<?> getParentElement(final Node<?, ? extends Edge> element) {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4ODE1NQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438388155", "bodyText": "removed @romartin", "author": "inodeman", "createdAt": "2020-06-10T20:26:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxODA0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxODE2NQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434918165", "bodyText": "can be static", "author": "romartin", "createdAt": "2020-06-03T23:52:59Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {\n+        Diagram diagram = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram();\n+        Node selectedElement = getSelectedElement();\n+        String variables = VariableUtils.encodeProcessVariables(diagram, selectedElement);\n+        StringBuilder sb = new StringBuilder();\n+        if (!variables.isEmpty()) {\n+            sb.append(variables);\n+        }\n+\n+        String dataObjects =\n+                findDataObjects().stream()\n+                        .map(this::dataObjectToProcessVariableFormat)\n+                        .collect(Collectors.joining(\",\"));\n+\n+        if (!dataObjects.isEmpty()) {\n+            sb.append(dataObjects);\n+        }\n+\n+        return sb.toString();\n+    }\n+\n+    protected String getDisallowedPropertyNames() {\n+        if (bpmnModel instanceof BaseUserTask) {\n+            return DEFAULT_IGNORED_PROPERTY_NAMES;\n+        } else {\n+            return \"\";\n+        }\n+    }\n+\n+    protected Node getSelectedElement() {\n+        String elementUUID = getSelectedElementUUID(canvasSessionManager.getCurrentSession());\n+        if (elementUUID != null) {\n+            return canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getGraph().getNode(elementUUID);\n+        }\n+        return null;\n+    }\n+\n+    protected Set<String> getParentIds() {\n+        Set<String> parentIds = new HashSet<>();\n+        final Node selectedElement = getSelectedElement();\n+        Element parent = GraphUtils.getParent(selectedElement);\n+\n+        if (selectedElement != null) {\n+            final String mainDiagramId = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getMetadata().getCanvasRootUUID();\n+            parentIds.add(parent.getUUID());\n+\n+            while (!parent.getUUID().equals(mainDiagramId)) {\n+                parent = getParentElement(parent.asNode());\n+                parentIds.add(parent.getUUID());\n+            }\n+        }\n+        return parentIds;\n+    }\n+\n+    private Set<DataObject> findDataObjects() {\n+        Iterable<Node> nodes = canvasSessionManager.getCurrentSession()\n+                .getCanvasHandler()\n+                .getDiagram()\n+                .getGraph()\n+                .nodes();\n+\n+        final Set<String> parentIds = getParentIds();\n+        // Only return Data Objects that have the same id as the current as the parent and its parent recursively\n+        return StreamSupport.stream(nodes.spliterator(), false)\n+                .filter(this::isBPMNDefinition)\n+                .map(elm -> (Node<View<BPMNDefinition>, Edge>) elm)\n+                .filter(elm -> {\n+                    if (elm.getContent().getDefinition() instanceof DataObject) {\n+                        final Element parent = getParentElement(elm);\n+                        if (parent == null) { // test\n+                            return true;\n+                        }\n+\n+                        return parentIds.contains(parent.getUUID());\n+                    }\n+                    return false;\n+                })\n+                .map(elm -> ((DataObject) elm.getContent().getDefinition()))\n+                .collect(Collectors.toSet());\n+    }\n+\n+    protected Element<?> getParentElement(final Node<?, ? extends Edge> element) {\n+        return graphUtils.getParent(element);\n+    }\n+\n+    private String dataObjectToProcessVariableFormat(DataObject dataObject) {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4ODU4MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438388580", "bodyText": "changed to static @romartin", "author": "inodeman", "createdAt": "2020-06-10T20:27:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxODE2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxODUyMQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434918521", "bodyText": "no longer need for using StringBuilder class... it's redundant and causing complexity. The complier / transpiler already will do it efficiently even if you just concatenate strings... this way we can reduce all these lines into a single return line, isn't it?", "author": "romartin", "createdAt": "2020-06-03T23:54:22Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {\n+        Diagram diagram = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram();\n+        Node selectedElement = getSelectedElement();\n+        String variables = VariableUtils.encodeProcessVariables(diagram, selectedElement);\n+        StringBuilder sb = new StringBuilder();\n+        if (!variables.isEmpty()) {\n+            sb.append(variables);\n+        }\n+\n+        String dataObjects =\n+                findDataObjects().stream()\n+                        .map(this::dataObjectToProcessVariableFormat)\n+                        .collect(Collectors.joining(\",\"));\n+\n+        if (!dataObjects.isEmpty()) {\n+            sb.append(dataObjects);\n+        }\n+\n+        return sb.toString();\n+    }\n+\n+    protected String getDisallowedPropertyNames() {\n+        if (bpmnModel instanceof BaseUserTask) {\n+            return DEFAULT_IGNORED_PROPERTY_NAMES;\n+        } else {\n+            return \"\";\n+        }\n+    }\n+\n+    protected Node getSelectedElement() {\n+        String elementUUID = getSelectedElementUUID(canvasSessionManager.getCurrentSession());\n+        if (elementUUID != null) {\n+            return canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getGraph().getNode(elementUUID);\n+        }\n+        return null;\n+    }\n+\n+    protected Set<String> getParentIds() {\n+        Set<String> parentIds = new HashSet<>();\n+        final Node selectedElement = getSelectedElement();\n+        Element parent = GraphUtils.getParent(selectedElement);\n+\n+        if (selectedElement != null) {\n+            final String mainDiagramId = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getMetadata().getCanvasRootUUID();\n+            parentIds.add(parent.getUUID());\n+\n+            while (!parent.getUUID().equals(mainDiagramId)) {\n+                parent = getParentElement(parent.asNode());\n+                parentIds.add(parent.getUUID());\n+            }\n+        }\n+        return parentIds;\n+    }\n+\n+    private Set<DataObject> findDataObjects() {\n+        Iterable<Node> nodes = canvasSessionManager.getCurrentSession()\n+                .getCanvasHandler()\n+                .getDiagram()\n+                .getGraph()\n+                .nodes();\n+\n+        final Set<String> parentIds = getParentIds();\n+        // Only return Data Objects that have the same id as the current as the parent and its parent recursively\n+        return StreamSupport.stream(nodes.spliterator(), false)\n+                .filter(this::isBPMNDefinition)\n+                .map(elm -> (Node<View<BPMNDefinition>, Edge>) elm)\n+                .filter(elm -> {\n+                    if (elm.getContent().getDefinition() instanceof DataObject) {\n+                        final Element parent = getParentElement(elm);\n+                        if (parent == null) { // test\n+                            return true;\n+                        }\n+\n+                        return parentIds.contains(parent.getUUID());\n+                    }\n+                    return false;\n+                })\n+                .map(elm -> ((DataObject) elm.getContent().getDefinition()))\n+                .collect(Collectors.toSet());\n+    }\n+\n+    protected Element<?> getParentElement(final Node<?, ? extends Edge> element) {\n+        return graphUtils.getParent(element);\n+    }\n+\n+    private String dataObjectToProcessVariableFormat(DataObject dataObject) {\n+        StringBuilder builder = new StringBuilder();", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4OTc4Nw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438389787", "bodyText": "changed @romartin", "author": "inodeman", "createdAt": "2020-06-10T20:29:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxODUyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTAxMA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434919010", "bodyText": "Maybe we can move this method into some helper class as an static method as well, in the BPMN modules, which receives the diagram or canvasHandler as argument, so you can call it from here by passing the instance returned by the sessionManager.getCurrentSession()", "author": "romartin", "createdAt": "2020-06-03T23:55:58Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {\n+        Diagram diagram = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram();\n+        Node selectedElement = getSelectedElement();\n+        String variables = VariableUtils.encodeProcessVariables(diagram, selectedElement);\n+        StringBuilder sb = new StringBuilder();\n+        if (!variables.isEmpty()) {\n+            sb.append(variables);\n+        }\n+\n+        String dataObjects =\n+                findDataObjects().stream()\n+                        .map(this::dataObjectToProcessVariableFormat)\n+                        .collect(Collectors.joining(\",\"));\n+\n+        if (!dataObjects.isEmpty()) {\n+            sb.append(dataObjects);\n+        }\n+\n+        return sb.toString();\n+    }\n+\n+    protected String getDisallowedPropertyNames() {\n+        if (bpmnModel instanceof BaseUserTask) {\n+            return DEFAULT_IGNORED_PROPERTY_NAMES;\n+        } else {\n+            return \"\";\n+        }\n+    }\n+\n+    protected Node getSelectedElement() {\n+        String elementUUID = getSelectedElementUUID(canvasSessionManager.getCurrentSession());\n+        if (elementUUID != null) {\n+            return canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getGraph().getNode(elementUUID);\n+        }\n+        return null;\n+    }\n+\n+    protected Set<String> getParentIds() {\n+        Set<String> parentIds = new HashSet<>();\n+        final Node selectedElement = getSelectedElement();\n+        Element parent = GraphUtils.getParent(selectedElement);\n+\n+        if (selectedElement != null) {\n+            final String mainDiagramId = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getMetadata().getCanvasRootUUID();\n+            parentIds.add(parent.getUUID());\n+\n+            while (!parent.getUUID().equals(mainDiagramId)) {\n+                parent = getParentElement(parent.asNode());\n+                parentIds.add(parent.getUUID());\n+            }\n+        }\n+        return parentIds;\n+    }\n+\n+    private Set<DataObject> findDataObjects() {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MTA4Nw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438391087", "bodyText": "Hi @romartin good idea, what class should it be moved to?", "author": "inodeman", "createdAt": "2020-06-10T20:31:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTAxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5OTE4NQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443899185", "bodyText": "bpmn-api maybe?", "author": "romartin", "createdAt": "2020-06-23T00:42:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTAxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM5MDM3Ng==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444390376", "bodyText": "Hi @romartin moved now to bpmn-api module (DataObjectUtils)", "author": "inodeman", "createdAt": "2020-06-23T17:29:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTAxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTIxNQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434919215", "bodyText": "can it be moved to some helper class for BPMN, which receives the diagram from here?", "author": "romartin", "createdAt": "2020-06-03T23:56:46Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MTE0Mg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438391142", "bodyText": "Hi @romartin good idea, what class should it be moved to?", "author": "inodeman", "createdAt": "2020-06-10T20:32:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTIxNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NzU3MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443897570", "bodyText": "if the helper method just relies on the domain model, on the process structure, it's fine moving it to the bpmn-api module, because all the domain model stuff is in the api module, also we can reuse it from both server and client side.", "author": "romartin", "createdAt": "2020-06-23T00:36:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTIxNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM5MTc0Ng==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444391746", "bodyText": "Hi @romartin findDataObjects moved to DataObjectUtils in bpmn-api module", "author": "inodeman", "createdAt": "2020-06-23T17:32:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTIxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTM2MQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434919361", "bodyText": "can it be private", "author": "romartin", "createdAt": "2020-06-03T23:57:22Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {\n+        Diagram diagram = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram();\n+        Node selectedElement = getSelectedElement();\n+        String variables = VariableUtils.encodeProcessVariables(diagram, selectedElement);\n+        StringBuilder sb = new StringBuilder();\n+        if (!variables.isEmpty()) {\n+            sb.append(variables);\n+        }\n+\n+        String dataObjects =\n+                findDataObjects().stream()\n+                        .map(this::dataObjectToProcessVariableFormat)\n+                        .collect(Collectors.joining(\",\"));\n+\n+        if (!dataObjects.isEmpty()) {\n+            sb.append(dataObjects);\n+        }\n+\n+        return sb.toString();\n+    }\n+\n+    protected String getDisallowedPropertyNames() {\n+        if (bpmnModel instanceof BaseUserTask) {\n+            return DEFAULT_IGNORED_PROPERTY_NAMES;\n+        } else {\n+            return \"\";\n+        }\n+    }\n+\n+    protected Node getSelectedElement() {\n+        String elementUUID = getSelectedElementUUID(canvasSessionManager.getCurrentSession());\n+        if (elementUUID != null) {\n+            return canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getGraph().getNode(elementUUID);\n+        }\n+        return null;\n+    }\n+\n+    protected Set<String> getParentIds() {\n+        Set<String> parentIds = new HashSet<>();\n+        final Node selectedElement = getSelectedElement();\n+        Element parent = GraphUtils.getParent(selectedElement);\n+\n+        if (selectedElement != null) {\n+            final String mainDiagramId = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getMetadata().getCanvasRootUUID();\n+            parentIds.add(parent.getUUID());\n+\n+            while (!parent.getUUID().equals(mainDiagramId)) {\n+                parent = getParentElement(parent.asNode());\n+                parentIds.add(parent.getUUID());\n+            }\n+        }\n+        return parentIds;\n+    }\n+\n+    private Set<DataObject> findDataObjects() {\n+        Iterable<Node> nodes = canvasSessionManager.getCurrentSession()\n+                .getCanvasHandler()\n+                .getDiagram()\n+                .getGraph()\n+                .nodes();\n+\n+        final Set<String> parentIds = getParentIds();\n+        // Only return Data Objects that have the same id as the current as the parent and its parent recursively\n+        return StreamSupport.stream(nodes.spliterator(), false)\n+                .filter(this::isBPMNDefinition)\n+                .map(elm -> (Node<View<BPMNDefinition>, Edge>) elm)\n+                .filter(elm -> {\n+                    if (elm.getContent().getDefinition() instanceof DataObject) {\n+                        final Element parent = getParentElement(elm);\n+                        if (parent == null) { // test\n+                            return true;\n+                        }\n+\n+                        return parentIds.contains(parent.getUUID());\n+                    }\n+                    return false;\n+                })\n+                .map(elm -> ((DataObject) elm.getContent().getDefinition()))\n+                .collect(Collectors.toSet());\n+    }\n+\n+    protected Element<?> getParentElement(final Node<?, ? extends Edge> element) {\n+        return graphUtils.getParent(element);\n+    }\n+\n+    private String dataObjectToProcessVariableFormat(DataObject dataObject) {\n+        StringBuilder builder = new StringBuilder();\n+        builder.append(dataObject.getName().getValue());\n+        builder.append(\":\");\n+        builder.append(dataObject.getType().getValue().getType());\n+        return builder.toString();\n+    }\n+\n+    protected String getSelectedElementUUID(ClientSession clientSession) {\n+        if (clientSession instanceof EditorSession) {\n+            final SelectionControl selectionControl = ((EditorSession) clientSession).getSelectionControl();\n+            if (null != selectionControl) {\n+                final Collection<String> selectedItems = selectionControl.getSelectedItems();\n+                if (null != selectedItems && !selectedItems.isEmpty()) {\n+                    return selectedItems.iterator().next();\n+                }\n+            }\n+        }\n+        return null;\n+    }\n+\n+    protected boolean isBPMNDefinition(Node node) {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MDcwNQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438390705", "bodyText": "Hi @romartin currently used in tests", "author": "inodeman", "createdAt": "2020-06-10T20:31:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTM2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ0NA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434919444", "bodyText": "can it be private", "author": "romartin", "createdAt": "2020-06-03T23:57:40Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {\n+        Diagram diagram = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram();\n+        Node selectedElement = getSelectedElement();\n+        String variables = VariableUtils.encodeProcessVariables(diagram, selectedElement);\n+        StringBuilder sb = new StringBuilder();\n+        if (!variables.isEmpty()) {\n+            sb.append(variables);\n+        }\n+\n+        String dataObjects =\n+                findDataObjects().stream()\n+                        .map(this::dataObjectToProcessVariableFormat)\n+                        .collect(Collectors.joining(\",\"));\n+\n+        if (!dataObjects.isEmpty()) {\n+            sb.append(dataObjects);\n+        }\n+\n+        return sb.toString();\n+    }\n+\n+    protected String getDisallowedPropertyNames() {\n+        if (bpmnModel instanceof BaseUserTask) {\n+            return DEFAULT_IGNORED_PROPERTY_NAMES;\n+        } else {\n+            return \"\";\n+        }\n+    }\n+\n+    protected Node getSelectedElement() {\n+        String elementUUID = getSelectedElementUUID(canvasSessionManager.getCurrentSession());\n+        if (elementUUID != null) {\n+            return canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram().getGraph().getNode(elementUUID);\n+        }\n+        return null;\n+    }\n+\n+    protected Set<String> getParentIds() {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MTM3NA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438391374", "bodyText": "Hi @romartin currently used in tests", "author": "inodeman", "createdAt": "2020-06-10T20:32:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NzY2OQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443897669", "bodyText": "it can be package protected access maybe?", "author": "romartin", "createdAt": "2020-06-23T00:36:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM5MjU3OA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444392578", "bodyText": "Hi @romartin changed now", "author": "inodeman", "createdAt": "2020-06-23T17:33:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ2Mg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434919462", "bodyText": "can it be private", "author": "romartin", "createdAt": "2020-06-03T23:57:44Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,\n+                                             final String datainputset,\n+                                             final String dataoutput,\n+                                             final String dataoutputset,\n+                                             final String processvars,\n+                                             final String assignments,\n+                                             final String disallowedpropertynames) {\n+        String inputvars = null;\n+        if (datainput != null) {\n+            inputvars = datainput;\n+        }\n+        if (datainputset != null) {\n+            inputvars = datainputset;\n+        }\n+        String outputvars = null;\n+        if (dataoutput != null) {\n+            outputvars = dataoutput;\n+        }\n+        if (dataoutputset != null) {\n+            outputvars = dataoutputset;\n+        }\n+        AssignmentData assignmentData = new AssignmentData(inputvars,\n+                                                           outputvars,\n+                                                           processvars,\n+                                                           assignments,\n+                                                           disallowedpropertynames);\n+        return assignmentData.getVariableCountsString(hasInputVars,\n+                                                      isSingleInputVar,\n+                                                      hasOutputVars,\n+                                                      isSingleOutputVar);\n+    }\n+\n+    protected String getProcessVariables() {\n+        Diagram diagram = canvasSessionManager.getCurrentSession().getCanvasHandler().getDiagram();\n+        Node selectedElement = getSelectedElement();\n+        String variables = VariableUtils.encodeProcessVariables(diagram, selectedElement);\n+        StringBuilder sb = new StringBuilder();\n+        if (!variables.isEmpty()) {\n+            sb.append(variables);\n+        }\n+\n+        String dataObjects =\n+                findDataObjects().stream()\n+                        .map(this::dataObjectToProcessVariableFormat)\n+                        .collect(Collectors.joining(\",\"));\n+\n+        if (!dataObjects.isEmpty()) {\n+            sb.append(dataObjects);\n+        }\n+\n+        return sb.toString();\n+    }\n+\n+    protected String getDisallowedPropertyNames() {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MTYzNg==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438391636", "bodyText": "Hi @romartin currently used in tests", "author": "inodeman", "createdAt": "2020-06-10T20:32:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NzY5Mw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443897693", "bodyText": "it can be package protected access maybe?", "author": "romartin", "createdAt": "2020-06-23T00:37:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ2Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM5MzA4Mw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444393083", "bodyText": "Hi @romartin changed now", "author": "inodeman", "createdAt": "2020-06-23T17:34:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTQ2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTUxMA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434919510", "bodyText": "can it be private", "author": "romartin", "createdAt": "2020-06-03T23:57:53Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {\n+\n+        Map<String, String> assignmentsProperties = AssignmentParser.parseAssignmentsInfo(assignmentsInfo);\n+\n+        String variableCountsString = getVariableCountsString(assignmentsProperties.get(AssignmentParser.DATAINPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAINPUTSET),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUT),\n+                                                              assignmentsProperties.get(AssignmentParser.DATAOUTPUTSET),\n+                                                              getProcessVariables(),\n+                                                              assignmentsProperties.get(AssignmentParser.ASSIGNMENTS),\n+                                                              getDisallowedPropertyNames());\n+        assignmentsTextBox.setText(variableCountsString);\n+    }\n+\n+    protected String getVariableCountsString(final String datainput,", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MTg3Mw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438391873", "bodyText": "Hi @romartin currently used in tests", "author": "inodeman", "createdAt": "2020-06-10T20:33:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTUxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NTA4MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443895080", "bodyText": "can it be package protected (no access modifier) then?", "author": "romartin", "createdAt": "2020-06-23T00:27:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTUxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM5MzU4Nw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444393587", "bodyText": "Hi @romartin changed now", "author": "inodeman", "createdAt": "2020-06-23T17:35:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTUxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTU2OQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434919569", "bodyText": "can it be private", "author": "romartin", "createdAt": "2020-06-03T23:58:03Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/assignmentsEditor/AssignmentsEditorWidget.java", "diffHunk": "@@ -142,6 +152,163 @@ public void setValue(final String value,\n         }\n     }\n \n+    protected void initTextBox() {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5MjE5OQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438392199", "bodyText": "hi @romartin changed to private", "author": "inodeman", "createdAt": "2020-06-10T20:34:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxOTU2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyMDEyMw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434920123", "bodyText": "please still better using a org.jboss.errai.ioc.client.api.ManagedInstance instead of a regular Instance, for the injection points on client side.", "author": "romartin", "createdAt": "2020-06-04T00:00:08Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-core/kie-wb-common-stunner-commons/kie-wb-common-stunner-client-common/src/main/java/org/kie/workbench/common/stunner/core/client/validation/ClientDiagramValidator.java", "diffHunk": "@@ -40,10 +43,12 @@ protected ClientDiagramValidator() {\n     public ClientDiagramValidator(final DefinitionManager definitionManager,\n                                   final RuleManager ruleManager,\n                                   final TreeWalkTraverseProcessor treeWalkTraverseProcessor,\n-                                  final ModelValidator modelValidator) {\n+                                  final ModelValidator modelValidator,\n+                                  final Instance<DomainValidator> validators) {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA5OTkzMQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r439099931", "bodyText": "Hi @romartin changed to ManagedInstance", "author": "inodeman", "createdAt": "2020-06-11T22:11:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyMDEyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyMDQ3NA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r434920474", "bodyText": "can it be static?", "author": "romartin", "createdAt": "2020-06-04T00:01:22Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-core/kie-wb-common-stunner-commons/kie-wb-common-stunner-core-common/src/main/java/org/kie/workbench/common/stunner/core/validation/impl/AbstractDiagramValidator.java", "diffHunk": "@@ -46,14 +54,38 @@\n     private final GraphValidatorImpl graphValidator;\n     private final ModelValidator modelValidator;\n \n+    private final Instance<DomainValidator> validators;\n+\n     protected AbstractDiagramValidator(final DefinitionManager definitionManager,\n                                        final RuleManager ruleManager,\n                                        final TreeWalkTraverseProcessor treeWalkTraverseProcessor,\n-                                       final ModelValidator modelValidator) {\n+                                       final ModelValidator modelValidator,\n+                                       final Instance<DomainValidator> validators) {\n+\n         this.graphValidator = new GraphValidatorImpl(definitionManager,\n                                                      ruleManager,\n                                                      treeWalkTraverseProcessor);\n         this.modelValidator = modelValidator;\n+        this.validators = validators;\n+    }\n+\n+    private Collection<DiagramElementViolation<RuleViolation>> validateDomain(Diagram diagram) {", "originalCommit": "42b79557f958dd272fdeac77e8e60e178591fd03", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQxMjE5MQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r438412191", "bodyText": "Hi @romartin tried, but uses some instance methods.", "author": "inodeman", "createdAt": "2020-06-10T21:14:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyMDQ3NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NTE4MA==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443895180", "bodyText": "oh sorry, right", "author": "romartin", "createdAt": "2020-06-23T00:27:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkyMDQ3NA=="}], "type": "inlineReview"}, {"oid": "bda24a880c79df7996db61d1f2389ad0c2d8a09c", "url": "https://github.com/kiegroup/kie-wb-common/commit/bda24a880c79df7996db61d1f2389ad0c2d8a09c", "message": "fixup! JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association", "committedDate": "2020-06-05T15:29:26Z", "type": "forcePushed"}, {"oid": "7174a0ae9ce84632b3a01777a0551e86077260a7", "url": "https://github.com/kiegroup/kie-wb-common/commit/7174a0ae9ce84632b3a01777a0551e86077260a7", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Change for Escaping Characters", "committedDate": "2020-06-05T22:37:34Z", "type": "forcePushed"}, {"oid": "30e330c1b49581c297968a0092f2d8ff597ebbaf", "url": "https://github.com/kiegroup/kie-wb-common/commit/30e330c1b49581c297968a0092f2d8ff597ebbaf", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Change for Escaping Characters / Default Category and Blue Selection of Data Objects", "committedDate": "2020-06-09T22:31:15Z", "type": "forcePushed"}, {"oid": "5b55132b139ebb1184980855ed04b51fb963b0be", "url": "https://github.com/kiegroup/kie-wb-common/commit/5b55132b139ebb1184980855ed04b51fb963b0be", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-06-10T21:15:48Z", "type": "forcePushed"}, {"oid": "450c1accb5c919f93b74e2f2e1271ca6f0a055ac", "url": "https://github.com/kiegroup/kie-wb-common/commit/450c1accb5c919f93b74e2f2e1271ca6f0a055ac", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-06-11T19:30:23Z", "type": "forcePushed"}, {"oid": "4f5bb7916382abbb4f230eb07819f7a4cf7d7f1c", "url": "https://github.com/kiegroup/kie-wb-common/commit/4f5bb7916382abbb4f230eb07819f7a4cf7d7f1c", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-06-15T17:08:19Z", "type": "forcePushed"}, {"oid": "5ac93723159140cbbd43e50b92ee42eff6895780", "url": "https://github.com/kiegroup/kie-wb-common/commit/5ac93723159140cbbd43e50b92ee42eff6895780", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Changed Data Object Type to Same as Variables Used Everywhere", "committedDate": "2020-06-17T23:51:52Z", "type": "forcePushed"}, {"oid": "1693dfff07f358ef9d0d79a57dea9a23195271e0", "url": "https://github.com/kiegroup/kie-wb-common/commit/1693dfff07f358ef9d0d79a57dea9a23195271e0", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Bug in BC when saving SVG File and issue with curves and Data Object Type Issue", "committedDate": "2020-06-19T00:06:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NDgyNw==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r443894827", "bodyText": "please let's avoid changing this file at all, it's auto generated and no need for having changes in the VCS history...", "author": "romartin", "createdAt": "2020-06-23T00:26:19Z", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-emf/src/main/java/org/eclipse/bpmn2/impl/DataObjectImpl.java", "diffHunk": "@@ -1,15 +1,15 @@\n /**\n  * <copyright>\n- * \n+ *", "originalCommit": "dd7758b3b0aeae939506140c8743328d93fd70e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM5MzkyNQ==", "url": "https://github.com/kiegroup/kie-wb-common/pull/3276#discussion_r444393925", "bodyText": "Hi @romartin reverted back", "author": "inodeman", "createdAt": "2020-06-23T17:36:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg5NDgyNw=="}], "type": "inlineReview"}, {"oid": "e0533b3165b3cfbf6dcd757791bf46eadd14d979", "url": "https://github.com/kiegroup/kie-wb-common/commit/e0533b3165b3cfbf6dcd757791bf46eadd14d979", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Additional Issues", "committedDate": "2020-06-30T18:37:00Z", "type": "forcePushed"}, {"oid": "0fc7337cdf67f0a413fb6d51f74d32856bcdc67d", "url": "https://github.com/kiegroup/kie-wb-common/commit/0fc7337cdf67f0a413fb6d51f74d32856bcdc67d", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Additional Issues", "committedDate": "2020-07-14T23:36:53Z", "type": "forcePushed"}, {"oid": "19ffa7306faf681b8ae5054b7e3fd5975745e3a3", "url": "https://github.com/kiegroup/kie-wb-common/commit/19ffa7306faf681b8ae5054b7e3fd5975745e3a3", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association", "committedDate": "2020-07-16T20:13:10Z", "type": "commit"}, {"oid": "f307d5e4544acc6ee2a09eb1ef0880d6bb06d2fe", "url": "https://github.com/kiegroup/kie-wb-common/commit/f307d5e4544acc6ee2a09eb1ef0880d6bb06d2fe", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Added Support for Lanes", "committedDate": "2020-07-16T20:13:10Z", "type": "commit"}, {"oid": "b81a196d2ad9fddbf2df6e35f901294d7406be93", "url": "https://github.com/kiegroup/kie-wb-common/commit/b81a196d2ad9fddbf2df6e35f901294d7406be93", "message": "fixup! JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association", "committedDate": "2020-07-16T20:13:10Z", "type": "commit"}, {"oid": "136ef700bdd71f163585ae0f7b37846d9ed2c487", "url": "https://github.com/kiegroup/kie-wb-common/commit/136ef700bdd71f163585ae0f7b37846d9ed2c487", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Change for Escaping Characters", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "4b5e8fdc451ece7a5daf711cda3458bdad565e74", "url": "https://github.com/kiegroup/kie-wb-common/commit/4b5e8fdc451ece7a5daf711cda3458bdad565e74", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Change for Escaping Characters", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "7d57f9c2770d8cec658bc133a3d68d98d27158bf", "url": "https://github.com/kiegroup/kie-wb-common/commit/7d57f9c2770d8cec658bc133a3d68d98d27158bf", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Change for Escaping Characters / Default Category and Blue Selection of Data Objects", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "5d3199132b9c1897d5a077a076ad1a21ad75351f", "url": "https://github.com/kiegroup/kie-wb-common/commit/5d3199132b9c1897d5a077a076ad1a21ad75351f", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Added Fix for Case Management Bug / DataObjects Blue Selection Border", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "3b356206cd1f9dd21c28f1324f166457cdfc3c17", "url": "https://github.com/kiegroup/kie-wb-common/commit/3b356206cd1f9dd21c28f1324f166457cdfc3c17", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "6f9d5ebba7568f50ebddde988ca3d39f7c499cb0", "url": "https://github.com/kiegroup/kie-wb-common/commit/6f9d5ebba7568f50ebddde988ca3d39f7c499cb0", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "21b2d29935d336d30f9cd7b1fcaada63e7812ec3", "url": "https://github.com/kiegroup/kie-wb-common/commit/21b2d29935d336d30f9cd7b1fcaada63e7812ec3", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "a46c6258cfb07638c3762a5a11b248908f027102", "url": "https://github.com/kiegroup/kie-wb-common/commit/a46c6258cfb07638c3762a5a11b248908f027102", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "38d2202e3fecc03a1b99bc2d80807c44bed62a9b", "url": "https://github.com/kiegroup/kie-wb-common/commit/38d2202e3fecc03a1b99bc2d80807c44bed62a9b", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "7c55c753da1727d0253d3a493e2eab7d9ac69a78", "url": "https://github.com/kiegroup/kie-wb-common/commit/7c55c753da1727d0253d3a493e2eab7d9ac69a78", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "eb837e38b62063f6433e06861e4981ce01cb1f66", "url": "https://github.com/kiegroup/kie-wb-common/commit/eb837e38b62063f6433e06861e4981ce01cb1f66", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Review Comments", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "9fb9d9f821ff65b48401e99cb60b04a9238d81ae", "url": "https://github.com/kiegroup/kie-wb-common/commit/9fb9d9f821ff65b48401e99cb60b04a9238d81ae", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed SVG File issues (Background, folding part having a color and rounding corners via SVG Paths", "committedDate": "2020-07-16T20:13:11Z", "type": "commit"}, {"oid": "7a245c515cab7b21e38d1658ccd4c1aeca0a2200", "url": "https://github.com/kiegroup/kie-wb-common/commit/7a245c515cab7b21e38d1658ccd4c1aeca0a2200", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Changed Data Object Type to Same as Variables Used Everywhere", "committedDate": "2020-07-16T20:13:12Z", "type": "commit"}, {"oid": "3ea68be78991b2e0670c27a3835ac20b12f5054d", "url": "https://github.com/kiegroup/kie-wb-common/commit/3ea68be78991b2e0670c27a3835ac20b12f5054d", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Bug in BC when saving SVG File and issue with curves", "committedDate": "2020-07-16T20:13:12Z", "type": "commit"}, {"oid": "0fe0b023a0e3a86086ce6921efc921d28e2197bd", "url": "https://github.com/kiegroup/kie-wb-common/commit/0fe0b023a0e3a86086ce6921efc921d28e2197bd", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Bug in BC when saving SVG File and issue with curves and Data Object Type Issue", "committedDate": "2020-07-16T20:13:12Z", "type": "commit"}, {"oid": "8dfeffd1941302fe47b64c880b07e40b6d349b3e", "url": "https://github.com/kiegroup/kie-wb-common/commit/8dfeffd1941302fe47b64c880b07e40b6d349b3e", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Bug in BC when saving SVG File and issue with curves and Data Object Type Issue", "committedDate": "2020-07-16T20:13:12Z", "type": "commit"}, {"oid": "ee626e05ec65dd5643ba47a7e9f5317e60e08023", "url": "https://github.com/kiegroup/kie-wb-common/commit/ee626e05ec65dd5643ba47a7e9f5317e60e08023", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Modified for Comments", "committedDate": "2020-07-16T20:13:12Z", "type": "commit"}, {"oid": "c098a7b876780acdc06d57b6bf988b032531da08", "url": "https://github.com/kiegroup/kie-wb-common/commit/c098a7b876780acdc06d57b6bf988b032531da08", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Additional Issues", "committedDate": "2020-07-16T20:13:12Z", "type": "commit"}, {"oid": "7bba0d225052af693aff26f534eb8615d72e2e2b", "url": "https://github.com/kiegroup/kie-wb-common/commit/7bba0d225052af693aff26f534eb8615d72e2e2b", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Additional Issues", "committedDate": "2020-07-16T20:13:12Z", "type": "commit"}, {"oid": "7bba0d225052af693aff26f534eb8615d72e2e2b", "url": "https://github.com/kiegroup/kie-wb-common/commit/7bba0d225052af693aff26f534eb8615d72e2e2b", "message": "JBPM-7919 : Stunner - [BPMN] Support for Data Object and Association Fixed Additional Issues", "committedDate": "2020-07-16T20:13:12Z", "type": "forcePushed"}]}