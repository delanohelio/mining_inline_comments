{"pr_number": 966, "pr_title": "Fix crash on redirect when no activity available", "pr_createdAt": "2020-03-06T03:54:33Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/966", "timeline": [{"oid": "5265d80b000e32239ec69b9473f873eede172c89", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/5265d80b000e32239ec69b9473f873eede172c89", "message": "Don't start activity if response intent is null", "committedDate": "2020-03-06T03:51:26Z", "type": "commit"}, {"oid": "980cfdf42b5613fc79ff7a15e9d3ddc44f979bcc", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/980cfdf42b5613fc79ff7a15e9d3ddc44f979bcc", "message": "Update submodule", "committedDate": "2020-03-06T03:52:34Z", "type": "commit"}, {"oid": "ff131e0af38a5ec59a8e80a5009245f809d7c7cc", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/commit/ff131e0af38a5ec59a8e80a5009245f809d7c7cc", "message": "Update submodule", "committedDate": "2020-03-06T21:26:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE2ODk3Nw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/966#discussion_r389168977", "bodyText": "We might not want to pop this toast as it will be visible (and potentially confusing) to end users.", "author": "rpdome", "createdAt": "2020-03-06T22:11:29Z", "path": "msal/src/main/java/com/microsoft/identity/client/BrowserTabActivity.java", "diffHunk": "@@ -53,15 +56,21 @@\n  * </pre>\n  */\n public final class BrowserTabActivity extends Activity {\n-    //private static final String TAG = BrowserTabActivity.class.getSimpleName();\n+    private static final String TAG = BrowserTabActivity.class.getSimpleName();\n \n     @Override\n     protected void onCreate(final Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         if (savedInstanceState == null\n                 && getIntent() != null\n                 && !StringUtil.isEmpty(getIntent().getDataString())) {\n-            startActivity(BrowserAuthorizationFragment.createCustomTabResponseIntent(this, getIntent().getDataString()));\n+            final Intent responseIntent = BrowserAuthorizationFragment.createCustomTabResponseIntent(this, getIntent().getDataString());\n+            if (responseIntent != null) {\n+                startActivity(responseIntent);\n+            } else {\n+                Logger.warn(TAG, \"Received NULL response intent. Unable to complete authorization.\");\n+                Toast.makeText(getApplicationContext(), \"Unable to complete authorization as there is no interactive call in progress. This can be due to closing the app while the authorization was in process.\", Toast.LENGTH_LONG).show();", "originalCommit": "ff131e0af38a5ec59a8e80a5009245f809d7c7cc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE2OTcxMg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-for-android/pull/966#discussion_r389169712", "bodyText": "I agree with you. I'll probably remove this when it actually goes in prod, but for now this is going to be on a private build.", "author": "shahzaibj", "createdAt": "2020-03-06T22:13:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE2ODk3Nw=="}], "type": "inlineReview"}]}