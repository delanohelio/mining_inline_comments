{"pr_number": 5065, "pr_title": "Modernize build status and weather icons", "pr_createdAt": "2020-11-20T16:50:22Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/5065", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzgyMzE5OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r527823199", "bodyText": "inlined from https://github.com/jenkinsci/icon-shim-plugin/tree/master/icon-set/src/main/java/org/jenkins/ui/icon\nnot sure on the reasoning for extracting but it makes it a huge pain to update these if it's in a separate repo", "author": "timja", "createdAt": "2020-11-20T16:51:14Z", "path": "core/src/main/java/org/jenkins/ui/icon/Icon.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2004-2009, Sun Microsystems, Inc., Kohsuke Kawaguchi\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package org.jenkins.ui.icon;\n+\n+import org.apache.commons.jelly.JellyContext;\n+\n+import java.io.Serializable;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Comparator;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+\n+/**\n+ * Simple icon metadata class.\n+ *\n+ * @author <a href=\"mailto:tom.fennelly@gmail.com\">tom.fennelly@gmail.com</a>\n+ */\n+public class Icon {", "originalCommit": "bd6813472288693a72de80e3076a3a6f3d51cbdb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzgyNjY5Ng==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r527826696", "bodyText": "IIRC the idea was to allow plugins to support it without needing a core dependency update, I expect there'll still be decision traces around.", "author": "daniel-beck", "createdAt": "2020-11-20T16:55:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzgyMzE5OQ=="}], "type": "inlineReview"}, {"oid": "4c27438ea80def86ae33af191ed43048e58e2003", "url": "https://github.com/jenkinsci/jenkins/commit/4c27438ea80def86ae33af191ed43048e58e2003", "message": "Inline icon-set lib", "committedDate": "2020-11-23T07:59:34Z", "type": "commit"}, {"oid": "d556c7414d8271854be8b4fb204c7fb047d92a79", "url": "https://github.com/jenkinsci/jenkins/commit/d556c7414d8271854be8b4fb204c7fb047d92a79", "message": "Add @since 2.0\n\nCo-authored-by: Jesse Glick <jglick@cloudbees.com>", "committedDate": "2020-11-23T14:26:59Z", "type": "commit"}, {"oid": "472804c663ee71fee0236d3328926b87b1ab78fe", "url": "https://github.com/jenkinsci/jenkins/commit/472804c663ee71fee0236d3328926b87b1ab78fe", "message": "Merge branch 'master' into inline-icon-set-lib", "committedDate": "2020-11-27T15:28:05Z", "type": "commit"}, {"oid": "8ea006f7474aa49ce5b7aeb625feb6d8755db522", "url": "https://github.com/jenkinsci/jenkins/commit/8ea006f7474aa49ce5b7aeb625feb6d8755db522", "message": "Merge branch 'master' into inline-icon-set-lib", "committedDate": "2020-11-27T15:28:18Z", "type": "commit"}, {"oid": "d4d40a11049265120d78a8efd8c5816d7b581373", "url": "https://github.com/jenkinsci/jenkins/commit/d4d40a11049265120d78a8efd8c5816d7b581373", "message": "Merge branch 'inline-icon-set-lib' of github.com:timja/jenkins into inline-icon-set-lib", "committedDate": "2020-11-27T16:25:07Z", "type": "commit"}, {"oid": "7206870fad3865f103d4e5e5916d2f00536d8412", "url": "https://github.com/jenkinsci/jenkins/commit/7206870fad3865f103d4e5e5916d2f00536d8412", "message": "Downgrade iconset to 1.0.5 version", "committedDate": "2020-11-27T17:05:25Z", "type": "commit"}, {"oid": "913c52b29fa05c9ef5ab96a64e481177bcffb5f9", "url": "https://github.com/jenkinsci/jenkins/commit/913c52b29fa05c9ef5ab96a64e481177bcffb5f9", "message": "Fix javadoc", "committedDate": "2020-11-27T20:24:11Z", "type": "commit"}, {"oid": "b07e1654c94561f45243181cc7edec363a018ac1", "url": "https://github.com/jenkinsci/jenkins/commit/b07e1654c94561f45243181cc7edec363a018ac1", "message": "Missed one javadoc error", "committedDate": "2020-11-28T09:02:00Z", "type": "commit"}, {"oid": "a2f3dd3a7f2d26e350f476b718be8d77c8e64d02", "url": "https://github.com/jenkinsci/jenkins/commit/a2f3dd3a7f2d26e350f476b718be8d77c8e64d02", "message": "Revert manage changes", "committedDate": "2020-11-28T20:25:47Z", "type": "forcePushed"}, {"oid": "dd1b73a29c06b37be10fc50f4f8fe1056d1a3172", "url": "https://github.com/jenkinsci/jenkins/commit/dd1b73a29c06b37be10fc50f4f8fe1056d1a3172", "message": "Add support for svg icons in actions", "committedDate": "2020-11-28T22:04:26Z", "type": "forcePushed"}, {"oid": "43b1e7c655f0bf495c10e1299ae03efff6aec8b7", "url": "https://github.com/jenkinsci/jenkins/commit/43b1e7c655f0bf495c10e1299ae03efff6aec8b7", "message": "Add support for svg icons in actions", "committedDate": "2020-11-28T22:13:42Z", "type": "commit"}, {"oid": "43b1e7c655f0bf495c10e1299ae03efff6aec8b7", "url": "https://github.com/jenkinsci/jenkins/commit/43b1e7c655f0bf495c10e1299ae03efff6aec8b7", "message": "Add support for svg icons in actions", "committedDate": "2020-11-28T22:13:42Z", "type": "forcePushed"}, {"oid": "e12850826916a0c0d8541737c7ab3ff7eb1f1529", "url": "https://github.com/jenkinsci/jenkins/commit/e12850826916a0c0d8541737c7ab3ff7eb1f1529", "message": "Change help icon", "committedDate": "2020-11-28T22:24:48Z", "type": "commit"}, {"oid": "63763e2b6973388202d4dd3549f4ff1f0605f2bf", "url": "https://github.com/jenkinsci/jenkins/commit/63763e2b6973388202d4dd3549f4ff1f0605f2bf", "message": "Fix large SVG icons", "committedDate": "2020-11-28T22:59:08Z", "type": "commit"}, {"oid": "61c3decafa7e60e20d0dd1a1a328a5f8f1ade104", "url": "https://github.com/jenkinsci/jenkins/commit/61c3decafa7e60e20d0dd1a1a328a5f8f1ade104", "message": "Experiment with font awesome", "committedDate": "2020-11-28T22:59:21Z", "type": "commit"}, {"oid": "6937e2728be2a051959eb6877ebf2abb7146edbe", "url": "https://github.com/jenkinsci/jenkins/commit/6937e2728be2a051959eb6877ebf2abb7146edbe", "message": "Add /manage support", "committedDate": "2020-11-29T21:10:07Z", "type": "commit"}, {"oid": "b1a76e3a6415639fbac93e9a1e7ce1e168973227", "url": "https://github.com/jenkinsci/jenkins/commit/b1a76e3a6415639fbac93e9a1e7ce1e168973227", "message": "Merge branch 'master' into svg-icons", "committedDate": "2020-12-01T13:43:57Z", "type": "commit"}, {"oid": "dd8ea43dadb703a228a7739a2233cc719d46def7", "url": "https://github.com/jenkinsci/jenkins/commit/dd8ea43dadb703a228a7739a2233cc719d46def7", "message": "Use material sprites (#30)", "committedDate": "2020-12-03T10:47:41Z", "type": "commit"}, {"oid": "974fd7dfbea9b1ea71e93a66c8d9bddfd4afeacf", "url": "https://github.com/jenkinsci/jenkins/commit/974fd7dfbea9b1ea71e93a66c8d9bddfd4afeacf", "message": "Merge branch 'master' into pr/5065", "committedDate": "2021-01-28T11:11:34Z", "type": "commit"}, {"oid": "a9b7cc937de8336876c076d1a5b8011572fe8e6c", "url": "https://github.com/jenkinsci/jenkins/commit/a9b7cc937de8336876c076d1a5b8011572fe8e6c", "message": "Convert status icons to sprite\n\n- The animation for in progress is done overlaying 2 icons, the background and the foreground.", "committedDate": "2021-02-05T14:11:46Z", "type": "commit"}, {"oid": "8aa825d1dc6d66c20e99c5832420385f3f350536", "url": "https://github.com/jenkinsci/jenkins/commit/8aa825d1dc6d66c20e99c5832420385f3f350536", "message": "Merge branch 'master' into pr/5065", "committedDate": "2021-02-05T14:15:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTA4NDQ1NA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r571084454", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public  BuildStatusIcon(String classSpec, String url, String style) {\n          \n          \n            \n                public BuildStatusIcon(String classSpec, String url, String style) {", "author": "timja", "createdAt": "2021-02-05T16:18:11Z", "path": "core/src/main/java/org/jenkins/ui/icon/BuildStatusIcon.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.jenkins.ui.icon;\n+\n+public class BuildStatusIcon extends Icon {\n+    private boolean inProgress;\n+\n+    public BuildStatusIcon(String classSpec, String url, String style, boolean inProgress) {\n+        super(classSpec, url, style, IconType.CORE, IconFormat.EXTERNAL_SVG_SPRITE);\n+        this.inProgress = inProgress;\n+    }\n+\n+    public  BuildStatusIcon(String classSpec, String url, String style) {", "originalCommit": "8aa825d1dc6d66c20e99c5832420385f3f350536", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MTA4NDU3OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r571084579", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            //    private final boolean svg;", "author": "timja", "createdAt": "2021-02-05T16:18:22Z", "path": "core/src/main/java/org/jenkins/ui/icon/Icon.java", "diffHunk": "@@ -58,7 +58,9 @@\n     private final String normalizedSelector;\n     private final String url;\n     private final String style;\n+//    private final boolean svg;", "originalCommit": "8aa825d1dc6d66c20e99c5832420385f3f350536", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8ae2e25f266972c1a262747dfdba9a62b90ceb9f", "url": "https://github.com/jenkinsci/jenkins/commit/8ae2e25f266972c1a262747dfdba9a62b90ceb9f", "message": "Apply suggestions from code review\n\nCo-authored-by: Tim Jacomb <21194782+timja@users.noreply.github.com>", "committedDate": "2021-02-05T17:24:34Z", "type": "commit"}, {"oid": "080d1b5895f03c2c8ac3b4a1954b2b98c3c3baaf", "url": "https://github.com/jenkinsci/jenkins/commit/080d1b5895f03c2c8ac3b4a1954b2b98c3c3baaf", "message": "Fix missing icons", "committedDate": "2021-02-06T09:37:49Z", "type": "commit"}, {"oid": "4534757c7e9c95b942d2b7124f159a4f25991d27", "url": "https://github.com/jenkinsci/jenkins/commit/4534757c7e9c95b942d2b7124f159a4f25991d27", "message": "Replace weather icons with SVGs\n\n- TODO: remove old image ones\n- They are in their own SVG sprite, configured in their Java class", "committedDate": "2021-02-08T13:20:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjA5NTI1MA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r572095250", "bodyText": "why do you need to override this?\nthe method already has iconFormat == IconFormat.EXTERNAL_SVG_SPRITE in it?", "author": "timja", "createdAt": "2021-02-08T14:36:42Z", "path": "core/src/main/java/org/jenkins/ui/icon/WeatherIcon.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package org.jenkins.ui.icon;\n+\n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.NoExternalUse;\n+\n+@Restricted(NoExternalUse.class)\n+public class WeatherIcon extends Icon {\n+    enum  Status {\n+        POURING(\"build-status/weather-sprite.svg#weather-pouring\"),\n+        RAINY(\"build-status/weather-sprite.svg#weather-rainy\"),\n+        CLOUDY(\"build-status/weather-sprite.svg#weather-cloudy\"),\n+        PARTLY_CLOUDY(\"build-status/weather-sprite.svg#weather-partly-cloudy\"),\n+        SUNNY(\"build-status/weather-sprite.svg#weather-sunny\");\n+\n+        private String url;\n+\n+        Status(String url) {\n+           this.url = url;\n+        }\n+    }\n+\n+    public WeatherIcon(String classSpec, String style, Status status) {\n+        super(classSpec, status.url, style, IconType.CORE, IconFormat.EXTERNAL_SVG_SPRITE);\n+    }\n+\n+    @Override", "originalCommit": "4534757c7e9c95b942d2b7124f159a4f25991d27", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjkxNjQ1Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r572916453", "bodyText": "Not needed, going to remove it.", "author": "fqueiruga", "createdAt": "2021-02-09T14:13:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjA5NTI1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjEwMjEwNw==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r572102107", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                enum  Status {\n          \n          \n            \n                enum Status {", "author": "timja", "createdAt": "2021-02-08T14:45:29Z", "path": "core/src/main/java/org/jenkins/ui/icon/WeatherIcon.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package org.jenkins.ui.icon;\n+\n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.NoExternalUse;\n+\n+@Restricted(NoExternalUse.class)\n+public class WeatherIcon extends Icon {\n+    enum  Status {", "originalCommit": "4534757c7e9c95b942d2b7124f159a4f25991d27", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3ec7751b342bf9e8d6fe70ee9e1b4cfd224cd070", "url": "https://github.com/jenkinsci/jenkins/commit/3ec7751b342bf9e8d6fe70ee9e1b4cfd224cd070", "message": "Update core/src/main/java/org/jenkins/ui/icon/WeatherIcon.java\n\nCo-authored-by: Tim Jacomb <21194782+timja@users.noreply.github.com>", "committedDate": "2021-02-08T14:53:28Z", "type": "commit"}, {"oid": "787db986fca326465b18493ea218bb189b4eadc5", "url": "https://github.com/jenkinsci/jenkins/commit/787db986fca326465b18493ea218bb189b4eadc5", "message": "Fix IconTest", "committedDate": "2021-02-09T08:20:13Z", "type": "commit"}, {"oid": "b74d7ac95f31d1f9c37c4d031898f882e8fee1ea", "url": "https://github.com/jenkinsci/jenkins/commit/b74d7ac95f31d1f9c37c4d031898f882e8fee1ea", "message": "Merge branch 'svg-icons' of github.com:timja/jenkins into svg-icons", "committedDate": "2021-02-09T08:20:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjkxNjgyOA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r572916828", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @Override", "author": "fqueiruga", "createdAt": "2021-02-09T14:13:50Z", "path": "core/src/main/java/org/jenkins/ui/icon/WeatherIcon.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package org.jenkins.ui.icon;\n+\n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.NoExternalUse;\n+\n+@Restricted(NoExternalUse.class)\n+public class WeatherIcon extends Icon {\n+    enum Status {\n+        POURING(\"build-status/weather-sprite.svg#weather-pouring\"),\n+        RAINY(\"build-status/weather-sprite.svg#weather-rainy\"),\n+        CLOUDY(\"build-status/weather-sprite.svg#weather-cloudy\"),\n+        PARTLY_CLOUDY(\"build-status/weather-sprite.svg#weather-partly-cloudy\"),\n+        SUNNY(\"build-status/weather-sprite.svg#weather-sunny\");\n+\n+        private String url;\n+\n+        Status(String url) {\n+           this.url = url;\n+        }\n+    }\n+\n+    public WeatherIcon(String classSpec, String style, Status status) {\n+        super(classSpec, status.url, style, IconType.CORE, IconFormat.EXTERNAL_SVG_SPRITE);\n+    }\n+\n+    @Override", "originalCommit": "b74d7ac95f31d1f9c37c4d031898f882e8fee1ea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjkxNzE0MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r572917141", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public boolean isSvgSprite() {\n          \n          \n            \n                    return true;\n          \n          \n            \n                }", "author": "fqueiruga", "createdAt": "2021-02-09T14:14:12Z", "path": "core/src/main/java/org/jenkins/ui/icon/WeatherIcon.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package org.jenkins.ui.icon;\n+\n+import org.kohsuke.accmod.Restricted;\n+import org.kohsuke.accmod.restrictions.NoExternalUse;\n+\n+@Restricted(NoExternalUse.class)\n+public class WeatherIcon extends Icon {\n+    enum Status {\n+        POURING(\"build-status/weather-sprite.svg#weather-pouring\"),\n+        RAINY(\"build-status/weather-sprite.svg#weather-rainy\"),\n+        CLOUDY(\"build-status/weather-sprite.svg#weather-cloudy\"),\n+        PARTLY_CLOUDY(\"build-status/weather-sprite.svg#weather-partly-cloudy\"),\n+        SUNNY(\"build-status/weather-sprite.svg#weather-sunny\");\n+\n+        private String url;\n+\n+        Status(String url) {\n+           this.url = url;\n+        }\n+    }\n+\n+    public WeatherIcon(String classSpec, String style, Status status) {\n+        super(classSpec, status.url, style, IconType.CORE, IconFormat.EXTERNAL_SVG_SPRITE);\n+    }\n+\n+    @Override\n+    public boolean isSvgSprite() {\n+        return true;\n+    }", "originalCommit": "b74d7ac95f31d1f9c37c4d031898f882e8fee1ea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "76679ff7b1fccf04d92634351e9cc1db36a07c2a", "url": "https://github.com/jenkinsci/jenkins/commit/76679ff7b1fccf04d92634351e9cc1db36a07c2a", "message": "Apply suggestions from code review", "committedDate": "2021-02-09T14:14:23Z", "type": "commit"}, {"oid": "ef2865bbef5da9dedf1ecff82202b4bb802ac1c7", "url": "https://github.com/jenkinsci/jenkins/commit/ef2865bbef5da9dedf1ecff82202b4bb802ac1c7", "message": "Merge branch 'master' into svg-icons", "committedDate": "2021-02-18T20:40:02Z", "type": "commit"}, {"oid": "8cd47ac5017495bbc44d76bb9880f7ec3e1a4b62", "url": "https://github.com/jenkinsci/jenkins/commit/8cd47ac5017495bbc44d76bb9880f7ec3e1a4b62", "message": "Add class required for compat", "committedDate": "2021-02-20T17:03:46Z", "type": "commit"}, {"oid": "ba286b6f974d50ab7fb50de9980218645b65c54b", "url": "https://github.com/jenkinsci/jenkins/commit/ba286b6f974d50ab7fb50de9980218645b65c54b", "message": "Fix UpdateCenter", "committedDate": "2021-02-21T08:57:27Z", "type": "commit"}, {"oid": "1d1cd44d67c8f1bfaa07a1f10483e921f727d306", "url": "https://github.com/jenkinsci/jenkins/commit/1d1cd44d67c8f1bfaa07a1f10483e921f727d306", "message": "Simplify API for plugins", "committedDate": "2021-02-21T14:52:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTgzNjA4MA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r579836080", "bodyText": "As far as I can tell these don't do anything currently?", "author": "timja", "createdAt": "2021-02-21T17:07:39Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconFormat.java", "diffHunk": "@@ -0,0 +1,8 @@\n+package org.jenkins.ui.icon;\n+\n+public enum IconFormat {\n+    IMG,\n+    EXTERNAL_SVG_SPRITE,\n+    INLINE_SVG_SPRITE,\n+    INLINE_SVG,", "originalCommit": "1d1cd44d67c8f1bfaa07a1f10483e921f727d306", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTg3NTcyNQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r579875725", "bodyText": "They do not, not sure if we should leave them there or remove them for now", "author": "fqueiruga", "createdAt": "2021-02-21T22:26:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTgzNjA4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDAyNTAxOA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r580025018", "bodyText": "We should remove if we aren\u2019t implementing them", "author": "timja", "createdAt": "2021-02-22T07:13:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTgzNjA4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDEyMjgyNg==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r580122826", "bodyText": "let's do it then", "author": "fqueiruga", "createdAt": "2021-02-22T10:05:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3OTgzNjA4MA=="}], "type": "inlineReview"}, {"oid": "f24d465025212aa6bd353966818e7958e1d04dc9", "url": "https://github.com/jenkinsci/jenkins/commit/f24d465025212aa6bd353966818e7958e1d04dc9", "message": "Merge branch 'master' into svg-icons", "committedDate": "2021-02-21T21:03:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTA5MDkxNg==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581090916", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                INLINE_SVG_SPRITE,\n          \n          \n            \n                INLINE_SVG,", "author": "timja", "createdAt": "2021-02-23T14:39:41Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconFormat.java", "diffHunk": "@@ -0,0 +1,8 @@\n+package org.jenkins.ui.icon;\n+\n+public enum IconFormat {\n+    IMG,\n+    EXTERNAL_SVG_SPRITE,\n+    INLINE_SVG_SPRITE,\n+    INLINE_SVG,", "originalCommit": "f24d465025212aa6bd353966818e7958e1d04dc9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0864772f80552e464ed9b5b6e90ec81de3397ef3", "url": "https://github.com/jenkinsci/jenkins/commit/0864772f80552e464ed9b5b6e90ec81de3397ef3", "message": "Remove unused icon types", "committedDate": "2021-02-23T14:39:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTEwMDI3OQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581100279", "bodyText": "Shall we make it @Restricted?", "author": "fqueiruga", "createdAt": "2021-02-23T14:50:29Z", "path": "core/src/main/java/org/jenkins/ui/icon/BuildStatusIcon.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.jenkins.ui.icon;\n+\n+public class BuildStatusIcon extends Icon {", "originalCommit": "0864772f80552e464ed9b5b6e90ec81de3397ef3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTQ0NTY5MA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581445690", "bodyText": "I think we should unless there is a reason not to", "author": "res0nance", "createdAt": "2021-02-23T22:47:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTEwMDI3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTcxODIwNA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581718204", "bodyText": "I'll do it then!", "author": "fqueiruga", "createdAt": "2021-02-24T07:53:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTEwMDI3OQ=="}], "type": "inlineReview"}, {"oid": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "url": "https://github.com/jenkinsci/jenkins/commit/ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "message": "Remove other reference to unused code", "committedDate": "2021-02-23T16:01:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTEwMDgzNw==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581100837", "bodyText": "INLINE_SVG_SPRITE is no longer a format.", "author": "fqueiruga", "createdAt": "2021-02-23T14:51:06Z", "path": "core/src/main/java/org/jenkins/ui/icon/Icon.java", "diffHunk": "@@ -112,6 +138,13 @@ public String getClassSpec() {\n         return classSpec;\n     }\n \n+    /**\n+     * Is the Icon an SVG?\n+     */\n+    public boolean isSvgSprite() {\n+        return iconFormat == IconFormat.EXTERNAL_SVG_SPRITE || iconFormat == IconFormat.INLINE_SVG_SPRITE;", "originalCommit": "0864772f80552e464ed9b5b6e90ec81de3397ef3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTE3MzQ0OA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581173448", "bodyText": "Add license header", "author": "daniel-beck", "createdAt": "2021-02-23T16:10:49Z", "path": "core/src/main/java/org/jenkins/ui/icon/BuildStatusIcon.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.jenkins.ui.icon;", "originalCommit": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTE3MzU3MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581173571", "bodyText": "Add Javadoc", "author": "daniel-beck", "createdAt": "2021-02-23T16:10:57Z", "path": "core/src/main/java/org/jenkins/ui/icon/BuildStatusIcon.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.jenkins.ui.icon;\n+\n+public class BuildStatusIcon extends Icon {", "originalCommit": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTc0NTAyNA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581745024", "bodyText": "Add Javadoc with @since TODO.", "author": "daniel-beck", "createdAt": "2021-02-24T08:19:32Z", "path": "core/src/main/java/org/jenkins/ui/icon/Icon.java", "diffHunk": "@@ -97,11 +98,36 @@ public Icon(String classSpec, String url, String style) {\n      * @param iconType  The icon type.\n      */\n     public Icon(String classSpec, String url, String style, IconType iconType) {\n+        this(classSpec, url, style, iconType, IconFormat.IMG);\n+    }\n+\n+    /**\n+     * Creates an icon.\n+     *\n+     * @param classSpec The icon class names.\n+     * @param url       The icon image url.\n+     * @param style     The icon style.\n+     * @param iconFormat the {@link IconFormat}.\n+     * @since TODO\n+     */\n+    public Icon(String classSpec, String url, String style, IconFormat iconFormat) {\n+        this(classSpec, url, style, IconType.CORE, iconFormat);\n+        if (url != null) {\n+            if (url.startsWith(\"images/\")) {\n+                this.iconType = IconType.CORE;\n+            } else if (url.startsWith(\"plugin/\")) {\n+                this.iconType = IconType.PLUGIN;\n+            }\n+        }\n+    }\n+\n+    public Icon(String classSpec, String url, String style, IconType iconType, IconFormat iconFormat) {", "originalCommit": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MjI4NTk0NA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r582285944", "bodyText": "restricted instead", "author": "timja", "createdAt": "2021-02-24T20:38:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTc0NTAyNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTc0NTEyNQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581745125", "bodyText": "@since TODO", "author": "daniel-beck", "createdAt": "2021-02-24T08:19:40Z", "path": "core/src/main/java/org/jenkins/ui/icon/Icon.java", "diffHunk": "@@ -112,6 +138,13 @@ public String getClassSpec() {\n         return classSpec;\n     }\n \n+    /**\n+     * Is the Icon an SVG?\n+     */", "originalCommit": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTc0NTE5Nw==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581745197", "bodyText": "@since TODO", "author": "daniel-beck", "createdAt": "2021-02-24T08:19:47Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconFormat.java", "diffHunk": "@@ -0,0 +1,6 @@\n+package org.jenkins.ui.icon;\n+\n+public enum IconFormat {", "originalCommit": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTc0NTI3MQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581745271", "bodyText": "Add license header.", "author": "daniel-beck", "createdAt": "2021-02-24T08:19:53Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconFormat.java", "diffHunk": "@@ -0,0 +1,6 @@\n+package org.jenkins.ui.icon;", "originalCommit": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTc0NTQ0Mg==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r581745442", "bodyText": "Add license header.", "author": "daniel-beck", "createdAt": "2021-02-24T08:20:07Z", "path": "core/src/main/java/org/jenkins/ui/icon/WeatherIcon.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package org.jenkins.ui.icon;", "originalCommit": "ef6bc13bcbbf8ae00f804035290e05360cba5fb4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0fe96597de760b5fb9946a2abda591a2e91ad95b", "url": "https://github.com/jenkinsci/jenkins/commit/0fe96597de760b5fb9946a2abda591a2e91ad95b", "message": "Review comments", "committedDate": "2021-02-24T20:34:08Z", "type": "commit"}, {"oid": "f0324e893c9aa3533b70bd3b48c7855a7a8438b8", "url": "https://github.com/jenkinsci/jenkins/commit/f0324e893c9aa3533b70bd3b48c7855a7a8438b8", "message": "Bit more javadoc", "committedDate": "2021-02-24T20:37:40Z", "type": "commit"}, {"oid": "03a6243c68e1026eb3d2b4780f82ff5ec203571b", "url": "https://github.com/jenkinsci/jenkins/commit/03a6243c68e1026eb3d2b4780f82ff5ec203571b", "message": "Change the build unstable status icon", "committedDate": "2021-03-03T14:01:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQyMzM5Ng==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r587423396", "bodyText": "\ud83e\udd14", "author": "jtnord", "createdAt": "2021-03-04T12:19:20Z", "path": "core/src/main/java/org/jenkins/ui/icon/BuildStatusIcon.java", "diffHunk": "@@ -0,0 +1,58 @@\n+/*\n+ * The MIT License\n+ *\n+ * Copyright (c) 2021 CloudBees, Inc.", "originalCommit": "03a6243c68e1026eb3d2b4780f82ff5ec203571b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQyNDk2Nw==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r587424967", "bodyText": "Felix created it, I just added the license header", "author": "timja", "createdAt": "2021-03-04T12:22:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQyMzM5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQyODcxMA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r587428710", "bodyText": "should these (and the other icon-grey) not be changed to the sprites (was it different from not-built?)?\n(not sure what the green ones above where ever for)", "author": "jtnord", "createdAt": "2021-03-04T12:27:58Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconSet.java", "diffHunk": "@@ -282,28 +282,28 @@ private static String toNormalizedIconUrl(String url) {\n         icons.addIcon(new Icon(\"icon-folder-error icon-sm\", \"16x16/folder-error.gif\", Icon.ICON_SMALL_STYLE));\n         icons.addIcon(new Icon(\"icon-folder-open icon-sm\", \"16x16/folder-open.gif\", Icon.ICON_SMALL_STYLE));\n         icons.addIcon(new Icon(\"icon-folder icon-sm\", \"16x16/folder.gif\", Icon.ICON_SMALL_STYLE));\n-        icons.addIcon(new Icon(\"icon-gear2 icon-sm\", \"16x16/gear2.gif\", Icon.ICON_SMALL_STYLE));\n+        icons.addIcon(new Icon(\"icon-gear2 icon-sm\", \"material-icons/svg-sprite-action-symbol.svg#ic_settings_24px\", Icon.ICON_SMALL_STYLE, IconFormat.EXTERNAL_SVG_SPRITE));\n         icons.addIcon(new Icon(\"icon-go-next icon-sm\", \"16x16/go-next.gif\", Icon.ICON_SMALL_STYLE));\n         icons.addIcon(new Icon(\"icon-green icon-sm\", \"16x16/green.gif\", Icon.ICON_SMALL_STYLE));\n         icons.addIcon(new Icon(\"icon-green-anime icon-sm\", \"16x16/green_anime.gif\", Icon.ICON_SMALL_STYLE));\n         icons.addIcon(new Icon(\"icon-grey icon-sm\", \"16x16/grey.gif\", Icon.ICON_SMALL_STYLE));\n         icons.addIcon(new Icon(\"icon-grey-anime icon-sm\", \"16x16/grey_anime.gif\", Icon.ICON_SMALL_STYLE));", "originalCommit": "03a6243c68e1026eb3d2b4780f82ff5ec203571b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQ2MDI1NA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r587460254", "bodyText": "possibly although they aren't used in build status and that was the main goal of this PR, (and then to incrementally follow up once this is in)", "author": "timja", "createdAt": "2021-03-04T13:16:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQyODcxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQzMTIxMQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r587431211", "bodyText": "unlear to me why these are removed, yet they where replaced in https://github.com/jenkinsci/jenkins/pull/5065/files#diff-f58b5cf9ae51828d19d0b7d299430741ba3ee9d4679d6213da61aaea0b3d1540L592-R563", "author": "jtnord", "createdAt": "2021-03-04T12:32:03Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconSet.java", "diffHunk": "@@ -617,42 +584,32 @@ private static String toNormalizedIconUrl(String url) {\n         icons.addIcon(new Icon(\"icon-terminal icon-xlg\", \"48x48/terminal.gif\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-user icon-xlg\", \"48x48/user.gif\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-warning icon-xlg\", \"48x48/warning.gif\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow icon-xlg\", \"48x48/yellow.gif\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow-anime icon-xlg\", \"48x48/yellow_anime.gif\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-yellow icon-xlg\", \"build-status/build-status-sprite.svg#last-unstable\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-yellow-anime icon-xlg\", \"build-status/build-status-sprite.svg#last-unstable\", Icon.ICON_XLARGE_STYLE, true));\n \n-        icons.addIcon(new Icon(\"icon-aborted icon-xlg\", \"48x48/aborted.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-accept icon-xlg\", \"48x48/accept.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-attribute icon-xlg\", \"48x48/attribute.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-blue icon-xlg\", \"48x48/blue.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-clipboard icon-xlg\", \"48x48/clipboard.png\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new Icon(\"icon-clipboard icon-xlg\", \"svgs/clipboard-list-solid.svg#clipboard-list-solid\", Icon.ICON_XLARGE_STYLE, IconFormat.EXTERNAL_SVG_SPRITE));\n         icons.addIcon(new Icon(\"icon-computer-x icon-xlg\", \"48x48/computer-x.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-computer icon-xlg\", \"48x48/computer.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-disabled icon-xlg\", \"48x48/disabled.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-document icon-xlg\", \"48x48/document.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-empty icon-xlg\", \"48x48/empty.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-error icon-xlg\", \"48x48/error.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-fingerprint icon-xlg\", \"48x48/fingerprint.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-folder-delete icon-xlg\", \"48x48/folder-delete.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-folder icon-xlg\", \"48x48/folder.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-gear2 icon-xlg\", \"48x48/gear2.png\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new Icon(\"icon-gear2 icon-xlg\", \"material-icons/svg-sprite-action-symbol.svg#ic_settings_24px\", Icon.ICON_XLARGE_STYLE, IconFormat.EXTERNAL_SVG_SPRITE));\n         icons.addIcon(new Icon(\"icon-graph icon-xlg\", \"48x48/graph.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-grey icon-xlg\", \"48x48/grey.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-00to19 icon-xlg\", \"48x48/health-00to19.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-20to39 icon-xlg\", \"48x48/health-20to39.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-40to59 icon-xlg\", \"48x48/health-40to59.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-60to79 icon-xlg\", \"48x48/health-60to79.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-80plus icon-xlg\", \"48x48/health-80plus.png\", Icon.ICON_XLARGE_STYLE));", "originalCommit": "03a6243c68e1026eb3d2b4780f82ff5ec203571b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQ2MTAxNw==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r587461017", "bodyText": "the svg ones will just be used always now instead of the combination of gif and png if I understand correctly", "author": "timja", "createdAt": "2021-03-04T13:17:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQzMTIxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQ2NDc4Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r587464783", "bodyText": "Before, there were 2 versions of each icon, png and gif. With SVG this doesn't make sense anymore, 1 version is enough.", "author": "fqueiruga", "createdAt": "2021-03-04T13:23:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NzQzMTIxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODQ2MjIyNA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r588462224", "bodyText": "@fqueiruga is this intentionally removed?", "author": "timja", "createdAt": "2021-03-05T16:47:53Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconSet.java", "diffHunk": "@@ -664,9 +621,5 @@ private static String toNormalizedIconUrl(String url) {\n         icons.addIcon(new Icon(\"icon-terminal icon-xlg\", \"48x48/terminal.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-user icon-xlg\", \"48x48/user.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-warning icon-xlg\", \"48x48/warning.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow icon-xlg\", \"48x48/yellow.png\", Icon.ICON_XLARGE_STYLE));\n-\n-        // Capture a list of the core icons.\n-        icons.coreIcons.putAll(icons.iconsByCSSSelector);", "originalCommit": "03a6243c68e1026eb3d2b4780f82ff5ec203571b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTIzNDAxOQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r589234019", "bodyText": "looks like the map is unused =/.\nCan either re-add for compat, leave empty, deprecate, or remove any thoughts?", "author": "timja", "createdAt": "2021-03-08T08:08:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODQ2MjIyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTI0MzgzMA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r589243830", "bodyText": "going to just re-add for now", "author": "timja", "createdAt": "2021-03-08T08:27:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4ODQ2MjIyNA=="}], "type": "inlineReview"}, {"oid": "b21f098061e0ae827aa586f12221be4b35439ccd", "url": "https://github.com/jenkinsci/jenkins/commit/b21f098061e0ae827aa586f12221be4b35439ccd", "message": "Revert sidebar changes and add license info", "committedDate": "2021-03-05T17:00:25Z", "type": "commit"}, {"oid": "1a8cedcfa8ae7c1690951561f17e50f3213d53fb", "url": "https://github.com/jenkinsci/jenkins/commit/1a8cedcfa8ae7c1690951561f17e50f3213d53fb", "message": "Revert missed icon clipboard", "committedDate": "2021-03-08T08:37:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjQxMzI4NQ==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r592413285", "bodyText": "#5354", "author": "timja", "createdAt": "2021-03-11T14:37:37Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconSet.java", "diffHunk": "@@ -514,69 +492,58 @@ private static String toNormalizedIconUrl(String url) {\n         icons.addIcon(new Icon(\"icon-green-anime icon-lg\", \"32x32/green_anime.gif\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-grey icon-lg\", \"32x32/grey.gif\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-grey-anime icon-lg\", \"32x32/grey_anime.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-00to19 icon-lg\", \"32x32/health-00to19.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-20to39 icon-lg\", \"32x32/health-20to39.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-40to59 icon-lg\", \"32x32/health-40to59.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-60to79 icon-lg\", \"32x32/health-60to79.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-80plus icon-lg\", \"32x32/health-80plus.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-nobuilt icon-lg\", \"32x32/nobuilt.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-nobuilt-anime icon-lg\", \"32x32/nobuilt_anime.gif\", Icon.ICON_LARGE_STYLE));\n+        icons.addIcon(new WeatherIcon(\"icon-health-00to19 icon-lg\", Icon.ICON_LARGE_STYLE, WeatherIcon.Status.POURING));\n+        icons.addIcon(new WeatherIcon(\"icon-health-20to39 icon-lg\", Icon.ICON_LARGE_STYLE, WeatherIcon.Status.RAINY));\n+        icons.addIcon(new WeatherIcon(\"icon-health-40to59 icon-lg\", Icon.ICON_LARGE_STYLE, WeatherIcon.Status.CLOUDY));\n+        icons.addIcon(new WeatherIcon(\"icon-health-60to79 icon-lg\",  Icon.ICON_LARGE_STYLE, WeatherIcon.Status.PARTLY_CLOUDY));\n+        icons.addIcon(new WeatherIcon(\"icon-health-80plus icon-lg\", Icon.ICON_LARGE_STYLE, WeatherIcon.Status.SUNNY));\n+        icons.addIcon(new BuildStatusIcon(\"icon-nobuilt icon-lg\", \"build-status/build-status-sprite.svg#never-built\", Icon.ICON_LARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-nobuilt-anime icon-lg\", \"build-status/build-status-sprite.svg#never-built\", Icon.ICON_LARGE_STYLE, true));\n         icons.addIcon(new Icon(\"icon-plugin icon-lg\", \"32x32/plugin.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-red icon-lg\", \"32x32/red.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-red-anime icon-lg\", \"32x32/red_anime.gif\", Icon.ICON_LARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-red icon-lg\", \"build-status/build-status-sprite.svg#last-failed\", Icon.ICON_LARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-red-anime icon-lg\", \"build-status/build-status-sprite.svg#last-failed\", Icon.ICON_LARGE_STYLE, true));\n         icons.addIcon(new Icon(\"icon-setting icon-lg\", \"32x32/setting.gif\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-star-gold icon-lg\", \"32x32/star-gold.gif\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-star icon-lg\", \"32x32/star.gif\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-user icon-lg\", \"32x32/user.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow icon-lg\", \"32x32/yellow.gif\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow-anime icon-lg\", \"32x32/yellow_anime.gif\", Icon.ICON_LARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-yellow icon-lg\", \"build-status/build-status-sprite.svg#last-unstable\", Icon.ICON_LARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-yellow-anime icon-lg\", \"build-status/build-status-sprite.svg#last-unstable\", Icon.ICON_LARGE_STYLE, true));\n \n-        icons.addIcon(new Icon(\"icon-aborted icon-lg\", \"32x32/aborted.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-accept icon-lg\", \"32x32/accept.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-attribute icon-lg\", \"32x32/attribute.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-blue icon-lg\", \"32x32/blue.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-clipboard icon-lg\", \"32x32/clipboard.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-clock icon-lg\", \"32x32/clock.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-computer-x icon-lg\", \"32x32/computer-x.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-computer icon-lg\", \"32x32/computer.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-disabled icon-lg\", \"32x32/disabled.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-empty icon-lg\", \"32x32/empty.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-error icon-lg\", \"32x32/error.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-folder icon-lg\", \"32x32/folder.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-gear2 icon-lg\", \"32x32/gear2.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-graph icon-lg\", \"32x32/graph.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-grey icon-lg\", \"32x32/grey.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-00to19 icon-lg\", \"32x32/health-00to19.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-20to39 icon-lg\", \"32x32/health-20to39.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-40to59 icon-lg\", \"32x32/health-40to59.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-60to79 icon-lg\", \"32x32/health-60to79.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-80plus icon-lg\", \"32x32/health-80plus.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-lock icon-lg\", \"32x32/lock.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-nobuilt icon-lg\", \"32x32/nobuilt.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-orange-square icon-lg\", \"32x32/orange-square.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-package icon-lg\", \"32x32/package.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-plugin icon-lg\", \"32x32/plugin.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-red icon-lg\", \"32x32/red.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-secure icon-lg\", \"32x32/secure.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-setting icon-lg\", \"32x32/setting.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-star-gold icon-lg\", \"32x32/star-gold.png\", Icon.ICON_LARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-star icon-lg\", \"32x32/star.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-user icon-lg\", \"32x32/user.png\", Icon.ICON_LARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow icon-lg\", \"32x32/yellow.png\", Icon.ICON_LARGE_STYLE));\n+        icons.addIcon(new Icon(\"icon-user icon-lg\", \"32x32/user.gif\", Icon.ICON_LARGE_STYLE));", "originalCommit": "1a8cedcfa8ae7c1690951561f17e50f3213d53fb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjQxMzg1NA==", "url": "https://github.com/jenkinsci/jenkins/pull/5065#discussion_r592413854", "bodyText": "#5354", "author": "timja", "createdAt": "2021-03-11T14:38:19Z", "path": "core/src/main/java/org/jenkins/ui/icon/IconSet.java", "diffHunk": "@@ -617,42 +584,32 @@ private static String toNormalizedIconUrl(String url) {\n         icons.addIcon(new Icon(\"icon-terminal icon-xlg\", \"48x48/terminal.gif\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-user icon-xlg\", \"48x48/user.gif\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-warning icon-xlg\", \"48x48/warning.gif\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow icon-xlg\", \"48x48/yellow.gif\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-yellow-anime icon-xlg\", \"48x48/yellow_anime.gif\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-yellow icon-xlg\", \"build-status/build-status-sprite.svg#last-unstable\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new BuildStatusIcon(\"icon-yellow-anime icon-xlg\", \"build-status/build-status-sprite.svg#last-unstable\", Icon.ICON_XLARGE_STYLE, true));\n \n-        icons.addIcon(new Icon(\"icon-aborted icon-xlg\", \"48x48/aborted.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-accept icon-xlg\", \"48x48/accept.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-attribute icon-xlg\", \"48x48/attribute.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-blue icon-xlg\", \"48x48/blue.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-clipboard icon-xlg\", \"48x48/clipboard.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-computer-x icon-xlg\", \"48x48/computer-x.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-computer icon-xlg\", \"48x48/computer.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-disabled icon-xlg\", \"48x48/disabled.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-document icon-xlg\", \"48x48/document.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-empty icon-xlg\", \"48x48/empty.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-error icon-xlg\", \"48x48/error.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-fingerprint icon-xlg\", \"48x48/fingerprint.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-folder-delete icon-xlg\", \"48x48/folder-delete.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-folder icon-xlg\", \"48x48/folder.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-gear2 icon-xlg\", \"48x48/gear2.png\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new Icon(\"icon-gear2 icon-xlg\", \"48x48/gear2.gif\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-graph icon-xlg\", \"48x48/graph.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-grey icon-xlg\", \"48x48/grey.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-00to19 icon-xlg\", \"48x48/health-00to19.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-20to39 icon-xlg\", \"48x48/health-20to39.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-40to59 icon-xlg\", \"48x48/health-40to59.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-60to79 icon-xlg\", \"48x48/health-60to79.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-health-80plus icon-xlg\", \"48x48/health-80plus.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-help icon-xlg\", \"48x48/help.png\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new Icon(\"icon-help icon-xlg\", \"material-icons/svg-sprite-action-symbol.svg#ic_help_24px\", Icon.ICON_XLARGE_STYLE, IconFormat.EXTERNAL_SVG_SPRITE));\n         icons.addIcon(new Icon(\"icon-installer icon-xlg\", \"48x48/installer.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-lock icon-xlg\", \"48x48/lock.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-monitor icon-xlg\", \"48x48/monitor.png\", Icon.ICON_XLARGE_STYLE));\n         icons.addIcon(new Icon(\"icon-network icon-xlg\", \"48x48/network.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-nobuilt icon-xlg\", \"48x48/nobuilt.png\", Icon.ICON_XLARGE_STYLE));\n-        icons.addIcon(new Icon(\"icon-notepad icon-xlg\", \"48x48/notepad.png\", Icon.ICON_XLARGE_STYLE));\n+        icons.addIcon(new Icon(\"icon-notepad icon-xlg\", \"48x48/notepad.gif\", Icon.ICON_XLARGE_STYLE));", "originalCommit": "1a8cedcfa8ae7c1690951561f17e50f3213d53fb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}