{"pr_number": 5054, "pr_title": "Log a message about the interrupted exception at this level", "pr_createdAt": "2020-11-10T17:53:21Z", "pr_url": "https://github.com/jenkinsci/jenkins/pull/5054", "timeline": [{"oid": "4207aa6dd06ab7d0938f0cdc77cdd97418928ebb", "url": "https://github.com/jenkinsci/jenkins/commit/4207aa6dd06ab7d0938f0cdc77cdd97418928ebb", "message": "Draft change to integrate a draft Remoting PR.\n\nAdds retries to some additional RemoteClassLoader operations.\nRestructures the retries for improved consistency.", "committedDate": "2020-11-10T17:49:14Z", "type": "commit"}, {"oid": "e45c340e30bc06a608164c4e2e731f1dde84145f", "url": "https://github.com/jenkinsci/jenkins/commit/e45c340e30bc06a608164c4e2e731f1dde84145f", "message": "Try reducing the log level for InterruptedException.", "committedDate": "2020-11-13T18:30:20Z", "type": "commit"}, {"oid": "9d6b443bb5e2361b608919423cf6a77a2d3af6da", "url": "https://github.com/jenkinsci/jenkins/commit/9d6b443bb5e2361b608919423cf6a77a2d3af6da", "message": "Minor change to cause a build.", "committedDate": "2020-11-18T20:22:41Z", "type": "commit"}, {"oid": "2308bd5639986b59a2522a75ad2723abf5708b72", "url": "https://github.com/jenkinsci/jenkins/commit/2308bd5639986b59a2522a75ad2723abf5708b72", "message": "Merge remote-tracking branch 'upstream/master' into remoting-retryRCL", "committedDate": "2020-11-18T21:55:28Z", "type": "commit"}, {"oid": "2d92ef8de8f78675323385f2def4677560ed9397", "url": "https://github.com/jenkinsci/jenkins/commit/2d92ef8de8f78675323385f2def4677560ed9397", "message": "Use the current, 4.6 version.", "committedDate": "2021-02-23T15:34:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTE0NzEzNg==", "url": "https://github.com/jenkinsci/jenkins/pull/5054#discussion_r581147136", "bodyText": "You should at least set the thread's interrupt flag back so that code further down the line won't try to block again without being immediately re-interrupted. Do that after the log message, of course, since that might block.", "author": "jvz", "createdAt": "2021-02-23T15:41:57Z", "path": "core/src/main/java/hudson/util/ProcessTree.java", "diffHunk": "@@ -434,6 +434,12 @@ public static ProcessTree get() {\n                     vetoersExist = channelToMaster.call(new DoVetoersExist());\n                 }\n             }\n+            catch (InterruptedException ie) {", "originalCommit": "2d92ef8de8f78675323385f2def4677560ed9397", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTE0Nzk2Ng==", "url": "https://github.com/jenkinsci/jenkins/pull/5054#discussion_r581147966", "bodyText": "Good point.", "author": "jeffret-b", "createdAt": "2021-02-23T15:42:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTE0NzEzNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTIwMjQ1Mw==", "url": "https://github.com/jenkinsci/jenkins/pull/5054#discussion_r581202453", "bodyText": "It makes the most sense to be explicit about clearing the interrupt flag and letting the flow continue on.\nIf this operation is interrupted, that means we can't determine if vetoers exist. The most likely scenario is that the condition will continue and waiting or anything else won't enable us to determine if vetoers exist. Continuing with no vetoers is the best we can do.", "author": "jeffret-b", "createdAt": "2021-02-23T16:45:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MTE0NzEzNg=="}], "type": "inlineReview"}, {"oid": "80ddc93db116d9fb2d911c6532e31ed36c0f9e9a", "url": "https://github.com/jenkinsci/jenkins/commit/80ddc93db116d9fb2d911c6532e31ed36c0f9e9a", "message": "Be explicit about thread interrupted status.", "committedDate": "2021-02-23T16:43:01Z", "type": "commit"}, {"oid": "3e5816c9ba11ed9bd06732dab3b23593b0ea6d89", "url": "https://github.com/jenkinsci/jenkins/commit/3e5816c9ba11ed9bd06732dab3b23593b0ea6d89", "message": "Merge branch 'remoting-retryRCL' of github.com:jeffret-b/jenkins into remoting-retryRCL", "committedDate": "2021-02-23T17:00:30Z", "type": "commit"}]}