{"pr_number": 772, "pr_title": "[IOTDB-447] query not exist measurement and constant measurement", "pr_createdAt": "2020-02-05T12:14:22Z", "pr_url": "https://github.com/apache/iotdb/pull/772", "timeline": [{"oid": "3ae6c17610ad1e43846b6d386e811ab329814122", "url": "https://github.com/apache/iotdb/commit/3ae6c17610ad1e43846b6d386e811ab329814122", "message": "fix bug using \"both condition 2 and 3 should respond with error message\"", "committedDate": "2019-09-26T07:00:22Z", "type": "commit"}, {"oid": "d437c5e7f6e8dd086f95e748d2d4c7e3881e0c7a", "url": "https://github.com/apache/iotdb/commit/d437c5e7f6e8dd086f95e748d2d4c7e3881e0c7a", "message": "Revert \"fix bug using \"both condition 2 and 3 should respond with error message\"\"\n\nThis reverts commit 3ae6c17610ad1e43846b6d386e811ab329814122.", "committedDate": "2019-09-26T07:00:58Z", "type": "commit"}, {"oid": "82e95cf89c4dd81eb5e4cc7fd1cf25963b3fc0fa", "url": "https://github.com/apache/iotdb/commit/82e95cf89c4dd81eb5e4cc7fd1cf25963b3fc0fa", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-09-26T07:02:08Z", "type": "commit"}, {"oid": "fc973782e355494c80d1d50d32e514a40dec18d7", "url": "https://github.com/apache/iotdb/commit/fc973782e355494c80d1d50d32e514a40dec18d7", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-10-08T08:26:22Z", "type": "commit"}, {"oid": "c02a58451af1564d9e86c612ad5f109b62d3dd07", "url": "https://github.com/apache/iotdb/commit/c02a58451af1564d9e86c612ad5f109b62d3dd07", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-10-16T08:14:10Z", "type": "commit"}, {"oid": "f7886a990a2f56e182f20ff5c30a778e80c50296", "url": "https://github.com/apache/iotdb/commit/f7886a990a2f56e182f20ff5c30a778e80c50296", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-10-29T02:03:50Z", "type": "commit"}, {"oid": "7e485185dd782e444b36ec905d9991aff7b963a4", "url": "https://github.com/apache/iotdb/commit/7e485185dd782e444b36ec905d9991aff7b963a4", "message": "enable user to set environment variable", "committedDate": "2019-10-29T08:15:59Z", "type": "commit"}, {"oid": "bffecf35c96fd9d2c694dbff31549545d68f3edb", "url": "https://github.com/apache/iotdb/commit/bffecf35c96fd9d2c694dbff31549545d68f3edb", "message": "Revert \"enable user to set environment variable\"\n\nThis reverts commit 7e485185dd782e444b36ec905d9991aff7b963a4.", "committedDate": "2019-10-29T08:17:47Z", "type": "commit"}, {"oid": "f1806d4f26ae61f3bddc61eca2f1c0534b47142b", "url": "https://github.com/apache/iotdb/commit/f1806d4f26ae61f3bddc61eca2f1c0534b47142b", "message": "Revert \"Revert \"enable user to set environment variable\"\"\n\nThis reverts commit bffecf35c96fd9d2c694dbff31549545d68f3edb.", "committedDate": "2019-10-29T08:18:23Z", "type": "commit"}, {"oid": "ed808c1e3e627f8248cb61da8e42caa4baadc7fc", "url": "https://github.com/apache/iotdb/commit/ed808c1e3e627f8248cb61da8e42caa4baadc7fc", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-01T07:15:16Z", "type": "commit"}, {"oid": "6211fa9f17e85d0313b2bf081d47a52d867b325f", "url": "https://github.com/apache/iotdb/commit/6211fa9f17e85d0313b2bf081d47a52d867b325f", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-04T10:01:37Z", "type": "commit"}, {"oid": "52ca919c257186579dc3afb4c02648bab821591f", "url": "https://github.com/apache/iotdb/commit/52ca919c257186579dc3afb4c02648bab821591f", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-07T01:17:34Z", "type": "commit"}, {"oid": "36694ad68fcfe8fca520e6bf3a5772f8478f117b", "url": "https://github.com/apache/iotdb/commit/36694ad68fcfe8fca520e6bf3a5772f8478f117b", "message": "merge", "committedDate": "2019-11-07T03:02:27Z", "type": "commit"}, {"oid": "d3dd556ce2676e2285b8a613615a12d40bb4f83c", "url": "https://github.com/apache/iotdb/commit/d3dd556ce2676e2285b8a613615a12d40bb4f83c", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-07T03:03:03Z", "type": "commit"}, {"oid": "a247e1c1833c404a7b94af6c74df728a23689711", "url": "https://github.com/apache/iotdb/commit/a247e1c1833c404a7b94af6c74df728a23689711", "message": "Merge branch 'master' of https://github.com/SilverNarcissus/incubator-iotdb", "committedDate": "2019-11-07T03:03:19Z", "type": "commit"}, {"oid": "e3070dd054e0ee42e031069f5ff9eed12c620be5", "url": "https://github.com/apache/iotdb/commit/e3070dd054e0ee42e031069f5ff9eed12c620be5", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-08T07:33:26Z", "type": "commit"}, {"oid": "a8ff3ca03038596ccca40d81ee6fca1ebbe6812e", "url": "https://github.com/apache/iotdb/commit/a8ff3ca03038596ccca40d81ee6fca1ebbe6812e", "message": "merge", "committedDate": "2019-11-20T01:16:37Z", "type": "commit"}, {"oid": "1602a9382040a7f8285f59dba5e4dd015d0f1705", "url": "https://github.com/apache/iotdb/commit/1602a9382040a7f8285f59dba5e4dd015d0f1705", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-26T03:24:08Z", "type": "commit"}, {"oid": "ed2e4850479ba04748553aa5c6a6f34c7c7da2a1", "url": "https://github.com/apache/iotdb/commit/ed2e4850479ba04748553aa5c6a6f34c7c7da2a1", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-26T08:04:38Z", "type": "commit"}, {"oid": "a5ef8534a6c32f2feb9d0ea2d200ad10aaec8120", "url": "https://github.com/apache/iotdb/commit/a5ef8534a6c32f2feb9d0ea2d200ad10aaec8120", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-11-27T10:27:45Z", "type": "commit"}, {"oid": "57f5126b10d7d5527f2e440a47b79514f9efd625", "url": "https://github.com/apache/iotdb/commit/57f5126b10d7d5527f2e440a47b79514f9efd625", "message": "merge", "committedDate": "2019-11-29T09:39:08Z", "type": "commit"}, {"oid": "77a84fd9dd9ad90dacff7060b62dea2646612126", "url": "https://github.com/apache/iotdb/commit/77a84fd9dd9ad90dacff7060b62dea2646612126", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2019-12-05T01:48:19Z", "type": "commit"}, {"oid": "cc207a83de507ba3995bf858b12f8360b6dd130f", "url": "https://github.com/apache/iotdb/commit/cc207a83de507ba3995bf858b12f8360b6dd130f", "message": "merge", "committedDate": "2020-01-04T01:15:05Z", "type": "commit"}, {"oid": "16b619cf9ecb62d327b1841d9e0295caeb8ceda8", "url": "https://github.com/apache/iotdb/commit/16b619cf9ecb62d327b1841d9e0295caeb8ceda8", "message": "merge", "committedDate": "2020-01-13T09:21:02Z", "type": "commit"}, {"oid": "d044a236ede346fc6a894c440c88527e5a4ac381", "url": "https://github.com/apache/iotdb/commit/d044a236ede346fc6a894c440c88527e5a4ac381", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2020-01-14T08:01:06Z", "type": "commit"}, {"oid": "43f67d36c60c68f5149e043a48f80a066996373b", "url": "https://github.com/apache/iotdb/commit/43f67d36c60c68f5149e043a48f80a066996373b", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2020-01-15T07:54:30Z", "type": "commit"}, {"oid": "c5c20f063d2c1e39d9568b61b736fffe66792e8e", "url": "https://github.com/apache/iotdb/commit/c5c20f063d2c1e39d9568b61b736fffe66792e8e", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2020-02-03T03:23:59Z", "type": "commit"}, {"oid": "1645ccc10dc402485b17e6b97eb142c08e6b0fd6", "url": "https://github.com/apache/iotdb/commit/1645ccc10dc402485b17e6b97eb142c08e6b0fd6", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb", "committedDate": "2020-02-04T00:51:00Z", "type": "commit"}, {"oid": "0b82b29c97d9611556e124157095e6c7730fa518", "url": "https://github.com/apache/iotdb/commit/0b82b29c97d9611556e124157095e6c7730fa518", "message": "init", "committedDate": "2020-02-04T00:51:59Z", "type": "commit"}, {"oid": "1e95c05cf13ccdb295bf49e7acfce63d4d19c29b", "url": "https://github.com/apache/iotdb/commit/1e95c05cf13ccdb295bf49e7acfce63d4d19c29b", "message": "Add constant and not exist column", "committedDate": "2020-02-04T07:03:15Z", "type": "commit"}, {"oid": "b87bfc76a83b55d2cb16e911b319e95dc9600d72", "url": "https://github.com/apache/iotdb/commit/b87bfc76a83b55d2cb16e911b319e95dc9600d72", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb into IOTDB-447-query-as-much-as-possible", "committedDate": "2020-02-05T02:18:52Z", "type": "commit"}, {"oid": "979fe85ec0a7f3331a9de5bdc3a5e70cf92478af", "url": "https://github.com/apache/iotdb/commit/979fe85ec0a7f3331a9de5bdc3a5e70cf92478af", "message": "fix bug and add more tests", "committedDate": "2020-02-06T11:15:06Z", "type": "commit"}, {"oid": "cc383cd361f7e9285c6cccd8117590eef3ba3bfb", "url": "https://github.com/apache/iotdb/commit/cc383cd361f7e9285c6cccd8117590eef3ba3bfb", "message": "merge", "committedDate": "2020-02-07T01:06:11Z", "type": "commit"}, {"oid": "9daae58989ff86dd0a0576efa88378a8388b3c42", "url": "https://github.com/apache/iotdb/commit/9daae58989ff86dd0a0576efa88378a8388b3c42", "message": "add more test", "committedDate": "2020-02-07T11:39:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4MDY0MQ==", "url": "https://github.com/apache/iotdb/pull/772#discussion_r376680641", "bodyText": "can be removed", "author": "jixuan1989", "createdAt": "2020-02-08T02:34:41Z", "path": "server/src/main/java/org/apache/iotdb/db/qp/strategy/optimizer/ConcatPathOptimizer.java", "diffHunk": "@@ -275,10 +275,10 @@ private FilterOperator constructBinaryFilterTreeWithAnd(List<Path> noStarPaths,\n       for (Path path : paths) {\n         List<String> all;\n         all = executor.getAllMatchedPaths(path.getFullPath());\n-        if (all.isEmpty()) {\n-          throw new LogicalOptimizeException(\n-              \"Path: \\\"\" + path + \"\\\" doesn't correspond to any known time series\");\n-        }\n+//        if (all.isEmpty()) {", "originalCommit": "9daae58989ff86dd0a0576efa88378a8388b3c42", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4NTE3OA==", "url": "https://github.com/apache/iotdb/pull/772#discussion_r376685178", "bodyText": "fixed~", "author": "SilverNarcissus", "createdAt": "2020-02-08T04:01:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4MDY0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4MDY0Nw==", "url": "https://github.com/apache/iotdb/pull/772#discussion_r376680647", "bodyText": "can be removed", "author": "jixuan1989", "createdAt": "2020-02-08T02:34:52Z", "path": "server/src/main/java/org/apache/iotdb/db/qp/strategy/optimizer/ConcatPathOptimizer.java", "diffHunk": "@@ -301,10 +301,10 @@ private void removeStarsInPath(List<Path> paths, List<String> afterConcatAggrega\n     for (int i = 0; i < paths.size(); i++) {\n       try {\n         List<String> actualPaths = executor.getAllMatchedPaths(paths.get(i).getFullPath());\n-        if (actualPaths.isEmpty()) {\n-          throw new LogicalOptimizeException(\n-              \"Path: \\\"\" + paths.get(i) + \"\\\" doesn't correspond to any known time series\");\n-        }\n+//        if (actualPaths.isEmpty()) {", "originalCommit": "9daae58989ff86dd0a0576efa88378a8388b3c42", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4NTE4MA==", "url": "https://github.com/apache/iotdb/pull/772#discussion_r376685180", "bodyText": "fixed~", "author": "SilverNarcissus", "createdAt": "2020-02-08T04:01:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4MDY0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4MDY1Nw==", "url": "https://github.com/apache/iotdb/pull/772#discussion_r376680657", "bodyText": "this method is not used.", "author": "jixuan1989", "createdAt": "2020-02-08T02:35:09Z", "path": "server/src/main/java/org/apache/iotdb/db/query/dataset/DeviceIterateDataSet.java", "diffHunk": "@@ -111,6 +125,36 @@ public DeviceIterateDataSet(QueryPlan queryPlan, QueryContext context,\n     this.currentColumnMapRelation = new int[deduplicatedMeasurementColumns.size()];\n   }\n \n+  /**", "originalCommit": "9daae58989ff86dd0a0576efa88378a8388b3c42", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4NTE5MA==", "url": "https://github.com/apache/iotdb/pull/772#discussion_r376685190", "bodyText": "fixed~", "author": "SilverNarcissus", "createdAt": "2020-02-08T04:01:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY4MDY1Nw=="}], "type": "inlineReview"}, {"oid": "d04339da22d0866fc1b3e76f53edfc664318c28b", "url": "https://github.com/apache/iotdb/commit/d04339da22d0866fc1b3e76f53edfc664318c28b", "message": "enable session handle duplicate columns", "committedDate": "2020-02-08T04:00:12Z", "type": "commit"}, {"oid": "f4b76296b85876d2ee247b430e8ab1e575f83b06", "url": "https://github.com/apache/iotdb/commit/f4b76296b85876d2ee247b430e8ab1e575f83b06", "message": "remove unused code", "committedDate": "2020-02-08T04:01:57Z", "type": "commit"}]}