{"pr_number": 888, "pr_title": "[IOTDB-442]Add session api", "pr_createdAt": "2020-03-06T02:30:43Z", "pr_url": "https://github.com/apache/iotdb/pull/888", "timeline": [{"oid": "f9cf7d44359493f031d7448a5ad4701d0d009342", "url": "https://github.com/apache/iotdb/commit/f9cf7d44359493f031d7448a5ad4701d0d009342", "message": "init", "committedDate": "2020-02-04T02:12:56Z", "type": "commit"}, {"oid": "5d6bfdb8526487c862dac8b2a810732ef94a2dba", "url": "https://github.com/apache/iotdb/commit/5d6bfdb8526487c862dac8b2a810732ef94a2dba", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb into IOTDB-442-add-session-api", "committedDate": "2020-02-05T02:17:40Z", "type": "commit"}, {"oid": "fec737a80ed1a837aea77b2a534a7f205db92a4c", "url": "https://github.com/apache/iotdb/commit/fec737a80ed1a837aea77b2a534a7f205db92a4c", "message": "merge", "committedDate": "2020-03-06T02:29:19Z", "type": "commit"}, {"oid": "adff058106f4d6b675144c2595c7abf4a87396e1", "url": "https://github.com/apache/iotdb/commit/adff058106f4d6b675144c2595c7abf4a87396e1", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb into IOTDB-442-add-session-api\n\n# Conflicts:\n#\tsession/src/main/java/org/apache/iotdb/session/Session.java", "committedDate": "2020-03-09T01:57:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg1MDc2OQ==", "url": "https://github.com/apache/iotdb/pull/888#discussion_r389850769", "bodyText": "I think this implementation is just an syntactic sugar...\nIs there a possible way to send exact class instances (integer, float, etc..) to the server directly, to avoid the server calling functions like Integer.parse()", "author": "jixuan1989", "createdAt": "2020-03-09T17:37:07Z", "path": "session/src/main/java/org/apache/iotdb/session/Session.java", "diffHunk": "@@ -357,6 +392,23 @@ private Object sortList(Object valueList, TSDataType dataType, Integer[] index)\n     }\n   }\n \n+  /**\n+   * insert data in one row, if you want improve your performance, please use insertInBatch method\n+   * or insertBatch method\n+   *\n+   * @see Session#insertInBatch(List, List, List, List)\n+   * @see Session#insertBatch(RowBatch)\n+   */\n+  public TSStatus insert(String deviceId, long time, List<String> measurements,\n+      Object... values) throws IoTDBSessionException {\n+    List<String> stringValues = new ArrayList<>();\n+    for (Object o : values) {\n+      stringValues.add(o.toString());", "originalCommit": "adff058106f4d6b675144c2595c7abf4a87396e1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0MzQxMQ==", "url": "https://github.com/apache/iotdb/pull/888#discussion_r390043411", "bodyText": "Yes, but after using byte buffer, the performance goes down. The test result is at: https://tower.im/teams/138444/todos/12089/\nIf we want to let performance raise, we may refactor InsertPlan.", "author": "SilverNarcissus", "createdAt": "2020-03-10T01:11:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg1MDc2OQ=="}], "type": "inlineReview"}, {"oid": "b1c76afb41345fd24f9457658a98805ce4e77834", "url": "https://github.com/apache/iotdb/commit/b1c76afb41345fd24f9457658a98805ce4e77834", "message": "Merge branch 'master' of https://github.com/apache/incubator-iotdb into IOTDB-442-add-session-api\n\n# Conflicts:\n#\texample/session/src/main/java/org/apache/iotdb/SessionExample.java\n#\tsession/src/main/java/org/apache/iotdb/session/Session.java\n#\tsession/src/test/java/org/apache/iotdb/session/IoTDBSessionIT.java", "committedDate": "2020-03-10T03:05:35Z", "type": "commit"}, {"oid": "2cd20285366c934d892665c9a00f249c3176fca1", "url": "https://github.com/apache/iotdb/commit/2cd20285366c934d892665c9a00f249c3176fca1", "message": "resolve conflict", "committedDate": "2020-03-11T04:06:48Z", "type": "commit"}]}