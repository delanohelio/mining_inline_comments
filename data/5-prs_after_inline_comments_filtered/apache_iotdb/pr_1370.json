{"pr_number": 1370, "pr_title": "[IOTDB-769]Fix precision lost when using PLAIN for FLOAT/DOUBLE", "pr_createdAt": "2020-06-16T05:04:39Z", "pr_url": "https://github.com/apache/iotdb/pull/1370", "timeline": [{"oid": "fc116548927e3edde0be7b41b7923f93b37f4750", "url": "https://github.com/apache/iotdb/commit/fc116548927e3edde0be7b41b7923f93b37f4750", "message": "modify precision", "committedDate": "2020-06-16T04:59:48Z", "type": "commit"}, {"oid": "2fb0e8eb59414fdcfe3e5b31088b1599277bfcaa", "url": "https://github.com/apache/iotdb/commit/2fb0e8eb59414fdcfe3e5b31088b1599277bfcaa", "message": "modify precision", "committedDate": "2020-06-16T05:02:12Z", "type": "commit"}, {"oid": "87e207c44ae35aeedbb5227a7155272266749f89", "url": "https://github.com/apache/iotdb/commit/87e207c44ae35aeedbb5227a7155272266749f89", "message": "modify precision", "committedDate": "2020-06-16T06:52:57Z", "type": "commit"}, {"oid": "0760d0a604e301c4e5eabb2412148833629ffd12", "url": "https://github.com/apache/iotdb/commit/0760d0a604e301c4e5eabb2412148833629ffd12", "message": "modify precision", "committedDate": "2020-06-16T06:53:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyODIxNw==", "url": "https://github.com/apache/iotdb/pull/1370#discussion_r440628217", "bodyText": "LGTM. Why not add a testFloatTVList as well?", "author": "HTHou", "createdAt": "2020-06-16T07:02:05Z", "path": "server/src/test/java/org/apache/iotdb/db/utils/datastructure/TVListTest.java", "diffHunk": "@@ -26,8 +26,18 @@\n import org.junit.Assert;\n import org.junit.Test;\n \n-public class LongTVListTest {\n+public class TVListTest {\n \n+  @Test\n+  public void testDoubleTVList1(){\n+    TVList tvList = new DoubleTVList();\n+    for (long i = 0; i < 1000; i++) {\n+      double j = 1.2345678+Math.random();\n+      tvList.putDouble(i, j);\n+    }\n+    tvList.sort();\n+    tvList.getTimeValuePair(0);\n+  }", "originalCommit": "0760d0a604e301c4e5eabb2412148833629ffd12", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYzMTM0MA==", "url": "https://github.com/apache/iotdb/pull/1370#discussion_r440631340", "bodyText": "OK\uff0cadd", "author": "SailVR", "createdAt": "2020-06-16T07:08:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYyODIxNw=="}], "type": "inlineReview"}, {"oid": "ea0be9313cfd514f455c1fb0a94e6ea941298082", "url": "https://github.com/apache/iotdb/commit/ea0be9313cfd514f455c1fb0a94e6ea941298082", "message": "modify precision", "committedDate": "2020-06-16T07:07:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDYzMjI0Nw==", "url": "https://github.com/apache/iotdb/pull/1370#discussion_r440632247", "bodyText": "Still double here?", "author": "HTHou", "createdAt": "2020-06-16T07:10:38Z", "path": "server/src/test/java/org/apache/iotdb/db/utils/datastructure/TVListTest.java", "diffHunk": "@@ -26,8 +26,29 @@\n import org.junit.Assert;\n import org.junit.Test;\n \n-public class LongTVListTest {\n+public class TVListTest {\n \n+  @Test\n+  public void testFloatTVList1(){\n+    TVList tvList = new FloatTVList();\n+    for (long i = 0; i < 1000; i++) {\n+      double j = 1.2345678+Math.random();\n+      tvList.putDouble(i, j);", "originalCommit": "ea0be9313cfd514f455c1fb0a94e6ea941298082", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cb3eaca9c4cfe29e6c30b646894be70ec8049b78", "url": "https://github.com/apache/iotdb/commit/cb3eaca9c4cfe29e6c30b646894be70ec8049b78", "message": "modify precision", "committedDate": "2020-06-16T08:35:06Z", "type": "commit"}, {"oid": "e0c599acfd81e96863a189ff20e82f05fa23ccd7", "url": "https://github.com/apache/iotdb/commit/e0c599acfd81e96863a189ff20e82f05fa23ccd7", "message": "modify precision", "committedDate": "2020-06-16T08:38:34Z", "type": "commit"}, {"oid": "8e04897da15296aadb67b74790c76df22660a4fe", "url": "https://github.com/apache/iotdb/commit/8e04897da15296aadb67b74790c76df22660a4fe", "message": "modify precision", "committedDate": "2020-06-16T09:25:27Z", "type": "commit"}, {"oid": "92e5523614cc3618e9bc362634b6e1aa56ba3037", "url": "https://github.com/apache/iotdb/commit/92e5523614cc3618e9bc362634b6e1aa56ba3037", "message": "modify precision", "committedDate": "2020-06-16T09:29:31Z", "type": "commit"}, {"oid": "333e37c82b41633c86288c1d2e6a9f66112cb3ab", "url": "https://github.com/apache/iotdb/commit/333e37c82b41633c86288c1d2e6a9f66112cb3ab", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-06-16T12:05:36Z", "type": "commit"}, {"oid": "4b5c5899639aac122a9b06e5fae2e5755728fa0d", "url": "https://github.com/apache/iotdb/commit/4b5c5899639aac122a9b06e5fae2e5755728fa0d", "message": "modify precision", "committedDate": "2020-06-16T12:10:25Z", "type": "commit"}, {"oid": "faab225a3a0ea5f0f6a2cf7c2cdfbab2392cc336", "url": "https://github.com/apache/iotdb/commit/faab225a3a0ea5f0f6a2cf7c2cdfbab2392cc336", "message": "modify precision", "committedDate": "2020-06-16T13:39:31Z", "type": "commit"}, {"oid": "60ef02bbd316797785e7a9824d788c5fcb3f9543", "url": "https://github.com/apache/iotdb/commit/60ef02bbd316797785e7a9824d788c5fcb3f9543", "message": "modify precision", "committedDate": "2020-06-16T14:18:31Z", "type": "commit"}, {"oid": "a12ec2399098ce2b4fdc5569e959042e595f260d", "url": "https://github.com/apache/iotdb/commit/a12ec2399098ce2b4fdc5569e959042e595f260d", "message": "modify precision", "committedDate": "2020-06-16T14:36:23Z", "type": "commit"}, {"oid": "2570c4123395870a8c37aa93fc370f966d2f1261", "url": "https://github.com/apache/iotdb/commit/2570c4123395870a8c37aa93fc370f966d2f1261", "message": "modify precision", "committedDate": "2020-06-16T14:40:21Z", "type": "commit"}]}