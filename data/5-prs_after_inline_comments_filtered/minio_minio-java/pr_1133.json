{"pr_number": 1133, "pr_title": "Use junit in functional tests", "pr_createdAt": "2020-12-04T12:59:20Z", "pr_url": "https://github.com/minio/minio-java/pull/1133", "timeline": [{"oid": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "url": "https://github.com/minio/minio-java/commit/b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "message": "Use junit in functional tests", "committedDate": "2020-12-18T03:07:27Z", "type": "commit"}, {"oid": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "url": "https://github.com/minio/minio-java/commit/b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "message": "Use junit in functional tests", "committedDate": "2020-12-18T03:07:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5MDQ3Mw==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545590473", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertEquals(\n          \n          \n            \n                    Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:00:35Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1002,43 +999,40 @@ public static void testStatObject(\n                     .ssec(ssec)\n                     .build());\n \n-        if (!expectedStat.bucket().equals(stat.bucket())) {\n-          throw new Exception(\n-              \"bucket name: expected = \" + expectedStat.bucket() + \", got = \" + stat.bucket());\n-        }\n-\n-        if (!expectedStat.object().equals(stat.object())) {\n-          throw new Exception(\n-              \"object name: expected = \" + expectedStat.object() + \", got = \" + stat.object());\n-        }\n-\n-        if (expectedStat.size() != stat.size()) {\n-          throw new Exception(\n-              \"length: expected = \" + expectedStat.size() + \", got = \" + stat.size());\n-        }\n-\n-        if (!expectedStat.contentType().equals(stat.contentType())) {\n-          throw new Exception(\n-              \"content-type: expected = \"\n-                  + expectedStat.contentType()\n-                  + \", got = \"\n-                  + stat.contentType());\n-        }\n+        Assert.assertEquals(\n+            \"bucket name: expected = \" + expectedStat.bucket() + \", got = \" + stat.bucket(),\n+            expectedStat.bucket(),\n+            stat.bucket());\n+\n+        Assert.assertEquals(\n+            \"object name: expected = \" + expectedStat.object() + \", got = \" + stat.object(),\n+            expectedStat.object(),\n+            stat.object());\n+\n+        Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5MTQ2OQ==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545591469", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      Assert.assertTrue(\"metadata \" + key + \" not found\", stat.userMetadata().containsKey(key));\n          \n          \n            \n                      Assert.assertFalse(\"metadata \" + key + \" not found\", stat.userMetadata().containsKey(key));", "author": "ebozduman", "createdAt": "2020-12-18T06:04:02Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1002,43 +999,40 @@ public static void testStatObject(\n                     .ssec(ssec)\n                     .build());\n \n-        if (!expectedStat.bucket().equals(stat.bucket())) {\n-          throw new Exception(\n-              \"bucket name: expected = \" + expectedStat.bucket() + \", got = \" + stat.bucket());\n-        }\n-\n-        if (!expectedStat.object().equals(stat.object())) {\n-          throw new Exception(\n-              \"object name: expected = \" + expectedStat.object() + \", got = \" + stat.object());\n-        }\n-\n-        if (expectedStat.size() != stat.size()) {\n-          throw new Exception(\n-              \"length: expected = \" + expectedStat.size() + \", got = \" + stat.size());\n-        }\n-\n-        if (!expectedStat.contentType().equals(stat.contentType())) {\n-          throw new Exception(\n-              \"content-type: expected = \"\n-                  + expectedStat.contentType()\n-                  + \", got = \"\n-                  + stat.contentType());\n-        }\n+        Assert.assertEquals(\n+            \"bucket name: expected = \" + expectedStat.bucket() + \", got = \" + stat.bucket(),\n+            expectedStat.bucket(),\n+            stat.bucket());\n+\n+        Assert.assertEquals(\n+            \"object name: expected = \" + expectedStat.object() + \", got = \" + stat.object(),\n+            expectedStat.object(),\n+            stat.object());\n+\n+        Assert.assertEquals(\n+            \"length: expected = \" + expectedStat.size() + \", got = \" + stat.size(),\n+            expectedStat.size(),\n+            stat.size());\n+\n+        Assert.assertEquals(\n+            \"content-type: expected = \"\n+                + expectedStat.contentType()\n+                + \", got = \"\n+                + stat.contentType(),\n+            expectedStat.contentType(),\n+            stat.contentType());\n \n         for (String key : expectedStat.userMetadata().keySet()) {\n-          if (!stat.userMetadata().containsKey(key)) {\n-            throw new Exception(\"metadata \" + key + \" not found\");\n-          }\n-\n-          if (!expectedStat.userMetadata().get(key).equals(stat.userMetadata().get(key))) {\n-            throw new Exception(\n-                \"metadata \"\n-                    + key\n-                    + \" value: expected: \"\n-                    + expectedStat.userMetadata().get(key)\n-                    + \", got: \"\n-                    + stat.userMetadata().get(key));\n-          }\n+          Assert.assertTrue(\"metadata \" + key + \" not found\", stat.userMetadata().containsKey(key));", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5MTkzMA==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545591930", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      Assert.assertEquals(\n          \n          \n            \n                      Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:05:38Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1002,43 +999,40 @@ public static void testStatObject(\n                     .ssec(ssec)\n                     .build());\n \n-        if (!expectedStat.bucket().equals(stat.bucket())) {\n-          throw new Exception(\n-              \"bucket name: expected = \" + expectedStat.bucket() + \", got = \" + stat.bucket());\n-        }\n-\n-        if (!expectedStat.object().equals(stat.object())) {\n-          throw new Exception(\n-              \"object name: expected = \" + expectedStat.object() + \", got = \" + stat.object());\n-        }\n-\n-        if (expectedStat.size() != stat.size()) {\n-          throw new Exception(\n-              \"length: expected = \" + expectedStat.size() + \", got = \" + stat.size());\n-        }\n-\n-        if (!expectedStat.contentType().equals(stat.contentType())) {\n-          throw new Exception(\n-              \"content-type: expected = \"\n-                  + expectedStat.contentType()\n-                  + \", got = \"\n-                  + stat.contentType());\n-        }\n+        Assert.assertEquals(\n+            \"bucket name: expected = \" + expectedStat.bucket() + \", got = \" + stat.bucket(),\n+            expectedStat.bucket(),\n+            stat.bucket());\n+\n+        Assert.assertEquals(\n+            \"object name: expected = \" + expectedStat.object() + \", got = \" + stat.object(),\n+            expectedStat.object(),\n+            stat.object());\n+\n+        Assert.assertEquals(\n+            \"length: expected = \" + expectedStat.size() + \", got = \" + stat.size(),\n+            expectedStat.size(),\n+            stat.size());\n+\n+        Assert.assertEquals(\n+            \"content-type: expected = \"\n+                + expectedStat.contentType()\n+                + \", got = \"\n+                + stat.contentType(),\n+            expectedStat.contentType(),\n+            stat.contentType());\n \n         for (String key : expectedStat.userMetadata().keySet()) {\n-          if (!stat.userMetadata().containsKey(key)) {\n-            throw new Exception(\"metadata \" + key + \" not found\");\n-          }\n-\n-          if (!expectedStat.userMetadata().get(key).equals(stat.userMetadata().get(key))) {\n-            throw new Exception(\n-                \"metadata \"\n-                    + key\n-                    + \" value: expected: \"\n-                    + expectedStat.userMetadata().get(key)\n-                    + \", got: \"\n-                    + stat.userMetadata().get(key));\n-          }\n+          Assert.assertTrue(\"metadata \" + key + \" not found\", stat.userMetadata().containsKey(key));\n+          Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5MjM1MA==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545592350", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertEquals(\n          \n          \n            \n                    Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:07:00Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1137,9 +1131,10 @@ public static void testGetObject(\n \n       try (InputStream is = client.getObject(args)) {\n         String checksum = getSha256Sum(is, length);\n-        if (!checksum.equals(sha256sum)) {\n-          throw new Exception(\"checksum mismatch. expected: \" + sha256sum + \", got: \" + checksum);\n-        }\n+        Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5Mjg2Mg==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545592862", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertEquals(\"object count; expected=\" + objCount + \", got=\" + i, i, objCount);\n          \n          \n            \n                    Assert.assertNotSame(\"object count; expected=\" + objCount + \", got=\" + i, i, objCount);", "author": "ebozduman", "createdAt": "2020-12-18T06:08:37Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1404,10 +1399,7 @@ public static void testListObjects(\n           objCount *= versions;\n         }\n \n-        if (i != objCount) {\n-          throw new Exception(\"object count; expected=\" + objCount + \", got=\" + i);\n-        }\n-\n+        Assert.assertEquals(\"object count; expected=\" + objCount + \", got=\" + i, i, objCount);", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5MzA0MQ==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545593041", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Assert.assertEquals(\n          \n          \n            \n                Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:09:09Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1586,10 +1578,10 @@ public static void testGetPresignedUrl(GetPresignedObjectUrlArgs args, String ex\n     String urlString = client.getPresignedObjectUrl(args);\n     byte[] data = readObject(urlString);\n     String checksum = getSha256Sum(new ByteArrayInputStream(data), data.length);\n-    if (!expectedChecksum.equals(checksum)) {\n-      throw new Exception(\n-          \"content checksum differs; expected = \" + expectedChecksum + \", got = \" + checksum);\n-    }\n+    Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5MzIyMA==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545593220", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertEquals(\n          \n          \n            \n                    Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:09:51Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1661,10 +1653,10 @@ public static void testPutPresignedUrl(\n                 GetObjectArgs.builder().bucket(args.bucket()).object(args.object()).build());\n         data = readAllBytes(is);\n         String checksum = getSha256Sum(new ByteArrayInputStream(data), data.length);\n-        if (!expectedChecksum.equals(checksum)) {\n-          throw new Exception(\n-              \"content checksum differs; expected = \" + expectedChecksum + \", got = \" + checksum);\n-        }\n+        Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5Mzg0Ng==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545593846", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertFalse(\n          \n          \n            \n                    Assert.assertTrue(", "author": "ebozduman", "createdAt": "2020-12-18T06:11:59Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -1960,10 +1946,9 @@ public static void testCopyObjectEmptyMetadataReplace() throws Exception {\n                     .bucket(bucketName)\n                     .object(srcObjectName + \"-copy\")\n                     .build());\n-        if (stat.userMetadata().containsKey(\"My-Project\")) {\n-          throw new Exception(\"expected user metadata to be removed in new object\");\n-        }\n-\n+        Assert.assertFalse(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5NDA1NA==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545594054", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Assert.assertEquals(\n          \n          \n            \n                Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:12:40Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2316,9 +2301,8 @@ public static void checkObjectLegalHold(String bucketName, String objectName, bo\n     boolean result =\n         client.isObjectLegalHoldEnabled(\n             IsObjectLegalHoldEnabledArgs.builder().bucket(bucketName).object(objectName).build());\n-    if (result != enableCheck) {\n-      throw new Exception(\"object legal hold: expected: \" + enableCheck + \", got: \" + result);\n-    }\n+    Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5NDMzOQ==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545594339", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertFalse(\"object legal hold: expected: false, got: \" + result, result);\n          \n          \n            \n                    Assert.assertTrue(\"object legal hold: expected: false, got: \" + result, result);", "author": "ebozduman", "createdAt": "2020-12-18T06:13:54Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2427,9 +2411,7 @@ public static void isObjectLegalHoldEnabled() throws Exception {\n                     .bucket(bucketNameWithLock)\n                     .object(objectName)\n                     .build());\n-        if (result != false) {\n-          throw new Exception(\"object legal hold: expected: false, got: \" + result);\n-        }\n+        Assert.assertFalse(\"object legal hold: expected: false, got: \" + result, result);", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5NDU2NQ==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545594565", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Assert.assertEquals(\n          \n          \n            \n                Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:14:47Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2482,17 +2464,14 @@ public static void testGetObjectLockConfiguration(\n     ObjectLockConfiguration config =\n         client.getObjectLockConfiguration(\n             GetObjectLockConfigurationArgs.builder().bucket(bucketName).build());\n-\n-    if (config.mode() != expectedConfig.mode()) {\n-      throw new Exception(\n-          \"retention mode: expected: \" + expectedConfig.mode() + \", got: \" + config.mode());\n-    }\n-\n-    if (config.duration().unit() != expectedConfig.duration().unit()\n-        || config.duration().duration() != expectedConfig.duration().duration()) {\n-      throw new Exception(\n-          \"retention duration: \" + expectedConfig.duration() + \", got: \" + config.duration());\n-    }\n+    Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5NTEyMw==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545595123", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Assert.assertFalse(\n          \n          \n            \n                Assert.assertTrue(", "author": "ebozduman", "createdAt": "2020-12-18T06:16:33Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2482,17 +2464,14 @@ public static void testGetObjectLockConfiguration(\n     ObjectLockConfiguration config =\n         client.getObjectLockConfiguration(\n             GetObjectLockConfigurationArgs.builder().bucket(bucketName).build());\n-\n-    if (config.mode() != expectedConfig.mode()) {\n-      throw new Exception(\n-          \"retention mode: expected: \" + expectedConfig.mode() + \", got: \" + config.mode());\n-    }\n-\n-    if (config.duration().unit() != expectedConfig.duration().unit()\n-        || config.duration().duration() != expectedConfig.duration().duration()) {\n-      throw new Exception(\n-          \"retention duration: \" + expectedConfig.duration() + \", got: \" + config.duration());\n-    }\n+    Assert.assertEquals(\n+        \"retention mode: expected: \" + expectedConfig.mode() + \", got: \" + config.mode(),\n+        config.mode(),\n+        expectedConfig.mode());\n+    Assert.assertFalse(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5NzA0Mg==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545597042", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  Assert.assertFalse(\n          \n          \n            \n                  Assert.assertTrue(", "author": "ebozduman", "createdAt": "2020-12-18T06:22:53Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2606,27 +2585,29 @@ public static void testGetObjectRetention(SetObjectRetentionArgs args) throws Ex\n             GetObjectRetentionArgs.builder().bucket(args.bucket()).object(args.object()).build());\n \n     if (args.config().mode() == null) {\n-      if (config != null && config.mode() != null) {\n-        throw new Exception(\"retention mode: expected: <null>, got: \" + config.mode());\n-      }\n-    } else if (config.mode() != args.config().mode()) {\n-      throw new Exception(\n-          \"retention mode: expected: \" + args.config().mode() + \", got: \" + config.mode());\n+      Assert.assertFalse(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5NzIwOA==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545597208", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  Assert.assertEquals(\n          \n          \n            \n                  Assert.assertNotSame(", "author": "ebozduman", "createdAt": "2020-12-18T06:23:25Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2606,27 +2585,29 @@ public static void testGetObjectRetention(SetObjectRetentionArgs args) throws Ex\n             GetObjectRetentionArgs.builder().bucket(args.bucket()).object(args.object()).build());\n \n     if (args.config().mode() == null) {\n-      if (config != null && config.mode() != null) {\n-        throw new Exception(\"retention mode: expected: <null>, got: \" + config.mode());\n-      }\n-    } else if (config.mode() != args.config().mode()) {\n-      throw new Exception(\n-          \"retention mode: expected: \" + args.config().mode() + \", got: \" + config.mode());\n+      Assert.assertFalse(\n+          \"retention mode: expected: <null>, got: \" + config.mode(),\n+          config != null && config.mode() != null);\n+    } else {\n+      Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5NzYwMg==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545597602", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  Assert.assertNull(\"retention retain-until-date: expected: <null>, got: \" + date, date);\n          \n          \n            \n                  Assert.assertNotNull(\"retention retain-until-date: expected: <null>, got: \" + date, date);", "author": "ebozduman", "createdAt": "2020-12-18T06:24:41Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2606,27 +2585,29 @@ public static void testGetObjectRetention(SetObjectRetentionArgs args) throws Ex\n             GetObjectRetentionArgs.builder().bucket(args.bucket()).object(args.object()).build());\n \n     if (args.config().mode() == null) {\n-      if (config != null && config.mode() != null) {\n-        throw new Exception(\"retention mode: expected: <null>, got: \" + config.mode());\n-      }\n-    } else if (config.mode() != args.config().mode()) {\n-      throw new Exception(\n-          \"retention mode: expected: \" + args.config().mode() + \", got: \" + config.mode());\n+      Assert.assertFalse(\n+          \"retention mode: expected: <null>, got: \" + config.mode(),\n+          config != null && config.mode() != null);\n+    } else {\n+      Assert.assertEquals(\n+          \"retention mode: expected: \" + args.config().mode() + \", got: \" + config.mode(),\n+          args.config().mode(),\n+          config.mode());\n     }\n \n     ZonedDateTime expectedDate = args.config().retainUntilDate();\n     ZonedDateTime date = (config == null) ? null : config.retainUntilDate();\n \n     if (expectedDate == null) {\n-      if (date != null) {\n-        throw new Exception(\"retention retain-until-date: expected: <null>, got: \" + date);\n-      }\n-    } else if (!date.withNano(0).equals(expectedDate.withNano(0))) {\n-      throw new Exception(\n+      Assert.assertNull(\"retention retain-until-date: expected: <null>, got: \" + date, date);", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5ODI1Mw==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545598253", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  Assert.assertEquals(\n          \n          \n            \n                  Assert.assertNotSame(\n          \n      \n    \n    \n  \n\nI'll stop here and ask you to please check all the negated conditions and make sure the correct assert method is used. It looks like probably all of them needs to be reverted.\nHow did this pass CI testing?\nAm I doing something wrong?", "author": "ebozduman", "createdAt": "2020-12-18T06:26:37Z", "path": "functional/FunctionalTest.java", "diffHunk": "@@ -2606,27 +2585,29 @@ public static void testGetObjectRetention(SetObjectRetentionArgs args) throws Ex\n             GetObjectRetentionArgs.builder().bucket(args.bucket()).object(args.object()).build());\n \n     if (args.config().mode() == null) {\n-      if (config != null && config.mode() != null) {\n-        throw new Exception(\"retention mode: expected: <null>, got: \" + config.mode());\n-      }\n-    } else if (config.mode() != args.config().mode()) {\n-      throw new Exception(\n-          \"retention mode: expected: \" + args.config().mode() + \", got: \" + config.mode());\n+      Assert.assertFalse(\n+          \"retention mode: expected: <null>, got: \" + config.mode(),\n+          config != null && config.mode() != null);\n+    } else {\n+      Assert.assertEquals(\n+          \"retention mode: expected: \" + args.config().mode() + \", got: \" + config.mode(),\n+          args.config().mode(),\n+          config.mode());\n     }\n \n     ZonedDateTime expectedDate = args.config().retainUntilDate();\n     ZonedDateTime date = (config == null) ? null : config.retainUntilDate();\n \n     if (expectedDate == null) {\n-      if (date != null) {\n-        throw new Exception(\"retention retain-until-date: expected: <null>, got: \" + date);\n-      }\n-    } else if (!date.withNano(0).equals(expectedDate.withNano(0))) {\n-      throw new Exception(\n+      Assert.assertNull(\"retention retain-until-date: expected: <null>, got: \" + date, date);\n+    } else {\n+      Assert.assertEquals(", "originalCommit": "b2e472f8f9ae3d61e7a18fe06cd31f1c025c1f8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYyMjg5MQ==", "url": "https://github.com/minio/minio-java/pull/1133#discussion_r545622891", "bodyText": "Bala explained to me that the Assert.assertNull actually means \"make sure the condition is NOT Null\".\nSo, all my comments are wrong. Resolved all of them.", "author": "ebozduman", "createdAt": "2020-12-18T07:38:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTU5ODI1Mw=="}], "type": "inlineReview"}]}