{"pr_number": 7955, "pr_title": "Don't use deep pagination to fetch all entries #7139", "pr_createdAt": "2020-03-13T19:09:16Z", "pr_url": "https://github.com/enonic/xp/pull/7955", "timeline": [{"oid": "1f4dc3fc84f936de85e849d5e6bcd7a700ced02e", "url": "https://github.com/enonic/xp/commit/1f4dc3fc84f936de85e849d5e6bcd7a700ced02e", "message": "Don't use deep pagination to fetch all entries #7139", "committedDate": "2020-03-13T20:33:05Z", "type": "forcePushed"}, {"oid": "80944b4d272cd15d0a9cb34f4031b267c240a0a2", "url": "https://github.com/enonic/xp/commit/80944b4d272cd15d0a9cb34f4031b267c240a0a2", "message": "Don't use deep pagination to fetch all entries #7139", "committedDate": "2020-03-13T20:57:56Z", "type": "forcePushed"}, {"oid": "be82917dad43eab3d2a4f6659c997a4c06f1c80f", "url": "https://github.com/enonic/xp/commit/be82917dad43eab3d2a4f6659c997a4c06f1c80f", "message": "Don't use deep pagination to fetch all entries #7139", "committedDate": "2020-03-14T10:48:41Z", "type": "forcePushed"}, {"oid": "cb1caf013e750efed17ab9f18f46869ba5440e5e", "url": "https://github.com/enonic/xp/commit/cb1caf013e750efed17ab9f18f46869ba5440e5e", "message": "Don't use deep pagination to fetch all entries #7139", "committedDate": "2020-03-14T11:39:17Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkzOTQ4Mg==", "url": "https://github.com/enonic/xp/pull/7955#discussion_r392939482", "bodyText": "looks like   size( NodeSearchService.GET_ALL_SIZE_FLAG )  should be used.", "author": "vbradnitski", "createdAt": "2020-03-16T11:03:09Z", "path": "modules/core/core-repo/src/main/java/com/enonic/xp/repo/impl/dump/RepoDumper.java", "diffHunk": "@@ -197,25 +188,17 @@ private void dumpCommits()\n \n             final NodeCommitQuery nodeCommitQuery = NodeCommitQuery.create().build();\n \n-            final BatchedGetCommitsExecutor executor = BatchedGetCommitsExecutor.create().\n-                nodeService( this.nodeService ).\n-                query( nodeCommitQuery ).\n-                batchSize( DEFAULT_BATCH_SIZE ).\n-                build();\n-\n-            while ( executor.hasMore() )\n-            {\n-                final NodeCommitEntries nodeCommitEntries = executor.execute();\n-\n-                nodeCommitEntries.stream().\n-                    map( nodeCommitEntry -> CommitDumpEntry.create().\n-                        nodeCommitId( nodeCommitEntry.getNodeCommitId() ).\n-                        message( nodeCommitEntry.getMessage() ).\n-                        committer( nodeCommitEntry.getCommitter() ).\n-                        timestamp( nodeCommitEntry.getTimestamp() ).\n-                        build() ).\n-                    forEach( this.writer::writeCommitEntry );\n-            }\n+            final NodeCommitEntries nodeCommitEntries = this.nodeService.findCommits( nodeCommitQuery ).", "originalCommit": "cb1caf013e750efed17ab9f18f46869ba5440e5e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "62018bc8dade5edaefcade95d88bf16907b55240", "url": "https://github.com/enonic/xp/commit/62018bc8dade5edaefcade95d88bf16907b55240", "message": "Don't use deep pagination to fetch all entries #7139", "committedDate": "2020-03-17T08:40:48Z", "type": "commit"}, {"oid": "62018bc8dade5edaefcade95d88bf16907b55240", "url": "https://github.com/enonic/xp/commit/62018bc8dade5edaefcade95d88bf16907b55240", "message": "Don't use deep pagination to fetch all entries #7139", "committedDate": "2020-03-17T08:40:48Z", "type": "forcePushed"}]}