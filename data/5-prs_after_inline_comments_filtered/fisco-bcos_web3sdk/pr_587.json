{"pr_number": 587, "pr_title": "add qpslimiter when verifyTransferData", "pr_createdAt": "2020-05-15T10:40:08Z", "pr_url": "https://github.com/FISCO-BCOS/web3sdk/pull/587", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxNzM0Mg==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/587#discussion_r425717342", "bodyText": "[PMD] Found 'DU'-anomaly for variable 'limiter' (lines '97'-'154'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-05-15T10:41:05Z", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/parallelok/PerformanceDTTest.java", "diffHunk": "@@ -94,7 +94,7 @@ public void veryTransferData(ThreadPoolTaskExecutor threadPool) {\n         AtomicInteger verify_failed = new AtomicInteger(0);\n \n         allUser = dagUserMgr.getUserList();\n-\n+        RateLimiter limiter = RateLimiter.create(qps.intValue());", "originalCommit": "1fb217f5adc966a173462ac66f1999aecdbb7643", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxNzM0OA==", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/587#discussion_r425717348", "bodyText": "[PMD] Found 'DU'-anomaly for variable 'limiter' (lines '106'-'175'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can close this issue if no need to fix it. Learn more.", "author": "sider", "createdAt": "2020-05-15T10:41:06Z", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -95,15 +95,15 @@ public void setCollector(PerformanceDTCollector collector) {\n         this.collector = collector;\n     }\n \n-    public void veryTransferData(ThreadPoolTaskExecutor threadPool) {\n+    public void veryTransferData(ThreadPoolTaskExecutor threadPool, BigInteger qps) {\n         List<DagTransferUser> allUser = dagUserMgr.getUserList();\n         Integer total_user = allUser.size();\n \n         AtomicInteger verify_success = new AtomicInteger(0);\n         AtomicInteger verify_failed = new AtomicInteger(0);\n \n         allUser = dagUserMgr.getUserList();\n-\n+        RateLimiter limiter = RateLimiter.create(qps.intValue());", "originalCommit": "1fb217f5adc966a173462ac66f1999aecdbb7643", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07341c7741d6daaab726c1c0fcf99b4353add6bc", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/07341c7741d6daaab726c1c0fcf99b4353add6bc", "message": "add qpslimiter when verifyTransferData", "committedDate": "2020-05-15T11:18:38Z", "type": "forcePushed"}, {"oid": "9eb213ac40e3f70e6548b117d7c1637e0a333029", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/9eb213ac40e3f70e6548b117d7c1637e0a333029", "message": "add qpslimiter when verifyTransferData", "committedDate": "2020-05-15T11:34:19Z", "type": "commit"}, {"oid": "9eb213ac40e3f70e6548b117d7c1637e0a333029", "url": "https://github.com/FISCO-BCOS/web3sdk/commit/9eb213ac40e3f70e6548b117d7c1637e0a333029", "message": "add qpslimiter when verifyTransferData", "committedDate": "2020-05-15T11:34:19Z", "type": "forcePushed"}]}