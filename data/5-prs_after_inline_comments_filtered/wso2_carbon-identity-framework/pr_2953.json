{"pr_number": 2953, "pr_title": "Implement workflow deletion on tenant deletion", "pr_createdAt": "2020-05-21T11:14:32Z", "pr_url": "https://github.com/wso2/carbon-identity-framework/pull/2953", "timeline": [{"oid": "1047a90c48c20698cd9d6a9a8cea5d351e57ac10", "url": "https://github.com/wso2/carbon-identity-framework/commit/1047a90c48c20698cd9d6a9a8cea5d351e57ac10", "message": "Implement workflow deletion on tenant deletion", "committedDate": "2020-05-21T11:11:38Z", "type": "commit"}, {"oid": "7d554363572c36bb88f80674cafd5c0994023b6c", "url": "https://github.com/wso2/carbon-identity-framework/commit/7d554363572c36bb88f80674cafd5c0994023b6c", "message": "Fix minor issues", "committedDate": "2020-05-21T11:42:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxNjk1MA==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r429916950", "bodyText": "Shall we add a new line after the method signature to follow the format? WDYT?", "author": "ShanChathusanda93", "createdAt": "2020-05-25T12:48:07Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/WorkflowManagementAdminService.java", "diffHunk": "@@ -327,6 +327,21 @@ public void removeWorkflow(String id) throws WorkflowException {\n         }\n     }\n \n+    /**\n+     * Remove workflows by a given tenant id.\n+     *\n+     * @param tenantId Id of workflow to remove\n+     * @throws WorkflowException\n+     */\n+    public void removeWorkflows(int tenantId) throws WorkflowException {", "originalCommit": "7d554363572c36bb88f80674cafd5c0994023b6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkxODIyMw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r429918223", "bodyText": "Shall we add a new line after the method signature?", "author": "ShanChathusanda93", "createdAt": "2020-05-25T12:51:11Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/listener/WorkflowTenantMgtListener.java", "diffHunk": "@@ -0,0 +1,70 @@\n+package org.wso2.carbon.identity.workflow.mgt.listener;\n+\n+import org.wso2.carbon.identity.workflow.mgt.exception.WorkflowException;\n+import org.wso2.carbon.identity.workflow.mgt.internal.WorkflowServiceDataHolder;\n+import org.wso2.carbon.stratos.common.beans.TenantInfoBean;\n+import org.wso2.carbon.stratos.common.exception.StratosException;\n+import org.wso2.carbon.stratos.common.listeners.TenantMgtListener;\n+\n+/**\n+ * Workflow Tenant Management Listener.\n+ */\n+public class WorkflowTenantMgtListener implements TenantMgtListener {\n+    private static final int EXEC_ORDER = 12;\n+\n+    @Override\n+    public void onTenantCreate(TenantInfoBean tenantInfoBean) throws StratosException {\n+\n+    }\n+\n+    @Override\n+    public void onTenantUpdate(TenantInfoBean tenantInfoBean) throws StratosException {\n+\n+    }\n+\n+    @Override\n+    public void onTenantDelete(int i) {\n+\n+    }\n+\n+    @Override\n+    public void onTenantRename(int i, String s, String s2) throws StratosException {\n+\n+    }\n+\n+    @Override\n+    public void onTenantInitialActivation(int i) throws StratosException {\n+\n+    }\n+\n+    @Override\n+    public void onTenantActivation(int i) throws StratosException {\n+\n+    }\n+\n+    @Override\n+    public void onTenantDeactivation(int i) throws StratosException {\n+\n+    }\n+\n+    @Override\n+    public void onSubscriptionPlanChange(int i, String s, String s2) throws StratosException {\n+\n+    }\n+\n+    @Override\n+    public int getListenerOrder() {", "originalCommit": "7d554363572c36bb88f80674cafd5c0994023b6c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a00ca8830f1455650957bed82380b7f37fb451ce", "url": "https://github.com/wso2/carbon-identity-framework/commit/a00ca8830f1455650957bed82380b7f37fb451ce", "message": "Fix minor issues", "committedDate": "2020-05-29T07:21:14Z", "type": "forcePushed"}, {"oid": "bb6c928b4a175847054763a19549aacd10199a8e", "url": "https://github.com/wso2/carbon-identity-framework/commit/bb6c928b4a175847054763a19549aacd10199a8e", "message": "Fix minor issues", "committedDate": "2020-05-29T07:53:18Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA3MDEwMg==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r442070102", "bodyText": "use try with resource for the connection and the prepared statement. Fix in all the places.", "author": "madurangasiriwardena", "createdAt": "2020-06-18T08:49:36Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/dao/WorkflowDAO.java", "diffHunk": "@@ -137,6 +137,30 @@ public void removeWorkflow(String workflowId) throws InternalWorkflowException {\n         }\n     }\n \n+    /**\n+     * Remove all workflows of a given tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws InternalWorkflowException\n+     */\n+    public void removeWorkflowByTenantId(int tenantId) throws InternalWorkflowException {\n+\n+        Connection connection = IdentityDatabaseUtil.getDBConnection(true);\n+        PreparedStatement prepStmt = null;\n+        String query = SQLConstants.DELETE_WORKFLOW_BY_TENANT_ID_QUERY;\n+        try {", "originalCommit": "bb6c928b4a175847054763a19549aacd10199a8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA3MjA5OQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r442072099", "bodyText": "Isn't there an abstract listener that removes the requirement of overriding all the methods?", "author": "madurangasiriwardena", "createdAt": "2020-06-18T08:52:40Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/listener/WorkflowTenantMgtListener.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.wso2.carbon.identity.workflow.mgt.listener;\n+\n+import org.wso2.carbon.identity.workflow.mgt.exception.WorkflowException;\n+import org.wso2.carbon.identity.workflow.mgt.internal.WorkflowServiceDataHolder;\n+import org.wso2.carbon.stratos.common.beans.TenantInfoBean;\n+import org.wso2.carbon.stratos.common.exception.StratosException;\n+import org.wso2.carbon.stratos.common.listeners.TenantMgtListener;\n+\n+/**\n+ * Workflow Tenant Management Listener.\n+ */\n+public class WorkflowTenantMgtListener implements TenantMgtListener {", "originalCommit": "bb6c928b4a175847054763a19549aacd10199a8e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1MzQyNw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r442753427", "bodyText": "org.wso2.carbon.identity.core.AbstractIdentityTenantMgtListener", "author": "IsuraD", "createdAt": "2020-06-19T10:10:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjA3MjA5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1MzcxNQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r442753715", "bodyText": "rename to public void removeWorkflowParams(int tenantId)", "author": "IsuraD", "createdAt": "2020-06-19T10:11:01Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/dao/WorkflowDAO.java", "diffHunk": "@@ -232,7 +256,30 @@ public void removeWorkflowParams(String workflowId) throws InternalWorkflowExcep\n         }\n     }\n \n+    /**\n+     * Clear all the parameters of all the workflows of a given tenant.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws InternalWorkflowException\n+     */\n+    public void removeWorkflowParamsByTenantId(int tenantId) throws InternalWorkflowException {", "originalCommit": "bb6c928b4a175847054763a19549aacd10199a8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1Mzg0MQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r442753841", "bodyText": "Rename to public void removeWorkflows(int tenantId)", "author": "IsuraD", "createdAt": "2020-06-19T10:11:17Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/dao/WorkflowDAO.java", "diffHunk": "@@ -137,6 +137,30 @@ public void removeWorkflow(String workflowId) throws InternalWorkflowException {\n         }\n     }\n \n+    /**\n+     * Remove all workflows of a given tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws InternalWorkflowException\n+     */\n+    public void removeWorkflowByTenantId(int tenantId) throws InternalWorkflowException {", "originalCommit": "bb6c928b4a175847054763a19549aacd10199a8e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "url": "https://github.com/wso2/carbon-identity-framework/commit/12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "message": "Fix minor issues", "committedDate": "2020-06-21T19:42:56Z", "type": "commit"}, {"oid": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "url": "https://github.com/wso2/carbon-identity-framework/commit/12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "message": "Fix minor issues", "committedDate": "2020-06-21T19:42:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxMzY1Ng==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r551513656", "bodyText": "Fix the comments properly. Check all the places.", "author": "ashensw", "createdAt": "2021-01-04T19:15:45Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/WorkflowManagementAdminService.java", "diffHunk": "@@ -327,6 +327,22 @@ public void removeWorkflow(String id) throws WorkflowException {\n         }\n     }\n \n+    /**\n+     * Remove workflows by a given tenant id.\n+     *\n+     * @param tenantId Id of workflow to remove\n+     * @throws WorkflowException", "originalCommit": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5MjAwMw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r552992003", "bodyText": "Fixed in #3312", "author": "sumedhe", "createdAt": "2021-01-06T22:16:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxMzY1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNDU5OQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r551514599", "bodyText": "Is this semicolon needed?", "author": "ashensw", "createdAt": "2021-01-04T19:17:30Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/WorkflowManagementService.java", "diffHunk": "@@ -142,6 +142,16 @@ void addAssociation(String associationName, String workflowId, String eventId, S\n      */\n     void removeWorkflow(String id) throws WorkflowException;\n \n+    /**\n+     * Remove all workflows by tenant id.\n+     *\n+     * @param tenantId  Id of the tenant\n+     * @throws WorkflowException\n+     */\n+    default void removeWorkflows(int tenantId) throws WorkflowException {\n+\n+    };", "originalCommit": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5MjA5MA==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r552992090", "bodyText": "Fixed in #3312", "author": "sumedhe", "createdAt": "2021-01-06T22:17:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNDU5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNTMxMA==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r551515310", "bodyText": "The comments should start with a capital and end with a full stop. Fix all the other comments accordingly.", "author": "ashensw", "createdAt": "2021-01-04T19:18:56Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/WorkflowManagementServiceImpl.java", "diffHunk": "@@ -472,6 +473,39 @@ public void removeWorkflow(String workflowId) throws WorkflowException {\n         }\n     }\n \n+    /**\n+     * Remove all workflows by tenant id.\n+     *\n+     * @param tenantId  Id of the tenant\n+     * @throws WorkflowException\n+     */\n+    @Override\n+    public void removeWorkflows(int tenantId) throws WorkflowException {\n+\n+        if (log.isDebugEnabled()) {\n+            log.debug(\"Deleting all workflows of tenant: \" + tenantId);\n+        }\n+\n+        List<WorkflowListener> workflowListenerList = WorkflowServiceDataHolder.getInstance().getWorkflowListenerList();\n+\n+        // Invoke onPreDelete on workflow listeners", "originalCommit": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5MjM3Ng==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r552992376", "bodyText": "Fixed in #3312", "author": "sumedhe", "createdAt": "2021-01-06T22:17:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNTMxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNjE5Mw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r551516193", "bodyText": "Where the errorMessage is defined?", "author": "ashensw", "createdAt": "2021-01-04T19:20:42Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/dao/WorkflowDAO.java", "diffHunk": "@@ -137,6 +137,26 @@ public void removeWorkflow(String workflowId) throws InternalWorkflowException {\n         }\n     }\n \n+    /**\n+     * Remove all workflows of a given tenant id.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws InternalWorkflowException\n+     */\n+    public void removeWorkflows(int tenantId) throws InternalWorkflowException {\n+\n+        try (Connection connection = IdentityDatabaseUtil.getDBConnection(true)) {\n+            try (PreparedStatement prepStmt = connection.prepareStatement(SQLConstants\n+                    .DELETE_WORKFLOW_BY_TENANT_ID_QUERY)) {\n+                prepStmt.setInt(1, tenantId);\n+                prepStmt.executeUpdate();\n+                IdentityDatabaseUtil.commitTransaction(connection);\n+            }\n+        } catch (SQLException e) {\n+            throw new InternalWorkflowException(errorMessage, e);", "originalCommit": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5MzE3Ng==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r552993176", "bodyText": "It is defined in the beginning of the file, here.", "author": "sumedhe", "createdAt": "2021-01-06T22:19:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNjE5Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNjIzNg==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r551516236", "bodyText": "Where the errorMessage is defined?", "author": "ashensw", "createdAt": "2021-01-04T19:20:48Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/dao/WorkflowDAO.java", "diffHunk": "@@ -232,7 +252,26 @@ public void removeWorkflowParams(String workflowId) throws InternalWorkflowExcep\n         }\n     }\n \n+    /**\n+     * Clear all the parameters of all the workflows of a given tenant.\n+     *\n+     * @param tenantId Id of the tenant\n+     * @throws InternalWorkflowException\n+     */\n+    public void removeWorkflowParams(int tenantId) throws InternalWorkflowException {\n \n+        try (Connection connection = IdentityDatabaseUtil.getDBConnection(true)) {\n+            try (PreparedStatement prepStmt = connection.prepareStatement(SQLConstants\n+                    .DELETE_WORKFLOW_PARAMS_BY_TENANT_ID_QUERY)) {\n+                prepStmt.setInt(1, tenantId);\n+                prepStmt.executeUpdate();\n+                IdentityDatabaseUtil.commitTransaction(connection);\n+            }\n+        } catch (SQLException e) {\n+            throw new InternalWorkflowException(errorMessage, e);", "originalCommit": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5MzM3OQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r552993379", "bodyText": "It is defined in the beginning of the file, here.", "author": "sumedhe", "createdAt": "2021-01-06T22:20:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNjIzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNjk4NQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r551516985", "bodyText": "Fix the comments properly.", "author": "ashensw", "createdAt": "2021-01-04T19:22:17Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/listener/WorkflowTenantMgtListener.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.wso2.carbon.identity.workflow.mgt.listener;\n+\n+import org.wso2.carbon.identity.core.AbstractIdentityTenantMgtListener;\n+import org.wso2.carbon.identity.workflow.mgt.exception.WorkflowException;\n+import org.wso2.carbon.identity.workflow.mgt.internal.WorkflowServiceDataHolder;\n+import org.wso2.carbon.stratos.common.exception.StratosException;\n+\n+/**\n+ * Workflow Tenant Management Listener.\n+ */\n+public class WorkflowTenantMgtListener extends AbstractIdentityTenantMgtListener {\n+    private static final int EXEC_ORDER = 12;\n+\n+    /**\n+     * Get listener order.\n+     *\n+     * @return", "originalCommit": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5MzU4MQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r552993581", "bodyText": "Fixed in #3312", "author": "sumedhe", "createdAt": "2021-01-06T22:20:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNjk4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNzM2NQ==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r551517365", "bodyText": "Let's add a new line here.", "author": "ashensw", "createdAt": "2021-01-04T19:23:04Z", "path": "components/workflow-mgt/org.wso2.carbon.identity.workflow.mgt/src/main/java/org/wso2/carbon/identity/workflow/mgt/listener/WorkflowTenantMgtListener.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.wso2.carbon.identity.workflow.mgt.listener;\n+\n+import org.wso2.carbon.identity.core.AbstractIdentityTenantMgtListener;\n+import org.wso2.carbon.identity.workflow.mgt.exception.WorkflowException;\n+import org.wso2.carbon.identity.workflow.mgt.internal.WorkflowServiceDataHolder;\n+import org.wso2.carbon.stratos.common.exception.StratosException;\n+\n+/**\n+ * Workflow Tenant Management Listener.\n+ */\n+public class WorkflowTenantMgtListener extends AbstractIdentityTenantMgtListener {\n+    private static final int EXEC_ORDER = 12;", "originalCommit": "12fbf8f7c88c6d2603327181d5543b0a1329cdd4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk5MzUzNw==", "url": "https://github.com/wso2/carbon-identity-framework/pull/2953#discussion_r552993537", "bodyText": "Fixed in #3312", "author": "sumedhe", "createdAt": "2021-01-06T22:20:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTUxNzM2NQ=="}], "type": "inlineReview"}]}