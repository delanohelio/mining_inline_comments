{"pr_number": 10118, "pr_title": "Improve unknown function error for operators", "pr_createdAt": "2020-06-22T17:58:04Z", "pr_url": "https://github.com/crate/crate/pull/10118", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxNjg4Mg==", "url": "https://github.com/crate/crate/pull/10118#discussion_r444016882", "bodyText": "Did you consider to create a Function symbol to be able to delegate the formatting to the toString implementation of Function?", "author": "mfussenegger", "createdAt": "2020-06-23T07:27:51Z", "path": "server/src/main/java/io/crate/metadata/Functions.java", "diffHunk": "@@ -331,12 +335,50 @@ public FunctionImplementation getQualified(Signature signature,\n     private static UnsupportedOperationException raiseUnknownFunction(@Nullable String suppliedSchema,\n                                                                       String name,\n                                                                       List<? extends Symbol> arguments) {\n-        StringJoiner joiner = new StringJoiner(\", \");\n-        for (var arg : arguments) {\n-            joiner.add(arg.valueType().toString());\n+        String functionString = formatPossibleOperators(suppliedSchema, name, arguments);", "originalCommit": "913d200348f64cce4bf16d0aa25c25c324be09d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDA3OTMwNQ==", "url": "https://github.com/crate/crate/pull/10118#discussion_r444079305", "bodyText": "Did consider, but forget somehow. Pushed a fixup, thanks for the heads up.", "author": "seut", "createdAt": "2020-06-23T09:11:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxNjg4Mg=="}], "type": "inlineReview"}, {"oid": "471804ccbadd93c632f0723bf1d95a33e4b265db", "url": "https://github.com/crate/crate/commit/471804ccbadd93c632f0723bf1d95a33e4b265db", "message": "fixup! Improve unknown function error for operators", "committedDate": "2020-06-23T09:12:54Z", "type": "forcePushed"}, {"oid": "3cd70df81073bbee9470fba03da7d87fa9dc83ef", "url": "https://github.com/crate/crate/commit/3cd70df81073bbee9470fba03da7d87fa9dc83ef", "message": "Improve unknown function error for operators\n\nFormat the unknown operator in operator style, not function style.\nExample:\n  `unknown function: bool = ANY(integer)`", "committedDate": "2020-06-23T14:18:36Z", "type": "commit"}, {"oid": "3cd70df81073bbee9470fba03da7d87fa9dc83ef", "url": "https://github.com/crate/crate/commit/3cd70df81073bbee9470fba03da7d87fa9dc83ef", "message": "Improve unknown function error for operators\n\nFormat the unknown operator in operator style, not function style.\nExample:\n  `unknown function: bool = ANY(integer)`", "committedDate": "2020-06-23T14:18:36Z", "type": "forcePushed"}]}