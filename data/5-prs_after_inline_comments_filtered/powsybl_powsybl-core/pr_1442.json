{"pr_number": 1442, "pr_title": "Add support of events", "pr_createdAt": "2020-08-13T07:26:20Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1442", "timeline": [{"oid": "e574bc3765b42abf5b6d0d7f5da38f21b7666beb", "url": "https://github.com/powsybl/powsybl-core/commit/e574bc3765b42abf5b6d0d7f5da38f21b7666beb", "message": "Add support of events\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>", "committedDate": "2020-08-06T05:56:33Z", "type": "commit"}, {"oid": "fb688731ffa4837d823b1028784dc73bda7fff1e", "url": "https://github.com/powsybl/powsybl-core/commit/fb688731ffa4837d823b1028784dc73bda7fff1e", "message": "fix coverage\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>", "committedDate": "2020-08-13T09:53:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzMzM4Mw==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469833383", "bodyText": "I would rename this class EventModel", "author": "mathbagu", "createdAt": "2020-08-13T09:49:54Z", "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicEventModel.java", "diffHunk": "@@ -0,0 +1,14 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+\n+package com.powsybl.dynamicsimulation;\n+\n+/**\n+ * @author Marcos de Miguel <demiguelm at aia.es>\n+ */\n+public interface DynamicEventModel {", "originalCommit": "e574bc3765b42abf5b6d0d7f5da38f21b7666beb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1ODEyNA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469858124", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T10:35:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzMzM4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzMzYxOA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469833618", "bodyText": "I would rename this class EventModelsSupplier", "author": "mathbagu", "createdAt": "2020-08-13T09:50:18Z", "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicEventModelsSupplier.java", "diffHunk": "@@ -0,0 +1,20 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+\n+package com.powsybl.dynamicsimulation;\n+\n+import java.util.Collections;\n+\n+/**\n+ * @author Marcos de Miguel <demiguelm at aia.es>\n+ */\n+public interface DynamicEventModelsSupplier extends SimulatorInputSupplier<DynamicEventModel> {", "originalCommit": "e574bc3765b42abf5b6d0d7f5da38f21b7666beb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1ODE3Mg==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469858172", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T10:35:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzMzYxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzNDExMA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469834110", "bodyText": "I would rename this class EventModelGroovyExtension", "author": "mathbagu", "createdAt": "2020-08-13T09:51:13Z", "path": "dynamic-simulation/dynamic-simulation-dsl/src/main/java/com/powsybl/dynamicsimulation/groovy/DynamicEventModelGroovyExtension.java", "diffHunk": "@@ -0,0 +1,16 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+\n+package com.powsybl.dynamicsimulation.groovy;\n+\n+import com.powsybl.dynamicsimulation.DynamicEventModel;\n+\n+/**\n+ * @author Marcos de Miguel <demiguelm at aia.es>\n+ */\n+public interface DynamicEventModelGroovyExtension extends GroovyExtension<DynamicEventModel> {", "originalCommit": "e574bc3765b42abf5b6d0d7f5da38f21b7666beb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1ODI1MQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469858251", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T10:36:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzNDExMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzOTk5MQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469839991", "bodyText": "Rename this constant DYNAMIC_MODELS_FILE", "author": "mathbagu", "createdAt": "2020-08-13T10:01:24Z", "path": "dynamic-simulation/dynamic-simulation-tool/src/main/java/com/powsybl/dynamicsimulation/tool/DynamicSimulationTool.java", "diffHunk": "@@ -49,6 +52,7 @@\n \n     private static final String CASE_FILE = \"case-file\";\n     private static final String DYNAMIC_MODEL_FILE = \"dynamic-model-file\";", "originalCommit": "e574bc3765b42abf5b6d0d7f5da38f21b7666beb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1ODI5NA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469858294", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T10:36:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgzOTk5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0MDEzMg==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469840132", "bodyText": "Rename this constant EVENT_MODELS_FILE, and the parameter event-models-file to be consistent", "author": "mathbagu", "createdAt": "2020-08-13T10:01:39Z", "path": "dynamic-simulation/dynamic-simulation-tool/src/main/java/com/powsybl/dynamicsimulation/tool/DynamicSimulationTool.java", "diffHunk": "@@ -49,6 +52,7 @@\n \n     private static final String CASE_FILE = \"case-file\";\n     private static final String DYNAMIC_MODEL_FILE = \"dynamic-model-file\";\n+    private static final String DYNAMIC_EVENT_MODEL_FILE = \"events-file\";", "originalCommit": "e574bc3765b42abf5b6d0d7f5da38f21b7666beb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1ODM2Mg==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469858362", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T10:36:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0MDEzMg=="}], "type": "inlineReview"}, {"oid": "dcfa72205d3de4f72eb1366a07b9bac662b2701c", "url": "https://github.com/powsybl/powsybl-core/commit/dcfa72205d3de4f72eb1366a07b9bac662b2701c", "message": "Merge branch 'master' into EventsModel\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>", "committedDate": "2020-08-13T10:07:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0NTM0NQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469845345", "bodyText": "@marcosmc could you also rename the variable DYNAMIC_MODEL_FILE into DYNAMIC_MODELS_FILE? I forgot to do it in my PR. Thanks.", "author": "agnesLeroy", "createdAt": "2020-08-13T10:11:13Z", "path": "dynamic-simulation/dynamic-simulation-tool/src/main/java/com/powsybl/dynamicsimulation/tool/DynamicSimulationTool.java", "diffHunk": "@@ -49,6 +52,7 @@\n \n     private static final String CASE_FILE = \"case-file\";\n     private static final String DYNAMIC_MODEL_FILE = \"dynamic-models-file\";", "originalCommit": "dcfa72205d3de4f72eb1366a07b9bac662b2701c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1Nzc3Mg==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469857772", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T10:35:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0NTM0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0NjEwMg==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469846102", "bodyText": "@marcosmc could you change also dydSupplier into dynamicModelsSupplier please?", "author": "agnesLeroy", "createdAt": "2020-08-13T10:12:41Z", "path": "dynamic-simulation/dynamic-simulation-tool/src/main/java/com/powsybl/dynamicsimulation/tool/DynamicSimulationTool.java", "diffHunk": "@@ -149,7 +164,7 @@ public void run(CommandLine line, ToolRunningContext context) throws Exception {\n             JsonDynamicSimulationParameters.update(params, parametersFile);\n         }\n \n-        DynamicSimulationResult result = runner.run(network, dydSupplier, curvesSupplier, VariantManagerConstants.INITIAL_VARIANT_ID, context.getShortTimeExecutionComputationManager(), params);\n+        DynamicSimulationResult result = runner.run(network, dydSupplier, eventSupplier, curvesSupplier, VariantManagerConstants.INITIAL_VARIANT_ID, context.getShortTimeExecutionComputationManager(), params);", "originalCommit": "dcfa72205d3de4f72eb1366a07b9bac662b2701c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1Nzg1MQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469857851", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T10:35:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg0NjEwMg=="}], "type": "inlineReview"}, {"oid": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "url": "https://github.com/powsybl/powsybl-core/commit/446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "message": "fix review\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>", "committedDate": "2020-08-13T10:32:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5ODg2NQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469898865", "bodyText": "Please rename also dynamicEventModelsSupplier into eventModelsSupplier everywhere.", "author": "agnesLeroy", "createdAt": "2020-08-13T12:00:36Z", "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulation.java", "diffHunk": "@@ -58,13 +70,21 @@ public Runner(DynamicSimulationProvider provider) {\n             return runAsync(network, dynamicModelsSupplier, DynamicSimulationParameters.load());\n         }\n \n-        public DynamicSimulationResult run(Network network, DynamicModelsSupplier dynamicModelsSupplier, CurvesSupplier curvesSupplier, String workingVariantId, ComputationManager computationManager,\n+        public DynamicSimulationResult run(Network network, DynamicModelsSupplier dynamicModelsSupplier, EventModelsSupplier dynamicEventModelsSupplier, CurvesSupplier curvesSupplier, String workingVariantId, ComputationManager computationManager,", "originalCommit": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxMzI2Mg==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469913262", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:27:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5ODg2NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5OTI4Ng==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469899286", "bodyText": "Please rename also dynamicEventModelsSupplier into eventModelsSupplier here.", "author": "agnesLeroy", "createdAt": "2020-08-13T12:01:24Z", "path": "dynamic-simulation/dynamic-simulation-api/src/main/java/com/powsybl/dynamicsimulation/DynamicSimulationProvider.java", "diffHunk": "@@ -18,6 +18,7 @@\n  */\n public interface DynamicSimulationProvider extends Versionable, PlatformConfigNamedProvider {\n \n-    CompletableFuture<DynamicSimulationResult> run(Network network, DynamicModelsSupplier dynamicModelsSupplier, CurvesSupplier curvesSupplier, String workingVariantId, ComputationManager computationManager, DynamicSimulationParameters parameters);\n+    CompletableFuture<DynamicSimulationResult> run(Network network, DynamicModelsSupplier dynamicModelsSupplier, EventModelsSupplier dynamicEventModelsSupplier,", "originalCommit": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxMzMxOA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469913318", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:27:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5OTI4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5OTUzNQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469899535", "bodyText": "Please rename also dynamicEventModelsSupplier into eventModelsSupplier here.", "author": "agnesLeroy", "createdAt": "2020-08-13T12:01:52Z", "path": "dynamic-simulation/dynamic-simulation-api/src/test/java/com/powsybl/dynamicsimulation/AnotherDynamicSimulationProviderMock.java", "diffHunk": "@@ -27,8 +27,8 @@ public String getVersion() {\n     }\n \n     @Override\n-    public CompletableFuture<DynamicSimulationResult> run(Network network, DynamicModelsSupplier dynamicModelsSupplier, CurvesSupplier curvesSupplier,\n-        String workingVariantId, ComputationManager computationManager, DynamicSimulationParameters parameters) {\n+    public CompletableFuture<DynamicSimulationResult> run(Network network, DynamicModelsSupplier dynamicModelsSupplier, EventModelsSupplier dynamicEventModelsSupplier,", "originalCommit": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxMzM4Ng==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469913386", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:27:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5OTUzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5OTYyMw==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469899623", "bodyText": "Please rename also dynamicEventModelsSupplier into eventModelsSupplier here.", "author": "agnesLeroy", "createdAt": "2020-08-13T12:02:02Z", "path": "dynamic-simulation/dynamic-simulation-api/src/test/java/com/powsybl/dynamicsimulation/DynamicSimulationProviderMock.java", "diffHunk": "@@ -29,8 +29,8 @@ public String getVersion() {\n     }\n \n     @Override\n-    public CompletableFuture<DynamicSimulationResult> run(Network network, DynamicModelsSupplier dynamicModelsSupplier, CurvesSupplier curvesSupplier, String workingVariantId,\n-                                                          ComputationManager computationManager, DynamicSimulationParameters parameters) {\n+    public CompletableFuture<DynamicSimulationResult> run(Network network, DynamicModelsSupplier dynamicModelsSupplier, EventModelsSupplier dynamicEventModelsSupplier, CurvesSupplier curvesSupplier,", "originalCommit": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxMzQ1MA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469913450", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:27:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg5OTYyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkwMDk5MQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469900991", "bodyText": "Rename also this class -> GroovyEventModelSupplierTest", "author": "agnesLeroy", "createdAt": "2020-08-13T12:04:38Z", "path": "dynamic-simulation/dynamic-simulation-dsl/src/test/java/com/powsybl/dynamicsimulation/groovy/GroovyDynamicEventModelSupplierTest.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+\n+package com.powsybl.dynamicsimulation.groovy;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.file.FileSystem;\n+import java.nio.file.Files;\n+import java.util.List;\n+\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import com.google.common.jimfs.Configuration;\n+import com.google.common.jimfs.Jimfs;\n+import com.powsybl.dynamicsimulation.EventModel;\n+import com.powsybl.dynamicsimulation.EventModelsSupplier;\n+import com.powsybl.iidm.network.Network;\n+import com.powsybl.iidm.network.test.EurostagTutorialExample1Factory;\n+\n+/**\n+ * @author Marcos de Miguel <demiguelm at aia.es>\n+ */\n+public class GroovyDynamicEventModelSupplierTest {", "originalCommit": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxMzU5MA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469913590", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:27:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkwMDk5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkwMTE0Mw==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469901143", "bodyText": "Rename also the file eventModels.groovy", "author": "agnesLeroy", "createdAt": "2020-08-13T12:04:56Z", "path": "dynamic-simulation/dynamic-simulation-dsl/src/test/java/com/powsybl/dynamicsimulation/groovy/GroovyDynamicEventModelSupplierTest.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+\n+package com.powsybl.dynamicsimulation.groovy;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.file.FileSystem;\n+import java.nio.file.Files;\n+import java.util.List;\n+\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import com.google.common.jimfs.Configuration;\n+import com.google.common.jimfs.Jimfs;\n+import com.powsybl.dynamicsimulation.EventModel;\n+import com.powsybl.dynamicsimulation.EventModelsSupplier;\n+import com.powsybl.iidm.network.Network;\n+import com.powsybl.iidm.network.test.EurostagTutorialExample1Factory;\n+\n+/**\n+ * @author Marcos de Miguel <demiguelm at aia.es>\n+ */\n+public class GroovyDynamicEventModelSupplierTest {\n+\n+    private FileSystem fileSystem;\n+\n+    @Before\n+    public void setup() throws IOException {\n+        fileSystem = Jimfs.newFileSystem(Configuration.unix());\n+\n+        Files.copy(getClass().getResourceAsStream(\"/dynamicEventModels.groovy\"), fileSystem.getPath(\"/dynamicEventModels.groovy\"));", "originalCommit": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxMzY2Mw==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469913663", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:27:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkwMTE0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkwMTYwNw==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469901607", "bodyText": "Here also, the naming should be changed. You'll have\nDummyEventModel eventModel1 = (DummyEventModel) eventModels.get(0)", "author": "agnesLeroy", "createdAt": "2020-08-13T12:05:51Z", "path": "dynamic-simulation/dynamic-simulation-dsl/src/test/java/com/powsybl/dynamicsimulation/groovy/GroovyDynamicEventModelSupplierTest.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+\n+package com.powsybl.dynamicsimulation.groovy;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.file.FileSystem;\n+import java.nio.file.Files;\n+import java.util.List;\n+\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import com.google.common.jimfs.Configuration;\n+import com.google.common.jimfs.Jimfs;\n+import com.powsybl.dynamicsimulation.EventModel;\n+import com.powsybl.dynamicsimulation.EventModelsSupplier;\n+import com.powsybl.iidm.network.Network;\n+import com.powsybl.iidm.network.test.EurostagTutorialExample1Factory;\n+\n+/**\n+ * @author Marcos de Miguel <demiguelm at aia.es>\n+ */\n+public class GroovyDynamicEventModelSupplierTest {\n+\n+    private FileSystem fileSystem;\n+\n+    @Before\n+    public void setup() throws IOException {\n+        fileSystem = Jimfs.newFileSystem(Configuration.unix());\n+\n+        Files.copy(getClass().getResourceAsStream(\"/dynamicEventModels.groovy\"), fileSystem.getPath(\"/dynamicEventModels.groovy\"));\n+    }\n+\n+    @After\n+    public void tearDown() throws IOException {\n+        fileSystem.close();\n+    }\n+\n+    @Test\n+    public void test() {\n+        Network network = EurostagTutorialExample1Factory.create();\n+\n+        List<EventModelGroovyExtension> extensions = GroovyExtension.find(EventModelGroovyExtension.class, \"dummy\");\n+        assertEquals(1, extensions.size());\n+        assertTrue(extensions.get(0) instanceof EventModelGroovyExtension);\n+\n+        EventModelsSupplier supplier = new GroovyDynamicEventModelsSupplier(fileSystem.getPath(\"/dynamicEventModels.groovy\"), extensions);\n+\n+        List<EventModel> dynamicEventModels = supplier.get(network);\n+        assertEquals(2, dynamicEventModels.size());\n+\n+        assertTrue(dynamicEventModels.get(0) instanceof DummyEventModel);\n+        DummyEventModel dynamicModel1 = (DummyEventModel) dynamicEventModels.get(0);", "originalCommit": "446a57c2ba65edf11f3e841d3ceba2e6fc615fff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxMzc1MQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469913751", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:27:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkwMTYwNw=="}], "type": "inlineReview"}, {"oid": "ebcaef120f7f4d239d8850f0e8fa8b4f465bd2a9", "url": "https://github.com/powsybl/powsybl-core/commit/ebcaef120f7f4d239d8850f0e8fa8b4f465bd2a9", "message": "fix naming\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>", "committedDate": "2020-08-13T12:28:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxNTQ2OA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469915468", "bodyText": "Here dynamicModel1 and dynamicModel2 should be eventModel1 and eventModel2", "author": "agnesLeroy", "createdAt": "2020-08-13T12:31:01Z", "path": "dynamic-simulation/dynamic-simulation-dsl/src/test/java/com/powsybl/dynamicsimulation/groovy/GroovyEventModelSupplierTest.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+\n+package com.powsybl.dynamicsimulation.groovy;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.file.FileSystem;\n+import java.nio.file.Files;\n+import java.util.List;\n+\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+import com.google.common.jimfs.Configuration;\n+import com.google.common.jimfs.Jimfs;\n+import com.powsybl.dynamicsimulation.EventModel;\n+import com.powsybl.dynamicsimulation.EventModelsSupplier;\n+import com.powsybl.iidm.network.Network;\n+import com.powsybl.iidm.network.test.EurostagTutorialExample1Factory;\n+\n+/**\n+ * @author Marcos de Miguel <demiguelm at aia.es>\n+ */\n+public class GroovyEventModelSupplierTest {\n+\n+    private FileSystem fileSystem;\n+\n+    @Before\n+    public void setup() throws IOException {\n+        fileSystem = Jimfs.newFileSystem(Configuration.unix());\n+\n+        Files.copy(getClass().getResourceAsStream(\"/eventModels.groovy\"), fileSystem.getPath(\"/eventModels.groovy\"));\n+    }\n+\n+    @After\n+    public void tearDown() throws IOException {\n+        fileSystem.close();\n+    }\n+\n+    @Test\n+    public void test() {\n+        Network network = EurostagTutorialExample1Factory.create();\n+\n+        List<EventModelGroovyExtension> extensions = GroovyExtension.find(EventModelGroovyExtension.class, \"dummy\");\n+        assertEquals(1, extensions.size());\n+        assertTrue(extensions.get(0) instanceof EventModelGroovyExtension);\n+\n+        EventModelsSupplier supplier = new GroovyEventModelsSupplier(fileSystem.getPath(\"/eventModels.groovy\"), extensions);\n+\n+        List<EventModel> eventModels = supplier.get(network);\n+        assertEquals(2, eventModels.size());\n+\n+        assertTrue(eventModels.get(0) instanceof DummyEventModel);\n+        DummyEventModel dynamicModel1 = (DummyEventModel) eventModels.get(0);", "originalCommit": "ebcaef120f7f4d239d8850f0e8fa8b4f465bd2a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxNzE0NA==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469917144", "bodyText": "Done", "author": "marcosmc", "createdAt": "2020-08-13T12:34:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxNTQ2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxNzIyNw==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469917227", "bodyText": "Hum, I'm also thinking createMappingSupplier should be renamed into createDynamicModelsSupplier to be consistent", "author": "agnesLeroy", "createdAt": "2020-08-13T12:34:18Z", "path": "dynamic-simulation/dynamic-simulation-tool/src/main/java/com/powsybl/dynamicsimulation/tool/DynamicSimulationTool.java", "diffHunk": "@@ -134,8 +143,14 @@ public void run(CommandLine line, ToolRunningContext context) throws Exception {\n \n         DynamicSimulation.Runner runner = DynamicSimulation.find();\n \n-        Path dydFile = context.getFileSystem().getPath(line.getOptionValue(DYNAMIC_MODEL_FILE));\n-        DynamicModelsSupplier dydSupplier = createMappingSupplier(dydFile, runner.getName());\n+        Path dydFile = context.getFileSystem().getPath(line.getOptionValue(DYNAMIC_MODELS_FILE));\n+        DynamicModelsSupplier dynamicModelsSupplier = createMappingSupplier(dydFile, runner.getName());", "originalCommit": "ebcaef120f7f4d239d8850f0e8fa8b4f465bd2a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkyMDYxMw==", "url": "https://github.com/powsybl/powsybl-core/pull/1442#discussion_r469920613", "bodyText": "Done. Method createEventSupplier renamed to createEventModelsSupplier too.", "author": "marcosmc", "createdAt": "2020-08-13T12:40:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkxNzIyNw=="}], "type": "inlineReview"}, {"oid": "d39418dd25588d52bd60c87b46ec25a8870d07be", "url": "https://github.com/powsybl/powsybl-core/commit/d39418dd25588d52bd60c87b46ec25a8870d07be", "message": "fix test\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>", "committedDate": "2020-08-13T12:35:51Z", "type": "commit"}, {"oid": "91761670f19c03149c5356bc536adbf46a2f255b", "url": "https://github.com/powsybl/powsybl-core/commit/91761670f19c03149c5356bc536adbf46a2f255b", "message": "fix methods naming\n\nSigned-off-by: Marcos de Miguel <demiguelm@aia.es>", "committedDate": "2020-08-13T12:41:23Z", "type": "commit"}, {"oid": "8ce7bade9b59fdbcfa61660dd11d92be64f571f9", "url": "https://github.com/powsybl/powsybl-core/commit/8ce7bade9b59fdbcfa61660dd11d92be64f571f9", "message": "Merge branch 'master' into EventsModel", "committedDate": "2020-08-18T08:55:22Z", "type": "commit"}]}