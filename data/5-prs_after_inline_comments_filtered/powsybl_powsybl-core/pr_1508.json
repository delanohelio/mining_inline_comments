{"pr_number": 1508, "pr_title": "Add possibility to ensure alias unicity", "pr_createdAt": "2020-10-06T12:39:37Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1508", "timeline": [{"oid": "bfdb4fe0124f1373ae51eee655ce6c97aa55d998", "url": "https://github.com/powsybl/powsybl-core/commit/bfdb4fe0124f1373ae51eee655ce6c97aa55d998", "message": "Add alias test in merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-10-15T15:08:36Z", "type": "forcePushed"}, {"oid": "2c8becaf244d4eb33771b738cc0429409c872fec", "url": "https://github.com/powsybl/powsybl-core/commit/2c8becaf244d4eb33771b738cc0429409c872fec", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-10-19T10:36:30Z", "type": "forcePushed"}, {"oid": "f6240783fa579fb5d148cb38fb35c538f8d137b3", "url": "https://github.com/powsybl/powsybl-core/commit/f6240783fa579fb5d148cb38fb35c538f8d137b3", "message": "Add possibility to ensure alias unicity\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T13:34:03Z", "type": "commit"}, {"oid": "7dded2ac077fb1ee8fea395af1f3080da1744c09", "url": "https://github.com/powsybl/powsybl-core/commit/7dded2ac077fb1ee8fea395af1f3080da1744c09", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T13:34:03Z", "type": "commit"}, {"oid": "e6d9b34bd274dd3d3cb665602e56b7032a24b24c", "url": "https://github.com/powsybl/powsybl-core/commit/e6d9b34bd274dd3d3cb665602e56b7032a24b24c", "message": "Add alias test in merging view\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T13:34:03Z", "type": "commit"}, {"oid": "d5c3e489f27d1e97c396f32f70b70bc05fae934b", "url": "https://github.com/powsybl/powsybl-core/commit/d5c3e489f27d1e97c396f32f70b70bc05fae934b", "message": "Add tests\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T13:34:03Z", "type": "commit"}, {"oid": "e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "url": "https://github.com/powsybl/powsybl-core/commit/e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T13:34:03Z", "type": "commit"}, {"oid": "e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "url": "https://github.com/powsybl/powsybl-core/commit/e6a201a1411ddbdcab40c60589b2c7b4b2c5f9fa", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T13:34:03Z", "type": "forcePushed"}, {"oid": "8780255087847fa5dfc3c7cb874184244d38356c", "url": "https://github.com/powsybl/powsybl-core/commit/8780255087847fa5dfc3c7cb874184244d38356c", "message": "Small correction\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T14:24:17Z", "type": "commit"}, {"oid": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "url": "https://github.com/powsybl/powsybl-core/commit/86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "message": "Add test\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-03T14:24:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYyODYxOQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518628619", "bodyText": "I wonder if it should be a property of the NetworkIndex (Network.setEnsureAliasUnicity) that can be set globally.", "author": "mathbagu", "createdAt": "2020-11-06T09:33:23Z", "path": "iidm/iidm-api/src/main/java/com/powsybl/iidm/network/Identifiable.java", "diffHunk": "@@ -69,6 +69,10 @@ default String getName() {\n     default void addAlias(String alias) {\n     }\n \n+    default void addAlias(String alias, boolean ensureAliasUnicity) {\n+        addAlias(alias);\n+    }\n+", "originalCommit": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY0ODI2NQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r519648265", "bodyText": "I followed the same logic than setEnsureIdUnicity but that can be a good idea for both!", "author": "miovd", "createdAt": "2020-11-09T09:02:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYyODYxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk3OTkzNA==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r525979934", "bodyText": "I just came back to your comment, you seem to say it should not be set alias by alias but globally. I agree with you but do you think it should be the same for unique IDs?", "author": "miovd", "createdAt": "2020-11-18T10:33:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYyODYxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYyOTA2Mg==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518629062", "bodyText": "This could be considered as a breaking change because the default behaviour is not the same anymore", "author": "mathbagu", "createdAt": "2020-11-06T09:34:08Z", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractIdentifiable.java", "diffHunk": "@@ -80,20 +81,34 @@ public String getNameOrId() {\n \n     @Override\n     public void addAlias(String alias) {\n-        addAlias(alias, null);\n+        addAlias(alias, false);", "originalCommit": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTYzNzgyMw==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r519637823", "bodyText": "I don't think it changes the default behaviour, before my change, this method behaved as if unicity was not ensured: an exception was thrown when an already existing alias was passed", "author": "miovd", "createdAt": "2020-11-09T08:45:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYyOTA2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMDIxMw==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518630213", "bodyText": "uniqueAlias seems better than checkedAlias?", "author": "mathbagu", "createdAt": "2020-11-06T09:36:03Z", "path": "iidm/iidm-impl/src/main/java/com/powsybl/iidm/network/impl/AbstractIdentifiable.java", "diffHunk": "@@ -80,20 +81,34 @@ public String getNameOrId() {\n \n     @Override\n     public void addAlias(String alias) {\n-        addAlias(alias, null);\n+        addAlias(alias, false);\n+    }\n+\n+    @Override\n+    public void addAlias(String alias, boolean ensureAliasUnicity) {\n+        addAlias(alias, null, ensureAliasUnicity);\n     }\n \n     @Override\n     public void addAlias(String alias, String aliasType) {\n+        addAlias(alias, aliasType, false);\n+    }\n+\n+    @Override\n+    public void addAlias(String alias, String aliasType, boolean ensureAliasUnicity) {\n         Objects.requireNonNull(alias);\n+        String checkedAlias = alias;", "originalCommit": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMTAzMg==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r518631032", "bodyText": "In my memories, you looked different :)", "author": "mathbagu", "createdAt": "2020-11-06T09:37:30Z", "path": "iidm/iidm-impl/src/test/java/com/powsybl/iidm/network/impl/tck/AliasesTest.java", "diffHunk": "@@ -0,0 +1,15 @@\n+/*\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.iidm.network.impl.tck;\n+\n+import com.powsybl.iidm.network.tck.AbstractAliasesTest;\n+\n+/**\n+ * @author Sebastien Murgey <sebastien.murgey at rte-france.com>", "originalCommit": "86e6cf6f71dac033cbc45b39cb80d3b516ee892a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY0NzQ3Nw==", "url": "https://github.com/powsybl/powsybl-core/pull/1508#discussion_r519647477", "bodyText": "I only moved this file, I didn't create it, this is why I didn't change the author!", "author": "miovd", "createdAt": "2020-11-09T09:01:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODYzMTAzMg=="}], "type": "inlineReview"}, {"oid": "6c48baa4456f45a52a20e6b4a3e615dcf8868eb5", "url": "https://github.com/powsybl/powsybl-core/commit/6c48baa4456f45a52a20e6b4a3e615dcf8868eb5", "message": "Reviewer's comment: rename a variable\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-09T10:26:19Z", "type": "commit"}, {"oid": "a3f2872353dfea6da408ea3ed2d29f6ff5e5aec0", "url": "https://github.com/powsybl/powsybl-core/commit/a3f2872353dfea6da408ea3ed2d29f6ff5e5aec0", "message": "Merge branch 'master' into ensure_alias_unicity", "committedDate": "2020-11-26T10:24:42Z", "type": "commit"}, {"oid": "ca0af84e28695610239e089a941b02c9fa0d1f6f", "url": "https://github.com/powsybl/powsybl-core/commit/ca0af84e28695610239e089a941b02c9fa0d1f6f", "message": "Ensure alias unicity in cgmes import\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-26T10:37:57Z", "type": "commit"}, {"oid": "cf3c86201647c06871b56c4efd6cc711ce869a1c", "url": "https://github.com/powsybl/powsybl-core/commit/cf3c86201647c06871b56c4efd6cc711ce869a1c", "message": "Add ensure-id-alias-unicity in CgmesImport\n\nSigned-off-by: RALAMBOTIANA MIORA <miora.ralambotiana@rte-france.com>", "committedDate": "2020-11-26T16:23:50Z", "type": "commit"}]}