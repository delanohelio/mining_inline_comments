{"pr_number": 1542, "pr_title": "CgmesOnDataSource.exists(): check that we have an EQ profile", "pr_createdAt": "2020-11-06T17:39:44Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1542", "timeline": [{"oid": "ddc28d518138603484910c4d81d01b246afb1e77", "url": "https://github.com/powsybl/powsybl-core/commit/ddc28d518138603484910c4d81d01b246afb1e77", "message": "CgmesOnDataSource.exists(): check that we have an EQ profile\n\nSigned-off-by: Jon Harper <jon.harper87@gmail.com>", "committedDate": "2020-11-06T17:41:37Z", "type": "forcePushed"}, {"oid": "75fb9a47d80d9b19ccae5c6ce4d54c241f303882", "url": "https://github.com/powsybl/powsybl-core/commit/75fb9a47d80d9b19ccae5c6ce4d54c241f303882", "message": "CgmesOnDataSource.exists(): check that we have an EQ profile\n\nSigned-off-by: Jon Harper <jon.harper87@gmail.com>", "committedDate": "2020-11-06T18:13:06Z", "type": "commit"}, {"oid": "75fb9a47d80d9b19ccae5c6ce4d54c241f303882", "url": "https://github.com/powsybl/powsybl-core/commit/75fb9a47d80d9b19ccae5c6ce4d54c241f303882", "message": "CgmesOnDataSource.exists(): check that we have an EQ profile\n\nSigned-off-by: Jon Harper <jon.harper87@gmail.com>", "committedDate": "2020-11-06T18:13:06Z", "type": "forcePushed"}, {"oid": "c0708ef9f746c31a748133e765ab778ec81f45a0", "url": "https://github.com/powsybl/powsybl-core/commit/c0708ef9f746c31a748133e765ab778ec81f45a0", "message": "CgmesOnDataSource, Add tests for previous logic of exists()\n\nSigned-off-by: Jon Harper <jon.harper87@gmail.com>", "committedDate": "2020-11-09T11:27:10Z", "type": "commit"}, {"oid": "c0708ef9f746c31a748133e765ab778ec81f45a0", "url": "https://github.com/powsybl/powsybl-core/commit/c0708ef9f746c31a748133e765ab778ec81f45a0", "message": "CgmesOnDataSource, Add tests for previous logic of exists()\n\nSigned-off-by: Jon Harper <jon.harper87@gmail.com>", "committedDate": "2020-11-09T11:27:10Z", "type": "forcePushed"}, {"oid": "800e2d56aaac3e47e906405c43f694696aea928d", "url": "https://github.com/powsybl/powsybl-core/commit/800e2d56aaac3e47e906405c43f694696aea928d", "message": "Merge branch 'master' into fixcgmespartialimport", "committedDate": "2020-11-10T12:10:42Z", "type": "commit"}, {"oid": "43831fb0f14416d3e7c12a6093eb49559570d4d7", "url": "https://github.com/powsybl/powsybl-core/commit/43831fb0f14416d3e7c12a6093eb49559570d4d7", "message": "fix names of files in test\n\nSigned-off-by: Luma <zamarrenolm@aia.es>", "committedDate": "2020-11-10T15:02:27Z", "type": "commit"}, {"oid": "850c44b8af993bdc3432ab8b5fac29213b2932cd", "url": "https://github.com/powsybl/powsybl-core/commit/850c44b8af993bdc3432ab8b5fac29213b2932cd", "message": "increase coverage; uniform filename convention for test resources\n\nSigned-off-by: Luma <zamarrenolm@aia.es>", "committedDate": "2020-11-10T15:39:54Z", "type": "commit"}, {"oid": "85f37d3246487729564557da6368c002ac42a449", "url": "https://github.com/powsybl/powsybl-core/commit/85f37d3246487729564557da6368c002ac42a449", "message": "fix style\n\nSigned-off-by: Luma <zamarrenolm@aia.es>", "committedDate": "2020-11-10T15:44:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAwNDcyMw==", "url": "https://github.com/powsybl/powsybl-core/pull/1542#discussion_r524004723", "bodyText": "These methods can be static", "author": "MioRtia", "createdAt": "2020-11-16T09:13:52Z", "path": "cgmes/cgmes-model/src/test/java/com/powsybl/cgmes/model/CgmesOnDataSourceTest.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/**\n+ * Copyright (c) 2020, RTE (http://www.rte-france.com)\n+ * This Source Code Form is subject to the terms of the Mozilla Public\n+ * License, v. 2.0. If a copy of the MPL was not distributed with this\n+ * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n+ */\n+package com.powsybl.cgmes.model;\n+\n+import org.junit.Test;\n+\n+import com.powsybl.commons.datasource.ReadOnlyDataSource;\n+import com.powsybl.commons.datasource.ResourceDataSource;\n+import com.powsybl.commons.datasource.ResourceSet;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ * @author Jon Harper <jon.harper at rte-france.com>\n+ */\n+public class CgmesOnDataSourceTest {\n+\n+    private void doTestExists(String filename, String cimVersion, boolean expectedExists) {\n+        ReadOnlyDataSource dataSource = new ResourceDataSource(\"incomplete\",\n+                new ResourceSet(\"/\", filename));\n+        CgmesOnDataSource cgmesOnDataSource = new CgmesOnDataSource(dataSource);\n+        boolean exists = \"14\".equals(cimVersion) ? cgmesOnDataSource.existsCim14() : cgmesOnDataSource.exists();\n+        assertEquals(expectedExists, exists);\n+    }\n+\n+    private void doTestExistsEmpty(String profile, String cimVersion, boolean expectedExists) {\n+        String filename = \"empty_cim\" + cimVersion + \"_\" + profile + \".xml\";\n+        doTestExists(filename, cimVersion, expectedExists);\n+    }", "originalCommit": "85f37d3246487729564557da6368c002ac42a449", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5ae2c315d38826ab703f8f477f83ee27991c5a36", "url": "https://github.com/powsybl/powsybl-core/commit/5ae2c315d38826ab703f8f477f83ee27991c5a36", "message": "Review fixes\n\nSigned-off-by: Mathieu BAGUE <mathieu.bague@rte-france.com>", "committedDate": "2020-11-16T09:58:11Z", "type": "commit"}, {"oid": "542be112952825cc2955e780849e0f7d3e5d2b90", "url": "https://github.com/powsybl/powsybl-core/commit/542be112952825cc2955e780849e0f7d3e5d2b90", "message": "Merge branch 'master' into fixcgmespartialimport", "committedDate": "2020-11-16T10:00:33Z", "type": "commit"}, {"oid": "cdce338aa07f5a96e9a60a1bb7b3fea215e61a5c", "url": "https://github.com/powsybl/powsybl-core/commit/cdce338aa07f5a96e9a60a1bb7b3fea215e61a5c", "message": "Merge branch 'master' into fixcgmespartialimport", "committedDate": "2020-11-16T10:15:57Z", "type": "commit"}]}