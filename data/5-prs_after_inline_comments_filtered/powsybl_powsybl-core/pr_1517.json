{"pr_number": 1517, "pr_title": "Create LoadFlowResultJsonModule", "pr_createdAt": "2020-10-14T15:40:25Z", "pr_url": "https://github.com/powsybl/powsybl-core/pull/1517", "timeline": [{"oid": "5dd67f4b065a3799e787e77af47e077a7d37dc8d", "url": "https://github.com/powsybl/powsybl-core/commit/5dd67f4b065a3799e787e77af47e077a7d37dc8d", "message": "Create LoadFlowResultJsonModule\n\nSigned-off-by: HOMER Etienne <etiennehomer@gmail.com>", "committedDate": "2020-10-14T15:34:37Z", "type": "commit"}, {"oid": "e4e98af1238866fc874e19e997cd9a6bf67588f1", "url": "https://github.com/powsybl/powsybl-core/commit/e4e98af1238866fc874e19e997cd9a6bf67588f1", "message": "Temporary hack: make constructors public for Serializer et Deserializer\n\nSigned-off-by: HOMER Etienne <etiennehomer@gmail.com>", "committedDate": "2020-10-20T07:42:12Z", "type": "commit"}, {"oid": "cf4bba2790b87dd39d00ee0b5f5af2d0fd87846d", "url": "https://github.com/powsybl/powsybl-core/commit/cf4bba2790b87dd39d00ee0b5f5af2d0fd87846d", "message": "UT for LFResultJsonModule + remove temporary changes\n\nSigned-off-by: HOMER Etienne <etiennehomer@gmail.com>", "committedDate": "2020-10-21T15:38:30Z", "type": "commit"}, {"oid": "0910384b739ba021186c11c5d458eb16ef911234", "url": "https://github.com/powsybl/powsybl-core/commit/0910384b739ba021186c11c5d458eb16ef911234", "message": "Change back variable logs to log\n\nSigned-off-by: HOMER Etienne <etiennehomer@gmail.com>", "committedDate": "2020-10-21T15:52:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE0NzE2Mw==", "url": "https://github.com/powsybl/powsybl-core/pull/1517#discussion_r511147163", "bodyText": "Please update the copyright year. Is the copyright iTesla or RTE btw?", "author": "flo-dup", "createdAt": "2020-10-23T20:45:09Z", "path": "loadflow/loadflow-api/src/main/java/com/powsybl/loadflow/json/LoadFlowResultJsonModule.java", "diffHunk": "@@ -0,0 +1,21 @@\n+/**\n+ * Copyright (c) 2018, All partners of the iTesla project (http://www.itesla-project.eu/consortium)", "originalCommit": "0910384b739ba021186c11c5d458eb16ef911234", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc4NTY3MQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1517#discussion_r511785671", "bodyText": "Copyright (c) 2020, RTE (https://ww.rte-france.com)", "author": "mathbagu", "createdAt": "2020-10-26T08:26:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE0NzE2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE0Nzg0NQ==", "url": "https://github.com/powsybl/powsybl-core/pull/1517#discussion_r511147845", "bodyText": "You should also test that you can deserialize the string properly through an ObjectReader.", "author": "flo-dup", "createdAt": "2020-10-23T20:46:47Z", "path": "loadflow/loadflow-api/src/test/java/com/powsybl/loadflow/json/LoadFlowResultJsonTest.java", "diffHunk": "@@ -62,4 +67,17 @@ public void handleErrorTest() throws IOException {\n         LoadFlowResultDeserializer.read(getClass().getResourceAsStream(\"/LoadFlowResultVersion10Error.json\"));\n     }\n \n+    @Test\n+    public void loadFlowResultJsonModuleTest() throws IOException {\n+        ObjectMapper objectMapper = JsonUtil.createObjectMapper()\n+                .registerModule(new LoadFlowResultJsonModule());\n+        ObjectWriter writer = objectMapper.writerWithDefaultPrettyPrinter();\n+        ByteArrayOutputStream os = new ByteArrayOutputStream();\n+\n+        writer.writeValue(os, createVersion11());\n+        String result = new String(os.toByteArray(), StandardCharsets.UTF_8);\n+\n+        compareTxt(getClass().getResourceAsStream(\"/LoadFlowResultVersion11.json\"), result);", "originalCommit": "0910384b739ba021186c11c5d458eb16ef911234", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc4NzM5Ng==", "url": "https://github.com/powsybl/powsybl-core/pull/1517#discussion_r511787396", "bodyText": "Agree: a good and complete test will do a complete round-trip. I think you should also update the LoadFlowResultSerializer::write and LoadFlowResultDeserializer::read. In these two methods we create manually the module: if you replace this part by the module you have just created you will cover your new code.", "author": "mathbagu", "createdAt": "2020-10-26T08:29:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE0Nzg0NQ=="}], "type": "inlineReview"}, {"oid": "10036717f1e699fa63d7a8d1db758b2faed8d665", "url": "https://github.com/powsybl/powsybl-core/commit/10036717f1e699fa63d7a8d1db758b2faed8d665", "message": "Fix license\n\nSigned-off-by: HOMER Etienne <etiennehomer@gmail.com>", "committedDate": "2020-10-26T09:09:41Z", "type": "commit"}, {"oid": "e55fd52a7f8e487d607184f42a4dd04f5c8b29a0", "url": "https://github.com/powsybl/powsybl-core/commit/e55fd52a7f8e487d607184f42a4dd04f5c8b29a0", "message": "Use LoadFlowResultJsonModule for module registration\n\nSigned-off-by: HOMER Etienne <etiennehomer@gmail.com>", "committedDate": "2020-10-26T10:18:53Z", "type": "commit"}, {"oid": "d0ce2f5d262eb7e0c42f98572411e39e8c5c97ba", "url": "https://github.com/powsybl/powsybl-core/commit/d0ce2f5d262eb7e0c42f98572411e39e8c5c97ba", "message": "Fix indentation\n\nSigned-off-by: HOMER Etienne <etiennehomer@gmail.com>", "committedDate": "2020-10-26T10:30:47Z", "type": "commit"}, {"oid": "0010cdf33eafde94f9854664e358792a7dd78ab7", "url": "https://github.com/powsybl/powsybl-core/commit/0010cdf33eafde94f9854664e358792a7dd78ab7", "message": "Merge branch 'master' into add_jsonmodule_for_loadflow_result", "committedDate": "2020-11-06T09:25:27Z", "type": "commit"}]}