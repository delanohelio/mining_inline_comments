{"pr_number": 16510, "pr_title": "Do not check split-brain-protected presence when not enabled in config", "pr_createdAt": "2020-01-21T09:21:29Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/16510", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk1NTQwNQ==", "url": "https://github.com/hazelcast/hazelcast/pull/16510#discussion_r368955405", "bodyText": "Uber-minor: naming it splitBrainProtectionService or simply not extracting the local variable might be a better alternative since it's not called QuorumService anymore.", "author": "blazember", "createdAt": "2020-01-21T11:46:58Z", "path": "hazelcast/src/test/java/com/hazelcast/splitbrainprotection/SplitBrainProtectionTest.java", "diffHunk": "@@ -53,6 +53,26 @@\n @Category({QuickTest.class, ParallelJVMTest.class})\n public class SplitBrainProtectionTest extends HazelcastTestSupport {\n \n+    @Test\n+    public void testSplitBrainProtectionNotChecked_whenIsNotEnabled() {\n+        String disabledSBPName = \"disabled-quorum\";\n+        SplitBrainProtectionConfig disabledSBPConfig = new SplitBrainProtectionConfig()\n+                .setName(disabledSBPName)\n+                .setMinimumClusterSize(3);\n+\n+        MapConfig mapConfig = new MapConfig(randomMapName())\n+                .setSplitBrainProtectionName(disabledSBPName);\n+\n+        Config config = new Config()\n+                .addSplitBrainProtectionConfig(disabledSBPConfig)\n+                .addMapConfig(mapConfig);\n+        HazelcastInstance instance = createHazelcastInstance(config);\n+\n+        SplitBrainProtectionService quorumService = instance.getSplitBrainProtectionService();", "originalCommit": "e6636d5394eb447409c46ad9e0c1b41f6a922dce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk1ODE4NA==", "url": "https://github.com/hazelcast/hazelcast/pull/16510#discussion_r368958184", "bodyText": "Ah copy-paste from 3.x branch \ud83e\udd26\u200d\u2642", "author": "mdogan", "createdAt": "2020-01-21T11:53:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk1NTQwNQ=="}], "type": "inlineReview"}, {"oid": "4332db1e0884bdf5f3b08fc402dc0d61f1073662", "url": "https://github.com/hazelcast/hazelcast/commit/4332db1e0884bdf5f3b08fc402dc0d61f1073662", "message": "Do not check split-brain-protected presence when not enabled in config", "committedDate": "2020-01-21T11:55:20Z", "type": "commit"}, {"oid": "4332db1e0884bdf5f3b08fc402dc0d61f1073662", "url": "https://github.com/hazelcast/hazelcast/commit/4332db1e0884bdf5f3b08fc402dc0d61f1073662", "message": "Do not check split-brain-protected presence when not enabled in config", "committedDate": "2020-01-21T11:55:20Z", "type": "forcePushed"}]}