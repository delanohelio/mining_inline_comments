{"pr_number": 16502, "pr_title": "Correct forgotten places for client invoke on UUID ", "pr_createdAt": "2020-01-20T11:22:45Z", "pr_url": "https://github.com/hazelcast/hazelcast/pull/16502", "timeline": [{"oid": "0250a8b8e2d8eec3c3b14e8fce43ccbbe49c1327", "url": "https://github.com/hazelcast/hazelcast/commit/0250a8b8e2d8eec3c3b14e8fce43ccbbe49c1327", "message": "Make getting a member with uuid faster in ClientClusterService\n\nRefactored ClientClusterService so that getting a member with uuid\nis a hash table lookup instead of iterating all the member-list.\n\nWith changes in #16404, invocations are using the getMember(uuid) method\ngetMember(address) has no longer used internally.\n\nGetting connection from connection manager is also with uuid instead\nof address.", "committedDate": "2020-01-21T12:02:07Z", "type": "forcePushed"}, {"oid": "0a9f93743984390cf7bf24b2292a9af864106253", "url": "https://github.com/hazelcast/hazelcast/commit/0a9f93743984390cf7bf24b2292a9af864106253", "message": "Correct forgotten places for invokeOnUUID\n\nInitial pr was #16404. This pr, fixes more places related to invoke\non uuid usages.\n\nMake getting a member with uuid faster in ClientClusterService\nRefactored ClientClusterService so that getting a member with uuid\nis a hash table lookup instead of iterating all the member-list.\n\nInvocations are using the getMember(uuid) method.\nClientClusterService.getMember(address) has no longer used internally.\n\nGetting connection from connection manager is also with uuid instead\nof address.\n\nThe member uuid(returned from authentication) is checked against\ncurrently known uuid(in member list) when connected.", "committedDate": "2020-01-21T12:21:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTAwNjY2OQ==", "url": "https://github.com/hazelcast/hazelcast/pull/16502#discussion_r369006669", "bodyText": "Minor: fail()?", "author": "vojtechtoman", "createdAt": "2020-01-21T13:43:31Z", "path": "hazelcast/src/test/java/com/hazelcast/client/connectionstrategy/ConfiguredBehaviourTest.java", "diffHunk": "@@ -298,6 +298,12 @@ public void testReconnectModeASYNCTwoMembers() {\n             assertEquals(expectedMembers, actualMembers);\n         });\n \n-        map.get(1);\n+        assertTrueEventually(() -> {\n+            try {\n+                map.get(1);\n+            } catch (HazelcastClientOfflineException e) {\n+                assertTrue(false);", "originalCommit": "0a9f93743984390cf7bf24b2292a9af864106253", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "107b4d10b9cf10226d419c05c71356ab3e48d75b", "url": "https://github.com/hazelcast/hazelcast/commit/107b4d10b9cf10226d419c05c71356ab3e48d75b", "message": "Correct forgotten places for invokeOnUUID\n\nInitial pr was #16404. This pr, fixes more places related to invoke\non uuid usages.\n\nMake getting a member with uuid faster in ClientClusterService\nRefactored ClientClusterService so that getting a member with uuid\nis a hash table lookup instead of iterating all the member-list.\n\nInvocations are using the getMember(uuid) method.\nClientClusterService.getMember(address) has no longer used internally.\n\nGetting connection from connection manager is also with uuid instead\nof address.\n\nThe member uuid(returned from authentication) is checked against\ncurrently known uuid(in member list) when connected.", "committedDate": "2020-01-22T08:24:47Z", "type": "forcePushed"}, {"oid": "09fe11623bc65fcb5e1bf00b1a12fb9101dbcfa9", "url": "https://github.com/hazelcast/hazelcast/commit/09fe11623bc65fcb5e1bf00b1a12fb9101dbcfa9", "message": "Correct forgotten places for invokeOnUUID\n\nInitial pr was #16404. This pr, fixes more places related to invoke\non uuid usages.\n\nMake getting a member with uuid faster in ClientClusterService\nRefactored ClientClusterService so that getting a member with uuid\nis a hash table lookup instead of iterating all the member-list.\n\nInvocations are using the getMember(uuid) method.\nClientClusterService.getMember(address) has no longer used internally.\n\nGetting connection from connection manager is also with uuid instead\nof address.\n\nThe member uuid(returned from authentication) is checked against\ncurrently known uuid(in member list) when connected.", "committedDate": "2020-01-23T07:13:39Z", "type": "commit"}, {"oid": "a942b4f002a65e64da399b14c162bad42afae810", "url": "https://github.com/hazelcast/hazelcast/commit/a942b4f002a65e64da399b14c162bad42afae810", "message": "remove checkMemberUuid back. It does not work member restarted on the same address.", "committedDate": "2020-01-23T07:13:39Z", "type": "commit"}, {"oid": "48c5d0eef12d874d93bbb85d206698c1212b6074", "url": "https://github.com/hazelcast/hazelcast/commit/48c5d0eef12d874d93bbb85d206698c1212b6074", "message": "protocol changes", "committedDate": "2020-01-23T07:29:37Z", "type": "forcePushed"}, {"oid": "f03fad4cf15d1a076fc7b974b185e8b0fad431c4", "url": "https://github.com/hazelcast/hazelcast/commit/f03fad4cf15d1a076fc7b974b185e8b0fad431c4", "message": "protocol changes", "committedDate": "2020-01-23T07:41:00Z", "type": "commit"}, {"oid": "f03fad4cf15d1a076fc7b974b185e8b0fad431c4", "url": "https://github.com/hazelcast/hazelcast/commit/f03fad4cf15d1a076fc7b974b185e8b0fad431c4", "message": "protocol changes", "committedDate": "2020-01-23T07:41:00Z", "type": "forcePushed"}]}