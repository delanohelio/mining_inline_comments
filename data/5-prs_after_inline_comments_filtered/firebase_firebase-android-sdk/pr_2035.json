{"pr_number": 2035, "pr_title": "Propagate exceptions to the caller if Fis getToken call fails with an exception.", "pr_createdAt": "2020-10-02T18:41:08Z", "pr_url": "https://github.com/firebase/firebase-android-sdk/pull/2035", "timeline": [{"oid": "1d09152b2fcb2ee274c586a874056bbdce61a32f", "url": "https://github.com/firebase/firebase-android-sdk/commit/1d09152b2fcb2ee274c586a874056bbdce61a32f", "message": "Propagate exceptions to the caller if Fis getToken call fails with an\nexception.", "committedDate": "2020-10-02T18:34:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ3Mjk5Nw==", "url": "https://github.com/firebase/firebase-android-sdk/pull/2035#discussion_r503472997", "bodyText": "why don't we fail the completion source if an exception is triggered in the getId path?", "author": "ciarand", "createdAt": "2020-10-12T18:46:18Z", "path": "firebase-installations/src/main/java/com/google/firebase/installations/GetIdListener.java", "diffHunk": "@@ -42,8 +42,7 @@ public boolean onStateReached(PersistedInstallationEntry persistedInstallationEn\n   }\n \n   @Override\n-  public boolean onException(\n-      PersistedInstallationEntry persistedInstallationEntry, Exception exception) {\n+  public boolean onException(Exception exception) {\n     return false;", "originalCommit": "1d09152b2fcb2ee274c586a874056bbdce61a32f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzUyNjI0MA==", "url": "https://github.com/firebase/firebase-android-sdk/pull/2035#discussion_r503526240", "bodyText": "getId flow should never trigger to propagate exception because we immediately return an FID (when available or generating a new one) even before trying to register the FID with FIS servers.", "author": "ankitaj224", "createdAt": "2020-10-12T20:52:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ3Mjk5Nw=="}], "type": "inlineReview"}, {"oid": "510c613a2f5778ecefd236a4eefcf7cea89c33f9", "url": "https://github.com/firebase/firebase-android-sdk/commit/510c613a2f5778ecefd236a4eefcf7cea89c33f9", "message": "Merge branch 'master' of github.com:firebase/firebase-android-sdk into fisExceptionFix", "committedDate": "2020-10-12T22:06:43Z", "type": "commit"}, {"oid": "abf5e7426f4052a6d9c29ceeaed234b497325b40", "url": "https://github.com/firebase/firebase-android-sdk/commit/abf5e7426f4052a6d9c29ceeaed234b497325b40", "message": "Merge branch 'master' of github.com:firebase/firebase-android-sdk into fisExceptionFix", "committedDate": "2020-10-27T17:09:02Z", "type": "commit"}]}