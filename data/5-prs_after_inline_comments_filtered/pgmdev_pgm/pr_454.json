{"pr_number": 454, "pr_title": "Add more game rules", "pr_createdAt": "2020-05-03T22:04:51Z", "pr_url": "https://github.com/PGMDev/PGM/pull/454", "timeline": [{"oid": "6546765735af9b4b145c69aeff8bb36a4483533b", "url": "https://github.com/PGMDev/PGM/commit/6546765735af9b4b145c69aeff8bb36a4483533b", "message": "Add more game rules\n\nResolves Electroid/PGM#449\n\nSigned-off-by: TheMolkaPL <themolkapl@gmail.com>", "committedDate": "2020-05-03T22:03:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTE2OTI2Mw==", "url": "https://github.com/PGMDev/PGM/pull/454#discussion_r419169263", "bodyText": "I'd rather not maintain a list of game rules, just allow for any game rule or any value.", "author": "Electroid", "createdAt": "2020-05-03T22:30:38Z", "path": "core/src/main/java/tc/oc/pgm/gamerules/GameRule.java", "diffHunk": "@@ -1,30 +1,78 @@\n package tc.oc.pgm.gamerules;\n \n-public enum GameRule {\n-  DO_FIRE_TICK(\"doFireTick\"),\n-  DO_MOB_LOOT(\"doMobLoot\"),\n-  DO_TILE_DROPS(\"doTileDrops\"),\n-  MOB_GRIEFING(\"mobGriefing\"),\n-  NATURAL_REGENERATION(\"naturalRegeneration\"),\n-  DO_DAYLIGHT_CYCLE(\"doDaylightCycle\");\n-\n-  private String value;\n-\n-  GameRule(String value) {\n-    this.value = value;\n+import static com.google.common.base.Preconditions.*;\n+\n+import java.util.HashMap;\n+import java.util.Locale;\n+import java.util.Map;\n+import java.util.function.Predicate;\n+\n+public class GameRule<T> {\n+  private static final Map<String, GameRule<?>> RULES_BY_NAME = new HashMap<>();\n+\n+  public static final GameRule<Boolean> DO_DAYLIGHT_CYCLE =\n+      register(new BooleanGameRule(\"doDaylightCycle\"));\n+  public static final GameRule<Boolean> DO_ENTITY_DROPS =\n+      register(new BooleanGameRule(\"doEntityDrops\"));\n+  public static final GameRule<Boolean> DO_FIRE_TICK = register(new BooleanGameRule(\"doFireTick\"));\n+  public static final GameRule<Boolean> DO_MOB_LOOT = register(new BooleanGameRule(\"doMobLoot\"));\n+  public static final GameRule<Boolean> DO_MOB_SPAWNING =\n+      register(new BooleanGameRule(\"doMobSpawning\"));\n+  public static final GameRule<Boolean> DO_TILE_DROPS =\n+      register(new BooleanGameRule(\"doTileDrops\"));\n+  public static final GameRule<Boolean> KEEP_INVENTORY =\n+      register(new BooleanGameRule(\"keepInventory\"));\n+  public static final GameRule<Boolean> MOB_GRIEFING = register(new BooleanGameRule(\"mobGriefing\"));\n+  public static final GameRule<Boolean> NATURAL_REGENERATION =\n+      register(new BooleanGameRule(\"naturalRegeneration\"));\n+  public static final GameRule<Integer> RANDOM_TICK_SPEED =\n+      register(new IntegerGameRule(\"randomTickSpeed\"));\n+  public static final GameRule<Boolean> REDUCED_DEBUG_INFO =\n+      register(new BooleanGameRule(\"reducedDebugInfo\"));", "originalCommit": "6546765735af9b4b145c69aeff8bb36a4483533b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "caf9d763598cf4c135c52b4b424f72940d408e4f", "url": "https://github.com/PGMDev/PGM/commit/caf9d763598cf4c135c52b4b424f72940d408e4f", "message": "Parse game rules with any value\n\nSigned-off-by: TheMolkaPL <themolkapl@gmail.com>", "committedDate": "2020-05-04T12:56:35Z", "type": "commit"}, {"oid": "0d9629f9bf1483df9a0fd41cef05b71de8fb6ace", "url": "https://github.com/PGMDev/PGM/commit/0d9629f9bf1483df9a0fd41cef05b71de8fb6ace", "message": "Merge remote-tracking branch 'upstream/master' into more-game-rules", "committedDate": "2020-05-04T12:57:44Z", "type": "commit"}]}