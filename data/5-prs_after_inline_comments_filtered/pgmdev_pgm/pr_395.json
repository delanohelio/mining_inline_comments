{"pr_number": 395, "pr_title": "Introduce map-activity to the Datastore", "pr_createdAt": "2020-04-07T06:30:46Z", "pr_url": "https://github.com/PGMDev/PGM/pull/395", "timeline": [{"oid": "62dd57527af2760156fe078e7b7e43de8ee01e21", "url": "https://github.com/PGMDev/PGM/commit/62dd57527af2760156fe078e7b7e43de8ee01e21", "message": "Introduce pool-activity to Datastore\nMoves data written to map-pools.yml to the Datastore, allowing for\nedits to map-pools.yml to have no conflicts.\n\nSigned-off-by: applenick <applenick@users.noreply.github.com>", "committedDate": "2020-04-09T18:52:19Z", "type": "commit"}, {"oid": "62dd57527af2760156fe078e7b7e43de8ee01e21", "url": "https://github.com/PGMDev/PGM/commit/62dd57527af2760156fe078e7b7e43de8ee01e21", "message": "Introduce pool-activity to Datastore\nMoves data written to map-pools.yml to the Datastore, allowing for\nedits to map-pools.yml to have no conflicts.\n\nSigned-off-by: applenick <applenick@users.noreply.github.com>", "committedDate": "2020-04-09T18:52:19Z", "type": "forcePushed"}, {"oid": "fcf296bad6f16be761ae36874b630cd9946396d6", "url": "https://github.com/PGMDev/PGM/commit/fcf296bad6f16be761ae36874b630cd9946396d6", "message": "Merge branch 'master' into map-pool-file-fix", "committedDate": "2020-04-09T19:13:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk5ODg5MQ==", "url": "https://github.com/PGMDev/PGM/pull/395#discussion_r406998891", "bodyText": "MapActivity", "author": "Electroid", "createdAt": "2020-04-11T01:19:01Z", "path": "core/src/main/java/tc/oc/pgm/api/map/PoolActivity.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package tc.oc.pgm.api.map;\n+\n+import javax.annotation.Nullable;\n+\n+/* Represents data related to persisting map pool info between server restarts */\n+public interface PoolActivity {", "originalCommit": "fcf296bad6f16be761ae36874b630cd9946396d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk5ODkyMA==", "url": "https://github.com/PGMDev/PGM/pull/395#discussion_r406998920", "bodyText": "getMapName", "author": "Electroid", "createdAt": "2020-04-11T01:19:19Z", "path": "core/src/main/java/tc/oc/pgm/api/map/PoolActivity.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package tc.oc.pgm.api.map;\n+\n+import javax.annotation.Nullable;\n+\n+/* Represents data related to persisting map pool info between server restarts */\n+public interface PoolActivity {\n+\n+  /**\n+   * Get the name of the map pool.\n+   *\n+   * @return The name of the map pool\n+   */\n+  public String getPoolName();\n+\n+  /**\n+   * For rotation based pools, will be the map that is resumed upon server restart.\n+   *\n+   * @return The name of a map\n+   */\n+  public String getNextMap();", "originalCommit": "fcf296bad6f16be761ae36874b630cd9946396d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk5ODk0OA==", "url": "https://github.com/PGMDev/PGM/pull/395#discussion_r406998948", "bodyText": "isActive", "author": "Electroid", "createdAt": "2020-04-11T01:19:33Z", "path": "core/src/main/java/tc/oc/pgm/api/map/PoolActivity.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package tc.oc.pgm.api.map;\n+\n+import javax.annotation.Nullable;\n+\n+/* Represents data related to persisting map pool info between server restarts */\n+public interface PoolActivity {\n+\n+  /**\n+   * Get the name of the map pool.\n+   *\n+   * @return The name of the map pool\n+   */\n+  public String getPoolName();\n+\n+  /**\n+   * For rotation based pools, will be the map that is resumed upon server restart.\n+   *\n+   * @return The name of a map\n+   */\n+  public String getNextMap();\n+\n+  /**\n+   * Whether this map pool was the last active. If the map pool was the last active, it will be\n+   * resumed upon server restart.\n+   *\n+   * @return Whether the map pool was last active\n+   */\n+  public boolean isLastActive();", "originalCommit": "fcf296bad6f16be761ae36874b630cd9946396d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk5ODk3NQ==", "url": "https://github.com/PGMDev/PGM/pull/395#discussion_r406998975", "bodyText": "update", "author": "Electroid", "createdAt": "2020-04-11T01:19:46Z", "path": "core/src/main/java/tc/oc/pgm/api/map/PoolActivity.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package tc.oc.pgm.api.map;\n+\n+import javax.annotation.Nullable;\n+\n+/* Represents data related to persisting map pool info between server restarts */\n+public interface PoolActivity {\n+\n+  /**\n+   * Get the name of the map pool.\n+   *\n+   * @return The name of the map pool\n+   */\n+  public String getPoolName();\n+\n+  /**\n+   * For rotation based pools, will be the map that is resumed upon server restart.\n+   *\n+   * @return The name of a map\n+   */\n+  public String getNextMap();\n+\n+  /**\n+   * Whether this map pool was the last active. If the map pool was the last active, it will be\n+   * resumed upon server restart.\n+   *\n+   * @return Whether the map pool was last active\n+   */\n+  public boolean isLastActive();\n+\n+  /**\n+   * Updates the map pool activity in the {@link Datastore}\n+   *\n+   * @param nextMap Name of next map if rotation based.\n+   * @param active If this pool is the currently active one\n+   */\n+  public void updatePool(@Nullable String nextMap, boolean active);", "originalCommit": "fcf296bad6f16be761ae36874b630cd9946396d6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "90ef91282b001410ec5f56dd12593dc67d49b544", "url": "https://github.com/PGMDev/PGM/commit/90ef91282b001410ec5f56dd12593dc67d49b544", "message": "Rename PoolActivity to MapActivity\n* along with other method names\n\nSigned-off-by: applenick <applenick@users.noreply.github.com>", "committedDate": "2020-04-11T17:23:46Z", "type": "commit"}]}