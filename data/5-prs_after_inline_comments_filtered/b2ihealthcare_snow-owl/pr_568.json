{"pr_number": 568, "pr_title": "SO-4081: add shortcuts to ECL evaluator", "pr_createdAt": "2020-05-23T17:29:33Z", "pr_url": "https://github.com/b2ihealthcare/snow-owl/pull/568", "timeline": [{"oid": "0433b1ed2de1b18938cffee649ac7c9f55514efb", "url": "https://github.com/b2ihealthcare/snow-owl/commit/0433b1ed2de1b18938cffee649ac7c9f55514efb", "message": "SO-4081 #resolve\n\nAdd shortcuts to ECL evaluator:\nID1 OR ID2 OR IDN will result in flattenned ids(ID1, ID2, IDN)\nexpression (even when using parens).\nID1 AND ID2 AND IDN will result in match NONE expression (even when\nusing parens).\nX MINUS * will resultl in match NONE expression (even when using\nparens).\n`<`,`<<`,`<!`,`>`,`>>`,`>!`,`^` operators now detect if an any\nexpression is wrapped in parenthesis (eg. `<(*)`).", "committedDate": "2020-05-23T17:28:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4MDQ4Mg==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/568#discussion_r429880482", "bodyText": "Could this introduce confusion when an expression is deserialized for representation on the UI? I mean for disjunction we use 'OR' where there is no alternative, but for conjunction we use ',' where there is a written alternative 'AND'? (this does not take the credit for the PR itself, just being :philosoraptor:)", "author": "nagyo", "createdAt": "2020-05-25T11:18:42Z", "path": "snomed/com.b2international.snowowl.snomed.ecl/src/com/b2international/snowowl/snomed/ecl/Ecl.java", "diffHunk": "@@ -27,6 +27,7 @@\n \tpublic static final String ANY = \"*\";\n \tpublic static final int MAX_CARDINALITY = -1;\n \tpublic static final Joiner OR_JOINER = Joiner.on(\" OR \");\n+\tpublic static final Joiner AND_JOINER = Joiner.on(\",\");", "originalCommit": "0433b1ed2de1b18938cffee649ac7c9f55514efb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4NDYxNw==", "url": "https://github.com/b2ihealthcare/snow-owl/pull/568#discussion_r429884617", "bodyText": "Hmm, not sure, I assume if someone is writing ECL, he knows the actual ECL syntax, and commas are used in conjunctions. To simplify and make it consistent, I can change it to use the actual AND word as separator, instead of the ,.", "author": "cmark", "createdAt": "2020-05-25T11:29:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4MDQ4Mg=="}], "type": "inlineReview"}, {"oid": "931c02a58ae8c648703ad4966f8602a5bca3fdd7", "url": "https://github.com/b2ihealthcare/snow-owl/commit/931c02a58ae8c648703ad4966f8602a5bca3fdd7", "message": "SO-4081: change Ecl.and() to use `AND` instead of `,`", "committedDate": "2020-05-27T08:50:03Z", "type": "commit"}]}