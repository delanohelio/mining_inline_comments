{"pr_number": 2127, "pr_title": "Move accounting, reporting, and statistical methods out of Campaign", "pr_createdAt": "2020-10-07T18:38:06Z", "pr_url": "https://github.com/MegaMek/mekhq/pull/2127", "timeline": [{"oid": "04a16de448a0c7d576a6c3c64c9d23ae08384bae", "url": "https://github.com/MegaMek/mekhq/commit/04a16de448a0c7d576a6c3c64c9d23ae08384bae", "message": "Split out cargo and hangar statistics from Campaign", "committedDate": "2020-10-07T18:33:13Z", "type": "commit"}, {"oid": "796379c3c13e8dadad4ac4cfd29f02a30e9c2bd1", "url": "https://github.com/MegaMek/mekhq/commit/796379c3c13e8dadad4ac4cfd29f02a30e9c2bd1", "message": "Split out accounting from the Campaign", "committedDate": "2020-10-07T18:33:13Z", "type": "commit"}, {"oid": "a254e204d91c3fd90698936f8d21aba26aaf0142", "url": "https://github.com/MegaMek/mekhq/commit/a254e204d91c3fd90698936f8d21aba26aaf0142", "message": "Move PersonnelReport methods", "committedDate": "2020-10-07T18:33:14Z", "type": "commit"}, {"oid": "361dde24295aa66e89fea69823b01cf497cf4664", "url": "https://github.com/MegaMek/mekhq/commit/361dde24295aa66e89fea69823b01cf497cf4664", "message": "Move more financial reporting out of Campaign", "committedDate": "2020-10-07T18:33:14Z", "type": "commit"}, {"oid": "c28db6f06dec2b03e487c15f514685d852bdca1e", "url": "https://github.com/MegaMek/mekhq/commit/c28db6f06dec2b03e487c15f514685d852bdca1e", "message": "Remove unused methods", "committedDate": "2020-10-07T18:33:14Z", "type": "commit"}, {"oid": "039786019051fddf3af641c0cc0e35e7c85eb156", "url": "https://github.com/MegaMek/mekhq/commit/039786019051fddf3af641c0cc0e35e7c85eb156", "message": "Make testing Accountant easier for a Campaign", "committedDate": "2020-10-07T19:49:11Z", "type": "commit"}, {"oid": "a72b07d7b8ec62055140cd346314602fb020119e", "url": "https://github.com/MegaMek/mekhq/commit/a72b07d7b8ec62055140cd346314602fb020119e", "message": "Make it easier to mock stats classes", "committedDate": "2020-10-07T20:11:53Z", "type": "commit"}, {"oid": "63e028b04713a41ec415910ea4d0ed03a3678864", "url": "https://github.com/MegaMek/mekhq/commit/63e028b04713a41ec415910ea4d0ed03a3678864", "message": "Merge remote-tracking branch 'upstream/master' into move-accounting-and-stats-out-of-campaign", "committedDate": "2020-10-08T17:32:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MDgwNQ==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502690805", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n          \n          \n            \n                        if ((en instanceof GunEmplacement) || (en instanceof FighterSquadron) || (en instanceof Jumpship)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:17:06Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTAzMA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691030", "bodyText": "This looks weird", "author": "Windchild292", "createdAt": "2020-10-09T22:17:58Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxNTYyNA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502715624", "bodyText": "Probably is! I'll try and figure out why it's like this.", "author": "sixlettervariables", "createdAt": "2020-10-09T23:51:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTAzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTEyNA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691124", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_MECH) && (en instanceof Mech)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:18:16Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTE3Mw==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691173", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_DROPSHIP) && (en instanceof Dropship)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:18:26Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTIyNA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691224", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n          \n          \n            \n                        if ((type == Entity.ETYPE_SMALL_CRAFT) && (en instanceof SmallCraft)", "author": "Windchild292", "createdAt": "2020-10-09T22:18:38Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTI3Mg==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691272", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_CONV_FIGHTER) && (en instanceof ConvFighter)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:18:52Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTQwNg==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691406", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_AERO && en instanceof Aero\n          \n          \n            \n                                && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_AERO) && (en instanceof Aero)\n          \n          \n            \n                                && !((en instanceof SmallCraft) || (en instanceof ConvFighter))) {", "author": "Windchild292", "createdAt": "2020-10-09T22:19:20Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTQ4MA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691480", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_INFANTRY) && (en instanceof Infantry) && !(en instanceof BattleArmor)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:19:34Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTUzNQ==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691535", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_BATTLEARMOR) && (en instanceof BattleArmor)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:19:47Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTYxNQ==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691615", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n          \n          \n            \n                            if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_TANK) && (en instanceof Tank)) {\n          \n          \n            \n                            if (((en.getWeight() <= 50) && lv) || ((en.getWeight() > 50) && !lv)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:20:11Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTY2Ng==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691666", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_PROTOMECH) && (en instanceof Protomech)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:20:27Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTczMA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691730", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (en instanceof GunEmplacement || en instanceof Jumpship) {\n          \n          \n            \n                        if ((en instanceof GunEmplacement) || (en instanceof Jumpship)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:20:41Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTc4MA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691780", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_MECH) && (en instanceof Mech)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:20:56Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTgxNQ==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691815", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_DROPSHIP) && (en instanceof Dropship)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:21:07Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTg2Mw==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691863", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_SMALL_CRAFT) && (en instanceof SmallCraft) && !(en instanceof Dropship)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:21:20Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MTk0MQ==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502691941", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_CONV_FIGHTER) && (en instanceof ConvFighter)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:21:34Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjAwMg==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692002", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_BATTLEARMOR) && (en instanceof BattleArmor)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:21:48Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjA3Ng==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692076", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_INFANTRY) && (en instanceof Infantry) && !(en instanceof BattleArmor)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:21:59Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjE3NA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692174", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_AERO && en instanceof Aero\n          \n          \n            \n                                && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_AERO) && (en instanceof Aero)\n          \n          \n            \n                                && !((en instanceof SmallCraft) || (en instanceof ConvFighter))) {", "author": "Windchild292", "createdAt": "2020-10-09T22:22:21Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjI0MQ==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692241", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_TANK) && (en instanceof Tank)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:22:39Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjMzMA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692330", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n          \n          \n            \n                            if (((en.getWeight() <= 50) && lv) || ((en.getWeight() > 50) && !lv)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:22:52Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MjQwMg==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502692402", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n          \n          \n            \n                        if ((type == Entity.ETYPE_PROTOMECH) && (en instanceof Protomech)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:23:10Z", "path": "MekHQ/src/mekhq/campaign/unit/HangarStatistics.java", "diffHunk": "@@ -0,0 +1,255 @@\n+/*\n+ * HangarStatistics.java\n+ *\n+ * Copyright (c) 2020 - The MegaMek Team. All Rights Reserved.\n+ *\n+ * This file is part of MekHQ.\n+ *\n+ * MekHQ is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * MekHQ is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with MekHQ. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package mekhq.campaign.unit;\n+\n+import megamek.common.*;\n+import mekhq.campaign.Hangar;\n+\n+/**\n+ * Provides methods to gather statistics on units in a hangar.\n+ */\n+public class HangarStatistics {\n+    private final Hangar hangar;\n+\n+    public HangarStatistics(Hangar hangar) {\n+        this.hangar = hangar;\n+    }\n+\n+    public Hangar getHangar() {\n+        return hangar;\n+    }\n+\n+    public int getNumberOfUnitsByType(long type) {\n+        return getNumberOfUnitsByType(type, false, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit) {\n+        return getNumberOfUnitsByType(type, inTransit, false);\n+    }\n+\n+    public int getNumberOfUnitsByType(long type, boolean inTransit, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (!inTransit && !unit.isPresent()) {\n+                continue;\n+            }\n+            if (unit.isMothballed()) {\n+                if (type == Unit.ETYPE_MOTHBALLED) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof FighterSquadron || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft\n+                    && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {\n+                num++;\n+            }\n+        }\n+\n+        return num;\n+    }\n+\n+    public int getOccupiedBays(long type) {\n+        return getOccupiedBays(type, false);\n+    }\n+\n+    public int getOccupiedBays(long type, boolean lv) {\n+        int num = 0;\n+        for (Unit unit : getHangar().getUnits()) {\n+            if (unit.isMothballed()) {\n+                continue;\n+            }\n+            Entity en = unit.getEntity();\n+            if (en instanceof GunEmplacement || en instanceof Jumpship) {\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_MECH && en instanceof Mech) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_DROPSHIP && en instanceof Dropship) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_SMALL_CRAFT && en instanceof SmallCraft && !(en instanceof Dropship)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_CONV_FIGHTER && en instanceof ConvFighter) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_AERO && en instanceof Aero\n+                    && !(en instanceof SmallCraft || en instanceof ConvFighter)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_INFANTRY && en instanceof Infantry && !(en instanceof BattleArmor)) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_BATTLEARMOR && en instanceof BattleArmor) {\n+                num++;\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_TANK && en instanceof Tank) {\n+                if ((en.getWeight() <= 50 && lv) || (en.getWeight() > 50 && !lv)) {\n+                    num++;\n+                }\n+                continue;\n+            }\n+            if (type == Entity.ETYPE_PROTOMECH && en instanceof Protomech) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzEyNg==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693126", "bodyText": "This looks weird", "author": "Windchild292", "createdAt": "2020-10-09T22:25:44Z", "path": "MekHQ/src/mekhq/campaign/CampaignSummary.java", "diffHunk": "@@ -146,41 +148,43 @@ public void updateInformation() {\n                 countMissionByStatus[Mission.S_BREACH];\n \n         //cargo capacity\n-        cargoCapacity = campaign.getTotalCombinedCargoCapacity();\n-        cargoTons = campaign.getCargoTonnage(false);\n-        double mothballedTonnage = campaign.getCargoTonnage(false, true);\n+        CargoStatistics cargoStats = campaign.getCargoStatistics();\n+        cargoCapacity = cargoStats.getTotalCombinedCargoCapacity();\n+        cargoTons = cargoStats.getCargoTonnage(false);\n+        double mothballedTonnage = cargoStats.getCargoTonnage(false, true);\n         cargoTons = (cargoTons + mothballedTonnage);\n \n         //transport capacity\n-        int noMech = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_MECH) - campaign.getOccupiedBays(Entity.ETYPE_MECH), 0);\n-        int noSC = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - campaign.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n+        HangarStatistics hangarStats = campaign.getHangarStatistics();\n+        int noMech = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_MECH) - hangarStats.getOccupiedBays(Entity.ETYPE_MECH), 0);\n+        int noSC = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - hangarStats.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n         @SuppressWarnings(\"unused\") // FIXME: What type of bays do ConvFighters use?\n-                int noCF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - campaign.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);\n-        int noASF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_AERO) - campaign.getOccupiedBays(Entity.ETYPE_AERO), 0);\n-        int nolv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK, false, true) - campaign.getOccupiedBays(Entity.ETYPE_TANK, true), 0);\n-        int nohv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK) - campaign.getOccupiedBays(Entity.ETYPE_TANK), 0);\n-        int noinf = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_INFANTRY) - campaign.getOccupiedBays(Entity.ETYPE_INFANTRY), 0);\n-        int noBA = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_BATTLEARMOR) - campaign.getOccupiedBays(Entity.ETYPE_BATTLEARMOR), 0);\n+                int noCF = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - hangarStats.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxNTcxMw==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502715713", "bodyText": "Probably is! I'll try and figure out why it's like this.", "author": "sixlettervariables", "createdAt": "2020-10-09T23:52:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzEyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzI1Mw==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693253", "bodyText": "This looks weird", "author": "Windchild292", "createdAt": "2020-10-09T22:26:12Z", "path": "MekHQ/src/mekhq/campaign/CampaignSummary.java", "diffHunk": "@@ -146,41 +148,43 @@ public void updateInformation() {\n                 countMissionByStatus[Mission.S_BREACH];\n \n         //cargo capacity\n-        cargoCapacity = campaign.getTotalCombinedCargoCapacity();\n-        cargoTons = campaign.getCargoTonnage(false);\n-        double mothballedTonnage = campaign.getCargoTonnage(false, true);\n+        CargoStatistics cargoStats = campaign.getCargoStatistics();\n+        cargoCapacity = cargoStats.getTotalCombinedCargoCapacity();\n+        cargoTons = cargoStats.getCargoTonnage(false);\n+        double mothballedTonnage = cargoStats.getCargoTonnage(false, true);\n         cargoTons = (cargoTons + mothballedTonnage);\n \n         //transport capacity\n-        int noMech = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_MECH) - campaign.getOccupiedBays(Entity.ETYPE_MECH), 0);\n-        int noSC = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - campaign.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n+        HangarStatistics hangarStats = campaign.getHangarStatistics();\n+        int noMech = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_MECH) - hangarStats.getOccupiedBays(Entity.ETYPE_MECH), 0);\n+        int noSC = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_SMALL_CRAFT) - hangarStats.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n         @SuppressWarnings(\"unused\") // FIXME: What type of bays do ConvFighters use?\n-                int noCF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - campaign.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);\n-        int noASF = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_AERO) - campaign.getOccupiedBays(Entity.ETYPE_AERO), 0);\n-        int nolv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK, false, true) - campaign.getOccupiedBays(Entity.ETYPE_TANK, true), 0);\n-        int nohv = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_TANK) - campaign.getOccupiedBays(Entity.ETYPE_TANK), 0);\n-        int noinf = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_INFANTRY) - campaign.getOccupiedBays(Entity.ETYPE_INFANTRY), 0);\n-        int noBA = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_BATTLEARMOR) - campaign.getOccupiedBays(Entity.ETYPE_BATTLEARMOR), 0);\n+                int noCF = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_CONV_FIGHTER) - hangarStats.getOccupiedBays(Entity.ETYPE_CONV_FIGHTER), 0);\n+        int noASF = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_AERO) - hangarStats.getOccupiedBays(Entity.ETYPE_AERO), 0);\n+        int nolv = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_TANK, false, true) - hangarStats.getOccupiedBays(Entity.ETYPE_TANK, true), 0);\n+        int nohv = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_TANK) - hangarStats.getOccupiedBays(Entity.ETYPE_TANK), 0);\n+        int noinf = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_INFANTRY) - hangarStats.getOccupiedBays(Entity.ETYPE_INFANTRY), 0);\n+        int noBA = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_BATTLEARMOR) - hangarStats.getOccupiedBays(Entity.ETYPE_BATTLEARMOR), 0);\n         @SuppressWarnings(\"unused\") // FIXME: This should be used somewhere...\n-                int noProto = Math.max(campaign.getNumberOfUnitsByType(Entity.ETYPE_PROTOMECH) - campaign.getOccupiedBays(Entity.ETYPE_PROTOMECH),  0);\n-        int freehv = Math.max(campaign.getTotalHeavyVehicleBays() - campaign.getOccupiedBays(Entity.ETYPE_TANK), 0);\n-        int freeSC = Math.max(campaign.getTotalSmallCraftBays() - campaign.getOccupiedBays(Entity.ETYPE_SMALL_CRAFT), 0);\n+                int noProto = Math.max(hangarStats.getNumberOfUnitsByType(Entity.ETYPE_PROTOMECH) - hangarStats.getOccupiedBays(Entity.ETYPE_PROTOMECH),  0);", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxNTUxNA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502715514", "bodyText": "Probably is! I'll try and figure out why it's like this.", "author": "sixlettervariables", "createdAt": "2020-10-09T23:51:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzI1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgxMzQ2NA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502813464", "bodyText": "This code has been there for a while, not sure exactly what its doing with the calcs but they were approved as valid back when this was introduced. I don't believe I changed the math any.", "author": "sixlettervariables", "createdAt": "2020-10-10T17:36:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzI1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzYxOA==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693618", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (getCampaign().getCampaignOptions().useAdvancedMedical() && p.getInjuries().size() > 0) {\n          \n          \n            \n                            if (getCampaign().getCampaignOptions().useAdvancedMedical() && (p.getInjuries().size() > 0)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:27:26Z", "path": "MekHQ/src/mekhq/campaign/report/PersonnelReport.java", "diffHunk": "@@ -27,53 +27,184 @@\n import javax.swing.JTextPane;\n \n import mekhq.campaign.Campaign;\n-\n-\n+import mekhq.campaign.finances.Money;\n+import mekhq.campaign.personnel.Person;\n \n /**\n  * @author Jay Lawson\n- * @version %I% %G%\n- * @since 3/12/2012\n  */\n public class PersonnelReport extends Report {\n-  \n-    \n+\n+\n     public PersonnelReport(Campaign c) {\n         super(c);\n     }\n-    \n+\n     public String getTitle() {\n         return \"Personnel Report\";\n     }\n-    \n+\n     public JTextPane getCombatPersonnelReport() {\n     \t// Load combat personnel\n         JTextPane txtCombat = new JTextPane();\n         txtCombat.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtCombat.setText(getCampaign().getCombatPersonnelDetails());\n+        txtCombat.setText(getCombatPersonnelDetails());\n         return txtCombat;\n     }\n-    \n+\n     public JTextPane getSupportPersonnelReport() {\n     \t// Load support personnel\n         JTextPane txtSupport = new JTextPane();\n         txtSupport.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtSupport.setText(getCampaign().getSupportPersonnelDetails());\n+        txtSupport.setText(getSupportPersonnelDetails());\n         return txtSupport;\n     }\n-      \n+\n     public JTextPane getReport() {\n         // SplitPane them\n         JSplitPane splitOverviewPersonnel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, getCombatPersonnelReport(), getSupportPersonnelReport());\n \t\tsplitOverviewPersonnel.setName(\"splitOverviewPersonnel\");\n \t\tsplitOverviewPersonnel.setOneTouchExpandable(true);\n \t\tsplitOverviewPersonnel.setResizeWeight(0.5);\n-        \n+\n \t\t// Actual report pane\n \t\tJTextPane txtReport = new JTextPane();\n         txtReport.setMinimumSize(new Dimension(800, 500));\n         txtReport.insertComponent(splitOverviewPersonnel);\n         return txtReport;\n     }\n-   \n-}\n\\ No newline at end of file\n+\n+    public String getCombatPersonnelDetails() {\n+        int[] countPersonByType = new int[Person.T_NUM];\n+        int countTotal = 0;\n+        int countInjured = 0;\n+        int countMIA = 0;\n+        int countKIA = 0;\n+        int countDead = 0;\n+        int countRetired = 0;\n+        Money salary = Money.zero();\n+\n+        for (Person p : getCampaign().getPersonnel()) {\n+            if (!p.hasPrimaryCombatRole() || !p.getPrisonerStatus().isFree()) {\n+                continue;\n+            }\n+\n+            // Add them to the total count\n+            if (p.getStatus().isActive()) {\n+                countPersonByType[p.getPrimaryRole()]++;\n+                countTotal++;\n+                if (getCampaign().getCampaignOptions().useAdvancedMedical() && p.getInjuries().size() > 0) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY5MzcwNQ==", "url": "https://github.com/MegaMek/mekhq/pull/2127#discussion_r502693705", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (p.getInjuries().size() > 0 || p.getHits() > 0) {\n          \n          \n            \n                            if ((p.getInjuries().size() > 0) || (p.getHits() > 0)) {", "author": "Windchild292", "createdAt": "2020-10-09T22:27:51Z", "path": "MekHQ/src/mekhq/campaign/report/PersonnelReport.java", "diffHunk": "@@ -27,53 +27,184 @@\n import javax.swing.JTextPane;\n \n import mekhq.campaign.Campaign;\n-\n-\n+import mekhq.campaign.finances.Money;\n+import mekhq.campaign.personnel.Person;\n \n /**\n  * @author Jay Lawson\n- * @version %I% %G%\n- * @since 3/12/2012\n  */\n public class PersonnelReport extends Report {\n-  \n-    \n+\n+\n     public PersonnelReport(Campaign c) {\n         super(c);\n     }\n-    \n+\n     public String getTitle() {\n         return \"Personnel Report\";\n     }\n-    \n+\n     public JTextPane getCombatPersonnelReport() {\n     \t// Load combat personnel\n         JTextPane txtCombat = new JTextPane();\n         txtCombat.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtCombat.setText(getCampaign().getCombatPersonnelDetails());\n+        txtCombat.setText(getCombatPersonnelDetails());\n         return txtCombat;\n     }\n-    \n+\n     public JTextPane getSupportPersonnelReport() {\n     \t// Load support personnel\n         JTextPane txtSupport = new JTextPane();\n         txtSupport.setFont(new Font(\"Courier New\", Font.PLAIN, 12));\n-        txtSupport.setText(getCampaign().getSupportPersonnelDetails());\n+        txtSupport.setText(getSupportPersonnelDetails());\n         return txtSupport;\n     }\n-      \n+\n     public JTextPane getReport() {\n         // SplitPane them\n         JSplitPane splitOverviewPersonnel = new JSplitPane(JSplitPane.HORIZONTAL_SPLIT, getCombatPersonnelReport(), getSupportPersonnelReport());\n \t\tsplitOverviewPersonnel.setName(\"splitOverviewPersonnel\");\n \t\tsplitOverviewPersonnel.setOneTouchExpandable(true);\n \t\tsplitOverviewPersonnel.setResizeWeight(0.5);\n-        \n+\n \t\t// Actual report pane\n \t\tJTextPane txtReport = new JTextPane();\n         txtReport.setMinimumSize(new Dimension(800, 500));\n         txtReport.insertComponent(splitOverviewPersonnel);\n         return txtReport;\n     }\n-   \n-}\n\\ No newline at end of file\n+\n+    public String getCombatPersonnelDetails() {\n+        int[] countPersonByType = new int[Person.T_NUM];\n+        int countTotal = 0;\n+        int countInjured = 0;\n+        int countMIA = 0;\n+        int countKIA = 0;\n+        int countDead = 0;\n+        int countRetired = 0;\n+        Money salary = Money.zero();\n+\n+        for (Person p : getCampaign().getPersonnel()) {\n+            if (!p.hasPrimaryCombatRole() || !p.getPrisonerStatus().isFree()) {\n+                continue;\n+            }\n+\n+            // Add them to the total count\n+            if (p.getStatus().isActive()) {\n+                countPersonByType[p.getPrimaryRole()]++;\n+                countTotal++;\n+                if (getCampaign().getCampaignOptions().useAdvancedMedical() && p.getInjuries().size() > 0) {\n+                    countInjured++;\n+                } else if (p.getHits() > 0) {\n+                    countInjured++;\n+                }\n+                salary = salary.plus(p.getSalary());\n+            } else if (p.getStatus().isRetired()) {\n+                countRetired++;\n+            } else if (p.getStatus().isMIA()) {\n+                countMIA++;\n+            } else if (p.getStatus().isKIA()) {\n+                countKIA++;\n+                countDead++;\n+            } else if (p.getStatus().isDead()) {\n+                countDead++;\n+            }\n+        }\n+\n+        StringBuilder sb = new StringBuilder(\"Combat Personnel\\n\\n\");\n+\n+        sb.append(String.format(\"%-30s        %4s\\n\", \"Total Combat Personnel\", countTotal));\n+\n+        for (int i = 0; i < Person.T_NUM; i++) {\n+            if (Person.isCombatRole(i)) {\n+                sb.append(String.format(\"    %-30s    %4s\\n\",\n+                        Person.getRoleDesc(i, getCampaign().getFaction().isClan()), countPersonByType[i]));\n+            }\n+        }\n+\n+        sb.append(\"\\n\")\n+                .append(String.format(\"%-30s        %4s\\n\", \"Injured Combat Personnel\", countInjured))\n+                .append(String.format(\"%-30s        %4s\\n\", \"MIA Combat Personnel\", countMIA))\n+                .append(String.format(\"%-30s        %4s\\n\", \"KIA Combat Personnel\", countKIA))\n+                .append(String.format(\"%-30s        %4s\\n\", \"Retired Combat Personnel\", countRetired))\n+                .append(String.format(\"%-30s        %4s\\n\", \"Dead Combat Personnel\", countDead))\n+                .append(\"\\nMonthly Salary For Combat Personnel: \").append(salary.toAmountAndSymbolString());\n+\n+        return sb.toString();\n+    }\n+\n+    public String getSupportPersonnelDetails() {\n+        int[] countPersonByType = new int[Person.T_NUM];\n+        int countTotal = 0;\n+        int countInjured = 0;\n+        int countMIA = 0;\n+        int countKIA = 0;\n+        int countDead = 0;\n+        int countRetired = 0;\n+        Money salary = Money.zero();\n+        int prisoners = 0;\n+        int bondsmen = 0;\n+        int dependents = 0;\n+\n+        for (Person p : getCampaign().getPersonnel()) {\n+            // Add them to the total count\n+            boolean primarySupport = p.hasPrimarySupportRole(false);\n+\n+            if (primarySupport && p.getPrisonerStatus().isFree() && p.getStatus().isActive()) {\n+                countPersonByType[p.getPrimaryRole()]++;\n+                countTotal++;\n+                if (p.getInjuries().size() > 0 || p.getHits() > 0) {", "originalCommit": "63e028b04713a41ec415910ea4d0ed03a3678864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ae160c312c596649031fb2c9206d8ce736959c59", "url": "https://github.com/MegaMek/mekhq/commit/ae160c312c596649031fb2c9206d8ce736959c59", "message": "Apply suggestions from code review\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>", "committedDate": "2020-10-10T17:35:29Z", "type": "commit"}]}