{"pr_number": 381, "pr_title": "Rule (java) unused local variables should be removed", "pr_createdAt": "2020-03-30T02:58:39Z", "pr_url": "https://github.com/constellation-app/constellation/pull/381", "timeline": [{"oid": "ad2118faf854a3c833fdfdefb8039d8c541ef015", "url": "https://github.com/constellation-app/constellation/commit/ad2118faf854a3c833fdfdefb8039d8c541ef015", "message": "RULE (Java) Unused local variables should be removed\n\nMade changes to comply with this rule", "committedDate": "2020-03-30T02:56:44Z", "type": "commit"}, {"oid": "a66039752883a6adf5e09af62b008a6acfd21f60", "url": "https://github.com/constellation-app/constellation/commit/a66039752883a6adf5e09af62b008a6acfd21f60", "message": "Merge branch 'master' into RULE-(Java)-Unused-local-variables-should-be-removed", "committedDate": "2020-03-30T02:57:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg1MjcyMw==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r400852723", "bodyText": "A minor comment but the reason why boxes isn't used is because the subsequent line is commented. Perhaps we delete that line too?", "author": "arcturus2", "createdAt": "2020-03-31T11:55:31Z", "path": "CoreArrangementPlugins/src/au/gov/asd/tac/constellation/plugins/arrangements/uncollide/d2/CollFrame.java", "diffHunk": "@@ -78,7 +78,6 @@ public void run() {\n                     prevCollisions = totalCollided;\n                     isEnd = totalCollided == 0;\n \n-                    final List<Box2D> boxes = qt.getSubs();\n //                    cp.setBoxes(boxes, isEnd);", "originalCommit": "a66039752883a6adf5e09af62b008a6acfd21f60", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTM1MTQ3MA==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r401351470", "bodyText": "Yeah sorry, must've missed that", "author": "formalhaut69", "createdAt": "2020-04-01T04:37:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg1MjcyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg1MzE3OA==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r400853178", "bodyText": "\ud83d\udc4d", "author": "arcturus2", "createdAt": "2020-03-31T11:56:24Z", "path": "CoreFindView/src/au/gov/asd/tac/constellation/views/find/advanced/SelectFindResultsPlugin.java", "diffHunk": "@@ -67,7 +67,7 @@ protected void execute(final PluginGraphs graphs, final PluginInteraction intera\n         WritableGraph wg = graphs.getGraph().getWritableGraph(getName(), true);\n         try {\n             final QueryServices qs = new QueryServices(graph);\n-            QueryServices.selectOnGraph(wg, results, isHeld);\n+            qs.selectOnGraph(wg, results, isHeld);", "originalCommit": "a66039752883a6adf5e09af62b008a6acfd21f60", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg1Njg0Nw==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r400856847", "bodyText": "Wow. A core bit of code used whenever we save a file had this dead code for a long time. Thanks for this @formalhaut69.", "author": "arcturus2", "createdAt": "2020-03-31T12:02:49Z", "path": "CoreGraphFile/src/au/gov/asd/tac/constellation/graph/file/io/GraphJsonWriter.java", "diffHunk": "@@ -397,8 +395,6 @@ private void writeElements(final JsonGenerator jg, final GraphReadMethods graph,\n \n                 jg.writeStartObject();\n                 jg.writeNumberField(GraphFileConstants.VX_ID, vxId);\n-                final ObjectMapper om = new ObjectMapper();\n-                final ObjectNode root = om.createObjectNode();", "originalCommit": "a66039752883a6adf5e09af62b008a6acfd21f60", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d2b91b81f4305df9af381fd024ff37ba81b5b4b8", "url": "https://github.com/constellation-app/constellation/commit/d2b91b81f4305df9af381fd024ff37ba81b5b4b8", "message": "Update to resolve conflicts", "committedDate": "2020-04-01T22:12:15Z", "type": "commit"}, {"oid": "94bf872d7be9496e0b1ba76982f60641714b16e4", "url": "https://github.com/constellation-app/constellation/commit/94bf872d7be9496e0b1ba76982f60641714b16e4", "message": "Update to ColFrame.java\n\nRemoved a comment as requested by Arcturus", "committedDate": "2020-04-01T22:24:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyNDA0MQ==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r402724041", "bodyText": "Did this variable and the related one in the else clause have a use at some stage? Just observing that removing these variables means the functions that created these booleans (>200 lines of code) are also now unused.", "author": "antares1470", "createdAt": "2020-04-03T03:59:17Z", "path": "CoreArrangementPlugins/src/au/gov/asd/tac/constellation/plugins/arrangements/planar/PQTree.java", "diffHunk": "@@ -113,24 +113,7 @@ public void reduce() {\n                 if (node.getParent().getPertinentChildCount() == 0) {\n                     nodesToProcess.addLast(node.getParent());\n                 }\n-                boolean matched", "originalCommit": "94bf872d7be9496e0b1ba76982f60641714b16e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyNTA2Ng==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r402725066", "bodyText": "Has there been checks done on what these functions actually do? Some functions you can (sort of) get away with not assigning to a variable but a lot don't actually do anything really without the assignment (and in those circumstances it may be better to just remove the line all together).", "author": "antares1470", "createdAt": "2020-04-03T04:04:07Z", "path": "CoreAttributeEditorView/src/au/gov/asd/tac/constellation/views/attributeeditor/editors/DateEditorFactory.java", "diffHunk": "@@ -71,7 +71,7 @@ protected LocalDate getValueFromControls() throws ControlsInvalidException {\n             }\n             try {\n                 final String dateString = datePicker.getEditor().getText();\n-                final LocalDate date = datePicker.getConverter().fromString(dateString);\n+                datePicker.getConverter().fromString(dateString);", "originalCommit": "94bf872d7be9496e0b1ba76982f60641714b16e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjczMDAyNw==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r402730027", "bodyText": "Yes, I left that one there because the function is being used to test if the dateString was inputted in the correct format. So if it can't be converted from the string, its not in the correct format and will throw an exception. It works but the converter isn't being used for what its designed for.", "author": "formalhaut69", "createdAt": "2020-04-03T04:27:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyNTA2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjczMjI4NQ==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r402732285", "bodyText": "Alright sweet. I think there are a few others scattered around the place. Can I get confirmation that they fall in the same category?", "author": "antares1470", "createdAt": "2020-04-03T04:36:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyNTA2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjczNjU2Nw==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r402736567", "bodyText": "Did you want me to go through and comment on these ones and explain why I left them?", "author": "formalhaut69", "createdAt": "2020-04-03T04:55:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyNTA2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzc2NTM0NA==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r403765344", "bodyText": "It probably wouldn't hurt to leave a comment. Just so people in the future know that something is happening in the background", "author": "antares1470", "createdAt": "2020-04-05T22:25:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjcyNTA2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjczNTE3NA==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r402735174", "bodyText": "This line is still required because it creates the spanningTree for this plugin but it doesn't need to be stored because the actual tree is never modified in this class", "author": "formalhaut69", "createdAt": "2020-04-03T04:49:46Z", "path": "CoreAlgorithmPlugins/src/au/gov/asd/tac/constellation/plugins/algorithms/tree/SpanningTreePlugin.java", "diffHunk": "@@ -41,7 +41,6 @@ public void edit(final GraphWriteMethods wg, final PluginInteraction interaction\n         } else {\n             rootVxId = wg.getVertex(0);\n         }\n-\n-        final GraphWriteMethods tree = st.createSpanningTree(true, true, rootVxId);\n+         st.createSpanningTree(true, true, rootVxId);", "originalCommit": "94bf872d7be9496e0b1ba76982f60641714b16e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzc3NDA5MQ==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r403774091", "bodyText": "Still required to create the dragGestureRecognizer which is used later but the variable itself can be removed because its never read from.", "author": "formalhaut69", "createdAt": "2020-04-05T23:41:00Z", "path": "CoreGraphUtilities/src/au/gov/asd/tac/constellation/graph/utilities/planes/DragDropList.java", "diffHunk": "@@ -205,7 +204,7 @@ public int getListIndex(final int elementIndex) {\n         public MyDragListener(final DragDropList list) {\n             this.list = list;\n             ds = new DragSource();\n-            DragGestureRecognizer dgr = ds.createDefaultDragGestureRecognizer(list, DnDConstants.ACTION_MOVE, this);\n+            ds.createDefaultDragGestureRecognizer(list, DnDConstants.ACTION_MOVE, this);", "originalCommit": "94bf872d7be9496e0b1ba76982f60641714b16e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzc3NDY1MA==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r403774650", "bodyText": "I think that this Method is actually incomplete but at the moment it retrieves the panel to test if it exists.", "author": "formalhaut69", "createdAt": "2020-04-05T23:45:20Z", "path": "CoreOpenGLDisplay/src/au/gov/asd/tac/constellation/visual/opengl/utilities/LabelFontsOptionsPanelController.java", "diffHunk": "@@ -136,7 +136,7 @@ public void cancel() {\n \n     @Override\n     public boolean isValid() {\n-        final LabelFontsOptionsPanel labelFontsOptionsPanel = getPanel();\n+        getPanel();", "originalCommit": "94bf872d7be9496e0b1ba76982f60641714b16e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzc3ODAwNA==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r403778004", "bodyText": "Builds a connection between the two nodes on the graph but its unnecessary to store the variable itself.", "author": "formalhaut69", "createdAt": "2020-04-06T00:12:24Z", "path": "CoreTesting/src/au/gov/asd/tac/constellation/testing/construction/GraphConstructionDemoAction.java", "diffHunk": "@@ -94,7 +94,7 @@ public void edit(final GraphWriteMethods graph, final PluginInteraction interact\n \n                     final int[] childrenAtDepths = {4, 3, 2};\n                     final TreeGraphBuilder t = TreeGraphBuilder.addTree(graph, childrenAtDepths, TreeGraphBuilder.TreeDirection.AWAY_FROM_ROOT);\n-                    final ConnectionBuilder con = ConnectionBuilder.makeConnection(graph, t.nodesAtLevels[0], j.pendants);\n+                    ConnectionBuilder.makeConnection(graph, t.nodesAtLevels[0], j.pendants);", "originalCommit": "94bf872d7be9496e0b1ba76982f60641714b16e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzc3OTA5Mg==", "url": "https://github.com/constellation-app/constellation/pull/381#discussion_r403779092", "bodyText": "The action doesn't need to be stored to have the ActionEvent function.", "author": "formalhaut69", "createdAt": "2020-04-06T00:20:31Z", "path": "CoreWebView/src/au/gov/asd/tac/constellation/views/webview/WebViewer.java", "diffHunk": "@@ -91,7 +91,7 @@ public void changed(final ObservableValue<? extends String> observable, final St\n                         webEngine.load(newValue);\n                     }\n                 });\n-                EventHandler<ActionEvent> goAction = new EventHandler<ActionEvent>() {\n+                new EventHandler<ActionEvent>() {", "originalCommit": "94bf872d7be9496e0b1ba76982f60641714b16e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}