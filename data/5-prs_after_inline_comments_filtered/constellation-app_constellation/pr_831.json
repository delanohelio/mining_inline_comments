{"pr_number": 831, "pr_title": "Bugfix/issue826 betweeness assertion error", "pr_createdAt": "2020-09-01T21:24:25Z", "pr_url": "https://github.com/constellation-app/constellation/pull/831", "timeline": [{"oid": "41a0af3e76dbf30b81cdaf747c4e57e47dc5b3db", "url": "https://github.com/constellation-app/constellation/commit/41a0af3e76dbf30b81cdaf747c4e57e47dc5b3db", "message": ":art: :bug: Added Nan check\nAdded a NaN check to account for the scenario where we attempt to \ndivide 0 by a number (resulting a Nan) which then causes an error later\nin the code.\nRefactored multiple calls graph.setFloatValue with one argument\ndifference based on if conditions to one call with the argument only \nset by if conditions.\nargument set", "committedDate": "2020-09-01T06:11:51Z", "type": "commit"}, {"oid": "843015f32765a11590dd796519bdca8703f6d469", "url": "https://github.com/constellation-app/constellation/commit/843015f32765a11590dd796519bdca8703f6d469", "message": "Merge branch 'master' into bugfix/Issue826-BetweenessAssertionError", "committedDate": "2020-09-01T06:12:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTUyMjc2MA==", "url": "https://github.com/constellation-app/constellation/pull/831#discussion_r481522760", "bodyText": "final", "author": "antares1470", "createdAt": "2020-09-02T01:20:29Z", "path": "CoreAlgorithmPlugins/src/au/gov/asd/tac/constellation/plugins/algorithms/sna/centrality/BetweennessCentralityPlugin.java", "diffHunk": "@@ -153,23 +153,31 @@ public void edit(final GraphWriteMethods graph, final PluginInteraction interact\n         // update the graph with betweenness values\n         for (int vertexPosition = 0; vertexPosition < vertexCount; vertexPosition++) {\n             final int vertexId = graph.getVertex(vertexPosition);\n+            float betweennessAttributeValue;", "originalCommit": "843015f32765a11590dd796519bdca8703f6d469", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTY1NTI0Ng==", "url": "https://github.com/constellation-app/constellation/pull/831#discussion_r481655246", "bodyText": "remove all these graph.setFloatValue statements as your new one replaces them.", "author": "cygnus-x-1", "createdAt": "2020-09-02T04:20:06Z", "path": "CoreAlgorithmPlugins/src/au/gov/asd/tac/constellation/plugins/algorithms/sna/centrality/BetweennessCentralityPlugin.java", "diffHunk": "@@ -153,23 +153,31 @@ public void edit(final GraphWriteMethods graph, final PluginInteraction interact\n         // update the graph with betweenness values\n         for (int vertexPosition = 0; vertexPosition < vertexCount; vertexPosition++) {\n             final int vertexId = graph.getVertex(vertexPosition);\n+            float betweennessAttributeValue;\n             if (normaliseByPossible) {\n                 if (normaliseConnectedComponents) {\n                     final float subgraphVertexCount = subgraphs[vertexPosition].cardinality();\n+                    betweennessAttributeValue = betweennesses[vertexPosition] / (((subgraphVertexCount - 1) * (subgraphVertexCount - 2)) / 2);\n                     graph.setFloatValue(betweennessAttribute, vertexId, betweennesses[vertexPosition] / (((subgraphVertexCount - 1) * (subgraphVertexCount - 2)) / 2));", "originalCommit": "843015f32765a11590dd796519bdca8703f6d469", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTY4NDQwMw==", "url": "https://github.com/constellation-app/constellation/pull/831#discussion_r481684403", "bodyText": "Whoops, forgot to remove them...my bad, that's quite a glaring omission.", "author": "Nova-2119", "createdAt": "2020-09-02T04:49:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTY1NTI0Ng=="}], "type": "inlineReview"}, {"oid": "50de56372081c4a2a5de3ac5db7a0b9f126f81b3", "url": "https://github.com/constellation-app/constellation/commit/50de56372081c4a2a5de3ac5db7a0b9f126f81b3", "message": ":art: Removed redundant code.", "committedDate": "2020-09-02T05:37:52Z", "type": "commit"}, {"oid": "b4cf8397200c5a34109731735b29566e3e1d6736", "url": "https://github.com/constellation-app/constellation/commit/b4cf8397200c5a34109731735b29566e3e1d6736", "message": ":art: Final", "committedDate": "2020-09-04T03:34:22Z", "type": "commit"}]}