{"pr_number": 8097, "pr_title": "MINOR: Do not configure infinite retries for idempotent producers", "pr_createdAt": "2020-02-12T17:30:07Z", "pr_url": "https://github.com/apache/kafka/pull/8097", "timeline": [{"oid": "5c9c9fddddc2cef0f43e4a4fb665999438724e41", "url": "https://github.com/apache/kafka/commit/5c9c9fddddc2cef0f43e4a4fb665999438724e41", "message": "MINOR: Do not configure infinite retries for idempotent producers\nThe KafkaProducer code would set infinite retries (MAX_INT) if the producer was configured with idempotence and no retries were configured by the user. This is superfluous because KIP-91 changed the retry functionality to both be time-based and the default retries config to be MAX_INT.", "committedDate": "2020-02-12T17:11:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQyMzk5Ng==", "url": "https://github.com/apache/kafka/pull/8097#discussion_r378423996", "bodyText": "Then we don't need configureRetries anymore, right?", "author": "hachikuji", "createdAt": "2020-02-12T18:10:42Z", "path": "clients/src/main/java/org/apache/kafka/clients/producer/KafkaProducer.java", "diffHunk": "@@ -458,7 +458,6 @@ Sender newSender(LogContext logContext, KafkaClient kafkaClient, ProducerMetadat\n                 apiVersions,\n                 throttleTimeSensor,\n                 logContext);\n-        int retries = configureRetries(producerConfig, log);", "originalCommit": "5c9c9fddddc2cef0f43e4a4fb665999438724e41", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQzNTgwNA==", "url": "https://github.com/apache/kafka/pull/8097#discussion_r378435804", "bodyText": "oops. \ud83d\udc4d", "author": "stanislavkozlovski", "createdAt": "2020-02-12T18:33:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQyMzk5Ng=="}], "type": "inlineReview"}, {"oid": "f1e3f71351afa3f8307ecd59bb4704cf6152d588", "url": "https://github.com/apache/kafka/commit/f1e3f71351afa3f8307ecd59bb4704cf6152d588", "message": "Remove unused method", "committedDate": "2020-02-12T18:33:11Z", "type": "commit"}]}