{"pr_number": 8522, "pr_title": "KAFKA-9868: Reduce transaction log partitions for embed broker", "pr_createdAt": "2020-04-20T20:45:45Z", "pr_url": "https://github.com/apache/kafka/pull/8522", "timeline": [{"oid": "9ac3425f657d352989eb0cd8994d9a36fc87fdea", "url": "https://github.com/apache/kafka/commit/9ac3425f657d352989eb0cd8994d9a36fc87fdea", "message": "Reduce txn log partitions for embed broker", "committedDate": "2020-04-20T20:44:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY4MDMwOQ==", "url": "https://github.com/apache/kafka/pull/8522#discussion_r411680309", "bodyText": "This is the actual fix, other parts are just side cleanups.", "author": "abbccdda", "createdAt": "2020-04-20T20:46:15Z", "path": "streams/src/test/java/org/apache/kafka/streams/integration/utils/EmbeddedKafkaCluster.java", "diffHunk": "@@ -98,6 +98,7 @@ public void start() throws IOException, InterruptedException {\n         putIfAbsent(brokerConfig, KafkaConfig$.MODULE$.GroupInitialRebalanceDelayMsProp(), 0);\n         putIfAbsent(brokerConfig, KafkaConfig$.MODULE$.OffsetsTopicReplicationFactorProp(), (short) 1);\n         putIfAbsent(brokerConfig, KafkaConfig$.MODULE$.OffsetsTopicPartitionsProp(), 5);\n+        putIfAbsent(brokerConfig, KafkaConfig$.MODULE$.TransactionsTopicPartitionsProp(), 5);", "originalCommit": "9ac3425f657d352989eb0cd8994d9a36fc87fdea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTcxOTY0Nw==", "url": "https://github.com/apache/kafka/pull/8522#discussion_r411719647", "bodyText": "If we would have written throws Exception from the beginning on, this change would not be necessary... (Just to back up my preferred coding stile to only use throws Exception in tests.)", "author": "mjsax", "createdAt": "2020-04-20T21:57:09Z", "path": "streams/src/test/java/org/apache/kafka/streams/integration/utils/EmbeddedKafkaCluster.java", "diffHunk": "@@ -84,7 +84,7 @@ public EmbeddedKafkaCluster(final int numBrokers,\n     /**\n      * Creates and starts a Kafka cluster.\n      */\n-    public void start() throws IOException, InterruptedException {\n+    public void start() throws IOException {", "originalCommit": "9ac3425f657d352989eb0cd8994d9a36fc87fdea", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTcyNzU4NQ==", "url": "https://github.com/apache/kafka/pull/8522#discussion_r411727585", "bodyText": "Lol, makes sense.", "author": "abbccdda", "createdAt": "2020-04-20T22:14:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTcxOTY0Nw=="}], "type": "inlineReview"}]}