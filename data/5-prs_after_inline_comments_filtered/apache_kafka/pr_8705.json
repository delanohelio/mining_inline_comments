{"pr_number": 8705, "pr_title": "KAFKA-10029; Don't update completedReceives when channels are closed to avoid ConcurrentModificationException", "pr_createdAt": "2020-05-21T10:57:26Z", "pr_url": "https://github.com/apache/kafka/pull/8705", "timeline": [{"oid": "74107fa9be8f2f4008dcca20e2db91c53519e2fa", "url": "https://github.com/apache/kafka/commit/74107fa9be8f2f4008dcca20e2db91c53519e2fa", "message": "KAFKA-10029; Don't update completedReceives when channels are closed to avoid ConcurrentModificationException", "committedDate": "2020-05-26T09:57:40Z", "type": "commit"}, {"oid": "09589be517c2e9ecc912c1e2fd8d17eeda433365", "url": "https://github.com/apache/kafka/commit/09589be517c2e9ecc912c1e2fd8d17eeda433365", "message": "Address review comments", "committedDate": "2020-05-26T09:57:40Z", "type": "commit"}, {"oid": "09589be517c2e9ecc912c1e2fd8d17eeda433365", "url": "https://github.com/apache/kafka/commit/09589be517c2e9ecc912c1e2fd8d17eeda433365", "message": "Address review comments", "committedDate": "2020-05-26T09:57:40Z", "type": "forcePushed"}, {"oid": "64f84b3e7b72c2cb2c21987cecabb04d6d22ddee", "url": "https://github.com/apache/kafka/commit/64f84b3e7b72c2cb2c21987cecabb04d6d22ddee", "message": "Address review comments", "committedDate": "2020-05-27T15:56:49Z", "type": "commit"}, {"oid": "8cbe30e0cb4d17d8f4ccb2e1721e1f6527e7be87", "url": "https://github.com/apache/kafka/commit/8cbe30e0cb4d17d8f4ccb2e1721e1f6527e7be87", "message": "Address review comment", "committedDate": "2020-05-27T16:04:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU4MzEyNw==", "url": "https://github.com/apache/kafka/pull/8705#discussion_r431583127", "bodyText": "Nit: maybe after all results have been processed is a bit redundant? Same for the clearCompletedSends docs.", "author": "ijuma", "createdAt": "2020-05-28T05:04:53Z", "path": "clients/src/main/java/org/apache/kafka/common/network/Selector.java", "diffHunk": "@@ -804,7 +804,33 @@ private void maybeCloseOldestConnection(long currentTimeNanos) {\n     }\n \n     /**\n-     * Clear the results from the prior poll\n+     * Clears completed receives. This is used by SocketServer to remove references to\n+     * receive buffers after processing completed receives, without waiting for the next\n+     * poll() after all results have been processed.", "originalCommit": "8cbe30e0cb4d17d8f4ccb2e1721e1f6527e7be87", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a44db9437a46560e1f1f56cec036d69a2357bbe1", "url": "https://github.com/apache/kafka/commit/a44db9437a46560e1f1f56cec036d69a2357bbe1", "message": "Address review comments", "committedDate": "2020-05-28T09:16:09Z", "type": "commit"}, {"oid": "ceace47a433b930570018f256d69a9348653c5ed", "url": "https://github.com/apache/kafka/commit/ceace47a433b930570018f256d69a9348653c5ed", "message": "Address review comment", "committedDate": "2020-05-28T13:16:37Z", "type": "commit"}, {"oid": "d572d8e2cb7cf0c3d7fb40e923b6e9579845555a", "url": "https://github.com/apache/kafka/commit/d572d8e2cb7cf0c3d7fb40e923b6e9579845555a", "message": "Address review comments", "committedDate": "2020-05-28T14:04:41Z", "type": "commit"}, {"oid": "e605e29f4452aa6bfe1eb077e9af93ac3e57d7a8", "url": "https://github.com/apache/kafka/commit/e605e29f4452aa6bfe1eb077e9af93ac3e57d7a8", "message": "Address review comment", "committedDate": "2020-05-29T08:08:32Z", "type": "commit"}]}