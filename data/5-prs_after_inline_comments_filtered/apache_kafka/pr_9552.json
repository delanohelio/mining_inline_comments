{"pr_number": 9552, "pr_title": "KAFKA-10656: Log the feature flags received by the client", "pr_createdAt": "2020-11-03T17:50:08Z", "pr_url": "https://github.com/apache/kafka/pull/9552", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIwNTc2Mw==", "url": "https://github.com/apache/kafka/pull/9552#discussion_r542205763", "bodyText": "How about merging this message with new one?", "author": "chia7712", "createdAt": "2020-12-14T08:46:25Z", "path": "clients/src/main/java/org/apache/kafka/clients/NetworkClient.java", "diffHunk": "@@ -923,6 +923,10 @@ private void handleApiVersionsResponse(List<ClientResponse> responses,\n         apiVersions.update(node, nodeVersionInfo);\n         this.connectionStates.ready(node);\n         log.debug(\"Recorded API versions for node {}: {}\", node, nodeVersionInfo);", "originalCommit": "e67a04981657afb35f9f8c20ec29d2e82f154773", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "03acb61272a8f427190caf9efecadd2e6c11efee", "url": "https://github.com/apache/kafka/commit/03acb61272a8f427190caf9efecadd2e6c11efee", "message": "KAFKA-10656: Log the feature flags received by the client\n\nExample log line:\n\n[2020-11-03 17:47:17,076] DEBUG Node 0 has finalizedFeaturesEpoch: 42, finalizedFeatures: [FinalizedFeatureKey(name='feature_1', maxVersionLevel=2, minVersionLevel=1), FinalizedFeatureKey(name='feature_2', maxVersionLevel=4, minVersionLevel=3)], supportedFeatures: [SupportedFeatureKey(name='feature_1', minVersion=1, maxVersion=2), SupportedFeatureKey(name='feature_2', minVersion=3, maxVersion=4)] (org.apache.kafka.clients.NetworkClient:926)", "committedDate": "2020-12-14T09:03:40Z", "type": "commit"}, {"oid": "5aeb87cf408232d3c14c750445b89899dbc65b05", "url": "https://github.com/apache/kafka/commit/5aeb87cf408232d3c14c750445b89899dbc65b05", "message": "Merge log lines", "committedDate": "2020-12-14T09:15:05Z", "type": "commit"}, {"oid": "5aeb87cf408232d3c14c750445b89899dbc65b05", "url": "https://github.com/apache/kafka/commit/5aeb87cf408232d3c14c750445b89899dbc65b05", "message": "Merge log lines", "committedDate": "2020-12-14T09:15:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwMzM0Nw==", "url": "https://github.com/apache/kafka/pull/9552#discussion_r543003347", "bodyText": "It is just a style issue. Could we merge line#921 and line#922?", "author": "chia7712", "createdAt": "2020-12-15T02:45:06Z", "path": "clients/src/main/java/org/apache/kafka/clients/NetworkClient.java", "diffHunk": "@@ -917,7 +917,10 @@ private void handleApiVersionsResponse(List<ClientResponse> responses,\n         NodeApiVersions nodeVersionInfo = new NodeApiVersions(apiVersionsResponse.data.apiKeys());\n         apiVersions.update(node, nodeVersionInfo);\n         this.connectionStates.ready(node);\n-        log.debug(\"Recorded API versions for node {}: {}\", node, nodeVersionInfo);\n+        log.debug(\"Node {} has finalized features epoch: {}, finalized features: {}, supported features: {}, API versions: {}.\",\n+                node,", "originalCommit": "5aeb87cf408232d3c14c750445b89899dbc65b05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzE4MzM4NA==", "url": "https://github.com/apache/kafka/pull/9552#discussion_r543183384", "bodyText": "@chia7712 yeah, sorry about that, now done.", "author": "tombentley", "createdAt": "2020-12-15T09:30:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAwMzM0Nw=="}], "type": "inlineReview"}, {"oid": "5574d44327f6a133f7abef47be1e25b2a5d3d661", "url": "https://github.com/apache/kafka/commit/5574d44327f6a133f7abef47be1e25b2a5d3d661", "message": "merge", "committedDate": "2020-12-15T09:29:52Z", "type": "commit"}]}