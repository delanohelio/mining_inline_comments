{"pr_number": 8540, "pr_title": "KAFKA-9127: don't create StreamThreads for global-only topology", "pr_createdAt": "2020-04-23T21:25:30Z", "pr_url": "https://github.com/apache/kafka/pull/8540", "timeline": [{"oid": "d5eecbb98ec5627e7bde875d2bc698e287229425", "url": "https://github.com/apache/kafka/commit/d5eecbb98ec5627e7bde875d2bc698e287229425", "message": "dont create threads, fix up and add tests", "committedDate": "2020-04-27T23:11:08Z", "type": "commit"}, {"oid": "f08afa21e1870bcc0f64628b6e983e3b5f8bf7a7", "url": "https://github.com/apache/kafka/commit/f08afa21e1870bcc0f64628b6e983e3b5f8bf7a7", "message": "remove unnecessary sync", "committedDate": "2020-04-27T23:11:08Z", "type": "commit"}, {"oid": "ec5dee484868a61b065061148b5feb676d3304fa", "url": "https://github.com/apache/kafka/commit/ec5dee484868a61b065061148b5feb676d3304fa", "message": "github suggestion", "committedDate": "2020-04-27T23:11:08Z", "type": "commit"}, {"oid": "365c9872bba5a5470dc216020ffa944bb2f66c4e", "url": "https://github.com/apache/kafka/commit/365c9872bba5a5470dc216020ffa944bb2f66c4e", "message": "fix tests, should stop using find and replace to makes changes already...", "committedDate": "2020-04-27T23:11:09Z", "type": "commit"}, {"oid": "494818e2f6a055049c435e7bcb373dbce184e886", "url": "https://github.com/apache/kafka/commit/494818e2f6a055049c435e7bcb373dbce184e886", "message": "review props", "committedDate": "2020-04-27T23:11:09Z", "type": "commit"}, {"oid": "f542c7a91390fe34b13dc73f9a1f17454a3642db", "url": "https://github.com/apache/kafka/commit/f542c7a91390fe34b13dc73f9a1f17454a3642db", "message": "change exception to TopologyException", "committedDate": "2020-04-27T23:11:09Z", "type": "commit"}, {"oid": "f1702f168b6ebd6581f5993bca96f557887201df", "url": "https://github.com/apache/kafka/commit/f1702f168b6ebd6581f5993bca96f557887201df", "message": "'add' test", "committedDate": "2020-04-27T23:12:15Z", "type": "commit"}, {"oid": "f1702f168b6ebd6581f5993bca96f557887201df", "url": "https://github.com/apache/kafka/commit/f1702f168b6ebd6581f5993bca96f557887201df", "message": "'add' test", "committedDate": "2020-04-27T23:12:15Z", "type": "forcePushed"}, {"oid": "459e38c80dc250613e4b2c18d12ee4915bfcd22b", "url": "https://github.com/apache/kafka/commit/459e38c80dc250613e4b2c18d12ee4915bfcd22b", "message": "add separate integration test", "committedDate": "2020-04-27T23:19:41Z", "type": "commit"}, {"oid": "0d07c5612b1c3e4790239967b8e9f5332b8ad10d", "url": "https://github.com/apache/kafka/commit/0d07c5612b1c3e4790239967b8e9f5332b8ad10d", "message": "remove added excpt", "committedDate": "2020-04-27T23:20:05Z", "type": "commit"}, {"oid": "85ec07e54e251e9c3f4e41fec4213079f4aae755", "url": "https://github.com/apache/kafka/commit/85ec07e54e251e9c3f4e41fec4213079f4aae755", "message": "remove extra lines", "committedDate": "2020-04-27T23:22:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjIxNTUxMw==", "url": "https://github.com/apache/kafka/pull/8540#discussion_r416215513", "bodyText": "Copied this over to trunk and verified that it fails consistently", "author": "ableegoldman", "createdAt": "2020-04-27T23:22:38Z", "path": "streams/src/test/java/org/apache/kafka/streams/integration/GlobalKTableIntegrationTest.java", "diffHunk": "@@ -265,12 +270,27 @@ public void shouldRestoreGlobalInMemoryKTableOnRestart() throws Exception {\n         kafkaStreams.close();\n \n         startStreams();\n+\n         store = kafkaStreams.store(StoreQueryParameters.fromNameAndType(globalStore, QueryableStoreTypes.keyValueStore()));\n         assertThat(store.approximateNumEntries(), equalTo(4L));\n         timestampedStore = kafkaStreams.store(StoreQueryParameters.fromNameAndType(globalStore, QueryableStoreTypes.timestampedKeyValueStore()));\n         assertThat(timestampedStore.approximateNumEntries(), equalTo(4L));\n     }\n \n+    @Test\n+    public void shouldGetToRunningWithOnlyGlobalTopology() throws Exception {", "originalCommit": "0d07c5612b1c3e4790239967b8e9f5332b8ad10d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "049e3528b83ded730da75e4b888a8256d4955273", "url": "https://github.com/apache/kafka/commit/049e3528b83ded730da75e4b888a8256d4955273", "message": "fix test exception message", "committedDate": "2020-04-28T16:54:36Z", "type": "commit"}]}