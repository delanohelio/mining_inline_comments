{"pr_number": 4814, "pr_title": "feat: Support tracked entity attributes in tracker importer", "pr_createdAt": "2020-02-04T12:57:27Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/4814", "timeline": [{"oid": "57ef08c5877119cac73b196ac65f09b1e675d2e2", "url": "https://github.com/dhis2/dhis2-core/commit/57ef08c5877119cac73b196ac65f09b1e675d2e2", "message": "only return if collectAttributes is empty", "committedDate": "2020-02-04T12:56:48Z", "type": "commit"}, {"oid": "4f8883ec5298e980e0418a6c5dae4d1763570aaa", "url": "https://github.com/dhis2/dhis2-core/commit/4f8883ec5298e980e0418a6c5dae4d1763570aaa", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146", "committedDate": "2020-02-05T10:40:00Z", "type": "commit"}, {"oid": "f8a3fd915691fe47090a4203b58980b97fd9a353", "url": "https://github.com/dhis2/dhis2-core/commit/f8a3fd915691fe47090a4203b58980b97fd9a353", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146", "committedDate": "2020-02-10T07:43:18Z", "type": "commit"}, {"oid": "7fec7d589a1e1ab5c545219c449d10dda77d8286", "url": "https://github.com/dhis2/dhis2-core/commit/7fec7d589a1e1ab5c545219c449d10dda77d8286", "message": "adds basic tests for TE with attributes, update dbmsManager to delete trackedentitytypeattribute", "committedDate": "2020-02-10T09:37:37Z", "type": "commit"}, {"oid": "a058720e94d213a7b6bd0ed0969c7d18283671b9", "url": "https://github.com/dhis2/dhis2-core/commit/a058720e94d213a7b6bd0ed0969c7d18283671b9", "message": "test: test preheat for tracked entity attributes", "committedDate": "2020-02-10T10:12:40Z", "type": "commit"}, {"oid": "5516dd6460097b248ca74b69e34d36c5ea1cac3c", "url": "https://github.com/dhis2/dhis2-core/commit/5516dd6460097b248ca74b69e34d36c5ea1cac3c", "message": "basic teav saving working", "committedDate": "2020-02-10T11:18:21Z", "type": "commit"}, {"oid": "752279e755acdce94582ce2b0a47c787f416d992", "url": "https://github.com/dhis2/dhis2-core/commit/752279e755acdce94582ce2b0a47c787f416d992", "message": "Minor indent fixes", "committedDate": "2020-02-11T07:57:46Z", "type": "commit"}, {"oid": "9b8a4c34a226c975bbcc5d67676810444f2fcb99", "url": "https://github.com/dhis2/dhis2-core/commit/9b8a4c34a226c975bbcc5d67676810444f2fcb99", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146", "committedDate": "2020-02-12T08:55:23Z", "type": "commit"}, {"oid": "67c659a89447a9b3ebe146b56d6e763fced2945e", "url": "https://github.com/dhis2/dhis2-core/commit/67c659a89447a9b3ebe146b56d6e763fced2945e", "message": "move TEA handling out of converters, do TEAV handling directly in commit for both TE and EN", "committedDate": "2020-02-12T11:57:44Z", "type": "commit"}, {"oid": "c3cb3e572ad33c8fca46038e54960e9e21d69bbc", "url": "https://github.com/dhis2/dhis2-core/commit/c3cb3e572ad33c8fca46038e54960e9e21d69bbc", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146", "committedDate": "2020-02-17T05:32:59Z", "type": "commit"}, {"oid": "bc906507b21a2e197b6285f7ccd047056aef56dc", "url": "https://github.com/dhis2/dhis2-core/commit/bc906507b21a2e197b6285f7ccd047056aef56dc", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146", "committedDate": "2020-02-20T04:38:47Z", "type": "commit"}, {"oid": "35be8eef95ef2ea5e453d16c697baa75403652a9", "url": "https://github.com/dhis2/dhis2-core/commit/35be8eef95ef2ea5e453d16c697baa75403652a9", "message": "feat: adds support for adding TEAV on both TE and Enrollment", "committedDate": "2020-02-20T07:36:39Z", "type": "commit"}, {"oid": "ac238d7cb013f86d62a4b977a248b6b7f413a6e7", "url": "https://github.com/dhis2/dhis2-core/commit/ac238d7cb013f86d62a4b977a248b6b7f413a6e7", "message": "feat: support update of attribute values", "committedDate": "2020-02-21T02:38:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ0MTU2MQ==", "url": "https://github.com/dhis2/dhis2-core/pull/4814#discussion_r382441561", "bodyText": "I wonder if we should use a TrackerConverterFactory to reduce the number of dependencies in this class, which is quite high and has an impact on testability.", "author": "luciano-fiandesio", "createdAt": "2020-02-21T07:58:57Z", "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/bundle/DefaultTrackerBundleService.java", "diffHunk": "@@ -85,14 +92,15 @@ public void setBundleHooks( List<TrackerBundleHook> bundleHooks )\n \n     public DefaultTrackerBundleService(\n         TrackerPreheatService trackerPreheatService,\n-        TrackerConverterService<TrackedEntity, org.hisp.dhis.trackedentity.TrackedEntityInstance> trackedEntityTrackerConverterService,\n+        TrackerConverterService<TrackedEntity, TrackedEntityInstance> trackedEntityTrackerConverterService,", "originalCommit": "ac238d7cb013f86d62a4b977a248b6b7f413a6e7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzA4ODIzMg==", "url": "https://github.com/dhis2/dhis2-core/pull/4814#discussion_r383088232", "bodyText": "Actually I'm thinking the whole class is getting a bit big, might want to break it up.. I'll make it feature complete, then do some refactoring", "author": "mortenoh", "createdAt": "2020-02-24T05:13:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ0MTU2MQ=="}], "type": "inlineReview"}, {"oid": "3f2f7e3904283f25fa4487c1ef71af796d5fc2be", "url": "https://github.com/dhis2/dhis2-core/commit/3f2f7e3904283f25fa4487c1ef71af796d5fc2be", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146", "committedDate": "2020-02-23T01:34:39Z", "type": "commit"}, {"oid": "6eeec591413ee339e653282e3e6a9ec6379efcc0", "url": "https://github.com/dhis2/dhis2-core/commit/6eeec591413ee339e653282e3e6a9ec6379efcc0", "message": "feat: support TEAV deletion (empty strings and nulls)", "committedDate": "2020-02-23T02:38:53Z", "type": "commit"}, {"oid": "ef5a90718b79224b44ea66e45fe32ca5b3f7db3a", "url": "https://github.com/dhis2/dhis2-core/commit/ef5a90718b79224b44ea66e45fe32ca5b3f7db3a", "message": "doc: spelling issue", "committedDate": "2020-02-23T02:59:53Z", "type": "commit"}, {"oid": "c3235bbb838ff9309af7d7d27e0645e402b7be80", "url": "https://github.com/dhis2/dhis2-core/commit/c3235bbb838ff9309af7d7d27e0645e402b7be80", "message": "Merge remote-tracking branch 'origin/master' into DHIS2-8146", "committedDate": "2020-02-24T10:23:07Z", "type": "commit"}, {"oid": "5179fafdff0fe5e6cce5049efe7c5cc18a09fde5", "url": "https://github.com/dhis2/dhis2-core/commit/5179fafdff0fe5e6cce5049efe7c5cc18a09fde5", "message": "fix: remove read-only flag on TrackerBundleService.create for now", "committedDate": "2020-02-24T11:14:13Z", "type": "commit"}]}