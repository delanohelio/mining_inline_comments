{"pr_number": 6641, "pr_title": "fix: fix data values validation", "pr_createdAt": "2020-11-12T10:13:56Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/6641", "timeline": [{"oid": "0dc1436a8b9c1fb88bf927a1177f80bfcab83931", "url": "https://github.com/dhis2/dhis2-core/commit/0dc1436a8b9c1fb88bf927a1177f80bfcab83931", "message": "fix: fix data values validation", "committedDate": "2020-11-12T10:12:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxMDc5Mg==", "url": "https://github.com/dhis2/dhis2-core/pull/6641#discussion_r522010792", "bodyText": "code style", "author": "luciano-fiandesio", "createdAt": "2020-11-12T10:46:09Z", "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/validation/hooks/EventDataValuesValidationHook.java", "diffHunk": "@@ -155,6 +161,14 @@ private void validateDataValueDataElementIsConnectedToProgramStage( ValidationEr\n         }\n     }\n \n+    private boolean needsToValidateMandatoryDataValues(Event event, ProgramStage programStage) {\n+        if (event.getStatus().equals(EventStatus.ACTIVE) && programStage.getValidationStrategy().equals(ValidationStrategy.ON_COMPLETE)) {", "originalCommit": "0dc1436a8b9c1fb88bf927a1177f80bfcab83931", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxMDg2MQ==", "url": "https://github.com/dhis2/dhis2-core/pull/6641#discussion_r522010861", "bodyText": "code style", "author": "luciano-fiandesio", "createdAt": "2020-11-12T10:46:14Z", "path": "dhis-2/dhis-services/dhis-service-tracker/src/main/java/org/hisp/dhis/tracker/validation/hooks/EventDataValuesValidationHook.java", "diffHunk": "@@ -111,6 +113,10 @@ public void validateMandatoryDataValue( ValidationErrorReporter reporter, Tracke\n \n         ProgramStage programStage = ctx.getProgramStage( event.getProgramStage() );\n \n+        if (!needsToValidateMandatoryDataValues(event, programStage)) {", "originalCommit": "0dc1436a8b9c1fb88bf927a1177f80bfcab83931", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "url": "https://github.com/dhis2/dhis2-core/commit/8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "message": "Codestyle", "committedDate": "2020-11-12T10:51:24Z", "type": "commit"}, {"oid": "8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "url": "https://github.com/dhis2/dhis2-core/commit/8f4b7e27cc472dcc3abae9f6cd74ef20fe525477", "message": "Codestyle", "committedDate": "2020-11-12T10:51:24Z", "type": "forcePushed"}]}