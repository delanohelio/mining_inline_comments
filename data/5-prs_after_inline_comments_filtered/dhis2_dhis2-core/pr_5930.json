{"pr_number": 5930, "pr_title": "fix: Remove validity check for validation rules", "pr_createdAt": "2020-08-14T10:16:58Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/5930", "timeline": [{"oid": "beea65e29bdc8311c5cc4e9d25aaaa3f988c83a1", "url": "https://github.com/dhis2/dhis2-core/commit/beea65e29bdc8311c5cc4e9d25aaaa3f988c83a1", "message": "Code style", "committedDate": "2020-08-05T10:48:36Z", "type": "commit"}, {"oid": "ceeeed04949f21d35a1c1faba060ec86976e7c50", "url": "https://github.com/dhis2/dhis2-core/commit/ceeeed04949f21d35a1c1faba060ec86976e7c50", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-05T10:52:09Z", "type": "commit"}, {"oid": "26da679ebdd5bcc0b0f7124f9536026ff878bacd", "url": "https://github.com/dhis2/dhis2-core/commit/26da679ebdd5bcc0b0f7124f9536026ff878bacd", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-05T11:15:33Z", "type": "commit"}, {"oid": "53b87e1f04fdd34b704e0623825768f73e0e8fe7", "url": "https://github.com/dhis2/dhis2-core/commit/53b87e1f04fdd34b704e0623825768f73e0e8fe7", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-05T13:01:47Z", "type": "commit"}, {"oid": "638b39a30d02530227bedf6aa97d7d435a6f32e3", "url": "https://github.com/dhis2/dhis2-core/commit/638b39a30d02530227bedf6aa97d7d435a6f32e3", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-12T10:38:01Z", "type": "commit"}, {"oid": "50fc49fbbcf6e2d610290f7de82fee1c1dd7756f", "url": "https://github.com/dhis2/dhis2-core/commit/50fc49fbbcf6e2d610290f7de82fee1c1dd7756f", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-12T19:45:23Z", "type": "commit"}, {"oid": "6bf0d49daeb17179e18be984f190957a91ae79a9", "url": "https://github.com/dhis2/dhis2-core/commit/6bf0d49daeb17179e18be984f190957a91ae79a9", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-13T07:28:07Z", "type": "commit"}, {"oid": "e76b213ec3359e1a4fba00006ee8389a5e5659b5", "url": "https://github.com/dhis2/dhis2-core/commit/e76b213ec3359e1a4fba00006ee8389a5e5659b5", "message": "Merge branch 'master' of github.com:dhis2/dhis2-core", "committedDate": "2020-08-14T10:09:57Z", "type": "commit"}, {"oid": "f5ae726b846dc363b1936a7a8b38facba4e7e248", "url": "https://github.com/dhis2/dhis2-core/commit/f5ae726b846dc363b1936a7a8b38facba4e7e248", "message": "Remove validation rule validity check", "committedDate": "2020-08-14T10:15:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDU1MDA0MQ==", "url": "https://github.com/dhis2/dhis2-core/pull/5930#discussion_r470550041", "bodyText": "@larshelge the only consideration is, what happens if the rule is invalid and an exception is thrown?  Is it caught and reported properly by the API or does it fails with a 500 error?", "author": "luciano-fiandesio", "createdAt": "2020-08-14T10:41:55Z", "path": "dhis-2/dhis-services/dhis-service-reporting/src/main/java/org/hisp/dhis/validation/DefaultValidationService.java", "diffHunk": "@@ -370,9 +369,7 @@ private void addRulesToContext( Map<PeriodType, PeriodTypeExtended> periodTypeXM\n         {\n             PeriodTypeExtended periodX = periodTypeXMap.get( rule.getPeriodType() );\n \n-            if ( periodX == null", "originalCommit": "f5ae726b846dc363b1936a7a8b38facba4e7e248", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDU2NTM5Mw==", "url": "https://github.com/dhis2/dhis2-core/pull/5930#discussion_r470565393", "bodyText": "Tested now and can see that the validation engine behaves well, by ignoring and logging invalid rules/expressions.", "author": "larshelge", "createdAt": "2020-08-14T11:20:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDU1MDA0MQ=="}], "type": "inlineReview"}]}