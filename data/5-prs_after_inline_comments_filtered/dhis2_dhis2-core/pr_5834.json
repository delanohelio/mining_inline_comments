{"pr_number": 5834, "pr_title": "feat: Add file resource blacklist [DHIS2-9157]", "pr_createdAt": "2020-07-09T05:26:01Z", "pr_url": "https://github.com/dhis2/dhis2-core/pull/5834", "timeline": [{"oid": "9d427ba05609fc476226b29de7b177cf273bf363", "url": "https://github.com/dhis2/dhis2-core/commit/9d427ba05609fc476226b29de7b177cf273bf363", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-03T13:38:17Z", "type": "commit"}, {"oid": "211f36c99d347e1d86bce2478235289cc470b7d9", "url": "https://github.com/dhis2/dhis2-core/commit/211f36c99d347e1d86bce2478235289cc470b7d9", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-06T08:42:55Z", "type": "commit"}, {"oid": "a6632e45cdb9dde18f4858db050562b5ac02b2be", "url": "https://github.com/dhis2/dhis2-core/commit/a6632e45cdb9dde18f4858db050562b5ac02b2be", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-08T06:44:34Z", "type": "commit"}, {"oid": "bf47905461d8cea8ece7b8bccef569fd2ff39917", "url": "https://github.com/dhis2/dhis2-core/commit/bf47905461d8cea8ece7b8bccef569fd2ff39917", "message": "Add blacklist", "committedDate": "2020-07-09T05:17:57Z", "type": "commit"}, {"oid": "8c8f574191ecb1165069f32c2328824a2351824d", "url": "https://github.com/dhis2/dhis2-core/commit/8c8f574191ecb1165069f32c2328824a2351824d", "message": "Add MSI", "committedDate": "2020-07-09T05:59:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA1ODI5MQ==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452058291", "bodyText": "Maybe, add \"com\" and \"bat\" files as well?", "author": "maikelarabori", "createdAt": "2020-07-09T08:40:47Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/fileresource/FileResourceBlacklist.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright (c) 2004-2020, University of Oslo\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following disclaimer in the documentation\n+ * and/or other materials provided with the distribution.\n+ * Neither the name of the HISP project nor the names of its contributors may\n+ * be used to endorse or promote products derived from this software without\n+ * specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n+ * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+\n+package org.hisp.dhis.fileresource;\n+\n+import org.apache.commons.io.FilenameUtils;\n+\n+import com.google.common.collect.ImmutableSet;\n+\n+/**\n+ * @author Lars Helge Overland\n+ */\n+public class FileResourceBlacklist\n+{\n+    private static final ImmutableSet<String> CONTENT_TYPE_BLACKLIST = ImmutableSet.of(\n+        // Web\n+        \"text/html\",\n+        \"text/css\",\n+        \"text/javascript\",\n+        \"font/otf\",\n+        \"application/x-shockwave-flash\",\n+        // Executable\n+        \"application/vnd.debian.binary-package\",\n+        \"application/x-rpm\",\n+        \"application/java-archive\",\n+        \"application/x-ms-dos-executable\",\n+        \"application/vnd.microsoft.portable-executable\",\n+        \"application/vnd.apple.installer+xml\",\n+        \"application/vnd.mozilla.xul+xml\",\n+        \"application/x-httpd-php\",\n+        \"application/x-sh\",\n+        \"application/x-csh\"\n+    );\n+\n+    private static final ImmutableSet<String> FILE_EXTENSION_BLACKLIST = ImmutableSet.of(\n+        // Web\n+        \"html\",\n+        \"htm\",\n+        \"css\",\n+        \"js\",\n+        \"mjs\",\n+        \"otf\",\n+        \"swf\",\n+        // Executable\n+        \"deb\",\n+        \"rpm\",\n+        \"jar\",\n+        \"jsp\",\n+        \"exe\",\n+        \"msi\",\n+        \"mpkg\",\n+        \"xul\",\n+        \"php\",\n+        \"bin\",\n+        \"sh\",\n+        \"csh\"", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ3NzYzMA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452477630", "bodyText": "Yes agree, will add at least bat.", "author": "larshelge", "createdAt": "2020-07-09T20:41:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA1ODI5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA2MzU5MA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452063590", "bodyText": "Should we add a test to cover the cases where the client passes in a null argument to the \"isValid\" method?", "author": "maikelarabori", "createdAt": "2020-07-09T08:49:43Z", "path": "dhis-2/dhis-services/dhis-service-core/src/test/java/org/hisp/dhis/fileresource/FileResourceBlacklistTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*\n+ * Copyright (c) 2004-2020, University of Oslo\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following disclaimer in the documentation\n+ * and/or other materials provided with the distribution.\n+ * Neither the name of the HISP project nor the names of its contributors may\n+ * be used to endorse or promote products derived from this software without\n+ * specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n+ * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+\n+package org.hisp.dhis.fileresource;\n+\n+import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.assertFalse;\n+\n+import org.junit.Test;\n+\n+/**\n+ * @author Lars Helge Overland\n+ */\n+public class FileResourceBlacklistTest\n+{\n+    @Test\n+    public void testValid()\n+    {\n+        FileResource frA = new FileResource( \"My_Checklist.pdf\", \"application/pdf\", 324, \"\", FileResourceDomain.DATA_VALUE );\n+        FileResource frB = new FileResource( \"Evaluation.docx\", \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", 541, \"\", FileResourceDomain.MESSAGE_ATTACHMENT );\n+        FileResource frC = new FileResource( \"FinancialReport.xlsx\", \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\", 143, \"\", FileResourceDomain.DATA_VALUE );\n+\n+        assertTrue( FileResourceBlacklist.isValid( frA ) );\n+        assertTrue( FileResourceBlacklist.isValid( frB ) );\n+        assertTrue( FileResourceBlacklist.isValid( frC ) );\n+    }\n+\n+    @Test\n+    public void testInvalid()\n+    {\n+        FileResource frA = new FileResource( \"Click_Me.exe\", \"application/x-ms-dos-executable\", 451, \"\", FileResourceDomain.DATA_VALUE );\n+        FileResource frB = new FileResource( \"evil_script.sh\", \"application/pdf\", 125, \"\", FileResourceDomain.MESSAGE_ATTACHMENT ); // Fake content type\n+        FileResource frC = new FileResource( \"cookie_stealer\", \"text/javascript\", 631, \"\", FileResourceDomain.USER_AVATAR ); // No file extension\n+\n+        assertFalse( FileResourceBlacklist.isValid( frA ) );\n+        assertFalse( FileResourceBlacklist.isValid( frB ) );\n+        assertFalse( FileResourceBlacklist.isValid( frC ) );\n+    }\n+}", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ3Nzc5Mg==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452477792", "bodyText": "Yes agree, will fix.", "author": "larshelge", "createdAt": "2020-07-09T20:41:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA2MzU5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA3NzkzMA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452077930", "bodyText": "Usually package declaration is before the Copyright para.", "author": "ameenhere", "createdAt": "2020-07-09T09:13:44Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/fileresource/FileResourceBlacklist.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright (c) 2004-2020, University of Oslo\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following disclaimer in the documentation\n+ * and/or other materials provided with the distribution.\n+ * Neither the name of the HISP project nor the names of its contributors may\n+ * be used to endorse or promote products derived from this software without\n+ * specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n+ * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+\n+package org.hisp.dhis.fileresource;", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ3NzMxMA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452477310", "bodyText": "I have sort of changed my mind on this one. Seems the Java convention is to have copyright before package declaration. It also works better with auto-organize in the IDE (the opposite does not work properly). I think we should do a switch across the code base at some point @ameenhere .", "author": "larshelge", "createdAt": "2020-07-09T20:40:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA3NzkzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA3ODc0MA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452078740", "bodyText": "package declaration before copyright?", "author": "ameenhere", "createdAt": "2020-07-09T09:14:59Z", "path": "dhis-2/dhis-services/dhis-service-core/src/test/java/org/hisp/dhis/fileresource/FileResourceBlacklistTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*\n+ * Copyright (c) 2004-2020, University of Oslo\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following disclaimer in the documentation\n+ * and/or other materials provided with the distribution.\n+ * Neither the name of the HISP project nor the names of its contributors may\n+ * be used to endorse or promote products derived from this software without\n+ * specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n+ * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+\n+package org.hisp.dhis.fileresource;", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA4MjQzNA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452082434", "bodyText": "Should we also move away from naming \"Blacklist\", and using \"Blocklist\" instead? \ud83d\ude04\nRead a lot of recent changes proposed in several companies/projects that want to move away from using \"Black\" as bad and \"White\" as good.", "author": "ameenhere", "createdAt": "2020-07-09T09:21:03Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/fileresource/DefaultFileResourceService.java", "diffHunk": "@@ -70,12 +66,6 @@\n \n     public static final Predicate<FileResource> IS_ORPHAN_PREDICATE = (fr -> !fr.isAssigned());\n \n-    private static final Set<String> CONTENT_TYPE_BLACKLIST = Sets.newHashSet( \"text/html\",", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ4NDMyMA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452484320", "bodyText": "Sure, changed to Blocklist.", "author": "larshelge", "createdAt": "2020-07-09T20:54:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA4MjQzNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA4MjQ2MQ==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452082461", "bodyText": "package before license", "author": "mortenoh", "createdAt": "2020-07-09T09:21:07Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/fileresource/FileResourceBlacklist.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright (c) 2004-2020, University of Oslo\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following disclaimer in the documentation\n+ * and/or other materials provided with the distribution.\n+ * Neither the name of the HISP project nor the names of its contributors may\n+ * be used to endorse or promote products derived from this software without\n+ * specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n+ * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+\n+package org.hisp.dhis.fileresource;", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ4MDg0Mg==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452480842", "bodyText": "I have sort of changed my mind on this one. Seems the Java convention is to have copyright before package declaration. It also works better with auto-organize in the IDE (the opposite does not work properly). I think we should do a switch across the code base at some point.", "author": "larshelge", "createdAt": "2020-07-09T20:48:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA4MjQ2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA4MjUyMg==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452082522", "bodyText": "extra newline", "author": "mortenoh", "createdAt": "2020-07-09T09:21:14Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/fileresource/FileResourceBlacklist.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright (c) 2004-2020, University of Oslo\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following disclaimer in the documentation\n+ * and/or other materials provided with the distribution.\n+ * Neither the name of the HISP project nor the names of its contributors may\n+ * be used to endorse or promote products derived from this software without\n+ * specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n+ * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+\n+package org.hisp.dhis.fileresource;\n+\n+import org.apache.commons.io.FilenameUtils;\n+", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ4MDcwNw==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452480707", "bodyText": "Fixed.", "author": "larshelge", "createdAt": "2020-07-09T20:47:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA4MjUyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE2MDA0MA==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452160040", "bodyText": "Add checkNotNull(fileResource)?", "author": "netroms", "createdAt": "2020-07-09T11:50:20Z", "path": "dhis-2/dhis-services/dhis-service-core/src/main/java/org/hisp/dhis/fileresource/FileResourceBlacklist.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Copyright (c) 2004-2020, University of Oslo\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ * Redistributions of source code must retain the above copyright notice, this\n+ * list of conditions and the following disclaimer.\n+ *\n+ * Redistributions in binary form must reproduce the above copyright notice,\n+ * this list of conditions and the following disclaimer in the documentation\n+ * and/or other materials provided with the distribution.\n+ * Neither the name of the HISP project nor the names of its contributors may\n+ * be used to endorse or promote products derived from this software without\n+ * specific prior written permission.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n+ * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+\n+package org.hisp.dhis.fileresource;\n+\n+import org.apache.commons.io.FilenameUtils;\n+\n+import com.google.common.collect.ImmutableSet;\n+\n+/**\n+ * @author Lars Helge Overland\n+ */\n+public class FileResourceBlacklist\n+{\n+    private static final ImmutableSet<String> CONTENT_TYPE_BLACKLIST = ImmutableSet.of(\n+        // Web\n+        \"text/html\",\n+        \"text/css\",\n+        \"text/javascript\",\n+        \"font/otf\",\n+        \"application/x-shockwave-flash\",\n+        // Executable\n+        \"application/vnd.debian.binary-package\",\n+        \"application/x-rpm\",\n+        \"application/java-archive\",\n+        \"application/x-ms-dos-executable\",\n+        \"application/vnd.microsoft.portable-executable\",\n+        \"application/vnd.apple.installer+xml\",\n+        \"application/vnd.mozilla.xul+xml\",\n+        \"application/x-httpd-php\",\n+        \"application/x-sh\",\n+        \"application/x-csh\"\n+    );\n+\n+    private static final ImmutableSet<String> FILE_EXTENSION_BLACKLIST = ImmutableSet.of(\n+        // Web\n+        \"html\",\n+        \"htm\",\n+        \"css\",\n+        \"js\",\n+        \"mjs\",\n+        \"otf\",\n+        \"swf\",\n+        // Executable\n+        \"deb\",\n+        \"rpm\",\n+        \"jar\",\n+        \"jsp\",\n+        \"exe\",\n+        \"msi\",\n+        \"mpkg\",\n+        \"xul\",\n+        \"php\",\n+        \"bin\",\n+        \"sh\",\n+        \"csh\"\n+    );\n+\n+    /**\n+     * Indicates whether the given file resource has a valid file extension and content type\n+     * according to the blacklist.\n+     *\n+     * @param fileResource the {@link FileResource}.\n+     * @return true if valid, false if invalid.\n+     */\n+    public static boolean isValid( FileResource fileResource )\n+    {", "originalCommit": "8c8f574191ecb1165069f32c2328824a2351824d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQ4MjM5Mw==", "url": "https://github.com/dhis2/dhis2-core/pull/5834#discussion_r452482393", "bodyText": "Agree, included null check for FileResource.", "author": "larshelge", "createdAt": "2020-07-09T20:51:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjE2MDA0MA=="}], "type": "inlineReview"}, {"oid": "438c9d9dc9a0ae9bc6f6fa52f6920ac3793b4032", "url": "https://github.com/dhis2/dhis2-core/commit/438c9d9dc9a0ae9bc6f6fa52f6920ac3793b4032", "message": "Add null arg test", "committedDate": "2020-07-09T20:44:48Z", "type": "commit"}, {"oid": "9b1e96460da756250c76bfd5e9f9cd95e9c8e4ec", "url": "https://github.com/dhis2/dhis2-core/commit/9b1e96460da756250c76bfd5e9f9cd95e9c8e4ec", "message": "Minor", "committedDate": "2020-07-09T20:47:43Z", "type": "commit"}, {"oid": "6ffdec5b3bebfd6f6ae232d5d04fffce5ddff3c2", "url": "https://github.com/dhis2/dhis2-core/commit/6ffdec5b3bebfd6f6ae232d5d04fffce5ddff3c2", "message": "Minor", "committedDate": "2020-07-09T20:50:47Z", "type": "commit"}, {"oid": "3dae3f693cd8ce8f9ed1e0ea229c4975c1ea5fd0", "url": "https://github.com/dhis2/dhis2-core/commit/3dae3f693cd8ce8f9ed1e0ea229c4975c1ea5fd0", "message": "Rename to Blocklist", "committedDate": "2020-07-09T20:54:31Z", "type": "commit"}, {"oid": "000e7a930962c3aa51c6522df78fbd37ec17ae85", "url": "https://github.com/dhis2/dhis2-core/commit/000e7a930962c3aa51c6522df78fbd37ec17ae85", "message": "Rename to Blocklist", "committedDate": "2020-07-09T20:56:33Z", "type": "commit"}, {"oid": "300625394d9266348e39a398da593a7d7f84df8e", "url": "https://github.com/dhis2/dhis2-core/commit/300625394d9266348e39a398da593a7d7f84df8e", "message": "Moved visualization to correct package", "committedDate": "2020-05-27T09:42:03Z", "type": "commit"}, {"oid": "745d872c9d75fcbeebba534e228686b14dfbc5ad", "url": "https://github.com/dhis2/dhis2-core/commit/745d872c9d75fcbeebba534e228686b14dfbc5ad", "message": "Cleanup", "committedDate": "2020-05-27T09:45:13Z", "type": "commit"}, {"oid": "8fd1033cd417b6b85ec47d488ebd8dc0e3fc9d44", "url": "https://github.com/dhis2/dhis2-core/commit/8fd1033cd417b6b85ec47d488ebd8dc0e3fc9d44", "message": "Cleanup", "committedDate": "2020-05-27T09:46:30Z", "type": "commit"}, {"oid": "b1e3389924b8a66e9e3c271b6fb1999864c070f5", "url": "https://github.com/dhis2/dhis2-core/commit/b1e3389924b8a66e9e3c271b6fb1999864c070f5", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-05-28T07:16:47Z", "type": "commit"}, {"oid": "92b097da5a7c99866f211541888db690dfb834f6", "url": "https://github.com/dhis2/dhis2-core/commit/92b097da5a7c99866f211541888db690dfb834f6", "message": "Cleanup", "committedDate": "2020-05-28T07:24:56Z", "type": "commit"}, {"oid": "cad133f7ec2cf2f668e1f656482a188f2f26e0e7", "url": "https://github.com/dhis2/dhis2-core/commit/cad133f7ec2cf2f668e1f656482a188f2f26e0e7", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-05-28T07:26:28Z", "type": "commit"}, {"oid": "74087ee01f340832bf0b8d7c526c5cd81409b96e", "url": "https://github.com/dhis2/dhis2-core/commit/74087ee01f340832bf0b8d7c526c5cd81409b96e", "message": "Various", "committedDate": "2020-06-02T08:50:32Z", "type": "commit"}, {"oid": "b90dfc2943856bec149044f4c932fd946f8dcd61", "url": "https://github.com/dhis2/dhis2-core/commit/b90dfc2943856bec149044f4c932fd946f8dcd61", "message": "Minor", "committedDate": "2020-06-02T08:56:27Z", "type": "commit"}, {"oid": "5fab7169ecfd55470fc675e7397eaa843f60acfa", "url": "https://github.com/dhis2/dhis2-core/commit/5fab7169ecfd55470fc675e7397eaa843f60acfa", "message": "Minor", "committedDate": "2020-06-02T09:28:25Z", "type": "commit"}, {"oid": "65392137ecfdc17b207c7bf9fa140d259b0af769", "url": "https://github.com/dhis2/dhis2-core/commit/65392137ecfdc17b207c7bf9fa140d259b0af769", "message": "Minor", "committedDate": "2020-06-02T09:30:37Z", "type": "commit"}, {"oid": "b1b6cf84af56eda4764737f70c311bcc861a0b32", "url": "https://github.com/dhis2/dhis2-core/commit/b1b6cf84af56eda4764737f70c311bcc861a0b32", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-02T10:05:46Z", "type": "commit"}, {"oid": "efc1143f9d38899daba1164cdb4321003be16877", "url": "https://github.com/dhis2/dhis2-core/commit/efc1143f9d38899daba1164cdb4321003be16877", "message": "Use error codes in analytics security", "committedDate": "2020-06-02T15:26:30Z", "type": "commit"}, {"oid": "2a3ecc8d91d44acbf652e2888b608935fb2cfbcb", "url": "https://github.com/dhis2/dhis2-core/commit/2a3ecc8d91d44acbf652e2888b608935fb2cfbcb", "message": "Error codes", "committedDate": "2020-06-02T16:05:11Z", "type": "commit"}, {"oid": "72cb841a4d68c5c55ea003c638e1e68cbc764f65", "url": "https://github.com/dhis2/dhis2-core/commit/72cb841a4d68c5c55ea003c638e1e68cbc764f65", "message": "Error codes", "committedDate": "2020-06-02T16:19:26Z", "type": "commit"}, {"oid": "b436334a9f66dfa76fb8a1f76a31ab9d3b3095be", "url": "https://github.com/dhis2/dhis2-core/commit/b436334a9f66dfa76fb8a1f76a31ab9d3b3095be", "message": "Error codes", "committedDate": "2020-06-02T21:26:32Z", "type": "commit"}, {"oid": "45fa2d8efa3b01257dec4ff587fb8416fba1dc49", "url": "https://github.com/dhis2/dhis2-core/commit/45fa2d8efa3b01257dec4ff587fb8416fba1dc49", "message": "Add test", "committedDate": "2020-06-02T21:46:23Z", "type": "commit"}, {"oid": "15809451af699e3200bdab1c4961b559cc6a93ba", "url": "https://github.com/dhis2/dhis2-core/commit/15809451af699e3200bdab1c4961b559cc6a93ba", "message": "test", "committedDate": "2020-06-02T21:54:49Z", "type": "commit"}, {"oid": "3849c2c622320d2bf96465e5fbbe2dcc9b091bed", "url": "https://github.com/dhis2/dhis2-core/commit/3849c2c622320d2bf96465e5fbbe2dcc9b091bed", "message": "Minor", "committedDate": "2020-06-02T22:13:39Z", "type": "commit"}, {"oid": "7a215321bda5b24f60dafac78b528ad1bd0622e9", "url": "https://github.com/dhis2/dhis2-core/commit/7a215321bda5b24f60dafac78b528ad1bd0622e9", "message": "Minor", "committedDate": "2020-06-02T22:27:38Z", "type": "commit"}, {"oid": "6137119d5bfd74cabc17b4cb18ceaf45cc9caabf", "url": "https://github.com/dhis2/dhis2-core/commit/6137119d5bfd74cabc17b4cb18ceaf45cc9caabf", "message": "Added test", "committedDate": "2020-06-03T09:57:27Z", "type": "commit"}, {"oid": "56451b9b8fcb15394786ff04c2097e40bed81b8a", "url": "https://github.com/dhis2/dhis2-core/commit/56451b9b8fcb15394786ff04c2097e40bed81b8a", "message": "Minor", "committedDate": "2020-06-03T09:59:21Z", "type": "commit"}, {"oid": "846ab7405144a46d6baa01ebc13f6466380d6c09", "url": "https://github.com/dhis2/dhis2-core/commit/846ab7405144a46d6baa01ebc13f6466380d6c09", "message": "Minor", "committedDate": "2020-06-03T09:59:49Z", "type": "commit"}, {"oid": "441729f993b3ef598b34c7e6f4792e9befc0ea88", "url": "https://github.com/dhis2/dhis2-core/commit/441729f993b3ef598b34c7e6f4792e9befc0ea88", "message": "Update test", "committedDate": "2020-06-03T11:42:28Z", "type": "commit"}, {"oid": "8897dedda5fad975ce880cec0678db3094b0a190", "url": "https://github.com/dhis2/dhis2-core/commit/8897dedda5fad975ce880cec0678db3094b0a190", "message": "Javadocs", "committedDate": "2020-06-03T12:26:59Z", "type": "commit"}, {"oid": "3c8dcdbbac9690ba163b4d6635c6cc976419810f", "url": "https://github.com/dhis2/dhis2-core/commit/3c8dcdbbac9690ba163b4d6635c6cc976419810f", "message": "Update test", "committedDate": "2020-06-03T12:29:43Z", "type": "commit"}, {"oid": "a931d18c981ddc5de3c1f7a44ccfb1c99ed01fe2", "url": "https://github.com/dhis2/dhis2-core/commit/a931d18c981ddc5de3c1f7a44ccfb1c99ed01fe2", "message": "Minor", "committedDate": "2020-06-04T06:51:06Z", "type": "commit"}, {"oid": "d01bcebecf1ef6bcc83a1f489fb84cd81095153f", "url": "https://github.com/dhis2/dhis2-core/commit/d01bcebecf1ef6bcc83a1f489fb84cd81095153f", "message": "Minor", "committedDate": "2020-06-04T07:59:31Z", "type": "commit"}, {"oid": "f8712c4dd30540181bba665f7ac2cd7215862dd6", "url": "https://github.com/dhis2/dhis2-core/commit/f8712c4dd30540181bba665f7ac2cd7215862dd6", "message": "Minor", "committedDate": "2020-06-04T08:01:44Z", "type": "commit"}, {"oid": "5e075d91bbdb32fc22d323eddeadfaa861d89c20", "url": "https://github.com/dhis2/dhis2-core/commit/5e075d91bbdb32fc22d323eddeadfaa861d89c20", "message": "Minor", "committedDate": "2020-06-04T08:17:46Z", "type": "commit"}, {"oid": "a493d3c45957e851dd434730d4b7d48d63a34cbd", "url": "https://github.com/dhis2/dhis2-core/commit/a493d3c45957e851dd434730d4b7d48d63a34cbd", "message": "Close", "committedDate": "2020-06-04T08:22:39Z", "type": "commit"}, {"oid": "ecbddda2e7e78fce5220bb31ad74205fd37c6830", "url": "https://github.com/dhis2/dhis2-core/commit/ecbddda2e7e78fce5220bb31ad74205fd37c6830", "message": "Remove unused service", "committedDate": "2020-06-04T09:02:01Z", "type": "commit"}, {"oid": "b61867e7652125521a8367dfb80dfe53cf0cb893", "url": "https://github.com/dhis2/dhis2-core/commit/b61867e7652125521a8367dfb80dfe53cf0cb893", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-04T09:02:09Z", "type": "commit"}, {"oid": "a1ed35c6c637cdafb28055b8c862043c4c6c4d20", "url": "https://github.com/dhis2/dhis2-core/commit/a1ed35c6c637cdafb28055b8c862043c4c6c4d20", "message": "Minor", "committedDate": "2020-06-04T09:04:14Z", "type": "commit"}, {"oid": "a9e8f973251ac44968e841e1905528c076e3d0f7", "url": "https://github.com/dhis2/dhis2-core/commit/a9e8f973251ac44968e841e1905528c076e3d0f7", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-04T09:21:14Z", "type": "commit"}, {"oid": "0475fbc71786f551b57d690466faa9659ae11098", "url": "https://github.com/dhis2/dhis2-core/commit/0475fbc71786f551b57d690466faa9659ae11098", "message": "Exception handling", "committedDate": "2020-06-04T11:33:26Z", "type": "commit"}, {"oid": "ca8e4b7a419a67c15feee8d8b876b7b9c8588f88", "url": "https://github.com/dhis2/dhis2-core/commit/ca8e4b7a419a67c15feee8d8b876b7b9c8588f88", "message": "Minor", "committedDate": "2020-06-04T11:34:54Z", "type": "commit"}, {"oid": "eac50c697995f153f7af2090fc311500522c69d1", "url": "https://github.com/dhis2/dhis2-core/commit/eac50c697995f153f7af2090fc311500522c69d1", "message": "Minor", "committedDate": "2020-06-04T11:46:59Z", "type": "commit"}, {"oid": "39fd66928301758c4ccbc8ee6c549286406fc698", "url": "https://github.com/dhis2/dhis2-core/commit/39fd66928301758c4ccbc8ee6c549286406fc698", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-04T14:07:34Z", "type": "commit"}, {"oid": "eaa581a64b30e64630826f8d5086a7380c015b30", "url": "https://github.com/dhis2/dhis2-core/commit/eaa581a64b30e64630826f8d5086a7380c015b30", "message": "Merge", "committedDate": "2020-06-05T06:56:37Z", "type": "commit"}, {"oid": "18db859dc9201ce544c629bea1e1cc29d1cc364a", "url": "https://github.com/dhis2/dhis2-core/commit/18db859dc9201ce544c629bea1e1cc29d1cc364a", "message": "Exception", "committedDate": "2020-06-09T13:50:45Z", "type": "commit"}, {"oid": "8bf08323f3280e07763475bc746763dd4e7ae7fb", "url": "https://github.com/dhis2/dhis2-core/commit/8bf08323f3280e07763475bc746763dd4e7ae7fb", "message": "Test", "committedDate": "2020-06-09T13:59:39Z", "type": "commit"}, {"oid": "a6f9327475bb53b7329a5300fb7611b0423cad5f", "url": "https://github.com/dhis2/dhis2-core/commit/a6f9327475bb53b7329a5300fb7611b0423cad5f", "message": "Minor", "committedDate": "2020-06-09T14:00:58Z", "type": "commit"}, {"oid": "9b981f90b5f21adf557b98075cffb6079810dfb7", "url": "https://github.com/dhis2/dhis2-core/commit/9b981f90b5f21adf557b98075cffb6079810dfb7", "message": "Test", "committedDate": "2020-06-09T14:34:16Z", "type": "commit"}, {"oid": "e017d3a59b2fff852b6554f46b969e7034e7680e", "url": "https://github.com/dhis2/dhis2-core/commit/e017d3a59b2fff852b6554f46b969e7034e7680e", "message": "Minor", "committedDate": "2020-06-09T14:36:28Z", "type": "commit"}, {"oid": "05b9e8c5698a419a51fd3706ea308113b611a720", "url": "https://github.com/dhis2/dhis2-core/commit/05b9e8c5698a419a51fd3706ea308113b611a720", "message": "Merge with master", "committedDate": "2020-06-09T14:42:05Z", "type": "commit"}, {"oid": "3464476685677b91e27f932a3eb9470c4244c9a2", "url": "https://github.com/dhis2/dhis2-core/commit/3464476685677b91e27f932a3eb9470c4244c9a2", "message": "Minor", "committedDate": "2020-06-09T14:42:57Z", "type": "commit"}, {"oid": "05bd16e573d9a4a57b4aca37283249e9a4427be9", "url": "https://github.com/dhis2/dhis2-core/commit/05bd16e573d9a4a57b4aca37283249e9a4427be9", "message": "Minor", "committedDate": "2020-06-09T18:38:30Z", "type": "commit"}, {"oid": "070f63d2c51a6b86c6b4f761e43de990cf827171", "url": "https://github.com/dhis2/dhis2-core/commit/070f63d2c51a6b86c6b4f761e43de990cf827171", "message": "Minor", "committedDate": "2020-06-09T18:41:22Z", "type": "commit"}, {"oid": "09e18d3fc1b693af8905963e9e3678319f5f3807", "url": "https://github.com/dhis2/dhis2-core/commit/09e18d3fc1b693af8905963e9e3678319f5f3807", "message": "Minor", "committedDate": "2020-06-09T18:42:20Z", "type": "commit"}, {"oid": "24b3e7e5f807e440c76f7b40159746de3f48ef49", "url": "https://github.com/dhis2/dhis2-core/commit/24b3e7e5f807e440c76f7b40159746de3f48ef49", "message": "Test", "committedDate": "2020-06-09T21:39:26Z", "type": "commit"}, {"oid": "5a2e84387325e325db2063d690678a9f220ca3b3", "url": "https://github.com/dhis2/dhis2-core/commit/5a2e84387325e325db2063d690678a9f220ca3b3", "message": "Test", "committedDate": "2020-06-09T21:40:34Z", "type": "commit"}, {"oid": "e326d8a52dc0b40b3ad89e52753699c5d0d5024d", "url": "https://github.com/dhis2/dhis2-core/commit/e326d8a52dc0b40b3ad89e52753699c5d0d5024d", "message": "Test", "committedDate": "2020-06-09T22:08:50Z", "type": "commit"}, {"oid": "ce3418b60079a3c36099e7f542307e3436201915", "url": "https://github.com/dhis2/dhis2-core/commit/ce3418b60079a3c36099e7f542307e3436201915", "message": "Test", "committedDate": "2020-06-09T22:13:42Z", "type": "commit"}, {"oid": "828cc1995b59587ce61977edc75904ef7b19fd61", "url": "https://github.com/dhis2/dhis2-core/commit/828cc1995b59587ce61977edc75904ef7b19fd61", "message": "Test", "committedDate": "2020-06-10T06:27:58Z", "type": "commit"}, {"oid": "9bfa56ea847437e913ca80a2293e23920004e3c7", "url": "https://github.com/dhis2/dhis2-core/commit/9bfa56ea847437e913ca80a2293e23920004e3c7", "message": "Test", "committedDate": "2020-06-10T07:05:34Z", "type": "commit"}, {"oid": "070751643edafceb16e3bc118c85f35fd234bca0", "url": "https://github.com/dhis2/dhis2-core/commit/070751643edafceb16e3bc118c85f35fd234bca0", "message": "Test", "committedDate": "2020-06-10T07:10:14Z", "type": "commit"}, {"oid": "f98aad2614271d14bd9b388e9484f02b5960eed2", "url": "https://github.com/dhis2/dhis2-core/commit/f98aad2614271d14bd9b388e9484f02b5960eed2", "message": "Minor", "committedDate": "2020-06-10T07:12:01Z", "type": "commit"}, {"oid": "dc6ab43b5e772c07810220baafc4d33e60540373", "url": "https://github.com/dhis2/dhis2-core/commit/dc6ab43b5e772c07810220baafc4d33e60540373", "message": "Minor", "committedDate": "2020-06-10T07:18:03Z", "type": "commit"}, {"oid": "731ad162d0588d9e88e4b0be2ddc34ebd3928488", "url": "https://github.com/dhis2/dhis2-core/commit/731ad162d0588d9e88e4b0be2ddc34ebd3928488", "message": "Minor", "committedDate": "2020-06-10T11:13:01Z", "type": "commit"}, {"oid": "8850b36db2703d2d21629aeebfb9eb14cac42d05", "url": "https://github.com/dhis2/dhis2-core/commit/8850b36db2703d2d21629aeebfb9eb14cac42d05", "message": "Minor", "committedDate": "2020-06-10T11:50:00Z", "type": "commit"}, {"oid": "23f5a9cf6a926ad8ca6df0c2bb516012f018c7b2", "url": "https://github.com/dhis2/dhis2-core/commit/23f5a9cf6a926ad8ca6df0c2bb516012f018c7b2", "message": "Dependencies", "committedDate": "2020-06-10T12:06:56Z", "type": "commit"}, {"oid": "dfa832cbf3f6cc9459e4e8f68e780b727610d19f", "url": "https://github.com/dhis2/dhis2-core/commit/dfa832cbf3f6cc9459e4e8f68e780b727610d19f", "message": "Dependency", "committedDate": "2020-06-10T12:10:33Z", "type": "commit"}, {"oid": "e64bfdaec056cbbf99c75cd56e4a2c95499e4f2c", "url": "https://github.com/dhis2/dhis2-core/commit/e64bfdaec056cbbf99c75cd56e4a2c95499e4f2c", "message": "Minor", "committedDate": "2020-06-10T12:17:48Z", "type": "commit"}, {"oid": "886f6016e12c8d605c34150dd1247545941bf6e3", "url": "https://github.com/dhis2/dhis2-core/commit/886f6016e12c8d605c34150dd1247545941bf6e3", "message": "Set hamcrest scope", "committedDate": "2020-06-10T12:49:00Z", "type": "commit"}, {"oid": "3106c7904649acd40c205b54632e3d2b5a0d5f16", "url": "https://github.com/dhis2/dhis2-core/commit/3106c7904649acd40c205b54632e3d2b5a0d5f16", "message": "Revert \"Set hamcrest scope\"\n\nThis reverts commit 886f6016e12c8d605c34150dd1247545941bf6e3.", "committedDate": "2020-06-10T12:50:42Z", "type": "commit"}, {"oid": "66a29370236ae9088505f6f7d0163ee984622ae4", "url": "https://github.com/dhis2/dhis2-core/commit/66a29370236ae9088505f6f7d0163ee984622ae4", "message": "Set hamcrest scope\n\n(cherry picked from commit 886f6016e12c8d605c34150dd1247545941bf6e3)", "committedDate": "2020-06-10T12:51:54Z", "type": "commit"}, {"oid": "6d72ff9124b1a595e8c0782dcebaf928694c4f2a", "url": "https://github.com/dhis2/dhis2-core/commit/6d72ff9124b1a595e8c0782dcebaf928694c4f2a", "message": "Test scope", "committedDate": "2020-06-10T13:13:23Z", "type": "commit"}, {"oid": "dc6c361859de48793770a659dd58eb43fb891167", "url": "https://github.com/dhis2/dhis2-core/commit/dc6c361859de48793770a659dd58eb43fb891167", "message": "Minor", "committedDate": "2020-06-10T13:21:35Z", "type": "commit"}, {"oid": "9440fd59af07040b2ccd25a4c97b56faafe5670c", "url": "https://github.com/dhis2/dhis2-core/commit/9440fd59af07040b2ccd25a4c97b56faafe5670c", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-10T13:56:58Z", "type": "commit"}, {"oid": "4238c8c95057132e2163156f6eaf6945f63af80d", "url": "https://github.com/dhis2/dhis2-core/commit/4238c8c95057132e2163156f6eaf6945f63af80d", "message": "Test", "committedDate": "2020-06-10T14:30:16Z", "type": "commit"}, {"oid": "c88d68ae2773914d29e84dc4ea7970bcd12d406e", "url": "https://github.com/dhis2/dhis2-core/commit/c88d68ae2773914d29e84dc4ea7970bcd12d406e", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-10T21:28:30Z", "type": "commit"}, {"oid": "09902ed71a4e24f421e9c36406ba6ed2d9c954ca", "url": "https://github.com/dhis2/dhis2-core/commit/09902ed71a4e24f421e9c36406ba6ed2d9c954ca", "message": "Error codes for SQL views", "committedDate": "2020-06-11T09:31:14Z", "type": "commit"}, {"oid": "9e53ce687fed89821569e40e3ec34b623e93970c", "url": "https://github.com/dhis2/dhis2-core/commit/9e53ce687fed89821569e40e3ec34b623e93970c", "message": "Minor", "committedDate": "2020-06-11T09:38:55Z", "type": "commit"}, {"oid": "2691d837b1f8e4fa2d252326b11fc41af898790a", "url": "https://github.com/dhis2/dhis2-core/commit/2691d837b1f8e4fa2d252326b11fc41af898790a", "message": "Minor", "committedDate": "2020-06-11T10:00:09Z", "type": "commit"}, {"oid": "4b94abc054acf119d22981035231f39f60bfa258", "url": "https://github.com/dhis2/dhis2-core/commit/4b94abc054acf119d22981035231f39f60bfa258", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-11T10:15:30Z", "type": "commit"}, {"oid": "f60656cbfa9dd3d75d2986d012d746b182ff4ae8", "url": "https://github.com/dhis2/dhis2-core/commit/f60656cbfa9dd3d75d2986d012d746b182ff4ae8", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-11T14:57:29Z", "type": "commit"}, {"oid": "2e6313fa9f7e47b92fcc8dfd488fb81088b46174", "url": "https://github.com/dhis2/dhis2-core/commit/2e6313fa9f7e47b92fcc8dfd488fb81088b46174", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-12T09:05:27Z", "type": "commit"}, {"oid": "ad8dcfb98ad19b33e3a0c688dcfc6dacc06124f7", "url": "https://github.com/dhis2/dhis2-core/commit/ad8dcfb98ad19b33e3a0c688dcfc6dacc06124f7", "message": "Minor", "committedDate": "2020-06-17T09:38:25Z", "type": "commit"}, {"oid": "b57fc64a211757faccce1e5b8f6313984a68babd", "url": "https://github.com/dhis2/dhis2-core/commit/b57fc64a211757faccce1e5b8f6313984a68babd", "message": "Merge with master", "committedDate": "2020-06-17T09:57:39Z", "type": "commit"}, {"oid": "4e452d76f8e3e5916b79187d5726b37f25109b5e", "url": "https://github.com/dhis2/dhis2-core/commit/4e452d76f8e3e5916b79187d5726b37f25109b5e", "message": "Minor", "committedDate": "2020-06-17T10:00:09Z", "type": "commit"}, {"oid": "915aad92e67824c8bf0f93ff9b8a5d40b9394738", "url": "https://github.com/dhis2/dhis2-core/commit/915aad92e67824c8bf0f93ff9b8a5d40b9394738", "message": "MWM", "committedDate": "2020-06-18T05:49:49Z", "type": "commit"}, {"oid": "0c6a142c53fe6cb218c5d02f8e803ab884c3ced7", "url": "https://github.com/dhis2/dhis2-core/commit/0c6a142c53fe6cb218c5d02f8e803ab884c3ced7", "message": "Minor", "committedDate": "2020-06-18T05:50:53Z", "type": "commit"}, {"oid": "ee144c922b7b90d4fca41e63d1b0c44848fe16b4", "url": "https://github.com/dhis2/dhis2-core/commit/ee144c922b7b90d4fca41e63d1b0c44848fe16b4", "message": "Minor", "committedDate": "2020-06-23T11:37:59Z", "type": "commit"}, {"oid": "a61b413be586f645b2f9fa0ab1029356eacfcf81", "url": "https://github.com/dhis2/dhis2-core/commit/a61b413be586f645b2f9fa0ab1029356eacfcf81", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-23T11:38:09Z", "type": "commit"}, {"oid": "2de887ce7fd415b6078220ad80f644a99e2cef3a", "url": "https://github.com/dhis2/dhis2-core/commit/2de887ce7fd415b6078220ad80f644a99e2cef3a", "message": "Minor", "committedDate": "2020-06-24T07:29:54Z", "type": "commit"}, {"oid": "ce1b632d263ebb786dc6a1af35a1d5ecb9e37a81", "url": "https://github.com/dhis2/dhis2-core/commit/ce1b632d263ebb786dc6a1af35a1d5ecb9e37a81", "message": "Upgrade Guava", "committedDate": "2020-06-24T11:40:10Z", "type": "commit"}, {"oid": "018dd31bd5ed76506351f2b6b692c268e97e9747", "url": "https://github.com/dhis2/dhis2-core/commit/018dd31bd5ed76506351f2b6b692c268e97e9747", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-24T11:40:57Z", "type": "commit"}, {"oid": "2e3ed46cdf2c31d12cb7bf4dfa5119d405d142ee", "url": "https://github.com/dhis2/dhis2-core/commit/2e3ed46cdf2c31d12cb7bf4dfa5119d405d142ee", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-06-24T14:20:45Z", "type": "commit"}, {"oid": "df64519bdfff99f0665bbfc5cc3d2c87b52b9ed3", "url": "https://github.com/dhis2/dhis2-core/commit/df64519bdfff99f0665bbfc5cc3d2c87b52b9ed3", "message": "Allow negative values", "committedDate": "2020-06-25T13:12:02Z", "type": "commit"}, {"oid": "e480b044073d8a2cd28f59eb6f2a9617dfdce87b", "url": "https://github.com/dhis2/dhis2-core/commit/e480b044073d8a2cd28f59eb6f2a9617dfdce87b", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-01T09:21:02Z", "type": "commit"}, {"oid": "2941e18defd843b8d0c70594a27e4999b33c5d77", "url": "https://github.com/dhis2/dhis2-core/commit/2941e18defd843b8d0c70594a27e4999b33c5d77", "message": "Code style", "committedDate": "2020-07-01T20:50:02Z", "type": "commit"}, {"oid": "103716ace69e0a1c2d2ccdb094f37d8f4e68a4e9", "url": "https://github.com/dhis2/dhis2-core/commit/103716ace69e0a1c2d2ccdb094f37d8f4e68a4e9", "message": "Minor", "committedDate": "2020-07-01T20:51:11Z", "type": "commit"}, {"oid": "899532bf5ef549ba911f16c9d040b1cc94bc041b", "url": "https://github.com/dhis2/dhis2-core/commit/899532bf5ef549ba911f16c9d040b1cc94bc041b", "message": "Minor", "committedDate": "2020-07-01T20:52:41Z", "type": "commit"}, {"oid": "e28fa44fda08cb85fa1670e9545c8daaf322746c", "url": "https://github.com/dhis2/dhis2-core/commit/e28fa44fda08cb85fa1670e9545c8daaf322746c", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-01T21:08:23Z", "type": "commit"}, {"oid": "4925d6ebb86cdd7d04a908b00e98bfaa07f45b86", "url": "https://github.com/dhis2/dhis2-core/commit/4925d6ebb86cdd7d04a908b00e98bfaa07f45b86", "message": "Minor", "committedDate": "2020-07-01T21:27:54Z", "type": "commit"}, {"oid": "d15d5dc335f7d33a1a142050bb7cfb97f233a32e", "url": "https://github.com/dhis2/dhis2-core/commit/d15d5dc335f7d33a1a142050bb7cfb97f233a32e", "message": "Cleanup", "committedDate": "2020-07-02T14:42:35Z", "type": "commit"}, {"oid": "fd702fcaa61273318dcb05ffe35c7d416cd9bea8", "url": "https://github.com/dhis2/dhis2-core/commit/fd702fcaa61273318dcb05ffe35c7d416cd9bea8", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-02T14:43:33Z", "type": "commit"}, {"oid": "bce76be159ed84a827f20de6bbad7291ac09b792", "url": "https://github.com/dhis2/dhis2-core/commit/bce76be159ed84a827f20de6bbad7291ac09b792", "message": "Hash md5", "committedDate": "2020-07-02T14:48:03Z", "type": "commit"}, {"oid": "395b4b6c67d06bbf78e497231e5e93b9f966be73", "url": "https://github.com/dhis2/dhis2-core/commit/395b4b6c67d06bbf78e497231e5e93b9f966be73", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-03T06:57:03Z", "type": "commit"}, {"oid": "cb2c45fcd84cc1e0898c9e1ee5afbf6b389feff3", "url": "https://github.com/dhis2/dhis2-core/commit/cb2c45fcd84cc1e0898c9e1ee5afbf6b389feff3", "message": "Merge branch 'master' into lars-dev", "committedDate": "2020-07-03T11:21:20Z", "type": "commit"}]}