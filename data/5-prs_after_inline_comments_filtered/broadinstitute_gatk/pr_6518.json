{"pr_number": 6518, "pr_title": "Fix edge case when haplotypes have leading insertion after trimming", "pr_createdAt": "2020-03-23T13:25:30Z", "pr_url": "https://github.com/broadinstitute/gatk/pull/6518", "timeline": [{"oid": "fdbd7b6e06082c5a43aa71a9b979041b7b434592", "url": "https://github.com/broadinstitute/gatk/commit/fdbd7b6e06082c5a43aa71a9b979041b7b434592", "message": "bug fix for trimming haplotype with insertion at trim start", "committedDate": "2020-03-23T02:38:12Z", "type": "commit"}, {"oid": "7deb5fa2da6c5d362b7dd62eb2f7ff19ffb4c345", "url": "https://github.com/broadinstitute/gatk/commit/7deb5fa2da6c5d362b7dd62eb2f7ff19ffb4c345", "message": "edge case for cigars with very large deletion and too little flanking sequence", "committedDate": "2020-03-23T05:40:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjUzOTE1OA==", "url": "https://github.com/broadinstitute/gatk/pull/6518#discussion_r396539158", "bodyText": "I would add the cigar \"2I4M\" here: so\nThat is getBasesCoveringRefInterval(0, 3, \"ACTTGT\", 0) -> That is getBasesCoveringRefInterval(0, 3, \"ACTTGT\", 0, \"2I4M\")", "author": "takutosato", "createdAt": "2020-03-23T15:30:19Z", "path": "src/main/java/org/broadinstitute/hellbender/utils/read/AlignmentUtils.java", "diffHunk": "@@ -141,6 +141,9 @@ public static GATKRead createReadAlignedToRef(final GATKRead originalRead,\n      *\n      * If refStart or refEnd would start or end the new bases within a deletion, this function will return null\n      *\n+     * If the cigar starts with an insertion, the inserted bases are considered as coming before the start position and\n+     * are therefore excluded from the result.  That is getBasesCoveringRefInterval(0, 3, \"ACTTGT\", 0) should yield \"TTGT\".", "originalCommit": "7deb5fa2da6c5d362b7dd62eb2f7ff19ffb4c345", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjY0MDE4Mg==", "url": "https://github.com/broadinstitute/gatk/pull/6518#discussion_r396640182", "bodyText": "done", "author": "davidbenjamin", "createdAt": "2020-03-23T17:47:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjUzOTE1OA=="}], "type": "inlineReview"}, {"oid": "8e3b6a3c9431c9b58acf5c2688176835f827dedb", "url": "https://github.com/broadinstitute/gatk/commit/8e3b6a3c9431c9b58acf5c2688176835f827dedb", "message": "comment", "committedDate": "2020-03-23T17:47:35Z", "type": "commit"}]}