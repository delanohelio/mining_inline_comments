{"pr_number": 4165, "pr_title": "improve naming of `access` values when defining `-jpms-module-info`", "pr_createdAt": "2020-06-15T18:16:15Z", "pr_url": "https://github.com/bndtools/bnd/pull/4165", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MTM0MQ==", "url": "https://github.com/bndtools/bnd/pull/4165#discussion_r440361341", "bodyText": "I hope to god the next Eclipse version fixes this idiotic code formatting bug...", "author": "bjhargrave", "createdAt": "2020-06-15T18:20:06Z", "path": "biz.aQute.bndlib/src/aQute/bnd/plugin/jpms/JPMSModuleInfoPlugin.java", "diffHunk": "@@ -76,6 +78,46 @@\n  */\n public class JPMSModuleInfoPlugin implements VerifierPlugin {\n \n+\tenum Access {\n+\t\tCLOSED(", "originalCommit": "e9b5c4468d4aa3be2bf80605767eceb3b173d8d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM3MDY2OA==", "url": "https://github.com/bndtools/bnd/pull/4165#discussion_r440370668", "bodyText": ":)", "author": "rotty3000", "createdAt": "2020-06-15T18:37:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MTM0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MTgzMw==", "url": "https://github.com/bndtools/bnd/pull/4165#discussion_r440361833", "bodyText": "Isn't this a bit restrictive? 0x20 wont work. You probably need two paths: string and numbers.", "author": "bjhargrave", "createdAt": "2020-06-15T18:21:01Z", "path": "biz.aQute.bndlib/src/aQute/bnd/plugin/jpms/JPMSModuleInfoPlugin.java", "diffHunk": "@@ -76,6 +78,46 @@\n  */\n public class JPMSModuleInfoPlugin implements VerifierPlugin {\n \n+\tenum Access {\n+\t\tCLOSED(\n+\t\t\t0),\n+\t\tOPEN(ACC_OPEN),\n+\t\tSYNTHETIC(ACC_SYNTHETIC),\n+\t\tMANDATED(ACC_MANDATED);\n+\n+\t\tpublic static Access parse(String input) {\n+\t\t\tswitch (input) {\n+\t\t\t\tcase \"OPEN\" :\n+\t\t\t\tcase \"open\" :\n+\t\t\t\tcase \"0x0020\" :", "originalCommit": "e9b5c4468d4aa3be2bf80605767eceb3b173d8d5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MjUxNA==", "url": "https://github.com/bndtools/bnd/pull/4165#discussion_r440362514", "bodyText": "k", "author": "rotty3000", "createdAt": "2020-06-15T18:22:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MTgzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2NDQ2Mw==", "url": "https://github.com/bndtools/bnd/pull/4165#discussion_r440364463", "bodyText": "default :\n\t\t\t\t\tint parsedValue = Integer.parseInt(input);\n\t\t\t\t\treturn Arrays.stream(values())\n\t\t\t\t\t\t.filter(a -> a.getValue() == parsedValue)\n\t\t\t\t\t\t.findFirst()\n\t\t\t\t\t\t.orElse(CLOSED);\n\n\n?", "author": "rotty3000", "createdAt": "2020-06-15T18:26:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MTgzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2NzA2Mg==", "url": "https://github.com/bndtools/bnd/pull/4165#discussion_r440367062", "bodyText": "I think you want Integer.decode which can handle hex strings and octal. But you should catch any exception from decode and map to an error.", "author": "bjhargrave", "createdAt": "2020-06-15T18:30:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MTgzMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2Nzg4MA==", "url": "https://github.com/bndtools/bnd/pull/4165#discussion_r440367880", "bodyText": "Also the orElse case should also be an error, no?", "author": "bjhargrave", "createdAt": "2020-06-15T18:32:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM2MTgzMw=="}], "type": "inlineReview"}, {"oid": "f1f2c108da75cff2b879b129dd2c0a453d204d23", "url": "https://github.com/bndtools/bnd/commit/f1f2c108da75cff2b879b129dd2c0a453d204d23", "message": "improve naming of `access` values when defining `-jpms-module-info`\n\nFixes #4164\n\nSigned-off-by: Raymond Aug\u00e9 <raymond.auge@liferay.com>", "committedDate": "2020-06-15T18:36:51Z", "type": "forcePushed"}, {"oid": "357d8d52e570b61d2367e188427ed0b033355f00", "url": "https://github.com/bndtools/bnd/commit/357d8d52e570b61d2367e188427ed0b033355f00", "message": "improve naming of `access` values when defining `-jpms-module-info`\n\nFixes #4164\n\nSigned-off-by: Raymond Aug\u00e9 <raymond.auge@liferay.com>", "committedDate": "2020-06-15T18:38:39Z", "type": "commit"}, {"oid": "357d8d52e570b61d2367e188427ed0b033355f00", "url": "https://github.com/bndtools/bnd/commit/357d8d52e570b61d2367e188427ed0b033355f00", "message": "improve naming of `access` values when defining `-jpms-module-info`\n\nFixes #4164\n\nSigned-off-by: Raymond Aug\u00e9 <raymond.auge@liferay.com>", "committedDate": "2020-06-15T18:38:39Z", "type": "forcePushed"}]}