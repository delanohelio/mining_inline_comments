{"pr_number": 3069, "pr_title": "Default values for some request params and change error handler", "pr_createdAt": "2020-05-19T09:24:17Z", "pr_url": "https://github.com/odpi/egeria/pull/3069", "timeline": [{"oid": "6a711454bb746f920ed188c13fde204fdeaeba1e", "url": "https://github.com/odpi/egeria/commit/6a711454bb746f920ed188c13fde204fdeaeba1e", "message": "# Added default values for some request params\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-19T09:15:44Z", "type": "commit"}, {"oid": "0328cb2079ab9dcc32b8be866846c9cbc52ac534", "url": "https://github.com/odpi/egeria/commit/0328cb2079ab9dcc32b8be866846c9cbc52ac534", "message": "# Change error handler to all static\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-19T09:16:12Z", "type": "commit"}, {"oid": "66007278556c77b2e791a8eca54b7aea385a96bb", "url": "https://github.com/odpi/egeria/commit/66007278556c77b2e791a8eca54b7aea385a96bb", "message": "Merge branch 'master' into default_values_for_some_request_params\n\n# Conflicts:\n#\topen-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/handlers/SubjectAreaHandler.java\n#\topen-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/handlers/SubjectAreaProjectHandler.java\n#\topen-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/server/handlers/ErrorHandler.java\n#\topen-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/utilities/OMRSAPIHelper.java\n#\topen-metadata-implementation/access-services/subject-area/subject-area-spring/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/server/spring/SubjectAreaCategoryRESTResource.java\n#\topen-metadata-implementation/access-services/subject-area/subject-area-spring/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/server/spring/SubjectAreaRelationshipRESTResource.java", "committedDate": "2020-05-22T18:21:02Z", "type": "commit"}, {"oid": "923edf4f2ed6a82e99bfb0afa695874d7976f09b", "url": "https://github.com/odpi/egeria/commit/923edf4f2ed6a82e99bfb0afa695874d7976f09b", "message": "# Resolved conflicts\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-22T18:23:25Z", "type": "commit"}, {"oid": "16eab0d7303710cccdc611eca3fd76b847964b28", "url": "https://github.com/odpi/egeria/commit/16eab0d7303710cccdc611eca3fd76b847964b28", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-25T11:39:31Z", "type": "commit"}, {"oid": "e534d4ced32b066439d3efbb14185bb25f680a17", "url": "https://github.com/odpi/egeria/commit/e534d4ced32b066439d3efbb14185bb25f680a17", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-26T08:41:40Z", "type": "commit"}, {"oid": "490404f908546400e8dfcce1101e4e4cb201b066", "url": "https://github.com/odpi/egeria/commit/490404f908546400e8dfcce1101e4e4cb201b066", "message": "# Removed unnecessary inheritance\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-26T17:05:19Z", "type": "commit"}, {"oid": "10a38050687ccf417b999f043fee4a05160c9637", "url": "https://github.com/odpi/egeria/commit/10a38050687ccf417b999f043fee4a05160c9637", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-26T17:06:56Z", "type": "commit"}, {"oid": "ce5ab400938ea0702dd416a9bd29fdafbf48333f", "url": "https://github.com/odpi/egeria/commit/ce5ab400938ea0702dd416a9bd29fdafbf48333f", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-27T16:53:54Z", "type": "commit"}, {"oid": "d71782b9e1e48e47e58449e8382aa949c8e55b5f", "url": "https://github.com/odpi/egeria/commit/d71782b9e1e48e47e58449e8382aa949c8e55b5f", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-27T17:49:34Z", "type": "commit"}, {"oid": "e44fea0625862ffad31fd7d4a1fea7b0fa59a9d5", "url": "https://github.com/odpi/egeria/commit/e44fea0625862ffad31fd7d4a1fea7b0fa59a9d5", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-28T13:04:17Z", "type": "commit"}, {"oid": "cc09b15594f4e9a446bc496f20256ae6c8010f15", "url": "https://github.com/odpi/egeria/commit/cc09b15594f4e9a446bc496f20256ae6c8010f15", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-28T13:43:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg1MjE4OQ==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r431852189", "bodyText": "I think we logically need this else. We could refactor to:\nif (response.getResponseCategory().equals(ResponseCategory.GlossarySummary)) {\nGlossarySummaryResponse glossarySummaryResponse = (GlossarySummaryResponse) response;\nGlossarySummary glossarySummary = glossarySummaryResponse.getGlossarySummary();\ngotTerm.setGlossary(glossarySummary);\n}\nresponse = new TermResponse(gotTerm);", "author": "davidradl", "createdAt": "2020-05-28T13:53:18Z", "path": "open-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/handlers/SubjectAreaTermHandler.java", "diffHunk": "@@ -238,9 +236,6 @@ public SubjectAreaOMASAPIResponse getTermByGuid(String userId, String guid) {\n                                 GlossarySummary glossarySummary = glossarySummaryResponse.getGlossarySummary();\n                                 gotTerm.setGlossary(glossarySummary);\n                                 response = new TermResponse(gotTerm);\n-                            } else if (response == null) {", "originalCommit": "cc09b15594f4e9a446bc496f20256ae6c8010f15", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg3NzczNg==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r431877736", "bodyText": "The current condition \"else if (response == null)\" in this case will always be \"false\" because response is always not null anyway we do not reach this condition.\nThe question also arises about the condition in line 245: \"Do we really need the condition for\" more \"?\" Because the creation of a term without a glossary, in principle, cannot be correct. Thus, the term falling under this \u201cother\u201d condition should not be at all. After all, you correctly left a comment that in this case we do not have a glossary on this term.", "author": "immmus", "createdAt": "2020-05-28T14:27:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTg1MjE4OQ=="}], "type": "inlineReview"}, {"oid": "b915d92ef24fbe14623af1d207c558b013d3eb0a", "url": "https://github.com/odpi/egeria/commit/b915d92ef24fbe14623af1d207c558b013d3eb0a", "message": "# fixed my mistake\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-28T15:02:05Z", "type": "commit"}, {"oid": "9c8bd942c6549a388fcf933a91bb89836f308280", "url": "https://github.com/odpi/egeria/commit/9c8bd942c6549a388fcf933a91bb89836f308280", "message": "Merge remote-tracking branch 'origin/default_values_for_some_request_params' into default_values_for_some_request_params", "committedDate": "2020-05-28T15:02:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNTE3Mw==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432335173", "bodyText": "By setting a default page size- this means that paging cannot be disabled in the API, which means this is an API change. This means the caller would be expected to deal with paging but has not requested paging. I am therefor thinking that we should not default this value. The same for the other find requests. I think it is ok to default offset to 0.", "author": "davidradl", "createdAt": "2020-05-29T08:30:54Z", "path": "open-metadata-implementation/access-services/subject-area/subject-area-spring/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/server/spring/SubjectAreaCategoryRESTResource.java", "diffHunk": "@@ -112,17 +115,18 @@ public  SubjectAreaOMASAPIResponse getCategoryByGuid(@PathVariable String server\n      * <li> FunctionNotSupportedException        Function not supported this indicates that a find was issued but the repository does not implement find functionality in some way.</li>\n      * </ul>\n      */\n-    @GetMapping( path = \"/users/{userId}/categories\")\n-    public  SubjectAreaOMASAPIResponse findTerm(@PathVariable String serverName, @PathVariable String userId,\n-                                                @RequestParam(value = \"searchCriteria\", required=false) String searchCriteria,\n-                                                @RequestParam(value = \"asOfTime\", required=false) Date asOfTime,\n-                                                @RequestParam(value = \"offset\", required=false) Integer offset,\n-                                                @RequestParam(value = \"pageSize\", required=false) Integer pageSize,\n-                                                @RequestParam(value = \"sequencingOrder\", required=false) SequencingOrder sequencingOrder,\n-                                                @RequestParam(value = \"sequencingProperty\", required=false) String sequencingProperty\n-    )  {\n-        return restAPI.findCategory(serverName,userId,searchCriteria,asOfTime,offset,pageSize,sequencingOrder,sequencingProperty);\n+    @GetMapping(path = \"/users/{userId}/categories\")\n+    public SubjectAreaOMASAPIResponse findTerm(@PathVariable String serverName, @PathVariable String userId,\n+                                               @RequestParam(value = \"searchCriteria\", required = false) String searchCriteria,\n+                                               @RequestParam(value = \"asOfTime\", required = false) Date asOfTime,\n+                                               @RequestParam(value = \"offset\", required = false, defaultValue = PAGE_OFFSET_DEFAULT_VALUE) Integer offset,\n+                                               @RequestParam(value = \"pageSize\", required = false, defaultValue = PAGE_SIZE_DEFAULT_VALUE) Integer pageSize,", "originalCommit": "9c8bd942c6549a388fcf933a91bb89836f308280", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM1NzI3Nw==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432357277", "bodyText": "Let's set PAGE_SIZE_DEFAULT_VALUE = 0, as it is done in the current version only elsewhere) and have \"Zero means unrestricted return results size.\" as indicated in the specification. I think that the decision will be more correct=)", "author": "immmus", "createdAt": "2020-05-29T09:12:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNTE3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQzNjY4NA==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432436684", "bodyText": "@immmus I see PAGE_SIZE_DEFAULT_VALUE = \"100\"; currently in this change . I am going to do further test / reviewing on Monday. Thanks for all your efforts with this.I think changing the default to 0 for all of these type of calls makes sense.", "author": "davidradl", "createdAt": "2020-05-29T12:01:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNTE3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ0MTY3Mw==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432441673", "bodyText": "Yes, is my currently in this change PAGE_SIZE_DEFAULT_VALUE = \"100\";\nBut I suggest changing to 0 because it fits the specification. Should I commit with this change ??", "author": "immmus", "createdAt": "2020-05-29T12:12:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNTE3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ0ODI1MA==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432448250", "bodyText": "I decided do not wait your answer and commit this change:). Since judging by our conversation, I think we agreed on a common opinion.", "author": "immmus", "createdAt": "2020-05-29T12:25:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNTE3Mw=="}], "type": "inlineReview"}, {"oid": "b0cd6afd8b49467ae41a5efa914b4c9a4c2a95b3", "url": "https://github.com/odpi/egeria/commit/b0cd6afd8b49467ae41a5efa914b4c9a4c2a95b3", "message": "# Changed PAGE_SIZE_DEFAULT_VALUE to 0. Zero means unrestricted return results size.\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-29T12:19:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjU2MDMyMw==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432560323", "bodyText": "This constant is not used", "author": "davidradl", "createdAt": "2020-05-29T15:23:38Z", "path": "open-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/server/services/SubjectAreaRESTServicesInstance.java", "diffHunk": "@@ -36,7 +36,7 @@\n     private static final String className = SubjectAreaRESTServicesInstance.class.getName();\n \n     public static final String PAGE_OFFSET_DEFAULT_VALUE = \"0\";\n-    public static final String PAGE_SIZE_DEFAULT_VALUE = \"100\";\n+    public static final String PAGE_SIZE_DEFAULT_VALUE = \"0\";\n     public static final String TRUE_DEFAULT_VALUE = \"true\";\n     public static final String FALSE_DEFAULT_VALUE = \"false\";\n     public static final int PAGE_SIZE_MAX_VALUE = 1000;", "originalCommit": "b0cd6afd8b49467ae41a5efa914b4c9a4c2a95b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjU2MDQ1MQ==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432560451", "bodyText": "This constant is not used", "author": "davidradl", "createdAt": "2020-05-29T15:23:51Z", "path": "open-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/server/services/SubjectAreaRESTServicesInstance.java", "diffHunk": "@@ -36,7 +36,7 @@\n     private static final String className = SubjectAreaRESTServicesInstance.class.getName();\n \n     public static final String PAGE_OFFSET_DEFAULT_VALUE = \"0\";\n-    public static final String PAGE_SIZE_DEFAULT_VALUE = \"100\";\n+    public static final String PAGE_SIZE_DEFAULT_VALUE = \"0\";\n     public static final String TRUE_DEFAULT_VALUE = \"true\";", "originalCommit": "b0cd6afd8b49467ae41a5efa914b4c9a4c2a95b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjU2MjIzNQ==", "url": "https://github.com/odpi/egeria/pull/3069#discussion_r432562235", "bodyText": "I am not sure this constant adds any value - I suggest leaving as false ;unless you want to include the paramter name in the constant - I am easy either way.", "author": "davidradl", "createdAt": "2020-05-29T15:26:44Z", "path": "open-metadata-implementation/access-services/subject-area/subject-area-server/src/main/java/org/odpi/openmetadata/accessservices/subjectarea/server/services/SubjectAreaRESTServicesInstance.java", "diffHunk": "@@ -36,7 +36,7 @@\n     private static final String className = SubjectAreaRESTServicesInstance.class.getName();\n \n     public static final String PAGE_OFFSET_DEFAULT_VALUE = \"0\";\n-    public static final String PAGE_SIZE_DEFAULT_VALUE = \"100\";\n+    public static final String PAGE_SIZE_DEFAULT_VALUE = \"0\";\n     public static final String TRUE_DEFAULT_VALUE = \"true\";\n     public static final String FALSE_DEFAULT_VALUE = \"false\";", "originalCommit": "b0cd6afd8b49467ae41a5efa914b4c9a4c2a95b3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "acd8af6994e29dc131735b292d1ac2c399d16414", "url": "https://github.com/odpi/egeria/commit/acd8af6994e29dc131735b292d1ac2c399d16414", "message": "# Remove unused constants\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-29T15:55:28Z", "type": "commit"}, {"oid": "6ca96cd0ead5d0d16988054307a3ef254807ce37", "url": "https://github.com/odpi/egeria/commit/6ca96cd0ead5d0d16988054307a3ef254807ce37", "message": "# Remove FALSE_DEFAULT_VALUE constant\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-05-29T16:01:38Z", "type": "commit"}, {"oid": "03e3fa3c76185c7adc207e92651a0a84a564decd", "url": "https://github.com/odpi/egeria/commit/03e3fa3c76185c7adc207e92651a0a84a564decd", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-30T10:30:01Z", "type": "commit"}, {"oid": "82120ac5fcc26f18d2986279e16a605e1da04927", "url": "https://github.com/odpi/egeria/commit/82120ac5fcc26f18d2986279e16a605e1da04927", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-05-30T17:12:25Z", "type": "commit"}, {"oid": "722aa1f459acdbb6fd5c6ce9aa7a66c82db62b3e", "url": "https://github.com/odpi/egeria/commit/722aa1f459acdbb6fd5c6ce9aa7a66c82db62b3e", "message": "# Change for rerun DCO\n\nSigned-off-by: immmus <fonto.trg@gmail.com>", "committedDate": "2020-06-01T10:32:15Z", "type": "commit"}, {"oid": "8538007720e83d3c503563b4858e1fef4621d23d", "url": "https://github.com/odpi/egeria/commit/8538007720e83d3c503563b4858e1fef4621d23d", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-06-01T11:33:45Z", "type": "commit"}, {"oid": "868418b0914ed9ced51bcf58d9c5f649f820a0fa", "url": "https://github.com/odpi/egeria/commit/868418b0914ed9ced51bcf58d9c5f649f820a0fa", "message": "Merge branch 'master' into default_values_for_some_request_params", "committedDate": "2020-06-01T17:26:33Z", "type": "commit"}]}