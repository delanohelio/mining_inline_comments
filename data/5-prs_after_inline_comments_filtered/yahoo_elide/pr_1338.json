{"pr_number": 1338, "pr_title": "addTransaction-removeTransaction", "pr_createdAt": "2020-05-21T21:27:57Z", "pr_url": "https://github.com/yahoo/elide/pull/1338", "timeline": [{"oid": "47fc4045f97ab09df3fcda99572292411342a7a6", "url": "https://github.com/yahoo/elide/commit/47fc4045f97ab09df3fcda99572292411342a7a6", "message": "TANDS-19169", "committedDate": "2020-05-21T21:22:18Z", "type": "commit"}, {"oid": "a574c9abae1985ff61e8e70b4af05d78760cf0c1", "url": "https://github.com/yahoo/elide/commit/a574c9abae1985ff61e8e70b4af05d78760cf0c1", "message": "TANDS-19169", "committedDate": "2020-05-21T21:34:41Z", "type": "commit"}, {"oid": "489f34a03a66f33035dc762b31e27aa579efc5e1", "url": "https://github.com/yahoo/elide/commit/489f34a03a66f33035dc762b31e27aa579efc5e1", "message": "TANDS-19169", "committedDate": "2020-05-21T21:38:27Z", "type": "commit"}, {"oid": "18c0ea966e7a64835ecd820d1905e40dc29bf335", "url": "https://github.com/yahoo/elide/commit/18c0ea966e7a64835ecd820d1905e40dc29bf335", "message": "TANDS-19169", "committedDate": "2020-05-21T21:41:11Z", "type": "commit"}, {"oid": "863b90837bb0bafd5f2180c4def6eea6da1486c5", "url": "https://github.com/yahoo/elide/commit/863b90837bb0bafd5f2180c4def6eea6da1486c5", "message": "TANDS-19169", "committedDate": "2020-05-21T21:44:52Z", "type": "commit"}, {"oid": "fe133727b02d1eceebb792e73480f13347b4cf17", "url": "https://github.com/yahoo/elide/commit/fe133727b02d1eceebb792e73480f13347b4cf17", "message": "TANDS-19169", "committedDate": "2020-05-21T21:48:53Z", "type": "commit"}, {"oid": "f3712896098f604a1778582e498884ba0615529f", "url": "https://github.com/yahoo/elide/commit/f3712896098f604a1778582e498884ba0615529f", "message": "TANDS-19169", "committedDate": "2020-05-21T21:58:40Z", "type": "commit"}, {"oid": "fb5a5f96b256ffb7ad2df92a5d7ce3c9e93a4529", "url": "https://github.com/yahoo/elide/commit/fb5a5f96b256ffb7ad2df92a5d7ce3c9e93a4529", "message": "TANDS-19169", "committedDate": "2020-05-21T22:08:21Z", "type": "commit"}, {"oid": "536fd85a5d8b90f088852d603a56790a0a3f31fd", "url": "https://github.com/yahoo/elide/commit/536fd85a5d8b90f088852d603a56790a0a3f31fd", "message": "TANDS-19169", "committedDate": "2020-05-21T22:11:44Z", "type": "commit"}, {"oid": "1080b23ea98c37a65ecf08ff7d1a3916ccc66c01", "url": "https://github.com/yahoo/elide/commit/1080b23ea98c37a65ecf08ff7d1a3916ccc66c01", "message": "TANDS-19169", "committedDate": "2020-05-21T22:24:35Z", "type": "commit"}, {"oid": "d5fcfd216bc1dd6742e7f7e9856edbe55445cad7", "url": "https://github.com/yahoo/elide/commit/d5fcfd216bc1dd6742e7f7e9856edbe55445cad7", "message": "TANDS-19169", "committedDate": "2020-05-21T22:28:12Z", "type": "commit"}, {"oid": "c294b2e8946fecc1cfcd968439e0a90a313bddb0", "url": "https://github.com/yahoo/elide/commit/c294b2e8946fecc1cfcd968439e0a90a313bddb0", "message": "TANDS-19169", "committedDate": "2020-05-21T22:31:57Z", "type": "commit"}, {"oid": "76c32b006e4c373fb3abf43e3d729d6a9a263cf4", "url": "https://github.com/yahoo/elide/commit/76c32b006e4c373fb3abf43e3d729d6a9a263cf4", "message": "TANDS-19169", "committedDate": "2020-05-21T22:33:50Z", "type": "commit"}, {"oid": "4da0e0f020f92cfcdae767c5e0a215ac42a7bab3", "url": "https://github.com/yahoo/elide/commit/4da0e0f020f92cfcdae767c5e0a215ac42a7bab3", "message": "TANDS-19169", "committedDate": "2020-05-21T22:35:29Z", "type": "commit"}, {"oid": "05bc1f9ad8193b4c73c7a605eb99529488d67a8b", "url": "https://github.com/yahoo/elide/commit/05bc1f9ad8193b4c73c7a605eb99529488d67a8b", "message": "TANDS-19169", "committedDate": "2020-05-21T22:38:40Z", "type": "commit"}, {"oid": "b86a89a007ee08ca60913b8fefb8780567862aba", "url": "https://github.com/yahoo/elide/commit/b86a89a007ee08ca60913b8fefb8780567862aba", "message": "TANDS-19169", "committedDate": "2020-05-21T22:47:44Z", "type": "commit"}, {"oid": "8a633160c0bd641726e4457b77588eda21a51a1c", "url": "https://github.com/yahoo/elide/commit/8a633160c0bd641726e4457b77588eda21a51a1c", "message": "TANDS-19169", "committedDate": "2020-05-21T22:53:15Z", "type": "commit"}, {"oid": "a4e13c14252e3b698f34eaac299146fae8d15ea7", "url": "https://github.com/yahoo/elide/commit/a4e13c14252e3b698f34eaac299146fae8d15ea7", "message": "TANDS-19169", "committedDate": "2020-05-21T22:58:07Z", "type": "commit"}, {"oid": "8c67f5b448937c0bb773d9198e1bb79f6dd79508", "url": "https://github.com/yahoo/elide/commit/8c67f5b448937c0bb773d9198e1bb79f6dd79508", "message": "TANDS-19169", "committedDate": "2020-05-21T23:04:09Z", "type": "commit"}, {"oid": "195a15927b9bd811c6c6c8c7b81f30ac94ab0367", "url": "https://github.com/yahoo/elide/commit/195a15927b9bd811c6c6c8c7b81f30ac94ab0367", "message": "TANDS-19169", "committedDate": "2020-05-21T23:09:32Z", "type": "commit"}, {"oid": "57a8d8a83c89c4fcf28d3a054c2b3bc7e6411ddb", "url": "https://github.com/yahoo/elide/commit/57a8d8a83c89c4fcf28d3a054c2b3bc7e6411ddb", "message": "TANDS-19169", "committedDate": "2020-05-21T23:13:28Z", "type": "commit"}, {"oid": "ba25bb1850558bcefa65b08da85ebfe5297aab02", "url": "https://github.com/yahoo/elide/commit/ba25bb1850558bcefa65b08da85ebfe5297aab02", "message": "TANDS-19169", "committedDate": "2020-05-22T13:21:29Z", "type": "commit"}, {"oid": "fcfdcb6e61f86d52716b750a44b99b75fd642bad", "url": "https://github.com/yahoo/elide/commit/fcfdcb6e61f86d52716b750a44b99b75fd642bad", "message": "TANDS-19169-changing-CVSS-score", "committedDate": "2020-05-22T14:59:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMwMzQzNg==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r429303436", "bodyText": "We are storing requestId as a string in requestScope. Can we do the same here? or is there an advantage to storing it like this?\nhttps://github.com/yahoo/elide/pull/1331/files", "author": "AshishAg24", "createdAt": "2020-05-22T15:08:34Z", "path": "elide-core/src/main/java/com/yahoo/elide/Elide.java", "diffHunk": "@@ -278,7 +283,10 @@ protected ElideResponse handleRequest(boolean isReadOnly, User user,\n                                           Supplier<DataStoreTransaction> transaction,\n                                           Handler<DataStoreTransaction, User, HandlerResult> handler) {\n         boolean isVerbose = false;\n+        UUID requestId = null;", "originalCommit": "fcfdcb6e61f86d52716b750a44b99b75fd642bad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMyNjEzNQ==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r429326135", "bodyText": "We are using it as a key in a Map so I  guess we can store it either way", "author": "Rkr1992", "createdAt": "2020-05-22T15:50:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMwMzQzNg=="}], "type": "inlineReview"}, {"oid": "1558da4ecafcc6b0b7123c29afc462c4c14b0502", "url": "https://github.com/yahoo/elide/commit/1558da4ecafcc6b0b7123c29afc462c4c14b0502", "message": "addTransaction-removeTransaction", "committedDate": "2020-05-22T15:36:37Z", "type": "commit"}, {"oid": "214e16d5ad986670e2ea1c573facc33f363bd1e5", "url": "https://github.com/yahoo/elide/commit/214e16d5ad986670e2ea1c573facc33f363bd1e5", "message": "addTransaction-removeTransaction", "committedDate": "2020-05-22T15:38:58Z", "type": "commit"}, {"oid": "830f71c63842161ac3b1e96e884e418fc88c494e", "url": "https://github.com/yahoo/elide/commit/830f71c63842161ac3b1e96e884e418fc88c494e", "message": "addTransaction-removeTransaction", "committedDate": "2020-05-22T16:32:55Z", "type": "commit"}, {"oid": "550e456b9f06231ee79a04d41af16afef5c434cd", "url": "https://github.com/yahoo/elide/commit/550e456b9f06231ee79a04d41af16afef5c434cd", "message": "addTransaction-removeTransaction", "committedDate": "2020-05-22T16:44:33Z", "type": "commit"}, {"oid": "947fc4a4ac0595bdc9ec3f81fa959c206acba745", "url": "https://github.com/yahoo/elide/commit/947fc4a4ac0595bdc9ec3f81fa959c206acba745", "message": "addTransaction-removeTransaction", "committedDate": "2020-05-22T16:55:30Z", "type": "commit"}, {"oid": "15d7f912cacd5fbe16112f25bdfb04dde0d52b04", "url": "https://github.com/yahoo/elide/commit/15d7f912cacd5fbe16112f25bdfb04dde0d52b04", "message": "addTransaction-removeTransaction", "committedDate": "2020-05-22T17:22:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM4MTM0Nw==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r429381347", "bodyText": "Can we move this outside Elide into its own file?", "author": "aklish", "createdAt": "2020-05-22T17:53:47Z", "path": "elide-core/src/main/java/com/yahoo/elide/Elide.java", "diffHunk": "@@ -412,4 +421,31 @@ public RequestScope getRequestScope() {\n             return requestScope;\n         }\n     }\n+\n+     /**\n+      * Transaction Registry class.\n+      */\n+    @Getter\n+    public static class TransactionRegistry {", "originalCommit": "15d7f912cacd5fbe16112f25bdfb04dde0d52b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM4MTk4Nw==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r429381987", "bodyText": "You can write this more directly as\ntransactions = transactionMap.values().stream().collect(Collectors.toSet())\nor something similar to that.", "author": "aklish", "createdAt": "2020-05-22T17:55:24Z", "path": "elide-core/src/main/java/com/yahoo/elide/Elide.java", "diffHunk": "@@ -412,4 +421,31 @@ public RequestScope getRequestScope() {\n             return requestScope;\n         }\n     }\n+\n+     /**\n+      * Transaction Registry class.\n+      */\n+    @Getter\n+    public static class TransactionRegistry {\n+        private Map<UUID, DataStoreTransaction> transactionMap = new HashMap<>();\n+        public Set<DataStoreTransaction> getRunningTransactions() {\n+            Set<DataStoreTransaction> transactions = new HashSet<DataStoreTransaction>();", "originalCommit": "15d7f912cacd5fbe16112f25bdfb04dde0d52b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM4Mjg0MQ==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r429382841", "bodyText": "Won't this be static?  This doesn't look right to me.", "author": "aklish", "createdAt": "2020-05-22T17:57:29Z", "path": "elide-core/src/main/java/com/yahoo/elide/core/DataStoreTransaction.java", "diffHunk": "@@ -31,7 +32,7 @@\n         PARTIAL,\n         NONE\n     }\n-\n+    UUID TRANSACTION_ID = UUID.randomUUID();", "originalCommit": "15d7f912cacd5fbe16112f25bdfb04dde0d52b04", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1acc419c65a5cb6f38ce444532d778e68b148551", "url": "https://github.com/yahoo/elide/commit/1acc419c65a5cb6f38ce444532d778e68b148551", "message": "addressing-comments", "committedDate": "2020-05-22T18:26:14Z", "type": "commit"}, {"oid": "c04c0534c5734751b60a2f3b6991e091f31aa039", "url": "https://github.com/yahoo/elide/commit/c04c0534c5734751b60a2f3b6991e091f31aa039", "message": "addressing-comments", "committedDate": "2020-05-22T18:29:26Z", "type": "commit"}, {"oid": "cd110d601b9bb9fe7a899b195409325420491b92", "url": "https://github.com/yahoo/elide/commit/cd110d601b9bb9fe7a899b195409325420491b92", "message": "addressing-comments", "committedDate": "2020-05-22T18:34:54Z", "type": "commit"}, {"oid": "5461fdc68cb467261a95a02e31ba9c20a6dc5710", "url": "https://github.com/yahoo/elide/commit/5461fdc68cb467261a95a02e31ba9c20a6dc5710", "message": "addressing-comments", "committedDate": "2020-05-22T18:40:23Z", "type": "commit"}, {"oid": "fc7c63e87bab36335223d103fad3b81fd987bd5a", "url": "https://github.com/yahoo/elide/commit/fc7c63e87bab36335223d103fad3b81fd987bd5a", "message": "addressing-comments", "committedDate": "2020-05-22T18:47:04Z", "type": "commit"}, {"oid": "6669c9e8c7f6967f836b103590f2c128db69bb77", "url": "https://github.com/yahoo/elide/commit/6669c9e8c7f6967f836b103590f2c128db69bb77", "message": "addressing-comments", "committedDate": "2020-05-22T18:52:49Z", "type": "commit"}, {"oid": "5fd1f6e17fb4828d4b88e1a73d12209d57e691de", "url": "https://github.com/yahoo/elide/commit/5fd1f6e17fb4828d4b88e1a73d12209d57e691de", "message": "addressing-comments", "committedDate": "2020-05-22T18:54:26Z", "type": "commit"}, {"oid": "8caa043773fefbd2d2c08344e425be6af9f0f312", "url": "https://github.com/yahoo/elide/commit/8caa043773fefbd2d2c08344e425be6af9f0f312", "message": "addressing-comments", "committedDate": "2020-05-22T21:34:14Z", "type": "commit"}, {"oid": "53966a2b8a74b850bc7f3f8fa8d4896b180e00e3", "url": "https://github.com/yahoo/elide/commit/53966a2b8a74b850bc7f3f8fa8d4896b180e00e3", "message": "addressing-comments", "committedDate": "2020-05-22T22:03:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY1NDM3MQ==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r430654371", "bodyText": "Given that this is an interface, I'm not sure a default implementation makes sense here. You can leave the method, but remove default and the implementation.", "author": "aklish", "createdAt": "2020-05-26T19:29:05Z", "path": "elide-core/src/main/java/com/yahoo/elide/core/DataStoreTransaction.java", "diffHunk": "@@ -263,4 +263,12 @@ default boolean supportsSorting(Class<?> entityClass, Sorting sorting) {\n     default boolean supportsPagination(Class<?> entityClass, FilterExpression expression) {\n         return true;\n     }\n+\n+    /**\n+     * @return UUID of transaction\n+     *\n+     */\n+    default UUID getId() {", "originalCommit": "53966a2b8a74b850bc7f3f8fa8d4896b180e00e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4b384ab94a4cb382d0a53ea62225892bf7ca69b7", "url": "https://github.com/yahoo/elide/commit/4b384ab94a4cb382d0a53ea62225892bf7ca69b7", "message": "making DataStore an abstract class", "committedDate": "2020-05-26T20:21:43Z", "type": "commit"}, {"oid": "c5ddbb61937c682bb3e5f3be7de09d78d25f5df1", "url": "https://github.com/yahoo/elide/commit/c5ddbb61937c682bb3e5f3be7de09d78d25f5df1", "message": "making DataStore an abstract class", "committedDate": "2020-05-26T20:27:14Z", "type": "commit"}, {"oid": "9ee68ed5e06d6f541861a82ea0b74d882a7e401e", "url": "https://github.com/yahoo/elide/commit/9ee68ed5e06d6f541861a82ea0b74d882a7e401e", "message": "fixing bugs", "committedDate": "2020-05-26T20:31:06Z", "type": "commit"}, {"oid": "d9689b81c2d1bd56f6e325779d97a539d9bfe545", "url": "https://github.com/yahoo/elide/commit/d9689b81c2d1bd56f6e325779d97a539d9bfe545", "message": "fixing bugs", "committedDate": "2020-05-26T20:38:26Z", "type": "commit"}, {"oid": "6de50dfd140d60f1c66fc94029d4446f2027a518", "url": "https://github.com/yahoo/elide/commit/6de50dfd140d60f1c66fc94029d4446f2027a518", "message": "fixing bugs", "committedDate": "2020-05-26T20:44:11Z", "type": "commit"}, {"oid": "716e1981b5b9f43e0ffdc1699dffa25b372fddfd", "url": "https://github.com/yahoo/elide/commit/716e1981b5b9f43e0ffdc1699dffa25b372fddfd", "message": "fixing bugs", "committedDate": "2020-05-26T21:00:45Z", "type": "commit"}, {"oid": "959808a1c195ec6f6e1966ea0d8cc1c221baec7f", "url": "https://github.com/yahoo/elide/commit/959808a1c195ec6f6e1966ea0d8cc1c221baec7f", "message": "fixing bugs", "committedDate": "2020-05-26T21:04:21Z", "type": "commit"}, {"oid": "ed6d8e38ef739755cf4c8d92a3bcb0ea6f212f7b", "url": "https://github.com/yahoo/elide/commit/ed6d8e38ef739755cf4c8d92a3bcb0ea6f212f7b", "message": "fixing bugs", "committedDate": "2020-05-26T21:24:11Z", "type": "commit"}, {"oid": "b306a0b60670b4d8cd82d18ec9710c9a1eaab40e", "url": "https://github.com/yahoo/elide/commit/b306a0b60670b4d8cd82d18ec9710c9a1eaab40e", "message": "fixing bugs", "committedDate": "2020-05-26T22:24:41Z", "type": "commit"}, {"oid": "2091e66af478e4a361795a730cbf89436283400c", "url": "https://github.com/yahoo/elide/commit/2091e66af478e4a361795a730cbf89436283400c", "message": "fixing bugs", "committedDate": "2020-05-26T22:27:37Z", "type": "commit"}, {"oid": "1a564e477e86fecc9805520176d403a425e67f91", "url": "https://github.com/yahoo/elide/commit/1a564e477e86fecc9805520176d403a425e67f91", "message": "fixing bugs", "committedDate": "2020-05-26T22:31:44Z", "type": "commit"}, {"oid": "e8993932fed5906aeecb8544f8706a309a02e7c7", "url": "https://github.com/yahoo/elide/commit/e8993932fed5906aeecb8544f8706a309a02e7c7", "message": "fixing bugs", "committedDate": "2020-05-26T22:34:56Z", "type": "commit"}, {"oid": "e1e1ee0a62aae4379fd090b7e5e808b775474667", "url": "https://github.com/yahoo/elide/commit/e1e1ee0a62aae4379fd090b7e5e808b775474667", "message": "fixing bugs", "committedDate": "2020-05-26T22:37:35Z", "type": "commit"}, {"oid": "5442e4d01dd6231987b1c0f8850a010ce2c7182f", "url": "https://github.com/yahoo/elide/commit/5442e4d01dd6231987b1c0f8850a010ce2c7182f", "message": "fixing bugs", "committedDate": "2020-05-26T22:41:59Z", "type": "commit"}, {"oid": "a9760c4f74d640af20de3b2bde8233c4eaa7970d", "url": "https://github.com/yahoo/elide/commit/a9760c4f74d640af20de3b2bde8233c4eaa7970d", "message": "adding-transaction-id to transaction implementations", "committedDate": "2020-05-27T17:05:44Z", "type": "commit"}, {"oid": "2152ee06b10edcbdd13e83e7bc8d846c71e34119", "url": "https://github.com/yahoo/elide/commit/2152ee06b10edcbdd13e83e7bc8d846c71e34119", "message": "adding-transaction-id to transaction implementations", "committedDate": "2020-05-27T17:18:25Z", "type": "commit"}, {"oid": "dd022c1d4394040eeec31999ff92d2ff1fb051b4", "url": "https://github.com/yahoo/elide/commit/dd022c1d4394040eeec31999ff92d2ff1fb051b4", "message": "adding-transaction-id to transaction implementations", "committedDate": "2020-05-27T17:28:30Z", "type": "commit"}, {"oid": "8e7794cab5b72ec88f22527d4f440ab776354e92", "url": "https://github.com/yahoo/elide/commit/8e7794cab5b72ec88f22527d4f440ab776354e92", "message": "adding-transaction-id to transaction implementations", "committedDate": "2020-05-27T18:34:14Z", "type": "commit"}, {"oid": "c027cbdbc858f6e0d6726f533ccdbe1bc62f924b", "url": "https://github.com/yahoo/elide/commit/c027cbdbc858f6e0d6726f533ccdbe1bc62f924b", "message": "fixing bugs", "committedDate": "2020-05-27T18:39:09Z", "type": "commit"}, {"oid": "862bbe5540e3cefda819227cfc570065853dfb8c", "url": "https://github.com/yahoo/elide/commit/862bbe5540e3cefda819227cfc570065853dfb8c", "message": "fixing bugs", "committedDate": "2020-05-27T18:45:16Z", "type": "commit"}, {"oid": "862dd9c905d40ca5d0a94ce99ba77880624b3d52", "url": "https://github.com/yahoo/elide/commit/862dd9c905d40ca5d0a94ce99ba77880624b3d52", "message": "fixing bugs", "committedDate": "2020-05-27T18:58:01Z", "type": "commit"}, {"oid": "c737e1caed4877dc1f88cc372f309b34340cb980", "url": "https://github.com/yahoo/elide/commit/c737e1caed4877dc1f88cc372f309b34340cb980", "message": "fixing bugs", "committedDate": "2020-05-27T19:05:18Z", "type": "commit"}, {"oid": "da8903894f91425cb26d4985ba8305ea3cf11851", "url": "https://github.com/yahoo/elide/commit/da8903894f91425cb26d4985ba8305ea3cf11851", "message": "fixing bugs", "committedDate": "2020-05-27T19:12:23Z", "type": "commit"}, {"oid": "a4ba9107bd7f1d8db997a9f1d34f84905e9a0864", "url": "https://github.com/yahoo/elide/commit/a4ba9107bd7f1d8db997a9f1d34f84905e9a0864", "message": "fixing bugs", "committedDate": "2020-05-27T19:29:01Z", "type": "commit"}, {"oid": "89be875d753c5cc10161b921d756c74bfc3ba6fa", "url": "https://github.com/yahoo/elide/commit/89be875d753c5cc10161b921d756c74bfc3ba6fa", "message": "fixing bugs", "committedDate": "2020-05-27T19:37:18Z", "type": "commit"}, {"oid": "e5016c63056d121fdcdda3a863b5aeaa8f1ac396", "url": "https://github.com/yahoo/elide/commit/e5016c63056d121fdcdda3a863b5aeaa8f1ac396", "message": "fixing bugs", "committedDate": "2020-05-27T19:42:30Z", "type": "commit"}, {"oid": "9a41c0cbbccc5e94162b6d70ec5ee34c64c5e43e", "url": "https://github.com/yahoo/elide/commit/9a41c0cbbccc5e94162b6d70ec5ee34c64c5e43e", "message": "fixing bugs", "committedDate": "2020-05-27T20:03:03Z", "type": "commit"}, {"oid": "11c2708dc8520ae10cd1f15592126895c53369fe", "url": "https://github.com/yahoo/elide/commit/11c2708dc8520ae10cd1f15592126895c53369fe", "message": "fixing bugs", "committedDate": "2020-05-27T20:23:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ3NjgzNw==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r431476837", "bodyText": "Needs javadoc.", "author": "aklish", "createdAt": "2020-05-27T22:23:40Z", "path": "elide-core/src/main/java/com/yahoo/elide/core/DataStoreTransaction.java", "diffHunk": "@@ -263,4 +262,6 @@ default boolean supportsSorting(Class<?> entityClass, Sorting sorting) {\n     default boolean supportsPagination(Class<?> entityClass, FilterExpression expression) {\n         return true;\n     }\n+\n+    UUID getRequestId();", "originalCommit": "11c2708dc8520ae10cd1f15592126895c53369fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ3Njk0Mw==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r431476943", "bodyText": "Class needs javadoc.", "author": "aklish", "createdAt": "2020-05-27T22:23:55Z", "path": "elide-core/src/main/java/com/yahoo/elide/core/DataStoreTransactionImplementation.java", "diffHunk": "@@ -0,0 +1,19 @@\n+/*\n+ * Copyright 2020, Yahoo Inc.\n+ * Licensed under the Apache License, Version 2.0\n+ * See LICENSE file in project root for terms.\n+ */\n+package com.yahoo.elide.core;\n+\n+import lombok.Getter;\n+\n+import java.util.UUID;\n+\n+public abstract class DataStoreTransactionImplementation implements DataStoreTransaction {", "originalCommit": "11c2708dc8520ae10cd1f15592126895c53369fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ3NzcxMQ==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r431477711", "bodyText": "I think this is wrong.  This was calling the default method defined in the interface. You changed this to call the super class - which is something else - and will cause problems.", "author": "aklish", "createdAt": "2020-05-27T22:25:56Z", "path": "elide-core/src/main/java/com/yahoo/elide/core/datastore/inmemory/InMemoryStoreTransaction.java", "diffHunk": "@@ -119,7 +119,7 @@ public Object loadObject(EntityProjection projection,\n                 projection.getFilterExpression()) == FeatureSupport.FULL) {\n             return tx.loadObject(projection, id, scope);\n         } else {\n-            return DataStoreTransaction.super.loadObject(projection, id, scope);\n+            return super.loadObject(projection, id, scope);", "originalCommit": "11c2708dc8520ae10cd1f15592126895c53369fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ3Nzk2OA==", "url": "https://github.com/yahoo/elide/pull/1338#discussion_r431477968", "bodyText": "Is there a reason this can't extend DataStoreTransactionImpl?", "author": "aklish", "createdAt": "2020-05-27T22:26:45Z", "path": "elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/AggregationDataStoreTransaction.java", "diffHunk": "@@ -14,14 +14,16 @@\n \n import com.google.common.annotations.VisibleForTesting;\n \n-import java.io.IOException;\n+import lombok.Getter;\n \n+import java.io.IOException;\n+import java.util.UUID;\n /**\n  * Transaction handler for {@link AggregationDataStore}.\n  */\n public class AggregationDataStoreTransaction implements DataStoreTransaction {\n     private QueryEngine queryEngine;\n-\n+    @Getter private final UUID requestId = UUID.randomUUID();", "originalCommit": "11c2708dc8520ae10cd1f15592126895c53369fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "52b4c618f5f3a06a845574c087da063f2e677408", "url": "https://github.com/yahoo/elide/commit/52b4c618f5f3a06a845574c087da063f2e677408", "message": "addressing comments", "committedDate": "2020-05-27T23:34:31Z", "type": "commit"}, {"oid": "3c5cdcd8f64919b95aea03e6ae7e0caeb79ee6cf", "url": "https://github.com/yahoo/elide/commit/3c5cdcd8f64919b95aea03e6ae7e0caeb79ee6cf", "message": "addressing comments", "committedDate": "2020-05-27T23:40:40Z", "type": "commit"}, {"oid": "8e73ca6ee180d5781e51a27256b211957c24bb52", "url": "https://github.com/yahoo/elide/commit/8e73ca6ee180d5781e51a27256b211957c24bb52", "message": "addressing comments", "committedDate": "2020-05-27T23:44:36Z", "type": "commit"}, {"oid": "c10cfd4e4302b0c88ded0bad2b06d139bb8a5136", "url": "https://github.com/yahoo/elide/commit/c10cfd4e4302b0c88ded0bad2b06d139bb8a5136", "message": "fixing bugs", "committedDate": "2020-05-28T14:36:52Z", "type": "commit"}]}