{"pr_number": 1680, "pr_title": "Dynamic Model Inheritance", "pr_createdAt": "2020-11-20T08:35:37Z", "pr_url": "https://github.com/yahoo/elide/pull/1680", "timeline": [{"oid": "2692f4274189a39e0a7e526d448ad1a3a09bc8a4", "url": "https://github.com/yahoo/elide/commit/2692f4274189a39e0a7e526d448ad1a3a09bc8a4", "message": "dynami model inheritance", "committedDate": "2020-11-20T08:32:29Z", "type": "commit"}, {"oid": "005c02798efd3c2f242eeed88ccb8e64dc515713", "url": "https://github.com/yahoo/elide/commit/005c02798efd3c2f242eeed88ccb8e64dc515713", "message": "set to map", "committedDate": "2020-11-20T15:22:27Z", "type": "commit"}, {"oid": "719120626378566b841b0b918227d6b26f03f48f", "url": "https://github.com/yahoo/elide/commit/719120626378566b841b0b918227d6b26f03f48f", "message": "Merge branch 'elide-5.x' into elide-5.x-dynamic-model-inheritance", "committedDate": "2020-11-20T15:38:32Z", "type": "commit"}, {"oid": "4ecbb9c2df32e01cacab3f93b7431d28d0987d9d", "url": "https://github.com/yahoo/elide/commit/4ecbb9c2df32e01cacab3f93b7431d28d0987d9d", "message": "checkstyle", "committedDate": "2020-11-20T16:20:59Z", "type": "commit"}, {"oid": "60be3695193f40fd8c2c6f2a6d2c6a169ddc8bd8", "url": "https://github.com/yahoo/elide/commit/60be3695193f40fd8c2c6f2a6d2c6a169ddc8bd8", "message": "override measure/dim", "committedDate": "2020-11-20T19:16:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODAwMzk3MA==", "url": "https://github.com/yahoo/elide/pull/1680#discussion_r528003970", "bodyText": "Might be nice to write some unit tests for these functions.", "author": "aklish", "createdAt": "2020-11-20T22:27:08Z", "path": "elide-model-config/src/main/java/com/yahoo/elide/modelconfig/validator/DynamicConfigValidator.java", "diffHunk": "@@ -137,32 +140,63 @@ public void readAndValidateConfigs() throws IOException {\n         validateRequiredConfigsProvided();\n         validateNameUniqueness(this.elideSQLDBConfig.getDbconfigs());\n         validateNameUniqueness(this.elideTableConfig.getTables());\n+        populateInheritance(this.elideTableConfig);\n         validateTableConfig(this.elideTableConfig);\n         validateJoinedTablesDBConnectionName(this.elideTableConfig);\n-        populateInheritanceHierarchy(this.elideTableConfig);\n     }\n \n-    private static void populateInheritanceHierarchy(ElideTableConfig elideTableConfig) {\n+    private void populateInheritance(ElideTableConfig elideTableConfig) {\n         for (Table table : elideTableConfig.getTables()) {\n-\n             if (table.hasParent()) {\n-                Table parent = table.getParent(elideTableConfig);\n-\n-                table.getMeasures().forEach(measure -> {\n-                    if (parent.hasField(elideTableConfig, measure.getName())) {\n-                        measure.setOverride(true);\n-                    }\n-                });\n-\n-                table.getDimensions().forEach(dimension -> {\n-                    if (parent.hasField(elideTableConfig, dimension.getName())) {\n-                        dimension.setOverride(true);\n-                    }\n-                });\n+                Map<String, Measure> measures = getInheritedMeasures(table, new HashMap<String, Measure>());", "originalCommit": "60be3695193f40fd8c2c6f2a6d2c6a169ddc8bd8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b924e761ab6cbbd8cd0c801a2e356af447b7b4a4", "url": "https://github.com/yahoo/elide/commit/b924e761ab6cbbd8cd0c801a2e356af447b7b4a4", "message": "unit test", "committedDate": "2020-11-23T16:30:38Z", "type": "commit"}]}