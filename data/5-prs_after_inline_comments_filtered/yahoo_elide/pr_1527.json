{"pr_number": 1527, "pr_title": "Data export - Refactoring and Prep for using ResultStorageEngine", "pr_createdAt": "2020-09-10T18:24:19Z", "pr_url": "https://github.com/yahoo/elide/pull/1527", "timeline": [{"oid": "524ae1f0ac3f29b19faf2369be16ace8ea9f1d72", "url": "https://github.com/yahoo/elide/commit/524ae1f0ac3f29b19faf2369be16ace8ea9f1d72", "message": "Refactor and Prep for result storage engine.\n\nCo-authored-by: chandrakaran <chandrakaranreddy.patlolla1@gmail.com>", "committedDate": "2020-09-10T18:19:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU0ODM2Ng==", "url": "https://github.com/yahoo/elide/pull/1527#discussion_r486548366", "bodyText": "Since AsyncProperties does not have use for path property, removed extends ControllerProperties.", "author": "moizarafat", "createdAt": "2020-09-10T18:25:17Z", "path": "elide-spring/elide-spring-boot-autoconfigure/src/main/java/com/yahoo/elide/spring/config/AsyncProperties.java", "diffHunk": "@@ -11,7 +11,7 @@\n  * Extra properties for setting up async query support.\n  */\n @Data\n-public class AsyncProperties extends ControllerProperties {\n+public class AsyncProperties {", "originalCommit": "524ae1f0ac3f29b19faf2369be16ace8ea9f1d72", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU2Mzc5NA==", "url": "https://github.com/yahoo/elide/pull/1527#discussion_r486563794", "bodyText": "Since this is a member function, you don't need to pass resultStorageEngine as an argument.  You can get it from the executor service.", "author": "aklish", "createdAt": "2020-09-10T18:50:21Z", "path": "elide-async/src/main/java/com/yahoo/elide/async/hooks/ExecuteQueryHook.java", "diffHunk": "@@ -29,8 +33,32 @@ public ExecuteQueryHook (AsyncExecutorService asyncExecutorService) {\n     @Override\n     public void execute(LifeCycleHookBinding.Operation operation, AsyncQuery query,\n                         RequestScope requestScope, Optional<ChangeSpec> changes) {\n+        validateOptions(query, asyncExecutorService.getResultStorageEngine());\n         if (query.getStatus() == QueryStatus.QUEUED && query.getResult() == null) {\n             asyncExecutorService.executeQuery(query, requestScope.getUser(), requestScope.getApiVersion());\n         }\n     }\n+\n+    /**\n+     * Validate the options provided in AsyncQuery.\n+     * @param query AsyncQuery\n+     * @param resultStorageEngine ResultStorageEngine Implementation.\n+     */\n+    public void validateOptions(AsyncQuery query, ResultStorageEngine resultStorageEngine) {", "originalCommit": "524ae1f0ac3f29b19faf2369be16ace8ea9f1d72", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "57280792d9d1c6ee728efb692b45c79d39389798", "url": "https://github.com/yahoo/elide/commit/57280792d9d1c6ee728efb692b45c79d39389798", "message": "Review comments.\n\nCo-authored-by: chandrakaran <chandrakaranreddy.patlolla1@gmail.com>", "committedDate": "2020-09-10T19:14:50Z", "type": "commit"}, {"oid": "4f154f8932c7f68f624ead49c4a035ca52a1fb39", "url": "https://github.com/yahoo/elide/commit/4f154f8932c7f68f624ead49c4a035ca52a1fb39", "message": "Review comments.\n\nCo-authored-by: chandrakaran <chandrakaranreddy.patlolla1@gmail.com>", "committedDate": "2020-09-10T19:23:53Z", "type": "commit"}]}