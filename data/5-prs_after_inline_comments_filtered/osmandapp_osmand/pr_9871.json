{"pr_number": 9871, "pr_title": "Fix #9623", "pr_createdAt": "2020-09-22T13:06:53Z", "pr_url": "https://github.com/osmandapp/OsmAnd/pull/9871", "timeline": [{"oid": "a577b26e7f167d92c0a1c1f419e1ee1af1f2ea69", "url": "https://github.com/osmandapp/OsmAnd/commit/a577b26e7f167d92c0a1c1f419e1ee1af1f2ea69", "message": "Fix #9623", "committedDate": "2020-09-22T13:00:37Z", "type": "commit"}, {"oid": "2e388a060658fd52c3ad3e3e630fc446cdcf9b6d", "url": "https://github.com/osmandapp/OsmAnd/commit/2e388a060658fd52c3ad3e3e630fc446cdcf9b6d", "message": "Fix #9623 part 2 (Refactoring)", "committedDate": "2020-09-24T08:17:40Z", "type": "commit"}, {"oid": "7534f8b28bcdaf24006e6e3caff2f88316effc0d", "url": "https://github.com/osmandapp/OsmAnd/commit/7534f8b28bcdaf24006e6e3caff2f88316effc0d", "message": "Fix #9623 part 3 (delete useless code)", "committedDate": "2020-09-24T08:25:04Z", "type": "commit"}, {"oid": "b8a10322956cf1fbe8349bc0767c958b45166120", "url": "https://github.com/osmandapp/OsmAnd/commit/b8a10322956cf1fbe8349bc0767c958b45166120", "message": "Fix #9623 part 4 (remove tautology)", "committedDate": "2020-09-24T08:29:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDkxMTk5NQ==", "url": "https://github.com/osmandapp/OsmAnd/pull/9871#discussion_r494911995", "bodyText": "Here we should not use MAP_STYLE_ID. We don't know which item will be updated and we don't know how many items their ids, etc...", "author": "vshcherb", "createdAt": "2020-09-25T11:01:07Z", "path": "OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java", "diffHunk": "@@ -1032,6 +1042,12 @@ void onDetach(DashBaseFragment dashBaseFragment) {\n \t\t}\n \t}\n \n+\tpublic void onMapSettingsUpdated() {\n+\t\tif (configureMapMenu != null) {\n+\t\t\tconfigureMapMenu.updateMenuItem(MAP_STYLE_ID);", "originalCommit": "b8a10322956cf1fbe8349bc0767c958b45166120", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDkxMjkyMA==", "url": "https://github.com/osmandapp/OsmAnd/pull/9871#discussion_r494912920", "bodyText": "Here should be code like: cm.updateMenuItem(). configureMapMenu shouldn't be stored, it's 1 method", "author": "vshcherb", "createdAt": "2020-09-25T11:03:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDkxMTk5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDkxMjIyNg==", "url": "https://github.com/osmandapp/OsmAnd/pull/9871#discussion_r494912226", "bodyText": "Looks bad", "author": "vshcherb", "createdAt": "2020-09-25T11:01:37Z", "path": "OsmAnd/src/net/osmand/plus/dashboard/DashboardOnMap.java", "diffHunk": "@@ -656,10 +659,16 @@ public void setDashboardVisibility(boolean visible, DashboardType type, Dashboar\n \t\t\t\tfragment.show(mapActivity.getSupportFragmentManager(), MapillaryFirstDialogFragment.TAG);\n \t\t\t\tsettings.MAPILLARY_FIRST_DIALOG_SHOWN.set(true);\n \t\t\t}\n+\n+\t\t\tdeleteTmpReferences();\n \t\t}\n \t\tmapActivity.updateStatusBarColor();\n \t}\n \n+\tprivate void deleteTmpReferences() {", "originalCommit": "b8a10322956cf1fbe8349bc0767c958b45166120", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b01e72b00d6c3190c3cb273007be86a62192a81e", "url": "https://github.com/osmandapp/OsmAnd/commit/b01e72b00d6c3190c3cb273007be86a62192a81e", "message": "Add the ability to update ContextMenuItem itself", "committedDate": "2020-10-01T08:06:52Z", "type": "commit"}, {"oid": "f24e491ebb252d7bf653386cac0167bb1f9b3027", "url": "https://github.com/osmandapp/OsmAnd/commit/f24e491ebb252d7bf653386cac0167bb1f9b3027", "message": "delete unnecessary code", "committedDate": "2020-10-01T08:13:02Z", "type": "commit"}, {"oid": "ac78952962b33c274445007c28198c9c56392ac7", "url": "https://github.com/osmandapp/OsmAnd/commit/ac78952962b33c274445007c28198c9c56392ac7", "message": "delete unnecessary code", "committedDate": "2020-10-01T14:51:03Z", "type": "commit"}]}