{"pr_number": 10427, "pr_title": "Aidl blocked roads", "pr_createdAt": "2020-12-17T10:51:04Z", "pr_url": "https://github.com/osmandapp/OsmAnd/pull/10427", "timeline": [{"oid": "f0cbbc2344825d547bf2fa2bc37ee237de14156a", "url": "https://github.com/osmandapp/OsmAnd/commit/f0cbbc2344825d547bf2fa2bc37ee237de14156a", "message": "Add getBlockedRoads to aidl api", "committedDate": "2020-12-17T10:29:59Z", "type": "commit"}, {"oid": "425b98c6dce1b3a039fc9b8cea2ba24400ea5e87", "url": "https://github.com/osmandapp/OsmAnd/commit/425b98c6dce1b3a039fc9b8cea2ba24400ea5e87", "message": "Add angle for roundabout", "committedDate": "2020-12-17T10:43:51Z", "type": "commit"}, {"oid": "c20c0aa6e7a6caaea7127229f686baf6adc4689d", "url": "https://github.com/osmandapp/OsmAnd/commit/c20c0aa6e7a6caaea7127229f686baf6adc4689d", "message": "Add direction to avoid roads", "committedDate": "2020-12-17T13:06:41Z", "type": "commit"}, {"oid": "625ff2face1cef73757f58d7d961c59da031aa40", "url": "https://github.com/osmandapp/OsmAnd/commit/625ff2face1cef73757f58d7d961c59da031aa40", "message": "Add ability to add and remove avoid roads via aidl", "committedDate": "2020-12-17T13:45:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTE5NjUzOQ==", "url": "https://github.com/osmandapp/OsmAnd/pull/10427#discussion_r545196539", "bodyText": "if( ! Double.isNan )", "author": "vshcherb", "createdAt": "2020-12-17T15:51:17Z", "path": "OsmAnd/src/net/osmand/plus/settings/backend/backup/AvoidRoadsSettingsItem.java", "diffHunk": "@@ -144,13 +147,16 @@ void writeItemsToJson(@NonNull JSONObject json) {\n \t\tJSONArray jsonArray = new JSONArray();\n \t\tif (!items.isEmpty()) {\n \t\t\ttry {\n-\t\t\t\tfor (AvoidSpecificRoads.AvoidRoadInfo avoidRoad : items) {\n+\t\t\t\tfor (AvoidRoadInfo avoidRoad : items) {\n \t\t\t\t\tJSONObject jsonObject = new JSONObject();\n \t\t\t\t\tjsonObject.put(\"latitude\", avoidRoad.latitude);\n \t\t\t\t\tjsonObject.put(\"longitude\", avoidRoad.longitude);\n \t\t\t\t\tjsonObject.put(\"name\", avoidRoad.name);\n \t\t\t\t\tjsonObject.put(\"appModeKey\", avoidRoad.appModeKey);\n \t\t\t\t\tjsonObject.put(\"roadId\", avoidRoad.id);\n+\t\t\t\t\tif (Double.isNaN(avoidRoad.direction)) {", "originalCommit": "625ff2face1cef73757f58d7d961c59da031aa40", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTE5OTA3OA==", "url": "https://github.com/osmandapp/OsmAnd/pull/10427#discussion_r545199078", "bodyText": "My mistake, fixed.", "author": "Chumva", "createdAt": "2020-12-17T15:54:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTE5NjUzOQ=="}], "type": "inlineReview"}]}