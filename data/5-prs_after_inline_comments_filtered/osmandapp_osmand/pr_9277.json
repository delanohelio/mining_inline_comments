{"pr_number": 9277, "pr_title": "Directional traffic signals #6774", "pr_createdAt": "2020-06-19T13:42:42Z", "pr_url": "https://github.com/osmandapp/OsmAnd/pull/9277", "timeline": [{"oid": "78880e11b1f47cbdbda7bf443ed4186dd4e1f359", "url": "https://github.com/osmandapp/OsmAnd/commit/78880e11b1f47cbdbda7bf443ed4186dd4e1f359", "message": "transforming tags WIP", "committedDate": "2020-06-17T07:04:11Z", "type": "commit"}, {"oid": "2a0db125f630ff618d580ec46a258b5f671b90ef", "url": "https://github.com/osmandapp/OsmAnd/commit/2a0db125f630ff618d580ec46a258b5f671b90ef", "message": "directional traffic signals", "committedDate": "2020-06-19T13:37:29Z", "type": "commit"}, {"oid": "f6473011f824485f97c623315b4d35c4763b899d", "url": "https://github.com/osmandapp/OsmAnd/commit/f6473011f824485f97c623315b4d35c4763b899d", "message": "cleaning", "committedDate": "2020-06-19T13:46:33Z", "type": "commit"}, {"oid": "54e9b29d9e21ae017da1fb4c990cee3c0a1db02d", "url": "https://github.com/osmandapp/OsmAnd/commit/54e9b29d9e21ae017da1fb4c990cee3c0a1db02d", "message": "remove unused variable", "committedDate": "2020-06-19T14:25:02Z", "type": "commit"}, {"oid": "0dc70df409a7b307c270e573731ad5424845de70", "url": "https://github.com/osmandapp/OsmAnd/commit/0dc70df409a7b307c270e573731ad5424845de70", "message": "add more stict check for tags", "committedDate": "2020-06-19T14:55:53Z", "type": "commit"}, {"oid": "ae77d4089e8ab247e1019e067915c57c285e6ee2", "url": "https://github.com/osmandapp/OsmAnd/commit/ae77d4089e8ab247e1019e067915c57c285e6ee2", "message": "tags fix", "committedDate": "2020-06-20T09:51:34Z", "type": "commit"}, {"oid": "89bef4e6153fd7a623b2f09163ef523c471b090d", "url": "https://github.com/osmandapp/OsmAnd/commit/89bef4e6153fd7a623b2f09163ef523c471b090d", "message": "remove logging", "committedDate": "2020-06-23T11:31:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE1ODg3NQ==", "url": "https://github.com/osmandapp/OsmAnd/pull/9277#discussion_r444158875", "bodyText": "type traffic signals?", "author": "vshcherb", "createdAt": "2020-06-23T11:41:04Z", "path": "OsmAnd-java/src/main/java/net/osmand/binary/BinaryMapRouteReaderAdapter.java", "diffHunk": "@@ -286,6 +286,8 @@ private void analyze() {\n \t\t\t\tif (i > 0) {\n \t\t\t\t\tintValue = Integer.parseInt(v.substring(0, i));\n \t\t\t\t}\n+\t\t\t} else if (t.endsWith(\"direction\") && v != null) {\n+\t\t\t\ttype = TRAFFIC_SIGNALS;", "originalCommit": "89bef4e6153fd7a623b2f09163ef523c471b090d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE1ODk4Mg==", "url": "https://github.com/osmandapp/OsmAnd/pull/9277#discussion_r444158982", "bodyText": "\u0437\u0430\u0447\u0435\u043c \u044d\u0442\u043e?", "author": "vshcherb", "createdAt": "2020-06-23T11:41:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE1ODg3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE1OTMyOQ==", "url": "https://github.com/osmandapp/OsmAnd/pull/9277#discussion_r444159329", "bodyText": "\u0412\u043c\u0435\u0441\u0442\u043e 2\u0445 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0439 \u043f\u0440\u043e\u0449\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c 4 int \u0447\u0438\u0441\u043b\u0430\ndirectionForward = -1;\ndirectionBackward = -1;\ndirectionTrafficSignalsForward = -1;\ndirectionTrafficSignalsBackward = -1;", "author": "vshcherb", "createdAt": "2020-06-23T11:41:57Z", "path": "OsmAnd-java/src/main/java/net/osmand/binary/BinaryMapRouteReaderAdapter.java", "diffHunk": "@@ -296,6 +298,8 @@ private void analyze() {\n \t\tpublic Map<String, Integer> decodingRules = null;\n \t\tList<RouteSubregion> subregions = new ArrayList<RouteSubregion>();\n \t\tList<RouteSubregion> basesubregions = new ArrayList<RouteSubregion>();\n+\t\tTIntObjectHashMap<Integer> trafficSignalsDir = new TIntObjectHashMap<Integer>();", "originalCommit": "89bef4e6153fd7a623b2f09163ef523c471b090d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE1OTU3Mw==", "url": "https://github.com/osmandapp/OsmAnd/pull/9277#discussion_r444159573", "bodyText": "\u041c\u043d\u043e\u0433\u043e \u0441\u0442\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043d\u0435 \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u043e\u0445\u043e\u0436\u0435", "author": "vshcherb", "createdAt": "2020-06-23T11:42:25Z", "path": "OsmAnd-java/src/main/java/net/osmand/router/GeneralRouter.java", "diffHunk": "@@ -380,6 +381,38 @@ public float defineRoutingObstacle(RouteDataObject road, int point) {\n \t\treturn 0;\n \t}\n \t\n+\t@Override\n+\tpublic int[] filterRulesByDirection(int[] pointRules, boolean direction, RouteDataObject route) {", "originalCommit": "89bef4e6153fd7a623b2f09163ef523c471b090d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "613fed62e7611f44013b93750c8e25e773155969", "url": "https://github.com/osmandapp/OsmAnd/commit/613fed62e7611f44013b93750c8e25e773155969", "message": "refactoring", "committedDate": "2020-06-23T12:55:46Z", "type": "commit"}, {"oid": "45852fc5ba309d9ff27a1b8a20c25610e3af02fe", "url": "https://github.com/osmandapp/OsmAnd/commit/45852fc5ba309d9ff27a1b8a20c25610e3af02fe", "message": "Merge branch 'directional_traffic_signals' of https://github.com/osmandapp/Osmand into directional_traffic_signals", "committedDate": "2020-06-23T12:56:55Z", "type": "commit"}, {"oid": "f67b1b347a26bffd00f758019c98d420265fe097", "url": "https://github.com/osmandapp/OsmAnd/commit/f67b1b347a26bffd00f758019c98d420265fe097", "message": "refactoring", "committedDate": "2020-06-23T13:32:47Z", "type": "commit"}, {"oid": "13910d284daa12f39f7ad85ae565d3481da2d572", "url": "https://github.com/osmandapp/OsmAnd/commit/13910d284daa12f39f7ad85ae565d3481da2d572", "message": "cleaning", "committedDate": "2020-06-24T07:38:32Z", "type": "commit"}, {"oid": "3030c73f8af55eae3387c8f498496e254b93d320", "url": "https://github.com/osmandapp/OsmAnd/commit/3030c73f8af55eae3387c8f498496e254b93d320", "message": "Fix routing", "committedDate": "2020-06-24T09:14:45Z", "type": "commit"}, {"oid": "c820fa3033f2e5bb5496633ff890aaf88aa92745", "url": "https://github.com/osmandapp/OsmAnd/commit/c820fa3033f2e5bb5496633ff890aaf88aa92745", "message": "Fix routing", "committedDate": "2020-06-24T09:16:19Z", "type": "commit"}]}