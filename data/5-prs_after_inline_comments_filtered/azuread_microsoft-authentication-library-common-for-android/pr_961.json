{"pr_number": 961, "pr_title": "Fix MSAL issue 1096", "pr_createdAt": "2020-07-14T18:36:23Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/961", "timeline": [{"oid": "be61b5f5259be43166460427133ccd93e8e2f683", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/be61b5f5259be43166460427133ccd93e8e2f683", "message": "Fix MSAL issue 1096", "committedDate": "2020-07-14T18:34:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYwMTEyNg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/961#discussion_r454601126", "bodyText": "Minor code golf: could use a foreach if you don't need the index's value", "author": "iambmelt", "createdAt": "2020-07-14T19:45:12Z", "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/RemoveCurrentAccountCommand.java", "diffHunk": "@@ -54,7 +56,24 @@ public RemoveCurrentAccountCommand(@NonNull RemoveAccountCommandParameters param\n \n     @Override\n     public Boolean execute() throws Exception {\n-        return getDefaultController().removeCurrentAccount((RemoveAccountCommandParameters) getParameters());\n+        final String methodName = \":execute\";\n+\n+        for (int ii = 0; ii < getControllers().size(); ii++) {", "originalCommit": "be61b5f5259be43166460427133ccd93e8e2f683", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYwMzA0MQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/961#discussion_r454603041", "bodyText": "Addressed here: a683e65", "author": "shahzaibj", "createdAt": "2020-07-14T19:48:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYwMTEyNg=="}], "type": "inlineReview"}, {"oid": "a683e653c33ce9a961675e44b4177a8e130ec589", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/a683e653c33ce9a961675e44b4177a8e130ec589", "message": "Address comment", "committedDate": "2020-07-14T19:48:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYyOTQyOA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/961#discussion_r454629428", "bodyText": "Do we not want to remove it from the rest of them, if it happens to exist there?", "author": "AdamBJohnsonx", "createdAt": "2020-07-14T20:37:15Z", "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/RemoveCurrentAccountCommand.java", "diffHunk": "@@ -54,7 +56,23 @@ public RemoveCurrentAccountCommand(@NonNull RemoveAccountCommandParameters param\n \n     @Override\n     public Boolean execute() throws Exception {\n-        return getDefaultController().removeCurrentAccount((RemoveAccountCommandParameters) getParameters());\n+        final String methodName = \":execute\";\n+\n+        for (final BaseController controller : getControllers()) {\n+            com.microsoft.identity.common.internal.logging.Logger.verbose(\n+                    TAG + methodName,\n+                    \"Executing with controller: \"\n+                            + controller.getClass().getSimpleName()\n+            );\n+\n+            final boolean removed = controller.removeCurrentAccount((RemoveAccountCommandParameters) getParameters());\n+\n+            if (removed) {\n+                return true;", "originalCommit": "a683e653c33ce9a961675e44b4177a8e130ec589", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}