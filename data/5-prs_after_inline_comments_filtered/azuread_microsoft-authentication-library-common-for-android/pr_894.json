{"pr_number": 894, "pr_title": "Add a new boolean to enable/disable power optimization check for network requests", "pr_createdAt": "2020-04-23T01:29:36Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/894", "timeline": [{"oid": "d59ba868274f20a1c78559bff6eb39c7da2eebbe", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d59ba868274f20a1c78559bff6eb39c7da2eebbe", "message": "Add a new boolean to enable/disable power optimization check for network requests", "committedDate": "2020-04-22T23:32:52Z", "type": "commit"}, {"oid": "bca466e0c94ece99567108b130465302df9af28e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/bca466e0c94ece99567108b130465302df9af28e", "message": "Merge branch 'dev' into kreedula/add-pow-opt", "committedDate": "2020-04-22T23:49:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ0NDkwNQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/894#discussion_r413444905", "bodyText": "nonnull isn't needed", "author": "shahzaibj", "createdAt": "2020-04-23T01:34:25Z", "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -476,6 +488,11 @@ public AbstractAuthenticationScheme getAuthenticationScheme() {\n             return this;\n         }\n \n+        public BrokerRequest.Builder powerOptCheckEnabled(@NonNull final boolean powerOptCheckEnabled) {", "originalCommit": "bca466e0c94ece99567108b130465302df9af28e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0fbd6b7f23f6d1c82dc254905ef7a79f4afa4cc4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0fbd6b7f23f6d1c82dc254905ef7a79f4afa4cc4", "message": "Merge branch 'dev' into kreedula/add-pow-opt", "committedDate": "2020-04-23T01:41:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzkwNzM4OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/894#discussion_r413907389", "bodyText": "Added param needs javadoc", "author": "iambmelt", "createdAt": "2020-04-23T15:41:54Z", "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/net/HttpWebRequest.java", "diffHunk": "@@ -188,21 +188,20 @@ public HttpWebResponse send() throws IOException {\n      * @param context Context\n      * @throws ClientException throw network exception\n      */\n-    public static void throwIfNetworkNotAvailable(final Context context) throws ClientException {\n+    public static void throwIfNetworkNotAvailable(final Context context, final boolean powerOptCheckEnabled) throws ClientException {", "originalCommit": "0fbd6b7f23f6d1c82dc254905ef7a79f4afa4cc4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzkxNzE2Mg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/894#discussion_r413917162", "bodyText": "I might prefer a more descriptive name here. Something along the lines of skipPowerOptimizationCheck", "author": "iambmelt", "createdAt": "2020-04-23T15:54:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzkwNzM4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzkxMzE2OQ==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/894#discussion_r413913169", "bodyText": "Just leaving a link to this issue here in case we ever go back and wonder \"why didn't we just query getActiveNetworkInfo()?\"\nhttps://code.google.com/archive/p/android-developer-preview/issues/3164", "author": "iambmelt", "createdAt": "2020-04-23T15:49:16Z", "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/net/DefaultConnectionService.java", "diffHunk": "@@ -64,7 +64,7 @@ public boolean isConnectionAvailable() {\n                 .getSystemService(Context.CONNECTIVITY_SERVICE);\n         NetworkInfo activeNetwork = connectivityManager.getActiveNetworkInfo();\n         @SuppressWarnings(\"deprecation\")\n-        final boolean isConnectionAvailable = activeNetwork != null && activeNetwork.isConnectedOrConnecting() && !isNetworkDisabledFromOptimizations();\n+        final boolean isConnectionAvailable = activeNetwork != null && activeNetwork.isConnectedOrConnecting();", "originalCommit": "0fbd6b7f23f6d1c82dc254905ef7a79f4afa4cc4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzkxMzM1Nw==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/894#discussion_r413913357", "bodyText": "(Not an action item)", "author": "iambmelt", "createdAt": "2020-04-23T15:49:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzkxMzE2OQ=="}], "type": "inlineReview"}, {"oid": "06163e3a9dcd8260470a7579c5f998e69b1f9658", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/06163e3a9dcd8260470a7579c5f998e69b1f9658", "message": "Addressing comments + adding an missed un-staged file", "committedDate": "2020-04-23T17:08:00Z", "type": "commit"}, {"oid": "fcc10ef34feae64b3f0198bf267838c54fd43e8e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/fcc10ef34feae64b3f0198bf267838c54fd43e8e", "message": "Merge branch 'kreedula/add-pow-opt' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into kreedula/add-pow-opt", "committedDate": "2020-04-23T17:08:47Z", "type": "commit"}]}