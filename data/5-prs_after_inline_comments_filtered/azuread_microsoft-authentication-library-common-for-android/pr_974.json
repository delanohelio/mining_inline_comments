{"pr_number": 974, "pr_title": "Adding Locale.Root to toLowerCase calls", "pr_createdAt": "2020-07-23T15:08:01Z", "pr_url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/974", "timeline": [{"oid": "7450581ba4d0cc3f34313f4d8ec4d73afdbeb856", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/7450581ba4d0cc3f34313f4d8ec4d73afdbeb856", "message": "Adding Locale.Root to toLowerCase calls", "committedDate": "2020-07-23T15:06:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTUyMjk3NA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/974#discussion_r459522974", "bodyText": "@iambmelt - Am a bit concerned about using ROOT here instead of US which appears to be what we did for the rest of caching.  What are your thoughts?", "author": "shoatman", "createdAt": "2020-07-23T15:09:37Z", "path": "common/src/main/java/com/microsoft/identity/common/internal/cache/AbstractAccountCredentialCache.java", "diffHunk": "@@ -235,11 +236,11 @@ static boolean targetsIntersect(@NonNull final String targetToMatch,\n \n         // Add the array values to these sets, lowercasing them\n         for (final String target : targetToMatchArray) {\n-            soughtTargetSet.add(target.toLowerCase());\n+            soughtTargetSet.add(target.toLowerCase(Locale.ROOT));", "originalCommit": "7450581ba4d0cc3f34313f4d8ec4d73afdbeb856", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTUzNzExMg==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/974#discussion_r459537112", "bodyText": "https://cs.android.com/android/platform/superproject/+/master:libcore/libart/src/main/java/java/lang/CaseMapper.java;drc=master;l=45 it looks like there are a few cases where the Locale matters - Turkish, Lithuanian, and Azerbaijani.  Other than those and a few special cases it shouldn't matter.", "author": "AdamBJohnsonx", "createdAt": "2020-07-23T15:28:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTUyMjk3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTUyNDM5MA==", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/974#discussion_r459524390", "bodyText": "This was the actual reported bug.", "author": "shoatman", "createdAt": "2020-07-23T15:11:30Z", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OpenIdConnectPromptParameter.java", "diffHunk": "@@ -59,7 +61,7 @@ public String toString() {\n             return null;\n         }\n \n-        return this.name().toLowerCase();\n+        return this.name().toLowerCase(Locale.ROOT);", "originalCommit": "7450581ba4d0cc3f34313f4d8ec4d73afdbeb856", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}