{"pr_number": 1485, "pr_title": "KYLIN-4818 Support Cube Planner Phase One in Kylin 4", "pr_createdAt": "2020-11-23T13:48:46Z", "pr_url": "https://github.com/apache/kylin/pull/1485", "timeline": [{"oid": "cad8705cdbe814e764e56cd96dd32dab7be32041", "url": "https://github.com/apache/kylin/commit/cad8705cdbe814e764e56cd96dd32dab7be32041", "message": "KYLIN-4818 Calculate cuboid rowcount via HLL", "committedDate": "2020-11-24T03:20:44Z", "type": "forcePushed"}, {"oid": "e750fffe071444a4dad8c375b9419cbcb3564eec", "url": "https://github.com/apache/kylin/commit/e750fffe071444a4dad8c375b9419cbcb3564eec", "message": "KYLIN-4818 Calculate cuboid rowcount via HLL", "committedDate": "2020-11-24T06:11:42Z", "type": "forcePushed"}, {"oid": "909ba43fc31fd53d6e019924dc2fa63f5553b2aa", "url": "https://github.com/apache/kylin/commit/909ba43fc31fd53d6e019924dc2fa63f5553b2aa", "message": "KYLIN-4818 Persist metadata in SparkExecutable", "committedDate": "2020-12-03T10:38:03Z", "type": "forcePushed"}, {"oid": "d5e2a587ecbbb28c3007305c8709c6fa8fb25c6e", "url": "https://github.com/apache/kylin/commit/d5e2a587ecbbb28c3007305c8709c6fa8fb25c6e", "message": "KYLIN-4818 Calculate cuboid rowcount via HLL", "committedDate": "2020-12-05T09:36:12Z", "type": "commit"}, {"oid": "40f04ca5156a2b72c2094ba7d8b4a433afa80c41", "url": "https://github.com/apache/kylin/commit/40f04ca5156a2b72c2094ba7d8b4a433afa80c41", "message": "KYLIN-4818 Support Cube Planner Phase One in Kylin 4\n\n- Use Spark to calculate cuboid's HllCounter for the first segment\n- Re-enable Cube planner by default\n- Change default precision from 10 to 14 for HLLCounter", "committedDate": "2020-12-05T09:36:12Z", "type": "commit"}, {"oid": "3291a3553e7a866e8d05f47a7f4aad1ebf772c7d", "url": "https://github.com/apache/kylin/commit/3291a3553e7a866e8d05f47a7f4aad1ebf772c7d", "message": "KYLIN-4818 Persist metadata in SparkExecutable", "committedDate": "2020-12-05T09:36:12Z", "type": "commit"}, {"oid": "2e13c8857700fd4d1c4e4daede6600562c62d494", "url": "https://github.com/apache/kylin/commit/2e13c8857700fd4d1c4e4daede6600562c62d494", "message": "KYLIN-4818 Performance profile for CuboidStatisticsJob", "committedDate": "2020-12-07T13:30:43Z", "type": "commit"}, {"oid": "2e13c8857700fd4d1c4e4daede6600562c62d494", "url": "https://github.com/apache/kylin/commit/2e13c8857700fd4d1c4e4daede6600562c62d494", "message": "KYLIN-4818 Performance profile for CuboidStatisticsJob", "committedDate": "2020-12-07T13:30:43Z", "type": "forcePushed"}, {"oid": "22e96c7ad1f845644aad66ceb904f1bdaa90bce8", "url": "https://github.com/apache/kylin/commit/22e96c7ad1f845644aad66ceb904f1bdaa90bce8", "message": "KYLIN-4818 Reduce toString method call", "committedDate": "2020-12-08T02:58:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTg0OTUyNA==", "url": "https://github.com/apache/kylin/pull/1485#discussion_r539849524", "bodyText": "What's the difference between '.seq' directory and '.json' directory? Do we need to delete which one after running job successfully?", "author": "zzcclp", "createdAt": "2020-12-10T05:09:49Z", "path": "core-cube/src/main/java/org/apache/kylin/cube/CubeSegment.java", "diffHunk": "@@ -530,11 +537,19 @@ public void setSnapshots(ConcurrentHashMap<String, String> snapshots) {\n     }\n \n     public String getStatisticsResourcePath() {\n-        return getStatisticsResourcePath(this.getCubeInstance().getName(), this.getUuid());\n+        return getStatisticsResourcePath(this.getCubeInstance().getName(), this.getUuid(), \".seq\");\n+    }\n+\n+    public String getPreciseStatisticsResourcePath() {\n+        return getStatisticsResourcePath(this.getCubeInstance().getName(), this.getUuid(), \".json\");", "originalCommit": "22e96c7ad1f845644aad66ceb904f1bdaa90bce8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4ebccc6c63bb02874d79d91cbae85877540881c4", "url": "https://github.com/apache/kylin/commit/4ebccc6c63bb02874d79d91cbae85877540881c4", "message": "KYLIN-4818 Refine CuboidStatisticsJob to improve performance", "committedDate": "2020-12-10T10:31:30Z", "type": "commit"}, {"oid": "4ebccc6c63bb02874d79d91cbae85877540881c4", "url": "https://github.com/apache/kylin/commit/4ebccc6c63bb02874d79d91cbae85877540881c4", "message": "KYLIN-4818 Refine CuboidStatisticsJob to improve performance", "committedDate": "2020-12-10T10:31:30Z", "type": "forcePushed"}]}