{"pr_number": 2523, "pr_title": "Prevent race conditions during CLI install ", "pr_createdAt": "2020-11-05T15:03:19Z", "pr_url": "https://github.com/apache/netbeans/pull/2523", "timeline": [{"oid": "b9a6827c8c42fad7ee47660b7bfdd4b8d85d93ca", "url": "https://github.com/apache/netbeans/commit/b9a6827c8c42fad7ee47660b7bfdd4b8d85d93ca", "message": "Use a special exitcode when connecting to CLI as client. Do not run upgrade step thereafter.", "committedDate": "2020-11-05T14:31:26Z", "type": "commit"}, {"oid": "f778b00fd7f241bb19c98cf606b3dcbdbf5bf284", "url": "https://github.com/apache/netbeans/commit/f778b00fd7f241bb19c98cf606b3dcbdbf5bf284", "message": "Piggyback with NBJLS server relaunch after installation completes.", "committedDate": "2020-11-05T14:36:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI2MjI0Mw==", "url": "https://github.com/apache/netbeans/pull/2523#discussion_r518262243", "bodyText": "OK.", "author": "JaroslavTulach", "createdAt": "2020-11-05T18:12:46Z", "path": "platform/o.n.bootstrap/src/org/netbeans/MainImpl.java", "diffHunk": "@@ -60,7 +60,7 @@ public static void main (String args[]) throws Exception {\n         int res = execute (args, System.in, System.out, System.err, m);\n         if (res == -1) {\n             // Connected to another running NB instance and succeeded in making a call.\n-            return;\n+            System.exit(CLIHandler.Status.CONNECTED);", "originalCommit": "f778b00fd7f241bb19c98cf606b3dcbdbf5bf284", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1cc2768daefb4da5634648644f14ab32d967cf4c", "url": "https://github.com/apache/netbeans/commit/1cc2768daefb4da5634648644f14ab32d967cf4c", "message": "Merge remote-tracking branch 'origin/delivery' into lsp/nbjavac-install-race", "committedDate": "2020-11-07T06:27:34Z", "type": "commit"}, {"oid": "315d120b98683e26e0076e418efc8e3f4980dbb0", "url": "https://github.com/apache/netbeans/commit/315d120b98683e26e0076e418efc8e3f4980dbb0", "message": "Delay and/or disable the restart LSP client after connection termination\nwith the hope to finish install tasks meanwhile and then restart explicitly", "committedDate": "2020-11-07T06:56:21Z", "type": "commit"}, {"oid": "4cecd48592bf0a1962f526aed88b9f8d213bd9e4", "url": "https://github.com/apache/netbeans/commit/4cecd48592bf0a1962f526aed88b9f8d213bd9e4", "message": "Wait after last child closes on Win.", "committedDate": "2020-11-07T19:53:44Z", "type": "commit"}, {"oid": "4cecd48592bf0a1962f526aed88b9f8d213bd9e4", "url": "https://github.com/apache/netbeans/commit/4cecd48592bf0a1962f526aed88b9f8d213bd9e4", "message": "Wait after last child closes on Win.", "committedDate": "2020-11-07T19:53:44Z", "type": "forcePushed"}, {"oid": "bcb21fadbb1b6ea2b82b17c7b5e617802b3cd335", "url": "https://github.com/apache/netbeans/commit/bcb21fadbb1b6ea2b82b17c7b5e617802b3cd335", "message": "Fixed launchers release number -> release.", "committedDate": "2020-11-08T09:49:51Z", "type": "commit"}]}