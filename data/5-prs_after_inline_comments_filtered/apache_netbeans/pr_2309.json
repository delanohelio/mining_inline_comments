{"pr_number": 2309, "pr_title": "Various improvements inspired by working on VSCode extension", "pr_createdAt": "2020-08-13T08:23:40Z", "pr_url": "https://github.com/apache/netbeans/pull/2309", "timeline": [{"oid": "47460a8d6372e7f5441f45ceeef7af371b7de9f3", "url": "https://github.com/apache/netbeans/commit/47460a8d6372e7f5441f45ceeef7af371b7de9f3", "message": "Don't play with UI when in headless mode", "committedDate": "2020-08-12T12:38:20Z", "type": "commit"}, {"oid": "c62f79aecb488b74cb369c4808253d9d8b2ecd9f", "url": "https://github.com/apache/netbeans/commit/c62f79aecb488b74cb369c4808253d9d8b2ecd9f", "message": "Not all InputOutput implementations support folding", "committedDate": "2020-08-12T12:39:53Z", "type": "commit"}, {"oid": "38427d8c78efa579b1ed3209dd4a77f67a08b756", "url": "https://github.com/apache/netbeans/commit/38427d8c78efa579b1ed3209dd4a77f67a08b756", "message": "Truffle debugger doesn't strictly need java.kit. Let's just recommend it.", "committedDate": "2020-08-12T12:44:59Z", "type": "commit"}, {"oid": "7c546b27677a76a80c6bbc4d0ce75d040422693b", "url": "https://github.com/apache/netbeans/commit/7c546b27677a76a80c6bbc4d0ce75d040422693b", "message": "Use Packages object only when available. E.g. not on GraalVM", "committedDate": "2020-08-12T12:46:48Z", "type": "commit"}, {"oid": "bbee0e9711097e5b6505b3753142d4c822c1a006", "url": "https://github.com/apache/netbeans/commit/bbee0e9711097e5b6505b3753142d4c822c1a006", "message": "Make sure mvn is executable", "committedDate": "2020-08-12T12:50:07Z", "type": "commit"}, {"oid": "fa22d9c0508e6b8a15a2dfb07ee8c4b7ef6c1a99", "url": "https://github.com/apache/netbeans/commit/fa22d9c0508e6b8a15a2dfb07ee8c4b7ef6c1a99", "message": "Launch the nb-java-lsp-server application first and only then connect to it with an LSP client", "committedDate": "2020-08-12T12:53:59Z", "type": "commit"}, {"oid": "1c2668aac2fa72d67a88e5f6c6cb6676e4bcedd8", "url": "https://github.com/apache/netbeans/commit/1c2668aac2fa72d67a88e5f6c6cb6676e4bcedd8", "message": "Setup regular VSCode project, so one can open it and debug its TypeScript parts from VSCode", "committedDate": "2020-08-12T12:58:41Z", "type": "commit"}, {"oid": "2413e8bfe2a885b1ffebafdc572de6f3041efc3e", "url": "https://github.com/apache/netbeans/commit/2413e8bfe2a885b1ffebafdc572de6f3041efc3e", "message": "VSCode project JSON files are Apache licensed", "committedDate": "2020-08-18T09:27:27Z", "type": "commit"}, {"oid": "a29b9656d5a35ddf2b52aaa3f948a316b0fb7f6c", "url": "https://github.com/apache/netbeans/commit/a29b9656d5a35ddf2b52aaa3f948a316b0fb7f6c", "message": "Adding esprima and has licenses to VSCode extension", "committedDate": "2020-08-18T12:21:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2NDM0OA==", "url": "https://github.com/apache/netbeans/pull/2309#discussion_r472364348", "bodyText": "This looks a bit strange - is this intended, that this invocation silently drops the execution of the runnable? I would be a bit surprised if trying to debug.", "author": "matthiasblaesing", "createdAt": "2020-08-18T17:30:33Z", "path": "java/maven/src/org/netbeans/modules/maven/api/execute/RunUtils.java", "diffHunk": "@@ -218,4 +219,10 @@ public static boolean hasTestCompileOnSaveEnabled(RunConfig config) {\n         return false;\n     }\n \n+    private static void invokeLaterWithUI(Runnable runnable) {\n+        if (GraphicsEnvironment.isHeadless()) {\n+            return;\n+        }", "originalCommit": "a29b9656d5a35ddf2b52aaa3f948a316b0fb7f6c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY1Njg0Nw==", "url": "https://github.com/apache/netbeans/pull/2309#discussion_r472656847", "bodyText": "Yes, the method invokeLaterWithUI is used to change cursor on main JFrame of the application. That yields an exception in headless mode. Not mangling the cursor shape - e.g. skipping the runnable - is exactly what is needed in headless mode.", "author": "JaroslavTulach", "createdAt": "2020-08-19T03:55:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2NDM0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzI4MTc4Nw==", "url": "https://github.com/apache/netbeans/pull/2309#discussion_r473281787", "bodyText": "Understood - when I first read the method name, I assumed, that is intended to invoke the Runnable on the EDT. That made me wonder why SwingUtilities#invokeLater was not used, which led to me reading the method.", "author": "matthiasblaesing", "createdAt": "2020-08-19T19:53:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2NDM0OA=="}], "type": "inlineReview"}]}