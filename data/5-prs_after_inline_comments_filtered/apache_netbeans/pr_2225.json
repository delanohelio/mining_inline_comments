{"pr_number": 2225, "pr_title": "Make configureproxy idenpotent when invoked multiple times", "pr_createdAt": "2020-07-01T03:58:54Z", "pr_url": "https://github.com/apache/netbeans/pull/2225", "timeline": [{"oid": "2744059dab68b2081267ce29d0501f13ee29396a", "url": "https://github.com/apache/netbeans/commit/2744059dab68b2081267ce29d0501f13ee29396a", "message": "Make configureproxy idenpotent when invoked multiple times", "committedDate": "2020-06-22T08:04:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEyNzkzOA==", "url": "https://github.com/apache/netbeans/pull/2225#discussion_r448127938", "bodyText": "Isn't msgs operated from different threads ? Noticed only now :(", "author": "sdedic", "createdAt": "2020-07-01T05:45:11Z", "path": "nbbuild/antsrc/org/netbeans/nbbuild/extlibs/ConfigureProxy.java", "diffHunk": "@@ -84,51 +84,21 @@ public void execute() throws BuildException {\n     static URLConnection openConnection(Task task, final URL url, URI[] connectedVia) throws IOException {\n         final URLConnection[] conn = { null };\n         final List<Exception> errs = new CopyOnWriteArrayList<>();\n+        final StringBuilder msgs = new StringBuilder();", "originalCommit": "2744059dab68b2081267ce29d0501f13ee29396a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE4MjY5OQ==", "url": "https://github.com/apache/netbeans/pull/2225#discussion_r448182699", "bodyText": "E.g. it should be StringBuffer, not builder. Right?", "author": "JaroslavTulach", "createdAt": "2020-07-01T07:53:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEyNzkzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE4NzU1NQ==", "url": "https://github.com/apache/netbeans/pull/2225#discussion_r448187555", "bodyText": "Done in 40584ec - if approved, I also merge it to master.\nBtw. the code was ready for being used from multiple threads - see all the msgs.append(\"x' + a + \" y \" + b + \" z\" + c) concatentations that are done in single thread and only then placed into the msgs object. Why did I not used StringBuffer then? I know I wanted...", "author": "JaroslavTulach", "createdAt": "2020-07-01T08:02:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEyNzkzOA=="}], "type": "inlineReview"}, {"oid": "40584ecfeb52cfd7f8f5bc619ad97ad968303819", "url": "https://github.com/apache/netbeans/commit/40584ecfeb52cfd7f8f5bc619ad97ad968303819", "message": "Using StringBuffer as msgs are accessed from multiple threads", "committedDate": "2020-07-01T07:57:03Z", "type": "commit"}]}