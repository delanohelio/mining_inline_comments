{"pr_number": 2318, "pr_title": "NETBEANS-4852 add tooltip with code coverage stats", "pr_createdAt": "2020-08-18T19:01:27Z", "pr_url": "https://github.com/apache/netbeans/pull/2318", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjcwNDU5MQ==", "url": "https://github.com/apache/netbeans/pull/2318#discussion_r486704591", "bodyText": "Please format. (4 spaces)", "author": "junichi11", "createdAt": "2020-09-11T00:27:04Z", "path": "ide/gsf.codecoverage/src/org/netbeans/modules/gsf/codecoverage/CoverageBar.java", "diffHunk": "@@ -55,9 +59,25 @@\n     private boolean selected;\n     /** Coverage percentage:  0.0f <= x <= 100f */\n     private float coveragePercentage;\n-\n+    private int totalLines;\n+    private int executedLines;\n+    private int partialLines;\n+    private int inferredLines;\n+    \n     public CoverageBar() {\n-        updateUI();\n+      addHierarchyListener(new HierarchyListener() {\n+        @Override\n+        public void hierarchyChanged(HierarchyEvent e) {\n+          if ((e.getChangeFlags() & HierarchyEvent.SHOWING_CHANGED) != 0) {\n+            if (isShowing()) {\n+              ToolTipManager.sharedInstance().registerComponent(CoverageBar.this);\n+            } else {\n+              ToolTipManager.sharedInstance().unregisterComponent(CoverageBar.this);\n+            }\n+          }\n+        }\n+      });      \n+      updateUI();", "originalCommit": "c07aa22b3b34bca24ed31afc71f107d97dadbdd2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI0Mzg4MA==", "url": "https://github.com/apache/netbeans/pull/2318#discussion_r491243880", "bodyText": "Please format.", "author": "junichi11", "createdAt": "2020-09-19T00:28:22Z", "path": "ide/gsf.codecoverage/src/org/netbeans/modules/gsf/codecoverage/CoverageReportTopComponent.java", "diffHunk": "@@ -168,6 +168,9 @@\n         //    }\n \n         totalCoverage.setCoveragePercentage(model.getTotalCoverage());\n+        FileCoverageSummary summary = model.getCoverageSummary();\n+        totalCoverage.setStats(summary.getLineCount(),summary.getExecutedLineCount(),\n+          summary.getPartialCount(),summary.getInferredCount());", "originalCommit": "c07aa22b3b34bca24ed31afc71f107d97dadbdd2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI0MzkwNQ==", "url": "https://github.com/apache/netbeans/pull/2318#discussion_r491243905", "bodyText": "Please format.", "author": "junichi11", "createdAt": "2020-09-19T00:28:32Z", "path": "ide/gsf.codecoverage/src/org/netbeans/modules/gsf/codecoverage/CoverageReportTopComponent.java", "diffHunk": "@@ -361,6 +364,9 @@ void updateData(List<FileCoverageSummary> results) {\n         model = new CoverageTableModel(results);\n         table.setModel(model);\n         totalCoverage.setCoveragePercentage(model.getTotalCoverage());\n+        FileCoverageSummary summary = model.getCoverageSummary();\n+        totalCoverage.setStats(summary.getLineCount(),summary.getExecutedLineCount(),\n+          summary.getPartialCount(),summary.getInferredCount());", "originalCommit": "c07aa22b3b34bca24ed31afc71f107d97dadbdd2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI0Mzk0MA==", "url": "https://github.com/apache/netbeans/pull/2318#discussion_r491243940", "bodyText": "Please format.", "author": "junichi11", "createdAt": "2020-09-19T00:28:47Z", "path": "ide/gsf.codecoverage/src/org/netbeans/modules/gsf/codecoverage/CoverageReportTopComponent.java", "diffHunk": "@@ -399,19 +405,26 @@ public CoverageTableModel(List<FileCoverageSummary> results) {\n             }\n             this.results = results;\n         }\n+        \n+        FileCoverageSummary getCoverageSummary() {\n+          return total;", "originalCommit": "c07aa22b3b34bca24ed31afc71f107d97dadbdd2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "991fd71ae20a8bce23e1b77dd64804a9c8fcbaf0", "url": "https://github.com/apache/netbeans/commit/991fd71ae20a8bce23e1b77dd64804a9c8fcbaf0", "message": "NETBEANS-4852 add tooltip with code coverage stats", "committedDate": "2020-09-27T16:06:33Z", "type": "commit"}]}