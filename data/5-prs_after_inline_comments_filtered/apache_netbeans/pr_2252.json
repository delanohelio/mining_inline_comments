{"pr_number": 2252, "pr_title": "Speeding up build, fixing some dependencies as needed.", "pr_createdAt": "2020-07-13T05:48:49Z", "pr_url": "https://github.com/apache/netbeans/pull/2252", "timeline": [{"oid": "6b9e8816c382ea55291437428aff20704b9799e5", "url": "https://github.com/apache/netbeans/commit/6b9e8816c382ea55291437428aff20704b9799e5", "message": "Speeding up the build by expressing module dependencies in ant targets more carefully.", "committedDate": "2020-07-03T20:29:54Z", "type": "commit"}, {"oid": "f9587ea70f8a3e1196ec65f6b6dfb0ed6dbb5769", "url": "https://github.com/apache/netbeans/commit/f9587ea70f8a3e1196ec65f6b6dfb0ed6dbb5769", "message": "Fixing build.", "committedDate": "2020-07-04T03:40:05Z", "type": "commit"}, {"oid": "4efffcdfd08fcf2845cac76e3988e81ffc2f910e", "url": "https://github.com/apache/netbeans/commit/4efffcdfd08fcf2845cac76e3988e81ffc2f910e", "message": "Correcting locations.", "committedDate": "2020-07-11T17:24:42Z", "type": "commit"}, {"oid": "ca059af2c0f883119c9db06fc65f1352df02ac62", "url": "https://github.com/apache/netbeans/commit/ca059af2c0f883119c9db06fc65f1352df02ac62", "message": "Modules in the nb cluster cannot depend on modules in java cluster - moving ko4j.debugging to the java cluster.", "committedDate": "2020-07-12T07:28:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ1MTMwNA==", "url": "https://github.com/apache/netbeans/pull/2252#discussion_r453451304", "bodyText": "I see, this is the fix then.", "author": "JaroslavTulach", "createdAt": "2020-07-13T06:02:11Z", "path": "nbbuild/antsrc/org/netbeans/nbbuild/InsertModuleAllTargets.java", "diffHunk": "@@ -136,8 +136,29 @@ public void setUseClusters(boolean b) {\n                     continue;\n                 }\n                 String[] prereqsAsCnb = entry.getBuildPrerequisites();\n-                StringBuffer namedDeps = new StringBuffer(\"init\");\n-                String myCluster = clustersOfModules.get(path);\n+                StringBuilder namedDeps = new StringBuilder(\"init\");\n+                String myCluster = clustersOfModules.get(entry.getNetbeansOrgId());\n+                if (myCluster != null) {\n+                    String clusterDep = \"all-cluster-\" + myCluster;\n+                    if (!prj.getTargets().keySet().contains(clusterDep)) {", "originalCommit": "6b9e8816c382ea55291437428aff20704b9799e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7d428bd714b62e55425d92ac52bc1cea02749698", "url": "https://github.com/apache/netbeans/commit/7d428bd714b62e55425d92ac52bc1cea02749698", "message": "Moving Gradle back to extide, as its dependency on java.platform has been removed in master.", "committedDate": "2020-07-16T05:11:29Z", "type": "commit"}, {"oid": "bf038b68e067a86e16b27860bcce3c3c39aee9ce", "url": "https://github.com/apache/netbeans/commit/bf038b68e067a86e16b27860bcce3c3c39aee9ce", "message": "Merge branch 'master' into fix-build-dependencies-for-speedup", "committedDate": "2020-07-16T05:11:33Z", "type": "commit"}, {"oid": "f9a050df9cc3fea03720ac97ee5d59d3b2cb9bad", "url": "https://github.com/apache/netbeans/commit/f9a050df9cc3fea03720ac97ee5d59d3b2cb9bad", "message": "Correcting module names.", "committedDate": "2020-07-16T05:37:58Z", "type": "commit"}]}