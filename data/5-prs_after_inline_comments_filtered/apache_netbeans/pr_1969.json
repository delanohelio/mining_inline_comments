{"pr_number": 1969, "pr_title": "Attempt to fix potential issue with NbLexerCharStream(s)", "pr_createdAt": "2020-02-24T06:15:35Z", "pr_url": "https://github.com/apache/netbeans/pull/1969", "timeline": [{"oid": "3a8ae9337c37a9000460ce535e40818f59876ba8", "url": "https://github.com/apache/netbeans/commit/3a8ae9337c37a9000460ce535e40818f59876ba8", "message": "Attempt to fix potential issue with NbLexerCharStream(s)", "committedDate": "2020-02-23T19:22:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDAzNDAzMA==", "url": "https://github.com/apache/netbeans/pull/1969#discussion_r384034030", "bodyText": "Independent of the implementation of the stack I would expect the push and pop operations to be the fastest operations. So instead of using the positional remove I'd use markers.pop() to remove the superfluous markers.\nApart from that I'm ok with the change - if I'm not mistaken the original implementation would skip every second marker while deleting.", "author": "matthiasblaesing", "createdAt": "2020-02-25T18:06:49Z", "path": "ide/css.lib/src/org/netbeans/modules/css/lib/nblexer/NbLexerCharStream.java", "diffHunk": "@@ -132,9 +132,9 @@ public void release(int marker) {\n         }\n         \n         //remove all markers from the given one, including the requested one\n-        for(int i = marker; i < markers.size(); i++) {\n-            markers.remove(i);\n-        }\n+        do {\n+            markers.remove(marker);\n+        } while (marker < markers.size());", "originalCommit": "3a8ae9337c37a9000460ce535e40818f59876ba8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY4ODA5MA==", "url": "https://github.com/apache/netbeans/pull/1969#discussion_r384688090", "bodyText": "Independent of the implementation of the stack I would expect the push and pop operations to be the fastest operations. So instead of using the positional remove I'd use markers.pop() to remove the superfluous markers.\n\ngood point, changed as suggested", "author": "Ihsahn", "createdAt": "2020-02-26T18:41:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDAzNDAzMA=="}], "type": "inlineReview"}, {"oid": "653f1b0f9db7f6737961eae3e7f0d0b9503d53c5", "url": "https://github.com/apache/netbeans/commit/653f1b0f9db7f6737961eae3e7f0d0b9503d53c5", "message": "Use pop instead of positional remove()", "committedDate": "2020-02-26T18:40:23Z", "type": "commit"}]}