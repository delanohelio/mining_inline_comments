{"pr_number": 2206, "pr_title": "[NETBEANS-4483] Fixed unit tests for Nette Tester", "pr_createdAt": "2020-06-20T21:46:58Z", "pr_url": "https://github.com/apache/netbeans/pull/2206", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUxNTQ4Mg==", "url": "https://github.com/apache/netbeans/pull/2206#discussion_r443515482", "bodyText": "And once more - cannot content.replace(\"%SEP%\", File.separator) be used?", "author": "tmysik", "createdAt": "2020-06-22T12:15:50Z", "path": "php/php.nette.tester/test/unit/src/org/netbeans/modules/php/nette/tester/coverage/CloverLogParserTest.java", "diffHunk": "@@ -98,7 +95,10 @@ private void fixContent(File file) throws Exception {\n         Path path = file.toPath();\n         Charset charset = StandardCharsets.UTF_8;\n         String content = new String(Files.readAllBytes(path), charset);\n-        content = content.replaceAll(\"%WORKDIR%\", getDataDir().getAbsolutePath());\n+        String workdirReplacement = Matcher.quoteReplacement(getDataDir().getAbsolutePath());\n+        content = content.replaceAll(\"%WORKDIR%\", workdirReplacement);\n+        String separatorReplacement = Matcher.quoteReplacement(File.separator);\n+        content = content.replaceAll(\"%SEP%\", separatorReplacement);", "originalCommit": "eeac7b2299fb1dd9b98d4b083747980a02e3ea1b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzc1NzEwNg==", "url": "https://github.com/apache/netbeans/pull/2206#discussion_r443757106", "bodyText": "Right, I changed it as you suggest.", "author": "KacerCZ", "createdAt": "2020-06-22T18:45:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUxNTQ4Mg=="}], "type": "inlineReview"}, {"oid": "691b880903620ee7a05949b5a0b9a9e624ba93eb", "url": "https://github.com/apache/netbeans/commit/691b880903620ee7a05949b5a0b9a9e624ba93eb", "message": "[NETBEANS-4483] Fixed unit tests for Nette Tester\n\nhttps://issues.apache.org/jira/browse/NETBEANS-4483\n\n- Directory separators had to be replaced with system-dependent value.\n- Because Windows use \\ as separator, replacement text has to be quoted.\n- Updated test to match line numbers after license change.\n- Enabled tests in Travis and Github Actions", "committedDate": "2020-06-22T18:44:03Z", "type": "commit"}, {"oid": "691b880903620ee7a05949b5a0b9a9e624ba93eb", "url": "https://github.com/apache/netbeans/commit/691b880903620ee7a05949b5a0b9a9e624ba93eb", "message": "[NETBEANS-4483] Fixed unit tests for Nette Tester\n\nhttps://issues.apache.org/jira/browse/NETBEANS-4483\n\n- Directory separators had to be replaced with system-dependent value.\n- Because Windows use \\ as separator, replacement text has to be quoted.\n- Updated test to match line numbers after license change.\n- Enabled tests in Travis and Github Actions", "committedDate": "2020-06-22T18:44:03Z", "type": "forcePushed"}]}