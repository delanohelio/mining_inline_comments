{"pr_number": 2149, "pr_title": "[NETBEANS-4337] Code Sniffer standard is optional", "pr_createdAt": "2020-05-20T20:16:33Z", "pr_url": "https://github.com/apache/netbeans/pull/2149", "timeline": [{"oid": "2e7a2e98a2908dbed3897565621073ef263b286f", "url": "https://github.com/apache/netbeans/commit/2e7a2e98a2908dbed3897565621073ef263b286f", "message": "[NETBEANS-4337] Code Sniffer standard is optional\n\nCode Sniffer can be run without parameter '--standard'. In that case it is\nlooking for configuration file in project root.", "committedDate": "2020-05-20T20:05:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429625548", "bodyText": "I'm not sure about keeping or removing this method.", "author": "KacerCZ", "createdAt": "2020-05-24T11:16:37Z", "path": "php/php.code.analysis/src/org/netbeans/modules/php/analysis/options/AnalysisOptionsValidator.java", "diffHunk": "@@ -73,7 +73,7 @@ public AnalysisOptionsValidator validateCodeSnifferPath(String codeSnifferPath)\n \n     @NbBundle.Messages(\"AnalysisOptionsValidator.codeSniffer.standard.empty=Valid code sniffer standard must be set.\")\n     public AnalysisOptionsValidator validateCodeSnifferStandard(String codeSnifferStandard) {", "originalCommit": "2e7a2e98a2908dbed3897565621073ef263b286f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3MDQzOA==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429870438", "bodyText": "You cannot remove it since it is still used in the file below. Try to remove it and compile the module.", "author": "tmysik", "createdAt": "2020-05-25T10:51:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3Mjk1Nw==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429872957", "bodyText": "Yes, now its used at more places.\nPesonally I would removed this method and all its usages, because I don't see any value testing if standard is not null as in other places null value is replaced by empty string.", "author": "KacerCZ", "createdAt": "2020-05-25T10:58:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg3MzQzOQ==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429873439", "bodyText": "Yes, now its used at more places.\nPersonally I would removed this method and all its usages, because I don't see any value testing if standard is not null. There are places where null is replaced by empty string.", "author": "KacerCZ", "createdAt": "2020-05-25T10:59:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4MTM2OA==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429881368", "bodyText": "If it worked, I would not be against such a change, of course :)", "author": "tmysik", "createdAt": "2020-05-25T11:21:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg4MTU5Mg==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429881592", "bodyText": "Maybe @junichi11 could also help here.", "author": "tmysik", "createdAt": "2020-05-25T11:21:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkwMzQ1MQ==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429903451", "bodyText": "There are places where null is replaced by empty string.\n\nWhere is it? (If you know it, you should write it.)", "author": "junichi11", "createdAt": "2020-05-25T12:15:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkwNDYwOQ==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429904609", "bodyText": "Here: \n  \n    \n      netbeans/php/php.code.analysis/src/org/netbeans/modules/php/analysis/options/AnalysisOptions.java\n    \n    \n         Line 96\n      in\n      ac4e72f\n    \n    \n    \n    \n\n        \n          \n           public void setCodeSnifferStandard(String standard) {", "author": "KacerCZ", "createdAt": "2020-05-25T12:18:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTkzNTU1MQ==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429935551", "bodyText": "Well, maybe we can't remove this. It can be null.\nSee\n\n  \n    \n      netbeans/php/php.code.analysis/src/org/netbeans/modules/php/analysis/options/AnalysisOptionsValidator.java\n    \n    \n        Lines 38 to 42\n      in\n      2e7a2e9\n    \n    \n    \n    \n\n        \n          \n           public AnalysisOptionsValidator validateCodeSniffer(String codeSnifferPath, String codeSnifferStandard) { \n        \n\n        \n          \n               validateCodeSnifferPath(codeSnifferPath); \n        \n\n        \n          \n               validateCodeSnifferStandard(codeSnifferStandard); \n        \n\n        \n          \n               return this; \n        \n\n        \n          \n           } \n        \n    \n  \n\n\n\n  \n    \n      netbeans/php/php.code.analysis/src/org/netbeans/modules/php/analysis/ui/options/CodeSnifferOptionsPanel.java\n    \n    \n         Line 187\n      in\n      ac4e72f\n    \n    \n    \n    \n\n        \n          \n           .validateCodeSniffer(getCodeSnifferPath(), getCodeSnifferStandard()) \n        \n    \n  \n\n\n\n  \n    \n      netbeans/php/php.code.analysis/src/org/netbeans/modules/php/analysis/ui/options/CodeSnifferOptionsPanel.java\n    \n    \n        Lines 121 to 127\n      in\n      ac4e72f\n    \n    \n    \n    \n\n        \n          \n           @CheckForNull \n        \n\n        \n          \n           public String getCodeSnifferStandard() { \n        \n\n        \n          \n               if (!codeSnifferStandardComboBox.isEnabled()) { \n        \n\n        \n          \n                   // fetching standards \n        \n\n        \n          \n                   return null; \n        \n\n        \n          \n               } \n        \n\n        \n          \n               return codeSnifferStandardsModel.getSelectedStandard();", "author": "junichi11", "createdAt": "2020-05-25T13:29:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTk0NTg3Mg==", "url": "https://github.com/apache/netbeans/pull/2149#discussion_r429945872", "bodyText": "OK, I'll leave the method as it is.", "author": "KacerCZ", "createdAt": "2020-05-25T13:51:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyNTU0OA=="}], "type": "inlineReview"}]}