{"pr_number": 8432, "pr_title": "SAK-44067: SAMIGO - Can't edit calculated questions with comma on the solution", "pr_createdAt": "2020-08-06T09:02:10Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8432", "timeline": [{"oid": "60ac6eaf3501c17e4f20c6300f3d51e399567dd9", "url": "https://github.com/sakaiproject/sakai/commit/60ac6eaf3501c17e4f20c6300f3d51e399567dd9", "message": "SAK-44067: SAMIGO - Can't edit calculated questions with comma on the solution", "committedDate": "2020-08-06T09:01:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMjY0Nw==", "url": "https://github.com/sakaiproject/sakai/pull/8432#discussion_r477512647", "bodyText": "Does the answer text always have a pipe separator? Do we need a length check on this array?", "author": "adrianfish", "createdAt": "2020-08-26T18:46:57Z", "path": "samigo/samigo-app/src/java/org/sakaiproject/tool/assessment/ui/listener/author/ItemModifyListener.java", "diffHunk": "@@ -748,9 +748,11 @@ private void populateItemTextForCalculatedQuestion(ItemAuthorBean itemauthorbean\n               for (AnswerIfc answer : answers) {\n                   if (answer.getIsCorrect()) {\n                       String text = answer.getText();\n-                      String min = text.substring(0, text.indexOf(\"|\"));\n-                      String max = text.substring(text.indexOf(\"|\") + 1, text.indexOf(\",\"));\n-                      String decimalPlaces = text.substring(text.indexOf(\",\") + 1);              \n+                      String[] partsText = text.split(\"\\\\|\");\n+                      String min = partsText[0];", "originalCommit": "60ac6eaf3501c17e4f20c6300f3d51e399567dd9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "94b7ee9fce2d35d614b0a83c83cf37bee8551bda", "url": "https://github.com/sakaiproject/sakai/commit/94b7ee9fce2d35d614b0a83c83cf37bee8551bda", "message": "Added some protection for null arrays", "committedDate": "2020-08-28T12:33:28Z", "type": "commit"}]}