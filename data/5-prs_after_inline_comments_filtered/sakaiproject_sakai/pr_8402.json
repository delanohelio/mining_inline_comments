{"pr_number": 8402, "pr_title": "SAK-43981: Library/Portal Dark theme and theme switcher", "pr_createdAt": "2020-07-28T14:14:07Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/8402", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY1MjE3Nw==", "url": "https://github.com/sakaiproject/sakai/pull/8402#discussion_r461652177", "bodyText": "Whitespace is a little off here", "author": "bjones86", "createdAt": "2020-07-28T15:00:37Z", "path": "portal/portal-impl/impl/src/java/org/sakaiproject/portal/charon/SkinnableCharonPortal.java", "diffHunk": "@@ -1736,7 +1738,11 @@ public void includeBottom(PortalRenderContext rcontext, Site site)\n                         \t\t\tlog.error(e1.getMessage(), e1);\n                         \t\t}\n                         \t}\n-                        }\n+\t\t\t\t\t\t}\n+\t\t\t\t\t\t\n+\t\t\t\t\t\tif(sakaiThemeSwitcherEnabled) {\n+\t\t\t\t\t\t\trcontext.put(\"themeSwitcher\", true);\n+\t\t\t\t\t\t}", "originalCommit": "b4d8928eabea92bc82909b09daf552505a8ce74c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY1MjgwMQ==", "url": "https://github.com/sakaiproject/sakai/pull/8402#discussion_r461652801", "bodyText": "This can be reduced to one line:\nrenderContextMap.put(\"themeSwitcher\", serverConfigurationService.getBoolean(\"portal.themeswitcher\", true));", "author": "bjones86", "createdAt": "2020-07-28T15:01:27Z", "path": "portal/portal-impl/impl/src/java/org/sakaiproject/portal/charon/site/DefaultSiteViewImpl.java", "diffHunk": "@@ -164,6 +164,11 @@ public Object getRenderContextObject()\n \t\t} else {\n \t\t\trenderContextMap.put(\"tutorial\", false);\n \t\t}\n+\t\tif (serverConfigurationService.getBoolean(\"portal.themeswitcher\", true)) {\n+\t\t\trenderContextMap.put(\"themeSwitcher\", true);\n+\t\t} else {\n+\t\t\trenderContextMap.put(\"themeSwitcher\", false);\n+\t\t}", "originalCommit": "b4d8928eabea92bc82909b09daf552505a8ce74c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY1MzE5Nw==", "url": "https://github.com/sakaiproject/sakai/pull/8402#discussion_r461653197", "bodyText": "Same here, one line:\nrenderContextMap.put(\"themeSwitcher\", serverConfigurationService.getBoolean(\"portal.themeswitcher\", true));", "author": "bjones86", "createdAt": "2020-07-28T15:02:02Z", "path": "portal/portal-impl/impl/src/java/org/sakaiproject/portal/charon/site/MoreSiteViewImpl.java", "diffHunk": "@@ -181,6 +181,11 @@ public Object getRenderContextObject()\n \t\t} else {\n \t\t\trenderContextMap.put(\"tutorial\", false);\n \t\t}\n+\t\tif (serverConfigurationService.getBoolean(\"portal.themeswitcher\", true)) {\n+\t\t\trenderContextMap.put(\"themeSwitcher\", true);\n+\t\t} else {\n+\t\t\trenderContextMap.put(\"themeSwitcher\", false);\n+\t\t}", "originalCommit": "b4d8928eabea92bc82909b09daf552505a8ce74c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bb516ace7c7d15bb06282fd036bea7893aebc50f", "url": "https://github.com/sakaiproject/sakai/commit/bb516ace7c7d15bb06282fd036bea7893aebc50f", "message": "SAK-43981 WIP", "committedDate": "2020-08-27T16:25:52Z", "type": "commit"}, {"oid": "b23c2be34f194627c469e5173b2c2549f7634b06", "url": "https://github.com/sakaiproject/sakai/commit/b23c2be34f194627c469e5173b2c2549f7634b06", "message": "SAK-43981 WIP", "committedDate": "2020-08-27T16:25:52Z", "type": "commit"}, {"oid": "b6cfe1d8c8843dbec07b5e3234534b097610ff5f", "url": "https://github.com/sakaiproject/sakai/commit/b6cfe1d8c8843dbec07b5e3234534b097610ff5f", "message": "SAK43981 WIP", "committedDate": "2020-08-27T16:25:52Z", "type": "commit"}, {"oid": "9d427e969d3dc47dc35588436cf459784cf70fdd", "url": "https://github.com/sakaiproject/sakai/commit/9d427e969d3dc47dc35588436cf459784cf70fdd", "message": "SAK-43981 WIP", "committedDate": "2020-08-27T16:25:52Z", "type": "commit"}, {"oid": "1007bf39bb624304f0dd57a7af2f59b9dc28314d", "url": "https://github.com/sakaiproject/sakai/commit/1007bf39bb624304f0dd57a7af2f59b9dc28314d", "message": "SAK-43981 WIP move all theme related styles to css custom properties", "committedDate": "2020-08-28T17:21:17Z", "type": "commit"}, {"oid": "342741c2395e5b2abcc3d219c1765db78ee3e2c2", "url": "https://github.com/sakaiproject/sakai/commit/342741c2395e5b2abcc3d219c1765db78ee3e2c2", "message": "SAK-43981 WIP documentation and color clean up in light theme", "committedDate": "2020-08-28T20:10:27Z", "type": "commit"}, {"oid": "342741c2395e5b2abcc3d219c1765db78ee3e2c2", "url": "https://github.com/sakaiproject/sakai/commit/342741c2395e5b2abcc3d219c1765db78ee3e2c2", "message": "SAK-43981 WIP documentation and color clean up in light theme", "committedDate": "2020-08-28T20:10:27Z", "type": "forcePushed"}, {"oid": "593171273b5487ae9c8f0e5a0d7545b1c54bbb94", "url": "https://github.com/sakaiproject/sakai/commit/593171273b5487ae9c8f0e5a0d7545b1c54bbb94", "message": "SAK-43981 Library/Portal dark/light theme switchter", "committedDate": "2020-09-01T02:20:11Z", "type": "commit"}]}