{"pr_number": 7737, "pr_title": "SAK-42917 fix remaining places in signup tool where improper date formats are used ", "pr_createdAt": "2020-01-03T17:42:20Z", "pr_url": "https://github.com/sakaiproject/sakai/pull/7737", "timeline": [{"oid": "db5e92a9375f307e60bee3bc23aac0e5829e58ae", "url": "https://github.com/sakaiproject/sakai/commit/db5e92a9375f307e60bee3bc23aac0e5829e58ae", "message": "SAK-42917 fix remaining places in signup tool where improper date formats are used", "committedDate": "2020-01-02T21:36:26Z", "type": "commit"}, {"oid": "5732b5110283e53962029f5b67465f89932697e9", "url": "https://github.com/sakaiproject/sakai/commit/5732b5110283e53962029f5b67465f89932697e9", "message": "SAK-42917 signup consistent respect of user's preferred timezone when authoring and viewing", "committedDate": "2020-01-03T17:40:35Z", "type": "commit"}, {"oid": "197950904f673a057af97d71c3b5f7cefda610e2", "url": "https://github.com/sakaiproject/sakai/commit/197950904f673a057af97d71c3b5f7cefda610e2", "message": "SAK-42917 fix auto-generated method from Eclipse", "committedDate": "2020-01-03T17:42:50Z", "type": "commit"}, {"oid": "28afa8616aae5aabafbfee38db3763ae149cfc3e", "url": "https://github.com/sakaiproject/sakai/commit/28afa8616aae5aabafbfee38db3763ae149cfc3e", "message": "Fix some tabs", "committedDate": "2020-01-03T17:45:12Z", "type": "commit"}, {"oid": "4dbf06cd001bcf636bb66cfe1e9940a51eafac54", "url": "https://github.com/sakaiproject/sakai/commit/4dbf06cd001bcf636bb66cfe1e9940a51eafac54", "message": "More tabs", "committedDate": "2020-01-03T17:47:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzM3NDk3Nw==", "url": "https://github.com/sakaiproject/sakai/pull/7737#discussion_r363374977", "bodyText": "Does it make sense to add another param that depicts the requested format of\n{short, medium, long}\nThis prevents api from increasing every time another option is needed.\nHave a look at the enum java.time.temporal.ChronoUnit to get an idea of how this could be done.\nessentially you would have:\nenum FormatUnit {\n\tSHORT(\"Short\", 0),\n\tMEDIUM(\"Medium\", 1),\n\tLONG(\"Long\", 2),\n}\n\nThis would allow for simpler concise methods:\npublic String timeFormat(Date date, Locale locale, FormatUnit format);\npublic String dateFormat(Date date, Locale locale, FormatUnit format);\npublic String dateTimeFormat(Date date, Locale locale, FormatUnit format);", "author": "ern", "createdAt": "2020-01-06T16:38:34Z", "path": "kernel/api/src/main/java/org/sakaiproject/time/api/UserTimeService.java", "diffHunk": "@@ -34,17 +34,89 @@\n      * @return true if successful\n      */\n     boolean clearLocalTimeZone(String userId);\n-    \n+\n+    /**\n+     * Gets the time formatter with the given formatting style in the user's locale and preferred timezone.\n+     * @param date\n+     * @param locale\n+     * @return\n+     */\n+    public String  timeFormatShort(Date date, Locale locale);", "originalCommit": "4dbf06cd001bcf636bb66cfe1e9940a51eafac54", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzM3ODk1MQ==", "url": "https://github.com/sakaiproject/sakai/pull/7737#discussion_r363378951", "bodyText": "For sure it's cleaner to have a single method, but then you need to change lots of tool code buried in JSPs and do lots of regression testing. I added new methods to avoid massive tool changes.", "author": "ottenhoff", "createdAt": "2020-01-06T16:47:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzM3NDk3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU4NjUyOQ==", "url": "https://github.com/sakaiproject/sakai/pull/7737#discussion_r363586529", "bodyText": "If you want to keep the existing methods working (to avoid massive tool changes) then forward the older methods to the newer ones and mark them as deprecated. Also if you worried about regressions unit tests will eliminate those concerns as well.", "author": "ern", "createdAt": "2020-01-07T04:23:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzM3NDk3Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg3MjMxMw==", "url": "https://github.com/sakaiproject/sakai/pull/7737#discussion_r363872313", "bodyText": "Tool changes are way less than I thought. Will update this PR shortly with changes.", "author": "ottenhoff", "createdAt": "2020-01-07T17:53:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzM3NDk3Nw=="}], "type": "inlineReview"}, {"oid": "ea94fe7bcc549430fd95b0f4a05d75e2b7afc2e9", "url": "https://github.com/sakaiproject/sakai/commit/ea94fe7bcc549430fd95b0f4a05d75e2b7afc2e9", "message": "SAK-42917 convert to single methods per ern", "committedDate": "2020-01-07T18:06:52Z", "type": "commit"}, {"oid": "e5300c90d251261440e393f8627f6e629ae8dbea", "url": "https://github.com/sakaiproject/sakai/commit/e5300c90d251261440e393f8627f6e629ae8dbea", "message": "SAK-42917 unimplemented methods", "committedDate": "2020-01-07T20:38:25Z", "type": "commit"}, {"oid": "d4f4d894b4a60352a062218a4277cf16a3439bfd", "url": "https://github.com/sakaiproject/sakai/commit/d4f4d894b4a60352a062218a4277cf16a3439bfd", "message": "SAK-42917 more unimplemented methods for tests", "committedDate": "2020-01-07T20:53:08Z", "type": "commit"}, {"oid": "b3681c54b1d26cbfb2809dbb49a677d6c65f5fb7", "url": "https://github.com/sakaiproject/sakai/commit/b3681c54b1d26cbfb2809dbb49a677d6c65f5fb7", "message": "java.text.DateFormat.LONG was not working inside VM", "committedDate": "2020-01-08T22:36:14Z", "type": "commit"}]}