{"pr_number": 1960, "pr_title": "Fix/prepared statement", "pr_createdAt": "2020-10-15T09:33:43Z", "pr_url": "https://github.com/telefonicaid/fiware-cygnus/pull/1960", "timeline": [{"oid": "eb0b66930473f456943bd46d37d28ff8f8cf2957", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/eb0b66930473f456943bd46d37d28ff8f8cf2957", "message": "add values for insert methods", "committedDate": "2020-10-15T07:26:45Z", "type": "commit"}, {"oid": "c7f8dab92a2b7b310d9631ae090b84c153c2b115", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/c7f8dab92a2b7b310d9631ae090b84c153c2b115", "message": "update tests to build query as string", "committedDate": "2020-10-15T08:13:32Z", "type": "commit"}, {"oid": "60215301c7910f1a0539b74f1d482efe99f5b1dd", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/60215301c7910f1a0539b74f1d482efe99f5b1dd", "message": "remove addjson methods", "committedDate": "2020-10-15T08:14:02Z", "type": "commit"}, {"oid": "03d49e1c624f9b4a4078fdc183e4ac64cc260540", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/03d49e1c624f9b4a4078fdc183e4ac64cc260540", "message": "add nativetypes flags", "committedDate": "2020-10-15T08:15:15Z", "type": "commit"}, {"oid": "719c8444e962247e05b58facaacb6eb7754f2703", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/719c8444e962247e05b58facaacb6eb7754f2703", "message": "update backend", "committedDate": "2020-10-15T08:19:35Z", "type": "commit"}, {"oid": "62d6451479608005a361801a6f34e522a82d9af6", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/62d6451479608005a361801a6f34e522a82d9af6", "message": "update upsert transaction", "committedDate": "2020-10-15T09:12:22Z", "type": "commit"}, {"oid": "88eb605909d69442eca2317e346cc5ff842ca767", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/88eb605909d69442eca2317e346cc5ff842ca767", "message": "add CNR entry", "committedDate": "2020-10-15T09:24:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ2ODE0MQ==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1960#discussion_r505468141", "bodyText": "CNR entry (with reference to issue number, if we have some) should be included.", "author": "fgalan", "createdAt": "2020-10-15T11:30:50Z", "path": "cygnus-common/src/main/java/com/telefonica/iot/cygnus/backends/sql/SQLBackendImpl.java", "diffHunk": "@@ -581,12 +581,21 @@ public void upsertTransaction (LinkedHashMap<String, ArrayList<JsonElement>> agg\n             String insertQuery = SQLQueryUtils.sqlInsertQuery(aggregation,", "originalCommit": "62d6451479608005a361801a6f34e522a82d9af6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU1MzgzNA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1960#discussion_r505553834", "bodyText": "Fixed in 2f9140f", "author": "IvanHdzC", "createdAt": "2020-10-15T13:44:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ2ODE0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ2ODg4NA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1960#discussion_r505468884", "bodyText": "Maybe this FIXME should mention an issue number? Is this related with #1959?", "author": "fgalan", "createdAt": "2020-10-15T11:32:16Z", "path": "cygnus-common/src/main/java/com/telefonica/iot/cygnus/backends/sql/SQLBackendImpl.java", "diffHunk": "@@ -581,12 +581,21 @@ public void upsertTransaction (LinkedHashMap<String, ArrayList<JsonElement>> agg\n             String insertQuery = SQLQueryUtils.sqlInsertQuery(aggregation,\n                     tableName,\n                     sqlInstance,\n-                    destination).toString();\n+                    destination,\n+                    attrNativeTypes).toString();\n \n-            PreparedStatement insertStatement = null;\n+            PreparedStatement insertStatement;\n             insertStatement = connection.prepareStatement(insertQuery);\n+            /*\n+\n+            FIXME", "originalCommit": "62d6451479608005a361801a6f34e522a82d9af6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ2ODk2Ng==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1960#discussion_r505468966", "bodyText": "(Same in the other FIXME below)", "author": "fgalan", "createdAt": "2020-10-15T11:32:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ2ODg4NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU1NDExMA==", "url": "https://github.com/telefonicaid/fiware-cygnus/pull/1960#discussion_r505554110", "bodyText": "Fixed in 6405c46", "author": "IvanHdzC", "createdAt": "2020-10-15T13:44:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ2ODg4NA=="}], "type": "inlineReview"}, {"oid": "6405c4618697b38182c45733d38268d817e903fd", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/6405c4618697b38182c45733d38268d817e903fd", "message": "add fixme notes", "committedDate": "2020-10-15T13:39:36Z", "type": "commit"}, {"oid": "2f9140fe589e08bee19e85ea1daeca198e1e0f97", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/2f9140fe589e08bee19e85ea1daeca198e1e0f97", "message": "update CNR entry", "committedDate": "2020-10-15T13:40:53Z", "type": "commit"}, {"oid": "17729c232e3178154185c00f1d7ac4ef202e4c1b", "url": "https://github.com/telefonicaid/fiware-cygnus/commit/17729c232e3178154185c00f1d7ac4ef202e4c1b", "message": "Merge branch 'master' into fix/prepared_statement", "committedDate": "2020-10-15T13:42:36Z", "type": "commit"}]}