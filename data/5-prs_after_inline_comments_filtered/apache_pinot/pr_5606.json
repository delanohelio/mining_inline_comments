{"pr_number": 5606, "pr_title": "[TE] migrate logging from logback to log4j2", "pr_createdAt": "2020-06-23T00:15:36Z", "pr_url": "https://github.com/apache/pinot/pull/5606", "timeline": [{"oid": "e98f836d29ccdce8f624f9a85a151e0801d4f61b", "url": "https://github.com/apache/pinot/commit/e98f836d29ccdce8f624f9a85a151e0801d4f61b", "message": "[TE] migrate logging from logback to log4j2", "committedDate": "2020-06-23T00:05:32Z", "type": "commit"}, {"oid": "b272c77197d479ef24cb0cb268bf11cc9dce75a4", "url": "https://github.com/apache/pinot/commit/b272c77197d479ef24cb0cb268bf11cc9dce75a4", "message": "recover RCAFrameworkRunner", "committedDate": "2020-06-24T22:29:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIzMjc2NQ==", "url": "https://github.com/apache/pinot/pull/5606#discussion_r445232765", "bodyText": "Can't we set the log level in log4j2?", "author": "akshayrai", "createdAt": "2020-06-24T23:51:17Z", "path": "thirdeye/thirdeye-pinot/src/main/java/org/apache/pinot/thirdeye/rootcause/impl/RCAFrameworkRunner.java", "diffHunk": "@@ -124,23 +115,6 @@ public static void main(String[] args) throws Exception {\n       System.exit(1);\n     }\n \n-    // runtime logger config\n-    setLogger(Logger.ROOT_LOGGER_NAME, Level.INFO);\n-\n-    if (cmd.hasOption(CLI_LOG))\n-      setLogger(Logger.ROOT_LOGGER_NAME, Level.valueOf(cmd.getOptionValue(CLI_LOG)));\n-    if (cmd.hasOption(CLI_LOG_DEBUG))\n-      setLogger(cmd.getOptionValue(CLI_LOG_DEBUG), Level.DEBUG);\n-    if (cmd.hasOption(CLI_LOG_INFO))\n-      setLogger(cmd.getOptionValue(CLI_LOG_INFO), Level.INFO);\n-    if (cmd.hasOption(CLI_LOG_WARN))\n-      setLogger(cmd.getOptionValue(CLI_LOG_WARN), Level.WARN);\n-    if (cmd.hasOption(CLI_LOG_ERROR))\n-      setLogger(cmd.getOptionValue(CLI_LOG_ERROR), Level.ERROR);\n-\n-    if(cmd.hasOption(CLI_VERBOSE))", "originalCommit": "b272c77197d479ef24cb0cb268bf11cc9dce75a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIzNDE4MQ==", "url": "https://github.com/apache/pinot/pull/5606#discussion_r445234181", "bodyText": "We are using slf4j for logger across the codebase and there is no way to set the log level in runtime with slf4j. Also, this class is standalone and actually never uses any logger inside. If we want to set the log level, we can always specify log4j2 config when run this class, which is common practice for log4j2.", "author": "vincentchenjl", "createdAt": "2020-06-24T23:55:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIzMjc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIzNTc5OA==", "url": "https://github.com/apache/pinot/pull/5606#discussion_r445235798", "bodyText": "Thanks. Got it. Can you remove the variable declarations as well?\n  private static final String CLI_LOG_DEBUG = \"log-debug\";\n  private static final String CLI_LOG_INFO = \"log-info\";\n  private static final String CLI_LOG_WARN = \"log-warn\";\n  private static final String CLI_LOG_ERROR = \"log-error\";```", "author": "akshayrai", "createdAt": "2020-06-25T00:01:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIzMjc2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIzODI3MA==", "url": "https://github.com/apache/pinot/pull/5606#discussion_r445238270", "bodyText": "Done.", "author": "vincentchenjl", "createdAt": "2020-06-25T00:10:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIzMjc2NQ=="}], "type": "inlineReview"}, {"oid": "1344145afa89b6ac6d6e97fea60667b2f7d2705c", "url": "https://github.com/apache/pinot/commit/1344145afa89b6ac6d6e97fea60667b2f7d2705c", "message": "address comments", "committedDate": "2020-06-25T00:09:10Z", "type": "commit"}]}