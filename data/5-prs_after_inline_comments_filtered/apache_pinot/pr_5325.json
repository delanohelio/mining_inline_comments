{"pr_number": 5325, "pr_title": "In SegmentPurger, use table config to generate the segment", "pr_createdAt": "2020-05-01T20:43:44Z", "pr_url": "https://github.com/apache/pinot/pull/5325", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc1MTI1OQ==", "url": "https://github.com/apache/pinot/pull/5325#discussion_r418751259", "bodyText": "+1 for this!\nI thought of fetching table config calling controller API. This approach is much simpler :)", "author": "snleee", "createdAt": "2020-05-01T21:44:36Z", "path": "pinot-minion/src/main/java/org/apache/pinot/minion/MinionContext.java", "diffHunk": "@@ -39,7 +41,7 @@ public static MinionContext getInstance() {\n \n   private File _dataDir;\n   private MinionMetrics _minionMetrics;\n-  private String _minionVersion;\n+  private ZkHelixPropertyStore<ZNRecord> _helixPropertyStore;", "originalCommit": "df1f03f2b78144ae7e1d4a3116416dba7681db52", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4db2ecd0eb2ca941677576c656002ff280b7e7aa", "url": "https://github.com/apache/pinot/commit/4db2ecd0eb2ca941677576c656002ff280b7e7aa", "message": "In SegmentPurger, use table config to generate the segment\n\nAll the indexing and partition info are stored in the table config.\nWithout the table config, purged segment will lose the indexing and partition info, which could cause performance issue.\n\nIn the following pr, we will enforce all segment creation to provide table config and schema to guarantee the consistent behavior.", "committedDate": "2020-05-01T22:08:10Z", "type": "commit"}, {"oid": "4db2ecd0eb2ca941677576c656002ff280b7e7aa", "url": "https://github.com/apache/pinot/commit/4db2ecd0eb2ca941677576c656002ff280b7e7aa", "message": "In SegmentPurger, use table config to generate the segment\n\nAll the indexing and partition info are stored in the table config.\nWithout the table config, purged segment will lose the indexing and partition info, which could cause performance issue.\n\nIn the following pr, we will enforce all segment creation to provide table config and schema to guarantee the consistent behavior.", "committedDate": "2020-05-01T22:08:10Z", "type": "forcePushed"}]}