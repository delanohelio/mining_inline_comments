{"pr_number": 6087, "pr_title": "Fix StarTreeClusterIntegrationTest by not removing the segments", "pr_createdAt": "2020-10-01T03:53:41Z", "pr_url": "https://github.com/apache/pinot/pull/6087", "timeline": [{"oid": "e606b949067af429a5c3f11251a4b2eb3dcb196a", "url": "https://github.com/apache/pinot/commit/e606b949067af429a5c3f11251a4b2eb3dcb196a", "message": "Fix StarTreeClusterIntegrationTest by not removing the segments", "committedDate": "2020-10-01T03:52:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk3MDAyOA==", "url": "https://github.com/apache/pinot/pull/6087#discussion_r497970028", "bodyText": "shall this be starTreeTableTarDir or it doesn't matter?", "author": "xiangfu0", "createdAt": "2020-10-01T03:56:44Z", "path": "pinot-integration-tests/src/test/java/org/apache/pinot/integration/tests/StarTreeClusterIntegrationTest.java", "diffHunk": "@@ -135,14 +140,15 @@ public void setUp()\n     List<File> avroFiles = unpackAvroData(_tempDir);\n \n     // Create and upload segments\n-    ClusterIntegrationTestUtils.buildSegmentsFromAvro(avroFiles, defaultTableConfig, schema, 0, _segmentDir, _tarDir);\n-    uploadSegments(DEFAULT_TABLE_NAME, _tarDir);\n-    TestUtils.ensureDirectoriesExistAndEmpty(_segmentDir, _tarDir);\n-    ClusterIntegrationTestUtils.buildSegmentsFromAvro(avroFiles, starTreeTableConfig, schema, 0, _segmentDir, _tarDir);\n-    uploadSegments(STAR_TREE_TABLE_NAME, _tarDir);\n+    ClusterIntegrationTestUtils\n+        .buildSegmentsFromAvro(avroFiles, defaultTableConfig, schema, 0, defaultTableSegmentDir, defaultTableTarDir);\n+    uploadSegments(DEFAULT_TABLE_NAME, defaultTableTarDir);\n+    ClusterIntegrationTestUtils\n+        .buildSegmentsFromAvro(avroFiles, starTreeTableConfig, schema, 0, starTreeTableSegmentDir, starTreeTableTarDir);\n+    uploadSegments(STAR_TREE_TABLE_NAME, starTreeTableTarDir);\n \n     // Set up the query generators\n-    SegmentInfoProvider segmentInfoProvider = new SegmentInfoProvider(_tarDir.getPath());", "originalCommit": "e606b949067af429a5c3f11251a4b2eb3dcb196a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk3MDA5NA==", "url": "https://github.com/apache/pinot/pull/6087#discussion_r497970094", "bodyText": "It doesn't matter", "author": "Jackie-Jiang", "createdAt": "2020-10-01T03:57:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzk3MDAyOA=="}], "type": "inlineReview"}]}