{"pr_number": 14389, "pr_title": "[FLINK-20528][python] Add Python building blocks to make sure the basic functionality of Stream Group Table Aggregation could work", "pr_createdAt": "2020-12-15T09:59:14Z", "pr_url": "https://github.com/apache/flink/pull/14389", "timeline": [{"oid": "3027c25e19dbb51b9f96738959e043411fabff57", "url": "https://github.com/apache/flink/commit/3027c25e19dbb51b9f96738959e043411fabff57", "message": "[FLINK-20528][python] Add Python building blocks to make sure the basic functionality of Stream Group Table Aggregation could work", "committedDate": "2020-12-16T02:28:19Z", "type": "commit"}, {"oid": "3027c25e19dbb51b9f96738959e043411fabff57", "url": "https://github.com/apache/flink/commit/3027c25e19dbb51b9f96738959e043411fabff57", "message": "[FLINK-20528][python] Add Python building blocks to make sure the basic functionality of Stream Group Table Aggregation could work", "committedDate": "2020-12-16T02:28:19Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDA1NzAyNQ==", "url": "https://github.com/apache/flink/pull/14389#discussion_r544057025", "bodyText": "What's the purpose of this change?", "author": "dianfu", "createdAt": "2020-12-16T07:09:04Z", "path": "flink-python/src/main/java/org/apache/flink/table/runtime/operators/python/aggregate/PythonStreamGroupTableAggregateOperator.java", "diffHunk": "@@ -39,30 +37,19 @@\n \t@VisibleForTesting\n \tprotected static final String STREAM_GROUP_TABLE_AGGREGATE_URN = \"flink:transform:stream_group_table_aggregate:v1\";\n \n-\tprivate final PythonAggregateFunctionInfo aggregateFunction;\n-\n-\tprivate final DataViewUtils.DataViewSpec[] dataViewSpecs;\n-\n \tpublic PythonStreamGroupTableAggregateOperator(\n \t\tConfiguration config,\n \t\tRowType inputType,\n \t\tRowType outputType,\n-\t\tPythonAggregateFunctionInfo aggregateFunction,", "originalCommit": "3027c25e19dbb51b9f96738959e043411fabff57", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDA2Nzc5OA==", "url": "https://github.com/apache/flink/pull/14389#discussion_r544067798", "bodyText": "When there are multiple flat_maps, an additional PythonAggregateFunctionInfo of count(*) will be added to handle the situation of retract.", "author": "HuangXingBo", "createdAt": "2020-12-16T07:21:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDA1NzAyNQ=="}], "type": "inlineReview"}, {"oid": "c9a42ef2b9b8c865242fed422050db94466840dd", "url": "https://github.com/apache/flink/commit/c9a42ef2b9b8c865242fed422050db94466840dd", "message": "fix comments", "committedDate": "2020-12-16T07:38:56Z", "type": "commit"}]}