{"pr_number": 12496, "pr_title": "[FLINK-18110][fs-connector] StreamingFileSink notifies for buckets detected to be inactive on restoring", "pr_createdAt": "2020-06-05T03:52:48Z", "pr_url": "https://github.com/apache/flink/pull/12496", "timeline": [{"oid": "18db5ae4db2c5284bf0530c60e05f02be3a40d19", "url": "https://github.com/apache/flink/commit/18db5ae4db2c5284bf0530c60e05f02be3a40d19", "message": "[FLINK-18110][fs-connector] StreamingFileSink notifies for buckets detected to be inactive on restoring", "committedDate": "2020-06-05T03:48:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc3Mjk1Mg==", "url": "https://github.com/apache/flink/pull/12496#discussion_r435772952", "bodyText": "Add a method: inactiveBucket(Bucket<IN, BucketID>)?", "author": "JingsongLi", "createdAt": "2020-06-05T08:36:13Z", "path": "flink-streaming-java/src/main/java/org/apache/flink/streaming/api/functions/sink/filesystem/Buckets.java", "diffHunk": "@@ -187,6 +187,10 @@ private void handleRestoredBucketState(final BucketState<BucketID> recoveredStat\n \n \tprivate void updateActiveBucketId(final BucketID bucketId, final Bucket<IN, BucketID> restoredBucket) throws IOException {\n \t\tif (!restoredBucket.isActive()) {\n+\t\t\tif (bucketLifeCycleListener != null) {", "originalCommit": "18db5ae4db2c5284bf0530c60e05f02be3a40d19", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjM0MTQ3OQ==", "url": "https://github.com/apache/flink/pull/12496#discussion_r436341479", "bodyText": "Extracted the common notifyBucketCreate and notifyBucketInactive method.", "author": "gaoyunhaii", "createdAt": "2020-06-07T09:02:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc3Mjk1Mg=="}], "type": "inlineReview"}, {"oid": "ecd96fe843f4aa45178e54bcdb2cb1e3f8ff831b", "url": "https://github.com/apache/flink/commit/ecd96fe843f4aa45178e54bcdb2cb1e3f8ff831b", "message": "Extract common method", "committedDate": "2020-06-07T09:01:46Z", "type": "commit"}]}