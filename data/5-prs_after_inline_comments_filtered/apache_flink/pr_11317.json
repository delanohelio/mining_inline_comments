{"pr_number": 11317, "pr_title": "[FLINK-16433][table-api] TableEnvironmentImpl doesn't clear\u2026", "pr_createdAt": "2020-03-05T09:49:31Z", "pr_url": "https://github.com/apache/flink/pull/11317", "timeline": [{"oid": "9c6d3fcae177e05bba552a967d0cf75587412693", "url": "https://github.com/apache/flink/commit/9c6d3fcae177e05bba552a967d0cf75587412693", "message": "[FLINK-16433][table-api] TableEnvironmentImpl doesn't clear buffered operations when it fails to translate the operation", "committedDate": "2020-03-05T09:51:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI5NTEwMQ==", "url": "https://github.com/apache/flink/pull/11317#discussion_r390295101", "bodyText": "add some comments in TableEnvironment#execute to explain the buffer clear behavior", "author": "godfreyhe", "createdAt": "2020-03-10T13:01:29Z", "path": "flink-table/flink-table-api-java/src/main/java/org/apache/flink/table/api/internal/TableEnvironmentImpl.java", "diffHunk": "@@ -723,8 +723,11 @@ public TableConfig getConfig() {\n \n \t@Override\n \tpublic JobExecutionResult execute(String jobName) throws Exception {\n-\t\ttranslate(bufferedModifyOperations);\n-\t\tbufferedModifyOperations.clear();\n+\t\ttry {", "originalCommit": "6cb26ab23d18cd85dda0501861873fa9382332ff", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg0NzA4OQ==", "url": "https://github.com/apache/flink/pull/11317#discussion_r390847089", "bodyText": "I think it's better add the comments to the TableEnvironment interface which could help the users to understand the behavior from API level.", "author": "godfreyhe", "createdAt": "2020-03-11T09:39:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI5NTEwMQ=="}], "type": "inlineReview"}, {"oid": "1592dcea466941555f1f16fd2172b1ee2f196783", "url": "https://github.com/apache/flink/commit/1592dcea466941555f1f16fd2172b1ee2f196783", "message": "address comments", "committedDate": "2020-03-11T06:35:51Z", "type": "forcePushed"}, {"oid": "654c2709eb7b26d12212347e6b9f779a9b7824d0", "url": "https://github.com/apache/flink/commit/654c2709eb7b26d12212347e6b9f779a9b7824d0", "message": "[FLINK-16433][table-api] TableEnvironmentImpl doesn't clear buffered operations when it fails to translate the operation", "committedDate": "2020-03-11T12:24:44Z", "type": "commit"}, {"oid": "e9b84502f4512e0eda1847abf0b6f076a65bd5bf", "url": "https://github.com/apache/flink/commit/e9b84502f4512e0eda1847abf0b6f076a65bd5bf", "message": "make sure exception is triggered", "committedDate": "2020-03-11T12:24:44Z", "type": "commit"}, {"oid": "8ff8370c3ff065556fd1889ebefb23aca2161515", "url": "https://github.com/apache/flink/commit/8ff8370c3ff065556fd1889ebefb23aca2161515", "message": "address comments", "committedDate": "2020-03-11T12:26:29Z", "type": "commit"}, {"oid": "6b044fa7bc048d0f2381eb80f438bdf0db00bd56", "url": "https://github.com/apache/flink/commit/6b044fa7bc048d0f2381eb80f438bdf0db00bd56", "message": "minor", "committedDate": "2020-03-11T12:45:33Z", "type": "commit"}, {"oid": "6b044fa7bc048d0f2381eb80f438bdf0db00bd56", "url": "https://github.com/apache/flink/commit/6b044fa7bc048d0f2381eb80f438bdf0db00bd56", "message": "minor", "committedDate": "2020-03-11T12:45:33Z", "type": "forcePushed"}, {"oid": "3bfc593562df2a1b7026ea7474c558edd0472566", "url": "https://github.com/apache/flink/commit/3bfc593562df2a1b7026ea7474c558edd0472566", "message": "update doc", "committedDate": "2020-03-12T02:28:08Z", "type": "commit"}]}