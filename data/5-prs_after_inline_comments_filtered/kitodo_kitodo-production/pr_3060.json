{"pr_number": 3060, "pr_title": "Display information about process hierarchy", "pr_createdAt": "2020-01-16T16:09:45Z", "pr_url": "https://github.com/kitodo/kitodo-production/pull/3060", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg0NjgxMg==", "url": "https://github.com/kitodo/kitodo-production/pull/3060#discussion_r367846812", "bodyText": "Please write a method ProcessService.getNumberOfChildren(process)\nwhich is calling the ProcessDAO to count on database", "author": "Kathrin-Huber", "createdAt": "2020-01-17T09:43:19Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/ProcessForm.java", "diffHunk": "@@ -1330,4 +1330,34 @@ public void setFilter(String filter) {\n     public String getCurrentTaskTitles(ProcessDTO processDTO) {\n         return ServiceManager.getProcessService().createProgressTooltip(processDTO);\n     }\n+\n+    /**\n+     * Get all parent processes recursively for the given process.\n+     *\n+     * @return List of Processes\n+     */\n+    public List<Process> getAllParentProcesses(int processId) {\n+        try {\n+            return ProcessService.getAllParentProcesses(ServiceManager.getProcessService().getById(processId));\n+        } catch (DAOException e) {\n+            Helper.setErrorMessage(ERROR_LOADING_ONE, new Object[] {ObjectType.PROCESS.getTranslationSingular(), processId }, logger, e);\n+            return new ArrayList<>();\n+        }\n+    }\n+\n+    /**\n+     * Get number of direct child processes for the given process.\n+     *\n+     * @param processId\n+     *          process id for given process\n+     * @return number of child processes\n+     */\n+    public int getNumberOfChildProcesses(int processId) {\n+        try {\n+            return ServiceManager.getProcessService().getById(processId).getChildren().size();", "originalCommit": "ce1495f786da6fcd2a9876bfceb46be87f2bffeb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cb1f9f3725df8796494316bdd43b6456801f6568", "url": "https://github.com/kitodo/kitodo-production/commit/cb1f9f3725df8796494316bdd43b6456801f6568", "message": "Fix Selenium tests", "committedDate": "2020-01-21T07:49:28Z", "type": "forcePushed"}, {"oid": "b883e2bf0d7838f792412ac9c02b432fcf77f357", "url": "https://github.com/kitodo/kitodo-production/commit/b883e2bf0d7838f792412ac9c02b432fcf77f357", "message": "Fix Selenium tests", "committedDate": "2020-01-21T08:28:28Z", "type": "forcePushed"}, {"oid": "a82b7ae6ca60470fc825040276400bbf3aa67d4c", "url": "https://github.com/kitodo/kitodo-production/commit/a82b7ae6ca60470fc825040276400bbf3aa67d4c", "message": "Fix Selenium tests", "committedDate": "2020-01-21T08:30:24Z", "type": "forcePushed"}, {"oid": "17ddd8faa6dfa7889745d35f9b0c0f75c7b24bf5", "url": "https://github.com/kitodo/kitodo-production/commit/17ddd8faa6dfa7889745d35f9b0c0f75c7b24bf5", "message": "Display information for process hierarchy in process list", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "aceacbbb03448a869827c29ba28718c6a8cbd2c2", "url": "https://github.com/kitodo/kitodo-production/commit/aceacbbb03448a869827c29ba28718c6a8cbd2c2", "message": "Add links to parent processes", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "6e6b984902d520a887117283fdd4d4c224fbc2c1", "url": "https://github.com/kitodo/kitodo-production/commit/6e6b984902d520a887117283fdd4d4c224fbc2c1", "message": "Add option to display children of process", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "3464d4635ca8d8ea5d7b816d2d3f65a7356ad103", "url": "https://github.com/kitodo/kitodo-production/commit/3464d4635ca8d8ea5d7b816d2d3f65a7356ad103", "message": "Simplify link for displaying hierarchical children", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "d88b125f89f806a7152a7cfbc7ea4b133d387567", "url": "https://github.com/kitodo/kitodo-production/commit/d88b125f89f806a7152a7cfbc7ea4b133d387567", "message": "Improve layout of hierarchical information", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "9ef6c75fca8c9f788e43fdbd7a247f426d84c347", "url": "https://github.com/kitodo/kitodo-production/commit/9ef6c75fca8c9f788e43fdbd7a247f426d84c347", "message": "Improve rowToggler icon", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "47a64034f8b5a814807a83769f158db4969bf666", "url": "https://github.com/kitodo/kitodo-production/commit/47a64034f8b5a814807a83769f158db4969bf666", "message": "Improve code style", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "24d6a7f4b4d7b3907b7b45d997a7bcf128ee5107", "url": "https://github.com/kitodo/kitodo-production/commit/24d6a7f4b4d7b3907b7b45d997a7bcf128ee5107", "message": "Apply suggestions from code review", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "41defbfd9b963c1bb8c0d3689cfee9361b688c78", "url": "https://github.com/kitodo/kitodo-production/commit/41defbfd9b963c1bb8c0d3689cfee9361b688c78", "message": "Fix Selenium tests", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "2ae55ca8643de2f9f193ad70306b83de2105f431", "url": "https://github.com/kitodo/kitodo-production/commit/2ae55ca8643de2f9f193ad70306b83de2105f431", "message": "Fix styling of row expansion", "committedDate": "2020-01-21T10:42:52Z", "type": "commit"}, {"oid": "2ae55ca8643de2f9f193ad70306b83de2105f431", "url": "https://github.com/kitodo/kitodo-production/commit/2ae55ca8643de2f9f193ad70306b83de2105f431", "message": "Fix styling of row expansion", "committedDate": "2020-01-21T10:42:52Z", "type": "forcePushed"}]}