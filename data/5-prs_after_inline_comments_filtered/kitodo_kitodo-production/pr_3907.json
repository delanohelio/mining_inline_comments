{"pr_number": 3907, "pr_title": "change comparators", "pr_createdAt": "2020-08-06T11:38:34Z", "pr_url": "https://github.com/kitodo/kitodo-production/pull/3907", "timeline": [{"oid": "7a0648933a4ccff11526a8e81c380478f253ac99", "url": "https://github.com/kitodo/kitodo-production/commit/7a0648933a4ccff11526a8e81c380478f253ac99", "message": "change comparators", "committedDate": "2020-08-06T11:33:55Z", "type": "commit"}, {"oid": "b981c9e3b63a5ed7aba1050fe4bd41c38ccc1b1a", "url": "https://github.com/kitodo/kitodo-production/commit/b981c9e3b63a5ed7aba1050fe4bd41c38ccc1b1a", "message": "add javadoc", "committedDate": "2020-08-06T13:17:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDU1NTExMw==", "url": "https://github.com/kitodo/kitodo-production/pull/3907#discussion_r470555113", "bodyText": "The last if condition and the return true; at the end can be simplified to\nreturn firstTask.isBatchStep() == secondTask.isBatchStep();", "author": "solth", "createdAt": "2020-08-14T10:54:29Z", "path": "Kitodo/src/main/java/org/kitodo/production/migration/TaskComparer.java", "diffHunk": "@@ -11,55 +11,57 @@\n \n package org.kitodo.production.migration;\n \n-import java.util.Comparator;\n import java.util.Objects;\n \n import org.kitodo.data.database.beans.Task;\n \n-public class TaskComparator implements Comparator<Task> {\n+public class TaskComparer {\n \n-    @Override\n-    public int compare(Task firstTask, Task secondTask) {\n+    /**\n+     * Compares two tasks, if they are equal for migration purposes.\n+     * @return true, if they are equal, false if not\n+     */\n+    public boolean isEqual(Task firstTask, Task secondTask) {\n         if (Objects.isNull(firstTask) || Objects.isNull(secondTask)) {\n-            return 1;\n+            return false;\n         }\n         if (Objects.isNull(firstTask.getTitle()) ? Objects.nonNull(secondTask.getTitle())\n                 : !firstTask.getTitle().equals(secondTask.getTitle())) {\n-            return 1;\n+            return false;\n         }\n         if (Objects.isNull(firstTask.getOrdering()) ? Objects.nonNull(secondTask.getOrdering())\n                 : !firstTask.getOrdering().equals(secondTask.getOrdering())) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isTypeAutomatic() != secondTask.isTypeAutomatic()) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isTypeMetadata() != secondTask.isTypeMetadata()) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isTypeImagesRead() != secondTask.isTypeImagesRead()) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isTypeImagesWrite() != secondTask.isTypeImagesWrite()) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isTypeExportDMS() != secondTask.isTypeExportDMS()) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isTypeAcceptClose() != secondTask.isTypeAcceptClose()) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isTypeCloseVerify() != secondTask.isTypeCloseVerify()) {\n-            return 1;\n+            return false;\n         }\n         if (Objects.isNull(firstTask.getScriptPath()) ? Objects.nonNull(secondTask.getScriptPath())\n                 : !firstTask.getScriptPath().equals(secondTask.getScriptPath())) {\n-            return 1;\n+            return false;\n         }\n         if (firstTask.isBatchStep() != secondTask.isBatchStep()) {\n-            return 1;\n+            return false;\n         }\n-        return 0;\n+        return true;", "originalCommit": "b981c9e3b63a5ed7aba1050fe4bd41c38ccc1b1a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4f7563279802e50e94dcd67e51bd1dcb9bf1a28d", "url": "https://github.com/kitodo/kitodo-production/commit/4f7563279802e50e94dcd67e51bd1dcb9bf1a28d", "message": "add javadoc", "committedDate": "2020-08-17T07:34:15Z", "type": "commit"}, {"oid": "4f7563279802e50e94dcd67e51bd1dcb9bf1a28d", "url": "https://github.com/kitodo/kitodo-production/commit/4f7563279802e50e94dcd67e51bd1dcb9bf1a28d", "message": "add javadoc", "committedDate": "2020-08-17T07:34:15Z", "type": "forcePushed"}]}