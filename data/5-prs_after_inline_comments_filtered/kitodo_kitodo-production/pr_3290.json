{"pr_number": 3290, "pr_title": "Mass import", "pr_createdAt": "2020-03-18T08:59:56Z", "pr_url": "https://github.com/kitodo/kitodo-production/pull/3290", "timeline": [{"oid": "3f5b61dcdc5ff8187e2d2c9da0a6ce239682d73e", "url": "https://github.com/kitodo/kitodo-production/commit/3f5b61dcdc5ff8187e2d2c9da0a6ce239682d73e", "message": "cleanup", "committedDate": "2020-03-19T07:57:31Z", "type": "forcePushed"}, {"oid": "92c4e90850696220ffbf49c9af49dfe3cbe04806", "url": "https://github.com/kitodo/kitodo-production/commit/92c4e90850696220ffbf49c9af49dfe3cbe04806", "message": "add ImportException", "committedDate": "2020-03-19T08:24:02Z", "type": "forcePushed"}, {"oid": "11b59bee3f56246ef3f58971656cae37886bbbd2", "url": "https://github.com/kitodo/kitodo-production/commit/11b59bee3f56246ef3f58971656cae37886bbbd2", "message": "use restito for catalog search", "committedDate": "2020-03-19T10:02:17Z", "type": "forcePushed"}, {"oid": "adfbf2a7c556282f5d88f09724adc13e41158672", "url": "https://github.com/kitodo/kitodo-production/commit/adfbf2a7c556282f5d88f09724adc13e41158672", "message": "use restito for catalog search", "committedDate": "2020-03-19T10:04:41Z", "type": "forcePushed"}, {"oid": "6272f5f8b1d74be18902490a54304f13d7fd0c5c", "url": "https://github.com/kitodo/kitodo-production/commit/6272f5f8b1d74be18902490a54304f13d7fd0c5c", "message": "use restito for catalog search", "committedDate": "2020-03-19T19:54:17Z", "type": "forcePushed"}, {"oid": "0e4ee45432ca4e30ae6b636b43618dedb49683bb", "url": "https://github.com/kitodo/kitodo-production/commit/0e4ee45432ca4e30ae6b636b43618dedb49683bb", "message": "move openRulesetMethod", "committedDate": "2020-03-24T14:17:56Z", "type": "forcePushed"}, {"oid": "f23d7ec5620cdb09f2c57a84361bf922a7095357", "url": "https://github.com/kitodo/kitodo-production/commit/f23d7ec5620cdb09f2c57a84361bf922a7095357", "message": "inspect2", "committedDate": "2020-03-25T09:13:59Z", "type": "forcePushed"}, {"oid": "2c0355599fd01b99fb8be2d55618307295bd35f0", "url": "https://github.com/kitodo/kitodo-production/commit/2c0355599fd01b99fb8be2d55618307295bd35f0", "message": "inspect2", "committedDate": "2020-03-25T09:27:28Z", "type": "forcePushed"}, {"oid": "adc0f5209a65f7c1c5b6dd3ef3599b889888509b", "url": "https://github.com/kitodo/kitodo-production/commit/adc0f5209a65f7c1c5b6dd3ef3599b889888509b", "message": "sout", "committedDate": "2020-03-30T14:49:56Z", "type": "forcePushed"}, {"oid": "a17a1ce844cf090af57913c0c52f7c1ff7341c67", "url": "https://github.com/kitodo/kitodo-production/commit/a17a1ce844cf090af57913c0c52f7c1ff7341c67", "message": "move openRulesetMethod", "committedDate": "2020-03-30T14:36:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjExNzA0MA==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402117040", "bodyText": "Suggested change", "author": "solth", "createdAt": "2020-04-02T07:50:45Z", "path": "Kitodo/src/main/java/org/kitodo/exceptions/ImportException.java", "diffHunk": "@@ -0,0 +1,25 @@\n+/*\n+ * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>\n+ *\n+ * This file is part of the Kitodo project.\n+ *\n+ * It is licensed under GNU General Public License version 3 or later.\n+ *\n+ * For the full copyright and license information, please read the\n+ * GPL3-License.txt file that was distributed with this source code.\n+ */\n+\n+package org.kitodo.exceptions;\n+\n+public class ImportException extends Exception {\n+    /**\n+     * Constructor with given exception message.\n+     *\n+     * @param exceptionMessage\n+     *            as String\n+     */\n+    public ImportException(String exceptionMessage) {\n+        super(exceptionMessage);\n+    }\n+", "originalCommit": "a17a1ce844cf090af57913c0c52f7c1ff7341c67", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE2NTQ2Mw==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402165463", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import java.io.FileNotFoundException;\n          \n      \n    \n    \n  \n\nThis exception doesn't seem to be used in this class.", "author": "solth", "createdAt": "2020-04-02T09:11:29Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "diffHunk": "@@ -12,11 +12,13 @@\n package org.kitodo.production.services.data;\n \n import java.io.File;\n+import java.io.FileNotFoundException;", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE2NTg5MQ==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402165891", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import java.util.concurrent.TimeUnit;\n          \n      \n    \n    \n  \n\nTimeUnit doesn't seem to be used in this class.", "author": "solth", "createdAt": "2020-04-02T09:12:11Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "diffHunk": "@@ -25,6 +27,7 @@\n import java.util.Locale;\n import java.util.NoSuchElementException;\n import java.util.Objects;\n+import java.util.concurrent.TimeUnit;", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE2NjI2Nw==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402166267", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import org.apache.logging.log4j.core.tools.picocli.CommandLine;\n          \n          \n            \n            import org.jboss.weld.environment.util.Collections;\n          \n      \n    \n    \n  \n\nCommandLine and Collections don't seem to be used in this class.", "author": "solth", "createdAt": "2020-04-02T09:12:48Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "diffHunk": "@@ -37,6 +40,8 @@\n import org.apache.commons.lang.StringUtils;\n import org.apache.logging.log4j.LogManager;\n import org.apache.logging.log4j.Logger;\n+import org.apache.logging.log4j.core.tools.picocli.CommandLine;\n+import org.jboss.weld.environment.util.Collections;", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE2NzE1MA==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402167150", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Template template = null;\n          \n          \n            \n                    Template template;", "author": "solth", "createdAt": "2020-04-02T09:14:14Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "diffHunk": "@@ -1022,4 +1029,33 @@ public static void processTempProcess(TempProcess tempProcess, Template template\n         addProperties(tempProcess.getProcess(), template, processDetails, docType, tempProcess.getProcess().getTitle());\n         updateTasks(process);\n     }\n+\n+    /**\n+     * Imports a process and saves it to database.\n+     * @param ppn the ppn to import\n+     * @param projectId the projectId\n+     * @param templateId the templateId\n+     * @param selectedCatalog the selected catalog to import from\n+     * @return the importedProcess\n+     */\n+    public Process importProcess(String ppn, int projectId, int templateId, String selectedCatalog) throws ImportException {\n+        LinkedList<TempProcess> processList = new LinkedList<>();\n+        Template template = null;", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE3NzM3Ng==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402177376", "bodyText": "This could probably lead to a null pointer exception if processList.get(0) returns null.", "author": "solth", "createdAt": "2020-04-02T09:30:39Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/ImportService.java", "diffHunk": "@@ -1022,4 +1029,33 @@ public static void processTempProcess(TempProcess tempProcess, Template template\n         addProperties(tempProcess.getProcess(), template, processDetails, docType, tempProcess.getProcess().getTitle());\n         updateTasks(process);\n     }\n+\n+    /**\n+     * Imports a process and saves it to database.\n+     * @param ppn the ppn to import\n+     * @param projectId the projectId\n+     * @param templateId the templateId\n+     * @param selectedCatalog the selected catalog to import from\n+     * @return the importedProcess\n+     */\n+    public Process importProcess(String ppn, int projectId, int templateId, String selectedCatalog) throws ImportException {\n+        LinkedList<TempProcess> processList = new LinkedList<>();\n+        Template template = null;\n+        try {\n+            template = ServiceManager.getTemplateService().getById(templateId);\n+            String metadataLanguage = ServiceManager.getUserService().getCurrentUser().getMetadataLanguage();\n+            List<Locale.LanguageRange> priorityList = Locale.LanguageRange.parse(metadataLanguage.isEmpty() ? \"en\" : metadataLanguage);\n+            importProcessAndReturnParentID(ppn, processList, selectedCatalog, projectId, templateId);\n+            processTempProcess(processList.get(0), template,", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE4MDA2NQ==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402180065", "bodyText": "Could the current openRuleset method be removed and openRulesetFile be renamed to openRuleset, since the private openRulesetFile method is currently only be called in openRuleset?", "author": "solth", "createdAt": "2020-04-02T09:35:05Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/RulesetService.java", "diffHunk": "@@ -223,11 +229,24 @@ private QueryBuilder getRulesetsForCurrentUserQuery() {\n      *            database object that references the ruleset\n      * @return a Ruleset Management in which the ruleset has been loaded\n      */\n-    public RulesetManagementInterface openRuleset(Ruleset ruleset) throws IOException {\n-        String rulesetPath = Paths.get(ConfigCore.getParameter(ParameterCore.DIR_RULESETS), ruleset.getFile())\n-                .toString();\n-        RulesetManagementInterface openRuleset = ServiceManager.getRulesetManagementService().getRulesetManagement();\n-        openRuleset.load(new File(rulesetPath));\n-        return openRuleset;\n+    public RulesetManagementInterface openRuleset(Ruleset ruleset) throws IOException, RulesetNotFoundException {", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE4MDUzOQ==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402180539", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Gets the configured metadatalanguage from the User.\n          \n          \n            \n                 * Gets the configured metadata language from the User.", "author": "solth", "createdAt": "2020-04-02T09:35:57Z", "path": "Kitodo/src/main/java/org/kitodo/production/services/data/UserService.java", "diffHunk": "@@ -480,4 +481,13 @@ public void changeUserPassword(User user, String newPassword) throws DAOExceptio\n         userWithNewPassword.setPassword(passwordEncoder.encrypt(newPassword));\n         saveToDatabase(userWithNewPassword);\n     }\n+\n+    /**\n+     * Gets the configured metadatalanguage from the User.", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE4MTUzOA==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402181538", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertEquals(\"Not the correct amount of processes found\",(long) 7, (long) processService.count());\n          \n          \n            \n                    Assert.assertEquals(\"Not the correct amount of processes found\", 7, (long) processService.count());", "author": "solth", "createdAt": "2020-04-02T09:37:39Z", "path": "Kitodo/src/test/java/org/kitodo/production/services/data/ImportServiceIT.java", "diffHunk": "@@ -0,0 +1,94 @@\n+/*\n+ * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>\n+ *\n+ * This file is part of the Kitodo project.\n+ *\n+ * It is licensed under GNU General Public License version 3 or later.\n+ *\n+ * For the full copyright and license information, please read the\n+ * GPL3-License.txt file that was distributed with this source code.\n+ */\n+\n+package org.kitodo.production.services.data;\n+\n+import static com.xebialabs.restito.builder.stub.StubHttp.whenHttp;\n+import static com.xebialabs.restito.semantics.Action.contentType;\n+import static com.xebialabs.restito.semantics.Action.ok;\n+import static com.xebialabs.restito.semantics.Action.stringContent;\n+import static com.xebialabs.restito.semantics.Condition.get;\n+import static com.xebialabs.restito.semantics.Condition.parameter;\n+import static org.awaitility.Awaitility.await;\n+\n+import com.xebialabs.restito.server.StubServer;\n+\n+import java.io.InputStream;\n+import java.nio.charset.StandardCharsets;\n+import java.nio.file.Files;\n+import java.nio.file.Paths;\n+import java.util.Objects;\n+import java.util.concurrent.atomic.AtomicBoolean;\n+\n+import org.apache.commons.io.IOUtils;\n+import org.junit.AfterClass;\n+import org.junit.Assert;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.kitodo.MockDatabase;\n+import org.kitodo.SecurityTestUtils;\n+import org.kitodo.data.database.beans.Process;\n+import org.kitodo.production.services.ServiceManager;\n+\n+public class ImportServiceIT {\n+\n+    private static final ProcessService processService = ServiceManager.getProcessService();\n+    private static final ImportService importService = ServiceManager.getImportService();\n+    private static StubServer server;\n+    private static final String TEST_FILE_PATH = \"src/test/resources/sruTestRecord.xml\";\n+    private static final String RECORD_ID = \"12345\";\n+    private static final int PORT = 8888;\n+    private static final String firstProcess = \"First process\";\n+\n+    @BeforeClass\n+    public static void prepareDatabase() throws Exception {\n+        MockDatabase.startNode();\n+        MockDatabase.insertProcessesFull();\n+        MockDatabase.insertProcessesForHierarchyTests();\n+        MockDatabase.setUpAwaitility();\n+        SecurityTestUtils.addUserDataToSecurityContext(ServiceManager.getUserService().getById(1), 1);\n+        await().untilTrue(new AtomicBoolean(Objects.nonNull(processService.findByTitle(firstProcess))));\n+        server = new StubServer(PORT).run();\n+        try (InputStream inputStream = Files.newInputStream(Paths.get(TEST_FILE_PATH))) {\n+            setupServer(IOUtils.toString(inputStream, StandardCharsets.UTF_8));\n+        }\n+    }\n+\n+    @AfterClass\n+    public static void cleanDatabase() throws Exception {\n+        MockDatabase.stopNode();\n+        MockDatabase.cleanDatabase();\n+        server.stop();\n+    }\n+\n+    @Test\n+    public void testImportProcess() throws Exception {\n+        Assert.assertEquals(\"Not the correct amount of processes found\",(long) 7, (long) processService.count());", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjE4MTcyNw==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402181727", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assert.assertEquals(\"Not the correct amount of processes found\",(long) 8, (long) processService.count());\n          \n          \n            \n                    Assert.assertEquals(\"Not the correct amount of processes found\", 8, (long) processService.count());", "author": "solth", "createdAt": "2020-04-02T09:37:55Z", "path": "Kitodo/src/test/java/org/kitodo/production/services/data/ImportServiceIT.java", "diffHunk": "@@ -0,0 +1,94 @@\n+/*\n+ * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>\n+ *\n+ * This file is part of the Kitodo project.\n+ *\n+ * It is licensed under GNU General Public License version 3 or later.\n+ *\n+ * For the full copyright and license information, please read the\n+ * GPL3-License.txt file that was distributed with this source code.\n+ */\n+\n+package org.kitodo.production.services.data;\n+\n+import static com.xebialabs.restito.builder.stub.StubHttp.whenHttp;\n+import static com.xebialabs.restito.semantics.Action.contentType;\n+import static com.xebialabs.restito.semantics.Action.ok;\n+import static com.xebialabs.restito.semantics.Action.stringContent;\n+import static com.xebialabs.restito.semantics.Condition.get;\n+import static com.xebialabs.restito.semantics.Condition.parameter;\n+import static org.awaitility.Awaitility.await;\n+\n+import com.xebialabs.restito.server.StubServer;\n+\n+import java.io.InputStream;\n+import java.nio.charset.StandardCharsets;\n+import java.nio.file.Files;\n+import java.nio.file.Paths;\n+import java.util.Objects;\n+import java.util.concurrent.atomic.AtomicBoolean;\n+\n+import org.apache.commons.io.IOUtils;\n+import org.junit.AfterClass;\n+import org.junit.Assert;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.kitodo.MockDatabase;\n+import org.kitodo.SecurityTestUtils;\n+import org.kitodo.data.database.beans.Process;\n+import org.kitodo.production.services.ServiceManager;\n+\n+public class ImportServiceIT {\n+\n+    private static final ProcessService processService = ServiceManager.getProcessService();\n+    private static final ImportService importService = ServiceManager.getImportService();\n+    private static StubServer server;\n+    private static final String TEST_FILE_PATH = \"src/test/resources/sruTestRecord.xml\";\n+    private static final String RECORD_ID = \"12345\";\n+    private static final int PORT = 8888;\n+    private static final String firstProcess = \"First process\";\n+\n+    @BeforeClass\n+    public static void prepareDatabase() throws Exception {\n+        MockDatabase.startNode();\n+        MockDatabase.insertProcessesFull();\n+        MockDatabase.insertProcessesForHierarchyTests();\n+        MockDatabase.setUpAwaitility();\n+        SecurityTestUtils.addUserDataToSecurityContext(ServiceManager.getUserService().getById(1), 1);\n+        await().untilTrue(new AtomicBoolean(Objects.nonNull(processService.findByTitle(firstProcess))));\n+        server = new StubServer(PORT).run();\n+        try (InputStream inputStream = Files.newInputStream(Paths.get(TEST_FILE_PATH))) {\n+            setupServer(IOUtils.toString(inputStream, StandardCharsets.UTF_8));\n+        }\n+    }\n+\n+    @AfterClass\n+    public static void cleanDatabase() throws Exception {\n+        MockDatabase.stopNode();\n+        MockDatabase.cleanDatabase();\n+        server.stop();\n+    }\n+\n+    @Test\n+    public void testImportProcess() throws Exception {\n+        Assert.assertEquals(\"Not the correct amount of processes found\",(long) 7, (long) processService.count());\n+        Process importedProcess = importService.importProcess(RECORD_ID, 1, 1, \"K10Plus\");\n+\n+        Assert.assertEquals(\"WrongProcessTitle\", \"Kitodo_\" + RECORD_ID, importedProcess.getTitle());\n+        Assert.assertEquals(\"Wrong project used\", 1, (long) importedProcess.getProject().getId());\n+        Assert.assertEquals(\"Wrong template used\", 1, (long) importedProcess.getTemplate().getId());\n+        Assert.assertEquals(\"Not the correct amount of processes found\",(long) 8, (long) processService.count());", "originalCommit": "31ea0120b72799c66fbf52e69181f70ba506e77a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "644c6fa5d95bd05e6a9093e6599faba53f3667ee", "url": "https://github.com/kitodo/kitodo-production/commit/644c6fa5d95bd05e6a9093e6599faba53f3667ee", "message": "use importservice to import", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "3361691b7ec9a5a48173f86f96f0a67cb6b8f71f", "url": "https://github.com/kitodo/kitodo-production/commit/3361691b7ec9a5a48173f86f96f0a67cb6b8f71f", "message": "add test", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "00ad14bd01d3aa1fa897b48d7120fe8927327f7b", "url": "https://github.com/kitodo/kitodo-production/commit/00ad14bd01d3aa1fa897b48d7120fe8927327f7b", "message": "cleanup", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "e7e0f961abfda58b026d4919a58a977756546c06", "url": "https://github.com/kitodo/kitodo-production/commit/e7e0f961abfda58b026d4919a58a977756546c06", "message": "add ImportException", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "ed8f38b25be3edc00784ddd286aad79537d6699d", "url": "https://github.com/kitodo/kitodo-production/commit/ed8f38b25be3edc00784ddd286aad79537d6699d", "message": "use restito for catalog search", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "f4fcac9ebcf4004c46ab87e9d025f8ecb4cdb218", "url": "https://github.com/kitodo/kitodo-production/commit/f4fcac9ebcf4004c46ab87e9d025f8ecb4cdb218", "message": "move openRulesetMethod", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "8d4ea2e0e4b4b80a697c1dfe0540bc09121c93d5", "url": "https://github.com/kitodo/kitodo-production/commit/8d4ea2e0e4b4b80a697c1dfe0540bc09121c93d5", "message": "fix", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "c742075f4448e8d6c5b812d57f2d42a3d74fdf3b", "url": "https://github.com/kitodo/kitodo-production/commit/c742075f4448e8d6c5b812d57f2d42a3d74fdf3b", "message": "change to view scoped", "committedDate": "2020-04-03T09:06:23Z", "type": "commit"}, {"oid": "93e8b8707c8064424ee68fd76fabffabdd2444f2", "url": "https://github.com/kitodo/kitodo-production/commit/93e8b8707c8064424ee68fd76fabffabdd2444f2", "message": "add required to catalouge", "committedDate": "2020-04-03T09:06:24Z", "type": "commit"}, {"oid": "454023500c900eb946dec4c25b13df0981f07e39", "url": "https://github.com/kitodo/kitodo-production/commit/454023500c900eb946dec4c25b13df0981f07e39", "message": "disable button", "committedDate": "2020-04-03T09:06:24Z", "type": "commit"}, {"oid": "454023500c900eb946dec4c25b13df0981f07e39", "url": "https://github.com/kitodo/kitodo-production/commit/454023500c900eb946dec4c25b13df0981f07e39", "message": "disable button", "committedDate": "2020-04-03T09:06:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjg3OTMwNA==", "url": "https://github.com/kitodo/kitodo-production/pull/3290#discussion_r402879304", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return StringUtils.isBlank(ppnString)? null : ppnString;\n          \n          \n            \n                    return StringUtils.isBlank(ppnString) ? null : ppnString;", "author": "solth", "createdAt": "2020-04-03T09:31:44Z", "path": "Kitodo/src/main/java/org/kitodo/production/forms/MassImportForm.java", "diffHunk": "@@ -142,7 +154,7 @@ public void setFile(UploadedFile file) {\n      * @return value of ppnString\n      */\n     public String getPpnString() {\n-        return ppnString;\n+        return StringUtils.isBlank(ppnString)? null : ppnString;", "originalCommit": "454023500c900eb946dec4c25b13df0981f07e39", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4c0fc8b826fc27e610be362306e014951c0d11fe", "url": "https://github.com/kitodo/kitodo-production/commit/4c0fc8b826fc27e610be362306e014951c0d11fe", "message": "Update Kitodo/src/main/java/org/kitodo/production/forms/MassImportForm.java\n\nCo-Authored-By: Arved Solth <solth@effective-webwork.de>", "committedDate": "2020-04-03T15:20:14Z", "type": "commit"}]}