{"pr_number": 4868, "pr_title": "DHFPROD-6218:Throw 404 or 400 instead of 500 when backend operation cannot find something", "pr_createdAt": "2020-11-16T21:19:18Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4868", "timeline": [{"oid": "f74ea547eac25878a862785dcac03462d6df9e3f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/f74ea547eac25878a862785dcac03462d6df9e3f", "message": "DHFPROD-6218:Throw 404 or 400 instead of 500 when backend operation cannot find something", "committedDate": "2020-11-17T04:41:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4MTE0Nw==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4868#discussion_r524881147", "bodyText": "@rahulvudutala ,\nIn entity-search-lib.sjs line 48, I changed the HTTP error code from 500 to 404. It causes this endpoint to return null instead of exception it used to throw earlier ? let me know if that's ok.", "author": "srinathgit", "createdAt": "2020-11-17T04:44:25Z", "path": "marklogic-data-hub-central/src/test/java/com/marklogic/hub/central/entities/search/EntitySearchManagerTest.java", "diffHunk": "@@ -96,7 +96,7 @@ public void testSearchResultsOnNonExistentEntityModel() {\n \n         SearchQuery searchQuery = new SearchQuery();\n         searchQuery.getQuery().setEntityTypeIds(Arrays.asList(\"Some-entityType\"));\n-        assertThrows(MarkLogicServerException.class, () -> new EntitySearchManager(getHubClient()).search(searchQuery), \"Entity Model with name Some-entityType doesn't exist \");\n+        assertNull(new EntitySearchManager(getHubClient()).search(searchQuery), \"Entity Model with name Some-entityType doesn't exist \");", "originalCommit": "f74ea547eac25878a862785dcac03462d6df9e3f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTUxNjY5NA==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4868#discussion_r525516694", "bodyText": "Yeah it should be ok.", "author": "rahulvudutala", "createdAt": "2020-11-17T20:52:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDg4MTE0Nw=="}], "type": "inlineReview"}, {"oid": "719ccc9958d1098ca4af126bc2c3d0b5ce54611d", "url": "https://github.com/marklogic/marklogic-data-hub/commit/719ccc9958d1098ca4af126bc2c3d0b5ce54611d", "message": "DHFPROD-6218:Throw 404 or 400 instead of 500 when backend operation cannot find something", "committedDate": "2020-11-17T20:59:39Z", "type": "forcePushed"}, {"oid": "75225834e6db8824340d8ed0f183ea917030b66f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/75225834e6db8824340d8ed0f183ea917030b66f", "message": "DHFPROD-6218:Throw 404 or 400 instead of 500 when backend operation cannot find something", "committedDate": "2020-11-18T00:10:49Z", "type": "commit"}, {"oid": "75225834e6db8824340d8ed0f183ea917030b66f", "url": "https://github.com/marklogic/marklogic-data-hub/commit/75225834e6db8824340d8ed0f183ea917030b66f", "message": "DHFPROD-6218:Throw 404 or 400 instead of 500 when backend operation cannot find something", "committedDate": "2020-11-18T00:10:49Z", "type": "forcePushed"}]}