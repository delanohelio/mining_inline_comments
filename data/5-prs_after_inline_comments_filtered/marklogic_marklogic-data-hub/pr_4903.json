{"pr_number": 4903, "pr_title": "DHFPROD-6245: Can now specify custom Spark schema when reading rows", "pr_createdAt": "2020-11-24T18:02:27Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/4903", "timeline": [{"oid": "d3044b2d0e8d646865b8d7637865a7a0a570b0fc", "url": "https://github.com/marklogic/marklogic-data-hub/commit/d3044b2d0e8d646865b8d7637865a7a0a570b0fc", "message": "DHFPROD-6245: Can now specify custom Spark schema when reading rows\n\nDid some test refactoring too to avoid some duplication.\n\nReorganized initializeRead.sjs into commented functions to make it easier to read.", "committedDate": "2020-11-24T18:01:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTgyNDQwMg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4903#discussion_r529824402", "bodyText": "Should we remove the word \"schema\" from here since we changed it to \"sparkschema\"?", "author": "anu3990", "createdAt": "2020-11-24T19:26:02Z", "path": "marklogic-data-hub-spark-connector/src/main/java/com/marklogic/hub/spark/sql/sources/v2/reader/HubDataSourceReader.java", "diffHunk": "@@ -91,7 +91,7 @@ protected ObjectNode buildInitializeReadInputs(Map<String, String> options) {\n \n         // The same all-lowercase style is used here for consistency with Spark, even though it's not consistent with\n         // DHF code conventions\n-        Stream.of(\"view\", \"schema\", \"sqlcondition\", \"selectedcolumns\").forEach(key -> inputs.put(key, options.get(key)));\n+        Stream.of(\"view\", \"schema\", \"sqlcondition\", \"selectedcolumns\", \"sparkschema\").forEach(key -> inputs.put(key, options.get(key)));", "originalCommit": "d3044b2d0e8d646865b8d7637865a7a0a570b0fc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTgzMzE3Ng==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/4903#discussion_r529833176", "bodyText": "This is the TDE schema name.", "author": "rjrudin", "createdAt": "2020-11-24T19:41:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTgyNDQwMg=="}], "type": "inlineReview"}]}