{"pr_number": 3892, "pr_title": "DHFPROD-4625: Adjust authorities to work with prefixed privileges", "pr_createdAt": "2020-04-29T20:41:00Z", "pr_url": "https://github.com/marklogic/marklogic-data-hub/pull/3892", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzYwOTk3Mg==", "url": "https://github.com/marklogic/marklogic-data-hub/pull/3892#discussion_r417609972", "bodyText": "Nice - no more roles!", "author": "rjrudin", "createdAt": "2020-04-29T21:03:03Z", "path": "marklogic-data-hub-central/src/main/java/com/marklogic/hub/central/auth/AuthenticationFilter.java", "diffHunk": "@@ -106,6 +106,6 @@ protected AuthenticationToken authenticateUser(String username, String password)\n             authorities.add(new SimpleGrantedAuthority(\"ROLE_\" + authority));\n         });\n \n-        return new AuthenticationToken(username, password, hubCentral.getProjectName(), (ArrayNode) response.get(\"roles\"), authorities);\n+        return new AuthenticationToken(username, password, hubCentral.getProjectName(), authorities);", "originalCommit": "bef9cdefa6f675cdb7f797686104b12139f5bd5e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f5fe8161d5b9f28ac36cb7b58798e2f28d2d86cd", "url": "https://github.com/marklogic/marklogic-data-hub/commit/f5fe8161d5b9f28ac36cb7b58798e2f28d2d86cd", "message": "DHFPROD-4625: Adjust authorities to work with prefixed privileges", "committedDate": "2020-04-30T17:38:37Z", "type": "forcePushed"}, {"oid": "cfa5ff78c19da946c6f6e0367826042cc6f13dc0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/cfa5ff78c19da946c6f6e0367826042cc6f13dc0", "message": "DHFPROD-4625: Adjust authorities to work with prefixed privileges", "committedDate": "2020-05-01T15:36:02Z", "type": "commit"}, {"oid": "cfa5ff78c19da946c6f6e0367826042cc6f13dc0", "url": "https://github.com/marklogic/marklogic-data-hub/commit/cfa5ff78c19da946c6f6e0367826042cc6f13dc0", "message": "DHFPROD-4625: Adjust authorities to work with prefixed privileges", "committedDate": "2020-05-01T15:36:02Z", "type": "forcePushed"}]}