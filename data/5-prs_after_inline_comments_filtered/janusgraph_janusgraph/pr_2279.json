{"pr_number": 2279, "pr_title": "Move most test to GitHub Actions", "pr_createdAt": "2020-12-11T14:53:36Z", "pr_url": "https://github.com/JanusGraph/janusgraph/pull/2279", "timeline": [{"oid": "3975d046c636723b34dce76365de19758db2c5b5", "url": "https://github.com/JanusGraph/janusgraph/commit/3975d046c636723b34dce76365de19758db2c5b5", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-11T15:14:41Z", "type": "forcePushed"}, {"oid": "6166cadfbe93dc5fb975b0220a009cfa067dcd28", "url": "https://github.com/JanusGraph/janusgraph/commit/6166cadfbe93dc5fb975b0220a009cfa067dcd28", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-11T15:18:39Z", "type": "forcePushed"}, {"oid": "1469391fba0b75ae67f5f4839b838b34a6c53b7f", "url": "https://github.com/JanusGraph/janusgraph/commit/1469391fba0b75ae67f5f4839b838b34a6c53b7f", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-11T15:49:45Z", "type": "forcePushed"}, {"oid": "b2be4b4e7d813c9fbd098f3e7b857e993429679d", "url": "https://github.com/JanusGraph/janusgraph/commit/b2be4b4e7d813c9fbd098f3e7b857e993429679d", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-14T07:33:40Z", "type": "forcePushed"}, {"oid": "838ceaa554b69471c1de29fd3e55bb1a7ba39825", "url": "https://github.com/JanusGraph/janusgraph/commit/838ceaa554b69471c1de29fd3e55bb1a7ba39825", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-14T07:34:29Z", "type": "forcePushed"}, {"oid": "a4163a91d5f13b37e1204d07333f81d824870d3b", "url": "https://github.com/JanusGraph/janusgraph/commit/a4163a91d5f13b37e1204d07333f81d824870d3b", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-14T07:37:22Z", "type": "forcePushed"}, {"oid": "3c66086b6e6f48f67fe4543f03019b01f2ab2aa6", "url": "https://github.com/JanusGraph/janusgraph/commit/3c66086b6e6f48f67fe4543f03019b01f2ab2aa6", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-14T11:38:03Z", "type": "forcePushed"}, {"oid": "be314343edffe56a8f70d8b7e801a0ac017f8a59", "url": "https://github.com/JanusGraph/janusgraph/commit/be314343edffe56a8f70d8b7e801a0ac017f8a59", "message": "test", "committedDate": "2020-12-21T13:34:54Z", "type": "forcePushed"}, {"oid": "8bff34291682ff3affa5c380be4e9d2f92428880", "url": "https://github.com/JanusGraph/janusgraph/commit/8bff34291682ff3affa5c380be4e9d2f92428880", "message": "test [tests]\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-21T13:43:32Z", "type": "forcePushed"}, {"oid": "6ec74b0c05a8b03fcd9fe2d1eb422389b63888a9", "url": "https://github.com/JanusGraph/janusgraph/commit/6ec74b0c05a8b03fcd9fe2d1eb422389b63888a9", "message": "test\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-21T13:45:41Z", "type": "forcePushed"}, {"oid": "49f24f5b0dc580d50b7d1518e9d2db649aacb4db", "url": "https://github.com/JanusGraph/janusgraph/commit/49f24f5b0dc580d50b7d1518e9d2db649aacb4db", "message": "test\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-21T13:46:32Z", "type": "forcePushed"}, {"oid": "534f4782e753168433a91a99ab8162b84b449f78", "url": "https://github.com/JanusGraph/janusgraph/commit/534f4782e753168433a91a99ab8162b84b449f78", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T08:02:20Z", "type": "forcePushed"}, {"oid": "c59e69ef475de8b863106fa51cc4ff2861b827ad", "url": "https://github.com/JanusGraph/janusgraph/commit/c59e69ef475de8b863106fa51cc4ff2861b827ad", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T08:42:26Z", "type": "forcePushed"}, {"oid": "38f537b2d110360b3154ffed6decb41ac615a866", "url": "https://github.com/JanusGraph/janusgraph/commit/38f537b2d110360b3154ffed6decb41ac615a866", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T08:48:26Z", "type": "forcePushed"}, {"oid": "405f1f14f4b77664ab022c93c4be58f5869d5882", "url": "https://github.com/JanusGraph/janusgraph/commit/405f1f14f4b77664ab022c93c4be58f5869d5882", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T08:54:50Z", "type": "forcePushed"}, {"oid": "3c190d47e6de7b935a38bc25bf3945fd82d1e521", "url": "https://github.com/JanusGraph/janusgraph/commit/3c190d47e6de7b935a38bc25bf3945fd82d1e521", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:01:34Z", "type": "forcePushed"}, {"oid": "3e59c411decdf5ec7122380928e3671c9f2aed84", "url": "https://github.com/JanusGraph/janusgraph/commit/3e59c411decdf5ec7122380928e3671c9f2aed84", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:07:06Z", "type": "forcePushed"}, {"oid": "f055efd006c55120af3a51f0773955163780d0db", "url": "https://github.com/JanusGraph/janusgraph/commit/f055efd006c55120af3a51f0773955163780d0db", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:12:36Z", "type": "forcePushed"}, {"oid": "09d2d65e43368873107877b1e41f85ed6bacb1c5", "url": "https://github.com/JanusGraph/janusgraph/commit/09d2d65e43368873107877b1e41f85ed6bacb1c5", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:17:41Z", "type": "forcePushed"}, {"oid": "1e85dc7d0f02ddde4f0e14fe8da9ed7dec13a428", "url": "https://github.com/JanusGraph/janusgraph/commit/1e85dc7d0f02ddde4f0e14fe8da9ed7dec13a428", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:23:35Z", "type": "forcePushed"}, {"oid": "f0acdb727a555b82c656c666188697bf2b8216cf", "url": "https://github.com/JanusGraph/janusgraph/commit/f0acdb727a555b82c656c666188697bf2b8216cf", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:34:45Z", "type": "forcePushed"}, {"oid": "23a06c48278b3b88a48a0c715aeeead58bbf78bd", "url": "https://github.com/JanusGraph/janusgraph/commit/23a06c48278b3b88a48a0c715aeeead58bbf78bd", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:42:55Z", "type": "forcePushed"}, {"oid": "fae187e1d83c80b4960a1843e0f8fcc2dbafd9e9", "url": "https://github.com/JanusGraph/janusgraph/commit/fae187e1d83c80b4960a1843e0f8fcc2dbafd9e9", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T09:51:44Z", "type": "forcePushed"}, {"oid": "833e46d7bde581a7f4f8870af73ffec85cbceeb2", "url": "https://github.com/JanusGraph/janusgraph/commit/833e46d7bde581a7f4f8870af73ffec85cbceeb2", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T10:17:38Z", "type": "forcePushed"}, {"oid": "e564cf6682e32c1c1437885d7dd8f05428110834", "url": "https://github.com/JanusGraph/janusgraph/commit/e564cf6682e32c1c1437885d7dd8f05428110834", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T10:43:32Z", "type": "forcePushed"}, {"oid": "b2c87442ab954b09d41fbec7871743d34da6917e", "url": "https://github.com/JanusGraph/janusgraph/commit/b2c87442ab954b09d41fbec7871743d34da6917e", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T10:57:05Z", "type": "forcePushed"}, {"oid": "a16182ae6b9eb887abb9bb2f5c3c55f8ece426da", "url": "https://github.com/JanusGraph/janusgraph/commit/a16182ae6b9eb887abb9bb2f5c3c55f8ece426da", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T11:40:11Z", "type": "forcePushed"}, {"oid": "80ba76dfe52beeaec650cd60f80dc619ae87510f", "url": "https://github.com/JanusGraph/janusgraph/commit/80ba76dfe52beeaec650cd60f80dc619ae87510f", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T13:29:54Z", "type": "forcePushed"}, {"oid": "5d3a357e00b8f6bd247a8c3a2d7656ac0c46caa4", "url": "https://github.com/JanusGraph/janusgraph/commit/5d3a357e00b8f6bd247a8c3a2d7656ac0c46caa4", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T13:37:05Z", "type": "forcePushed"}, {"oid": "7f15cafe88022325239b9bc319e67388116d3a8d", "url": "https://github.com/JanusGraph/janusgraph/commit/7f15cafe88022325239b9bc319e67388116d3a8d", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T14:01:49Z", "type": "forcePushed"}, {"oid": "3f7160029db5cd0f843e25d79e3d7a71828e706e", "url": "https://github.com/JanusGraph/janusgraph/commit/3f7160029db5cd0f843e25d79e3d7a71828e706e", "message": "some tests\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T22:01:27Z", "type": "forcePushed"}, {"oid": "76ffa69fb0992fdaa0873a8fff3c4590286a6f32", "url": "https://github.com/JanusGraph/janusgraph/commit/76ffa69fb0992fdaa0873a8fff3c4590286a6f32", "message": "some tests\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T22:08:56Z", "type": "forcePushed"}, {"oid": "328654dc71dfd1a6a0b1682a8e252d8e15b754a7", "url": "https://github.com/JanusGraph/janusgraph/commit/328654dc71dfd1a6a0b1682a8e252d8e15b754a7", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-22T22:17:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODM2NDc4OQ==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r548364789", "bodyText": "From your comment in the PR, I can see you added this test so that test dependencies can be cached in GitHub workflow. Can you add Javadoc here to illustrate it? By simply looking at the code itself, one might be confused.", "author": "li-boxuan", "createdAt": "2020-12-24T03:21:45Z", "path": "janusgraph-all/src/test/java/org/janusgraph/core/EnsureCacheTest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+// Copyright 2020 JanusGraph Authors\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package org.janusgraph.core;\n+\n+import org.apache.commons.configuration.MapConfiguration;\n+import org.janusgraph.diskstorage.configuration.backend.CommonsConfiguration;\n+import org.janusgraph.graphdb.configuration.builder.GraphDatabaseConfigurationBuilder;\n+import org.janusgraph.graphdb.database.StandardJanusGraph;\n+import org.junit.jupiter.api.Test;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import static org.janusgraph.graphdb.configuration.GraphDatabaseConfiguration.STORAGE_BACKEND;\n+\n+public class EnsureCacheTest {", "originalCommit": "328654dc71dfd1a6a0b1682a8e252d8e15b754a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk2OTAxMA==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r548969010", "bodyText": "Agree here. It's not obvious what this test does. It's better to add some comments/javadoc to explain it", "author": "porunov", "createdAt": "2020-12-26T10:34:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODM2NDc4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk2ODU4MQ==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r548968581", "bodyText": "I think we may need to add an issue to either fix this test to be able to run in GitHub Actions or rewrite this test. So that we could enable it back later. As for now I'm fine disabling it", "author": "porunov", "createdAt": "2020-12-26T10:28:27Z", "path": "janusgraph-cql/src/test/java/org/janusgraph/diskstorage/cql/CQLDistributedStoreManagerTest.java", "diffHunk": "@@ -54,6 +55,7 @@ public void tearDown() throws BackendException {\n     @Override\n     @Test\n     @FeatureFlag(feature = JanusGraphFeature.OrderedScan)\n+    @Disabled(value = \"Test can't run inside of a container\")", "originalCommit": "328654dc71dfd1a6a0b1682a8e252d8e15b754a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk3MTY2OA==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r548971668", "bodyText": "For me, we could also remove the test. I don\u2018t see any value of the current test.", "author": "farodin91", "createdAt": "2020-12-26T11:08:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk2ODU4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk3MjIzNg==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r548972236", "bodyText": "Let's just open an issue for this test and then either fix it or remove as a separate PR. Don't remove it in this PR", "author": "porunov", "createdAt": "2020-12-26T11:15:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk2ODU4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MDM0Mw==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r549150343", "bodyText": "#2303", "author": "farodin91", "createdAt": "2020-12-27T18:38:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk2ODU4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk2ODg0NQ==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r548968845", "bodyText": "This test is just very Flaky test. If renew takes less then 1 MS, it will not throw an error and so the test will fail.\nI think we just need to add an issue to rewrite this test later to artificially increase renew time.", "author": "porunov", "createdAt": "2020-12-26T10:32:32Z", "path": "janusgraph-berkeleyje/src/test/java/org/janusgraph/graphdb/berkeleyje/BerkeleyGraphTest.java", "diffHunk": "@@ -112,19 +113,15 @@ public void testConcurrentConsistencyEnforcement() {\n         //Do nothing TODO: Figure out why this is failing in BerkeleyDB!!\n     }\n \n+    @Disabled(\"Unable to run on GitHub Actions.\")", "originalCommit": "328654dc71dfd1a6a0b1682a8e252d8e15b754a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE1MDYzMA==", "url": "https://github.com/JanusGraph/janusgraph/pull/2279#discussion_r549150630", "bodyText": "#2304", "author": "farodin91", "createdAt": "2020-12-27T18:42:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk2ODg0NQ=="}], "type": "inlineReview"}, {"oid": "bc4c558f1e7cef9974f05246d3502080d523397b", "url": "https://github.com/JanusGraph/janusgraph/commit/bc4c558f1e7cef9974f05246d3502080d523397b", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-27T18:31:56Z", "type": "commit"}, {"oid": "bc4c558f1e7cef9974f05246d3502080d523397b", "url": "https://github.com/JanusGraph/janusgraph/commit/bc4c558f1e7cef9974f05246d3502080d523397b", "message": "Move most test to GitHub Actions\n\nPart of #2260\n\nSigned-off-by: Jan Jansen <jan.jansen@gdata.de>", "committedDate": "2020-12-27T18:31:56Z", "type": "forcePushed"}]}