{"pr_number": 2382, "pr_title": "fix Google Sheets importer when URL is missing a trailing slash (#2380)", "pr_createdAt": "2020-03-10T04:14:48Z", "pr_url": "https://github.com/OpenRefine/OpenRefine/pull/2382", "timeline": [{"oid": "202a8a9a0c6f4d2716ac47fff5d6fe5f976b33dc", "url": "https://github.com/OpenRefine/OpenRefine/commit/202a8a9a0c6f4d2716ac47fff5d6fe5f976b33dc", "message": "fix #2380", "committedDate": "2020-03-10T04:10:25Z", "type": "commit"}, {"oid": "25b5f67f0399700cf3d0d50b1fb2f3c5b417ede4", "url": "https://github.com/OpenRefine/OpenRefine/commit/25b5f67f0399700cf3d0d50b1fb2f3c5b417ede4", "message": "update test", "committedDate": "2020-03-10T11:32:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI3NjEzNQ==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2382#discussion_r390276135", "bodyText": "This assignment of ProjectManager.singleton does not seem to be needed. Perhaps the test could also have a more explanatory name (making it clearer that it relates to extractSpreadSheetId).", "author": "wetneb", "createdAt": "2020-03-10T12:24:06Z", "path": "extensions/gdata/tests/src/com/google/refine/extension/gdata/GoogleAPIExtensionTest.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package com.google.refine.extension.gdata;\n+\n+import com.google.refine.ProjectManager;\n+import org.testng.annotations.Test;\n+\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+import static org.mockito.Mockito.mock;\n+import static org.testng.Assert.*;\n+\n+public class GoogleAPIExtensionTest {\n+\n+\t@Test\n+\tpublic void reTest() {\n+\t\tProjectManager.singleton = mock(ProjectManager.class);", "originalCommit": "25b5f67f0399700cf3d0d50b1fb2f3c5b417ede4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI4NjA2NA==", "url": "https://github.com/OpenRefine/OpenRefine/pull/2382#discussion_r390286064", "bodyText": "We do need ProjectManager.singleton = mock(ProjectManager.class), because GoogleAPIExtension.<clinit> will call ProjectManager.singleton.getPreferenceStore(), which will result in NullPointerException if singleton is null.\nI'll write a comment for this in the test.", "author": "afkbrb", "createdAt": "2020-03-10T12:44:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI3NjEzNQ=="}], "type": "inlineReview"}, {"oid": "dafdf3da144f1e2fb6b91f328e4ab13f111f2a3c", "url": "https://github.com/OpenRefine/OpenRefine/commit/dafdf3da144f1e2fb6b91f328e4ab13f111f2a3c", "message": "rename test method", "committedDate": "2020-03-10T12:44:23Z", "type": "commit"}]}