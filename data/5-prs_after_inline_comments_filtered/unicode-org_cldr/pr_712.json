{"pr_number": 712, "pr_title": "CLDR-14176 change plural rule regeneration to have exponent samples", "pr_createdAt": "2020-09-18T16:51:51Z", "pr_url": "https://github.com/unicode-org/cldr/pull/712", "timeline": [{"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "url": "https://github.com/unicode-org/cldr/commit/9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "message": "CLDR-14176 change generation to have exponent samples", "committedDate": "2020-09-18T16:44:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NDc0OQ==", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491074749", "bodyText": "Introduced a new EFixedDecimal for generating exponent samples; here are tests.", "author": "macchiati", "createdAt": "2020-09-18T16:53:55Z", "path": "tools/cldr-unittest/src/org/unicode/cldr/unittest/TestPluralRuleGeneration.java", "diffHunk": "@@ -89,4 +93,52 @@ public void TestAtoms() {\n         }\n \n     }", "originalCommit": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NDk4OA==", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491074988", "bodyText": "Introduced a new EFixedDecimal for generating exponent samples. Basically just adds the 'e' feature. I tried to use the non-deprecated ICU classes for this instead, but the access to those is too limited.", "author": "macchiati", "createdAt": "2020-09-18T16:54:22Z", "path": "tools/java/org/unicode/cldr/tool/EFixedDecimal.java", "diffHunk": "@@ -0,0 +1,82 @@\n+package org.unicode.cldr.tool;\n+\n+import com.ibm.icu.text.PluralRules.FixedDecimal;\n+import com.ibm.icu.text.PluralRules.IFixedDecimal;\n+import com.ibm.icu.text.PluralRules.Operand;\n+import com.ibm.icu.text.UnicodeSet;\n+", "originalCommit": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NTU3Ng==", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491075576", "bodyText": "Modified this so that the temp files can be removed if there is an exception. Avoids muddying the directories.", "author": "macchiati", "createdAt": "2020-09-18T16:55:23Z", "path": "tools/java/org/unicode/cldr/util/TempPrintWriter.java", "diffHunk": "@@ -22,6 +22,7 @@\n     final PrintWriter tempPrintWriter;\n     final String tempName;\n     final String filename;\n+    boolean noReplace = false;\n \n \n     public static TempPrintWriter openUTF8Writer(String filename) {", "originalCommit": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NjUwOA==", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491076508", "bodyText": "Here are the main changes, moving to EFixedPoint. Had to break out the samples into different groups. I first tried to merge with the range notation, but that got to be really ugly.", "author": "macchiati", "createdAt": "2020-09-18T16:57:10Z", "path": "tools/java/org/unicode/cldr/tool/GeneratedPluralSamples.java", "diffHunk": "@@ -28,7 +28,6 @@\n import com.google.common.base.Joiner;", "originalCommit": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}