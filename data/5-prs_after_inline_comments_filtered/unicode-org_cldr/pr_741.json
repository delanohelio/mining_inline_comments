{"pr_number": 741, "pr_title": "CLDR-11585 improve maven tests ", "pr_createdAt": "2020-09-25T18:30:54Z", "pr_url": "https://github.com/unicode-org/cldr/pull/741", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk5MDc1NQ==", "url": "https://github.com/unicode-org/cldr/pull/741#discussion_r495990755", "bodyText": "I don't understand the comment at all: \"... system property corresponding to java.lang ... unset!\"\nCould it be clarified?", "author": "btangmu", "createdAt": "2020-09-28T14:40:03Z", "path": "tools/cldr-unittest/src/org/unicode/cldr/unittest/TestShim.java", "diffHunk": "@@ -2,19 +2,31 @@\n \n import java.io.PrintWriter;\n \n+import org.unicode.cldr.util.TestShimUtils;\n+\n import org.junit.jupiter.api.Test;\n import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertArrayEquals;\n \n /**\n  * a JUnit test that calls TestAll.\n  */\n class TestShim {\n     @Test\n     public void TestAll() {\n-        String args[] = { \"-n\", \"-q\" }; // TODO: parameterize\n+        String args[] = TestShimUtils.getArgs(TestShim.class, \"-n -q\");\n         // regular main() will System.exit() which is not too friendly.\n         // call this instead.\n         int errCount = TestAll.runTests(args);\n         assertEquals(errCount, 0, \"Test had errors\");\n     }\n+\n+    @Test\n+    public void TestTestShimUtilTest() {\n+        // Note: checks the system property corresponding to java.lang,\n+        // we expect this to be unset!\n+        String args[] = TestShimUtils.getArgs(java.lang.String.class, \"-a -b -c\");", "originalCommit": "1aadc44eb0ad97502188cb32cd88db538db16822", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjE0NjE4OA==", "url": "https://github.com/unicode-org/cldr/pull/741#discussion_r496146188", "bodyText": "Yes, i'll clarify. To test the mechanism, it assumes java.lang.testArgs is unset.", "author": "srl295", "createdAt": "2020-09-28T18:20:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTk5MDc1NQ=="}], "type": "inlineReview"}, {"oid": "f7f95379d0ca8b6bebc5959b892714371e552a9a", "url": "https://github.com/unicode-org/cldr/commit/f7f95379d0ca8b6bebc5959b892714371e552a9a", "message": "CLDR-11585 improve maven tests\n\n- You can run individual tests using testArgs properties.\n\nExample to run only one test from the main unit tests:\n\n    mvn test '-Dorg.unicode.cldr.unittest.testArgs=-f:TestUntimedCounter -n -q'\n\nExample to run only one test from web: (could be combined w/ prior example)\n\n    mvn test '-Dorg.unicode.cldr.unittest.web.testArgs=-f:TestMisc -n -q'", "committedDate": "2020-09-28T18:23:31Z", "type": "commit"}, {"oid": "f7f95379d0ca8b6bebc5959b892714371e552a9a", "url": "https://github.com/unicode-org/cldr/commit/f7f95379d0ca8b6bebc5959b892714371e552a9a", "message": "CLDR-11585 improve maven tests\n\n- You can run individual tests using testArgs properties.\n\nExample to run only one test from the main unit tests:\n\n    mvn test '-Dorg.unicode.cldr.unittest.testArgs=-f:TestUntimedCounter -n -q'\n\nExample to run only one test from web: (could be combined w/ prior example)\n\n    mvn test '-Dorg.unicode.cldr.unittest.web.testArgs=-f:TestMisc -n -q'", "committedDate": "2020-09-28T18:23:31Z", "type": "forcePushed"}]}