{"pr_number": 821, "pr_title": "CLDR-14122 Bulk close some open forum posts", "pr_createdAt": "2020-10-30T19:39:44Z", "pr_url": "https://github.com/unicode-org/cldr/pull/821", "timeline": [{"oid": "10582c7d29b51045136b655f209bbbd7ce9b2836", "url": "https://github.com/unicode-org/cldr/commit/10582c7d29b51045136b655f209bbbd7ce9b2836", "message": "CLDR-14122 Bulk close some open forum posts\n\n-New Bulk Close Posts command in gear menu, for Admin only\n\n-New SurveyBulkClosePosts.java\n\n-New CldrStBulkClosePosts.js, special/bulk_close_posts.js\n\n-Move equalsOrInheritsCurrentValue to XMLSource.java\n\n-New method SurveyForum.closeThreads, use also for PostType.CLOSE\n\n-New TestCldrStBulkClosePosts.js, bulk_close_posts_json.js", "committedDate": "2020-10-30T19:33:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM0Njg3Nw==", "url": "https://github.com/unicode-org/cldr/pull/821#discussion_r515346877", "bodyText": "this is so close to being a REST API\u2026\u00a0in my mind I can almost see the @-annotations on each function!", "author": "srl295", "createdAt": "2020-10-30T19:58:40Z", "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/SurveyBulkClosePosts.java", "diffHunk": "@@ -0,0 +1,124 @@\n+package org.unicode.cldr.web;\n+\n+import java.sql.Connection;\n+import java.sql.PreparedStatement;\n+import java.sql.ResultSet;\n+import java.sql.SQLException;\n+import java.util.ArrayList;\n+\n+import org.json.JSONException;\n+import org.unicode.cldr.util.XMLSource;\n+import org.unicode.cldr.web.SurveyAjax.JSONWriter;\n+\n+public class SurveyBulkClosePosts {\n+\n+    private SurveyMain sm;\n+\n+    private boolean execute;\n+\n+    /**\n+     * Construct a SurveyBulkClosePosts\n+     *\n+     * @param sm the SurveyMain\n+     * @param execute if true, actually close the posts; else report count and provide button", "originalCommit": "10582c7d29b51045136b655f209bbbd7ce9b2836", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM1MTI3NQ==", "url": "https://github.com/unicode-org/cldr/pull/821#discussion_r515351275", "bodyText": "There really should be a progress bar, since the db queries could take a minute or more, for thousands of posts. Let's decide on a uniform way to implement progress bars for all potentially long-running server tasks. Cf. https://unicode-org.atlassian.net/browse/CLDR-14251", "author": "btangmu", "createdAt": "2020-10-30T20:08:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM0Njg3Nw=="}], "type": "inlineReview"}]}