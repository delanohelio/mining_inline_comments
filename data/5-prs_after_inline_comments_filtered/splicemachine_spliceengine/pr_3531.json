{"pr_number": 3531, "pr_title": "DB-9447 Relabel Engine in EXPLAIN plans", "pr_createdAt": "2020-05-05T14:11:06Z", "pr_url": "https://github.com/splicemachine/spliceengine/pull/3531", "timeline": [{"oid": "0dd3c7febd191e8103d557945cdcc016398a375f", "url": "https://github.com/splicemachine/spliceengine/commit/0dd3c7febd191e8103d557945cdcc016398a375f", "message": "DB-9447 Relable Control->OLTP, Spark->OLAP in explain and get_running_operations", "committedDate": "2020-05-05T14:11:41Z", "type": "commit"}, {"oid": "0043b545f278fed8fe7915fd7ae33a6f515491b0", "url": "https://github.com/splicemachine/spliceengine/commit/0043b545f278fed8fe7915fd7ae33a6f515491b0", "message": "DB-9447 fix spotbugs", "committedDate": "2020-05-05T14:12:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM4MjE4MA==", "url": "https://github.com/splicemachine/spliceengine/pull/3531#discussion_r421382180", "bodyText": "I would rather remove this clone, it shouldn't be too costly but for OLTP queries it could add up since it's in the hot path.", "author": "dgomezferro", "createdAt": "2020-05-07T09:52:33Z", "path": "splice_machine/src/main/java/com/splicemachine/derby/iapi/sql/execute/RunningOperation.java", "diffHunk": "@@ -29,14 +29,15 @@ public RunningOperation(SpliceOperation operation,\n                             UUID uuid, String rdbIntTkn) {\n         this.operation = operation;\n         this.thread =thread;\n-        this.submittedTime = submittedTime;\n+        this.submittedTime = (Date)submittedTime.clone();", "originalCommit": "0043b545f278fed8fe7915fd7ae33a6f515491b0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ4NjUwMA==", "url": "https://github.com/splicemachine/spliceengine/pull/3531#discussion_r421486500", "bodyText": "this is a spotbugs issue, complaining about assigning a value that could be modified later. i can ignore it though.", "author": "martinrupp", "createdAt": "2020-05-07T13:03:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM4MjE4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5NTEyNQ==", "url": "https://github.com/splicemachine/spliceengine/pull/3531#discussion_r421495125", "bodyText": "reverted and added ignores for Spotbugs EI_EXPOSE_REP and EI_EXPOSE_REP2:\nEI_EXPOSE_REP2: May expose internal representation by incorporating\nreference to mutable object\nWe might want to replace java.util.Date with java.time.Instance, see\nhttps://stackoverflow.com/questions/36639154/convert-java-util-date-to-what-java-time-type", "author": "martinrupp", "createdAt": "2020-05-07T13:17:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM4MjE4MA=="}], "type": "inlineReview"}, {"oid": "8b483c4d5c225af4e2c3ff4d89001f989cf0002e", "url": "https://github.com/splicemachine/spliceengine/commit/8b483c4d5c225af4e2c3ff4d89001f989cf0002e", "message": "DB-9447 fix spotbugs", "committedDate": "2020-05-07T13:16:03Z", "type": "commit"}, {"oid": "8b483c4d5c225af4e2c3ff4d89001f989cf0002e", "url": "https://github.com/splicemachine/spliceengine/commit/8b483c4d5c225af4e2c3ff4d89001f989cf0002e", "message": "DB-9447 fix spotbugs", "committedDate": "2020-05-07T13:16:03Z", "type": "forcePushed"}]}