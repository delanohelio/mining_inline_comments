{"pr_number": 3922, "pr_title": "DB-9840 Fix a parsing error when comments exist before CREATE TABLE...AS", "pr_createdAt": "2020-08-03T12:04:37Z", "pr_url": "https://github.com/splicemachine/spliceengine/pull/3922", "timeline": [{"oid": "ead8c1ffbdf5c7dd4876f6d1c1bcdd94a91c7798", "url": "https://github.com/splicemachine/spliceengine/commit/ead8c1ffbdf5c7dd4876f6d1c1bcdd94a91c7798", "message": "DB-9840 Fix a parsing error when comments exist before CREATE TABLE...AS", "committedDate": "2020-08-03T12:01:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjMyMTQ2Ng==", "url": "https://github.com/splicemachine/spliceengine/pull/3922#discussion_r466321466", "bodyText": "You don't need to catch anything here, just let the exception bubble up and if any is raised the test will fail with the appropriate stacktrace and message.", "author": "dgomezferro", "createdAt": "2020-08-06T10:35:48Z", "path": "splice_machine/src/test/java/com/splicemachine/derby/impl/sql/execute/operations/CreateTableIT.java", "diffHunk": "@@ -224,4 +224,18 @@ public void testCreateTableIfNotExists_GlobalTempTable() throws Exception {\n     public void testCreateTableIfNotExists_ExternalTable() throws Exception {\n         testCreateTableIfNotExists(\"external\");\n     }\n+\n+    @Test\n+    public void testCommentBeforeCreateTableAs() throws Exception {\n+        methodWatcher.executeUpdate(\"create table test_comment_before_create_as_dep_tbl (col int)\");\n+\n+        String createStmt = \"create table %s as select * from test_comment_before_create_as_dep_tbl\";\n+        try {\n+            methodWatcher.executeUpdate(\"-- some SQL-style comment here\\n\" + String.format(createStmt, generateTableName()));\n+            methodWatcher.executeUpdate(\"/* some C-style comment here */\\n\" + String.format(createStmt, generateTableName()));\n+            methodWatcher.executeUpdate(\"/* some mixed */\\n-- comments\\n\" + String.format(createStmt, generateTableName()));\n+        } catch (SQLException e) {\n+            Assert.fail(\"No exception should be thrown\");", "originalCommit": "ead8c1ffbdf5c7dd4876f6d1c1bcdd94a91c7798", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQyMjkzNQ==", "url": "https://github.com/splicemachine/spliceengine/pull/3922#discussion_r466422935", "bodyText": "Done.", "author": "ascend1", "createdAt": "2020-08-06T13:45:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjMyMTQ2Ng=="}], "type": "inlineReview"}, {"oid": "ad514d31137bce81b04f53f4cf6dd267ad7f6c2a", "url": "https://github.com/splicemachine/spliceengine/commit/ad514d31137bce81b04f53f4cf6dd267ad7f6c2a", "message": "DB-9840 Simplify test", "committedDate": "2020-08-06T13:37:13Z", "type": "commit"}]}