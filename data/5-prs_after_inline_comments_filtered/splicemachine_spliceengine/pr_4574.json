{"pr_number": 4574, "pr_title": "DB-10705 fix transaction time travel search algorithm behavior", "pr_createdAt": "2020-11-12T19:54:32Z", "pr_url": "https://github.com/splicemachine/spliceengine/pull/4574", "timeline": [{"oid": "33a3d0892016eadad6f6212386f57b6cd365755e", "url": "https://github.com/splicemachine/spliceengine/commit/33a3d0892016eadad6f6212386f57b6cd365755e", "message": "DB-10705 WIP.", "committedDate": "2020-11-12T14:29:21Z", "type": "commit"}, {"oid": "191b1e504fbed0f4d6b9bb3b5014621b59799966", "url": "https://github.com/splicemachine/spliceengine/commit/191b1e504fbed0f4d6b9bb3b5014621b59799966", "message": "DB-10705 fix txn traveler search algorithm behavior.", "committedDate": "2020-11-12T19:45:00Z", "type": "commit"}, {"oid": "61d9757759963d938c58ab99a21ca07c79f74927", "url": "https://github.com/splicemachine/spliceengine/commit/61d9757759963d938c58ab99a21ca07c79f74927", "message": "Merge remote-tracking branch 'origin/master' into DB-10705", "committedDate": "2020-11-12T19:46:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQzMDA2NA==", "url": "https://github.com/splicemachine/spliceengine/pull/4574#discussion_r522430064", "bodyText": "changed = true; is common in both conditional branches, can be moved outside if", "author": "OlegMazurov", "createdAt": "2020-11-12T21:14:06Z", "path": "hbase_storage/src/main/java/com/splicemachine/si/impl/region/TxnTimeTraveler.java", "diffHunk": "@@ -52,14 +52,14 @@ public TxnTimeTraveler(TxnFinder txnFinder) {\n             if(middleTS == needleTS) {\n                 return middleTx;\n             } else if(needleTS < middleTS) {\n+                right = toRowKeyWithBucket(middleTx.getFirst(), bucket);\n                 if(middleTS == rightTS)\n                 {\n                     reversed = true;\n                     changed = true;\n                 }\n                 else if(middleTS < rightTS)\n                 {\n-                    right = toRowKeyWithBucket(middleTx.getFirst(), bucket);\n                     rightTS = middleTS;\n                     changed = true;", "originalCommit": "61d9757759963d938c58ab99a21ca07c79f74927", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQ0ODcyNQ==", "url": "https://github.com/splicemachine/spliceengine/pull/4574#discussion_r522448725", "bodyText": "Thanks! I actually saw it after I pushed PRs to 3.0 and 3.1, will fix it later if that's OK.", "author": "hatyo", "createdAt": "2020-11-12T21:51:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQzMDA2NA=="}], "type": "inlineReview"}]}