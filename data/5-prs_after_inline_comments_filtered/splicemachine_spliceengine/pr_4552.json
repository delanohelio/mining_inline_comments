{"pr_number": 4552, "pr_title": "DB-10320 execute transaction RPCs in the priority thread pool", "pr_createdAt": "2020-11-11T23:23:32Z", "pr_url": "https://github.com/splicemachine/spliceengine/pull/4552", "timeline": [{"oid": "52af60c3acc47d5c693a4b72502dd8e48d232218", "url": "https://github.com/splicemachine/spliceengine/commit/52af60c3acc47d5c693a4b72502dd8e48d232218", "message": "DB-10320 execute transaction RPCs in the priority thread pool", "committedDate": "2020-11-11T23:20:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMwODU4OA==", "url": "https://github.com/splicemachine/spliceengine/pull/4552#discussion_r522308588", "bodyText": "Any reason you used HBaseTableDescriptor.HIGH_TABLE_PRIORITY instead of HConstants.ADMIN_QOS or HConstants.HIGH_QOS ?", "author": "dgomezferro", "createdAt": "2020-11-12T18:03:45Z", "path": "hbase_storage/src/main/java/com/splicemachine/si/impl/SkeletonTxnNetworkLayer.java", "diffHunk": "@@ -39,7 +39,8 @@\n     @Override\n     public void beginTransaction(byte[] rowKey,TxnMessage.TxnInfo txnInfo) throws IOException{\n         TxnMessage.TxnLifecycleService service=getLifecycleService(rowKey);\n-        ServerRpcController controller=new ServerRpcController();\n+        SpliceRpcController controller = new SpliceRpcController();\n+        controller.setPriority(HBaseTableDescriptor.HIGH_TABLE_PRIORITY);", "originalCommit": "52af60c3acc47d5c693a4b72502dd8e48d232218", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjQ1OTMwOQ==", "url": "https://github.com/splicemachine/spliceengine/pull/4552#discussion_r522459309", "bodyText": "getTxn() originally used HConstants.HIGH_QOS. DB-10230 introduced HBaseTableDescriptor.HIGH_TABLE_PRIORITY/NORMAL_TABLE_PRIORITY which are mapped to HConstants.ADMIN_QOS/NORMAL_QOS. I reused HBaseTableDescriptor.HIGH_TABLE_PRIORITY for other transaction RPCs for consistency.", "author": "OlegMazurov", "createdAt": "2020-11-12T22:12:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMwODU4OA=="}], "type": "inlineReview"}]}