{"pr_number": 4851, "pr_title": "DB-10961 remove node factory part 1", "pr_createdAt": "2020-12-11T15:42:10Z", "pr_url": "https://github.com/splicemachine/spliceengine/pull/4851", "timeline": [{"oid": "421411012a3f7ef8f61a6d771d48123b3bc36409", "url": "https://github.com/splicemachine/spliceengine/commit/421411012a3f7ef8f61a6d771d48123b3bc36409", "message": "DB-10961 fix SpotBugs", "committedDate": "2020-12-15T08:23:47Z", "type": "forcePushed"}, {"oid": "a0998d80ca33fbffd2ea524ddfe0a03f70a3278c", "url": "https://github.com/splicemachine/spliceengine/commit/a0998d80ca33fbffd2ea524ddfe0a03f70a3278c", "message": "DB-10961 fix SpotBugs", "committedDate": "2020-12-15T10:43:26Z", "type": "forcePushed"}, {"oid": "310b0f078574e30d97405ed614a1f5af4d16b9d8", "url": "https://github.com/splicemachine/spliceengine/commit/310b0f078574e30d97405ed614a1f5af4d16b9d8", "message": "DB-10961 fix SpotBugs", "committedDate": "2021-01-04T13:15:59Z", "type": "forcePushed"}, {"oid": "d347fa74cf4fd7811605bc96dcf232019bd9c930", "url": "https://github.com/splicemachine/spliceengine/commit/d347fa74cf4fd7811605bc96dcf232019bd9c930", "message": "DB-10961 fix SpotBugs", "committedDate": "2021-01-18T10:20:14Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTQ5NjA4Nw==", "url": "https://github.com/splicemachine/spliceengine/pull/4851#discussion_r559496087", "bodyText": "this is actually fixing a bug that was introduced because NodeFactory does no type checking (UpdateNode's init requires tableName, resultSet, cursorDelete, but would have only been given tableName, resultSet )", "author": "martinrupp", "createdAt": "2021-01-18T11:21:53Z", "path": "db-engine/src/main/java/com/splicemachine/db/impl/sql/compile/DeleteNode.java", "diffHunk": "@@ -964,12 +974,7 @@ private StatementNode getEmptyUpdateNode(String schemaName,\n                                                      null, /* windows */\n                                                      getContextManager());\n \n-        return (StatementNode) nodeFactory.getNode(\n-                                                    C_NodeTypes.UPDATE_NODE,\n-                                                    tableName,\n-                                                    resultSet,\n-                                                    getContextManager());\n-\n+        return new UpdateNode( tableName, resultSet, cursorDelete, getContextManager());", "originalCommit": "d347fa74cf4fd7811605bc96dcf232019bd9c930", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2bf5732332574d0ae984d10f8bf06efd9c658e43", "url": "https://github.com/splicemachine/spliceengine/commit/2bf5732332574d0ae984d10f8bf06efd9c658e43", "message": "DB-10961 fix SpotBugs", "committedDate": "2021-01-18T11:47:45Z", "type": "forcePushed"}, {"oid": "687ddd29074b8fddd8c61a92a4ac01be8e3c976b", "url": "https://github.com/splicemachine/spliceengine/commit/687ddd29074b8fddd8c61a92a4ac01be8e3c976b", "message": "DB-10961 remove node factory part 1", "committedDate": "2021-01-21T10:52:17Z", "type": "commit"}, {"oid": "de17ae79bb2d020879d35ccfe3067a3ea5cfb945", "url": "https://github.com/splicemachine/spliceengine/commit/de17ae79bb2d020879d35ccfe3067a3ea5cfb945", "message": "DB-10961 fix SpotBugs", "committedDate": "2021-01-21T10:52:17Z", "type": "commit"}, {"oid": "de17ae79bb2d020879d35ccfe3067a3ea5cfb945", "url": "https://github.com/splicemachine/spliceengine/commit/de17ae79bb2d020879d35ccfe3067a3ea5cfb945", "message": "DB-10961 fix SpotBugs", "committedDate": "2021-01-21T10:52:17Z", "type": "forcePushed"}]}