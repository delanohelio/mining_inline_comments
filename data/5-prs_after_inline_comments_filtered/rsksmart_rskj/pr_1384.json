{"pr_number": 1384, "pr_title": "Build Block Blooms Database (2.2.0)", "pr_createdAt": "2020-12-03T18:00:19Z", "pr_url": "https://github.com/rsksmart/rskj/pull/1384", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTI3MDEwOA==", "url": "https://github.com/rsksmart/rskj/pull/1384#discussion_r541270108", "bodyText": "Why in nano?", "author": "patogallaiovlabs", "createdAt": "2020-12-11T20:44:48Z", "path": "rskj-core/src/main/java/co/rsk/core/bc/BlockChainFlusher.java", "diffHunk": "@@ -110,18 +107,16 @@ private void flushAll() {\n         totalTime = System.nanoTime() - saveTime;\n \n         if (logger.isTraceEnabled()) {\n-            logger.trace(\"receiptstore flush: [{}]seconds\", FormatUtils.formatNanosecondsToSeconds(totalTime));\n+            logger.trace(\"receiptstore flush: [{}]nano\", totalTime);", "originalCommit": "bd5ee2ec65782112391fc46a2b565828fad76469", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzMxMzMxNA==", "url": "https://github.com/rsksmart/rskj/pull/1384#discussion_r543313314", "bodyText": "Apparently, PAPYRUS-2.2.0-rc does not have the formatter to seconds", "author": "ajlopezrsk", "createdAt": "2020-12-15T12:48:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTI3MDEwOA=="}], "type": "inlineReview"}, {"oid": "9e739b221d734350772d75a025cb35909a0b4e88", "url": "https://github.com/rsksmart/rskj/commit/9e739b221d734350772d75a025cb35909a0b4e88", "message": "extracted methods for BlocksBloomProcessor", "committedDate": "2020-12-11T21:53:24Z", "type": "forcePushed"}, {"oid": "4f4631f5a3e0e0eb7e33c0214ef78c7701b680fa", "url": "https://github.com/rsksmart/rskj/commit/4f4631f5a3e0e0eb7e33c0214ef78c7701b680fa", "message": "Removing unused imports", "committedDate": "2020-12-21T19:45:52Z", "type": "forcePushed"}, {"oid": "5809896375872ab70f8e94405793eaf798c19b51", "url": "https://github.com/rsksmart/rskj/commit/5809896375872ab70f8e94405793eaf798c19b51", "message": "Removing unused imports", "committedDate": "2020-12-22T14:10:59Z", "type": "forcePushed"}, {"oid": "06c311caa9499055d42193f3ffbb3a63d432d8b0", "url": "https://github.com/rsksmart/rskj/commit/06c311caa9499055d42193f3ffbb3a63d432d8b0", "message": "Removing unused imports", "committedDate": "2020-12-23T15:37:28Z", "type": "forcePushed"}, {"oid": "6443014df222d2cd6f8c23970f22a2955df2cfc7", "url": "https://github.com/rsksmart/rskj/commit/6443014df222d2cd6f8c23970f22a2955df2cfc7", "message": "Removing unused imports", "committedDate": "2020-12-23T16:27:27Z", "type": "forcePushed"}, {"oid": "b9e010cc36a3c4fb43e8db7a26ff828f006ffcbd", "url": "https://github.com/rsksmart/rskj/commit/b9e010cc36a3c4fb43e8db7a26ff828f006ffcbd", "message": "Adding blocks to BlocksBloomBuilder", "committedDate": "2020-12-23T17:44:58Z", "type": "commit"}, {"oid": "a450fc99364e57db84c56b191b1ddc0a9639cf74", "url": "https://github.com/rsksmart/rskj/commit/a450fc99364e57db84c56b191b1ddc0a9639cf74", "message": "BlocksBloomBuilder saves BlocksBloom in process", "committedDate": "2020-12-23T17:44:58Z", "type": "commit"}, {"oid": "f0655a43726c865fab81a2587058e964f6035a42", "url": "https://github.com/rsksmart/rskj/commit/f0655a43726c865fab81a2587058e964f6035a42", "message": "Bloom blocks configuration, service, synchronized store", "committedDate": "2020-12-23T17:44:58Z", "type": "commit"}, {"oid": "a158fed698b86cc9e7dd20bbbf9787231c7beae4", "url": "https://github.com/rsksmart/rskj/commit/a158fed698b86cc9e7dd20bbbf9787231c7beae4", "message": "Set default no of blocks to 64; logging messages", "committedDate": "2020-12-23T17:44:58Z", "type": "commit"}, {"oid": "143068fa81ae5745c68f41e0381748fcdfdd5692", "url": "https://github.com/rsksmart/rskj/commit/143068fa81ae5745c68f41e0381748fcdfdd5692", "message": "Remove unused import", "committedDate": "2020-12-23T17:44:58Z", "type": "commit"}, {"oid": "d4ae3610611bbe2f79883ddf9e357552f5a193d2", "url": "https://github.com/rsksmart/rskj/commit/d4ae3610611bbe2f79883ddf9e357552f5a193d2", "message": "Rename BlocksBloomBuilder to BlocksBloomProcessor; rename setBlocksBloom method to addBlocksBloom; rename blocksBloom private variable to blocksBloomCache", "committedDate": "2020-12-23T17:44:59Z", "type": "commit"}, {"oid": "056198db1569aa3933f6be6b4d8e0e47cdba82ec", "url": "https://github.com/rsksmart/rskj/commit/056198db1569aa3933f6be6b4d8e0e47cdba82ec", "message": "Fix bug and refactor method BlocksBloomStore hasBlockNumber", "committedDate": "2020-12-23T17:44:59Z", "type": "commit"}, {"oid": "1595742ba87202dd34f96d93b3dd3954b0a57d0a", "url": "https://github.com/rsksmart/rskj/commit/1595742ba87202dd34f96d93b3dd3954b0a57d0a", "message": "Avoid processing negative block number; adding synchronization; adding visibility for testing; use HashMap instead of ConcurrentHashMap", "committedDate": "2020-12-23T17:44:59Z", "type": "commit"}, {"oid": "a5babc64d13811c3e7f7b8746ff042a5c164c361", "url": "https://github.com/rsksmart/rskj/commit/a5babc64d13811c3e7f7b8746ff042a5c164c361", "message": "Adding comments to classes and methods", "committedDate": "2020-12-23T17:44:59Z", "type": "commit"}, {"oid": "b8d5dcba4de55bdacc48587c5b37093042b532aa", "url": "https://github.com/rsksmart/rskj/commit/b8d5dcba4de55bdacc48587c5b37093042b532aa", "message": "Adding null checks to BlocksBloomStore dataSource", "committedDate": "2020-12-23T17:44:59Z", "type": "commit"}, {"oid": "0c97f7a804922c6c9696b7eb82fc023c6dd27469", "url": "https://github.com/rsksmart/rskj/commit/0c97f7a804922c6c9696b7eb82fc023c6dd27469", "message": "extracted methods for BlocksBloomProcessor", "committedDate": "2020-12-23T17:44:59Z", "type": "commit"}, {"oid": "7bac5b812ac95a989de7d0eedf7705d76a5aa5c0", "url": "https://github.com/rsksmart/rskj/commit/7bac5b812ac95a989de7d0eedf7705d76a5aa5c0", "message": "Time in nanoseconds in BlockChainFlusher (FormatUtils is still not present in 2.2.0-rc)", "committedDate": "2020-12-23T17:45:00Z", "type": "commit"}, {"oid": "11dc6b8fbb077b605596822452763ad2324f75a7", "url": "https://github.com/rsksmart/rskj/commit/11dc6b8fbb077b605596822452763ad2324f75a7", "message": "Removing unused imports", "committedDate": "2020-12-23T17:45:00Z", "type": "commit"}, {"oid": "11dc6b8fbb077b605596822452763ad2324f75a7", "url": "https://github.com/rsksmart/rskj/commit/11dc6b8fbb077b605596822452763ad2324f75a7", "message": "Removing unused imports", "committedDate": "2020-12-23T17:45:00Z", "type": "forcePushed"}, {"oid": "03ba92fe684453bfaee29dc42633375b716501bb", "url": "https://github.com/rsksmart/rskj/commit/03ba92fe684453bfaee29dc42633375b716501bb", "message": "Improve reference.conf declaration", "committedDate": "2020-12-23T17:47:16Z", "type": "commit"}]}