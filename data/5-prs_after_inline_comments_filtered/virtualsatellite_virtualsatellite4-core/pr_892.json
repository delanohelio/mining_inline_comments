{"pr_number": 892, "pr_title": "Feature/task 891 multiline state labels", "pr_createdAt": "2020-12-07T12:04:40Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892", "timeline": [{"oid": "feb584ff45fbf35cfd1a414ee87e5fcc11b5699c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/feb584ff45fbf35cfd1a414ee87e5fcc11b5699c", "message": "Implement multiline state label - (Task #891)", "committedDate": "2020-12-07T11:54:05Z", "type": "commit"}, {"oid": "f34f8369c90637b27ab64aa38fac8d834006e9e2", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/f34f8369c90637b27ab64aa38fac8d834006e9e2", "message": "Refactor transiition label provider", "committedDate": "2020-12-07T11:54:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MDAzMw==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537470033", "bodyText": "Maybe its just github but the whitespacing seems off in this method.", "author": "SaMuellerDLR", "createdAt": "2020-12-07T12:31:47Z", "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r\n+\t\r\n+\t\r\n+\t/**\r\n+\t * Formating a multi line label so that it wraps if following the camel case convention\r\n+\t * @param originalLabel the original label\r\n+\t * @return the formatted label\r\n+\t */\r\n+\tpublic String getLabel(String originalLabel) {\r\n+\t\tStringBuilder builder = new StringBuilder();\r\n+\t\toriginalLabel = originalLabel.replace('_', ' ');\r\n+\t\tchar[] charArray = originalLabel.toCharArray();\r\n+        for (int i = 0; i < charArray.length; i++) {\r\n+        \tif (Character.isUpperCase(charArray[i]) && i > 0 && !Character.isUpperCase(charArray[i - 1])) {\r\n+            \tbuilder.append(' ');\r\n+            }\r\n+            builder.append(charArray[i]);\r\n+        }\r\n+\t\treturn WordUtils.wrap(builder.toString(), 1);\r", "originalCommit": "f34f8369c90637b27ab64aa38fac8d834006e9e2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MDY4Mg==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537470682", "bodyText": "Could we start the for loop with i = 1 and then remove this condition?", "author": "SaMuellerDLR", "createdAt": "2020-12-07T12:32:52Z", "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r\n+\t\r\n+\t\r\n+\t/**\r\n+\t * Formating a multi line label so that it wraps if following the camel case convention\r\n+\t * @param originalLabel the original label\r\n+\t * @return the formatted label\r\n+\t */\r\n+\tpublic String getLabel(String originalLabel) {\r\n+\t\tStringBuilder builder = new StringBuilder();\r\n+\t\toriginalLabel = originalLabel.replace('_', ' ');\r\n+\t\tchar[] charArray = originalLabel.toCharArray();\r\n+        for (int i = 0; i < charArray.length; i++) {\r\n+        \tif (Character.isUpperCase(charArray[i]) && i > 0 && !Character.isUpperCase(charArray[i - 1])) {\r", "originalCommit": "f34f8369c90637b27ab64aa38fac8d834006e9e2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MTcyMg==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537471722", "bodyText": "Lets move the formatter to the model plugin, then we can also test it.\nI dont see any UI dependencies.", "author": "SaMuellerDLR", "createdAt": "2020-12-07T12:34:40Z", "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r", "originalCommit": "f34f8369c90637b27ab64aa38fac8d834006e9e2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MjE3NA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/892#discussion_r537472174", "bodyText": "Can we define a constant for the second parameter?", "author": "SaMuellerDLR", "createdAt": "2020-12-07T12:35:24Z", "path": "de.dlr.sc.virsat.model.extension.statemachines.ui/src/de/dlr/sc/virsat/model/extension/statemachines/ui/diagram/features/label/MultilineLabelFormatter.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*******************************************************************************\r\n+ * Copyright (c) 2008-2019 German Aerospace Center (DLR), Simulation and Software Technology, Germany.\r\n+ *\r\n+ * This program and the accompanying materials are made available under the\r\n+ * terms of the Eclipse Public License 2.0 which is available at\r\n+ * http://www.eclipse.org/legal/epl-2.0.\r\n+ *\r\n+ * SPDX-License-Identifier: EPL-2.0\r\n+ *******************************************************************************/\r\n+package de.dlr.sc.virsat.model.extension.statemachines.ui.diagram.features.label;\r\n+\r\n+import org.apache.commons.lang.WordUtils;\r\n+\r\n+/**\r\n+ * Formating a multi line label\r\n+ *\r\n+ */\r\n+public class MultilineLabelFormatter {\r\n+\t\r\n+\t\r\n+\t/**\r\n+\t * Formating a multi line label so that it wraps if following the camel case convention\r\n+\t * @param originalLabel the original label\r\n+\t * @return the formatted label\r\n+\t */\r\n+\tpublic String getLabel(String originalLabel) {\r\n+\t\tStringBuilder builder = new StringBuilder();\r\n+\t\toriginalLabel = originalLabel.replace('_', ' ');\r\n+\t\tchar[] charArray = originalLabel.toCharArray();\r\n+        for (int i = 0; i < charArray.length; i++) {\r\n+        \tif (Character.isUpperCase(charArray[i]) && i > 0 && !Character.isUpperCase(charArray[i - 1])) {\r\n+            \tbuilder.append(' ');\r\n+            }\r\n+            builder.append(charArray[i]);\r\n+        }\r\n+\t\treturn WordUtils.wrap(builder.toString(), 1);\r", "originalCommit": "f34f8369c90637b27ab64aa38fac8d834006e9e2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cb527aea8ce71ba4e10d551f775e57937f836bb4", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/cb527aea8ce71ba4e10d551f775e57937f836bb4", "message": "Some code improvements accroding to review - (Task #891)", "committedDate": "2020-12-07T13:07:00Z", "type": "commit"}, {"oid": "0ddaa298e9689f0041df7a4f3b1a63a33cd73183", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0ddaa298e9689f0041df7a4f3b1a63a33cd73183", "message": "Fix refactoring - (Task #891)", "committedDate": "2020-12-07T13:08:32Z", "type": "commit"}, {"oid": "a9ce0a70092df706ba8ee101834dffc6dec64d92", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/a9ce0a70092df706ba8ee101834dffc6dec64d92", "message": "Revert moving of transition label provider", "committedDate": "2020-12-07T13:11:43Z", "type": "commit"}, {"oid": "6b2dac5155829bc9b11ca222fee9d883c35cd840", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/6b2dac5155829bc9b11ca222fee9d883c35cd840", "message": "Move label formatter to virsat graphiti project - (Task #891)", "committedDate": "2020-12-07T13:16:50Z", "type": "commit"}, {"oid": "d88e84393ad9a99a773b8667d074c130a8954bb5", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d88e84393ad9a99a773b8667d074c130a8954bb5", "message": "Merge branch 'integration' into feature/task_891-Multiline_state_labels", "committedDate": "2020-12-07T13:31:52Z", "type": "commit"}, {"oid": "0bd24efa8f6e8f61d00eaaeba90ebf1a8b882a6c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/0bd24efa8f6e8f61d00eaaeba90ebf1a8b882a6c", "message": "Add tset for formatter - (Task #891)", "committedDate": "2020-12-07T13:51:50Z", "type": "commit"}, {"oid": "d852575cf4ee03c14d9ef7c4b8dd2d6fdc957fb1", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d852575cf4ee03c14d9ef7c4b8dd2d6fdc957fb1", "message": "Fix wrong version number", "committedDate": "2020-12-07T13:54:49Z", "type": "commit"}]}