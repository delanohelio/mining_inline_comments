{"pr_number": 420, "pr_title": "Improve Tree Traverser for use in CEFX", "pr_createdAt": "2020-01-14T12:26:03Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/420", "timeline": [{"oid": "017738f0c35677e44041e30f992fb21a6e087e31", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/017738f0c35677e44041e30f992fb21a6e087e31", "message": "Updated Interface of Matcher - (Task #414)\n\n- Added functionality to interface to decide on if child nodes should be\nproecessed or not.\n- Implement as default method always evaluating children if not\nimplemented in another way.\n- Adjusted algorithm of the traverser\n- Improved comments.\n\n---\nTask #414: Improve Tree Traverser Recursiveness", "committedDate": "2020-01-07T12:25:20Z", "type": "commit"}, {"oid": "804bc510e229c226ea64e92cfc8f9debeb13c1e2", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/804bc510e229c226ea64e92cfc8f9debeb13c1e2", "message": "Updated test case for tree traverser - (Task #414)\n\n- Added test case to check the new functionality to decide if children\nshould be further evaluated.\n\n---\nTask #414: Improve Tree Traverser Recursiveness", "committedDate": "2020-01-07T14:36:20Z", "type": "commit"}, {"oid": "9c63a0995740dde6a7a3523342cb80b04dac0596", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9c63a0995740dde6a7a3523342cb80b04dac0596", "message": "Merge remote-tracking branch 'origin/development' into feature/task_414-Improve_Tree_Traverse", "committedDate": "2020-01-14T12:20:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM1MTE4OA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/420#discussion_r366351188", "bodyText": "I don't like that the name processChildren is similar to processMatch, but they do totally different things. Let's maybe name it endTraversal or shortcutTraversal or isLeafNode", "author": "andriikovalov-dlr", "createdAt": "2020-01-14T13:57:32Z", "path": "de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/structural/tree/IBeanStructuralTreeTraverserMatcher.java", "diffHunk": "@@ -31,5 +31,17 @@\n \t * @param matchingParent the closest parent of the node that also matches the criteria.\r\n \t *        Can be null if the node does not have a matching parent\r\n \t */\r\n-\tvoid foundMatch(IBeanStructuralElementInstance treeNode, IBeanStructuralElementInstance matchingParent);\r\n+\tvoid processMatch(IBeanStructuralElementInstance treeNode, IBeanStructuralElementInstance matchingParent);\r\n+\t\r\n+\t/**\r\n+\t * This method tells if the children of the current node should be processed or not.\r\n+\t * \r\n+\t * Default behavior is that all children are processed.\r\n+\t * @param treeNode the node of which the children should be processed or not.\r\n+\t * @param isMatching the matching result which the traverser evaluated before.\r\n+\t * @return true in case the children should be processed. false in case not.\r\n+\t */\r\n+\tdefault boolean processChildren(IBeanStructuralElementInstance treeNode, boolean isMatching) {\r", "originalCommit": "9c63a0995740dde6a7a3523342cb80b04dac0596", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM2MTY2NQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/420#discussion_r366361665", "bodyText": "Agree. It would be a bit long but I would propose hasChildrenToProcess", "author": "SaMuellerDLR", "createdAt": "2020-01-14T14:16:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM1MTE4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM2NzQ2MA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/420#discussion_r366367460", "bodyText": "Yes, changed it to continueTraverseChildren", "author": "PhilMFischer", "createdAt": "2020-01-14T14:26:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM1MTE4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM1NTE1OA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/420#discussion_r366355158", "bodyText": "Do we really want to pass isMatching? We have this information in the matcher, then pass it to the traverser, and then pass it back to the matcher. If this information is relevant, we can just check it with isMatching in the matcher. I would suggest we remove it to have a cleaner interface.", "author": "andriikovalov-dlr", "createdAt": "2020-01-14T14:05:01Z", "path": "de.dlr.sc.virsat.model.edit/src/de/dlr/sc/virsat/model/concept/types/structural/tree/IBeanStructuralTreeTraverserMatcher.java", "diffHunk": "@@ -31,5 +31,17 @@\n \t * @param matchingParent the closest parent of the node that also matches the criteria.\r\n \t *        Can be null if the node does not have a matching parent\r\n \t */\r\n-\tvoid foundMatch(IBeanStructuralElementInstance treeNode, IBeanStructuralElementInstance matchingParent);\r\n+\tvoid processMatch(IBeanStructuralElementInstance treeNode, IBeanStructuralElementInstance matchingParent);\r\n+\t\r\n+\t/**\r\n+\t * This method tells if the children of the current node should be processed or not.\r\n+\t * \r\n+\t * Default behavior is that all children are processed.\r\n+\t * @param treeNode the node of which the children should be processed or not.\r\n+\t * @param isMatching the matching result which the traverser evaluated before.\r\n+\t * @return true in case the children should be processed. false in case not.\r\n+\t */\r\n+\tdefault boolean processChildren(IBeanStructuralElementInstance treeNode, boolean isMatching) {\r", "originalCommit": "9c63a0995740dde6a7a3523342cb80b04dac0596", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM2ODg0Ng==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/420#discussion_r366368846", "bodyText": "I see the point with the interface. Still, in CEF is a case where we need to process the isMatching again in the processing method, which would result in a duplicate call and duplicate processing of the same method which is quite inefficient.\nSince it is just an input parameter to the method i prefer leaving it in, since it does not need to be considered for the methods implementation if it has no value.", "author": "PhilMFischer", "createdAt": "2020-01-14T14:29:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjM1NTE1OA=="}], "type": "inlineReview"}, {"oid": "c2873b5ac03d4604da4848813dc59d07b4597353", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/c2873b5ac03d4604da4848813dc59d07b4597353", "message": "Changed interface due to review - (Task #414)\n\n- renamed method in interface to be more precies.\n\n---\nTask #414: Improve Tree Traverser Recursiveness", "committedDate": "2020-01-14T14:25:53Z", "type": "commit"}]}