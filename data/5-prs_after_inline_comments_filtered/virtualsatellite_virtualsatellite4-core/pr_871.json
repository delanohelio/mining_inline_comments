{"pr_number": 871, "pr_title": "Fixed Problems on GitHub Actions build on Ubuntu 18.04 nodes", "pr_createdAt": "2020-12-02T09:20:55Z", "pr_url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/871", "timeline": [{"oid": "86cf05d8b847402212a6a1302530d699cf977ff8", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/86cf05d8b847402212a6a1302530d699cf977ff8", "message": "Switching Linux Version to Ubuntu 18.04 - (Task #846)\n\n- Adjusted GitHub Actions workflow accordingly.\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-11-30T11:47:17Z", "type": "commit"}, {"oid": "ff808648e94310259b89471bc7cbc6a97e70ddbd", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/ff808648e94310259b89471bc7cbc6a97e70ddbd", "message": "Switching Linux Version to Ubuntu 18.04 - (Task #846)\n\n- Changed all places accordingly.\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-11-30T12:06:34Z", "type": "commit"}, {"oid": "ce913a2294337d763ae8e2cba58ebd2c43de235a", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/ce913a2294337d763ae8e2cba58ebd2c43de235a", "message": "Deactivated OpenSSL download and installation - (Task #846)\n\n- Ubuntu 18.04 should deliver the OpenSSL 1.1.1 by itself.\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-11-30T12:08:27Z", "type": "commit"}, {"oid": "f9dfc9d9962555a425d3664bb41bebb071a8cb29", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/f9dfc9d9962555a425d3664bb41bebb071a8cb29", "message": "Added Timeout to DMF Test cases - (Task #846)\n\n- Added time out again to test cases due to stuck DMF Resource Tests.\nTimeout now implemented as class rule\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-11-30T12:49:55Z", "type": "commit"}, {"oid": "e7b739701363f71c09ecef8cf8f6f12d3b3f3bf9", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/e7b739701363f71c09ecef8cf8f6f12d3b3f3bf9", "message": "Added Timeout to DMF Test cases - (Task #846)\n\n- Added time out again to test cases due to stuck DMF Resource Tests.\nTimeout now implemented as class rule\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-11-30T12:50:04Z", "type": "commit"}, {"oid": "ccddf3c9f9b4b6977b659dc14ff0699a78100cf7", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/ccddf3c9f9b4b6977b659dc14ff0699a78100cf7", "message": "Minor fix to DMF Resource on save handling - (Task #846)\n\n- Save operation is not bound to editing domain and may cause deadlocks.\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-11-30T15:47:56Z", "type": "commit"}, {"oid": "9bf9893e817820810208a3360ef76e387e68edc8", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/9bf9893e817820810208a3360ef76e387e68edc8", "message": "Streamlined DmfResourceTest setup using common class- (Task #846)\n\n- Using common common AConceptProjectTest case class to streamline and\nsimplify tets setup of DmfResourceTest\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-11-30T15:50:41Z", "type": "commit"}, {"oid": "be87b8c10d0ea6add572d64935e197d8f5142f74", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/be87b8c10d0ea6add572d64935e197d8f5142f74", "message": "Merge branch 'feature/task_846-GitHub_Actions_Bionic' of https://github.com/virtualsatellite/VirtualSatellite4-Core into feature/task_846-GitHub_Actions_Bionic", "committedDate": "2020-11-30T15:51:00Z", "type": "commit"}, {"oid": "8df3d7a974f8b72c49d98eb2c43365e693155c54", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8df3d7a974f8b72c49d98eb2c43365e693155c54", "message": "Trying to fix issue with ubuntu 18.04\n\n- Removed duplicate DmfResourceTest\n- Tried to fix detection of vtk and jzmq in setup_environment shell\nscript", "committedDate": "2020-12-01T14:56:12Z", "type": "commit"}, {"oid": "d6ac96368b11e65621de4876c228acac1aa64994", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d6ac96368b11e65621de4876c228acac1aa64994", "message": "Reverting maven build script\n\n- reenabling the script to run the overtarget dependencies setup first.", "committedDate": "2020-12-01T15:01:00Z", "type": "commit"}, {"oid": "d0252e9ed6015aa5c8680f90499ca7f42cdec0ad", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/d0252e9ed6015aa5c8680f90499ca7f42cdec0ad", "message": "Trying to improve setup_environment script", "committedDate": "2020-12-01T15:36:35Z", "type": "commit"}, {"oid": "947c54ae5d278b7002d3b5531157e881714257dc", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/947c54ae5d278b7002d3b5531157e881714257dc", "message": "Trying to improve setup_environment script", "committedDate": "2020-12-01T15:50:05Z", "type": "commit"}, {"oid": "75591588ab330fe4e92b6d2ed9fef9e67b30a112", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/75591588ab330fe4e92b6d2ed9fef9e67b30a112", "message": "Fixing launchers for SWT Bot debugging - (Task #846)\n\n- Adjusted launchers to contain correct feature dependencies\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-12-02T07:24:01Z", "type": "commit"}, {"oid": "8fe6a4d1b5c371c2ad3e421fd99f3cc8e328fab4", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8fe6a4d1b5c371c2ad3e421fd99f3cc8e328fab4", "message": "Added locale setup to Actions workflow script - (Task #846)\n\n- SWTBot needs a specific locale. Changed script to use en_US\n- Also removed run on overtarget which is intrinsic to the\nmaven_build.sh script\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-12-02T07:25:17Z", "type": "commit"}, {"oid": "932d0b06b885c21652c24ab6dcd64846765b4911", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/932d0b06b885c21652c24ab6dcd64846765b4911", "message": "Fixed SWT Bot editor test cases - (Task #846)\n\n- Fixed issue with typing an \"enter\" in the dynamic string tables. the\nold implementation was trying to issue an CR+LF which is first not\nneeded and was incorrectly implemented. Therefore the actual problem\nwith incorrect locale settings on the GitHUb ubuntu 18.04 machine was\nnot visible. Now fixed to send a correct CR only keystroke.\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-12-02T07:27:23Z", "type": "commit"}, {"oid": "ca07c4f47022b6202216bc2f6d9d58f159ae645c", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/ca07c4f47022b6202216bc2f6d9d58f159ae645c", "message": "Improved setup environment script - (Task #846)\n\n- Improved script to improve searching for dependencies sucha s vtk and\nzmq.\n- Changed sourcing of script to not exit on error.\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-12-02T07:28:39Z", "type": "commit"}, {"oid": "7d51d4bce4e55f2ca84a1a259264c8d95ec23267", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/7d51d4bce4e55f2ca84a1a259264c8d95ec23267", "message": "Adding template test case for not failing maven - (Task #846)\n\n- Added a template/dummy test case to extension.tests.edit.test plugin\nto make it succeed in maven builds\n\n---\nTask #846: GitHub Actions - Bionic Migration", "committedDate": "2020-12-02T08:24:02Z", "type": "commit"}, {"oid": "8e404953e06a0faf83048e75b0691c2e14e25ef6", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/commit/8e404953e06a0faf83048e75b0691c2e14e25ef6", "message": "Merge remote-tracking branch 'origin/development' into feature/task_846-GitHub_Actions_Bionic", "committedDate": "2020-12-02T09:23:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAzMjcxMA==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/871#discussion_r534032710", "bodyText": "I kind of remember that we changed something like that in the early times of DMF because of ti was messing up the order of saving resources, let me check that it is still working as we expect it.", "author": "franzTobiasDLR", "createdAt": "2020-12-02T09:51:13Z", "path": "de.dlr.sc.virsat.project/src/de/dlr/sc/virsat/project/resources/dmf/DmfResource.java", "diffHunk": "@@ -98,7 +98,7 @@ protected void saveDMFResource(Map<?, ?> options) throws IOException {\n \t\t// Use NoUndo to suppress notification of this infrastructure-related\r\n \t\t// operation\r\n \t\tvirSatEd.getVirSatCommandStack().executeNoUndo(dmfResourceSaveCommand);\r\n-\t\tvirSatDvlmResource.save(options);\r\n+\t\tvirSatEd.saveAll();\r", "originalCommit": "8e404953e06a0faf83048e75b0691c2e14e25ef6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA2NzEwOQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/871#discussion_r534067109", "bodyText": "Yes would be great if you could check this. We had two DmfResource Test classes which was creating trouble for whatever reason. Nevertheless saving a dvlm resource outside the editing domain sounds very error prone. If there is an issue with the order of saving we should carefully review what we are doing here.", "author": "PhilMFischer", "createdAt": "2020-12-02T10:41:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAzMjcxMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDU0MzgzNQ==", "url": "https://github.com/virtualsatellite/VirtualSatellite4-Core/pull/871#discussion_r534543835", "bodyText": "After some intence testing I didn't find any problems.... Let's try it.", "author": "franzTobiasDLR", "createdAt": "2020-12-02T23:08:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAzMjcxMA=="}], "type": "inlineReview"}]}