{"pr_number": 575, "pr_title": "bug1846565 - JSS: Extensions in CertificateExtensions class could get\u2026", "pr_createdAt": "2020-06-11T22:54:30Z", "pr_url": "https://github.com/dogtagpki/jss/pull/575", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTE0MjEzMQ==", "url": "https://github.com/dogtagpki/jss/pull/575#discussion_r439142131", "bodyText": "Nitpick: this impor seems unused?", "author": "SilleBille", "createdAt": "2020-06-12T00:19:45Z", "path": "org/mozilla/jss/netscape/security/x509/CertificateExtensions.java", "diffHunk": "@@ -27,8 +27,10 @@\n import java.lang.reflect.Constructor;\n import java.lang.reflect.InvocationTargetException;\n import java.security.cert.CertificateException;\n+import java.util.Collections;\n+import java.util.Collection;", "originalCommit": "3daf7e171b928501f25bb14c1178fa129a0f0941", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTE0Mzk5MQ==", "url": "https://github.com/dogtagpki/jss/pull/575#discussion_r439143991", "bodyText": "Any reason why we are returning a Vector? Can we reuse the getName() method? Like this?\nreturn getNames();", "author": "SilleBille", "createdAt": "2020-06-12T00:24:11Z", "path": "org/mozilla/jss/netscape/security/x509/CertificateExtensions.java", "diffHunk": "@@ -253,19 +255,19 @@ public void delete(String name) throws IOException {\n     }\n \n     public Enumeration<String> getNames() {\n-        return map.keys();\n+        return Collections.enumeration(map.keySet());\n     }\n \n     /**\n      * Return an enumeration of names of attributes existing within this\n      * attribute.\n      */\n     public Enumeration<Extension> getAttributes() {\n-        return (map.elements());\n+        return new Vector(map.values()).elements();\n     }\n \n     public Enumeration<String> getAttributeNames() {\n-        return (map.keys());\n+        return new Vector(map.keySet()).elements();", "originalCommit": "3daf7e171b928501f25bb14c1178fa129a0f0941", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTE0NTA3Mg==", "url": "https://github.com/dogtagpki/jss/pull/575#discussion_r439145072", "bodyText": "Why not use Collections class to convert to Enumeration?\nreturn Collections.enumeration(map.values());", "author": "SilleBille", "createdAt": "2020-06-12T00:28:37Z", "path": "org/mozilla/jss/netscape/security/x509/CertificateExtensions.java", "diffHunk": "@@ -253,19 +255,19 @@ public void delete(String name) throws IOException {\n     }\n \n     public Enumeration<String> getNames() {\n-        return map.keys();\n+        return Collections.enumeration(map.keySet());\n     }\n \n     /**\n      * Return an enumeration of names of attributes existing within this\n      * attribute.\n      */\n     public Enumeration<Extension> getAttributes() {\n-        return (map.elements());\n+        return new Vector(map.values()).elements();", "originalCommit": "3daf7e171b928501f25bb14c1178fa129a0f0941", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a69d3a860db34a68ee706f6341874761b5cb3d6e", "url": "https://github.com/dogtagpki/jss/commit/a69d3a860db34a68ee706f6341874761b5cb3d6e", "message": "bug1846565 - JSS: Extensions in CertificateExtensions class could get out of order and cause signature discrepency\n\nThis patch replaces Hashtable with LinkedHashMap to ensure order of\nextensions.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1846565", "committedDate": "2020-06-16T17:53:06Z", "type": "commit"}, {"oid": "a69d3a860db34a68ee706f6341874761b5cb3d6e", "url": "https://github.com/dogtagpki/jss/commit/a69d3a860db34a68ee706f6341874761b5cb3d6e", "message": "bug1846565 - JSS: Extensions in CertificateExtensions class could get out of order and cause signature discrepency\n\nThis patch replaces Hashtable with LinkedHashMap to ensure order of\nextensions.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1846565", "committedDate": "2020-06-16T17:53:06Z", "type": "forcePushed"}]}