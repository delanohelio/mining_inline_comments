{"pr_number": 2280, "pr_title": "Move Pub/Sub health autoconfiguration under main one", "pr_createdAt": "2020-03-26T00:05:45Z", "pr_url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2280", "timeline": [{"oid": "d5d1e6434494e9e5e298fb61710099df86dfd65d", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/d5d1e6434494e9e5e298fb61710099df86dfd65d", "message": "move Pub/Sub health autoconfiguration under main one", "committedDate": "2020-03-29T03:18:16Z", "type": "commit"}, {"oid": "8d488dc53f5f75f3c1e8a405bcff3c125db58240", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/8d488dc53f5f75f3c1e8a405bcff3c125db58240", "message": "checkstyle. It helps to actually commit the changes", "committedDate": "2020-03-29T03:18:16Z", "type": "commit"}, {"oid": "67fe42aae0a6d940b67f206297a4f3f4d195827d", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/67fe42aae0a6d940b67f206297a4f3f4d195827d", "message": "remove autoconfig refactoring; add bean config condition", "committedDate": "2020-03-29T03:28:56Z", "type": "commit"}, {"oid": "67fe42aae0a6d940b67f206297a4f3f4d195827d", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/67fe42aae0a6d940b67f206297a4f3f4d195827d", "message": "remove autoconfig refactoring; add bean config condition", "committedDate": "2020-03-29T03:28:56Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE4MDE3NQ==", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2280#discussion_r400180175", "bodyText": "I think we should mention this property in the refdoc as well.", "author": "meltsufin", "createdAt": "2020-03-30T13:13:55Z", "path": "spring-cloud-gcp-autoconfigure/src/test/java/org/springframework/cloud/gcp/autoconfigure/pubsub/PubSubHealthIndicatorTests.java", "diffHunk": "@@ -69,4 +72,16 @@ public void healthDownGenericException() {\n \t\tassertThat(healthIndicator.health().getStatus()).isEqualTo(Status.DOWN);\n \t}\n \n+\t@Test\n+\tpublic void healthIndicatorDisabledWhenPubSubTurnedOff() {\n+\t\tApplicationContextRunner contextRunner = new ApplicationContextRunner()\n+\t\t\t\t.withConfiguration(AutoConfigurations.of(\n+\t\t\t\t\t\tGcpPubSubAutoConfiguration.class, PubSubHealthIndicatorAutoConfiguration.class))\n+\t\t\t\t.withPropertyValues(\"spring.cloud.gcp.datastore.project-id=test-project\",\n+\t\t\t\t\t\t\"management.health.pubsub.enabled=true\",", "originalCommit": "67fe42aae0a6d940b67f206297a4f3f4d195827d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c6a110994a95e5751d0c68fbf6c7a7bcb2e71ff2", "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/c6a110994a95e5751d0c68fbf6c7a7bcb2e71ff2", "message": "added property for fine-grained health indicator control to docs", "committedDate": "2020-03-30T15:24:13Z", "type": "commit"}]}