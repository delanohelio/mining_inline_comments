{"pr_number": 58688, "pr_title": "Make DataStream instances explicitly immutable", "pr_createdAt": "2020-06-29T16:15:31Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/58688", "timeline": [{"oid": "a09bd13ea191293c5318c619d6cfe9cb191670ec", "url": "https://github.com/elastic/elasticsearch/commit/a09bd13ea191293c5318c619d6cfe9cb191670ec", "message": "Make DataStream instances explicitly immutable", "committedDate": "2020-06-29T16:13:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5NjM4OQ==", "url": "https://github.com/elastic/elasticsearch/pull/58688#discussion_r447096389", "bodyText": "No need for this since the other ctor already wraps in Collections.unmodifiableList right?", "author": "original-brownbear", "createdAt": "2020-06-29T16:23:40Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java", "diffHunk": "@@ -148,7 +149,7 @@ public static String getDefaultBackingIndexName(String dataStreamName, long gene\n     }\n \n     public DataStream(StreamInput in) throws IOException {\n-        this(in.readString(), new TimestampField(in), in.readList(Index::new), in.readVLong());\n+        this(in.readString(), new TimestampField(in), Collections.unmodifiableList(in.readList(Index::new)), in.readVLong());", "originalCommit": "a09bd13ea191293c5318c619d6cfe9cb191670ec", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "db7f9804ce79bc6cc2bfdea9552345036800e3fa", "url": "https://github.com/elastic/elasticsearch/commit/db7f9804ce79bc6cc2bfdea9552345036800e3fa", "message": "remove redundant constructor code", "committedDate": "2020-06-29T18:46:21Z", "type": "commit"}, {"oid": "8f75c8fceaab3a45929697f849bbbdd6eba2632e", "url": "https://github.com/elastic/elasticsearch/commit/8f75c8fceaab3a45929697f849bbbdd6eba2632e", "message": "Merge branch 'master' into immutable_data_streams", "committedDate": "2020-06-29T23:46:09Z", "type": "commit"}]}