{"pr_number": 51131, "pr_title": "Remove genereics & hard coded ValuesSource references from Matrix Stats", "pr_createdAt": "2020-01-16T21:20:29Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/51131", "timeline": [{"oid": "7fe17a4c7724af5d2ab4930716ef22caa087db72", "url": "https://github.com/elastic/elasticsearch/commit/7fe17a4c7724af5d2ab4930716ef22caa087db72", "message": "get rid of custom ValuesSourceConfig creation logic", "committedDate": "2020-01-16T20:29:43Z", "type": "commit"}, {"oid": "4c6eefcfe508b986d74e6f04e3073a51948b9cc6", "url": "https://github.com/elastic/elasticsearch/commit/4c6eefcfe508b986d74e6f04e3073a51948b9cc6", "message": "remove generics and hard coding", "committedDate": "2020-01-16T20:53:08Z", "type": "commit"}, {"oid": "2a986bdd91995d3881067076d41db9d5a1872fdb", "url": "https://github.com/elastic/elasticsearch/commit/2a986bdd91995d3881067076d41db9d5a1872fdb", "message": "inline the now tiny config function", "committedDate": "2020-01-16T20:58:06Z", "type": "commit"}, {"oid": "59f58f8bba4425071d26ffb760e76f704d3e87e3", "url": "https://github.com/elastic/elasticsearch/commit/59f58f8bba4425071d26ffb760e76f704d3e87e3", "message": "more small cleanup", "committedDate": "2020-01-16T21:06:33Z", "type": "commit"}, {"oid": "1bb002a7bf477e422a0d3b6abf80c03ae7bd671a", "url": "https://github.com/elastic/elasticsearch/commit/1bb002a7bf477e422a0d3b6abf80c03ae7bd671a", "message": "Fix checkstyle", "committedDate": "2020-01-21T15:23:20Z", "type": "commit"}, {"oid": "bcd453a3878bdf9ada295d704485d7783544ef52", "url": "https://github.com/elastic/elasticsearch/commit/bcd453a3878bdf9ada295d704485d7783544ef52", "message": "Merge branch 'feature/extensible-values-source' into fix-array-values-source-aggregation-builder", "committedDate": "2020-01-21T18:18:06Z", "type": "commit"}, {"oid": "fff070764ca5665924d7f0c179843c992b3c2846", "url": "https://github.com/elastic/elasticsearch/commit/fff070764ca5665924d7f0c179843c992b3c2846", "message": "Fix merge error", "committedDate": "2020-01-21T21:53:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTU4MjU5OQ==", "url": "https://github.com/elastic/elasticsearch/pull/51131#discussion_r369582599", "bodyText": "Huh, was this all just copy pasta from the main VSConfig resolve?", "author": "polyfractal", "createdAt": "2020-01-22T14:15:01Z", "path": "modules/aggs-matrix-stats/src/main/java/org/elasticsearch/search/aggregations/support/ArrayValuesSourceAggregationBuilder.java", "diffHunk": "@@ -260,76 +207,6 @@ protected abstract ArrayValuesSourceAggregatorFactory innerBuild(QueryShardConte\n                                                                      AggregatorFactory parent,\n                                                                      AggregatorFactories.Builder subFactoriesBuilder) throws IOException;\n \n-    public ValuesSourceConfig config(QueryShardContext queryShardContext, String field, Script script) {", "originalCommit": "fff070764ca5665924d7f0c179843c992b3c2846", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTU5NjEwOA==", "url": "https://github.com/elastic/elasticsearch/pull/51131#discussion_r369596108", "bodyText": "Not exactly.  There are differences, but I don't think they matter.  For example, this code ignores the script and just treats a query that specified a script as if it was unmapped.  Which, honestly, seems more like a bug waiting to happen than anything else.  (The parser already enforces not sending a script, so I'm not worried that going to suddenly start getting script errors)", "author": "not-napoleon", "createdAt": "2020-01-22T14:36:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTU4MjU5OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTU5ODQxNg==", "url": "https://github.com/elastic/elasticsearch/pull/51131#discussion_r369598416", "bodyText": "\ud83d\udc4d", "author": "polyfractal", "createdAt": "2020-01-22T14:40:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTU4MjU5OQ=="}], "type": "inlineReview"}, {"oid": "78d93eeeca8ec5ee8d778c4fd3e6c8e532736c0b", "url": "https://github.com/elastic/elasticsearch/commit/78d93eeeca8ec5ee8d778c4fd3e6c8e532736c0b", "message": "Merge branch 'feature/extensible-values-source' into fix-array-values-source-aggregation-builder", "committedDate": "2020-01-22T15:45:55Z", "type": "commit"}]}