{"pr_number": 58367, "pr_title": "Drop deprecated aggregator wrapper", "pr_createdAt": "2020-06-18T22:20:52Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/58367", "timeline": [{"oid": "53fd17ddf1c67997bf34f2d49b23464ab8b7d2cc", "url": "https://github.com/elastic/elasticsearch/commit/53fd17ddf1c67997bf34f2d49b23464ab8b7d2cc", "message": "Drop deprecated aggregator wrapper\n\nThis drops the deprecated and now unused `asMultiBucketAggregator`. It\nwas too easy to use it to make inefficient `Aggregators`.\n\nRelates to #56487", "committedDate": "2020-06-18T22:15:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUzMzM1Mw==", "url": "https://github.com/elastic/elasticsearch/pull/58367#discussion_r442533353", "bodyText": "I already fixed this but somehow didn't remove this! It passed 1000 times for me though.", "author": "nik9000", "createdAt": "2020-06-18T22:21:30Z", "path": "server/src/test/java/org/elasticsearch/search/aggregations/bucket/nested/ReverseNestedAggregatorTests.java", "diffHunk": "@@ -240,13 +238,7 @@ public void testFieldAlias() throws IOException {\n         }\n     }\n \n-    /**\n-     * {@link NumericTermsAggregator} is the first complex bucking aggregation\n-     * that stopped wrapping itself in {@link AggregatorFactory#asMultiBucketAggregator}\n-     * so this tests that nested works properly inside of it.\n-     */\n-    @AwaitsFix(bugUrl = \"https://github.com/elastic/elasticsearch/issues/56529\")", "originalCommit": "53fd17ddf1c67997bf34f2d49b23464ab8b7d2cc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUzNjk0Mw==", "url": "https://github.com/elastic/elasticsearch/pull/58367#discussion_r442536943", "bodyText": "\ud83d\udcaf \ud83d\udcaf \ud83d\udcaf", "author": "talevy", "createdAt": "2020-06-18T22:32:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUzMzM1Mw=="}], "type": "inlineReview"}]}