{"pr_number": 62515, "pr_title": "Make yamlRestTest and javaRestTest tasks lazy", "pr_createdAt": "2020-09-17T02:00:38Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/62515", "timeline": [{"oid": "709e4f9d30e551cd693d0cb6070064300aa8d660", "url": "https://github.com/elastic/elasticsearch/commit/709e4f9d30e551cd693d0cb6070064300aa8d660", "message": "initial commit", "committedDate": "2020-09-17T13:57:22Z", "type": "commit"}, {"oid": "d3c053d1ccf75e0c76632056e2f270a82f02f5b5", "url": "https://github.com/elastic/elasticsearch/commit/d3c053d1ccf75e0c76632056e2f270a82f02f5b5", "message": "break up the method", "committedDate": "2020-09-17T13:57:23Z", "type": "commit"}, {"oid": "3af181dc67710f8fb3b5b31f125d93ff1962770b", "url": "https://github.com/elastic/elasticsearch/commit/3af181dc67710f8fb3b5b31f125d93ff1962770b", "message": "spotless", "committedDate": "2020-09-17T13:57:23Z", "type": "commit"}, {"oid": "76cb679adff4c06e376c31a08db4f5da26076f42", "url": "https://github.com/elastic/elasticsearch/commit/76cb679adff4c06e376c31a08db4f5da26076f42", "message": "register, not create the testCluster container", "committedDate": "2020-09-17T13:57:23Z", "type": "commit"}, {"oid": "76cb679adff4c06e376c31a08db4f5da26076f42", "url": "https://github.com/elastic/elasticsearch/commit/76cb679adff4c06e376c31a08db4f5da26076f42", "message": "register, not create the testCluster container", "committedDate": "2020-09-17T13:57:23Z", "type": "forcePushed"}, {"oid": "01a094d25925a17aaa4a7f7cb4ef7d61b03f58f1", "url": "https://github.com/elastic/elasticsearch/commit/01a094d25925a17aaa4a7f7cb4ef7d61b03f58f1", "message": "Revert \"register, not create the testCluster container\"\n\nThis reverts commit 76cb679adff4c06e376c31a08db4f5da26076f42.", "committedDate": "2020-09-17T14:16:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDYwNjc2NQ==", "url": "https://github.com/elastic/elasticsearch/pull/62515#discussion_r490606765", "bodyText": "When will this have not already been created? Shouldn't the java/yaml plugins have already created it?", "author": "rjernst", "createdAt": "2020-09-17T22:56:53Z", "path": "buildSrc/src/main/java/org/elasticsearch/gradle/test/RestTestBasePlugin.java", "diffHunk": "@@ -41,7 +41,7 @@ public void apply(Project project) {\n             NamedDomainObjectContainer<ElasticsearchCluster> testClusters = (NamedDomainObjectContainer<ElasticsearchCluster>) project\n                 .getExtensions()\n                 .getByName(TestClustersPlugin.EXTENSION_NAME);\n-            ElasticsearchCluster cluster = testClusters.create(restIntegTestTask.getName());\n+            ElasticsearchCluster cluster = testClusters.maybeCreate(restIntegTestTask.getName());", "originalCommit": "01a094d25925a17aaa4a7f7cb4ef7d61b03f58f1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MTEyMw==", "url": "https://github.com/elastic/elasticsearch/pull/62515#discussion_r490961123", "bodyText": "We still have a quite a few QA tests that use the StandaloneRestTest (instead of yamlRestTest or javaRestTest) those tests generally are more customized tests with specific setup/creation in the build.gradle files via .create.", "author": "jakelandis", "createdAt": "2020-09-18T13:47:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDYwNjc2NQ=="}], "type": "inlineReview"}]}