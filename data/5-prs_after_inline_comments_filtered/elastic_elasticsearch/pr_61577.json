{"pr_number": 61577, "pr_title": "Log more information when mappings fail on index creation", "pr_createdAt": "2020-08-26T12:17:54Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/61577", "timeline": [{"oid": "8c7fd4ee63e673e5647133fe529406f7e0bbd88a", "url": "https://github.com/elastic/elasticsearch/commit/8c7fd4ee63e673e5647133fe529406f7e0bbd88a", "message": "Log more information when mappings fail on index creation", "committedDate": "2020-08-26T12:14:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQwNzI1OQ==", "url": "https://github.com/elastic/elasticsearch/pull/61577#discussion_r477407259", "bodyText": "Can we also include the stacktrace of the error?", "author": "dnhatn", "createdAt": "2020-08-26T15:51:47Z", "path": "server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java", "diffHunk": "@@ -395,7 +395,8 @@ private ClusterState applyCreateIndexWithTemporaryService(final ClusterState cur\n             try {\n                 updateIndexMappingsAndBuildSortOrder(indexService, request, mappings, sourceMetadata);\n             } catch (Exception e) {\n-                logger.debug(\"failed on parsing mappings on index creation [{}]\", request.index());\n+                logger.log(silent ? Level.DEBUG : Level.INFO,", "originalCommit": "8c7fd4ee63e673e5647133fe529406f7e0bbd88a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODM0NjMxNg==", "url": "https://github.com/elastic/elasticsearch/pull/61577#discussion_r478346316", "bodyText": "I put that in initially and then changed my mind, as I have an aversion to logging stack traces from user errors.  It would make debugging easier though, I agree, so I'll add it back.", "author": "romseygeek", "createdAt": "2020-08-27T11:28:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQwNzI1OQ=="}], "type": "inlineReview"}, {"oid": "c46c4855e975ddbe4c7ab9d00af2bb672c87da85", "url": "https://github.com/elastic/elasticsearch/commit/c46c4855e975ddbe4c7ab9d00af2bb672c87da85", "message": "stack trace as well", "committedDate": "2020-08-27T11:30:59Z", "type": "commit"}]}