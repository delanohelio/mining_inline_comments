{"pr_number": 60298, "pr_title": "Move deprecation HTTP tests to deprecation plugin", "pr_createdAt": "2020-07-28T14:12:27Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/60298", "timeline": [{"oid": "80218062fa4459dafc978c3266ce7e7b203d1360", "url": "https://github.com/elastic/elasticsearch/commit/80218062fa4459dafc978c3266ce7e7b203d1360", "message": "Move deprecation HTTP tests to deprecation plugin", "committedDate": "2020-07-28T14:07:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MDI0OQ==", "url": "https://github.com/elastic/elasticsearch/pull/60298#discussion_r461750249", "bodyText": "This should probably be moved to org.elasticsearch.xpack.deprecation?", "author": "rjernst", "createdAt": "2020-07-28T17:27:56Z", "path": "x-pack/plugin/deprecation/src/internalClusterTest/java/org/elasticsearch/http/DeprecationHttpIT.java", "diffHunk": "@@ -1,50 +1,55 @@\n /*\n- * Licensed to Elasticsearch under one or more contributor\n- * license agreements. See the NOTICE file distributed with\n- * this work for additional information regarding copyright\n- * ownership. Elasticsearch licenses this file to you under\n- * the Apache License, Version 2.0 (the \"License\"); you may\n- * not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n+ * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n+ * or more contributor license agreements. Licensed under the Elastic License;\n+ * you may not use this file except in compliance with the Elastic License.\n  */\n package org.elasticsearch.http;", "originalCommit": "80218062fa4459dafc978c3266ce7e7b203d1360", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg0MDA5MA==", "url": "https://github.com/elastic/elasticsearch/pull/60298#discussion_r461840090", "bodyText": "Thanks Ryan, I've moved this class you suggest.", "author": "pugnascotia", "createdAt": "2020-07-28T19:57:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MDI0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MDY0Nw==", "url": "https://github.com/elastic/elasticsearch/pull/60298#discussion_r461750647", "bodyText": "This should probably be org.elasticsearch.xpack.deprecation?", "author": "rjernst", "createdAt": "2020-07-28T17:28:33Z", "path": "x-pack/plugin/deprecation/src/internalClusterTest/java/org/elasticsearch/http/plugin/TestDeprecationHeaderRestAction.java", "diffHunk": "@@ -1,22 +1,9 @@\n /*\n- * Licensed to Elasticsearch under one or more contributor\n- * license agreements. See the NOTICE file distributed with\n- * this work for additional information regarding copyright\n- * ownership. Elasticsearch licenses this file to you under\n- * the Apache License, Version 2.0 (the \"License\"); you may\n- * not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *    http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing,\n- * software distributed under the License is distributed on an\n- * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n- * KIND, either express or implied.  See the License for the\n- * specific language governing permissions and limitations\n- * under the License.\n+ * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n+ * or more contributor license agreements. Licensed under the Elastic License;\n+ * you may not use this file except in compliance with the Elastic License.\n  */\n-package org.elasticsearch.http;\n+package org.elasticsearch.http.plugin;", "originalCommit": "80218062fa4459dafc978c3266ce7e7b203d1360", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTg0MDg4NQ==", "url": "https://github.com/elastic/elasticsearch/pull/60298#discussion_r461840885", "bodyText": "I moved this to org.elasticsearch.xpack.deprecation.plugin. I felt that keeping the plugin part was ever so slightly nicer since those classes are indeed loaded as an ES plugin, and don't contain the test code itself. However I can change that again if you feel strongly about it.", "author": "pugnascotia", "createdAt": "2020-07-28T19:58:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MDY0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk1ODQ3OA==", "url": "https://github.com/elastic/elasticsearch/pull/60298#discussion_r461958478", "bodyText": "I don't feel strongly, but I think we have overused plugin as a package suffix. The o.e.x.deprecation is meaningful on its own, and tests living in the same package as the plugin they are testing seems valid.", "author": "rjernst", "createdAt": "2020-07-28T23:52:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MDY0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0MjcwMQ==", "url": "https://github.com/elastic/elasticsearch/pull/60298#discussion_r462142701", "bodyText": "On reflection I agree with you, so I've moved the classes. Having a proliferation of \"plugin\" packages doesn't seem useful.", "author": "pugnascotia", "createdAt": "2020-07-29T08:51:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MDY0Nw=="}], "type": "inlineReview"}, {"oid": "6ed2c01427967c71049b1c35fd70b1893bc7a3ab", "url": "https://github.com/elastic/elasticsearch/commit/6ed2c01427967c71049b1c35fd70b1893bc7a3ab", "message": "Fix packages", "committedDate": "2020-07-28T19:54:18Z", "type": "commit"}, {"oid": "4d7d19ecfa2ed2ea475310fbd806e2d1ed4fb3da", "url": "https://github.com/elastic/elasticsearch/commit/4d7d19ecfa2ed2ea475310fbd806e2d1ed4fb3da", "message": "Apply review comments", "committedDate": "2020-07-29T08:50:38Z", "type": "commit"}, {"oid": "47589cb19336236329d3588b49861202432dea62", "url": "https://github.com/elastic/elasticsearch/commit/47589cb19336236329d3588b49861202432dea62", "message": "Restore required file", "committedDate": "2020-07-29T08:55:56Z", "type": "commit"}, {"oid": "8ae4a26938c07a6587358189f03fc7407f5aadbb", "url": "https://github.com/elastic/elasticsearch/commit/8ae4a26938c07a6587358189f03fc7407f5aadbb", "message": "Merge remote-tracking branch 'upstream/master' into move-deprecation-integ-test", "committedDate": "2020-07-29T08:56:00Z", "type": "commit"}, {"oid": "fd66568365484ea04d29a7ce247e495ac5c1cd76", "url": "https://github.com/elastic/elasticsearch/commit/fd66568365484ea04d29a7ce247e495ac5c1cd76", "message": "Checkstyle", "committedDate": "2020-07-29T09:05:37Z", "type": "commit"}, {"oid": "115a5f6715d438673e25a1bdb1bbc76cb560df10", "url": "https://github.com/elastic/elasticsearch/commit/115a5f6715d438673e25a1bdb1bbc76cb560df10", "message": "Fix jarHell", "committedDate": "2020-07-30T14:40:15Z", "type": "commit"}, {"oid": "ecc923c4ead07a585277a40cf41b3ad67c9448c9", "url": "https://github.com/elastic/elasticsearch/commit/ecc923c4ead07a585277a40cf41b3ad67c9448c9", "message": "Checkstyle", "committedDate": "2020-07-30T14:46:28Z", "type": "commit"}, {"oid": "7cd2d366fda719ad764a6bca54859a4a1c36640e", "url": "https://github.com/elastic/elasticsearch/commit/7cd2d366fda719ad764a6bca54859a4a1c36640e", "message": "Merge branch 'master' into move-deprecation-integ-test", "committedDate": "2020-07-30T15:21:03Z", "type": "commit"}]}