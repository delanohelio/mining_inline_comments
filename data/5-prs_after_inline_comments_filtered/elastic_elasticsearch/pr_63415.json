{"pr_number": 63415, "pr_title": "EQL: Avoid filtering on tiebreakers", "pr_createdAt": "2020-10-07T15:08:10Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/63415", "timeline": [{"oid": "de295de23ce795a30162958f7ee1c4f38676f72a", "url": "https://github.com/elastic/elasticsearch/commit/de295de23ce795a30162958f7ee1c4f38676f72a", "message": "EQL: Avoid filtering on tiebreakers\n\nDo not filter by tiebreaker while searching sequence matches as\nit's not monotonic and thus can filter out valid data.\nAdd handling for data 'near' the boundary that has the same timestamp\nbut different tie-breaker and thus can be just outside the window.\n\nFix #62781\nRelates #63215", "committedDate": "2020-10-07T15:40:04Z", "type": "commit"}, {"oid": "de295de23ce795a30162958f7ee1c4f38676f72a", "url": "https://github.com/elastic/elasticsearch/commit/de295de23ce795a30162958f7ee1c4f38676f72a", "message": "EQL: Avoid filtering on tiebreakers\n\nDo not filter by tiebreaker while searching sequence matches as\nit's not monotonic and thus can filter out valid data.\nAdd handling for data 'near' the boundary that has the same timestamp\nbut different tie-breaker and thus can be just outside the window.\n\nFix #62781\nRelates #63215", "committedDate": "2020-10-07T15:40:04Z", "type": "forcePushed"}, {"oid": "1ff4fd125de499f05058a59a5026c3906908252c", "url": "https://github.com/elastic/elasticsearch/commit/1ff4fd125de499f05058a59a5026c3906908252c", "message": "Update test specs", "committedDate": "2020-10-07T16:57:28Z", "type": "commit"}, {"oid": "f7f8af6e6fc420dd63a5d236d646cd3d73662254", "url": "https://github.com/elastic/elasticsearch/commit/f7f8af6e6fc420dd63a5d236d646cd3d73662254", "message": "More docs", "committedDate": "2020-10-07T17:54:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTUxNTQzOA==", "url": "https://github.com/elastic/elasticsearch/pull/63415#discussion_r501515438", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        // however check if the window has been fully consumed consumed\n          \n          \n            \n                        // however check if the window has been fully consumed", "author": "matriv", "createdAt": "2020-10-08T07:49:56Z", "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/execution/sequence/TumblingWindow.java", "diffHunk": "@@ -245,7 +264,8 @@ private void secondaryCriterion(WindowInfo window, int currentStage, ActionListe\n             }\n \n             // keep running the query runs out of the results (essentially returns less than what we want)\n-            if (hits.size() == windowSize) {\n+            // however check if the window has been fully consumed consumed", "originalCommit": "f7f8af6e6fc420dd63a5d236d646cd3d73662254", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eaf18c2d9ead41604ef6dbb8dec782b40a97248a", "url": "https://github.com/elastic/elasticsearch/commit/eaf18c2d9ead41604ef6dbb8dec782b40a97248a", "message": "fix comment", "committedDate": "2020-10-08T09:16:30Z", "type": "commit"}]}