{"pr_number": 53768, "pr_title": "value type, unmapped fields, scripting, missing param tests for stats agg", "pr_createdAt": "2020-03-18T21:23:33Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/53768", "timeline": [{"oid": "88a401b989b4a1fddf34038ae02fff6dbf9b7314", "url": "https://github.com/elastic/elasticsearch/commit/88a401b989b4a1fddf34038ae02fff6dbf9b7314", "message": "add tests to StatsAggregatorTests\n\nAdds tests for supported ValuesSourceTypes, unmapped fields, scripting,\nand the missing param. The tests for unmapped fields and scripting are\nmigrated from the StatsIT integration test", "committedDate": "2020-03-18T21:17:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc1MTI5Mg==", "url": "https://github.com/elastic/elasticsearch/pull/53768#discussion_r396751292", "bodyText": "Hmm, how about making these non-abstract in AbstractNumericTestCase, that way we can just delete them entirely?  I don't think we'll be extending AbstractNumericTestCase anymore in the future and it will eventually go away, so probably ok to have concrete \"no-op\" implementations to make the transition time cleaner.\nWDYT?", "author": "polyfractal", "createdAt": "2020-03-23T20:56:38Z", "path": "server/src/test/java/org/elasticsearch/search/aggregations/metrics/StatsIT.java", "diffHunk": "@@ -86,39 +83,12 @@ public void testEmptyAggregation() throws Exception {\n         assertThat(Double.isNaN(stats.getAvg()), is(true));\n     }\n \n+    /** this test was moved to {@link StatsAggregatorTests#testUnmapped()} */", "originalCommit": "88a401b989b4a1fddf34038ae02fff6dbf9b7314", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc2NjkxNw==", "url": "https://github.com/elastic/elasticsearch/pull/53768#discussion_r396766917", "bodyText": "I like it \ud83d\udc4d", "author": "andyb-elastic", "createdAt": "2020-03-23T21:26:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc1MTI5Mg=="}], "type": "inlineReview"}, {"oid": "fccfdf49debdb3ad2a849d879d336db5f6352119", "url": "https://github.com/elastic/elasticsearch/commit/fccfdf49debdb3ad2a849d879d336db5f6352119", "message": "Merge branch 'master' into feature-stats-test-coverage", "committedDate": "2020-03-23T21:28:16Z", "type": "commit"}, {"oid": "d1d144eda5408260f4237e648266d7f0ba317b0d", "url": "https://github.com/elastic/elasticsearch/commit/d1d144eda5408260f4237e648266d7f0ba317b0d", "message": "make abstract IT methods concrete", "committedDate": "2020-03-23T21:38:43Z", "type": "commit"}]}