{"pr_number": 53716, "pr_title": "Fix highlighter support in PinnedQuery and added test", "pr_createdAt": "2020-03-18T11:39:01Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/53716", "timeline": [{"oid": "4afeaf5fd92000eebf3d4a63726d7fc71b04f4d8", "url": "https://github.com/elastic/elasticsearch/commit/4afeaf5fd92000eebf3d4a63726d7fc71b04f4d8", "message": "Fix highlighter support in PinnedQuery and added test", "committedDate": "2020-03-18T11:35:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI4OTQ4Mw==", "url": "https://github.com/elastic/elasticsearch/pull/53716#discussion_r394289483", "bodyText": "@romseygeek should it be:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    query.visit(visitor);\n          \n          \n            \n                    query.visit(visitor.getSubVisitor(BooleanClause.Occur.MUST, this)));\n          \n      \n    \n    \n  \n\n?", "author": "jimczi", "createdAt": "2020-03-18T11:51:12Z", "path": "x-pack/plugin/search-business-rules/src/main/java/org/apache/lucene/search/CappedScoreQuery.java", "diffHunk": "@@ -33,6 +33,11 @@ public Query getQuery() {\n         return query;\n     }\n \n+    @Override\n+    public void visit(QueryVisitor visitor) {\n+        query.visit(visitor);", "originalCommit": "4afeaf5fd92000eebf3d4a63726d7fc71b04f4d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI5MDYxMQ==", "url": "https://github.com/elastic/elasticsearch/pull/53716#discussion_r394290611", "bodyText": "Yes, that's a better option - this way a visitor can be informed of the existence of the CappedScoreQuery in the tree", "author": "romseygeek", "createdAt": "2020-03-18T11:53:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI4OTQ4Mw=="}], "type": "inlineReview"}, {"oid": "f2fce62cf5578b80b3a23311b158ec4638f66f00", "url": "https://github.com/elastic/elasticsearch/commit/f2fce62cf5578b80b3a23311b158ec4638f66f00", "message": "Changed delegation method so that a visitor can be informed of the existence of the CappedScoreQuery in the tree", "committedDate": "2020-03-18T12:03:09Z", "type": "commit"}]}