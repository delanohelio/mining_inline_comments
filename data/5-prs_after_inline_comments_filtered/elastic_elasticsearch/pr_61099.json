{"pr_number": 61099, "pr_title": "Add string concatenation node and update ir tree visitor", "pr_createdAt": "2020-08-13T14:38:55Z", "pr_url": "https://github.com/elastic/elasticsearch/pull/61099", "timeline": [{"oid": "fe4f7bfb438f38e88f596b19ce38ae4cd49ec5c6", "url": "https://github.com/elastic/elasticsearch/commit/fe4f7bfb438f38e88f596b19ce38ae4cd49ec5c6", "message": "Move bootstrap injection into the the ir tree builder phase", "committedDate": "2020-07-27T18:11:02Z", "type": "commit"}, {"oid": "02b70959c0a4be12ee85565aaf25ee1cae4ebea5", "url": "https://github.com/elastic/elasticsearch/commit/02b70959c0a4be12ee85565aaf25ee1cae4ebea5", "message": "move ScriptClassInfo out of walker and remove unncessary injection\nphases", "committedDate": "2020-07-27T18:42:59Z", "type": "commit"}, {"oid": "be17b14018e28414e10b9e7e02e3f7c299fc2589", "url": "https://github.com/elastic/elasticsearch/commit/be17b14018e28414e10b9e7e02e3f7c299fc2589", "message": "add AccessNode in place of ECall, EBrace, and EDot", "committedDate": "2020-07-27T20:46:00Z", "type": "commit"}, {"oid": "1725972243f755a6e7b51583ca490140517b70be", "url": "https://github.com/elastic/elasticsearch/commit/1725972243f755a6e7b51583ca490140517b70be", "message": "rename some nodes", "committedDate": "2020-07-27T21:24:32Z", "type": "commit"}, {"oid": "d979077dc6248a0ec0dbdf7101fdcf4e11307e9f", "url": "https://github.com/elastic/elasticsearch/commit/d979077dc6248a0ec0dbdf7101fdcf4e11307e9f", "message": "add flip nodes", "committedDate": "2020-07-27T21:38:42Z", "type": "commit"}, {"oid": "5e3633cc8e54fae4ef3ad82f13d8689213baa579", "url": "https://github.com/elastic/elasticsearch/commit/5e3633cc8e54fae4ef3ad82f13d8689213baa579", "message": "add dup node", "committedDate": "2020-07-28T17:32:29Z", "type": "commit"}, {"oid": "0a53ce8fb049e000a8535d19f6133d444eddeff8", "url": "https://github.com/elastic/elasticsearch/commit/0a53ce8fb049e000a8535d19f6133d444eddeff8", "message": "add store node", "committedDate": "2020-07-28T17:55:53Z", "type": "commit"}, {"oid": "dc42b1c72c0750a96cd826004c782051deb7164b", "url": "https://github.com/elastic/elasticsearch/commit/dc42b1c72c0750a96cd826004c782051deb7164b", "message": "rename to load nodes", "committedDate": "2020-07-28T18:23:33Z", "type": "commit"}, {"oid": "294963891ce711b9b3e97a6df2cc7f6222991d1f", "url": "https://github.com/elastic/elasticsearch/commit/294963891ce711b9b3e97a6df2cc7f6222991d1f", "message": "add store nodes", "committedDate": "2020-07-28T18:26:05Z", "type": "commit"}, {"oid": "8fce1199c70357bf3ed29a4caf0232dda47a604e", "url": "https://github.com/elastic/elasticsearch/commit/8fce1199c70357bf3ed29a4caf0232dda47a604e", "message": "add store nodes", "committedDate": "2020-07-28T18:46:43Z", "type": "commit"}, {"oid": "33976f6b95ec1d851c2e4b7c4da663bc48eb88b9", "url": "https://github.com/elastic/elasticsearch/commit/33976f6b95ec1d851c2e4b7c4da663bc48eb88b9", "message": "add slightly different node setup and decorations for compound\nassignment", "committedDate": "2020-07-28T18:55:41Z", "type": "commit"}, {"oid": "45ef7f3e1c82262c3dd8b550f8b499ea6c2504f5", "url": "https://github.com/elastic/elasticsearch/commit/45ef7f3e1c82262c3dd8b550f8b499ea6c2504f5", "message": "update load nodes", "committedDate": "2020-07-28T19:27:25Z", "type": "commit"}, {"oid": "65f3a8f764e14ac684c3fdc8d2bd922d035b5a4b", "url": "https://github.com/elastic/elasticsearch/commit/65f3a8f764e14ac684c3fdc8d2bd922d035b5a4b", "message": "split ir nodes into load and store", "committedDate": "2020-07-28T19:52:57Z", "type": "commit"}, {"oid": "922e1e670e907e42a550e9eeb52119bfce6e4bcf", "url": "https://github.com/elastic/elasticsearch/commit/922e1e670e907e42a550e9eeb52119bfce6e4bcf", "message": "some fixes", "committedDate": "2020-07-28T20:01:11Z", "type": "commit"}, {"oid": "16d8996cbe3d54d1ab20e11a00623e3dd9a22827", "url": "https://github.com/elastic/elasticsearch/commit/16d8996cbe3d54d1ab20e11a00623e3dd9a22827", "message": "fix dup issue", "committedDate": "2020-07-28T20:08:54Z", "type": "commit"}, {"oid": "810e186871e7f075f4e1423c65dba826d9ef42ea", "url": "https://github.com/elastic/elasticsearch/commit/810e186871e7f075f4e1423c65dba826d9ef42ea", "message": "remove dead node", "committedDate": "2020-07-28T20:10:48Z", "type": "commit"}, {"oid": "a4d61ba2e61783c5e884a3af0c161dcff2e42cf4", "url": "https://github.com/elastic/elasticsearch/commit/a4d61ba2e61783c5e884a3af0c161dcff2e42cf4", "message": "Merge branch 'master' into semantic010", "committedDate": "2020-07-29T17:45:57Z", "type": "commit"}, {"oid": "fd130aeb8b8eda556cc45047887ab537d590f61d", "url": "https://github.com/elastic/elasticsearch/commit/fd130aeb8b8eda556cc45047887ab537d590f61d", "message": "Merge branch 'semantic010' into semantic011", "committedDate": "2020-07-29T17:46:17Z", "type": "commit"}, {"oid": "d2f27b89f8a20646232083535d05d3bd81817d3b", "url": "https://github.com/elastic/elasticsearch/commit/d2f27b89f8a20646232083535d05d3bd81817d3b", "message": "Merge branch 'semantic011' into semantic013", "committedDate": "2020-07-29T17:46:37Z", "type": "commit"}, {"oid": "f298cbb66a25cecfd0f9fc0fd837c20aeab0dc8c", "url": "https://github.com/elastic/elasticsearch/commit/f298cbb66a25cecfd0f9fc0fd837c20aeab0dc8c", "message": "Merge branch 'semantic013' into semantic015", "committedDate": "2020-07-29T17:46:59Z", "type": "commit"}, {"oid": "6e4fbd96cac1f420a1bf7c957d6d7bef8401fc2b", "url": "https://github.com/elastic/elasticsearch/commit/6e4fbd96cac1f420a1bf7c957d6d7bef8401fc2b", "message": "update visitor for ir tree", "committedDate": "2020-07-30T22:19:19Z", "type": "commit"}, {"oid": "aa8c7fdf8d6adfb2ce422d4ba9aa4074de4adb87", "url": "https://github.com/elastic/elasticsearch/commit/aa8c7fdf8d6adfb2ce422d4ba9aa4074de4adb87", "message": "add string concatenation node", "committedDate": "2020-07-31T00:06:32Z", "type": "commit"}, {"oid": "ed08f332fb504699dc8cd870aca36aa8f81fb83e", "url": "https://github.com/elastic/elasticsearch/commit/ed08f332fb504699dc8cd870aca36aa8f81fb83e", "message": "fix up listeners", "committedDate": "2020-08-03T15:57:26Z", "type": "commit"}, {"oid": "3fbd0bcdf699ca71db447a21ea00ce18e8aacbd5", "url": "https://github.com/elastic/elasticsearch/commit/3fbd0bcdf699ca71db447a21ea00ce18e8aacbd5", "message": "Merge branch 'master' into semantic010", "committedDate": "2020-08-05T16:59:29Z", "type": "commit"}, {"oid": "b3fd76361e7e1d00df0f0d4070949130845f6271", "url": "https://github.com/elastic/elasticsearch/commit/b3fd76361e7e1d00df0f0d4070949130845f6271", "message": "response to pr comments", "committedDate": "2020-08-05T17:24:53Z", "type": "commit"}, {"oid": "2e1e958536707210b141a4a495da5ee315e88b06", "url": "https://github.com/elastic/elasticsearch/commit/2e1e958536707210b141a4a495da5ee315e88b06", "message": "Merge branch 'master' into semantic010", "committedDate": "2020-08-05T19:35:03Z", "type": "commit"}, {"oid": "397c7b1f728cf0f7a7fda6552090ab4d2ccf23b8", "url": "https://github.com/elastic/elasticsearch/commit/397c7b1f728cf0f7a7fda6552090ab4d2ccf23b8", "message": "Merge branch 'semantic010' into semantic011", "committedDate": "2020-08-05T19:36:47Z", "type": "commit"}, {"oid": "a8bc699f649519c4d1d7b8b28d31e7add3406966", "url": "https://github.com/elastic/elasticsearch/commit/a8bc699f649519c4d1d7b8b28d31e7add3406966", "message": "fix spacing", "committedDate": "2020-08-05T20:42:28Z", "type": "commit"}, {"oid": "aab90f387c3bb5600f90f45d9e27ca0b1b041cb9", "url": "https://github.com/elastic/elasticsearch/commit/aab90f387c3bb5600f90f45d9e27ca0b1b041cb9", "message": "Merge branch 'master' into semantic011", "committedDate": "2020-08-06T16:05:28Z", "type": "commit"}, {"oid": "9ee21c7cba9d202259bac2e25edda5994341fe66", "url": "https://github.com/elastic/elasticsearch/commit/9ee21c7cba9d202259bac2e25edda5994341fe66", "message": "Merge branch 'semantic011' into semantic013", "committedDate": "2020-08-06T16:10:02Z", "type": "commit"}, {"oid": "f9e3de4df0b053f324a0a8600399718f67f11d11", "url": "https://github.com/elastic/elasticsearch/commit/f9e3de4df0b053f324a0a8600399718f67f11d11", "message": "Merge branch 'master' into semantic013", "committedDate": "2020-08-10T18:58:06Z", "type": "commit"}, {"oid": "416801084c6dd5c2fc8179a4ee5f67b5a0e2dddb", "url": "https://github.com/elastic/elasticsearch/commit/416801084c6dd5c2fc8179a4ee5f67b5a0e2dddb", "message": "remove extraneous semicolon", "committedDate": "2020-08-10T18:59:56Z", "type": "commit"}, {"oid": "bc0fc208120adee10f5cd2f6ee7e842232d24016", "url": "https://github.com/elastic/elasticsearch/commit/bc0fc208120adee10f5cd2f6ee7e842232d24016", "message": "Merge branch 'master' into semantic013", "committedDate": "2020-08-10T20:58:55Z", "type": "commit"}, {"oid": "923d361801a8b723f9e7473c37ed3335f0cc225d", "url": "https://github.com/elastic/elasticsearch/commit/923d361801a8b723f9e7473c37ed3335f0cc225d", "message": "Merge branch 'semantic013' into semantic015", "committedDate": "2020-08-10T21:17:08Z", "type": "commit"}, {"oid": "0c9dec6c10d79356905cd36df064ed2077a23eef", "url": "https://github.com/elastic/elasticsearch/commit/0c9dec6c10d79356905cd36df064ed2077a23eef", "message": "Merge branch 'master' into semantic015", "committedDate": "2020-08-11T16:23:18Z", "type": "commit"}, {"oid": "efa61967cb53a7f6cdd1449673e9b127dd67dd5b", "url": "https://github.com/elastic/elasticsearch/commit/efa61967cb53a7f6cdd1449673e9b127dd67dd5b", "message": "Merge branch 'master' into semantic015", "committedDate": "2020-08-12T21:49:31Z", "type": "commit"}, {"oid": "62ec784135b21e49357c0cf0f2d494af1d6082e2", "url": "https://github.com/elastic/elasticsearch/commit/62ec784135b21e49357c0cf0f2d494af1d6082e2", "message": "comment load/store", "committedDate": "2020-08-12T22:27:55Z", "type": "commit"}, {"oid": "0ebd9ca0683b1b13089c0b58cb06ecd6912a75aa", "url": "https://github.com/elastic/elasticsearch/commit/0ebd9ca0683b1b13089c0b58cb06ecd6912a75aa", "message": "Merge branch 'master' into semantic015", "committedDate": "2020-08-13T14:26:53Z", "type": "commit"}, {"oid": "22b7e6245d9ebb179fb9801bf24f2d99372d8047", "url": "https://github.com/elastic/elasticsearch/commit/22b7e6245d9ebb179fb9801bf24f2d99372d8047", "message": "Merge branch 'semantic015' into strings00", "committedDate": "2020-08-13T14:32:51Z", "type": "commit"}, {"oid": "fd23c889e6da86b4035266c0bc59ccee9d2bab10", "url": "https://github.com/elastic/elasticsearch/commit/fd23c889e6da86b4035266c0bc59ccee9d2bab10", "message": "fix varible name", "committedDate": "2020-08-13T14:33:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEyNzcxNQ==", "url": "https://github.com/elastic/elasticsearch/pull/61099#discussion_r470127715", "bodyText": "Copy/Paste error", "author": "stu-elastic", "createdAt": "2020-08-13T17:37:04Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/ir/ArgumentsNode.java", "diffHunk": "@@ -36,6 +36,6 @@ public void addArgumentNode(ExpressionNode argumentNode) {\n         return argumentNodes;\n     }\n \n-    /* ---- end tree structure */\n+    /* ---- end tree structure, visitor ---- */", "originalCommit": "fd23c889e6da86b4035266c0bc59ccee9d2bab10", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEzNjA0Ng==", "url": "https://github.com/elastic/elasticsearch/pull/61099#discussion_r470136046", "bodyText": "Fixed.", "author": "jdconrad", "createdAt": "2020-08-13T17:46:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEyNzcxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEzMDg0OA==", "url": "https://github.com/elastic/elasticsearch/pull/61099#discussion_r470130848", "bodyText": "Can this be declared abstract?", "author": "stu-elastic", "createdAt": "2020-08-13T17:40:33Z", "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/ir/IRNode.java", "diffHunk": "@@ -44,10 +44,17 @@ public Location getLocation() {\n     /**\n      * Callback to visit an ir tree node.\n      */\n-    public <Input, Output> Output visit(IRTreeVisitor<Input, Output> irTreeVisitor, Input input) {\n+    public <Scope> void visit(IRTreeVisitor<Scope> irTreeVisitor, Scope scope) {\n         throw new UnsupportedOperationException(\"cannot visit ir node type [\" + getClass().getCanonicalName() + \"]\");\n     }\n \n+    /**\n+     * Visits all child ir tree nodes for this ir tree node.\n+     */\n+    public <Scope> void visitChildren(IRTreeVisitor<Scope> irTreevisitor, Scope scope) {", "originalCommit": "fd23c889e6da86b4035266c0bc59ccee9d2bab10", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEzOTgwMQ==", "url": "https://github.com/elastic/elasticsearch/pull/61099#discussion_r470139801", "bodyText": "Yes, changed. Good call.", "author": "jdconrad", "createdAt": "2020-08-13T17:52:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEzMDg0OA=="}], "type": "inlineReview"}, {"oid": "6244df5780b1ceadecff48d0880a05b3850037ac", "url": "https://github.com/elastic/elasticsearch/commit/6244df5780b1ceadecff48d0880a05b3850037ac", "message": "response to pr comments", "committedDate": "2020-08-13T17:51:44Z", "type": "commit"}]}