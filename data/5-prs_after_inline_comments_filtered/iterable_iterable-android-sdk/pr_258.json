{"pr_number": 258, "pr_title": "[MOB-1894] - In App Locks", "pr_createdAt": "2020-08-03T16:46:43Z", "pr_url": "https://github.com/Iterable/iterable-android-sdk/pull/258", "timeline": [{"oid": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "url": "https://github.com/Iterable/iterable-android-sdk/commit/725fa472457c9ffefa4eeefeaf7df0237560b25e", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-03T20:22:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY2NjM4OQ==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r464666389", "bodyText": "@tapashmajumder , do you have any alternate suggestion for this word?\ncc @vbabenkoru", "author": "Ayyanchira", "createdAt": "2020-08-03T21:15:51Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -46,6 +46,7 @@\n     private final List<Listener> listeners = new ArrayList<>();\n     private long lastSyncTime = 0;\n     private long lastInAppShown = 0;\n+    private boolean inAppDisplayhold = false;", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTAzOA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599038", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private boolean inAppDisplayhold = false;\n          \n          \n            \n                private boolean displayPaused = false;", "author": "vbabenkoru", "createdAt": "2020-08-06T18:15:41Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -46,6 +46,7 @@\n     private final List<Listener> listeners = new ArrayList<>();\n     private long lastSyncTime = 0;\n     private long lastInAppShown = 0;\n+    private boolean inAppDisplayhold = false;", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTQ4Mw==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599483", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public boolean isInAppDisplayhold() {\n          \n          \n            \n                    return inAppDisplayhold;\n          \n          \n            \n                public boolean isDisplayPaused() {\n          \n          \n            \n                    return displayPaused;", "author": "vbabenkoru", "createdAt": "2020-08-06T18:16:30Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    public boolean isInAppDisplayhold() {\n+        return inAppDisplayhold;", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTg0Mw==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599843", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setInAppDisplayhold(boolean hold) {\n          \n          \n            \n                    this.inAppDisplayhold = hold;\n          \n          \n            \n                    if (!hold) {\n          \n          \n            \n                public void setDisplayPaused(boolean paused) {\n          \n          \n            \n                    this.displayPaused = paused;\n          \n          \n            \n                    if (!paused) {", "author": "vbabenkoru", "createdAt": "2020-08-06T18:17:10Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    public boolean isInAppDisplayhold() {\n+        return inAppDisplayhold;\n+    }\n+\n+    /**\n+    * Set a hold on InApp Display to prevent showing an inapp. By default the value is set to false.\n+    * @param hold Whether or not to hold showing an in-app.\n+    */\n+    public void setInAppDisplayhold(boolean hold) {\n+        this.inAppDisplayhold = hold;\n+        if (!hold) {", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5OTkzOA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466599938", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isInAppDisplayhold()) {\n          \n          \n            \n                    if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isDisplayPaused()) {", "author": "vbabenkoru", "createdAt": "2020-08-06T18:17:22Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -310,7 +327,7 @@ private void syncWithRemoteQueue(List<IterableInAppMessage> remoteQueue) {\n     }\n \n     private void processMessages() {\n-        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious()) {\n+        if (!activityMonitor.isInForeground() || isShowingInApp() || !canShowInAppAfterPrevious() || isInAppDisplayhold()) {", "originalCommit": "725fa472457c9ffefa4eeefeaf7df0237560b25e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ecc366a2012815d6e091032a3626a3d65f4a3150", "url": "https://github.com/Iterable/iterable-android-sdk/commit/ecc366a2012815d6e091032a3626a3d65f4a3150", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:26:44Z", "type": "forcePushed"}, {"oid": "656eea6f555f72fc9af34ce8fb523f37470f1781", "url": "https://github.com/Iterable/iterable-android-sdk/commit/656eea6f555f72fc9af34ce8fb523f37470f1781", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:32:42Z", "type": "forcePushed"}, {"oid": "3401498fa437bee8c94d01d1cd5f468891ddef8f", "url": "https://github.com/Iterable/iterable-android-sdk/commit/3401498fa437bee8c94d01d1cd5f468891ddef8f", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:33:42Z", "type": "forcePushed"}, {"oid": "30e0fc2b8106704e1d012b7293b8115e9b6ed0cd", "url": "https://github.com/Iterable/iterable-android-sdk/commit/30e0fc2b8106704e1d012b7293b8115e9b6ed0cd", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:34:40Z", "type": "forcePushed"}, {"oid": "e3424bf21ed2d5787147d70160810ecc552fce8e", "url": "https://github.com/Iterable/iterable-android-sdk/commit/e3424bf21ed2d5787147d70160810ecc552fce8e", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:50:07Z", "type": "forcePushed"}, {"oid": "5f2e1853ec35634943dfe83b072e42a6528755e3", "url": "https://github.com/Iterable/iterable-android-sdk/commit/5f2e1853ec35634943dfe83b072e42a6528755e3", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:51:57Z", "type": "commit"}, {"oid": "5f2e1853ec35634943dfe83b072e42a6528755e3", "url": "https://github.com/Iterable/iterable-android-sdk/commit/5f2e1853ec35634943dfe83b072e42a6528755e3", "message": "[MOB-1894] - In App Locks\n\nA lock on processing and showing messages which will be checked along with other checks when processing the messages. The lock when set false will trigger scheduleProcessing.", "committedDate": "2020-08-06T18:51:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYyNzk3NA==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466627974", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n          \n          \n            \n                 * Set a pause to prevent showing in-app messages automatically. By default the value is set to false.", "author": "vbabenkoru", "createdAt": "2020-08-06T19:10:01Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n+    }\n+\n+    /**\n+     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.", "originalCommit": "5f2e1853ec35634943dfe83b072e42a6528755e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjYyODA4Mg==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/258#discussion_r466628082", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @param paused Whether to pause showing an in-app.\n          \n          \n            \n                 * @param paused Whether to pause showing in-app messages.", "author": "vbabenkoru", "createdAt": "2020-08-06T19:10:13Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableInAppManager.java", "diffHunk": "@@ -133,6 +134,22 @@ public synchronized void setRead(@NonNull IterableInAppMessage message, boolean\n         notifyOnChange();\n     }\n \n+\n+    boolean isAutoDisplayPaused() {\n+        return autoDisplayPaused;\n+    }\n+\n+    /**\n+     * Set a pause to prevent showing an in-app automatically. By default the value is set to false.\n+     * @param paused Whether to pause showing an in-app.", "originalCommit": "5f2e1853ec35634943dfe83b072e42a6528755e3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f99dec98d4d498619f2d21df872524270618e897", "url": "https://github.com/Iterable/iterable-android-sdk/commit/f99dec98d4d498619f2d21df872524270618e897", "message": "Apply suggestions from code review\n\nCo-authored-by: Victor Babenko <victor@iterable.com>", "committedDate": "2020-08-06T19:11:16Z", "type": "commit"}]}