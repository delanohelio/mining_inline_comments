{"pr_number": 259, "pr_title": "[MOB-1910] Resolve channel name as a string resource without logging warnings", "pr_createdAt": "2020-08-06T04:41:36Z", "pr_url": "https://github.com/Iterable/iterable-android-sdk/pull/259", "timeline": [{"oid": "ae406bbdf3b8fe8421ecdb6c235343b229c9faeb", "url": "https://github.com/Iterable/iterable-android-sdk/commit/ae406bbdf3b8fe8421ecdb6c235343b229c9faeb", "message": "Resolve channel name as a string resource without logging warnings", "committedDate": "2020-08-06T04:39:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU4NzQ2Mw==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/259#discussion_r466587463", "bodyText": "I hope after all this, channelName never turns out null \ud83d\ude05", "author": "Ayyanchira", "createdAt": "2020-08-06T17:54:56Z", "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableNotificationHelper.java", "diffHunk": "@@ -275,13 +275,16 @@ private String getChannelName(Context context) {\n             try {\n                 ApplicationInfo info = context.getPackageManager().getApplicationInfo(context.getPackageName(), PackageManager.GET_META_DATA);\n                 if (info.metaData != null) {\n-                    // Literal string value\n-                    channelName = info.metaData.getString(IterableConstants.NOTIFICATION_CHANNEL_NAME);\n-\n-                    // Try to read from a string resource\n-                    int stringId = info.metaData.getInt(IterableConstants.NOTIFICATION_CHANNEL_NAME);\n-                    if (channelName == null && stringId != 0) {\n-                        channelName = context.getString(stringId);\n+                    Object channelNameMetaData = info.metaData.get(IterableConstants.NOTIFICATION_CHANNEL_NAME);\n+                    if (channelNameMetaData instanceof String) {\n+                        // Literal string value\n+                        channelName = (String) channelNameMetaData;\n+                    } else if (channelNameMetaData instanceof Integer) {\n+                        // Try to read from a string resource\n+                        int stringId = (Integer) channelNameMetaData;\n+                        if (stringId != 0) {\n+                            channelName = context.getString(stringId);\n+                        }", "originalCommit": "ae406bbdf3b8fe8421ecdb6c235343b229c9faeb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU4ODE3Ng==", "url": "https://github.com/Iterable/iterable-android-sdk/pull/259#discussion_r466588176", "bodyText": "It will be null if nothing is specified in the manifest. We then use the default value.", "author": "vbabenkoru", "createdAt": "2020-08-06T17:56:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU4NzQ2Mw=="}], "type": "inlineReview"}]}