{"pr_number": 455, "pr_title": "Bugfix/slim 2748 enabled unit test", "pr_createdAt": "2020-10-12T13:17:13Z", "pr_url": "https://github.com/OSGP/open-smart-grid-platform/pull/455", "timeline": [{"oid": "be78d9258d1bcae6c059c0ea77cb5a21b6ef59ea", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/be78d9258d1bcae6c059c0ea77cb5a21b6ef59ea", "message": "added converter for GetPowerQualityProfileRequestData", "committedDate": "2020-10-12T12:33:36Z", "type": "commit"}, {"oid": "de42daefd7e77175249a80e8cec5ca533262720b", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/de42daefd7e77175249a80e8cec5ca533262720b", "message": "Merge branch 'development' into bugfix/SLIM-2748-enabled-unit-test", "committedDate": "2020-10-12T12:34:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI5NjQxNg==", "url": "https://github.com/OSGP/open-smart-grid-platform/pull/455#discussion_r503296416", "bodyText": "Immediately return this expression instead of assigning it to the temporary variable \"captureObjectDefinition\".", "author": "jenkins-ip-10-4-24-184", "createdAt": "2020-10-12T13:29:09Z", "path": "osgp/platform/osgp-adapter-ws-smartmetering/src/main/java/org/opensmartgridplatform/adapter/ws/smartmetering/application/mapping/GetPowerQualityProfileRequestDataConverter.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/**\n+ * Copyright 2015 Smart Society Services B.V.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ */\n+package org.opensmartgridplatform.adapter.ws.smartmetering.application.mapping;\n+\n+import java.util.List;\n+\n+import ma.glasnost.orika.CustomConverter;\n+import ma.glasnost.orika.MappingContext;\n+import ma.glasnost.orika.metadata.Type;\n+import org.opensmartgridplatform.adapter.ws.schema.smartmetering.bundle.GetPowerQualityProfileRequest;\n+import org.opensmartgridplatform.adapter.ws.schema.smartmetering.common.CaptureObjectDefinition;\n+import org.opensmartgridplatform.domain.core.valueobjects.smartmetering.GetPowerQualityProfileRequestData;\n+\n+public class GetPowerQualityProfileRequestDataConverter\n+        extends CustomConverter<GetPowerQualityProfileRequest, GetPowerQualityProfileRequestData> {\n+\n+    @Override\n+    public boolean canConvert(final Type<?> sourceType, final Type<?> destinationType) {\n+        return this.sourceType.isAssignableFrom(sourceType) && this.destinationType.equals(destinationType);\n+    }\n+\n+    @Override\n+    public GetPowerQualityProfileRequestData convert(final GetPowerQualityProfileRequest source,\n+            final Type<? extends GetPowerQualityProfileRequestData> destinationType, final MappingContext context) {\n+        GetPowerQualityProfileRequestData data = new GetPowerQualityProfileRequestData(source.getProfileType(),\n+                source.getBeginDate().toGregorianCalendar().getTime(),\n+                source.getEndDate().toGregorianCalendar().getTime());\n+        List<CaptureObjectDefinition> captureObjectDefinitions = source.getSelectedValues().getCaptureObject();\n+        captureObjectDefinitions.forEach(cod -> data.getSelectedValues().add(convert(cod)));\n+        return data;\n+    }\n+\n+    private org.opensmartgridplatform.domain.core.valueobjects.smartmetering.CaptureObjectDefinition convert(\n+            CaptureObjectDefinition cod) {\n+        org.opensmartgridplatform.domain.core.valueobjects.smartmetering.ObisCodeValues obisCodeValues =\n+                new org.opensmartgridplatform.domain.core.valueobjects.smartmetering.ObisCodeValues(\n+                (byte) cod.getLogicalName().getA(), (byte) cod.getLogicalName().getB(),\n+                (byte) cod.getLogicalName().getC(), (byte) cod.getLogicalName().getD(),\n+                (byte) cod.getLogicalName().getE(), (byte) cod.getLogicalName().getF());\n+        org.opensmartgridplatform.domain.core.valueobjects.smartmetering.CaptureObjectDefinition captureObjectDefinition = new org.opensmartgridplatform.domain.core.valueobjects.smartmetering.CaptureObjectDefinition(", "originalCommit": "de42daefd7e77175249a80e8cec5ca533262720b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}