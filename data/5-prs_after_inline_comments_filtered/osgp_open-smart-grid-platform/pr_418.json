{"pr_number": 418, "pr_title": "OC-643 The Cucumber test for \"Microgrids Re-establish Connection\" fails often in the nightly build", "pr_createdAt": "2020-09-15T14:06:44Z", "pr_url": "https://github.com/OSGP/open-smart-grid-platform/pull/418", "timeline": [{"oid": "b5b73ce024e58015872e342cd89d35ffbeec63d0", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/b5b73ce024e58015872e342cd89d35ffbeec63d0", "message": "Fixing Microgrids Re-establish Connection cucumber test", "committedDate": "2020-09-15T11:45:48Z", "type": "commit"}, {"oid": "ca72bb88fe7a6e2dbef1483249741dc08fdb2d9b", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/ca72bb88fe7a6e2dbef1483249741dc08fdb2d9b", "message": "Merge remote-tracking branch 'origin/development' into feature/OC-643-fixing-microgrids-test", "committedDate": "2020-09-15T11:46:05Z", "type": "commit"}, {"oid": "cbdb02add322ac96cef78025e3e9501bc30ef9a3", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/cbdb02add322ac96cef78025e3e9501bc30ef9a3", "message": "Removal of nightly build only tag", "committedDate": "2020-09-15T14:26:47Z", "type": "commit"}, {"oid": "78ce14134e2f5a4f40ae0023d3a2b0cb7e19e6dc", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/78ce14134e2f5a4f40ae0023d3a2b0cb7e19e6dc", "message": "Resolving sonarqube issue", "committedDate": "2020-09-15T14:42:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM1MzA4MA==", "url": "https://github.com/OSGP/open-smart-grid-platform/pull/418#discussion_r489353080", "bodyText": "I don't think there is a need for this field to be protected. Can be changed to private.", "author": "kevinsmeets", "createdAt": "2020-09-16T11:06:29Z", "path": "osgp/platform/osgp-domain-core/src/main/java/org/opensmartgridplatform/domain/core/entities/RtuDevice.java", "diffHunk": "@@ -21,6 +23,10 @@\n     @Column(insertable = false)\n     private Date lastCommunicationTime;\n \n+    @ManyToOne()\n+    @JoinColumn(name = \"domain_info_id\")\n+    protected DomainInfo domainInfo;", "originalCommit": "78ce14134e2f5a4f40ae0023d3a2b0cb7e19e6dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM1OTU4NA==", "url": "https://github.com/OSGP/open-smart-grid-platform/pull/418#discussion_r489359584", "bodyText": "What effect has the addition of .withoutCircuitBreakerConfig() for the test-code? Are the default circuit breaker values somehow causing problems?", "author": "kevinsmeets", "createdAt": "2020-09-16T11:19:36Z", "path": "integration-tests/cucumber-tests-platform-microgrids/src/test/java/org/opensmartgridplatform/cucumber/platform/microgrids/database/Database.java", "diffHunk": "@@ -45,12 +45,14 @@ private void insertDefaultData() {\n     private List<NotificationWebServiceConfiguration> notificationEndpointConfigurations() {\n         final NotificationWebServiceConfigurationBuilder builder = new NotificationWebServiceConfigurationBuilder()\n                 .withApplicationName(\"ZownStream\")\n-                .withMarshallerContextPath(\"org.opensmartgridplatform.adapter.ws.schema.microgrids.notification\");\n+                .withMarshallerContextPath(\"org.opensmartgridplatform.adapter.ws.schema.microgrids.notification\")\n+                .withoutCircuitBreakerConfig();", "originalCommit": "78ce14134e2f5a4f40ae0023d3a2b0cb7e19e6dc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM4MDQxNw==", "url": "https://github.com/OSGP/open-smart-grid-platform/pull/418#discussion_r489380417", "bodyText": "Yes, the circuit breaker causes problems for the test scenario. The circuit breaker prevents the return of a Notification the test scenario is waiting for. With .withoutCircuitBreakerConfig() the circuit breaker is not used for all Microgrids test scenarios.", "author": "JelleHoffman", "createdAt": "2020-09-16T11:58:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTM1OTU4NA=="}], "type": "inlineReview"}, {"oid": "569130de045cbf276aa9adc20ad88f280c601bfd", "url": "https://github.com/OSGP/open-smart-grid-platform/commit/569130de045cbf276aa9adc20ad88f280c601bfd", "message": "Resolving issues provided by Kevin Smeets", "committedDate": "2020-09-16T12:10:39Z", "type": "commit"}]}