{"pr_number": 1252, "pr_title": "include offending line in error message", "pr_createdAt": "2020-11-19T12:53:01Z", "pr_url": "https://github.com/cucumber/common/pull/1252", "timeline": [{"oid": "d4b3221513b38d13b5631197355ca9dd2285da81", "url": "https://github.com/cucumber/common/commit/d4b3221513b38d13b5631197355ca9dd2285da81", "message": "include offending line in error message", "committedDate": "2020-11-19T12:51:07Z", "type": "commit"}, {"oid": "47c65c0880a0758562e16e252137f36fd2735edc", "url": "https://github.com/cucumber/common/commit/47c65c0880a0758562e16e252137f36fd2735edc", "message": "Fix JavaScript impl", "committedDate": "2020-11-19T13:27:34Z", "type": "commit"}, {"oid": "ef84fd895f200e5bedd5a1ae4d150b97eaa86326", "url": "https://github.com/cucumber/common/commit/ef84fd895f200e5bedd5a1ae4d150b97eaa86326", "message": "Merge branch 'master' into messages-include-line-in-error", "committedDate": "2020-11-19T13:55:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjkwNTY3Ng==", "url": "https://github.com/cucumber/common/pull/1252#discussion_r526905676", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    throw new RuntimeException(String.format(\"Not JSON: %s\", line));\n          \n          \n            \n                                    throw new RuntimeException(String.format(\"Not JSON: %s\", line), e);", "author": "mpkorstanje", "createdAt": "2020-11-19T13:56:37Z", "path": "messages/java/src/main/java/io/cucumber/messages/NdjsonToMessageIterable.java", "diffHunk": "@@ -37,7 +38,11 @@ public boolean hasNext() {\n                         return hasNext();\n                     }\n                     Messages.Envelope.Builder builder = Messages.Envelope.newBuilder();\n-                    JSON_PARSER.merge(line, builder);\n+                    try {\n+                        JSON_PARSER.merge(line, builder);\n+                    } catch(InvalidProtocolBufferException e) {\n+                        throw new RuntimeException(String.format(\"Not JSON: %s\", line));", "originalCommit": "ef84fd895f200e5bedd5a1ae4d150b97eaa86326", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "104dc913e10fb7507b3f2c2c5b07677146de6be8", "url": "https://github.com/cucumber/common/commit/104dc913e10fb7507b3f2c2c5b07677146de6be8", "message": "Update messages/java/src/main/java/io/cucumber/messages/NdjsonToMessageIterable.java\n\nCo-authored-by: M.P. Korstanje <mpkorstanje@users.noreply.github.com>", "committedDate": "2020-11-19T14:01:01Z", "type": "commit"}]}