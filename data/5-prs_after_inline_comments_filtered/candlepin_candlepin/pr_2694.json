{"pr_number": 2694, "pr_title": "Bug 1751848 Stopped checking & consider pools irrespective of Consumer Entitlement SLA for auto attach. (ENT-2278)", "pr_createdAt": "2020-05-06T07:05:35Z", "pr_url": "https://github.com/candlepin/candlepin/pull/2694", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY0MDA4NQ==", "url": "https://github.com/candlepin/candlepin/pull/2694#discussion_r420640085", "bodyText": "Now that we have a change in behaviour, that is tested by this test, we should remove the other tests that were testing the previous behaviour (the only still pass for the wrong reasons, because they were wrongly written in the first place):\nselectBestPoolsDoesNotFilterPoolsBySLAWhenConsumerHasOnlyNullEntitlementSLAs,\nselectBestPoolsFiltersPoolsBySLAWhenConsumerWithSLAHasNonNullNonMatchingEntitlementSLAsAndOwnerDefaultSLAIsUsed,\nselectBestPoolsFiltersPoolsBySLAWhenConsumerWithSLAHasNonNullNonMatchingEntitlementSLAsAndOverrideSLAIsUsed,\nselectBestPoolsFiltersPoolsBySLAWhenConsumerHasNonNullNonMatchingEntitlementSLAsAndConsumerSLAIsUsed,\nselectBestPoolsDoesNotFilterPoolsBySLAWhenConsumerHasNonNullMatchingEntitlementSLAs", "author": "nikosmoum", "createdAt": "2020-05-06T08:56:24Z", "path": "server/src/test/java/org/candlepin/policy/AutobindRulesTest.java", "diffHunk": "@@ -638,6 +638,59 @@ public void selectBestPoolsFiltersPoolsBySLAWhenConsumerHasNonNullNonMatchingEnt\n         assertTrue(bestPools.contains(new PoolQuantity(noSLAPool, 1)));\n     }\n \n+    @Test\n+    @SuppressWarnings(\"checkstyle:LineLength\")\n+    public void selectBestPoolsDoesNotFilterPoolsByConsumerEntitlementInsteadPrioritizePoolsMatchingConsumerSLA() {", "originalCommit": "9dd0a44bbd88fdf234b84a35035e5a4c227681dc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY3ODYyNQ==", "url": "https://github.com/candlepin/candlepin/pull/2694#discussion_r420678625", "bodyText": "Removed these unit tests & Fixed the commit message.", "author": "wolfdale", "createdAt": "2020-05-06T10:06:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDY0MDA4NQ=="}], "type": "inlineReview"}, {"oid": "442877f10a7e9f10c3ad5aac873bb8d4e60e03c6", "url": "https://github.com/candlepin/candlepin/commit/442877f10a7e9f10c3ad5aac873bb8d4e60e03c6", "message": "1751848: Stopped checking & consider pools irrespective of Consumer Entitlement SLA for auto attach.\n\n\t- Removed Pool validation on Consumer Existing SLA from rules.js\n\t- SLA is only going to be used to prioritize/de-prioritize pools.", "committedDate": "2020-05-06T09:56:38Z", "type": "commit"}, {"oid": "442877f10a7e9f10c3ad5aac873bb8d4e60e03c6", "url": "https://github.com/candlepin/candlepin/commit/442877f10a7e9f10c3ad5aac873bb8d4e60e03c6", "message": "1751848: Stopped checking & consider pools irrespective of Consumer Entitlement SLA for auto attach.\n\n\t- Removed Pool validation on Consumer Existing SLA from rules.js\n\t- SLA is only going to be used to prioritize/de-prioritize pools.", "committedDate": "2020-05-06T09:56:38Z", "type": "forcePushed"}]}