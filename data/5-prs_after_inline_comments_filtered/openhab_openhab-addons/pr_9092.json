{"pr_number": 9092, "pr_title": "[ipcamera] Add channel Privacy Mode to Amcrest and Dahua handlers", "pr_createdAt": "2020-11-21T15:21:41Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/9092", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDgzNA==", "url": "https://github.com/openhab/openhab-addons/pull/9092#discussion_r530764834", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        case CHANNEL_FFMPEG_MOTION_CONTROL:\n          \n          \n            \n                            if (OnOffType.ON.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                            } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = false;\n          \n          \n            \n                                ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n          \n          \n            \n                            } else {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                                ipCameraHandler.motionThreshold = Double.valueOf(command.toString());\n          \n          \n            \n                                ipCameraHandler.motionThreshold = ipCameraHandler.motionThreshold / 10000;\n          \n          \n            \n                            }\n          \n          \n            \n                            ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n          \n          \n            \n                            return;", "author": "Skinah", "createdAt": "2020-11-26T04:18:43Z", "path": "bundles/org.openhab.binding.ipcamera/src/main/java/org/openhab/binding/ipcamera/internal/AmcrestHandler.java", "diffHunk": "@@ -205,6 +213,28 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                     ipCameraHandler.sendHttpGET(\"/cgi-bin/configManager.cgi?action=setConfig&AlarmOut[1].Mode=0\");\n                 }\n                 return;\n+            case CHANNEL_FFMPEG_MOTION_CONTROL:\n+                if (OnOffType.ON.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = false;\n+                    ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n+                } else {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                    ipCameraHandler.motionThreshold = Double.valueOf(command.toString());\n+                    ipCameraHandler.motionThreshold = ipCameraHandler.motionThreshold / 10000;\n+                }\n+                ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n+                return;", "originalCommit": "6370083b96e57308440dd3decc7a70c4dccf360b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NTA3OA==", "url": "https://github.com/openhab/openhab-addons/pull/9092#discussion_r530765078", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        case CHANNEL_FFMPEG_MOTION_CONTROL:\n          \n          \n            \n                            if (OnOffType.ON.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                            } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = false;\n          \n          \n            \n                                ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n          \n          \n            \n                            } else {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                                ipCameraHandler.motionThreshold = Double.valueOf(command.toString()) / 10000;\n          \n          \n            \n                            }\n          \n          \n            \n                            ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n          \n          \n            \n                            return;", "author": "Skinah", "createdAt": "2020-11-26T04:19:44Z", "path": "bundles/org.openhab.binding.ipcamera/src/main/java/org/openhab/binding/ipcamera/internal/DahuaHandler.java", "diffHunk": "@@ -251,6 +259,27 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                     ipCameraHandler.sendHttpGET(\"/cgi-bin/configManager.cgi?action=setConfig&AlarmOut[1].Mode=0\");\n                 }\n                 return;\n+            case CHANNEL_FFMPEG_MOTION_CONTROL:\n+                if (OnOffType.ON.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = false;\n+                    ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n+                } else {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                    ipCameraHandler.motionThreshold = Double.valueOf(command.toString()) / 10000;\n+                }\n+                ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n+                return;", "originalCommit": "6370083b96e57308440dd3decc7a70c4dccf360b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "67ef1a8c3d0244ccc5638271dcf5e06b7553e365", "url": "https://github.com/openhab/openhab-addons/commit/67ef1a8c3d0244ccc5638271dcf5e06b7553e365", "message": "Add channel Privacy Mode to Amcrest and Dahua handlers\n\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "0aab82257e60d3254062d3926948ee2c91601275", "url": "https://github.com/openhab/openhab-addons/commit/0aab82257e60d3254062d3926948ee2c91601275", "message": "[serial] Initial contribution (#8851)\n\nSigned-off-by: Mike Major <mike_j_major@hotmail.com>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "1264305810742accab5340b9be99db3fcf7995e2", "url": "https://github.com/openhab/openhab-addons/commit/1264305810742accab5340b9be99db3fcf7995e2", "message": "[tr064] Fixed minor spelling (#9074)\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "08929c7163cd507c0912e58ea061a02a416d568b", "url": "https://github.com/openhab/openhab-addons/commit/08929c7163cd507c0912e58ea061a02a416d568b", "message": "Fixed declaration of representation property (#9073)\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "71cde3f99006bbf4470787b8ca94486bb1f6ba10", "url": "https://github.com/openhab/openhab-addons/commit/71cde3f99006bbf4470787b8ca94486bb1f6ba10", "message": "Channel types: UPERCASE and typo (#8989)\n\nhttps://community.openhab.org/t/solved-homematic-channel-type-couldn-t-be-resolved/47950/6 shows the solution with UPPERCASE channel name.\nSigned-off-by: drohhyn <drohhyn@qimp.org>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "a8d8efaeee1500f914f20d4f3acb2090fb14fab2", "url": "https://github.com/openhab/openhab-addons/commit/a8d8efaeee1500f914f20d4f3acb2090fb14fab2", "message": "[rfxcom) Use ThingHandlerService for discovery (#9082)\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "306c7691350ba58fbc24ea17d093c13a4a491c6b", "url": "https://github.com/openhab/openhab-addons/commit/306c7691350ba58fbc24ea17d093c13a4a491c6b", "message": "[powermax] Use ThingHandlerService for discovery (#9083)\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "decb894af5ae7d382066117330b944486ece3b47", "url": "https://github.com/openhab/openhab-addons/commit/decb894af5ae7d382066117330b944486ece3b47", "message": "[http] fix thing-definition (#9080)\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "77b230d3e4501990d2b83ad10b4f23c167a69c8d", "url": "https://github.com/openhab/openhab-addons/commit/77b230d3e4501990d2b83ad10b4f23c167a69c8d", "message": "[fronius] [fronius] Accept null value as zero for inverterdatachannelpac channel (#9077)\n\nSigned-off-by: Jimmy Tanagra <jcode@tanagra.id.au>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:27:31Z", "type": "commit"}, {"oid": "420c1f46675b9ef4b7a1cecce6e59090d2eba0d3", "url": "https://github.com/openhab/openhab-addons/commit/420c1f46675b9ef4b7a1cecce6e59090d2eba0d3", "message": "[ipcamera] Improve ONVIF preset naming (#8948)\n\n* Refactor to prevent endless loop.\n* Allow `-rtsp_transport tcp` to be over-ridden.\n* Display actual preset names\n* Allow IP to not match due to Hostname given in setup.\n* Fix index off by 1\n* Bug fixes for HLS\n* Compatibility fix for GotoPreset\n* Improve default snapshot quality and allow FFmpeg arguments to be\nchanged.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>\n\nCo-authored-by: Connor Petty <mistercpp2000@gmail.com>", "committedDate": "2020-11-26T07:30:42Z", "type": "commit"}, {"oid": "78c3f75b974b4eb3924a68711f58e588eb8c4761", "url": "https://github.com/openhab/openhab-addons/commit/78c3f75b974b4eb3924a68711f58e588eb8c4761", "message": "[satel] Fixes for INT-RS module (#9072)\n\nSigned-off-by: Krzysztof Goworek <krzysztof.goworek@gmail.com>\n\nCo-authored-by: Krzysztof Goworek <krzysztof.goworek@gmail.com>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:30:58Z", "type": "commit"}, {"oid": "64e8c9935b34d9b798db13108261949d237f9dab", "url": "https://github.com/openhab/openhab-addons/commit/64e8c9935b34d9b798db13108261949d237f9dab", "message": "Update bundles/org.openhab.binding.ipcamera/src/main/resources/OH-INF/thing/thing-types.xml\n\nCo-authored-by: Matthew Skinner <matt@pcmus.com>\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:30:58Z", "type": "commit"}, {"oid": "37c821fd49ca50efc2b58ef4fc6ab6d3aee1f4a7", "url": "https://github.com/openhab/openhab-addons/commit/37c821fd49ca50efc2b58ef4fc6ab6d3aee1f4a7", "message": "Merge branch 'main' into main", "committedDate": "2020-11-26T07:35:58Z", "type": "commit"}, {"oid": "69a618363da803c2d94f5ed6fadb9162e6fdcd75", "url": "https://github.com/openhab/openhab-addons/commit/69a618363da803c2d94f5ed6fadb9162e6fdcd75", "message": "Add channel Privacy Mode to Amcrest and Dahua handlers\n\nSigned-off-by: Thomas <thomas@boerkel.de>", "committedDate": "2020-11-26T07:39:34Z", "type": "commit"}, {"oid": "9b152cf9787ffd615aff227d6569e3f0e11c3450", "url": "https://github.com/openhab/openhab-addons/commit/9b152cf9787ffd615aff227d6569e3f0e11c3450", "message": "removed deprecated author information from binding.xml (#9113)\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>", "committedDate": "2020-11-26T07:44:28Z", "type": "commit"}]}