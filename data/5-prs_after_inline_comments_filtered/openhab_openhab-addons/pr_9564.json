{"pr_number": 9564, "pr_title": "[neato] Fixed NPE in discovery service", "pr_createdAt": "2020-12-28T18:19:18Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/9564", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTcxMTA0Nw==", "url": "https://github.com/openhab/openhab-addons/pull/9564#discussion_r549711047", "bodyText": "This doesn't look right. The bridgeUID should be part of the ThingUID. So it should not be removed.. What seems to be wrong here is that the bridgeUID is not set. This can be done in the constructor by getting the UID from the passed NeatoAccountHandler.", "author": "Hilbrand", "createdAt": "2020-12-29T13:48:19Z", "path": "bundles/org.openhab.binding.neato/src/main/java/org/openhab/binding/neato/internal/discovery/NeatoAccountDiscoveryService.java", "diffHunk": "@@ -88,17 +87,17 @@ private void addThing(Robot robot) {\n             return;\n         }\n \n-        logger.debug(\"addThing(): Adding new Neato unit {} to the inbox\", robot.getName());\n+        logger.debug(\"addThing(): Adding new Neato unit ({}) to the inbox\", robot.getName());\n \n         Map<String, Object> properties = new HashMap<>();\n         String serial = robot.getSerial();\n-        ThingUID thingUID = new ThingUID(NeatoBindingConstants.THING_TYPE_VACUUMCLEANER, bridgeUID, robot.getSerial());", "originalCommit": "0a1bc3722c66f33caa638d0674a488bd3d7aa03f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTczNzkwNA==", "url": "https://github.com/openhab/openhab-addons/pull/9564#discussion_r549737904", "bodyText": "Thanks.  I originally tried that route but was getting a null uid returned... I just realized that I had tried to get the bridgeUID instead of the thingUID from the handler (which is the bridge).", "author": "jjlauterbach", "createdAt": "2020-12-29T15:06:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTcxMTA0Nw=="}], "type": "inlineReview"}, {"oid": "fedfc265eb89fd210dcfcea3fe5df2b44b01cfea", "url": "https://github.com/openhab/openhab-addons/commit/fedfc265eb89fd210dcfcea3fe5df2b44b01cfea", "message": "[neato] Fix npe in discovery service. (#9561)\n\nSigned-off-by: Jeff Lauterbach <jjlauterbach@gmail.com>", "committedDate": "2020-12-29T15:04:24Z", "type": "forcePushed"}, {"oid": "95c93ceccc586b8e2fde73047f678823e23e1ddd", "url": "https://github.com/openhab/openhab-addons/commit/95c93ceccc586b8e2fde73047f678823e23e1ddd", "message": "[neato] Fix npe in discovery service. (#9561)\n\nSigned-off-by: Jeff Lauterbach <jjlauterbach@gmail.com>", "committedDate": "2021-01-07T01:30:52Z", "type": "commit"}, {"oid": "95c93ceccc586b8e2fde73047f678823e23e1ddd", "url": "https://github.com/openhab/openhab-addons/commit/95c93ceccc586b8e2fde73047f678823e23e1ddd", "message": "[neato] Fix npe in discovery service. (#9561)\n\nSigned-off-by: Jeff Lauterbach <jjlauterbach@gmail.com>", "committedDate": "2021-01-07T01:30:52Z", "type": "forcePushed"}]}