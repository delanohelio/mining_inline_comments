{"pr_number": 7774, "pr_title": "[mqtt.homie] Create PercentageValue only if attribute is settable", "pr_createdAt": "2020-05-24T14:12:02Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7774", "timeline": [{"oid": "ef0c0bf645ccfd911fbbfa75712fca2712c62766", "url": "https://github.com/openhab/openhab-addons/commit/ef0c0bf645ccfd911fbbfa75712fca2712c62766", "message": "Create PercentageValue only if attribute is settable\n\nSigned-off-by: Aitor Iturrioz <riturrioz@gmail.com>", "committedDate": "2020-05-24T13:06:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY0OTk0Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7774#discussion_r429649943", "bodyText": "You got rid of the attributes.unit null check. Please add it back in. Or is it not needed?", "author": "cpmeister", "createdAt": "2020-05-24T15:51:17Z", "path": "bundles/org.openhab.binding.mqtt.homie/src/main/java/org/openhab/binding/mqtt/homie/internal/homie300/Property.java", "diffHunk": "@@ -194,7 +194,7 @@ public void createChannelFromAttribute() {\n                 if (step != null && !isDecimal && step.intValue() <= 0) {\n                     step = new BigDecimal(1);\n                 }\n-                if (attributes.unit != null && attributes.unit.contains(\"%\")) {\n+                if (attributes.unit.contains(\"%\") && attributes.settable) {", "originalCommit": "ef0c0bf645ccfd911fbbfa75712fca2712c62766", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY1MTA1NQ==", "url": "https://github.com/openhab/openhab-addons/pull/7774#discussion_r429651055", "bodyText": "Hi @cpmeister! The null check is not needed, because unit is initialized as an empty string \ud83d\ude09", "author": "bodiroga", "createdAt": "2020-05-24T16:03:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY0OTk0Mw=="}], "type": "inlineReview"}]}