{"pr_number": 8752, "pr_title": " [Ip Camera] Refactor labels and defaults for  openHAB 3", "pr_createdAt": "2020-10-14T12:13:17Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/8752", "timeline": [{"oid": "48cff2ffcf2e5a1890b43853b062c42a99751ff6", "url": "https://github.com/openhab/openhab-addons/commit/48cff2ffcf2e5a1890b43853b062c42a99751ff6", "message": "Fix checkstyle issues.\n\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-15T06:13:36Z", "type": "commit"}, {"oid": "c45da1bd4c47aa546a5f59c72e59c9c24989608d", "url": "https://github.com/openhab/openhab-addons/commit/c45da1bd4c47aa546a5f59c72e59c9c24989608d", "message": "CheckStyle fixes and improvements.\n\nCheckStyle fixes.\nChannel label improvements for better 'create equipment from thing'\nexperience.\nRemove openhab2 from a few places.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-15T06:13:36Z", "type": "commit"}, {"oid": "24fbb8263fbdfb63e28c05c5b31433f1593d16c1", "url": "https://github.com/openhab/openhab-addons/commit/24fbb8263fbdfb63e28c05c5b31433f1593d16c1", "message": "Readme updated.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-15T06:13:36Z", "type": "commit"}, {"oid": "e27962e4593cf431d76f666441876d8a2031bbcd", "url": "https://github.com/openhab/openhab-addons/commit/e27962e4593cf431d76f666441876d8a2031bbcd", "message": "CheckStyle fixes and improvements.\n\nCheckStyle fixes.\nChannel label improvements for better 'create equipment from thing'\nexperience.\nRemove openhab2 from a few places.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-15T06:13:54Z", "type": "commit"}, {"oid": "c020160de1f9333b829ab1d6f4c198444de5314c", "url": "https://github.com/openhab/openhab-addons/commit/c020160de1f9333b829ab1d6f4c198444de5314c", "message": "Readme updated.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-15T06:15:09Z", "type": "commit"}, {"oid": "a88b8156b838fd1ad6a173d1f8829cae44ce6724", "url": "https://github.com/openhab/openhab-addons/commit/a88b8156b838fd1ad6a173d1f8829cae44ce6724", "message": "Readme updated.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-15T06:16:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTc0MzE1OA==", "url": "https://github.com/openhab/openhab-addons/pull/8752#discussion_r505743158", "bodyText": "content.content() isn't an array type, so I don't think System.arraycopy would work as written.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                System.arraycopy(content.content(), 0, incomingJpeg, recievedBytes, content.content().capacity());\n          \n          \n            \n                                System.arraycopy(content.content().array(), 0, incomingJpeg, recievedBytes, content.content().capacity());", "author": "cpmeister", "createdAt": "2020-10-15T18:12:14Z", "path": "bundles/org.openhab.binding.ipcamera/src/main/java/org/openhab/binding/ipcamera/internal/StreamServerHandler.java", "diffHunk": "@@ -177,19 +177,13 @@ public void channelRead(@Nullable ChannelHandlerContext ctx, @Nullable Object ms\n             }\n             if (msg instanceof HttpContent) {\n                 HttpContent content = (HttpContent) msg;\n-                int index = 0;\n                 if (recievedBytes == 0) {\n-                    incomingJpeg = new byte[content.content().capacity()];\n+                    incomingJpeg = content.content().array();\n                 } else {\n                     byte[] temp = incomingJpeg;\n                     incomingJpeg = new byte[recievedBytes + content.content().capacity()];\n-\n-                    for (; index < temp.length; index++) {\n-                        incomingJpeg[index] = temp[index];\n-                    }\n-                }\n-                for (int i = 0; i < content.content().capacity(); i++) {\n-                    incomingJpeg[index++] = content.content().getByte(i);\n+                    System.arraycopy(temp, 0, incomingJpeg, 0, temp.length);\n+                    System.arraycopy(content.content(), 0, incomingJpeg, recievedBytes, content.content().capacity());", "originalCommit": "a88b8156b838fd1ad6a173d1f8829cae44ce6724", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f02de2cead5826f2aeb3cc6a8e0f8ab91bbde12b", "url": "https://github.com/openhab/openhab-addons/commit/f02de2cead5826f2aeb3cc6a8e0f8ab91bbde12b", "message": "Update bundles/org.openhab.binding.ipcamera/README.md\r\n\r\nSigned-off-by: Matthew Skinner <matt@pcmus.com>\n\nCo-authored-by: Fabian Wolter <github@fabian-wolter.de>", "committedDate": "2020-10-16T09:59:14Z", "type": "commit"}, {"oid": "1008987f08ad4c157a8d56ee21f99bcb8a6f8609", "url": "https://github.com/openhab/openhab-addons/commit/1008987f08ad4c157a8d56ee21f99bcb8a6f8609", "message": "Update bundles/org.openhab.binding.ipcamera/src/main/resources/OH-INF/binding/binding.xml\r\n\r\nSigned-off-by: Matthew Skinner <matt@pcmus.com>\n\nCo-authored-by: Fabian Wolter <github@fabian-wolter.de>", "committedDate": "2020-10-16T09:59:30Z", "type": "commit"}, {"oid": "f2aa84841d4f5fae91491e9d40c3117dc3da67b7", "url": "https://github.com/openhab/openhab-addons/commit/f2aa84841d4f5fae91491e9d40c3117dc3da67b7", "message": "Update bundles/org.openhab.binding.ipcamera/src/main/java/org/openhab/binding/ipcamera/internal/StreamServerHandler.java\r\n\r\nSigned-off-by: Matthew Skinner <matt@pcmus.com>\n\nCo-authored-by: Connor Petty <mistercpp2000@gmail.com>", "committedDate": "2020-10-16T10:16:27Z", "type": "commit"}, {"oid": "ddf570a5af58f70a2241fe7df12dbdc6706ae4be", "url": "https://github.com/openhab/openhab-addons/commit/ddf570a5af58f70a2241fe7df12dbdc6706ae4be", "message": "Fix bug when ByteBuf is not backed by array.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-17T01:50:23Z", "type": "commit"}, {"oid": "0bd78037484503da349293d634513ac09480ad49", "url": "https://github.com/openhab/openhab-addons/commit/0bd78037484503da349293d634513ac09480ad49", "message": "Speed up auto discovery.\n\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-17T03:20:08Z", "type": "commit"}, {"oid": "0c77d765f58b79db22614b9c2cbb8c290719de7b", "url": "https://github.com/openhab/openhab-addons/commit/0c77d765f58b79db22614b9c2cbb8c290719de7b", "message": "Merge pull request #5 from openhab/main\n\nupdate to main\r\n\r\nSigned-off-by: Matthew Skinner <matt@pcmus.com>", "committedDate": "2020-10-17T08:10:49Z", "type": "commit"}]}