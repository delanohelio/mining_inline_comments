{"pr_number": 9306, "pr_title": "[deconz] support for thermostat windowopen", "pr_createdAt": "2020-12-09T15:12:24Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/9306", "timeline": [{"oid": "f9cdff7616ff7a70b85022f52d888f2a569b52f3", "url": "https://github.com/openhab/openhab-addons/commit/f9cdff7616ff7a70b85022f52d888f2a569b52f3", "message": "add support for windowopen in thermostats\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>", "committedDate": "2020-12-11T18:26:33Z", "type": "commit"}, {"oid": "3af03bfb82ecff6dc62797a200a97e57ff3b1955", "url": "https://github.com/openhab/openhab-addons/commit/3af03bfb82ecff6dc62797a200a97e57ff3b1955", "message": "add code\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>", "committedDate": "2020-12-11T18:26:33Z", "type": "commit"}, {"oid": "d53c568244efa10a0356457966bc53bc11492678", "url": "https://github.com/openhab/openhab-addons/commit/d53c568244efa10a0356457966bc53bc11492678", "message": "fix documentation\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>", "committedDate": "2020-12-11T18:26:33Z", "type": "commit"}, {"oid": "d53c568244efa10a0356457966bc53bc11492678", "url": "https://github.com/openhab/openhab-addons/commit/d53c568244efa10a0356457966bc53bc11492678", "message": "fix documentation\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>", "committedDate": "2020-12-11T18:26:33Z", "type": "forcePushed"}, {"oid": "9a779c3a345c38393152818dab37867a78b49f3e", "url": "https://github.com/openhab/openhab-addons/commit/9a779c3a345c38393152818dab37867a78b49f3e", "message": "fix after refactoring\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>", "committedDate": "2020-12-11T18:30:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTE2NzE5OQ==", "url": "https://github.com/openhab/openhab-addons/pull/9306#discussion_r541167199", "bodyText": "Shouldn't you check whether or not this channel already exists or not?", "author": "cpmeister", "createdAt": "2020-12-11T19:03:32Z", "path": "bundles/org.openhab.binding.deconz/src/main/java/org/openhab/binding/deconz/internal/handler/SensorThermostatThingHandler.java", "diffHunk": "@@ -182,4 +190,21 @@ protected void createTypeSpecificChannels(SensorConfig sensorConfig, SensorState\n         }\n         return newTemperature.scaleByPowerOfTen(2).intValue();\n     }\n+\n+    @Override\n+    protected void processStateResponse(DeconzBaseMessage stateResponse) {\n+        if (!(stateResponse instanceof SensorMessage)) {\n+            return;\n+        }\n+\n+        SensorMessage sensorMessage = (SensorMessage) stateResponse;\n+        if (sensorMessage.state.windowopen != null) {\n+            ThingBuilder thingBuilder = editThing();\n+            thingBuilder.withChannel(ChannelBuilder.create(new ChannelUID(thing.getUID(), CHANNEL_WINDOWOPEN), \"String\")\n+                    .withType(new ChannelTypeUID(BINDING_ID, \"open\")).build());", "originalCommit": "9a779c3a345c38393152818dab37867a78b49f3e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "27ab10afff485ac687a8159cc266899035b2cadf", "url": "https://github.com/openhab/openhab-addons/commit/27ab10afff485ac687a8159cc266899035b2cadf", "message": "address review comments\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>", "committedDate": "2020-12-11T19:27:50Z", "type": "commit"}]}