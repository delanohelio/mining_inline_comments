{"pr_number": 7196, "pr_title": "[insteon] support the related parameter with broadcastOnOff channel", "pr_createdAt": "2020-03-20T02:04:10Z", "pr_url": "https://github.com/openhab/openhab-addons/pull/7196", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNTAwNA==", "url": "https://github.com/openhab/openhab-addons/pull/7196#discussion_r395425004", "bodyText": "How do you know that polling will occur after the enqueued message?", "author": "cpmeister", "createdAt": "2020-03-20T03:29:32Z", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/device/CommandHandler.java", "diffHunk": "@@ -346,6 +346,7 @@ public void handleCommand(InsteonChannelConfiguration conf, Command cmd, Insteon\n                             getGroup(conf));\n                     Msg m = dev.makeStandardMessage((byte) 0x0f, cmd1, value, group);\n                     dev.enqueueMessage(m, feature);\n+                    feature.pollRelatedDevices();", "originalCommit": "27a27452d5009530f77fc86012262b52aa1dcfef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1ODA4Mw==", "url": "https://github.com/openhab/openhab-addons/pull/7196#discussion_r395558083", "bodyText": "This bascially replicates what happens in DeviceFeature.publishState() -> DeviceFeatureListener.publishState() when a new state comes in from Insteon network. Since this is a broadcast message, and the way the Insteon protocol works state changes are not sent to the broadcaster.", "author": "robnielsen", "createdAt": "2020-03-20T10:47:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNTAwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTgwOTk3OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7196#discussion_r395809979", "bodyText": "I've also tested to make sure the polling is occurring as expected.", "author": "robnielsen", "createdAt": "2020-03-20T18:09:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNTAwNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUyMzQ0OQ==", "url": "https://github.com/openhab/openhab-addons/pull/7196#discussion_r398523449", "bodyText": "@mfedotov has tested as well.", "author": "robnielsen", "createdAt": "2020-03-26T12:11:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTQyNTAwNA=="}], "type": "inlineReview"}, {"oid": "1d470d7596fcf33dc58c98bee3eea324248fc62a", "url": "https://github.com/openhab/openhab-addons/commit/1d470d7596fcf33dc58c98bee3eea324248fc62a", "message": "[insteon] add support for the related parameter with the broadcastOnOff channel\n\nSigned-off-by: Rob Nielsen <rob.nielsen@yahoo.com>", "committedDate": "2020-03-26T12:07:54Z", "type": "commit"}]}