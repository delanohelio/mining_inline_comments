{"pr_number": 4285, "pr_title": "Fix NXP-29393 blank assertion oauth2", "pr_createdAt": "2020-08-31T12:20:51Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/4285", "timeline": [{"oid": "5fd2de2c7a05bbf5c8aa5564adaf9f207647759c", "url": "https://github.com/nuxeo/nuxeo/commit/5fd2de2c7a05bbf5c8aa5564adaf9f207647759c", "message": "NXP-29393: Cleanup / Format", "committedDate": "2020-08-31T12:19:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEwMzA0Mw==", "url": "https://github.com/nuxeo/nuxeo/pull/4285#discussion_r480103043", "bodyText": "maybe useless", "author": "ataillefer", "createdAt": "2020-08-31T12:41:19Z", "path": "modules/platform/nuxeo-platform-oauth/src/main/java/org/nuxeo/ecm/platform/oauth2/NuxeoOAuth2Servlet.java", "diffHunk": "@@ -358,6 +355,14 @@ protected void doPostToken(HttpServletRequest request, HttpServletResponse respo\n                 return;\n             }\n \n+            Map<String, Object> claims = Framework.getService(JWTService.class).verifyToken(jwtToken);\n+            if (claims == null) {\n+                error = OAuth2Error.invalidClient(\"Secret not configured or invalid token\");\n+", "originalCommit": "3d793e3fae13c0b4817493c13a03146e508eecd5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "34c92df7d8f147cae80a5d862f738c558915f771", "url": "https://github.com/nuxeo/nuxeo/commit/34c92df7d8f147cae80a5d862f738c558915f771", "message": "NXP-29393: Correctly handle blank assertion parameter", "committedDate": "2020-08-31T12:55:03Z", "type": "commit"}, {"oid": "34c92df7d8f147cae80a5d862f738c558915f771", "url": "https://github.com/nuxeo/nuxeo/commit/34c92df7d8f147cae80a5d862f738c558915f771", "message": "NXP-29393: Correctly handle blank assertion parameter", "committedDate": "2020-08-31T12:55:03Z", "type": "forcePushed"}]}