{"pr_number": 3961, "pr_title": "NXP-28915: bundle and component requirements", "pr_createdAt": "2020-04-23T06:31:29Z", "pr_url": "https://github.com/nuxeo/nuxeo/pull/3961", "timeline": [{"oid": "4ed8ac6ff5b80cdd9753d04d9feed45e1d78cd83", "url": "https://github.com/nuxeo/nuxeo/commit/4ed8ac6ff5b80cdd9753d04d9feed45e1d78cd83", "message": "Cleanup unused XML API\n\nThis reverts commit 50a03cc6511e845b52bdb844d5a30c140227393c.", "committedDate": "2020-04-27T15:18:00Z", "type": "forcePushed"}, {"oid": "1e5365772c5aa81ebd56edd95039d83289a37a2d", "url": "https://github.com/nuxeo/nuxeo/commit/1e5365772c5aa81ebd56edd95039d83289a37a2d", "message": "NXP-28915 Cleanup unused XML API mentioning requirements (?)", "committedDate": "2020-04-29T07:00:06Z", "type": "forcePushed"}, {"oid": "1bbf82ced9a426824bc3a757f1963848779f661f", "url": "https://github.com/nuxeo/nuxeo/commit/1bbf82ced9a426824bc3a757f1963848779f661f", "message": "NXP-28915: add functional tests for requirements.\nTook that opportunity to add more alternative checks on all artifacts.", "committedDate": "2020-04-29T11:34:13Z", "type": "forcePushed"}, {"oid": "6a1fc7949db29c55e5ba99d64a2ab954e651db9d", "url": "https://github.com/nuxeo/nuxeo/commit/6a1fc7949db29c55e5ba99d64a2ab954e651db9d", "message": "NXP-28915: add functional tests for requirements.\nTook that opportunity to add more alternative checks on all artifacts.", "committedDate": "2020-04-29T16:59:44Z", "type": "forcePushed"}, {"oid": "7ad656a0024981b00fbe3ab1dee7d683cd6fa488", "url": "https://github.com/nuxeo/nuxeo/commit/7ad656a0024981b00fbe3ab1dee7d683cd6fa488", "message": "NXP-28915: add functional tests for requirements.\nTook that opportunity to add more alternative checks on all artifacts.", "committedDate": "2020-04-30T13:58:43Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM1NjY1Ng==", "url": "https://github.com/nuxeo/nuxeo/pull/3961#discussion_r420356656", "bodyText": "You could use a switch here.", "author": "efge", "createdAt": "2020-05-05T19:33:59Z", "path": "modules/platform/nuxeo-apidoc-server/nuxeo-apidoc-webengine/src/main/java/org/nuxeo/apidoc/browse/ApiBrowserConstants.java", "diffHunk": "@@ -69,4 +77,24 @@ public static final boolean check(String url, String view) {\n         return url.contains(\"/\" + view);\n     }\n \n+    public static final String getArtifactView(String artifactType) {\n+        String view = null;\n+        if (artifactType.equals(BundleInfo.TYPE_NAME)) {\n+            view = ApiBrowserConstants.VIEW_BUNDLE;\n+        } else if (artifactType.equals(BundleGroup.TYPE_NAME)) {\n+            view = ApiBrowserConstants.VIEW_BUNDLEGROUP;\n+        } else if (artifactType.equals(ComponentInfo.TYPE_NAME)) {\n+            view = ApiBrowserConstants.VIEW_COMPONENT;\n+        } else if (artifactType.equals(ExtensionInfo.TYPE_NAME)) {\n+            view = ApiBrowserConstants.VIEW_CONTRIBUTION;\n+        } else if (artifactType.equals(ExtensionPointInfo.TYPE_NAME)) {\n+            view = ApiBrowserConstants.VIEW_EXTENSIONPOINT;\n+        } else if (artifactType.equals(ServiceInfo.TYPE_NAME)) {\n+            view = ApiBrowserConstants.VIEW_SERVICE;\n+        } else if (artifactType.equals(OperationInfo.TYPE_NAME)) {\n+            view = ApiBrowserConstants.VIEW_OPERATION;", "originalCommit": "7ad656a0024981b00fbe3ab1dee7d683cd6fa488", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM1NzI2OQ==", "url": "https://github.com/nuxeo/nuxeo/pull/3961#discussion_r420357269", "bodyText": "pasterd -> pasted. This could be a JavaDoc @implNote instead of a comment.", "author": "efge", "createdAt": "2020-05-05T19:35:08Z", "path": "modules/platform/nuxeo-apidoc-server/nuxeo-apidoc-core/src/main/java/org/nuxeo/apidoc/introspection/ServerInfo.java", "diffHunk": "@@ -278,6 +286,39 @@ protected static BundleInfoImpl computeBundleInfo(Bundle bundle) {\n         return binfo;\n     }\n \n+    /**\n+     * Retrieve bundle requirements.\n+     * <p>\n+     * Note: code copy/pasterd from {@link DeploymentPreprocessor#processManifest} internal method.", "originalCommit": "a9a5ef482e0ca566e15c32d3d177fe10f1af4dd9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "26bdb12341e8e117149f2e83a2d91d7fc4cf46e4", "url": "https://github.com/nuxeo/nuxeo/commit/26bdb12341e8e117149f2e83a2d91d7fc4cf46e4", "message": "NXP-28915: add functional tests for requirements.\nTook that opportunity to add more alternative checks on all artifacts.", "committedDate": "2020-05-11T09:04:25Z", "type": "forcePushed"}, {"oid": "90fe79d55bd5d10fbfda4b2866afb3936f314bcd", "url": "https://github.com/nuxeo/nuxeo/commit/90fe79d55bd5d10fbfda4b2866afb3936f314bcd", "message": "NXP-28915: add functional tests for requirements.\nTook that opportunity to add more alternative checks on all artifacts.", "committedDate": "2020-05-11T10:11:00Z", "type": "forcePushed"}, {"oid": "1e46c2202215db4abaaf9c01cdd5479a98073bbd", "url": "https://github.com/nuxeo/nuxeo/commit/1e46c2202215db4abaaf9c01cdd5479a98073bbd", "message": "NXP-28915: compute bundle and component requirements in explorer", "committedDate": "2020-05-13T15:32:02Z", "type": "commit"}, {"oid": "c81a23737adc72f2c8df8acd2990398e1daf1c50", "url": "https://github.com/nuxeo/nuxeo/commit/c81a23737adc72f2c8df8acd2990398e1daf1c50", "message": "NXP-28915: add functional tests for requirements.\nTook that opportunity to add more alternative checks on all artifacts.", "committedDate": "2020-05-13T15:32:02Z", "type": "commit"}, {"oid": "c81a23737adc72f2c8df8acd2990398e1daf1c50", "url": "https://github.com/nuxeo/nuxeo/commit/c81a23737adc72f2c8df8acd2990398e1daf1c50", "message": "NXP-28915: add functional tests for requirements.\nTook that opportunity to add more alternative checks on all artifacts.", "committedDate": "2020-05-13T15:32:02Z", "type": "forcePushed"}]}