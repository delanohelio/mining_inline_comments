{"pr_number": 15260, "pr_title": "Adding array functions pushdown to pinot", "pr_createdAt": "2020-10-02T07:58:11Z", "pr_url": "https://github.com/prestodb/presto/pull/15260", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4Njc2Mg==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r498986762", "bodyText": "nit: PRESTO_TO_PINOT_ARRAY_AGGREGATIONS ?\nJust something verbose to state what is it a map of (ie, what is the key/value).", "author": "agrawaldevesh", "createdAt": "2020-10-02T18:33:18Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotAggregationProjectConverter.java", "diffHunk": "@@ -51,14 +51,28 @@\n             \"/\", \"DIV\");\n     private static final String FROM_UNIXTIME = \"from_unixtime\";\n \n+    private static final Map<String, String> ARRAY_AGGREGATION_ALLOWED_PUSHDOWN_MAP = ImmutableMap.<String, String>builder()", "originalCommit": "492b7b6a593f6beaf38e5326ea5bb71c2cf53842", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEyNjA2OA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499126068", "bodyText": "done.", "author": "xiangfu0", "createdAt": "2020-10-03T07:50:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4Njc2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4NzcwNQ==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r498987705", "bodyText": "Should we require that the .get does not return a null here ?", "author": "agrawaldevesh", "createdAt": "2020-10-02T18:35:07Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotAggregationProjectConverter.java", "diffHunk": "@@ -217,17 +231,45 @@ private PinotExpression handleFunction(\n             CallExpression function,\n             Map<VariableReferenceExpression, PinotQueryGeneratorContext.Selection> context)\n     {\n-        switch (function.getDisplayName().toLowerCase(ENGLISH)) {\n+        String functionName = function.getDisplayName().toLowerCase(ENGLISH);\n+        switch (functionName) {\n             case \"date_trunc\":\n                 boolean useDateTruncation = PinotSessionProperties.isUseDateTruncation(session);\n                 return useDateTruncation ?\n                         handleDateTruncationViaDateTruncation(function, context) :\n                         handleDateTruncationViaDateTimeConvert(function, context);\n+            case \"array_max\":\n+            case \"array_min\":\n+                return derived(String.format(\"%s(%s)\",\n+                        ARRAY_AGGREGATION_ALLOWED_PUSHDOWN_MAP.get(functionName),", "originalCommit": "492b7b6a593f6beaf38e5326ea5bb71c2cf53842", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEyNjA1OQ==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499126059", "bodyText": "done.", "author": "xiangfu0", "createdAt": "2020-10-03T07:50:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4NzcwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4ODUxOQ==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r498988519", "bodyText": "I feel we should do a stronger check here: Like that the split length should not be more than 3 perhaps ? Just vary of doing the wrong thing if say we get something weird like array_sum_1_3 :-P", "author": "agrawaldevesh", "createdAt": "2020-10-02T18:36:54Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotAggregationProjectConverter.java", "diffHunk": "@@ -217,17 +231,45 @@ private PinotExpression handleFunction(\n             CallExpression function,\n             Map<VariableReferenceExpression, PinotQueryGeneratorContext.Selection> context)\n     {\n-        switch (function.getDisplayName().toLowerCase(ENGLISH)) {\n+        String functionName = function.getDisplayName().toLowerCase(ENGLISH);\n+        switch (functionName) {\n             case \"date_trunc\":\n                 boolean useDateTruncation = PinotSessionProperties.isUseDateTruncation(session);\n                 return useDateTruncation ?\n                         handleDateTruncationViaDateTruncation(function, context) :\n                         handleDateTruncationViaDateTimeConvert(function, context);\n+            case \"array_max\":\n+            case \"array_min\":\n+                return derived(String.format(\"%s(%s)\",\n+                        ARRAY_AGGREGATION_ALLOWED_PUSHDOWN_MAP.get(functionName),\n+                        function.getArguments().get(0).accept(this, context).getDefinition()));\n+            // array_sum and array_reduce are translated to a reduce function with lambda functions, so we pass in\n+            // this arrayVariableHint to help determine which array function it is.\n+            case \"reduce\":\n+                if (arrayVariableHint != null) {\n+                    String arrayFunctionName = getArrayFunctionName(arrayVariableHint);\n+                    if (arrayFunctionName != null) {\n+                        String inputColumn = function.getArguments().get(0).accept(this, context).getDefinition();\n+                        return derived(String.format(\"%s(%s)\", arrayFunctionName, inputColumn));\n+                    }\n+                }\n             default:\n                 throw new PinotException(PINOT_UNSUPPORTED_EXPRESSION, Optional.empty(), format(\"function %s not supported yet\", function.getDisplayName()));\n         }\n     }\n \n+    // The array function variable names are in the format of `array_sum`, `array_average_0`, `array_sum_1`.\n+    // So we can parse the array function name based on variable name.\n+    private String getArrayFunctionName(VariableReferenceExpression variable)\n+    {\n+        String[] variableNameSplits = variable.getName().split(\"_\");\n+        if (variableNameSplits.length < 2) {\n+            return null;\n+        }\n+        String arrayFunctionName = String.format(\"%s_%s\", variableNameSplits[0], variableNameSplits[1]);", "originalCommit": "492b7b6a593f6beaf38e5326ea5bb71c2cf53842", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEyNjA2NA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499126064", "bodyText": "done", "author": "xiangfu0", "createdAt": "2020-10-03T07:50:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk4ODUxOQ=="}], "type": "inlineReview"}, {"oid": "0301b8e60e9e541b9640268d8457d4bee8d5a6f1", "url": "https://github.com/prestodb/presto/commit/0301b8e60e9e541b9640268d8457d4bee8d5a6f1", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-03T07:49:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1OTIyMQ==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499159221", "bodyText": "I could not see any unit tests for this reduce codepath. Are they indeed there ?", "author": "agrawaldevesh", "createdAt": "2020-10-03T15:54:49Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotAggregationProjectConverter.java", "diffHunk": "@@ -217,17 +231,46 @@ private PinotExpression handleFunction(\n             CallExpression function,\n             Map<VariableReferenceExpression, PinotQueryGeneratorContext.Selection> context)\n     {\n-        switch (function.getDisplayName().toLowerCase(ENGLISH)) {\n+        String functionName = function.getDisplayName().toLowerCase(ENGLISH);\n+        switch (functionName) {\n             case \"date_trunc\":\n                 boolean useDateTruncation = PinotSessionProperties.isUseDateTruncation(session);\n                 return useDateTruncation ?\n                         handleDateTruncationViaDateTruncation(function, context) :\n                         handleDateTruncationViaDateTimeConvert(function, context);\n+            case \"array_max\":\n+            case \"array_min\":\n+                String pinotArrayFunctionName = PRESTO_TO_PINOT_ARRAY_AGGREGATIONS.get(functionName);\n+                requireNonNull(pinotArrayFunctionName, \"Converted Pinot array function is null for - \" + functionName);\n+                return derived(String.format(\"%s(%s)\", pinotArrayFunctionName,\n+                        function.getArguments().get(0).accept(this, context).getDefinition()));\n+            // array_sum and array_reduce are translated to a reduce function with lambda functions, so we pass in\n+            // this arrayVariableHint to help determine which array function it is.\n+            case \"reduce\":", "originalCommit": "0301b8e60e9e541b9640268d8457d4bee8d5a6f1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE4MzE1MA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499183150", "bodyText": "I'm just too lazy to write reduce functions for average and sum :)\nAdded those tests.", "author": "xiangfu0", "createdAt": "2020-10-03T21:27:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1OTIyMQ=="}], "type": "inlineReview"}, {"oid": "10b39e857c5f01e81cabe651ca36ea47cb5407f7", "url": "https://github.com/prestodb/presto/commit/10b39e857c5f01e81cabe651ca36ea47cb5407f7", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-03T21:25:08Z", "type": "forcePushed"}, {"oid": "2fc2ef1810e33e83abc86620250891fcd880e411", "url": "https://github.com/prestodb/presto/commit/2fc2ef1810e33e83abc86620250891fcd880e411", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-03T22:25:28Z", "type": "forcePushed"}, {"oid": "83f91eef61b60f3e6f9d435e94a89d798824ed73", "url": "https://github.com/prestodb/presto/commit/83f91eef61b60f3e6f9d435e94a89d798824ed73", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-04T00:02:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5MjcxMg==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499192712", "bodyText": "Should one side be a literal here ? What happens if I do a: array_col1 contains array_col2 ?\nWould presto ensure that array_col2 is a literal ?\nWhat happens when array_col2 is a non literal scalar ? Would that be supported by Pinot ?", "author": "agrawaldevesh", "createdAt": "2020-10-04T00:17:00Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotFilterExpressionConverter.java", "diffHunk": "@@ -201,6 +201,23 @@ else if (timeFieldExpression instanceof ConstantExpression) {\n         return Optional.of(timeValueString);\n     }\n \n+    private PinotExpression handleContains(\n+            CallExpression contains,\n+            Function<VariableReferenceExpression, Selection> context)\n+    {\n+        if (contains.getArguments().size() == 2) {\n+            RowExpression left = contains.getArguments().get(0);\n+            RowExpression right = contains.getArguments().get(1);", "originalCommit": "83f91eef61b60f3e6f9d435e94a89d798824ed73", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NDY1Ng==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499194656", "bodyText": "The BuiltInFunctionNamespaceHandleResolver will handle the type check.\nIt will throw exception if the second argument is an array.", "author": "xiangfu0", "createdAt": "2020-10-04T00:57:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5MjcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NDgwNA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499194804", "bodyText": "The builtin array functions has strict type check: https://prestodb.io/docs/current/functions/array.html", "author": "xiangfu0", "createdAt": "2020-10-04T01:00:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5MjcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NTY1MA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499195650", "bodyText": "E.g.\npresto:default> explain select sum(array_sum(divwheelsons)) from airlinestats WHERE contains(divwheelsons, divwheelsoffs);\nQuery 20201004_011726_00000_xdccd failed: line 1:69: Unexpected parameters (array(integer), array(integer)) for function contains. Expected: contains(array(T), T) T:comparable\nexplain select sum(array_sum(divwheelsons)) from airlinestats WHERE contains(divwheelsons, divwheelsoffs)", "author": "xiangfu0", "createdAt": "2020-10-04T01:17:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5MjcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIxMDEyMA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499210120", "bodyText": "So should one of the arguments be a literal here ?", "author": "agrawaldevesh", "createdAt": "2020-10-04T06:11:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5MjcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIxMTc0OQ==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499211749", "bodyText": "right, arg[1] should be a literal", "author": "xiangfu0", "createdAt": "2020-10-04T06:37:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5MjcxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIxMjE2Mw==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499212163", "bodyText": "added a check on arg[1] to ensure it's a ConstantExpression.", "author": "xiangfu0", "createdAt": "2020-10-04T06:42:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5MjcxMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5Mjc0MA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499192740", "bodyText": "Its a bit weird to have a single case switch.", "author": "agrawaldevesh", "createdAt": "2020-10-04T00:17:36Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotFilterExpressionConverter.java", "diffHunk": "@@ -294,6 +311,10 @@ public PinotExpression visitCall(CallExpression call, Function<VariableReference\n                 return handleLogicalBinary(operatorType.getOperator(), call, context);\n             }\n         }\n+        switch (functionMetadata.getName().getFunctionName()) {", "originalCommit": "83f91eef61b60f3e6f9d435e94a89d798824ed73", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5NDY2Ng==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499194666", "bodyText": "let me change it to string compare", "author": "xiangfu0", "createdAt": "2020-10-04T00:57:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE5Mjc0MA=="}], "type": "inlineReview"}, {"oid": "462536ff326e86582ab23f93bfa6a92148774503", "url": "https://github.com/prestodb/presto/commit/462536ff326e86582ab23f93bfa6a92148774503", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-04T00:58:31Z", "type": "forcePushed"}, {"oid": "81ca2d2c6d850349ed552bd46fa93d4c4c8408ef", "url": "https://github.com/prestodb/presto/commit/81ca2d2c6d850349ed552bd46fa93d4c4c8408ef", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-04T06:42:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI1ODE3Mg==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499258172", "bodyText": "How about a simple Pinot unsupported exception here ?\nOr is this a bug in presto ? Like does presto (over hive) allow a non literal here ? If it allows and we merely want to forbid pushdown then, Pinot connector should use unsupported exception here.", "author": "agrawaldevesh", "createdAt": "2020-10-04T15:25:06Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotFilterExpressionConverter.java", "diffHunk": "@@ -201,6 +202,24 @@ else if (timeFieldExpression instanceof ConstantExpression) {\n         return Optional.of(timeValueString);\n     }\n \n+    private PinotExpression handleContains(\n+            CallExpression contains,\n+            Function<VariableReferenceExpression, Selection> context)\n+    {\n+        if (contains.getArguments().size() == 2) {\n+            RowExpression left = contains.getArguments().get(0);\n+            RowExpression right = contains.getArguments().get(1);\n+            Preconditions.checkState(right instanceof ConstantExpression, format(\"Contains operator can not push down non-literal value: %s\", right));", "originalCommit": "81ca2d2c6d850349ed552bd46fa93d4c4c8408ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2ODk1Mw==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499268953", "bodyText": "Not only literal, it can also be and identifier, e.g. a column, so I can check if this array field contains another single value column value in the same row.", "author": "xiangfu0", "createdAt": "2020-10-04T17:25:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI1ODE3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI2OTA4NQ==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499269085", "bodyText": "updated the exception", "author": "xiangfu0", "createdAt": "2020-10-04T17:26:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI1ODE3Mg=="}], "type": "inlineReview"}, {"oid": "442e0bcf59ab6da0536801c7089fe426feaaf6ed", "url": "https://github.com/prestodb/presto/commit/442e0bcf59ab6da0536801c7089fe426feaaf6ed", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-04T17:26:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI3NDgwNA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499274804", "bodyText": "if (contains.getArguments().size() != 2) {\n    throw new PinotException(PINOT_UNSUPPORTED_EXPRESSION, Optional.empty(), format(\"Contains operator not supported: %s\", contains));\n}\n\n...", "author": "highker", "createdAt": "2020-10-04T18:28:48Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotFilterExpressionConverter.java", "diffHunk": "@@ -201,6 +201,26 @@ else if (timeFieldExpression instanceof ConstantExpression) {\n         return Optional.of(timeValueString);\n     }\n \n+    private PinotExpression handleContains(\n+            CallExpression contains,\n+            Function<VariableReferenceExpression, Selection> context)\n+    {\n+        if (contains.getArguments().size() == 2) {", "originalCommit": "442e0bcf59ab6da0536801c7089fe426feaaf6ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI4MTQyMA==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499281420", "bodyText": "done.", "author": "xiangfu0", "createdAt": "2020-10-04T19:40:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI3NDgwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI3NDk3Mg==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499274972", "bodyText": "one param per line", "author": "highker", "createdAt": "2020-10-04T18:30:48Z", "path": "presto-pinot-toolkit/src/main/java/com/facebook/presto/pinot/query/PinotAggregationProjectConverter.java", "diffHunk": "@@ -217,17 +231,46 @@ private PinotExpression handleFunction(\n             CallExpression function,\n             Map<VariableReferenceExpression, PinotQueryGeneratorContext.Selection> context)\n     {\n-        switch (function.getDisplayName().toLowerCase(ENGLISH)) {\n+        String functionName = function.getDisplayName().toLowerCase(ENGLISH);\n+        switch (functionName) {\n             case \"date_trunc\":\n                 boolean useDateTruncation = PinotSessionProperties.isUseDateTruncation(session);\n                 return useDateTruncation ?\n                         handleDateTruncationViaDateTruncation(function, context) :\n                         handleDateTruncationViaDateTimeConvert(function, context);\n+            case \"array_max\":\n+            case \"array_min\":\n+                String pinotArrayFunctionName = PRESTO_TO_PINOT_ARRAY_AGGREGATIONS.get(functionName);\n+                requireNonNull(pinotArrayFunctionName, \"Converted Pinot array function is null for - \" + functionName);\n+                return derived(String.format(\"%s(%s)\", pinotArrayFunctionName,\n+                        function.getArguments().get(0).accept(this, context).getDefinition()));", "originalCommit": "442e0bcf59ab6da0536801c7089fe426feaaf6ed", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI4MTQxNw==", "url": "https://github.com/prestodb/presto/pull/15260#discussion_r499281417", "bodyText": "done.", "author": "xiangfu0", "createdAt": "2020-10-04T19:40:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI3NDk3Mg=="}], "type": "inlineReview"}, {"oid": "52f19fb21710b5597d8d87993101ed996e675f5e", "url": "https://github.com/prestodb/presto/commit/52f19fb21710b5597d8d87993101ed996e675f5e", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-04T19:40:31Z", "type": "commit"}, {"oid": "52f19fb21710b5597d8d87993101ed996e675f5e", "url": "https://github.com/prestodb/presto/commit/52f19fb21710b5597d8d87993101ed996e675f5e", "message": "Adding array functions pushdown to pinot", "committedDate": "2020-10-04T19:40:31Z", "type": "forcePushed"}]}