{"pr_number": 14657, "pr_title": "Reduce redundant calls to setNull in DoubleSumAggregation", "pr_createdAt": "2020-06-16T16:52:54Z", "pr_url": "https://github.com/prestodb/presto/pull/14657", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE5MDk3MQ==", "url": "https://github.com/prestodb/presto/pull/14657#discussion_r441190971", "bodyText": "Is there a performance difference between this and original code?", "author": "rongrong", "createdAt": "2020-06-16T23:08:20Z", "path": "presto-main/src/main/java/com/facebook/presto/operator/aggregation/DoubleSumAggregation.java", "diffHunk": "@@ -42,10 +47,10 @@ public static void combine(@AggregationState NullableDoubleState state, @Aggrega\n         if (state.isNull()) {\n             state.setNull(false);\n             state.setDouble(otherState.getDouble());\n-            return;\n         }\n-\n-        state.setDouble(state.getDouble() + otherState.getDouble());\n+        else {", "originalCommit": "64874cd5ba6c6cd8fe4d742197fa1f439395e8ec", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE5NDMzNA==", "url": "https://github.com/prestodb/presto/pull/14657#discussion_r441194334", "bodyText": "Done", "author": "kaikalur", "createdAt": "2020-06-16T23:19:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTE5MDk3MQ=="}], "type": "inlineReview"}, {"oid": "2ddd4fdfcf73ad507ff0e05699cdf1419ebfb0dc", "url": "https://github.com/prestodb/presto/commit/2ddd4fdfcf73ad507ff0e05699cdf1419ebfb0dc", "message": "Reduce redundant calls to setNull in DoubleSumAggregation", "committedDate": "2020-06-16T23:17:31Z", "type": "forcePushed"}, {"oid": "e9924c249a05f57e07515f913d100f144e2ebcc5", "url": "https://github.com/prestodb/presto/commit/e9924c249a05f57e07515f913d100f144e2ebcc5", "message": "Reduce redundant calls to setNull in DoubleSumAggregation", "committedDate": "2020-06-16T23:18:30Z", "type": "commit"}, {"oid": "e9924c249a05f57e07515f913d100f144e2ebcc5", "url": "https://github.com/prestodb/presto/commit/e9924c249a05f57e07515f913d100f144e2ebcc5", "message": "Reduce redundant calls to setNull in DoubleSumAggregation", "committedDate": "2020-06-16T23:18:30Z", "type": "forcePushed"}]}