{"pr_number": 15488, "pr_title": "Load function managers for Presto-on-Spark driver only", "pr_createdAt": "2020-12-01T15:19:17Z", "pr_url": "https://github.com/prestodb/presto/pull/15488", "timeline": [{"oid": "c8a57542386a42e1d7ba73bda92d7e1abd8dd7aa", "url": "https://github.com/prestodb/presto/commit/c8a57542386a42e1d7ba73bda92d7e1abd8dd7aa", "message": "Load function managers for Presto-on-Spark driver only\n\nWhen inline sql function is enabled, no need to load\nfunction managers for executors.", "committedDate": "2020-12-01T16:49:02Z", "type": "forcePushed"}, {"oid": "65263e363422e5eb8e79ec8eec47732e0ad9c082", "url": "https://github.com/prestodb/presto/commit/65263e363422e5eb8e79ec8eec47732e0ad9c082", "message": "Load function managers for Presto-on-Spark driver only\n\nWhen inline sql function is enabled, no need to load\nfunction managers for executors.", "committedDate": "2020-12-01T17:09:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc2NzUwNQ==", "url": "https://github.com/prestodb/presto/pull/15488#discussion_r533767505", "bodyText": "You can get an instance of a configuration class by using injector.getInstance(...)", "author": "arhimondr", "createdAt": "2020-12-01T22:35:18Z", "path": "presto-spark-base/src/main/java/com/facebook/presto/spark/PrestoSparkInjectorFactory.java", "diffHunk": "@@ -189,6 +184,16 @@ public Injector create()\n                     injector.getInstance(SessionPropertyDefaults.class).loadConfigurationManager();\n                 }\n             }\n+\n+            if (sparkProcessType.equals(DRIVER) ||\n+                    configProperties.getOrDefault(INLINE_SQL_FUNCTIONS, \"true\").equals(\"false\")) {", "originalCommit": "65263e363422e5eb8e79ec8eec47732e0ad9c082", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1bb2e5ede48bfee7fe4cbae205e3c47d9f489107", "url": "https://github.com/prestodb/presto/commit/1bb2e5ede48bfee7fe4cbae205e3c47d9f489107", "message": "Load function managers for Presto-on-Spark driver only\n\nWhen inline sql function is enabled, no need to load\nfunction managers for executors.", "committedDate": "2020-12-02T02:39:33Z", "type": "commit"}, {"oid": "1bb2e5ede48bfee7fe4cbae205e3c47d9f489107", "url": "https://github.com/prestodb/presto/commit/1bb2e5ede48bfee7fe4cbae205e3c47d9f489107", "message": "Load function managers for Presto-on-Spark driver only\n\nWhen inline sql function is enabled, no need to load\nfunction managers for executors.", "committedDate": "2020-12-02T02:39:33Z", "type": "forcePushed"}]}