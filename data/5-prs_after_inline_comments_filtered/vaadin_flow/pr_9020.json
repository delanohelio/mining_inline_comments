{"pr_number": 9020, "pr_title": "Deprecate UI.getRouter() and use it only as internal", "pr_createdAt": "2020-09-17T06:17:45Z", "pr_url": "https://github.com/vaadin/flow/pull/9020", "timeline": [{"oid": "a30dd8954e45b27a7c8b9590ed801c75be639367", "url": "https://github.com/vaadin/flow/commit/a30dd8954e45b27a7c8b9590ed801c75be639367", "message": "Deprecate UI.getRouter()", "committedDate": "2020-09-16T10:05:56Z", "type": "commit"}, {"oid": "a07dd3d3ffd2a6cb96dd1f65fb0420463f646cd7", "url": "https://github.com/vaadin/flow/commit/a07dd3d3ffd2a6cb96dd1f65fb0420463f646cd7", "message": "make getRouter public again", "committedDate": "2020-09-17T06:18:54Z", "type": "commit"}, {"oid": "e26cd3e7a1c53301a1c90ddb51f1d24b51619e13", "url": "https://github.com/vaadin/flow/commit/e26cd3e7a1c53301a1c90ddb51f1d24b51619e13", "message": "Add getRouter to WebComponentUI.", "committedDate": "2020-09-17T07:07:18Z", "type": "commit"}, {"oid": "73c49ad5ffee1bf33c27768b3af20faf347a936a", "url": "https://github.com/vaadin/flow/commit/73c49ad5ffee1bf33c27768b3af20faf347a936a", "message": "Use navigation supported property for web components.", "committedDate": "2020-09-17T08:14:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA5MTIyNA==", "url": "https://github.com/vaadin/flow/pull/9020#discussion_r490091224", "bodyText": "Do not forget to remove this deprecated code someday.", "author": "vaadin-bot", "createdAt": "2020-09-17T09:09:27Z", "path": "flow-server/src/main/java/com/vaadin/flow/component/UI.java", "diffHunk": "@@ -929,14 +931,28 @@ public void navigate(String location, QueryParameters queryParameters) {\n         Objects.requireNonNull(location, \"Location must not be null\");\n         Objects.requireNonNull(queryParameters, \"Query parameters must not be null\");\n \n-        getRouter().navigate(this, new Location(location, queryParameters),\n+        getInternals().getRouter().navigate(this,\n+                new Location(location, queryParameters),\n                 NavigationTrigger.UI_NAVIGATE);\n     }\n \n+    /**\n+     * Returns true if this UI instance supports navigation.\n+     *\n+     * @return true if this UI instance supports navigation, otherwise false.\n+     */\n+    public boolean isNavigationSupported() {\n+        // By default any UI supports navigation. Override this to return false\n+        // if navigation is not supported.\n+        return true;\n+    }\n+\n     /**\n      * Gets the router used for navigating in this UI.\n      *\n      * @return a router\n+     *\n+     * @deprecated For internal use only. Will be removed in the future.\n      */\n     public Router getRouter() {", "originalCommit": "73c49ad5ffee1bf33c27768b3af20faf347a936a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "901ba2389d1abe57e28b9559628c1bbac24bb6c4", "url": "https://github.com/vaadin/flow/commit/901ba2389d1abe57e28b9559628c1bbac24bb6c4", "message": "Add deprecated annotation.", "committedDate": "2020-09-17T09:11:12Z", "type": "commit"}]}