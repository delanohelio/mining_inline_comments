{"pr_number": 9129, "pr_title": "chore: Fix tests for windows execution", "pr_createdAt": "2020-10-07T11:12:15Z", "pr_url": "https://github.com/vaadin/flow/pull/9129", "timeline": [{"oid": "1dd4ad97b71bfbd6148520a8da87127b4862bc7f", "url": "https://github.com/vaadin/flow/commit/1dd4ad97b71bfbd6148520a8da87127b4862bc7f", "message": "chore: Fix tests for windows execution\n\nFix tests so they work also on windows.\nRemove Polymer dependency form the test\nroot and only have it in packages actually\nutilizing Polymer.", "committedDate": "2020-10-07T11:11:39Z", "type": "commit"}, {"oid": "42d836f9a3f49cda1a0665b02379795e07ae6a21", "url": "https://github.com/vaadin/flow/commit/42d836f9a3f49cda1a0665b02379795e07ae6a21", "message": "Merge branch 'master' into chore/fix_tests_for_windows\n\n# Conflicts:\n#\tflow-tests/test-ccdm/package.json", "committedDate": "2020-10-08T10:24:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY1OTM2OA==", "url": "https://github.com/vaadin/flow/pull/9129#discussion_r501659368", "bodyText": "To be honest, I don't even get how this helps - is it not going through the file system ? Maybe a clarifying comment so someone doesn't \"fix this\" again", "author": "pleku", "createdAt": "2020-10-08T11:52:25Z", "path": "flow-server/src/main/java/com/vaadin/flow/server/communication/IndexHtmlRequestHandler.java", "diffHunk": "@@ -217,10 +215,10 @@ private static Document getIndexHtmlDocument(VaadinService service)\n         String frontendDir = FrontendUtils.getProjectFrontendDir(\n                 service.getDeploymentConfiguration());\n         String indexHtmlFilePath;\n-        if(frontendDir.endsWith(File.separator)) {\n+        if(frontendDir.endsWith(\"/\")) {", "originalCommit": "42d836f9a3f49cda1a0665b02379795e07ae6a21", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjE5NTE0OQ==", "url": "https://github.com/vaadin/flow/pull/9129#discussion_r502195149", "bodyText": "I actually fixed this now in the test expectation.\nThe problem is ofc that for instance the deafult frontendDir is ./frontend/\nwhich will not match the windows file separator and thus is will become ./frontend/\\index.html\nThis looks strange, but as it's only an exception the work to handle the path correctly would be wasted.", "author": "caalador", "createdAt": "2020-10-09T05:21:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY1OTM2OA=="}], "type": "inlineReview"}, {"oid": "f1d72233109c43ec4a4cdde4c5828da6f74abeb3", "url": "https://github.com/vaadin/flow/commit/f1d72233109c43ec4a4cdde4c5828da6f74abeb3", "message": "Fix expected error in test.", "committedDate": "2020-10-09T05:19:14Z", "type": "commit"}]}