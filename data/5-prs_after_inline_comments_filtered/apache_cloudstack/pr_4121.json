{"pr_number": 4121, "pr_title": "server: fix TransactionLegacy DB connection leaks due to DB switching by B&R thread", "pr_createdAt": "2020-06-01T17:00:30Z", "pr_url": "https://github.com/apache/cloudstack/pull/4121", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4ODUyMw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433688523", "bodyText": "should we add some trace logging here?", "author": "DaanHoogland", "createdAt": "2020-06-02T07:55:51Z", "path": "engine/orchestration/src/main/java/com/cloud/vm/VirtualMachineManagerImpl.java", "diffHunk": "@@ -4564,10 +4558,6 @@ private void scanStalledVMInTransitionStateOnDisconnectedHosts() {\n             } catch (final Throwable e) {\n             }", "originalCommit": "21dd3bcdc6f0dd53e322592ed650398ee75276a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc3NTM5Nw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433775397", "bodyText": "Fixed.", "author": "rhtyd", "createdAt": "2020-06-02T10:26:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4ODUyMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc4NTE2Ng==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433785166", "bodyText": "?? still ignored", "author": "DaanHoogland", "createdAt": "2020-06-02T10:46:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4ODUyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4ODkzMg==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433688932", "bodyText": "let's log before ignoring", "author": "DaanHoogland", "createdAt": "2020-06-02T07:56:33Z", "path": "engine/orchestration/src/main/java/com/cloud/vm/VirtualMachineManagerImpl.java", "diffHunk": "@@ -4599,10 +4584,6 @@ private void scanStalledVMInTransitionStateOnDisconnectedHosts() {\n             } catch (final Throwable e) {\n             }", "originalCommit": "21dd3bcdc6f0dd53e322592ed650398ee75276a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc3NTY3OQ==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433775679", "bodyText": "fxied/combined.", "author": "rhtyd", "createdAt": "2020-06-02T10:26:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4ODkzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc4NTAyNQ==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433785025", "bodyText": "it is ignored here. how is this fixed?", "author": "DaanHoogland", "createdAt": "2020-06-02T10:45:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4ODkzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4OTMwMw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433689303", "bodyText": "unintended change?", "author": "DaanHoogland", "createdAt": "2020-06-02T07:57:14Z", "path": "framework/db/src/main/java/com/cloud/utils/db/DbUtil.java", "diffHunk": "@@ -16,6 +16,8 @@\n // under the License.\n package com.cloud.utils.db;\n \n+import static com.cloud.utils.AutoCloseableUtil.closeAutoCloseable;\n+", "originalCommit": "21dd3bcdc6f0dd53e322592ed650398ee75276a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc3Mzk5Ng==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433773996", "bodyText": "IDE changed order.", "author": "rhtyd", "createdAt": "2020-06-02T10:23:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4OTMwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MTk3OA==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433691978", "bodyText": "I would expect a decrement-call in the removeTransaction(..)", "author": "DaanHoogland", "createdAt": "2020-06-02T08:01:58Z", "path": "framework/db/src/main/java/com/cloud/utils/db/TransactionMBeanImpl.java", "diffHunk": "@@ -45,14 +48,15 @@ public void removeTransaction(TransactionLegacy txn) {\n ", "originalCommit": "21dd3bcdc6f0dd53e322592ed650398ee75276a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc3NDA4Nw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433774087", "bodyText": "Fixed/removed code", "author": "rhtyd", "createdAt": "2020-06-02T10:23:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5MTk3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5Mjc5NA==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433692794", "bodyText": "change to getTransactionCount()?", "author": "DaanHoogland", "createdAt": "2020-06-02T08:03:20Z", "path": "framework/db/src/main/java/com/cloud/utils/db/TransactionMBeanImpl.java", "diffHunk": "@@ -45,14 +48,15 @@ public void removeTransaction(TransactionLegacy txn) {\n \n     @Override\n     public int getTransactionCount() {\n-        return _txns.size();\n+        return totalTransactionCount.intValue();\n     }\n \n     @Override\n     public int[] getActiveTransactionCount() {\n-        int[] count = new int[2];\n+        int[] count = new int[3];\n         count[0] = 0;\n         count[1] = 0;\n+        count[2] = _txns.size();", "originalCommit": "21dd3bcdc6f0dd53e322592ed650398ee75276a4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc3NDM0Ng==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433774346", "bodyText": "Removed this, not transactions would return the current size; instead of cumulative/historic size.", "author": "rhtyd", "createdAt": "2020-06-02T10:24:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY5Mjc5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc4NDQ3Mw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r433784473", "bodyText": "afaict these can be combined in the same try clause", "author": "DaanHoogland", "createdAt": "2020-06-02T10:44:56Z", "path": "engine/orchestration/src/main/java/com/cloud/vm/VirtualMachineManagerImpl.java", "diffHunk": "@@ -4545,14 +4545,8 @@ private void scanStalledVMInTransitionStateOnDisconnectedHosts() {\n                 \"AND i.removed IS NULL\";\n \n         final List<Long> l = new ArrayList<Long>();\n-        TransactionLegacy txn = null;\n-        try {\n-            txn = TransactionLegacy.open(TransactionLegacy.CLOUD_DB);\n-\n-            PreparedStatement pstmt = null;\n-            try {\n-                pstmt = txn.prepareAutoCloseStatement(sql);\n-\n+        try (TransactionLegacy txn = TransactionLegacy.open(TransactionLegacy.CLOUD_DB)) {\n+            try (PreparedStatement pstmt = txn.prepareAutoCloseStatement(sql)) {", "originalCommit": "70fd44787aa9bd6c4f952c6497b881937af7176e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1a79a05893bce1016df75218b882dead359a074c", "url": "https://github.com/apache/cloudstack/commit/1a79a05893bce1016df75218b882dead359a074c", "message": "server: fix leak by moving backup usage updation via usage events\n\nBackupSync task would switch between databases to update backup usage\nmetrics in the cloud_usage.usage_backup table. The current framework\nand the usage in ManagedContext causes database connection\n(LegacyTransaction) leaks. When the thread runs faster, the issue is\neasily reproducible and checking via heap dump analysis or using JMX\nMBeans. This fixes by moving the task of backup data updation for\nusage data to the usage server by publishing usage events instead of\nswitching between databases in a local thread while in a\nManagedContextRunnable.\n\nSigned-off-by: Rohit Yadav <rohit.yadav@shapeblue.com>", "committedDate": "2020-06-03T00:09:13Z", "type": "commit"}, {"oid": "1a79a05893bce1016df75218b882dead359a074c", "url": "https://github.com/apache/cloudstack/commit/1a79a05893bce1016df75218b882dead359a074c", "message": "server: fix leak by moving backup usage updation via usage events\n\nBackupSync task would switch between databases to update backup usage\nmetrics in the cloud_usage.usage_backup table. The current framework\nand the usage in ManagedContext causes database connection\n(LegacyTransaction) leaks. When the thread runs faster, the issue is\neasily reproducible and checking via heap dump analysis or using JMX\nMBeans. This fixes by moving the task of backup data updation for\nusage data to the usage server by publishing usage events instead of\nswitching between databases in a local thread while in a\nManagedContextRunnable.\n\nSigned-off-by: Rohit Yadav <rohit.yadav@shapeblue.com>", "committedDate": "2020-06-03T00:09:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDMxMDYwOA==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434310608", "bodyText": "Not locking now, how are the metrics update and backup sync affected by this?", "author": "nvazquez", "createdAt": "2020-06-03T05:08:49Z", "path": "server/src/main/java/org/apache/cloudstack/backup/BackupManagerImpl.java", "diffHunk": "@@ -1022,31 +1018,23 @@ protected void runInContext() {\n                         continue;\n                     }\n \n-                    // Sync backup usage metrics\n                     final Map<VirtualMachine, Backup.Metric> metrics = backupProvider.getBackupMetrics(dataCenter.getId(), new ArrayList<>(vms));\n-                    final GlobalLock syncBackupMetricsLock = GlobalLock.getInternLock(\"BackupSyncTask_metrics_zone_\" + dataCenter.getId());", "originalCommit": "1a79a05893bce1016df75218b882dead359a074c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM2MzM4Mw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434363383", "bodyText": "The locking may not be necessary now that we're publishing usage events so that the usage metrics updating is handled by usage server. I can put back the locking if necessary.\nTesting would be necessary.", "author": "rhtyd", "createdAt": "2020-06-03T07:29:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDMxMDYwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDMxMzcxMQ==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434313711", "bodyText": "+1 to explicitly close the transaction. The Transaction.execute() method is being used widely over the codebase, looks strange that closing has not been handled on it", "author": "nvazquez", "createdAt": "2020-06-03T05:20:20Z", "path": "engine/schema/src/main/java/com/cloud/usage/dao/UsageBackupDaoImpl.java", "diffHunk": "@@ -19,69 +19,71 @@\n \n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n+import java.sql.SQLException;\n import java.util.ArrayList;\n import java.util.Date;\n import java.util.List;\n import java.util.TimeZone;\n \n-import org.apache.cloudstack.backup.Backup;\n import org.apache.log4j.Logger;\n import org.springframework.stereotype.Component;\n \n+import com.cloud.exception.CloudException;\n import com.cloud.usage.UsageBackupVO;\n import com.cloud.utils.DateUtil;\n import com.cloud.utils.db.GenericDaoBase;\n-import com.cloud.utils.db.QueryBuilder;\n import com.cloud.utils.db.SearchCriteria;\n-import com.cloud.utils.db.Transaction;\n-import com.cloud.utils.db.TransactionCallback;\n import com.cloud.utils.db.TransactionLegacy;\n-import com.cloud.utils.db.TransactionStatus;\n-import com.cloud.vm.VirtualMachine;\n \n @Component\n public class UsageBackupDaoImpl extends GenericDaoBase<UsageBackupVO, Long> implements UsageBackupDao {\n     public static final Logger LOGGER = Logger.getLogger(UsageBackupDaoImpl.class);\n-    protected static final String GET_USAGE_RECORDS_BY_ACCOUNT = \"SELECT id, zone_id, account_id, domain_id, vm_id, backup_offering_id, size, protected_size, created, removed FROM cloud_usage.usage_backup WHERE \" +\n+    protected static final String UPDATE_DELETED = \"UPDATE usage_backup SET removed = ? WHERE account_id = ? AND vm_id = ? and removed IS NULL\";\n+    protected static final String GET_USAGE_RECORDS_BY_ACCOUNT = \"SELECT id, zone_id, account_id, domain_id, vm_id, backup_offering_id, size, protected_size, created, removed FROM usage_backup WHERE \" +\n             \" account_id = ? AND ((removed IS NULL AND created <= ?) OR (created BETWEEN ? AND ?) OR (removed BETWEEN ? AND ?) \" +\n             \" OR ((created <= ?) AND (removed >= ?)))\";\n \n     @Override\n-    public void updateMetrics(final VirtualMachine vm, Backup.Metric metric) {\n-        boolean result = Transaction.execute(TransactionLegacy.USAGE_DB, new TransactionCallback<Boolean>() {\n-            @Override\n-            public Boolean doInTransaction(final TransactionStatus status) {\n-                final QueryBuilder<UsageBackupVO> qb = QueryBuilder.create(UsageBackupVO.class);\n-                qb.and(qb.entity().getVmId(), SearchCriteria.Op.EQ, vm.getId());\n-                final UsageBackupVO entry = findOneBy(qb.create());\n-                if (entry == null) {\n-                    return false;\n-                }\n-                entry.setSize(metric.getBackupSize());\n-                entry.setProtectedSize(metric.getDataSize());\n-                return update(entry.getId(), entry);\n+    public void updateMetrics(final Long vmId, final Long size, final Long virtualSize) {\n+        TransactionLegacy txn = TransactionLegacy.open(TransactionLegacy.USAGE_DB);\n+        try {\n+            SearchCriteria<UsageBackupVO> sc = this.createSearchCriteria();\n+            sc.addAnd(\"vmId\", SearchCriteria.Op.EQ, vmId);\n+            UsageBackupVO vo = findOneBy(sc);\n+            if (vo != null) {\n+                vo.setSize(size);\n+                vo.setProtectedSize(virtualSize);\n+                update(vo.getId(), vo);\n             }\n-        });\n-        if (!result) {\n-            LOGGER.trace(\"Failed to update backup metrics for VM ID: \" + vm.getId());\n+        } catch (final Exception e) {\n+            LOGGER.error(\"Error updating backup metrics: \" + e.getMessage(), e);\n+        } finally {\n+            txn.close();", "originalCommit": "1a79a05893bce1016df75218b882dead359a074c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM2MTc1NQ==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434361755", "bodyText": "Transaction.execute would internally commit and close the TransactionLegacy", "author": "rhtyd", "createdAt": "2020-06-03T07:26:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDMxMzcxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUwNzQxNQ==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434507415", "bodyText": "can we use try-with-resource in this case?", "author": "DaanHoogland", "createdAt": "2020-06-03T11:48:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDMxMzcxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUwNzc5Mw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434507793", "bodyText": "again, can we use try-with-resource", "author": "DaanHoogland", "createdAt": "2020-06-03T11:49:33Z", "path": "engine/schema/src/main/java/com/cloud/usage/dao/UsageBackupDaoImpl.java", "diffHunk": "@@ -19,69 +19,71 @@\n \n import java.sql.PreparedStatement;\n import java.sql.ResultSet;\n+import java.sql.SQLException;\n import java.util.ArrayList;\n import java.util.Date;\n import java.util.List;\n import java.util.TimeZone;\n \n-import org.apache.cloudstack.backup.Backup;\n import org.apache.log4j.Logger;\n import org.springframework.stereotype.Component;\n \n+import com.cloud.exception.CloudException;\n import com.cloud.usage.UsageBackupVO;\n import com.cloud.utils.DateUtil;\n import com.cloud.utils.db.GenericDaoBase;\n-import com.cloud.utils.db.QueryBuilder;\n import com.cloud.utils.db.SearchCriteria;\n-import com.cloud.utils.db.Transaction;\n-import com.cloud.utils.db.TransactionCallback;\n import com.cloud.utils.db.TransactionLegacy;\n-import com.cloud.utils.db.TransactionStatus;\n-import com.cloud.vm.VirtualMachine;\n \n @Component\n public class UsageBackupDaoImpl extends GenericDaoBase<UsageBackupVO, Long> implements UsageBackupDao {\n     public static final Logger LOGGER = Logger.getLogger(UsageBackupDaoImpl.class);\n-    protected static final String GET_USAGE_RECORDS_BY_ACCOUNT = \"SELECT id, zone_id, account_id, domain_id, vm_id, backup_offering_id, size, protected_size, created, removed FROM cloud_usage.usage_backup WHERE \" +\n+    protected static final String UPDATE_DELETED = \"UPDATE usage_backup SET removed = ? WHERE account_id = ? AND vm_id = ? and removed IS NULL\";\n+    protected static final String GET_USAGE_RECORDS_BY_ACCOUNT = \"SELECT id, zone_id, account_id, domain_id, vm_id, backup_offering_id, size, protected_size, created, removed FROM usage_backup WHERE \" +\n             \" account_id = ? AND ((removed IS NULL AND created <= ?) OR (created BETWEEN ? AND ?) OR (removed BETWEEN ? AND ?) \" +\n             \" OR ((created <= ?) AND (removed >= ?)))\";\n \n     @Override\n-    public void updateMetrics(final VirtualMachine vm, Backup.Metric metric) {\n-        boolean result = Transaction.execute(TransactionLegacy.USAGE_DB, new TransactionCallback<Boolean>() {\n-            @Override\n-            public Boolean doInTransaction(final TransactionStatus status) {\n-                final QueryBuilder<UsageBackupVO> qb = QueryBuilder.create(UsageBackupVO.class);\n-                qb.and(qb.entity().getVmId(), SearchCriteria.Op.EQ, vm.getId());\n-                final UsageBackupVO entry = findOneBy(qb.create());\n-                if (entry == null) {\n-                    return false;\n-                }\n-                entry.setSize(metric.getBackupSize());\n-                entry.setProtectedSize(metric.getDataSize());\n-                return update(entry.getId(), entry);\n+    public void updateMetrics(final Long vmId, final Long size, final Long virtualSize) {\n+        TransactionLegacy txn = TransactionLegacy.open(TransactionLegacy.USAGE_DB);\n+        try {\n+            SearchCriteria<UsageBackupVO> sc = this.createSearchCriteria();\n+            sc.addAnd(\"vmId\", SearchCriteria.Op.EQ, vmId);\n+            UsageBackupVO vo = findOneBy(sc);\n+            if (vo != null) {\n+                vo.setSize(size);\n+                vo.setProtectedSize(virtualSize);\n+                update(vo.getId(), vo);\n             }\n-        });\n-        if (!result) {\n-            LOGGER.trace(\"Failed to update backup metrics for VM ID: \" + vm.getId());\n+        } catch (final Exception e) {\n+            LOGGER.error(\"Error updating backup metrics: \" + e.getMessage(), e);\n+        } finally {\n+            txn.close();\n         }\n     }\n \n     @Override\n-    public void removeUsage(Long accountId, Long zoneId, Long vmId) {\n-        boolean result = Transaction.execute(TransactionLegacy.USAGE_DB, new TransactionCallback<Boolean>() {\n-            @Override\n-            public Boolean doInTransaction(final TransactionStatus status) {\n-                final QueryBuilder<UsageBackupVO> qb = QueryBuilder.create(UsageBackupVO.class);\n-                qb.and(qb.entity().getAccountId(), SearchCriteria.Op.EQ, accountId);\n-                qb.and(qb.entity().getZoneId(), SearchCriteria.Op.EQ, zoneId);\n-                qb.and(qb.entity().getVmId(), SearchCriteria.Op.EQ, vmId);\n-                final UsageBackupVO entry = findOneBy(qb.create());\n-                return remove(qb.create()) > 0;\n+    public void removeUsage(Long accountId, Long vmId, Date eventDate) {\n+        TransactionLegacy txn = TransactionLegacy.open(TransactionLegacy.USAGE_DB);\n+        try {", "originalCommit": "1a79a05893bce1016df75218b882dead359a074c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDcxNTY0Mw==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434715643", "bodyText": "I'll fix and test that tomorrow", "author": "rhtyd", "createdAt": "2020-06-03T16:54:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUwNzc5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDk0Mjg0NQ==", "url": "https://github.com/apache/cloudstack/pull/4121#discussion_r434942845", "bodyText": "Here we cannot as txn is used in the catch block and try-with-resource syntax doesn't allow that.", "author": "rhtyd", "createdAt": "2020-06-04T01:32:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUwNzc5Mw=="}], "type": "inlineReview"}, {"oid": "bead0470521d45a9dcdb7018f9f7912fb5681f4c", "url": "https://github.com/apache/cloudstack/commit/bead0470521d45a9dcdb7018f9f7912fb5681f4c", "message": "address Daan's review comment\n\nSigned-off-by: Rohit Yadav <rohit.yadav@shapeblue.com>", "committedDate": "2020-06-04T01:32:32Z", "type": "commit"}]}