{"pr_number": 1633, "pr_title": "Fix warmupConnection concurrent issue", "pr_createdAt": "2020-09-28T23:46:23Z", "pr_url": "https://github.com/linkedin/ambry/pull/1633", "timeline": [{"oid": "cab9b723b16238c1ceff3f3713c8d640d35a7322", "url": "https://github.com/linkedin/ambry/commit/cab9b723b16238c1ceff3f3713c8d640d35a7322", "message": "Fix warmupConnection concurrent issue.", "committedDate": "2020-09-28T23:42:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM1MjY1Ng==", "url": "https://github.com/linkedin/ambry/pull/1633#discussion_r496352656", "bodyText": "We have node-level putRequestRate and getRequestRate, can we aggregate them without introducing new metrics?", "author": "jsjtzyy", "createdAt": "2020-09-29T03:11:52Z", "path": "ambry-router/src/main/java/com/github/ambry/router/PutOperation.java", "diffHunk": "@@ -1366,6 +1366,7 @@ private void fetchRequests(RequestRegistrationCallback<PutOperation> requestRegi\n               replicaId.getDataNodeId());\n         }\n         routerMetrics.getDataNodeBasedMetrics(replicaId.getDataNodeId()).putRequestRate.mark();\n+        routerMetrics.routerPutRequestRate.mark();", "originalCommit": "cab9b723b16238c1ceff3f3713c8d640d35a7322", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njk0ODU1Nw==", "url": "https://github.com/linkedin/ambry/pull/1633#discussion_r496948557", "bodyText": "Talked with @jsjtzyy  offline. We will add this metric this time because aggregate is a little bit complex.", "author": "zzmao", "createdAt": "2020-09-29T18:24:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM1MjY1Ng=="}], "type": "inlineReview"}]}