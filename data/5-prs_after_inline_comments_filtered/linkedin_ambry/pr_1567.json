{"pr_number": 1567, "pr_title": "Adding more log tracer for debugging and bug Fix", "pr_createdAt": "2020-06-16T17:17:06Z", "pr_url": "https://github.com/linkedin/ambry/pull/1567", "timeline": [{"oid": "d3267b8b799042b0dfcc031fd052138af2790484", "url": "https://github.com/linkedin/ambry/commit/d3267b8b799042b0dfcc031fd052138af2790484", "message": "Adding more log tracer for debugging", "committedDate": "2020-06-16T17:16:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxNjgxNw==", "url": "https://github.com/linkedin/ambry/pull/1567#discussion_r441016817", "bodyText": "Do we have a toString() for skipPredicate?", "author": "jsjtzyy", "createdAt": "2020-06-16T17:20:44Z", "path": "ambry-replication/src/main/java/com/github/ambry/replication/ReplicaThread.java", "diffHunk": "@@ -660,6 +660,7 @@ ReplicaMetadataResponse getReplicaMetadataResponse(List<RemoteReplicaInfo> repli\n       logger.trace(\"Remote node: {} Thread name: {} Remote replica: {} Key from remote: {}\", remoteNode, threadName,\n           remoteReplicaInfo.getReplicaId(), storeKey);\n       StoreKey convertedKey = storeKeyConverter.getConverted(storeKey);\n+      logger.trace(\"SkipPredicate: {}\", skipPredicate);", "originalCommit": "d3267b8b799042b0dfcc031fd052138af2790484", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxOTUzNA==", "url": "https://github.com/linkedin/ambry/pull/1567#discussion_r441019534", "bodyText": "Updated.", "author": "SophieGuo410", "createdAt": "2020-06-16T17:25:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxNjgxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxNzI0Ng==", "url": "https://github.com/linkedin/ambry/pull/1567#discussion_r441017246", "bodyText": "How about changing all trace to logger.debug?", "author": "jsjtzyy", "createdAt": "2020-06-16T17:21:29Z", "path": "ambry-api/src/main/java/com/github/ambry/replication/ReplicationSkipPredicate.java", "diffHunk": "@@ -62,15 +62,18 @@ public boolean test(MessageInfo messageInfo) {\n       if (status == Container.ContainerStatus.DELETE_IN_PROGRESS &&\n           container.getDeleteTriggerTime() + TimeUnit.DAYS.toMillis(\n               replicationConfig.replicationContainerDeletionRetentionDays) < System.currentTimeMillis()) {\n+        logger.trace(\"Container {} is not qualified with retention time yet\", container);\n         return false;\n       }\n       if (status == Container.ContainerStatus.DELETE_IN_PROGRESS || status == Container.ContainerStatus.INACTIVE) {\n-        logger.info(\"Container {} will be skipped during replication\", container);\n+        logger.trace(\"Container {} will be skipped during replication\", container);\n         return true;\n       } else {\n+        logger.trace(\"Container {} is Active\", container);\n         return false;\n       }\n     } else {\n+      logger.trace(\"Current accountService : {}\", accountService);", "originalCommit": "d3267b8b799042b0dfcc031fd052138af2790484", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxOTYwNQ==", "url": "https://github.com/linkedin/ambry/pull/1567#discussion_r441019605", "bodyText": "Updated.", "author": "SophieGuo410", "createdAt": "2020-06-16T17:25:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxNzI0Ng=="}], "type": "inlineReview"}, {"oid": "eea2146f9bdc3a806920ec2d4b87af8f09e01d87", "url": "https://github.com/linkedin/ambry/commit/eea2146f9bdc3a806920ec2d4b87af8f09e01d87", "message": "minor fix", "committedDate": "2020-06-16T17:41:23Z", "type": "forcePushed"}, {"oid": "11ae646c894b231534c705779dd2cc82bc1882aa", "url": "https://github.com/linkedin/ambry/commit/11ae646c894b231534c705779dd2cc82bc1882aa", "message": "minor fix", "committedDate": "2020-06-16T18:01:38Z", "type": "commit"}, {"oid": "11ae646c894b231534c705779dd2cc82bc1882aa", "url": "https://github.com/linkedin/ambry/commit/11ae646c894b231534c705779dd2cc82bc1882aa", "message": "minor fix", "committedDate": "2020-06-16T18:01:38Z", "type": "forcePushed"}, {"oid": "894e8c591e9d0a338a24d59d3c6e4bc311b25717", "url": "https://github.com/linkedin/ambry/commit/894e8c591e9d0a338a24d59d3c6e4bc311b25717", "message": "bug fixing", "committedDate": "2020-06-16T18:19:04Z", "type": "commit"}, {"oid": "4415dd7a625ae681acc2f786921dd5877de57f07", "url": "https://github.com/linkedin/ambry/commit/4415dd7a625ae681acc2f786921dd5877de57f07", "message": "minor fix", "committedDate": "2020-06-16T21:48:15Z", "type": "forcePushed"}, {"oid": "9d5686c9686787ba538033855250807641cdedc1", "url": "https://github.com/linkedin/ambry/commit/9d5686c9686787ba538033855250807641cdedc1", "message": "minor fix", "committedDate": "2020-06-16T22:07:15Z", "type": "commit"}, {"oid": "9d5686c9686787ba538033855250807641cdedc1", "url": "https://github.com/linkedin/ambry/commit/9d5686c9686787ba538033855250807641cdedc1", "message": "minor fix", "committedDate": "2020-06-16T22:07:15Z", "type": "forcePushed"}]}