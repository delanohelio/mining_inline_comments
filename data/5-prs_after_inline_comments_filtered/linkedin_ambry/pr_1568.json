{"pr_number": 1568, "pr_title": "Don't rely on ABS blob properties metadata to contain blob id", "pr_createdAt": "2020-06-16T23:55:38Z", "pr_url": "https://github.com/linkedin/ambry/pull/1568", "timeline": [{"oid": "3efc4219f72450c5c3a2625d9dafe74fdeb6bc21", "url": "https://github.com/linkedin/ambry/commit/3efc4219f72450c5c3a2625d9dafe74fdeb6bc21", "message": "Don't rely on ABS blob properties metadata to contain blob id", "committedDate": "2020-06-16T23:53:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNjkwMg==", "url": "https://github.com/linkedin/ambry/pull/1568#discussion_r441216902", "bodyText": "Do we also need to change the metadata.getId() at line 554?", "author": "jsjtzyy", "createdAt": "2020-06-17T00:40:04Z", "path": "ambry-cloud/src/main/java/com/github/ambry/cloud/CloudBlobStore.java", "diffHunk": "@@ -538,7 +538,7 @@ private void validateAccountAndContainer(Map<String, CloudBlobMetadata> cloudBlo\n    */\n   private boolean preDeleteValidation(CloudBlobMetadata metadata, StoreKey key, Map<String, Object> updateFields)\n       throws StoreException {\n-    validateAccountAndContainer(Collections.singletonMap(metadata.getId(), metadata), Collections.singletonList(key));\n+    validateAccountAndContainer(Collections.singletonMap(key.getID(), metadata), Collections.singletonList(key));", "originalCommit": "3efc4219f72450c5c3a2625d9dafe74fdeb6bc21", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIyMDYwMQ==", "url": "https://github.com/linkedin/ambry/pull/1568#discussion_r441220601", "bodyText": "fixed.", "author": "ankagrawal", "createdAt": "2020-06-17T00:54:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTIxNjkwMg=="}], "type": "inlineReview"}, {"oid": "e12780655653eaa3bffeb528fecc2887ecce4c01", "url": "https://github.com/linkedin/ambry/commit/e12780655653eaa3bffeb528fecc2887ecce4c01", "message": "review comments.", "committedDate": "2020-06-17T00:52:21Z", "type": "commit"}]}