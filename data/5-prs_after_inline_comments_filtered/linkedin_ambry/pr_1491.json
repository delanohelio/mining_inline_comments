{"pr_number": 1491, "pr_title": "Fix a MessageSievingInputStream test failure", "pr_createdAt": "2020-04-28T18:33:45Z", "pr_url": "https://github.com/linkedin/ambry/pull/1491", "timeline": [{"oid": "9c62d1b8089c1c1999b0f45738482d4e9c428631", "url": "https://github.com/linkedin/ambry/commit/9c62d1b8089c1c1999b0f45738482d4e9c428631", "message": "WIP", "committedDate": "2020-04-28T17:15:01Z", "type": "commit"}, {"oid": "a143578f0aa86d83c26c8bb50700c9e4028d664c", "url": "https://github.com/linkedin/ambry/commit/a143578f0aa86d83c26c8bb50700c9e4028d664c", "message": "Fix a MessageSievingInputStream test failure", "committedDate": "2020-04-28T18:23:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODE2Mjg0Nw==", "url": "https://github.com/linkedin/ambry/pull/1491#discussion_r418162847", "bodyText": "minor: we have lots of redundant calculation of the offset in read method, suggest simplifying them.", "author": "jsjtzyy", "createdAt": "2020-04-30T17:12:21Z", "path": "ambry-messageformat/src/test/java/com/github/ambry/messageformat/MessageSievingInputStreamTest.java", "diffHunk": "@@ -581,6 +618,10 @@ private void testInValidDeletedAndExpiredBlobs(short blobVersion, BlobType blobT\n         (int) messageFormatStream1.getSize() + (int) messageFormatStream2.getSize()\n             + (int) messageFormatStream3.getSize() + (int) messageFormatStream4.getSize(),\n         (int) messageFormatStream5.getSize());\n+    corruptStream6.read(totalMessageStreamContent,\n+        (int) messageFormatStream1.getSize() + (int) messageFormatStream2.getSize()\n+            + (int) messageFormatStream3.getSize() + (int) messageFormatStream4.getSize()\n+            + (int) messageFormatStream5.getSize(), (int) messageFormatStream6.getSize());", "originalCommit": "a143578f0aa86d83c26c8bb50700c9e4028d664c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}