{"pr_number": 326, "pr_title": "Add java module-info (#314 / #326)", "pr_createdAt": "2020-08-29T09:23:59Z", "pr_url": "https://github.com/junit-pioneer/junit-pioneer/pull/326", "timeline": [{"oid": "a37ec0e3acd0cf2d9b6e819ce5d3d87635d466d2", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/a37ec0e3acd0cf2d9b6e819ce5d3d87635d466d2", "message": "Initial setup", "committedDate": "2020-08-08T10:08:52Z", "type": "commit"}, {"oid": "a0f111abc1fbfee3414228eb2c5a63d18f197b74", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/a0f111abc1fbfee3414228eb2c5a63d18f197b74", "message": "Upgrade to Gradle 6.4 to make use of modules", "committedDate": "2020-08-29T08:46:06Z", "type": "commit"}, {"oid": "45e7afb03f54f14cbf23a168b5113a549a1f0bbe", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/45e7afb03f54f14cbf23a168b5113a549a1f0bbe", "message": "Add platform-module", "committedDate": "2020-08-29T09:15:29Z", "type": "commit"}, {"oid": "ab0ecb2d4604506cdab99e82f864f28c11107f50", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/ab0ecb2d4604506cdab99e82f864f28c11107f50", "message": "Fix to build on Java 8", "committedDate": "2020-09-05T15:53:38Z", "type": "commit"}, {"oid": "68c652a6a06aa1e66c11eb24be94ed6a127080cb", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/68c652a6a06aa1e66c11eb24be94ed6a127080cb", "message": "Merge branch 'master' into bishue314/modules\n\n# Conflicts:\n#\tgradle/wrapper/gradle-wrapper.properties", "committedDate": "2020-09-06T07:20:22Z", "type": "commit"}, {"oid": "5e8fbfeb53b1b85c2b998d4a81b271fea06c7b30", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/5e8fbfeb53b1b85c2b998d4a81b271fea06c7b30", "message": "Add reponame to module file", "committedDate": "2020-09-08T17:13:30Z", "type": "commit"}, {"oid": "d2f8e16599b5cc2fc15151e9699721351995fbb7", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/d2f8e16599b5cc2fc15151e9699721351995fbb7", "message": "Extend automatic-Module-Name to long name", "committedDate": "2020-09-09T13:10:37Z", "type": "commit"}, {"oid": "c65d7f71b5599a40b0e3b3d83c82116ddc049c39", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/c65d7f71b5599a40b0e3b3d83c82116ddc049c39", "message": "Change import of AnnotationUtils to correct implementation", "committedDate": "2020-09-09T16:22:58Z", "type": "commit"}, {"oid": "af786594635d5ba4298a917e6ed7f775b73ea4e6", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/af786594635d5ba4298a917e6ed7f775b73ea4e6", "message": "Change RangeSourceArgumentsProvider to not use JUnit internal classes", "committedDate": "2020-09-09T16:55:13Z", "type": "commit"}, {"oid": "653d53f35644a8bf8e4ec7de0fa6b80004569c73", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/653d53f35644a8bf8e4ec7de0fa6b80004569c73", "message": "Change RangeSourceArgumentsProvider to not use JUnit internal classes", "committedDate": "2020-09-09T16:56:31Z", "type": "commit"}, {"oid": "1fe9b620f76e2ea10d7f76e238aba70ccdce3590", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/1fe9b620f76e2ea10d7f76e238aba70ccdce3590", "message": "Try moditect", "committedDate": "2020-09-09T17:32:44Z", "type": "commit"}, {"oid": "702be608aec72c720ac155bc8f926dd895ec973a", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/702be608aec72c720ac155bc8f926dd895ec973a", "message": "Update moditect to rc2", "committedDate": "2020-09-10T17:00:22Z", "type": "commit"}, {"oid": "8c2fa1da33c8f83c0a3a9a1c9738392860954bee", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/8c2fa1da33c8f83c0a3a9a1c9738392860954bee", "message": "Update moditect to rc3 and removing unnecessary code in build.gradle.kts", "committedDate": "2020-09-11T13:33:54Z", "type": "commit"}, {"oid": "058a051163d15ecdadb0faf1dfaed7f56541fb4e", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/058a051163d15ecdadb0faf1dfaed7f56541fb4e", "message": "Remove empty line", "committedDate": "2020-09-12T06:12:39Z", "type": "commit"}, {"oid": "6448dcea9159331487a94e45869e84e279439d07", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/6448dcea9159331487a94e45869e84e279439d07", "message": "Remove not needed jdeps arguments", "committedDate": "2020-09-12T08:52:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkyNjI4OA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/326#discussion_r487926288", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tString msg = String\n          \n          \n            \n            \t\t\tString message = String", "author": "nipafx", "createdAt": "2020-09-14T13:42:26Z", "path": "src/main/java/org/junitpioneer/jupiter/params/Range.java", "diffHunk": "@@ -40,20 +37,31 @@\n \n \t/**\n \t * Asserts the range is valid.\n-\t * @throws PreconditionViolationException if the range is not valid\n+\t * @throws IllegalArgumentException if the range is not valid\n \t */\n \tvoid validate() {\n-\t\tPreconditions.condition(!step.equals(getZero()), \"Illegal range. The step cannot be zero.\");\n+\t\tif (step.equals(getZero())) {\n+\t\t\tthrow new IllegalArgumentException(\"Illegal range. The step cannot be zero.\");\n+\t\t}\n+\n+\t\tif (!closed && from.equals(to)) {\n+\t\t\tthrow new IllegalArgumentException(\"Illegal range. Equal from and to will produce an empty range.\");\n+\t\t}\n+\n+\t\tboolean fromNotEqualsTo = (from.compareTo(to) != 0);\n+\n+\t\tif ((isValidDescending()) && (!closed || fromNotEqualsTo)) {\n+\t\t\tString msg = String", "originalCommit": "6448dcea9159331487a94e45869e84e279439d07", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzkyNjQ4Mg==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/326#discussion_r487926482", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tString msg = String\n          \n          \n            \n            \t\t\tString message = String", "author": "nipafx", "createdAt": "2020-09-14T13:42:38Z", "path": "src/main/java/org/junitpioneer/jupiter/params/RangeSourceArgumentsProvider.java", "diffHunk": "@@ -57,11 +56,13 @@\n \t\t\t\t\t\t.collect(Collectors.toList()))\n \t\t\t\t.orElseThrow(IllegalStateException::new);\n \n-\t\tPreconditions\n-\t\t\t\t.condition(argumentsSources.size() == 1,\n-\t\t\t\t\t() -> String\n-\t\t\t\t\t\t\t.format(\"Expected exactly one annotation to provide an ArgumentSource, found %d.\",\n-\t\t\t\t\t\t\t\targumentsSources.size()));\n+\t\tif (argumentsSources.size() != 1) {\n+\t\t\tString msg = String", "originalCommit": "6448dcea9159331487a94e45869e84e279439d07", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk0MjgzNw==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/326#discussion_r487942837", "bodyText": "Can't look at the code right now, but can you check whether you can replace this call with our internal annotation utils? (Same for TimeoutExtension.)", "author": "nipafx", "createdAt": "2020-09-14T13:58:14Z", "path": "src/main/java/org/junitpioneer/vintage/ExpectedExceptionExtension.java", "diffHunk": "@@ -11,7 +11,7 @@\n package org.junitpioneer.vintage;\n \n import static java.lang.String.format;\n-import static org.junit.platform.commons.util.AnnotationUtils.findAnnotation;\n+import static org.junit.platform.commons.support.AnnotationSupport.findAnnotation;", "originalCommit": "6448dcea9159331487a94e45869e84e279439d07", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk5NDQzNA==", "url": "https://github.com/junit-pioneer/junit-pioneer/pull/326#discussion_r487994434", "bodyText": "No it's not possible at the moment, because the PioneerAnnotationUtils are package private and both extensions are in the vintage package. If they weren't I guess we would have already changed them, when we introduced our helper class.", "author": "Bukama", "createdAt": "2020-09-14T14:51:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk0MjgzNw=="}], "type": "inlineReview"}, {"oid": "2159159bedb032447a909ab81ab8a59892345034", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/2159159bedb032447a909ab81ab8a59892345034", "message": "Rename variables", "committedDate": "2020-09-14T14:49:05Z", "type": "commit"}, {"oid": "7818e10105b0b95b3832e254984a151bab7c6a64", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/7818e10105b0b95b3832e254984a151bab7c6a64", "message": "Update main-build to copy module file", "committedDate": "2020-09-16T16:38:39Z", "type": "commit"}, {"oid": "5f08a21e7415beba02e850ba68aa3224c8b01d16", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/5f08a21e7415beba02e850ba68aa3224c8b01d16", "message": "Rename step to copy\nfix filename", "committedDate": "2020-09-17T14:05:42Z", "type": "commit"}, {"oid": "8991b4afd94888864f4f6078631aba7b8018ef8f", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/8991b4afd94888864f4f6078631aba7b8018ef8f", "message": "Build with source", "committedDate": "2020-09-17T14:15:10Z", "type": "commit"}, {"oid": "bc9f1d7377f89cd2f873f2af518092746948be88", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/bc9f1d7377f89cd2f873f2af518092746948be88", "message": "Revert main-build and add module-build.yml", "committedDate": "2020-09-17T14:18:19Z", "type": "commit"}, {"oid": "ac765112d0a02d65802043cc143aa346e09a4410", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/ac765112d0a02d65802043cc143aa346e09a4410", "message": "Merge branch 'master' into bishue314/modules", "committedDate": "2020-09-17T14:19:43Z", "type": "commit"}, {"oid": "843d6c3bc8efd83df381fedf889aacf06693e357", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/843d6c3bc8efd83df381fedf889aacf06693e357", "message": "module-build.yml", "committedDate": "2020-09-17T14:22:04Z", "type": "commit"}, {"oid": "08c387cda8b728a8f662f993f987f5217527a52f", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/08c387cda8b728a8f662f993f987f5217527a52f", "message": "Pass if building with modules to change source compatibility.\n\nBut Junit is not found", "committedDate": "2020-09-20T08:44:01Z", "type": "commit"}, {"oid": "04558a45720f875e8ebb1efc2fa2a19045577dc1", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/04558a45720f875e8ebb1efc2fa2a19045577dc1", "message": "Adding gradle modularity execution again", "committedDate": "2020-09-20T09:13:17Z", "type": "commit"}, {"oid": "dbbd46009c50b025cda36898ef3df25cf387d539", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/dbbd46009c50b025cda36898ef3df25cf387d539", "message": "Exclude module-info from checkstyle checks\n\nThe module info can't be parsed by checkstyle.xml\nsee: https://checkstyle.sourceforge.io/config_filefilters.html#BeforeExecutionExclusionFileFilter", "committedDate": "2020-09-20T09:22:20Z", "type": "commit"}, {"oid": "aa672023ccbbfc2720f4006bbc966613dc548336", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/aa672023ccbbfc2720f4006bbc966613dc548336", "message": "Move 'copy module-info.java' from GH Action to Gradle", "committedDate": "2020-09-26T07:44:49Z", "type": "commit"}, {"oid": "d6907a2591d5e964f0035a067009240b76c84c1e", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/d6907a2591d5e964f0035a067009240b76c84c1e", "message": "Rename Gradle property `withModules` to `modularBuild` and make it Boolean", "committedDate": "2020-09-26T07:51:29Z", "type": "commit"}, {"oid": "246e373ae66d5100404e4f74735c68fae1a070c9", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/246e373ae66d5100404e4f74735c68fae1a070c9", "message": "Change module name to org.junitpioneer", "committedDate": "2020-09-26T08:06:47Z", "type": "commit"}, {"oid": "eb078b402870edb0a4a803da2ad1c18bb3f51d2e", "url": "https://github.com/junit-pioneer/junit-pioneer/commit/eb078b402870edb0a4a803da2ad1c18bb3f51d2e", "message": "Mention module in README", "committedDate": "2020-09-26T08:07:03Z", "type": "commit"}]}