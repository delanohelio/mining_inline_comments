{"pr_number": 3873, "pr_title": "Move ContractsUtils instance from visitor to type factory", "pr_createdAt": "2020-11-07T14:49:54Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3873", "timeline": [{"oid": "a4112465c50d0bfe9d5cb851f9c587c12f0a827f", "url": "https://github.com/typetools/checker-framework/commit/a4112465c50d0bfe9d5cb851f9c587c12f0a827f", "message": "Remove method ContractsUtils.getInstance()", "committedDate": "2020-11-07T05:38:58Z", "type": "commit"}, {"oid": "06953b82566ba4af5607e894bea4c0e0940170a2", "url": "https://github.com/typetools/checker-framework/commit/06953b82566ba4af5607e894bea4c0e0940170a2", "message": "Use consistent variable names", "committedDate": "2020-11-07T05:44:34Z", "type": "commit"}, {"oid": "4afe9f87e3dd318cb1a1686528477af7765fce61", "url": "https://github.com/typetools/checker-framework/commit/4afe9f87e3dd318cb1a1686528477af7765fce61", "message": "Add Javadoc", "committedDate": "2020-11-07T12:45:17Z", "type": "commit"}, {"oid": "1a7c747ad4f88e8d10266bba660c8ec27b8e1434", "url": "https://github.com/typetools/checker-framework/commit/1a7c747ad4f88e8d10266bba660c8ec27b8e1434", "message": "Move ContractsUtils instance from visitor to type factory", "committedDate": "2020-11-07T13:08:26Z", "type": "commit"}, {"oid": "05d832354e412378d2f1e25ab68e6df1e9a6676d", "url": "https://github.com/typetools/checker-framework/commit/05d832354e412378d2f1e25ab68e6df1e9a6676d", "message": "Add Javadoc", "committedDate": "2020-11-07T13:45:33Z", "type": "commit"}, {"oid": "2f6e67c571e0fdd230e60221cb24e76c377723a1", "url": "https://github.com/typetools/checker-framework/commit/2f6e67c571e0fdd230e60221cb24e76c377723a1", "message": "Merge ../checker-framework-fork-mernst-branch-ContractsUtils-getInstance into ContractsUtils-in-typefactory", "committedDate": "2020-11-07T13:54:40Z", "type": "commit"}, {"oid": "5f6cfbb7ac3098e41e5699df1d7c6028c2e04354", "url": "https://github.com/typetools/checker-framework/commit/5f6cfbb7ac3098e41e5699df1d7c6028c2e04354", "message": "Fix bad merge", "committedDate": "2020-11-07T13:56:36Z", "type": "commit"}, {"oid": "994251af88b76a17344d60572fd115a97fbbbf35", "url": "https://github.com/typetools/checker-framework/commit/994251af88b76a17344d60572fd115a97fbbbf35", "message": "Undo undesired change", "committedDate": "2020-11-07T14:50:25Z", "type": "commit"}, {"oid": "f3d049ecf3b8d8f60df1082d9644ef51d72499dd", "url": "https://github.com/typetools/checker-framework/commit/f3d049ecf3b8d8f60df1082d9644ef51d72499dd", "message": "Merge ../checker-framework-branch-master into ContractsUtils-getInstance", "committedDate": "2020-11-07T14:53:42Z", "type": "commit"}, {"oid": "f09e2d7dfca81aaa9fe198581b784e4d6d85fac3", "url": "https://github.com/typetools/checker-framework/commit/f09e2d7dfca81aaa9fe198581b784e4d6d85fac3", "message": "Merge ../checker-framework-fork-mernst-branch-ContractsUtils-getInstance into ContractsUtils-in-typefactory", "committedDate": "2020-11-07T14:54:11Z", "type": "commit"}, {"oid": "295f7b32016993823bec6a8a8e08c3045d0ccad4", "url": "https://github.com/typetools/checker-framework/commit/295f7b32016993823bec6a8a8e08c3045d0ccad4", "message": "Merge ../checker-framework-branch-master into ContractsUtils-getInstance", "committedDate": "2020-11-07T20:31:11Z", "type": "commit"}, {"oid": "92b9051a671bdc6171a8b325d4886161bb658e8c", "url": "https://github.com/typetools/checker-framework/commit/92b9051a671bdc6171a8b325d4886161bb658e8c", "message": "Merge ../checker-framework-fork-mernst-branch-ContractsUtils-getInstance into ContractsUtils-in-typefactory", "committedDate": "2020-11-07T20:31:34Z", "type": "commit"}, {"oid": "2cb50481b2cd56c45005854ad6efcca657f11943", "url": "https://github.com/typetools/checker-framework/commit/2cb50481b2cd56c45005854ad6efcca657f11943", "message": "Merge ../checker-framework-branch-master into ContractsUtils-in-typefactory", "committedDate": "2020-11-09T00:24:11Z", "type": "commit"}, {"oid": "9bb039d46f63e3bca0f071582b4e4db1e155cb97", "url": "https://github.com/typetools/checker-framework/commit/9bb039d46f63e3bca0f071582b4e4db1e155cb97", "message": "Merge ../checker-framework-branch-master into ContractsUtils-getInstance", "committedDate": "2020-11-09T00:42:53Z", "type": "commit"}, {"oid": "c508254e35c4ee4e239800277346310e0b2312c1", "url": "https://github.com/typetools/checker-framework/commit/c508254e35c4ee4e239800277346310e0b2312c1", "message": "Merge ../checker-framework-fork-mernst-branch-ContractsUtils-getInstance into ContractsUtils-in-typefactory", "committedDate": "2020-11-09T00:43:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDAyOTg3NA==", "url": "https://github.com/typetools/checker-framework/pull/3873#discussion_r520029874", "bodyText": "This change should be mentioned in the change log.", "author": "smillst", "createdAt": "2020-11-09T18:34:13Z", "path": "framework/src/main/java/org/checkerframework/framework/util/ContractsUtils.java", "diffHunk": "@@ -39,33 +38,16 @@\n // more helpful error message.\n public class ContractsUtils {\n \n-    /**\n-     * The currently-used ContractsUtils object. This class is NOT a singleton: this value can\n-     * change.\n-     */\n-    protected static @InternedDistinct ContractsUtils instance;\n-\n     /** The factory that this ContractsUtils is associated with. */\n     protected GenericAnnotatedTypeFactory<?, ?, ?, ?> factory;\n \n-    /** Creates a ContractsUtils for the given factory. */\n-    private ContractsUtils(GenericAnnotatedTypeFactory<?, ?, ?, ?> factory) {\n-        this.factory = factory;\n-    }\n-\n     /**\n-     * Returns an instance of the {@link ContractsUtils} class for the given factory. Also sets it\n-     * as the currently-used ContractsUtils object.\n+     * Creates a ContractsUtils for the given factory.\n      *\n-     * @param factory the factory to create a ContractsUtils for\n-     * @return a ContractsUtils for the given factory\n+     * @param factory the type factory associated with the newly-created ContractsUtils\n      */\n-    @SuppressWarnings(\"interning\")\n-    public static ContractsUtils getInstance(GenericAnnotatedTypeFactory<?, ?, ?, ?> factory) {", "originalCommit": "c508254e35c4ee4e239800277346310e0b2312c1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1449161149ab8df948a97b23a3219397a7d7f789", "url": "https://github.com/typetools/checker-framework/commit/1449161149ab8df948a97b23a3219397a7d7f789", "message": "Merge ../checker-framework-fork-mernst into ContractsUtils-in-typefactory", "committedDate": "2020-11-09T18:43:38Z", "type": "commit"}, {"oid": "fde08c23cc3b60ee0a6480caf71062a87aeb5892", "url": "https://github.com/typetools/checker-framework/commit/fde08c23cc3b60ee0a6480caf71062a87aeb5892", "message": "Merge ../checker-framework-branch-master into ContractsUtils-in-typefactory", "committedDate": "2020-11-09T18:48:08Z", "type": "commit"}]}