{"pr_number": 3320, "pr_title": "Fixed unexpected Index checker warnings with respect to `@LessThan` and unary `+`", "pr_createdAt": "2020-05-22T15:44:25Z", "pr_url": "https://github.com/typetools/checker-framework/pull/3320", "timeline": [{"oid": "6216ff0f9f3421c2dbb30cb393d58d1f78366bdd", "url": "https://github.com/typetools/checker-framework/commit/6216ff0f9f3421c2dbb30cb393d58d1f78366bdd", "message": "Added a test for the issue", "committedDate": "2020-04-18T12:32:18Z", "type": "commit"}, {"oid": "56419bc31897ce0b6db99a8d0afb1f1981388009", "url": "https://github.com/typetools/checker-framework/commit/56419bc31897ce0b6db99a8d0afb1f1981388009", "message": "Added fix for issue 3160", "committedDate": "2020-05-14T15:13:48Z", "type": "commit"}, {"oid": "9ac3e51293c00b4d7238cbc315ae835a5c8ad940", "url": "https://github.com/typetools/checker-framework/commit/9ac3e51293c00b4d7238cbc315ae835a5c8ad940", "message": "Merge remote-tracking branch 'origin/master' into issue3160", "committedDate": "2020-05-14T15:16:58Z", "type": "commit"}, {"oid": "45c59a8130747ed1db2f31b0863c5da181aacaf2", "url": "https://github.com/typetools/checker-framework/commit/45c59a8130747ed1db2f31b0863c5da181aacaf2", "message": "Merge branch 'master' into issue3160", "committedDate": "2020-05-15T16:40:58Z", "type": "commit"}, {"oid": "4fdd65a2a23997643f211b98827d8703d25d371f", "url": "https://github.com/typetools/checker-framework/commit/4fdd65a2a23997643f211b98827d8703d25d371f", "message": "Merge branch 'master' into issue3160", "committedDate": "2020-05-22T15:33:42Z", "type": "commit"}, {"oid": "a136f161d3d2e7a6bd1473d6e0d240b90d3a1fd1", "url": "https://github.com/typetools/checker-framework/commit/a136f161d3d2e7a6bd1473d6e0d240b90d3a1fd1", "message": "Improved Fix for issue 3160", "committedDate": "2020-05-22T15:40:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTM4MTEwOA==", "url": "https://github.com/typetools/checker-framework/pull/3320#discussion_r429381108", "bodyText": "This comment is no longer accurate.", "author": "kelloggm", "createdAt": "2020-05-22T17:53:16Z", "path": "checker/tests/index/UnaryOperationParsedIncorrectly.java", "diffHunk": "@@ -0,0 +1,12 @@\n+import org.checkerframework.checker.index.qual.LessThan;\n+\n+class Issue {\n+    void method1(@LessThan(\"#2\") int var1, int var2) {\n+        // Function implementation\n+    }\n+\n+    void method2() {\n+        method1(-10, 10); // This works fine\n+        method1(-10, +10); // This gives error", "originalCommit": "a136f161d3d2e7a6bd1473d6e0d240b90d3a1fd1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTQwMzk1Mw==", "url": "https://github.com/typetools/checker-framework/pull/3320#discussion_r429403953", "bodyText": "Instead of casting to the implementation class, it should be enough to use interface com.sun.source.tree.UnaryTree. Note how all other tree imports are of the interfaces, not the implementation classes.", "author": "wmdietl", "createdAt": "2020-05-22T18:49:58Z", "path": "dataflow/src/main/java/org/checkerframework/dataflow/analysis/FlowExpressions.java", "diffHunk": "@@ -315,6 +316,9 @@ public static Receiver internalReprOf(\n                         receiver = null;\n                 }\n                 break;\n+            case UNARY_PLUS:\n+                return internalReprOf(\n+                        provider, ((JCUnary) receiverTree).getExpression(), allowNonDeterministic);", "originalCommit": "a136f161d3d2e7a6bd1473d6e0d240b90d3a1fd1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTQ0Njg5NQ==", "url": "https://github.com/typetools/checker-framework/pull/3320#discussion_r429446895", "bodyText": "For test cases, the class name should match the filename and should be public.  This is because all the java files in test directory are compiled together so it's easy to make sure that two test cases don't overlap.", "author": "smillst", "createdAt": "2020-05-22T20:52:18Z", "path": "checker/tests/index/UnaryOperationParsedIncorrectly.java", "diffHunk": "@@ -0,0 +1,12 @@\n+import org.checkerframework.checker.index.qual.LessThan;\n+\n+class Issue {", "originalCommit": "a136f161d3d2e7a6bd1473d6e0d240b90d3a1fd1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "43d9b4fa819d448ef71bceb842a3106d4a9980a3", "url": "https://github.com/typetools/checker-framework/commit/43d9b4fa819d448ef71bceb842a3106d4a9980a3", "message": "Fixed comments and the class name for a test case. Changed fix for issue 3160 to use an interface rather than an implementation.", "committedDate": "2020-05-23T12:25:20Z", "type": "commit"}]}