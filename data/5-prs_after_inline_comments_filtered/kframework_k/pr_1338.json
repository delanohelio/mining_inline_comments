{"pr_number": 1338, "pr_title": "Replacement for krun", "pr_createdAt": "2020-06-12T17:54:33Z", "pr_url": "https://github.com/kframework/k/pull/1338", "timeline": [{"oid": "b89832b3e5f14103def3614b7210424268ff542e", "url": "https://github.com/kframework/k/commit/b89832b3e5f14103def3614b7210424268ff542e", "message": "fix bug in kast -o kore", "committedDate": "2020-06-22T18:57:01Z", "type": "commit"}, {"oid": "730a00f9d4c94e6b49aed5dac4902e8eaf04dccb", "url": "https://github.com/kframework/k/commit/730a00f9d4c94e6b49aed5dac4902e8eaf04dccb", "message": "fix issues with parsing K versus KItem", "committedDate": "2020-06-22T18:58:02Z", "type": "commit"}, {"oid": "e8d0335a1c2e6d3d93f2d21792c573e6f3053d6e", "url": "https://github.com/kframework/k/commit/e8d0335a1c2e6d3d93f2d21792c573e6f3053d6e", "message": "write necessary data to kompiled dir for kx to read", "committedDate": "2020-06-22T18:58:19Z", "type": "commit"}, {"oid": "5027b10af60fd2388f24071fad82479fb02a0e34", "url": "https://github.com/kframework/k/commit/5027b10af60fd2388f24071fad82479fb02a0e34", "message": "kx script", "committedDate": "2020-06-22T18:58:31Z", "type": "commit"}, {"oid": "39bb5c0bbfba15e82d4682392529ca8bf794d782", "url": "https://github.com/kframework/k/commit/39bb5c0bbfba15e82d4682392529ca8bf794d782", "message": "use kx script on llvm backend", "committedDate": "2020-06-22T18:58:36Z", "type": "commit"}, {"oid": "80417c26db96cf4046ddfeddbac5cf03f862bd25", "url": "https://github.com/kframework/k/commit/80417c26db96cf4046ddfeddbac5cf03f862bd25", "message": "expand macros in main module", "committedDate": "2020-06-22T19:46:48Z", "type": "commit"}, {"oid": "49ff3ef5558643ef5900851e56c3ff85861eeea9", "url": "https://github.com/kframework/k/commit/49ff3ef5558643ef5900851e56c3ff85861eeea9", "message": "update output file", "committedDate": "2020-06-22T20:19:33Z", "type": "commit"}, {"oid": "139a079e41f16f9043740634eab1f96e8ceb5cae", "url": "https://github.com/kframework/k/commit/139a079e41f16f9043740634eab1f96e8ceb5cae", "message": "fix test with invalid syntax production", "committedDate": "2020-06-22T20:19:40Z", "type": "commit"}, {"oid": "2d3e08dc7fc35ae0b7253019d566d527375e6cd1", "url": "https://github.com/kframework/k/commit/2d3e08dc7fc35ae0b7253019d566d527375e6cd1", "message": "don't use kx for krun-deserialize tests", "committedDate": "2020-06-22T20:19:49Z", "type": "commit"}, {"oid": "2d3e08dc7fc35ae0b7253019d566d527375e6cd1", "url": "https://github.com/kframework/k/commit/2d3e08dc7fc35ae0b7253019d566d527375e6cd1", "message": "don't use kx for krun-deserialize tests", "committedDate": "2020-06-22T20:19:49Z", "type": "forcePushed"}, {"oid": "0f02ce0b2964ab4c94cb236a78e6f2718aaa3581", "url": "https://github.com/kframework/k/commit/0f02ce0b2964ab4c94cb236a78e6f2718aaa3581", "message": "set -o pipefail", "committedDate": "2020-06-22T20:54:02Z", "type": "commit"}, {"oid": "88d2cbdd768994a7ce7ef342567d8653fb660da8", "url": "https://github.com/kframework/k/commit/88d2cbdd768994a7ce7ef342567d8653fb660da8", "message": "Merge branch 'master' into kx", "committedDate": "2020-06-23T16:26:42Z", "type": "commit"}, {"oid": "6ec8b4965d3d1d0158936aaf403d92a33c7ed55f", "url": "https://github.com/kframework/k/commit/6ec8b4965d3d1d0158936aaf403d92a33c7ed55f", "message": "review fixes", "committedDate": "2020-06-23T16:43:44Z", "type": "commit"}, {"oid": "2928398b686ae1cd10d29e34c198b7ad35959521", "url": "https://github.com/kframework/k/commit/2928398b686ae1cd10d29e34c198b7ad35959521", "message": "fix bug", "committedDate": "2020-06-23T17:06:33Z", "type": "commit"}, {"oid": "090bf614f2dbe44df9a8ff5e194778c01fc670ad", "url": "https://github.com/kframework/k/commit/090bf614f2dbe44df9a8ff5e194778c01fc670ad", "message": "fix bug", "committedDate": "2020-06-23T18:50:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTYzNDkzNw==", "url": "https://github.com/kframework/k/pull/1338#discussion_r445634937", "bodyText": "This information isn't already saved somewhere else?", "author": "ehildenb", "createdAt": "2020-06-25T15:13:38Z", "path": "kernel/src/main/java/org/kframework/kompile/KompileFrontEnd.java", "diffHunk": "@@ -68,6 +68,7 @@ public int run() {\n         Kompile kompile = new Kompile(options, files.get(), kem, sw, !options.profileRules);\n         Backend backend = koreBackend.get();\n         CompiledDefinition def = kompile.run(options.outerParsing.mainDefinitionFile(files.get()), options.mainModule(files.get()), options.syntaxModule(files.get()), backend.steps(), backend.excludedModuleTags());\n+        files.get().saveToKompiled(\"mainModule.txt\", def.executionModule().name());\n         sw.printIntermediate(\"Kompile to kore\");", "originalCommit": "090bf614f2dbe44df9a8ff5e194778c01fc670ad", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY0NjU5Nw==", "url": "https://github.com/kframework/k/pull/1338#discussion_r445646597", "bodyText": "It is not saved anywhere in any place that is convenient for a shell script to parse. Mostly the java code gets this information from the deserialized K definition, which we are not making use of in the new script.", "author": "dwightguth", "createdAt": "2020-06-25T15:29:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTYzNDkzNw=="}], "type": "inlineReview"}, {"oid": "88b72a7be3d66878bc3c1f2717a5155f15129f2a", "url": "https://github.com/kframework/k/commit/88b72a7be3d66878bc3c1f2717a5155f15129f2a", "message": "Update k-distribution/src/main/scripts/bin/kx\n\nCo-authored-by: Everett Hildenbrandt <everett.hildenbrandt@gmail.com>", "committedDate": "2020-06-25T15:38:47Z", "type": "commit"}, {"oid": "93d50dce28c3420f5279498b1699da6d70a4003d", "url": "https://github.com/kframework/k/commit/93d50dce28c3420f5279498b1699da6d70a4003d", "message": "Update k-distribution/src/main/scripts/bin/kx\n\nCo-authored-by: Everett Hildenbrandt <everett.hildenbrandt@gmail.com>", "committedDate": "2020-06-25T15:39:55Z", "type": "commit"}, {"oid": "4e880691069b3d90c7606281d649d3389e2eadb0", "url": "https://github.com/kframework/k/commit/4e880691069b3d90c7606281d649d3389e2eadb0", "message": "error function", "committedDate": "2020-06-25T15:43:52Z", "type": "commit"}, {"oid": "f5ffe62e0d608fecbc26fc6857c67683e75f8d05", "url": "https://github.com/kframework/k/commit/f5ffe62e0d608fecbc26fc6857c67683e75f8d05", "message": "fix overriding of io and color flags", "committedDate": "2020-06-25T15:46:28Z", "type": "commit"}, {"oid": "cbeaf4b6e15243a3917675c4591ef1b9da323d49", "url": "https://github.com/kframework/k/commit/cbeaf4b6e15243a3917675c4591ef1b9da323d49", "message": "formatting", "committedDate": "2020-06-26T17:46:54Z", "type": "commit"}, {"oid": "71a7780c81ae227a106fdff4e1b003892a7480f7", "url": "https://github.com/kframework/k/commit/71a7780c81ae227a106fdff4e1b003892a7480f7", "message": "Merge branch 'master' into kx", "committedDate": "2020-06-26T21:51:09Z", "type": "commit"}]}