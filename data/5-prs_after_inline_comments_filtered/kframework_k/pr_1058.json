{"pr_number": 1058, "pr_title": "Checking verification modules similarly to regular modules", "pr_createdAt": "2020-01-27T21:02:11Z", "pr_url": "https://github.com/kframework/k/pull/1058", "timeline": [{"oid": "aed95114064198c3f280a5151a95a14493483c00", "url": "https://github.com/kframework/k/commit/aed95114064198c3f280a5151a95a14493483c00", "message": "Checking verification modules similarly to regular modules", "committedDate": "2020-01-27T20:56:36Z", "type": "commit"}, {"oid": "f05b68c296e8bb90052a1b2f7e67a415f3c08491", "url": "https://github.com/kframework/k/commit/f05b68c296e8bb90052a1b2f7e67a415f3c08491", "message": "Merge remote-tracking branch 'upstream/master' into claim-checks", "committedDate": "2020-01-28T08:58:44Z", "type": "commit"}, {"oid": "9b1f4a8ae70f65e5569ad46385c5b222cd345d20", "url": "https://github.com/kframework/k/commit/9b1f4a8ae70f65e5569ad46385c5b222cd345d20", "message": "removing directory from output", "committedDate": "2020-01-28T09:38:28Z", "type": "forcePushed"}, {"oid": "cb9a306979abdb9e9def3cf26a02b0cb1b2df2dc", "url": "https://github.com/kframework/k/commit/cb9a306979abdb9e9def3cf26a02b0cb1b2df2dc", "message": "removing directory from output", "committedDate": "2020-01-28T09:45:08Z", "type": "commit"}, {"oid": "cb9a306979abdb9e9def3cf26a02b0cb1b2df2dc", "url": "https://github.com/kframework/k/commit/cb9a306979abdb9e9def3cf26a02b0cb1b2df2dc", "message": "removing directory from output", "committedDate": "2020-01-28T09:45:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkwOTg5MA==", "url": "https://github.com/kframework/k/pull/1058#discussion_r371909890", "bodyText": "it doesn't make sense that you wouldn't throw an error here. You should never have errors in the output displayed by a tool unless the tool has exited abnormally.", "author": "dwightguth", "createdAt": "2020-01-28T16:24:09Z", "path": "kernel/src/main/java/org/kframework/kprove/ProofDefinitionBuilder.java", "diffHunk": "@@ -70,13 +66,15 @@ public ProofDefinitionBuilder(CompiledDefinition compiledDefinition, Backend bac\n                 backend.excludedModuleTags());\n         Map<String, Module> modulesMap = modules.stream().collect(Collectors.toMap(Module::name, m -> m));\n         Definition parsedDefinition = compiledDefinition.getParsedDefinition();\n+        Module specModule = getModule(specModuleNameUpdated, modulesMap, parsedDefinition);\n+        kompile.structuralChecks(scala.collection.JavaConverters.asScalaSet(modules),\n+                specModule, scala.Option.empty(), backend.excludedModuleTags(), false);", "originalCommit": "cb9a306979abdb9e9def3cf26a02b0cb1b2df2dc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAxNDUzNw==", "url": "https://github.com/kframework/k/pull/1058#discussion_r372014537", "bodyText": "The idea is to actually throw an error, eventually. However, there are still specifications (including in our Verification Team's work) where these checks would fail. I thought it would be good to implement this change in two steps: first issue the errors, but preserve the existing behavior, to give some time for people to update their specs, then change the behavior to throw a hard error here.", "author": "traiansf", "createdAt": "2020-01-28T19:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkwOTg5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjAyMzgyNw==", "url": "https://github.com/kframework/k/pull/1058#discussion_r372023827", "bodyText": "Well if you don't want to break existing specs, emit them first as warnings. But if they're errors, they should halt execution.", "author": "dwightguth", "createdAt": "2020-01-28T19:56:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkwOTg5MA=="}], "type": "inlineReview"}, {"oid": "5acdca5fb4589d47479f2eca6341c2815ff0ef33", "url": "https://github.com/kframework/k/commit/5acdca5fb4589d47479f2eca6341c2815ff0ef33", "message": "Merge remote-tracking branch 'upstream/master' into claim-checks", "committedDate": "2020-01-29T07:57:41Z", "type": "commit"}, {"oid": "50c6da2b0e85cc2be218ab5d443160c9a445ce2b", "url": "https://github.com/kframework/k/commit/50c6da2b0e85cc2be218ab5d443160c9a445ce2b", "message": "Addressing reviews", "committedDate": "2020-01-29T11:30:04Z", "type": "commit"}, {"oid": "50c6da2b0e85cc2be218ab5d443160c9a445ce2b", "url": "https://github.com/kframework/k/commit/50c6da2b0e85cc2be218ab5d443160c9a445ce2b", "message": "Addressing reviews", "committedDate": "2020-01-29T11:30:04Z", "type": "forcePushed"}, {"oid": "53722cadaa9fd4809160c1c615c6bf089cce197d", "url": "https://github.com/kframework/k/commit/53722cadaa9fd4809160c1c615c6bf089cce197d", "message": "Merge branch 'master' into claim-checks", "committedDate": "2020-01-30T09:17:19Z", "type": "commit"}, {"oid": "7cb3c3f3a4f43a593a4d61fe13115328136cee08", "url": "https://github.com/kframework/k/commit/7cb3c3f3a4f43a593a4d61fe13115328136cee08", "message": "Merge remote-tracking branch 'upstream/master' into claim-checks", "committedDate": "2020-01-30T14:31:10Z", "type": "commit"}]}