{"pr_number": 8579, "pr_title": "Issue #8473: Records Support check update for RequireThisCheck", "pr_createdAt": "2020-07-29T22:17:11Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8579", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc4NjczNg==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r462786736", "bodyText": "Please add some usages of the record components (x or y) to the compact ctor and any method.\nAll record componens should be passed to addInstanceMember method, but do not see such changes in this commit.", "author": "pbludov", "createdAt": "2020-07-30T07:04:26Z", "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/requirethis/InputRequireThisRecordAsTopLevel.java", "diffHunk": "@@ -0,0 +1,57 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.coding.requirethis;\n+\n+/* Config:\n+ * checkFields = false\n+ * checkMethods = true\n+ * validateOnlyOverlapping = false\n+ *\n+ */\n+public record InputRequireThisRecordAsTopLevel(int x, int y) {", "originalCommit": "d9bdf378463afdf937b555f617e6ec86b1b9477e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzA2NTU3Nw==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r463065577", "bodyText": "Good catch, I have fixed this and added some more test inputs.", "author": "nmancus1", "createdAt": "2020-07-30T15:06:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc4NjczNg=="}], "type": "inlineReview"}, {"oid": "4dcb3fe8e695fc898bfbac031fff546a206463c3", "url": "https://github.com/checkstyle/checkstyle/commit/4dcb3fe8e695fc898bfbac031fff546a206463c3", "message": "Issue #8473: Records Support check update for RequireThisCheck", "committedDate": "2020-07-30T14:54:53Z", "type": "forcePushed"}, {"oid": "25d7e2a4f22b456abb37262f69e785e450487432", "url": "https://github.com/checkstyle/checkstyle/commit/25d7e2a4f22b456abb37262f69e785e450487432", "message": "Issue #8473: Records Support check update for RequireThisCheck", "committedDate": "2020-07-30T16:04:44Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MzQ1Mg==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r463473452", "bodyText": "(int x){\nno space between braces", "author": "strkkk", "createdAt": "2020-07-31T08:22:09Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/RequireThisCheck.java", "diffHunk": "@@ -130,6 +130,13 @@\n  *     return field += \"suffix\"; // violation: Reference to instance variable \"field\" needs \"this\".\n  *   }\n  * }\n+ *\n+ * public static record C(int x) {\n+ *     public C (int x){", "originalCommit": "25d7e2a4f22b456abb37262f69e785e450487432", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3ODY0MA==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r463878640", "bodyText": "Fixed.", "author": "nmancus1", "createdAt": "2020-07-31T22:55:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3MzQ1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3NDAyNQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r463474025", "bodyText": "indentation is wrong.\n\n\nTo be honest, such example with record and constructor seems confusing. May be change constructor to method?", "author": "strkkk", "createdAt": "2020-07-31T08:23:30Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/RequireThisCheck.java", "diffHunk": "@@ -130,6 +130,13 @@\n  *     return field += \"suffix\"; // violation: Reference to instance variable \"field\" needs \"this\".\n  *   }\n  * }\n+ *\n+ * public static record C(int x) {\n+ *     public C (int x){\n+ *     // Overlapping by constructor argument.\n+ *     x = x; // violation: Reference to instance variable \"x\" needs \"this\".", "originalCommit": "25d7e2a4f22b456abb37262f69e785e450487432", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3ODc2OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r463878768", "bodyText": "Fixed.", "author": "nmancus1", "createdAt": "2020-07-31T22:55:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3NDAyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3NDIxNA==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r463474214", "bodyText": "D{ space is needed", "author": "strkkk", "createdAt": "2020-07-31T08:23:55Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/RequireThisCheck.java", "diffHunk": "@@ -210,6 +217,12 @@\n  *     s2 += s2; // Violation. Overlapping. Reference to instance variable 's2' needs \"this.\".\n  *   }\n  * }\n+ *\n+ * public static record D(int x) {\n+ *     public D{", "originalCommit": "25d7e2a4f22b456abb37262f69e785e450487432", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3ODc4Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8579#discussion_r463878786", "bodyText": "Fixed.", "author": "nmancus1", "createdAt": "2020-07-31T22:55:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3NDIxNA=="}], "type": "inlineReview"}, {"oid": "a6e402726253374daf59325d7bb7245dc04f81de", "url": "https://github.com/checkstyle/checkstyle/commit/a6e402726253374daf59325d7bb7245dc04f81de", "message": "Issue #8473: Records Support check update for RequireThisCheck", "committedDate": "2020-07-31T22:49:16Z", "type": "forcePushed"}, {"oid": "c03bac60298d4b4f15889fe44aa599e6217ff1e8", "url": "https://github.com/checkstyle/checkstyle/commit/c03bac60298d4b4f15889fe44aa599e6217ff1e8", "message": "Issue #8473: Records Support check update for RequireThisCheck", "committedDate": "2020-08-01T00:04:50Z", "type": "commit"}, {"oid": "c03bac60298d4b4f15889fe44aa599e6217ff1e8", "url": "https://github.com/checkstyle/checkstyle/commit/c03bac60298d4b4f15889fe44aa599e6217ff1e8", "message": "Issue #8473: Records Support check update for RequireThisCheck", "committedDate": "2020-08-01T00:04:50Z", "type": "forcePushed"}]}