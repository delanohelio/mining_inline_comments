{"pr_number": 8189, "pr_title": "Issue #7664: Update doc for AvoidInlineConditionals", "pr_createdAt": "2020-04-25T13:12:48Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8189", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI5NzI0NA==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415297244", "bodyText": "@Gaurav-Punjabi I think the right replacement for the ternary operator from the Check description is\nString b;\nif (a == null || a.length() < 1) {\n  b = null;\n }\nelse {\n  b = a.substring(1);\n}\n\nor, even better:\nString b;\nif (a != null && a.length() >= 1) {\n  b = a.substring(1);\n }\nelse {\n  b = null;\n}\n\nPlease remove all examples like ? true : false;   and use something real.", "author": "pbludov", "createdAt": "2020-04-26T12:19:38Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/AvoidInlineConditionalsCheck.java", "diffHunk": "@@ -42,6 +42,16 @@\n  * <pre>\n  * &lt;module name=&quot;AvoidInlineConditionals&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * int x = 5;\n+ * boolean result = (x == 5) ? true : false; // violation\n+ * boolean foo = \"foo\".equals(\"bar\") ? (x == 5) ? true : false : true; // violation\n+ * boolean foobar = (x == 5); // OK", "originalCommit": "a253392675f9143dbe266c6d34b6944700bc7a00", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTMxNDM1OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415314358", "bodyText": "Alright, will do these changes", "author": "Gaurav-Punjabi", "createdAt": "2020-04-26T13:45:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI5NzI0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTMyMjAxMg==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415322012", "bodyText": "@pbludov But checkstyle isn't generating any violations in these cases.\nAs per the check, it only throws a violation for the ternary operator.", "author": "Gaurav-Punjabi", "createdAt": "2020-04-26T14:22:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI5NzI0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM0MDY2NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415340665", "bodyText": "The example should show the ternary operator as a violation, and if-else as a valid statement.\nBut the ternary operator should be something real, as the example in the description of the Check. Your example boolean result = (x == 5) ? true : false; is unnatural and does not tell the user how to avoid such violations.", "author": "pbludov", "createdAt": "2020-04-26T15:55:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI5NzI0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM0Mjc3MQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415342771", "bodyText": "Got it \ud83d\udc4d", "author": "Gaurav-Punjabi", "createdAt": "2020-04-26T16:04:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI5NzI0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM1MTE4Mg==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415351182", "bodyText": "Done. Please check", "author": "Gaurav-Punjabi", "createdAt": "2020-04-26T16:48:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI5NzI0NA=="}], "type": "inlineReview"}, {"oid": "61910bcdc9be433cd7ad65fafa451367fab59d70", "url": "https://github.com/checkstyle/checkstyle/commit/61910bcdc9be433cd7ad65fafa451367fab59d70", "message": "Issue #7664: Update doc for AvoidInlineConditionals", "committedDate": "2020-04-26T16:47:33Z", "type": "forcePushed"}, {"oid": "70104f3b5d8b697285b15727d0443120c6efb75c", "url": "https://github.com/checkstyle/checkstyle/commit/70104f3b5d8b697285b15727d0443120c6efb75c", "message": "Issue #7664: Update doc for AvoidInlineConditionals", "committedDate": "2020-04-26T23:24:08Z", "type": "commit"}, {"oid": "70104f3b5d8b697285b15727d0443120c6efb75c", "url": "https://github.com/checkstyle/checkstyle/commit/70104f3b5d8b697285b15727d0443120c6efb75c", "message": "Issue #7664: Update doc for AvoidInlineConditionals", "committedDate": "2020-04-26T23:24:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU5MzI2Ng==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415593266", "bodyText": "is there other cases rather than ternary operator?\nThey should be shown as well", "author": "strkkk", "createdAt": "2020-04-27T07:56:45Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/AvoidInlineConditionalsCheck.java", "diffHunk": "@@ -42,6 +42,23 @@\n  * <pre>\n  * &lt;module name=&quot;AvoidInlineConditionals&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * int x = 5;\n+ * boolean foobar = (x == 5); // OK\n+ *\n+ * String text;\n+ * text = (text == null) ? \"\" : text; // violation\n+ *\n+ * String b;\n+ * if (a != null &amp;&amp; a.length() &gt;= 1) { // OK\n+ *   b = a.substring(1);\n+ * } else {\n+ *   b = null;\n+ * }\n+ *\n+ * b = (a != null &amp;&amp; a.length() &gt;= 1) ? a.substring(1) : null; // violation", "originalCommit": "70104f3b5d8b697285b15727d0443120c6efb75c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwNDQ2OA==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415604468", "bodyText": "No, this check only finds ? in the code, and reports violation if found.", "author": "Gaurav-Punjabi", "createdAt": "2020-04-27T08:13:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU5MzI2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYyOTA1Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8189#discussion_r415629053", "bodyText": "Ok. Check has a weird (for me) naming then.", "author": "strkkk", "createdAt": "2020-04-27T08:49:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTU5MzI2Ng=="}], "type": "inlineReview"}]}