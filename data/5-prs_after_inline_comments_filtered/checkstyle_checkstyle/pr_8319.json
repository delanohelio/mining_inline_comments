{"pr_number": 8319, "pr_title": "Fix NPE in RedundantModifierCheck", "pr_createdAt": "2020-06-15T13:11:15Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/8319", "timeline": [{"oid": "d1b7775ec7d39f85c4fa04849cde5f49e1e1fec7", "url": "https://github.com/checkstyle/checkstyle/commit/d1b7775ec7d39f85c4fa04849cde5f49e1e1fec7", "message": "Issue #8299: fix RedundantModifierCheck for try-with-resources", "committedDate": "2020-06-15T12:40:18Z", "type": "commit"}, {"oid": "d1431edffc65d3ff95133ee8872b112188c36b9b", "url": "https://github.com/checkstyle/checkstyle/commit/d1431edffc65d3ff95133ee8872b112188c36b9b", "message": "minor: refactor cycles to TokenUtil methods usage", "committedDate": "2020-06-15T13:07:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI1NDc5Mw==", "url": "https://github.com/checkstyle/checkstyle/pull/8319#discussion_r440254793", "bodyText": "I can't say for sure, but I don't like this. I would like to see the closing parenthesis on the previous line. There is a chain, but no indentation.", "author": "pbludov", "createdAt": "2020-06-15T15:21:02Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/modifier/RedundantModifierCheck.java", "diffHunk": "@@ -270,27 +270,9 @@ private void checkInterfaceModifiers(DetailAST ast) {\n      */\n     private void checkEnumConstructorModifiers(DetailAST ast) {\n         final DetailAST modifiers = ast.findFirstToken(TokenTypes.MODIFIERS);\n-        final DetailAST modifier = getFirstModifierAst(modifiers);\n-\n-        if (modifier != null) {\n-            log(modifier, MSG_KEY, modifier.getText());\n-        }\n-    }\n-\n-    /**\n-     * Retrieves the first modifier that is not an annotation.\n-     *\n-     * @param modifiers The ast to examine.\n-     * @return The first modifier or {@code null} if none found.\n-     */\n-    private static DetailAST getFirstModifierAst(DetailAST modifiers) {\n-        DetailAST modifier = modifiers.getFirstChild();\n-\n-        while (modifier != null && modifier.getType() == TokenTypes.ANNOTATION) {\n-            modifier = modifier.getNextSibling();\n-        }\n-\n-        return modifier;\n+        TokenUtil.findFirstTokenByPredicate(\n+            modifiers, mod -> mod.getType() != TokenTypes.ANNOTATION\n+        ).ifPresent(modifier -> log(modifier, MSG_KEY, modifier.getText()));", "originalCommit": "d1431edffc65d3ff95133ee8872b112188c36b9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNDc1NQ==", "url": "https://github.com/checkstyle/checkstyle/pull/8319#discussion_r446714755", "bodyText": "TokenUtil.findFirstTokenByPredicate(\n                modifiers, mod -> mod.getType() != TokenTypes.ANNOTATION)\n            .ifPresent(modifier -> log(modifier, MSG_KEY, modifier.getText()));\n\nI do not have strong opinion on this for now.", "author": "romani", "createdAt": "2020-06-28T23:54:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI1NDc5Mw=="}], "type": "inlineReview"}]}