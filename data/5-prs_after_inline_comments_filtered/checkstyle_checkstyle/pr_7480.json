{"pr_number": 7480, "pr_title": "Issue #5604: resolve Sonar violation Replace this Map.get() with Map.computeIfAbsent", "pr_createdAt": "2020-01-16T05:58:16Z", "pr_url": "https://github.com/checkstyle/checkstyle/pull/7480", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxNTg1OQ==", "url": "https://github.com/checkstyle/checkstyle/pull/7480#discussion_r367615859", "bodyText": "It is possible to extract the lambda body to a helper method to avoid creation of a helper class:\n    /**\n     * Gets Javadoc (DetailNode) tree of specified block comments.\n     * @param blockComment Javadoc comment as a block comment\n     * @return DetailNode tree\n     */\n    private DetailNode getJavadocTree(DetailAST blockComment) {\n        return blockCommentToJavadocTree.computeIfAbsent(blockComment,\n                ParseTreeTablePresentation::parseJavadocTree);\n    }\n\n    /**\n     * Parses Javadoc (DetailNode) tree of specified block comments.\n     * @param blockComment Javadoc comment as a block comment\n     * @return DetailNode tree\n     */\n    private static DetailNode parseJavadocTree(DetailAST blockComment) {\n        return new JavadocDetailNodeParser().parseJavadocAsDetailNode(blockComment)\n                .getTree();\n    }\nthen the method getJavadocTree can be inlined (it has one usage in getChildAtDetailAst)", "author": "pbludov", "createdAt": "2020-01-16T19:47:37Z", "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/ParseTreeTablePresentation.java", "diffHunk": "@@ -354,13 +354,11 @@ private static Object getValueAtDetailAST(DetailAST ast, int column) {\n      * @return DetailNode tree\n      */\n     private DetailNode getJavadocTree(DetailAST blockComment) {\n-        DetailNode javadocTree = blockCommentToJavadocTree.get(blockComment);\n-        if (javadocTree == null) {\n-            javadocTree = new JavadocDetailNodeParser().parseJavadocAsDetailNode(blockComment)\n+        return blockCommentToJavadocTree.computeIfAbsent(blockComment, blockCommentNode -> {", "originalCommit": "032855b4e7753fb5ce728a15a9d98df26fa70ea2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYzNjkxNw==", "url": "https://github.com/checkstyle/checkstyle/pull/7480#discussion_r367636917", "bodyText": "I like you approach .... but not for extra call creation  but for more readability as it resolved not good part blockComment, blockCommentNode ->.\nfixed.", "author": "romani", "createdAt": "2020-01-16T20:36:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxNTg1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzY1MDA2Mg==", "url": "https://github.com/checkstyle/checkstyle/pull/7480#discussion_r367650062", "bodyText": "@pbludov , it is better to be more exact in review process.\njust making comments is good when you approve but would like to discuss somehting, while second reviewer can proceed in review.\nif you would like to discuss something and wait for response ... it is better to make \"Request Changes\" to make it clear to want point to be finished before approval.", "author": "romani", "createdAt": "2020-01-16T21:07:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzYxNTg1OQ=="}], "type": "inlineReview"}, {"oid": "ac4dbfc9debe3c4ab3bb5afdb8bca495c1f5774b", "url": "https://github.com/checkstyle/checkstyle/commit/ac4dbfc9debe3c4ab3bb5afdb8bca495c1f5774b", "message": "Issue #5604: resolve Sonar violation 'Replace this Map.get() and condition with a call to Map.computeIfAbsent().'", "committedDate": "2020-01-16T21:03:11Z", "type": "commit"}]}