{"pr_number": 2905, "pr_title": "Fix shiro configuration", "pr_createdAt": "2020-03-20T12:51:59Z", "pr_url": "https://github.com/eclipse/kapua/pull/2905", "timeline": [{"oid": "466e7f64d52171e9590aaa8eb45899d0ea100220", "url": "https://github.com/eclipse/kapua/commit/466e7f64d52171e9590aaa8eb45899d0ea100220", "message": "fix shiro configuration - test fix\n\nSigned-off-by: riccardomodanese <riccardo.modanese@eurotech.com>", "committedDate": "2020-03-20T16:55:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3MzE0MQ==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r395773141", "bodyText": "This should invoke isPermitted(Lists.newArrayList(permission) so we can use the same logic and we don't need to keep methods aligned", "author": "Coduz", "createdAt": "2020-03-20T17:03:21Z", "path": "service/security/shiro/src/main/java/org/eclipse/kapua/service/authorization/shiro/AuthorizationServiceImpl.java", "diffHunk": "@@ -29,6 +32,28 @@\n @KapuaProvider\n public class AuthorizationServiceImpl implements AuthorizationService {\n \n+    @Override\n+    public boolean[] isPermitted(List<Permission> permissions) throws KapuaException {\n+        KapuaSession session = KapuaSecurityUtils.getSession();\n+\n+        if (session == null) {\n+            throw new KapuaUnauthenticatedException();\n+        }\n+        if (session.isTrustedMode()) {\n+            boolean[] returnedPermissions = new boolean[permissions.size()];\n+            for (int i=0; i<permissions.size(); i++) {\n+                returnedPermissions[i] = true;\n+            }\n+            return returnedPermissions;\n+        }\n+        else {\n+            List<org.apache.shiro.authz.Permission> permissionsShiro = permissions.stream()\n+                    .map(permission -> (org.apache.shiro.authz.Permission) permission)\n+                    .collect(Collectors.toList());\n+            return SecurityUtils.getSubject().isPermitted(permissionsShiro);\n+        }\n+    }\n+\n     @Override\n     public boolean isPermitted(Permission permission)", "originalCommit": "466e7f64d52171e9590aaa8eb45899d0ea100220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk4Nzg0MA==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396987840", "bodyText": "Manipulating data to reuse code (also by just invoking an object instantiation), in a critical path, is not a good practice in my opinion (the performances will be affected)", "author": "riccardomodanese", "createdAt": "2020-03-24T08:51:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3MzE0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5MzUyNg==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396993526", "bodyText": "This will result in duplicated code. Next \"sonar fixes branch\" you know that this will be changed anyway....", "author": "Coduz", "createdAt": "2020-03-24T09:00:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3MzE0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5Njc3OA==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396996778", "bodyText": "won't fix option can be used", "author": "riccardomodanese", "createdAt": "2020-03-24T09:06:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3MzE0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3ODIyOQ==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r395778229", "bodyText": "UnavailableSecurityManagerException is eaten.\nAdd log at least of the message Exception", "author": "Coduz", "createdAt": "2020-03-20T17:12:39Z", "path": "qa/common/src/main/java/org/eclipse/kapua/qa/common/utils/InitShiro.java", "diffHunk": "@@ -0,0 +1,58 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.qa.common.utils;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.net.URL;\n+\n+import org.apache.shiro.SecurityUtils;\n+import org.apache.shiro.UnavailableSecurityManagerException;\n+import org.apache.shiro.config.Ini;\n+import org.apache.shiro.config.IniSecurityManagerFactory;\n+import org.apache.shiro.mgt.SecurityManager;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import cucumber.api.java.en.Given;\n+import cucumber.runtime.java.guice.ScenarioScoped;\n+\n+@ScenarioScoped\n+public class InitShiro {\n+\n+    private static final Logger logger = LoggerFactory.getLogger(InitShiro.class);\n+\n+    @Given(\"^Init Security Context$\")\n+    public void start() throws IOException {\n+        try {\n+            SecurityManager securityManager = SecurityUtils.getSecurityManager();\n+            logger.info(\"Found Shiro security manager {}\", securityManager);\n+        }\n+        catch (UnavailableSecurityManagerException e) {\n+            logger.info(\"Init shiro security manager...\");", "originalCommit": "466e7f64d52171e9590aaa8eb45899d0ea100220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk3OTM4Mg==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396979382", "bodyText": "It's the scope of this code. There is no needs to rethrow an exception if you already know what to do when happens.\nIf the Shiro context it's already configured the test code proceeds, otherwhise, in the catch block the context it's initialized.", "author": "riccardomodanese", "createdAt": "2020-03-24T08:36:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3ODIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5MjY2MQ==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396992661", "bodyText": "I said just to log the Exception not re-throw it \ud83d\ude01", "author": "Coduz", "createdAt": "2020-03-24T08:59:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3ODIyOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5NDM0Nw==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396994347", "bodyText": "There is NO sense. It's not an Exception, it's like a check.\nInstead of writing\nif (!security manager defined)\nIt's used the try catch pattern", "author": "riccardomodanese", "createdAt": "2020-03-24T09:02:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc3ODIyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MDI1NQ==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r395780255", "bodyText": "Ini supports .loadFromPath and using \"classpath:shiro.ini\" should work, right?", "author": "Coduz", "createdAt": "2020-03-20T17:16:03Z", "path": "qa/common/src/main/java/org/eclipse/kapua/qa/common/utils/InitShiro.java", "diffHunk": "@@ -0,0 +1,58 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.qa.common.utils;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.net.URL;\n+\n+import org.apache.shiro.SecurityUtils;\n+import org.apache.shiro.UnavailableSecurityManagerException;\n+import org.apache.shiro.config.Ini;\n+import org.apache.shiro.config.IniSecurityManagerFactory;\n+import org.apache.shiro.mgt.SecurityManager;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import cucumber.api.java.en.Given;\n+import cucumber.runtime.java.guice.ScenarioScoped;\n+\n+@ScenarioScoped\n+public class InitShiro {\n+\n+    private static final Logger logger = LoggerFactory.getLogger(InitShiro.class);\n+\n+    @Given(\"^Init Security Context$\")\n+    public void start() throws IOException {\n+        try {\n+            SecurityManager securityManager = SecurityUtils.getSecurityManager();\n+            logger.info(\"Found Shiro security manager {}\", securityManager);\n+        }\n+        catch (UnavailableSecurityManagerException e) {\n+            logger.info(\"Init shiro security manager...\");\n+            final URL shiroIniUrl = getClass().getResource(\"/shiro.ini\");\n+            Ini shiroIni = new Ini();", "originalCommit": "466e7f64d52171e9590aaa8eb45899d0ea100220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk3OTQ3MA==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396979470", "bodyText": "May be, I didn't test this option.\nI reused the already working code from the broker side to init Shiro context for those tests aren't doing it.", "author": "riccardomodanese", "createdAt": "2020-03-24T08:36:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MDI1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MTE3Mw==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r395781173", "bodyText": "Make this reuse boolean[] isPermitted(PrincipalCollection principals, List<Permission> permissions)", "author": "Coduz", "createdAt": "2020-03-20T17:17:45Z", "path": "broker-core/src/main/java/org/eclipse/kapua/broker/core/security/EnhModularRealmAuthorizer.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.broker.core.security;\n+\n+import java.util.Collection;\n+import java.util.List;\n+\n+import org.apache.commons.collections.CollectionUtils;\n+import org.apache.shiro.authz.Authorizer;\n+import org.apache.shiro.authz.ModularRealmAuthorizer;\n+import org.apache.shiro.authz.Permission;\n+import org.apache.shiro.realm.Realm;\n+import org.apache.shiro.subject.PrincipalCollection;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Custom {@link Authorizer} to reduce the query amount using the isPermitted method with the Permission list or String array.\n+ * To use this Authorizer a deeply modified shiro.ini is needed.\n+ * Without these changes this Authorizer will not have any realm configured. (see shiro.ini for explanation)\n+ * This authorizer takes the first valid configured realm and return the isPermitted evaluation skipping any aggregation strategy if more than one valid aggregator is defined.\n+ *\n+ */\n+public class EnhModularRealmAuthorizer extends ModularRealmAuthorizer {\n+\n+    protected static final Logger logger = LoggerFactory.getLogger(EnhModularRealmAuthorizer.class);\n+\n+    public EnhModularRealmAuthorizer() {\n+    }\n+\n+    public EnhModularRealmAuthorizer(Collection<Realm> realms) {\n+        super(realms);\n+    }\n+\n+    @Override\n+    public boolean[] isPermitted(PrincipalCollection principals, List<Permission> permissions) {\n+        assertRealmsConfigured();\n+        if (CollectionUtils.isEmpty(permissions)) {\n+            //return the first realm result\n+            //the multiple realms case with aggregator should be handled or do we still have just one realm?\n+            for (Realm realm : getRealms()) {\n+                return ((Authorizer) realm).isPermitted(principals, permissions);\n+            }\n+        }\n+        return new boolean[0];\n+    }\n+\n+    @Override\n+    public boolean[] isPermitted(PrincipalCollection principals, String... permissions) {\n+        assertRealmsConfigured();", "originalCommit": "466e7f64d52171e9590aaa8eb45899d0ea100220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk3ODk0Mg==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396978942", "bodyText": "Manipulating data to reuse code (also by just invoking an object instantiation), in a critical path, is not a good practice in my opinion (the performances will be affected)\nMoreover, we are using multiple permissions check (so with the List) in just one single point (the broker security plugin, if I'm right).\nSo, as I said, adapting the most used path code (one single permission) to follow a different path (multiple permissions), involving object manipulation will result just in a performance degradation.", "author": "riccardomodanese", "createdAt": "2020-03-24T08:35:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MTE3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5MzYyMw==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396993623", "bodyText": "This will result in duplicated code. Next \"sonar fixes branch\" you know that this will be changed anyway....", "author": "Coduz", "createdAt": "2020-03-24T09:01:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MTE3Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5NjQ5Nw==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396996497", "bodyText": "won't fix option can be used", "author": "riccardomodanese", "createdAt": "2020-03-24T09:05:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MTE3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MjExNw==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r395782117", "bodyText": "Per permission checking right now we have only one AuthorizingRealm \ud83d\ude01 Remove this question", "author": "Coduz", "createdAt": "2020-03-20T17:19:24Z", "path": "broker-core/src/main/java/org/eclipse/kapua/broker/core/security/EnhModularRealmAuthorizer.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.broker.core.security;\n+\n+import java.util.Collection;\n+import java.util.List;\n+\n+import org.apache.commons.collections.CollectionUtils;\n+import org.apache.shiro.authz.Authorizer;\n+import org.apache.shiro.authz.ModularRealmAuthorizer;\n+import org.apache.shiro.authz.Permission;\n+import org.apache.shiro.realm.Realm;\n+import org.apache.shiro.subject.PrincipalCollection;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Custom {@link Authorizer} to reduce the query amount using the isPermitted method with the Permission list or String array.\n+ * To use this Authorizer a deeply modified shiro.ini is needed.\n+ * Without these changes this Authorizer will not have any realm configured. (see shiro.ini for explanation)\n+ * This authorizer takes the first valid configured realm and return the isPermitted evaluation skipping any aggregation strategy if more than one valid aggregator is defined.\n+ *\n+ */\n+public class EnhModularRealmAuthorizer extends ModularRealmAuthorizer {\n+\n+    protected static final Logger logger = LoggerFactory.getLogger(EnhModularRealmAuthorizer.class);\n+\n+    public EnhModularRealmAuthorizer() {\n+    }\n+\n+    public EnhModularRealmAuthorizer(Collection<Realm> realms) {\n+        super(realms);\n+    }\n+\n+    @Override\n+    public boolean[] isPermitted(PrincipalCollection principals, List<Permission> permissions) {\n+        assertRealmsConfigured();\n+        if (CollectionUtils.isEmpty(permissions)) {\n+            //return the first realm result\n+            //the multiple realms case with aggregator should be handled or do we still have just one realm?", "originalCommit": "466e7f64d52171e9590aaa8eb45899d0ea100220", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5MDUwMg==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396990502", "bodyText": "Having one or more realms is not completely on our hand. If someone will customize Kapua adding another realm should be aware (at least with a commented code) of possible restrictions.", "author": "riccardomodanese", "createdAt": "2020-03-24T08:56:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MjExNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk5MTQ1MA==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r396991450", "bodyText": "Yes but this question is useless here.\nDocumentation should be the proper way \ud83d\ude01", "author": "Coduz", "createdAt": "2020-03-24T08:57:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4MjExNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4NDczOA==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r395784738", "bodyText": "Replace this with Arrays.fill(new boolean[permissions.size()], true );", "author": "Coduz", "createdAt": "2020-03-20T17:23:51Z", "path": "service/security/shiro/src/main/java/org/eclipse/kapua/service/authorization/shiro/AuthorizationServiceImpl.java", "diffHunk": "@@ -29,6 +32,28 @@\n @KapuaProvider\n public class AuthorizationServiceImpl implements AuthorizationService {\n \n+    @Override\n+    public boolean[] isPermitted(List<Permission> permissions) throws KapuaException {\n+        KapuaSession session = KapuaSecurityUtils.getSession();\n+\n+        if (session == null) {\n+            throw new KapuaUnauthenticatedException();\n+        }\n+        if (session.isTrustedMode()) {\n+            boolean[] returnedPermissions = new boolean[permissions.size()];\n+            for (int i=0; i<permissions.size(); i++) {\n+                returnedPermissions[i] = true;\n+            }\n+            return returnedPermissions;", "originalCommit": "466e7f64d52171e9590aaa8eb45899d0ea100220", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTc4OTI2MA==", "url": "https://github.com/eclipse/kapua/pull/2905#discussion_r395789260", "bodyText": "Maybe this is:\nif (!CollectionUtils.isEmpty(permissions)) {\nThis is currently doing something only when  the given List<Permission> is empty", "author": "Coduz", "createdAt": "2020-03-20T17:32:09Z", "path": "broker-core/src/main/java/org/eclipse/kapua/broker/core/security/EnhModularRealmAuthorizer.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eurotech and/or its affiliates and others\n+ *\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     Eurotech - initial API and implementation\n+ *******************************************************************************/\n+package org.eclipse.kapua.broker.core.security;\n+\n+import java.util.Collection;\n+import java.util.List;\n+\n+import org.apache.commons.collections.CollectionUtils;\n+import org.apache.shiro.authz.Authorizer;\n+import org.apache.shiro.authz.ModularRealmAuthorizer;\n+import org.apache.shiro.authz.Permission;\n+import org.apache.shiro.realm.Realm;\n+import org.apache.shiro.subject.PrincipalCollection;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * Custom {@link Authorizer} to reduce the query amount using the isPermitted method with the Permission list or String array.\n+ * To use this Authorizer a deeply modified shiro.ini is needed.\n+ * Without these changes this Authorizer will not have any realm configured. (see shiro.ini for explanation)\n+ * This authorizer takes the first valid configured realm and return the isPermitted evaluation skipping any aggregation strategy if more than one valid aggregator is defined.\n+ *\n+ */\n+public class EnhModularRealmAuthorizer extends ModularRealmAuthorizer {\n+\n+    protected static final Logger logger = LoggerFactory.getLogger(EnhModularRealmAuthorizer.class);\n+\n+    public EnhModularRealmAuthorizer() {\n+    }\n+\n+    public EnhModularRealmAuthorizer(Collection<Realm> realms) {\n+        super(realms);\n+    }\n+\n+    @Override\n+    public boolean[] isPermitted(PrincipalCollection principals, List<Permission> permissions) {\n+        assertRealmsConfigured();\n+        if (CollectionUtils.isEmpty(permissions)) {", "originalCommit": "466e7f64d52171e9590aaa8eb45899d0ea100220", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9ef03f87c1904336c3a18ef2a8315a170c663e3a", "url": "https://github.com/eclipse/kapua/commit/9ef03f87c1904336c3a18ef2a8315a170c663e3a", "message": "fix shiro configuration - add custom Authenticator to avaid redundant queries on broker login operation\n\nSigned-off-by: riccardomodanese <riccardo.modanese@eurotech.com>\nSigned-off-by: Claudio Mezzasalma <claudio.mezzasalma@eurotech.com>", "committedDate": "2020-03-24T08:06:16Z", "type": "commit"}, {"oid": "c39b6856d2b3689784a68210a11428a3d1d81fd5", "url": "https://github.com/eclipse/kapua/commit/c39b6856d2b3689784a68210a11428a3d1d81fd5", "message": "fix shiro configuration - test fix\n\nSigned-off-by: riccardomodanese <riccardo.modanese@eurotech.com>", "committedDate": "2020-03-24T08:06:16Z", "type": "commit"}, {"oid": "17dcfa8d39bff5751f52b4a2f87c616808530beb", "url": "https://github.com/eclipse/kapua/commit/17dcfa8d39bff5751f52b4a2f87c616808530beb", "message": "fix shiro configuration - fix\n\nSigned-off-by: riccardomodanese <riccardo.modanese@eurotech.com>", "committedDate": "2020-03-24T10:33:57Z", "type": "commit"}, {"oid": "17dcfa8d39bff5751f52b4a2f87c616808530beb", "url": "https://github.com/eclipse/kapua/commit/17dcfa8d39bff5751f52b4a2f87c616808530beb", "message": "fix shiro configuration - fix\n\nSigned-off-by: riccardomodanese <riccardo.modanese@eurotech.com>", "committedDate": "2020-03-24T10:33:57Z", "type": "forcePushed"}]}