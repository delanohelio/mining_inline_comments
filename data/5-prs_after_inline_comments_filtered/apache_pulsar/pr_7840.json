{"pr_number": 7840, "pr_title": "[Client]Add autoPartitionsUpdateInterval for producer and consumer", "pr_createdAt": "2020-08-18T15:00:15Z", "pr_url": "https://github.com/apache/pulsar/pull/7840", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAxNTA5Ng==", "url": "https://github.com/apache/pulsar/pull/7840#discussion_r473015096", "bodyText": "interval > 0?", "author": "jiazhai", "createdAt": "2020-08-19T13:08:17Z", "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/conf/ProducerConfigurationData.java", "diffHunk": "@@ -163,4 +165,8 @@ public long batchingPartitionSwitchFrequencyIntervalMicros() {\n         return this.batchingPartitionSwitchFrequencyByPublishDelay * batchingMaxPublishDelayMicros;\n     }\n \n+    public void setAutoUpdatePartitionsIntervalMin(int interval, TimeUnit timeUnit) {\n+        checkArgument(interval >= 0, \"interval needs to be >= 0\");", "originalCommit": "9868c9638216dd54c30087179c78f00cb45e5268", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAxNzc1Mg==", "url": "https://github.com/apache/pulsar/pull/7840#discussion_r473017752", "bodyText": "same here, > 0, would be easy to handle.", "author": "jiazhai", "createdAt": "2020-08-19T13:12:27Z", "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/conf/ConsumerConfigurationData.java", "diffHunk": "@@ -127,6 +129,11 @@\n \n     private boolean batchIndexAckEnabled = false;\n \n+    public void setAutoUpdatePartitionsIntervalMin(int interval, TimeUnit timeUnit) {\n+        checkArgument(interval >= 0, \"interval needs to be >= 0\");", "originalCommit": "9868c9638216dd54c30087179c78f00cb45e5268", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAyNDU2Ng==", "url": "https://github.com/apache/pulsar/pull/7840#discussion_r473024566", "bodyText": "autoUpdatePartitionsIntervalSeconds maybe better.", "author": "jiazhai", "createdAt": "2020-08-19T13:22:05Z", "path": "pulsar-client/src/main/java/org/apache/pulsar/client/impl/conf/ProducerConfigurationData.java", "diffHunk": "@@ -95,6 +95,8 @@\n \n     private boolean autoUpdatePartitions = true;\n \n+    private long autoUpdatePartitionsIntervalMin = 1;", "originalCommit": "9868c9638216dd54c30087179c78f00cb45e5268", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7143cc8dd1bc36bf80aa4cdc02ebf17a8073908a", "url": "https://github.com/apache/pulsar/commit/7143cc8dd1bc36bf80aa4cdc02ebf17a8073908a", "message": "Add unit test for autoUpdatePartitionsInterval.", "committedDate": "2020-08-19T15:03:25Z", "type": "forcePushed"}, {"oid": "05963aa8aa1d6aab005f47001d5db8705f369104", "url": "https://github.com/apache/pulsar/commit/05963aa8aa1d6aab005f47001d5db8705f369104", "message": "Add autoUpdatePartitionsInterval property.", "committedDate": "2020-08-20T16:00:18Z", "type": "commit"}, {"oid": "2d4030fc15d157a634114ecdff1667122c019939", "url": "https://github.com/apache/pulsar/commit/2d4030fc15d157a634114ecdff1667122c019939", "message": "Add autoUpdatePartitionsInterval for consumer.", "committedDate": "2020-08-20T16:00:19Z", "type": "commit"}, {"oid": "b73bb13e0f09f7421aeb6875e2419820a45d5feb", "url": "https://github.com/apache/pulsar/commit/b73bb13e0f09f7421aeb6875e2419820a45d5feb", "message": "Fix checking argument in the config of producer and consumer.", "committedDate": "2020-08-20T16:00:19Z", "type": "commit"}, {"oid": "702bb6042e7e8fc5673a957f13d24324e8e069f2", "url": "https://github.com/apache/pulsar/commit/702bb6042e7e8fc5673a957f13d24324e8e069f2", "message": "Change the unit of autoUpdatePartitionsInterval to second.", "committedDate": "2020-08-20T16:00:19Z", "type": "commit"}, {"oid": "b4c6881e3880a12eaabeaac1a2c58aa4765e72dc", "url": "https://github.com/apache/pulsar/commit/b4c6881e3880a12eaabeaac1a2c58aa4765e72dc", "message": "Add unit test for autoUpdatePartitionsInterval.", "committedDate": "2020-08-20T16:00:20Z", "type": "commit"}, {"oid": "b4c6881e3880a12eaabeaac1a2c58aa4765e72dc", "url": "https://github.com/apache/pulsar/commit/b4c6881e3880a12eaabeaac1a2c58aa4765e72dc", "message": "Add unit test for autoUpdatePartitionsInterval.", "committedDate": "2020-08-20T16:00:20Z", "type": "forcePushed"}]}