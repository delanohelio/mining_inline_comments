{"pr_number": 8003, "pr_title": "support max consumers per subscription on topic level", "pr_createdAt": "2020-09-08T04:22:09Z", "pr_url": "https://github.com/apache/pulsar/pull/8003", "timeline": [{"oid": "11b3f9ec405166c3d77d6d97c453942b1e77fa4d", "url": "https://github.com/apache/pulsar/commit/11b3f9ec405166c3d77d6d97c453942b1e77fa4d", "message": "support max consumers per subscription on topic level", "committedDate": "2020-09-08T04:24:04Z", "type": "commit"}, {"oid": "11b3f9ec405166c3d77d6d97c453942b1e77fa4d", "url": "https://github.com/apache/pulsar/commit/11b3f9ec405166c3d77d6d97c453942b1e77fa4d", "message": "support max consumers per subscription on topic level", "committedDate": "2020-09-08T04:24:04Z", "type": "forcePushed"}, {"oid": "3f7ac9bc2d739c1cd4b0860409790f1441dd922d", "url": "https://github.com/apache/pulsar/commit/3f7ac9bc2d739c1cd4b0860409790f1441dd922d", "message": "fix a bug", "committedDate": "2020-09-08T11:18:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUzNDA0OA==", "url": "https://github.com/apache/pulsar/pull/8003#discussion_r485534048", "bodyText": "Looks dup withNonPersistentDispatcherSingleActiveConsumer.java.", "author": "codelipenghui", "createdAt": "2020-09-09T11:20:59Z", "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentDispatcherMultipleConsumers.java", "diffHunk": "@@ -795,5 +808,35 @@ public PersistentTopic getTopic() {\n         return topic;\n     }\n \n+    /**\n+     * Get {@link TopicPolicies} for this topic.\n+     * @param topicName\n+     * @return TopicPolicies is exist else return null.\n+     */\n+    private TopicPolicies getTopicPolicies(TopicName topicName) {", "originalCommit": "3f7ac9bc2d739c1cd4b0860409790f1441dd922d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUzNDUwNA==", "url": "https://github.com/apache/pulsar/pull/8003#discussion_r485534504", "bodyText": "Same as the above comment, I think we can move this method to the BrokerService?", "author": "codelipenghui", "createdAt": "2020-09-09T11:22:01Z", "path": "pulsar-broker/src/main/java/org/apache/pulsar/broker/service/persistent/PersistentDispatcherSingleActiveConsumer.java", "diffHunk": "@@ -537,5 +551,35 @@ public void initializeDispatchRateLimiterIfNeeded(Optional<Policies> policies) {\n         return disconnectAllConsumers();\n     }\n \n+    /**\n+     * Get {@link TopicPolicies} for this topic.\n+     * @param topicName\n+     * @return TopicPolicies is exist else return null.\n+     */\n+    private TopicPolicies getTopicPolicies(TopicName topicName) {", "originalCommit": "3f7ac9bc2d739c1cd4b0860409790f1441dd922d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI1OTMzNg==", "url": "https://github.com/apache/pulsar/pull/8003#discussion_r486259336", "bodyText": "Thanks for your reply. I have move the getTopicPolicies method to BrokerService, Please take a look again.", "author": "hangc0276", "createdAt": "2020-09-10T11:20:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUzNDUwNA=="}], "type": "inlineReview"}, {"oid": "d56bca1f437eb6a0639169552b830d2aa75958d2", "url": "https://github.com/apache/pulsar/commit/d56bca1f437eb6a0639169552b830d2aa75958d2", "message": "move getTopicPolicies method to BrokerService.java", "committedDate": "2020-09-10T11:19:27Z", "type": "commit"}]}