{"pr_number": 7388, "pr_title": "Implement rebalance mechanism in Pulsar Functions", "pr_createdAt": "2020-06-30T00:27:44Z", "pr_url": "https://github.com/apache/pulsar/pull/7388", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQwMTM1OQ==", "url": "https://github.com/apache/pulsar/pull/7388#discussion_r447401359", "bodyText": "nit: IRebalancer?", "author": "srkukarni", "createdAt": "2020-06-30T04:26:34Z", "path": "pulsar-functions/worker/src/main/java/org/apache/pulsar/functions/worker/SchedulerManager.java", "diffHunk": "@@ -93,6 +94,8 @@\n \n     private final IScheduler scheduler;\n \n+    private final IRebalance rebalancer;", "originalCommit": "5c2d86686fbf9854277e2db368a3e8ec62746d45", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODA2MjE0Mw==", "url": "https://github.com/apache/pulsar/pull/7388#discussion_r448062143", "bodyText": "Should we have a default implementation that just returns the current assignment?", "author": "merlimat", "createdAt": "2020-07-01T01:11:54Z", "path": "pulsar-functions/worker/src/main/java/org/apache/pulsar/functions/worker/scheduler/IScheduler.java", "diffHunk": "@@ -38,4 +39,12 @@\n      */\n     List<Assignment> schedule(List<Instance> unassignedFunctionInstances, List<Assignment> currentAssignments,\n             Set<String> workers);\n+\n+    /**\n+     *\n+     * @param currentAssignments\n+     * @param workers\n+     * @return\n+     */\n+    List<Function.Assignment> rebalance(List<Function.Assignment> currentAssignments, Set<String> workers);", "originalCommit": "b1a0135c442c16f8984c345aeb33a6c4d4525150", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODA2MzQ0NQ==", "url": "https://github.com/apache/pulsar/pull/7388#discussion_r448063445", "bodyText": "Sure we can do it for BC reasons.  It would return a empty list because there will be no change", "author": "jerrypeng", "createdAt": "2020-07-01T01:17:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODA2MjE0Mw=="}], "type": "inlineReview"}, {"oid": "0ac832cb06a8ceb65e0baf249d2d15c0c85885cc", "url": "https://github.com/apache/pulsar/commit/0ac832cb06a8ceb65e0baf249d2d15c0c85885cc", "message": "Implement rebalance mechanism in Pulsar Functions", "committedDate": "2020-07-01T21:09:50Z", "type": "commit"}, {"oid": "0ac832cb06a8ceb65e0baf249d2d15c0c85885cc", "url": "https://github.com/apache/pulsar/commit/0ac832cb06a8ceb65e0baf249d2d15c0c85885cc", "message": "Implement rebalance mechanism in Pulsar Functions", "committedDate": "2020-07-01T21:09:50Z", "type": "forcePushed"}]}