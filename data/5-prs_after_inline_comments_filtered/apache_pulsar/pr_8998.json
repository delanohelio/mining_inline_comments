{"pr_number": 8998, "pr_title": "Improve error handling when broker doesn't trust client certificates", "pr_createdAt": "2020-12-18T08:25:08Z", "pr_url": "https://github.com/apache/pulsar/pull/8998", "timeline": [{"oid": "14a28bea564abb9e7b58c2200c0822d8d7eecdb1", "url": "https://github.com/apache/pulsar/commit/14a28bea564abb9e7b58c2200c0822d8d7eecdb1", "message": "Improve error handling when broker doesn't trust client certificates\n\n*Motivation*\n\nWhen TLS throws `SSLPeerUnverifiedException`, broker doesn't log any information and just returns `null`.\nIt makes users very hard to debug problem.\n\n*Changes*\n\nImprove the error handling when broker doesn't trust client certificates.\n\nSee more details at https://github.com/apache/pulsar/issues/8963", "committedDate": "2020-12-18T08:21:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA3MzE5MA==", "url": "https://github.com/apache/pulsar/pull/8998#discussion_r546073190", "bodyText": "Is there a way to log the remote address?", "author": "eolivelli", "createdAt": "2020-12-18T20:23:56Z", "path": "pulsar-broker-common/src/main/java/org/apache/pulsar/broker/authentication/AuthenticationDataCommand.java", "diffHunk": "@@ -94,6 +96,7 @@ public boolean hasDataFromTls() {\n         try {\n             return sslSession.getPeerCertificates();\n         } catch (SSLPeerUnverifiedException e) {\n+            log.error(\"Failed to verify the peer's identity\", e);", "originalCommit": "14a28bea564abb9e7b58c2200c0822d8d7eecdb1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}