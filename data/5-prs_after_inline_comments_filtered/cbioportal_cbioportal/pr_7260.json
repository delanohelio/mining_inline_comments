{"pr_number": 7260, "pr_title": "Add resource API's", "pr_createdAt": "2020-03-04T15:58:03Z", "pr_url": "https://github.com/cBioPortal/cbioportal/pull/7260", "timeline": [{"oid": "f1eb00d586f84522f1a9d27ef7b2c915934a1ab3", "url": "https://github.com/cBioPortal/cbioportal/commit/f1eb00d586f84522f1a9d27ef7b2c915934a1ab3", "message": "Add resource API's", "committedDate": "2020-03-04T18:22:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAwNDAwMA==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r388004000", "bodyText": "All looks good to me! Just the displayName maybe should be nullable?", "author": "dippindots", "createdAt": "2020-03-04T23:53:08Z", "path": "model/src/main/java/org/cbioportal/model/ResourceDefinition.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package org.cbioportal.model;\n+\n+import javax.validation.constraints.NotNull;\n+\n+public class ResourceDefinition {\n+\n+    @NotNull\n+    private String resourceId;\n+    @NotNull\n+    private String displayName;", "originalCommit": "f1eb00d586f84522f1a9d27ef7b2c915934a1ab3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODMxNzA2OQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r388317069", "bodyText": "Added a comment in database pr https://github.com/cBioPortal/cbioportal/pull/7259/files#r388315615. Let's discuss it there", "author": "kalletlak", "createdAt": "2020-03-05T14:12:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAwNDAwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU1NzQ0OQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r388557449", "bodyText": "done", "author": "kalletlak", "createdAt": "2020-03-05T20:50:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAwNDAwMA=="}], "type": "inlineReview"}, {"oid": "62d8030f6d7f9a22d534eb9e469b7fea11dd3a42", "url": "https://github.com/cBioPortal/cbioportal/commit/62d8030f6d7f9a22d534eb9e469b7fea11dd3a42", "message": "Add resource API's", "committedDate": "2020-03-05T20:49:20Z", "type": "forcePushed"}, {"oid": "4b6c2d490db5d99d22a910dfdc62f4e8bb82e51d", "url": "https://github.com/cBioPortal/cbioportal/commit/4b6c2d490db5d99d22a910dfdc62f4e8bb82e51d", "message": "Add resource API's", "committedDate": "2020-03-10T15:02:39Z", "type": "forcePushed"}, {"oid": "ab94f72b2634de39c94a151455b971638bbb6864", "url": "https://github.com/cBioPortal/cbioportal/commit/ab94f72b2634de39c94a151455b971638bbb6864", "message": "Add resource API's", "committedDate": "2020-03-10T15:19:31Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU5ODg5NA==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394598894", "bodyText": "minor suggestion: Would you consider putting these enum types on separate lines to be consistent with the rest of the codebase?  example here", "author": "ao508", "createdAt": "2020-03-18T19:47:44Z", "path": "model/src/main/java/org/cbioportal/model/ResourceType.java", "diffHunk": "@@ -0,0 +1,5 @@\n+package org.cbioportal.model;\n+\n+public enum ResourceType {\n+    STUDY, SAMPLE, PATIENT", "originalCommit": "ab94f72b2634de39c94a151455b971638bbb6864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYwNDc3NQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394604775", "bodyText": "nice find", "author": "ao508", "createdAt": "2020-03-18T19:58:52Z", "path": "web/src/main/java/org/cbioportal/web/ReferenceGenomeGeneController.java", "diffHunk": "@@ -30,7 +30,7 @@\n @PublicApi\n @RestController\n @Validated\n-@Api(tags = \"Reference Genome Genes\", description = \" \")\n+@Api(tags = \"R. Reference Genome Genes\", description = \" \")", "originalCommit": "ab94f72b2634de39c94a151455b971638bbb6864", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYwOTMyMw==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394609323", "bodyText": "I just want to double check here whether ResourceData needs to be included in this map or not", "author": "ao508", "createdAt": "2020-03-18T20:08:04Z", "path": "web/src/main/java/org/cbioportal/web/config/CustomObjectMapper.java", "diffHunk": "@@ -119,6 +121,7 @@ public CustomObjectMapper() {\n         mixinMap.put(Sample.class, SampleMixin.class);\n         mixinMap.put(SampleList.class, SampleListMixin.class);\n         mixinMap.put(TypeOfCancer.class, TypeOfCancerMixin.class);\n+        mixinMap.put(ResourceDefinition.class, ResourceDefinitionMixin.class);", "originalCommit": "ab94f72b2634de39c94a151455b971638bbb6864", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYxMzA1OA==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394613058", "bodyText": "never mind, I realize now that only ResourceDefinition has a corresponding ResourceDefintionMixin class.", "author": "ao508", "createdAt": "2020-03-18T20:15:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYwOTMyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYxMjM0OQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394612349", "bodyText": "Should ID be added to this message here?\n\n\"Resource ID not found: \" + ex.getResourceId()\n\ninstead of\n\n\"Resource not found: \" + ex.getResourceId()\n\nI may be overthinking this but I wonder whether someone would interpret the word \"Resource\" alone as something related to the actual backend code instead of an error stating that a resource called \"[some_resource_id]\" could not be found for that study/patient/sample.", "author": "ao508", "createdAt": "2020-03-18T20:13:58Z", "path": "web/src/main/java/org/cbioportal/web/error/GlobalExceptionHandler.java", "diffHunk": "@@ -181,4 +181,10 @@\n         return new ResponseEntity<>(new ErrorResponse(\"stableId not found: \" + ex.getStableId()),\n             HttpStatus.NOT_FOUND);\n     }\n+\n+    @ExceptionHandler(ResourceDefinitionNotFoundException.class)\n+    public ResponseEntity<ErrorResponse> handleResourceDefinitionNotFound(ResourceDefinitionNotFoundException ex) {\n+        return new ResponseEntity<>(new ErrorResponse(\"Resource not found: \" + ex.getResourceId()),", "originalCommit": "ab94f72b2634de39c94a151455b971638bbb6864", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA1NDA5NQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r395054095", "bodyText": "I followed the same convention what's there for other exceptions(ex: StudyNotFoundException)", "author": "kalletlak", "createdAt": "2020-03-19T14:11:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYxMjM0OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA2NDE4NQ==", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r395064185", "bodyText": "Sounds fine to me - I don't really think this will be an issue anyway.", "author": "ao508", "createdAt": "2020-03-19T14:24:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYxMjM0OQ=="}], "type": "inlineReview"}, {"oid": "d0d699c25751759d2eaae1e77c6823bc2f7e3662", "url": "https://github.com/cBioPortal/cbioportal/commit/d0d699c25751759d2eaae1e77c6823bc2f7e3662", "message": "Add resource API's", "committedDate": "2020-03-19T14:11:53Z", "type": "forcePushed"}, {"oid": "5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "url": "https://github.com/cBioPortal/cbioportal/commit/5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "message": "Add resource API's", "committedDate": "2020-03-19T14:13:56Z", "type": "commit"}, {"oid": "5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "url": "https://github.com/cBioPortal/cbioportal/commit/5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "message": "Add resource API's", "committedDate": "2020-03-19T14:13:56Z", "type": "forcePushed"}]}