{"pr_number": 2728, "pr_title": "Replace tableScan with values for empty table prefixes", "pr_createdAt": "2020-02-04T14:46:47Z", "pr_url": "https://github.com/trinodb/trino/pull/2728", "timeline": [{"oid": "494681a88a3a191785a903caeb69591783eb2afa", "url": "https://github.com/trinodb/trino/commit/494681a88a3a191785a903caeb69591783eb2afa", "message": "Fix typo in method name", "committedDate": "2020-02-09T15:05:35Z", "type": "commit"}, {"oid": "59cec2a05c77eb7f286608128a96e230cc16c169", "url": "https://github.com/trinodb/trino/commit/59cec2a05c77eb7f286608128a96e230cc16c169", "message": "Replace TableScan with Values for empty table prefixes", "committedDate": "2020-02-10T11:49:59Z", "type": "commit"}, {"oid": "59cec2a05c77eb7f286608128a96e230cc16c169", "url": "https://github.com/trinodb/trino/commit/59cec2a05c77eb7f286608128a96e230cc16c169", "message": "Replace TableScan with Values for empty table prefixes", "committedDate": "2020-02-10T11:49:59Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzAzNjA5Nw==", "url": "https://github.com/trinodb/trino/pull/2728#discussion_r377036097", "bodyText": "you lost table_schema='tpch'", "author": "kokosing", "createdAt": "2020-02-10T12:35:22Z", "path": "presto-tests/src/test/java/io/prestosql/tests/TestInformationSchemaConnector.java", "diffHunk": "@@ -192,13 +196,14 @@ public void testMetadataCalls()\n                         .withListSchemasCount(1)\n                         .withListTablesCount(2)\n                         .withGetColumnsCount(10000));\n+        assertNoMetadataCalls(\"SELECT count(*) from test_catalog.information_schema.tables WHERE table_schema = ''\", \"VALUES 0\");\n     }\n \n     @Test\n     public void testInformationForEmptyNames()\n     {\n-        assertQuery(\"SELECT count(*) FROM test_catalog.information_schema.tables WHERE table_schema='tpch' AND table_name=''\", \"VALUES 0\");\n-        assertQuery(\"SELECT count(*) FROM test_catalog.information_schema.tables WHERE table_schema='' AND table_name='table'\", \"VALUES 0\");\n+        assertNoTableScan(\"SELECT count(*) from test_catalog.information_schema.tables WHERE table_schema = ''\");", "originalCommit": "59cec2a05c77eb7f286608128a96e230cc16c169", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}