{"pr_number": 6319, "pr_title": "Remove incorrect verify in JdbcMetadata", "pr_createdAt": "2020-12-12T19:40:26Z", "pr_url": "https://github.com/trinodb/trino/pull/6319", "timeline": [{"oid": "078e352fb6d777bea767709c76c070653d31bde0", "url": "https://github.com/trinodb/trino/commit/078e352fb6d777bea767709c76c070653d31bde0", "message": "Remove incorrect verify in JdbcMetadata\n\nDisregarding the fact that table is synthetic or not it should be always\npossible to get a list of their columns.", "committedDate": "2020-12-12T19:37:00Z", "type": "commit"}, {"oid": "d1ec12c9329a923f47e26f0d76a3f949c8d5cb2e", "url": "https://github.com/trinodb/trino/commit/d1ec12c9329a923f47e26f0d76a3f949c8d5cb2e", "message": "Simplify JdbcMetadata#getColumnHandles", "committedDate": "2020-12-12T19:41:37Z", "type": "commit"}, {"oid": "d1ec12c9329a923f47e26f0d76a3f949c8d5cb2e", "url": "https://github.com/trinodb/trino/commit/d1ec12c9329a923f47e26f0d76a3f949c8d5cb2e", "message": "Simplify JdbcMetadata#getColumnHandles", "committedDate": "2020-12-12T19:41:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIwNTUzNQ==", "url": "https://github.com/trinodb/trino/pull/6319#discussion_r542205535", "bodyText": "Is it testable?", "author": "findepi", "createdAt": "2020-12-14T08:46:04Z", "path": "presto-base-jdbc/src/main/java/io/prestosql/plugin/jdbc/JdbcMetadata.java", "diffHunk": "@@ -354,8 +354,6 @@ public ConnectorTableMetadata getTableMetadata(ConnectorSession session, Connect\n     public Map<String, ColumnHandle> getColumnHandles(ConnectorSession session, ConnectorTableHandle tableHandle)\n     {\n         JdbcTableHandle jdbcTableHandle = (JdbcTableHandle) tableHandle;\n-        verify(!jdbcTableHandle.isSynthetic(), \"Not a table reference: %s\", jdbcTableHandle);", "originalCommit": "078e352fb6d777bea767709c76c070653d31bde0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQwNjA1NQ==", "url": "https://github.com/trinodb/trino/pull/6319#discussion_r542406055", "bodyText": "I could write a \"real\" unit test. Then it would be just a inversion of implementation which I don't like.", "author": "kokosing", "createdAt": "2020-12-14T14:01:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIwNTUzNQ=="}], "type": "inlineReview"}]}