{"pr_number": 5218, "pr_title": "More Page getColumns refactors", "pr_createdAt": "2020-09-18T16:19:51Z", "pr_url": "https://github.com/trinodb/trino/pull/5218", "timeline": [{"oid": "0897dae0391c83b4eec33221dbef79b52f32575d", "url": "https://github.com/trinodb/trino/commit/0897dae0391c83b4eec33221dbef79b52f32575d", "message": "Add single int overload to Page#getColumns", "committedDate": "2020-09-18T16:16:24Z", "type": "commit"}, {"oid": "c2dc995b4e1467a48ed23f1ccc18313ff56f076b", "url": "https://github.com/trinodb/trino/commit/c2dc995b4e1467a48ed23f1ccc18313ff56f076b", "message": "Refactor more operators to use Page#getColumns where appropriate", "committedDate": "2020-09-18T16:28:30Z", "type": "commit"}, {"oid": "c2dc995b4e1467a48ed23f1ccc18313ff56f076b", "url": "https://github.com/trinodb/trino/commit/c2dc995b4e1467a48ed23f1ccc18313ff56f076b", "message": "Refactor more operators to use Page#getColumns where appropriate", "committedDate": "2020-09-18T16:28:30Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg3OTk0Ng==", "url": "https://github.com/trinodb/trino/pull/5218#discussion_r491879946", "bodyText": "Maybe that should just be called getColumn instead?", "author": "sopel39", "createdAt": "2020-09-21T08:47:06Z", "path": "presto-main/src/main/java/io/prestosql/operator/HashSemiJoinOperator.java", "diffHunk": "@@ -184,7 +184,7 @@ public SemiJoinPages(SetSupplier channelSetFuture, int probeJoinChannel, Optiona\n             // we know the exact size required for the block\n             BlockBuilder blockBuilder = BOOLEAN.createFixedSizeBlockBuilder(inputPage.getPositionCount());\n \n-            Page probeJoinPage = new Page(inputPage.getBlock(probeJoinChannel));\n+            Page probeJoinPage = inputPage.getColumns(probeJoinChannel);", "originalCommit": "c2dc995b4e1467a48ed23f1ccc18313ff56f076b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAxMzIwMQ==", "url": "https://github.com/trinodb/trino/pull/5218#discussion_r492013201", "bodyText": "I thought about that but wanted to overload the varargs method so that single column extraction didn\u2019t accidentally incur the temporary array cost. I could also add a getColumn version of the same thing but would still advocate for the single int overload to make sure accidental usage of the varargs version with a single argument doesn\u2019t incur the temporary array cost. Thoughts?", "author": "pettyjamesm", "createdAt": "2020-09-21T12:42:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg3OTk0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjA5MjAzMw==", "url": "https://github.com/trinodb/trino/pull/5218#discussion_r492092033", "bodyText": "Yes. That makes sense. Thank you.", "author": "sopel39", "createdAt": "2020-09-21T14:27:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg3OTk0Ng=="}], "type": "inlineReview"}]}