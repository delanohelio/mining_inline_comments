{"pr_number": 718, "pr_title": "PUT /users/{userId} to update email and/or status with integration tests", "pr_createdAt": "2020-08-02T14:18:34Z", "pr_url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718", "timeline": [{"oid": "6f3f31d1fd11663ac56a58cffc6ac1535ae4f919", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6f3f31d1fd11663ac56a58cffc6ac1535ae4f919", "message": "PATCH /users/{userId} to update email and/or status with integration tests\n\nPATCH /users/{userId} to update email and/or status with integration tests.\nRemoved unused validator class.", "committedDate": "2020-08-02T14:15:47Z", "type": "commit"}, {"oid": "58a96ec9448ff2985e771b04486573f0a9af4b7e", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/58a96ec9448ff2985e771b04486573f0a9af4b7e", "message": "Generate & Update TempRegId if status is ACTIVE, fixed failed tests.\n\nGenerate & Update TempRegId if status is ACTIVE, fixed failed tests.", "committedDate": "2020-08-03T05:57:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcxMjQwNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#discussion_r464712406", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                logger.entry(\"begin updateUser()\");\n          \n          \n            \n                logger.entry(\"begin updateEmailStatusAndTempRegId()\");", "author": "saminguyen", "createdAt": "2020-08-03T23:23:22Z", "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/UserServiceImpl.java", "diffHunk": "@@ -240,4 +245,30 @@ private ErrorCode validateChangePasswordRequest(\n     logger.entry(\"begin findUserByTempRegId()\");\n     return repository.findByTempRegId(tempRegId);\n   }\n+\n+  @Override\n+  @Transactional\n+  public UpdateEmailStatusResponse updateEmailStatusAndTempRegId(\n+      UpdateEmailStatusRequest userRequest) throws JsonProcessingException {\n+    logger.entry(\"begin updateUser()\");", "originalCommit": "58a96ec9448ff2985e771b04486573f0a9af4b7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc5NTEwNg==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#discussion_r464795106", "bodyText": "Fixed the review comment", "author": "dhanyak-btc", "createdAt": "2020-08-04T04:40:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcxMjQwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcxNDk5Mw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#discussion_r464714993", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              UPDATE_USER_DETAILS(HttpStatus.OK, \"MSG-0004\", \"User details successfully updated.\");\n          \n          \n            \n              UPDATE_USER_DETAILS_SUCCESS(HttpStatus.OK, \"MSG-0004\", \"User details successfully updated.\");", "author": "saminguyen", "createdAt": "2020-08-03T23:31:58Z", "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/MessageCode.java", "diffHunk": "@@ -29,7 +29,9 @@\n       HttpStatus.OK, \"MSG-0002\", \"Your password has been changed successfully!\"),\n \n   EMAIL_ACCEPTED_BY_MAIL_SERVER(\n-      HttpStatus.ACCEPTED, \"MSG-0003\", \"The email is accepted by the receiving mail server.\");\n+      HttpStatus.ACCEPTED, \"MSG-0003\", \"The email is accepted by the receiving mail server.\"),\n+\n+  UPDATE_USER_DETAILS(HttpStatus.OK, \"MSG-0004\", \"User details successfully updated.\");", "originalCommit": "58a96ec9448ff2985e771b04486573f0a9af4b7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc5NTEzNw==", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#discussion_r464795137", "bodyText": "Fixed the review comment", "author": "dhanyak-btc", "createdAt": "2020-08-04T04:40:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcxNDk5Mw=="}], "type": "inlineReview"}, {"oid": "8a8331acfa4f61ae493823b0d0a7e182ef13e280", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/8a8331acfa4f61ae493823b0d0a7e182ef13e280", "message": "Fixed PR 617 review comments\n\nFixed PR 617 review comments", "committedDate": "2020-08-04T04:40:22Z", "type": "commit"}, {"oid": "6179d7e2249183e92dcc0802be48389ac0140962", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6179d7e2249183e92dcc0802be48389ac0140962", "message": "Replaced PATCH with PUT to fix an error\n\nReplaced PATCH with PUT to fix an error", "committedDate": "2020-08-04T10:39:54Z", "type": "commit"}, {"oid": "b6c1df96f6069e08a5e422fed3ec67132d733aec", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b6c1df96f6069e08a5e422fed3ec67132d733aec", "message": "Merge branch 'develop' into oauth_scim_update_email_status", "committedDate": "2020-08-04T14:07:15Z", "type": "commit"}, {"oid": "a29cd71925df6e0330d03264ef064e3f72d12251", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a29cd71925df6e0330d03264ef064e3f72d12251", "message": "Removed @TestMethodOrder(OrderAnnotation.class)\n\nRemoved @TestMethodOrder(OrderAnnotation.class)", "committedDate": "2020-08-05T06:24:36Z", "type": "commit"}, {"oid": "c030799f22b136674386a5c65e2d36af43c4e59b", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c030799f22b136674386a5c65e2d36af43c4e59b", "message": "Added logger statement to analyze build issue\n\nAdded logger statement to analyze build issue", "committedDate": "2020-08-05T14:36:42Z", "type": "commit"}, {"oid": "3cbe817f0ac3630e750f6a6ccffb44445a0edcbc", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3cbe817f0ac3630e750f6a6ccffb44445a0edcbc", "message": "Added JsonNodeConverter to fix the build issue\n\nAdded JsonNodeConverter to fix below exception:\n\n2020-08-05T14:38:18.2195379Z java.lang.NullPointerException: null\n2020-08-05T14:38:18.2196141Z \tat com.google.cloud.healthcare.fdamystudies.common.JsonUtils.getTextValue(JsonUtils.java:52) ~[common-service.jar:0.0.1-SNAPSHOT]\n2020-08-05T14:38:18.2197439Z \tat com.google.cloud.healthcare.fdamystudies.oauthscim.service.UserServiceImpl.authenticate(UserServiceImpl.java:292) ~[classes/:na]", "committedDate": "2020-08-06T02:29:08Z", "type": "commit"}, {"oid": "9a4bf07e7dc098e2bf69710aa0ed900b6f73c91a", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9a4bf07e7dc098e2bf69710aa0ed900b6f73c91a", "message": "Removed duplicate commons-lang3 dependency from pom.xml\n\nTo fix below WARNING message\n\n2020-08-06T02:29:58.9360492Z [WARNING] Some problems were encountered while building the effective model for com.google.cloud.healthcare.fdamystudies:common-service:jar:0.0.1-SNAPSHOT\n2020-08-06T02:29:58.9364779Z [WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.commons:commons-lang3:jar -> duplicate declaration of version (?) @ line 83, column 15\n2020-08-06T02:29:58.9365364Z [WARNING]\n2020-08-06T02:29:58.9366239Z [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n2020-08-06T02:29:58.9366697Z [WARNING]\n2020-08-06T02:29:58.9368737Z [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.", "committedDate": "2020-08-06T05:09:53Z", "type": "commit"}, {"oid": "ab941ca63711573660bfdcfe5f3b30166262627c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ab941ca63711573660bfdcfe5f3b30166262627c", "message": "Added logger statements to analyze build issue\n\nAdded logger statements to analyze build issue", "committedDate": "2020-08-06T06:00:37Z", "type": "commit"}, {"oid": "e0140d79416bc987d87f96b1d98823a083eed07c", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e0140d79416bc987d87f96b1d98823a083eed07c", "message": "Added @AfterEach cleanUp()\n\nAdded @AfterEach cleanUp()", "committedDate": "2020-08-06T06:07:31Z", "type": "commit"}, {"oid": "10dfb9ba7db9d665ac7b71dcf4403a3a50c1a7fa", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/10dfb9ba7db9d665ac7b71dcf4403a3a50c1a7fa", "message": "Removed debug logger statements\n\nRemoved debug logger statements", "committedDate": "2020-08-06T06:32:35Z", "type": "commit"}, {"oid": "2f47a79849cacdb38e4ea50b4ad9bbc9f073cf8f", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2f47a79849cacdb38e4ea50b4ad9bbc9f073cf8f", "message": "Merge branch 'develop' into oauth_scim_update_email_status", "committedDate": "2020-08-06T06:36:36Z", "type": "commit"}, {"oid": "65695583d867f8d1cd6e14b008648ea2e22667af", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/65695583d867f8d1cd6e14b008648ea2e22667af", "message": "Merge branch 'develop' into oauth_scim_update_email_status", "committedDate": "2020-08-07T19:41:21Z", "type": "commit"}, {"oid": "52f4bfdb5b7fdbb23bf9d36c6f9110b21b943318", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/52f4bfdb5b7fdbb23bf9d36c6f9110b21b943318", "message": "Merge branch 'develop' into oauth_scim_update_email_status", "committedDate": "2020-08-10T05:35:49Z", "type": "commit"}]}