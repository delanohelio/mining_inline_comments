{"pr_number": 2279, "pr_title": "ZK-4678: mobile touch-drag window causing console errors", "pr_createdAt": "2020-11-26T02:00:47Z", "pr_url": "https://github.com/zkoss/zk/pull/2279", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg4MTI3NQ==", "url": "https://github.com/zkoss/zk/pull/2279#discussion_r530881275", "bodyText": "also test the window was actually moved by 100px (and not the page was scrolled)\nfor this make the underlying page larger than 100% so scrolling can occur.\nthen dragging should only move the window but not the page scrollbar", "author": "cor3000", "createdAt": "2020-11-26T09:19:41Z", "path": "zktest/test/java/org/zkoss/zktest/zats/test2/B95_ZK_4678Test.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/* B95_ZK_4678Test.java\n+\n+\tPurpose:\n+\t\t\n+\tDescription:\n+\t\t\n+\tHistory:\n+\t\tWed Nov 25 18:32:48 CST 2020, Created by rudyhuang\n+\n+Copyright (C) 2020 Potix Corporation. All Rights Reserved.\n+*/\n+package org.zkoss.zktest.zats.test2;\n+\n+import java.util.Collections;\n+\n+import org.junit.Test;\n+import org.openqa.selenium.chrome.ChromeOptions;\n+\n+import org.zkoss.zktest.zats.WebDriverTestCase;\n+\n+/**\n+ * @author rudyhuang\n+ */\n+public class B95_ZK_4678Test extends WebDriverTestCase {\n+\t@Override\n+\tprotected ChromeOptions getWebDriverOptions() {\n+\t\treturn super.getWebDriverOptions()\n+\t\t\t\t.setExperimentalOption(\"mobileEmulation\", Collections.singletonMap(\"deviceName\", \"iPad\"));\n+\t}\n+\n+\t@Test\n+\tpublic void test() {\n+\t\tconnect();\n+\n+\t\tclick(jq(\"@button\"));\n+\t\twaitResponse();\n+\n+\t\tgetActions()\n+\t\t\t\t.dragAndDropBy(toElement(jq(\".z-window-header-move\")), 0, 100)\n+\t\t\t\t.perform();\n+\t\tassertNoJSError();", "originalCommit": "d9c70c637cd2db6f80cd5e8d105c7a6bbfebe7e9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "23e178f0b7305498d240d889d0c754d8d35e2fa4", "url": "https://github.com/zkoss/zk/commit/23e178f0b7305498d240d889d0c754d8d35e2fa4", "message": "ZK-4678: mobile touch-drag window causing console error", "committedDate": "2020-11-27T07:17:08Z", "type": "forcePushed"}, {"oid": "67f3cbe80727aaf74f35992c7f28f3c7c8013ae5", "url": "https://github.com/zkoss/zk/commit/67f3cbe80727aaf74f35992c7f28f3c7c8013ae5", "message": "ZK-4678: mobile touch-drag window causing console error", "committedDate": "2020-11-27T07:36:43Z", "type": "commit"}, {"oid": "67f3cbe80727aaf74f35992c7f28f3c7c8013ae5", "url": "https://github.com/zkoss/zk/commit/67f3cbe80727aaf74f35992c7f28f3c7c8013ae5", "message": "ZK-4678: mobile touch-drag window causing console error", "committedDate": "2020-11-27T07:36:43Z", "type": "forcePushed"}]}