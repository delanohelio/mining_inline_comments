{"pr_number": 2051, "pr_title": "refine ZK-4552 (remove UIManager)", "pr_createdAt": "2020-07-10T08:49:02Z", "pr_url": "https://github.com/zkoss/zk/pull/2051", "timeline": [{"oid": "582bb2a2f6f5b1624e4d11cc3b2dbc2389e63211", "url": "https://github.com/zkoss/zk/commit/582bb2a2f6f5b1624e4d11cc3b2dbc2389e63211", "message": "refine ZK-4552 (remove UIManager, add selector support)", "committedDate": "2020-07-10T08:50:58Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjc0ODU2Mg==", "url": "https://github.com/zkoss/zk/pull/2051#discussion_r452748562", "bodyText": "add all String version of Component methods\nextract selector to component", "author": "scribetw", "createdAt": "2020-07-10T10:01:03Z", "path": "zk/src/org/zkoss/zk/ui/util/Clients.java", "diffHunk": "@@ -613,4 +617,40 @@ public static final void syncErrorbox() {\n \tpublic static final void syncErrorbox(Component component) {\n \t\tresponse(new AuSyncErrorbox(component));\n \t}\n+\n+\t/**\n+\t * Focus the component (HtmlBasedComponent)\n+\t * @param component target component\n+\t * @since 9.5.0\n+\t */\n+\tpublic static final void focus(Component component) {\n+\t\tif (component instanceof HtmlBasedComponent)\n+\t\t\t((HtmlBasedComponent) component).focus();\n+\t}\n+\n+\t/**\n+\t * Focus the first matching component (HtmlBasedComponent) by using selector\n+\t * @param selector the selector string\n+\t * @since 9.5.0\n+\t */\n+\tpublic static final void focus(String selector) {\n+\t\tList<Component> comps = Selectors.find(Executions.getCurrent().getDesktop().getFirstPage(), selector);\n+\t\tif (comps.size() > 0)\n+\t\t\tfocus(comps.get(0));\n+\t\telse\n+\t\t\tthrow new UiException(\"Component not found by the selector: \" + selector);\n+\t}\n+\n+\t/**\n+\t * Scrolls the ancestor elements to make the specified element visible by using selector\n+\t * @param selector the selector string\n+\t * @since 9.5.0\n+\t */\n+\tpublic static final void scrollIntoView(String selector) {", "originalCommit": "582bb2a2f6f5b1624e4d11cc3b2dbc2389e63211", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjc1MDc5Mg==", "url": "https://github.com/zkoss/zk/pull/2051#discussion_r452750792", "bodyText": "Test idspace issue (#win1 > btn, #win2 > btn)", "author": "scribetw", "createdAt": "2020-07-10T10:05:42Z", "path": "zktest/src/org/zkoss/zktest/test2/F95_ZK_4552ScrollVM.java", "diffHunk": "@@ -38,25 +37,26 @@ public void init() {\n \t\tlist.add(\"d\");\n \t\tlist.add(\"e\");\n \t\tlist.add(\"f\");\n-\t\tmanager = BindUtils.getUIManager(this);\n-\t\tmanager.scrollIntoView(text);\n \t}\n \n-\tprivate UIManager manager;\n+\t@AfterCompose\n+\tpublic void afterCompose() {\n+\t\tClients.scrollIntoView(\"#l2\");\n+\t}\n \n \tpublic void doScrollToTop() {\n \t\tClients.log(\"doScrollToTop!\");\n-\t\tmanager.scrollIntoView(label);\n+\t\tClients.scrollIntoView(\"#vm > div > label\");", "originalCommit": "582bb2a2f6f5b1624e4d11cc3b2dbc2389e63211", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e269cba993fff84983f1ba49a70efc4c625104cd", "url": "https://github.com/zkoss/zk/commit/e269cba993fff84983f1ba49a70efc4c625104cd", "message": "refine ZK-4552 (remove UIManager)", "committedDate": "2020-07-10T10:34:31Z", "type": "forcePushed"}, {"oid": "b5c6fb95df7eb0a733cd361e52f495c541095ab6", "url": "https://github.com/zkoss/zk/commit/b5c6fb95df7eb0a733cd361e52f495c541095ab6", "message": "refine ZK-4552 (remove UIManager)", "committedDate": "2020-07-10T10:40:29Z", "type": "forcePushed"}, {"oid": "be7549af508a98c10ba8bdbb5706e7d2f9c90625", "url": "https://github.com/zkoss/zk/commit/be7549af508a98c10ba8bdbb5706e7d2f9c90625", "message": "refine ZK-4552 (remove UIManager)", "committedDate": "2020-07-10T10:46:19Z", "type": "forcePushed"}, {"oid": "3e1a907b0d83520b7a6b0cde5dc14f70b4319864", "url": "https://github.com/zkoss/zk/commit/3e1a907b0d83520b7a6b0cde5dc14f70b4319864", "message": "refine ZK-4552 (remove UIManager)", "committedDate": "2020-07-10T10:56:45Z", "type": "commit"}, {"oid": "3e1a907b0d83520b7a6b0cde5dc14f70b4319864", "url": "https://github.com/zkoss/zk/commit/3e1a907b0d83520b7a6b0cde5dc14f70b4319864", "message": "refine ZK-4552 (remove UIManager)", "committedDate": "2020-07-10T10:56:45Z", "type": "forcePushed"}]}