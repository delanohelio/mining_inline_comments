{"pr_number": 2451, "pr_title": "Add some PostgreSQL compatibility features mentioned in issue #2450", "pr_createdAt": "2020-02-16T05:13:16Z", "pr_url": "https://github.com/h2database/h2database/pull/2451", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg3ODEzNw==", "url": "https://github.com/h2database/h2database/pull/2451#discussion_r379878137", "bodyText": "Please, merge changes from the master branch and use \"'off' SSL\" here.", "author": "katzyn", "createdAt": "2020-02-16T06:14:04Z", "path": "h2/src/main/org/h2/command/Parser.java", "diffHunk": "@@ -1568,6 +1568,9 @@ private Prepared parseShow() {\n         } else if (readIf(\"SERVER_ENCODING\")) {\n             // for PostgreSQL compatibility\n             buff.append(\"'UTF8' AS SERVER_ENCODING FROM DUAL\");\n+        } else if (readIf(\"SSL\")) {\n+            // for PostgreSQL compatibility\n+            buff.append(\"'off' AS SSL FROM DUAL\");", "originalCommit": "677fa595e7e120768a7a7351605eaad870f1d2d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg5NjIyNQ==", "url": "https://github.com/h2database/h2database/pull/2451#discussion_r379896225", "bodyText": "merged", "author": "auntyellow", "createdAt": "2020-02-16T11:37:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg3ODEzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg3ODI4NQ==", "url": "https://github.com/h2database/h2database/pull/2451#discussion_r379878285", "bodyText": "database.sysIdentifier() should be used here, but I'm not sure about the whole such replacement with this function. It doesn't have any real implementation and it isn't defined when PG server is not in use.", "author": "katzyn", "createdAt": "2020-02-16T06:17:08Z", "path": "h2/src/main/org/h2/command/Parser.java", "diffHunk": "@@ -4657,7 +4660,8 @@ private Expression readTerm() {\n                 read(DOT);\n             }\n             if (readIf(\"REGCLASS\")) {\n-                FunctionAlias f = findFunctionAlias(database.getMainSchema().getName(), \"PG_GET_OID\");\n+                FunctionAlias f = findFunctionAlias(database.getMainSchema().getName(),\n+                        identifiersToUpper ? \"PG_GET_OID\" : \"pg_get_oid\");", "originalCommit": "677fa595e7e120768a7a7351605eaad870f1d2d9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg5NjI3NQ==", "url": "https://github.com/h2database/h2database/pull/2451#discussion_r379896275", "bodyText": "fixed", "author": "auntyellow", "createdAt": "2020-02-16T11:38:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg3ODI4NQ=="}], "type": "inlineReview"}, {"oid": "be4a72e4ae268839ed2f3a67ccf26d3cc5b7d021", "url": "https://github.com/h2database/h2database/commit/be4a72e4ae268839ed2f3a67ccf26d3cc5b7d021", "message": "Add some PostgreSQL compatibility features mentioned in issue #2450\n\nSET client_min_messages\nSET client_encoding\nSHOW ssl\nset_config()\npg_relation_size()\nobj_description()\ncolumn \"pg_catalog\".\"proargtypes\"\n::regclass (use function alias \"pg_get_oid\" when DATABASE_TO_LOWER=TRUE)", "committedDate": "2020-02-16T11:24:18Z", "type": "commit"}, {"oid": "be4a72e4ae268839ed2f3a67ccf26d3cc5b7d021", "url": "https://github.com/h2database/h2database/commit/be4a72e4ae268839ed2f3a67ccf26d3cc5b7d021", "message": "Add some PostgreSQL compatibility features mentioned in issue #2450\n\nSET client_min_messages\nSET client_encoding\nSHOW ssl\nset_config()\npg_relation_size()\nobj_description()\ncolumn \"pg_catalog\".\"proargtypes\"\n::regclass (use function alias \"pg_get_oid\" when DATABASE_TO_LOWER=TRUE)", "committedDate": "2020-02-16T11:24:18Z", "type": "forcePushed"}]}