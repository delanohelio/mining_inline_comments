{"pr_number": 6956, "pr_title": "Shib attribute character set conversion enabled", "pr_createdAt": "2020-06-02T19:33:26Z", "pr_url": "https://github.com/IQSS/dataverse/pull/6956", "timeline": [{"oid": "affbf4fbeb511e0a8591348accdec51423e02d92", "url": "https://github.com/IQSS/dataverse/commit/affbf4fbeb511e0a8591348accdec51423e02d92", "message": "Merge pull request #6552 from IQSS/develop\n\nMerge v4.19 into master", "committedDate": "2020-01-21T21:09:02Z", "type": "commit"}, {"oid": "4e07b625ed585d2feb0ff44b9273c95746958476", "url": "https://github.com/IQSS/dataverse/commit/4e07b625ed585d2feb0ff44b9273c95746958476", "message": "Merge pull request #6788 from IQSS/develop\n\nv4.20", "committedDate": "2020-04-01T19:10:03Z", "type": "commit"}, {"oid": "0808d9b454674b172a906f55232c38bac7202798", "url": "https://github.com/IQSS/dataverse/commit/0808d9b454674b172a906f55232c38bac7202798", "message": "Convert shibboleth AJP attributes from ISO-8859-1 to UTF-8 if ShibAttributeCharacterSetConversionEnabled is true.\nintends to fix https://github.com/IQSS/dataverse/issues/6946", "committedDate": "2020-06-02T15:22:51Z", "type": "commit"}, {"oid": "ee7e94d97f3b606ae9cc68e7508f219f14754015", "url": "https://github.com/IQSS/dataverse/commit/ee7e94d97f3b606ae9cc68e7508f219f14754015", "message": "Convert shibboleth AJP attributes from ISO-8859-1 to UTF-8 if ShibAttributeCharacterSetConversionEnabled is true (now default).\nintends to fix https://github.com/IQSS/dataverse/issues/6946", "committedDate": "2020-06-02T19:24:42Z", "type": "commit"}, {"oid": "f4a399191511417b86ee5b431e2c75fb662c4fbe", "url": "https://github.com/IQSS/dataverse/commit/f4a399191511417b86ee5b431e2c75fb662c4fbe", "message": "Merge branch 'ShibAttributeCharacterSetConversionEnabled' into develop", "committedDate": "2020-06-02T19:26:58Z", "type": "commit"}, {"oid": "848ec6a8b57b1f5326f9e40d956f6a6ccb4a105a", "url": "https://github.com/IQSS/dataverse/commit/848ec6a8b57b1f5326f9e40d956f6a6ccb4a105a", "message": "Merge branch 'develop' into ShibAttributeCharacterSetConversionEnabled", "committedDate": "2020-06-02T19:35:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE1MDc0MA==", "url": "https://github.com/IQSS/dataverse/pull/6956#discussion_r434150740", "bodyText": "ShibAttributeCharacterSetConversionEnabled should be documented in https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/installation/config.rst", "author": "pdurbin", "createdAt": "2020-06-02T20:16:54Z", "path": "src/main/java/edu/harvard/iq/dataverse/settings/SettingsServiceBean.java", "diffHunk": "@@ -422,7 +422,13 @@ Whether Harvesting (OAI) service is enabled\n         /**\n          * Shibboleth affiliation attribute which holds information about the affiliation of the user (e.g. ou)\n          */\n-        ShibAffiliationAttribute\n+        ShibAffiliationAttribute,\n+        /*Convert shibboleth AJP attributes from ISO-8859-1 to UTF-8 */\n+        ShibAttributeCharacterSetConversionEnabled,", "originalCommit": "ee7e94d97f3b606ae9cc68e7508f219f14754015", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM2OTI2NQ==", "url": "https://github.com/IQSS/dataverse/pull/6956#discussion_r434369265", "bodyText": "I finished the documentation and cleaned up code formatting. I hope this will be OK.", "author": "pallinger", "createdAt": "2020-06-03T07:40:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE1MDc0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE1MDk3OQ==", "url": "https://github.com/IQSS/dataverse/pull/6956#discussion_r434150979", "bodyText": "Why was FileValidationOnPublishEnabled added? I'm confused.", "author": "pdurbin", "createdAt": "2020-06-02T20:17:21Z", "path": "src/main/java/edu/harvard/iq/dataverse/settings/SettingsServiceBean.java", "diffHunk": "@@ -422,7 +422,13 @@ Whether Harvesting (OAI) service is enabled\n         /**\n          * Shibboleth affiliation attribute which holds information about the affiliation of the user (e.g. ou)\n          */\n-        ShibAffiliationAttribute\n+        ShibAffiliationAttribute,\n+        /*Convert shibboleth AJP attributes from ISO-8859-1 to UTF-8 */\n+        ShibAttributeCharacterSetConversionEnabled,\n+        /**\n+         * Validate physical files for all the datafiles in the dataset when publishing\n+         */\n+        FileValidationOnPublishEnabled", "originalCommit": "ee7e94d97f3b606ae9cc68e7508f219f14754015", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM1MjM4Mw==", "url": "https://github.com/IQSS/dataverse/pull/6956#discussion_r434352383", "bodyText": "I may have forked from a different branch, where FileValidationOnPublishEnabled was there. I will try a new pull request if I cannot salvage this.", "author": "pallinger", "createdAt": "2020-06-03T07:08:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE1MDk3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDM2ODA1Ng==", "url": "https://github.com/IQSS/dataverse/pull/6956#discussion_r434368056", "bodyText": "I see that FileValidationOnPublishEnabled is in IQSS/develop already, not sure why the diff shows up that way.", "author": "pallinger", "createdAt": "2020-06-03T07:37:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE1MDk3OQ=="}], "type": "inlineReview"}, {"oid": "336f802846996a1b11a99a7d7d86708c2d44956f", "url": "https://github.com/IQSS/dataverse/commit/336f802846996a1b11a99a7d7d86708c2d44956f", "message": "Merge remote-tracking branch 'iqss/develop' into develop", "committedDate": "2020-06-03T07:10:25Z", "type": "commit"}, {"oid": "8e36e1fc0c77d3bf7c1da65fefa3e9b1cf03d1b6", "url": "https://github.com/IQSS/dataverse/commit/8e36e1fc0c77d3bf7c1da65fefa3e9b1cf03d1b6", "message": "Merge branch 'develop' into ShibAttributeCharacterSetConversionEnabled", "committedDate": "2020-06-03T07:13:02Z", "type": "commit"}, {"oid": "97634050e256521089aa8499d677327e04414dfb", "url": "https://github.com/IQSS/dataverse/commit/97634050e256521089aa8499d677327e04414dfb", "message": "code formatting cleanup and documentation for ShibAttributeCharacterSetConversionEnabled", "committedDate": "2020-06-03T07:35:43Z", "type": "commit"}, {"oid": "6ee3681f8990caf48f1db4dbe3221e487b967708", "url": "https://github.com/IQSS/dataverse/commit/6ee3681f8990caf48f1db4dbe3221e487b967708", "message": "fix documentation for ShibAttributeCharacterSetConversionEnabled\n\n- move section above an unrelated anchor\r\n- rename Glassfish to something more generic", "committedDate": "2020-06-04T08:51:18Z", "type": "commit"}, {"oid": "fd4b1602aff9297112fe486157cbe0f3326a34c6", "url": "https://github.com/IQSS/dataverse/commit/fd4b1602aff9297112fe486157cbe0f3326a34c6", "message": "release notes for https://github.com/IQSS/dataverse/pull/6956", "committedDate": "2020-06-04T09:04:50Z", "type": "commit"}]}