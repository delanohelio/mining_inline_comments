{"pr_number": 7447, "pr_title": "7398 saved search performance", "pr_createdAt": "2020-12-01T22:19:34Z", "pr_url": "https://github.com/IQSS/dataverse/pull/7447", "timeline": [{"oid": "fb730ea177ec4fdcf33b8c1e53b3678a54acb203", "url": "https://github.com/IQSS/dataverse/commit/fb730ea177ec4fdcf33b8c1e53b3678a54acb203", "message": "adding release note about optimization", "committedDate": "2020-12-01T19:54:38Z", "type": "commit"}, {"oid": "6caeef67b3002fc52e72f5c0fbfa3316777de975", "url": "https://github.com/IQSS/dataverse/commit/6caeef67b3002fc52e72f5c0fbfa3316777de975", "message": "performance tweak for saved search (reduce queries) and code cleanup", "committedDate": "2020-12-01T22:10:31Z", "type": "commit"}, {"oid": "cc62a8ffa49ff7ff658efaf5c89db5f1517266a6", "url": "https://github.com/IQSS/dataverse/commit/cc62a8ffa49ff7ff658efaf5c89db5f1517266a6", "message": "Merge origin/7398-saved-search-performance into 7398-saved-search-performance", "committedDate": "2020-12-01T22:11:21Z", "type": "commit"}, {"oid": "b016574a6853470570d292d6778daf7d6395fae8", "url": "https://github.com/IQSS/dataverse/commit/b016574a6853470570d292d6778daf7d6395fae8", "message": "Delete 7398-saved-search-optimization.md", "committedDate": "2020-12-01T22:17:29Z", "type": "commit"}, {"oid": "275d9d4af4883395e528494520f4d0fe22d05883", "url": "https://github.com/IQSS/dataverse/commit/275d9d4af4883395e528494520f4d0fe22d05883", "message": "accidentally checked in \"debug\" schedule", "committedDate": "2020-12-02T03:52:55Z", "type": "commit"}, {"oid": "acedfa2f9359a54e39c74ba2d6f5deb92476e564", "url": "https://github.com/IQSS/dataverse/commit/acedfa2f9359a54e39c74ba2d6f5deb92476e564", "message": "Merge branch 'develop' into 7398-saved-search-performance", "committedDate": "2020-12-02T14:34:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDI5ODUzNw==", "url": "https://github.com/IQSS/dataverse/pull/7447#discussion_r534298537", "bodyText": "Any reason this wasn't added as a named query?", "author": "sekmiller", "createdAt": "2020-12-02T16:19:54Z", "path": "src/main/java/edu/harvard/iq/dataverse/DatasetLinkingServiceBean.java", "diffHunk": "@@ -60,31 +42,15 @@\n \n     public List<Dataverse> findLinkingDataverses(Long datasetId) {\n         List<Dataverse> retList = new ArrayList<>();\n-        for (DatasetLinkingDataverse dld : findDatasetLinkingDataverses(datasetId)) {\n-            retList.add(dld.getLinkingDataverse());\n+        Query query = em.createQuery(\"select object(o) from DatasetLinkingDataverse as o where o.dataset.id =:datasetId order by o.id\");", "originalCommit": "acedfa2f9359a54e39c74ba2d6f5deb92476e564", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDI5OTc2Nw==", "url": "https://github.com/IQSS/dataverse/pull/7447#discussion_r534299767", "bodyText": "No, just because I was only changing the ones related specifically to saved search. I did think about it. And sure, I can add the others too, while I'm at it.", "author": "scolapasta", "createdAt": "2020-12-02T16:21:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDI5ODUzNw=="}], "type": "inlineReview"}, {"oid": "13443b48b38cbc1995af0a2b4406154bbb51264f", "url": "https://github.com/IQSS/dataverse/commit/13443b48b38cbc1995af0a2b4406154bbb51264f", "message": "some more cleaned up - namely some more Named Queries", "committedDate": "2020-12-02T17:10:13Z", "type": "commit"}]}