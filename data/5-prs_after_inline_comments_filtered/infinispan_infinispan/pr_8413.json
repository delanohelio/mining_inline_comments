{"pr_number": 8413, "pr_title": "ISPN-11891 MassIndexingTest#testOverlappingMassIndexers failures", "pr_createdAt": "2020-05-30T08:24:54Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8413", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODQyMg==", "url": "https://github.com/infinispan/infinispan/pull/8413#discussion_r432828422", "bodyText": "This change is no-op @gustavonalle . Are you sure you actually wrote what you intended?", "author": "anistor", "createdAt": "2020-05-30T10:01:07Z", "path": "query/src/test/java/org/infinispan/query/distributed/MassIndexingTest.java", "diffHunk": "@@ -73,7 +73,7 @@ public void testOverlappingMassIndexers() {\n \n       latch.countDown();\n \n-      assertTrue(isSuccess(first) && isError(second) || isError(first) && isSuccess(second));\n+      assertTrue(isSuccess(second) && isError(first) || isSuccess(first) && isError(second));", "originalCommit": "661215a918a6ee5406c56bd376607f839ee27458", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg2MjkzNA==", "url": "https://github.com/infinispan/infinispan/pull/8413#discussion_r432862934", "bodyText": "This will reproduce the failure much easier, as there is only a small probability that the first indexer will not be executed", "author": "gustavonalle", "createdAt": "2020-05-30T15:17:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODQyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODQ2OA==", "url": "https://github.com/infinispan/infinispan/pull/8413#discussion_r432828468", "bodyText": "Why not catch Throwable ? I have strange gut feelings for Error", "author": "anistor", "createdAt": "2020-05-30T10:01:57Z", "path": "query/src/test/java/org/infinispan/query/distributed/MassIndexingTest.java", "diffHunk": "@@ -96,7 +96,7 @@ public boolean isSuccess(CompletionStage<Void> future) {\n       try {\n          FunctionalTestUtils.await(future);\n          return true;\n-      } catch (Exception e) {\n+      } catch (Error e) {", "originalCommit": "661215a918a6ee5406c56bd376607f839ee27458", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODY4Ng==", "url": "https://github.com/infinispan/infinispan/pull/8413#discussion_r432828686", "bodyText": "From the Error javadoc:  \"An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch.\"  But tests are usually unreasonable applications because they are supposed to break and burn. :)", "author": "anistor", "createdAt": "2020-05-30T10:05:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODQ2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg2Mzk4Nw==", "url": "https://github.com/infinispan/infinispan/pull/8413#discussion_r432863987", "bodyText": "Throwable works too. Changed.", "author": "gustavonalle", "createdAt": "2020-05-30T15:30:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODQ2OA=="}], "type": "inlineReview"}, {"oid": "342b06a028202252e863b4cde28d58d6fe403e82", "url": "https://github.com/infinispan/infinispan/commit/342b06a028202252e863b4cde28d58d6fe403e82", "message": "ISPN-11891 Fix test error handling", "committedDate": "2020-05-30T15:29:29Z", "type": "commit"}, {"oid": "342b06a028202252e863b4cde28d58d6fe403e82", "url": "https://github.com/infinispan/infinispan/commit/342b06a028202252e863b4cde28d58d6fe403e82", "message": "ISPN-11891 Fix test error handling", "committedDate": "2020-05-30T15:29:29Z", "type": "forcePushed"}]}