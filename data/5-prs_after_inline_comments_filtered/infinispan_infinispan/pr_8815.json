{"pr_number": 8815, "pr_title": "ISPN-11797 Introduce strong typed indexing configuration", "pr_createdAt": "2020-10-27T16:52:56Z", "pr_url": "https://github.com/infinispan/infinispan/pull/8815", "timeline": [{"oid": "1a9ec68932cbe04ca7b86eefb02d56a96bdc999b", "url": "https://github.com/infinispan/infinispan/commit/1a9ec68932cbe04ca7b86eefb02d56a96bdc999b", "message": "ISPN-11797 Add storage configuration properties", "committedDate": "2020-10-29T13:29:39Z", "type": "forcePushed"}, {"oid": "4f55884a5edffb72e3b54d872d4a3c620c357451", "url": "https://github.com/infinispan/infinispan/commit/4f55884a5edffb72e3b54d872d4a3c620c357451", "message": "ISPN-11797 Add index reader configuration", "committedDate": "2020-10-29T20:47:23Z", "type": "forcePushed"}, {"oid": "d26c45b8c7264b5af5b1defded614c9d3b6f7a68", "url": "https://github.com/infinispan/infinispan/commit/d26c45b8c7264b5af5b1defded614c9d3b6f7a68", "message": "ISPN-11797 Add index writer attributes", "committedDate": "2020-11-06T13:28:00Z", "type": "forcePushed"}, {"oid": "f668ba8d74382c472dcc0a06552849dc60d57b99", "url": "https://github.com/infinispan/infinispan/commit/f668ba8d74382c472dcc0a06552849dc60d57b99", "message": "ISPN-11797 Introduce strong typed indexing configuration", "committedDate": "2020-11-10T14:22:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY4NTM3Mg==", "url": "https://github.com/infinispan/infinispan/pull/8815#discussion_r528685372", "bodyText": "FWIW, constants are available in Hibernate Search: see org.hibernate.search.backend.lucene.cfg.LuceneIndexSettings.\nSimilarly, for backend-level settings: org.hibernate.search.backend.lucene.cfg.LuceneBackendSettings.", "author": "yrodiere", "createdAt": "2020-11-23T12:59:32Z", "path": "core/src/main/java/org/infinispan/configuration/cache/IndexMergeConfigurationBuilder.java", "diffHunk": "@@ -0,0 +1,167 @@\n+package org.infinispan.configuration.cache;\n+\n+\n+import static org.infinispan.configuration.cache.IndexMergeConfiguration.CALIBRATE_BY_DELETES;\n+import static org.infinispan.configuration.cache.IndexMergeConfiguration.FACTOR;\n+import static org.infinispan.configuration.cache.IndexMergeConfiguration.MAX_DOCS;\n+import static org.infinispan.configuration.cache.IndexMergeConfiguration.MAX_FORCED_SIZE;\n+import static org.infinispan.configuration.cache.IndexMergeConfiguration.MAX_SIZE;\n+import static org.infinispan.configuration.cache.IndexMergeConfiguration.MIN_SIZE;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.infinispan.commons.configuration.Builder;\n+import org.infinispan.commons.configuration.ConfigurationBuilderInfo;\n+import org.infinispan.commons.configuration.attributes.Attribute;\n+import org.infinispan.commons.configuration.attributes.AttributeSet;\n+import org.infinispan.commons.configuration.elements.ElementDefinition;\n+import org.infinispan.configuration.global.GlobalConfiguration;\n+\n+/**\n+ * @since 12.0\n+ */\n+public class IndexMergeConfigurationBuilder extends AbstractIndexingConfigurationChildBuilder\n+      implements Builder<IndexMergeConfiguration>, ConfigurationBuilderInfo {\n+\n+   private static final String KEY_PREFIX = \"hibernate.search.backend.io.merge\";\n+   private static final String MAX_DOCS_KEY = KEY_PREFIX + \".max_docs\";\n+   private static final String FACTOR_KEY = KEY_PREFIX + \".factor\";\n+   private static final String MIN_SIZE_KEY = KEY_PREFIX + \".min_size\";\n+   private static final String MAX_SIZE_KEY = KEY_PREFIX + \".max_size\";\n+   private static final String MAX_FORCED_SIZE_KEY = KEY_PREFIX + \".max_forced_size\";\n+   private static final String CALIBRATE_BY_DELETES_KEY = KEY_PREFIX + \".calibrate_by_deletes\";", "originalCommit": "f668ba8d74382c472dcc0a06552849dc60d57b99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODcxNzQ3MQ==", "url": "https://github.com/infinispan/infinispan/pull/8815#discussion_r528717471", "bodyText": "Unfortunately I can't use them here, as core does not depend on Hibernate Search", "author": "gustavonalle", "createdAt": "2020-11-23T13:52:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODY4NTM3Mg=="}], "type": "inlineReview"}, {"oid": "bafaf419007a77904384b2aa9d06ee055c05f24f", "url": "https://github.com/infinispan/infinispan/commit/bafaf419007a77904384b2aa9d06ee055c05f24f", "message": "ISPN-11797 Introduce strong typed indexing configuration", "committedDate": "2020-11-24T09:27:16Z", "type": "forcePushed"}, {"oid": "9e658f1f3af0651ac4777319ca9ef3c57f79e264", "url": "https://github.com/infinispan/infinispan/commit/9e658f1f3af0651ac4777319ca9ef3c57f79e264", "message": "ISPN-11797 Introduce strong typed indexing configuration", "committedDate": "2020-11-27T10:15:40Z", "type": "commit"}, {"oid": "9e658f1f3af0651ac4777319ca9ef3c57f79e264", "url": "https://github.com/infinispan/infinispan/commit/9e658f1f3af0651ac4777319ca9ef3c57f79e264", "message": "ISPN-11797 Introduce strong typed indexing configuration", "committedDate": "2020-11-27T10:15:40Z", "type": "forcePushed"}, {"oid": "03a2218232903378f8e3e20d1d780d8ce59e1c05", "url": "https://github.com/infinispan/infinispan/commit/03a2218232903378f8e3e20d1d780d8ce59e1c05", "message": "ISPN-11797 Fixed typo", "committedDate": "2020-11-27T13:46:18Z", "type": "commit"}]}