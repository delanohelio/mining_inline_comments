{"pr_number": 8456, "pr_title": "Bael 3596 asynchronous method calls in java", "pr_createdAt": "2020-01-01T14:18:44Z", "pr_url": "https://github.com/eugenp/tutorials/pull/8456", "timeline": [{"oid": "ac28b1ff10d9755efd5f543220613998ae4bef66", "url": "https://github.com/eugenp/tutorials/commit/ac28b1ff10d9755efd5f543220613998ae4bef66", "message": "Initial Commit", "committedDate": "2019-12-19T09:29:19Z", "type": "commit"}, {"oid": "363924a9db9ea63e11876d62752372d7d831ca44", "url": "https://github.com/eugenp/tutorials/commit/363924a9db9ea63e11876d62752372d7d831ca44", "message": "BAEL-3596 -\tAsynchronous Method Calls in Java", "committedDate": "2020-01-01T14:00:57Z", "type": "commit"}, {"oid": "af6ed25661b51af5ddfd2c09a2b0736254d88fd1", "url": "https://github.com/eugenp/tutorials/commit/af6ed25661b51af5ddfd2c09a2b0736254d88fd1", "message": "space instead of tab", "committedDate": "2020-01-01T14:04:42Z", "type": "commit"}, {"oid": "fd9d8e7d7a1d12cf0bbfdaeef2625c90fda0e88f", "url": "https://github.com/eugenp/tutorials/commit/fd9d8e7d7a1d12cf0bbfdaeef2625c90fda0e88f", "message": "added java-async to the pom.xml", "committedDate": "2020-01-01T14:14:06Z", "type": "commit"}, {"oid": "a4ae00f89d95347187556cf6f8e09789b7c256a2", "url": "https://github.com/eugenp/tutorials/commit/a4ae00f89d95347187556cf6f8e09789b7c256a2", "message": "Merge branch 'BAEL-3596_Asynchronous_Method_Calls_in_Java' of https://github.com/SmartyAnsh/tutorials into BAEL-3596_Asynchronous_Method_Calls_in_Java", "committedDate": "2020-01-01T14:16:58Z", "type": "commit"}, {"oid": "376da8c5fe741cbebe42bc4ee4ad9c1779de9a79", "url": "https://github.com/eugenp/tutorials/commit/376da8c5fe741cbebe42bc4ee4ad9c1779de9a79", "message": "code indentation", "committedDate": "2020-01-01T14:17:46Z", "type": "commit"}, {"oid": "6eb71d635261664e6b5a866db8239a32a85bb709", "url": "https://github.com/eugenp/tutorials/commit/6eb71d635261664e6b5a866db8239a32a85bb709", "message": "Update pom.xml", "committedDate": "2020-01-01T14:19:37Z", "type": "commit"}, {"oid": "98d6761182609841809a7fd6b14ed923ebd8498e", "url": "https://github.com/eugenp/tutorials/commit/98d6761182609841809a7fd6b14ed923ebd8498e", "message": "Merge branch 'master' into BAEL-3596_Asynchronous_Method_Calls_in_Java", "committedDate": "2020-01-03T11:56:41Z", "type": "commit"}, {"oid": "68f1d6a31f7af7bac3242d0087248f0a5b56561e", "url": "https://github.com/eugenp/tutorials/commit/68f1d6a31f7af7bac3242d0087248f0a5b56561e", "message": "resolved conflict", "committedDate": "2020-01-03T12:05:06Z", "type": "commit"}, {"oid": "31daaa0d3c8e310b3cba5ba2c6c7d9afb065af79", "url": "https://github.com/eugenp/tutorials/commit/31daaa0d3c8e310b3cba5ba2c6c7d9afb065af79", "message": "resolved conflict", "committedDate": "2020-01-03T12:06:34Z", "type": "commit"}, {"oid": "654bb1f934fef5a3427a4cd9b626acbaf970b64f", "url": "https://github.com/eugenp/tutorials/commit/654bb1f934fef5a3427a4cd9b626acbaf970b64f", "message": "pom.xml merged", "committedDate": "2020-01-03T12:07:40Z", "type": "commit"}, {"oid": "54877db65f4cc1393d1ed91250f112535fe40b30", "url": "https://github.com/eugenp/tutorials/commit/54877db65f4cc1393d1ed91250f112535fe40b30", "message": "BAEL-3596 - code moved to core-java-concurrency-advanced-3", "committedDate": "2020-01-04T12:37:34Z", "type": "commit"}, {"oid": "9234115078c9b55369808e9233aebb9b96a17732", "url": "https://github.com/eugenp/tutorials/commit/9234115078c9b55369808e9233aebb9b96a17732", "message": "code indentation", "committedDate": "2020-01-04T12:38:39Z", "type": "commit"}, {"oid": "b5613452301aa22b33b0146d10874a0b643e5272", "url": "https://github.com/eugenp/tutorials/commit/b5613452301aa22b33b0146d10874a0b643e5272", "message": "Code indentation", "committedDate": "2020-01-04T12:41:27Z", "type": "commit"}, {"oid": "064afc99b86261f95f4818c0eb7ed8814df1039d", "url": "https://github.com/eugenp/tutorials/commit/064afc99b86261f95f4818c0eb7ed8814df1039d", "message": "pom.xml code indentation", "committedDate": "2020-01-04T12:42:04Z", "type": "commit"}, {"oid": "8622fd2ba753ad40b353ae643f51a1400b23641f", "url": "https://github.com/eugenp/tutorials/commit/8622fd2ba753ad40b353ae643f51a1400b23641f", "message": "pom.xml code indentation", "committedDate": "2020-01-04T12:49:57Z", "type": "commit"}, {"oid": "a8e6c49a12db5991940fe9fcea5850d335bf8f27", "url": "https://github.com/eugenp/tutorials/commit/a8e6c49a12db5991940fe9fcea5850d335bf8f27", "message": "4 spaces code indentation", "committedDate": "2020-01-04T12:57:29Z", "type": "commit"}, {"oid": "1d6347faa3f89482dfe4c604702f1c65c3232fa4", "url": "https://github.com/eugenp/tutorials/commit/1d6347faa3f89482dfe4c604702f1c65c3232fa4", "message": "organized imports", "committedDate": "2020-01-04T12:59:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1ODUyNg==", "url": "https://github.com/eugenp/tutorials/pull/8456#discussion_r363158526", "bodyText": "remove this extra line", "author": "eric-martin", "createdAt": "2020-01-06T04:58:07Z", "path": "core-java-modules/core-java-concurrency-advanced-3/src/main/java/com/baeldung/async/JavaAsync.java", "diffHunk": "@@ -0,0 +1,185 @@\n+package com.baeldung.async;\n+\n+import static com.ea.async.Async.await;\n+\n+import java.util.concurrent.Callable;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.Future;\n+\n+import com.google.common.util.concurrent.AsyncCallable;\n+import com.google.common.util.concurrent.Callables;\n+import com.google.common.util.concurrent.Futures;\n+import com.google.common.util.concurrent.ListenableFuture;\n+import com.google.common.util.concurrent.ListeningExecutorService;\n+import com.google.common.util.concurrent.MoreExecutors;\n+import com.jcabi.aspects.Async;\n+import com.jcabi.aspects.Loggable;\n+\n+public class JavaAsync {\n+\n+    static {\n+        com.ea.async.Async.init();\n+    }\n+\n+    private static final ExecutorService threadpool = Executors.newCachedThreadPool();\n+\n+    public static void main (String[] args) throws InterruptedException, ExecutionException {\n+        int number = 20;\n+\n+        //Thread Example\n+        factorialUsingThread(number).start();\n+\n+        //FutureTask Example\n+        Future<Long> futureTask = factorialUsingFutureTask(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + futureTask.get());\n+\n+        // CompletableFuture Example\n+        Future<Long> completableFuture = factorialUsingCompletableFuture(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + completableFuture.get());\n+\n+        // EA Async example\n+        System.out.println(\"Factorial of \" + number + \" is: \" + factorialUsingEAAsync(number));\n+\n+        // cactoos async example\n+        Future<Long> asyncFuture = factorialUsingCactoos(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + asyncFuture.get());\n+\n+        // Guava example\n+        ListenableFuture<Long> guavaFuture = factorialUsingGuavaServiceSubmit(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + guavaFuture.get());\n+\n+        ListenableFuture<Long> guavaFutures = factorialUsingGuavaFutures(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + guavaFutures.get());\n+\n+        // @async jcabi-aspect example\n+        Future<Long> aspectFuture = factorialUsingJcabiAspect(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + aspectFuture.get());\n+\n+    }\n+\n+    /**\n+     * Finds factorial of a number\n+     * @param number\n+     * @return\n+     */\n+    public static long factorial(int number) {\n+        long result = 1; \n+        for(int i=number;i>0;i--) {\n+            result *= i; \n+        } \n+        return result; \n+    }\n+\n+    /**\n+     * Finds factorial of a number using Thread\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static Thread factorialUsingThread(int number) {\n+        Thread newThread = new Thread(() -> {\n+            System.out.println(\"Factorial of \" + number + \" is: \" + factorial(number));\n+        });\n+\n+        return newThread;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using FutureTask\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static Future<Long> factorialUsingFutureTask(int number) {\n+        Future<Long> futureTask = threadpool.submit(() -> factorial(number)); \n+\n+        while (!futureTask.isDone()) { \n+            System.out.println(\"FutureTask is not finished yet...\"); \n+        } \n+\n+        return futureTask;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using CompletableFuture\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static Future<Long> factorialUsingCompletableFuture(int number) {\n+        CompletableFuture<Long> completableFuture = CompletableFuture.supplyAsync(() -> factorial(number));\n+        return completableFuture;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using EA Async\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static long factorialUsingEAAsync(int number) {\n+        CompletableFuture<Long> completableFuture = CompletableFuture.supplyAsync(() -> factorial(number));\n+        long result = await(completableFuture);\n+        return result;\n+    }\n+\n+    /**\n+     * \n+     * Finds factorial of a number using Async of Cactoos\n+     * @param number\n+     * @return\n+     * @throws InterruptedException\n+     * @throws ExecutionException\n+     */\n+    @Loggable\n+    public static Future<Long> factorialUsingCactoos(int number) throws InterruptedException, ExecutionException {\n+        org.cactoos.func.Async<Integer, Long> asyncFunction = new org.cactoos.func.Async<Integer, Long>(input -> factorial(input));\n+        Future<Long> asyncFuture = asyncFunction.apply(number);\n+        return asyncFuture;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using Guava's ListeningExecutorService.submit()\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static ListenableFuture<Long> factorialUsingGuavaServiceSubmit(int number) {\n+        ListeningExecutorService service = MoreExecutors.listeningDecorator(threadpool);\n+        ListenableFuture<Long> factorialFuture = (ListenableFuture<Long>) service.submit(()-> factorial(number));\n+        return factorialFuture;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using Guava's Futures.submitAsync()\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static ListenableFuture<Long> factorialUsingGuavaFutures(int number) {\n+        ListeningExecutorService service = MoreExecutors.listeningDecorator(threadpool);\n+        AsyncCallable<Long> asyncCallable = Callables.asAsyncCallable(new Callable<Long>() {\n+            public Long call() {\n+                return factorial(number);\n+            }\n+        }, service);\n+        return Futures.submitAsync(asyncCallable, service);\n+    }\n+\n+    /**\n+     * ", "originalCommit": "1d6347faa3f89482dfe4c604702f1c65c3232fa4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzIwMzA5Ng==", "url": "https://github.com/eugenp/tutorials/pull/8456#discussion_r363203096", "bodyText": "fixed", "author": "SmartyAnsh", "createdAt": "2020-01-06T08:50:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1ODUyNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1ODU1MA==", "url": "https://github.com/eugenp/tutorials/pull/8456#discussion_r363158550", "bodyText": "remove this extra line", "author": "eric-martin", "createdAt": "2020-01-06T04:58:18Z", "path": "core-java-modules/core-java-concurrency-advanced-3/src/main/java/com/baeldung/async/JavaAsync.java", "diffHunk": "@@ -0,0 +1,185 @@\n+package com.baeldung.async;\n+\n+import static com.ea.async.Async.await;\n+\n+import java.util.concurrent.Callable;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.Future;\n+\n+import com.google.common.util.concurrent.AsyncCallable;\n+import com.google.common.util.concurrent.Callables;\n+import com.google.common.util.concurrent.Futures;\n+import com.google.common.util.concurrent.ListenableFuture;\n+import com.google.common.util.concurrent.ListeningExecutorService;\n+import com.google.common.util.concurrent.MoreExecutors;\n+import com.jcabi.aspects.Async;\n+import com.jcabi.aspects.Loggable;\n+\n+public class JavaAsync {\n+\n+    static {\n+        com.ea.async.Async.init();\n+    }\n+\n+    private static final ExecutorService threadpool = Executors.newCachedThreadPool();\n+\n+    public static void main (String[] args) throws InterruptedException, ExecutionException {\n+        int number = 20;\n+\n+        //Thread Example\n+        factorialUsingThread(number).start();\n+\n+        //FutureTask Example\n+        Future<Long> futureTask = factorialUsingFutureTask(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + futureTask.get());\n+\n+        // CompletableFuture Example\n+        Future<Long> completableFuture = factorialUsingCompletableFuture(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + completableFuture.get());\n+\n+        // EA Async example\n+        System.out.println(\"Factorial of \" + number + \" is: \" + factorialUsingEAAsync(number));\n+\n+        // cactoos async example\n+        Future<Long> asyncFuture = factorialUsingCactoos(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + asyncFuture.get());\n+\n+        // Guava example\n+        ListenableFuture<Long> guavaFuture = factorialUsingGuavaServiceSubmit(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + guavaFuture.get());\n+\n+        ListenableFuture<Long> guavaFutures = factorialUsingGuavaFutures(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + guavaFutures.get());\n+\n+        // @async jcabi-aspect example\n+        Future<Long> aspectFuture = factorialUsingJcabiAspect(number);\n+        System.out.println(\"Factorial of \" + number + \" is: \" + aspectFuture.get());\n+\n+    }\n+\n+    /**\n+     * Finds factorial of a number\n+     * @param number\n+     * @return\n+     */\n+    public static long factorial(int number) {\n+        long result = 1; \n+        for(int i=number;i>0;i--) {\n+            result *= i; \n+        } \n+        return result; \n+    }\n+\n+    /**\n+     * Finds factorial of a number using Thread\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static Thread factorialUsingThread(int number) {\n+        Thread newThread = new Thread(() -> {\n+            System.out.println(\"Factorial of \" + number + \" is: \" + factorial(number));\n+        });\n+\n+        return newThread;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using FutureTask\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static Future<Long> factorialUsingFutureTask(int number) {\n+        Future<Long> futureTask = threadpool.submit(() -> factorial(number)); \n+\n+        while (!futureTask.isDone()) { \n+            System.out.println(\"FutureTask is not finished yet...\"); \n+        } \n+\n+        return futureTask;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using CompletableFuture\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static Future<Long> factorialUsingCompletableFuture(int number) {\n+        CompletableFuture<Long> completableFuture = CompletableFuture.supplyAsync(() -> factorial(number));\n+        return completableFuture;\n+    }\n+\n+    /**\n+     * Finds factorial of a number using EA Async\n+     * @param number\n+     * @return\n+     */\n+    @Loggable\n+    public static long factorialUsingEAAsync(int number) {\n+        CompletableFuture<Long> completableFuture = CompletableFuture.supplyAsync(() -> factorial(number));\n+        long result = await(completableFuture);\n+        return result;\n+    }\n+\n+    /**\n+     * ", "originalCommit": "1d6347faa3f89482dfe4c604702f1c65c3232fa4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzIwMzEyNQ==", "url": "https://github.com/eugenp/tutorials/pull/8456#discussion_r363203125", "bodyText": "fixed", "author": "SmartyAnsh", "createdAt": "2020-01-06T08:50:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1ODU1MA=="}], "type": "inlineReview"}, {"oid": "801c32e0f698de2ea5ca235d845e5f131783fd2a", "url": "https://github.com/eugenp/tutorials/commit/801c32e0f698de2ea5ca235d845e5f131783fd2a", "message": "review changes", "committedDate": "2020-01-06T08:49:41Z", "type": "commit"}, {"oid": "89f3dd5f8a9344a15866bc72f1a6def9ce04cd75", "url": "https://github.com/eugenp/tutorials/commit/89f3dd5f8a9344a15866bc72f1a6def9ce04cd75", "message": "BAEL-3596 - extracted the version numbers into properties", "committedDate": "2020-01-09T09:34:28Z", "type": "commit"}, {"oid": "647cef2ec78a49dc0fd0c529e61b2715e55e14f4", "url": "https://github.com/eugenp/tutorials/commit/647cef2ec78a49dc0fd0c529e61b2715e55e14f4", "message": "Merge branch 'BAEL-3596_Asynchronous_Method_Calls_in_Java' of https://github.com/SmartyAnsh/tutorials into BAEL-3596_Asynchronous_Method_Calls_in_Java", "committedDate": "2020-01-09T09:38:49Z", "type": "commit"}]}