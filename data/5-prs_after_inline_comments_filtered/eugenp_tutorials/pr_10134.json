{"pr_number": 10134, "pr_title": "[BAEL-4173] Set JWT token with Spring Boot & Swagger UI", "pr_createdAt": "2020-10-06T10:58:39Z", "pr_url": "https://github.com/eugenp/tutorials/pull/10134", "timeline": [{"oid": "412b869003e2bd04a4b37949ae923c758294d3e7", "url": "https://github.com/eugenp/tutorials/commit/412b869003e2bd04a4b37949ae923c758294d3e7", "message": "Hexagonal Architecture with Spring Boot example", "committedDate": "2020-09-23T19:03:24Z", "type": "commit"}, {"oid": "fc9b4fe949d2b3e9fbbdbf0c890ff2d45a262020", "url": "https://github.com/eugenp/tutorials/commit/fc9b4fe949d2b3e9fbbdbf0c890ff2d45a262020", "message": "Set JWT token with Spring Boot & Swagger UI", "committedDate": "2020-10-03T13:03:32Z", "type": "commit"}, {"oid": "7293432571e9863b269c9cc8babb0efa6257a3c7", "url": "https://github.com/eugenp/tutorials/commit/7293432571e9863b269c9cc8babb0efa6257a3c7", "message": "Revert \"Hexagonal Architecture with Spring Boot example\"\n\nThis reverts commit 412b8690", "committedDate": "2020-10-06T10:57:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc5OTU3Mg==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r502799572", "bodyText": "indent only two spaces from the previous line", "author": "KevinGilmore", "createdAt": "2020-10-10T15:02:45Z", "path": "spring-boot-modules/spring-boot-swagger-jwt/src/main/java/com/baeldung/swaggerjwt/configuration/SwaggerConfiguration.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package com.baeldung.swaggerjwt.configuration;\n+\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import springfox.documentation.builders.PathSelectors;\n+import springfox.documentation.builders.RequestHandlerSelectors;\n+import springfox.documentation.service.*;\n+import springfox.documentation.spi.DocumentationType;\n+import springfox.documentation.spi.service.contexts.SecurityContext;\n+import springfox.documentation.spring.web.plugins.Docket;\n+\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+\n+@Configuration\n+public class SwaggerConfiguration {\n+\n+    public static final String AUTHORIZATION_HEADER = \"Authorization\";\n+\n+    private ApiInfo apiInfo() {\n+        return new ApiInfo(\"My REST API\", \"Some custom description of API.\", \"1.0\", \"Terms of service\",\n+          new Contact(\"Sallo Szrajbman\", \"www.baeldung.com\", \"salloszraj@gmail.com\"),\n+          \"License of API\", \"API license URL\", Collections.emptyList());\n+    }\n+\n+    @Bean\n+    public Docket api() {\n+        return new Docket(DocumentationType.SWAGGER_2)\n+          .apiInfo(apiInfo())\n+          .securityContexts(Arrays.asList(securityContext()))\n+          .securitySchemes(Arrays.asList(apiKey()))\n+          .select()\n+          .apis(RequestHandlerSelectors.any())\n+          .paths(PathSelectors.any())\n+\n+          .build();\n+    }\n+\n+    private ApiKey apiKey() {\n+        return new ApiKey(\"JWT\", AUTHORIZATION_HEADER, \"header\");\n+    }\n+\n+    private SecurityContext securityContext() {\n+        return SecurityContext.builder()\n+                .securityReferences(defaultAuth())\n+                .build();\n+    }\n+\n+    List<SecurityReference> defaultAuth() {\n+        AuthorizationScope authorizationScope\n+                = new AuthorizationScope(\"global\", \"accessEverything\");", "originalCommit": "7293432571e9863b269c9cc8babb0efa6257a3c7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc5OTYxNg==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r502799616", "bodyText": "remove empty line", "author": "KevinGilmore", "createdAt": "2020-10-10T15:03:25Z", "path": "spring-boot-modules/spring-boot-swagger-jwt/src/main/java/com/baeldung/swaggerjwt/configuration/SwaggerConfiguration.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package com.baeldung.swaggerjwt.configuration;\n+\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import springfox.documentation.builders.PathSelectors;\n+import springfox.documentation.builders.RequestHandlerSelectors;\n+import springfox.documentation.service.*;\n+import springfox.documentation.spi.DocumentationType;\n+import springfox.documentation.spi.service.contexts.SecurityContext;\n+import springfox.documentation.spring.web.plugins.Docket;\n+\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+\n+@Configuration\n+public class SwaggerConfiguration {\n+\n+    public static final String AUTHORIZATION_HEADER = \"Authorization\";\n+\n+    private ApiInfo apiInfo() {\n+        return new ApiInfo(\"My REST API\", \"Some custom description of API.\", \"1.0\", \"Terms of service\",\n+          new Contact(\"Sallo Szrajbman\", \"www.baeldung.com\", \"salloszraj@gmail.com\"),\n+          \"License of API\", \"API license URL\", Collections.emptyList());\n+    }\n+\n+    @Bean\n+    public Docket api() {\n+        return new Docket(DocumentationType.SWAGGER_2)\n+          .apiInfo(apiInfo())\n+          .securityContexts(Arrays.asList(securityContext()))\n+          .securitySchemes(Arrays.asList(apiKey()))\n+          .select()\n+          .apis(RequestHandlerSelectors.any())\n+          .paths(PathSelectors.any())\n+", "originalCommit": "7293432571e9863b269c9cc8babb0efa6257a3c7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgwMTE3NQ==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r502801175", "bodyText": "For better readability, and as per guidelines, when all the parameters don't fit on one line (of reasonable length), put each parameter on a separate line, using two spaces to indent.", "author": "KevinGilmore", "createdAt": "2020-10-10T15:20:15Z", "path": "spring-boot-modules/spring-boot-swagger-jwt/src/main/java/com/baeldung/swaggerjwt/configuration/SwaggerConfiguration.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package com.baeldung.swaggerjwt.configuration;\n+\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import springfox.documentation.builders.PathSelectors;\n+import springfox.documentation.builders.RequestHandlerSelectors;\n+import springfox.documentation.service.*;\n+import springfox.documentation.spi.DocumentationType;\n+import springfox.documentation.spi.service.contexts.SecurityContext;\n+import springfox.documentation.spring.web.plugins.Docket;\n+\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+\n+@Configuration\n+public class SwaggerConfiguration {\n+\n+    public static final String AUTHORIZATION_HEADER = \"Authorization\";\n+\n+    private ApiInfo apiInfo() {\n+        return new ApiInfo(\"My REST API\", \"Some custom description of API.\", \"1.0\", \"Terms of service\",\n+          new Contact(\"Sallo Szrajbman\", \"www.baeldung.com\", \"salloszraj@gmail.com\"),\n+          \"License of API\", \"API license URL\", Collections.emptyList());", "originalCommit": "7293432571e9863b269c9cc8babb0efa6257a3c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgyMjc4Mw==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r502822783", "bodyText": "Hello kevin, I updated the identadion... Not sure I did it correctly... Could you please check in the last commit?", "author": "saleco", "createdAt": "2020-10-10T19:15:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgwMTE3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjgxODc2NQ==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r502818765", "bodyText": "Let's avoid the println.", "author": "KevinGilmore", "createdAt": "2020-10-10T18:33:30Z", "path": "spring-boot-modules/spring-boot-swagger-jwt/src/main/java/com/baeldung/swaggerjwt/controller/ClientsRestController.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package com.baeldung.swaggerjwt.controller;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.baeldung.swaggerjwt.configuration.SwaggerConfiguration;\n+import io.swagger.annotations.Api;\n+import org.springframework.http.HttpHeaders;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.RequestHeader;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+import io.swagger.annotations.ApiOperation;\n+\n+@RestController(value = \"/clients\")\n+@Api( tags = \"Clients\")\n+public class ClientsRestController {\n+\n+    @ApiOperation(value = \"This method is used to get the clients.\")\n+    @GetMapping\n+    public List<String> getClients(@RequestHeader HttpHeaders httpHeaders) {\n+        System.out.println(\"JWT TOKEN: \" + httpHeaders.getFirst(SwaggerConfiguration.AUTHORIZATION_HEADER));", "originalCommit": "7293432571e9863b269c9cc8babb0efa6257a3c7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9316043896407ecbc749beca6420b49351e7b0f4", "url": "https://github.com/eugenp/tutorials/commit/9316043896407ecbc749beca6420b49351e7b0f4", "message": "[BEAL-4173]\nCode identation fixes\nREADME.md fixes", "committedDate": "2020-10-10T19:13:04Z", "type": "commit"}, {"oid": "d8975def8cd604dda0e3a92d03f74428236e6ac1", "url": "https://github.com/eugenp/tutorials/commit/d8975def8cd604dda0e3a92d03f74428236e6ac1", "message": "[BEAL-4173]\nRemoving sout", "committedDate": "2020-10-10T19:17:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM3NDM1Mg==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r504374352", "bodyText": "The new Contact(...) can still be on one line; it's just the lengthy list of parameters passed to the ApiInfo constructor that won't fit on one line and need to be broken up.", "author": "KevinGilmore", "createdAt": "2020-10-14T03:11:49Z", "path": "spring-boot-modules/spring-boot-swagger-jwt/src/main/java/com/baeldung/swaggerjwt/configuration/SwaggerConfiguration.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package com.baeldung.swaggerjwt.configuration;\n+\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import springfox.documentation.builders.PathSelectors;\n+import springfox.documentation.builders.RequestHandlerSelectors;\n+import springfox.documentation.service.*;\n+import springfox.documentation.spi.DocumentationType;\n+import springfox.documentation.spi.service.contexts.SecurityContext;\n+import springfox.documentation.spring.web.plugins.Docket;\n+\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+\n+@Configuration\n+public class SwaggerConfiguration {\n+\n+    public static final String AUTHORIZATION_HEADER = \"Authorization\";\n+\n+    private ApiInfo apiInfo() {\n+        return new ApiInfo(\"My REST API\",\n+\t\t  \"Some custom description of API.\",\n+\t\t  \"1.0\",\n+\t\t  \"Terms of service\",\n+\t\t  new Contact(\"Sallo Szrajbman\",\n+\t\t    \"www.baeldung.com\",\n+\t\t    \"salloszraj@gmail.com\"),", "originalCommit": "d8975def8cd604dda0e3a92d03f74428236e6ac1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1MzcxOQ==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r504553719", "bodyText": "Thanks for the heads up! It's now fixed.", "author": "saleco", "createdAt": "2020-10-14T09:59:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM3NDM1Mg=="}], "type": "inlineReview"}, {"oid": "329444386732b488b9f7f13c7c47da989f659299", "url": "https://github.com/eugenp/tutorials/commit/329444386732b488b9f7f13c7c47da989f659299", "message": "[BEAL-4173]\nFixing identation issue", "committedDate": "2020-10-14T10:00:13Z", "type": "commit"}, {"oid": "7588a1409766f6038aba706490ecc3193b369daf", "url": "https://github.com/eugenp/tutorials/commit/7588a1409766f6038aba706490ecc3193b369daf", "message": "[BEAL-4173]\nFixing identation issue", "committedDate": "2020-10-21T10:15:16Z", "type": "commit"}, {"oid": "dad0f85bc862afd7bef77f8e5000f1a1ff4744c2", "url": "https://github.com/eugenp/tutorials/commit/dad0f85bc862afd7bef77f8e5000f1a1ff4744c2", "message": "[BEAL-4173]\nRemoving HttpHeaders parameter (not needed)", "committedDate": "2020-10-21T10:22:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAyNTU4MA==", "url": "https://github.com/eugenp/tutorials/pull/10134#discussion_r511025580", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return Arrays.asList(\"Fisrt Client\", \"Second Client\");\n          \n          \n            \n                    return Arrays.asList(\"First Client\", \"Second Client\");", "author": "KevinGilmore", "createdAt": "2020-10-23T17:14:23Z", "path": "spring-boot-modules/spring-boot-swagger-jwt/src/main/java/com/baeldung/swaggerjwt/controller/ClientsRestController.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package com.baeldung.swaggerjwt.controller;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.baeldung.swaggerjwt.configuration.SwaggerConfiguration;\n+import io.swagger.annotations.Api;\n+import org.springframework.http.HttpHeaders;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.RequestHeader;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+import io.swagger.annotations.ApiOperation;\n+\n+@RestController(value = \"/clients\")\n+@Api( tags = \"Clients\")\n+public class ClientsRestController {\n+\n+    @ApiOperation(value = \"This method is used to get the clients.\")\n+    @GetMapping\n+    public List<String> getClients() {\n+        return Arrays.asList(\"Fisrt Client\", \"Second Client\");", "originalCommit": "dad0f85bc862afd7bef77f8e5000f1a1ff4744c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "73234a48f0cf98c5e1b46595a6e983c0d1f06ce3", "url": "https://github.com/eugenp/tutorials/commit/73234a48f0cf98c5e1b46595a6e983c0d1f06ce3", "message": "Update spring-boot-modules/spring-boot-swagger-jwt/src/main/java/com/baeldung/swaggerjwt/controller/ClientsRestController.java\r\n\r\nCommitting suggestion\n\nCo-authored-by: KevinGilmore <kpg102@gmail.com>", "committedDate": "2020-10-23T17:38:12Z", "type": "commit"}]}