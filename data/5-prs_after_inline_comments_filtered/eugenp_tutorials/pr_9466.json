{"pr_number": 9466, "pr_title": "BAEL-4163 - Counting matches for a regex", "pr_createdAt": "2020-06-09T02:25:18Z", "pr_url": "https://github.com/eugenp/tutorials/pull/9466", "timeline": [{"oid": "a8a06e4debaa1aaf1b68252bc83380aa551670f9", "url": "https://github.com/eugenp/tutorials/commit/a8a06e4debaa1aaf1b68252bc83380aa551670f9", "message": "BAEL-4163 - Counting matches for a regex", "committedDate": "2020-06-09T02:24:32Z", "type": "commit"}, {"oid": "a950361f841a2fc3c15ad735603f0da04632daf9", "url": "https://github.com/eugenp/tutorials/commit/a950361f841a2fc3c15ad735603f0da04632daf9", "message": "BAEL-4163 - Fixing build problemns", "committedDate": "2020-06-09T23:34:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4NTI4OQ==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r438385289", "bodyText": "This doesn't have to be in a @Before - it can be in the initializer list of the class, and probably should be.", "author": "ashleyfrieze", "createdAt": "2020-06-10T20:20:36Z", "path": "core-java-modules/core-java-regex/src/test/java/com/baeldung/regex/countmatches/CountMatchesUnitTest.java", "diffHunk": "@@ -0,0 +1,60 @@\n+package com.baeldung.regex.countmatches;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+/**\n+ * Unit Test intended to count number of matches of a RegEx using Java 8 and 9.\n+ * \n+ * Java 9 is needed to run the test.\n+ */\n+public class CountMatchesUnitTest {\n+\n+    private static final Pattern EMAIL_ADDRESS_PATTERN = Pattern.compile(\"([a-z0-9_.-]+)@([a-z0-9_.-]+[a-z])\");\n+    private static final String TEXT_CONTAINING_EMAIL_ADDRESSES = \"You can contact me through: writer@baeldung.com, editor@baeldung.com and team@bealdung.com\";\n+\n+    private Matcher countEmailMatcher;\n+\n+    @Before\n+    public void setup() {\n+        countEmailMatcher = EMAIL_ADDRESS_PATTERN.matcher(TEXT_CONTAINING_EMAIL_ADDRESSES);", "originalCommit": "a950361f841a2fc3c15ad735603f0da04632daf9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ3NzQwOA==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r438477408", "bodyText": "I moved to the method because now we have more strings to test.", "author": "roqmarcelo", "createdAt": "2020-06-11T00:25:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4NTI4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4NTc4NQ==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r438385785", "bodyText": "let's move the .count() to the previous line to make it easier to understand it even when commented", "author": "ashleyfrieze", "createdAt": "2020-06-10T20:21:27Z", "path": "core-java-modules/core-java-regex/src/test/java/com/baeldung/regex/countmatches/CountMatchesUnitTest.java", "diffHunk": "@@ -0,0 +1,60 @@\n+package com.baeldung.regex.countmatches;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+import org.junit.Before;\n+import org.junit.Test;\n+\n+/**\n+ * Unit Test intended to count number of matches of a RegEx using Java 8 and 9.\n+ * \n+ * Java 9 is needed to run the test.\n+ */\n+public class CountMatchesUnitTest {\n+\n+    private static final Pattern EMAIL_ADDRESS_PATTERN = Pattern.compile(\"([a-z0-9_.-]+)@([a-z0-9_.-]+[a-z])\");\n+    private static final String TEXT_CONTAINING_EMAIL_ADDRESSES = \"You can contact me through: writer@baeldung.com, editor@baeldung.com and team@bealdung.com\";\n+\n+    private Matcher countEmailMatcher;\n+\n+    @Before\n+    public void setup() {\n+        countEmailMatcher = EMAIL_ADDRESS_PATTERN.matcher(TEXT_CONTAINING_EMAIL_ADDRESSES);\n+    }\n+\n+    @Test\n+    public void givenContainingEmailString_whenJava8Match_thenCountMacthesFound() {\n+        int count = 0;\n+        while (countEmailMatcher.find()) {\n+            count++;\n+        }\n+\n+        assertEquals(3, count);\n+    }\n+\n+    @Test\n+    public void givenContainingEmailString_whenUsingSplit_thenCountMacthesFound() {\n+        long count = EMAIL_ADDRESS_PATTERN.split(TEXT_CONTAINING_EMAIL_ADDRESSES).length;\n+\n+        assertEquals(3, count);\n+    }\n+\n+    @Test\n+    public void givenContainingEmailString_whenUsingSplitAsStream_thenCountMacthesFound() {\n+        long count = EMAIL_ADDRESS_PATTERN.splitAsStream(TEXT_CONTAINING_EMAIL_ADDRESSES)\n+            .count();\n+\n+        assertEquals(3, count);\n+    }\n+\n+    @Test\n+    public void givenContainingEmailString_whenStartingInJava9Match_thenCountMacthesFound() {\n+        // long count = countEmailMatcher.results()\n+        // .count();", "originalCommit": "a950361f841a2fc3c15ad735603f0da04632daf9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ3NzQ2Nw==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r438477467", "bodyText": "Done.", "author": "roqmarcelo", "createdAt": "2020-06-11T00:25:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM4NTc4NQ=="}], "type": "inlineReview"}, {"oid": "81748dfb7853ce3311304dce4edfc6fe7103732c", "url": "https://github.com/eugenp/tutorials/commit/81748dfb7853ce3311304dce4edfc6fe7103732c", "message": "BAEL-4163 : Adding more test to assure quality of the examples", "committedDate": "2020-06-11T00:16:26Z", "type": "commit"}, {"oid": "e43949b425268cd0c242461e79061dc3fcbc4efb", "url": "https://github.com/eugenp/tutorials/commit/e43949b425268cd0c242461e79061dc3fcbc4efb", "message": "BAEL-4163 : Fixing request changes", "committedDate": "2020-06-11T00:23:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM3MjE0MQ==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r445372141", "bodyText": "Let's say \"commented out tests\"", "author": "ashleyfrieze", "createdAt": "2020-06-25T07:51:44Z", "path": "core-java-modules/core-java-regex/src/test/java/com/baeldung/regex/countmatches/CountMatchesUnitTest.java", "diffHunk": "@@ -0,0 +1,83 @@\n+package com.baeldung.regex.countmatches;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+import org.junit.Test;\n+\n+/**\n+ * Unit Test intended to count number of matches of a RegEx using Java 8 and 9.\n+ * \n+ * Java 9 is needed to run the test.", "originalCommit": "e43949b425268cd0c242461e79061dc3fcbc4efb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTk1NjMzNA==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r445956334", "bodyText": "Got it.", "author": "roqmarcelo", "createdAt": "2020-06-26T04:06:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM3MjE0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM3MjM2MQ==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r445372361", "bodyText": "Please put a line in line // uncomment to try with Java 9 on all these commented out tests", "author": "ashleyfrieze", "createdAt": "2020-06-25T07:52:07Z", "path": "core-java-modules/core-java-regex/src/test/java/com/baeldung/regex/countmatches/CountMatchesUnitTest.java", "diffHunk": "@@ -0,0 +1,83 @@\n+package com.baeldung.regex.countmatches;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+\n+import org.junit.Test;\n+\n+/**\n+ * Unit Test intended to count number of matches of a RegEx using Java 8 and 9.\n+ * \n+ * Java 9 is needed to run the test.\n+ */\n+public class CountMatchesUnitTest {\n+\n+    private static final Pattern EMAIL_ADDRESS_PATTERN = Pattern.compile(\"([a-z0-9_.-]+)@([a-z0-9_.-]+[a-z])\");\n+    private static final String TEXT_CONTAINING_EMAIL_ADDRESSES = \"You can contact me through: writer@baeldung.com, editor@baeldung.com and team@bealdung.com\";\n+    private static final String TEXT_CONTAINING_FIVE_EMAIL_ADDRESSES = \"Valid emails are: me@gmail.com, you@baeldung.com, contact@hotmail.com, press@anysite.com and support@bealdung.com\";\n+\n+    @Test\n+    public void givenContainingEmailString_whenJava8Match_thenCountMacthesFound() {\n+        Matcher countEmailMatcher = EMAIL_ADDRESS_PATTERN.matcher(TEXT_CONTAINING_EMAIL_ADDRESSES);\n+\n+        int count = 0;\n+        while (countEmailMatcher.find()) {\n+            count++;\n+        }\n+\n+        assertEquals(3, count);\n+    }\n+\n+    @Test\n+    public void givenContainingFiveEmailsString_whenJava8Match_thenCountMacthesFound() {\n+        Matcher countFiveEmailsMatcher = EMAIL_ADDRESS_PATTERN.matcher(TEXT_CONTAINING_FIVE_EMAIL_ADDRESSES);\n+\n+        int count = 0;\n+        while (countFiveEmailsMatcher.find()) {\n+            count++;\n+        }\n+\n+        assertEquals(5, count);\n+    }\n+\n+    @Test\n+    public void givenStringWithoutEmails_whenJava8Match_thenCountMacthesNotFound() {\n+        Matcher noEmailMatcher = EMAIL_ADDRESS_PATTERN.matcher(\"Simple text without emails.\");\n+\n+        int count = 0;\n+        while (noEmailMatcher.find()) {\n+            count++;\n+        }\n+\n+        assertEquals(0, count);\n+    }\n+\n+    @Test\n+    public void givenContainingEmailString_whenStartingInJava9Match_thenCountMacthesFound() {\n+        // Matcher countEmailMatcher = EMAIL_ADDRESS_PATTERN.matcher(TEXT_CONTAINING_EMAIL_ADDRESSES);", "originalCommit": "e43949b425268cd0c242461e79061dc3fcbc4efb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTk1NjI5MQ==", "url": "https://github.com/eugenp/tutorials/pull/9466#discussion_r445956291", "bodyText": "Done", "author": "roqmarcelo", "createdAt": "2020-06-26T04:05:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM3MjM2MQ=="}], "type": "inlineReview"}, {"oid": "834fa803b46f44cc47d0e6044ab24335d3493cb8", "url": "https://github.com/eugenp/tutorials/commit/834fa803b46f44cc47d0e6044ab24335d3493cb8", "message": "BAEL-4163 : Minor adjustements to give more context about the commented out tests", "committedDate": "2020-06-26T04:05:24Z", "type": "commit"}, {"oid": "6bee9757d7ffdb9fc99f554ff1263c56d0c89f46", "url": "https://github.com/eugenp/tutorials/commit/6bee9757d7ffdb9fc99f554ff1263c56d0c89f46", "message": "Merge branch 'master' into BAEL-4163", "committedDate": "2020-06-26T04:08:13Z", "type": "commit"}, {"oid": "6a095ec6e9de7c2435e64f8c2522e2ede7ea070f", "url": "https://github.com/eugenp/tutorials/commit/6a095ec6e9de7c2435e64f8c2522e2ede7ea070f", "message": "BAEL-4163 : Tests for overlap example", "committedDate": "2020-06-28T16:11:18Z", "type": "commit"}, {"oid": "daa198dd0f98d3b25d4b3c204dfe05d70c994e81", "url": "https://github.com/eugenp/tutorials/commit/daa198dd0f98d3b25d4b3c204dfe05d70c994e81", "message": "Merge branch 'BAEL-4163' of https://github.com/roqmarcelo/tutorials into BAEL-4163", "committedDate": "2020-06-28T16:12:33Z", "type": "commit"}]}