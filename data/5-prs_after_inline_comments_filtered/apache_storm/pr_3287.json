{"pr_number": 3287, "pr_title": "[STORM-3271] enable supervisors to launch a worker inside a docker container", "pr_createdAt": "2020-06-12T17:02:45Z", "pr_url": "https://github.com/apache/storm/pull/3287", "timeline": [{"oid": "a8b91271e0dab185b096ac6c1f14acdcb1d65af3", "url": "https://github.com/apache/storm/commit/a8b91271e0dab185b096ac6c1f14acdcb1d65af3", "message": "[STORM-3271] enable supervisors to launch a worker inside a docker container", "committedDate": "2020-06-12T19:41:04Z", "type": "forcePushed"}, {"oid": "1841f582b164d7f6af623df8f0743cfe53b32055", "url": "https://github.com/apache/storm/commit/1841f582b164d7f6af623df8f0743cfe53b32055", "message": "[STORM-3271] enable supervisors to launch a worker inside a docker container", "committedDate": "2020-06-12T19:58:47Z", "type": "forcePushed"}, {"oid": "f70036fa856198a3dc38147933b1974959668d70", "url": "https://github.com/apache/storm/commit/f70036fa856198a3dc38147933b1974959668d70", "message": "[STORM-3271] enable supervisors to launch a worker inside a docker container", "committedDate": "2020-06-12T20:16:50Z", "type": "commit"}, {"oid": "f70036fa856198a3dc38147933b1974959668d70", "url": "https://github.com/apache/storm/commit/f70036fa856198a3dc38147933b1974959668d70", "message": "[STORM-3271] enable supervisors to launch a worker inside a docker container", "committedDate": "2020-06-12T20:16:50Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4MDA1Ng==", "url": "https://github.com/apache/storm/pull/3287#discussion_r449280056", "bodyText": "Do we need to override this method? Looks like the parent DockerCommand.getCommandWithArguments is doing the same thing.", "author": "kishorvpatil", "createdAt": "2020-07-02T21:45:17Z", "path": "storm-server/src/main/java/org/apache/storm/container/docker/DockerPsCommand.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.storm.container.docker;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang.StringUtils;\n+\n+public class DockerPsCommand extends DockerCommand {\n+    private static final String PS_COMMAND = \"ps\";\n+\n+    public DockerPsCommand() {\n+        super(PS_COMMAND);\n+    }\n+\n+    public DockerPsCommand withQuietOption() {\n+        super.addCommandArguments(\"--quiet=true\");\n+        return this;\n+    }\n+\n+    public DockerPsCommand withNameFilter(String containerName) {\n+        super.addCommandArguments(\"--filter=name=\" + containerName);\n+        return this;\n+    }\n+\n+    /**\n+     * Get the full command.\n+     * @return the full command.\n+     */\n+    @Override\n+    public String getCommandWithArguments() {", "originalCommit": "f70036fa856198a3dc38147933b1974959668d70", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQyNDA1MQ==", "url": "https://github.com/apache/storm/pull/3287#discussion_r450424051", "bodyText": "You are right. I will remove this one.", "author": "Ethanlm", "createdAt": "2020-07-06T19:06:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4MDA1Ng=="}], "type": "inlineReview"}, {"oid": "eebd2eda0a80137632e8dc45e83cab0f0102d645", "url": "https://github.com/apache/storm/commit/eebd2eda0a80137632e8dc45e83cab0f0102d645", "message": "[STORM-3271] remove redundant method", "committedDate": "2020-07-06T19:06:51Z", "type": "commit"}, {"oid": "755ca1d8b5c327f94db851359cbf45f8bdc61316", "url": "https://github.com/apache/storm/commit/755ca1d8b5c327f94db851359cbf45f8bdc61316", "message": "[STORM-3271] adjust docs", "committedDate": "2020-07-06T20:21:07Z", "type": "commit"}, {"oid": "38d332d33eb7605ac2d413e7d4cceb8112736d0d", "url": "https://github.com/apache/storm/commit/38d332d33eb7605ac2d413e7d4cceb8112736d0d", "message": "[STORM-3271-docker] adjust docs for worker-launcher", "committedDate": "2020-07-06T20:29:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDkzMDAyMA==", "url": "https://github.com/apache/storm/pull/3287#discussion_r450930020", "bodyText": "this looks like it should be added to writeScript() below", "author": "agresch", "createdAt": "2020-07-07T14:57:20Z", "path": "storm-server/src/main/java/org/apache/storm/utils/ServerUtils.java", "diffHunk": "@@ -290,10 +290,24 @@ public static String scriptFilePath(String dir) {\n      * @param dir         the directory under which the script is to be written\n      * @param command     the command the script is to execute\n      * @param environment optional environment variables to set before running the script's command. May be  null.\n+     * @param umask umask to be set. It can be null.", "originalCommit": "38d332d33eb7605ac2d413e7d4cceb8112736d0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f1c688c08632370c648dd972de3ec1c03d7ea9cb", "url": "https://github.com/apache/storm/commit/f1c688c08632370c648dd972de3ec1c03d7ea9cb", "message": "[STORM-3271] update docs and javadocs", "committedDate": "2020-07-07T16:44:53Z", "type": "commit"}]}