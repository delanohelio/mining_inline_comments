{"pr_number": 584, "pr_title": "chore!: remove Guava Range()", "pr_createdAt": "2020-09-19T01:37:59Z", "pr_url": "https://github.com/twilio/twilio-java/pull/584", "timeline": [{"oid": "f3da3fdd179b15bef57f74be05371cbae52e1833", "url": "https://github.com/twilio/twilio-java/commit/f3da3fdd179b15bef57f74be05371cbae52e1833", "message": "chore: remove joda-time dependency", "committedDate": "2020-08-31T18:21:13Z", "type": "commit"}, {"oid": "2301ee590972c6388e547b658b852be1d468e28b", "url": "https://github.com/twilio/twilio-java/commit/2301ee590972c6388e547b658b852be1d468e28b", "message": "remove dependency", "committedDate": "2020-08-31T18:24:47Z", "type": "commit"}, {"oid": "e1418fc32d95d3c70608d53a1f96abee724911cf", "url": "https://github.com/twilio/twilio-java/commit/e1418fc32d95d3c70608d53a1f96abee724911cf", "message": "updating tests", "committedDate": "2020-08-31T19:38:42Z", "type": "commit"}, {"oid": "d344366eea7b21f5a3e4f9077bb5d246e44e38a2", "url": "https://github.com/twilio/twilio-java/commit/d344366eea7b21f5a3e4f9077bb5d246e44e38a2", "message": "updating tests", "committedDate": "2020-08-31T21:27:33Z", "type": "commit"}, {"oid": "b832d3e36937f4622de9f87ab00e125f284eda21", "url": "https://github.com/twilio/twilio-java/commit/b832d3e36937f4622de9f87ab00e125f284eda21", "message": "tests", "committedDate": "2020-09-01T00:43:50Z", "type": "commit"}, {"oid": "3e57d43e18e40b04b207b6dfb8eb103a44d85a86", "url": "https://github.com/twilio/twilio-java/commit/3e57d43e18e40b04b207b6dfb8eb103a44d85a86", "message": "revert test", "committedDate": "2020-09-01T01:30:50Z", "type": "commit"}, {"oid": "918a686624ae8ce8d9dfea51fe8311d002131bc6", "url": "https://github.com/twilio/twilio-java/commit/918a686624ae8ce8d9dfea51fe8311d002131bc6", "message": "Merge branch 'main' into di-799-joda-time", "committedDate": "2020-09-01T01:34:19Z", "type": "commit"}, {"oid": "8931ee7075e9c7ffe9fdad5e32e5ccfaf15f856b", "url": "https://github.com/twilio/twilio-java/commit/8931ee7075e9c7ffe9fdad5e32e5ccfaf15f856b", "message": "Merge branch 'main' of github.com:twilio/twilio-java into di-799-joda-time", "committedDate": "2020-09-01T01:38:49Z", "type": "commit"}, {"oid": "b62ce2ea9345b4f1e09fbd8abaedc928ea2c4439", "url": "https://github.com/twilio/twilio-java/commit/b62ce2ea9345b4f1e09fbd8abaedc928ea2c4439", "message": "Merge branch 'di-799-joda-time' of github.com:twilio/twilio-java into di-799-joda-time", "committedDate": "2020-09-01T01:39:10Z", "type": "commit"}, {"oid": "9d07584fabe2107af0742bc1ebb569a68ff0ded8", "url": "https://github.com/twilio/twilio-java/commit/9d07584fabe2107af0742bc1ebb569a68ff0ded8", "message": "fix test", "committedDate": "2020-09-01T22:06:59Z", "type": "commit"}, {"oid": "2b307b6109105ae950a5c45a8c4eed127d67bbe3", "url": "https://github.com/twilio/twilio-java/commit/2b307b6109105ae950a5c45a8c4eed127d67bbe3", "message": "Merge branch 'main' into di-799-joda-time", "committedDate": "2020-09-01T22:33:45Z", "type": "commit"}, {"oid": "dafa02d58fcd0bbf94f27dcaa49cc4e4dd57394b", "url": "https://github.com/twilio/twilio-java/commit/dafa02d58fcd0bbf94f27dcaa49cc4e4dd57394b", "message": "fix time zone offset", "committedDate": "2020-09-02T18:35:48Z", "type": "commit"}, {"oid": "22aba49a61684c5908129afa3ac1709076b2c194", "url": "https://github.com/twilio/twilio-java/commit/22aba49a61684c5908129afa3ac1709076b2c194", "message": "Merge branch 'di-799-joda-time' of github.com:twilio/twilio-java into di-799-joda-time", "committedDate": "2020-09-02T18:36:34Z", "type": "commit"}, {"oid": "272743c581173baae5e220ea81d0000fd051831f", "url": "https://github.com/twilio/twilio-java/commit/272743c581173baae5e220ea81d0000fd051831f", "message": "Merge branch 'main' into di-799-joda-time", "committedDate": "2020-09-02T20:24:47Z", "type": "commit"}, {"oid": "c10ced1fb572fd00dadeb765325af4f84dc96582", "url": "https://github.com/twilio/twilio-java/commit/c10ced1fb572fd00dadeb765325af4f84dc96582", "message": "Merge branch 'main' into di-799-joda-time", "committedDate": "2020-09-17T16:00:01Z", "type": "commit"}, {"oid": "8d936ba223979b0b084dbc9c2eccaf655787f6d3", "url": "https://github.com/twilio/twilio-java/commit/8d936ba223979b0b084dbc9c2eccaf655787f6d3", "message": "sync with latest", "committedDate": "2020-09-17T16:08:48Z", "type": "commit"}, {"oid": "61a7d5f5e73a8a1a3fb6e9884620df8b976757ff", "url": "https://github.com/twilio/twilio-java/commit/61a7d5f5e73a8a1a3fb6e9884620df8b976757ff", "message": "wip guava range replacement", "committedDate": "2020-09-18T18:59:36Z", "type": "commit"}, {"oid": "11a55dfa0a31b82ee95c3336209e325954fcd9e6", "url": "https://github.com/twilio/twilio-java/commit/11a55dfa0a31b82ee95c3336209e325954fcd9e6", "message": "merge 572", "committedDate": "2020-09-18T19:25:33Z", "type": "commit"}, {"oid": "244fe9e6a60da4c80275294cda2cc7617327e455", "url": "https://github.com/twilio/twilio-java/commit/244fe9e6a60da4c80275294cda2cc7617327e455", "message": "prep for initial code review", "committedDate": "2020-09-19T01:36:42Z", "type": "commit"}, {"oid": "99de3ccea28a1bd36d071820005ae7a77b806d76", "url": "https://github.com/twilio/twilio-java/commit/99de3ccea28a1bd36d071820005ae7a77b806d76", "message": "Merge branch 'main' into remove-guava-range", "committedDate": "2020-09-19T01:39:34Z", "type": "commit"}, {"oid": "3fd848fb876640dfa04dfcad5460ffd3caf302ef", "url": "https://github.com/twilio/twilio-java/commit/3fd848fb876640dfa04dfcad5460ffd3caf302ef", "message": "add joiner back", "committedDate": "2020-09-19T01:44:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyMzA5OA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492123098", "bodyText": "\"Range\" is not correct. Where is this coming from?", "author": "childish-sambino", "createdAt": "2020-09-21T15:03:03Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/CallReader.java", "diffHunk": "@@ -321,20 +285,12 @@ private void addQueryParams(final Request request) {\n             request.addQueryParam(\"Status\", status.toString());\n         }\n \n-        if (absoluteStartTime != null) {\n-            request.addQueryParam(\"StartTime\", absoluteStartTime.toString(Request.QUERY_STRING_DATE_TIME_FORMAT));\n-        } else if (rangeStartTime != null) {\n-            request.addQueryDateTimeRange(\"StartTime\", rangeStartTime);\n-        }\n-\n-        if (absoluteEndTime != null) {\n-            request.addQueryParam(\"EndTime\", absoluteEndTime.toString(Request.QUERY_STRING_DATE_TIME_FORMAT));\n-        } else if (rangeEndTime != null) {\n-            request.addQueryDateTimeRange(\"EndTime\", rangeEndTime);\n+        if (startTime != null || endTime != null) {\n+            request.addQueryDateTimeRange(\"Range\", startTime, endTime);", "originalCommit": "3fd848fb876640dfa04dfcad5460ffd3caf302ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjIyMzczNg==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492223736", "bodyText": "This was a mistake, should be \"EndTime\", will fix.", "author": "thinkingserious", "createdAt": "2020-09-21T17:20:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyMzA5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492124701", "bodyText": "This removes functionality where I could before provide a single EndTime rather than needing to provide both upper and lower bound on the end time.", "author": "childish-sambino", "createdAt": "2020-09-21T15:04:46Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/CallReader.java", "diffHunk": "@@ -321,20 +285,12 @@ private void addQueryParams(final Request request) {\n             request.addQueryParam(\"Status\", status.toString());\n         }\n \n-        if (absoluteStartTime != null) {\n-            request.addQueryParam(\"StartTime\", absoluteStartTime.toString(Request.QUERY_STRING_DATE_TIME_FORMAT));\n-        } else if (rangeStartTime != null) {\n-            request.addQueryDateTimeRange(\"StartTime\", rangeStartTime);\n-        }\n-\n-        if (absoluteEndTime != null) {\n-            request.addQueryParam(\"EndTime\", absoluteEndTime.toString(Request.QUERY_STRING_DATE_TIME_FORMAT));", "originalCommit": "3fd848fb876640dfa04dfcad5460ffd3caf302ef", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjIzODQzOA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492238438", "bodyText": "You can still call addQueryParam as above; however, calling addQueryDateTimeRange should be transparent to the caller since if only endTime is defined, we achieve the same effect as calling addQueryParam.\nAre you proposing that we create an additional function that sits on top of addQueryParam, something along the lines of addQueryEndDateTime? Or in these cases, just use addQueryParam as before?", "author": "thinkingserious", "createdAt": "2020-09-21T17:45:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI2NDM1OA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492264358", "bodyText": "No, I'm saying I used to be able to call setStartTime and it would add the query param StartTime=. Now it does EndTime>= I'm guessing?", "author": "childish-sambino", "createdAt": "2020-09-21T18:31:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI4NTIyOQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492285229", "bodyText": "This is the current behavior when we just set the startTime and this example for setting just the endTime. And here is how we did it before.", "author": "thinkingserious", "createdAt": "2020-09-21T19:09:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMwNTQ1NQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492305455", "bodyText": "Those are Request examples. I'm talking about the CallReader interface.", "author": "childish-sambino", "createdAt": "2020-09-21T19:46:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzOTkyMQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492339921", "bodyText": "Ah, how about replacing setStartTime() and setEndTime() with setAbsoluteStartTime(), setAbsoluteEndTime(), setRangeStartTime() and setRangeEndTime()?", "author": "thinkingserious", "createdAt": "2020-09-21T20:53:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM0NDM5OQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492344399", "bodyText": "Why can't we use what all the other languages use? Examples: https://www.twilio.com/docs/sms/api/message-resource?code-sample=code-read-list-messages-filter-by-before-sent-date&code-language=Ruby&code-sdk-version=5.x\nsetStartTime, setStartTimeBefore, setStartTimeAfter.", "author": "childish-sambino", "createdAt": "2020-09-21T21:02:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM1NjUwMA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492356500", "bodyText": "The biggest difference is that in other languages we can pass named parameters. In the closest implementation (C#), we have a builder that sorts the date/time stuff.\nIn the Java case, we can keep the building of the query params in addQueryParams and then add the variables startTime, startTimeBefore, startTimeAfter, endTimeBefore, endTime and endTimeAfter along with their getters & setters. How does that implementation sound?", "author": "thinkingserious", "createdAt": "2020-09-21T21:28:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM1NzU0Nw==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492357547", "bodyText": "That's fine. As long as users can still individually provide startTime, startTimeBefore, and startTimeAfter.", "author": "childish-sambino", "createdAt": "2020-09-21T21:30:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjEyNDcwMQ=="}], "type": "inlineReview"}, {"oid": "a5f7797dd4fab4a5f2f0f26d755e6c0431c13538", "url": "https://github.com/twilio/twilio-java/commit/a5f7797dd4fab4a5f2f0f26d755e6c0431c13538", "message": "fix mislabeled param", "committedDate": "2020-09-21T17:47:18Z", "type": "commit"}, {"oid": "4e655c042949d48bdcf6ea8f7f2b57a93abc8aea", "url": "https://github.com/twilio/twilio-java/commit/4e655c042949d48bdcf6ea8f7f2b57a93abc8aea", "message": "update date time functionality", "committedDate": "2020-09-22T01:35:25Z", "type": "commit"}, {"oid": "7f71500a8fee4203e09574eae943178bfa37bcd0", "url": "https://github.com/twilio/twilio-java/commit/7f71500a8fee4203e09574eae943178bfa37bcd0", "message": "Merge branch 'main' into remove-guava-range", "committedDate": "2020-09-22T02:20:39Z", "type": "commit"}, {"oid": "f3f5d30c267e37fb9f027b47695d2734a1bcc800", "url": "https://github.com/twilio/twilio-java/commit/f3f5d30c267e37fb9f027b47695d2734a1bcc800", "message": "no joda time", "committedDate": "2020-09-22T04:43:49Z", "type": "commit"}, {"oid": "b2f66d69668af4389122d53f79e9eb0bb87faf5f", "url": "https://github.com/twilio/twilio-java/commit/b2f66d69668af4389122d53f79e9eb0bb87faf5f", "message": "fix time zone issue", "committedDate": "2020-09-22T17:22:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjkyOTc3MQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492929771", "bodyText": "This should nullify this.startTime, and setStartTime should nullify this.startTimeBefore/After.", "author": "childish-sambino", "createdAt": "2020-09-22T17:59:07Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/CallReader.java", "diffHunk": "@@ -127,46 +131,21 @@ public CallReader setStatus(final Call.Status status) {\n      * `StartTime&gt;=YYYY-MM-DD` to read calls that started on or after midnight of\n      * this date..\n      *\n-     * @param absoluteStartTime Only include calls that started on this date\n+     * @param startTime Only include calls that started on this date\n      * @return this\n      */\n-    public CallReader setStartTime(final DateTime absoluteStartTime) {\n-        this.rangeStartTime = null;\n-        this.absoluteStartTime = absoluteStartTime;\n+    public CallReader setStartTime(final ZonedDateTime startTime) {\n+        this.startTime = startTime;\n         return this;\n     }\n \n-    /**\n-     * Only include calls that started on this date. Specify a date as `YYYY-MM-DD`\n-     * in GMT, for example: `2009-07-06`, to read only calls that started on this\n-     * date. You can also specify an inequality, such as `StartTime&lt;=YYYY-MM-DD`,\n-     * to read calls that started on or before midnight of this date, and\n-     * `StartTime&gt;=YYYY-MM-DD` to read calls that started on or after midnight of\n-     * this date..\n-     *\n-     * @param rangeStartTime Only include calls that started on this date\n-     * @return this\n-     */\n-    public CallReader setStartTime(final Range<DateTime> rangeStartTime) {\n-        this.absoluteStartTime = null;\n-        this.rangeStartTime = rangeStartTime;\n+    public CallReader setStartTimeBefore(final ZonedDateTime startTimeBefore) {\n+        this.startTimeBefore = startTimeBefore;", "originalCommit": "b2f66d69668af4389122d53f79e9eb0bb87faf5f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAxNjg2Ng==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493016866", "bodyText": "Ah, same for the other methods too, correct? I'll add some tests to verify this functionality.", "author": "thinkingserious", "createdAt": "2020-09-22T20:34:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjkyOTc3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk2MTUxMQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492961511", "bodyText": "What happened to these docs? They provide context for the difference between startTime and startTimeBefore, etc.", "author": "eshanholtz", "createdAt": "2020-09-22T18:52:04Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/CallReader.java", "diffHunk": "@@ -127,46 +131,21 @@ public CallReader setStatus(final Call.Status status) {\n      * `StartTime&gt;=YYYY-MM-DD` to read calls that started on or after midnight of\n      * this date..\n      *\n-     * @param absoluteStartTime Only include calls that started on this date\n+     * @param startTime Only include calls that started on this date\n      * @return this\n      */\n-    public CallReader setStartTime(final DateTime absoluteStartTime) {\n-        this.rangeStartTime = null;\n-        this.absoluteStartTime = absoluteStartTime;\n+    public CallReader setStartTime(final ZonedDateTime startTime) {\n+        this.startTime = startTime;\n         return this;\n     }\n \n-    /**\n-     * Only include calls that started on this date. Specify a date as `YYYY-MM-DD`\n-     * in GMT, for example: `2009-07-06`, to read only calls that started on this\n-     * date. You can also specify an inequality, such as `StartTime&lt;=YYYY-MM-DD`,\n-     * to read calls that started on or before midnight of this date, and\n-     * `StartTime&gt;=YYYY-MM-DD` to read calls that started on or after midnight of\n-     * this date..", "originalCommit": "b2f66d69668af4389122d53f79e9eb0bb87faf5f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk2MzA3Ng==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r492963076", "bodyText": "They're up above on setStartTime. It doesn't really make sense on any of these methods specifically since it's talking about StartTime&gt;=YYYY-MM-DD and the like.", "author": "childish-sambino", "createdAt": "2020-09-22T18:54:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk2MTUxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwNzg0OA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493007848", "bodyText": "I think some clarification that the Before() maps to StartTime&lt;=YYYY-MM-DD and After maps to StartTime&gt;=YYYY-MM-DD would be helpful in these situations. Yes the docs say that you can specify the inequality, but they're not on the methods that actually allow you to use that functionality.", "author": "eshanholtz", "createdAt": "2020-09-22T20:18:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk2MTUxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwODQyOA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493008428", "bodyText": "The doc string is coming from the api definition.", "author": "childish-sambino", "createdAt": "2020-09-22T20:19:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk2MTUxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAxMTY1MQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493011651", "bodyText": "Yeah, but we control the building of these additional functions. We can make the inequality setter builders render a clarifying function docstring ourselves that is independent of api-defs", "author": "eshanholtz", "createdAt": "2020-09-22T20:25:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk2MTUxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzA0MjEzOA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493042138", "bodyText": "I will be looking at these comments again after implementing the Yoyodyne changes to ensure they make sense in context.", "author": "thinkingserious", "createdAt": "2020-09-22T21:23:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk2MTUxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwNDM5Nw==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493004397", "bodyText": "Why is this a LocalDate type when it previously had date_time precision?", "author": "eshanholtz", "createdAt": "2020-09-22T20:11:27Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/MessageReader.java", "diffHunk": "@@ -95,31 +98,23 @@ public MessageReader setFrom(final String from) {\n      * sent on or before midnight on a date, and `DateSent&gt;=YYYY-MM-DD` to read\n      * messages sent on or after midnight on a date..\n      *\n-     * @param absoluteDateSent Filter by date sent\n+     * @param dateSent Filter by date sent\n      * @return this\n      */\n-    public MessageReader setDateSent(final DateTime absoluteDateSent) {\n-        this.rangeDateSent = null;\n-        this.absoluteDateSent = absoluteDateSent;\n+    public MessageReader setDateSent(final LocalDate dateSent) {", "originalCommit": "b2f66d69668af4389122d53f79e9eb0bb87faf5f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAyMDQ4NQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493020485", "bodyText": "Great catch! I'm going to double check all of these mappings. This particular one should be a ZonedDateTime.\nReference:\norg.joda.time.DateTime ~> java.time.ZonedDateTime\norg.joda.time.LocalDate ~> java.time.LocalDate", "author": "thinkingserious", "createdAt": "2020-09-22T20:41:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwNDM5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAyMzAyMQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493023021", "bodyText": "Are you making use of/updating the type mappings defined in api-defs? https://code.hq.twilio.com/twilio/api-definitions/blob/master/types/java.json", "author": "eshanholtz", "createdAt": "2020-09-22T20:45:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwNDM5Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAzNzgwMQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r493037801", "bodyText": "Yes: https://code.hq.twilio.com/twilio/api-definitions/pull/2068/files\nThis will also be updated as part of this PR to remove the Range type.", "author": "thinkingserious", "createdAt": "2020-09-22T21:14:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwNDM5Nw=="}], "type": "inlineReview"}, {"oid": "319bc947fb865543908be434fb5396f1e0d74acc", "url": "https://github.com/twilio/twilio-java/commit/319bc947fb865543908be434fb5396f1e0d74acc", "message": "Merge branch 'main' into remove-guava-range", "committedDate": "2020-09-22T21:19:55Z", "type": "commit"}, {"oid": "5461d71ffb3d9a08774cf981aa6146f4522213a8", "url": "https://github.com/twilio/twilio-java/commit/5461d71ffb3d9a08774cf981aa6146f4522213a8", "message": "fix setter and getter logic", "committedDate": "2020-09-23T00:58:36Z", "type": "commit"}, {"oid": "4a6510f4acebae0d7e776b15fb057278842401b0", "url": "https://github.com/twilio/twilio-java/commit/4a6510f4acebae0d7e776b15fb057278842401b0", "message": "merge festival", "committedDate": "2020-09-23T01:46:31Z", "type": "commit"}, {"oid": "542b91640eb39756db50e13a5e8425267d2e4b46", "url": "https://github.com/twilio/twilio-java/commit/542b91640eb39756db50e13a5e8425267d2e4b46", "message": "more merging", "committedDate": "2020-09-23T01:48:44Z", "type": "commit"}, {"oid": "9ccf112b654a048da18d0b5288766d608215a9fa", "url": "https://github.com/twilio/twilio-java/commit/9ccf112b654a048da18d0b5288766d608215a9fa", "message": "moar merging", "committedDate": "2020-09-23T02:10:38Z", "type": "commit"}, {"oid": "948db70ca5c64c3d7223bcc38075711680632cb1", "url": "https://github.com/twilio/twilio-java/commit/948db70ca5c64c3d7223bcc38075711680632cb1", "message": "moar merging", "committedDate": "2020-09-23T02:41:12Z", "type": "commit"}, {"oid": "179e78b87206afb4945dc31bbbca0e619e15e5eb", "url": "https://github.com/twilio/twilio-java/commit/179e78b87206afb4945dc31bbbca0e619e15e5eb", "message": "fixing test errors", "committedDate": "2020-09-23T05:48:04Z", "type": "commit"}, {"oid": "da18dad0e48edfb36b6ecd1d2455e6f23625255c", "url": "https://github.com/twilio/twilio-java/commit/da18dad0e48edfb36b6ecd1d2455e6f23625255c", "message": "fix time zones", "committedDate": "2020-09-23T17:25:33Z", "type": "commit"}, {"oid": "6d4600f6aab710181df6873887f055529cc47486", "url": "https://github.com/twilio/twilio-java/commit/6d4600f6aab710181df6873887f055529cc47486", "message": "mergeathon", "committedDate": "2020-09-23T18:23:29Z", "type": "commit"}, {"oid": "2a6c74c75fd98c8643523e5a545e557335552624", "url": "https://github.com/twilio/twilio-java/commit/2a6c74c75fd98c8643523e5a545e557335552624", "message": "merge all the things", "committedDate": "2020-09-23T18:31:08Z", "type": "commit"}, {"oid": "e11e614983ccbb281afe0bef4e6bdfb9b71ef5aa", "url": "https://github.com/twilio/twilio-java/commit/e11e614983ccbb281afe0bef4e6bdfb9b71ef5aa", "message": "time zone update", "committedDate": "2020-09-23T18:46:17Z", "type": "commit"}, {"oid": "e03a9d164cb80f36a7fd3ae39b88a1f0b280ee6b", "url": "https://github.com/twilio/twilio-java/commit/e03a9d164cb80f36a7fd3ae39b88a1f0b280ee6b", "message": "Merge branch 'main' of github.com:twilio/twilio-java into remove-guava-range", "committedDate": "2020-09-23T18:47:29Z", "type": "commit"}, {"oid": "81f88b6c48e9ef031d9db01ce7cf6530bd9cd876", "url": "https://github.com/twilio/twilio-java/commit/81f88b6c48e9ef031d9db01ce7cf6530bd9cd876", "message": "fix upgrade guide", "committedDate": "2020-09-24T13:41:12Z", "type": "commit"}, {"oid": "ee4b0c9158b5c1201042aa712f2faec1cf5535d1", "url": "https://github.com/twilio/twilio-java/commit/ee4b0c9158b5c1201042aa712f2faec1cf5535d1", "message": "Merge branch 'main' of github.com:twilio/twilio-java into remove-guava-range", "committedDate": "2020-09-24T14:09:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MDczNQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494360735", "bodyText": "Lots of trivial whitespace changes cluttering up the PR should be removed (to files where there are no other changes).", "author": "childish-sambino", "createdAt": "2020-09-24T14:22:21Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/Recording.java", "diffHunk": "@@ -27,6 +27,7 @@\n import com.twilio.rest.Domains;\n import lombok.ToString;\n \n+", "originalCommit": "ee4b0c9158b5c1201042aa712f2faec1cf5535d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2OTEwNA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494369104", "bodyText": "Fixing these with the Yoyodyne generation.", "author": "thinkingserious", "createdAt": "2020-09-24T14:32:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MDczNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MTMxMQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494361311", "bodyText": "Duplicate imports in several files.", "author": "childish-sambino", "createdAt": "2020-09-24T14:23:07Z", "path": "src/main/java/com/twilio/type/PhoneNumberPrice.java", "diffHunk": "@@ -8,6 +8,8 @@\n \n import java.util.Objects;\n \n+import lombok.ToString;", "originalCommit": "ee4b0c9158b5c1201042aa712f2faec1cf5535d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2OTE4NA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494369184", "bodyText": "Fixing these with the Yoyodyne generation.", "author": "thinkingserious", "createdAt": "2020-09-24T14:32:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MTMxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MjA1Nw==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494362057", "bodyText": "This should be in a separate PR.", "author": "childish-sambino", "createdAt": "2020-09-24T14:24:01Z", "path": "src/main/java/com/twilio/rest/events/v1/Schema.java", "diffHunk": "@@ -109,7 +111,7 @@ private Schema(@JsonProperty(\"id\")\n         this.id = id;\n         this.url = url;\n         this.links = links;\n-        this.lastCreated = DateConverter.iso8601DateTimeFromString(lastCreated);\n+        this.lastCreated = ZonedDateTime.parse(lastCreated);", "originalCommit": "ee4b0c9158b5c1201042aa712f2faec1cf5535d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTEyODIzMg==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r495128232", "bodyText": "Thought I caught that one ...", "author": "thinkingserious", "createdAt": "2020-09-25T17:20:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MjA1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2NDM2MA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494364360", "bodyText": "Why is there no messageDate here? Was this not generated by yoyodyne?", "author": "childish-sambino", "createdAt": "2020-09-24T14:26:55Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/call/NotificationReader.java", "diffHunk": "@@ -218,14 +215,12 @@ private void addQueryParams(final Request request) {\n             request.addQueryParam(\"Log\", log.toString());\n         }\n \n-        if (absoluteMessageDate != null) {\n-            request.addQueryParam(\"MessageDate\", absoluteMessageDate.format(DateTimeFormatter.ofPattern(Request.QUERY_STRING_DATE_FORMAT)));\n-        } else if (rangeMessageDate != null) {\n-            request.addQueryDateRange(\"MessageDate\", rangeMessageDate);\n+        if (startMessageDate != null || endMessageDate != null) {", "originalCommit": "ee4b0c9158b5c1201042aa712f2faec1cf5535d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM3MDM2NQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494370365", "bodyText": "This is a manual mistake, fixing.", "author": "thinkingserious", "createdAt": "2020-09-24T14:34:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2NDM2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2NDgwMg==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r494364802", "bodyText": "nit: Combine into else if.", "author": "childish-sambino", "createdAt": "2020-09-24T14:27:29Z", "path": "src/main/java/com/twilio/rest/api/v2010/account/RecordingReader.java", "diffHunk": "@@ -225,10 +220,12 @@ public RecordingReader setConferenceSid(final String conferenceSid) {\n      * @param request Request to add query string arguments to\n      */\n     private void addQueryParams(final Request request) {\n-        if (absoluteDateCreated != null) {\n-            request.addQueryParam(\"DateCreated\", absoluteDateCreated.format(DateTimeFormatter.ofPattern(Request.QUERY_STRING_DATE_TIME_FORMAT)));\n-        } else if (rangeDateCreated != null) {\n-            request.addQueryDateTimeRange(\"DateCreated\", rangeDateCreated);\n+        if (dateCreated != null) {\n+            request.addQueryParam(\"DateCreated\", dateCreated.format(DateTimeFormatter.ofPattern(Request.QUERY_STRING_DATE_TIME_FORMAT)));\n+        } else {\n+            if (dateCreatedBefore != null || dateCreatedAfter != null) {", "originalCommit": "ee4b0c9158b5c1201042aa712f2faec1cf5535d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9b78b90b7548e63e08ab7a6a6505e6bae2371fce", "url": "https://github.com/twilio/twilio-java/commit/9b78b90b7548e63e08ab7a6a6505e6bae2371fce", "message": "formatting changes, fixes", "committedDate": "2020-09-24T14:43:02Z", "type": "commit"}, {"oid": "d45f8576d933d590b3b0fefc783d0af02d2390e4", "url": "https://github.com/twilio/twilio-java/commit/d45f8576d933d590b3b0fefc783d0af02d2390e4", "message": "formatting", "committedDate": "2020-09-24T14:57:10Z", "type": "commit"}, {"oid": "4e77946387ef186cdcf44052de8dc48312843988", "url": "https://github.com/twilio/twilio-java/commit/4e77946387ef186cdcf44052de8dc48312843988", "message": "remove duplicates", "committedDate": "2020-09-24T15:01:42Z", "type": "commit"}, {"oid": "c76b2221358f315fd1975db795e342124f0a8623", "url": "https://github.com/twilio/twilio-java/commit/c76b2221358f315fd1975db795e342124f0a8623", "message": "yoyodyne", "committedDate": "2020-09-25T01:32:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAyODQ0MQ==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r495028441", "bodyText": "This is being called as request.addQueryDateTimeRange(\"StartTime\", startTimeBefore, startTimeAfter);, but startTimeBefore is really an upper bound.\nGiven that this was able to pass without any tests breaking, tests need to be updated to catch this.", "author": "childish-sambino", "createdAt": "2020-09-25T14:30:23Z", "path": "src/main/java/com/twilio/http/Request.java", "diffHunk": "@@ -216,16 +216,17 @@ public void addQueryDateRange(final String name, final Range<LocalDate> range) {\n      * Add query parameters for date ranges.\n      *\n      * @param name  name of query parameter\n-     * @param range date range\n+     * @param lowerBound date lowerBound\n+     * @param upperBound date upperBound\n      */\n-    public void addQueryDateTimeRange(final String name, final Range<ZonedDateTime> range) {\n-        if (range.hasLowerBound()) {\n-            String value = range.lowerEndpoint().withZoneSameInstant(ZoneOffset.UTC).format(DateTimeFormatter.ofPattern(QUERY_STRING_DATE_TIME_FORMAT));\n+    public void addQueryDateTimeRange(final String name, final ZonedDateTime lowerBound, final ZonedDateTime upperBound) {", "originalCommit": "c76b2221358f315fd1975db795e342124f0a8623", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTEyODM3Nw==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r495128377", "bodyText": "Nice catch! Will fix.", "author": "thinkingserious", "createdAt": "2020-09-25T17:21:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAyODQ0MQ=="}], "type": "inlineReview"}, {"oid": "e58f328a36e342d358b6f131eb59c63adfca9010", "url": "https://github.com/twilio/twilio-java/commit/e58f328a36e342d358b6f131eb59c63adfca9010", "message": "fix date lower and upper bounds", "committedDate": "2020-09-25T19:05:28Z", "type": "commit"}, {"oid": "2ba68b6a866de2d2bfb632ef5ae09ad43f326855", "url": "https://github.com/twilio/twilio-java/commit/2ba68b6a866de2d2bfb632ef5ae09ad43f326855", "message": "fix bound order", "committedDate": "2020-09-25T19:13:15Z", "type": "commit"}, {"oid": "21def15726e4afb5cc984e5bca8d3329024a97ea", "url": "https://github.com/twilio/twilio-java/commit/21def15726e4afb5cc984e5bca8d3329024a97ea", "message": "cover zoneddatetime also", "committedDate": "2020-09-25T21:03:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTI1NjczMA==", "url": "https://github.com/twilio/twilio-java/pull/584#discussion_r495256730", "bodyText": "We don't do this in other languages. I'm against doing it here.", "author": "childish-sambino", "createdAt": "2020-09-25T21:45:32Z", "path": "src/main/java/com/twilio/http/Request.java", "diffHunk": "@@ -198,16 +197,27 @@ private String buildURL() {\n      * Add query parameters for date ranges.\n      *\n      * @param name  name of query parameter\n-     * @param range date range\n+     * @param lowerBound lower bound of LocalDate range\n+     * @param upperBound upper bound of LocalDate range\n      */\n-    public void addQueryDateRange(final String name, final Range<LocalDate> range) {\n-        if (range.hasLowerBound()) {\n-            String value = range.lowerEndpoint().format(DateTimeFormatter.ofPattern(QUERY_STRING_DATE_FORMAT));\n+    public void addQueryDateRange(final String name, LocalDate lowerBound, LocalDate upperBound) {\n+        // automatically switch bounds if they were passed in backwards\n+        if (lowerBound != null && upperBound != null) {", "originalCommit": "21def15726e4afb5cc984e5bca8d3329024a97ea", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "63c4b325e84dd379b49ed56c3ca8262143d63e5d", "url": "https://github.com/twilio/twilio-java/commit/63c4b325e84dd379b49ed56c3ca8262143d63e5d", "message": "remove magic", "committedDate": "2020-09-25T22:01:28Z", "type": "commit"}]}