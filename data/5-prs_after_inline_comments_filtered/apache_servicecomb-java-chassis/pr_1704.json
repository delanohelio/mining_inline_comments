{"pr_number": 1704, "pr_title": "[SCB-1863] toke the revision when pull from kie", "pr_createdAt": "2020-04-09T09:33:37Z", "pr_url": "https://github.com/apache/servicecomb-java-chassis/pull/1704", "timeline": [{"oid": "20aafe3efaa9b84ced6127ccb2f5599be7cd3bf1", "url": "https://github.com/apache/servicecomb-java-chassis/commit/20aafe3efaa9b84ced6127ccb2f5599be7cd3bf1", "message": "[SCB-1861] toke the revision when pull from kie", "committedDate": "2020-04-13T01:51:20Z", "type": "forcePushed"}, {"oid": "5f755f5120668129b9d3ed77f3bb4cfc78af5a0d", "url": "https://github.com/apache/servicecomb-java-chassis/commit/5f755f5120668129b9d3ed77f3bb4cfc78af5a0d", "message": "[SCB-1861] toke the revision when pull from kie", "committedDate": "2020-04-22T01:26:25Z", "type": "commit"}, {"oid": "5f755f5120668129b9d3ed77f3bb4cfc78af5a0d", "url": "https://github.com/apache/servicecomb-java-chassis/commit/5f755f5120668129b9d3ed77f3bb4cfc78af5a0d", "message": "[SCB-1861] toke the revision when pull from kie", "committedDate": "2020-04-22T01:26:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDIyOTc1MA==", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1704#discussion_r414229750", "bodyText": "revision is a static member, it is not good.", "author": "liubao68", "createdAt": "2020-04-24T01:29:13Z", "path": "dynamic-config/config-kie/src/main/java/org/apache/servicecomb/config/kie/client/KieClient.java", "diffHunk": "@@ -115,8 +117,8 @@ void refreshConfig(CountDownLatch latch) {\n       String path = \"/v1/\"\n           + KieConfig.INSTANCE.getDomainName()\n           + \"/kie/kv?label=app:\"\n-          + KieConfig.INSTANCE.getAppName();\n-\n+          + KieConfig.INSTANCE.getAppName()\n+          + \"&revision=\" + revision;", "originalCommit": "5f755f5120668129b9d3ed77f3bb4cfc78af5a0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDIzMzU4Nw==", "url": "https://github.com/apache/servicecomb-java-chassis/pull/1704#discussion_r414233587", "bodyText": "IS_FIRST_PULL  revision  is better to use instance property, not static. When KieClient has only one instance, instance property is better. When KieClient has many instances(not possible), static is not good eitheir.", "author": "liubao68", "createdAt": "2020-04-24T01:42:41Z", "path": "dynamic-config/config-kie/src/main/java/org/apache/servicecomb/config/kie/client/KieClient.java", "diffHunk": "@@ -57,6 +57,8 @@\n \n   private static final int LONG_POLLING_WAIT_TIME_IN_SECONDS = 30;\n \n+  private static String revision = \"0\";", "originalCommit": "5f755f5120668129b9d3ed77f3bb4cfc78af5a0d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}