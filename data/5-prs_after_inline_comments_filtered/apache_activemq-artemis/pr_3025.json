{"pr_number": 3025, "pr_title": "NO-JIRA Fixing GeneralInteropTest", "pr_createdAt": "2020-03-17T16:43:16Z", "pr_url": "https://github.com/apache/activemq-artemis/pull/3025", "timeline": [{"oid": "395eb1a2bb3e81a22acebad96c23be4b1df099a6", "url": "https://github.com/apache/activemq-artemis/commit/395eb1a2bb3e81a22acebad96c23be4b1df099a6", "message": "NO-JIRA Fixing GeneralInteropTest", "committedDate": "2020-03-17T16:42:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwNDI1MQ==", "url": "https://github.com/apache/activemq-artemis/pull/3025#discussion_r393904251", "bodyText": "After the reconnection, the deliveringCount should be equal to the prefetchSize.", "author": "brusdev", "createdAt": "2020-03-17T19:00:21Z", "path": "tests/integration-tests/src/test/java/org/apache/activemq/artemis/tests/integration/openwire/interop/GeneralInteropTest.java", "diffHunk": "@@ -235,13 +235,15 @@ public void testFailoverReceivingFromCore() throws Exception {\n             }\n          }\n \n+         Wait.assertEquals(0, queueControl::getDeliveringCount);", "originalCommit": "395eb1a2bb3e81a22acebad96c23be4b1df099a6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzkwNDM0NA==", "url": "https://github.com/apache/activemq-artemis/pull/3025#discussion_r393904344", "bodyText": "After 2 acknowledges the count should be 2.", "author": "brusdev", "createdAt": "2020-03-17T19:00:31Z", "path": "tests/integration-tests/src/test/java/org/apache/activemq/artemis/tests/integration/openwire/interop/GeneralInteropTest.java", "diffHunk": "@@ -235,13 +235,15 @@ public void testFailoverReceivingFromCore() throws Exception {\n             }\n          }\n \n+         Wait.assertEquals(0, queueControl::getDeliveringCount);\n+\n          message = consumer.receive(5000);\n          assertNotNull(message);\n          assertTrue(message instanceof TextMessage);\n          assertEquals(text + 1, ((TextMessage)message).getText());\n          message.acknowledge();\n \n-         Wait.assertEquals(2L, () -> queueControl.getMessagesAcknowledged(), 3000, 100);\n+         Wait.assertEquals(1L, () -> queueControl.getMessagesAcknowledged(), 3000, 100);", "originalCommit": "395eb1a2bb3e81a22acebad96c23be4b1df099a6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}