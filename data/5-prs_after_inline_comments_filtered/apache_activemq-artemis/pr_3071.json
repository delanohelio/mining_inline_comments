{"pr_number": 3071, "pr_title": "ARTEMIS-2659 / ARTEMIS-2673 Fix AmqpSendReceiveTest.testAcceptWithoutSetting", "pr_createdAt": "2020-04-08T02:47:15Z", "pr_url": "https://github.com/apache/activemq-artemis/pull/3071", "timeline": [{"oid": "858a8240f97f7cd2fc3bca052ff74a97c0bf886c", "url": "https://github.com/apache/activemq-artemis/commit/858a8240f97f7cd2fc3bca052ff74a97c0bf886c", "message": "ARTEMIS-2659 / ARTEMIS-2673 Fix AmqpSendReceiveTest.testAcceptWithoutSettling", "committedDate": "2020-04-08T03:06:40Z", "type": "commit"}, {"oid": "858a8240f97f7cd2fc3bca052ff74a97c0bf886c", "url": "https://github.com/apache/activemq-artemis/commit/858a8240f97f7cd2fc3bca052ff74a97c0bf886c", "message": "ARTEMIS-2659 / ARTEMIS-2673 Fix AmqpSendReceiveTest.testAcceptWithoutSettling", "committedDate": "2020-04-08T03:06:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTM0MDE5Ng==", "url": "https://github.com/apache/activemq-artemis/pull/3071#discussion_r405340196", "bodyText": "dealer ???", "author": "michaelpearce-gain", "createdAt": "2020-04-08T08:15:42Z", "path": "artemis-protocols/artemis-amqp-protocol/src/main/java/org/apache/activemq/artemis/protocol/amqp/proton/ProtonServerSenderContext.java", "diffHunk": "@@ -629,7 +629,16 @@ public void onMessage(Delivery delivery) throws ActiveMQAMQPException {\n             // this can happen in the twice ack mode, that is the receiver accepts and settles separately\n             // acking again would show an exception but would have no negative effect but best to handle anyway.\n             if (!delivery.isSettled()) {\n-               inSessionACK(delivery, message);\n+               // we have to individual ack as we can't guarantee we will get the delivery updates\n+               // (including acks) in order from dealer, a performance hit but a must", "originalCommit": "858a8240f97f7cd2fc3bca052ff74a97c0bf886c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}