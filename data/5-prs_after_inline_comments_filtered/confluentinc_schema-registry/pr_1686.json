{"pr_number": 1686, "pr_title": "MMA-8608 Handle duplicate configs after stripping prefix", "pr_createdAt": "2020-11-18T19:09:44Z", "pr_url": "https://github.com/confluentinc/schema-registry/pull/1686", "timeline": [{"oid": "a199ad83802923962446afaca916a260e6fe4c5a", "url": "https://github.com/confluentinc/schema-registry/commit/a199ad83802923962446afaca916a260e6fe4c5a", "message": "MMA-8608 Handle duplicate configs after stripping prefix", "committedDate": "2020-11-18T19:08:56Z", "type": "commit"}, {"oid": "9b936132fccc612c2d79eb8801e3b1179f73fcaf", "url": "https://github.com/confluentinc/schema-registry/commit/9b936132fccc612c2d79eb8801e3b1179f73fcaf", "message": "Minor cleanup", "committedDate": "2020-11-18T19:10:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM2MTc3Nw==", "url": "https://github.com/confluentinc/schema-registry/pull/1686#discussion_r526361777", "bodyText": "Don't you want to try with a different \"value\" to actually see whether toMap mergefunction got executed and indeed replaces a new value? So maybe\nduplicateConfigs.put(\"key\", \"value1\"); duplicateConfigs.put(\"schema.registry.key\", \"value\");", "author": "bhattas", "createdAt": "2020-11-18T19:27:20Z", "path": "client/src/test/java/io/confluent/kafka/schemaregistry/client/CachedSchemaRegistryClientTest.java", "diffHunk": "@@ -87,6 +87,27 @@ public void testHttpHeaderConfiguration() {\n     verify(restService);\n   }\n \n+  @Test\n+  public void testDuplicateClientNamespaceConfiguration() {\n+    Map<String, String> configs = Collections.singletonMap(\"key\", \"value\");\n+    restService.configure(configs);\n+    expectLastCall();\n+\n+    replay(restService);\n+\n+    Map<String, String> duplicateConfigs = new HashMap<>();\n+    duplicateConfigs.put(\"key\", \"value\");\n+    duplicateConfigs.put(\"schema.registry.key\", \"value\");", "originalCommit": "9b936132fccc612c2d79eb8801e3b1179f73fcaf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM2NjQ5Mw==", "url": "https://github.com/confluentinc/schema-registry/pull/1686#discussion_r526366493", "bodyText": "Actually the code (existing, replacement) -> replacement isn't really that meaningful, since most of the time the passed in Map will be a HashMap, and the order of traversal is non-deterministic.   I did verify that if a LinkedHashMap with different values is passed, the last value is retained.", "author": "rayokota", "createdAt": "2020-11-18T19:35:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjM2MTc3Nw=="}], "type": "inlineReview"}]}