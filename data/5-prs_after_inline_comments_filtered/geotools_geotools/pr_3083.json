{"pr_number": 3083, "pr_title": "[GEOT-6669] GeoPackage ST_MinX,ST_MinY,ST_MaxX,ST_MaxY cause the creation of lots of object wrappers", "pr_createdAt": "2020-07-22T15:29:24Z", "pr_url": "https://github.com/geotools/geotools/pull/3083", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM5MzY4OA==", "url": "https://github.com/geotools/geotools/pull/3083#discussion_r459393688", "bodyText": "(c) 2020", "author": "dromagnoli", "createdAt": "2020-07-23T11:54:07Z", "path": "modules/plugin/geopkg/src/main/java/org/geotools/geopkg/geom/GeometryBooleanFunction.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2010, Open Source Geospatial Foundation (OSGeo)", "originalCommit": "0bf1b0304efde36f02a68ec266850962192734aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM5MzkwNw==", "url": "https://github.com/geotools/geotools/pull/3083#discussion_r459393907", "bodyText": "(c) 2020", "author": "dromagnoli", "createdAt": "2020-07-23T11:54:35Z", "path": "modules/plugin/geopkg/src/main/java/org/geotools/geopkg/geom/GeometryDoubleFunction.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2010, Open Source Geospatial Foundation (OSGeo)", "originalCommit": "0bf1b0304efde36f02a68ec266850962192734aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM5Nzc1Mw==", "url": "https://github.com/geotools/geotools/pull/3083#discussion_r459397753", "bodyText": "Not sure about the meaning of the \"1\" value parameter but I have noticed it's in all the other calls except this one.", "author": "dromagnoli", "createdAt": "2020-07-23T12:02:26Z", "path": "modules/plugin/geopkg/src/main/java/org/geotools/geopkg/GeoPackage.java", "diffHunk": "@@ -308,56 +309,66 @@ static void createFunctions(Connection cx) throws SQLException {\n         Function.create(\n                 cx,\n                 \"ST_MinX\",\n-                new GeometryFunction() {\n-                    @Override\n-                    public Object execute(GeoPkgGeomReader reader) throws IOException {\n+                new GeometryDoubleFunction() {\n+\n+                    public double execute(GeoPkgGeomReader reader) throws IOException {\n                         return reader.getEnvelope().getMinX();\n                     }\n-                });\n+                },", "originalCommit": "0bf1b0304efde36f02a68ec266850962192734aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM5ODk5Mw==", "url": "https://github.com/geotools/geotools/pull/3083#discussion_r459398993", "bodyText": "Oh right, needs to be added, it tells sqlite how many params the function will take, so that it can do the arg count check by itself.", "author": "aaime", "createdAt": "2020-07-23T12:05:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM5Nzc1Mw=="}], "type": "inlineReview"}, {"oid": "3c7a9069ff87c2fb3c34d49fef51c259b39f5062", "url": "https://github.com/geotools/geotools/commit/3c7a9069ff87c2fb3c34d49fef51c259b39f5062", "message": "[GEOT-6669] GeoPackage ST_MinX,ST_MinY,ST_MaxX,ST_MaxY cause the creation of lots of object wrappers", "committedDate": "2020-07-23T12:39:00Z", "type": "commit"}, {"oid": "3c7a9069ff87c2fb3c34d49fef51c259b39f5062", "url": "https://github.com/geotools/geotools/commit/3c7a9069ff87c2fb3c34d49fef51c259b39f5062", "message": "[GEOT-6669] GeoPackage ST_MinX,ST_MinY,ST_MaxX,ST_MaxY cause the creation of lots of object wrappers", "committedDate": "2020-07-23T12:39:00Z", "type": "forcePushed"}]}