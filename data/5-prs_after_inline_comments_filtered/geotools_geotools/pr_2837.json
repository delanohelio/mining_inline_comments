{"pr_number": 2837, "pr_title": "[GEOT-6520] better handling of timezones in geopkg date columns", "pr_createdAt": "2020-03-10T20:42:25Z", "pr_url": "https://github.com/geotools/geotools/pull/2837", "timeline": [{"oid": "a10285a03e2be690c1ab0a1fd55a52894109cba7", "url": "https://github.com/geotools/geotools/commit/a10285a03e2be690c1ab0a1fd55a52894109cba7", "message": "better handling of timezones in geopkg date columns", "committedDate": "2020-03-10T20:36:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMTE1Nw==", "url": "https://github.com/geotools/geotools/pull/2837#discussion_r390631157", "bodyText": "Javadoc is out of sync with this functionality, still describes use of utc.", "author": "jodygarnett", "createdAt": "2020-03-10T21:48:15Z", "path": "modules/plugin/geopkg/src/main/java/org/geotools/geopkg/GeoPkgFilterToSQL.java", "diffHunk": "@@ -71,10 +71,7 @@ public String escapeName(String name) {\n                         + \",'utc')\"; // utc -- everything must be consistent -- see\n                 // literal visitor\n             } else if (java.sql.Date.class.isAssignableFrom(binding)) {\n-                return \"date(\"\n-                        + super_result\n-                        + \",'utc')\"; // utc -- everything must be consistent -- see\n-                // literal visitor\n+                return \"date(\" + super_result + \")\";", "originalCommit": "a10285a03e2be690c1ab0a1fd55a52894109cba7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMTQ3MA==", "url": "https://github.com/geotools/geotools/pull/2837#discussion_r390631470", "bodyText": "Q: Do you need to do the same thing for Timestamp.class above?", "author": "jodygarnett", "createdAt": "2020-03-10T21:48:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMTE1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMzE2OQ==", "url": "https://github.com/geotools/geotools/pull/2837#discussion_r390633169", "bodyText": "no, timezone handling of Timestamp is correct.  Java Date \"sort of\" has a timezone.", "author": "davidblasby", "createdAt": "2020-03-10T21:52:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMTE1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzNjI4MQ==", "url": "https://github.com/geotools/geotools/pull/2837#discussion_r390636281", "bodyText": "Thanks for the discussion, I have updated the conversation above.", "author": "jodygarnett", "createdAt": "2020-03-10T22:00:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDYzMTE1Nw=="}], "type": "inlineReview"}, {"oid": "bd59408d01e6442bc2fc738714d911eeb27146fc", "url": "https://github.com/geotools/geotools/commit/bd59408d01e6442bc2fc738714d911eeb27146fc", "message": "javadoc changes as per discussion in PR", "committedDate": "2020-03-10T22:01:11Z", "type": "commit"}]}