{"pr_number": 10282, "pr_title": "Adding Injection of Interfaces and IdentityObject Interface", "pr_createdAt": "2020-07-29T15:01:02Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/10282", "timeline": [{"oid": "1f9081cc4d4ec0ed03d12ba9e82f36e93214cf63", "url": "https://github.com/eclipse-openj9/openj9/commit/1f9081cc4d4ec0ed03d12ba9e82f36e93214cf63", "message": "temp", "committedDate": "2020-08-26T15:40:50Z", "type": "forcePushed"}, {"oid": "21b670d3187c8ff16f2156d2dff4dafcb32bd624", "url": "https://github.com/eclipse-openj9/openj9/commit/21b670d3187c8ff16f2156d2dff4dafcb32bd624", "message": "temp", "committedDate": "2020-08-27T00:47:05Z", "type": "forcePushed"}, {"oid": "ae04a99a6306774118c6cef390b01a9588ad077a", "url": "https://github.com/eclipse-openj9/openj9/commit/ae04a99a6306774118c6cef390b01a9588ad077a", "message": "Adding injection of interfaces\n\nAdding ability to inject interfaces to a class on top of interfaces\nalready defined in the class file.\n\nInjects IdentityObject interface to all objects which are not\nValue Types if the object does not have it to begin with.\n\nInjecting interfaces has the following assumptions:\n- interfaces to be injected do not already exist in the class file\n- IdentityObject does not need to be explicitly injected", "committedDate": "2020-08-31T15:57:57Z", "type": "forcePushed"}, {"oid": "b15280a294ffb1a453b19efcc52c58bca022485b", "url": "https://github.com/eclipse-openj9/openj9/commit/b15280a294ffb1a453b19efcc52c58bca022485b", "message": "Removed optimization to allow debugging", "committedDate": "2020-09-09T13:29:00Z", "type": "forcePushed"}, {"oid": "b65691a702870445e48c8ba695991c68abea63fe", "url": "https://github.com/eclipse-openj9/openj9/commit/b65691a702870445e48c8ba695991c68abea63fe", "message": "Added jitHelpers for store and load\n\nAdded jitHelpers for loading and storing flattenable array\nelement with a slow and fast variant.\n-old_fast-jitLoadFlattenableArrayElement: Attempts to use fast\npath to load array element. If it fails calls the slow variant.\n-old_slow_jitLoadFlattenableArrayElement: Proceeds thorugh slow\npath for loading, throwing appropriate exceptions when needed.\n-old_fast_jitStoreFlattenableArrayElement: Attempts to use fast\npath to store value into array. If it fails, calls the slow\\\nvariant.\n-old_slow_jitStoreFlattenableArrayElement: Proceeds through\nsllow path for storing, throws appropriate exceptions when\nneeded.\n\nMoved ByteCodeInterpreter helper to  VMHelpers to check if\nstoring object in an array is allowed. Replaced occurence\nin ByteCodeInterpreter to new version.\n-objectArrayStoreAllowed\n\nAdded ValueTypeHelpers loadFlattenableArrayElement and\nstoreFlattenableArrayElement which perform aaload and\naastore functions respectively. Both handle flattened and\nunflattened cases. Both contain an option for either a fast\nor a slow variant.\n-loadFlattenableArrayElement: Loads flattenable array element\n-storeFlattenableArrayElement: Stores flattenable array element\n-loadFlattenableArrayElement: c function that initializes\nrequired objects and calls loadFlattenableArrayElement\n-storeFlattenableArrayElement: c function that initializes\nrequired objects and calls storeFlattenableArrayElement\n\nReplaced existing code in aaload and aastore functions in\nByteCodeInterpreter.hpp with calls to loadFlattenableArrayElement\nand storeFlattenableArrayElement. Functionality remains the same.\n\nRelated to: https://github.com/eclipse/openj9/issues/9627\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-09-10T19:14:54Z", "type": "forcePushed"}, {"oid": "df7585b634ab27f9032ac9e626a12c94e2cde659", "url": "https://github.com/eclipse-openj9/openj9/commit/df7585b634ab27f9032ac9e626a12c94e2cde659", "message": "tmep", "committedDate": "2020-09-14T19:27:46Z", "type": "forcePushed"}, {"oid": "e1f984342ddb63eebb69e02cde494c3807dc272b", "url": "https://github.com/eclipse-openj9/openj9/commit/e1f984342ddb63eebb69e02cde494c3807dc272b", "message": "tmep", "committedDate": "2020-09-15T00:17:38Z", "type": "forcePushed"}, {"oid": "fa1bfb8339634419e52e21a15e12a2ef431c094e", "url": "https://github.com/eclipse-openj9/openj9/commit/fa1bfb8339634419e52e21a15e12a2ef431c094e", "message": "tmep", "committedDate": "2020-09-15T00:42:25Z", "type": "forcePushed"}, {"oid": "1f10642c942fd4392103a96f2973dc6458c220d3", "url": "https://github.com/eclipse-openj9/openj9/commit/1f10642c942fd4392103a96f2973dc6458c220d3", "message": "tmep", "committedDate": "2020-09-16T13:57:15Z", "type": "forcePushed"}, {"oid": "c18ddff6af342e224d0285621aa767cf322199f8", "url": "https://github.com/eclipse-openj9/openj9/commit/c18ddff6af342e224d0285621aa767cf322199f8", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- Interfaces to be injected can be specified with the new\nfunction setInterfacesToInject in ROMClassCreationContext.\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-09-16T20:23:47Z", "type": "forcePushed"}, {"oid": "691de960576d711bdd5002d9c1faa6ee9f6c13fa", "url": "https://github.com/eclipse-openj9/openj9/commit/691de960576d711bdd5002d9c1faa6ee9f6c13fa", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- Interfaces to be injected can be specified with the new\nfunction setInterfacesToInject in ROMClassCreationContext.\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-09-17T21:02:26Z", "type": "forcePushed"}, {"oid": "804970e36f74c070be8c1eedcf12a7dcfce2f34f", "url": "https://github.com/eclipse-openj9/openj9/commit/804970e36f74c070be8c1eedcf12a7dcfce2f34f", "message": "pass to classfilewriter", "committedDate": "2020-09-21T19:05:16Z", "type": "forcePushed"}, {"oid": "647708b94568a026dba88360302c5e7a18d2c5fd", "url": "https://github.com/eclipse-openj9/openj9/commit/647708b94568a026dba88360302c5e7a18d2c5fd", "message": "dummy interface", "committedDate": "2020-09-21T01:49:04Z", "type": "forcePushed"}, {"oid": "7a9a39b4fcae7a396bed437a299252c1c2f5bbc9", "url": "https://github.com/eclipse-openj9/openj9/commit/7a9a39b4fcae7a396bed437a299252c1c2f5bbc9", "message": "passing to classfilewriter", "committedDate": "2020-09-22T13:33:16Z", "type": "forcePushed"}, {"oid": "d939735a31f8492f04bb42f2d795528b169cd77f", "url": "https://github.com/eclipse-openj9/openj9/commit/d939735a31f8492f04bb42f2d795528b169cd77f", "message": "memory fix", "committedDate": "2020-09-23T17:02:25Z", "type": "forcePushed"}, {"oid": "ce37f56b4db41478d7687617c3533554b3bcd5d5", "url": "https://github.com/eclipse-openj9/openj9/commit/ce37f56b4db41478d7687617c3533554b3bcd5d5", "message": "memory fix", "committedDate": "2020-09-24T20:38:02Z", "type": "forcePushed"}, {"oid": "46b53c4e61e988f0c9b54e528f7e658e463ed3ac", "url": "https://github.com/eclipse-openj9/openj9/commit/46b53c4e61e988f0c9b54e528f7e658e463ed3ac", "message": "memory fix", "committedDate": "2020-09-25T03:00:57Z", "type": "forcePushed"}, {"oid": "1a66987031e265095e9255854ede8106d5f57279", "url": "https://github.com/eclipse-openj9/openj9/commit/1a66987031e265095e9255854ede8106d5f57279", "message": "memory fix", "committedDate": "2020-09-28T15:09:06Z", "type": "forcePushed"}, {"oid": "be9babe6e7fd085efaab333319d84091abfacbe6", "url": "https://github.com/eclipse-openj9/openj9/commit/be9babe6e7fd085efaab333319d84091abfacbe6", "message": "Turned J9UTF8's to static, added initialization bool", "committedDate": "2020-09-28T19:53:54Z", "type": "forcePushed"}, {"oid": "b97870a6b41588ae35a9b985486d5775f49b9aab", "url": "https://github.com/eclipse-openj9/openj9/commit/b97870a6b41588ae35a9b985486d5775f49b9aab", "message": "Turned J9UTF8's to static, added initialization bool", "committedDate": "2020-09-29T21:11:46Z", "type": "forcePushed"}, {"oid": "ef216dcc7db88b654838996f4ece5d0d9540f5a5", "url": "https://github.com/eclipse-openj9/openj9/commit/ef216dcc7db88b654838996f4ece5d0d9540f5a5", "message": "Fixed ClassFileWriter", "committedDate": "2020-10-01T15:27:36Z", "type": "forcePushed"}, {"oid": "9e7b71068743350d0c44f1ec657e5c96d56b3909", "url": "https://github.com/eclipse-openj9/openj9/commit/9e7b71068743350d0c44f1ec657e5c96d56b3909", "message": "Fixed ClassFileWriter", "committedDate": "2020-10-01T20:04:23Z", "type": "forcePushed"}, {"oid": "fd75700658ae0317708f64b61368af89f01c5265", "url": "https://github.com/eclipse-openj9/openj9/commit/fd75700658ae0317708f64b61368af89f01c5265", "message": "fix static allocation", "committedDate": "2020-10-05T17:23:23Z", "type": "forcePushed"}, {"oid": "ea412e564af644f09399fb172d5c73db37acc305", "url": "https://github.com/eclipse-openj9/openj9/commit/ea412e564af644f09399fb172d5c73db37acc305", "message": "fix static allocation", "committedDate": "2020-10-05T18:49:15Z", "type": "forcePushed"}, {"oid": "78541118718b711fd2ea345cb1a4d1b63947b3dc", "url": "https://github.com/eclipse-openj9/openj9/commit/78541118718b711fd2ea345cb1a4d1b63947b3dc", "message": "changed to singleton injection array", "committedDate": "2020-10-08T20:50:58Z", "type": "forcePushed"}, {"oid": "20751ba8afcb96b19d7beef272e0e567e3d60c76", "url": "https://github.com/eclipse-openj9/openj9/commit/20751ba8afcb96b19d7beef272e0e567e3d60c76", "message": "changed to singleton injection array", "committedDate": "2020-10-09T18:42:14Z", "type": "forcePushed"}, {"oid": "3b6ee2c4929af5c5e7058caa79584d08a7d3f8a6", "url": "https://github.com/eclipse-openj9/openj9/commit/3b6ee2c4929af5c5e7058caa79584d08a7d3f8a6", "message": "changed to singleton injection array", "committedDate": "2020-10-13T19:03:53Z", "type": "forcePushed"}, {"oid": "57018be2fff1e7cade914b2c2bcbca2dfa63cc4f", "url": "https://github.com/eclipse-openj9/openj9/commit/57018be2fff1e7cade914b2c2bcbca2dfa63cc4f", "message": "changed to singleton injection array", "committedDate": "2020-10-16T20:15:19Z", "type": "forcePushed"}, {"oid": "f5b612947b48ae5e600b0a0398ee59ab6f1a1321", "url": "https://github.com/eclipse-openj9/openj9/commit/f5b612947b48ae5e600b0a0398ee59ab6f1a1321", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-19T16:17:41Z", "type": "forcePushed"}, {"oid": "3db96308e599ea030eb69b3ef857182923b88576", "url": "https://github.com/eclipse-openj9/openj9/commit/3db96308e599ea030eb69b3ef857182923b88576", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-19T18:41:12Z", "type": "forcePushed"}, {"oid": "54613c5467280cd710b8111609c044136837bd2c", "url": "https://github.com/eclipse-openj9/openj9/commit/54613c5467280cd710b8111609c044136837bd2c", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-19T18:58:14Z", "type": "forcePushed"}, {"oid": "3100f7b706422ee3852e828163555ceffd90bb3b", "url": "https://github.com/eclipse-openj9/openj9/commit/3100f7b706422ee3852e828163555ceffd90bb3b", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-19T19:19:35Z", "type": "forcePushed"}, {"oid": "92d803d4f2569e2a83b8b2a6085189d5fc70729c", "url": "https://github.com/eclipse-openj9/openj9/commit/92d803d4f2569e2a83b8b2a6085189d5fc70729c", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-19T21:15:29Z", "type": "forcePushed"}, {"oid": "3a48f7eefef6345d4499a12c29afb3a086a7da61", "url": "https://github.com/eclipse-openj9/openj9/commit/3a48f7eefef6345d4499a12c29afb3a086a7da61", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-20T13:53:25Z", "type": "forcePushed"}, {"oid": "edac384f4db63f09f7ff6abcc763b9739fb98471", "url": "https://github.com/eclipse-openj9/openj9/commit/edac384f4db63f09f7ff6abcc763b9739fb98471", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-20T18:58:03Z", "type": "forcePushed"}, {"oid": "d844b6dcdc28edff73d9c6125255b8263a345c96", "url": "https://github.com/eclipse-openj9/openj9/commit/d844b6dcdc28edff73d9c6125255b8263a345c96", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-20T19:01:04Z", "type": "forcePushed"}, {"oid": "f3fe2b0a117deca8e45f54358e2fca94e441b362", "url": "https://github.com/eclipse-openj9/openj9/commit/f3fe2b0a117deca8e45f54358e2fca94e441b362", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-20T19:35:19Z", "type": "forcePushed"}, {"oid": "9f7d2611e4605e90d1a88ff8aff883ba6a2d5413", "url": "https://github.com/eclipse-openj9/openj9/commit/9f7d2611e4605e90d1a88ff8aff883ba6a2d5413", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-21T14:33:07Z", "type": "forcePushed"}, {"oid": "0818464c83e22d53d2dfee8d49916cf409209b7c", "url": "https://github.com/eclipse-openj9/openj9/commit/0818464c83e22d53d2dfee8d49916cf409209b7c", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-21T15:32:10Z", "type": "forcePushed"}, {"oid": "2a63e75a7546c6129c01c137e35ab11b2baa1ab5", "url": "https://github.com/eclipse-openj9/openj9/commit/2a63e75a7546c6129c01c137e35ab11b2baa1ab5", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-21T16:35:52Z", "type": "forcePushed"}, {"oid": "2a63e75a7546c6129c01c137e35ab11b2baa1ab5", "url": "https://github.com/eclipse-openj9/openj9/commit/2a63e75a7546c6129c01c137e35ab11b2baa1ab5", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-21T16:35:52Z", "type": "forcePushed"}, {"oid": "2a80328443fa5124658aee0dcb798ea9bc97f637", "url": "https://github.com/eclipse-openj9/openj9/commit/2a80328443fa5124658aee0dcb798ea9bc97f637", "message": "removed Dummy Interface", "committedDate": "2020-10-30T22:58:32Z", "type": "forcePushed"}, {"oid": "3e271c1a89fa16f15606c59fa3d74c7ce18103fa", "url": "https://github.com/eclipse-openj9/openj9/commit/3e271c1a89fa16f15606c59fa3d74c7ce18103fa", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-10-30T22:57:55Z", "type": "forcePushed"}, {"oid": "3f8b234cec562737f28dd512d848513c238a8c81", "url": "https://github.com/eclipse-openj9/openj9/commit/3f8b234cec562737f28dd512d848513c238a8c81", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-03T14:36:39Z", "type": "forcePushed"}, {"oid": "b9cbbe2ac8523cb4f3383733d13ee5707578792e", "url": "https://github.com/eclipse-openj9/openj9/commit/b9cbbe2ac8523cb4f3383733d13ee5707578792e", "message": "remove dummyobject", "committedDate": "2020-11-04T14:57:28Z", "type": "forcePushed"}, {"oid": "7286ab7e77bec67a029b4256ad4e5008c2f0f931", "url": "https://github.com/eclipse-openj9/openj9/commit/7286ab7e77bec67a029b4256ad4e5008c2f0f931", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-05T17:56:05Z", "type": "forcePushed"}, {"oid": "e1d9db5cfd6acd190c8825c976a1b0d8db449bc0", "url": "https://github.com/eclipse-openj9/openj9/commit/e1d9db5cfd6acd190c8825c976a1b0d8db449bc0", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-05T19:12:51Z", "type": "forcePushed"}, {"oid": "0ae7b5592728ca6b8ccd1af13003e946b2a507c7", "url": "https://github.com/eclipse-openj9/openj9/commit/0ae7b5592728ca6b8ccd1af13003e946b2a507c7", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-06T20:01:29Z", "type": "forcePushed"}, {"oid": "74dafc27deba8ea7f577163bb48c905bb77e2f96", "url": "https://github.com/eclipse-openj9/openj9/commit/74dafc27deba8ea7f577163bb48c905bb77e2f96", "message": "changed _injectedInterfaces in ClassFileWriter to use optionalFlags instead of extraModifiers", "committedDate": "2020-11-18T17:06:42Z", "type": "forcePushed"}, {"oid": "f0479dbd93a9c4bdfa3a35f47fe60519633c0bf9", "url": "https://github.com/eclipse-openj9/openj9/commit/f0479dbd93a9c4bdfa3a35f47fe60519633c0bf9", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-18T21:17:16Z", "type": "forcePushed"}, {"oid": "a4a963f00f7f9da9390737ee069361f88d1cf8bf", "url": "https://github.com/eclipse-openj9/openj9/commit/a4a963f00f7f9da9390737ee069361f88d1cf8bf", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-19T17:47:10Z", "type": "forcePushed"}, {"oid": "10ac63984cf072c71a0de0dd86e3a262d43537b1", "url": "https://github.com/eclipse-openj9/openj9/commit/10ac63984cf072c71a0de0dd86e3a262d43537b1", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-19T20:02:07Z", "type": "forcePushed"}, {"oid": "9f400b00e226916325d1428b38be270bc68e4932", "url": "https://github.com/eclipse-openj9/openj9/commit/9f400b00e226916325d1428b38be270bc68e4932", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-23T20:11:56Z", "type": "forcePushed"}, {"oid": "a4a963f00f7f9da9390737ee069361f88d1cf8bf", "url": "https://github.com/eclipse-openj9/openj9/commit/a4a963f00f7f9da9390737ee069361f88d1cf8bf", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-19T17:47:10Z", "type": "forcePushed"}, {"oid": "9f400b00e226916325d1428b38be270bc68e4932", "url": "https://github.com/eclipse-openj9/openj9/commit/9f400b00e226916325d1428b38be270bc68e4932", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2020-11-23T20:11:56Z", "type": "forcePushed"}, {"oid": "15afa91e4682160f4cf9229db568bae9ca74fd3b", "url": "https://github.com/eclipse-openj9/openj9/commit/15afa91e4682160f4cf9229db568bae9ca74fd3b", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2021-01-04T17:49:02Z", "type": "forcePushed"}, {"oid": "6a24bed1e81216dc7b7c0e08f2a2bacda6f998f7", "url": "https://github.com/eclipse-openj9/openj9/commit/6a24bed1e81216dc7b7c0e08f2a2bacda6f998f7", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2021-01-04T19:28:31Z", "type": "forcePushed"}, {"oid": "351cfbca1c6c6217f2122b7212acebb01e9d88c7", "url": "https://github.com/eclipse-openj9/openj9/commit/351cfbca1c6c6217f2122b7212acebb01e9d88c7", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2021-01-04T19:36:05Z", "type": "forcePushed"}, {"oid": "921c0842c1d22c240269580cd7e338b982621440", "url": "https://github.com/eclipse-openj9/openj9/commit/921c0842c1d22c240269580cd7e338b982621440", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2021-01-04T21:28:40Z", "type": "forcePushed"}, {"oid": "02b4ad45bf43751e51816e5cf054416294aa015c", "url": "https://github.com/eclipse-openj9/openj9/commit/02b4ad45bf43751e51816e5cf054416294aa015c", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2021-01-06T20:55:54Z", "type": "forcePushed"}, {"oid": "1351c2f77affeb7c5f5d4f1aea621acc37e03417", "url": "https://github.com/eclipse-openj9/openj9/commit/1351c2f77affeb7c5f5d4f1aea621acc37e03417", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2021-01-07T15:58:51Z", "type": "forcePushed"}, {"oid": "b6e57ef700d9820d24b9125ba96f9ef3f710f205", "url": "https://github.com/eclipse-openj9/openj9/commit/b6e57ef700d9820d24b9125ba96f9ef3f710f205", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>", "committedDate": "2021-01-07T17:53:00Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDAwMzI4Mw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r554003283", "bodyText": "I dont think the preprocessor macros work for DDR code. @JasonFengJ9 can you confirm?", "author": "tajila", "createdAt": "2021-01-08T15:16:22Z", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/j9/OptInfo.java", "diffHunk": "@@ -27,6 +27,9 @@\n import static com.ibm.j9ddr.vm29.structure.J9NonbuilderConstants.J9_ROMCLASS_OPTINFO_ENCLOSING_METHOD;\n import static com.ibm.j9ddr.vm29.structure.J9NonbuilderConstants.J9_ROMCLASS_OPTINFO_GENERIC_SIGNATURE;\n import static com.ibm.j9ddr.vm29.structure.J9NonbuilderConstants.J9_ROMCLASS_OPTINFO_PERMITTEDSUBCLASSES_ATTRIBUTE;\n+/*[IF INLINE-TYPES]*/\n+import static com.ibm.j9ddr.vm29.structure.J9NonbuilderConstants.J9_ROMCLASS_OPTINFO_INJECTED_INTERFACE_INFO;", "originalCommit": "b6e57ef700d9820d24b9125ba96f9ef3f710f205", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDAwNDQxMQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r554004411", "bodyText": "You can define the flag unconditionally in j9nonbuilder.h", "author": "tajila", "createdAt": "2021-01-08T15:18:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDAwMzI4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDAxMTEzNA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r554011134", "bodyText": "@tajila That's correct, JPP doesn't work for DDR code within debugtools folder.", "author": "JasonFengJ9", "createdAt": "2021-01-08T15:29:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDAwMzI4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDAwNDczNg==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r554004736", "bodyText": "look at openj9/debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/pointer/helper/ValueTypeHelper.java you can use areValueTypesSupported to determine if VT is enabled for the core file", "author": "tajila", "createdAt": "2021-01-08T15:18:43Z", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -702,7 +702,12 @@ void allSlotsInOptionalInfoDo() throws CorruptDataException\n \t\t\tpermittedSubclassAttributeDo(U32Pointer.cast(cursor.get()));\n \t\t\tcursor = cursor.add(1);\n \t\t}\n-\n+/*[IF INLINE-TYPES]*/\n+\t\tif (romClass.optionalFlags().allBitsIn(J9NonbuilderConstants.J9_ROMCLASS_OPTINFO_INJECTED_INTERFACE_INFO)) {", "originalCommit": "b6e57ef700d9820d24b9125ba96f9ef3f710f205", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "63a850076dfbbf46e10a9c84c4027d1f205b5875", "url": "https://github.com/eclipse-openj9/openj9/commit/63a850076dfbbf46e10a9c84c4027d1f205b5875", "message": "Adding Injection of Interfaces and IdentityObject Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityObject which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-01-11T16:24:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjU3NDU1OQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r556574559", "bodyText": "space between if and (, same with ){", "author": "tajila", "createdAt": "2021-01-13T14:49:01Z", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -702,7 +703,12 @@ void allSlotsInOptionalInfoDo() throws CorruptDataException\n \t\t\tpermittedSubclassAttributeDo(U32Pointer.cast(cursor.get()));\n \t\t\tcursor = cursor.add(1);\n \t\t}\n-\n+\t\tif(ValueTypeHelper.getValueTypeHelper().areValueTypesSupported()){", "originalCommit": "63a850076dfbbf46e10a9c84c4027d1f205b5875", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7e0466f341b5fc6430c6ed9b4b0c0a4b9d95faf4", "url": "https://github.com/eclipse-openj9/openj9/commit/7e0466f341b5fc6430c6ed9b4b0c0a4b9d95faf4", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-01-13T20:12:30Z", "type": "forcePushed"}, {"oid": "839f2642af2f1b9f5ad5cf414dd766100598a524", "url": "https://github.com/eclipse-openj9/openj9/commit/839f2642af2f1b9f5ad5cf414dd766100598a524", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-01-13T20:17:47Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjgwNjQ2Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r556806467", "bodyText": "@tajila I created an abstract class here to check if it contains the IdentityInterface. Is there another way to test the abstract class, or is this fine? Would I want to populate the class with methods and fields, or simply leave it blank?", "author": "OussamaSaoudi", "createdAt": "2021-01-13T20:24:30Z", "path": "test/functional/Valhalla/src/org/openj9/test/lworld/ValueTypeTests.java", "diffHunk": "@@ -3029,7 +3030,41 @@ static public void testUnresolvedPutFieldUse() throws Throwable {\n \t\t\t}\n \t\t}\n \t}\n-\t\n+\n+\t@Test(priority = 1)\n+\tstatic public void testIdentityObjectOnValueType() throws Throwable {\n+\t\tString fields[] = {\"longField:J\"};\n+\t\tClass valueClass = ValueTypeGenerator.generateValueClass(\"testIdentityObjectOnValueType\", fields);\n+\t\tassertFalse(Arrays.asList(valueClass.getInterfaces()).contains(IdentityInterface.class));\n+\t}\n+\n+\t@Test(priority = 1)\n+\tstatic public void testIdentityObjectOnAbstract() throws Throwable {\n+\t\tassertFalse(Arrays.asList(AbstractClass.class.getInterfaces()).contains(IdentityInterface.class));\n+\t}\n+\tprivate static abstract class AbstractClass {", "originalCommit": "839f2642af2f1b9f5ad5cf414dd766100598a524", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjgwNjY2NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r556806664", "bodyText": "I have also made them priority = 1 since they don't rely on any other methods. Lmk if that should change.", "author": "OussamaSaoudi", "createdAt": "2021-01-13T20:25:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjgwNjQ2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTIwNDQzNQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r561204435", "bodyText": "@tajila", "author": "OussamaSaoudi", "createdAt": "2021-01-20T19:03:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjgwNjQ2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTkwMTE2OQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r561901169", "bodyText": "thats fine", "author": "tajila", "createdAt": "2021-01-21T13:59:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjgwNjQ2Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTg5ODE2Nw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r561898167", "bodyText": "formatting with ){", "author": "tajila", "createdAt": "2021-01-21T13:55:26Z", "path": "debugtools/DDR_VM/src/com/ibm/j9ddr/vm29/tools/ddrinteractive/RomClassWalker.java", "diffHunk": "@@ -702,7 +703,12 @@ void allSlotsInOptionalInfoDo() throws CorruptDataException\n \t\t\tpermittedSubclassAttributeDo(U32Pointer.cast(cursor.get()));\n \t\t\tcursor = cursor.add(1);\n \t\t}\n-\n+\t\tif (ValueTypeHelper.getValueTypeHelper().areValueTypesSupported()){", "originalCommit": "839f2642af2f1b9f5ad5cf414dd766100598a524", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTkwMDk0Mw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r561900943", "bodyText": "naming: call this refClass", "author": "tajila", "createdAt": "2021-01-21T13:59:00Z", "path": "test/functional/Valhalla/src/org/openj9/test/lworld/ValueTypeTests.java", "diffHunk": "@@ -3029,7 +3030,41 @@ static public void testUnresolvedPutFieldUse() throws Throwable {\n \t\t\t}\n \t\t}\n \t}\n-\t\n+\n+\t@Test(priority = 1)\n+\tstatic public void testIdentityObjectOnValueType() throws Throwable {\n+\t\tString fields[] = {\"longField:J\"};\n+\t\tClass valueClass = ValueTypeGenerator.generateValueClass(\"testIdentityObjectOnValueType\", fields);\n+\t\tassertFalse(Arrays.asList(valueClass.getInterfaces()).contains(IdentityInterface.class));\n+\t}\n+\n+\t@Test(priority = 1)\n+\tstatic public void testIdentityObjectOnAbstract() throws Throwable {\n+\t\tassertFalse(Arrays.asList(AbstractClass.class.getInterfaces()).contains(IdentityInterface.class));\n+\t}\n+\tprivate static abstract class AbstractClass {\n+\t\tprivate int x;\n+\t\tprivate int y;\n+\t\tpublic int getX(){\n+\t\t\treturn x;\n+\t\t}\n+\t\tpublic int getY(){\n+\t\t\treturn y;\n+\t\t}\n+\t}\n+\n+\t@Test(priority = 1)\n+\tstatic public void testIdentityObjectOnJLObject() throws Throwable {\n+\t\tassertFalse(Arrays.asList(Object.class.getInterfaces()).contains(IdentityInterface.class));\n+\t}\n+\n+\t@Test(priority = 1)\n+\tstatic public void testIdentityObjectOnRef() throws Throwable {\n+\t\tString fields[] = {\"longField:J\"};\n+\t\tClass valueClass = ValueTypeGenerator.generateRefClass(\"testIdentityObjectOnRef\", fields);", "originalCommit": "839f2642af2f1b9f5ad5cf414dd766100598a524", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "eb47c02581385a9dd3eed3f38775244942a98129", "url": "https://github.com/eclipse-openj9/openj9/commit/eb47c02581385a9dd3eed3f38775244942a98129", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-01-21T14:38:15Z", "type": "forcePushed"}, {"oid": "b29fe15df252a58ef40ad8a872c313a0cf1554e6", "url": "https://github.com/eclipse-openj9/openj9/commit/b29fe15df252a58ef40ad8a872c313a0cf1554e6", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-01-21T14:39:54Z", "type": "forcePushed"}, {"oid": "007ef9f95da477bb5bcc0a2a7579696ae08e436a", "url": "https://github.com/eclipse-openj9/openj9/commit/007ef9f95da477bb5bcc0a2a7579696ae08e436a", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-01-29T16:15:22Z", "type": "forcePushed"}, {"oid": "647fa4f4e620053c1a36687cd7c7fcf8d1577a49", "url": "https://github.com/eclipse-openj9/openj9/commit/647fa4f4e620053c1a36687cd7c7fcf8d1577a49", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-01T17:57:15Z", "type": "forcePushed"}, {"oid": "796263508b2ea9425c9ea4ef09bbf45076fba781", "url": "https://github.com/eclipse-openj9/openj9/commit/796263508b2ea9425c9ea4ef09bbf45076fba781", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-01T20:03:36Z", "type": "forcePushed"}, {"oid": "c8b434f767aeea0c5b4c6cfd11ea2fcec8e8f5d5", "url": "https://github.com/eclipse-openj9/openj9/commit/c8b434f767aeea0c5b4c6cfd11ea2fcec8e8f5d5", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-03T15:08:55Z", "type": "forcePushed"}, {"oid": "38200858feca32e716a97e1b8ac4fb06911e5b3a", "url": "https://github.com/eclipse-openj9/openj9/commit/38200858feca32e716a97e1b8ac4fb06911e5b3a", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-03T15:22:09Z", "type": "forcePushed"}, {"oid": "375cc6c4676290ea9f98b4092b425b59704ac5b3", "url": "https://github.com/eclipse-openj9/openj9/commit/375cc6c4676290ea9f98b4092b425b59704ac5b3", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-03T15:23:03Z", "type": "forcePushed"}, {"oid": "e010f60ce5c9bfa4a765708225582955f1b6d975", "url": "https://github.com/eclipse-openj9/openj9/commit/e010f60ce5c9bfa4a765708225582955f1b6d975", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-03T15:57:13Z", "type": "forcePushed"}, {"oid": "d81541bdd0b0e5f4d7a81a3b7ca5aaaf8b3e3805", "url": "https://github.com/eclipse-openj9/openj9/commit/d81541bdd0b0e5f4d7a81a3b7ca5aaaf8b3e3805", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-16T16:08:31Z", "type": "forcePushed"}, {"oid": "b86a0ab100c4af324a9cef553ee6be42762cd7bf", "url": "https://github.com/eclipse-openj9/openj9/commit/b86a0ab100c4af324a9cef553ee6be42762cd7bf", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-16T18:40:11Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDMzNzIwMw==", "url": "https://github.com/eclipse-openj9/openj9/pull/10282#discussion_r580337203", "bodyText": "@tajila", "author": "OussamaSaoudi", "createdAt": "2021-02-22T15:23:39Z", "path": "test/functional/Java8andUp/src_110_up/org/openj9/test/java/lang/Test_Class.java", "diffHunk": "@@ -446,6 +446,7 @@ public void test_getMethods_subtest6() throws Exception {\n \tClzImpl clzImpl = new ClzImpl();\n \tfor (Method method : clzImpl.getClass().getMethods()) {\n \t\tfor (Class<?> anInterface : method.getDeclaringClass().getInterfaces()) {\n+\t\t\tif (anInterface == IdentityInterface.class) continue;", "originalCommit": "b86a0ab100c4af324a9cef553ee6be42762cd7bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c02fbad6e22d6b422ec7ea55f8d3e2bd83c73b45", "url": "https://github.com/eclipse-openj9/openj9/commit/c02fbad6e22d6b422ec7ea55f8d3e2bd83c73b45", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-22T16:03:55Z", "type": "commit"}, {"oid": "c02fbad6e22d6b422ec7ea55f8d3e2bd83c73b45", "url": "https://github.com/eclipse-openj9/openj9/commit/c02fbad6e22d6b422ec7ea55f8d3e2bd83c73b45", "message": "Adding Injection of Interfaces and IdentityInterface Interface\n\nAdded a new JVM mechanism to inject an interfacae into a class.\n- interfaces to be injected must be specified in the injectInterfaces\nmethod in ROMClassBuilder.cpp\n- Max number of interfaces defined by MAX_INTERFACE_INJECTION\n\nAdded a new interface IdentityInterface which specifies all non\nValueType objects. This interface is automatically injected\ninto any class which is not a ValueType.\n\nAdded testing to check that IdentityInterface is added to\nreference types and not abstract classes, valuetypes, or\njava/lang/Object.\n\nComparingCursor.cpp writeSRP function has case for SRP_TO_UTF8\nto skip equality check with the classFile.\n\nAdded new SRP to OPTInfo to carry information of the number of\ninterfaced that are to be injected.\n\nSigned-off-by: Oussama Saoudi <oussama.saoudi@ibm.com>\n\nsrpkeyproducer changes", "committedDate": "2021-02-22T16:03:55Z", "type": "forcePushed"}]}