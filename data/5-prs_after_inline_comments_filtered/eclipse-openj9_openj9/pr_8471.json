{"pr_number": 8471, "pr_title": "Don't run StringBuffer/Builder growth test in constrained environments", "pr_createdAt": "2020-01-31T04:04:40Z", "pr_url": "https://github.com/eclipse-openj9/openj9/pull/8471", "timeline": [{"oid": "8f730da998543c87f30db3b95233e8e7c777ff55", "url": "https://github.com/eclipse-openj9/openj9/commit/8f730da998543c87f30db3b95233e8e7c777ff55", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-01-31T19:39:25Z", "type": "forcePushed"}, {"oid": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594", "url": "https://github.com/eclipse-openj9/openj9/commit/a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-01-31T19:42:05Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY3ODkwNQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#discussion_r373678905", "bodyText": "I wonder whether 8GB might be a more reasonable requirement, but I suppose we can try this and experiment later.", "author": "keithc-ca", "createdAt": "2020-01-31T20:49:01Z", "path": "test/functional/cmdLineTests/cmdLineTest_J9tests/src/TestStringBufferAndBuilderGrowth.java", "diffHunk": "@@ -20,13 +20,25 @@\n  * SPDX-License-Identifier: EPL-2.0 OR Apache-2.0 OR GPL-2.0 WITH Classpath-exception-2.0 OR LicenseRef-GPL-2.0 WITH Assembly-exception\n  *******************************************************************************/\n \n+import com.sun.management.OperatingSystemMXBean;\n+import java.lang.management.ManagementFactory;\n+\n /**\n  * @file TestStringBufferAndBuilderGrowth.java\n  * @brief Grows a StringBuffer and StringBuilder to Integer.MAX_VALUE\n  */\n public class TestStringBufferAndBuilderGrowth {\n \n public static void main(String[] args) {\n+\tOperatingSystemMXBean opBean = (OperatingSystemMXBean)ManagementFactory.getOperatingSystemMXBean();\n+\tlong physicalMemory = opBean.getTotalPhysicalMemorySize();\n+\tSystem.out.println(\"Machine has physical memory \" + physicalMemory + \" bytes or \" + (physicalMemory >> 20) + \" MB or \" + (physicalMemory >> 30) + \" GB\");\n+\tlong tenGig = 10L << 30;", "originalCommit": "a7f26e191e2d7c4689b7d4fed1bb16c0e7a27594", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY5MTY1NA==", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#discussion_r373691654", "bodyText": "I know AIX doesn't work with 7616 MB, trying a 8000 MB limit.", "author": "pshipton", "createdAt": "2020-01-31T21:23:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY3ODkwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY5Mjg5MQ==", "url": "https://github.com/eclipse-openj9/openj9/pull/8471#discussion_r373692891", "bodyText": "I think 8000MB is a more reasonable boundary.", "author": "keithc-ca", "createdAt": "2020-01-31T21:26:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY3ODkwNQ=="}], "type": "inlineReview"}, {"oid": "f8670d0fcdff405466b1450e6a92a6c69e70abe6", "url": "https://github.com/eclipse-openj9/openj9/commit/f8670d0fcdff405466b1450e6a92a6c69e70abe6", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-01-31T21:05:08Z", "type": "forcePushed"}, {"oid": "db51a4b9d567244854fca0a8ab979229a2d62afa", "url": "https://github.com/eclipse-openj9/openj9/commit/db51a4b9d567244854fca0a8ab979229a2d62afa", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-01-31T21:09:08Z", "type": "forcePushed"}, {"oid": "37153933616393a987e2fe8b67e9d3e537d37023", "url": "https://github.com/eclipse-openj9/openj9/commit/37153933616393a987e2fe8b67e9d3e537d37023", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-01-31T21:20:30Z", "type": "forcePushed"}, {"oid": "47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "url": "https://github.com/eclipse-openj9/openj9/commit/47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-01-31T21:24:43Z", "type": "commit"}, {"oid": "47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "url": "https://github.com/eclipse-openj9/openj9/commit/47136197d20b1a8b0eec18ca6057b8e27bcafd6a", "message": "Don't run StringBuffer/Builder growth test in constrained environments\n\nSigned-off-by: Peter Shipton <Peter_Shipton@ca.ibm.com>", "committedDate": "2020-01-31T21:24:43Z", "type": "forcePushed"}]}