{"pr_number": 1210, "pr_title": "[HUDI-458] Redo hudi-hadoop-mr log statements using SLF4J", "pr_createdAt": "2020-01-11T09:31:58Z", "pr_url": "https://github.com/apache/hudi/pull/1210", "timeline": [{"oid": "0221978831a37810034e781eeff0cb1bdef6138b", "url": "https://github.com/apache/hudi/commit/0221978831a37810034e781eeff0cb1bdef6138b", "message": "[HUDI-458] Redo hudi-hadoop-mr log statements using SLF4J", "committedDate": "2020-01-11T09:22:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU3MjcyNQ==", "url": "https://github.com/apache/hudi/pull/1210#discussion_r365572725", "bodyText": "Hi @wangxianghu, may is [ ] is better, example:\nLOG.debug(\"The projection Ids: [{}] start with ','. First comma is removed\", columnIds);", "author": "lamberken", "createdAt": "2020-01-12T10:29:41Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java", "diffHunk": "@@ -210,7 +210,7 @@ private static Configuration cleanProjectionColumnIds(Configuration conf) {\n     if (!columnIds.isEmpty() && columnIds.charAt(0) == ',') {\n       conf.set(ColumnProjectionUtils.READ_COLUMN_IDS_CONF_STR, columnIds.substring(1));\n       if (LOG.isDebugEnabled()) {\n-        LOG.debug(\"The projection Ids: {\" + columnIds + \"} start with ','. First comma is removed\");\n+        LOG.debug(\"The projection Ids: {{}} start with ','. First comma is removed\", columnIds);", "originalCommit": "0221978831a37810034e781eeff0cb1bdef6138b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU3MzE5OA==", "url": "https://github.com/apache/hudi/pull/1210#discussion_r365573198", "bodyText": "\ud83d\ude03 May be bellow is better:\nLOG.info(\"Hoodie consume mode pattern is : {}, mode is : {}\", modePropertyName, mode);", "author": "lamberken", "createdAt": "2020-01-12T10:37:56Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieHiveUtil.java", "diffHunk": "@@ -43,20 +43,20 @@ public static Integer readMaxCommits(JobContext job, String tableName) {\n     if (maxCommits == MAX_COMMIT_ALL) {\n       maxCommits = Integer.MAX_VALUE;\n     }\n-    LOG.info(\"Read max commits - \" + maxCommits);\n+    LOG.info(\"Read max commits - {}\", maxCommits);\n     return maxCommits;\n   }\n \n   public static String readStartCommitTime(JobContext job, String tableName) {\n     String startCommitTimestampName = String.format(HOODIE_START_COMMIT_PATTERN, tableName);\n-    LOG.info(\"Read start commit time - \" + job.getConfiguration().get(startCommitTimestampName));\n+    LOG.info(\"Read start commit time - {}\", job.getConfiguration().get(startCommitTimestampName));\n     return job.getConfiguration().get(startCommitTimestampName);\n   }\n \n   public static String readMode(JobContext job, String tableName) {\n     String modePropertyName = String.format(HOODIE_CONSUME_MODE_PATTERN, tableName);\n     String mode = job.getConfiguration().get(modePropertyName, DEFAULT_SCAN_MODE);\n-    LOG.info(modePropertyName + \": \" + mode);\n+    LOG.info(\"{} : {}\", modePropertyName, mode);", "originalCommit": "0221978831a37810034e781eeff0cb1bdef6138b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYyOTg4NQ==", "url": "https://github.com/apache/hudi/pull/1210#discussion_r365629885", "bodyText": "Hi @lamber-ken  It is better, I'll fix it", "author": "wangxianghu", "createdAt": "2020-01-13T01:55:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTU3MzE5OA=="}], "type": "inlineReview"}, {"oid": "0221978831a37810034e781eeff0cb1bdef6138b", "url": "https://github.com/apache/hudi/commit/0221978831a37810034e781eeff0cb1bdef6138b", "message": "[HUDI-458] Redo hudi-hadoop-mr log statements using SLF4J", "committedDate": "2020-01-11T09:22:57Z", "type": "forcePushed"}, {"oid": "0221978831a37810034e781eeff0cb1bdef6138b", "url": "https://github.com/apache/hudi/commit/0221978831a37810034e781eeff0cb1bdef6138b", "message": "[HUDI-458] Redo hudi-hadoop-mr log statements using SLF4J", "committedDate": "2020-01-11T09:22:57Z", "type": "forcePushed"}, {"oid": "22bd6b95a3559b31e1f194e0caf597f03e98ff8b", "url": "https://github.com/apache/hudi/commit/22bd6b95a3559b31e1f194e0caf597f03e98ff8b", "message": "minor fix", "committedDate": "2020-01-13T02:15:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzMTkxOA==", "url": "https://github.com/apache/hudi/pull/1210#discussion_r365631918", "bodyText": "I think the auto indent was brought by idea. drop it.", "author": "sev7e0", "createdAt": "2020-01-13T02:21:28Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java", "diffHunk": "@@ -226,9 +226,9 @@ private static Configuration cleanProjectionColumnIds(Configuration conf) {\n     // actual heavy lifting of reading the parquet files happen.\n     if (job.get(HOODIE_READ_COLUMNS_PROP) == null) {\n       synchronized (job) {\n-        LOG.info(\n-            \"Before adding Hoodie columns, Projections :\" + job.get(ColumnProjectionUtils.READ_COLUMN_NAMES_CONF_STR)\n-                + \", Ids :\" + job.get(ColumnProjectionUtils.READ_COLUMN_IDS_CONF_STR));\n+        LOG.info(\"Before adding Hoodie columns, Projections : {}, Ids : {}\",\n+                job.get(ColumnProjectionUtils.READ_COLUMN_NAMES_CONF_STR),\n+                job.get(ColumnProjectionUtils.READ_COLUMN_IDS_CONF_STR));", "originalCommit": "22bd6b95a3559b31e1f194e0caf597f03e98ff8b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzMTk1NQ==", "url": "https://github.com/apache/hudi/pull/1210#discussion_r365631955", "bodyText": "\ud83c\udf1f Two lines is better, attention to auto indent.", "author": "sev7e0", "createdAt": "2020-01-13T02:21:47Z", "path": "hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java", "diffHunk": "@@ -144,30 +144,32 @@ public boolean accept(Path path) {\n           if (!hoodiePathCache.containsKey(folder.toString())) {\n             hoodiePathCache.put(folder.toString(), new HashSet<>());\n           }\n-          LOG.info(\"Based on hoodie metadata from base path: \" + baseDir.toString() + \", caching \" + latestFiles.size()\n-              + \" files under \" + folder);\n+          LOG.info(\"Based on hoodie metadata from base path: {}, caching {} files under {}\",\n+                  baseDir,\n+                  latestFiles.size(),\n+                  folder);", "originalCommit": "22bd6b95a3559b31e1f194e0caf597f03e98ff8b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzMzA1Ng==", "url": "https://github.com/apache/hudi/pull/1210#discussion_r365633056", "bodyText": "fixed", "author": "wangxianghu", "createdAt": "2020-01-13T02:33:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTYzMTk1NQ=="}], "type": "inlineReview"}, {"oid": "dcad6c4e0068e5272fb347d9efccc8f05fe537ff", "url": "https://github.com/apache/hudi/commit/dcad6c4e0068e5272fb347d9efccc8f05fe537ff", "message": "fix auto indent", "committedDate": "2020-01-13T02:31:32Z", "type": "commit"}]}