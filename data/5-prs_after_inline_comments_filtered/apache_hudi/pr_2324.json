{"pr_number": 2324, "pr_title": "[HUDI-1448] hudi dla sync support skip rt create", "pr_createdAt": "2020-12-10T16:00:54Z", "pr_url": "https://github.com/apache/hudi/pull/2324", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDk2OTAzOA==", "url": "https://github.com/apache/hudi/pull/2324#discussion_r540969038", "bodyText": "should be Skip the _rt table syncing", "author": "leesf", "createdAt": "2020-12-11T14:04:04Z", "path": "hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java", "diffHunk": "@@ -62,6 +62,9 @@\n   @Parameter(names = {\"--skip-ro-suffix\"}, description = \"Skip the `_ro` suffix for Read optimized table, when registering\")\n   public Boolean skipROSuffix = false;\n \n+  @Parameter(names = {\"--skip-rt-sync\"}, description = \"Skip the `_rt` suffix for Read optimized table, when registering\")", "originalCommit": "a340dcf877fc88c1200bb469a2bd919d531c632d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTU5MjI1Nw==", "url": "https://github.com/apache/hudi/pull/2324#discussion_r541592257", "bodyText": "done", "author": "lw309637554", "createdAt": "2020-12-12T14:43:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDk2OTAzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDk3Mjg4Mg==", "url": "https://github.com/apache/hudi/pull/2324#discussion_r540972882", "bodyText": "MORsyncHoodieTable -> MOR table", "author": "leesf", "createdAt": "2020-12-11T14:10:06Z", "path": "hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncTool.java", "diffHunk": "@@ -90,10 +90,12 @@ public void syncHoodieTable() {\n           syncHoodieTable(snapshotTableName, false);\n           break;\n         case MERGE_ON_READ:\n-          // sync a RO table for MOR\n+          // sync a RO table for MORsyncHoodieTable", "originalCommit": "a340dcf877fc88c1200bb469a2bd919d531c632d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTU5MDMwNQ==", "url": "https://github.com/apache/hudi/pull/2324#discussion_r541590305", "bodyText": "done", "author": "lw309637554", "createdAt": "2020-12-12T14:40:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDk3Mjg4Mg=="}], "type": "inlineReview"}, {"oid": "6734e66d053883e2eeb2cb2f2843af43be4b07b8", "url": "https://github.com/apache/hudi/commit/6734e66d053883e2eeb2cb2f2843af43be4b07b8", "message": "[HUDI-1448] hudi dla sync skip rt create", "committedDate": "2020-12-12T14:44:03Z", "type": "forcePushed"}, {"oid": "3f26219053482162b44c57d1dae038ef16579968", "url": "https://github.com/apache/hudi/commit/3f26219053482162b44c57d1dae038ef16579968", "message": "[HUDI-1448] hudi dla sync skip rt create", "committedDate": "2020-12-12T14:46:26Z", "type": "forcePushed"}, {"oid": "c94a2f240993cae545390319c9c6906a2399291e", "url": "https://github.com/apache/hudi/commit/c94a2f240993cae545390319c9c6906a2399291e", "message": "[HUDI-1448]  hudi dla sync skip rt create", "committedDate": "2020-12-12T16:57:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTgyNjc2MQ==", "url": "https://github.com/apache/hudi/pull/2324#discussion_r541826761", "bodyText": "just one more comment, here the default value set to false would be better, since some users have synced both ro and rt tables to dla as before and default.", "author": "leesf", "createdAt": "2020-12-13T02:36:47Z", "path": "hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/DLASyncConfig.java", "diffHunk": "@@ -62,6 +62,9 @@\n   @Parameter(names = {\"--skip-ro-suffix\"}, description = \"Skip the `_ro` suffix for Read optimized table, when registering\")\n   public Boolean skipROSuffix = false;\n \n+  @Parameter(names = {\"--skip-rt-sync\"}, description = \"Skip the RT table syncing\")\n+  public Boolean skipRTSync = true;", "originalCommit": "c94a2f240993cae545390319c9c6906a2399291e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTkzOTkwOA==", "url": "https://github.com/apache/hudi/pull/2324#discussion_r541939908", "bodyText": "done", "author": "lw309637554", "createdAt": "2020-12-13T14:48:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTgyNjc2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTgyNjgwMQ==", "url": "https://github.com/apache/hudi/pull/2324#discussion_r541826801", "bodyText": "to false", "author": "leesf", "createdAt": "2020-12-13T02:37:05Z", "path": "hudi-sync/hudi-dla-sync/src/main/java/org/apache/hudi/dla/util/Utils.java", "diffHunk": "@@ -69,6 +70,7 @@ public static DLASyncConfig propertiesToConfig(Properties properties) {\n     config.partitionValueExtractorClass = properties.getProperty(DLA_PARTITION_EXTRACTOR_CLASS_OPT_KEY);\n     config.assumeDatePartitioning = Boolean.parseBoolean(properties.getProperty(DLA_ASSUME_DATE_PARTITIONING, \"false\"));\n     config.skipROSuffix = Boolean.parseBoolean(properties.getProperty(DLA_SKIP_RO_SUFFIX, \"false\"));\n+    config.skipRTSync = Boolean.parseBoolean(properties.getProperty(DLA_SKIP_RT_SYNC, \"true\"));", "originalCommit": "c94a2f240993cae545390319c9c6906a2399291e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1d105c8c11333b3ba421f9a7a3ae1dbdb8bfdae6", "url": "https://github.com/apache/hudi/commit/1d105c8c11333b3ba421f9a7a3ae1dbdb8bfdae6", "message": "[HUDI-1448]  hudi dla sync skip rt create", "committedDate": "2020-12-13T14:49:44Z", "type": "commit"}, {"oid": "1d105c8c11333b3ba421f9a7a3ae1dbdb8bfdae6", "url": "https://github.com/apache/hudi/commit/1d105c8c11333b3ba421f9a7a3ae1dbdb8bfdae6", "message": "[HUDI-1448]  hudi dla sync skip rt create", "committedDate": "2020-12-13T14:49:44Z", "type": "forcePushed"}]}