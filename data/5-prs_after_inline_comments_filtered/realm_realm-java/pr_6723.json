{"pr_number": 6723, "pr_title": "Upgrade to latest version of Sync and Core", "pr_createdAt": "2020-01-16T10:27:30Z", "pr_url": "https://github.com/realm/realm-java/pull/6723", "timeline": [{"oid": "6e449593da4cea0be7a38fb1c19177130fd69ba1", "url": "https://github.com/realm/realm-java/commit/6e449593da4cea0be7a38fb1c19177130fd69ba1", "message": "Upgrade to latest version of Sync and Core", "committedDate": "2020-01-16T10:26:44Z", "type": "commit"}, {"oid": "ee5777dffa6a29451866d5697a6693e5b86b1a7e", "url": "https://github.com/realm/realm-java/commit/ee5777dffa6a29451866d5697a6693e5b86b1a7e", "message": "Fix JSON tests", "committedDate": "2020-01-16T14:42:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc3OTg2OQ==", "url": "https://github.com/realm/realm-java/pull/6723#discussion_r367779869", "bodyText": "where's this coming from?", "author": "nhachicha", "createdAt": "2020-01-17T05:56:59Z", "path": "realm/realm-library/src/androidTest/java/io/realm/RealmResultsTests.java", "diffHunk": "@@ -1765,36 +1765,40 @@ public void asJSON() throws JSONException {\n         String json = all.asJSON();\n         final String expectedJSON = \"[\\n\" +\n                 \"    {\\n\" +\n+                \"        \\\"_key\\\":100,\" +\n                 \"        \\\"columnString\\\": \\\"alltypes1\\\",\\n\" +\n                 \"        \\\"columnLong\\\": 1337,\\n\" +\n                 \"        \\\"columnFloat\\\": 3.1400001,\\n\" +\n                 \"        \\\"columnDouble\\\": 0.89122999999999997,\\n\" +\n                 \"        \\\"columnBoolean\\\": false,\\n\" +\n                 \"        \\\"columnDate\\\": \\\"\" + now + \"\\\",\\n\" +\n-                \"        \\\"columnBinary\\\": \\\"010203\\\",\\n\" +\n+                \"        \\\"columnBinary\\\": \\\"AQID\\\",\\n\" +", "originalCommit": "ee5777dffa6a29451866d5697a6693e5b86b1a7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgxNzE2MA==", "url": "https://github.com/realm/realm-java/pull/6723#discussion_r367817160", "bodyText": "No idea, but it concerned me a bit as well. I'll ask Core about it", "author": "cmelchior", "createdAt": "2020-01-17T08:28:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc3OTg2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzNjMxMA==", "url": "https://github.com/realm/realm-java/pull/6723#discussion_r367836310", "bodyText": "Binary data is now Base64 encoded apparently. I'll add a mention in the changelog. Normally it would be considered a breaking change as you removed the @Beta label on the asJson() method, but since it is also mentioned that the method is only for debugging it is probably acceptable? WDYT?", "author": "cmelchior", "createdAt": "2020-01-17T09:19:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc3OTg2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4NDI4MA==", "url": "https://github.com/realm/realm-java/pull/6723#discussion_r367784280", "bodyText": "where is appUserAgentInfo populated?", "author": "nhachicha", "createdAt": "2020-01-17T06:20:41Z", "path": "realm/realm-library/src/objectServer/java/io/realm/ObjectServer.java", "diffHunk": "@@ -87,12 +81,12 @@ public static void init(Context context, String appDefinedUserAgent) {\n                             \"Directory '%s' for SyncManager cannot be created. \",\n                             dir.getPath()));\n                 }\n-                SyncManager.nativeInitializeSyncManager(dir.getPath(), userAgent);\n+                SyncManager.nativeInitializeSyncManager(dir.getPath(), userAgentBindingInfo, appDefinedUserAgent);", "originalCommit": "ee5777dffa6a29451866d5697a6693e5b86b1a7e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgxNzc0Ng==", "url": "https://github.com/realm/realm-java/pull/6723#discussion_r367817746", "bodyText": "It is an optional setting set through Realm.init(context, userAgent)", "author": "cmelchior", "createdAt": "2020-01-17T08:29:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4NDI4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg1Nzc4Nw==", "url": "https://github.com/realm/realm-java/pull/6723#discussion_r367857787", "bodyText": "is this exposed for test? who needed this override?", "author": "nhachicha", "createdAt": "2020-01-17T10:07:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4NDI4MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg2NTk1Ng==", "url": "https://github.com/realm/realm-java/pull/6723#discussion_r367865956", "bodyText": "It was added in this PR: #6270\nIt looks like we don't have automatic tests for it, but only verified the behavior manually.", "author": "cmelchior", "createdAt": "2020-01-17T10:26:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzc4NDI4MA=="}], "type": "inlineReview"}, {"oid": "8f4e8ac5691ae297a5f1955a079ef208e33c6d8f", "url": "https://github.com/realm/realm-java/commit/8f4e8ac5691ae297a5f1955a079ef208e33c6d8f", "message": "Update changelog", "committedDate": "2020-01-17T11:09:32Z", "type": "commit"}, {"oid": "ccc70f39c35a74fb56661fae0f5224e7d5fdecb2", "url": "https://github.com/realm/realm-java/commit/ccc70f39c35a74fb56661fae0f5224e7d5fdecb2", "message": "Update to Sync 4.9.4", "committedDate": "2020-01-17T11:22:37Z", "type": "commit"}]}