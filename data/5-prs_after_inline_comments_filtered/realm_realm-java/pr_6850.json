{"pr_number": 6850, "pr_title": "Migrating schema tests for sync", "pr_createdAt": "2020-05-13T10:42:50Z", "pr_url": "https://github.com/realm/realm-java/pull/6850", "timeline": [{"oid": "3d479d4e6574995d501133341b1caa2325d37ccb", "url": "https://github.com/realm/realm-java/commit/3d479d4e6574995d501133341b1caa2325d37ccb", "message": "Move SchemaTests to kotlin source set", "committedDate": "2020-05-13T09:03:20Z", "type": "commit"}, {"oid": "fae69e4a3cc4dda8a9b3cd25ee347521557fefbb", "url": "https://github.com/realm/realm-java/commit/fae69e4a3cc4dda8a9b3cd25ee347521557fefbb", "message": "Auto convert SchemaTests to Kotlin", "committedDate": "2020-05-13T09:04:14Z", "type": "commit"}, {"oid": "22306a28d3449f6f99e95b0105c8eb524e03197d", "url": "https://github.com/realm/realm-java/commit/22306a28d3449f6f99e95b0105c8eb524e03197d", "message": "Update tests to Kotlin", "committedDate": "2020-05-13T10:36:51Z", "type": "commit"}, {"oid": "9038ce0f8911b8da1693a8cd7afadabb8c00881b", "url": "https://github.com/realm/realm-java/commit/9038ce0f8911b8da1693a8cd7afadabb8c00881b", "message": "Late initing common test variables", "committedDate": "2020-05-13T12:54:18Z", "type": "commit"}, {"oid": "24bfc4007e03ea427d96cb8cbeaf1551b7a653a2", "url": "https://github.com/realm/realm-java/commit/24bfc4007e03ea427d96cb8cbeaf1551b7a653a2", "message": "Align exceptions on destructive updates of schema of synced realms", "committedDate": "2020-05-13T17:00:22Z", "type": "commit"}, {"oid": "86af421b38b99f0559e91c25c648eec4dcff2c0d", "url": "https://github.com/realm/realm-java/commit/86af421b38b99f0559e91c25c648eec4dcff2c0d", "message": "Align `use` pattern across all SchemeTests", "committedDate": "2020-05-13T17:04:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY2MjMxNw==", "url": "https://github.com/realm/realm-java/pull/6850#discussion_r424662317", "bodyText": "Not entirely sure why we are using the word immutable here, since I don't think it is a concept we have introduced to users. We are referring to normal typed Realms (those you get from Realm.getInstance), but I suspect this isn't the PR to fix this in.", "author": "cmelchior", "createdAt": "2020-05-13T18:56:44Z", "path": "realm/realm-library/src/main/java/io/realm/RealmObjectSchema.java", "diffHunk": "@@ -119,7 +119,7 @@ public String getClassName() {\n      * @param className the new name for this class.\n      * @throws IllegalArgumentException if className is {@code null} or an empty string, or its length exceeds 56\n      * characters.\n-     * @throws UnsupportedOperationException if this {@link RealmObjectSchema} is immutable.\n+     * @throws UnsupportedOperationException if this {@link RealmObjectSchema} is immutable or from a synced Realm.", "originalCommit": "86af421b38b99f0559e91c25c648eec4dcff2c0d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc0MDg1Mw==", "url": "https://github.com/realm/realm-java/pull/6850#discussion_r424740853", "bodyText": "Maybe it would be worth having different public types for the two types of schemas. All update methods of the normal typed Realms' schema just throws UnsupportedOperationException and you only get an updatable scheme from the DynamicRealm (if I have gotten it right).", "author": "rorbech", "createdAt": "2020-05-13T21:26:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY2MjMxNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc0NDY4MQ==", "url": "https://github.com/realm/realm-java/pull/6850#discussion_r424744681", "bodyText": "Yes, it might be worth thinking about \ud83d\udc4d", "author": "cmelchior", "createdAt": "2020-05-13T21:35:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY2MjMxNw=="}], "type": "inlineReview"}, {"oid": "62b68828fda1faeee07d7b9889f5c317d7efda82", "url": "https://github.com/realm/realm-java/commit/62b68828fda1faeee07d7b9889f5c317d7efda82", "message": "Reuse variable in favor of duplicate string\n\nCo-authored-by: Christian Melchior <christian@ilios.dk>", "committedDate": "2020-05-13T19:27:12Z", "type": "commit"}, {"oid": "0524b7cd16dd7a7e0aac0e0ef770912c20c55c7b", "url": "https://github.com/realm/realm-java/commit/0524b7cd16dd7a7e0aac0e0ef770912c20c55c7b", "message": "CHANGELOG Updates", "committedDate": "2020-05-13T20:03:38Z", "type": "commit"}, {"oid": "c227ba4c5dc155e0abadf9093f883de005bf53a9", "url": "https://github.com/realm/realm-java/commit/c227ba4c5dc155e0abadf9093f883de005bf53a9", "message": "Move ErrorCollector.assertWithFailure to existing util class", "committedDate": "2020-05-13T20:04:50Z", "type": "commit"}, {"oid": "54c9b58464f800fcab5217b4c0715b4438574a14", "url": "https://github.com/realm/realm-java/commit/54c9b58464f800fcab5217b4c0715b4438574a14", "message": "Use executeTransaction and other minor fixes", "committedDate": "2020-05-13T20:05:56Z", "type": "commit"}, {"oid": "242dd7fd9335d5aeeccb4f22bf5691598fa635d4", "url": "https://github.com/realm/realm-java/commit/242dd7fd9335d5aeeccb4f22bf5691598fa635d4", "message": "Merge commit '62b68828fda1faeee07d7b9889f5c317d7efda82' into cr/sync-test-migration-schema", "committedDate": "2020-05-13T21:05:31Z", "type": "commit"}]}