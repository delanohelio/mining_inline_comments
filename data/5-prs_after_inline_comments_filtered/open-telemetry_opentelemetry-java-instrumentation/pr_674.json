{"pr_number": 674, "pr_title": "Zipkin, Jaeger: use standard exporter configuration from OpenTelemetry Java SDK", "pr_createdAt": "2020-07-13T04:01:22Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/674", "timeline": [{"oid": "eccc2c71f9b7c9d2eb4f988c283b4a96bf2bef2a", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/eccc2c71f9b7c9d2eb4f988c283b4a96bf2bef2a", "message": "#531 Zipkin, Jaeger: use standard exporter configuration from OpenTelemetry Java SDK\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>", "committedDate": "2020-07-13T04:00:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQyMzM2Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/674#discussion_r453423367", "bodyText": "I forgot about this, I think we need to force OkHttpSender here due to #375 (comment)", "author": "trask", "createdAt": "2020-07-13T04:04:43Z", "path": "auto-exporters/zipkin/src/main/java/io/opentelemetry/auto/exporters/zipkin/ZipkinExporterFactory.java", "diffHunk": "@@ -23,19 +23,12 @@\n import zipkin2.reporter.okhttp3.OkHttpSender;\n \n public class ZipkinExporterFactory implements SpanExporterFactory {\n-  private static final String ZIPKIN_ENDPOINT = \"zipkin.endpoint\";\n-  private static final String DEFAULT_ZIPKIN_ENDPOINT = \"http://localhost:9411/api/v2/spans\";\n-\n-  private static final String ZIPKIN_SERVICE_NAME = \"zipkin.service.name\";\n-  private static final String DEFAULT_ZIPKIN_SERVICE_NAME = \"(unknown service)\";\n \n   @Override\n   public SpanExporter fromConfig(Config config) {\n-    final String zipkinEndpoint = config.getString(ZIPKIN_ENDPOINT, DEFAULT_ZIPKIN_ENDPOINT);\n-    final String serviceName = config.getString(ZIPKIN_SERVICE_NAME, DEFAULT_ZIPKIN_SERVICE_NAME);\n     return ZipkinSpanExporter.newBuilder()\n-        .setSender(OkHttpSender.create(zipkinEndpoint))", "originalCommit": "eccc2c71f9b7c9d2eb4f988c283b4a96bf2bef2a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQzMDcxNQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/674#discussion_r453430715", "bodyText": "ok, trying to set it.", "author": "malafeev", "createdAt": "2020-07-13T04:39:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQyMzM2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQzMTI5MA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/674#discussion_r453431290", "bodyText": "Anyways except for when the JAR size is extremely limited, Zipkin always recommends using OkHttp in production since performance is way better.", "author": "anuraaga", "createdAt": "2020-07-13T04:42:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQyMzM2Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQzMzIxMw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/674#discussion_r453433213", "bodyText": "I opened open-telemetry/opentelemetry-java#1409 to change the default upstream, so we don't have to override it in the future", "author": "trask", "createdAt": "2020-07-13T04:51:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQyMzM2Nw=="}], "type": "inlineReview"}, {"oid": "6c45e19828c6c1a7e4e81db18ad5f433cbd6d14b", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6c45e19828c6c1a7e4e81db18ad5f433cbd6d14b", "message": "#531 remove unused import\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>", "committedDate": "2020-07-13T04:08:01Z", "type": "commit"}, {"oid": "85b63de06ce9f3f528a2761af07373939d61b435", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/85b63de06ce9f3f528a2761af07373939d61b435", "message": "#531 use OkHttpSender for zipkin exporter\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>", "committedDate": "2020-07-13T04:39:13Z", "type": "commit"}]}