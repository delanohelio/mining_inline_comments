{"pr_number": 237, "pr_title": "Better span names for cassandra", "pr_createdAt": "2020-03-18T17:40:46Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237", "timeline": [{"oid": "d5944f3be66593b3fe4f3265073d6d02c920d10e", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d5944f3be66593b3fe4f3265073d6d02c920d10e", "message": "Better span names for cassandra", "committedDate": "2020-03-18T17:37:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394653354", "bodyText": "does this possibly leak PII into the span names?", "author": "jkwatson", "createdAt": "2020-03-18T21:35:46Z", "path": "instrumentation/cassandra-3.0/src/main/java/io/opentelemetry/auto/instrumentation/datastax/cassandra/TracingSession.java", "diffHunk": "@@ -260,7 +260,7 @@ public void run() {\n   }\n \n   private Span startSpan(final String query) {\n-    final Span span = TRACER.spanBuilder(\"cassandra.query\").setSpanKind(CLIENT).startSpan();\n+    final Span span = TRACER.spanBuilder(query).setSpanKind(CLIENT).startSpan();", "originalCommit": "d5944f3be66593b3fe4f3265073d6d02c920d10e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1NDUwOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394654508", "bodyText": "Yeah, similar to our jdbc capture, if you embed PII directly into your query and don't use parameters, then it will end up in span name", "author": "trask", "createdAt": "2020-03-18T21:38:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY2MTU4MA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394661580", "bodyText": "I see.  Are we ok with this? Does this open the project up to any legal issues if PII leaks because of this decision?", "author": "jkwatson", "createdAt": "2020-03-18T21:54:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY2NDUxOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394664518", "bodyText": "Are you asking me a legal question?", "author": "trask", "createdAt": "2020-03-18T22:01:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY2NDg5Mg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394664892", "bodyText": "ha! I'm more wondering if this decision has been discussed with CNCF legal sorts of people, and if that's appropriate.", "author": "jkwatson", "createdAt": "2020-03-18T22:02:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY2Njc5Nw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394666797", "bodyText": "Pretty sure Apache License covers open source projects from liability. Otherwise how does anything work?", "author": "trask", "createdAt": "2020-03-18T22:06:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY2NzM3OA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394667378", "bodyText": "wait! things work??!!??", "author": "jkwatson", "createdAt": "2020-03-18T22:08:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY5MDQyNg==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/237#discussion_r394690426", "bodyText": "Btw, we do have an issue already tracking the PII concern, see #193, does that make you comfortable approving this?", "author": "trask", "createdAt": "2020-03-18T23:10:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDY1MzM1NA=="}], "type": "inlineReview"}, {"oid": "b2f4041493384cd0dc39bf9a63535b374629507e", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b2f4041493384cd0dc39bf9a63535b374629507e", "message": "Merge branch 'master' into better-span-names-cassandra", "committedDate": "2020-03-19T16:53:22Z", "type": "commit"}]}