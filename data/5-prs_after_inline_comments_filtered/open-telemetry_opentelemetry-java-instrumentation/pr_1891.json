{"pr_number": 1891, "pr_title": "Update javadocs for generic types in HttpServerTracer", "pr_createdAt": "2020-12-11T18:41:50Z", "pr_url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1891", "timeline": [{"oid": "53e84794cade291ce63d47e4098476dfea8939c1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/53e84794cade291ce63d47e4098476dfea8939c1", "message": "update javadocs for generic types in HttpServerTracer", "committedDate": "2020-12-11T18:40:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTUyNDQxNA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1891#discussion_r541524414", "bodyText": "can you check if there any subclasses that don't use CONNECTION, I'm not sure if makes sense to use Void for this (unlike STORAGE)", "author": "trask", "createdAt": "2020-12-12T07:35:13Z", "path": "instrumentation-api/src/main/java/io/opentelemetry/instrumentation/api/tracer/HttpServerTracer.java", "diffHunk": "@@ -18,6 +18,19 @@\n import org.checkerframework.checker.nullness.qual.Nullable;\n \n // TODO In search for a better home package\n+\n+/**\n+ * Base class for implementing Tracers for HTTP servers. It has 3 types that must be specified by\n+ * subclasses:\n+ *\n+ * @param <REQUEST> - The specific type for HTTP requests\n+ * @param <RESPONSE> - The specific type for HTTP responses\n+ * @param <CONNECTION> - The specific type of HTTP connection, used to get peer address information\n+ *     and HTTP flavor. Use Void if your subclass does not need the connection for peerHostIP,\n+ *     peerPort, or flavor.", "originalCommit": "53e84794cade291ce63d47e4098476dfea8939c1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUxMTkwOQ==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1891#discussion_r543511909", "bodyText": "can you check if there any subclasses that don't use CONNECTION, I'm not sure if makes sense to use Void for this (unlike STORAGE)\n\nGood call. They all do.  I'll remove the Void bit.", "author": "breedx-splk", "createdAt": "2020-12-15T16:50:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTUyNDQxNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjExMzEyMw==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1891#discussion_r542113123", "bodyText": "Any doc is better than no doc so this LGTM, but maybe we can go further. STORAGE has always been very hard for me to grok. This comment still doesn't really tell me how to use this parameter, \"what's server context\", \"what's implementation specific storage\" are still remaining questions.", "author": "anuraaga", "createdAt": "2020-12-14T05:01:51Z", "path": "instrumentation-api/src/main/java/io/opentelemetry/instrumentation/api/tracer/HttpServerTracer.java", "diffHunk": "@@ -18,6 +18,19 @@\n import org.checkerframework.checker.nullness.qual.Nullable;\n \n // TODO In search for a better home package\n+\n+/**\n+ * Base class for implementing Tracers for HTTP servers. It has 3 types that must be specified by\n+ * subclasses:\n+ *\n+ * @param <REQUEST> - The specific type for HTTP requests\n+ * @param <RESPONSE> - The specific type for HTTP responses\n+ * @param <CONNECTION> - The specific type of HTTP connection, used to get peer address information\n+ *     and HTTP flavor. Use Void if your subclass does not need the connection for peerHostIP,\n+ *     peerPort, or flavor.\n+ * @param <STORAGE> - Implementation specific storage type for attaching/getting the server context.", "originalCommit": "53e84794cade291ce63d47e4098476dfea8939c1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzY0NDUzOA==", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1891#discussion_r543644538", "bodyText": "Yeah, I'm planning to work on cleaning up the http server instrumentations after getting through the http clients, and will think on this.", "author": "trask", "createdAt": "2020-12-15T19:56:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjExMzEyMw=="}], "type": "inlineReview"}, {"oid": "f1ac26c54cbc093c816b6fba03c442a3d58abff7", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f1ac26c54cbc093c816b6fba03c442a3d58abff7", "message": "remove suggestion to use Void -- all subclasses will use this type.", "committedDate": "2020-12-15T16:50:29Z", "type": "commit"}]}