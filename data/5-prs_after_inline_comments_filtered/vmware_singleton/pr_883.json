{"pr_number": 883, "pr_title": "Adding build file to sample-app-with-shared-lib to build it as Spring Boot app", "pr_createdAt": "2020-11-20T22:04:04Z", "pr_url": "https://github.com/vmware/singleton/pull/883", "timeline": [{"oid": "578920de8384ea58118d692c67e26f9378471cf8", "url": "https://github.com/vmware/singleton/commit/578920de8384ea58118d692c67e26f9378471cf8", "message": "Adding build file to build as Spring Boot app", "committedDate": "2020-11-20T22:01:35Z", "type": "commit"}, {"oid": "998387907df2bcb52d8284ea7a1c9f2f7406ec5e", "url": "https://github.com/vmware/singleton/commit/998387907df2bcb52d8284ea7a1c9f2f7406ec5e", "message": "adding license header", "committedDate": "2020-11-20T22:12:07Z", "type": "commit"}, {"oid": "7fc2e2a5f0dcb4ff8b0e73024330b82be66b91c3", "url": "https://github.com/vmware/singleton/commit/7fc2e2a5f0dcb4ff8b0e73024330b82be66b91c3", "message": "update README", "committedDate": "2020-11-20T23:30:39Z", "type": "commit"}, {"oid": "6a8b30086e8b569fe8638ce6d6f7ec0a530f52f3", "url": "https://github.com/vmware/singleton/commit/6a8b30086e8b569fe8638ce6d6f7ec0a530f52f3", "message": "build and rn as spring boot", "committedDate": "2020-11-21T04:43:44Z", "type": "commit"}, {"oid": "9318c816e5649b94cd53e35b85ec07224cf59677", "url": "https://github.com/vmware/singleton/commit/9318c816e5649b94cd53e35b85ec07224cf59677", "message": "README", "committedDate": "2020-11-22T20:01:31Z", "type": "commit"}, {"oid": "2d92f18bc1f898ad490bad8556418337a117aab7", "url": "https://github.com/vmware/singleton/commit/2d92f18bc1f898ad490bad8556418337a117aab7", "message": "README", "committedDate": "2020-11-23T00:21:34Z", "type": "commit"}, {"oid": "dee42766574af407364a413dc65feeb086d5d608", "url": "https://github.com/vmware/singleton/commit/dee42766574af407364a413dc65feeb086d5d608", "message": "code clean up", "committedDate": "2020-12-02T02:07:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAxNDg3Mw==", "url": "https://github.com/vmware/singleton/pull/883#discussion_r534014873", "bodyText": "Why need a CommandLineRunner?", "author": "Xiaochao8", "createdAt": "2020-12-02T09:25:28Z", "path": "sample-client-app/sample-app-with-shared-lib/src/main/java/com/vmware/vipclient/sample/springboot/Application.java", "diffHunk": "@@ -0,0 +1,30 @@\n+/*\n+ * Copyright 2019-2020 VMware, Inc.\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package com.vmware.vipclient.sample.springboot;\n+\n+import java.util.Arrays;\n+\n+import com.vmware.vipclient.sample.Main;\n+import org.springframework.boot.CommandLineRunner;\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import org.springframework.context.ApplicationContext;\n+import org.springframework.context.annotation.Bean;\n+\n+@SpringBootApplication\n+public class Application {\n+\n+\tpublic static void main(String[] args) {\n+\t\tSpringApplication.run(Application.class, args);\n+\t}\n+\n+\t@Bean\n+\tpublic CommandLineRunner commandLineRunner(ApplicationContext ctx) {", "originalCommit": "dee42766574af407364a413dc65feeb086d5d608", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMyMjgyNg==", "url": "https://github.com/vmware/singleton/pull/883#discussion_r534322826", "bodyText": "It's just a way in Spring Boot to automatically run some logic after the application context is loaded. There are many ways to do it in Spring (https://reflectoring.io/spring-boot-execute-on-startup/), but we only need one here as an example to run Main.main which triggers all the sample code. Do you prefer any other way?\nAlso, we do not want to simple specify Main as  the main Manifest 'Start-class' because this does not load and start a Spring Application context, which may not resemble actual real-world scenarios.", "author": "jessiejuachon", "createdAt": "2020-12-02T16:51:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAxNDg3Mw=="}], "type": "inlineReview"}, {"oid": "34761963c5790e9c7289d0af3f3c2893f95da016", "url": "https://github.com/vmware/singleton/commit/34761963c5790e9c7289d0af3f3c2893f95da016", "message": "Code clena up", "committedDate": "2020-12-02T16:56:15Z", "type": "commit"}]}