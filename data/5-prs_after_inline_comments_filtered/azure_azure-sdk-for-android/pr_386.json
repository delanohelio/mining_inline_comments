{"pr_number": 386, "pr_title": "Added support to set access tier on a blob", "pr_createdAt": "2020-10-06T19:33:04Z", "pr_url": "https://github.com/Azure/azure-sdk-for-android/pull/386", "timeline": [{"oid": "1cfc7e957e5bbc04e3d1b881a8e3c097b0eefeec", "url": "https://github.com/Azure/azure-sdk-for-android/commit/1cfc7e957e5bbc04e3d1b881a8e3c097b0eefeec", "message": "Added support to set access tier on a blob", "committedDate": "2020-10-06T19:32:31Z", "type": "commit"}, {"oid": "8fdb9abb17f25758387d839b40ca3e6bda0cd2a1", "url": "https://github.com/Azure/azure-sdk-for-android/commit/8fdb9abb17f25758387d839b40ca3e6bda0cd2a1", "message": "Formatting of javadoc", "committedDate": "2020-10-06T19:44:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU1NTU1Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r500555553", "bodyText": "Should this be setTier or setBlobTier?", "author": "gapra-msft", "createdAt": "2020-10-06T19:50:21Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -374,6 +376,73 @@ public void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the blob's tier.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    public void setTier(String containerName,", "originalCommit": "8fdb9abb17f25758387d839b40ca3e6bda0cd2a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzMzU5Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r500633593", "bodyText": "I just changed mine to be setBlobHttpHeaders. Just cus it's getBlobProperties. Doesn't matter too much though cus archboard.", "author": "rickle-msft", "createdAt": "2020-10-06T22:33:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU1NTU1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTIxODY4MQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r501218681", "bodyText": "I agree with Rick, we still have to standardize the naming for methods like these, given that we also have things like upload and getBlobProperties in the same client and both pertain to operations involving a single blob.", "author": "vcolin7", "createdAt": "2020-10-07T18:19:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU1NTU1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzNDYwMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r500634601", "bodyText": "Can we get rid of this?", "author": "rickle-msft", "createdAt": "2020-10-06T22:36:29Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,131 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.\n+ */\n+@JacksonXmlRootElement(localName = \"Blob-SetTier-Headers\")\n+public class BlobSetTierHeaders {\n+    /*\n+     * If a client request id header is sent in the request, this header will\n+     * be present in the response with the same value.\n+     */\n+    @JsonProperty(value = \"x-ms-client-request-id\")\n+    private String clientRequestId;\n+\n+    /*\n+     * This header uniquely identifies the request that was made and can be\n+     * used for troubleshooting the request.\n+     */\n+    @JsonProperty(value = \"x-ms-request-id\")\n+    private String requestId;\n+\n+    /*\n+     * Indicates the version of the Blob service used to execute the request.\n+     * This header is returned for requests made against version 2009-09-19 and\n+     * newer.\n+     */\n+    @JsonProperty(value = \"x-ms-version\")\n+    private String version;\n+\n+    /*\n+     * The errorCode property.\n+     */\n+    @JsonProperty(value = \"x-ms-error-code\")", "originalCommit": "8fdb9abb17f25758387d839b40ca3e6bda0cd2a1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzNTEyOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r500635129", "bodyText": "Hmm. the getProperties method has errorCode in its headers. You're right though that its odd to return it", "author": "gapra-msft", "createdAt": "2020-10-06T22:37:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzNDYwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMwODIzNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504308234", "bodyText": "Maybe on the convenience layer we can remove things such as this, however, if we are going to use AutoRest to generate the service layer then these headers will probably end up there anyways.", "author": "vcolin7", "createdAt": "2020-10-13T23:06:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDYzNDYwMQ=="}], "type": "inlineReview"}, {"oid": "4c20b844ed77fa3a96609d276fca4b5a62f79b57", "url": "https://github.com/Azure/azure-sdk-for-android/commit/4c20b844ed77fa3a96609d276fca4b5a62f79b57", "message": "renamed method to setBlobTier", "committedDate": "2020-10-07T16:20:09Z", "type": "commit"}, {"oid": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "url": "https://github.com/Azure/azure-sdk-for-android/commit/405f6a3b104cb963fd1b0d8b64194c8001e043a7", "message": "removed error code", "committedDate": "2020-10-08T17:00:20Z", "type": "commit"}, {"oid": "cd2de7ff4bee2b20b6d45e08f4d127223f75c89b", "url": "https://github.com/Azure/azure-sdk-for-android/commit/cd2de7ff4bee2b20b6d45e08f4d127223f75c89b", "message": "Started on create container", "committedDate": "2020-10-09T00:06:58Z", "type": "commit"}, {"oid": "3e1a8074ebf302b11352b46e3e9cf305037bc1f6", "url": "https://github.com/Azure/azure-sdk-for-android/commit/3e1a8074ebf302b11352b46e3e9cf305037bc1f6", "message": "Added support to delete container", "committedDate": "2020-10-09T18:41:29Z", "type": "commit"}, {"oid": "7fd2db40775cd27af30e8e3d4a385b074be54728", "url": "https://github.com/Azure/azure-sdk-for-android/commit/7fd2db40775cd27af30e8e3d4a385b074be54728", "message": "Finished createContainer", "committedDate": "2020-10-09T18:57:58Z", "type": "commit"}, {"oid": "58d2a0d674e12be953f4fc9b30021e8d51b8c5af", "url": "https://github.com/Azure/azure-sdk-for-android/commit/58d2a0d674e12be953f4fc9b30021e8d51b8c5af", "message": "Updated test", "committedDate": "2020-10-09T20:19:27Z", "type": "commit"}, {"oid": "8042b1d882af59f48bfd2c9233ffb789893f29b0", "url": "https://github.com/Azure/azure-sdk-for-android/commit/8042b1d882af59f48bfd2c9233ffb789893f29b0", "message": "Exposed BlobRequestConditions publically", "committedDate": "2020-10-09T20:28:29Z", "type": "commit"}, {"oid": "368f15356e57f681bb1635e4aed0ee44c4789290", "url": "https://github.com/Azure/azure-sdk-for-android/commit/368f15356e57f681bb1635e4aed0ee44c4789290", "message": "Started setting up ways to get creds and clients", "committedDate": "2020-10-09T23:38:27Z", "type": "commit"}, {"oid": "34329b725b7f423436b09b35116080832ce3ade1", "url": "https://github.com/Azure/azure-sdk-for-android/commit/34329b725b7f423436b09b35116080832ce3ade1", "message": "Merge branch 'testInfra' into createContainer", "committedDate": "2020-10-12T18:46:07Z", "type": "commit"}, {"oid": "326f1d06598ff9e57a9179e6096fe68ee40c6ebd", "url": "https://github.com/Azure/azure-sdk-for-android/commit/326f1d06598ff9e57a9179e6096fe68ee40c6ebd", "message": "Started on createContainer network tests", "committedDate": "2020-10-12T19:21:19Z", "type": "commit"}, {"oid": "d442292112b7d5dbdc9789ffa222b9495aff0913", "url": "https://github.com/Azure/azure-sdk-for-android/commit/d442292112b7d5dbdc9789ffa222b9495aff0913", "message": "Merge remote-tracking branch 'gauri/storage/deleteContainer' into createContainer", "committedDate": "2020-10-12T19:23:36Z", "type": "commit"}, {"oid": "a838f0f2ce20ab11120c4ebb97981be695ec1eca", "url": "https://github.com/Azure/azure-sdk-for-android/commit/a838f0f2ce20ab11120c4ebb97981be695ec1eca", "message": "Added support for get container properties", "committedDate": "2020-10-12T20:43:32Z", "type": "commit"}, {"oid": "ebd01c2d9cabfb6853fbb3e05b4db00c2732c0a2", "url": "https://github.com/Azure/azure-sdk-for-android/commit/ebd01c2d9cabfb6853fbb3e05b4db00c2732c0a2", "message": "Working on deleteContainer tests", "committedDate": "2020-10-12T20:47:39Z", "type": "commit"}, {"oid": "95bfecb4dd10691bb8656971605b59733b723090", "url": "https://github.com/Azure/azure-sdk-for-android/commit/95bfecb4dd10691bb8656971605b59733b723090", "message": "Merge remote-tracking branch 'gauri/storage/getContainerProperties' into createContainer", "committedDate": "2020-10-12T20:50:47Z", "type": "commit"}, {"oid": "d891da875b3a634f5fcc7d6a7cb5e8607d771a4f", "url": "https://github.com/Azure/azure-sdk-for-android/commit/d891da875b3a634f5fcc7d6a7cb5e8607d771a4f", "message": "Added live tests for create", "committedDate": "2020-10-13T00:00:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMwODkyMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504308922", "bodyText": "nit;\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Defines headers for SetTier operation.\n          \n          \n            \n             * Defines headers for the setBlobTier operation.", "author": "vcolin7", "createdAt": "2020-10-13T23:08:47Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMwOTg0NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504309845", "bodyText": "We have not really talked about if we are going to use id or ID in the Javadoc for our clients, just making a note on this.", "author": "vcolin7", "createdAt": "2020-10-13T23:11:27Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.\n+ */\n+@JacksonXmlRootElement(localName = \"Blob-SetTier-Headers\")\n+public class BlobSetTierHeaders {\n+    /*\n+     * If a client request id header is sent in the request, this header will", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMDI5NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504310295", "bodyText": "We use this notation on other Fluent types that are part of the Android SDKs, not a hard requirement for this PR though. We might want to revisit all these Javadocs to ensure consistency.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return the BlobSetTierHeaders object itself.\n          \n          \n            \n                 * @return the updated BlobSetTierHeaders object.", "author": "vcolin7", "createdAt": "2020-10-13T23:12:48Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.\n+ */\n+@JacksonXmlRootElement(localName = \"Blob-SetTier-Headers\")\n+public class BlobSetTierHeaders {\n+    /*\n+     * If a client request id header is sent in the request, this header will\n+     * be present in the response with the same value.\n+     */\n+    @JsonProperty(value = \"x-ms-client-request-id\")\n+    private String clientRequestId;\n+\n+    /*\n+     * This header uniquely identifies the request that was made and can be\n+     * used for troubleshooting the request.\n+     */\n+    @JsonProperty(value = \"x-ms-request-id\")\n+    private String requestId;\n+\n+    /*\n+     * Indicates the version of the Blob service used to execute the request.\n+     * This header is returned for requests made against version 2009-09-19 and\n+     * newer.\n+     */\n+    @JsonProperty(value = \"x-ms-version\")\n+    private String version;\n+\n+    /**\n+     * Get the clientRequestId property: If a client request id header is sent\n+     * in the request, this header will be present in the response with the\n+     * same value.\n+     *\n+     * @return the clientRequestId value.\n+     */\n+    public String getClientRequestId() {\n+        return this.clientRequestId;\n+    }\n+\n+    /**\n+     * Set the clientRequestId property: If a client request id header is sent\n+     * in the request, this header will be present in the response with the\n+     * same value.\n+     *\n+     * @param clientRequestId the clientRequestId value to set.\n+     * @return the BlobSetTierHeaders object itself.", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMDc5MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504310790", "bodyText": "If we include property descriptions in our Javadoc we don't need to mention them again in the getters and setters. Not sure what the convention is in the Java SDKs but I guess code would look cleaner this way.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /*\n          \n          \n            \n                /**", "author": "vcolin7", "createdAt": "2020-10-13T23:14:25Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.\n+ */\n+@JacksonXmlRootElement(localName = \"Blob-SetTier-Headers\")\n+public class BlobSetTierHeaders {\n+    /*", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY5NTI4Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r508695283", "bodyText": "These were all simply copy pasted from the Java SDK. In the Java SDK we generally like to keep these \"generated\" types hidden from customers. I think that might be the way we might choose to go here as well. I'd rather just leave it to be as close to existing Java generated code as possible", "author": "gapra-msft", "createdAt": "2020-10-20T17:04:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMDc5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODc4NzA4OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r508787088", "bodyText": "Given that we now have an AutoRest implementation for Android, we might want to re-generate these classes and revisit this at some point to see if we need any convenience added on top of the models.", "author": "vcolin7", "createdAt": "2020-10-20T19:33:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMDc5MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODc4NzkxMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r508787911", "bodyText": "I can make that a work item since its likely that this will affect all the other APIs", "author": "gapra-msft", "createdAt": "2020-10-20T19:35:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMDc5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMDgxMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504310812", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /*\n          \n          \n            \n                /**", "author": "vcolin7", "createdAt": "2020-10-13T23:14:30Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.\n+ */\n+@JacksonXmlRootElement(localName = \"Blob-SetTier-Headers\")\n+public class BlobSetTierHeaders {\n+    /*\n+     * If a client request id header is sent in the request, this header will\n+     * be present in the response with the same value.\n+     */\n+    @JsonProperty(value = \"x-ms-client-request-id\")\n+    private String clientRequestId;\n+\n+    /*", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMDg0NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504310845", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /*\n          \n          \n            \n                /**", "author": "vcolin7", "createdAt": "2020-10-13T23:14:35Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.\n+ */\n+@JacksonXmlRootElement(localName = \"Blob-SetTier-Headers\")\n+public class BlobSetTierHeaders {\n+    /*\n+     * If a client request id header is sent in the request, this header will\n+     * be present in the response with the same value.\n+     */\n+    @JsonProperty(value = \"x-ms-client-request-id\")\n+    private String clientRequestId;\n+\n+    /*\n+     * This header uniquely identifies the request that was made and can be\n+     * used for troubleshooting the request.\n+     */\n+    @JsonProperty(value = \"x-ms-request-id\")\n+    private String requestId;\n+\n+    /*", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxMjE0OA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504312148", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Contains all response data for the setTier operation.\n          \n          \n            \n             * Contains all response data for the setBlobTier operation.", "author": "vcolin7", "createdAt": "2020-10-13T23:18:33Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierResponse.java", "diffHunk": "@@ -0,0 +1,33 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+\n+import com.azure.android.core.http.ResponseBase;\n+\n+import okhttp3.Headers;\n+import okhttp3.Request;\n+\n+/**\n+ * Contains all response data for the setTier operation.", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNDIzNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504314234", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    BlobSetTierResponse response = setTierWithRestResponse(containerName,\n          \n          \n            \n                    BlobSetTierResponse response = setBlobTierWithRestResponse(containerName,", "author": "vcolin7", "createdAt": "2020-10-13T23:25:17Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +263,148 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    Void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier) {\n+        BlobSetTierResponse response = setTierWithRestResponse(containerName,", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNDQxMQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504314411", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    setTierWithRestResponseIntern(containerName,\n          \n          \n            \n                    setBlobTierWithRestResponseIntern(containerName,", "author": "vcolin7", "createdAt": "2020-10-13T23:25:47Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +263,148 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    Void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier) {\n+        BlobSetTierResponse response = setTierWithRestResponse(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return response.getValue();\n+    }\n+\n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier,\n+                 CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        setTierWithRestResponseIntern(containerName,", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNDUxNQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504314515", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return setTierWithRestResponseIntern(containerName,\n          \n          \n            \n                    return setBlobTierWithRestResponseIntern(containerName,", "author": "vcolin7", "createdAt": "2020-10-13T23:26:07Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +263,148 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    Void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier) {\n+        BlobSetTierResponse response = setTierWithRestResponse(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return response.getValue();\n+    }\n+\n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier,\n+                 CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        setTierWithRestResponseIntern(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE,\n+            callback);\n+    }\n+\n+    /**\n+     * The Set Tier operation sets the tier on a blob. The operation is allowed on a page blob in a premium storage account and on a block blob in a blob storage account (locally redundant storage only). A premium page blob's tier determines the allowed size, IOPS, and bandwidth of the blob. A block blob's tier determines Hot/Cool/Archive storage type. This operation does not update the blob's ETag.\n+     *\n+     * @param containerName     The container name.\n+     * @param blobName          The blob name.\n+     * @param tier              Indicates the tier to be set on the blob. Possible values include: 'P4', 'P6', 'P10', 'P15', 'P20', 'P30', 'P40', 'P50', 'P60', 'P70', 'P80', 'Hot', 'Cool', 'Archive'.\n+     * @param snapshot          The snapshot parameter is an opaque DateTime value that, when present, specifies the blob snapshot to retrieve. For more information on working with blob snapshots, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/creating-a-snapshot-of-a-blob\"&gt;Creating a Snapshot of a Blob.&lt;/a&gt;.\n+     * @param versionId         The version id parameter is an opaque DateTime value that, when present, specifies the version of the blob to operate on. It's for service version 2019-10-10 and newer.\n+     * @param timeout           The timeout parameter is expressed in seconds. For more information, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n+     * @param version           Specifies the version of the operation to use for this request.\n+     * @param rehydratePriority Optional: Indicates the priority with which to rehydrate an archived blob. Possible values include: 'High', 'Standard'.\n+     * @param requestId         Provides a client-generated, opaque value with a 1 KB character limit that is recorded in the analytics logs when storage analytics logging is enabled.\n+     * @param leaseId           If specified, the operation only succeeds if the resource's lease is active and matches this ID.\n+     * @param ifTags            Specify a SQL where clause on blob tags to operate only on blobs with a matching value.\n+     * @param cancellationToken The token to request cancellation.\n+     * @return The response information returned from the server when setting tier on a blob.\n+     */\n+    BlobSetTierResponse setTierWithRestResponse(String containerName,\n+                                                String blobName,\n+                                                AccessTier tier,\n+                                                String snapshot,\n+                                                String versionId,\n+                                                Integer timeout,\n+                                                String version,\n+                                                RehydratePriority rehydratePriority,\n+                                                String requestId,\n+                                                String leaseId,\n+                                                String ifTags,\n+                                                CancellationToken cancellationToken) {\n+        return setTierWithRestResponseIntern(containerName,", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNTIxNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504315214", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Void setTier(String containerName,\n          \n          \n            \n                             String blobName,\n          \n          \n            \n                             AccessTier tier) {\n          \n          \n            \n                Void setBlobTier(String containerName,\n          \n          \n            \n                                 String blobName,\n          \n          \n            \n                                 AccessTier tier) {", "author": "vcolin7", "createdAt": "2020-10-13T23:28:20Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +263,148 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    Void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier) {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNTM0NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504315344", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void setTier(String containerName,\n          \n          \n            \n                             String blobName,\n          \n          \n            \n                             AccessTier tier,\n          \n          \n            \n                             CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n          \n          \n            \n                void setBlobTier(String containerName,\n          \n          \n            \n                                 String blobName,\n          \n          \n            \n                                 AccessTier tier,\n          \n          \n            \n                                 CallbackWithHeader<Void, BlobSetTierHeaders> callback) {", "author": "vcolin7", "createdAt": "2020-10-13T23:28:47Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +263,148 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    Void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier) {\n+        BlobSetTierResponse response = setTierWithRestResponse(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return response.getValue();\n+    }\n+\n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier,\n+                 CallbackWithHeader<Void, BlobSetTierHeaders> callback) {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNTUyNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504315524", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                BlobSetTierResponse setTierWithRestResponse(String containerName,\n          \n          \n            \n                                                            String blobName,\n          \n          \n            \n                                                            AccessTier tier,\n          \n          \n            \n                                                            String snapshot,\n          \n          \n            \n                                                            String versionId,\n          \n          \n            \n                                                            Integer timeout,\n          \n          \n            \n                                                            String version,\n          \n          \n            \n                                                            RehydratePriority rehydratePriority,\n          \n          \n            \n                                                            String requestId,\n          \n          \n            \n                                                            String leaseId,\n          \n          \n            \n                                                            String ifTags,\n          \n          \n            \n                                                            CancellationToken cancellationToken) {\n          \n          \n            \n                BlobSetTierResponse setBlobTierWithRestResponse(String containerName,\n          \n          \n            \n                                                                String blobName,\n          \n          \n            \n                                                                AccessTier tier,\n          \n          \n            \n                                                                String snapshot,\n          \n          \n            \n                                                                String versionId,\n          \n          \n            \n                                                                Integer timeout,\n          \n          \n            \n                                                                String version,\n          \n          \n            \n                                                                RehydratePriority rehydratePriority,\n          \n          \n            \n                                                                String requestId,\n          \n          \n            \n                                                                String leaseId,\n          \n          \n            \n                                                                String ifTags,\n          \n          \n            \n                                                                CancellationToken cancellationToken) {", "author": "vcolin7", "createdAt": "2020-10-13T23:29:20Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +263,148 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    Void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier) {\n+        BlobSetTierResponse response = setTierWithRestResponse(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return response.getValue();\n+    }\n+\n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier,\n+                 CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        setTierWithRestResponseIntern(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE,\n+            callback);\n+    }\n+\n+    /**\n+     * The Set Tier operation sets the tier on a blob. The operation is allowed on a page blob in a premium storage account and on a block blob in a blob storage account (locally redundant storage only). A premium page blob's tier determines the allowed size, IOPS, and bandwidth of the blob. A block blob's tier determines Hot/Cool/Archive storage type. This operation does not update the blob's ETag.\n+     *\n+     * @param containerName     The container name.\n+     * @param blobName          The blob name.\n+     * @param tier              Indicates the tier to be set on the blob. Possible values include: 'P4', 'P6', 'P10', 'P15', 'P20', 'P30', 'P40', 'P50', 'P60', 'P70', 'P80', 'Hot', 'Cool', 'Archive'.\n+     * @param snapshot          The snapshot parameter is an opaque DateTime value that, when present, specifies the blob snapshot to retrieve. For more information on working with blob snapshots, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/creating-a-snapshot-of-a-blob\"&gt;Creating a Snapshot of a Blob.&lt;/a&gt;.\n+     * @param versionId         The version id parameter is an opaque DateTime value that, when present, specifies the version of the blob to operate on. It's for service version 2019-10-10 and newer.\n+     * @param timeout           The timeout parameter is expressed in seconds. For more information, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n+     * @param version           Specifies the version of the operation to use for this request.\n+     * @param rehydratePriority Optional: Indicates the priority with which to rehydrate an archived blob. Possible values include: 'High', 'Standard'.\n+     * @param requestId         Provides a client-generated, opaque value with a 1 KB character limit that is recorded in the analytics logs when storage analytics logging is enabled.\n+     * @param leaseId           If specified, the operation only succeeds if the resource's lease is active and matches this ID.\n+     * @param ifTags            Specify a SQL where clause on blob tags to operate only on blobs with a matching value.\n+     * @param cancellationToken The token to request cancellation.\n+     * @return The response information returned from the server when setting tier on a blob.\n+     */\n+    BlobSetTierResponse setTierWithRestResponse(String containerName,\n+                                                String blobName,\n+                                                AccessTier tier,\n+                                                String snapshot,\n+                                                String versionId,\n+                                                Integer timeout,\n+                                                String version,\n+                                                RehydratePriority rehydratePriority,\n+                                                String requestId,\n+                                                String leaseId,\n+                                                String ifTags,\n+                                                CancellationToken cancellationToken) {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNTgyNA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504315824", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void setTier(String containerName,\n          \n          \n            \n                             String blobName,\n          \n          \n            \n                             AccessTier tier,\n          \n          \n            \n                             String snapshot,\n          \n          \n            \n                             String versionId,\n          \n          \n            \n                             Integer timeout,\n          \n          \n            \n                             String version,\n          \n          \n            \n                             RehydratePriority rehydratePriority,\n          \n          \n            \n                             String requestId,\n          \n          \n            \n                             String leaseId,\n          \n          \n            \n                             String ifTags,\n          \n          \n            \n                             CancellationToken cancellationToken,\n          \n          \n            \n                             CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n          \n          \n            \n                void setBlobTierWithResponse(String containerName,\n          \n          \n            \n                                             String blobName,\n          \n          \n            \n                                             AccessTier tier,\n          \n          \n            \n                                             String snapshot,\n          \n          \n            \n                                             String versionId,\n          \n          \n            \n                                             Integer timeout,\n          \n          \n            \n                                             String version,\n          \n          \n            \n                                             RehydratePriority rehydratePriority,\n          \n          \n            \n                                             String requestId,\n          \n          \n            \n                                             String leaseId,\n          \n          \n            \n                                             String ifTags,\n          \n          \n            \n                                             CancellationToken cancellationToken,\n          \n          \n            \n                                             CallbackWithHeader<Void, BlobSetTierHeaders> callback) {", "author": "vcolin7", "createdAt": "2020-10-13T23:30:18Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +263,148 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    Void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier) {\n+        BlobSetTierResponse response = setTierWithRestResponse(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return response.getValue();\n+    }\n+\n+    /**\n+     * Sets the access tier of a blob.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier,\n+                 CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        setTierWithRestResponseIntern(containerName,\n+            blobName,\n+            tier,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            null,\n+            CancellationToken.NONE,\n+            callback);\n+    }\n+\n+    /**\n+     * The Set Tier operation sets the tier on a blob. The operation is allowed on a page blob in a premium storage account and on a block blob in a blob storage account (locally redundant storage only). A premium page blob's tier determines the allowed size, IOPS, and bandwidth of the blob. A block blob's tier determines Hot/Cool/Archive storage type. This operation does not update the blob's ETag.\n+     *\n+     * @param containerName     The container name.\n+     * @param blobName          The blob name.\n+     * @param tier              Indicates the tier to be set on the blob. Possible values include: 'P4', 'P6', 'P10', 'P15', 'P20', 'P30', 'P40', 'P50', 'P60', 'P70', 'P80', 'Hot', 'Cool', 'Archive'.\n+     * @param snapshot          The snapshot parameter is an opaque DateTime value that, when present, specifies the blob snapshot to retrieve. For more information on working with blob snapshots, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/creating-a-snapshot-of-a-blob\"&gt;Creating a Snapshot of a Blob.&lt;/a&gt;.\n+     * @param versionId         The version id parameter is an opaque DateTime value that, when present, specifies the version of the blob to operate on. It's for service version 2019-10-10 and newer.\n+     * @param timeout           The timeout parameter is expressed in seconds. For more information, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n+     * @param version           Specifies the version of the operation to use for this request.\n+     * @param rehydratePriority Optional: Indicates the priority with which to rehydrate an archived blob. Possible values include: 'High', 'Standard'.\n+     * @param requestId         Provides a client-generated, opaque value with a 1 KB character limit that is recorded in the analytics logs when storage analytics logging is enabled.\n+     * @param leaseId           If specified, the operation only succeeds if the resource's lease is active and matches this ID.\n+     * @param ifTags            Specify a SQL where clause on blob tags to operate only on blobs with a matching value.\n+     * @param cancellationToken The token to request cancellation.\n+     * @return The response information returned from the server when setting tier on a blob.\n+     */\n+    BlobSetTierResponse setTierWithRestResponse(String containerName,\n+                                                String blobName,\n+                                                AccessTier tier,\n+                                                String snapshot,\n+                                                String versionId,\n+                                                Integer timeout,\n+                                                String version,\n+                                                RehydratePriority rehydratePriority,\n+                                                String requestId,\n+                                                String leaseId,\n+                                                String ifTags,\n+                                                CancellationToken cancellationToken) {\n+        return setTierWithRestResponseIntern(containerName,\n+            blobName,\n+            tier,\n+            snapshot,\n+            versionId,\n+            timeout,\n+            version,\n+            rehydratePriority,\n+            requestId,\n+            leaseId,\n+            ifTags,\n+            cancellationToken,\n+            null);\n+    }\n+\n+    /**\n+     * The Set Tier operation sets the tier on a blob. The operation is allowed on a page blob in a premium storage account and on a block blob in a blob storage account (locally redundant storage only). A premium page blob's tier determines the allowed size, IOPS, and bandwidth of the blob. A block blob's tier determines Hot/Cool/Archive storage type. This operation does not update the blob's ETag.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName The blob name.\n+     * @param tier Indicates the tier to be set on the blob. Possible values include: 'P4', 'P6', 'P10', 'P15', 'P20', 'P30', 'P40', 'P50', 'P60', 'P70', 'P80', 'Hot', 'Cool', 'Archive'.\n+     * @param snapshot The snapshot parameter is an opaque DateTime value that, when present, specifies the blob snapshot to retrieve. For more information on working with blob snapshots, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/creating-a-snapshot-of-a-blob\"&gt;Creating a Snapshot of a Blob.&lt;/a&gt;.\n+     * @param versionId The version id parameter is an opaque DateTime value that, when present, specifies the version of the blob to operate on. It's for service version 2019-10-10 and newer.\n+     * @param timeout The timeout parameter is expressed in seconds. For more information, see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n+     * @param version Specifies the version of the operation to use for this request.\n+     * @param rehydratePriority Optional: Indicates the priority with which to rehydrate an archived blob. Possible values include: 'High', 'Standard'.\n+     * @param requestId Provides a client-generated, opaque value with a 1 KB character limit that is recorded in the analytics logs when storage analytics logging is enabled.\n+     * @param leaseId If specified, the operation only succeeds if the resource's lease is active and matches this ID.\n+     * @param ifTags Specify a SQL where clause on blob tags to operate only on blobs with a matching value.\n+     * @param cancellationToken The token to request cancellation.\n+     * @param callback Callback that receives the response.\n+     */\n+    void setTier(String containerName,\n+                 String blobName,\n+                 AccessTier tier,\n+                 String snapshot,\n+                 String versionId,\n+                 Integer timeout,\n+                 String version,\n+                 RehydratePriority rehydratePriority,\n+                 String requestId,\n+                 String leaseId,\n+                 String ifTags,\n+                 CancellationToken cancellationToken,\n+                 CallbackWithHeader<Void, BlobSetTierHeaders> callback) {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNTk1Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504315956", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private BlobSetTierResponse setTierWithRestResponseIntern(String containerName,\n          \n          \n            \n                                                                          String blobName,\n          \n          \n            \n                                                                          AccessTier tier,\n          \n          \n            \n                                                                          String snapshot,\n          \n          \n            \n                                                                          String versionId,\n          \n          \n            \n                                                                          Integer timeout,\n          \n          \n            \n                                                                          String version,\n          \n          \n            \n                                                                          RehydratePriority rehydratePriority,\n          \n          \n            \n                                                                          String requestId,\n          \n          \n            \n                                                                          String leaseId,\n          \n          \n            \n                                                                          String ifTags,\n          \n          \n            \n                                                                          CancellationToken cancellationToken,\n          \n          \n            \n                                                                          CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n          \n          \n            \n                private BlobSetTierResponse setBlobTierWithRestResponseIntern(String containerName,\n          \n          \n            \n                                                                              String blobName,\n          \n          \n            \n                                                                              AccessTier tier,\n          \n          \n            \n                                                                              String snapshot,\n          \n          \n            \n                                                                              String versionId,\n          \n          \n            \n                                                                              Integer timeout,\n          \n          \n            \n                                                                              String version,\n          \n          \n            \n                                                                              RehydratePriority rehydratePriority,\n          \n          \n            \n                                                                              String requestId,\n          \n          \n            \n                                                                              String leaseId,\n          \n          \n            \n                                                                              String ifTags,\n          \n          \n            \n                                                                              CancellationToken cancellationToken,\n          \n          \n            \n                                                                              CallbackWithHeader<Void, BlobSetTierHeaders> callback) {", "author": "vcolin7", "createdAt": "2020-10-13T23:30:44Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1013,6 +1158,94 @@ public void onFailure(@NonNull Call<Void> call, @NonNull Throwable t) {\n         }\n     }\n \n+    private BlobSetTierResponse setTierWithRestResponseIntern(String containerName,\n+                                                              String blobName,\n+                                                              AccessTier tier,\n+                                                              String snapshot,\n+                                                              String versionId,\n+                                                              Integer timeout,\n+                                                              String version,\n+                                                              RehydratePriority rehydratePriority,\n+                                                              String requestId,\n+                                                              String leaseId,\n+                                                              String ifTags,\n+                                                              CancellationToken cancellationToken,\n+                                                              CallbackWithHeader<Void, BlobSetTierHeaders> callback) {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNjE3MA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504316170", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Call<Void> setTier(@Path(\"containerName\") String containerName,\n          \n          \n            \n                                       @Path(\"blob\") String blob,\n          \n          \n            \n                                       @Query(\"snapshot\") String snapshot,\n          \n          \n            \n                                       @Query(\"versionid\") String versionId,\n          \n          \n            \n                                       @Query(\"timeout\") Integer timeout,\n          \n          \n            \n                                       @Header(\"x-ms-version\") String version,\n          \n          \n            \n                                       @Header(\"x-ms-access-tier\") AccessTier tier,\n          \n          \n            \n                                       @Header(\"x-ms-rehydrate-priority\") RehydratePriority rehydratePriority,\n          \n          \n            \n                                       @Header(\"x-ms-client-request-id\") String requestId,\n          \n          \n            \n                                       @Header(\"x-ms-lease-id\") String leaseId,\n          \n          \n            \n                                       @Header(\"x-ms-if-tags\") String ifTags,\n          \n          \n            \n                                       @Header(\"comp\") String comp);\n          \n          \n            \n                    Call<Void> setBlobTier(@Path(\"containerName\") String containerName,\n          \n          \n            \n                                           @Path(\"blob\") String blob,\n          \n          \n            \n                                           @Query(\"snapshot\") String snapshot,\n          \n          \n            \n                                           @Query(\"versionid\") String versionId,\n          \n          \n            \n                                           @Query(\"timeout\") Integer timeout,\n          \n          \n            \n                                           @Header(\"x-ms-version\") String version,\n          \n          \n            \n                                           @Header(\"x-ms-access-tier\") AccessTier tier,\n          \n          \n            \n                                           @Header(\"x-ms-rehydrate-priority\") RehydratePriority rehydratePriority,\n          \n          \n            \n                                           @Header(\"x-ms-client-request-id\") String requestId,\n          \n          \n            \n                                           @Header(\"x-ms-lease-id\") String leaseId,\n          \n          \n            \n                                           @Header(\"x-ms-if-tags\") String ifTags,\n          \n          \n            \n                                           @Header(\"comp\") String comp);", "author": "vcolin7", "createdAt": "2020-10-13T23:31:26Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1580,6 +1813,19 @@ private static String readAsString(ResponseBody body) {\n                                      @Header(\"x-ms-encryption-key-sha256\") String encryptionKeySha256,\n                                      @Header(\"x-ms-encryption-algorithm\") EncryptionAlgorithmType encryptionAlgorithm);\n \n+        @PUT(\"{containerName}/{blob}\")\n+        Call<Void> setTier(@Path(\"containerName\") String containerName,\n+                           @Path(\"blob\") String blob,\n+                           @Query(\"snapshot\") String snapshot,\n+                           @Query(\"versionid\") String versionId,\n+                           @Query(\"timeout\") Integer timeout,\n+                           @Header(\"x-ms-version\") String version,\n+                           @Header(\"x-ms-access-tier\") AccessTier tier,\n+                           @Header(\"x-ms-rehydrate-priority\") RehydratePriority rehydratePriority,\n+                           @Header(\"x-ms-client-request-id\") String requestId,\n+                           @Header(\"x-ms-lease-id\") String leaseId,\n+                           @Header(\"x-ms-if-tags\") String ifTags,\n+                           @Header(\"comp\") String comp);", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNjI4NA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504316284", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Call<Void> call = service.setTier(containerName,\n          \n          \n            \n                    Call<Void> call = service.setBlobTier(containerName,", "author": "vcolin7", "createdAt": "2020-10-13T23:31:56Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1013,6 +1158,94 @@ public void onFailure(@NonNull Call<Void> call, @NonNull Throwable t) {\n         }\n     }\n \n+    private BlobSetTierResponse setTierWithRestResponseIntern(String containerName,\n+                                                              String blobName,\n+                                                              AccessTier tier,\n+                                                              String snapshot,\n+                                                              String versionId,\n+                                                              Integer timeout,\n+                                                              String version,\n+                                                              RehydratePriority rehydratePriority,\n+                                                              String requestId,\n+                                                              String leaseId,\n+                                                              String ifTags,\n+                                                              CancellationToken cancellationToken,\n+                                                              CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        cancellationToken = cancellationToken == null ? CancellationToken.NONE : cancellationToken;\n+\n+        final String comp = \"tier\";\n+\n+        Call<Void> call = service.setTier(containerName,", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzM0NQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317345", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return storageBlobServiceClient.setTier(containerName,  blobName, tier);\n          \n          \n            \n                    return storageBlobServiceClient.setBlobTier(containerName,  blobName, tier);", "author": "vcolin7", "createdAt": "2020-10-13T23:35:34Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobClient.java", "diffHunk": "@@ -199,6 +202,66 @@ public BlobGetPropertiesResponse getBlobPropertiesWithRestResponse(String contai\n             cancellationToken);\n     }\n \n+    /**\n+     * Sets the blob's tier.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    public Void setBlobTier(String containerName,\n+                            String blobName,\n+                            AccessTier tier) {\n+        return storageBlobServiceClient.setTier(containerName,  blobName, tier);", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzUwMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317502", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return storageBlobServiceClient.setTierWithRestResponse(containerName,\n          \n          \n            \n                    return storageBlobServiceClient.setBlobTierWithRestResponse(containerName,", "author": "vcolin7", "createdAt": "2020-10-13T23:36:05Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobClient.java", "diffHunk": "@@ -199,6 +202,66 @@ public BlobGetPropertiesResponse getBlobPropertiesWithRestResponse(String contai\n             cancellationToken);\n     }\n \n+    /**\n+     * Sets the blob's tier.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     */\n+    public Void setBlobTier(String containerName,\n+                            String blobName,\n+                            AccessTier tier) {\n+        return storageBlobServiceClient.setTier(containerName,  blobName, tier);\n+    }\n+\n+    /**\n+     * Sets the blob's tier.\n+     *\n+     * @param containerName         The container name.\n+     * @param blobName              The blob name.\n+     * @param tier                  The access tier.\n+     * @param snapshot              The snapshot parameter is an opaque DateTime value that, when present, specifies\n+     *                              the blob snapshot to retrieve. For more information on working with blob snapshots,\n+     *                              see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/creating-a-snapshot-of-a-blob\"&gt;Creating a Snapshot of a Blob.&lt;/a&gt;.\n+     * @param timeout               The timeout parameter is expressed in seconds. For more information, see\n+     *                              &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n+     * @param version               Specifies the version of the operation to use for this request.\n+     * @param rehydratePriority     The rehydrate priority.\n+     * @param blobRequestConditions Object that contains values which will restrict the successful operation of a\n+     *                              variety of requests to the conditions present. These conditions are entirely\n+     *                              optional.\n+     * @param requestId             Provides a client-generated, opaque value with a 1 KB character limit that is\n+     *                              recorded in the analytics logs when storage analytics logging is enabled.\n+     * @param cancellationToken     The token to request cancellation.\n+     * @return The response information returned from the server when setting a blob's access tier.\n+     */\n+    public BlobSetTierResponse setBlobTierWithRestResponse(String containerName,\n+                                                           String blobName,\n+                                                           AccessTier tier,\n+                                                           String snapshot,\n+                                                           Integer timeout,\n+                                                           String version,\n+                                                           RehydratePriority rehydratePriority,\n+                                                           BlobRequestConditions blobRequestConditions,\n+                                                           String requestId,\n+                                                           CancellationToken cancellationToken) {\n+        blobRequestConditions = blobRequestConditions == null ? new BlobRequestConditions() : blobRequestConditions;\n+\n+        return storageBlobServiceClient.setTierWithRestResponse(containerName,", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzYwMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317600", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    storageBlobServiceClient.setTier(containerName,\n          \n          \n            \n                    storageBlobServiceClient.setBlobTier(containerName,", "author": "vcolin7", "createdAt": "2020-10-13T23:36:26Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -374,6 +376,73 @@ public void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the blob's tier.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    public void setBlobTier(String containerName,\n+                            String blobName,\n+                            AccessTier tier,\n+                            CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        storageBlobServiceClient.setTier(containerName,", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzY0Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317646", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    storageBlobServiceClient.setTier(containerName,\n          \n          \n            \n                    storageBlobServiceClient.setBlobTier(containerName,", "author": "vcolin7", "createdAt": "2020-10-13T23:36:35Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -374,6 +376,73 @@ public void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Sets the blob's tier.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param tier          The access tier.\n+     * @param callback      The callback that receives the response.\n+     */\n+    public void setBlobTier(String containerName,\n+                            String blobName,\n+                            AccessTier tier,\n+                            CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        storageBlobServiceClient.setTier(containerName,\n+            blobName,\n+            tier,\n+            callback);\n+    }\n+\n+    /**\n+     * Sets the blob's tier.\n+     *\n+     * @param containerName         The container name.\n+     * @param blobName              The blob name.\n+     * @param tier                  The access tier.\n+     * @param snapshot              The snapshot parameter is an opaque DateTime value that, when present, specifies\n+     *                              the blob snapshot to retrieve. For more information on working with blob snapshots,\n+     *                              see &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/creating-a-snapshot-of-a-blob\"&gt;Creating a Snapshot of a Blob.&lt;/a&gt;.\n+     * @param timeout               The timeout parameter is expressed in seconds. For more information, see\n+     *                              &lt;a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/setting-timeouts-for-blob-service-operations\"&gt;Setting Timeouts for Blob Service Operations.&lt;/a&gt;.\n+     * @param version               Specifies the version of the operation to use for this request.\n+     * @param rehydratePriority     The rehydrate priority.\n+     * @param blobRequestConditions Object that contains values which will restrict the successful operation of a\n+     *                              variety of requests to the conditions present. These conditions are entirely\n+     *                              optional.\n+     * @param requestId             Provides a client-generated, opaque value with a 1 KB character limit that is\n+     *                              recorded in the analytics logs when storage analytics logging is enabled.\n+     * @param cancellationToken     The token to request cancellation.\n+     * @param callback              Callback that receives the response.\n+     */\n+    public void setBlobTier(String containerName,\n+                            String blobName,\n+                            AccessTier tier,\n+                            String snapshot,\n+                            Integer timeout,\n+                            String version,\n+                            RehydratePriority rehydratePriority,\n+                            BlobRequestConditions blobRequestConditions,\n+                            String requestId,\n+                            CancellationToken cancellationToken,\n+                            CallbackWithHeader<Void, BlobSetTierHeaders> callback) {\n+        blobRequestConditions = blobRequestConditions == null ? new BlobRequestConditions() : blobRequestConditions;\n+\n+        storageBlobServiceClient.setTier(containerName,", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzgwMg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317802", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setTier() {\n          \n          \n            \n                public void setBlobTier() {", "author": "vcolin7", "createdAt": "2020-10-13T23:37:11Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzg1Ng==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317856", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // When setting tier on a blob using setTier().\n          \n          \n            \n                    // When setting the tier on a blob using setBlobTier().", "author": "vcolin7", "createdAt": "2020-10-13T23:37:21Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier().", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzkxOQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317919", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setTier_withCallback() {\n          \n          \n            \n                public void setBlobTier_withCallback() {", "author": "vcolin7", "createdAt": "2020-10-13T23:37:36Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        Void response = storageBlobClient.setBlobTier(\"container\",\n+            \"blob\", AccessTier.HOT);\n+\n+        assertNull(response);\n+    }\n+\n+    @Test\n+    public void setTier_withCallback() {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxNzk2OQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504317969", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // When setting tier on a blob using setTier() while providing a callback.\n          \n          \n            \n                    // When setting the tier on a blob using setBlobTier() while providing a callback.", "author": "vcolin7", "createdAt": "2020-10-13T23:37:46Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        Void response = storageBlobClient.setBlobTier(\"container\",\n+            \"blob\", AccessTier.HOT);\n+\n+        assertNull(response);\n+    }\n+\n+    @Test\n+    public void setTier_withCallback() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier() while providing a callback.", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxODA0Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504318047", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setTierWithRestResponse() {\n          \n          \n            \n                public void setBlobTierWithRestResponse() {", "author": "vcolin7", "createdAt": "2020-10-13T23:38:04Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        Void response = storageBlobClient.setBlobTier(\"container\",\n+            \"blob\", AccessTier.HOT);\n+\n+        assertNull(response);\n+    }\n+\n+    @Test\n+    public void setTier_withCallback() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier() while providing a callback.\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        CountDownLatch latch = new CountDownLatch(1);\n+\n+        storageBlobAsyncClient.setBlobTier(\"container\",\n+            \"blob\",\n+            AccessTier.HOT,\n+            new CallbackWithHeader<Void, BlobSetTierHeaders>() {\n+                @Override\n+                public void onSuccess(Void result, BlobSetTierHeaders header, Response response) {\n+                    try {\n+                        // Then a response without body and status code 202 will be returned by the server to the callback.\n+                        assertEquals(202, response.code());\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    try {\n+                        throw new RuntimeException(throwable);\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+            });\n+\n+        awaitOnLatch(latch, \"setTier\");\n+    }\n+\n+    @Test\n+    public void setTierWithRestResponse() {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxODEyNg==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504318126", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // When setting tier on a blob using setTierWithResponse().\n          \n          \n            \n                    // When setting the tier on a blob using setBlobTierWithResponse().", "author": "vcolin7", "createdAt": "2020-10-13T23:38:19Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        Void response = storageBlobClient.setBlobTier(\"container\",\n+            \"blob\", AccessTier.HOT);\n+\n+        assertNull(response);\n+    }\n+\n+    @Test\n+    public void setTier_withCallback() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier() while providing a callback.\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        CountDownLatch latch = new CountDownLatch(1);\n+\n+        storageBlobAsyncClient.setBlobTier(\"container\",\n+            \"blob\",\n+            AccessTier.HOT,\n+            new CallbackWithHeader<Void, BlobSetTierHeaders>() {\n+                @Override\n+                public void onSuccess(Void result, BlobSetTierHeaders header, Response response) {\n+                    try {\n+                        // Then a response without body and status code 202 will be returned by the server to the callback.\n+                        assertEquals(202, response.code());\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    try {\n+                        throw new RuntimeException(throwable);\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+            });\n+\n+        awaitOnLatch(latch, \"setTier\");\n+    }\n+\n+    @Test\n+    public void setTierWithRestResponse() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTierWithResponse().", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxODE2Mw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504318163", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setTierWithRestResponse_withCallback() {\n          \n          \n            \n                public void setBlobTierWithRestResponse_withCallback() {", "author": "vcolin7", "createdAt": "2020-10-13T23:38:27Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        Void response = storageBlobClient.setBlobTier(\"container\",\n+            \"blob\", AccessTier.HOT);\n+\n+        assertNull(response);\n+    }\n+\n+    @Test\n+    public void setTier_withCallback() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier() while providing a callback.\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        CountDownLatch latch = new CountDownLatch(1);\n+\n+        storageBlobAsyncClient.setBlobTier(\"container\",\n+            \"blob\",\n+            AccessTier.HOT,\n+            new CallbackWithHeader<Void, BlobSetTierHeaders>() {\n+                @Override\n+                public void onSuccess(Void result, BlobSetTierHeaders header, Response response) {\n+                    try {\n+                        // Then a response without body and status code 202 will be returned by the server to the callback.\n+                        assertEquals(202, response.code());\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    try {\n+                        throw new RuntimeException(throwable);\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+            });\n+\n+        awaitOnLatch(latch, \"setTier\");\n+    }\n+\n+    @Test\n+    public void setTierWithRestResponse() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTierWithResponse().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        BlobSetTierResponse response =\n+            storageBlobClient.setBlobTierWithRestResponse(\"container\",\n+                \"blob\",\n+                AccessTier.HOT,\n+                null,\n+                null,\n+                null,\n+                null,\n+                null,\n+                null,\n+                CancellationToken.NONE);\n+\n+        assertEquals(202, response.getStatusCode());\n+    }\n+\n+    @Test\n+    public void setTierWithRestResponse_withCallback() {", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMxODIxMA==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504318210", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // When setting tier on a blob using setTier() while providing a callback.\n          \n          \n            \n                    // When setting the tier on a blob using setTier() while providing a callback.", "author": "vcolin7", "createdAt": "2020-10-13T23:38:35Z", "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -363,6 +365,134 @@ public void onFailure(Throwable error, Response response) {\n         awaitOnLatch(latch, \"getBlobPropertiesWithRestResponse\");\n     }\n \n+    @Test\n+    public void setTier() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        Void response = storageBlobClient.setBlobTier(\"container\",\n+            \"blob\", AccessTier.HOT);\n+\n+        assertNull(response);\n+    }\n+\n+    @Test\n+    public void setTier_withCallback() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier() while providing a callback.\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        CountDownLatch latch = new CountDownLatch(1);\n+\n+        storageBlobAsyncClient.setBlobTier(\"container\",\n+            \"blob\",\n+            AccessTier.HOT,\n+            new CallbackWithHeader<Void, BlobSetTierHeaders>() {\n+                @Override\n+                public void onSuccess(Void result, BlobSetTierHeaders header, Response response) {\n+                    try {\n+                        // Then a response without body and status code 202 will be returned by the server to the callback.\n+                        assertEquals(202, response.code());\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+\n+                @Override\n+                public void onFailure(Throwable throwable, Response response) {\n+                    try {\n+                        throw new RuntimeException(throwable);\n+                    } finally {\n+                        latch.countDown();\n+                    }\n+                }\n+            });\n+\n+        awaitOnLatch(latch, \"setTier\");\n+    }\n+\n+    @Test\n+    public void setTierWithRestResponse() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTierWithResponse().\n+        MockResponse mockResponse = new MockResponse()\n+            .setResponseCode(202);\n+\n+        mockWebServer.enqueue(mockResponse);\n+\n+        // Then a response without body and status code 202 will be returned by the server.\n+        BlobSetTierResponse response =\n+            storageBlobClient.setBlobTierWithRestResponse(\"container\",\n+                \"blob\",\n+                AccessTier.HOT,\n+                null,\n+                null,\n+                null,\n+                null,\n+                null,\n+                null,\n+                CancellationToken.NONE);\n+\n+        assertEquals(202, response.getStatusCode());\n+    }\n+\n+    @Test\n+    public void setTierWithRestResponse_withCallback() {\n+        // Given a StorageBlobClient.\n+\n+        // When setting tier on a blob using setTier() while providing a callback.", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMyMjM3Nw==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504322377", "bodyText": "Linking the property Javadoc instead of writing it all over again.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /**\n          \n          \n            \n                 * Get the clientRequestId property: If a client request id header is sent\n          \n          \n            \n                 * in the request, this header will be present in the response with the\n          \n          \n            \n                 * same value.\n          \n          \n            \n                 *\n          \n          \n            \n                 * @return the clientRequestId value.\n          \n          \n            \n                 */\n          \n          \n            \n                /**\n          \n          \n            \n                 * Get the {@link BlobSetTierHeaders#clientRequestId} property.\n          \n          \n            \n                 *\n          \n          \n            \n                 * @return the clientRequestId value.\n          \n          \n            \n                 */", "author": "vcolin7", "createdAt": "2020-10-13T23:53:02Z", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobSetTierHeaders.java", "diffHunk": "@@ -0,0 +1,105 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.storage.blob.models;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n+\n+/**\n+ * Defines headers for SetTier operation.\n+ */\n+@JacksonXmlRootElement(localName = \"Blob-SetTier-Headers\")\n+public class BlobSetTierHeaders {\n+    /*\n+     * If a client request id header is sent in the request, this header will\n+     * be present in the response with the same value.\n+     */\n+    @JsonProperty(value = \"x-ms-client-request-id\")\n+    private String clientRequestId;\n+\n+    /*\n+     * This header uniquely identifies the request that was made and can be\n+     * used for troubleshooting the request.\n+     */\n+    @JsonProperty(value = \"x-ms-request-id\")\n+    private String requestId;\n+\n+    /*\n+     * Indicates the version of the Blob service used to execute the request.\n+     * This header is returned for requests made against version 2009-09-19 and\n+     * newer.\n+     */\n+    @JsonProperty(value = \"x-ms-version\")\n+    private String version;\n+\n+    /**\n+     * Get the clientRequestId property: If a client request id header is sent\n+     * in the request, this header will be present in the response with the\n+     * same value.\n+     *\n+     * @return the clientRequestId value.\n+     */", "originalCommit": "405f6a3b104cb963fd1b0d8b64194c8001e043a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMyMjUwNQ==", "url": "https://github.com/Azure/azure-sdk-for-android/pull/386#discussion_r504322505", "bodyText": "We can apply this to all our models and classes really :)", "author": "vcolin7", "createdAt": "2020-10-13T23:53:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMyMjM3Nw=="}], "type": "inlineReview"}, {"oid": "183e72276afceee0a4e993884fb018675760d5ae", "url": "https://github.com/Azure/azure-sdk-for-android/commit/183e72276afceee0a4e993884fb018675760d5ae", "message": "Added a bunch of network tests for container apis", "committedDate": "2020-10-14T03:32:42Z", "type": "commit"}, {"oid": "24ca631081e4a802f484b049fa859d1b6259f0ae", "url": "https://github.com/Azure/azure-sdk-for-android/commit/24ca631081e4a802f484b049fa859d1b6259f0ae", "message": "Fixed some formatting", "committedDate": "2020-10-14T16:25:52Z", "type": "commit"}, {"oid": "7492ee526ecb5fc3c23cff1294d783ea1f2e8991", "url": "https://github.com/Azure/azure-sdk-for-android/commit/7492ee526ecb5fc3c23cff1294d783ea1f2e8991", "message": "Added some blob tests", "committedDate": "2020-10-14T17:05:05Z", "type": "commit"}, {"oid": "cc7d944e483eac9f8dd49be03b4e4ea955a18840", "url": "https://github.com/Azure/azure-sdk-for-android/commit/cc7d944e483eac9f8dd49be03b4e4ea955a18840", "message": "Merge remote-tracking branch 'rickle-msft/createContainer' into blobTests", "committedDate": "2020-10-14T17:10:00Z", "type": "commit"}, {"oid": "7155179db78c8a6f14c9030aced61cb7a3bacf3d", "url": "https://github.com/Azure/azure-sdk-for-android/commit/7155179db78c8a6f14c9030aced61cb7a3bacf3d", "message": "Added some more commit block list tests", "committedDate": "2020-10-14T19:20:02Z", "type": "commit"}, {"oid": "6929a9ab8723590c57f36d539ab63dab48c114c7", "url": "https://github.com/Azure/azure-sdk-for-android/commit/6929a9ab8723590c57f36d539ab63dab48c114c7", "message": "Added more block blob tests", "committedDate": "2020-10-14T20:36:25Z", "type": "commit"}, {"oid": "de294c0d245bf0d0e2c051c4d73eb2ed2132e21c", "url": "https://github.com/Azure/azure-sdk-for-android/commit/de294c0d245bf0d0e2c051c4d73eb2ed2132e21c", "message": "Added Access condition tests for blob delete", "committedDate": "2020-10-14T20:59:21Z", "type": "commit"}, {"oid": "309cca429440a102a9d30c3ac9c4a7c0b9f38abe", "url": "https://github.com/Azure/azure-sdk-for-android/commit/309cca429440a102a9d30c3ac9c4a7c0b9f38abe", "message": "Added tests for blobs", "committedDate": "2020-10-14T22:03:20Z", "type": "commit"}, {"oid": "dbed26785e8c7b3f11ac37854f16c1eb1284bae4", "url": "https://github.com/Azure/azure-sdk-for-android/commit/dbed26785e8c7b3f11ac37854f16c1eb1284bae4", "message": "Merge branch 'blobTests' into storage/setAccessTier", "committedDate": "2020-10-14T23:05:17Z", "type": "commit"}, {"oid": "bf78e07f585b82b16dccd4a4554a7b773cdb61ac", "url": "https://github.com/Azure/azure-sdk-for-android/commit/bf78e07f585b82b16dccd4a4554a7b773cdb61ac", "message": "Added tests for setAccessTier", "committedDate": "2020-10-15T19:12:57Z", "type": "commit"}, {"oid": "d1b4441fc05eb6460ab68193bd8496065994ac97", "url": "https://github.com/Azure/azure-sdk-for-android/commit/d1b4441fc05eb6460ab68193bd8496065994ac97", "message": "Merge branch 'master' into storage/setAccessTier", "committedDate": "2020-10-19T23:59:40Z", "type": "commit"}, {"oid": "cc0d6148c861aa7cfbc33f3a4c8adf93f4555e08", "url": "https://github.com/Azure/azure-sdk-for-android/commit/cc0d6148c861aa7cfbc33f3a4c8adf93f4555e08", "message": "Fixed test imports", "committedDate": "2020-10-20T00:03:38Z", "type": "commit"}, {"oid": "66a4f09281dd0ef2c60e0ca50bcab8e6297aa2a3", "url": "https://github.com/Azure/azure-sdk-for-android/commit/66a4f09281dd0ef2c60e0ca50bcab8e6297aa2a3", "message": "Formatting", "committedDate": "2020-10-20T16:55:11Z", "type": "commit"}, {"oid": "57c3560507742aa9c8856ceb080d536e198dd762", "url": "https://github.com/Azure/azure-sdk-for-android/commit/57c3560507742aa9c8856ceb080d536e198dd762", "message": "Formatting", "committedDate": "2020-10-20T16:56:18Z", "type": "commit"}, {"oid": "4359978f0b02c16cec933f4aaec3cc723549a33b", "url": "https://github.com/Azure/azure-sdk-for-android/commit/4359978f0b02c16cec933f4aaec3cc723549a33b", "message": "Renamed everything from setTier to setBlobTier", "committedDate": "2020-10-20T17:02:05Z", "type": "commit"}, {"oid": "4d2dc5ff822eb9612f97d683327c1f96a92ae210", "url": "https://github.com/Azure/azure-sdk-for-android/commit/4d2dc5ff822eb9612f97d683327c1f96a92ae210", "message": "Last few changes", "committedDate": "2020-10-20T17:05:38Z", "type": "commit"}, {"oid": "4e36fe1bd9f541c7709de53b912043435779559f", "url": "https://github.com/Azure/azure-sdk-for-android/commit/4e36fe1bd9f541c7709de53b912043435779559f", "message": "Fixed up last few set tier to set blob tier in BLobTest and Impl", "committedDate": "2020-10-20T19:41:58Z", "type": "commit"}]}