{"pr_number": 7481, "pr_title": "Add focusSourceColumnSeparator command", "pr_createdAt": "2020-07-29T21:23:48Z", "pr_url": "https://github.com/rstudio/rstudio/pull/7481", "timeline": [{"oid": "312215d96b367960c444dea2fcbaa47099b130eb", "url": "https://github.com/rstudio/rstudio/commit/312215d96b367960c444dea2fcbaa47099b130eb", "message": "add command for resizing columns", "committedDate": "2020-07-28T04:42:49Z", "type": "commit"}, {"oid": "7984cf4ecae89d382c08a6138afe5dd0d4a27b33", "url": "https://github.com/rstudio/rstudio/commit/7984cf4ecae89d382c08a6138afe5dd0d4a27b33", "message": "focus splitter for source columns", "committedDate": "2020-07-29T16:11:27Z", "type": "commit"}, {"oid": "143824fca7ce20355ecf5c4d91167eaf0aba2fe1", "url": "https://github.com/rstudio/rstudio/commit/143824fca7ce20355ecf5c4d91167eaf0aba2fe1", "message": "move splitter in correct direction for reverse panes", "committedDate": "2020-07-29T20:58:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY3Mzk0MA==", "url": "https://github.com/rstudio/rstudio/pull/7481#discussion_r462673940", "bodyText": "Did you mean to leave this in?", "author": "gtritchie", "createdAt": "2020-07-30T01:03:23Z", "path": "src/gwt/src/org/rstudio/studio/client/workbench/ui/PaneManager.java", "diffHunk": "@@ -576,7 +576,21 @@ public void onFocusRightSeparator()\n    @Handler\n    public void onFocusCenterSeparator()\n    {\n-      panel_.focusSplitter();\n+      panel_.focusSplitter(right_);\n+   }\n+\n+   @Handler\n+   public void onFocusSourceColumnSeparator()\n+   {\n+      LogicalWindow window = getParentLogicalWindow(sourceColumnManager_.getActiveElement());\n+      if (window == null ||\n+          window.getNormal() == null ||\n+          !window.getNormal().getName().contains(SourceColumnManager.COLUMN_PREFIX))\n+      {\n+         Debug.log(\"Attempted focusSourceColumnSeparator when source column not active.\");", "originalCommit": "143824fca7ce20355ecf5c4d91167eaf0aba2fe1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY3OTI3Mw==", "url": "https://github.com/rstudio/rstudio/pull/7481#discussion_r462679273", "bodyText": "Yes, in theory we should never reach this point because the command is only enabled when the active element belongs to an active source pane. However, if we attempt to call panel_.focusSplitter(window.getNormal()) when Normal is null then we can except out. I decided to return as well as log a debug statement since if this code gets reached something else is probably wrong. Is this something we wouldn't typically log?", "author": "melissa-barca", "createdAt": "2020-07-30T01:23:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY3Mzk0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc1OTQyNA==", "url": "https://github.com/rstudio/rstudio/pull/7481#discussion_r462759424", "bodyText": "I think it\u2019s fine, be good to know if this happens. Was just checking.", "author": "gtritchie", "createdAt": "2020-07-30T06:18:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY3Mzk0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI0MjU3MQ==", "url": "https://github.com/rstudio/rstudio/pull/7481#discussion_r463242571", "bodyText": "We don't usually leave Debug.log statements in; this should be Debug.logWarning.", "author": "jmcphers", "createdAt": "2020-07-30T20:08:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY3Mzk0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU0OTI4MQ==", "url": "https://github.com/rstudio/rstudio/pull/7481#discussion_r466549281", "bodyText": "Fixed this \ud83d\udc4d", "author": "melissa-barca", "createdAt": "2020-08-06T16:51:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY3Mzk0MA=="}], "type": "inlineReview"}, {"oid": "9ebf7db98e846c9d6dd617d7f9bb5df921e916db", "url": "https://github.com/rstudio/rstudio/commit/9ebf7db98e846c9d6dd617d7f9bb5df921e916db", "message": "change debug statement to logWarning", "committedDate": "2020-08-06T16:48:33Z", "type": "commit"}]}