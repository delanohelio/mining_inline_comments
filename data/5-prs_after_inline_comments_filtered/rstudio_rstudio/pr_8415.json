{"pr_number": 8415, "pr_title": "set default cursor color for visual mode", "pr_createdAt": "2020-11-17T19:30:07Z", "pr_url": "https://github.com/rstudio/rstudio/pull/8415", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQzODI1NA==", "url": "https://github.com/rstudio/rstudio/pull/8415#discussion_r525438254", "bodyText": "Is this right? It looks like it will use the cursorColor only when it's empty.", "author": "jmcphers", "createdAt": "2020-11-17T19:38:04Z", "path": "src/gwt/src/org/rstudio/studio/client/panmirror/theme/PanmirrorThemeCreator.java", "diffHunk": "@@ -37,7 +38,12 @@ public static PanmirrorTheme themeFromEditorTheme(AceTheme aceTheme, UserPrefs p\n       theme.darkMode = aceTheme.isDark();\n       theme.solarizedMode = aceTheme.isSolarizedLight();\n       \n-      theme.cursorColor = DomUtils.extractCssValue(\"ace_cursor\", \"color\");\n+      // get cursor color (guard against themes that don't set ace_cursor color)\n+      String defaultCursorColor = aceTheme.isDark() ? \"white\" : \"black\";\n+      String cursorColor = DomUtils.extractCssValue(\"ace_cursor\", \"color\");\n+      theme.cursorColor = StringUtil.isNullOrEmpty(cursorColor)\n+            ? cursorColor", "originalCommit": "6c9b4b261eb7d9b06dc3ec3358574580680f95d2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQ5MjcxNw==", "url": "https://github.com/rstudio/rstudio/pull/8415#discussion_r525492717", "bodyText": "Oops; you are correct. Fixed up with a slightly different approach now.", "author": "kevinushey", "createdAt": "2020-11-17T20:22:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTQzODI1NA=="}], "type": "inlineReview"}, {"oid": "e42b08b132ba0cdcfc05abb99b1e093342292da0", "url": "https://github.com/rstudio/rstudio/commit/e42b08b132ba0cdcfc05abb99b1e093342292da0", "message": "set default cursor color for visual mode", "committedDate": "2020-11-17T20:23:26Z", "type": "commit"}, {"oid": "6cdaf098fd76164447bfd6604dff7ccad1a379eb", "url": "https://github.com/rstudio/rstudio/commit/6cdaf098fd76164447bfd6604dff7ccad1a379eb", "message": "better fixup for Ace cursor color", "committedDate": "2020-11-17T20:23:26Z", "type": "commit"}, {"oid": "6cdaf098fd76164447bfd6604dff7ccad1a379eb", "url": "https://github.com/rstudio/rstudio/commit/6cdaf098fd76164447bfd6604dff7ccad1a379eb", "message": "better fixup for Ace cursor color", "committedDate": "2020-11-17T20:23:26Z", "type": "forcePushed"}]}