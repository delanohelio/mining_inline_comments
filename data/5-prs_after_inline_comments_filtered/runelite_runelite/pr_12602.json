{"pr_number": 12602, "pr_title": "Add Fill Option for Inventory Tags", "pr_createdAt": "2020-10-05T09:22:07Z", "pr_url": "https://github.com/runelite/runelite/pull/12602", "timeline": [{"oid": "72cfb05728580b4fd2de301977719d92d947f7aa", "url": "https://github.com/runelite/runelite/commit/72cfb05728580b4fd2de301977719d92d947f7aa", "message": "Add a fill option for inventory tags with opacity spinner\n\nadd whitespace after 'if'", "committedDate": "2020-10-24T20:38:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTMyODgxMA==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r559328810", "bodyText": "Instead of adding another option here, I'd advise going the route of multiple toggles, similar to the approach used in the NPC Indicators Plugin so users can optionally enable outline, underline, and/or fill. (Maintaining the opacity option for the fill color is a good idea)", "author": "Nightfirecat", "createdAt": "2021-01-18T05:45:59Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/inventorytags/InventoryTagsConfig.java", "diffHunk": "@@ -28,18 +28,23 @@\n import net.runelite.client.config.Config;\n import net.runelite.client.config.ConfigGroup;\n import net.runelite.client.config.ConfigItem;\n+import net.runelite.client.config.Range;\n \n @ConfigGroup(\"inventorytags\")\n public interface InventoryTagsConfig extends Config\n {\n \tenum DisplayMode\n \t{\n \t\tOUTLINE,\n-\t\tUNDERLINE\n+\t\tUNDERLINE,\n+\t\tOUTLINE_FILL", "originalCommit": "72cfb05728580b4fd2de301977719d92d947f7aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTUwMjcxNw==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r561502717", "bodyText": "I removed the DisplayMode enums and followed the approach shown in the NPC indicators for multiple toggles. I also lowered the default opacity to 50 because 100 felt a little too opaque. Thanks.", "author": "1jz", "createdAt": "2021-01-21T02:35:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTMyODgxMA=="}], "type": "inlineReview"}, {"oid": "c086f5a2ee0fe65bd92ac3b7a98d7cfe2f7d972a", "url": "https://github.com/runelite/runelite/commit/c086f5a2ee0fe65bd92ac3b7a98d7cfe2f7d972a", "message": "Add a fill option for inventory tags with opacity spinner\n\nadd whitespace after 'if'\n\ncreate multiple toggles for tag styles", "committedDate": "2021-01-21T02:21:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTU5NjMwNg==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r561596306", "bodyText": "I suppose these can be replaced with ColorUtil.(MIN|MAX)_RGB_VALUE given opacity is also represented by the same range", "author": "Nightfirecat", "createdAt": "2021-01-21T04:33:49Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/inventorytags/InventoryTagsConfig.java", "diffHunk": "@@ -28,20 +28,78 @@\n import net.runelite.client.config.Config;\n import net.runelite.client.config.ConfigGroup;\n import net.runelite.client.config.ConfigItem;\n+import net.runelite.client.config.Range;\n+import net.runelite.client.config.ConfigSection;\n \n @ConfigGroup(\"inventorytags\")\n public interface InventoryTagsConfig extends Config\n {\n-\tenum DisplayMode\n+\tString GROUP = \"inventorytags\";\n+\n+\tint OPACITY_LIMIT_MIN = 0;\n+\tint OPACITY_LIMIT_MAX = 255;", "originalCommit": "c086f5a2ee0fe65bd92ac3b7a98d7cfe2f7d972a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTU5NzU0NQ==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r561597545", "bodyText": "This should more closely match the existing display style config.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tname = \"Tag style\",\n          \n          \n            \n            \t\t\tdescription = \"The tag style of highlighted items\",\n          \n          \n            \n            \t\t\tname = \"Tag display mode\",\n          \n          \n            \n            \t\t\tdescription = \"How tags are displayed in the inventory\",", "author": "Nightfirecat", "createdAt": "2021-01-21T04:38:21Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/inventorytags/InventoryTagsConfig.java", "diffHunk": "@@ -28,20 +28,78 @@\n import net.runelite.client.config.Config;\n import net.runelite.client.config.ConfigGroup;\n import net.runelite.client.config.ConfigItem;\n+import net.runelite.client.config.Range;\n+import net.runelite.client.config.ConfigSection;\n \n @ConfigGroup(\"inventorytags\")\n public interface InventoryTagsConfig extends Config\n {\n-\tenum DisplayMode\n+\tString GROUP = \"inventorytags\";\n+\n+\tint OPACITY_LIMIT_MIN = 0;\n+\tint OPACITY_LIMIT_MAX = 255;\n+\n+\t@ConfigSection(\n+\t\t\tname = \"Tag style\",\n+\t\t\tdescription = \"The tag style of highlighted items\",", "originalCommit": "c086f5a2ee0fe65bd92ac3b7a98d7cfe2f7d972a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTU5ODM4Nw==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r561598387", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\tfinal Color fillColor = new Color(color.getRed(), color.getGreen(), color.getBlue(), config.getAlphaValue());\n          \n          \n            \n            \t\t\t\t\tfinal Color fillColor = ColorUtil.colorWithAlpha(color, config.getAlphaValue());", "author": "Nightfirecat", "createdAt": "2021-01-21T04:41:29Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/inventorytags/InventoryTagsOverlay.java", "diffHunk": "@@ -57,16 +57,23 @@ public void renderItemOverlay(Graphics2D graphics, int itemId, WidgetItem widget\n \t\tif (group != null)\n \t\t{\n \t\t\tfinal Color color = plugin.getGroupNameColor(group);\n-\t\t\tfinal DisplayMode displayMode = config.getDisplayMode();\n \t\t\tif (color != null)\n \t\t\t{\n \t\t\t\tRectangle bounds = widgetItem.getCanvasBounds();\n-\t\t\t\tif (displayMode == DisplayMode.OUTLINE)\n+\t\t\t\tif (config.showTagOutline())\n \t\t\t\t{\n \t\t\t\t\tfinal BufferedImage outline = itemManager.getItemOutline(itemId, widgetItem.getQuantity(), color);\n \t\t\t\t\tgraphics.drawImage(outline, (int) bounds.getX(), (int) bounds.getY(), null);\n \t\t\t\t}\n-\t\t\t\telse\n+\n+\t\t\t\tif (config.showTagFill())\n+\t\t\t\t{\n+\t\t\t\t\tfinal Color fillColor = new Color(color.getRed(), color.getGreen(), color.getBlue(), config.getAlphaValue());", "originalCommit": "c086f5a2ee0fe65bd92ac3b7a98d7cfe2f7d972a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTU5OTIxMA==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r561599210", "bodyText": "This should indicate it only affects the \"Fill\" display mode", "author": "Nightfirecat", "createdAt": "2021-01-21T04:45:05Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/inventorytags/InventoryTagsConfig.java", "diffHunk": "@@ -28,20 +28,78 @@\n import net.runelite.client.config.Config;\n import net.runelite.client.config.ConfigGroup;\n import net.runelite.client.config.ConfigItem;\n+import net.runelite.client.config.Range;\n+import net.runelite.client.config.ConfigSection;\n \n @ConfigGroup(\"inventorytags\")\n public interface InventoryTagsConfig extends Config\n {\n-\tenum DisplayMode\n+\tString GROUP = \"inventorytags\";\n+\n+\tint OPACITY_LIMIT_MIN = 0;\n+\tint OPACITY_LIMIT_MAX = 255;\n+\n+\t@ConfigSection(\n+\t\t\tname = \"Tag style\",\n+\t\t\tdescription = \"The tag style of highlighted items\",\n+\t\t\tposition = 0\n+\t)\n+\tString tagStyleSection = \"tagStyleSection\";\n+\n+\t@ConfigItem(\n+\t\t\tposition = 0,\n+\t\t\tkeyName = \"showTagOutline\",\n+\t\t\tname = \"Outline\",\n+\t\t\tdescription = \"Configures whether or not item tags show be outlined\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault boolean showTagOutline()\n \t{\n-\t\tOUTLINE,\n-\t\tUNDERLINE\n+\t\treturn true;\n \t}\n \n-\tString GROUP = \"inventorytags\";\n+\t@ConfigItem(\n+\t\t\tposition = 1,\n+\t\t\tkeyName = \"tagFill\",\n+\t\t\tname = \"Fill\",\n+\t\t\tdescription = \"Configures whether or not item tags should be filled\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault boolean showTagFill()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@Range(\n+\t\t\tmin = OPACITY_LIMIT_MIN,\n+\t\t\tmax = OPACITY_LIMIT_MAX\n+\t)\n+\t@ConfigItem(\n+\t\t\tposition = 2,\n+\t\t\tkeyName = \"alphaValue\",\n+\t\t\tname = \"Opacity Level\",\n+\t\t\tdescription = \"Configures the opacity of each color\",", "originalCommit": "c086f5a2ee0fe65bd92ac3b7a98d7cfe2f7d972a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTU5OTQ0MA==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r561599440", "bodyText": "Given the fill + alpha configs must be paired together, I think this order would be better for the modes:\n\nOutline\nUnderline\nFill\nFill opacity", "author": "Nightfirecat", "createdAt": "2021-01-21T04:45:53Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/inventorytags/InventoryTagsConfig.java", "diffHunk": "@@ -28,20 +28,78 @@\n import net.runelite.client.config.Config;\n import net.runelite.client.config.ConfigGroup;\n import net.runelite.client.config.ConfigItem;\n+import net.runelite.client.config.Range;\n+import net.runelite.client.config.ConfigSection;\n \n @ConfigGroup(\"inventorytags\")\n public interface InventoryTagsConfig extends Config\n {\n-\tenum DisplayMode\n+\tString GROUP = \"inventorytags\";\n+\n+\tint OPACITY_LIMIT_MIN = 0;\n+\tint OPACITY_LIMIT_MAX = 255;\n+\n+\t@ConfigSection(\n+\t\t\tname = \"Tag style\",\n+\t\t\tdescription = \"The tag style of highlighted items\",\n+\t\t\tposition = 0\n+\t)\n+\tString tagStyleSection = \"tagStyleSection\";\n+\n+\t@ConfigItem(\n+\t\t\tposition = 0,\n+\t\t\tkeyName = \"showTagOutline\",\n+\t\t\tname = \"Outline\",\n+\t\t\tdescription = \"Configures whether or not item tags show be outlined\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault boolean showTagOutline()\n \t{\n-\t\tOUTLINE,\n-\t\tUNDERLINE\n+\t\treturn true;\n \t}\n \n-\tString GROUP = \"inventorytags\";\n+\t@ConfigItem(\n+\t\t\tposition = 1,\n+\t\t\tkeyName = \"tagFill\",\n+\t\t\tname = \"Fill\",\n+\t\t\tdescription = \"Configures whether or not item tags should be filled\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault boolean showTagFill()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@Range(\n+\t\t\tmin = OPACITY_LIMIT_MIN,\n+\t\t\tmax = OPACITY_LIMIT_MAX\n+\t)\n+\t@ConfigItem(\n+\t\t\tposition = 2,\n+\t\t\tkeyName = \"alphaValue\",\n+\t\t\tname = \"Opacity Level\",\n+\t\t\tdescription = \"Configures the opacity of each color\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault int getAlphaValue()\n+\t{\n+\t\treturn 50;\n+\t}", "originalCommit": "c086f5a2ee0fe65bd92ac3b7a98d7cfe2f7d972a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a165b8dc6118d1c15e43484efb23b7e6203957d1", "url": "https://github.com/runelite/runelite/commit/a165b8dc6118d1c15e43484efb23b7e6203957d1", "message": "Add a fill option for inventory tags with opacity spinner\n\nadd whitespace after 'if'\n\ncreate multiple toggles for tag styles\n\nApply suggestions from code review\n\nCo-authored-by: Jordan <Nightfirecat@users.noreply.github.com>\n\nutilize ColorUtils and rearrange config toggles", "committedDate": "2021-01-21T06:20:08Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MjI0NjczOA==", "url": "https://github.com/runelite/runelite/pull/12602#discussion_r562246738", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tname = \"Opacity Level\",\n          \n          \n            \n            \t\t\tname = \"Fill opacity\",", "author": "Nightfirecat", "createdAt": "2021-01-21T22:45:28Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/inventorytags/InventoryTagsConfig.java", "diffHunk": "@@ -25,23 +25,79 @@\n package net.runelite.client.plugins.inventorytags;\n \n import java.awt.Color;\n+import net.runelite.client.util.ColorUtil;\n import net.runelite.client.config.Config;\n import net.runelite.client.config.ConfigGroup;\n import net.runelite.client.config.ConfigItem;\n+import net.runelite.client.config.Range;\n+import net.runelite.client.config.ConfigSection;\n \n @ConfigGroup(\"inventorytags\")\n public interface InventoryTagsConfig extends Config\n {\n-\tenum DisplayMode\n+\tString GROUP = \"inventorytags\";\n+\n+\t@ConfigSection(\n+\t\t\tname = \"Tag display mode\",\n+\t\t\tdescription = \"How tags are displayed in the inventory\",\n+\t\t\tposition = 0\n+\t)\n+\tString tagStyleSection = \"tagStyleSection\";\n+\n+\t@ConfigItem(\n+\t\t\tposition = 0,\n+\t\t\tkeyName = \"showTagOutline\",\n+\t\t\tname = \"Outline\",\n+\t\t\tdescription = \"Configures whether or not item tags show be outlined\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault boolean showTagOutline()\n \t{\n-\t\tOUTLINE,\n-\t\tUNDERLINE\n+\t\treturn true;\n \t}\n \n-\tString GROUP = \"inventorytags\";\n+\t@ConfigItem(\n+\t\t\tposition = 1,\n+\t\t\tkeyName = \"tagUnderline\",\n+\t\t\tname = \"Underline\",\n+\t\t\tdescription = \"Configures whether or not item tags should be underlined\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault boolean showTagUnderline()\n+\t{\n+\t\treturn false;\n+\t}\n+\n+\t@ConfigItem(\n+\t\t\tposition = 2,\n+\t\t\tkeyName = \"tagFill\",\n+\t\t\tname = \"Fill\",\n+\t\t\tdescription = \"Configures whether or not item tags should be filled\",\n+\t\t\tsection = tagStyleSection\n+\t)\n+\tdefault boolean showTagFill()\n+\t{\n+\t\treturn false;\n+\t}\n \n+\t@Range(\n+\t\t\tmin = ColorUtil.MIN_RGB_VALUE,\n+\t\t\tmax = ColorUtil.MAX_RGB_VALUE\n+\t)\n \t@ConfigItem(\n-\t\tposition = 0,\n+\t\t\tposition = 3,\n+\t\t\tkeyName = \"alphaValue\",\n+\t\t\tname = \"Opacity Level\",", "originalCommit": "a165b8dc6118d1c15e43484efb23b7e6203957d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "31c1896bd7d89a3247d6fd5d51484cb2f22bf06a", "url": "https://github.com/runelite/runelite/commit/31c1896bd7d89a3247d6fd5d51484cb2f22bf06a", "message": "image util: simplify fillImage alpha check", "committedDate": "2021-01-24T20:20:21Z", "type": "commit"}, {"oid": "9d79203781d30470598f0dcffa1b64f51e14ec21", "url": "https://github.com/runelite/runelite/commit/9d79203781d30470598f0dcffa1b64f51e14ec21", "message": "inventory tags: add fill tag option\n\nThis changes the display mode selector to be several separate options so\nthat users can select multiple, such as outline and fill.\n\nCo-authored-by: Jordan <Nightfirecat@users.noreply.github.com>\nCo-authored-by: 1jz <philipgolovin@gmail.com>", "committedDate": "2021-01-24T20:26:31Z", "type": "commit"}, {"oid": "9d79203781d30470598f0dcffa1b64f51e14ec21", "url": "https://github.com/runelite/runelite/commit/9d79203781d30470598f0dcffa1b64f51e14ec21", "message": "inventory tags: add fill tag option\n\nThis changes the display mode selector to be several separate options so\nthat users can select multiple, such as outline and fill.\n\nCo-authored-by: Jordan <Nightfirecat@users.noreply.github.com>\nCo-authored-by: 1jz <philipgolovin@gmail.com>", "committedDate": "2021-01-24T20:26:31Z", "type": "forcePushed"}]}