{"pr_number": 11429, "pr_title": "Screenshot: Block Untradeable Drops within the Gauntlets", "pr_createdAt": "2020-05-01T23:49:40Z", "pr_url": "https://github.com/runelite/runelite/pull/11429", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NDgzMQ==", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418784831", "bodyText": "This needs to account for instances\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\treturn this.client.isInInstancedRegion() && this.client.getMapRegions().length > 0 && (this.client.getMapRegions()[0] == GAUNTLET_REGION_ID || this.client.getMapRegions()[0] == CORRUPTED_GAUNTLET_REGION_ID);\n          \n          \n            \n                          final Player localPlayer = client.getLocalPlayer();\n          \n          \n            \n            \t\tif (localPlayer == null || !client.isInInstancedRegion())\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\t\treturn false;\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \t\tfinal WorldPoint p = WorldPoint.fromLocalInstance(client, localPlayer.getLocalLocation());\n          \n          \n            \n            \t\treturn p.getRegionID() == GAUNTLET_REGION_ID || p.getRegionID() == CORRUPTED_GAUNTLET_REGION_ID;", "author": "dekvall", "createdAt": "2020-05-02T00:04:35Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -594,6 +596,11 @@ private void takeScreenshot(String fileName, String subDir, Image image)\n \t\timageCapture.takeScreenshot(screenshot, fileName, subDir, config.notifyWhenTaken(), config.uploadScreenshot());\n \t}\n \n+\tprivate boolean isInsideGauntlet()\n+    {\n+\t\treturn this.client.isInInstancedRegion() && this.client.getMapRegions().length > 0 && (this.client.getMapRegions()[0] == GAUNTLET_REGION_ID || this.client.getMapRegions()[0] == CORRUPTED_GAUNTLET_REGION_ID);", "originalCommit": "50c62f359c70b0e407d4a131326e35298b57810b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4ODE1MA==", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418788150", "bodyText": "return this.client.isInInstancedRegion()", "author": "basicDamen", "createdAt": "2020-05-02T00:25:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NDgzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAzNjUyOA==", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r419036528", "bodyText": "Break these conditions onto separate lines.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\treturn this.client.isInInstancedRegion() && this.client.getMapRegions().length > 0 && (this.client.getMapRegions()[0] == GAUNTLET_REGION_ID || this.client.getMapRegions()[0] == CORRUPTED_GAUNTLET_REGION_ID);\n          \n          \n            \n            \t\treturn this.client.isInInstancedRegion()\n          \n          \n            \n            \t\t\t&& this.client.getMapRegions().length > 0\n          \n          \n            \n            \t\t\t&& (this.client.getMapRegions()[0] == GAUNTLET_REGION_ID\n          \n          \n            \n            \t\t\t\t|| this.client.getMapRegions()[0] == CORRUPTED_GAUNTLET_REGION_ID);", "author": "Nightfirecat", "createdAt": "2020-05-03T02:33:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NDgzMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NTAwNQ==", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418785005", "bodyText": "imo these don't need an ID suffix", "author": "dekvall", "createdAt": "2020-05-02T00:05:31Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -90,6 +90,8 @@\n @Slf4j\n public class ScreenshotPlugin extends Plugin\n {\n+\tprivate static final int GAUNTLET_REGION_ID = 7512;\n+\tprivate static final int CORRUPTED_GAUNTLET_REGION_ID = 7768;", "originalCommit": "50c62f359c70b0e407d4a131326e35298b57810b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NzAxOQ==", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418787019", "bodyText": "return location.getRegionID() == AGILITY_ARENA_REGION_ID;\nPreference, I suppose.", "author": "basicDamen", "createdAt": "2020-05-02T00:18:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NTAwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NTQxNw==", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418785417", "bodyText": "Would there be any reason to want your gauntlet untradeables screenshotted, ie should this be configurable?", "author": "dekvall", "createdAt": "2020-05-02T00:08:04Z", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -357,7 +359,7 @@ public void onChatMessage(ChatMessage event)\n \t\t\t}\n \t\t}\n \n-\t\tif (config.screenshotUntradeableDrop())\n+\t\tif (config.screenshotUntradeableDrop() && !isInsideGauntlet())", "originalCommit": "50c62f359c70b0e407d4a131326e35298b57810b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NjgzNQ==", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418786835", "bodyText": "No as EVERY single item dropped by them is untradeable and generates a screenshot for EACH item/item stack. I killed ONE npc and got 3 screenshots. You kill multiple every single run, therefore you start loading up on screenshots that are absolutely useless.", "author": "basicDamen", "createdAt": "2020-05-02T00:16:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NTQxNw=="}], "type": "inlineReview"}, {"oid": "ca2e89510af6cb2d0aeab8c6aa4439f1823b4ebc", "url": "https://github.com/runelite/runelite/commit/ca2e89510af6cb2d0aeab8c6aa4439f1823b4ebc", "message": "adds check for being inside normal or corrupted gauntlet", "committedDate": "2020-05-13T04:34:22Z", "type": "commit"}, {"oid": "96b0e88e7ddbd200bf35e8b16c2feb9b05b3a0e5", "url": "https://github.com/runelite/runelite/commit/96b0e88e7ddbd200bf35e8b16c2feb9b05b3a0e5", "message": "curly brace checkstyle", "committedDate": "2020-05-13T04:34:23Z", "type": "commit"}, {"oid": "e92a783776a9aa1a0c396ac83e11a3c937c81f32", "url": "https://github.com/runelite/runelite/commit/e92a783776a9aa1a0c396ac83e11a3c937c81f32", "message": "indent tab char(?)", "committedDate": "2020-05-13T04:34:23Z", "type": "commit"}, {"oid": "0bbdb37eb4bb555fada721e1ab4ab883c73c053d", "url": "https://github.com/runelite/runelite/commit/0bbdb37eb4bb555fada721e1ab4ab883c73c053d", "message": "variable suffix removal & condition separation", "committedDate": "2020-05-13T04:34:40Z", "type": "commit"}, {"oid": "1dadc1cf298aaedab857d86fc607b67bd9ee314d", "url": "https://github.com/runelite/runelite/commit/1dadc1cf298aaedab857d86fc607b67bd9ee314d", "message": "cleanup", "committedDate": "2020-05-13T04:38:47Z", "type": "commit"}]}