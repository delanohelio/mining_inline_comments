{"pr_number": 566, "pr_title": "Add $schema definition to generated JSON schema's & fix pattern being an array when usually only a single value is supplied & Add $id field & Add description field", "pr_createdAt": "2020-04-01T15:29:56Z", "pr_url": "https://github.com/ibissource/iaf/pull/566", "timeline": [{"oid": "c6e7f684c2995c44b1df704965a5b654a9775865", "url": "https://github.com/ibissource/iaf/commit/c6e7f684c2995c44b1df704965a5b654a9775865", "message": "Add facets in JSON schema converter", "committedDate": "2020-03-25T17:57:49Z", "type": "commit"}, {"oid": "9333cefc4b6abcd44f754ba9a07e981d6f9d0882", "url": "https://github.com/ibissource/iaf/commit/9333cefc4b6abcd44f754ba9a07e981d6f9d0882", "message": "Improve handling different data types", "committedDate": "2020-03-25T19:45:48Z", "type": "commit"}, {"oid": "35bba0cfd149b14743a5bef8b2734db3ef7cf9ce", "url": "https://github.com/ibissource/iaf/commit/35bba0cfd149b14743a5bef8b2734db3ef7cf9ce", "message": "Handle date types as strings with format attribute", "committedDate": "2020-03-26T09:29:44Z", "type": "commit"}, {"oid": "d781e1fe4d4def01091815d0abefe653f5d11e68", "url": "https://github.com/ibissource/iaf/commit/d781e1fe4d4def01091815d0abefe653f5d11e68", "message": "Fix handling different data types correctly", "committedDate": "2020-03-26T09:43:21Z", "type": "commit"}, {"oid": "206aab0cef3805ebf3efe70d338c6825b47ae60c", "url": "https://github.com/ibissource/iaf/commit/206aab0cef3805ebf3efe70d338c6825b47ae60c", "message": "Improve handling numeric types", "committedDate": "2020-03-26T09:49:41Z", "type": "commit"}, {"oid": "4678fddd0cae054e634e5368bb77c1e1b2f6d35a", "url": "https://github.com/ibissource/iaf/commit/4678fddd0cae054e634e5368bb77c1e1b2f6d35a", "message": "Update tests", "committedDate": "2020-03-26T09:54:13Z", "type": "commit"}, {"oid": "879e02c5920910fc3e2ab681046de93711ce8d9c", "url": "https://github.com/ibissource/iaf/commit/879e02c5920910fc3e2ab681046de93711ce8d9c", "message": "Fix support for bigints, patterns and enums", "committedDate": "2020-03-26T12:39:16Z", "type": "commit"}, {"oid": "2ec163e7ae3a1a2b0aca4dc882227db90d2e3293", "url": "https://github.com/ibissource/iaf/commit/2ec163e7ae3a1a2b0aca4dc882227db90d2e3293", "message": "Remove name attribute from simpleType", "committedDate": "2020-03-26T12:55:40Z", "type": "commit"}, {"oid": "4739c38e0ec24c9a290b98b07d435b773516aa2d", "url": "https://github.com/ibissource/iaf/commit/4739c38e0ec24c9a290b98b07d435b773516aa2d", "message": "Add required properties attribute to output JSON schema generator", "committedDate": "2020-03-26T15:15:10Z", "type": "commit"}, {"oid": "8c7c6e963fa22e2cb21cfd5175c4bebef1c4a28a", "url": "https://github.com/ibissource/iaf/commit/8c7c6e963fa22e2cb21cfd5175c4bebef1c4a28a", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema\n\n# Conflicts:\n#\tcore/src/main/java/nl/nn/adapterframework/align/XmlTypeToJsonSchemaConverter.java\n#\tcore/src/test/resources/Align/Arrays/arrays-array1.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-arrays.jsd\n#\tcore/src/test/resources/Align/DataTypes/DataTypes-DataTypes.jsd\n#\tcore/src/test/resources/Align/HCDA/HandleCollectionDisbursementAccount3_v3.0-HandleCollectionDisbursementAccount.jsd\n#\tcore/src/test/resources/Align/RepeatedElements/sprint-sprint.jsd\n#\tcore/src/test/resources/Align/Transaction/transaction-transaction.jsd", "committedDate": "2020-03-26T15:25:36Z", "type": "commit"}, {"oid": "5da37230ee9f959025b800bb868186f0837b0e02", "url": "https://github.com/ibissource/iaf/commit/5da37230ee9f959025b800bb868186f0837b0e02", "message": "Correct merge", "committedDate": "2020-03-26T15:52:22Z", "type": "commit"}, {"oid": "263df3838c3883e84739fdd2226920ad5f849cb9", "url": "https://github.com/ibissource/iaf/commit/263df3838c3883e84739fdd2226920ad5f849cb9", "message": "Fix tests\n\n# Conflicts:\n#\tcore/src/test/resources/Align/Arrays/arrays-array1.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-arrays.jsd\n#\tcore/src/test/resources/Align/DataTypes/DataTypes-DataTypes.jsd\n#\tcore/src/test/resources/Align/HCDA/HandleCollectionDisbursementAccount3_v3.0-HandleCollectionDisbursementAccount.jsd\n#\tcore/src/test/resources/Align/RepeatedElements/sprint-sprint.jsd\n#\tcore/src/test/resources/Align/Transaction/transaction-transaction.jsd", "committedDate": "2020-03-26T16:06:46Z", "type": "commit"}, {"oid": "f4e09e69364c1ff4958834146e91ac054d3a459a", "url": "https://github.com/ibissource/iaf/commit/f4e09e69364c1ff4958834146e91ac054d3a459a", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema", "committedDate": "2020-03-30T08:17:38Z", "type": "commit"}, {"oid": "5bd4239de99587d36f46701c82eb4e81bf103e8b", "url": "https://github.com/ibissource/iaf/commit/5bd4239de99587d36f46701c82eb4e81bf103e8b", "message": "Add making references to sub-elements in generated JSON schema's", "committedDate": "2020-03-30T08:21:34Z", "type": "commit"}, {"oid": "238380c30bfc24314eff607b27deb77aa7265f3d", "url": "https://github.com/ibissource/iaf/commit/238380c30bfc24314eff607b27deb77aa7265f3d", "message": "Improve code quality and decrease code complexity", "committedDate": "2020-03-30T09:39:55Z", "type": "commit"}, {"oid": "beda7fcddc3be6f51aeacf8fa44f6d99814b9952", "url": "https://github.com/ibissource/iaf/commit/beda7fcddc3be6f51aeacf8fa44f6d99814b9952", "message": "Decrease code complexity", "committedDate": "2020-03-30T09:52:07Z", "type": "commit"}, {"oid": "15cdbd926b8f8fdac4710d8f8ff57ab36bacf0d4", "url": "https://github.com/ibissource/iaf/commit/15cdbd926b8f8fdac4710d8f8ff57ab36bacf0d4", "message": "Add missing return statement", "committedDate": "2020-03-30T09:54:35Z", "type": "commit"}, {"oid": "2f2837b1b8de03aef59ac5aef468209ed246e045", "url": "https://github.com/ibissource/iaf/commit/2f2837b1b8de03aef59ac5aef468209ed246e045", "message": "Add nillable support to skippable arrays and fix tests", "committedDate": "2020-03-30T12:08:56Z", "type": "commit"}, {"oid": "5d8db03f297af132ef461d17eee9c8d44116daba", "url": "https://github.com/ibissource/iaf/commit/5d8db03f297af132ef461d17eee9c8d44116daba", "message": "Ignore family xml test for Map2Xml", "committedDate": "2020-03-30T12:37:55Z", "type": "commit"}, {"oid": "7f9c7eedf7c3624aff71b4de493dbfbde0a98dde", "url": "https://github.com/ibissource/iaf/commit/7f9c7eedf7c3624aff71b4de493dbfbde0a98dde", "message": "Remove un-used variable", "committedDate": "2020-03-30T12:41:24Z", "type": "commit"}, {"oid": "9419bc62980aee88a4182efc0c435848aa6980b5", "url": "https://github.com/ibissource/iaf/commit/9419bc62980aee88a4182efc0c435848aa6980b5", "message": "Improve type checking", "committedDate": "2020-03-30T13:28:35Z", "type": "commit"}, {"oid": "828ca0713fec462d0ac5e6d5c4dc32934988b644", "url": "https://github.com/ibissource/iaf/commit/828ca0713fec462d0ac5e6d5c4dc32934988b644", "message": "Remove type cast", "committedDate": "2020-03-30T14:13:19Z", "type": "commit"}, {"oid": "e413934100711618683a07b86d7896bdbc8af1a0", "url": "https://github.com/ibissource/iaf/commit/e413934100711618683a07b86d7896bdbc8af1a0", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema\n\n# Conflicts:\n#\tcore/src/main/java/nl/nn/adapterframework/align/XmlTypeToJsonSchemaConverter.java\n#\tcore/src/test/resources/Align/Arrays/arrays-array1.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-arrays.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-singleSimpleRepeatedElement.jsd\n#\tcore/src/test/resources/Align/DataTypes/DataTypes-DataTypes.jsd\n#\tcore/src/test/resources/Align/FamilyTree/family-family.jsd\n#\tcore/src/test/resources/Align/HCDA/HandleCollectionDisbursementAccount3_v3.0-HandleCollectionDisbursementAccount.jsd\n#\tcore/src/test/resources/Align/OptionalArray/hbp-Root.jsd", "committedDate": "2020-04-01T15:11:35Z", "type": "commit"}, {"oid": "29ec319ee0a97a4f49134d471b3f2c442867335a", "url": "https://github.com/ibissource/iaf/commit/29ec319ee0a97a4f49134d471b3f2c442867335a", "message": "Fix tests", "committedDate": "2020-04-01T15:25:37Z", "type": "commit"}, {"oid": "ae6bd6c2446f5c5b5cf913028141bdf37347c779", "url": "https://github.com/ibissource/iaf/commit/ae6bd6c2446f5c5b5cf913028141bdf37347c779", "message": "Remove namespace for now", "committedDate": "2020-04-01T15:27:40Z", "type": "commit"}, {"oid": "8a0e14ec9007d770b732eb8dff7233cd71b9015d", "url": "https://github.com/ibissource/iaf/commit/8a0e14ec9007d770b732eb8dff7233cd71b9015d", "message": "Add $id and description fields", "committedDate": "2020-04-01T16:34:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1MzQ0OQ==", "url": "https://github.com/ibissource/iaf/pull/566#discussion_r401753449", "bodyText": "is het id de namespace? Het moet een unieke identifier zijn..", "author": "nielsm5", "createdAt": "2020-04-01T16:37:06Z", "path": "core/src/main/java/nl/nn/adapterframework/align/XmlTypeToJsonSchemaConverter.java", "diffHunk": "@@ -111,6 +114,13 @@ public XSElementDeclaration findElementDeclaration(String elementName, String na\n \tpublic JsonStructure createJsonSchema(String elementName, XSElementDeclaration elementDecl) {\n \t\tJsonObjectBuilder builder = Json.createObjectBuilder();\n \t\tdefinitionsBuilder = Json.createObjectBuilder();\n+\t\tbuilder.add(\"$schema\", JSON_SCHEMA);\n+\t\tif(elementDecl.getNamespace() != null){\n+\t\t\tbuilder.add(\"$id\", elementDecl.getNamespace());", "originalCommit": "8a0e14ec9007d770b732eb8dff7233cd71b9015d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1ODY4Mg==", "url": "https://github.com/ibissource/iaf/pull/566#discussion_r401758682", "bodyText": "Zie https://json-schema.org/understanding-json-schema/basics.html#id4", "author": "Laurens-makel", "createdAt": "2020-04-01T16:45:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1MzQ0OQ=="}], "type": "inlineReview"}, {"oid": "2c7cb45889a5d33abfb0419345338043c9284639", "url": "https://github.com/ibissource/iaf/commit/2c7cb45889a5d33abfb0419345338043c9284639", "message": "Frank! Framework -> Frank!Framework", "committedDate": "2020-04-01T16:59:31Z", "type": "commit"}, {"oid": "a2ba9433e3a909d7d411d858f90e09f991a1db7f", "url": "https://github.com/ibissource/iaf/commit/a2ba9433e3a909d7d411d858f90e09f991a1db7f", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema", "committedDate": "2020-04-01T17:23:55Z", "type": "commit"}]}