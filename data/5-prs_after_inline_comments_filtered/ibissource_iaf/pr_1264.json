{"pr_number": 1264, "pr_title": "Fix #1197 improve batch performance", "pr_createdAt": "2020-11-13T16:40:59Z", "pr_url": "https://github.com/ibissource/iaf/pull/1264", "timeline": [{"oid": "8513aaea0b7117d9778bf074806a628d311bfa3a", "url": "https://github.com/ibissource/iaf/commit/8513aaea0b7117d9778bf074806a628d311bfa3a", "message": "Improve logging, move batch tests to mainConfig", "committedDate": "2020-11-13T12:30:37Z", "type": "commit"}, {"oid": "9527ab1951a5625f5e9154a1923bb99f0ce42a66", "url": "https://github.com/ibissource/iaf/commit/9527ab1951a5625f5e9154a1923bb99f0ce42a66", "message": "Fix batch tests in MainConfig", "committedDate": "2020-11-13T13:55:33Z", "type": "commit"}, {"oid": "f42c933b4a1cdbfb7c95f5bbf4d68af6fae39054", "url": "https://github.com/ibissource/iaf/commit/f42c933b4a1cdbfb7c95f5bbf4d68af6fae39054", "message": "formatting issue", "committedDate": "2020-11-13T13:58:13Z", "type": "commit"}, {"oid": "f5e799af41f79f6abe7109cde31188236b0fb5aa", "url": "https://github.com/ibissource/iaf/commit/f5e799af41f79f6abe7109cde31188236b0fb5aa", "message": "Improve logging", "committedDate": "2020-11-13T16:08:52Z", "type": "commit"}, {"oid": "99ce0432dba65ecf6929280cec4c455b35080284", "url": "https://github.com/ibissource/iaf/commit/99ce0432dba65ecf6929280cec4c455b35080284", "message": "Avoid threading problem in ResultWriter", "committedDate": "2020-11-13T16:39:37Z", "type": "commit"}, {"oid": "46d033b9b7dc1fc022e7dbf86e02a7c6379f8697", "url": "https://github.com/ibissource/iaf/commit/46d033b9b7dc1fc022e7dbf86e02a7c6379f8697", "message": "revert ResultWriter", "committedDate": "2020-11-13T17:09:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI5OTg0Nw==", "url": "https://github.com/ibissource/iaf/pull/1264#discussion_r525299847", "bodyText": "Wat is hier met de indentatie aan de hand?", "author": "nielsm5", "createdAt": "2020-11-17T16:27:45Z", "path": "core/src/main/java/nl/nn/adapterframework/batch/ResultWriter.java", "diffHunk": "@@ -60,9 +59,9 @@ public void closeDocument(IPipeLineSession session, String streamId) {\n \t\tif (w != null) {\n \t\t\ttry {\n \t\t\t\tw.close();\n-\t\t\t} catch (IOException e) {\n-\t\t\t\tlog.error(\"Exception closing [\"+streamId+\"]\",e);\n-\t\t\t}\n+\t\t} catch (IOException e) {\n+\t\t\tlog.error(\"Exception closing [\"+streamId+\"]\",e);\n+\t\t}\n \t\t}\n \t\tsuper.closeDocument(session,streamId);\n \t}", "originalCommit": "46d033b9b7dc1fc022e7dbf86e02a7c6379f8697", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e2aa5bff9c8561afba2f8d91cf486afd5a64fb53", "url": "https://github.com/ibissource/iaf/commit/e2aa5bff9c8561afba2f8d91cf486afd5a64fb53", "message": "Use Strings instead of Objects", "committedDate": "2020-11-17T16:31:30Z", "type": "commit"}, {"oid": "47dff427ec94692929a22240916b86391532ee9d", "url": "https://github.com/ibissource/iaf/commit/47dff427ec94692929a22240916b86391532ee9d", "message": "one more file", "committedDate": "2020-11-17T16:37:44Z", "type": "commit"}, {"oid": "fa28af20b13c17fd00b7fcd9c2a6a0fe2a072e73", "url": "https://github.com/ibissource/iaf/commit/fa28af20b13c17fd00b7fcd9c2a6a0fe2a072e73", "message": "fix issues", "committedDate": "2020-11-17T21:26:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAwMzM2OA==", "url": "https://github.com/ibissource/iaf/pull/1264#discussion_r526003368", "bodyText": "Cast mag weg?", "author": "nielsm5", "createdAt": "2020-11-18T11:10:30Z", "path": "core/src/main/java/nl/nn/adapterframework/batch/ResultWriter.java", "diffHunk": "@@ -77,13 +73,8 @@ public Object finalizeResult(IPipeLineSession session, String streamId, boolean\n \n \t\n \t@Override\n-\tpublic void handleResult(IPipeLineSession session, String streamId, String recordKey, Object result) throws Exception {\n-\t\tif (result instanceof String) {\n-\t\t\twrite(session, streamId, (String)result);\n-\t\t}\n-\t\telse if (result instanceof String[]) {\n-\t\t\twrite(session, streamId, (String[])result);\n-\t\t}\n+\tpublic void handleResult(IPipeLineSession session, String streamId, String recordKey, String result) throws Exception {\n+\t\twrite(session, streamId, (String)result);", "originalCommit": "fa28af20b13c17fd00b7fcd9c2a6a0fe2a072e73", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b8d2e6df9a80f287602b094672755d8d826fe8a8", "url": "https://github.com/ibissource/iaf/commit/b8d2e6df9a80f287602b094672755d8d826fe8a8", "message": "Remove casts to String", "committedDate": "2020-11-18T16:37:17Z", "type": "commit"}, {"oid": "811e10702f0ea6f993f9cf1837c9f2d40a7c08e8", "url": "https://github.com/ibissource/iaf/commit/811e10702f0ea6f993f9cf1837c9f2d40a7c08e8", "message": "Merge branch 'master' into Fix_#1197_improve_batch_performance", "committedDate": "2020-11-18T16:39:45Z", "type": "commit"}]}