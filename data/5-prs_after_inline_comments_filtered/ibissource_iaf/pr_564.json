{"pr_number": 564, "pr_title": "Fix consistency in PdfPipe", "pr_createdAt": "2020-04-01T12:55:12Z", "pr_url": "https://github.com/ibissource/iaf/pull/564", "timeline": [{"oid": "1a796ab7fb1cea386835b88ee9b4f26c485e3b94", "url": "https://github.com/ibissource/iaf/commit/1a796ab7fb1cea386835b88ee9b4f26c485e3b94", "message": "Merge pull request #1 from ibissource/master\n\nMerge", "committedDate": "2020-03-26T15:21:19Z", "type": "commit"}, {"oid": "b5e578e45a7c0bf1e4846e16136e04be3a9d4b15", "url": "https://github.com/ibissource/iaf/commit/b5e578e45a7c0bf1e4846e16136e04be3a9d4b15", "message": "Merge branch 'master' of https://github.com/ibissource/iaf", "committedDate": "2020-04-01T12:46:06Z", "type": "commit"}, {"oid": "2e2c660393077e8669a7a9bc1b654c87ddf59331", "url": "https://github.com/ibissource/iaf/commit/2e2c660393077e8669a7a9bc1b654c87ddf59331", "message": "SEPARATEPDF -> SEPERATEPDF", "committedDate": "2020-04-01T12:50:23Z", "type": "commit"}, {"oid": "b1d2dba588131a8ee1c8a3ae38d376f8831cc60f", "url": "https://github.com/ibissource/iaf/commit/b1d2dba588131a8ee1c8a3ae38d376f8831cc60f", "message": "Fix consistency in use of camelCase and upper case of pdf output xml attributes", "committedDate": "2020-04-01T12:50:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTczNjMxMw==", "url": "https://github.com/ibissource/iaf/pull/564#discussion_r401736313", "bodyText": "Maar dan moet je ConversionOption zelf ook aanpassen / inchecken, en dan daar ook in commentaar erbij zetten dat de spelling zo moet zijn omdat de aspose library die waarde nodig heeft.", "author": "gvanbrakel", "createdAt": "2020-04-01T16:11:48Z", "path": "aspose/src/main/java/nl/nn/adapterframework/extensions/aspose/pipe/PdfPipe.java", "diffHunk": "@@ -152,7 +152,7 @@ public PipeRunResult doPipe(Message input, IPipeLineSession session) throws Pipe\n \t\t\t\tString fileName = (String) session.get(\"fileName\");\n \t\t\t\tCisConversionResult cisConversionResult = null;\n \t\t\t\tCisConversionService cisConversionService = new CisConversionServiceImpl(pdfOutputLocation, loader.getPathToExtractFonts());\n-\t\t\t\tcisConversionResult = cisConversionService.convertToPdf(binaryInputStream, fileName, saveSeparate ? ConversionOption.SEPARATEPDF : ConversionOption.SINGLEPDF);\n+\t\t\t\tcisConversionResult = cisConversionService.convertToPdf(binaryInputStream, fileName, saveSeparate ? ConversionOption.SEPERATEPDF : ConversionOption.SINGLEPDF);\n \t\t\t\tXmlBuilder main = new XmlBuilder(\"main\");", "originalCommit": "b1d2dba588131a8ee1c8a3ae38d376f8831cc60f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc3OTMxMg==", "url": "https://github.com/ibissource/iaf/pull/564#discussion_r401779312", "bodyText": "Ah ik zie het, blijkbaar was dat de enige class die ik niet uit de originele custom aspose module heb verwijderd.\nIk ga de vereiste wijzigingen toevoegen.", "author": "Laurens-makel", "createdAt": "2020-04-01T17:16:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTczNjMxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTczNzY0OQ==", "url": "https://github.com/ibissource/iaf/pull/564#discussion_r401737649", "bodyText": "Het is wel handig om hier unit tests voor te hebben. Blijkbaar kunnen deze dingen zomaar veranderen??", "author": "gvanbrakel", "createdAt": "2020-04-01T16:13:48Z", "path": "aspose/src/main/java/nl/nn/adapterframework/extensions/aspose/services/conv/CisConversionResult.java", "diffHunk": "@@ -205,13 +205,12 @@ public final String toString() {\n \t */\n \tpublic void buildXmlFromResult(XmlBuilder main, CisConversionResult cisConversionResult, boolean isRoot) {\n \t\tif(isRoot) {\n-\t\t\tmain.addAttribute(\"CONVERSION_OPTION\", this.getConversionOption().getValue());\n-\t\t\tmain.addAttribute(\"MEDIA_TYPE\", this.getMediaType().toString());\n-\t\t\tmain.addAttribute(\"DOCUMENT_NAME\", this.getDocumentName());\n-\t\t\tmain.addAttribute(\"FAILURE_REASON\", this.getFailureReason());\n-\t\t\tmain.addAttribute(\"PARENT_CONVERSION_ID\", null);\n-\t\t\tmain.addAttribute(\"NUMBER_OF_PAGES\", this.getNumberOfPages());\n-\t\t\tmain.addAttribute(\"CONVERTED_DOCUMENT\", this.getResultFilePath());\n+\t\t\tmain.addAttribute(\"conversionOption\", this.getConversionOption().getValue());\n+\t\t\tmain.addAttribute(\"mediaType\", this.getMediaType().toString());\n+\t\t\tmain.addAttribute(\"documentName\", this.getDocumentName());\n+\t\t\tmain.addAttribute(\"failureReason\", this.getFailureReason());\n+\t\t\tmain.addAttribute(\"numberOfPages\", this.getNumberOfPages());\n+\t\t\tmain.addAttribute(\"convertedDocument\", this.getResultFilePath());", "originalCommit": "b1d2dba588131a8ee1c8a3ae38d376f8831cc60f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc3ODg4OA==", "url": "https://github.com/ibissource/iaf/pull/564#discussion_r401778888", "bodyText": "Ik ben het zeker eens met het feit dat unit tests handig zijn alleen weet ik niet wanneer ik deze kan toevoegen.\nDaarnaast was het geval dat we vandaag via Skype hadden besproken omdat this.getResultFilePath() een null waarde terug gaf waardoor dit attribuut niet werd toegevoegd aan de XML.", "author": "Laurens-makel", "createdAt": "2020-04-01T17:16:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTczNzY0OQ=="}], "type": "inlineReview"}, {"oid": "63984a97b8f30015c69c4bea55c26897b4cdc378", "url": "https://github.com/ibissource/iaf/commit/63984a97b8f30015c69c4bea55c26897b4cdc378", "message": "Add missing conversion option", "committedDate": "2020-04-01T17:18:30Z", "type": "commit"}, {"oid": "c41bd3684fbd43b0d8a21b87c197a308d02fd222", "url": "https://github.com/ibissource/iaf/commit/c41bd3684fbd43b0d8a21b87c197a308d02fd222", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into Pdf-Pipe", "committedDate": "2020-04-01T17:23:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjI2MzgxMA==", "url": "https://github.com/ibissource/iaf/pull/564#discussion_r402263810", "bodyText": "Separate is often misspelled as seperate, a word that has no meaning and is simply a misspelling", "author": "nielsm5", "createdAt": "2020-04-02T12:11:12Z", "path": "aspose/src/main/java/nl/nn/adapterframework/extensions/aspose/ConversionOption.java", "diffHunk": "@@ -16,7 +16,8 @@\n package nl.nn.adapterframework.extensions.aspose;\n \n public enum ConversionOption {\n-\tSINGLEPDF(0), SEPARATEPDF(1);\n+    SINGLEPDF(0), SEPERATEPDF(1);\n+    // Written as \"SEPERATEPDF\" instead of \"SEPARATEPDF\" because Aspose libary expects \"SEPERATEPDF\"", "originalCommit": "c41bd3684fbd43b0d8a21b87c197a308d02fd222", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk4MDAxNg==", "url": "https://github.com/ibissource/iaf/pull/564#discussion_r405980016", "bodyText": "Enum zou moeten worden:\nSinglePdf(\"SINGLEPDF)), SeparatePdf(\"SEPERATEPDF\")\nIn de code zie je dan 'SinglePdf' en 'SeparatePdf', en naar Aspose kan de value dan gecommuniceerd worden", "author": "gvanbrakel", "createdAt": "2020-04-09T06:22:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjI2MzgxMA=="}], "type": "inlineReview"}, {"oid": "51049078c51e397507292fda43b8a07ea77a021c", "url": "https://github.com/ibissource/iaf/commit/51049078c51e397507292fda43b8a07ea77a021c", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into Pdf-Pipe", "committedDate": "2020-04-06T10:32:30Z", "type": "commit"}, {"oid": "55af7e1b715a77794531c548740a02a96b7f9b91", "url": "https://github.com/ibissource/iaf/commit/55af7e1b715a77794531c548740a02a96b7f9b91", "message": "Add initial unit tests", "committedDate": "2020-04-06T11:14:14Z", "type": "commit"}, {"oid": "902e06b813e07e77b22f9d7931c4888f8bfe806e", "url": "https://github.com/ibissource/iaf/commit/902e06b813e07e77b22f9d7931c4888f8bfe806e", "message": "Add javax.servlet-api 3.0.1 test scoped dependency", "committedDate": "2020-04-06T13:01:19Z", "type": "commit"}, {"oid": "1ee55194a66f98d0fa552715caaf5339c3367f83", "url": "https://github.com/ibissource/iaf/commit/1ee55194a66f98d0fa552715caaf5339c3367f83", "message": "Add ConfigurationException related tests to pdfpipe tests", "committedDate": "2020-04-06T13:01:45Z", "type": "commit"}, {"oid": "3f661a8ec40fb23bc94df96f5af3e038cdddc1af", "url": "https://github.com/ibissource/iaf/commit/3f661a8ec40fb23bc94df96f5af3e038cdddc1af", "message": "Add initial successfull conversion tests", "committedDate": "2020-04-06T17:06:13Z", "type": "commit"}, {"oid": "836d0909d7ab9eaf80048059f3783f73232c9d57", "url": "https://github.com/ibissource/iaf/commit/836d0909d7ab9eaf80048059f3783f73232c9d57", "message": "Add byte comparison to tests", "committedDate": "2020-04-08T14:28:19Z", "type": "commit"}, {"oid": "5afa7b6568d9fedda8e3c5aedbc667c96a16b22e", "url": "https://github.com/ibissource/iaf/commit/5afa7b6568d9fedda8e3c5aedbc667c96a16b22e", "message": "Improve testset", "committedDate": "2020-04-09T16:24:12Z", "type": "commit"}, {"oid": "3a5b05928ff1d0b73ef77a70d81b2adf60e75237", "url": "https://github.com/ibissource/iaf/commit/3a5b05928ff1d0b73ef77a70d81b2adf60e75237", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into Pdf-Pipe", "committedDate": "2020-04-09T16:24:28Z", "type": "commit"}]}