{"pr_number": 1118, "pr_title": "Provide ability to follow exception forwards ", "pr_createdAt": "2020-10-02T08:40:39Z", "pr_url": "https://github.com/ibissource/iaf/pull/1118", "timeline": [{"oid": "cf9e9babd11c6960a59d716a6eca3234e8c344fb", "url": "https://github.com/ibissource/iaf/commit/cf9e9babd11c6960a59d716a6eca3234e8c344fb", "message": "exception forward", "committedDate": "2020-10-02T08:37:56Z", "type": "commit"}, {"oid": "2c770f3dff29ec9c02395de836e927993c696f84", "url": "https://github.com/ibissource/iaf/commit/2c770f3dff29ec9c02395de836e927993c696f84", "message": "rename test base folder to a more specific name", "committedDate": "2020-10-02T13:38:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNDk0Mg==", "url": "https://github.com/ibissource/iaf/pull/1118#discussion_r498824942", "bodyText": "2020 WeAreFrank!\nUnless you made this in 2013?", "author": "nielsm5", "createdAt": "2020-10-02T13:35:07Z", "path": "core/src/main/java/nl/nn/adapterframework/processors/ExceptionHandlingPipeProcessor.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+   Copyright 2013, 2020 Nationale-Nederlanden", "originalCommit": "cf9e9babd11c6960a59d716a6eca3234e8c344fb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNTM0Ng==", "url": "https://github.com/ibissource/iaf/pull/1118#discussion_r498825346", "bodyText": "I would personally prefer if this would be on 1 line..", "author": "nielsm5", "createdAt": "2020-10-02T13:35:51Z", "path": "core/src/main/java/nl/nn/adapterframework/processors/ExceptionHandlingPipeProcessor.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+   Copyright 2013, 2020 Nationale-Nederlanden\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package nl.nn.adapterframework.processors;\n+\n+import java.util.Map;\n+\n+import nl.nn.adapterframework.core.IPipe;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLine;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.errormessageformatters.ErrorMessageFormatter;\n+import nl.nn.adapterframework.stream.Message;\n+import nl.nn.adapterframework.util.DateUtils;\n+\n+public class ExceptionHandlingPipeProcessor extends PipeProcessorBase {\n+\n+\t@Override\n+\tpublic PipeRunResult processPipe(PipeLine pipeLine, IPipe pipe, Message message, IPipeLineSession pipeLineSession)\n+\t\t\tthrows PipeRunException {", "originalCommit": "cf9e9babd11c6960a59d716a6eca3234e8c344fb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNzAzMw==", "url": "https://github.com/ibissource/iaf/pull/1118#discussion_r498827033", "bodyText": "This session value is a drama, as we would say in Dutch. I believe it's possible for it to be either a Date or a formatted timestamp. Please look here  for more info!", "author": "nielsm5", "createdAt": "2020-10-02T13:38:44Z", "path": "core/src/main/java/nl/nn/adapterframework/processors/ExceptionHandlingPipeProcessor.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+   Copyright 2013, 2020 Nationale-Nederlanden\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package nl.nn.adapterframework.processors;\n+\n+import java.util.Map;\n+\n+import nl.nn.adapterframework.core.IPipe;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLine;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.errormessageformatters.ErrorMessageFormatter;\n+import nl.nn.adapterframework.stream.Message;\n+import nl.nn.adapterframework.util.DateUtils;\n+\n+public class ExceptionHandlingPipeProcessor extends PipeProcessorBase {\n+\n+\t@Override\n+\tpublic PipeRunResult processPipe(PipeLine pipeLine, IPipe pipe, Message message, IPipeLineSession pipeLineSession)\n+\t\t\tthrows PipeRunException {\n+\t\tPipeRunResult prr = null;\n+\t\ttry {\n+\t\t\tprr = pipeProcessor.processPipe(pipeLine, pipe, message, pipeLineSession);\n+\t\t} catch (PipeRunException e) {\n+\t\t\tMap<String, PipeForward> forwards = pipe.getForwards();\n+\t\t\tif (forwards!=null && forwards.containsKey(\"exception\")) {\n+\t\t\t\tlong tsReceived = DateUtils.parseToDate((String) pipeLineSession.get(IPipeLineSession.tsReceivedKey), DateUtils.FORMAT_FULL_GENERIC).getTime();", "originalCommit": "cf9e9babd11c6960a59d716a6eca3234e8c344fb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a22f246c3eeaced1ea01e032f7a8610201b0e9f3", "url": "https://github.com/ibissource/iaf/commit/a22f246c3eeaced1ea01e032f7a8610201b0e9f3", "message": "consider different types of object for tsreceived", "committedDate": "2020-10-02T14:42:40Z", "type": "commit"}, {"oid": "e529e3a9034883ec7323dfe636808e1a6d696b66", "url": "https://github.com/ibissource/iaf/commit/e529e3a9034883ec7323dfe636808e1a6d696b66", "message": "move scenario.properties files to the parent folder", "committedDate": "2020-10-05T11:39:16Z", "type": "commit"}, {"oid": "12a200c3ee86f3c1206471dcbe08bf66bf9a6ec5", "url": "https://github.com/ibissource/iaf/commit/12a200c3ee86f3c1206471dcbe08bf66bf9a6ec5", "message": "document generic exception handling to follow the exception forward in a pipe", "committedDate": "2020-10-07T15:18:28Z", "type": "commit"}]}