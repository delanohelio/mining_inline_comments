{"pr_number": 535, "pr_title": "Cleanup HttpSenderBase", "pr_createdAt": "2020-03-24T17:50:15Z", "pr_url": "https://github.com/ibissource/iaf/pull/535", "timeline": [{"oid": "6dbc019a9c075d575477a391af4d11348c1aa2fe", "url": "https://github.com/ibissource/iaf/commit/6dbc019a9c075d575477a391af4d11348c1aa2fe", "message": "Add tests for Akamai, cleanup HttpSenderBase", "committedDate": "2020-03-24T17:48:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzczODA5NQ==", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397738095", "bodyText": "Toch wel netjes om van deze \"urlParam\" en constante te maken, en misschien zelfs configureerbaar (als er conflicten zouden kunnen ontstaan)", "author": "gvanbrakel", "createdAt": "2020-03-25T10:09:20Z", "path": "akamai/src/main/java/nl/nn/adapterframework/extensions/akamai/NetStorageSender.java", "diffHunk": "@@ -162,14 +164,14 @@ public Message sendMessage(Message message, IPipeLineSession session) throws Sen\n \t\t} catch (IOException e) {\n \t\t\tthrow new SenderException(getLogPrefix(),e);\n \t\t}\n-\t\tstaticUri = buildUri(path); // TODO: this is not thread safe!\n+\t\tsession.put(\"urlParam\", path);", "originalCommit": "6dbc019a9c075d575477a391af4d11348c1aa2fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc1MTMyNA==", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397751324", "bodyText": "Het wordt nu als Parameter meegegeven aan de sender, dynamischer kan het niet", "author": "nielsm5", "createdAt": "2020-03-25T10:31:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzczODA5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzczOTEyMA==", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397739120", "bodyText": "Waarom is dit een parameter? Om hem te kunnen overriden? Ik snap eigenlijk niet wat er gebeurt", "author": "gvanbrakel", "createdAt": "2020-03-25T10:11:07Z", "path": "akamai/src/main/java/nl/nn/adapterframework/extensions/akamai/NetStorageSender.java", "diffHunk": "@@ -96,6 +96,11 @@\n \n \t@Override\n \tpublic void configure() throws ConfigurationException {\n+\t\tParameter urlParameter = new Parameter();\n+\t\turlParameter.setName(getUrlParam());\n+\t\turlParameter.setSessionKey(\"urlParam\");\n+\t\taddParameter(urlParameter);", "originalCommit": "6dbc019a9c075d575477a391af4d11348c1aa2fe", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc1MjAwNQ==", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397752005", "bodyText": "Het kan geen constante zijn, dan is het niet thread safe... vandaar dat het inputbericht altijd 'automatisch' naar de url parameter veranderd wordt.", "author": "nielsm5", "createdAt": "2020-03-25T10:32:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzczOTEyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MDI5NA==", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397740294", "bodyText": "Ik doe in voorkomende gevallen: Copyright 2020 WeAreFrank!, dus niet .nl, maar met uitroepteken.", "author": "gvanbrakel", "createdAt": "2020-03-25T10:13:04Z", "path": "akamai/src/test/java/nl/nn/adapterframework/extensions/akamai/NetStorageSenderTest.java", "diffHunk": "@@ -0,0 +1,116 @@\n+/*\n+   Copyright 2020 WeAreFrank.nl", "originalCommit": "6dbc019a9c075d575477a391af4d11348c1aa2fe", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2fd7d2836eee096baf150dbeeacbc9a5af8a3717", "url": "https://github.com/ibissource/iaf/commit/2fd7d2836eee096baf150dbeeacbc9a5af8a3717", "message": "Change copyright info", "committedDate": "2020-03-25T10:35:51Z", "type": "commit"}, {"oid": "c9fedc0b3070b2b75117d4b2767121d6d3e92c5a", "url": "https://github.com/ibissource/iaf/commit/c9fedc0b3070b2b75117d4b2767121d6d3e92c5a", "message": "Fix javadoc and add comments", "committedDate": "2020-03-25T10:47:00Z", "type": "commit"}]}