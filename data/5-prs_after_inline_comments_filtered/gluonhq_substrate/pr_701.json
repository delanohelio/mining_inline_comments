{"pr_number": 701, "pr_title": "Use new flag for bionic", "pr_createdAt": "2020-07-20T13:25:00Z", "pr_url": "https://github.com/gluonhq/substrate/pull/701", "timeline": [{"oid": "ac05425a7ae7055f9d8a7f56a87b88105bd4b9a5", "url": "https://github.com/gluonhq/substrate/commit/ac05425a7ae7055f9d8a7f56a87b88105bd4b9a5", "message": "Use new flag for bionic", "committedDate": "2020-07-20T13:24:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1Mjk2Mw==", "url": "https://github.com/gluonhq/substrate/pull/701#discussion_r458752963", "bodyText": "since what version is this? If it is 20.3-dev and on, we can test for that.", "author": "johanvos", "createdAt": "2020-07-22T12:26:16Z", "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "diffHunk": "@@ -210,7 +210,7 @@ public boolean runUntilEnd() throws IOException, InterruptedException {\n             flags.add(\"-H:CustomLD=\" + ldlld.toAbsolutePath().toString());\n         }\n         if (projectConfiguration.getGraalVersion().compareTo(new Version(\"20.1.0\")) > 0) {\n-            flags.add(\"-H:+UseBionicC\");\n+            flags.add(\"--libc=bionic\");", "originalCommit": "ac05425a7ae7055f9d8a7f56a87b88105bd4b9a5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc5NjM0Ng==", "url": "https://github.com/gluonhq/substrate/pull/701#discussion_r458796346", "bodyText": "I believe it started with one of the last versions of 20.2.0-dev (I tested https://github.com/graalvm/graalvm-ce-dev-builds/releases/tag/20.2.0-dev-20200718_0205).\nIt's safe to check for version 20.3.0 though.", "author": "jperedadnr", "createdAt": "2020-07-22T13:36:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1Mjk2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgyOTYzNw==", "url": "https://github.com/gluonhq/substrate/pull/701#discussion_r458829637", "bodyText": "@jperedadnr You are correct, however, this flag will be included in 20.2 too, so if you are running on 20.2, it should be --libc=bionic", "author": "gradinac", "createdAt": "2020-07-22T14:21:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1Mjk2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODg4NzM3MQ==", "url": "https://github.com/gluonhq/substrate/pull/701#discussion_r458887371", "bodyText": "Yes, I reported that in gluonhq/gluonfx-maven-plugin#211 for 20.2.0-dev-20200718_0205. Therefore it is currently not possible to build for Android.", "author": "mipastgt", "createdAt": "2020-07-22T15:38:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1Mjk2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5MDk2Mw==", "url": "https://github.com/gluonhq/substrate/pull/701#discussion_r458990963", "bodyText": "I've pushed a change to check version 20.2 and above. This will allow using the latest 20.2.0-dev version and the official release 20.2 (when released), or any 20.3-dev versions and beyond.", "author": "jperedadnr", "createdAt": "2020-07-22T18:17:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc1Mjk2Mw=="}], "type": "inlineReview"}, {"oid": "5a0c57f034e99bce94a546193329061654a025c4", "url": "https://github.com/gluonhq/substrate/commit/5a0c57f034e99bce94a546193329061654a025c4", "message": "Check GraalVM version before applying bionic flags", "committedDate": "2020-07-22T18:15:39Z", "type": "commit"}, {"oid": "6a5717f497ea48b94fb7585d6ef59a110da70821", "url": "https://github.com/gluonhq/substrate/commit/6a5717f497ea48b94fb7585d6ef59a110da70821", "message": "Use correct flag", "committedDate": "2020-07-23T08:39:20Z", "type": "commit"}, {"oid": "55a38899ae8c551a544e423b30a63e57de93b39b", "url": "https://github.com/gluonhq/substrate/commit/55a38899ae8c551a544e423b30a63e57de93b39b", "message": "Merge branch 'master' of https://github.com/gluonhq/substrate into 700-bionic", "committedDate": "2020-07-23T08:53:57Z", "type": "commit"}]}