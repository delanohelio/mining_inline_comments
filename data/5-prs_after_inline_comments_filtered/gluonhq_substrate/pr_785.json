{"pr_number": 785, "pr_title": "Update ios-deploy formula and use local patch", "pr_createdAt": "2020-09-21T10:25:24Z", "pr_url": "https://github.com/gluonhq/substrate/pull/785", "timeline": [{"oid": "f28e78d5779a475dcae9bb6f3804d1f2b272c0eb", "url": "https://github.com/gluonhq/substrate/commit/f28e78d5779a475dcae9bb6f3804d1f2b272c0eb", "message": "Bump required iOS-deploy version to 1.11+", "committedDate": "2020-09-21T09:41:29Z", "type": "commit"}, {"oid": "f352cce40dbef959d0fc501fe423f2ca52b657df", "url": "https://github.com/gluonhq/substrate/commit/f352cce40dbef959d0fc501fe423f2ca52b657df", "message": "Add patch file that fixes iOS-deploy log issue", "committedDate": "2020-09-21T09:47:02Z", "type": "commit"}, {"oid": "914e131088400620f6229d0898c1e6e4ef025d66", "url": "https://github.com/gluonhq/substrate/commit/914e131088400620f6229d0898c1e6e4ef025d66", "message": "Update iOS-deploy formula, to use head from master, and apply a patch", "committedDate": "2020-09-21T10:21:25Z", "type": "commit"}, {"oid": "3cbb22d23f570ba984a7ef8549cac0ef830cb8c2", "url": "https://github.com/gluonhq/substrate/commit/3cbb22d23f570ba984a7ef8549cac0ef830cb8c2", "message": "Extract patch and update formula file with correct location", "committedDate": "2020-09-21T10:22:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk0NDExOA==", "url": "https://github.com/gluonhq/substrate/pull/785#discussion_r491944118", "bodyText": "What should developers do when they see this?", "author": "johanvos", "createdAt": "2020-09-21T10:38:09Z", "path": "src/main/java/com/gluonhq/substrate/util/ios/Deploy.java", "diffHunk": "@@ -104,9 +104,10 @@ private void checkPrerequisites() throws IOException, InterruptedException {\n                 checkPrerequisites();\n             }\n         } else {\n-            // Check for ios-deploy version installed (it should be 1.10+)\n+            // Check for ios-deploy version installed (it should be 1.11+)\n             String version = ProcessRunner.runProcessForSingleOutput(\"ios-deploy version\",\"ios-deploy\", \"-V\");\n-            if (version != null && !version.isEmpty() && (version.startsWith(\"1.8\") || version.startsWith(\"1.9\"))) {\n+            if (version != null && !version.isEmpty() &&\n+                    (version.startsWith(\"1.8\") || version.startsWith(\"1.9\") || version.startsWith(\"1.10\"))) {\n                 Logger.logDebug(\"ios-deploy version (\" + version + \") is outdated\");", "originalCommit": "3cbb22d23f570ba984a7ef8549cac0ef830cb8c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk2NDA5NA==", "url": "https://github.com/gluonhq/substrate/pull/785#discussion_r491964094", "bodyText": "Nothing, the plugin will uninstall the old version and install the new one:\nLogger.logDebug(\"ios-deploy version (\" + version + \") is outdated\");\nuninstallIOSDeploy();\nif (installIOSDeploy()) {\n    checkPrerequisites();\n}", "author": "jperedadnr", "createdAt": "2020-09-21T11:18:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk0NDExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3NDI0Mg==", "url": "https://github.com/gluonhq/substrate/pull/785#discussion_r492574242", "bodyText": "Perhaps the log message should mention that substrate will try to automatically update to the required version?", "author": "tiainen", "createdAt": "2020-09-22T08:52:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk0NDExOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjY0ODYxMw==", "url": "https://github.com/gluonhq/substrate/pull/785#discussion_r492648613", "bodyText": "Fixed", "author": "jperedadnr", "createdAt": "2020-09-22T11:04:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk0NDExOA=="}], "type": "inlineReview"}, {"oid": "54bdbb258738cc92dc470f618e259c4dc744a4b7", "url": "https://github.com/gluonhq/substrate/commit/54bdbb258738cc92dc470f618e259c4dc744a4b7", "message": "Update log message when iOS-deploy is reinstalled", "committedDate": "2020-09-22T11:04:40Z", "type": "commit"}]}