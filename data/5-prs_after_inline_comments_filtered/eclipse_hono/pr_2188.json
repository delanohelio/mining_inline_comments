{"pr_number": 2188, "pr_title": "[#2184] Strip shared key from PSK credentials", "pr_createdAt": "2020-09-17T12:45:07Z", "pr_url": "https://github.com/eclipse/hono/pull/2188", "timeline": [{"oid": "e5cabd0ab2dde7efddb4e17f2cc61821c32de13d", "url": "https://github.com/eclipse/hono/commit/e5cabd0ab2dde7efddb4e17f2cc61821c32de13d", "message": "[#2184] Strip shared key from PSK credentials\n\nThe device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.\n\nFixes #2184\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-09-17T12:48:29Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIzNDU3OA==", "url": "https://github.com/eclipse/hono/pull/2188#discussion_r490234578", "bodyText": "We could reuse CommonCredential.stripPrivateInfo(...) instead of removeConfidentialDataFromCredential(...) after mapping to CommonCredential in the following line.", "author": "kaniyan", "createdAt": "2020-09-17T13:15:59Z", "path": "services/device-registry-file/src/main/java/org/eclipse/hono/deviceregistry/file/FileBasedCredentialsService.java", "diffHunk": "@@ -652,7 +652,7 @@ private void removeAllForDevice(final String tenantId, final String deviceId, fi\n         for (final Object credential : matchingCredentials) {\n             final JsonObject credentialsObject = (JsonObject) credential;\n             credentialsObject.remove(CredentialsConstants.FIELD_PAYLOAD_DEVICE_ID);\n-            removePasswordDetailsFromCredential(credentialsObject);\n+            removeConfidentialDataFromCredential(credentialsObject);", "originalCommit": "e5cabd0ab2dde7efddb4e17f2cc61821c32de13d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI2ODgyMQ==", "url": "https://github.com/eclipse/hono/pull/2188#discussion_r490268821", "bodyText": "that is an excellent idea \ud83d\udc4d", "author": "sophokles73", "createdAt": "2020-09-17T13:59:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIzNDU3OA=="}], "type": "inlineReview"}, {"oid": "f86c03cdee56bf1d558d847489ee10900492508b", "url": "https://github.com/eclipse/hono/commit/f86c03cdee56bf1d558d847489ee10900492508b", "message": "[#2184] Strip shared key from PSK credentials\n\nThe device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.\n\nFixes #2184\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-09-23T07:53:00Z", "type": "commit"}, {"oid": "f86c03cdee56bf1d558d847489ee10900492508b", "url": "https://github.com/eclipse/hono/commit/f86c03cdee56bf1d558d847489ee10900492508b", "message": "[#2184] Strip shared key from PSK credentials\n\nThe device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.\n\nFixes #2184\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-09-23T07:53:00Z", "type": "forcePushed"}]}