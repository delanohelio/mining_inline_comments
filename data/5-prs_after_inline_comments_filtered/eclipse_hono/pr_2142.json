{"pr_number": 2142, "pr_title": "Further adapt integration tests to vert.x WebClient API", "pr_createdAt": "2020-09-01T08:43:31Z", "pr_url": "https://github.com/eclipse/hono/pull/2142", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAyOTQzMw==", "url": "https://github.com/eclipse/hono/pull/2142#discussion_r481029433", "bodyText": "The removal of the with a {@link org.eclipse.hono.client.ServiceInvocationException} part is not consistent in this class yet - it's still in there for several methods.", "author": "calohmn", "createdAt": "2020-09-01T10:12:59Z", "path": "tests/src/test/java/org/eclipse/hono/tests/DeviceRegistryHttpClient.java", "diffHunk": "@@ -272,14 +277,13 @@ private static String registrationWithoutIdUri(final String tenant) {\n      *\n      * @param tenantId The tenant to get information for.\n      * @param expectedStatusCode The status code indicating a successful outcome.\n-     * @return A future indicating the outcome of the operation. The future will contain the response payload if the\n-     *         response contained the expected status code. Otherwise the future will fail with a\n-     *         {@link org.eclipse.hono.client.ServiceInvocationException}.", "originalCommit": "2579a2e162d6ca290d3d78697b3a1ecb744e0ad0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTAzNzA2MA==", "url": "https://github.com/eclipse/hono/pull/2142#discussion_r481037060", "bodyText": "No NPE actually thrown if contentType is null.", "author": "calohmn", "createdAt": "2020-09-01T10:27:22Z", "path": "tests/src/test/java/org/eclipse/hono/tests/CrudHttpClient.java", "diffHunk": "@@ -171,19 +166,24 @@ public CrudHttpClient(final Vertx vertx, final HttpClientOptions options) {\n      * @param uri The URI to post to.\n      * @param body The body to post (may be {@code null}).\n      * @param contentType The content type to set in the request (may be {@code null}).\n-     * @param successPredicate A predicate on the HTTP response for determining success.\n-     * @param checkCorsHeaders Whether to set and check CORS headers.\n-     * @return A future that will succeed if the predicate evaluates to {@code true}.\n-     * @throws NullPointerException if URI, content type or predicate are {@code null}.\n+     * @param successPredicates Checks on the HTTP response that need to pass for the request\n+     *                          to be considered successful.\n+     * @return A future indicating the outcome of the request. The future will be completed with the\n+     *         HTTP response if all checks on the response have succeeded.\n+     *         Otherwise the future will be failed with the error produced by the first failing\n+     *         predicate.\n+     * @throws NullPointerException if URI or content type are {@code null}.", "originalCommit": "2579a2e162d6ca290d3d78697b3a1ecb744e0ad0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f047418f544401fa13e0f2c228501c25f8883e5e", "url": "https://github.com/eclipse/hono/commit/f047418f544401fa13e0f2c228501c25f8883e5e", "message": "Further adapt integration tests to vert.x WebClient API\n\nThe standard features of WebClient are now being used for specifying\npredicates on the HTTP response. All operations of the CrudHttpClient\nnow return a Future<HttpResponse<Buffer>> so that all clients can get\naccess to the full response instead of just the headers or buffer\nrespectively.\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-09-01T13:08:53Z", "type": "commit"}, {"oid": "8a9025f16a6c8bbd5c16b8bcd18f3b20013e6779", "url": "https://github.com/eclipse/hono/commit/8a9025f16a6c8bbd5c16b8bcd18f3b20013e6779", "message": "Fix JavaDoc\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-09-01T13:42:47Z", "type": "commit"}, {"oid": "8a9025f16a6c8bbd5c16b8bcd18f3b20013e6779", "url": "https://github.com/eclipse/hono/commit/8a9025f16a6c8bbd5c16b8bcd18f3b20013e6779", "message": "Fix JavaDoc\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>", "committedDate": "2020-09-01T13:42:47Z", "type": "forcePushed"}]}