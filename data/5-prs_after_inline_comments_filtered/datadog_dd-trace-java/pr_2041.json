{"pr_number": 2041, "pr_title": "move TraceProcessor to CoreTracer", "pr_createdAt": "2020-10-29T13:41:04Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/2041", "timeline": [{"oid": "b97eebced6df94e9329ad869c50f46f719a4f63a", "url": "https://github.com/DataDog/dd-trace-java/commit/b97eebced6df94e9329ad869c50f46f719a4f63a", "message": "move trace processor into CoreTracer so that it is applied before sampling and potential metrics collection", "committedDate": "2020-10-29T13:55:29Z", "type": "forcePushed"}, {"oid": "510aca9da43a83b76b9cbd47323409704c6a65cb", "url": "https://github.com/DataDog/dd-trace-java/commit/510aca9da43a83b76b9cbd47323409704c6a65cb", "message": "move trace processor into CoreTracer so that it is applied before sampling and potential metrics collection", "committedDate": "2020-10-29T14:00:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMzMDkyMg==", "url": "https://github.com/DataDog/dd-trace-java/pull/2041#discussion_r514330922", "bodyText": "I forget the expected behavior here, but I think there's some interaction with the agent's obfuscation...", "author": "tylerbenson", "createdAt": "2020-10-29T15:04:34Z", "path": "dd-java-agent/agent-bootstrap/src/main/java/datadog/trace/bootstrap/instrumentation/decorator/DatabaseClientDecorator.java", "diffHunk": "@@ -56,7 +56,7 @@ public AgentSpan onConnection(final AgentSpan span, final CONNECTION connection)\n \n   public AgentSpan onStatement(final AgentSpan span, final CharSequence statement) {\n     assert span != null;\n-    span.setTag(Tags.DB_STATEMENT, statement);\n+    span.setResourceName(statement);", "originalCommit": "510aca9da43a83b76b9cbd47323409704c6a65cb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "469aca4201502cf3da6092ac3bab14f70405846b", "url": "https://github.com/DataDog/dd-trace-java/commit/469aca4201502cf3da6092ac3bab14f70405846b", "message": "move trace processor into CoreTracer so that it is applied before sampling and potential metrics collection", "committedDate": "2020-10-30T08:26:33Z", "type": "commit"}, {"oid": "469aca4201502cf3da6092ac3bab14f70405846b", "url": "https://github.com/DataDog/dd-trace-java/commit/469aca4201502cf3da6092ac3bab14f70405846b", "message": "move trace processor into CoreTracer so that it is applied before sampling and potential metrics collection", "committedDate": "2020-10-30T08:26:33Z", "type": "forcePushed"}]}