{"pr_number": 1242, "pr_title": "Update JMH benchmarks", "pr_createdAt": "2020-02-21T01:32:26Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1242", "timeline": [{"oid": "e1964e526e72edd5b93c5f17524cee3e3db1422b", "url": "https://github.com/DataDog/dd-trace-java/commit/e1964e526e72edd5b93c5f17524cee3e3db1422b", "message": "Update JMH benchmarks\n\nBenchmark is run with `./gradlew :dd-java-agent:benchmark:jmh` -- after updating the absolute paths to the various agents in `ClassRetransformingBenchmark`.  Unfortunately I was unable to have it launch correctly with a relative path.", "committedDate": "2020-02-21T01:30:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjU0NjcyMA==", "url": "https://github.com/DataDog/dd-trace-java/pull/1242#discussion_r382546720", "bodyText": "In case someone wants to fix this in the future, can you specify where the base path was for the old version in a comment", "author": "devinsba", "createdAt": "2020-02-21T12:04:48Z", "path": "dd-java-agent/benchmark/src/jmh/java/datadog/benchmark/ClassRetransformingBenchmark.java", "diffHunk": "@@ -60,54 +28,11 @@ public void testTracedRetransform(final BenchmarkState state) throws Unmodifiabl\n     state.inst.retransformClasses(TracedClass.class);\n   }\n \n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.2.jar\")\n-  public static class WithAgent022 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.4.jar\")\n-  public static class WithAgent024 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.6.jar\")\n-  public static class WithAgent026 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.7.jar\")\n-  public static class WithAgent027 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.8.jar\")\n-  public static class WithAgent028 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.9.jar\")\n-  public static class WithAgent029 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.10.jar\")\n-  public static class WithAgent0210 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.11.jar\")\n-  public static class WithAgent0211 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.2.12.jar\")\n-  public static class WithAgent0212 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.3.0.jar\")\n-  public static class WithAgent030 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.3.1.jar\")\n-  public static class WithAgent031 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.3.2.jar\")\n-  public static class WithAgent032 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.3.3.jar\")\n-  public static class WithAgent033 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.4.0.jar\")\n-  public static class WithAgent040 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.4.1.jar\")\n-  public static class WithAgent041 extends ClassRetransformingBenchmark {}\n-\n-  @Fork(jvmArgsAppend = \"-javaagent:releases/dd-java-agent-0.5.0.jar\")\n-  public static class WithAgent050 extends ClassRetransformingBenchmark {}\n+  @Fork(jvmArgsAppend = \"-javaagent:/path/to/dd-java-agent-master.jar\")", "originalCommit": "e1964e526e72edd5b93c5f17524cee3e3db1422b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}