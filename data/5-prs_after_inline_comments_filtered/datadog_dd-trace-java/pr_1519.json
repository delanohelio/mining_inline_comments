{"pr_number": 1519, "pr_title": "OpenTracing no longer automatically added in `dd-java-agent`. Registers GlobalTracer instance via instrumentation if necessary.", "pr_createdAt": "2020-06-01T21:41:16Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1519", "timeline": [{"oid": "77fe8a3dea096f22ce7cfc269387e451277541a9", "url": "https://github.com/DataDog/dd-trace-java/commit/77fe8a3dea096f22ce7cfc269387e451277541a9", "message": "Fix build", "committedDate": "2020-06-02T14:19:25Z", "type": "forcePushed"}, {"oid": "529bb1dad996a4fd9a32da9e0af59d5a4150a318", "url": "https://github.com/DataDog/dd-trace-java/commit/529bb1dad996a4fd9a32da9e0af59d5a4150a318", "message": "Update dd-trace-ot to use internal api instead of dd-trace-core where possible.", "committedDate": "2020-06-02T17:22:45Z", "type": "commit"}, {"oid": "c5288e126dcea8ae99eb02c8e88b802c5bc1ec2a", "url": "https://github.com/DataDog/dd-trace-java/commit/c5288e126dcea8ae99eb02c8e88b802c5bc1ec2a", "message": "Remove OpenTracing dependency", "committedDate": "2020-06-02T17:22:45Z", "type": "commit"}, {"oid": "b52ec52841b0b37b6bb76dfe663bee988b5541b9", "url": "https://github.com/DataDog/dd-trace-java/commit/b52ec52841b0b37b6bb76dfe663bee988b5541b9", "message": "Add OpenTracing instrumentation for GlobalTracer", "committedDate": "2020-06-02T17:22:45Z", "type": "commit"}, {"oid": "1ea1927f62a5c51908280780fbb672aacf8ff094", "url": "https://github.com/DataDog/dd-trace-java/commit/1ea1927f62a5c51908280780fbb672aacf8ff094", "message": "Fix build", "committedDate": "2020-06-02T17:22:45Z", "type": "commit"}, {"oid": "1ea1927f62a5c51908280780fbb672aacf8ff094", "url": "https://github.com/DataDog/dd-trace-java/commit/1ea1927f62a5c51908280780fbb672aacf8ff094", "message": "Fix build", "committedDate": "2020-06-02T17:22:45Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA2ODA5MQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1519#discussion_r434068091", "bodyText": "I'm not sure this is necessary.  We already test delegation to the bootstrap for DD classes", "author": "randomanderson", "createdAt": "2020-06-02T17:59:48Z", "path": "dd-java-agent/agent-tooling/src/main/java/datadog/trace/agent/tooling/ClassLoaderMatcher.java", "diffHunk": "@@ -86,7 +86,7 @@ private static boolean shouldSkipClass(final ClassLoader loader) {\n      */\n     private static boolean delegatesToBootstrap(final ClassLoader loader) {\n       boolean delegates = true;\n-      if (!loadsExpectedClass(loader, GlobalTracer.class)) {\n+      if (!loadsExpectedClass(loader, Tracer.class)) {", "originalCommit": "1ea1927f62a5c51908280780fbb672aacf8ff094", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDEyNTgzMQ==", "url": "https://github.com/DataDog/dd-trace-java/pull/1519#discussion_r434125831", "bodyText": "yeah, I understand the test is probably no longer necessary.  I just didn't feel it was important to remove.", "author": "tylerbenson", "createdAt": "2020-06-02T19:28:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA2ODA5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDEzOTM2MA==", "url": "https://github.com/DataDog/dd-trace-java/pull/1519#discussion_r434139360", "bodyText": "We can leave it.  One's a bootstrap class, the other is an API class.  There's some value.", "author": "randomanderson", "createdAt": "2020-06-02T19:54:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA2ODA5MQ=="}], "type": "inlineReview"}]}