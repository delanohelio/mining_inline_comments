{"pr_number": 1414, "pr_title": "Add null servlet context check", "pr_createdAt": "2020-04-30T14:33:37Z", "pr_url": "https://github.com/DataDog/dd-trace-java/pull/1414", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA2OTQyNA==", "url": "https://github.com/DataDog/dd-trace-java/pull/1414#discussion_r418069424", "bodyText": "I think the comment is good.  I'm wondering if we should add a test as well.  Even if it is a bit artificial.\nI think we also need to keep expanding our server smoke tests, but that's separate from this PR.", "author": "dougqh", "createdAt": "2020-04-30T14:50:52Z", "path": "dd-java-agent/instrumentation/servlet/request-3/src/main/java/datadog/trace/instrumentation/servlet3/Servlet3Decorator.java", "diffHunk": "@@ -78,6 +78,10 @@ public AgentSpan onRequest(final AgentSpan span, final HttpServletRequest reques\n    */\n   private void onContext(\n       final AgentSpan span, final HttpServletRequest request, final ServletContext context) {\n+    if (context == null) {", "originalCommit": "acba74b13d9046710e0d6e91c6bc8e18417e9e3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM5NDg4Mg==", "url": "https://github.com/DataDog/dd-trace-java/pull/1414#discussion_r420394882", "bodyText": "I've added a test that fails without that change.", "author": "tylerbenson", "createdAt": "2020-05-05T20:45:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA2OTQyNA=="}], "type": "inlineReview"}, {"oid": "0264791594a29c52edfaab5ac5306c83343627d6", "url": "https://github.com/DataDog/dd-trace-java/commit/0264791594a29c52edfaab5ac5306c83343627d6", "message": "Add null servlet context check", "committedDate": "2020-05-05T20:14:49Z", "type": "commit"}, {"oid": "2aad958c4f55c8ffc7e72640721ba1d578c65faf", "url": "https://github.com/DataDog/dd-trace-java/commit/2aad958c4f55c8ffc7e72640721ba1d578c65faf", "message": "Add test...", "committedDate": "2020-05-05T20:43:30Z", "type": "commit"}, {"oid": "2aad958c4f55c8ffc7e72640721ba1d578c65faf", "url": "https://github.com/DataDog/dd-trace-java/commit/2aad958c4f55c8ffc7e72640721ba1d578c65faf", "message": "Add test...", "committedDate": "2020-05-05T20:43:30Z", "type": "forcePushed"}]}