{"pr_number": 1148, "pr_title": "Fix system metrics on J9", "pr_createdAt": "2020-04-20T13:08:22Z", "pr_url": "https://github.com/elastic/apm-agent-java/pull/1148", "timeline": [{"oid": "d34ae003ece7f249d6628b3e16bbd45932339928", "url": "https://github.com/elastic/apm-agent-java/commit/d34ae003ece7f249d6628b3e16bbd45932339928", "message": "Fix system metrics on J9\n\nfixes https://discuss.elastic.co/t/java-apm-agent-not-pushing-cpu-memory-metric-ibm-java-on-websphere-liberty/228064", "committedDate": "2020-04-20T13:08:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM5MDM1OQ==", "url": "https://github.com/elastic/apm-agent-java/pull/1148#discussion_r411390359", "bodyText": "\ud83e\udd26", "author": "eyalkoren", "createdAt": "2020-04-20T13:46:43Z", "path": "apm-agent-core/src/main/java/co/elastic/apm/agent/metrics/builtin/SystemMetrics.java", "diffHunk": "@@ -99,27 +99,21 @@ public void start(ElasticApmTracer tracer) {\n     }\n \n     void bindTo(MetricRegistry metricRegistry) {\n-        metricRegistry.addUnlessNegative(\"system.cpu.total.norm.pct\", Labels.EMPTY, new DoubleSupplier() {\n+        // J9 always returns -1 on the first call", "originalCommit": "d34ae003ece7f249d6628b3e16bbd45932339928", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}