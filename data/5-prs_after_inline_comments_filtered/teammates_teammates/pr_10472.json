{"pr_number": 10472, "pr_title": "[#10470] Add v6 instructor join link support", "pr_createdAt": "2020-07-27T04:20:57Z", "pr_url": "https://github.com/TEAMMATES/teammates/pull/10472", "timeline": [{"oid": "2b89ff77c6c44be1ce283ed12f7d02556c1b720d", "url": "https://github.com/TEAMMATES/teammates/commit/2b89ff77c6c44be1ce283ed12f7d02556c1b720d", "message": "Remove institution validation for v6 join link support", "committedDate": "2020-07-28T03:34:54Z", "type": "forcePushed"}, {"oid": "b17b7e8835c5d3dab0535432c462179f352f27e2", "url": "https://github.com/TEAMMATES/teammates/commit/b17b7e8835c5d3dab0535432c462179f352f27e2", "message": "Add v6 instructor join link support", "committedDate": "2020-07-28T04:16:39Z", "type": "commit"}, {"oid": "b17b7e8835c5d3dab0535432c462179f352f27e2", "url": "https://github.com/TEAMMATES/teammates/commit/b17b7e8835c5d3dab0535432c462179f352f27e2", "message": "Add v6 instructor join link support", "committedDate": "2020-07-28T04:16:39Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTY5MDc1NQ==", "url": "https://github.com/TEAMMATES/teammates/pull/10472#discussion_r461690755", "bodyText": "Not necessary. This entire class will be removed in the first place once V6 is decommissioned.", "author": "wkurniawan07", "createdAt": "2020-07-28T15:54:11Z", "path": "src/main/java/teammates/ui/webapi/action/LegacyUrlMapper.java", "diffHunk": "@@ -31,10 +33,17 @@ public void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOExc\n         switch (uri) {\n         case Const.LegacyURIs.INSTRUCTOR_COURSE_JOIN:\n             key = req.getParameter(Const.ParamsNames.REGKEY);\n-            redirectUrl = Config.getFrontEndAppUrl(Const.WebPageURIs.JOIN_PAGE)\n+            String institute = req.getParameter(Const.ParamsNames.INSTRUCTOR_INSTITUTION);\n+            AppUrl newUrl = Config.getFrontEndAppUrl(Const.WebPageURIs.JOIN_PAGE)\n                     .withRegistrationKey(key)\n-                    .withParam(Const.ParamsNames.ENTITY_TYPE, Const.EntityType.INSTRUCTOR)\n-                    .toString();\n+                    .withParam(Const.ParamsNames.ENTITY_TYPE, Const.EntityType.INSTRUCTOR);\n+            // TODO: Remove the following code block for mac generation once v6 join links stop being supported", "originalCommit": "a9e134d3fc75f388b92601f57855bd43f29c6234", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b17b7e8835c5d3dab0535432c462179f352f27e2", "url": "https://github.com/TEAMMATES/teammates/commit/b17b7e8835c5d3dab0535432c462179f352f27e2", "message": "Add v6 instructor join link support", "committedDate": "2020-07-28T04:16:39Z", "type": "forcePushed"}, {"oid": "ec6b654d651ade021b1ef62fade6b970ebd871bc", "url": "https://github.com/TEAMMATES/teammates/commit/ec6b654d651ade021b1ef62fade6b970ebd871bc", "message": "Merge branch 'master' into 10470-joinLink", "committedDate": "2020-07-28T16:12:14Z", "type": "commit"}]}