{"pr_number": 5062, "pr_title": "Leader Election Metrics 1a: Client Side Wiring", "pr_createdAt": "2020-10-21T09:30:48Z", "pr_url": "https://github.com/palantir/atlasdb/pull/5062", "timeline": [{"oid": "b793264682bb075a7c5a779d5dc334a4302fad95", "url": "https://github.com/palantir/atlasdb/commit/b793264682bb075a7c5a779d5dc334a4302fad95", "message": "Transfer changes from other branches", "committedDate": "2020-10-21T09:27:36Z", "type": "commit"}, {"oid": "ee6bb046be4501552fe35f873a4fade024c877b8", "url": "https://github.com/palantir/atlasdb/commit/ee6bb046be4501552fe35f873a4fade024c877b8", "message": "Pull in the right things", "committedDate": "2020-10-21T14:12:34Z", "type": "commit"}, {"oid": "7d4669f0c72d8fb4a0fad8bc0afb94d414faa88b", "url": "https://github.com/palantir/atlasdb/commit/7d4669f0c72d8fb4a0fad8bc0afb94d414faa88b", "message": "Merge branch 'develop' into le/client-i", "committedDate": "2020-10-21T15:12:01Z", "type": "commit"}, {"oid": "48a3db4d3a5b0bd5f05a87b9d0856c55a8d09738", "url": "https://github.com/palantir/atlasdb/commit/48a3db4d3a5b0bd5f05a87b9d0856c55a8d09738", "message": "rename", "committedDate": "2020-10-21T15:25:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTM4Mzg2MQ==", "url": "https://github.com/palantir/atlasdb/pull/5062#discussion_r509383861", "bodyText": "drive-by", "author": "Jolyon-S", "createdAt": "2020-10-21T15:25:37Z", "path": "lock-api/src/main/java/com/palantir/lock/client/RemoteTimelockServiceAdapter.java", "diffHunk": "@@ -59,17 +57,6 @@ public static RemoteTimelockServiceAdapter create(\n         return new RemoteTimelockServiceAdapter(rpcClient, conjureClient, lockWatchEventCache);\n     }\n \n-    public static RemoteTimelockServiceAdapter create(", "originalCommit": "48a3db4d3a5b0bd5f05a87b9d0856c55a8d09738", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDA0NDE2OQ==", "url": "https://github.com/palantir/atlasdb/pull/5062#discussion_r510044169", "bodyText": "This will have a number of downstream breaks in the internal backup product and internal timelock migration CLI tools. Overall impact is limited, but we need to ensure these get fixed.", "author": "jeremyk-91", "createdAt": "2020-10-22T10:13:49Z", "path": "lock-api/src/main/java/com/palantir/lock/client/NamespacedConjureTimelockService.java", "diffHunk": "@@ -24,54 +24,27 @@\n import com.palantir.atlasdb.timelock.api.ConjureRefreshLocksResponse;\n import com.palantir.atlasdb.timelock.api.ConjureStartTransactionsRequest;\n import com.palantir.atlasdb.timelock.api.ConjureStartTransactionsResponse;\n-import com.palantir.atlasdb.timelock.api.ConjureTimelockService;\n import com.palantir.atlasdb.timelock.api.ConjureUnlockRequest;\n import com.palantir.atlasdb.timelock.api.ConjureUnlockResponse;\n import com.palantir.atlasdb.timelock.api.ConjureWaitForLocksResponse;\n import com.palantir.atlasdb.timelock.api.GetCommitTimestampsRequest;\n import com.palantir.atlasdb.timelock.api.GetCommitTimestampsResponse;\n import com.palantir.lock.v2.LeaderTime;\n-import com.palantir.tokens.auth.AuthHeader;\n \n-public class NamespacedConjureTimelockService {\n-    private static final AuthHeader AUTH_HEADER = AuthHeader.valueOf(\"Bearer omitted\");\n-    private final String namespace;\n-    private final ConjureTimelockService conjureTimelockService;\n+public interface NamespacedConjureTimelockService {\n+    ConjureUnlockResponse unlock(ConjureUnlockRequest request);\n \n-    public NamespacedConjureTimelockService(ConjureTimelockService conjureTimelockService, String namespace) {", "originalCommit": "48a3db4d3a5b0bd5f05a87b9d0856c55a8d09738", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}