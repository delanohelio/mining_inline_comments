{"pr_number": 4600, "pr_title": "Make KeyValueServiceRuntimeConfig jackson discoverable", "pr_createdAt": "2020-02-25T14:29:03Z", "pr_url": "https://github.com/palantir/atlasdb/pull/4600", "timeline": [{"oid": "f2cc3b072ad246324652bb5f567de80bfb039b98", "url": "https://github.com/palantir/atlasdb/commit/f2cc3b072ad246324652bb5f567de80bfb039b98", "message": "Make KeyValueServiceRuntimeConfig jackson discoverable", "committedDate": "2020-02-25T13:43:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkxMzcxOA==", "url": "https://github.com/palantir/atlasdb/pull/4600#discussion_r383913718", "bodyText": "I think you want to still use the old form for this test since that's the deprecated version.\nI would also change all the tests to deserialise to KeyValueServiceRuntimeConfig.class instead of the semi-concrete CassandraKeyValueServiceRuntimeConfig test to ensure we're doing the right thing everywhere", "author": "felixdesouza", "createdAt": "2020-02-25T14:30:58Z", "path": "atlasdb-cassandra/src/test/java/com/palantir/atlasdb/cassandra/CassandraKeyValueServiceConfigsTest.java", "diffHunk": "@@ -115,8 +116,8 @@ public void canDeserializeRuntimeConfig() throws IOException {\n \n     @Test\n     public void canParseRuntimeDeprecatedConfigType() throws IOException {\n-        CassandraKeyValueServiceRuntimeConfig config =\n-                AtlasDbConfigs.OBJECT_MAPPER.readValue(\"type: CassandraKeyValueServiceRuntimeConfig\",\n-                        CassandraKeyValueServiceRuntimeConfig.class);\n+        KeyValueServiceRuntimeConfig config =", "originalCommit": "f2cc3b072ad246324652bb5f567de80bfb039b98", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07f0f1649154716c22c4834364d99437ae3e7a01", "url": "https://github.com/palantir/atlasdb/commit/07f0f1649154716c22c4834364d99437ae3e7a01", "message": "Address comments", "committedDate": "2020-02-25T14:49:08Z", "type": "commit"}, {"oid": "5fa3a0a9a9f36c7c4b7a27db6601435898fcc47d", "url": "https://github.com/palantir/atlasdb/commit/5fa3a0a9a9f36c7c4b7a27db6601435898fcc47d", "message": "Add generated changelog entries", "committedDate": "2020-02-25T16:43:18Z", "type": "commit"}, {"oid": "7961ce47bf960ed55864a85d90cb1da3d9544e07", "url": "https://github.com/palantir/atlasdb/commit/7961ce47bf960ed55864a85d90cb1da3d9544e07", "message": "Add generated changelog entries", "committedDate": "2020-02-25T16:43:18Z", "type": "commit"}, {"oid": "2ad823c4832dcd1c4019086eca29bc66ee617a92", "url": "https://github.com/palantir/atlasdb/commit/2ad823c4832dcd1c4019086eca29bc66ee617a92", "message": "Add generated changelog entries", "committedDate": "2020-02-25T16:43:18Z", "type": "commit"}, {"oid": "3fd88a3637279f1da0ee8241d62fd32be1aff367", "url": "https://github.com/palantir/atlasdb/commit/3fd88a3637279f1da0ee8241d62fd32be1aff367", "message": "Add generated changelog entries", "committedDate": "2020-02-25T16:43:18Z", "type": "commit"}, {"oid": "2dd377c2ed4a03f8bcf80aa462f1eade052fc334", "url": "https://github.com/palantir/atlasdb/commit/2dd377c2ed4a03f8bcf80aa462f1eade052fc334", "message": "Add generated changelog entries", "committedDate": "2020-02-25T16:43:18Z", "type": "commit"}, {"oid": "793fb0f241714830476ee428865c35d1bad309b2", "url": "https://github.com/palantir/atlasdb/commit/793fb0f241714830476ee428865c35d1bad309b2", "message": "Remove invalid test modif", "committedDate": "2020-02-25T16:43:24Z", "type": "commit"}, {"oid": "fd9f50907fa3de85fa1c657793ac4e8a42e88c1f", "url": "https://github.com/palantir/atlasdb/commit/fd9f50907fa3de85fa1c657793ac4e8a42e88c1f", "message": "Add generated changelog entries", "committedDate": "2020-02-25T16:43:18Z", "type": "commit"}]}