{"pr_number": 6368, "pr_title": "Fix various Dark theme issues", "pr_createdAt": "2020-04-28T06:45:30Z", "pr_url": "https://github.com/JabRef/jabref/pull/6368", "timeline": [{"oid": "c8012b1f9e089b4fa3bc21b61ae33c0c3acf3a34", "url": "https://github.com/JabRef/jabref/commit/c8012b1f9e089b4fa3bc21b61ae33c0c3acf3a34", "message": "Fix various dark theme issues", "committedDate": "2020-04-28T06:33:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MzY0Nw==", "url": "https://github.com/JabRef/jabref/pull/6368#discussion_r416473647", "bodyText": "We are trying to remove the Globals class (in the long term). To facilitate this, could you please extract the themeLoader and preferences, and initialize them by passing the global objects as dependencies through the constructor (i.e. move Globals from this class to the caller)", "author": "tobiasdiez", "createdAt": "2020-04-28T09:37:55Z", "path": "src/main/java/org/jabref/gui/JabRefDialogService.java", "diffHunk": "@@ -126,6 +127,7 @@ public static String shortenDialogMessage(String dialogMessage) {\n         choiceDialog.setHeaderText(title);\n         choiceDialog.setTitle(title);\n         choiceDialog.setContentText(content);\n+        Globals.getThemeLoader().installCss(choiceDialog.getDialogPane().getScene(), Globals.prefs);", "originalCommit": "c8012b1f9e089b4fa3bc21b61ae33c0c3acf3a34", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjUyNzczMw==", "url": "https://github.com/JabRef/jabref/pull/6368#discussion_r416527733", "bodyText": "I have refactored the code but I m not sure if I've done it correctly", "author": "MootezSaaD", "createdAt": "2020-04-28T11:09:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ3MzY0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ5ODI1Mg==", "url": "https://github.com/JabRef/jabref/pull/6368#discussion_r416498252", "bodyText": "Does it work, if you move this line inside the createDialog? Then you could reduce some code duplication", "author": "Siedlerchr", "createdAt": "2020-04-28T10:17:33Z", "path": "src/main/java/org/jabref/gui/JabRefDialogService.java", "diffHunk": "@@ -148,12 +150,14 @@ public static String shortenDialogMessage(String dialogMessage) {\n     @Override\n     public void showInformationDialogAndWait(String title, String content) {\n         FXDialog alert = createDialog(AlertType.INFORMATION, title, content);\n+        Globals.getThemeLoader().installCss(alert.getDialogPane().getScene(), Globals.prefs);", "originalCommit": "c8012b1f9e089b4fa3bc21b61ae33c0c3acf3a34", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjUyNzQ4Mg==", "url": "https://github.com/JabRef/jabref/pull/6368#discussion_r416527482", "bodyText": "Yes! didn't really pay attention.", "author": "MootezSaaD", "createdAt": "2020-04-28T11:09:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjQ5ODI1Mg=="}], "type": "inlineReview"}, {"oid": "e3bb301132ec02cb8f35373eabcc5a5f140ba35a", "url": "https://github.com/JabRef/jabref/commit/e3bb301132ec02cb8f35373eabcc5a5f140ba35a", "message": "Reduce code duplication and pass the global objects as dependencies", "committedDate": "2020-04-28T11:08:06Z", "type": "commit"}]}