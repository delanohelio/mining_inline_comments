{"pr_number": 825, "pr_title": "Added configuration for Jetty thread pool and queue size", "pr_createdAt": "2020-09-08T06:33:50Z", "pr_url": "https://github.com/senx/warp10-platform/pull/825", "timeline": [{"oid": "542d25114e61a7317d719f844bbb2b5f2f18a07b", "url": "https://github.com/senx/warp10-platform/commit/542d25114e61a7317d719f844bbb2b5f2f18a07b", "message": "Added configuration for Jetty thread pool and queue size in egress/standalone", "committedDate": "2020-09-08T06:31:55Z", "type": "commit"}, {"oid": "754d59bb73bb64ceed5cc84a35f2a2bb24c7829b", "url": "https://github.com/senx/warp10-platform/commit/754d59bb73bb64ceed5cc84a35f2a2bb24c7829b", "message": "Fixed comment", "committedDate": "2020-09-08T07:28:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcxNTI2MA==", "url": "https://github.com/senx/warp10-platform/pull/825#discussion_r484715260", "bodyText": "Remove Server at the start of the line and remove the following line.", "author": "ftence", "createdAt": "2020-09-08T07:41:47Z", "path": "warp10/src/main/java/io/warp10/continuum/egress/Egress.java", "diffHunk": "@@ -103,6 +106,16 @@ public Egress(KeyStore keystore, Properties props, boolean fetcher) throws Excep\n \n     List<Connector> connectors = new ArrayList<Connector>();\n     \n+    int maxThreads = Integer.parseInt(props.getProperty(Configuration.EGRESS_JETTY_THREADPOOL, DEFAULT_THREADPOOL_SIZE));\n+    BlockingArrayQueue<Runnable> queue = null;\n+    \n+    if (props.containsKey(Configuration.EGRESS_JETTY_MAXQUEUESIZE)) {\n+      int queuesize = Integer.parseInt(props.getProperty(Configuration.EGRESS_JETTY_MAXQUEUESIZE));\n+      queue = new BlockingArrayQueue<Runnable>(queuesize);\n+    }\n+    \n+    Server server = new Server(new QueuedThreadPool(maxThreads, 8, 60000, queue));", "originalCommit": "754d59bb73bb64ceed5cc84a35f2a2bb24c7829b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcxNTk2Mw==", "url": "https://github.com/senx/warp10-platform/pull/825#discussion_r484715963", "bodyText": "Add DEFAULT to the name to make it clear it is a default value.", "author": "ftence", "createdAt": "2020-09-08T07:43:07Z", "path": "warp10/src/main/java/io/warp10/standalone/Warp.java", "diffHunk": "@@ -72,6 +74,8 @@\n \n public class Warp extends WarpDist implements Runnable {\n \n+  private static final String STANDALONE_THREADPOOL_SIZE = \"200\";", "originalCommit": "754d59bb73bb64ceed5cc84a35f2a2bb24c7829b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cfb54b9fd802bc42bc58fced78bbea9cce20fc9d", "url": "https://github.com/senx/warp10-platform/commit/cfb54b9fd802bc42bc58fced78bbea9cce20fc9d", "message": "Addressed PR comments", "committedDate": "2020-09-08T07:56:44Z", "type": "commit"}, {"oid": "7e643b36eea11d8a0214af322dda6723a547e1aa", "url": "https://github.com/senx/warp10-platform/commit/7e643b36eea11d8a0214af322dda6723a547e1aa", "message": "Added comment on pool size", "committedDate": "2020-09-08T08:36:15Z", "type": "commit"}, {"oid": "71e4e2d5c8895d091bd4f858f4d497c4e45e6dae", "url": "https://github.com/senx/warp10-platform/commit/71e4e2d5c8895d091bd4f858f4d497c4e45e6dae", "message": "Fixed logger", "committedDate": "2020-09-08T08:56:00Z", "type": "commit"}]}