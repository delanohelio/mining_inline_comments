{"pr_number": 970, "pr_title": "refactor(samples): Fix and refactor samples", "pr_createdAt": "2020-10-13T22:32:35Z", "pr_url": "https://github.com/Azure/azure-iot-sdk-java/pull/970", "timeline": [{"oid": "b80d4074850a03bee15bebe6339afb0f3fb5a104", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/b80d4074850a03bee15bebe6339afb0f3fb5a104", "message": "fix transport client sample + refactor some changes", "committedDate": "2020-10-13T22:28:18Z", "type": "commit"}, {"oid": "779dad85b23346d143f8010ecb387164f2032eec", "url": "https://github.com/Azure/azure-iot-sdk-java/commit/779dad85b23346d143f8010ecb387164f2032eec", "message": "Merge branch 'master' into bikamani/samplesValidation", "committedDate": "2020-10-13T22:29:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI5NjU0NA==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/970#discussion_r504296544", "bodyText": "setContentType is deprecated", "author": "bikamani", "createdAt": "2020-10-13T22:33:29Z", "path": "device/iot-device-samples/send-batch-events/src/main/java/samples/com/microsoft/azure/sdk/iot/SendBatchEvents.java", "diffHunk": "@@ -200,7 +200,7 @@ else if (protocolStr.equals(\"mqtt_ws\"))\n             String msgStr = \"{\\\"deviceId\\\":\\\"\" + deviceId +\"\\\",\\\"messageId\\\":\" + i + \",\\\"temperature\\\":\"+ temperature +\",\\\"humidity\\\":\"+ humidity +\"}\";\n \n                 Message msg = new Message(msgStr);\n-                msg.setContentType(\"application/json\");\n+                msg.setContentTypeFinal(\"application/json\");", "originalCommit": "779dad85b23346d143f8010ecb387164f2032eec", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI5NjgyNg==", "url": "https://github.com/Azure/azure-iot-sdk-java/pull/970#discussion_r504296826", "bodyText": "was resulting in npe since msg -> connection string is null", "author": "bikamani", "createdAt": "2020-10-13T22:34:18Z", "path": "device/iot-device-samples/transportclient-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/TransportClientSample.java", "diffHunk": "@@ -66,7 +66,7 @@ public IotHubMessageResult execute(Message msg,\n         {\n             Counter counter = (Counter) context;\n             System.out.println(\n-                    \"Device Client \" + msg.getIotHubConnectionString().getDeviceId() + \" received message \" + counter.toString()\n+                    \" received message \" + counter.toString()", "originalCommit": "779dad85b23346d143f8010ecb387164f2032eec", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}