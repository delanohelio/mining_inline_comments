{"pr_number": 10314, "pr_title": "Add config and header support for confluent schema registry. ", "pr_createdAt": "2020-08-24T11:26:29Z", "pr_url": "https://github.com/apache/druid/pull/10314", "timeline": [{"oid": "56472ed2ca070ada3400e473ddaaf0fe96799446", "url": "https://github.com/apache/druid/commit/56472ed2ca070ada3400e473ddaaf0fe96799446", "message": "Add config and header support for confluent schema registry. (porting code from https://github.com/apache/druid/pull/9096)", "committedDate": "2020-08-24T14:20:48Z", "type": "commit"}, {"oid": "56472ed2ca070ada3400e473ddaaf0fe96799446", "url": "https://github.com/apache/druid/commit/56472ed2ca070ada3400e473ddaaf0fe96799446", "message": "Add config and header support for confluent schema registry. (porting code from https://github.com/apache/druid/pull/9096)", "committedDate": "2020-08-24T14:20:48Z", "type": "forcePushed"}, {"oid": "bdf97f6928ae48accc520448cdb72f7d778897d5", "url": "https://github.com/apache/druid/commit/bdf97f6928ae48accc520448cdb72f7d778897d5", "message": "Add Eclipse Public License 2.0 to license check", "committedDate": "2020-08-24T18:13:04Z", "type": "commit"}, {"oid": "bdf97f6928ae48accc520448cdb72f7d778897d5", "url": "https://github.com/apache/druid/commit/bdf97f6928ae48accc520448cdb72f7d778897d5", "message": "Add Eclipse Public License 2.0 to license check", "committedDate": "2020-08-24T18:13:04Z", "type": "forcePushed"}, {"oid": "14887008fd107f1e72b28b2592bb87641cf74749", "url": "https://github.com/apache/druid/commit/14887008fd107f1e72b28b2592bb87641cf74749", "message": "Update licenses.yaml, revert changes to check-licenses.py and dependencies for integration-tests", "committedDate": "2020-08-26T08:21:23Z", "type": "commit"}, {"oid": "14887008fd107f1e72b28b2592bb87641cf74749", "url": "https://github.com/apache/druid/commit/14887008fd107f1e72b28b2592bb87641cf74749", "message": "Update licenses.yaml, revert changes to check-licenses.py and dependencies for integration-tests", "committedDate": "2020-08-26T08:21:23Z", "type": "forcePushed"}, {"oid": "444a972469a6a3403e488cb1c27a248236ec5bf9", "url": "https://github.com/apache/druid/commit/444a972469a6a3403e488cb1c27a248236ec5bf9", "message": "Merge branch 'master' into Druid-8806", "committedDate": "2020-08-26T15:47:15Z", "type": "commit"}, {"oid": "444a972469a6a3403e488cb1c27a248236ec5bf9", "url": "https://github.com/apache/druid/commit/444a972469a6a3403e488cb1c27a248236ec5bf9", "message": "Merge branch 'master' into Druid-8806", "committedDate": "2020-08-26T15:47:15Z", "type": "forcePushed"}, {"oid": "218fd4ddebf26d558345d48dea58a185996c101d", "url": "https://github.com/apache/druid/commit/218fd4ddebf26d558345d48dea58a185996c101d", "message": "Merge branch 'master' into Druid-8806", "committedDate": "2020-09-02T14:41:08Z", "type": "commit"}, {"oid": "900c97d3f1246856f0d71a883c0c3f5d48778a92", "url": "https://github.com/apache/druid/commit/900c97d3f1246856f0d71a883c0c3f5d48778a92", "message": "Merge branch 'master' into Druid-8806", "committedDate": "2020-09-07T07:06:29Z", "type": "commit"}, {"oid": "ad7c7b0d18c47fd7599bf3da3fd9335c4c593c8b", "url": "https://github.com/apache/druid/commit/ad7c7b0d18c47fd7599bf3da3fd9335c4c593c8b", "message": "Merge branch 'master' into Druid-8806", "committedDate": "2020-09-28T11:26:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzgxNzc4MA==", "url": "https://github.com/apache/druid/pull/10314#discussion_r533817780", "bodyText": "it seems like this method is deprecated as well, but it doesn't really seem like there is a better replacement since the underlying method is doing this\n    ParsedSchema schema = this.getSchemaById(id);\n    return schema instanceof AvroSchema ? ((AvroSchema)schema).rawSchema() : null;", "author": "clintropolis", "createdAt": "2020-12-02T00:41:19Z", "path": "extensions-core/avro-extensions/src/main/java/org/apache/druid/data/input/avro/SchemaRegistryBasedAvroBytesDecoder.java", "diffHunk": "@@ -63,7 +73,7 @@ public GenericRecord parse(ByteBuffer bytes)\n       int id = bytes.getInt(); // extract schema registry id\n       int length = bytes.limit() - 1 - 4;\n       int offset = bytes.position() + bytes.arrayOffset();\n-      Schema schema = registry.getByID(id);\n+      Schema schema = registry.getById(id);", "originalCommit": "ad7c7b0d18c47fd7599bf3da3fd9335c4c593c8b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzY1MDY3Mw==", "url": "https://github.com/apache/druid/pull/10314#discussion_r583650673", "bodyText": "Updated to use getSchemaById, which is anyway overridden by the CachedSchemaRegistryClient implementation that is being used here.\nEDIT: actually just used that piece of code, it makes more sense I think, in case getById() gets changed in the future", "author": "spinatelli", "createdAt": "2021-02-26T13:50:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzgxNzc4MA=="}], "type": "inlineReview"}, {"oid": "6d4ccbd63921fbf29f2b607bcfb52a18031ea8aa", "url": "https://github.com/apache/druid/commit/6d4ccbd63921fbf29f2b607bcfb52a18031ea8aa", "message": "Merge remote-tracking branch 'upstream/master' into Druid-8806", "committedDate": "2021-02-26T11:23:52Z", "type": "commit"}, {"oid": "68cbd0a0f6da6e1b760e9f7263d88d58724a749b", "url": "https://github.com/apache/druid/commit/68cbd0a0f6da6e1b760e9f7263d88d58724a749b", "message": "Add spelling exception and remove unused dependency", "committedDate": "2021-02-26T13:11:11Z", "type": "commit"}, {"oid": "a29f73ce4a5ba68ee1cc6d6498788a28cc2b8443", "url": "https://github.com/apache/druid/commit/a29f73ce4a5ba68ee1cc6d6498788a28cc2b8443", "message": "Use non-deprecated getSchemaById() and remove duplicated license entry", "committedDate": "2021-02-26T14:04:34Z", "type": "commit"}, {"oid": "2925492a7d55c7bb1ade4c56145727fc8584fd9c", "url": "https://github.com/apache/druid/commit/2925492a7d55c7bb1ade4c56145727fc8584fd9c", "message": "Update docs/ingestion/data-formats.md\n\nCo-authored-by: Clint Wylie <cjwylie@gmail.com>", "committedDate": "2021-02-26T14:05:06Z", "type": "commit"}, {"oid": "2925492a7d55c7bb1ade4c56145727fc8584fd9c", "url": "https://github.com/apache/druid/commit/2925492a7d55c7bb1ade4c56145727fc8584fd9c", "message": "Update docs/ingestion/data-formats.md\n\nCo-authored-by: Clint Wylie <cjwylie@gmail.com>", "committedDate": "2021-02-26T14:05:06Z", "type": "forcePushed"}, {"oid": "26bffa3f2ec8bfba4038e64522f017abfec8bea5", "url": "https://github.com/apache/druid/commit/26bffa3f2ec8bfba4038e64522f017abfec8bea5", "message": "Added check for schema being null, as per Confluent code", "committedDate": "2021-02-26T14:25:36Z", "type": "commit"}, {"oid": "a4cbfe2d778797aa849a2109cabc96d14cf8bfe7", "url": "https://github.com/apache/druid/commit/a4cbfe2d778797aa849a2109cabc96d14cf8bfe7", "message": "Missing imports and whitespace", "committedDate": "2021-02-26T17:08:44Z", "type": "commit"}, {"oid": "f77bc36675737459a425efc934e693af42295fee", "url": "https://github.com/apache/druid/commit/f77bc36675737459a425efc934e693af42295fee", "message": "Updated unit tests with AvroSchema", "committedDate": "2021-02-27T18:11:29Z", "type": "commit"}]}