{"pr_number": 9637, "pr_title": "druid-pac4j: add ability to use custom ssl trust store while talking to auth  server", "pr_createdAt": "2020-04-07T07:51:19Z", "pr_url": "https://github.com/apache/druid/pull/9637", "timeline": [{"oid": "fec751e20ca9befd5ddd6f330207725023ccdf8d", "url": "https://github.com/apache/druid/commit/fec751e20ca9befd5ddd6f330207725023ccdf8d", "message": "druid-pac4j: add ability for custom ssl trust store for talking to auth\nserver", "committedDate": "2020-04-08T18:03:38Z", "type": "commit"}, {"oid": "fec751e20ca9befd5ddd6f330207725023ccdf8d", "url": "https://github.com/apache/druid/commit/fec751e20ca9befd5ddd6f330207725023ccdf8d", "message": "druid-pac4j: add ability for custom ssl trust store for talking to auth\nserver", "committedDate": "2020-04-08T18:03:38Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk2NzQwMw==", "url": "https://github.com/apache/druid/pull/9637#discussion_r406967403", "bodyText": "I think the original class in the comment should be com.nimbusds.jose.util.DefaultResourceRetriever.", "author": "jon-wei", "createdAt": "2020-04-10T22:23:27Z", "path": "extensions-core/druid-pac4j/src/main/java/org/apache/druid/security/pac4j/CustomSSLResourceRetriever.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.security.pac4j;\n+\n+\n+import com.google.common.primitives.Ints;\n+import com.nimbusds.jose.util.DefaultResourceRetriever;\n+\n+import javax.net.ssl.HttpsURLConnection;\n+import javax.net.ssl.SSLSocketFactory;\n+import java.io.IOException;\n+import java.net.HttpURLConnection;\n+import java.net.URL;\n+\n+\n+/**\n+ * This class exists only to enable use of custom SSLSocketFactory on top of builtin class. This could be removed\n+ * when same functionality has been added to original class com.nimbusds.jose.util.CustomSSLResourceRetriever.", "originalCommit": "fec751e20ca9befd5ddd6f330207725023ccdf8d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3MTM4Mw==", "url": "https://github.com/apache/druid/pull/9637#discussion_r406971383", "bodyText": "duh! :)\nInitially CustomSSLResourceRetriever was named DefaultResourceRetriever ... findbugs did  not like that I was overriding a class of same name, so I did a \"Refactor  -> Rename\"  in IDE which, inadvertently, changed that in comment too.\nupdated.", "author": "himanshug", "createdAt": "2020-04-10T22:39:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk2NzQwMw=="}], "type": "inlineReview"}, {"oid": "57fa796dfb2f0e881bb962cb739c0495079d4f16", "url": "https://github.com/apache/druid/commit/57fa796dfb2f0e881bb962cb739c0495079d4f16", "message": "fix nimbusds DefaultResourceRetriever name in comment", "committedDate": "2020-04-10T22:37:45Z", "type": "commit"}]}