{"pr_number": 1786, "pr_title": "Adds support for using a single configuration file to specify fedora \u2026", "pr_createdAt": "2020-11-04T00:50:24Z", "pr_url": "https://github.com/fcrepo/fcrepo/pull/1786", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAxOTIxOQ==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518019219", "bodyText": "These variables are getting confused. Some of them are property names and some of them are default property values. They should be visually separate in the file.", "author": "pwinckles", "createdAt": "2020-11-05T12:38:18Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -35,20 +36,54 @@\n  * @since 6.0.0\n  */\n @Configuration\n+@PropertySource (value = \"file:${\" + FedoraPropsConfig.FCREPO_CONFIG_FILE + \"}\", ignoreResourceNotFound = true)\n public class FedoraPropsConfig {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n \n+    public static final String FCREPO_CONFIG_FILE = \"fcrepo.config-file\";\n     public static final String FCREPO_HOME = \"fcrepo.home\";\n-\n+    public static final String FCREPO_JMS_HOST = \"fcrepo.jms.host\";\n+    public static final String FCREPO_DYNAMIC_JMS_PORT = \"fcrepo.dynamic.jms.port\";\n+    public static final String FCREPO_DYNAMIC_STOMP_PORT = \"fcrepo.dynamic.stomp.port\";\n+    public static final String FCREPO_ACTIVEMQ_CONFIGURATION = \"fcrepo.activemq.configuration\";\n+    public static final String FCREPO_NAMESPACE_REGISTRY = \"fcrepo.namespace.registry\";\n+    public static final String FCREPO_EXTERNAL_CONTENT_ALLOWED = \"fcrepo.external.content.allowed\";\n     private static final String DATA_DIR = \"data\";\n+    private static final String ACTIVE_MQ_DIR = \"ActiveMQ/kahadb\";\n+    private static final String FCREPO_ACTIVEMQ_DIRECTORY = \"fcrepo.activemq.directory\";", "originalCommit": "f823d02c9447a34fcc75deba971edb98896b0ea3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMyMzczOA==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518323738", "bodyText": "I will change that up.", "author": "dbernstein", "createdAt": "2020-11-05T19:49:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAxOTIxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE1MDY3NA==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518150674", "bodyText": "For consistency, can we rename this property to not include a -. Maybe fcrepo.config.file or fcrepo.config or fcrepo.config.location... or something else?", "author": "awoods", "createdAt": "2020-11-05T15:42:20Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -35,20 +36,54 @@\n  * @since 6.0.0\n  */\n @Configuration\n+@PropertySource (value = \"file:${\" + FedoraPropsConfig.FCREPO_CONFIG_FILE + \"}\", ignoreResourceNotFound = true)\n public class FedoraPropsConfig {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n \n+    public static final String FCREPO_CONFIG_FILE = \"fcrepo.config-file\";", "originalCommit": "f823d02c9447a34fcc75deba971edb98896b0ea3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMyMzkzNw==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518323937", "bodyText": "sure - no problem.", "author": "dbernstein", "createdAt": "2020-11-05T19:49:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE1MDY3NA=="}], "type": "inlineReview"}, {"oid": "44d889cdfd7af9d12a6c39f637eceffafc0223a1", "url": "https://github.com/fcrepo/fcrepo/commit/44d889cdfd7af9d12a6c39f637eceffafc0223a1", "message": "Adds support for using a single configuration file ( -Dfcrepo.config-file=/path/to/file.properties )\nto specify fedora properties as an alternative to command-line properties.\n\nResolves: https://jira.lyrasis.org/browse/FCREPO-3504", "committedDate": "2020-11-05T21:20:51Z", "type": "commit"}, {"oid": "4a553bd74fc61bb30ceee3f37c918fcc57fb69c4", "url": "https://github.com/fcrepo/fcrepo/commit/4a553bd74fc61bb30ceee3f37c918fcc57fb69c4", "message": "Changes  the config file parameter name to fcrepo.config.file", "committedDate": "2020-11-05T21:20:52Z", "type": "commit"}, {"oid": "405c6b31cd85cf4f49120ea164ed009a352f6852", "url": "https://github.com/fcrepo/fcrepo/commit/405c6b31cd85cf4f49120ea164ed009a352f6852", "message": "Reorganizes static declarations for clarity.", "committedDate": "2020-11-05T21:20:52Z", "type": "commit"}, {"oid": "6c6e8686899e845efacf6f524f6ba2c16bab0ab9", "url": "https://github.com/fcrepo/fcrepo/commit/6c6e8686899e845efacf6f524f6ba2c16bab0ab9", "message": "Adds a default properties path (<fcrepo.home>/config/fcrepo.properties) so user\nis not required to user a -Dfcrepo.config.file parameter to load a property override file.", "committedDate": "2020-11-05T23:00:12Z", "type": "commit"}, {"oid": "959cc8a973a493c7b00170272324680e32791e86", "url": "https://github.com/fcrepo/fcrepo/commit/959cc8a973a493c7b00170272324680e32791e86", "message": "Consolidates remaining properties outside of property file control\nwith the exception of fcrepo.persistence.defaultDigestAlgorithm\nwhich will require some refactoring to fix.", "committedDate": "2020-11-06T18:09:15Z", "type": "commit"}, {"oid": "959cc8a973a493c7b00170272324680e32791e86", "url": "https://github.com/fcrepo/fcrepo/commit/959cc8a973a493c7b00170272324680e32791e86", "message": "Consolidates remaining properties outside of property file control\nwith the exception of fcrepo.persistence.defaultDigestAlgorithm\nwhich will require some refactoring to fix.", "committedDate": "2020-11-06T18:09:15Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODkzODIyNQ==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518938225", "bodyText": "Maybe remove the redundant DEFAULT, to:\nDEFAULT_FCREPO_CONFIG_FILE_PROP_SOURCE", "author": "awoods", "createdAt": "2020-11-06T18:45:49Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,", "originalCommit": "959cc8a973a493c7b00170272324680e32791e86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODkzOTQ4NA==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518939484", "bodyText": "It may be more clear to change these both to reference BasePropsConfig instead of FedoraPropsConfig.", "author": "awoods", "createdAt": "2020-11-06T18:48:22Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,", "originalCommit": "959cc8a973a493c7b00170272324680e32791e86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MDcxNg==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518940716", "bodyText": "FedoraPropsConfig.FCREPO_CONFIG_FILE should probably be migrated here, to BasePropsConfig.java.", "author": "awoods", "createdAt": "2020-11-06T18:50:47Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,\n+                ignoreResourceNotFound = true),\n+        @PropertySource(value = FedoraPropsConfig.FCREPO_CONFIG_FILE_PROP_SOURCE, ignoreResourceNotFound = true)\n+})\n+abstract class BasePropsConfig {\n+\n+    public static final String DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE =\n+            \"file:fcrepo-home/config/fcrepo.properties\";\n+    public static final String FCREPO_CONFIG_FILE_PROP_SOURCE = \"file:${\" + FedoraPropsConfig.FCREPO_CONFIG_FILE + \"}\";", "originalCommit": "959cc8a973a493c7b00170272324680e32791e86", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518942518", "bodyText": "It would make sense to expect that the fcrepo.properties file would be used regardless of where \"fcrepo home\" is configured. The way this is written, the default file is only found if the user defines \"fcrepo home\" as existing in the $cwd and named as fcrepo-home.", "author": "awoods", "createdAt": "2020-11-06T18:54:17Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,\n+                ignoreResourceNotFound = true),\n+        @PropertySource(value = FedoraPropsConfig.FCREPO_CONFIG_FILE_PROP_SOURCE, ignoreResourceNotFound = true)\n+})\n+abstract class BasePropsConfig {\n+\n+    public static final String DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE =\n+            \"file:fcrepo-home/config/fcrepo.properties\";", "originalCommit": "959cc8a973a493c7b00170272324680e32791e86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk3MzE3MQ==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518973171", "bodyText": "The idea here is that if the user fires up fedora without any configuration file,  fcrepo will create /fcrepo-home.  Then the decide they want to override some props so they create  /fcrepo-home/config/fcrepo.properties.\nNo need to change any command-line args.\nIf they decide they want fcrepo.home somewhere else they can use fcrepo.config.file and point to their new config file which contains a definition  fcrepo.home.   Even if they leave /fcrepo-home/config/fcrepo.properties, any properties defined in the new prop file will override those in /fcrepo-home/config/fcrepo.properties.", "author": "dbernstein", "createdAt": "2020-11-06T19:58:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk3NTM1Ng==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518975356", "bodyText": "I believe there is a problem of a circular dependency. We need to know where to look for the default file.  But the location of the default file depends on the value of fcrepo.home which may be defined in the property file.", "author": "dbernstein", "createdAt": "2020-11-06T20:03:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk4OTE0NA==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518989144", "bodyText": "When you say:\n\nThe idea here is that if the user fires up fedora without any configuration file, fcrepo will create /fcrepo-home\n\n..you are referring to \"firing up\" Fedora with either the one-click or jetty:run, no? In both cases, those Fedora's are strictly for short-term testing. Is there a need to have a \"default configuration file location\" in the context of short-term testing? Is it not just as easy to start Fedora in either of these ways with a system property that points to the desired config file?\nMAVEN_OPTS=\"-Dfcrepo.config.file=/tmp/awoods/fcrepo.props\"; mvn jetty:run -pl fcrepo-webapp/\n\nor\njava -Dfcrepo.config.file=/tmp/awoods/fcrepo.props -jar fcrepo-webapp/target/fcrepo-webapp-6.0.0-SNAPSHOT-jetty-console.jar --headless\n\nI may be missing a use case, but it seems like it may be clearer to remove this default.", "author": "awoods", "createdAt": "2020-11-06T20:29:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTAwODU0OQ==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r519008549", "bodyText": "I believe that @dbernstein added this on my request. I stand by it as a good idea, though I do agree that the Fedora home directory should not be hard coded. In my experience setting up applications, it is normal to override a default application home directory and have it resolve your data, config, etc locations relative to that. In my mind, this is a normal install experience and if you're going require setting one -D parameter then it should be fcrepo.home and not whatever parameter sets the location of a configuration file. In most cases, the configuration file should be in a known location relative to the application home.", "author": "pwinckles", "createdAt": "2020-11-06T21:15:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTAxNTY4OA==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r519015688", "bodyText": "@pwinckles : I like the idea, it just seemed like the default config location should be relative to wherever the user set fcrepo.home... I believe is what you are also saying.\nIf the default config only supports jetty:run and the one-click, I am not sure I see the value.", "author": "awoods", "createdAt": "2020-11-06T21:32:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDAxNzk3Mw==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r520017973", "bodyText": "@pwinckles : Do you know of a way to get around the circular reference  issue? If so let's keep it in.  But if not, I'm thinking it may be better to remove the default properties file location (<ie /fcrepo-home/config) and require the user to specify the location of the config file  using the fcrepo.config.file java option.", "author": "dbernstein", "createdAt": "2020-11-09T18:13:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDAyMjQyMQ==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r520022421", "bodyText": "@pwinckles :  actually - scratch that.  I think I have a good work around.", "author": "dbernstein", "createdAt": "2020-11-09T18:21:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk1OTA0Mw==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518959043", "bodyText": "Of all of the following \"getters\", only getVelocityLog() appears to be used. Should the others be removed?", "author": "awoods", "createdAt": "2020-11-06T19:28:33Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -94,4 +134,66 @@ public void setFedoraData(final Path fedoraData) {\n         this.fedoraData = fedoraData;\n     }\n \n+    /**\n+     * @return The JMS host\n+     */\n+    public String getJmsHost() {", "originalCommit": "959cc8a973a493c7b00170272324680e32791e86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk2OTgzNw==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518969837", "bodyText": "I believe all of them are referenced in SpEL ( i.e. \"#{fcrepoPropsConfig.member}\" references in other parts of the codebase.  So not recommended.", "author": "dbernstein", "createdAt": "2020-11-06T19:51:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk1OTA0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk4MzcwOA==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518983708", "bodyText": "Is there a reason why the fcrepo.session.timeout has not be extracted into a static constant like the ones above?\nSame question for fcrepo.velocity.runtime.log below.", "author": "awoods", "createdAt": "2020-11-06T20:15:52Z", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -35,20 +35,60 @@\n  * @since 6.0.0\n  */\n @Configuration\n-public class FedoraPropsConfig {\n+public class FedoraPropsConfig extends BasePropsConfig {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n \n+    public static final String FCREPO_CONFIG_FILE = \"fcrepo.config.file\";\n     public static final String FCREPO_HOME = \"fcrepo.home\";\n+    public static final String FCREPO_JMS_HOST = \"fcrepo.jms.host\";\n+    public static final String FCREPO_DYNAMIC_JMS_PORT = \"fcrepo.dynamic.jms.port\";\n+    public static final String FCREPO_DYNAMIC_STOMP_PORT = \"fcrepo.dynamic.stomp.port\";\n+    public static final String FCREPO_ACTIVEMQ_CONFIGURATION = \"fcrepo.activemq.configuration\";\n+    public static final String FCREPO_NAMESPACE_REGISTRY = \"fcrepo.namespace.registry\";\n+    public static final String FCREPO_EXTERNAL_CONTENT_ALLOWED = \"fcrepo.external.content.allowed\";\n+    private static final String FCREPO_ACTIVEMQ_DIRECTORY = \"fcrepo.activemq.directory\";\n+\n+    private static final String DATA_DIR_DEFAULT_VALUE = \"data\";\n+    private static final String ACTIVE_MQ_DIR_DEFAULT_VALUE = \"ActiveMQ/kahadb\";\n \n-    private static final String DATA_DIR = \"data\";\n \n     @Value(\"${\" + FCREPO_HOME + \":fcrepo-home}\")\n     private Path fedoraHome;\n \n-    @Value(\"#{fedoraPropsConfig.fedoraHome.resolve('\" + DATA_DIR + \"')}\")\n+    @Value(\"#{fedoraPropsConfig.fedoraHome.resolve('\" + DATA_DIR_DEFAULT_VALUE + \"')}\")\n     private Path fedoraData;\n \n+    @Value(\"${\" + FCREPO_JMS_HOST + \":localhost}\")\n+    private String jmsHost;\n+\n+    @Value(\"${\" + FCREPO_DYNAMIC_JMS_PORT + \":61616}\")\n+    private String jmsPort;\n+\n+    @Value(\"${\" + FCREPO_DYNAMIC_STOMP_PORT + \":61613}\")\n+    private String stompPort;\n+\n+\n+    @Value(\"${\" + FCREPO_ACTIVEMQ_CONFIGURATION + \":classpath:/config/activemq.xml}\")\n+    private String activeMQConfiguration;\n+\n+    @Value(\"${\" + FCREPO_ACTIVEMQ_DIRECTORY + \":#{fedoraPropsConfig.fedoraData.resolve('\" +\n+            ACTIVE_MQ_DIR_DEFAULT_VALUE + \"').toAbsolutePath().toString()}}\")\n+    private String activeMqDirectory;\n+\n+    @Value(\"${\" + FCREPO_NAMESPACE_REGISTRY + \":classpath:/namespaces.yml}\")\n+    private String namespaceRegistry;\n+\n+    @Value(\"${\" + FCREPO_EXTERNAL_CONTENT_ALLOWED + \":#{null}}\")\n+    private String externalContentAllowed;\n+\n+    @Value(\"${fcrepo.session.timeout:180000}\")", "originalCommit": "959cc8a973a493c7b00170272324680e32791e86", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTA2NTY4Ng==", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r519065686", "bodyText": "It's just that I don't think they're referenced anywhere else.   I'll make them consistent.", "author": "dbernstein", "createdAt": "2020-11-07T00:19:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk4MzcwOA=="}], "type": "inlineReview"}, {"oid": "1dc67fff12344a704e150702038f45802c1afa99", "url": "https://github.com/fcrepo/fcrepo/commit/1dc67fff12344a704e150702038f45802c1afa99", "message": "Addresses remaining issues raised in latest PR feedback.", "committedDate": "2020-11-07T00:31:01Z", "type": "commit"}, {"oid": "64ded8cbd578ddfa2ca90e3de477ea0f85f05d9f", "url": "https://github.com/fcrepo/fcrepo/commit/64ded8cbd578ddfa2ca90e3de477ea0f85f05d9f", "message": "Ensures that fedora first looks in <fcrepo.home>/config/fcrepo.properties for the default properties\nfile rather than <cwd>/fcrepo-home/config/fcrepo.properties.", "committedDate": "2020-11-09T21:00:40Z", "type": "commit"}]}