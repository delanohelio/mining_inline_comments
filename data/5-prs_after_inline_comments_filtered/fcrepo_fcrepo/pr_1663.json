{"pr_number": 1663, "pr_title": "refactor event api, removing info map", "pr_createdAt": "2020-04-16T13:57:23Z", "pr_url": "https://github.com/fcrepo/fcrepo/pull/1663", "timeline": [{"oid": "9ec735c9d581ff37bc4086dee219485e8fc0a142", "url": "https://github.com/fcrepo/fcrepo/commit/9ec735c9d581ff37bc4086dee219485e8fc0a142", "message": "refactor event api, removing info map", "committedDate": "2020-04-16T13:52:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTgxOQ==", "url": "https://github.com/fcrepo/fcrepo/pull/1663#discussion_r409585819", "bodyText": "What affect does this annotation have that was previously different?", "author": "awoods", "createdAt": "2020-04-16T14:08:30Z", "path": "fcrepo-jms/src/main/java/org/fcrepo/jms/AbstractJMSPublisher.java", "diffHunk": "@@ -73,6 +74,7 @@\n      * @throws JMSException if JMS exception occurred\n      */\n     @Subscribe\n+    @AllowConcurrentEvents", "originalCommit": "9ec735c9d581ff37bc4086dee219485e8fc0a142", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NzkxNQ==", "url": "https://github.com/fcrepo/fcrepo/pull/1663#discussion_r409587915", "bodyText": "https://github.com/google/guava/blob/master/guava/src/com/google/common/eventbus/AllowConcurrentEvents.java\nIt allows the code to be called from multiple threads.", "author": "pwinckles", "createdAt": "2020-04-16T14:11:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTgxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU5Nzg4NA==", "url": "https://github.com/fcrepo/fcrepo/pull/1663#discussion_r409597884", "bodyText": "Yes, the name suggested as much. What was happening before? Is this basically a small performance optimization?", "author": "awoods", "createdAt": "2020-04-16T14:23:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTgxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwNjAwOA==", "url": "https://github.com/fcrepo/fcrepo/pull/1663#discussion_r409606008", "bodyText": "https://github.com/google/guava/blob/master/guava/src/com/google/common/eventbus/EventBus.java#L71\nPreviously, it would only process one event at a time. I assume this was an oversight and a misconfiguration. I believe the event code is thread-safe, or am I missing something?", "author": "pwinckles", "createdAt": "2020-04-16T14:33:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTgxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxMzY5OA==", "url": "https://github.com/fcrepo/fcrepo/pull/1663#discussion_r409613698", "bodyText": "Yes, this method should be thread-safe. \"Oversight\" is probably the reason that the method was not given this annotation before.\nI was just wondering if you had any other reason for making the change... it does not sound like it.", "author": "awoods", "createdAt": "2020-04-16T14:43:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTgxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxNTgxMw==", "url": "https://github.com/fcrepo/fcrepo/pull/1663#discussion_r409615813", "bodyText": "Nope! I just saw that it wasn't annotated and added it. :)", "author": "pwinckles", "createdAt": "2020-04-16T14:46:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTgxOQ=="}], "type": "inlineReview"}]}