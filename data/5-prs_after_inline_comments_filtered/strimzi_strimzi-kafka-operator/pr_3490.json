{"pr_number": 3490, "pr_title": "Remove Kafka TLS sidecar for Zookeeper communication", "pr_createdAt": "2020-08-10T16:12:52Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3490", "timeline": [{"oid": "ee9b518314b85c1d5725fe0cef587d0f136fa16b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ee9b518314b85c1d5725fe0cef587d0f136fa16b", "message": "Remove Kafka TLS sidecar for Zookeeper communication\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-08-10T15:46:26Z", "type": "commit"}, {"oid": "15fd516c02a0905ccbcd36bd10f3cc06a4ee61a7", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/15fd516c02a0905ccbcd36bd10f3cc06a4ee61a7", "message": "Fix tests and system tests\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-08-10T16:12:38Z", "type": "commit"}, {"oid": "3e5ce30bd8fe6145f4625318b4e20fb3a3bdc4a8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/3e5ce30bd8fe6145f4625318b4e20fb3a3bdc4a8", "message": "Add warning about unused environment variable\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-08-10T17:46:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQ4MDA4OA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3490#discussion_r468480088", "bodyText": "just map.containsKey? or any specific reason for getting the value and see if it's null?", "author": "ppatierno", "createdAt": "2020-08-11T10:26:42Z", "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/ClusterOperatorConfig.java", "diffHunk": "@@ -92,10 +96,23 @@ public ClusterOperatorConfig(Set<String> namespaces, long reconciliationInterval\n      * @return  Cluster Operator configuration instance\n      */\n     public static ClusterOperatorConfig fromMap(Map<String, String> map) {\n+        warningsForRemovedEndVars(map);\n         KafkaVersion.Lookup lookup = parseKafkaVersions(map.get(STRIMZI_KAFKA_IMAGES), map.get(STRIMZI_KAFKA_CONNECT_IMAGES), map.get(STRIMZI_KAFKA_CONNECT_S2I_IMAGES), map.get(STRIMZI_KAFKA_MIRROR_MAKER_IMAGES), map.get(STRIMZI_KAFKA_MIRROR_MAKER_2_IMAGES));\n         return fromMap(map, lookup);\n     }\n \n+    /**\n+     * Logs warnings for removed / deprecated environment variables\n+     *\n+     * @param map   map from which loading configuration parameters\n+     */\n+    private static void warningsForRemovedEndVars(Map<String, String> map) {\n+        if (map.get(STRIMZI_DEFAULT_TLS_SIDECAR_KAFKA_IMAGE) != null)    {", "originalCommit": "3e5ce30bd8fe6145f4625318b4e20fb3a3bdc4a8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODUxOTU4Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3490#discussion_r468519583", "bodyText": "It is technically the same, but I changed it to containsKey.", "author": "scholzj", "createdAt": "2020-08-11T11:47:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQ4MDA4OA=="}], "type": "inlineReview"}, {"oid": "6cc5f9807f476732cab23d0f9b06560de16b5937", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6cc5f9807f476732cab23d0f9b06560de16b5937", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-08-11T11:46:31Z", "type": "commit"}]}