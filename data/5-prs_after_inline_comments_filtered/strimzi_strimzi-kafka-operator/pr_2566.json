{"pr_number": 2566, "pr_title": "[systemtest] Add test for KafkaStatus certificate", "pr_createdAt": "2020-02-17T14:29:09Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2566", "timeline": [{"oid": "04dde468ec1e0d1311fc99f3c5ef21e7cac6e86d", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/04dde468ec1e0d1311fc99f3c5ef21e7cac6e86d", "message": "Add and change functions for creating consumer and producer - used to send/consume TLS messages\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-17T15:11:24Z", "type": "forcePushed"}, {"oid": "c5e29edc8202fc1f3f9ef3d5c05b2fd8522aed96", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c5e29edc8202fc1f3f9ef3d5c05b2fd8522aed96", "message": "Add new asserts for check if certs are matching in KafkaStatus\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-17T15:30:45Z", "type": "commit"}, {"oid": "7c545059fc3e9277d1bfe493b92197856d16b9f2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7c545059fc3e9277d1bfe493b92197856d16b9f2", "message": "Change method for deploying verticle\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-17T15:30:45Z", "type": "commit"}, {"oid": "776602469bdb3876a99c606693b07033a4dad978", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/776602469bdb3876a99c606693b07033a4dad978", "message": "Add test for checking certs from KafkaStatus\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-17T15:30:45Z", "type": "commit"}, {"oid": "14e9a7afaef5b73f50ed4a21bf851c2f4582421b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/14e9a7afaef5b73f50ed4a21bf851c2f4582421b", "message": "Add functions for obtaining certs from KafkaStatus and secret certs\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-17T15:30:45Z", "type": "commit"}, {"oid": "6a1d990346fe2d957c4c416033aa70012af2359c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6a1d990346fe2d957c4c416033aa70012af2359c", "message": "Add and change functions for creating consumer and producer - used to send/consume TLS messages\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-17T15:35:14Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYyMTcxNw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2566#discussion_r380621717", "bodyText": "why reading the CA cert twice?", "author": "ppatierno", "createdAt": "2020-02-18T11:44:24Z", "path": "systemtest/src/test/java/io/strimzi/systemtest/kafka/ListenersST.java", "diffHunk": "@@ -372,6 +374,17 @@ void testCustomCertNodePortAndTlsRollingUpdate() throws Exception {\n \n         KafkaUser aliceUser = KafkaUserResource.tlsUser(CLUSTER_NAME, userName).done();\n \n+        String externalCerts = getKafkaStatusCertificates(\"external\", NAMESPACE, CLUSTER_NAME);\n+        String externalSecretCerts = getKafkaSecretCertificates(CLUSTER_NAME + \"-cluster-ca-cert\", \"ca.crt\");\n+\n+        String internalCerts = getKafkaStatusCertificates(\"tls\", NAMESPACE, CLUSTER_NAME);\n+        String internalSecretCerts = getKafkaSecretCertificates(CLUSTER_NAME + \"-cluster-ca-cert\", \"ca.crt\");", "originalCommit": "6a1d990346fe2d957c4c416033aa70012af2359c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYyNTk2OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2566#discussion_r380625969", "bodyText": "okay fixed :) thanks", "author": "im-konge", "createdAt": "2020-02-18T11:53:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDYyMTcxNw=="}], "type": "inlineReview"}, {"oid": "5f59bd43f36316a1709312f115077c3f587ea4e4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5f59bd43f36316a1709312f115077c3f587ea4e4", "message": "Add and change functions for creating consumer and producer - used to send/consume TLS messages\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-18T11:52:57Z", "type": "commit"}, {"oid": "5f59bd43f36316a1709312f115077c3f587ea4e4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5f59bd43f36316a1709312f115077c3f587ea4e4", "message": "Add and change functions for creating consumer and producer - used to send/consume TLS messages\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>", "committedDate": "2020-02-18T11:52:57Z", "type": "forcePushed"}]}