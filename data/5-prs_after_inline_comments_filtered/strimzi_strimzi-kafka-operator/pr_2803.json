{"pr_number": 2803, "pr_title": "[MO] - [refactor] -> renaming strimzi TimeoutException", "pr_createdAt": "2020-04-07T18:12:10Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r405064189", "bodyText": "Are you throwing new exception on line 125 to catch it on 126? Can you explain the point of it?", "author": "scholzj", "createdAt": "2020-04-07T19:38:47Z", "path": "test/src/main/java/io/strimzi/test/TestUtils.java", "diffHunk": "@@ -120,9 +121,11 @@ public static long waitFor(String description, long pollIntervalMs, long timeout\n             }\n             if (timeLeft <= 0) {\n                 onTimeout.run();\n-                TimeoutException exception = new TimeoutException(\"Timeout after \" + timeoutMs + \" ms waiting for \" + description);\n-                exception.printStackTrace();\n-                throw exception;\n+                try {\n+                    throw new TimeoutException(\"Timeout after \" + timeoutMs + \" ms waiting for \" + description);", "originalCommit": "5975c1442b83a7c772d008db44e8850107ef65db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQwNzAyOA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r405407028", "bodyText": "I have to change it, that was not a correct way. Anyway, the idea of io.strinzi.test.TimeoutException in this case was to replace the original TimeoutException from the concurrent java package.  I have replaced it to the RuntimeException which is from my POV a proper way.\nThe best way would be using the TimeoutException from the concurrent package but I can not use it in that way because it needs to be inherited from the RuntimeException.\nIs there something I missing @tombentley  ?", "author": "see-quick", "createdAt": "2020-04-08T10:01:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQwOTU3MA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r405409570", "bodyText": "IIRC I created io.strinzi.test.TimeoutException because I needed/wanted an unchecked exception to represent a timeout.", "author": "tombentley", "createdAt": "2020-04-08T10:05:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQxNzAzMA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r405417030", "bodyText": "and it is worth to have it and not just using the RuntimeException, which satisfy this condition of unchecked exception?", "author": "see-quick", "createdAt": "2020-04-08T10:18:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQyMTMxMg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r405421312", "bodyText": "Well it depends how useful you think it is to see (and potentially catch) a TimeoutException rather than a RuntimeException. To me a TimeoutException is clearer because you know, even before looking at the log message, that some expectation was not met. RuntimeException is much more general and requires you to interpret the message to figure out what went wrong. Why do you think RuntimeException is better?", "author": "tombentley", "createdAt": "2020-04-08T10:26:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQ0NTcwNw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r405445707", "bodyText": "My point here is to remove the dependency of our io.strimzi.test.TimeException, because in our tests, we sometimes met with the problem conflict class. For instance, most of the standard classes use concurrent.TimeoutException. I accept that TimeoutException inherited from the RuntimeException are making more sense in terms of semantic. However, I think we always need to make sure which exception is imported in some of our STs. Hypothetically, we also can meet the scenario wherein the one STs will have both exceptions and this is from my POV, not a good approach.  Is that making any sense? @tombentley", "author": "see-quick", "createdAt": "2020-04-08T11:13:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQ5MTQwNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r405491404", "bodyText": "If it's a nuisance having two classes called TimeoutException you could just rename the Strimzi one to WaitException.", "author": "tombentley", "createdAt": "2020-04-08T12:38:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjA5ODc1Nw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2803#discussion_r406098757", "bodyText": "Done :)", "author": "see-quick", "createdAt": "2020-04-09T10:08:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NDE4OQ=="}], "type": "inlineReview"}, {"oid": "e1403f4b4b521bba91a8d572b617862950ad190f", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e1403f4b4b521bba91a8d572b617862950ad190f", "message": "[MO] - [clean-up] -> removing unnecessary timeout-exception\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:11:49Z", "type": "commit"}, {"oid": "88c5cf3905da35770c11347a663d339583ca903c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/88c5cf3905da35770c11347a663d339583ca903c", "message": "[MO] -[exception] -> change\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:11:49Z", "type": "commit"}, {"oid": "96e23c324cccd562c76dc331bf9e1eb6a79075ed", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/96e23c324cccd562c76dc331bf9e1eb6a79075ed", "message": "[MO] - [change] -> time -> run\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:11:49Z", "type": "commit"}, {"oid": "7df97f7f359a552a8a50722af0d6ca1f36b1e08d", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7df97f7f359a552a8a50722af0d6ca1f36b1e08d", "message": "[MO] - [solve commends] -> done\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:11:49Z", "type": "commit"}, {"oid": "45fbae4b9ff6edaceb649f103f8edd6301799b21", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/45fbae4b9ff6edaceb649f103f8edd6301799b21", "message": "done\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:11:49Z", "type": "commit"}, {"oid": "7ab7785faaded170f965e10be07d751f9bb9d9d8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ab7785faaded170f965e10be07d751f9bb9d9d8", "message": "fixed\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:12:52Z", "type": "commit"}, {"oid": "7ab7785faaded170f965e10be07d751f9bb9d9d8", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ab7785faaded170f965e10be07d751f9bb9d9d8", "message": "fixed\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:12:52Z", "type": "forcePushed"}, {"oid": "8f5ef1056475ef29bb685ed271e0171875f3f0d3", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8f5ef1056475ef29bb685ed271e0171875f3f0d3", "message": "[MO] - [trigger] -> travis :D\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-04-09T16:13:57Z", "type": "commit"}]}