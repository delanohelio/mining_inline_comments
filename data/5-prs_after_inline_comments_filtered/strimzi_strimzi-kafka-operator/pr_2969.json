{"pr_number": 2969, "pr_title": "[MO] - [client tests] -> simple smoke client tests", "pr_createdAt": "2020-05-06T15:36:59Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2969", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY0ODEyMw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2969#discussion_r424648123", "bodyText": "Why 9093? And not 9092?", "author": "scholzj", "createdAt": "2020-05-13T18:32:40Z", "path": "strimzi-container/src/main/java/io/strimzi/StrimziContainer.java", "diffHunk": "@@ -0,0 +1,105 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi;\n+\n+import com.github.dockerjava.api.command.ExecCreateCmdResponse;\n+import com.github.dockerjava.api.command.InspectContainerResponse;\n+import com.github.dockerjava.api.model.ContainerNetwork;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.testcontainers.containers.GenericContainer;\n+import org.testcontainers.containers.Network;\n+\n+import java.util.Collection;\n+import java.util.concurrent.TimeUnit;\n+\n+public class StrimziContainer extends GenericContainer<StrimziContainer> {\n+\n+    private static final Logger LOGGER = LogManager.getLogger(StrimziContainer.class);\n+\n+    private static final String STARTER_SCRIPT = \"/testcontainers_start.sh\";\n+    private static final int KAFKA_PORT = 9093;", "originalCommit": "626fe6cc3b7e1b81ccb3045ff6f1d897c2112773", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY0ODcyNg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2969#discussion_r424648726", "bodyText": "How is the version here managed? Also - assuming this is an user interface ... should it be there as strimziVersion and kafkaVersion and the tag generated out of that?", "author": "scholzj", "createdAt": "2020-05-13T18:33:44Z", "path": "strimzi-container/src/main/java/io/strimzi/StrimziContainer.java", "diffHunk": "@@ -0,0 +1,105 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi;\n+\n+import com.github.dockerjava.api.command.ExecCreateCmdResponse;\n+import com.github.dockerjava.api.command.InspectContainerResponse;\n+import com.github.dockerjava.api.model.ContainerNetwork;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.testcontainers.containers.GenericContainer;\n+import org.testcontainers.containers.Network;\n+\n+import java.util.Collection;\n+import java.util.concurrent.TimeUnit;\n+\n+public class StrimziContainer extends GenericContainer<StrimziContainer> {\n+\n+    private static final Logger LOGGER = LogManager.getLogger(StrimziContainer.class);\n+\n+    private static final String STARTER_SCRIPT = \"/testcontainers_start.sh\";\n+    private static final int KAFKA_PORT = 9093;\n+    private static final int ZOOKEEPER_PORT = 2181;\n+\n+    private int kafkaExposedPort;\n+    private StringBuilder advertisedListeners;\n+\n+    public StrimziContainer(final String version) {\n+        super(\"strimzi/kafka:\" + version);", "originalCommit": "626fe6cc3b7e1b81ccb3045ff6f1d897c2112773", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY0OTA3NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2969#discussion_r424649074", "bodyText": "This is tricky and would need to be maintained maually in releases etc. So I think this needs to be generated from make release or something like that.", "author": "scholzj", "createdAt": "2020-05-13T18:34:23Z", "path": "strimzi-container/src/main/java/io/strimzi/StrimziContainer.java", "diffHunk": "@@ -0,0 +1,105 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi;\n+\n+import com.github.dockerjava.api.command.ExecCreateCmdResponse;\n+import com.github.dockerjava.api.command.InspectContainerResponse;\n+import com.github.dockerjava.api.model.ContainerNetwork;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.testcontainers.containers.GenericContainer;\n+import org.testcontainers.containers.Network;\n+\n+import java.util.Collection;\n+import java.util.concurrent.TimeUnit;\n+\n+public class StrimziContainer extends GenericContainer<StrimziContainer> {\n+\n+    private static final Logger LOGGER = LogManager.getLogger(StrimziContainer.class);\n+\n+    private static final String STARTER_SCRIPT = \"/testcontainers_start.sh\";\n+    private static final int KAFKA_PORT = 9093;\n+    private static final int ZOOKEEPER_PORT = 2181;\n+\n+    private int kafkaExposedPort;\n+    private StringBuilder advertisedListeners;\n+\n+    public StrimziContainer(final String version) {\n+        super(\"strimzi/kafka:\" + version);\n+        super.withNetwork(Network.SHARED);\n+\n+        // exposing kafka port from the container\n+        withExposedPorts(KAFKA_PORT);\n+    }\n+\n+    public StrimziContainer() {\n+        this(\"latest-kafka-2.5.0\");", "originalCommit": "626fe6cc3b7e1b81ccb3045ff6f1d897c2112773", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE2MzI2NQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2969#discussion_r425163265", "bodyText": "updated", "author": "see-quick", "createdAt": "2020-05-14T14:05:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY0OTA3NA=="}], "type": "inlineReview"}, {"oid": "eeade394dd624e0a8e868866bb28b56446d5254e", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/eeade394dd624e0a8e868866bb28b56446d5254e", "message": "[MO] - [verison]\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-14T12:35:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE1OTEzNA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2969#discussion_r425159134", "bodyText": "Shouldn't we name it as StrimziKafkaContainer since it's not contain strimzi, but only our Kafka image?", "author": "Frawless", "createdAt": "2020-05-14T13:59:32Z", "path": "test-container/src/main/java/io/strimzi/StrimziContainer.java", "diffHunk": "@@ -0,0 +1,127 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi;\n+\n+import com.github.dockerjava.api.command.ExecCreateCmdResponse;\n+import com.github.dockerjava.api.command.InspectContainerResponse;\n+import com.github.dockerjava.api.model.ContainerNetwork;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.testcontainers.containers.GenericContainer;\n+import org.testcontainers.containers.Network;\n+import org.yaml.snakeyaml.Yaml;\n+\n+import java.io.FileNotFoundException;\n+import java.io.FileReader;\n+import java.io.Reader;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.concurrent.TimeUnit;\n+\n+public class StrimziContainer extends GenericContainer<StrimziContainer> {", "originalCommit": "b3eeaac797eecf349f9e94756bbb68800aa916e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE2MDc4Ng==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2969#discussion_r425160786", "bodyText": "I agree :)", "author": "see-quick", "createdAt": "2020-05-14T14:01:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE1OTEzNA=="}], "type": "inlineReview"}, {"oid": "0d715440e3dc7311eedc9668f7a835c9a16a6d47", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/0d715440e3dc7311eedc9668f7a835c9a16a6d47", "message": "sds\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-18T17:13:41Z", "type": "forcePushed"}, {"oid": "33c26ce643f06708acfbb20f70b8355696ff52b2", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/33c26ce643f06708acfbb20f70b8355696ff52b2", "message": "[MO] - [client tests] -> simple client tests\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "e642f176fe561379cb7944a9b13c838bb56cf2c7", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e642f176fe561379cb7944a9b13c838bb56cf2c7", "message": "s\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "54cec2f3735170b9d7695324b567fee56e1ca172", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/54cec2f3735170b9d7695324b567fee56e1ca172", "message": "strimzi container\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "4f200c053bc9b32db66b495ed40ea83240cb2414", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4f200c053bc9b32db66b495ed40ea83240cb2414", "message": "ss\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "09c1cdf554ffa3f54bc97009caec63138fc60a19", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/09c1cdf554ffa3f54bc97009caec63138fc60a19", "message": "[MO] - [done]\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "2ff29928656f5c26914f5454ff0e8f7234cf97f4", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2ff29928656f5c26914f5454ff0e8f7234cf97f4", "message": "[mo} dsds\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "29e92ecf5594544c55ed9c449f5d40b262287cd5", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/29e92ecf5594544c55ed9c449f5d40b262287cd5", "message": "sdsd\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "7ff2406e382c5c91cd606f766a034392bbf0f41c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ff2406e382c5c91cd606f766a034392bbf0f41c", "message": "sdsd\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "e5e40142bf44d54efe658e1f70bd09177f2f7fab", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e5e40142bf44d54efe658e1f70bd09177f2f7fab", "message": "sdsds\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "be44e628812abdd4c222b57764993633e05ed984", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/be44e628812abdd4c222b57764993633e05ed984", "message": "[MO] - [verison]\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "69e6f73eeb253bf8c002231e9304a83b09addf1c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/69e6f73eeb253bf8c002231e9304a83b09addf1c", "message": "ss\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "7a278bd2d02fb40bbf9fde1e1eb6898d13f80f80", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7a278bd2d02fb40bbf9fde1e1eb6898d13f80f80", "message": "ss\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "d23f7dc0acaf9b5c4089891bb1391fa4f0735d76", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d23f7dc0acaf9b5c4089891bb1391fa4f0735d76", "message": "sds\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "8005b2291c480d844eaac0985e2eddd37861a502", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8005b2291c480d844eaac0985e2eddd37861a502", "message": "sdsd\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "e798fa2d3795228c1b91bfea2fdeca81a2459041", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e798fa2d3795228c1b91bfea2fdeca81a2459041", "message": "sds\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "20369b64a83675570fe75176ac06bd7cf07547d9", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/20369b64a83675570fe75176ac06bd7cf07547d9", "message": "sd\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "14655a2928a92c04a513e069d6c3a59479431184", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/14655a2928a92c04a513e069d6c3a59479431184", "message": "error\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "5da5d454692517902ca761e0702a9cd54873c71b", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5da5d454692517902ca761e0702a9cd54873c71b", "message": "sds\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "b29d6211d1c1eaa5d6804ec9793e4cd12b1c871c", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b29d6211d1c1eaa5d6804ec9793e4cd12b1c871c", "message": "[MO] - [changed] -> done\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "8582b41c601ce6ab269bf83d57ed5e69d6fa7e26", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8582b41c601ce6ab269bf83d57ed5e69d6fa7e26", "message": "dsds\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:22:19Z", "type": "commit"}, {"oid": "dbcbe24434be9f565b8c926c00b5f6c0760b1601", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/dbcbe24434be9f565b8c926c00b5f6c0760b1601", "message": "[MO] - [azure + travis] -> change order of instalation yq\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:23:15Z", "type": "commit"}, {"oid": "dbcbe24434be9f565b8c926c00b5f6c0760b1601", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/dbcbe24434be9f565b8c926c00b5f6c0760b1601", "message": "[MO] - [azure + travis] -> change order of instalation yq\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:23:15Z", "type": "forcePushed"}, {"oid": "0cfa009415f4b839aed0f183004befa35c27acd0", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/0cfa009415f4b839aed0f183004befa35c27acd0", "message": "[MO] - [final] -> done\n\nSigned-off-by: morsak <xorsak02@stud.fit.vutbr.cz>", "committedDate": "2020-05-19T13:53:37Z", "type": "commit"}]}