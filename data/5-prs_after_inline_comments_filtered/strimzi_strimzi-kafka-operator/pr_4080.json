{"pr_number": 4080, "pr_title": "Do not use ownerReference in UO and TO bindings into a different namespace", "pr_createdAt": "2020-12-09T22:35:37Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4080", "timeline": [{"oid": "bec8088cf2ef378f9c769f9e5111d454f9046a25", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/bec8088cf2ef378f9c769f9e5111d454f9046a25", "message": "Do not use ownerReference in UO and TO bindings into a different namespace\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>", "committedDate": "2020-12-09T22:13:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI4MDE4Mw==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4080#discussion_r540280183", "bodyText": "Do we need this for the (deprecated) spec.topicOperator at well?", "author": "tombentley", "createdAt": "2020-12-10T15:51:01Z", "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/model/EntityTopicOperator.java", "diffHunk": "@@ -299,13 +299,17 @@ public RoleBinding generateRoleBinding(String namespace, String watchedNamespace\n                 .withNewMetadata()\n                     .withName(roleBindingName(cluster))\n                     .withNamespace(watchedNamespace)\n-                    .withOwnerReferences(createOwnerReference())\n                     .withLabels(labels.toMap())\n                 .endMetadata()\n                 .withRoleRef(roleRef)\n                 .withSubjects(singletonList(ks))\n                 .build();\n \n+        // We set OwnerReference only within the same namespace since it does nto work cross-namespace\n+        if (namespace.equals(watchedNamespace)) {\n+            rb.getMetadata().setOwnerReferences(singletonList(createOwnerReference()));\n+        }\n+", "originalCommit": "bec8088cf2ef378f9c769f9e5111d454f9046a25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI4MTU4OQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4080#discussion_r540281589", "bodyText": "No, that exists now only in the API. But not in the operator modules.", "author": "scholzj", "createdAt": "2020-12-10T15:52:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI4MDE4Mw=="}], "type": "inlineReview"}]}