{"pr_number": 2908, "pr_title": "Add computed property bootstrap to Kafka CR status", "pr_createdAt": "2020-04-28T20:42:34Z", "pr_url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2908", "timeline": [{"oid": "b70da05750d2d2dd74a6286eba0959c1938fff83", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b70da05750d2d2dd74a6286eba0959c1938fff83", "message": "Add computed property bootstrap to\nKafka CR status.\n\nContributes to strimzi/strimzi-kafka-operator#2905\n\nSigned-off-by: Andrew Schofield <andrew_schofield@uk.ibm.com>", "committedDate": "2020-04-28T20:39:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA5OTQ0NA==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2908#discussion_r417099444", "bodyText": "what about using \"comma-separated list of hostname:\u200dport pairs\" which is how we already explain what bootstrap means in our doc?", "author": "ppatierno", "createdAt": "2020-04-29T06:48:43Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/status/ListenerStatus.java", "diffHunk": "@@ -54,6 +56,17 @@ public void setType(String type) {\n \n     public void setAddresses(List<ListenerAddress> addresses) {\n         this.addresses = addresses;\n+        if ((addresses == null) || (addresses.isEmpty())) {\n+            bootstrap = null;\n+        } else {\n+            bootstrap = addresses.stream().map(a -> a.getHost() + \":\" + a.getPort()).collect(Collectors.joining(\",\"));\n+        }\n+    }\n+\n+    @Description(\"A concatenated list of the bootstrap addresses for this listener.\")", "originalCommit": "b70da05750d2d2dd74a6286eba0959c1938fff83", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMzM4Mg==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2908#discussion_r417133382", "bodyText": "I'm all for consistency. Just building that change now and will add a new commit shortly.", "author": "AndrewJSchofield", "createdAt": "2020-04-29T07:59:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA5OTQ0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE0OTMzMQ==", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2908#discussion_r417149331", "bodyText": "Unnecessary parens", "author": "tombentley", "createdAt": "2020-04-29T08:29:28Z", "path": "api/src/main/java/io/strimzi/api/kafka/model/status/ListenerStatus.java", "diffHunk": "@@ -54,6 +56,17 @@ public void setType(String type) {\n \n     public void setAddresses(List<ListenerAddress> addresses) {\n         this.addresses = addresses;\n+        if ((addresses == null) || (addresses.isEmpty())) {", "originalCommit": "b70da05750d2d2dd74a6286eba0959c1938fff83", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "99c3fa884f7e95bc044de0b2a88fc411c4191c24", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/99c3fa884f7e95bc044de0b2a88fc411c4191c24", "message": "Improve description\n\nSigned-off-by: Andrew Schofield <andrew_schofield@uk.ibm.com>", "committedDate": "2020-04-29T10:39:47Z", "type": "commit"}, {"oid": "b9c02056c3702b8c59a31ec6e1b90dad1a07ab5e", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b9c02056c3702b8c59a31ec6e1b90dad1a07ab5e", "message": "Update Kafka CRD yaml (again).\n\nSigned-off-by: Andrew Schofield <andrew_schofield@uk.ibm.com>", "committedDate": "2020-04-29T14:19:23Z", "type": "commit"}, {"oid": "b68cf48f96a104d804d6ba7f274c3e6113eef90d", "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b68cf48f96a104d804d6ba7f274c3e6113eef90d", "message": "Renamed bootstrap to bootstrapServers\n\nSigned-off-by: Andrew Schofield <andrew_schofield@uk.ibm.com>", "committedDate": "2020-04-30T14:22:29Z", "type": "commit"}]}