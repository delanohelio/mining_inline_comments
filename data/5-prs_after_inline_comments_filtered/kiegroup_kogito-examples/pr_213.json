{"pr_number": 213, "pr_title": "KOGITO-1121 - Create advanced example for kogito + serverless workflo\u2026", "pr_createdAt": "2020-04-11T16:04:01Z", "pr_url": "https://github.com/kiegroup/kogito-examples/pull/213", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDI2Mw==", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407884263", "bodyText": "I think we should move the tests to integration-test phase, they rely on an external service.", "author": "jstastny-cz", "createdAt": "2020-04-14T05:56:51Z", "path": "serverless-workflow-service-calls-quarkus/src/test/java/org/kogito/serverless/examples/CountriesResourceTest.java", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.kogito.serverless.examples;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n+import static io.restassured.RestAssured.given;\n+import static org.hamcrest.CoreMatchers.is;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+\n+import javax.inject.Inject;\n+\n+\n+@QuarkusTest\n+public class CountriesResourceTest {", "originalCommit": "94d6859b1ff59a6492c9f5c30704658d6320adb3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA5MDE0Nw==", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r408090147", "bodyText": "this service is present during any of the test phases so not sure i'd agree. Same is done in other examples as well, for example: https://github.com/kiegroup/kogito-examples/tree/stable/kogito-service-rest-call-quarkus/src/test/java/org/acme/travels\nso if we do this lets do it across the board imo?", "author": "tsurdilo", "createdAt": "2020-04-14T12:18:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDI2Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY1NTU3Mw==", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r408655573", "bodyText": "See your example:\n@Disabled(\"depends on https://petstore.swagger.io existing users\")\n\nthat's exactly the reason, such external dependency might break the build (especially troubling in CI). Solution would be just to rename the test class file Test-> IT .... failsafe configuration is in place.", "author": "jstastny-cz", "createdAt": "2020-04-15T08:04:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDI2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDQ4Mw==", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r407884483", "bodyText": "I think we should move the tests to integration-test phase, they rely on an external service.", "author": "jstastny-cz", "createdAt": "2020-04-14T05:57:29Z", "path": "serverless-workflow-service-calls-quarkus/src/test/java/org/kogito/serverless/examples/CountryServiceWorkflowTest.java", "diffHunk": "@@ -0,0 +1,57 @@\n+package org.kogito.serverless.examples;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+import org.kie.kogito.Model;\n+import org.kie.kogito.process.Process;\n+import org.kie.kogito.process.ProcessInstance;\n+\n+import javax.inject.Inject;\n+import javax.inject.Named;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+@QuarkusTest\n+public class CountryServiceWorkflowTest {", "originalCommit": "94d6859b1ff59a6492c9f5c30704658d6320adb3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODA5MDMzMA==", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r408090330", "bodyText": "same reply as above. let's fix this across all examples if needed ( but don't think its really needed )", "author": "tsurdilo", "createdAt": "2020-04-14T12:18:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDQ4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY1NTc2MA==", "url": "https://github.com/kiegroup/kogito-examples/pull/213#discussion_r408655760", "bodyText": "Same reply as above ;-)", "author": "jstastny-cz", "createdAt": "2020-04-15T08:04:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzg4NDQ4Mw=="}], "type": "inlineReview"}, {"oid": "2e28dfe4a3db21336f3768a6c4bef2862b0390fa", "url": "https://github.com/kiegroup/kogito-examples/commit/2e28dfe4a3db21336f3768a6c4bef2862b0390fa", "message": "KOGITO-1121 - Create advanced example for kogito + serverless workflow - quarkus", "committedDate": "2020-04-16T13:57:00Z", "type": "commit"}, {"oid": "c14c89e0bad2ce3b64a87b3ecc1e5d28b7de4c3f", "url": "https://github.com/kiegroup/kogito-examples/commit/c14c89e0bad2ce3b64a87b3ecc1e5d28b7de4c3f", "message": "Fixing pom finalVersion", "committedDate": "2020-04-16T13:57:00Z", "type": "commit"}, {"oid": "cfedf333cceab326736f8ab0c241531eb1751578", "url": "https://github.com/kiegroup/kogito-examples/commit/cfedf333cceab326736f8ab0c241531eb1751578", "message": "updates to readme", "committedDate": "2020-04-16T13:57:00Z", "type": "commit"}, {"oid": "e77505cb0ab617162d930ea564605a58508ab6c0", "url": "https://github.com/kiegroup/kogito-examples/commit/e77505cb0ab617162d930ea564605a58508ab6c0", "message": "changing tests to integration phase", "committedDate": "2020-04-16T13:57:00Z", "type": "commit"}, {"oid": "e77505cb0ab617162d930ea564605a58508ab6c0", "url": "https://github.com/kiegroup/kogito-examples/commit/e77505cb0ab617162d930ea564605a58508ab6c0", "message": "changing tests to integration phase", "committedDate": "2020-04-16T13:57:00Z", "type": "forcePushed"}]}