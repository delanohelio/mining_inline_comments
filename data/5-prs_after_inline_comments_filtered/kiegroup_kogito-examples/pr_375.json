{"pr_number": 375, "pr_title": "KOGITO-3480: Native Tests are not being executed in Kogito Examples", "pr_createdAt": "2020-09-30T13:43:34Z", "pr_url": "https://github.com/kiegroup/kogito-examples/pull/375", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzUyMzU0NA==", "url": "https://github.com/kiegroup/kogito-examples/pull/375#discussion_r497523544", "bodyText": "Added @r00ta since the changes in this test besides of the other pom changes.", "author": "tarilabs", "createdAt": "2020-09-30T13:47:53Z", "path": "dmn-tracing-quarkus/src/test/java/org/kie/dmn/kogito/quarkus/tracing/LoanEligibilityTest.java", "diffHunk": "@@ -15,55 +15,57 @@\n  */\n package org.kie.dmn.kogito.quarkus.tracing;\n \n+import static io.restassured.RestAssured.given;\n+import static org.hamcrest.Matchers.is;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+\n import java.util.concurrent.CountDownLatch;\n import java.util.concurrent.TimeUnit;\n \n-import javax.inject.Inject;\n-\n-import com.fasterxml.jackson.core.JsonProcessingException;\n-import com.fasterxml.jackson.databind.ObjectMapper;\n-import io.quarkus.test.common.QuarkusTestResource;\n-import io.quarkus.test.junit.QuarkusTest;\n-import io.restassured.http.ContentType;\n import org.eclipse.microprofile.config.inject.ConfigProperty;\n+import org.junit.jupiter.api.BeforeEach;\n import org.junit.jupiter.api.Test;\n import org.kie.kogito.kafka.KafkaClient;\n import org.kie.kogito.testcontainers.quarkus.KafkaQuarkusTestResource;\n import org.kie.kogito.tracing.decision.event.trace.TraceEvent;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n-import static io.restassured.RestAssured.given;\n-import static org.hamcrest.Matchers.is;\n-import static org.junit.jupiter.api.Assertions.assertEquals;\n-import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+\n+import io.quarkus.test.common.QuarkusTestResource;\n+import io.quarkus.test.junit.QuarkusTest;\n+import io.restassured.http.ContentType;\n \n @QuarkusTest\n @QuarkusTestResource(KafkaQuarkusTestResource.class)\n public class LoanEligibilityTest {\n \n-    private static Logger LOGGER = LoggerFactory.getLogger(LoanEligibilityTest.class);\n-\n     public static final String TOPIC_CONSUMER = \"kogito-tracing-decision\";\n \n-    @Inject\n-    private ObjectMapper objectMapper;\n+    private static final Logger LOGGER = LoggerFactory.getLogger(LoanEligibilityTest.class);\n+    private static final ObjectMapper MAPPER = new ObjectMapper();\n \n-    public KafkaClient kafkaClient;\n+    private KafkaClient kafkaClient;\n \n     @ConfigProperty(name = KafkaQuarkusTestResource.KOGITO_KAFKA_PROPERTY)\n     private String kafkaBootstrapServers;\n \n-    @Test\n-    public void testEvaluateTrafficViolation() throws InterruptedException {\n+    @BeforeEach\n+    public void setup() {\n         kafkaClient = new KafkaClient(kafkaBootstrapServers);\n+    }\n \n+    @Test\n+    public void testEvaluateTrafficViolation() throws InterruptedException {", "originalCommit": "502e9264d20d4bd6c2555cf16a564976f9c6e42f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4320724402a63234ac6eee2ceb2e60ff213f0e89", "url": "https://github.com/kiegroup/kogito-examples/commit/4320724402a63234ac6eee2ceb2e60ff213f0e89", "message": "KOGITO-3480: Native Tests are not being executed in Kogito Examples", "committedDate": "2020-09-30T18:05:25Z", "type": "forcePushed"}, {"oid": "5e23bf8f924ea6651a9d01b9bf78f6459072fad1", "url": "https://github.com/kiegroup/kogito-examples/commit/5e23bf8f924ea6651a9d01b9bf78f6459072fad1", "message": "KOGITO-3480: Native Tests are not being executed in Kogito Examples", "committedDate": "2020-10-02T05:51:51Z", "type": "forcePushed"}, {"oid": "21cfb1ac478f7aa1ae92ac1bf165495c3cee528e", "url": "https://github.com/kiegroup/kogito-examples/commit/21cfb1ac478f7aa1ae92ac1bf165495c3cee528e", "message": "KOGITO-3480: Native Tests are not being executed in Kogito Examples", "committedDate": "2020-10-05T06:02:50Z", "type": "forcePushed"}, {"oid": "d790c828517b061716087ed125a4f0f84e7695c2", "url": "https://github.com/kiegroup/kogito-examples/commit/d790c828517b061716087ed125a4f0f84e7695c2", "message": "KOGITO-3480: Native Tests are not being executed in Kogito Examples", "committedDate": "2020-10-06T05:14:28Z", "type": "commit"}, {"oid": "d790c828517b061716087ed125a4f0f84e7695c2", "url": "https://github.com/kiegroup/kogito-examples/commit/d790c828517b061716087ed125a4f0f84e7695c2", "message": "KOGITO-3480: Native Tests are not being executed in Kogito Examples", "committedDate": "2020-10-06T05:14:28Z", "type": "forcePushed"}]}