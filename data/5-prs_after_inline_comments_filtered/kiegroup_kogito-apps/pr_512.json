{"pr_number": 512, "pr_title": "KOGITO-3328 Allow using not operator to negate a filter", "pr_createdAt": "2020-10-30T06:33:50Z", "pr_url": "https://github.com/kiegroup/kogito-apps/pull/512", "timeline": [{"oid": "ea70873f3dc49387736f5a4ae9f62707b8b93340", "url": "https://github.com/kiegroup/kogito-apps/commit/ea70873f3dc49387736f5a4ae9f62707b8b93340", "message": "KOGITO-3328 Allow using not operator to negate a filter", "committedDate": "2020-10-30T12:21:02Z", "type": "forcePushed"}, {"oid": "1512952a83fc7f710bcc0c833fd81b60b3d84027", "url": "https://github.com/kiegroup/kogito-apps/commit/1512952a83fc7f710bcc0c833fd81b60b3d84027", "message": "KOGITO-3328 Allow using not operator to negate a filter", "committedDate": "2020-10-30T12:46:18Z", "type": "forcePushed"}, {"oid": "9217e6b9912259d99a87b5851861e7d0aedf3c22", "url": "https://github.com/kiegroup/kogito-apps/commit/9217e6b9912259d99a87b5851861e7d0aedf3c22", "message": "KOGITO-3328 Allow using not operator to negate a filter", "committedDate": "2020-10-30T13:42:44Z", "type": "forcePushed"}, {"oid": "6dc61312bf0f2e278e81e2f0677b17d34719fd5e", "url": "https://github.com/kiegroup/kogito-apps/commit/6dc61312bf0f2e278e81e2f0677b17d34719fd5e", "message": "KOGITO-3328 Allow using not operator to negate a filter", "committedDate": "2020-11-02T04:47:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjUyMzM0NQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/512#discussion_r516523345", "bodyText": "filter can be even complex expression, right? Do all complex expressions (containing OR, AND) come with surrounding parentheses? Looking at getRecursiveString they probably do, could you confirm?", "author": "jstastny-cz", "createdAt": "2020-11-03T09:23:56Z", "path": "persistence-commons/persistence-commons-infinispan/src/main/java/org/kie/kogito/persistence/infinispan/query/InfinispanQuery.java", "diffHunk": "@@ -138,6 +138,8 @@ protected InfinispanQuery(QueryFactory qf, String rootType) {\n                     return getRecursiveString(filter, OR);\n                 case AND:\n                     return getRecursiveString(filter, AND);\n+                case NOT:\n+                    return format(\"not %s\", filterStringFunction().apply((AttributeFilter<?>) filter.getValue()));", "originalCommit": "6dc61312bf0f2e278e81e2f0677b17d34719fd5e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU3OTg5OA==", "url": "https://github.com/kiegroup/kogito-apps/pull/512#discussion_r516579898", "bodyText": "@jstastny-cz at this point the support for not operator is for single filter, not complex ones, that need might be something we can revisit in the future if there are use cases for that. For now, I went with a more basic approach that covers the use case needed by the task console.", "author": "cristianonicolai", "createdAt": "2020-11-03T10:55:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjUyMzM0NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU4MDIxOQ==", "url": "https://github.com/kiegroup/kogito-apps/pull/512#discussion_r516580219", "bodyText": "I guess that's fine, if you need grouping conditions inside of a not, you may use an and/or that will add the parenthesis..", "author": "pefernan", "createdAt": "2020-11-03T10:55:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjUyMzM0NQ=="}], "type": "inlineReview"}, {"oid": "ac6915f365a9481b10e4a58cfaa38e82506ad3bc", "url": "https://github.com/kiegroup/kogito-apps/commit/ac6915f365a9481b10e4a58cfaa38e82506ad3bc", "message": "KOGITO-3328 Allow using not operator to negate a filter", "committedDate": "2020-11-03T11:03:22Z", "type": "commit"}, {"oid": "257ac433817dd4c4b68074b08165aed1e1009f01", "url": "https://github.com/kiegroup/kogito-apps/commit/257ac433817dd4c4b68074b08165aed1e1009f01", "message": "KOGITO-3328: fixed DE filters to handle 'NOT'", "committedDate": "2020-11-03T11:03:22Z", "type": "commit"}, {"oid": "257ac433817dd4c4b68074b08165aed1e1009f01", "url": "https://github.com/kiegroup/kogito-apps/commit/257ac433817dd4c4b68074b08165aed1e1009f01", "message": "KOGITO-3328: fixed DE filters to handle 'NOT'", "committedDate": "2020-11-03T11:03:22Z", "type": "forcePushed"}]}