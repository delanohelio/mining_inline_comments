{"pr_number": 2610, "pr_title": "Feature/exam multi correction/exam multi correction", "pr_createdAt": "2020-12-29T10:09:45Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2610", "timeline": [{"oid": "9d5c1c7b5261b9ea2988ca016eaaa8157441a298", "url": "https://github.com/ls1intum/Artemis/commit/9d5c1c7b5261b9ea2988ca016eaaa8157441a298", "message": "added comment for better understanding", "committedDate": "2021-01-05T16:35:34Z", "type": "commit"}, {"oid": "4ad95eb71ed9a4f310cc18427db8a757ff946b02", "url": "https://github.com/ls1intum/Artemis/commit/4ad95eb71ed9a4f310cc18427db8a757ff946b02", "message": "changes to fit recommendations", "committedDate": "2021-01-05T17:04:45Z", "type": "commit"}, {"oid": "6f0fcb4bcbf836f20defaf9f88e89733d78b759f", "url": "https://github.com/ls1intum/Artemis/commit/6f0fcb4bcbf836f20defaf9f88e89733d78b759f", "message": "changes to fit recommendations", "committedDate": "2021-01-05T17:08:26Z", "type": "commit"}, {"oid": "49b37bbaeca4a59e780a0e9f3083f20cd4d8488a", "url": "https://github.com/ls1intum/Artemis/commit/49b37bbaeca4a59e780a0e9f3083f20cd4d8488a", "message": "refactored REST calls", "committedDate": "2021-01-06T14:29:41Z", "type": "commit"}, {"oid": "075393fe7cf04ea40f2de005defa43872aa256e4", "url": "https://github.com/ls1intum/Artemis/commit/075393fe7cf04ea40f2de005defa43872aa256e4", "message": "fixed typo", "committedDate": "2021-01-06T14:44:41Z", "type": "commit"}, {"oid": "3fdab3448c3849d7cbfc85459e904eed4040e282", "url": "https://github.com/ls1intum/Artemis/commit/3fdab3448c3849d7cbfc85459e904eed4040e282", "message": "fixed code style issues", "committedDate": "2021-01-06T16:25:47Z", "type": "commit"}, {"oid": "0b4fa86766b5e9db1700aa5dc160a34413daa548", "url": "https://github.com/ls1intum/Artemis/commit/0b4fa86766b5e9db1700aa5dc160a34413daa548", "message": "fixed code style issues", "committedDate": "2021-01-06T17:14:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjg2NjEzOA==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552866138", "bodyText": "This can be removed now right?", "author": "anditurdiu", "createdAt": "2021-01-06T18:01:41Z", "path": "src/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java", "diffHunk": "@@ -117,26 +117,45 @@\n     Optional<StudentParticipation> findByExerciseIdAndTeamIdWithLatestResult(@Param(\"exerciseId\") Long exerciseId, @Param(\"teamId\") Long teamId);\n \n     /**\n+     * TODO SE, NR: maybe re-add", "originalCommit": "0b4fa86766b5e9db1700aa5dc160a34413daa548", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjkzNzM5Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552937397", "bodyText": "For the moment we will keep it, will be removed in a follow up shortly. Probably next week.", "author": "nicolasruscher", "createdAt": "2021-01-06T20:07:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjg2NjEzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjg2NjgwMg==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552866802", "bodyText": "This also as you are already using the correctionRound?", "author": "anditurdiu", "createdAt": "2021-01-06T18:02:20Z", "path": "src/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java", "diffHunk": "@@ -182,7 +208,20 @@ and not exists (select prs from participation.results prs where prs.assessmentTy\n     @EntityGraph(type = LOAD, attributePaths = { \"submissions\", \"submissions.results\", \"submissions.results.assessor\" })\n     List<StudentParticipation> findAllWithEagerSubmissionsAndEagerResultsAndEagerAssessorByExerciseId(long exerciseId);\n \n-    @Query(\"SELECT DISTINCT p FROM StudentParticipation p left join fetch p.submissions s left join fetch s.results r left join fetch r.assessor a WHERE p.exercise.id = :#{#exerciseId} AND NOT EXISTS (select prs from p.results prs where prs.assessor.id = p.student.id)\")\n+    // TODO SE: use correctionRound", "originalCommit": "0b4fa86766b5e9db1700aa5dc160a34413daa548", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjkzNzg3OA==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552937878", "bodyText": "CorrectionRound is set to default of 0, we will change that in a followup.", "author": "nicolasruscher", "createdAt": "2021-01-06T20:08:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjg2NjgwMg=="}], "type": "inlineReview"}, {"oid": "2ad69f8961ee0c0e9077b4ae90c9ad01ada74850", "url": "https://github.com/ls1intum/Artemis/commit/2ad69f8961ee0c0e9077b4ae90c9ad01ada74850", "message": "added exam table multi correction column and first changes to direct Exam components", "committedDate": "2020-12-14T16:56:44Z", "type": "commit"}, {"oid": "1e50f0c26e6a523b08eea07d5eca5aa4a62c99c3", "url": "https://github.com/ls1intum/Artemis/commit/1e50f0c26e6a523b08eea07d5eca5aa4a62c99c3", "message": "added exam table multi correction column and first changes to direct Exam components", "committedDate": "2020-12-14T16:56:57Z", "type": "commit"}, {"oid": "86cb43727d60d866cd51f403dfa6e010b0fa1e92", "url": "https://github.com/ls1intum/Artemis/commit/86cb43727d60d866cd51f403dfa6e010b0fa1e92", "message": "First version of changes to enable view of multiple results including renaming of properties", "committedDate": "2020-12-21T10:08:40Z", "type": "commit"}, {"oid": "4339d824ecfd127a786e936db9b55a76bb169014", "url": "https://github.com/ls1intum/Artemis/commit/4339d824ecfd127a786e936db9b55a76bb169014", "message": "merge develop", "committedDate": "2020-12-21T13:19:37Z", "type": "commit"}, {"oid": "8b2040f2f5fb2d17e6bb8a12411335e2273cb8ca", "url": "https://github.com/ls1intum/Artemis/commit/8b2040f2f5fb2d17e6bb8a12411335e2273cb8ca", "message": "Added checks to exam creation to only allow one or two correction rounds", "committedDate": "2020-12-21T14:05:44Z", "type": "commit"}, {"oid": "80c3447374fd69645dc0375258b2097c110568a5", "url": "https://github.com/ls1intum/Artemis/commit/80c3447374fd69645dc0375258b2097c110568a5", "message": "refactored stats calls and renamed method", "committedDate": "2020-12-21T14:10:22Z", "type": "commit"}, {"oid": "7a55f09416768a8f85fbd0faa0e288ccbdeb008c", "url": "https://github.com/ls1intum/Artemis/commit/7a55f09416768a8f85fbd0faa0e288ccbdeb008c", "message": "renamed method, fixed bugs", "committedDate": "2020-12-21T22:25:14Z", "type": "commit"}, {"oid": "f2f2b6b71e7846e6d03e8866e6195de2b906aef5", "url": "https://github.com/ls1intum/Artemis/commit/f2f2b6b71e7846e6d03e8866e6195de2b906aef5", "message": "assessment dashboard merge", "committedDate": "2020-12-22T15:21:45Z", "type": "commit"}, {"oid": "a7a210719c040087e1b7b372f0ff32d6631147b5", "url": "https://github.com/ls1intum/Artemis/commit/a7a210719c040087e1b7b372f0ff32d6631147b5", "message": "refactored calls for dasboards duedatestat arrays", "committedDate": "2020-12-22T15:36:24Z", "type": "commit"}, {"oid": "50f8fda8ddb7d09bb3cecefdff916e90d2670d34", "url": "https://github.com/ls1intum/Artemis/commit/50f8fda8ddb7d09bb3cecefdff916e90d2670d34", "message": "refactoring", "committedDate": "2020-12-22T15:51:47Z", "type": "commit"}, {"oid": "bf419923b870ace6c0abd3120a2e7848b3662c80", "url": "https://github.com/ls1intum/Artemis/commit/bf419923b870ace6c0abd3120a2e7848b3662c80", "message": "refactored count methods", "committedDate": "2020-12-22T15:59:44Z", "type": "commit"}, {"oid": "5dfac1a500dfd453b959e0995ae04777f8fab45f", "url": "https://github.com/ls1intum/Artemis/commit/5dfac1a500dfd453b959e0995ae04777f8fab45f", "message": "bug fix", "committedDate": "2020-12-22T16:19:28Z", "type": "commit"}, {"oid": "d4ecd7c4cafcf0b74ff81e846c17bbbd3574f3ae", "url": "https://github.com/ls1intum/Artemis/commit/d4ecd7c4cafcf0b74ff81e846c17bbbd3574f3ae", "message": "bug fix", "committedDate": "2020-12-22T16:21:47Z", "type": "commit"}, {"oid": "fb25f39553a3b772015b3ec2b2cfd44f920826d5", "url": "https://github.com/ls1intum/Artemis/commit/fb25f39553a3b772015b3ec2b2cfd44f920826d5", "message": "added programmingExercise assessment counting", "committedDate": "2020-12-22T16:30:11Z", "type": "commit"}, {"oid": "e159ce2e527bdaf3c04553a18025eee566946e9b", "url": "https://github.com/ls1intum/Artemis/commit/e159ce2e527bdaf3c04553a18025eee566946e9b", "message": "Apply suggestions from code review\n\nCo-authored-by: Stephan Krusche <krusche@in.tum.de>", "committedDate": "2020-12-22T17:42:42Z", "type": "commit"}, {"oid": "dc32ad9d3d83271724b36d426b86da003ad3d5b3", "url": "https://github.com/ls1intum/Artemis/commit/dc32ad9d3d83271724b36d426b86da003ad3d5b3", "message": "renamed db field", "committedDate": "2020-12-22T17:53:33Z", "type": "commit"}, {"oid": "b9509eb61c181c469a7499e47e7c632a52069693", "url": "https://github.com/ls1intum/Artemis/commit/b9509eb61c181c469a7499e47e7c632a52069693", "message": "renamed db column", "committedDate": "2020-12-22T20:21:00Z", "type": "commit"}, {"oid": "d7157cd22806c8aed34764818717d453ab4ab959", "url": "https://github.com/ls1intum/Artemis/commit/d7157cd22806c8aed34764818717d453ab4ab959", "message": "Fixed bug where the exam progressbar was broken due to faulty query", "committedDate": "2020-12-23T08:55:14Z", "type": "commit"}, {"oid": "b26ddee54ca6e07afa7ac71b97ff79551357c35e", "url": "https://github.com/ls1intum/Artemis/commit/b26ddee54ca6e07afa7ac71b97ff79551357c35e", "message": "fix failing test", "committedDate": "2020-12-23T09:12:14Z", "type": "commit"}, {"oid": "78861ccc7e317a44a2eab1cc810355cc1ea1cb85", "url": "https://github.com/ls1intum/Artemis/commit/78861ccc7e317a44a2eab1cc810355cc1ea1cb85", "message": "fix html index of correctionround", "committedDate": "2020-12-23T09:15:55Z", "type": "commit"}, {"oid": "5d452f1f8be6205556051abd62afe4cf7925d077", "url": "https://github.com/ls1intum/Artemis/commit/5d452f1f8be6205556051abd62afe4cf7925d077", "message": "added query to programmingExerciseRepository", "committedDate": "2020-12-23T09:34:39Z", "type": "commit"}, {"oid": "05f856a7ae4afac55a59bdc8078977cc2ec2de03", "url": "https://github.com/ls1intum/Artemis/commit/05f856a7ae4afac55a59bdc8078977cc2ec2de03", "message": "fixed test failing due to missing attribute", "committedDate": "2020-12-23T09:53:40Z", "type": "commit"}, {"oid": "32355e1a19099e70ac7a057e4498ee0bef335802", "url": "https://github.com/ls1intum/Artemis/commit/32355e1a19099e70ac7a057e4498ee0bef335802", "message": "refactor methods", "committedDate": "2020-12-23T14:14:51Z", "type": "commit"}, {"oid": "a280bb17fc0cb2da81d00deaf52db45680b19830", "url": "https://github.com/ls1intum/Artemis/commit/a280bb17fc0cb2da81d00deaf52db45680b19830", "message": "refactoring, renaming of method with bad naming, fixed test", "committedDate": "2020-12-23T14:34:45Z", "type": "commit"}, {"oid": "a6cfe62e8c787c6b81dfeade6ed269f3bd34db34", "url": "https://github.com/ls1intum/Artemis/commit/a6cfe62e8c787c6b81dfeade6ed269f3bd34db34", "message": "changed exam-update interface", "committedDate": "2020-12-23T16:10:36Z", "type": "commit"}, {"oid": "60b22c9b14fc850ce4bf62e52dda09b24fdca170", "url": "https://github.com/ls1intum/Artemis/commit/60b22c9b14fc850ce4bf62e52dda09b24fdca170", "message": "only allow 1 or 2 as input for correctionRounds", "committedDate": "2020-12-23T16:18:29Z", "type": "commit"}, {"oid": "46c3207eebeb056310d81358a9f2359af655fc69", "url": "https://github.com/ls1intum/Artemis/commit/46c3207eebeb056310d81358a9f2359af655fc69", "message": "removed displaying of correctionRounds in exam information component", "committedDate": "2020-12-23T18:16:43Z", "type": "commit"}, {"oid": "506f9a021002afd3974c8d39945d7e055d685806", "url": "https://github.com/ls1intum/Artemis/commit/506f9a021002afd3974c8d39945d7e055d685806", "message": "Merge branch 'develop' into feature/exam-multi-correction/exam-db-and-view-changes", "committedDate": "2020-12-23T18:40:56Z", "type": "commit"}, {"oid": "90c91fcd5cb155f625d8fff423b26ec0bfcfb9dd", "url": "https://github.com/ls1intum/Artemis/commit/90c91fcd5cb155f625d8fff423b26ec0bfcfb9dd", "message": "fixed naming of variable", "committedDate": "2020-12-26T15:31:01Z", "type": "commit"}, {"oid": "71756e2e5fa4112ca2e95ca6974dc0ad007d05dc", "url": "https://github.com/ls1intum/Artemis/commit/71756e2e5fa4112ca2e95ca6974dc0ad007d05dc", "message": "added tests, added missing calls to setLatestSubmissionResults, fixed count query", "committedDate": "2020-12-27T10:48:03Z", "type": "commit"}, {"oid": "4ef024935133b47c57327ec64cfe4f3f4538ae06", "url": "https://github.com/ls1intum/Artemis/commit/4ef024935133b47c57327ec64cfe4f3f4538ae06", "message": "client log statements for debugging", "committedDate": "2020-12-27T12:56:17Z", "type": "commit"}, {"oid": "77e52821dfa3cee6efe36244c53239998ca9b470", "url": "https://github.com/ls1intum/Artemis/commit/77e52821dfa3cee6efe36244c53239998ca9b470", "message": "client log statements for debugging 2", "committedDate": "2020-12-27T12:59:11Z", "type": "commit"}, {"oid": "fd013c75872335302ba77257bb53e7b9f0541a9b", "url": "https://github.com/ls1intum/Artemis/commit/fd013c75872335302ba77257bb53e7b9f0541a9b", "message": "client log statements for debugging 3", "committedDate": "2020-12-27T13:02:33Z", "type": "commit"}, {"oid": "52a91010fb7bf313e570d1075836a99cad43d84f", "url": "https://github.com/ls1intum/Artemis/commit/52a91010fb7bf313e570d1075836a99cad43d84f", "message": "Fix progressbar Bug, added logs for debugging", "committedDate": "2020-12-27T14:39:05Z", "type": "commit"}, {"oid": "70fce0ccd74a2c424404a87dc73d4af69ac60b74", "url": "https://github.com/ls1intum/Artemis/commit/70fce0ccd74a2c424404a87dc73d4af69ac60b74", "message": "removed log statements", "committedDate": "2020-12-27T15:08:41Z", "type": "commit"}, {"oid": "4c8a315c57ea5cda62402812a50a3a5f926215a9", "url": "https://github.com/ls1intum/Artemis/commit/4c8a315c57ea5cda62402812a50a3a5f926215a9", "message": "added first changes for second correction view changes", "committedDate": "2020-12-28T00:46:02Z", "type": "commit"}, {"oid": "c020ad3466ea6233f42c9d91bf5a965b0341e777", "url": "https://github.com/ls1intum/Artemis/commit/c020ad3466ea6233f42c9d91bf5a965b0341e777", "message": "First version of method refactorings", "committedDate": "2020-12-28T09:14:01Z", "type": "commit"}, {"oid": "1f9448cfa3eba9a488a02d1c7c639b290f343ef1", "url": "https://github.com/ls1intum/Artemis/commit/1f9448cfa3eba9a488a02d1c7c639b290f343ef1", "message": "small refactoring", "committedDate": "2020-12-28T09:35:46Z", "type": "commit"}, {"oid": "fe5d7a774b8478e9d6de747a93fc5b06b6fc3bf8", "url": "https://github.com/ls1intum/Artemis/commit/fe5d7a774b8478e9d6de747a93fc5b06b6fc3bf8", "message": "added correct correctionround handling to queries for submissions without assessemnt", "committedDate": "2020-12-28T10:15:56Z", "type": "commit"}, {"oid": "1d4c05cdd63e31a654f14ab3e6c0d4824c2df5bd", "url": "https://github.com/ls1intum/Artemis/commit/1d4c05cdd63e31a654f14ab3e6c0d4824c2df5bd", "message": "getAllSubmissions client and server changes: use correctionRound", "committedDate": "2020-12-28T10:26:31Z", "type": "commit"}, {"oid": "3c7aa135dcba2f7cd73e87f0caa33cd085623e72", "url": "https://github.com/ls1intum/Artemis/commit/3c7aa135dcba2f7cd73e87f0caa33cd085623e72", "message": "Merge branch 'feature/exam-multi-correction/exam-multi-correction' of https://github.com/ls1intum/Artemis into feature/exam-multi-correction/exam-multi-correction", "committedDate": "2020-12-28T10:27:03Z", "type": "commit"}, {"oid": "dfd6e7a6f0c2a049d61823a22f6841e1c165f2ab", "url": "https://github.com/ls1intum/Artemis/commit/dfd6e7a6f0c2a049d61823a22f6841e1c165f2ab", "message": "finished REST call and function changes", "committedDate": "2020-12-28T10:41:54Z", "type": "commit"}, {"oid": "cef0dd4e46ef010541c85ad24bfa27e0e5614424", "url": "https://github.com/ls1intum/Artemis/commit/cef0dd4e46ef010541c85ad24bfa27e0e5614424", "message": "fixed query with missing parameters", "committedDate": "2020-12-28T10:56:58Z", "type": "commit"}, {"oid": "f2227df5626d46bf6cff7f88a5d4a9b284822e26", "url": "https://github.com/ls1intum/Artemis/commit/f2227df5626d46bf6cff7f88a5d4a9b284822e26", "message": "work on query, added request for all correctionrounds to client", "committedDate": "2020-12-28T11:52:15Z", "type": "commit"}, {"oid": "ee9073b1fd5e973fddce27a88987ce4a127230e5", "url": "https://github.com/ls1intum/Artemis/commit/ee9073b1fd5e973fddce27a88987ce4a127230e5", "message": "fixed bad query, second correction is now shown.", "committedDate": "2020-12-28T12:33:29Z", "type": "commit"}, {"oid": "0eab2ef5a16bfc04cff09daf58c00ce23dfba79c", "url": "https://github.com/ls1intum/Artemis/commit/0eab2ef5a16bfc04cff09daf58c00ce23dfba79c", "message": "added /round/ to REST calls", "committedDate": "2020-12-28T15:29:27Z", "type": "commit"}, {"oid": "44806ecc3bf89ba7737d272901a1d6870d5d36a5", "url": "https://github.com/ls1intum/Artemis/commit/44806ecc3bf89ba7737d272901a1d6870d5d36a5", "message": "changed correctionRound 1 to 0", "committedDate": "2020-12-28T15:54:33Z", "type": "commit"}, {"oid": "2d26f8f3803502763d953e865a6528c715db6388", "url": "https://github.com/ls1intum/Artemis/commit/2d26f8f3803502763d953e865a6528c715db6388", "message": "show progress bars correctly", "committedDate": "2020-12-28T23:17:59Z", "type": "commit"}, {"oid": "fc4d6d9be5dd1285436267a6fc4e8ffd39efca6f", "url": "https://github.com/ls1intum/Artemis/commit/fc4d6d9be5dd1285436267a6fc4e8ffd39efca6f", "message": "removed unnecessary code", "committedDate": "2020-12-29T06:18:55Z", "type": "commit"}, {"oid": "a7d000bcf959493aa9d3fe817eda53d8c3fd713c", "url": "https://github.com/ls1intum/Artemis/commit/a7d000bcf959493aa9d3fe817eda53d8c3fd713c", "message": "changed correctionround 1 to 0 in exercsie assesssment dashboard", "committedDate": "2020-12-29T09:29:31Z", "type": "commit"}, {"oid": "d7a3558eef10c68b42b51b26192e29bfcb92275b", "url": "https://github.com/ls1intum/Artemis/commit/d7a3558eef10c68b42b51b26192e29bfcb92275b", "message": "small fix", "committedDate": "2020-12-29T09:31:11Z", "type": "commit"}, {"oid": "95470345b9927474feb720061404987e30778698", "url": "https://github.com/ls1intum/Artemis/commit/95470345b9927474feb720061404987e30778698", "message": "refactored methods", "committedDate": "2020-12-29T09:44:48Z", "type": "commit"}, {"oid": "7e547100380b7369135e2e4ba9e4b6ed51363224", "url": "https://github.com/ls1intum/Artemis/commit/7e547100380b7369135e2e4ba9e4b6ed51363224", "message": "fixed 2 small bugs", "committedDate": "2020-12-29T12:00:38Z", "type": "commit"}, {"oid": "0c302fcb0559d9f97d5aff51cdd3f2e359e87ae3", "url": "https://github.com/ls1intum/Artemis/commit/0c302fcb0559d9f97d5aff51cdd3f2e359e87ae3", "message": "merge develop", "committedDate": "2021-01-02T08:32:51Z", "type": "commit"}, {"oid": "2061e3b8b6a8f6950c6a4708eaf9bd43891f5e72", "url": "https://github.com/ls1intum/Artemis/commit/2061e3b8b6a8f6950c6a4708eaf9bd43891f5e72", "message": "fixed bug in html, added debug information for bug fixing", "committedDate": "2021-01-02T09:34:06Z", "type": "commit"}, {"oid": "17543fe17798e264e7feea4189e83e3393fa80ab", "url": "https://github.com/ls1intum/Artemis/commit/17543fe17798e264e7feea4189e83e3393fa80ab", "message": "added tests to tutor-participation-graph", "committedDate": "2021-01-02T14:13:41Z", "type": "commit"}, {"oid": "c5d4b5144863fb53a48f198c36539ad8b68b154e", "url": "https://github.com/ls1intum/Artemis/commit/c5d4b5144863fb53a48f198c36539ad8b68b154e", "message": "fixed tests", "committedDate": "2021-01-02T18:35:25Z", "type": "commit"}, {"oid": "0e72564e3b6cc91106d8aa135a81ed095bf33c92", "url": "https://github.com/ls1intum/Artemis/commit/0e72564e3b6cc91106d8aa135a81ed095bf33c92", "message": "adapted java tests to new REST calls", "committedDate": "2021-01-02T23:08:02Z", "type": "commit"}, {"oid": "63e9ac15fc0c0521741b40d9bd9dbab01c09bd5f", "url": "https://github.com/ls1intum/Artemis/commit/63e9ac15fc0c0521741b40d9bd9dbab01c09bd5f", "message": "fixed some query problems", "committedDate": "2021-01-02T23:24:17Z", "type": "commit"}, {"oid": "d99e291e1eebd8e02dd80c24368e5f32ca74ea3b", "url": "https://github.com/ls1intum/Artemis/commit/d99e291e1eebd8e02dd80c24368e5f32ca74ea3b", "message": "Merge branch 'feature/exam-multi-correction/exam-multi-correction' of https://github.com/ls1intum/Artemis into feature/exam-multi-correction/exam-multi-correction", "committedDate": "2021-01-02T23:24:36Z", "type": "commit"}, {"oid": "b33daca9cbf51a4ad9c88dd404264fe747524780", "url": "https://github.com/ls1intum/Artemis/commit/b33daca9cbf51a4ad9c88dd404264fe747524780", "message": "fixed bugs", "committedDate": "2021-01-03T14:36:28Z", "type": "commit"}, {"oid": "94c16e6d4ed10d70717c12eead42132ae4fb8f6d", "url": "https://github.com/ls1intum/Artemis/commit/94c16e6d4ed10d70717c12eead42132ae4fb8f6d", "message": "simplyfied code", "committedDate": "2021-01-03T14:50:24Z", "type": "commit"}, {"oid": "bb466375cfeb5bb7d933e0481c41ac8c047390d9", "url": "https://github.com/ls1intum/Artemis/commit/bb466375cfeb5bb7d933e0481c41ac8c047390d9", "message": "fixed three tests and removed log statements", "committedDate": "2021-01-03T15:28:36Z", "type": "commit"}, {"oid": "52c62a71974ad40fd4a77235ff9f673f99a5a668", "url": "https://github.com/ls1intum/Artemis/commit/52c62a71974ad40fd4a77235ff9f673f99a5a668", "message": "Merge branch 'develop' into feature/exam-multi-correction/exam-multi-correction", "committedDate": "2021-01-03T16:22:56Z", "type": "commit"}, {"oid": "678904caaa74cf9bc1bb54e94ced89e4a099db09", "url": "https://github.com/ls1intum/Artemis/commit/678904caaa74cf9bc1bb54e94ced89e4a099db09", "message": "fixed codestyle and disabled second correction: new assessment button", "committedDate": "2021-01-03T17:30:00Z", "type": "commit"}, {"oid": "9980beb7fa0c880abbb6b814c57d6c9e30ad07e4", "url": "https://github.com/ls1intum/Artemis/commit/9980beb7fa0c880abbb6b814c57d6c9e30ad07e4", "message": "first version of server tests for new multi correction queries", "committedDate": "2021-01-03T18:12:12Z", "type": "commit"}, {"oid": "fa0133402225e38c69e7eb676f0dc7ccc447b12a", "url": "https://github.com/ls1intum/Artemis/commit/fa0133402225e38c69e7eb676f0dc7ccc447b12a", "message": "second version of server tests for new multi correction queries", "committedDate": "2021-01-03T18:22:58Z", "type": "commit"}, {"oid": "ad84a311663dd6be855baa7a9eaada9f8e9b9a68", "url": "https://github.com/ls1intum/Artemis/commit/ad84a311663dd6be855baa7a9eaada9f8e9b9a68", "message": "simplyfied qurey and put correctionRound filter out of SQL into java", "committedDate": "2021-01-03T21:22:39Z", "type": "commit"}, {"oid": "662602f39ee02bb992875442d661f6b39532b060", "url": "https://github.com/ls1intum/Artemis/commit/662602f39ee02bb992875442d661f6b39532b060", "message": "fixed test", "committedDate": "2021-01-03T21:26:51Z", "type": "commit"}, {"oid": "1f13df0eb44eec7cfa08de2399e24a6f5033a8a2", "url": "https://github.com/ls1intum/Artemis/commit/1f13df0eb44eec7cfa08de2399e24a6f5033a8a2", "message": "Merge branch 'feature/exam-multi-correction/exam-multi-correction' of https://github.com/ls1intum/Artemis into feature/exam-multi-correction/exam-multi-correction", "committedDate": "2021-01-03T21:33:46Z", "type": "commit"}, {"oid": "f10c145bc3389b7086e2719393b9df875fd5cc12", "url": "https://github.com/ls1intum/Artemis/commit/f10c145bc3389b7086e2719393b9df875fd5cc12", "message": "fixed revert commit", "committedDate": "2021-01-04T07:02:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTI1MDYzOA==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r551250638", "bodyText": "How to you ensure that only assessments which do not have a manual result are selected if you remove this?", "author": "anditurdiu", "createdAt": "2021-01-04T11:03:43Z", "path": "src/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java", "diffHunk": "@@ -117,26 +117,41 @@\n     Optional<StudentParticipation> findByExerciseIdAndTeamIdWithLatestResult(@Param(\"exerciseId\") Long exerciseId, @Param(\"teamId\") Long teamId);\n \n     /**\n+     * todo SE, NR: maybe re-add\n+     * 'and not exists (select prs from participation.results prs where prs.assessmentType IN ('MANUAL', 'SEMI_AUTOMATIC'))'\n+     *\n      * Find all participations of submissions that are submitted and do not already have a manual result and do not belong to test runs.\n      * No manual result means that no user has started an assessment for the corresponding submission yet.\n      *\n      * If a student can have multiple submissions per exercise type, the latest submission (by id) will be returned.\n      *\n+     * @param correctionRound the correction round the fetched results should belong to\n      * @param exerciseId the exercise id the participations should belong to\n      * @return a list of participations including their submitted submissions that do not have a manual result\n      */\n     @Query(\"\"\"\n             select distinct participation from StudentParticipation participation\n             left join fetch participation.submissions submission\n-            left join fetch submission.results result\n-            left join fetch result.feedbacks feedbacks\n+            left join fetch submission.results results\n+            left join fetch results.feedbacks feedbacks\n             where participation.exercise.id = :#{#exerciseId}\n+            and 0L = (SELECT COUNT(r2)\n+                             FROM Result r2 where r2.assessor IS NOT NULL\n+                                 AND (r2.rated IS NULL OR r2.rated = FALSE)\n+                                 AND r2.submission = submission)\n+            and\n+              :#{#correctionRound} = (SELECT COUNT(r)\n+                             FROM Result r where r.assessor IS NOT NULL\n+                                 AND r.rated = TRUE\n+                                 AND r.submission = submission\n+                                 AND r.completionDate IS NOT NULL AND\n+                                 (participation.exercise.dueDate IS NULL OR r.submission.submissionDate <= participation.exercise.dueDate))\n             and not exists (select prs from participation.results prs where prs.assessor.id = participation.student.id)\n-            and not exists (select prs from participation.results prs where prs.assessmentType IN ('MANUAL', 'SEMI_AUTOMATIC'))", "originalCommit": "f10c145bc3389b7086e2719393b9df875fd5cc12", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjAzNTYxMg==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552035612", "bodyText": "We added it inside the subquery now", "author": "nicolasruscher", "createdAt": "2021-01-05T16:16:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTI1MDYzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTI1MTE2Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r551251166", "bodyText": "This can be removed since it is not used", "author": "anditurdiu", "createdAt": "2021-01-04T11:04:53Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ResultService.java", "diffHunk": "@@ -37,6 +37,8 @@\n \n     private final FeedbackRepository feedbackRepository;\n \n+    private final ProgrammingExerciseRepository programmingExerciseRepository;", "originalCommit": "f10c145bc3389b7086e2719393b9df875fd5cc12", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8ba2942c795602bf2b31bcc075ace612f3e166d4", "url": "https://github.com/ls1intum/Artemis/commit/8ba2942c795602bf2b31bcc075ace612f3e166d4", "message": "fixed correctly displaying finished/unfinisehd, and exercises with 0 submissions", "committedDate": "2021-01-04T11:12:52Z", "type": "commit"}, {"oid": "412b99902d9f29bf860b56f14da0fb9563353795", "url": "https://github.com/ls1intum/Artemis/commit/412b99902d9f29bf860b56f14da0fb9563353795", "message": "small updates, wip", "committedDate": "2021-01-04T13:38:33Z", "type": "commit"}, {"oid": "8173b5193b7a4ecfccf35f867892ac67c08dd12a", "url": "https://github.com/ls1intum/Artemis/commit/8173b5193b7a4ecfccf35f867892ac67c08dd12a", "message": "updated query tests to support modelingexercises", "committedDate": "2021-01-04T14:36:37Z", "type": "commit"}, {"oid": "0f7947066b51d73c1bcf4548ffe43cbb784cc630", "url": "https://github.com/ls1intum/Artemis/commit/0f7947066b51d73c1bcf4548ffe43cbb784cc630", "message": "updated query tests", "committedDate": "2021-01-04T15:04:09Z", "type": "commit"}, {"oid": "108faf4e649f95a50a8413b514801845b4bd0f3f", "url": "https://github.com/ls1intum/Artemis/commit/108faf4e649f95a50a8413b514801845b4bd0f3f", "message": "tried fixing query", "committedDate": "2021-01-04T19:09:33Z", "type": "commit"}, {"oid": "2ea4fa3f8edcafb1d85f7b875cc388fcd5f3199f", "url": "https://github.com/ls1intum/Artemis/commit/2ea4fa3f8edcafb1d85f7b875cc388fcd5f3199f", "message": "changed correctionRound assignment", "committedDate": "2021-01-04T20:44:47Z", "type": "commit"}, {"oid": "bcce93d378394efa51347bbd60fbe515c97b9eef", "url": "https://github.com/ls1intum/Artemis/commit/bcce93d378394efa51347bbd60fbe515c97b9eef", "message": "Merge branch 'feature/exam-multi-correction/exam-multi-correction' of https://github.com/ls1intum/Artemis into feature/exam-multi-correction/exam-multi-correction", "committedDate": "2021-01-04T20:45:13Z", "type": "commit"}, {"oid": "39209912fa9a2a27dc5700b5d5929116078ea6d1", "url": "https://github.com/ls1intum/Artemis/commit/39209912fa9a2a27dc5700b5d5929116078ea6d1", "message": "removed console logs", "committedDate": "2021-01-04T22:44:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxMzIzMg==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r551913232", "bodyText": "if this is a TODO for a follow-up, please write it as TODO: so it is consistent with other TODOs.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * todo SE, NR: maybe re-add\n          \n          \n            \n                 * TODO: SE, NR: maybe re-add", "author": "derLalla", "createdAt": "2021-01-05T12:52:51Z", "path": "src/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java", "diffHunk": "@@ -117,11 +117,15 @@\n     Optional<StudentParticipation> findByExerciseIdAndTeamIdWithLatestResult(@Param(\"exerciseId\") Long exerciseId, @Param(\"teamId\") Long teamId);\n \n     /**\n+     * todo SE, NR: maybe re-add", "originalCommit": "39209912fa9a2a27dc5700b5d5929116078ea6d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxNDE0Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r551914142", "bodyText": "it would be nice to always have uppercase SQL commands:\nSELECT distinct participation.....\nLEFT JOIN FETCH participation ...", "author": "derLalla", "createdAt": "2021-01-05T12:54:38Z", "path": "src/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java", "diffHunk": "@@ -131,12 +135,27 @@\n             left join fetch submission.results result\n             left join fetch result.feedbacks feedbacks\n             where participation.exercise.id = :#{#exerciseId}", "originalCommit": "39209912fa9a2a27dc5700b5d5929116078ea6d1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxNTAyNw==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r551915027", "bodyText": "here it is mixed uppercase and lowercase commands. -> LEFT JOIN FETCH", "author": "derLalla", "createdAt": "2021-01-05T12:56:20Z", "path": "src/main/java/de/tum/in/www1/artemis/repository/StudentParticipationRepository.java", "diffHunk": "@@ -182,7 +208,20 @@ and not exists (select prs from participation.results prs where prs.assessmentTy\n     @EntityGraph(type = LOAD, attributePaths = { \"submissions\", \"submissions.results\", \"submissions.results.assessor\" })\n     List<StudentParticipation> findAllWithEagerSubmissionsAndEagerResultsAndEagerAssessorByExerciseId(long exerciseId);\n \n-    @Query(\"SELECT DISTINCT p FROM StudentParticipation p left join fetch p.submissions s left join fetch s.results r left join fetch r.assessor a WHERE p.exercise.id = :#{#exerciseId} AND NOT EXISTS (select prs from p.results prs where prs.assessor.id = p.student.id)\")\n+    // TODO SE: use correctionRound\n+    @Query(\"\"\"\n+            SELECT DISTINCT p FROM StudentParticipation p left join fetch p.submissions s left join fetch s.results r left join fetch r.assessor a", "originalCommit": "39209912fa9a2a27dc5700b5d5929116078ea6d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA2Nzg1OA==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552067858", "bodyText": "done \ud83d\udc4d", "author": "nicolasruscher", "createdAt": "2021-01-05T17:06:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxNTAyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxNTY1Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r551915657", "bodyText": "is this split intended?", "author": "derLalla", "createdAt": "2021-01-05T12:57:29Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ExerciseService.java", "diffHunk": "@@ -355,7 +355,7 @@ public void cleanup(Long exerciseId, boolean deleteRepositories) {\n \n         }\n         else {\n-            log.warn(\"Exercise with exerciseId {} is not an instance of ProgrammingExercise. Ignoring the request to cleanup repositories and build plan\", exerciseId);\n+            log.warn(\"Exercise with exerciseId {} is not an instance of ProgrammingExercise. \" + \"Ignoring the request to cleanup repositories and build plan\", exerciseId);", "originalCommit": "39209912fa9a2a27dc5700b5d5929116078ea6d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjAzNjAzMw==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552036033", "bodyText": "nope, we will remove it.", "author": "nicolasruscher", "createdAt": "2021-01-05T16:16:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxNTY1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxNjA4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r551916087", "bodyText": "use TODO: here", "author": "derLalla", "createdAt": "2021-01-05T12:58:20Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ProgrammingSubmissionService.java", "diffHunk": "@@ -668,10 +675,12 @@ public ProgrammingSubmission lockAndGetProgrammingSubmission(Long submissionId)\n      * Get a programming submission of the given exercise that still needs to be assessed and lock the submission to prevent other tutors from receiving and assessing it.\n      *\n      * @param exercise the exercise the submission should belong to\n+     * @param correctionRound - the correction round we want our submission to have results for\n      * @return a locked programming submission that needs an assessment\n+     * //todo NR: used to start assessemt via dashboard", "originalCommit": "39209912fa9a2a27dc5700b5d5929116078ea6d1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjAzNjM3MA==", "url": "https://github.com/ls1intum/Artemis/pull/2610#discussion_r552036370", "bodyText": "thanks!", "author": "nicolasruscher", "createdAt": "2021-01-05T16:17:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTkxNjA4Nw=="}], "type": "inlineReview"}]}