{"pr_number": 2127, "pr_title": "[Feature] Overview for students' questions", "pr_createdAt": "2020-09-27T15:14:23Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2127", "timeline": [{"oid": "ce1ec35fa37ed8f4c27e69d922a38db7a008ed47", "url": "https://github.com/ls1intum/Artemis/commit/ce1ec35fa37ed8f4c27e69d922a38db7a008ed47", "message": "initialize components and route", "committedDate": "2020-09-08T13:19:52Z", "type": "commit"}, {"oid": "dc841b50fff75b8cc0d6643bf18f6d126b5c74f1", "url": "https://github.com/ls1intum/Artemis/commit/dc841b50fff75b8cc0d6643bf18f6d126b5c74f1", "message": "adjust routing to questions overview page", "committedDate": "2020-09-08T14:42:52Z", "type": "commit"}, {"oid": "c6123e6899b512b2a5d7e853f7d2c2822a2a084d", "url": "https://github.com/ls1intum/Artemis/commit/c6123e6899b512b2a5d7e853f7d2c2822a2a084d", "message": "load course", "committedDate": "2020-09-09T07:01:43Z", "type": "commit"}, {"oid": "c0e86d791825e2d3841a32a4ff9323aa2be6ca8a", "url": "https://github.com/ls1intum/Artemis/commit/c0e86d791825e2d3841a32a4ff9323aa2be6ca8a", "message": "init api endpoint", "committedDate": "2020-09-21T18:46:23Z", "type": "commit"}, {"oid": "4eb1f07be883f77ef8a5b134c9e0e5b4394217d9", "url": "https://github.com/ls1intum/Artemis/commit/4eb1f07be883f77ef8a5b134c9e0e5b4394217d9", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/questions-answers/overview", "committedDate": "2020-09-21T18:47:14Z", "type": "commit"}, {"oid": "80f4cdc0cc4ad9dbccd8b4aae4f0d06ead5e1770", "url": "https://github.com/ls1intum/Artemis/commit/80f4cdc0cc4ad9dbccd8b4aae4f0d06ead5e1770", "message": "change api call", "committedDate": "2020-09-21T20:40:24Z", "type": "commit"}, {"oid": "07cb06b8659e5b81aa1c755e0d04193a994fa889", "url": "https://github.com/ls1intum/Artemis/commit/07cb06b8659e5b81aa1c755e0d04193a994fa889", "message": "move method in service", "committedDate": "2020-09-25T19:06:15Z", "type": "commit"}, {"oid": "7c66b9404d5b861ef39b84541a69534e3966cfb1", "url": "https://github.com/ls1intum/Artemis/commit/7c66b9404d5b861ef39b84541a69534e3966cfb1", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/questions-answers/overview", "committedDate": "2020-09-25T19:07:01Z", "type": "commit"}, {"oid": "6d3aaf87cea90afb86acc228dfddc31223602c45", "url": "https://github.com/ls1intum/Artemis/commit/6d3aaf87cea90afb86acc228dfddc31223602c45", "message": "init table", "committedDate": "2020-09-26T15:02:45Z", "type": "commit"}, {"oid": "b651e131272cca85c5b5bcbe083586f9d9b4cb10", "url": "https://github.com/ls1intum/Artemis/commit/b651e131272cca85c5b5bcbe083586f9d9b4cb10", "message": "add java test, prettier, spotless", "committedDate": "2020-09-26T20:25:28Z", "type": "commit"}, {"oid": "fbbea51267930501ea993ea8f062867ca084a48f", "url": "https://github.com/ls1intum/Artemis/commit/fbbea51267930501ea993ea8f062867ca084a48f", "message": "add translations", "committedDate": "2020-09-26T21:24:12Z", "type": "commit"}, {"oid": "0639c4931e18a6b94dd76bce64f9c077f2bd6b57", "url": "https://github.com/ls1intum/Artemis/commit/0639c4931e18a6b94dd76bce64f9c077f2bd6b57", "message": "enable sorting", "committedDate": "2020-09-26T22:05:30Z", "type": "commit"}, {"oid": "843ebc5df06a4101609b6eb4198962908180adc3", "url": "https://github.com/ls1intum/Artemis/commit/843ebc5df06a4101609b6eb4198962908180adc3", "message": "add service test", "committedDate": "2020-09-26T22:05:51Z", "type": "commit"}, {"oid": "bd15da4c009f6fc9a60b11b599238e1edf6c3b14", "url": "https://github.com/ls1intum/Artemis/commit/bd15da4c009f6fc9a60b11b599238e1edf6c3b14", "message": "improve styling", "committedDate": "2020-09-27T14:31:27Z", "type": "commit"}, {"oid": "c9a4c91ba8ffff1fc17cd6507f363512740210f6", "url": "https://github.com/ls1intum/Artemis/commit/c9a4c91ba8ffff1fc17cd6507f363512740210f6", "message": "add component method test", "committedDate": "2020-09-27T15:12:41Z", "type": "commit"}, {"oid": "ed30b3c87e3f078878b1ed02a02a62d2c72bcb7b", "url": "https://github.com/ls1intum/Artemis/commit/ed30b3c87e3f078878b1ed02a02a62d2c72bcb7b", "message": "fix codacy issue", "committedDate": "2020-09-27T15:21:32Z", "type": "commit"}, {"oid": "ea110a3b12c2974375cc96ecf0c7fd2e041bc886", "url": "https://github.com/ls1intum/Artemis/commit/ea110a3b12c2974375cc96ecf0c7fd2e041bc886", "message": "fix failing test", "committedDate": "2020-09-27T16:26:30Z", "type": "commit"}, {"oid": "ab721075baf026c4b334c11434ddf83f328f73b0", "url": "https://github.com/ls1intum/Artemis/commit/ab721075baf026c4b334c11434ddf83f328f73b0", "message": "remove unused", "committedDate": "2020-09-27T17:19:06Z", "type": "commit"}, {"oid": "4d1e8a300f7a0639e565f6f99b429b3b52733138", "url": "https://github.com/ls1intum/Artemis/commit/4d1e8a300f7a0639e565f6f99b429b3b52733138", "message": "remove route param sub", "committedDate": "2020-09-29T10:05:00Z", "type": "commit"}, {"oid": "a07acbd3f24069764346880cc0545f03388478d6", "url": "https://github.com/ls1intum/Artemis/commit/a07acbd3f24069764346880cc0545f03388478d6", "message": "allow sorting for all fields", "committedDate": "2020-09-29T11:07:14Z", "type": "commit"}, {"oid": "01a87f6b0348ae045659349e0a55e9d655f56922", "url": "https://github.com/ls1intum/Artemis/commit/01a87f6b0348ae045659349e0a55e9d655f56922", "message": "Merge branch 'develop' into feature/questions-answers/overview", "committedDate": "2020-09-29T17:16:04Z", "type": "commit"}, {"oid": "925d7a92204d92ee1335f6f29eac45a314279909", "url": "https://github.com/ls1intum/Artemis/commit/925d7a92204d92ee1335f6f29eac45a314279909", "message": "show / hide questions with approved answers", "committedDate": "2020-09-29T18:14:17Z", "type": "commit"}, {"oid": "ab437427a8fba614be70bbe2a7ab6649aecf0346", "url": "https://github.com/ls1intum/Artemis/commit/ab437427a8fba614be70bbe2a7ab6649aecf0346", "message": "more client tests and docu", "committedDate": "2020-09-29T19:02:20Z", "type": "commit"}, {"oid": "a65424c88bb8ef9902b8e5dce2c4945ce9ed5426", "url": "https://github.com/ls1intum/Artemis/commit/a65424c88bb8ef9902b8e5dce2c4945ce9ed5426", "message": "Merge branch 'feature/questions-answers/overview' of https://github.com/ls1intum/Artemis into feature/questions-answers/overview", "committedDate": "2020-09-29T19:03:48Z", "type": "commit"}, {"oid": "456348fb8515fa87537bdc96a162647efbdffde9", "url": "https://github.com/ls1intum/Artemis/commit/456348fb8515fa87537bdc96a162647efbdffde9", "message": "Merge branch 'develop' into feature/questions-answers/overview", "committedDate": "2020-09-29T19:05:28Z", "type": "commit"}, {"oid": "6e1e1c91d17979fe862efd567f9839da4979bde3", "url": "https://github.com/ls1intum/Artemis/commit/6e1e1c91d17979fe862efd567f9839da4979bde3", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/questions-answers/overview", "committedDate": "2020-10-01T12:21:40Z", "type": "commit"}, {"oid": "ae7b3b33a26004c532dffaff6c9e5fdc47e9a0d4", "url": "https://github.com/ls1intum/Artemis/commit/ae7b3b33a26004c532dffaff6c9e5fdc47e9a0d4", "message": "conform to new typescript guidelines", "committedDate": "2020-10-01T13:02:07Z", "type": "commit"}, {"oid": "fcad92367942662495daccc12d62ff5c47ab6792", "url": "https://github.com/ls1intum/Artemis/commit/fcad92367942662495daccc12d62ff5c47ab6792", "message": "fix file", "committedDate": "2020-10-01T16:08:21Z", "type": "commit"}, {"oid": "4c6e815c33e4756377576d13766a4ff41ceffddf", "url": "https://github.com/ls1intum/Artemis/commit/4c6e815c33e4756377576d13766a4ff41ceffddf", "message": "Merge branch 'develop' into feature/questions-answers/overview", "committedDate": "2020-10-04T10:55:55Z", "type": "commit"}, {"oid": "dcffe696925196086e39afd4c3ed827489ae2737", "url": "https://github.com/ls1intum/Artemis/commit/dcffe696925196086e39afd4c3ed827489ae2737", "message": "add link to exercise or lecture", "committedDate": "2020-10-05T13:40:06Z", "type": "commit"}, {"oid": "728861a5ab37cd526bed04849f47f34159a66fc8", "url": "https://github.com/ls1intum/Artemis/commit/728861a5ab37cd526bed04849f47f34159a66fc8", "message": "prettier", "committedDate": "2020-10-05T15:14:42Z", "type": "commit"}, {"oid": "2b7f7b8ae7db29bf3aa151295502e76414482b13", "url": "https://github.com/ls1intum/Artemis/commit/2b7f7b8ae7db29bf3aa151295502e76414482b13", "message": "Merge branch 'develop' into feature/questions-answers/overview", "committedDate": "2020-10-05T16:05:51Z", "type": "commit"}, {"oid": "a02534a4768f7c227d5a5b459dccd5d4f3415360", "url": "https://github.com/ls1intum/Artemis/commit/a02534a4768f7c227d5a5b459dccd5d4f3415360", "message": "Update src/main/webapp/i18n/de/student-question.json\n\nCo-authored-by: Christian Femers <c.femers@tum.de>", "committedDate": "2020-10-05T18:13:10Z", "type": "commit"}, {"oid": "3278ace2bfdd6556105b13b21a2e32bfc4bc21e1", "url": "https://github.com/ls1intum/Artemis/commit/3278ace2bfdd6556105b13b21a2e32bfc4bc21e1", "message": "Update src/main/webapp/i18n/de/student-question.json\n\nCo-authored-by: Christian Femers <c.femers@tum.de>", "committedDate": "2020-10-05T18:20:06Z", "type": "commit"}, {"oid": "42cc293591df1cfe0cd8d701f1bb5edd4460dd8e", "url": "https://github.com/ls1intum/Artemis/commit/42cc293591df1cfe0cd8d701f1bb5edd4460dd8e", "message": "Update src/main/webapp/i18n/en/student-question.json\n\nCo-authored-by: Christian Femers <c.femers@tum.de>", "committedDate": "2020-10-05T18:20:24Z", "type": "commit"}, {"oid": "67ace82a6c48b47136cd03a146159c68da5690d8", "url": "https://github.com/ls1intum/Artemis/commit/67ace82a6c48b47136cd03a146159c68da5690d8", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into feature/questions-answers/overview\n\n# Conflicts:\n#\tsrc/test/java/de/tum/in/www1/artemis/util/DatabaseUtilService.java", "committedDate": "2020-10-08T17:21:30Z", "type": "commit"}, {"oid": "d1457228be1492171deabc4bd031d25a00bf4658", "url": "https://github.com/ls1intum/Artemis/commit/d1457228be1492171deabc4bd031d25a00bf4658", "message": "move buttons", "committedDate": "2020-10-08T19:03:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4MzI3Ng==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r501983276", "bodyText": "This still says exercise, is that correct?", "author": "FrankeLukas", "createdAt": "2020-10-08T20:08:41Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentQuestionResource.java", "diffHunk": "@@ -179,7 +184,7 @@ public StudentQuestionResource(StudentQuestionRepository studentQuestionReposito\n \n     /**\n      *\n-     * GET /lectures/{lectureId}/student-questions : get all student questions for exercise.\n+     * GET /lectures/{lectureId}/student-questions : get all student questions for lecture.\n      * @param lectureId the lecture that the student questions belong to\n      * @return the ResponseEntity with status 200 (OK) and with body all student questions for exercise", "originalCommit": "d1457228be1492171deabc4bd031d25a00bf4658", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1Mjc1MQ==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r502652751", "bodyText": "No, I changed it to lecture since it is the endpoint to get the questions for a lecture. Must have been forgotten when copy-pasting.", "author": "filip-gregurevic", "createdAt": "2020-10-09T20:18:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4MzI3Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4MzMzNQ==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r501983335", "bodyText": "Same here.", "author": "FrankeLukas", "createdAt": "2020-10-08T20:08:47Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentQuestionResource.java", "diffHunk": "@@ -200,6 +205,28 @@ public StudentQuestionResource(StudentQuestionRepository studentQuestionReposito\n         return new ResponseEntity<>(studentQuestions, null, HttpStatus.OK);\n     }\n \n+    /**\n+     *\n+     * GET /courses/{courseId}/student-questions : get all student questions for course.\n+     * @param courseId the course that the student questions belong to\n+     * @return the ResponseEntity with status 200 (OK) and with body all student questions for exercise", "originalCommit": "d1457228be1492171deabc4bd031d25a00bf4658", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1NDI0NA==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r502654244", "bodyText": "I changed it to say course instead of exercise now.", "author": "filip-gregurevic", "createdAt": "2020-10-09T20:22:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4MzMzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4NDI5Mg==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r501984292", "bodyText": "The other similar calls use hideSensitiveInformation here. Was that intentionally left out for the course questions?", "author": "FrankeLukas", "createdAt": "2020-10-08T20:10:39Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentQuestionResource.java", "diffHunk": "@@ -200,6 +205,28 @@ public StudentQuestionResource(StudentQuestionRepository studentQuestionReposito\n         return new ResponseEntity<>(studentQuestions, null, HttpStatus.OK);\n     }\n \n+    /**\n+     *\n+     * GET /courses/{courseId}/student-questions : get all student questions for course.\n+     * @param courseId the course that the student questions belong to\n+     * @return the ResponseEntity with status 200 (OK) and with body all student questions for exercise\n+     */\n+    @GetMapping(\"courses/{courseId}/student-questions\")\n+    @PreAuthorize(\"hasAnyRole('TA', 'INSTRUCTOR', 'ADMIN')\")\n+    public ResponseEntity<List<StudentQuestion>> getAllQuestionsForCourse(@PathVariable Long courseId) {\n+        final User user = userService.getUserWithGroupsAndAuthorities();\n+        Optional<Course> course = courseRepository.findById(courseId);\n+        if (course.isEmpty()) {\n+            throw new EntityNotFoundException(\"Course with courseId \" + courseId + \" does not exist!\");\n+        }\n+        if (!authorizationCheckService.isAtLeastTeachingAssistantInCourse(course.get(), user)) {\n+            return forbidden();\n+        }\n+        List<StudentQuestion> studentQuestions = studentQuestionService.findStudentQuestionsForCourse(courseId);\n+", "originalCommit": "d1457228be1492171deabc4bd031d25a00bf4658", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY1Mzk1NA==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r502653954", "bodyText": "@FrankeLukas  This is mostly used to hide information students shouldn't be able to see. In this case no such information is sent and the endpoint is only accessible for tutors and instructors.", "author": "filip-gregurevic", "createdAt": "2020-10-09T20:22:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk4NDI5Mg=="}], "type": "inlineReview"}, {"oid": "2d1972f3e1b41c1302c2dd52e3c151d4cd3dfef0", "url": "https://github.com/ls1intum/Artemis/commit/2d1972f3e1b41c1302c2dd52e3c151d4cd3dfef0", "message": "fix java doc", "committedDate": "2020-10-09T20:20:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzE3MzM0Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r503173347", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return the ResponseEntity with status 200 (OK) and with body all student questions for exercise\n          \n          \n            \n                 * @return the ResponseEntity with status 200 (OK) and with body all student questions for lecture", "author": "stefanwaldhauser", "createdAt": "2020-10-12T09:45:50Z", "path": "src/main/java/de/tum/in/www1/artemis/web/rest/StudentQuestionResource.java", "diffHunk": "@@ -179,7 +184,7 @@ public StudentQuestionResource(StudentQuestionRepository studentQuestionReposito\n \n     /**\n      *\n-     * GET /lectures/{lectureId}/student-questions : get all student questions for exercise.\n+     * GET /lectures/{lectureId}/student-questions : get all student questions for lecture.\n      * @param lectureId the lecture that the student questions belong to\n      * @return the ResponseEntity with status 200 (OK) and with body all student questions for exercise", "originalCommit": "2d1972f3e1b41c1302c2dd52e3c151d4cd3dfef0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "781e2c0fa5425c5747c0741f5319c8c47553b2d4", "url": "https://github.com/ls1intum/Artemis/commit/781e2c0fa5425c5747c0741f5319c8c47553b2d4", "message": "Update src/main/java/de/tum/in/www1/artemis/web/rest/StudentQuestionResource.java\n\nCo-authored-by: Stefan Waldhauser <hello@stefanwaldhauser.me>", "committedDate": "2020-10-12T16:14:16Z", "type": "commit"}, {"oid": "5e5342410e5445fb89cee4deb18e13dcf0060e7f", "url": "https://github.com/ls1intum/Artemis/commit/5e5342410e5445fb89cee4deb18e13dcf0060e7f", "message": "Merge branch 'develop' into feature/questions-answers/overview", "committedDate": "2020-10-13T11:29:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzg5MTAwOA==", "url": "https://github.com/ls1intum/Artemis/pull/2127#discussion_r503891008", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void getAllStudentQuestionsForCourse() throws Exception {\n          \n          \n            \n                public void testGetAllStudentQuestionsForCourse() throws Exception {", "author": "kloessst", "createdAt": "2020-10-13T11:58:06Z", "path": "src/test/java/de/tum/in/www1/artemis/StudentQuestionIntegrationTest.java", "diffHunk": "@@ -245,4 +245,14 @@ public void editStudentQuestionVotes_asStudent() throws Exception {\n                 HttpStatus.OK);\n         assertThat(updatedStudentQuestion.getVotes().equals(2));\n     }\n+\n+    @Test\n+    @WithMockUser(username = \"tutor1\", roles = \"TA\")\n+    public void getAllStudentQuestionsForCourse() throws Exception {", "originalCommit": "5e5342410e5445fb89cee4deb18e13dcf0060e7f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "05fca76e082776e0a36a16ddf2cf660eae5b203e", "url": "https://github.com/ls1intum/Artemis/commit/05fca76e082776e0a36a16ddf2cf660eae5b203e", "message": "Update src/test/java/de/tum/in/www1/artemis/StudentQuestionIntegrationTest.java\n\nCo-authored-by: Stefan Kl\u00f6ss-Schuster <16407766+kloessst@users.noreply.github.com>", "committedDate": "2020-10-13T12:38:23Z", "type": "commit"}, {"oid": "0cd4a486d389215ca0377ccf289eb0319fcbd3a9", "url": "https://github.com/ls1intum/Artemis/commit/0cd4a486d389215ca0377ccf289eb0319fcbd3a9", "message": "fix uppercase", "committedDate": "2020-10-14T07:23:31Z", "type": "commit"}]}