{"pr_number": 2184, "pr_title": "[Bugfix] Truncate build logs", "pr_createdAt": "2020-10-09T13:30:45Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2184", "timeline": [{"oid": "37970319947debb40d7d08c40f22da4f63da1577", "url": "https://github.com/ls1intum/Artemis/commit/37970319947debb40d7d08c40f22da4f63da1577", "message": "Truncate size of build logs", "committedDate": "2020-10-08T23:04:23Z", "type": "commit"}, {"oid": "f76062c8d42086f576c6102357e907dcfe1e6529", "url": "https://github.com/ls1intum/Artemis/commit/f76062c8d42086f576c6102357e907dcfe1e6529", "message": "Add large build log entry to test", "committedDate": "2020-10-08T23:10:56Z", "type": "commit"}, {"oid": "35e14d95516af718f10b26033caa8b8f00645afa", "url": "https://github.com/ls1intum/Artemis/commit/35e14d95516af718f10b26033caa8b8f00645afa", "message": "Restructure build logs processing", "committedDate": "2020-10-08T23:43:42Z", "type": "commit"}, {"oid": "bd36153226313f542cc761832180f1ed2ef79421", "url": "https://github.com/ls1intum/Artemis/commit/bd36153226313f542cc761832180f1ed2ef79421", "message": "Set submission", "committedDate": "2020-10-09T13:21:34Z", "type": "commit"}, {"oid": "d0d91c52ae44ac01823a8c9bde4aed5d32d8f5f9", "url": "https://github.com/ls1intum/Artemis/commit/d0d91c52ae44ac01823a8c9bde4aed5d32d8f5f9", "message": "Add integration test", "committedDate": "2020-10-09T13:22:14Z", "type": "commit"}, {"oid": "dd300e96e503120e0d4280e8ceb2e787a40a95c3", "url": "https://github.com/ls1intum/Artemis/commit/dd300e96e503120e0d4280e8ceb2e787a40a95c3", "message": "Merge branch 'develop' into bugfix/truncate-build-logs-before-save", "committedDate": "2020-10-09T13:34:18Z", "type": "commit"}, {"oid": "a6adfbee4cfe4838d854e743d64001d1ea225355", "url": "https://github.com/ls1intum/Artemis/commit/a6adfbee4cfe4838d854e743d64001d1ea225355", "message": "Add doc to silence codacy", "committedDate": "2020-10-09T13:37:57Z", "type": "commit"}, {"oid": "3f531d995091784484a0596d86b10a287a26f7b7", "url": "https://github.com/ls1intum/Artemis/commit/3f531d995091784484a0596d86b10a287a26f7b7", "message": "Fix test", "committedDate": "2020-10-09T14:06:37Z", "type": "commit"}, {"oid": "c3a9d2d3cd15e6cffbec9bcfe96254228becfaee", "url": "https://github.com/ls1intum/Artemis/commit/c3a9d2d3cd15e6cffbec9bcfe96254228becfaee", "message": "Merge branch 'develop' into bugfix/truncate-build-logs-before-save", "committedDate": "2020-10-12T13:58:09Z", "type": "commit"}, {"oid": "c5b416c24cbcdea1952b149f64b7bbda95606c73", "url": "https://github.com/ls1intum/Artemis/commit/c5b416c24cbcdea1952b149f64b7bbda95606c73", "message": "Fix order column null index error", "committedDate": "2020-10-12T16:24:00Z", "type": "commit"}, {"oid": "4971ac8aad2810ba2d6e60f006d23530c63f3c0f", "url": "https://github.com/ls1intum/Artemis/commit/4971ac8aad2810ba2d6e60f006d23530c63f3c0f", "message": "Merge branch 'develop' into bugfix/truncate-build-logs-before-save", "committedDate": "2020-10-12T18:30:49Z", "type": "commit"}, {"oid": "1df8ae785bdafd031a757a30be6bd2add8419037", "url": "https://github.com/ls1intum/Artemis/commit/1df8ae785bdafd031a757a30be6bd2add8419037", "message": "Filter checkstyle error", "committedDate": "2020-10-12T21:19:34Z", "type": "commit"}, {"oid": "e58f69493e684b351d1449fa87ab213da7f2564b", "url": "https://github.com/ls1intum/Artemis/commit/e58f69493e684b351d1449fa87ab213da7f2564b", "message": "Merge branch 'bugfix/truncate-build-logs-before-save' of https://github.com/ls1intum/Artemis into bugfix/truncate-build-logs-before-save", "committedDate": "2020-10-12T21:20:47Z", "type": "commit"}, {"oid": "25385c8f7245e0f0ffd71832b87ccde232e5c07b", "url": "https://github.com/ls1intum/Artemis/commit/25385c8f7245e0f0ffd71832b87ccde232e5c07b", "message": "Exclude useless logs", "committedDate": "2020-10-12T21:42:43Z", "type": "commit"}, {"oid": "d3a73f4acbbdfb2db153ac3dd58267cae567b5ce", "url": "https://github.com/ls1intum/Artemis/commit/d3a73f4acbbdfb2db153ac3dd58267cae567b5ce", "message": "Merge branch 'develop' into bugfix/truncate-build-logs-before-save", "committedDate": "2020-10-12T23:23:40Z", "type": "commit"}, {"oid": "d7ddf36b66f11a6dbee4584f8a4a9e63f952ecf7", "url": "https://github.com/ls1intum/Artemis/commit/d7ddf36b66f11a6dbee4584f8a4a9e63f952ecf7", "message": "Fix test setup", "committedDate": "2020-10-12T23:32:23Z", "type": "commit"}, {"oid": "65f20c0516ae4ab54bbe70efad69c36f2b1dd445", "url": "https://github.com/ls1intum/Artemis/commit/65f20c0516ae4ab54bbe70efad69c36f2b1dd445", "message": "Fix test setup", "committedDate": "2020-10-12T23:37:07Z", "type": "commit"}, {"oid": "a8a92b6ea811e48dc42a1f57fb45aa7f8959e289", "url": "https://github.com/ls1intum/Artemis/commit/a8a92b6ea811e48dc42a1f57fb45aa7f8959e289", "message": "Merge branch 'bugfix/truncate-build-logs-before-save' of https://github.com/ls1intum/Artemis into bugfix/truncate-build-logs-before-save", "committedDate": "2020-10-12T23:37:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA1NzgxMw==", "url": "https://github.com/ls1intum/Artemis/pull/2184#discussion_r504057813", "bodyText": "follow up: make sure this is also invoked for Jenkins", "author": "krusche", "createdAt": "2020-10-13T15:41:17Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bamboo/BambooService.java", "diffHunk": "@@ -290,6 +290,9 @@ else if (status.get(\"isActive\") && status.get(\"isBuilding\")) {\n \n         var buildLogEntries = filterBuildLogs(retrieveLatestBuildLogsFromBamboo(programmingExerciseParticipation.getBuildPlanId()));\n \n+        // Truncate the logs so that they fit into the database\n+        buildLogEntries.forEach(BuildLogEntry::truncateLogToMaxLength);", "originalCommit": "a8a92b6ea811e48dc42a1f57fb45aa7f8959e289", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}