{"pr_number": 1991, "pr_title": "[Bugfix] Fix Delete action for Exams/ExerciseGroups/Exercises", "pr_createdAt": "2020-08-03T18:04:52Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/1991", "timeline": [{"oid": "9c91a04914dba9ba3547684101ab1efb1da27cb6", "url": "https://github.com/ls1intum/Artemis/commit/9c91a04914dba9ba3547684101ab1efb1da27cb6", "message": "Do not reload all exams on exam deletion", "committedDate": "2020-07-31T14:36:42Z", "type": "commit"}, {"oid": "12ed8b895fdb7e61cfab04e8e4c9d511d39606bc", "url": "https://github.com/ls1intum/Artemis/commit/12ed8b895fdb7e61cfab04e8e4c9d511d39606bc", "message": "Remove exercises from exerciseGroup.exercises on deletion", "committedDate": "2020-07-31T15:21:55Z", "type": "commit"}, {"oid": "8bcc320879fcf0c1584996f7079147671fcdf162", "url": "https://github.com/ls1intum/Artemis/commit/8bcc320879fcf0c1584996f7079147671fcdf162", "message": "Merge branch 'develop' into exam/management/enhance-deletion-exams-exercises", "committedDate": "2020-08-01T12:58:39Z", "type": "commit"}, {"oid": "bdbaa42d2a4b3e94a34ef62892db63d2a6f07733", "url": "https://github.com/ls1intum/Artemis/commit/bdbaa42d2a4b3e94a34ef62892db63d2a6f07733", "message": "Do not delete student exam if an exercise is deleted", "committedDate": "2020-08-03T12:15:39Z", "type": "commit"}, {"oid": "b3231f996d674d570274a56b4aa6451fdfe2967a", "url": "https://github.com/ls1intum/Artemis/commit/b3231f996d674d570274a56b4aa6451fdfe2967a", "message": "Exam created from older versions of artemis cannot be deleted if an exercise group has been deleted. This is due to the ordered column of the exercise groups return null values", "committedDate": "2020-08-03T17:47:11Z", "type": "commit"}, {"oid": "c907861f97412b31693146fa414e102acbe663b4", "url": "https://github.com/ls1intum/Artemis/commit/c907861f97412b31693146fa414e102acbe663b4", "message": "in case a programming exercise is present for the exercise group, ask the user if he would like to also delete the buildplans", "committedDate": "2020-08-03T18:00:58Z", "type": "commit"}, {"oid": "bd9c4946e8bfdd82584d53aea580af0c71f27858", "url": "https://github.com/ls1intum/Artemis/commit/bd9c4946e8bfdd82584d53aea580af0c71f27858", "message": "always delete buildplans if you delete the whole exam", "committedDate": "2020-08-03T18:01:32Z", "type": "commit"}, {"oid": "9a0963241b01feeb42769509a382a7ccd91c2b87", "url": "https://github.com/ls1intum/Artemis/commit/9a0963241b01feeb42769509a382a7ccd91c2b87", "message": "Merge branch 'exam/management/enhance-deletion-exams-exercises' into bugfix/exam-mode/delete-cascade", "committedDate": "2020-08-03T18:03:48Z", "type": "commit"}, {"oid": "c4eb9fdb13085a72011f40f86d5bed7bbf88b7fb", "url": "https://github.com/ls1intum/Artemis/commit/c4eb9fdb13085a72011f40f86d5bed7bbf88b7fb", "message": "When a text exercise is deleted, we also need to delete the text clusters otherwise a foreign key exception is thrown", "committedDate": "2020-08-03T18:20:59Z", "type": "commit"}, {"oid": "b3aea241070c3ccd6333104058c9cb36f2121fab", "url": "https://github.com/ls1intum/Artemis/commit/b3aea241070c3ccd6333104058c9cb36f2121fab", "message": "make prettier happy", "committedDate": "2020-08-03T18:24:02Z", "type": "commit"}, {"oid": "3db2fbb37f31a54cf487dad6ade19159496b4cbb", "url": "https://github.com/ls1intum/Artemis/commit/3db2fbb37f31a54cf487dad6ade19159496b4cbb", "message": "update documentation", "committedDate": "2020-08-03T19:12:56Z", "type": "commit"}, {"oid": "296b0862ea21d4a0224bfd67f2629f0df55fe69f", "url": "https://github.com/ls1intum/Artemis/commit/296b0862ea21d4a0224bfd67f2629f0df55fe69f", "message": "add integration test for deleting quiz exercises with submittedAnswers", "committedDate": "2020-08-04T07:19:01Z", "type": "commit"}, {"oid": "59786d84252c402f9fbde52c9649938d94780958", "url": "https://github.com/ls1intum/Artemis/commit/59786d84252c402f9fbde52c9649938d94780958", "message": "Merge branch 'develop' of https://github.com/ls1intum/Artemis into bugfix/exam-mode/delete-cascade", "committedDate": "2020-08-04T07:19:15Z", "type": "commit"}, {"oid": "bb1f3b7ea8b9398f08a87130b1722eb5a3e3c371", "url": "https://github.com/ls1intum/Artemis/commit/bb1f3b7ea8b9398f08a87130b1722eb5a3e3c371", "message": "Merge branch 'bugfix/exam-mode/delete-cascade' of github.com:ls1intum/Artemis into bugfix/exam-mode/delete-cascade", "committedDate": "2020-08-04T07:21:48Z", "type": "commit"}, {"oid": "34031bf92b0cffadd11d9e355e11a63971c8b05d", "url": "https://github.com/ls1intum/Artemis/commit/34031bf92b0cffadd11d9e355e11a63971c8b05d", "message": "Let the instructor know, that if you delete the exam all student exams are also deleted", "committedDate": "2020-08-04T11:19:40Z", "type": "commit"}, {"oid": "c8eb4d48d13353049e44682cbc471a65d7da6dd3", "url": "https://github.com/ls1intum/Artemis/commit/c8eb4d48d13353049e44682cbc471a65d7da6dd3", "message": "remove unused property", "committedDate": "2020-08-04T11:36:15Z", "type": "commit"}, {"oid": "ddf837b46412de3cc0f72ddf5de1a0edf5658c8d", "url": "https://github.com/ls1intum/Artemis/commit/ddf837b46412de3cc0f72ddf5de1a0edf5658c8d", "message": "add integration test for delete exam with student submissions and evaluations", "committedDate": "2020-08-04T11:50:20Z", "type": "commit"}, {"oid": "2c85b7a711c4e322f8d3ecc466a4a434a9c26851", "url": "https://github.com/ls1intum/Artemis/commit/2c85b7a711c4e322f8d3ecc466a4a434a9c26851", "message": "fix flaky test", "committedDate": "2020-08-04T12:24:49Z", "type": "commit"}, {"oid": "f79b8f401233941419ea062757eb1602807872d4", "url": "https://github.com/ls1intum/Artemis/commit/f79b8f401233941419ea062757eb1602807872d4", "message": "fix client error", "committedDate": "2020-08-04T14:06:56Z", "type": "commit"}, {"oid": "b354644667be3fda4c6a1044bb68af2b8bef77be", "url": "https://github.com/ls1intum/Artemis/commit/b354644667be3fda4c6a1044bb68af2b8bef77be", "message": "extend deleteTextExerciseWithSubmissionWithTextBlocks\nto deleteTextExerciseWithSubmissionWithTextBlocksAndClusters", "committedDate": "2020-08-04T14:56:59Z", "type": "commit"}, {"oid": "9a093fe1352a5598caac9b5a0d6b11ab6dfea55d", "url": "https://github.com/ls1intum/Artemis/commit/9a093fe1352a5598caac9b5a0d6b11ab6dfea55d", "message": "use attribute instead of expensive getter", "committedDate": "2020-08-04T15:33:14Z", "type": "commit"}, {"oid": "67bd45e07ac9e9cb0cf3fc787e440dbd44bb3c2b", "url": "https://github.com/ls1intum/Artemis/commit/67bd45e07ac9e9cb0cf3fc787e440dbd44bb3c2b", "message": "fix client bug\nWhen programming exercises were removed from the exercise group the delete exercise group modal still showed the checkboxes for deleting student repositories and buildplans", "committedDate": "2020-08-04T15:49:06Z", "type": "commit"}, {"oid": "2563684db2d4f8e8483724c3d1f378cb1699ce8e", "url": "https://github.com/ls1intum/Artemis/commit/2563684db2d4f8e8483724c3d1f378cb1699ce8e", "message": "client code style fix", "committedDate": "2020-08-04T16:08:21Z", "type": "commit"}, {"oid": "2aea0f3c751f4dda6d4b4181bb0318f840222eec", "url": "https://github.com/ls1intum/Artemis/commit/2aea0f3c751f4dda6d4b4181bb0318f840222eec", "message": "fix bug", "committedDate": "2020-08-05T08:33:03Z", "type": "commit"}, {"oid": "d057e7f440f48258d30b7bcddfaf6f7f1e7365e8", "url": "https://github.com/ls1intum/Artemis/commit/d057e7f440f48258d30b7bcddfaf6f7f1e7365e8", "message": "remove color from exam table", "committedDate": "2020-08-05T08:34:55Z", "type": "commit"}, {"oid": "e426c62abffdc076b67e96fb4244d326a8dd0309", "url": "https://github.com/ls1intum/Artemis/commit/e426c62abffdc076b67e96fb4244d326a8dd0309", "message": "Move delete from Resource to Service so that Course service can also call the method to reduce code duplication.\nAdd deleteById method which uses the correct query to fetch all required elements", "committedDate": "2020-08-05T11:01:52Z", "type": "commit"}, {"oid": "5d6d54ae0aa9c79c4e08cee6caf8723d5eebbbf5", "url": "https://github.com/ls1intum/Artemis/commit/5d6d54ae0aa9c79c4e08cee6caf8723d5eebbbf5", "message": "Move delete course from resource to service, delete repositories and buildplans.\nCall examService.deleteById() to correctly delete exams.", "committedDate": "2020-08-05T11:05:11Z", "type": "commit"}, {"oid": "777d23a439f0546495c679407ba5031d23b0de40", "url": "https://github.com/ls1intum/Artemis/commit/777d23a439f0546495c679407ba5031d23b0de40", "message": "Improve documentation", "committedDate": "2020-08-05T11:05:50Z", "type": "commit"}, {"oid": "1541c65d49d17b957beb82caa9fc00c7f92bc317", "url": "https://github.com/ls1intum/Artemis/commit/1541c65d49d17b957beb82caa9fc00c7f92bc317", "message": "improve course delete warning", "committedDate": "2020-08-05T11:09:18Z", "type": "commit"}, {"oid": "71c49d9816b3adaca16416047c110caeb880661e", "url": "https://github.com/ls1intum/Artemis/commit/71c49d9816b3adaca16416047c110caeb880661e", "message": "update course integration test", "committedDate": "2020-08-05T15:35:07Z", "type": "commit"}, {"oid": "962ddbf8b9eb44a8e574b2ab111a46841420b9b7", "url": "https://github.com/ls1intum/Artemis/commit/962ddbf8b9eb44a8e574b2ab111a46841420b9b7", "message": "Merge branch 'develop' into bugfix/exam-mode/delete-cascade", "committedDate": "2020-08-05T19:04:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0Mzg4NQ==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r465943885", "bodyText": "Codacy found an issue: Avoid unused imports such as 'de.tum.in.www1.artemis.repository'", "author": "jpbernius", "createdAt": "2020-08-05T19:10:00Z", "path": "src/test/java/de/tum/in/www1/artemis/QuizExerciseIntegrationTest.java", "diffHunk": "@@ -31,14 +32,13 @@\n import de.tum.in.www1.artemis.domain.quiz.ShortAnswerQuestion;\n import de.tum.in.www1.artemis.domain.quiz.ShortAnswerSolution;\n import de.tum.in.www1.artemis.domain.quiz.ShortAnswerSpot;\n-import de.tum.in.www1.artemis.repository.QuizExerciseRepository;\n-import de.tum.in.www1.artemis.repository.ResultRepository;\n-import de.tum.in.www1.artemis.repository.StudentParticipationRepository;\n+import de.tum.in.www1.artemis.repository.*;", "originalCommit": "962ddbf8b9eb44a8e574b2ab111a46841420b9b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODkzMg==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r466298932", "bodyText": "See f9e39e2", "author": "anditurdiu", "createdAt": "2020-08-06T09:51:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0Mzg4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0Mzg5MQ==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r465943891", "bodyText": "Codacy found an issue: Avoid unused imports such as 'de.tum.in.www1.artemis.domain'", "author": "jpbernius", "createdAt": "2020-08-05T19:10:01Z", "path": "src/main/java/de/tum/in/www1/artemis/service/ExamService.java", "diffHunk": "@@ -19,10 +19,7 @@\n import org.springframework.web.bind.annotation.PathVariable;\n import org.springframework.web.bind.annotation.RequestBody;\n \n-import de.tum.in.www1.artemis.domain.Exercise;\n-import de.tum.in.www1.artemis.domain.ProgrammingExercise;\n-import de.tum.in.www1.artemis.domain.Result;\n-import de.tum.in.www1.artemis.domain.User;\n+import de.tum.in.www1.artemis.domain.*;", "originalCommit": "962ddbf8b9eb44a8e574b2ab111a46841420b9b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODg2MQ==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r466298861", "bodyText": "See f9e39e2", "author": "anditurdiu", "createdAt": "2020-08-06T09:51:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0Mzg5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0MzkwMA==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r465943900", "bodyText": "Codacy found an issue: Avoid unused imports such as 'de.tum.in.www1.artemis.repository'", "author": "jpbernius", "createdAt": "2020-08-05T19:10:02Z", "path": "src/test/java/de/tum/in/www1/artemis/TextExerciseIntegrationTest.java", "diffHunk": "@@ -18,13 +19,12 @@\n import de.tum.in.www1.artemis.domain.enumeration.Language;\n import de.tum.in.www1.artemis.domain.exam.ExerciseGroup;\n import de.tum.in.www1.artemis.domain.participation.Participation;\n-import de.tum.in.www1.artemis.repository.ExampleSubmissionRepository;\n-import de.tum.in.www1.artemis.repository.ExerciseRepository;\n-import de.tum.in.www1.artemis.repository.TextExerciseRepository;\n-import de.tum.in.www1.artemis.repository.TextSubmissionRepository;\n+import de.tum.in.www1.artemis.repository.*;", "originalCommit": "962ddbf8b9eb44a8e574b2ab111a46841420b9b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODcwOA==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r466298708", "bodyText": "See f9e39e2", "author": "anditurdiu", "createdAt": "2020-08-06T09:51:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0MzkwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0MzkwNg==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r465943906", "bodyText": "Codacy found an issue: JUnit tests should include assert() or fail()", "author": "jpbernius", "createdAt": "2020-08-05T19:10:03Z", "path": "src/test/java/de/tum/in/www1/artemis/StudentExamIntegrationTest.java", "diffHunk": "@@ -1003,5 +1003,81 @@ else if (quizQuestion instanceof MultipleChoiceQuestion) {\n                 request.putWithResponseBody(\"/api/exercises/\" + exercise.getId() + \"/submissions/exam\", quizSubmission, QuizSubmission.class, HttpStatus.OK);\n             }\n         }\n+        return studentExam;\n+    }\n+\n+    @Test\n+    @WithMockUser(username = \"instructor1\", roles = \"INSTRUCTOR\")\n+    public void testDeleteExamWithStudentExamsAfterConductionAndEvaluation() throws Exception {", "originalCommit": "962ddbf8b9eb44a8e574b2ab111a46841420b9b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODY1OQ==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r466298659", "bodyText": "See f9e39e2", "author": "anditurdiu", "createdAt": "2020-08-06T09:51:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0MzkwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0MzkyNA==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r465943924", "bodyText": "Codacy found an issue: JUnit tests should include assert() or fail()", "author": "jpbernius", "createdAt": "2020-08-05T19:10:05Z", "path": "src/test/java/de/tum/in/www1/artemis/TextExerciseIntegrationTest.java", "diffHunk": "@@ -73,13 +79,17 @@ public void submitEnglishTextExercise() throws Exception {\n \n     @Test\n     @WithMockUser(value = \"instructor1\", roles = \"INSTRUCTOR\")\n-    public void deleteTextExerciseWithSubmissionWithTextBlocks() throws Exception {\n+    public void deleteTextExerciseWithSubmissionWithTextBlocksAndClusters() throws Exception {", "originalCommit": "962ddbf8b9eb44a8e574b2ab111a46841420b9b7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI5ODU4Mw==", "url": "https://github.com/ls1intum/Artemis/pull/1991#discussion_r466298583", "bodyText": "See f9e39e2", "author": "anditurdiu", "createdAt": "2020-08-06T09:51:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk0MzkyNA=="}], "type": "inlineReview"}, {"oid": "f9e39e2dbe10ffa13483affe2de6359ac2244213", "url": "https://github.com/ls1intum/Artemis/commit/f9e39e2dbe10ffa13483affe2de6359ac2244213", "message": "Implement Codacity Feedback\nFix Typo", "committedDate": "2020-08-06T09:49:37Z", "type": "commit"}, {"oid": "64e8b80979ea12eec3f69bf9498fb9ba7c6335c1", "url": "https://github.com/ls1intum/Artemis/commit/64e8b80979ea12eec3f69bf9498fb9ba7c6335c1", "message": "Merge branch 'bugfix/exam-mode/delete-cascade' of github.com:ls1intum/Artemis into bugfix/exam-mode/delete-cascade", "committedDate": "2020-08-06T09:50:12Z", "type": "commit"}]}