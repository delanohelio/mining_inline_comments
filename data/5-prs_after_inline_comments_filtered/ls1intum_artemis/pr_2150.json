{"pr_number": 2150, "pr_title": "Update C template and introduce programming language features", "pr_createdAt": "2020-10-03T10:58:22Z", "pr_url": "https://github.com/ls1intum/Artemis/pull/2150", "timeline": [{"oid": "25ff88d5c909baafcbe91fb1df2c24e99fab7944", "url": "https://github.com/ls1intum/Artemis/commit/25ff88d5c909baafcbe91fb1df2c24e99fab7944", "message": "Updated the C template", "committedDate": "2020-10-03T10:51:10Z", "type": "commit"}, {"oid": "27755331a84a6aad8879a3b7ab76ab117a522870", "url": "https://github.com/ls1intum/Artemis/commit/27755331a84a6aad8879a3b7ab76ab117a522870", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-05T06:52:50Z", "type": "commit"}, {"oid": "229ca54f0365242bc11d584ea5ff0273a3d0c422", "url": "https://github.com/ls1intum/Artemis/commit/229ca54f0365242bc11d584ea5ff0273a3d0c422", "message": "Fixed C-Test assignment path", "committedDate": "2020-10-08T09:57:46Z", "type": "commit"}, {"oid": "c92f035fe03760a5964dd2a87c02ece831b05acc", "url": "https://github.com/ls1intum/Artemis/commit/c92f035fe03760a5964dd2a87c02ece831b05acc", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-08T11:34:18Z", "type": "commit"}, {"oid": "0e90da958f2d88f69332305bb7233c492ac8976a", "url": "https://github.com/ls1intum/Artemis/commit/0e90da958f2d88f69332305bb7233c492ac8976a", "message": "Updated to the latest readScriptTasksFromTemplate signature", "committedDate": "2020-10-08T11:50:00Z", "type": "commit"}, {"oid": "802351944e67ddad5a68672529050e9035da1212", "url": "https://github.com/ls1intum/Artemis/commit/802351944e67ddad5a68672529050e9035da1212", "message": "Fixed shadow variables", "committedDate": "2020-10-08T11:59:14Z", "type": "commit"}, {"oid": "9696c0829e172b18873c816fafd17a37102728b7", "url": "https://github.com/ls1intum/Artemis/commit/9696c0829e172b18873c816fafd17a37102728b7", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-13T08:41:23Z", "type": "commit"}, {"oid": "7231718d37ae1e90f9a1209fc3995b655ae6ee61", "url": "https://github.com/ls1intum/Artemis/commit/7231718d37ae1e90f9a1209fc3995b655ae6ee61", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-14T07:03:48Z", "type": "commit"}, {"oid": "a463fa844dee829814adb917d454937f502ea523", "url": "https://github.com/ls1intum/Artemis/commit/a463fa844dee829814adb917d454937f502ea523", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-15T10:55:00Z", "type": "commit"}, {"oid": "1873e6098dd7495e6d6b424a35dc5f396b98aa09", "url": "https://github.com/ls1intum/Artemis/commit/1873e6098dd7495e6d6b424a35dc5f396b98aa09", "message": "Updated the C template description", "committedDate": "2020-10-15T12:23:03Z", "type": "commit"}, {"oid": "0fda5c5b49a82d77cc7542744d34d834b8425f99", "url": "https://github.com/ls1intum/Artemis/commit/0fda5c5b49a82d77cc7542744d34d834b8425f99", "message": "Updated the C-template to the latest tester", "committedDate": "2020-10-15T12:52:19Z", "type": "commit"}, {"oid": "d723bf108b562d8a9046e70ef8dc849773c37b0d", "url": "https://github.com/ls1intum/Artemis/commit/d723bf108b562d8a9046e70ef8dc849773c37b0d", "message": "Further rotX fixes", "committedDate": "2020-10-15T13:16:29Z", "type": "commit"}, {"oid": "9d0a1e932304ee64ef5507517fb3603dd5cff262", "url": "https://github.com/ls1intum/Artemis/commit/9d0a1e932304ee64ef5507517fb3603dd5cff262", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-19T08:32:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzYwMzg4Nw==", "url": "https://github.com/ls1intum/Artemis/pull/2150#discussion_r507603887", "bodyText": "now we have some duplicated code. Can we create a new method: getDockerImage(String programmingLanuage), then the duplication would not be necessary", "author": "krusche", "createdAt": "2020-10-19T09:29:53Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bamboo/BambooBuildPlanService.java", "diffHunk": "@@ -173,6 +173,16 @@ private Stage createBuildStage(ProgrammingLanguage programmingLanguage, final bo\n                 tasks.add(0, checkoutTask);\n                 return defaultStage.jobs(defaultJob.tasks(tasks.toArray(new Task[0])).finalTasks(testParserTask));\n             }\n+            case C -> {\n+                // Do not run the builds in extra docker containers if the dev-profile is active\n+                if (!activeProfiles.contains(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT)) {", "originalCommit": "9d0a1e932304ee64ef5507517fb3603dd5cff262", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzYwNTgxMw==", "url": "https://github.com/ls1intum/Artemis/pull/2150#discussion_r507605813", "bodyText": "ls1tum/artemis-c-docker:latest", "author": "krusche", "createdAt": "2020-10-19T09:32:49Z", "path": "src/main/java/de/tum/in/www1/artemis/service/connectors/bamboo/BambooBuildPlanService.java", "diffHunk": "@@ -173,6 +173,16 @@ private Stage createBuildStage(ProgrammingLanguage programmingLanguage, final bo\n                 tasks.add(0, checkoutTask);\n                 return defaultStage.jobs(defaultJob.tasks(tasks.toArray(new Task[0])).finalTasks(testParserTask));\n             }\n+            case C -> {\n+                // Do not run the builds in extra docker containers if the dev-profile is active\n+                if (!activeProfiles.contains(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT)) {\n+                    defaultJob.dockerConfiguration(new DockerConfiguration().image(\"com8/artemis-gbs:latest\"));", "originalCommit": "9d0a1e932304ee64ef5507517fb3603dd5cff262", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f07a62fef5edff1b6c2735b98f14fbc4087b3532", "url": "https://github.com/ls1intum/Artemis/commit/f07a62fef5edff1b6c2735b98f14fbc4087b3532", "message": "Add ProgrammingLanguageFeatures.", "committedDate": "2020-10-19T23:43:46Z", "type": "commit"}, {"oid": "551d5c21b616232ea116625c4c56a7c7e373e5ba", "url": "https://github.com/ls1intum/Artemis/commit/551d5c21b616232ea116625c4c56a7c7e373e5ba", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-20T00:08:35Z", "type": "commit"}, {"oid": "1482bcf007a56836aae90cebaf79f5f24b77cb08", "url": "https://github.com/ls1intum/Artemis/commit/1482bcf007a56836aae90cebaf79f5f24b77cb08", "message": "Add checkoutSolutionRepositoryAllowed flag.", "committedDate": "2020-10-20T00:15:21Z", "type": "commit"}, {"oid": "27923fbf3acda949caee4f3640c6ca5ecf6b4500", "url": "https://github.com/ls1intum/Artemis/commit/27923fbf3acda949caee4f3640c6ca5ecf6b4500", "message": "Merge develop.", "committedDate": "2020-10-20T00:23:29Z", "type": "commit"}, {"oid": "01a468bf5481484ae24ab0916a4921767ba16954", "url": "https://github.com/ls1intum/Artemis/commit/01a468bf5481484ae24ab0916a4921767ba16954", "message": "Add KOTLIN, VHDL and ASSEMBLER to ProgrammingLanguageFeatureService.", "committedDate": "2020-10-20T00:26:36Z", "type": "commit"}, {"oid": "73b31980597f7ba6721c486282c2591909435689", "url": "https://github.com/ls1intum/Artemis/commit/73b31980597f7ba6721c486282c2591909435689", "message": "Fix test cases.", "committedDate": "2020-10-21T18:04:35Z", "type": "commit"}, {"oid": "841e6ce9a6e3ad17b239c63188f5c285754b559c", "url": "https://github.com/ls1intum/Artemis/commit/841e6ce9a6e3ad17b239c63188f5c285754b559c", "message": "Only show supported programming languages in client.", "committedDate": "2020-10-21T18:44:49Z", "type": "commit"}, {"oid": "1b19dfa4e5410747727ba71d7addcdc9c8088128", "url": "https://github.com/ls1intum/Artemis/commit/1b19dfa4e5410747727ba71d7addcdc9c8088128", "message": "Remove unsupported sequential test runs.", "committedDate": "2020-10-21T18:48:48Z", "type": "commit"}, {"oid": "5ceea5e3e018b7f2ca4ccbf9a094b3446859370d", "url": "https://github.com/ls1intum/Artemis/commit/5ceea5e3e018b7f2ca4ccbf9a094b3446859370d", "message": "Add documentation.", "committedDate": "2020-10-21T18:51:01Z", "type": "commit"}, {"oid": "6e91376fbb2c84db3e55cb18581ee6ff1de92f91", "url": "https://github.com/ls1intum/Artemis/commit/6e91376fbb2c84db3e55cb18581ee6ff1de92f91", "message": "Add documentation.", "committedDate": "2020-10-21T18:55:35Z", "type": "commit"}, {"oid": "4578e9e9827c25d848f451ddc7f32d40e83e878a", "url": "https://github.com/ls1intum/Artemis/commit/4578e9e9827c25d848f451ddc7f32d40e83e878a", "message": "Merge develop.", "committedDate": "2020-10-21T19:04:32Z", "type": "commit"}, {"oid": "eddb1876ec1620400eab92b1baa27c9659ee60a6", "url": "https://github.com/ls1intum/Artemis/commit/eddb1876ec1620400eab92b1baa27c9659ee60a6", "message": "Fix merge conflict.", "committedDate": "2020-10-21T19:15:35Z", "type": "commit"}, {"oid": "0cc06eafd85dc46d332d9ee8f53d9205f6801bb5", "url": "https://github.com/ls1intum/Artemis/commit/0cc06eafd85dc46d332d9ee8f53d9205f6801bb5", "message": "Change C docker image.", "committedDate": "2020-10-21T19:17:13Z", "type": "commit"}, {"oid": "6ce5094601762d3a244a048857d0a18f66e86911", "url": "https://github.com/ls1intum/Artemis/commit/6ce5094601762d3a244a048857d0a18f66e86911", "message": "Fix client tests.", "committedDate": "2020-10-21T19:47:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMwNjg2MA==", "url": "https://github.com/ls1intum/Artemis/pull/2150#discussion_r510306860", "bodyText": "Sometimes a feature is available using Bamboo but not Jenkins. I don't think this is properly represented in this data structure. E.g. sequential test runs are only available using Bamboo if I'm not mistaken. You could create different Maps for different VCS+CI configurations.", "author": "kloessst", "createdAt": "2020-10-22T16:41:22Z", "path": "src/main/java/de/tum/in/www1/artemis/service/programming/ProgrammingLanguageFeatureService.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package de.tum.in.www1.artemis.service.programming;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.stereotype.Service;\n+\n+import de.tum.in.www1.artemis.domain.enumeration.ProgrammingLanguage;\n+\n+/**\n+ * This service provides information about features the different ProgrammingLanguages support.\n+ * The configuration is also available in the client as the {@link ProgrammingLanguageFeatureContributor} exposes them.\n+ */\n+@Service\n+public class ProgrammingLanguageFeatureService {\n+\n+    private final Logger log = LoggerFactory.getLogger(ProgrammingLanguageFeatureService.class);\n+\n+    private final Map<ProgrammingLanguage, ProgrammingLanguageFeature> programmingLanguageFeatures = new HashMap<>();\n+\n+    public ProgrammingLanguageFeatureService() {", "originalCommit": "6ce5094601762d3a244a048857d0a18f66e86911", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQzMjkyMg==", "url": "https://github.com/ls1intum/Artemis/pull/2150#discussion_r510432922", "bodyText": "Good point! I changed the ProgrammingLanguageFeatureService to an interfaceabstract class and added two implementations (one for Bamboo, one for Jenkins).", "author": "sleiss", "createdAt": "2020-10-22T20:20:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMwNjg2MA=="}], "type": "inlineReview"}, {"oid": "9b7022e40f6b4a4fae4f1e230ef309c338e9cbd1", "url": "https://github.com/ls1intum/Artemis/commit/9b7022e40f6b4a4fae4f1e230ef309c338e9cbd1", "message": "Make ProgrammingLanguageService an interface, add two implementations.", "committedDate": "2020-10-22T20:19:39Z", "type": "commit"}, {"oid": "5234028165e057ef949637c21d56159869ee36e2", "url": "https://github.com/ls1intum/Artemis/commit/5234028165e057ef949637c21d56159869ee36e2", "message": "Fix Artemis docker image.", "committedDate": "2020-10-22T20:30:48Z", "type": "commit"}, {"oid": "26622077b6c3a6d3aec5f1b3c418088d60266574", "url": "https://github.com/ls1intum/Artemis/commit/26622077b6c3a6d3aec5f1b3c418088d60266574", "message": "Change ProgrammingLanguageFeatureService to abstract class.", "committedDate": "2020-10-22T20:39:40Z", "type": "commit"}, {"oid": "0163763f8571a694c5349935aa87c653e50d00ba", "url": "https://github.com/ls1intum/Artemis/commit/0163763f8571a694c5349935aa87c653e50d00ba", "message": "Disable C and Haskell exercises for now in Jenkins.", "committedDate": "2020-10-22T20:48:53Z", "type": "commit"}, {"oid": "cce189b6664fd0d16d95a74fe223ced6d3850884", "url": "https://github.com/ls1intum/Artemis/commit/cce189b6664fd0d16d95a74fe223ced6d3850884", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-22T21:32:01Z", "type": "commit"}, {"oid": "dcdff3c386422df5cc9475a6fddf4e9ae5d8df03", "url": "https://github.com/ls1intum/Artemis/commit/dcdff3c386422df5cc9475a6fddf4e9ae5d8df03", "message": "Fix tests.", "committedDate": "2020-10-22T21:36:25Z", "type": "commit"}, {"oid": "9a9c6340c0bf84a512cc75a458424c2ab55d8e5f", "url": "https://github.com/ls1intum/Artemis/commit/9a9c6340c0bf84a512cc75a458424c2ab55d8e5f", "message": "Fix tests.", "committedDate": "2020-10-22T21:37:25Z", "type": "commit"}, {"oid": "332da895974a3eb4ab038e628122162e6ac60165", "url": "https://github.com/ls1intum/Artemis/commit/332da895974a3eb4ab038e628122162e6ac60165", "message": "make code simpler to understand", "committedDate": "2020-10-22T21:42:57Z", "type": "commit"}, {"oid": "bcaaedd4727a64fa12be501084c660a307e592ed", "url": "https://github.com/ls1intum/Artemis/commit/bcaaedd4727a64fa12be501084c660a307e592ed", "message": "small improvement", "committedDate": "2020-10-22T21:47:57Z", "type": "commit"}, {"oid": "77923219e2a66a661b8e09ffe9263c96bd0419f1", "url": "https://github.com/ls1intum/Artemis/commit/77923219e2a66a661b8e09ffe9263c96bd0419f1", "message": "Cache language features.", "committedDate": "2020-10-22T22:23:23Z", "type": "commit"}, {"oid": "077fd2a2dacb494a88c27bbe4b67647c5f352cb4", "url": "https://github.com/ls1intum/Artemis/commit/077fd2a2dacb494a88c27bbe4b67647c5f352cb4", "message": "Fix tests.", "committedDate": "2020-10-22T22:38:28Z", "type": "commit"}, {"oid": "705b4dba431bf02ad2cd8e6166a6486b7a059056", "url": "https://github.com/ls1intum/Artemis/commit/705b4dba431bf02ad2cd8e6166a6486b7a059056", "message": "Adjust dev service.", "committedDate": "2020-10-22T22:40:27Z", "type": "commit"}, {"oid": "93689c83bf0a9a4d5363edf7e97b1a1320640f3c", "url": "https://github.com/ls1intum/Artemis/commit/93689c83bf0a9a4d5363edf7e97b1a1320640f3c", "message": "Merge branch 'develop' into feature/programming-exercise/c-template", "committedDate": "2020-10-22T23:12:32Z", "type": "commit"}, {"oid": "54d67813377fe1a2f720979aae813d3c3552f071", "url": "https://github.com/ls1intum/Artemis/commit/54d67813377fe1a2f720979aae813d3c3552f071", "message": "fix formatting issue", "committedDate": "2020-10-22T23:33:31Z", "type": "commit"}]}