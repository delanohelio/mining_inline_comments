{"pr_number": 507, "pr_title": "feat(plugins): HTTP client plugin API", "pr_createdAt": "2020-02-07T00:34:01Z", "pr_url": "https://github.com/spinnaker/kork/pull/507", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1MjYxMQ==", "url": "https://github.com/spinnaker/kork/pull/507#discussion_r376752611", "bodyText": "Had an error response body or just returned a 4xx/5xx?", "author": "ajordens", "createdAt": "2020-02-09T03:50:45Z", "path": "kork-plugins-api/src/main/java/com/netflix/spinnaker/kork/plugins/api/httpclient/Response.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*\n+ * Copyright 2020 Netflix, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.netflix.spinnaker.kork.plugins.api.httpclient;\n+\n+import java.util.Map;\n+import java.util.Optional;\n+import javax.annotation.Nonnull;\n+\n+/** HTTP Response wrapper. */\n+public interface Response {\n+\n+  /** Get the response payload. */\n+  Object getPayload();\n+\n+  <T> T getPayload(@Nonnull Class<T> expectedType);\n+\n+  /** Get the error exception, if present. */\n+  Optional<Exception> getException();\n+\n+  /** Get the response code. */\n+  int getStatusCode();\n+\n+  /** Get the response headers. */\n+  Map<String, String> getHeaders();\n+\n+  /** Returns whether or not the request had an error. */\n+  default boolean isError() {", "originalCommit": "a36812a317c86d57be243fb5f9bc5005cab3862b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzI3NDM3Ng==", "url": "https://github.com/spinnaker/kork/pull/507#discussion_r377274376", "bodyText": "Just 4xx/5xx. I don't want to build any smarts beyond the bare minimum on the SDK, since that would make it more coupled to our current idea of what an error response is (which varies service-to-service today).", "author": "robzienert", "createdAt": "2020-02-10T19:38:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1MjYxMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTgzMTgwOA==", "url": "https://github.com/spinnaker/kork/pull/507#discussion_r385831808", "bodyText": "At some point I thought I remembered this looking at a payload vs just status codes ... just 4xx/5xx makes sense to me tho!", "author": "ajordens", "createdAt": "2020-02-28T17:42:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc1MjYxMQ=="}], "type": "inlineReview"}, {"oid": "9fdd5c4ab5e5c0a23f707f9c8b5ea4088b2e0e62", "url": "https://github.com/spinnaker/kork/commit/9fdd5c4ab5e5c0a23f707f9c8b5ea4088b2e0e62", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-23T18:48:46Z", "type": "forcePushed"}, {"oid": "8338924b3423bb0531fc3df0dd79db3b955458dd", "url": "https://github.com/spinnaker/kork/commit/8338924b3423bb0531fc3df0dd79db3b955458dd", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-24T21:13:34Z", "type": "forcePushed"}, {"oid": "195b16b1e1401abddcf1596f7f231b4c6f4088c2", "url": "https://github.com/spinnaker/kork/commit/195b16b1e1401abddcf1596f7f231b4c6f4088c2", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-25T19:59:00Z", "type": "forcePushed"}, {"oid": "db92a070af2121d9425b7cd9ae4bfea99ac7ca5c", "url": "https://github.com/spinnaker/kork/commit/db92a070af2121d9425b7cd9ae4bfea99ac7ca5c", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-25T20:00:27Z", "type": "forcePushed"}, {"oid": "778d6c4b1ccce510340e7acd708fc24729d38e43", "url": "https://github.com/spinnaker/kork/commit/778d6c4b1ccce510340e7acd708fc24729d38e43", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-25T20:07:34Z", "type": "forcePushed"}, {"oid": "00384b739b37aff5cc5aa87eec7b97ece874e5d4", "url": "https://github.com/spinnaker/kork/commit/00384b739b37aff5cc5aa87eec7b97ece874e5d4", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-25T20:10:30Z", "type": "forcePushed"}, {"oid": "ed23c2da019ea27635570d4234aa8092781430a3", "url": "https://github.com/spinnaker/kork/commit/ed23c2da019ea27635570d4234aa8092781430a3", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-25T20:13:13Z", "type": "forcePushed"}, {"oid": "d610685007ee72c6fa72646d71516510f20e0864", "url": "https://github.com/spinnaker/kork/commit/d610685007ee72c6fa72646d71516510f20e0864", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-27T18:07:06Z", "type": "commit"}, {"oid": "d610685007ee72c6fa72646d71516510f20e0864", "url": "https://github.com/spinnaker/kork/commit/d610685007ee72c6fa72646d71516510f20e0864", "message": "feat(plugins): HTTP client plugin API", "committedDate": "2020-02-27T18:07:06Z", "type": "forcePushed"}, {"oid": "ed2ff253fef6b0eb3b4626edc711e53b06177111", "url": "https://github.com/spinnaker/kork/commit/ed2ff253fef6b0eb3b4626edc711e53b06177111", "message": "Merge branch 'master' into http-builder", "committedDate": "2020-02-27T18:24:39Z", "type": "commit"}, {"oid": "d34b033c3559ec203ec8b3f279763defcf4512c2", "url": "https://github.com/spinnaker/kork/commit/d34b033c3559ec203ec8b3f279763defcf4512c2", "message": "Merge branch 'master' into http-builder", "committedDate": "2020-03-02T20:56:57Z", "type": "commit"}]}