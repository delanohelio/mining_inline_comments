{"pr_number": 1770, "pr_title": "AF-1799: Upgrade JDK 11 + GWT 2.9", "pr_createdAt": "2020-10-06T13:34:23Z", "pr_url": "https://github.com/kiegroup/jbpm/pull/1770", "timeline": [{"oid": "f028f65e67a3f9809d4b4966d09c82ddbb7f89a1", "url": "https://github.com/kiegroup/jbpm/commit/f028f65e67a3f9809d4b4966d09c82ddbb7f89a1", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-06T17:39:22Z", "type": "forcePushed"}, {"oid": "2b61b33eba85f3233dbf6098aec629cc2b307f78", "url": "https://github.com/kiegroup/jbpm/commit/2b61b33eba85f3233dbf6098aec629cc2b307f78", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-06T19:30:13Z", "type": "forcePushed"}, {"oid": "8161a0275788eaae93ef6a030e51b26e3b25e9d2", "url": "https://github.com/kiegroup/jbpm/commit/8161a0275788eaae93ef6a030e51b26e3b25e9d2", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-07T10:25:34Z", "type": "forcePushed"}, {"oid": "294dc6ab900e7ab96d7d38e490c3e2c4b4b517b2", "url": "https://github.com/kiegroup/jbpm/commit/294dc6ab900e7ab96d7d38e490c3e2c4b4b517b2", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-07T14:23:52Z", "type": "forcePushed"}, {"oid": "8bcb55e0e2715e571c4f1edcc6116cff8aa7e70c", "url": "https://github.com/kiegroup/jbpm/commit/8bcb55e0e2715e571c4f1edcc6116cff8aa7e70c", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-09T15:05:00Z", "type": "forcePushed"}, {"oid": "76473d7fb73674591084688b984194f75220b380", "url": "https://github.com/kiegroup/jbpm/commit/76473d7fb73674591084688b984194f75220b380", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-13T11:19:53Z", "type": "forcePushed"}, {"oid": "40999dd580856c4ea14b33c66e0ba433bc7632c1", "url": "https://github.com/kiegroup/jbpm/commit/40999dd580856c4ea14b33c66e0ba433bc7632c1", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-15T12:58:29Z", "type": "forcePushed"}, {"oid": "24ced8cb2c7e29ce64de80e764bba28d1d217ecd", "url": "https://github.com/kiegroup/jbpm/commit/24ced8cb2c7e29ce64de80e764bba28d1d217ecd", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-15T13:36:35Z", "type": "forcePushed"}, {"oid": "39ecbbc5a7ec68de2305bcdf174b704997b08938", "url": "https://github.com/kiegroup/jbpm/commit/39ecbbc5a7ec68de2305bcdf174b704997b08938", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-20T18:14:25Z", "type": "forcePushed"}, {"oid": "c30df74eda3a708bec00aab8562d997babc37ad5", "url": "https://github.com/kiegroup/jbpm/commit/c30df74eda3a708bec00aab8562d997babc37ad5", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-21T11:38:27Z", "type": "forcePushed"}, {"oid": "b2a42ad15a079c9a18aa869404450c2946a18d63", "url": "https://github.com/kiegroup/jbpm/commit/b2a42ad15a079c9a18aa869404450c2946a18d63", "message": "AF-1799: Fix snapshot version.", "committedDate": "2020-10-21T13:59:19Z", "type": "forcePushed"}, {"oid": "4c439a8c61ab89d3bf16de92d400e826d0fc153f", "url": "https://github.com/kiegroup/jbpm/commit/4c439a8c61ab89d3bf16de92d400e826d0fc153f", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-22T17:46:19Z", "type": "forcePushed"}, {"oid": "50324ee9f17fb6d7cf4ddcd4f0b7c8546c0a5b8b", "url": "https://github.com/kiegroup/jbpm/commit/50324ee9f17fb6d7cf4ddcd4f0b7c8546c0a5b8b", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-23T11:02:56Z", "type": "forcePushed"}, {"oid": "d34238e09266e2fa38bfdf9572b746fea765217d", "url": "https://github.com/kiegroup/jbpm/commit/d34238e09266e2fa38bfdf9572b746fea765217d", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-23T12:17:41Z", "type": "forcePushed"}, {"oid": "9ffa7554f370e075c11fe2841569c597837dd798", "url": "https://github.com/kiegroup/jbpm/commit/9ffa7554f370e075c11fe2841569c597837dd798", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-23T12:39:36Z", "type": "forcePushed"}, {"oid": "30765c8bcd24427a6649e68024cc7e14f8baf411", "url": "https://github.com/kiegroup/jbpm/commit/30765c8bcd24427a6649e68024cc7e14f8baf411", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-23T14:26:52Z", "type": "forcePushed"}, {"oid": "f9bd5aa0de876dd3ffacec99ada863400cbca91f", "url": "https://github.com/kiegroup/jbpm/commit/f9bd5aa0de876dd3ffacec99ada863400cbca91f", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-23T21:42:57Z", "type": "forcePushed"}, {"oid": "08e0fdaa6a9db50c8c3608040501d337f4ac40a1", "url": "https://github.com/kiegroup/jbpm/commit/08e0fdaa6a9db50c8c3608040501d337f4ac40a1", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-24T11:18:25Z", "type": "forcePushed"}, {"oid": "33348de0fee456e9bb300b6f71880e4efd8275a5", "url": "https://github.com/kiegroup/jbpm/commit/33348de0fee456e9bb300b6f71880e4efd8275a5", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-25T17:19:36Z", "type": "forcePushed"}, {"oid": "94e4556a8aa4cc1b8e5f172d937a27652f70e6b9", "url": "https://github.com/kiegroup/jbpm/commit/94e4556a8aa4cc1b8e5f172d937a27652f70e6b9", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-26T10:30:47Z", "type": "forcePushed"}, {"oid": "916b572a6bc956697f27243c6b23d727fcba1684", "url": "https://github.com/kiegroup/jbpm/commit/916b572a6bc956697f27243c6b23d727fcba1684", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-26T19:02:07Z", "type": "forcePushed"}, {"oid": "76ba50d2d9ad1d4eacd19783be18b1cfa5d9f632", "url": "https://github.com/kiegroup/jbpm/commit/76ba50d2d9ad1d4eacd19783be18b1cfa5d9f632", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-10-27T11:29:57Z", "type": "forcePushed"}, {"oid": "1afda8cf0fc6d041579bd7c03b264e4bcd56ee95", "url": "https://github.com/kiegroup/jbpm/commit/1afda8cf0fc6d041579bd7c03b264e4bcd56ee95", "message": "Fix pom.xmls", "committedDate": "2020-10-28T23:34:27Z", "type": "forcePushed"}, {"oid": "8ca97c933b42a4a494c3537ce06395e800368d0f", "url": "https://github.com/kiegroup/jbpm/commit/8ca97c933b42a4a494c3537ce06395e800368d0f", "message": "AF-1799: Add null check to avoid breaking the build on jdk11.", "committedDate": "2020-11-03T23:38:21Z", "type": "commit"}, {"oid": "a2e4d37e5d4d662ccb2265b730f97264fdb38c1d", "url": "https://github.com/kiegroup/jbpm/commit/a2e4d37e5d4d662ccb2265b730f97264fdb38c1d", "message": "Update pockermock-api-mockito dependency", "committedDate": "2020-11-03T23:38:21Z", "type": "commit"}, {"oid": "dafc81239b1ebb27aa01b947e995096db26ad7ce", "url": "https://github.com/kiegroup/jbpm/commit/dafc81239b1ebb27aa01b947e995096db26ad7ce", "message": "Fix pom.xmls", "committedDate": "2020-11-03T23:38:21Z", "type": "commit"}, {"oid": "f3b6c8d96b04c60382a815ee640aa232f7f5ed85", "url": "https://github.com/kiegroup/jbpm/commit/f3b6c8d96b04c60382a815ee640aa232f7f5ed85", "message": "AF-1799: Adjustments after mockito upgrade.", "committedDate": "2020-11-03T23:38:21Z", "type": "commit"}, {"oid": "f3b6c8d96b04c60382a815ee640aa232f7f5ed85", "url": "https://github.com/kiegroup/jbpm/commit/f3b6c8d96b04c60382a815ee640aa232f7f5ed85", "message": "AF-1799: Adjustments after mockito upgrade.", "committedDate": "2020-11-03T23:38:21Z", "type": "forcePushed"}, {"oid": "647335b7f17d9b08539bda727526d3f55caf48f2", "url": "https://github.com/kiegroup/jbpm/commit/647335b7f17d9b08539bda727526d3f55caf48f2", "message": "Fix tests", "committedDate": "2020-11-04T14:56:07Z", "type": "commit"}, {"oid": "3b39b8515cb13c7e95fae99af5abf7daa3034a69", "url": "https://github.com/kiegroup/jbpm/commit/3b39b8515cb13c7e95fae99af5abf7daa3034a69", "message": "Merge pull request #4 from tiagobento/AF-1799-master-mockito2-4\n\nFix tests", "committedDate": "2020-11-04T14:57:29Z", "type": "commit"}, {"oid": "4b6f4cd22511ffd271cdfe4e6142e0235dca1065", "url": "https://github.com/kiegroup/jbpm/commit/4b6f4cd22511ffd271cdfe4e6142e0235dca1065", "message": "Merge remote-tracking branch 'origin/master' into AF-1799-master", "committedDate": "2020-11-16T12:32:46Z", "type": "commit"}, {"oid": "9449e5c999921468f20cd0c09f2bf32f7616338c", "url": "https://github.com/kiegroup/jbpm/commit/9449e5c999921468f20cd0c09f2bf32f7616338c", "message": "Merge remote-tracking branch 'origin/master' into AF-1799-master", "committedDate": "2020-11-20T15:41:03Z", "type": "commit"}, {"oid": "cf02f17f351da4fdfde91835f45312dcacc7e8cc", "url": "https://github.com/kiegroup/jbpm/commit/cf02f17f351da4fdfde91835f45312dcacc7e8cc", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-11-23T17:22:37Z", "type": "commit"}, {"oid": "9467ac68662c89c8ff4ed6f85e7f03c50efc8350", "url": "https://github.com/kiegroup/jbpm/commit/9467ac68662c89c8ff4ed6f85e7f03c50efc8350", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-11-25T12:02:02Z", "type": "commit"}, {"oid": "a48bed9d455ad6c9a5a3767821e6cbb91778ec34", "url": "https://github.com/kiegroup/jbpm/commit/a48bed9d455ad6c9a5a3767821e6cbb91778ec34", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-11-27T15:17:33Z", "type": "commit"}, {"oid": "50ffd2d0f8a6e30124450e8853d92d417a9ad864", "url": "https://github.com/kiegroup/jbpm/commit/50ffd2d0f8a6e30124450e8853d92d417a9ad864", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-11-30T11:35:47Z", "type": "commit"}, {"oid": "36af3db7460e319748daacc5d276c6013c9b76f4", "url": "https://github.com/kiegroup/jbpm/commit/36af3db7460e319748daacc5d276c6013c9b76f4", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-12-04T11:42:30Z", "type": "commit"}, {"oid": "5e25c368e81d3b96b87010c844213b2086a696b5", "url": "https://github.com/kiegroup/jbpm/commit/5e25c368e81d3b96b87010c844213b2086a696b5", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-12-09T12:33:04Z", "type": "commit"}, {"oid": "66508841baf038e45a8cb1ec9c22b9bd9ff0d0a8", "url": "https://github.com/kiegroup/jbpm/commit/66508841baf038e45a8cb1ec9c22b9bd9ff0d0a8", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-12-11T17:23:40Z", "type": "commit"}, {"oid": "7f37999584e6f78ef90bc8fca4df76816c570a87", "url": "https://github.com/kiegroup/jbpm/commit/7f37999584e6f78ef90bc8fca4df76816c570a87", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-12-15T18:12:53Z", "type": "commit"}, {"oid": "e66a7e99f2d1463aa9a957dcb00f37e3360fa019", "url": "https://github.com/kiegroup/jbpm/commit/e66a7e99f2d1463aa9a957dcb00f37e3360fa019", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-12-16T13:56:39Z", "type": "commit"}, {"oid": "7cf516046bfe62e4f408138e6045f10f8f4e9f24", "url": "https://github.com/kiegroup/jbpm/commit/7cf516046bfe62e4f408138e6045f10f8f4e9f24", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2020-12-21T11:36:58Z", "type": "commit"}, {"oid": "25999364861f8947592a7038f8520233c1ef5a41", "url": "https://github.com/kiegroup/jbpm/commit/25999364861f8947592a7038f8520233c1ef5a41", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2021-01-07T17:58:47Z", "type": "commit"}, {"oid": "bd992c8542939262603593cfca6be26dc24503f7", "url": "https://github.com/kiegroup/jbpm/commit/bd992c8542939262603593cfca6be26dc24503f7", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2021-01-15T15:57:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDk1MDg0OQ==", "url": "https://github.com/kiegroup/jbpm/pull/1770#discussion_r560950849", "bodyText": "Is this change needed for the upgrade? In case we want to avoid NPE, I would suggest to check if there is any error in the report and if so, just return. This is just a partial solution because if process or processId is null, then we will continue. So we should stop in case any of the three is null.\nIn case it is not needed for the upgrade, I would solve it in a separate PR.", "author": "MarianMacik", "createdAt": "2021-01-20T13:15:42Z", "path": "jbpm-runtime-manager/src/main/java/org/jbpm/runtime/manager/impl/migration/MigrationManager.java", "diffHunk": "@@ -389,6 +389,9 @@ private void upgradeProcessInstance(KieRuntime oldkruntime,\n         if (process == null) {\n             report.addEntry(Type.ERROR, \"Could not find process \" + processId);\n         }\n+        if (processInstance == null) {\n+            return;\n+        }", "originalCommit": "bd992c8542939262603593cfca6be26dc24503f7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDk2OTA4NQ==", "url": "https://github.com/kiegroup/jbpm/pull/1770#discussion_r560969085", "bodyText": "Hi @MarianMacik, I remember that I've got a complaint from the building process due to the lack of a null check there. If processInstance is null, then the next line will break (processInstance.getProcessId().equals(processId)).\nAnyway, I removed locally this check and the build passed so I'll revert this change. Let's see if we get a green build from Jenkins.", "author": "caponetto", "createdAt": "2021-01-20T13:44:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDk1MDg0OQ=="}], "type": "inlineReview"}, {"oid": "df5b2b75cefa8e67e694a2b42b32bfdf37a68306", "url": "https://github.com/kiegroup/jbpm/commit/df5b2b75cefa8e67e694a2b42b32bfdf37a68306", "message": "AF-1799: Remove null check.", "committedDate": "2021-01-20T13:46:36Z", "type": "commit"}, {"oid": "831df4a153f7a62d240ffaf1aba69564ec4bc062", "url": "https://github.com/kiegroup/jbpm/commit/831df4a153f7a62d240ffaf1aba69564ec4bc062", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2021-01-20T18:44:01Z", "type": "commit"}, {"oid": "c0ac9907dadb10db60c7d3198d1e1e86ae79eb2e", "url": "https://github.com/kiegroup/jbpm/commit/c0ac9907dadb10db60c7d3198d1e1e86ae79eb2e", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2021-01-27T12:10:13Z", "type": "commit"}, {"oid": "94abf49baf36a8167190c47507bff3b03f93e075", "url": "https://github.com/kiegroup/jbpm/commit/94abf49baf36a8167190c47507bff3b03f93e075", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2021-01-28T11:12:59Z", "type": "commit"}, {"oid": "ec73c319172958d0fab2014eb31b16eafaf425d5", "url": "https://github.com/kiegroup/jbpm/commit/ec73c319172958d0fab2014eb31b16eafaf425d5", "message": "Merge remote-tracking branch 'upstream/master' into AF-1799-master", "committedDate": "2021-02-02T11:40:03Z", "type": "commit"}]}