{"pr_number": 1918, "pr_title": "no need to explicitely list the snake case methods", "pr_createdAt": "2020-02-17T18:34:16Z", "pr_url": "https://github.com/graphhopper/graphhopper/pull/1918", "timeline": [{"oid": "c5196b7331ac65d7b1e53dd68faf4d09a60e5995", "url": "https://github.com/graphhopper/graphhopper/commit/c5196b7331ac65d7b1e53dd68faf4d09a60e5995", "message": "no need to explicitely list the snake case methods of GHRequest in GHRequestMixIn", "committedDate": "2020-02-17T17:30:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r380505764", "bodyText": "Do we ever want the mapper without the snake strategy? If not maybe we could simply put this in the existing initObjectMapper?", "author": "easbar", "createdAt": "2020-02-18T07:54:15Z", "path": "web-api/src/main/java/com/graphhopper/jackson/Jackson.java", "diffHunk": "@@ -20,13 +20,18 @@\n import com.bedatadriven.jackson.datatype.jts.JtsModule;\n import com.fasterxml.jackson.annotation.JsonInclude;\n import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.fasterxml.jackson.databind.PropertyNamingStrategy;\n \n public class Jackson {\n \n     public static ObjectMapper newObjectMapper() {\n         return initObjectMapper(new ObjectMapper());\n     }\n \n+    public static ObjectMapper initObjectMapperWithSnake(ObjectMapper objectMapper) {", "originalCommit": "c5196b7331ac65d7b1e53dd68faf4d09a60e5995", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY3NTcxMQ==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r380675711", "bodyText": "If we define the snake case globally, which I would really prefer, then we would need to rewrite all our config.yml (should we avoid this?). See 2f2567b", "author": "karussell", "createdAt": "2020-02-18T13:38:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDkxMzAwNg==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r380913006", "bodyText": "Wait what do you prefer? You want to use snake case everywhere? But isn't this what we do (the current config.yml uses snake case). And in 2f2567b you converted everything  to camel case?", "author": "easbar", "createdAt": "2020-02-18T20:20:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ1MDc1OQ==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381450759", "bodyText": "I would prefer a global snake case, yes. But this would break existing config.yml files as it includes e.g. applicationConnectors and it would be necessary to change this (and several other things) to snake_case.\nI'm not sure if we should do this.\n\nBut isn't this what we do (the current config.yml uses snake case)\n\nNo, unfortunately not. See all the camelCase config properties from dropwizard. Also when switching to global snake case still the requestLog property made problems and wasn't available as snake_case, maybe something related to dropwizard/dropwizard#1558", "author": "karussell", "createdAt": "2020-02-19T18:07:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ1NTgzNA==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381455834", "bodyText": "Ah right dropwizard uses camel case. But if thats the default why do we not just use camel case everywhere? Ok I would agree that snake case is prettier / more readable and more consistent with url parameters...", "author": "easbar", "createdAt": "2020-02-19T18:17:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ2NTAyMg==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381465022", "bodyText": "Ok I would agree that snake case is prettier / more readable and more consistent with url parameters...\n\nYes, exactly. I don't want to advertise camelCase outside of Java code (also as you say for consistency with our API).\nBut maybe we could break configuration once again before 1.0? It is not really much but it is also ugly to rewrite them. Especially the error message is not really helpful but we could create a ticket for that.", "author": "karussell", "createdAt": "2020-02-19T18:33:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ3NTU0MA==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381475540", "bodyText": "we are breaking the configuration in many ways I think (also this for example #1922) and overall it might need some cleanup. For example if we make GraphHopperConfig more typesafe I am not sure if the current grouping of parameters (using dots) is really what we want.", "author": "easbar", "createdAt": "2020-02-19T18:52:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTUwMDMwOQ==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381500309", "bodyText": "we are breaking the configuration in many ways I think\n\nAh, indeed. Then I'll rework this PR to use the snake_case globally and document it in the changelog.\nAlso regarding the \"dot\": could we convert the current state:\ndatareader.file: somefile.pbf into an object structure like\ndatareader:\n file: somefile.pbf", "author": "karussell", "createdAt": "2020-02-19T19:38:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTUwNDgyNw==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381504827", "bodyText": "could we convert the current state: datareader.file: somefile.pbf into an object structure like\n\nI think thats the point. When the property name is datareader.file (in the command line argument at least) dropwizard interprets this as the file property of the datareader object. The datareader object is missing in the configuration and thus the override fails. Otherwise yes we could convert it into an object structure, but this must be reflected on the java side (GraphHopperConfig.java). If we start grouping parameters together we should try to find out which ones are really related such that the sub-objects of GraphHopperConfig represent a meaningful decomposition and we can pass around these sub-objects to the different components (which ideally do not need to know anything about the other sub-objects). For example I did this with RoutingConfig in the GraphHopper class even though this is so far only done internally (not in config.yml yet).", "author": "easbar", "createdAt": "2020-02-19T19:46:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTUwNTk2Ng==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381505966", "bodyText": "But maybe this is something for GH 2.0 as its also related to how we will deal with the graphhopper folder cache/database in the future and what kind of refactorings will be done to the GraphHopper class, what should belong to the 'core' etc. :)", "author": "easbar", "createdAt": "2020-02-19T19:48:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTUyOTUxNw==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381529517", "bodyText": "Ok. So we keep the dots in the pararameters for 1.0 but move everything to snake_case?", "author": "karussell", "createdAt": "2020-02-19T20:36:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTU1ODczNA==", "url": "https://github.com/graphhopper/graphhopper/pull/1918#discussion_r381558734", "bodyText": "Sounds like a plan", "author": "easbar", "createdAt": "2020-02-19T21:36:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwNTc2NA=="}], "type": "inlineReview"}, {"oid": "505ee53f37cafe246c6893d1a0615a7ffbfe0e86", "url": "https://github.com/graphhopper/graphhopper/commit/505ee53f37cafe246c6893d1a0615a7ffbfe0e86", "message": "Merge branch 'master' into snake_case", "committedDate": "2020-02-21T08:01:01Z", "type": "commit"}, {"oid": "c3845226230a67de41d3e7dff3fd6203167567b8", "url": "https://github.com/graphhopper/graphhopper/commit/c3845226230a67de41d3e7dff3fd6203167567b8", "message": "use snake_case globally, also fix #1921", "committedDate": "2020-02-21T08:41:36Z", "type": "commit"}, {"oid": "0843af70ed530b821f140afd8523ec1e3b720ecb", "url": "https://github.com/graphhopper/graphhopper/commit/0843af70ed530b821f140afd8523ec1e3b720ecb", "message": "remove imports", "committedDate": "2020-02-21T08:44:57Z", "type": "commit"}, {"oid": "94b80064e9c2f1f92ded5b5bb4481c2465afd722", "url": "https://github.com/graphhopper/graphhopper/commit/94b80064e9c2f1f92ded5b5bb4481c2465afd722", "message": "add node js tool to changelog", "committedDate": "2020-02-21T09:34:30Z", "type": "commit"}]}