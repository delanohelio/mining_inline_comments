{"pr_number": 464, "pr_title": "replace most UI Tests in JobActionITest", "pr_createdAt": "2020-05-06T16:09:11Z", "pr_url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/464", "timeline": [{"oid": "240af2fffdacef8cf3aab2b1cfdcfc34865c11e2", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/240af2fffdacef8cf3aab2b1cfdcfc34865c11e2", "message": "Bump echarts-api from 4.6.0-9 to 4.6.0-10\n\nBumps [echarts-api](https://github.com/jenkinsci/echarts-api-plugin) from 4.6.0-9 to 4.6.0-10.\n- [Release notes](https://github.com/jenkinsci/echarts-api-plugin/releases)\n- [Changelog](https://github.com/jenkinsci/echarts-api-plugin/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/echarts-api-plugin/compare/echarts-api-4.6.0-9...echarts-api-4.6.0-10)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-05T06:10:13Z", "type": "commit"}, {"oid": "36a027ad6b5eca25102bc6a72af1b6c36fbc2739", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/36a027ad6b5eca25102bc6a72af1b6c36fbc2739", "message": "Bump bootstrap4-api from 4.4.1-13 to 4.4.1-14\n\nBumps [bootstrap4-api](https://github.com/jenkinsci/bootstrap4-api-plugin) from 4.4.1-13 to 4.4.1-14.\n- [Release notes](https://github.com/jenkinsci/bootstrap4-api-plugin/releases)\n- [Changelog](https://github.com/jenkinsci/bootstrap4-api-plugin/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/bootstrap4-api-plugin/compare/bootstrap4-api-4.4.1-13...bootstrap4-api-4.4.1-14)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-06T06:15:37Z", "type": "commit"}, {"oid": "9a523de4506e5c38ee186cdae37eaf94f60b6ddd", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/9a523de4506e5c38ee186cdae37eaf94f60b6ddd", "message": "replace most UI Tests in JobActionITest", "committedDate": "2020-05-06T16:03:09Z", "type": "commit"}, {"oid": "4a6217dfa004f78092a06e9ba15cdfca34cc55c5", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/4a6217dfa004f78092a06e9ba15cdfca34cc55c5", "message": "Merge pull request #462 from jenkinsci/dependabot/maven/io.jenkins.plugins-bootstrap4-api-4.4.1-14\n\nBump bootstrap4-api from 4.4.1-13 to 4.4.1-14", "committedDate": "2020-05-06T21:53:01Z", "type": "commit"}, {"oid": "fc5fe5a6068ee57c31b515a4753b9eb330820896", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/fc5fe5a6068ee57c31b515a4753b9eb330820896", "message": "Merge pull request #460 from jenkinsci/dependabot/maven/io.jenkins.plugins-echarts-api-4.6.0-10\n\nBump echarts-api from 4.6.0-9 to 4.6.0-10", "committedDate": "2020-05-06T21:53:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTEzMTU0MA==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/464#discussion_r421131540", "bodyText": "For each of the job actions:\n\nverify that getUrlName is e.g. \"eclipse\"\nverify that getIonName is e.g. \"xyz\"", "author": "uhafner", "createdAt": "2020-05-06T22:35:21Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/JobActionITest.java", "diffHunk": "@@ -48,18 +57,22 @@ public void shouldShowTrendChart() {\n         Run<?, ?> build = buildWithResult(project, Result.SUCCESS);\n         assertActionProperties(project, build);\n \n-        HtmlPage jobPage = getWebPage(JavaScriptSupport.JS_DISABLED, project);\n-        assertThatTrendChartIsHidden(jobPage); // trend chart requires at least two builds\n+        project.getActions(JobAction.class);\n+        List<JobAction> jobActions = project.getActions(JobAction.class);\n \n-        assertThatSidebarLinkIsVisibleAndOpensLatestResults(jobPage, build);\n+        assertThatTrendChartIsHidden(jobActions.get(0)); // trend chart requires at least two builds\n+\n+        //TODO This should be done too. Not sure how to check sidebar links without UI\n+        //assertThatSidebarLinkIsVisibleAndOpensLatestResults(jobPage, build);", "originalCommit": "9a523de4506e5c38ee186cdae37eaf94f60b6ddd", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "58e71da4efebfb866de080bce34e7420176ee53c", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/58e71da4efebfb866de080bce34e7420176ee53c", "message": "add some more checks\n\nchecks icon and url name\nalso removed unused imports", "committedDate": "2020-05-07T07:48:14Z", "type": "commit"}, {"oid": "584087592bc8e8073668ea65dceebf38f7ed7fa8", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/584087592bc8e8073668ea65dceebf38f7ed7fa8", "message": "remove ui assertions", "committedDate": "2020-05-07T20:38:17Z", "type": "commit"}, {"oid": "60bae19240bb75e04997eb711b47590ea1f85ef0", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/60bae19240bb75e04997eb711b47590ea1f85ef0", "message": "Bump bootstrap4-api from 4.4.1-14 to 4.4.1-15\n\nBumps [bootstrap4-api](https://github.com/jenkinsci/bootstrap4-api-plugin) from 4.4.1-14 to 4.4.1-15.\n- [Release notes](https://github.com/jenkinsci/bootstrap4-api-plugin/releases)\n- [Changelog](https://github.com/jenkinsci/bootstrap4-api-plugin/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/bootstrap4-api-plugin/compare/bootstrap4-api-4.4.1-14...bootstrap4-api-4.4.1-15)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-11T06:28:20Z", "type": "commit"}, {"oid": "f5883c46ad3a92abd54c7a6f71cd5e866bc3ecae", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/f5883c46ad3a92abd54c7a6f71cd5e866bc3ecae", "message": "Merge pull request #468 from jenkinsci/dependabot/maven/io.jenkins.plugins-bootstrap4-api-4.4.1-15\n\nBump bootstrap4-api from 4.4.1-14 to 4.4.1-15", "committedDate": "2020-05-11T21:38:59Z", "type": "commit"}, {"oid": "027d219ebddae0e6d75f0896d10e8a1f9c35811e", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/027d219ebddae0e6d75f0896d10e8a1f9c35811e", "message": "Bump analysis-model-api from 8.0.1 to 8.1.0\n\nBumps [analysis-model-api](https://github.com/jenkinsci/analysis-model) from 8.0.1 to 8.1.0.\n- [Release notes](https://github.com/jenkinsci/analysis-model/releases)\n- [Changelog](https://github.com/jenkinsci/analysis-model/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/analysis-model/compare/analysis-model-8.0.1...analysis-model-8.1.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-12T06:14:40Z", "type": "commit"}, {"oid": "09f7afabf7a7e4ab069d7024e58049052ea11b1c", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/09f7afabf7a7e4ab069d7024e58049052ea11b1c", "message": "Bump version of analysis-model tests to 8.1.0.", "committedDate": "2020-05-12T07:17:07Z", "type": "commit"}, {"oid": "3e8a23f72f4c3b4d44994356c99d8b64ed0b9035", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/3e8a23f72f4c3b4d44994356c99d8b64ed0b9035", "message": "Fix links to warnings plugin native format", "committedDate": "2020-05-12T08:30:36Z", "type": "commit"}, {"oid": "72d76b0bafbb0b695edd38d1be03052b8f523945", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/72d76b0bafbb0b695edd38d1be03052b8f523945", "message": "Merge pull request #470 from whut/patch-1\n\nFix links to warnings plugin native format", "committedDate": "2020-05-12T17:53:07Z", "type": "commit"}, {"oid": "304b181b322f3dfd73ca653f2b5f282b838c9acb", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/304b181b322f3dfd73ca653f2b5f282b838c9acb", "message": "Fix source code links.\n\nFollowup to #470.", "committedDate": "2020-05-12T17:57:07Z", "type": "commit"}, {"oid": "8b7daccfb88e7334a13061acf68b61dcf9d82143", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/8b7daccfb88e7334a13061acf68b61dcf9d82143", "message": "Merge pull request #471 from jenkinsci/links\n\nFix source code links", "committedDate": "2020-05-12T17:58:21Z", "type": "commit"}, {"oid": "d385f03127a5b73c292f685b8c6c37dbbf71d798", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/d385f03127a5b73c292f685b8c6c37dbbf71d798", "message": "Merge pull request #469 from jenkinsci/dependabot/maven/io.jenkins.plugins-analysis-model-api-8.1.0\n\nBump analysis-model-api from 8.0.1 to 8.1.0", "committedDate": "2020-05-12T17:58:38Z", "type": "commit"}, {"oid": "44522d3d191bd9d2e24784557538dd86ef237e42", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/44522d3d191bd9d2e24784557538dd86ef237e42", "message": "Fix plugin path.", "committedDate": "2020-05-12T18:02:22Z", "type": "commit"}, {"oid": "6577b5066fc23a9ae42dfdb9f09de4d57ba48248", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/6577b5066fc23a9ae42dfdb9f09de4d57ba48248", "message": "Bump xmlunit-assertj from 2.6.4 to 2.7.0\n\nBumps [xmlunit-assertj](https://github.com/xmlunit/xmlunit) from 2.6.4 to 2.7.0.\n- [Release notes](https://github.com/xmlunit/xmlunit/releases)\n- [Changelog](https://github.com/xmlunit/xmlunit/blob/master/RELEASE_NOTES.md)\n- [Commits](https://github.com/xmlunit/xmlunit/compare/v2.6.4...v2.7.0)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-13T06:23:37Z", "type": "commit"}, {"oid": "7d098255b88068d846b582dcfca3477bbfa61003", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/7d098255b88068d846b582dcfca3477bbfa61003", "message": "Improve first test", "committedDate": "2020-05-14T09:45:07Z", "type": "commit"}, {"oid": "d6896c7b0a0d23d626bfae1d246e9ddfebed9052", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/d6896c7b0a0d23d626bfae1d246e9ddfebed9052", "message": "Replace UI Tests with Integration Tests", "committedDate": "2020-05-16T06:19:02Z", "type": "commit"}, {"oid": "1cbd614111f7b15b04ff578fc383a59a28e54111", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/1cbd614111f7b15b04ff578fc383a59a28e54111", "message": "Merge pull request #472 from jenkinsci/dependabot/maven/org.xmlunit-xmlunit-assertj-2.7.0\n\nBump xmlunit-assertj from 2.6.4 to 2.7.0", "committedDate": "2020-05-16T21:26:47Z", "type": "commit"}, {"oid": "69006c92654c73fb8a7ddbe00ec12d862c0f90d9", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/69006c92654c73fb8a7ddbe00ec12d862c0f90d9", "message": "Bump echarts-api from 4.6.0-10 to 4.7.0-1\n\nBumps [echarts-api](https://github.com/jenkinsci/echarts-api-plugin) from 4.6.0-10 to 4.7.0-1.\n- [Release notes](https://github.com/jenkinsci/echarts-api-plugin/releases)\n- [Changelog](https://github.com/jenkinsci/echarts-api-plugin/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/echarts-api-plugin/compare/echarts-api-4.6.0-10...echarts-api-4.7.0-1)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-18T06:27:49Z", "type": "commit"}, {"oid": "48fbe3f6e690b869c71d8387e0f419e8a440d607", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/48fbe3f6e690b869c71d8387e0f419e8a440d607", "message": "Bump jquery3-api from 3.4.1-10 to 3.5.1-1\n\nBumps [jquery3-api](https://github.com/jenkinsci/jquery3-api-plugin) from 3.4.1-10 to 3.5.1-1.\n- [Release notes](https://github.com/jenkinsci/jquery3-api-plugin/releases)\n- [Changelog](https://github.com/jenkinsci/jquery3-api-plugin/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/jquery3-api-plugin/compare/jquery3-api-3.4.1-10...jquery3-api-3.5.1-1)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-18T06:28:47Z", "type": "commit"}, {"oid": "2e2ec1d7256d5bb832748f609e10261f63c3e60a", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/2e2ec1d7256d5bb832748f609e10261f63c3e60a", "message": "update Plugin Utilities to version 1.2.1", "committedDate": "2020-05-18T08:02:15Z", "type": "commit"}, {"oid": "08ca461a4dcce79e02cbc185910aae1e406b65e8", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/08ca461a4dcce79e02cbc185910aae1e406b65e8", "message": "use issues row to check correct values", "committedDate": "2020-05-18T09:13:31Z", "type": "commit"}, {"oid": "ea7c164265c46ca2ebfcf331c26360fe93edf927", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/ea7c164265c46ca2ebfcf331c26360fe93edf927", "message": "improve variable names", "committedDate": "2020-05-18T09:26:05Z", "type": "commit"}, {"oid": "93f98571ffbce36158bcd4eb68eeb7ae154e4ece", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/93f98571ffbce36158bcd4eb68eeb7ae154e4ece", "message": "Bump plugin-util-api from 1.2.0 to 1.2.1\n\nBumps [plugin-util-api](https://github.com/jenkinsci/plugin-util-api-plugin) from 1.2.0 to 1.2.1.\n- [Release notes](https://github.com/jenkinsci/plugin-util-api-plugin/releases)\n- [Changelog](https://github.com/jenkinsci/plugin-util-api-plugin/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/plugin-util-api-plugin/compare/plugin-util-api-1.2.0...plugin-util-api-1.2.1)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-19T06:18:58Z", "type": "commit"}, {"oid": "8ffb3345a2564fa03cc70a22f15a12eec9e95df0", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/8ffb3345a2564fa03cc70a22f15a12eec9e95df0", "message": "Merge pull request #480 from jenkinsci/dependabot/maven/io.jenkins.plugins-jquery3-api-3.5.1-1\n\nBump jquery3-api from 3.4.1-10 to 3.5.1-1", "committedDate": "2020-05-19T21:05:14Z", "type": "commit"}, {"oid": "a2558b4375f0c2bd1763bdd146e52094cde3ce2e", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/a2558b4375f0c2bd1763bdd146e52094cde3ce2e", "message": "Bump bootstrap4-api from 4.4.1-15 to 4.5.0-1\n\nBumps [bootstrap4-api](https://github.com/jenkinsci/bootstrap4-api-plugin) from 4.4.1-15 to 4.5.0-1.\n- [Release notes](https://github.com/jenkinsci/bootstrap4-api-plugin/releases)\n- [Changelog](https://github.com/jenkinsci/bootstrap4-api-plugin/blob/master/CHANGELOG.md)\n- [Commits](https://github.com/jenkinsci/bootstrap4-api-plugin/compare/bootstrap4-api-4.4.1-15...bootstrap4-api-4.5.0-1)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-19T21:06:31Z", "type": "commit"}, {"oid": "2efb85459bd9b96d54c0298e59b1a9641dc688e5", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/2efb85459bd9b96d54c0298e59b1a9641dc688e5", "message": "Bump acceptance-test-harness from 1.71 to 1.72\n\nBumps acceptance-test-harness from 1.71 to 1.72.\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>", "committedDate": "2020-05-20T06:11:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzNzI5Mw==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/464#discussion_r428337293", "bodyText": "Extract those strings as constants", "author": "uhafner", "createdAt": "2020-05-20T22:12:28Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/JobActionITest.java", "diffHunk": "@@ -210,20 +210,60 @@ private void assertThatSidebarLinkIsVisibleAndOpensLatestResults(final HtmlPage\n         assertThat(results.getBaseURI()).endsWith(build.getUrl() + labelProvider.getId() + \"/\");\n     }\n \n-    private void assertThatTrendChartIsVisible(final HtmlPage jobPage) {\n-        DomElement trendChart = jobPage.getElementById(\"eclipse-history-chart\");\n-        assertThat(trendChart).isNotNull();\n+    private void assertThatTrendChartIsVisible(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isTrue();\n+    }\n+\n+    private void assertThatTrendChartIsHidden(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isFalse();\n+    }\n+\n+    public void assertThatCheckstyleAndEclipseChartExist(Actionable actionable, boolean shouldChartBeVisible) {\n+        List<JobAction> jobActions = actionable.getActions(JobAction.class);\n+        assertThat(jobActions).hasSize(2);\n+\n+        JobAction checkstyle;\n+        JobAction eclipse;\n+\n+        if (\"checkstyle\".equals(jobActions.get(0).getUrlName())) {\n+            checkstyle = jobActions.get(0);\n+            eclipse = jobActions.get(1);\n+        }\n+        else {\n+            checkstyle = jobActions.get(1);\n+            eclipse = jobActions.get(0);\n+        }\n+        assertThat(eclipse.getTrendName()).isEqualTo(ECLIPSE);\n+        assertThat(eclipse.getIconFileName()).contains(\"analysis-24x24\");", "originalCommit": "58e71da4efebfb866de080bce34e7420176ee53c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzNzgzNA==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/464#discussion_r428337834", "bodyText": "Am besten den ganzen Code mal mit Reformat korrigieren (und evtl. CheckStyle Plugin aktivieren, dann werden diese Probleme gleich markiert).", "author": "uhafner", "createdAt": "2020-05-20T22:13:50Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/JobActionITest.java", "diffHunk": "@@ -210,20 +210,60 @@ private void assertThatSidebarLinkIsVisibleAndOpensLatestResults(final HtmlPage\n         assertThat(results.getBaseURI()).endsWith(build.getUrl() + labelProvider.getId() + \"/\");\n     }\n \n-    private void assertThatTrendChartIsVisible(final HtmlPage jobPage) {\n-        DomElement trendChart = jobPage.getElementById(\"eclipse-history-chart\");\n-        assertThat(trendChart).isNotNull();\n+    private void assertThatTrendChartIsVisible(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isTrue();\n+    }\n+\n+    private void assertThatTrendChartIsHidden(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isFalse();\n+    }\n+\n+    public void assertThatCheckstyleAndEclipseChartExist(Actionable actionable, boolean shouldChartBeVisible) {\n+        List<JobAction> jobActions = actionable.getActions(JobAction.class);\n+        assertThat(jobActions).hasSize(2);\n+\n+        JobAction checkstyle;\n+        JobAction eclipse;\n+\n+        if (\"checkstyle\".equals(jobActions.get(0).getUrlName())) {\n+            checkstyle = jobActions.get(0);\n+            eclipse = jobActions.get(1);\n+        }\n+        else {\n+            checkstyle = jobActions.get(1);\n+            eclipse = jobActions.get(0);\n+        }\n+        assertThat(eclipse.getTrendName()).isEqualTo(ECLIPSE);\n+        assertThat(eclipse.getIconFileName()).contains(\"analysis-24x24\");\n+        assertThat(checkstyle.getTrendName()).isEqualTo(CHECKSTYLEW);\n+        assertThat(checkstyle.getIconFileName()).contains(\"checkstyle-24x24\");\n \n-        List<DomElement> captions = jobPage.getByXPath(\"//div[contains(@class, 'test-trend-caption')]\");\n-        assertThat(captions).hasSize(1);\n-        String title = captions.get(0).getTextContent();\n-        assertThat(title).isEqualTo(new Eclipse().getLabelProvider().getTrendName());\n+        if(shouldChartBeVisible){", "originalCommit": "58e71da4efebfb866de080bce34e7420176ee53c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzODM1MQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/464#discussion_r428338351", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    List<AggregatedTrendAction> aggregatedTrendActions = actionable.getActions(AggregatedTrendAction.class);\n          \n          \n            \n                    AggregatedTrendAction aggregatedTrendActions = actionable.getAction(AggregatedTrendAction.class);", "author": "uhafner", "createdAt": "2020-05-20T22:15:05Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/JobActionITest.java", "diffHunk": "@@ -210,20 +210,60 @@ private void assertThatSidebarLinkIsVisibleAndOpensLatestResults(final HtmlPage\n         assertThat(results.getBaseURI()).endsWith(build.getUrl() + labelProvider.getId() + \"/\");\n     }\n \n-    private void assertThatTrendChartIsVisible(final HtmlPage jobPage) {\n-        DomElement trendChart = jobPage.getElementById(\"eclipse-history-chart\");\n-        assertThat(trendChart).isNotNull();\n+    private void assertThatTrendChartIsVisible(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isTrue();\n+    }\n+\n+    private void assertThatTrendChartIsHidden(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isFalse();\n+    }\n+\n+    public void assertThatCheckstyleAndEclipseChartExist(Actionable actionable, boolean shouldChartBeVisible) {\n+        List<JobAction> jobActions = actionable.getActions(JobAction.class);\n+        assertThat(jobActions).hasSize(2);\n+\n+        JobAction checkstyle;\n+        JobAction eclipse;\n+\n+        if (\"checkstyle\".equals(jobActions.get(0).getUrlName())) {\n+            checkstyle = jobActions.get(0);\n+            eclipse = jobActions.get(1);\n+        }\n+        else {\n+            checkstyle = jobActions.get(1);\n+            eclipse = jobActions.get(0);\n+        }\n+        assertThat(eclipse.getTrendName()).isEqualTo(ECLIPSE);\n+        assertThat(eclipse.getIconFileName()).contains(\"analysis-24x24\");\n+        assertThat(checkstyle.getTrendName()).isEqualTo(CHECKSTYLEW);\n+        assertThat(checkstyle.getIconFileName()).contains(\"checkstyle-24x24\");\n \n-        List<DomElement> captions = jobPage.getByXPath(\"//div[contains(@class, 'test-trend-caption')]\");\n-        assertThat(captions).hasSize(1);\n-        String title = captions.get(0).getTextContent();\n-        assertThat(title).isEqualTo(new Eclipse().getLabelProvider().getTrendName());\n+        if(shouldChartBeVisible){\n+            assertThatTrendChartIsVisible(eclipse);\n+            assertThatTrendChartIsVisible(checkstyle);\n+        }\n+        else {\n+            assertThatTrendChartIsHidden(eclipse);\n+            assertThatTrendChartIsHidden(checkstyle);\n+        }\n     }\n \n-    private void assertThatTrendChartIsHidden(final HtmlPage jobPage) {\n-        DomElement trendChart = jobPage.getElementById(\"eclipse-history-chart\");\n+    public void assertThatAggregationChartExists(Actionable actionable,  boolean shouldChartBeVisible){\n+        List<AggregatedTrendAction> aggregatedTrendActions = actionable.getActions(AggregatedTrendAction.class);", "originalCommit": "58e71da4efebfb866de080bce34e7420176ee53c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODMzODYzNw==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/464#discussion_r428338637", "bodyText": "Der Name steht aktuell nur im UI, oder was genau ist die Idee dahinter?", "author": "uhafner", "createdAt": "2020-05-20T22:15:43Z", "path": "plugin/src/test/java/io/jenkins/plugins/analysis/warnings/recorder/JobActionITest.java", "diffHunk": "@@ -210,20 +210,60 @@ private void assertThatSidebarLinkIsVisibleAndOpensLatestResults(final HtmlPage\n         assertThat(results.getBaseURI()).endsWith(build.getUrl() + labelProvider.getId() + \"/\");\n     }\n \n-    private void assertThatTrendChartIsVisible(final HtmlPage jobPage) {\n-        DomElement trendChart = jobPage.getElementById(\"eclipse-history-chart\");\n-        assertThat(trendChart).isNotNull();\n+    private void assertThatTrendChartIsVisible(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isTrue();\n+    }\n+\n+    private void assertThatTrendChartIsHidden(AsyncTrendChart trendChart) {\n+        assertThat(trendChart.isTrendVisible()).isFalse();\n+    }\n+\n+    public void assertThatCheckstyleAndEclipseChartExist(Actionable actionable, boolean shouldChartBeVisible) {\n+        List<JobAction> jobActions = actionable.getActions(JobAction.class);\n+        assertThat(jobActions).hasSize(2);\n+\n+        JobAction checkstyle;\n+        JobAction eclipse;\n+\n+        if (\"checkstyle\".equals(jobActions.get(0).getUrlName())) {\n+            checkstyle = jobActions.get(0);\n+            eclipse = jobActions.get(1);\n+        }\n+        else {\n+            checkstyle = jobActions.get(1);\n+            eclipse = jobActions.get(0);\n+        }\n+        assertThat(eclipse.getTrendName()).isEqualTo(ECLIPSE);\n+        assertThat(eclipse.getIconFileName()).contains(\"analysis-24x24\");\n+        assertThat(checkstyle.getTrendName()).isEqualTo(CHECKSTYLEW);\n+        assertThat(checkstyle.getIconFileName()).contains(\"checkstyle-24x24\");\n \n-        List<DomElement> captions = jobPage.getByXPath(\"//div[contains(@class, 'test-trend-caption')]\");\n-        assertThat(captions).hasSize(1);\n-        String title = captions.get(0).getTextContent();\n-        assertThat(title).isEqualTo(new Eclipse().getLabelProvider().getTrendName());\n+        if(shouldChartBeVisible){\n+            assertThatTrendChartIsVisible(eclipse);\n+            assertThatTrendChartIsVisible(checkstyle);\n+        }\n+        else {\n+            assertThatTrendChartIsHidden(eclipse);\n+            assertThatTrendChartIsHidden(checkstyle);\n+        }\n     }\n \n-    private void assertThatTrendChartIsHidden(final HtmlPage jobPage) {\n-        DomElement trendChart = jobPage.getElementById(\"eclipse-history-chart\");\n+    public void assertThatAggregationChartExists(Actionable actionable,  boolean shouldChartBeVisible){\n+        List<AggregatedTrendAction> aggregatedTrendActions = actionable.getActions(AggregatedTrendAction.class);\n+        assertThat(aggregatedTrendActions).hasSize(1);\n+        //TODO maybe add getTrendName Methode to aggregatedTrendAction?", "originalCommit": "58e71da4efebfb866de080bce34e7420176ee53c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1c66e56d1bb01ded4f68a44bdfcc15f0a1948ec4", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/1c66e56d1bb01ded4f68a44bdfcc15f0a1948ec4", "message": "Merge pull request #466 from kevinric/remove-ui-assertions\n\nJENKINS-62102: Remove UI assertions from MiscIssueRecorderITest", "committedDate": "2020-05-20T22:39:30Z", "type": "commit"}, {"oid": "9c2f29d4e5bb2738a44a043fdae2b53ea1a80bc9", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/9c2f29d4e5bb2738a44a043fdae2b53ea1a80bc9", "message": "Merge pull request #477 from PatrickRogg/JENKINS-62100-Refactor_ChartsITest\n\nJenkins-62100 Refactoring of ChartsITest", "committedDate": "2020-05-20T22:53:15Z", "type": "commit"}, {"oid": "1763830b9ee7f7ec07536c9a323e1816b1700d09", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/1763830b9ee7f7ec07536c9a323e1816b1700d09", "message": "Merge pull request #479 from jenkinsci/dependabot/maven/io.jenkins.plugins-echarts-api-4.7.0-1\n\nBump echarts-api from 4.6.0-10 to 4.7.0-1", "committedDate": "2020-05-20T22:53:47Z", "type": "commit"}, {"oid": "7147984224747b6041251a6ef14df22a7e1576f6", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/7147984224747b6041251a6ef14df22a7e1576f6", "message": "Merge pull request #481 from jenkinsci/dependabot/maven/io.jenkins.plugins-bootstrap4-api-4.5.0-1\n\nBump bootstrap4-api from 4.4.1-15 to 4.5.0-1", "committedDate": "2020-05-20T22:54:00Z", "type": "commit"}, {"oid": "6077cdf1b3d5e3606e7819716486d79c8ab156a4", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/6077cdf1b3d5e3606e7819716486d79c8ab156a4", "message": "Merge pull request #482 from jenkinsci/dependabot/maven/io.jenkins.plugins-plugin-util-api-1.2.1\n\nBump plugin-util-api from 1.2.0 to 1.2.1", "committedDate": "2020-05-20T22:54:26Z", "type": "commit"}, {"oid": "7b3f5b269feccf07919427fa2fda02c04be6bfbe", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/7b3f5b269feccf07919427fa2fda02c04be6bfbe", "message": "Merge pull request #483 from jenkinsci/dependabot/maven/org.jenkins-ci-acceptance-test-harness-1.72\n\nBump acceptance-test-harness from 1.71 to 1.72", "committedDate": "2020-05-20T22:54:39Z", "type": "commit"}, {"oid": "f0576a839626119d830d2605874f0ccdd3a07f47", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/f0576a839626119d830d2605874f0ccdd3a07f47", "message": "[doc] Fix broken link to supported formats page", "committedDate": "2020-05-21T17:32:38Z", "type": "commit"}, {"oid": "03e6ff0a15ad2f1bca94391446408244a0ea984c", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/03e6ff0a15ad2f1bca94391446408244a0ea984c", "message": "Fix path to images.", "committedDate": "2020-05-21T19:00:49Z", "type": "commit"}, {"oid": "f9e43f9116cce5fedba15b486fa6fe4438cdb422", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/f9e43f9116cce5fedba15b486fa6fe4438cdb422", "message": "Merge pull request #486 from ababushk/broken_supported_formats_link\n\nFix broken link to supported formats page", "committedDate": "2020-05-21T19:03:07Z", "type": "commit"}, {"oid": "1bf759a64b3e51a78c1474554865c3947d459cfb", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/1bf759a64b3e51a78c1474554865c3947d459cfb", "message": "replace most UI Tests in JobActionITest", "committedDate": "2020-05-22T09:30:48Z", "type": "commit"}, {"oid": "d0d06c579fc3d1f3bf07402b3b7ab127c15f9b0b", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/d0d06c579fc3d1f3bf07402b3b7ab127c15f9b0b", "message": "add some more checks\n\nchecks icon and url name\nalso removed unused imports", "committedDate": "2020-05-22T09:30:48Z", "type": "commit"}, {"oid": "10024b9c4388d9b12fe81c6abf02dc64808e1af1", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/10024b9c4388d9b12fe81c6abf02dc64808e1af1", "message": "make requested changes\n\nimprove formatting\nintroduce constants", "committedDate": "2020-05-22T09:30:48Z", "type": "commit"}, {"oid": "3a0a3b8eb514fe70528a5c6945ab69f87a289bbb", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/3a0a3b8eb514fe70528a5c6945ab69f87a289bbb", "message": "Merge remote-tracking branch 'origin/replaceJobActionUITests' into replaceJobActionUITests", "committedDate": "2020-05-22T09:34:41Z", "type": "commit"}]}