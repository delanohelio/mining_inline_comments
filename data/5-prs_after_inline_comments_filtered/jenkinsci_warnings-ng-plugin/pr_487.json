{"pr_number": 487, "pr_title": "JENKINS-62186: IssueColumnUiTest", "pr_createdAt": "2020-05-24T13:29:57Z", "pr_url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487", "timeline": [{"oid": "0768598e679aad61ed746abfd86b0a429bde2955", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/0768598e679aad61ed746abfd86b0a429bde2955", "message": "JENKINS-62186: IssueColumnUiTest\n\nCo-authored-by: DaAnda97 <andreas.riepl@gmx.net>", "committedDate": "2020-05-24T13:13:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ2NDUzMw==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r431464533", "bodyText": "JavaDoc nicht vergessen", "author": "uhafner", "createdAt": "2020-05-27T21:53:34Z", "path": "ui-tests/src/main/java/io/jenkins/plugins/analysis/warnings/IssueColumn.java", "diffHunk": "@@ -0,0 +1,53 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import java.net.URL;\n+\n+import org.openqa.selenium.WebElement;\n+import org.openqa.selenium.interactions.Actions;\n+\n+import com.google.inject.Injector;\n+\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.PageObject;\n+\n+public class IssueColumn extends PageObject {", "originalCommit": "0768598e679aad61ed746abfd86b0a429bde2955", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQ2NDgxNQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r431464815", "bodyText": "Das funktioniert schon mal prima!\nW\u00e4re es noch m\u00f6glich, zus\u00e4tzliche Columns hinzuzuf\u00fcgen (und ggf. zu konfigurieren?). Man kann das \u00fcber das Erzeugen einer Listview mit Columns machen.", "author": "uhafner", "createdAt": "2020-05-27T21:54:16Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/IssueColumnUiTest.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import org.junit.Test;\n+\n+import org.jenkinsci.test.acceptance.junit.AbstractJUnitTest;\n+import org.jenkinsci.test.acceptance.junit.WithPlugins;\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.FreeStyleJob;\n+\n+import static org.hamcrest.Matchers.*;\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Acceptance tests for the Warnings Issue Column\n+ *\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n+ */\n+@WithPlugins(\"warnings-ng\")\n+public class IssueColumnUiTest extends AbstractJUnitTest {\n+    private static final String WARNINGS_PLUGIN_PREFIX = \"/\";\n+\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldDisplayIssueCount() {", "originalCommit": "0768598e679aad61ed746abfd86b0a429bde2955", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0b5c5e5294e51d46263262539ef65f345abf8d24", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/0b5c5e5294e51d46263262539ef65f345abf8d24", "message": "JENKINS-62186: Add tests for verifying displayed link and to regression test hover behaviour\n\nCo-authored-by: DaAnda97 <andreas.riepl@gmx.net>", "committedDate": "2020-05-28T15:29:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MDA3Mg==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r432940072", "bodyText": "Die Idee w\u00e4re, das in ein Page Object als Column zu packen, z.B. IssueColumnConfiguration. So dass ich im Test mit der Column interagieren kann. Zum Beispiel auch zus\u00e4tzliche Columns hinzuf\u00fcgen kann. Dazu gibt es ja ListView#addColumn.\nDann kann da auch noch der Type mit rein: neue Warnungen, bestehende, dazu d\u00fcrfen Sie StatisticProperties gerne kopieren aus dem Plugin.", "author": "uhafner", "createdAt": "2020-05-31T12:04:50Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/IssueColumnUiTest.java", "diffHunk": "@@ -0,0 +1,144 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import org.junit.Test;\n+\n+import org.jenkinsci.test.acceptance.junit.AbstractJUnitTest;\n+import org.jenkinsci.test.acceptance.junit.WithPlugins;\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.FreeStyleJob;\n+import org.jenkinsci.test.acceptance.po.ListView;\n+\n+import static org.hamcrest.Matchers.*;\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Acceptance tests for the Warnings Issue Column\n+ *\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n+ */\n+@WithPlugins(\"warnings-ng\")\n+public class IssueColumnUiTest extends AbstractJUnitTest {\n+    private static final String WARNINGS_PLUGIN_PREFIX = \"/\";\n+\n+    /**\n+     * Configure a job with multiple recorders: Should display a table when hovering the issue column\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldDisplayIssueCount() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        String jobName = job.name;\n+\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        jenkins.visit(\"\");\n+\n+\n+        IssueColumn column = new IssueColumn(build, jobName);\n+\n+        String issueCount = column.getIssuesCountTextFromTable();\n+        assertThat(issueCount, is(\"25\"));\n+\n+        column.hoverIssueCount();\n+\n+        assertThat(column.getToolNameFromHover(1), is(\"CheckStyle Warnings\"));\n+        assertThat(column.getIssueCountFromHover(1), is(\"3\"));\n+\n+        assertThat(column.getToolNameFromHover(2), is(\"FindBugs Warnings\"));\n+        assertThat(column.getIssueCountFromHover(2), is(\"0\"));\n+\n+        assertThat(column.getToolNameFromHover(3), is(\"PMD Warnings\"));\n+        assertThat(column.getIssueCountFromHover(3), is(\"2\"));\n+\n+        assertThat(column.getToolNameFromHover(4), is(\"CPD Duplications\"));\n+        assertThat(column.getIssueCountFromHover(4), is(\"20\"));\n+    }\n+\n+    /**\n+     * Configure a job with only one recorder, also create a ListView and configure the issue column to display only this\n+     * tool results. Should have a link in issue column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnlyWithLink() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job, \"CheckStyle\");\n+        job.save();\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        ListView view = jenkins.views.create(ListView.class, \"a_view\");\n+        view.configure();\n+        view.check(\"Use a regular expression to include jobs into the view\");\n+        fillIn(\"includeRegex\", \".*\");\n+\n+        view.check(\"Select subset of tools\");", "originalCommit": "0b5c5e5294e51d46263262539ef65f345abf8d24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MDYyMQ==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r432940621", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private void addRecorder(final FreeStyleJob job) {\n          \n          \n            \n                private void addAllRecorders(final FreeStyleJob job) {", "author": "uhafner", "createdAt": "2020-05-31T12:11:22Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/IssueColumnUiTest.java", "diffHunk": "@@ -0,0 +1,144 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import org.junit.Test;\n+\n+import org.jenkinsci.test.acceptance.junit.AbstractJUnitTest;\n+import org.jenkinsci.test.acceptance.junit.WithPlugins;\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.FreeStyleJob;\n+import org.jenkinsci.test.acceptance.po.ListView;\n+\n+import static org.hamcrest.Matchers.*;\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Acceptance tests for the Warnings Issue Column\n+ *\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n+ */\n+@WithPlugins(\"warnings-ng\")\n+public class IssueColumnUiTest extends AbstractJUnitTest {\n+    private static final String WARNINGS_PLUGIN_PREFIX = \"/\";\n+\n+    /**\n+     * Configure a job with multiple recorders: Should display a table when hovering the issue column\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldDisplayIssueCount() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        String jobName = job.name;\n+\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        jenkins.visit(\"\");\n+\n+\n+        IssueColumn column = new IssueColumn(build, jobName);\n+\n+        String issueCount = column.getIssuesCountTextFromTable();\n+        assertThat(issueCount, is(\"25\"));\n+\n+        column.hoverIssueCount();\n+\n+        assertThat(column.getToolNameFromHover(1), is(\"CheckStyle Warnings\"));\n+        assertThat(column.getIssueCountFromHover(1), is(\"3\"));\n+\n+        assertThat(column.getToolNameFromHover(2), is(\"FindBugs Warnings\"));\n+        assertThat(column.getIssueCountFromHover(2), is(\"0\"));\n+\n+        assertThat(column.getToolNameFromHover(3), is(\"PMD Warnings\"));\n+        assertThat(column.getIssueCountFromHover(3), is(\"2\"));\n+\n+        assertThat(column.getToolNameFromHover(4), is(\"CPD Duplications\"));\n+        assertThat(column.getIssueCountFromHover(4), is(\"20\"));\n+    }\n+\n+    /**\n+     * Configure a job with only one recorder, also create a ListView and configure the issue column to display only this\n+     * tool results. Should have a link in issue column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnlyWithLink() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job, \"CheckStyle\");\n+        job.save();\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        ListView view = jenkins.views.create(ListView.class, \"a_view\");\n+        view.configure();\n+        view.check(\"Use a regular expression to include jobs into the view\");\n+        fillIn(\"includeRegex\", \".*\");\n+\n+        view.check(\"Select subset of tools\");\n+        view.fillIn(\"_.id\", \"CheckStyle\");\n+        view.save();\n+\n+        IssueColumn column = new IssueColumn(build, job.name);\n+        assertThat(column.getIssuesCountTextFromTable(), is(\"3\"));\n+        assertTrue(column.issuesCountFromTableHasLink());\n+    }\n+\n+    /**\n+     * Configure a job with multiple recorders, also create a ListView and configure the issue column to display only\n+     * results from CheckStyle. Should have no link in column and display detailed table when hovering the column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnly() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        ListView view = jenkins.views.create(ListView.class, \"a_view\");\n+        view.configure();\n+        view.check(\"Use a regular expression to include jobs into the view\");\n+        fillIn(\"includeRegex\", \".*\");\n+\n+        view.check(\"Select subset of tools\");\n+        view.fillIn(\"_.id\", \"CheckStyle\");\n+        view.save();\n+\n+        IssueColumn column = new IssueColumn(build, job.name);\n+        assertThat(column.getIssuesCountTextFromTable(), is(\"3\"));\n+        assertFalse(column.issuesCountFromTableHasLink());\n+\n+        column.hoverIssueCount();\n+\n+        assertThat(column.getToolNameFromHover(1), is(\"CheckStyle Warnings\"));\n+        assertThat(column.getIssueCountFromHover(1), is(\"3\"));\n+    }\n+\n+    private void addRecorder(final FreeStyleJob job, final String recorderName) {\n+        job.addPublisher(IssuesRecorder.class, recorder -> {\n+            recorder.setTool(recorderName);\n+            recorder.setEnabledForFailure(true);\n+        });\n+    }\n+\n+    private void addRecorder(final FreeStyleJob job) {", "originalCommit": "0b5c5e5294e51d46263262539ef65f345abf8d24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MDc1Nw==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r432940757", "bodyText": "Da w\u00e4re es sch\u00f6n, mit den Custom Assertions von AssertJ zu arbeiten. Ich muss glaube ich, da noch meinen Architekturtest nachziehen \ud83d\ude09", "author": "uhafner", "createdAt": "2020-05-31T12:12:58Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/IssueColumnUiTest.java", "diffHunk": "@@ -0,0 +1,144 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import org.junit.Test;\n+\n+import org.jenkinsci.test.acceptance.junit.AbstractJUnitTest;\n+import org.jenkinsci.test.acceptance.junit.WithPlugins;\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.FreeStyleJob;\n+import org.jenkinsci.test.acceptance.po.ListView;\n+\n+import static org.hamcrest.Matchers.*;\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Acceptance tests for the Warnings Issue Column\n+ *\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n+ */\n+@WithPlugins(\"warnings-ng\")\n+public class IssueColumnUiTest extends AbstractJUnitTest {\n+    private static final String WARNINGS_PLUGIN_PREFIX = \"/\";\n+\n+    /**\n+     * Configure a job with multiple recorders: Should display a table when hovering the issue column\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldDisplayIssueCount() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        String jobName = job.name;\n+\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        jenkins.visit(\"\");\n+\n+\n+        IssueColumn column = new IssueColumn(build, jobName);\n+\n+        String issueCount = column.getIssuesCountTextFromTable();\n+        assertThat(issueCount, is(\"25\"));\n+\n+        column.hoverIssueCount();\n+\n+        assertThat(column.getToolNameFromHover(1), is(\"CheckStyle Warnings\"));", "originalCommit": "0b5c5e5294e51d46263262539ef65f345abf8d24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MDg0Nw==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r432940847", "bodyText": "\ud83d\udc4d", "author": "uhafner", "createdAt": "2020-05-31T12:13:57Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/IssueColumnUiTest.java", "diffHunk": "@@ -0,0 +1,144 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import org.junit.Test;\n+\n+import org.jenkinsci.test.acceptance.junit.AbstractJUnitTest;\n+import org.jenkinsci.test.acceptance.junit.WithPlugins;\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.FreeStyleJob;\n+import org.jenkinsci.test.acceptance.po.ListView;\n+\n+import static org.hamcrest.Matchers.*;\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Acceptance tests for the Warnings Issue Column\n+ *\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n+ */\n+@WithPlugins(\"warnings-ng\")\n+public class IssueColumnUiTest extends AbstractJUnitTest {\n+    private static final String WARNINGS_PLUGIN_PREFIX = \"/\";\n+\n+    /**\n+     * Configure a job with multiple recorders: Should display a table when hovering the issue column\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldDisplayIssueCount() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        String jobName = job.name;\n+\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        jenkins.visit(\"\");\n+\n+\n+        IssueColumn column = new IssueColumn(build, jobName);\n+\n+        String issueCount = column.getIssuesCountTextFromTable();\n+        assertThat(issueCount, is(\"25\"));\n+\n+        column.hoverIssueCount();\n+\n+        assertThat(column.getToolNameFromHover(1), is(\"CheckStyle Warnings\"));\n+        assertThat(column.getIssueCountFromHover(1), is(\"3\"));\n+\n+        assertThat(column.getToolNameFromHover(2), is(\"FindBugs Warnings\"));\n+        assertThat(column.getIssueCountFromHover(2), is(\"0\"));\n+\n+        assertThat(column.getToolNameFromHover(3), is(\"PMD Warnings\"));\n+        assertThat(column.getIssueCountFromHover(3), is(\"2\"));\n+\n+        assertThat(column.getToolNameFromHover(4), is(\"CPD Duplications\"));\n+        assertThat(column.getIssueCountFromHover(4), is(\"20\"));\n+    }\n+\n+    /**\n+     * Configure a job with only one recorder, also create a ListView and configure the issue column to display only this\n+     * tool results. Should have a link in issue column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnlyWithLink() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job, \"CheckStyle\");\n+        job.save();\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        ListView view = jenkins.views.create(ListView.class, \"a_view\");\n+        view.configure();\n+        view.check(\"Use a regular expression to include jobs into the view\");\n+        fillIn(\"includeRegex\", \".*\");\n+\n+        view.check(\"Select subset of tools\");\n+        view.fillIn(\"_.id\", \"CheckStyle\");\n+        view.save();\n+\n+        IssueColumn column = new IssueColumn(build, job.name);\n+        assertThat(column.getIssuesCountTextFromTable(), is(\"3\"));\n+        assertTrue(column.issuesCountFromTableHasLink());\n+    }\n+\n+    /**\n+     * Configure a job with multiple recorders, also create a ListView and configure the issue column to display only\n+     * results from CheckStyle. Should have no link in column and display detailed table when hovering the column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnly() {", "originalCommit": "0b5c5e5294e51d46263262539ef65f345abf8d24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MDg2OA==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r432940868", "bodyText": "DRY: in methode auslagern", "author": "uhafner", "createdAt": "2020-05-31T12:14:21Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/IssueColumnUiTest.java", "diffHunk": "@@ -0,0 +1,144 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import org.junit.Test;\n+\n+import org.jenkinsci.test.acceptance.junit.AbstractJUnitTest;\n+import org.jenkinsci.test.acceptance.junit.WithPlugins;\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.FreeStyleJob;\n+import org.jenkinsci.test.acceptance.po.ListView;\n+\n+import static org.hamcrest.Matchers.*;\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Acceptance tests for the Warnings Issue Column\n+ *\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n+ */\n+@WithPlugins(\"warnings-ng\")\n+public class IssueColumnUiTest extends AbstractJUnitTest {\n+    private static final String WARNINGS_PLUGIN_PREFIX = \"/\";\n+\n+    /**\n+     * Configure a job with multiple recorders: Should display a table when hovering the issue column\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldDisplayIssueCount() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        String jobName = job.name;\n+\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        jenkins.visit(\"\");\n+\n+\n+        IssueColumn column = new IssueColumn(build, jobName);\n+\n+        String issueCount = column.getIssuesCountTextFromTable();\n+        assertThat(issueCount, is(\"25\"));\n+\n+        column.hoverIssueCount();\n+\n+        assertThat(column.getToolNameFromHover(1), is(\"CheckStyle Warnings\"));\n+        assertThat(column.getIssueCountFromHover(1), is(\"3\"));\n+\n+        assertThat(column.getToolNameFromHover(2), is(\"FindBugs Warnings\"));\n+        assertThat(column.getIssueCountFromHover(2), is(\"0\"));\n+\n+        assertThat(column.getToolNameFromHover(3), is(\"PMD Warnings\"));\n+        assertThat(column.getIssueCountFromHover(3), is(\"2\"));\n+\n+        assertThat(column.getToolNameFromHover(4), is(\"CPD Duplications\"));\n+        assertThat(column.getIssueCountFromHover(4), is(\"20\"));\n+    }\n+\n+    /**\n+     * Configure a job with only one recorder, also create a ListView and configure the issue column to display only this\n+     * tool results. Should have a link in issue column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnlyWithLink() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job, \"CheckStyle\");\n+        job.save();\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        ListView view = jenkins.views.create(ListView.class, \"a_view\");\n+        view.configure();\n+        view.check(\"Use a regular expression to include jobs into the view\");\n+        fillIn(\"includeRegex\", \".*\");\n+\n+        view.check(\"Select subset of tools\");\n+        view.fillIn(\"_.id\", \"CheckStyle\");\n+        view.save();\n+\n+        IssueColumn column = new IssueColumn(build, job.name);\n+        assertThat(column.getIssuesCountTextFromTable(), is(\"3\"));\n+        assertTrue(column.issuesCountFromTableHasLink());\n+    }\n+\n+    /**\n+     * Configure a job with multiple recorders, also create a ListView and configure the issue column to display only\n+     * results from CheckStyle. Should have no link in column and display detailed table when hovering the column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnly() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        ListView view = jenkins.views.create(ListView.class, \"a_view\");\n+        view.configure();\n+        view.check(\"Use a regular expression to include jobs into the view\");\n+        fillIn(\"includeRegex\", \".*\");", "originalCommit": "0b5c5e5294e51d46263262539ef65f345abf8d24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk0MTA0Ng==", "url": "https://github.com/jenkinsci/warnings-ng-plugin/pull/487#discussion_r432941046", "bodyText": "Ein Test mit verschiedenen Types w\u00e4re auch sinnvoll.", "author": "uhafner", "createdAt": "2020-05-31T12:16:17Z", "path": "ui-tests/src/test/java/io/jenkins/plugins/analysis/warnings/IssueColumnUiTest.java", "diffHunk": "@@ -0,0 +1,144 @@\n+package io.jenkins.plugins.analysis.warnings;\n+\n+import org.junit.Test;\n+\n+import org.jenkinsci.test.acceptance.junit.AbstractJUnitTest;\n+import org.jenkinsci.test.acceptance.junit.WithPlugins;\n+import org.jenkinsci.test.acceptance.po.Build;\n+import org.jenkinsci.test.acceptance.po.FreeStyleJob;\n+import org.jenkinsci.test.acceptance.po.ListView;\n+\n+import static org.hamcrest.Matchers.*;\n+import static org.junit.Assert.*;\n+\n+/**\n+ * Acceptance tests for the Warnings Issue Column\n+ *\n+ * @author Andreas Riepl\n+ * @author Oliver Scholz\n+ */\n+@WithPlugins(\"warnings-ng\")\n+public class IssueColumnUiTest extends AbstractJUnitTest {\n+    private static final String WARNINGS_PLUGIN_PREFIX = \"/\";\n+\n+    /**\n+     * Configure a job with multiple recorders: Should display a table when hovering the issue column\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldDisplayIssueCount() {\n+        FreeStyleJob job = createFreeStyleJob(\"build_status_test/build_02\");\n+        addRecorder(job);\n+        job.save();\n+        String jobName = job.name;\n+\n+        Build build = job.startBuild().waitUntilFinished();\n+\n+        jenkins.visit(\"\");\n+\n+\n+        IssueColumn column = new IssueColumn(build, jobName);\n+\n+        String issueCount = column.getIssuesCountTextFromTable();\n+        assertThat(issueCount, is(\"25\"));\n+\n+        column.hoverIssueCount();\n+\n+        assertThat(column.getToolNameFromHover(1), is(\"CheckStyle Warnings\"));\n+        assertThat(column.getIssueCountFromHover(1), is(\"3\"));\n+\n+        assertThat(column.getToolNameFromHover(2), is(\"FindBugs Warnings\"));\n+        assertThat(column.getIssueCountFromHover(2), is(\"0\"));\n+\n+        assertThat(column.getToolNameFromHover(3), is(\"PMD Warnings\"));\n+        assertThat(column.getIssueCountFromHover(3), is(\"2\"));\n+\n+        assertThat(column.getToolNameFromHover(4), is(\"CPD Duplications\"));\n+        assertThat(column.getIssueCountFromHover(4), is(\"20\"));\n+    }\n+\n+    /**\n+     * Configure a job with only one recorder, also create a ListView and configure the issue column to display only this\n+     * tool results. Should have a link in issue column.\n+     */\n+    @Test\n+    @WithPlugins({\"token-macro\", \"pipeline-stage-step\", \"workflow-durable-task-step\", \"workflow-basic-steps\"})\n+    public void shouldShowConfiguredToolOnlyWithLink() {", "originalCommit": "0b5c5e5294e51d46263262539ef65f345abf8d24", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8590f432057f162916c82f91d3f4dcd96b87608d", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/8590f432057f162916c82f91d3f4dcd96b87608d", "message": "Rename method\n\nCo-authored-by: Ullrich Hafner <ullrich.hafner@gmail.com>", "committedDate": "2020-06-01T07:42:21Z", "type": "commit"}, {"oid": "3684742671d708260b38fbbcceae997e03b91a7d", "url": "https://github.com/jenkinsci/warnings-ng-plugin/commit/3684742671d708260b38fbbcceae997e03b91a7d", "message": "JENKINS-62186: Column Configuration within an extra page object, usage of AssertJ, configurable issue type", "committedDate": "2020-06-01T09:22:51Z", "type": "commit"}]}