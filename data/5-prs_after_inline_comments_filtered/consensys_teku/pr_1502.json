{"pr_number": 1502, "pr_title": "Only add loggers programmatically to a custom log4j config when selected", "pr_createdAt": "2020-03-30T04:28:44Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1502", "timeline": [{"oid": "57d6f1d43fcba7e7a87e2f01a4b5e90168f4c61c", "url": "https://github.com/ConsenSys/teku/commit/57d6f1d43fcba7e7a87e2f01a4b5e90168f4c61c", "message": "Do not override a system log configFile", "committedDate": "2020-03-30T00:06:09Z", "type": "commit"}, {"oid": "da3a8a76e3ad79e11a19c802a4f0c20e0c664c78", "url": "https://github.com/ConsenSys/teku/commit/da3a8a76e3ad79e11a19c802a4f0c20e0c664c78", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into enviroment-logging-config-replaces-application", "committedDate": "2020-03-30T02:35:08Z", "type": "commit"}, {"oid": "7fdf2b601a90e9f851ffae5e10b7e904b566fc01", "url": "https://github.com/ConsenSys/teku/commit/7fdf2b601a90e9f851ffae5e10b7e904b566fc01", "message": "changes", "committedDate": "2020-03-30T04:26:05Z", "type": "commit"}, {"oid": "e371e87836bbd8f67f39f028f43aca7b3a0af01d", "url": "https://github.com/ConsenSys/teku/commit/e371e87836bbd8f67f39f028f43aca7b3a0af01d", "message": "Fixing UT", "committedDate": "2020-03-30T04:47:41Z", "type": "commit"}, {"oid": "8d1da4aac1d0653a64a7094402b26ede802956c7", "url": "https://github.com/ConsenSys/teku/commit/8d1da4aac1d0653a64a7094402b26ede802956c7", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into enviroment-logging-config-replaces-application", "committedDate": "2020-03-30T04:47:48Z", "type": "commit"}, {"oid": "88965fab3c4315292bba8f86ee7f9114bac405c2", "url": "https://github.com/ConsenSys/teku/commit/88965fab3c4315292bba8f86ee7f9114bac405c2", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into enviroment-logging-config-replaces-application", "committedDate": "2020-03-30T23:35:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU1NzM1Mw==", "url": "https://github.com/ConsenSys/teku/pull/1502#discussion_r400557353", "bodyText": "It's slightly confusing that this winds up printing:\n2020-03-31 09:32:18,769 main INFO Configuring logging for destination: DEFAULT_BOTH\nGiven we bail out entirely when custom logging is set, it would probably be more helpful to show the logging destination as \"file and console\" or something.  And if I'm being picky showing where the log file is being written would be super helpful.", "author": "ajsutton", "createdAt": "2020-03-30T23:36:40Z", "path": "logging/src/main/java/tech/pegasys/teku/logging/LoggingConfigurator.java", "diffHunk": "@@ -77,25 +80,27 @@ public static synchronized void addLoggersProgrammatically(\n \n   private static void addLoggers(final AbstractConfiguration configuration) {\n \n-    if (DESTINATION == null) {\n+    if (isUninitialized() || noProgrammaticLoggingRequired()) {\n       return;\n     }\n \n     StatusLogger.getLogger().info(\"Configuring logging for destination: {}\", DESTINATION);", "originalCommit": "88965fab3c4315292bba8f86ee7f9114bac405c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU2MjU1Mw==", "url": "https://github.com/ConsenSys/teku/pull/1502#discussion_r400562553", "bodyText": "show the logging destination as \"file and console\" or something. And if I'm being picky showing where the log file is being written would be super helpful.\n\nBetter output is always a good idea, I'll make an update", "author": "CjHare", "createdAt": "2020-03-30T23:53:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU1NzM1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU1NzYwNQ==", "url": "https://github.com/ConsenSys/teku/pull/1502#discussion_r400557605", "bodyText": "Probably useful to have an info log here saying that custom logging config is being used.", "author": "ajsutton", "createdAt": "2020-03-30T23:37:32Z", "path": "logging/src/main/java/tech/pegasys/teku/logging/LoggingConfigurator.java", "diffHunk": "@@ -77,25 +80,27 @@ public static synchronized void addLoggersProgrammatically(\n \n   private static void addLoggers(final AbstractConfiguration configuration) {\n \n-    if (DESTINATION == null) {\n+    if (isUninitialized() || noProgrammaticLoggingRequired()) {\n       return;", "originalCommit": "88965fab3c4315292bba8f86ee7f9114bac405c2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d4792b8e43618f553b41faad00a49f01a2625b6f", "url": "https://github.com/ConsenSys/teku/commit/d4792b8e43618f553b41faad00a49f01a2625b6f", "message": "Logging when custom config is used", "committedDate": "2020-03-31T00:21:14Z", "type": "commit"}, {"oid": "8172078a3056973086469c79f856dc6045b262db", "url": "https://github.com/ConsenSys/teku/commit/8172078a3056973086469c79f856dc6045b262db", "message": "Renaming variables", "committedDate": "2020-03-31T00:22:18Z", "type": "commit"}, {"oid": "2bd9773e303a719b38cdae67e9197a8d8f5f948a", "url": "https://github.com/ConsenSys/teku/commit/2bd9773e303a719b38cdae67e9197a8d8f5f948a", "message": "Method renmaing", "committedDate": "2020-03-31T00:26:06Z", "type": "commit"}, {"oid": "16eb5d94e12b0b3c289317667e64099078a169d7", "url": "https://github.com/ConsenSys/teku/commit/16eb5d94e12b0b3c289317667e64099078a169d7", "message": "extra logging output", "committedDate": "2020-03-31T03:04:45Z", "type": "commit"}, {"oid": "12a81625d301af73b6f7959e438f1f9c5cadb191", "url": "https://github.com/ConsenSys/teku/commit/12a81625d301af73b6f7959e438f1f9c5cadb191", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into enviroment-logging-config-replaces-application", "committedDate": "2020-03-31T03:14:31Z", "type": "commit"}]}