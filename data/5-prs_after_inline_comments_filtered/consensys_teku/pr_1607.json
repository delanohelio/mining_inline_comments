{"pr_number": 1607, "pr_title": "Setup predefined networks to configure defaults for multiple options", "pr_createdAt": "2020-04-16T05:19:07Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1607", "timeline": [{"oid": "4fd3b7f4beb1beb5966cc2dbb2d7012d8c7f158f", "url": "https://github.com/ConsenSys/teku/commit/4fd3b7f4beb1beb5966cc2dbb2d7012d8c7f158f", "message": "Setup predefined networks to configure defaults for multiple options.", "committedDate": "2020-04-16T05:11:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI5MTQ3NA==", "url": "https://github.com/ConsenSys/teku/pull/1607#discussion_r409291474", "bodyText": "system.out?", "author": "rolfyone", "createdAt": "2020-04-16T05:31:25Z", "path": "util/src/main/java/tech/pegasys/artemis/util/config/ArtemisConfigurationBuilder.java", "diffHunk": "@@ -281,9 +284,23 @@ public ArtemisConfigurationBuilder setRestApiInterface(final String restApiInter\n     return this;\n   }\n \n+  public ArtemisConfigurationBuilder setNetwork(final PredefinedNetwork network) {\n+    this.network = network;\n+    return this;\n+  }\n+\n   public ArtemisConfiguration build() {\n+    if (network != null) {\n+      System.out.println(\"Applying network \" + network);", "originalCommit": "4fd3b7f4beb1beb5966cc2dbb2d7012d8c7f158f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI5NTA2NQ==", "url": "https://github.com/ConsenSys/teku/pull/1607#discussion_r409295065", "bodyText": "Whoops, didn't meant to leave that in.", "author": "ajsutton", "createdAt": "2020-04-16T05:43:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTI5MTQ3NA=="}], "type": "inlineReview"}, {"oid": "d0468d642cb6182c95372f41122b37ba71b817a1", "url": "https://github.com/ConsenSys/teku/commit/d0468d642cb6182c95372f41122b37ba71b817a1", "message": "Remove system out.", "committedDate": "2020-04-16T05:42:56Z", "type": "commit"}, {"oid": "7899daf39254162833f33c522b6e292ec3aadaf5", "url": "https://github.com/ConsenSys/teku/commit/7899daf39254162833f33c522b6e292ec3aadaf5", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into network-config", "committedDate": "2020-04-16T05:43:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwNTE0NA==", "url": "https://github.com/ConsenSys/teku/pull/1607#discussion_r409605144", "bodyText": "Stray println", "author": "mbaxter", "createdAt": "2020-04-16T14:32:49Z", "path": "util/src/main/java/tech/pegasys/artemis/util/config/ArtemisConfiguration.java", "diffHunk": "@@ -178,10 +178,11 @@ public static ArtemisConfigurationBuilder builder() {\n     this.restApiDocsEnabled = restApiDocsEnabled;\n     this.restApiEnabled = restApiEnabled;\n     this.restApiInterface = restApiInterface;\n+    System.out.println(eth1DepositContractAddress);", "originalCommit": "7899daf39254162833f33c522b6e292ec3aadaf5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTkwMjY0OA==", "url": "https://github.com/ConsenSys/teku/pull/1607#discussion_r409902648", "bodyText": "Wow I did a really lousy job of tidying those up...", "author": "ajsutton", "createdAt": "2020-04-16T23:17:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwNTE0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxMDQ5MQ==", "url": "https://github.com/ConsenSys/teku/pull/1607#discussion_r409610491", "bodyText": "This can only be a path right?  Should we just go ahead and make it a Path or at least rename the variable?", "author": "mbaxter", "createdAt": "2020-04-16T14:39:47Z", "path": "util/src/main/java/tech/pegasys/artemis/util/config/PredefinedNetwork.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/*\n+ * Copyright 2020 ConsenSys AG.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with\n+ * the License. You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\n+ * an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations under the License.\n+ */\n+\n+package tech.pegasys.artemis.util.config;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+public enum PredefinedNetwork {\n+  MINIMAL(\"minimal\"),\n+  MAINNET(\"mainnet\"),\n+  TOPAZ(\n+      \"mainnet\",\n+      Optional.empty(),\n+      Optional.of(\"0x5cA1e00004366Ac85f492887AAab12d0e6418876\"),\n+      Optional.empty());\n+\n+  private final String constants;\n+  private final Optional<List<String>> discoveryBootnodes;\n+  private final Optional<String> eth1DepositContractAddress;\n+  private final Optional<String> eth1Endpoint;\n+\n+  PredefinedNetwork(final String constants) {\n+    this(constants, Optional.empty(), Optional.empty(), Optional.empty());\n+  }\n+\n+  PredefinedNetwork(\n+      final String constants,", "originalCommit": "7899daf39254162833f33c522b6e292ec3aadaf5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTg5NzExNQ==", "url": "https://github.com/ConsenSys/teku/pull/1607#discussion_r409897115", "bodyText": "No constants could be a file, URL or one of the \"built-in\" names (mainnet or minimal).", "author": "ajsutton", "createdAt": "2020-04-16T23:00:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxMDQ5MQ=="}], "type": "inlineReview"}, {"oid": "cf1145a660b1c8589d0890d337f3401610bfe971", "url": "https://github.com/ConsenSys/teku/commit/cf1145a660b1c8589d0890d337f3401610bfe971", "message": "Restore ability to specify constants as a file or URL using --network.", "committedDate": "2020-04-16T23:19:16Z", "type": "commit"}, {"oid": "459d4c2d6861f22c6f53274c65012cd12c11f762", "url": "https://github.com/ConsenSys/teku/commit/459d4c2d6861f22c6f53274c65012cd12c11f762", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into network-config", "committedDate": "2020-04-16T23:19:22Z", "type": "commit"}]}