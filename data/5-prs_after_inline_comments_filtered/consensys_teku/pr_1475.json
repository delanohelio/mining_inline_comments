{"pr_number": 1475, "pr_title": "Allow BLSSecretKey to accept 32 byte private key value", "pr_createdAt": "2020-03-25T23:12:08Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1475", "timeline": [{"oid": "e41f1c9387d17fc592f97a164c445b84c4d7f39c", "url": "https://github.com/ConsenSys/teku/commit/e41f1c9387d17fc592f97a164c445b84c4d7f39c", "message": "Allow BLSSecretKey to accept 32 byte private key values and left pad them as necessary", "committedDate": "2020-03-25T23:08:30Z", "type": "commit"}, {"oid": "31e8865b1de10a3c85d06de4b499c5455fa7ef4d", "url": "https://github.com/ConsenSys/teku/commit/31e8865b1de10a3c85d06de4b499c5455fa7ef4d", "message": "Merge branch 'master' into blsecretkey_32bytes", "committedDate": "2020-03-25T23:12:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyNzIwMA==", "url": "https://github.com/ConsenSys/teku/pull/1475#discussion_r398227200", "bodyText": "do we want to raise an illegalargexception if size is < 32?", "author": "usmansaleem", "createdAt": "2020-03-25T23:15:06Z", "path": "bls/src/main/java/tech/pegasys/artemis/util/bls/BLSSecretKey.java", "diffHunk": "@@ -15,12 +15,14 @@\n \n import java.util.Objects;\n import org.apache.tuweni.bytes.Bytes;\n+import org.apache.tuweni.bytes.Bytes48;\n import tech.pegasys.artemis.util.mikuli.SecretKey;\n \n public final class BLSSecretKey {\n \n   public static BLSSecretKey fromBytes(Bytes bytes) {\n-    return new BLSSecretKey(SecretKey.fromBytes(bytes));\n+    final Bytes keyBytes = bytes.size() == 32 ? Bytes48.leftPad(bytes) : bytes;", "originalCommit": "31e8865b1de10a3c85d06de4b499c5455fa7ef4d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyODAzNA==", "url": "https://github.com/ConsenSys/teku/pull/1475#discussion_r398228034", "bodyText": "Probably good to do that here actually. I guess was thinking mikuli will do that check, but not nice relying on mikuli to verify that.", "author": "jframe", "createdAt": "2020-03-25T23:17:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyNzIwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyODMyNg==", "url": "https://github.com/ConsenSys/teku/pull/1475#discussion_r398228326", "bodyText": "mikuli only does check for size == 48", "author": "usmansaleem", "createdAt": "2020-03-25T23:18:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyNzIwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyODU3Mw==", "url": "https://github.com/ConsenSys/teku/pull/1475#discussion_r398228573", "bodyText": "so it should be ok to leave it as it is.", "author": "usmansaleem", "createdAt": "2020-03-25T23:19:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyNzIwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjM4Ng==", "url": "https://github.com/ConsenSys/teku/pull/1475#discussion_r398236386", "bodyText": "think it would have been safe as it was, as mikuli will throw. but I like it checking the size in this class.\nhave added a size check", "author": "jframe", "createdAt": "2020-03-25T23:42:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyNzIwMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIzNjc3Mw==", "url": "https://github.com/ConsenSys/teku/pull/1475#discussion_r398236773", "bodyText": "\ud83d\udc4d", "author": "usmansaleem", "createdAt": "2020-03-25T23:43:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODIyNzIwMA=="}], "type": "inlineReview"}, {"oid": "7935fb2de2ea9db9341409b9bbced6a34eb6e80e", "url": "https://github.com/ConsenSys/teku/commit/7935fb2de2ea9db9341409b9bbced6a34eb6e80e", "message": "check argument size to be always 32 or 48 bytes", "committedDate": "2020-03-25T23:40:18Z", "type": "commit"}, {"oid": "0af06eb035a32474e3726a9f85a2707a83afcd0b", "url": "https://github.com/ConsenSys/teku/commit/0af06eb035a32474e3726a9f85a2707a83afcd0b", "message": "Merge branch 'blsecretkey_32bytes' of github.com:jframe/artemis into blsecretkey_32bytes", "committedDate": "2020-03-25T23:42:39Z", "type": "commit"}]}