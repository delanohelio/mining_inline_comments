{"pr_number": 2187, "pr_title": "added command line flag for data-storage archive-frequency", "pr_createdAt": "2020-06-22T01:50:20Z", "pr_url": "https://github.com/ConsenSys/teku/pull/2187", "timeline": [{"oid": "d26a25ff6ce589a8c0e993b1d838a6e55562b8cf", "url": "https://github.com/ConsenSys/teku/commit/d26a25ff6ce589a8c0e993b1d838a6e55562b8cf", "message": "added command line flags for data-storage changes\n\n - a hidden flag that will accept the version of db to create, this is --Xdata-storage-create-db-version <VER> (default: 3)\n\n - a flag that will become visible in help once the feature is done, --data-storage-archive-frequency=<FREQUENCY> (default: 2048)\n\n Addresses #2180\n\nSigned-off-by: Paul Harris <paul.harris@consensys.net>", "committedDate": "2020-06-22T01:49:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzI5NDI2MQ==", "url": "https://github.com/ConsenSys/teku/pull/2187#discussion_r443294261", "bodyText": "We're storing archived states, not slots.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"Sets the frequency at which to store archived slots to disk. (slot modulo frequency == 0)\",\n          \n          \n            \n                      \"Sets the frequency, in slots, at which to store archived states to disk.\",", "author": "ajsutton", "createdAt": "2020-06-22T02:51:52Z", "path": "teku/src/main/java/tech/pegasys/teku/cli/options/DataOptions.java", "diffHunk": "@@ -34,6 +34,25 @@\n       arity = \"1\")\n   private StateStorageMode dataStorageMode = StateStorageMode.PRUNE;\n \n+  @Option(\n+      names = {\"--data-storage-archive-frequency\"},\n+      hidden = true,\n+      paramLabel = \"<FREQUENCY>\",\n+      description =\n+          \"Sets the frequency at which to store archived slots to disk. (slot modulo frequency == 0)\",", "originalCommit": "d26a25ff6ce589a8c0e993b1d838a6e55562b8cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "abe08a4151663826209653ec97c938e8061e6f9e", "url": "https://github.com/ConsenSys/teku/commit/abe08a4151663826209653ec97c938e8061e6f9e", "message": "Update teku/src/main/java/tech/pegasys/teku/cli/options/DataOptions.java\n\nCo-authored-by: Adrian Sutton <adrian@symphonious.net>", "committedDate": "2020-06-22T03:17:50Z", "type": "commit"}, {"oid": "4706b0f2f641448b149d94ebe21477aab9c1af6a", "url": "https://github.com/ConsenSys/teku/commit/4706b0f2f641448b149d94ebe21477aab9c1af6a", "message": "Merge remote-tracking branch 'upstream/master' into 2180", "committedDate": "2020-06-22T03:18:37Z", "type": "commit"}, {"oid": "d6511b3c212f5ca97631ec3b654558f71af9b60b", "url": "https://github.com/ConsenSys/teku/commit/d6511b3c212f5ca97631ec3b654558f71af9b60b", "message": "Merge branch '2180' of https://github.com/rolfyone/artemis into 2180", "committedDate": "2020-06-22T03:19:04Z", "type": "commit"}, {"oid": "9c89fe14fb11a042f0858344cfe389e1e5d6c1ac", "url": "https://github.com/ConsenSys/teku/commit/9c89fe14fb11a042f0858344cfe389e1e5d6c1ac", "message": "spotless", "committedDate": "2020-06-22T03:25:35Z", "type": "commit"}]}