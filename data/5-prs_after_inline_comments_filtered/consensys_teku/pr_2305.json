{"pr_number": 2305, "pr_title": "Fix Attestation Invalid Signature Bug", "pr_createdAt": "2020-07-02T19:36:01Z", "pr_url": "https://github.com/ConsenSys/teku/pull/2305", "timeline": [{"oid": "0741e5120bf88c2a1dc75abaaab0d49712d74b73", "url": "https://github.com/ConsenSys/teku/commit/0741e5120bf88c2a1dc75abaaab0d49712d74b73", "message": "Make non-intrusive quick fix using inheritance", "committedDate": "2020-07-02T19:33:34Z", "type": "commit"}, {"oid": "b1932b8c6c7155d54316c119d45df32b146c9644", "url": "https://github.com/ConsenSys/teku/commit/b1932b8c6c7155d54316c119d45df32b146c9644", "message": "Run spotless", "committedDate": "2020-07-02T19:43:13Z", "type": "commit"}, {"oid": "a09d0155f30e23d9f610bcda50706f07c1ddbb2a", "url": "https://github.com/ConsenSys/teku/commit/a09d0155f30e23d9f610bcda50706f07c1ddbb2a", "message": "Pass nodeslot to process head", "committedDate": "2020-07-02T20:39:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI2MjQyMw==", "url": "https://github.com/ConsenSys/teku/pull/2305#discussion_r449262423", "bodyText": "I wonder if we should just call this ChainHead or ChainPoint or ChainLink or something...  It's not quite right but I don't really like the proliferation of XandY kind of classes and would love to come up with better names for them.\nPotentially we could just use this class to replace a bunch of them since the slot could just be taken from the state and then be equivalent to SignedBlockAndState which may be what you mean by a bigger refactoring.  Definitely happy to defer that change.", "author": "ajsutton", "createdAt": "2020-07-02T20:57:31Z", "path": "storage/src/main/java/tech/pegasys/teku/storage/client/RecentChainData.java", "diffHunk": "@@ -356,4 +357,18 @@ public void onNewFinalizedCheckpoint(Checkpoint finalizedCheckpoint) {\n     finalizedCheckpointChannel.onNewFinalizedCheckpoint(finalizedCheckpoint);\n     forkChoiceStrategy.ifPresent(strategy -> strategy.maybePrune(finalizedCheckpoint.getRoot()));\n   }\n+\n+  private static class SignedBlockAndStateAndSlot extends SignedBlockAndState {", "originalCommit": "a09d0155f30e23d9f610bcda50706f07c1ddbb2a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8937c882a7e22ac898a7a4971852eaeeba36041c", "url": "https://github.com/ConsenSys/teku/commit/8937c882a7e22ac898a7a4971852eaeeba36041c", "message": "Add reorg test for when a slot is filled.", "committedDate": "2020-07-02T22:39:54Z", "type": "commit"}, {"oid": "9fb423ee14ec97c67044763428c1206f5731e1a2", "url": "https://github.com/ConsenSys/teku/commit/9fb423ee14ec97c67044763428c1206f5731e1a2", "message": "Add higher level reorg test.", "committedDate": "2020-07-02T22:50:06Z", "type": "commit"}, {"oid": "19c272a41a444d47fc28836d921d1e471cdafa77", "url": "https://github.com/ConsenSys/teku/commit/19c272a41a444d47fc28836d921d1e471cdafa77", "message": "Merge branch 'master' of github.com:PegaSysEng/teku into fixAttestationInvalidSignatureError", "committedDate": "2020-07-02T22:51:10Z", "type": "commit"}]}