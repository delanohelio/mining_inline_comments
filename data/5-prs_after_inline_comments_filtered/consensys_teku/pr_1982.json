{"pr_number": 1982, "pr_title": "[BC-442] Require block and state to be added to Store atomically", "pr_createdAt": "2020-05-27T18:28:01Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1982", "timeline": [{"oid": "369dcb689769007c06d06a9148442e4416b31f1b", "url": "https://github.com/ConsenSys/teku/commit/369dcb689769007c06d06a9148442e4416b31f1b", "message": "Require block and state to be added to store atomically", "committedDate": "2020-05-27T18:24:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwODY3Mw==", "url": "https://github.com/ConsenSys/teku/pull/1982#discussion_r431408673", "bodyText": "nit: redundant semicolon", "author": "cemozerr", "createdAt": "2020-05-27T20:00:18Z", "path": "storage/src/integration-test/java/tech/pegasys/teku/storage/client/AbstractCombinedChainDataClientTest.java", "diffHunk": "@@ -260,8 +260,8 @@ public void getBlockAndStateInEffectAtSlot_withBlockAndStateAvailable() throws E\n     chainUpdater.initializeGenesis();\n \n     final SignedBlockAndState targetBlock = chainBuilder.generateNextBlock();\n-    chainUpdater.saveState(targetBlock.getRoot(), targetBlock.getState());\n-    chainUpdater.saveBlock(targetBlock.getBlock());\n+    chainUpdater.saveBlock(targetBlock);\n+    ;", "originalCommit": "369dcb689769007c06d06a9148442e4416b31f1b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQxMjU5MA==", "url": "https://github.com/ConsenSys/teku/pull/1982#discussion_r431412590", "bodyText": "nice catch", "author": "mbaxter", "createdAt": "2020-05-27T20:08:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwODY3Mw=="}], "type": "inlineReview"}, {"oid": "1e67c6f730db52e4cf3a498201dd54fe7e78ad40", "url": "https://github.com/ConsenSys/teku/commit/1e67c6f730db52e4cf3a498201dd54fe7e78ad40", "message": "Cut stray semicolon", "committedDate": "2020-05-27T20:09:52Z", "type": "commit"}, {"oid": "0df07d6b9ff51141180c366466a5e629e31ed6ef", "url": "https://github.com/ConsenSys/teku/commit/0df07d6b9ff51141180c366466a5e629e31ed6ef", "message": "Merge branch 'master' into bc-442/always-save-block-with-state", "committedDate": "2020-05-27T20:10:21Z", "type": "commit"}]}