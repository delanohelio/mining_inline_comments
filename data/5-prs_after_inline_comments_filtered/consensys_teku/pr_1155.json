{"pr_number": 1155, "pr_title": "[BC-268] Only prune hot blocks prior to latest finalized block", "pr_createdAt": "2020-02-13T16:18:17Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1155", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE2NDQyMA==", "url": "https://github.com/ConsenSys/teku/pull/1155#discussion_r379164420", "bodyText": "I suspect we don't need this TODO anymore - we can prune anything up to the finalised block.", "author": "ajsutton", "createdAt": "2020-02-13T22:52:27Z", "path": "storage/src/main/java/tech/pegasys/artemis/storage/MapDbDatabase.java", "diffHunk": "@@ -257,10 +256,10 @@ private void pruneCheckpointStates(final Checkpoint newFinalizedCheckpoint) {\n \n   private void pruneHotBlocks(final Checkpoint newFinalizedCheckpoint) {\n     // TODO: Can we prune blocks from in the finalized epoch as well?", "originalCommit": "eea6d8ce68ae6bc02712e3014258125d0852cbbb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c5a85a495b20a625e15307d4a6cf9ce37622212e", "url": "https://github.com/ConsenSys/teku/commit/c5a85a495b20a625e15307d4a6cf9ce37622212e", "message": "Prune hot blocks up to the slot prior to the latest finalized block\n\nWe need to make sure that the state for the finalized block is preserved\nso that we are able to import blocks on top of the finalized state.", "committedDate": "2020-02-14T16:06:05Z", "type": "commit"}, {"oid": "c5a85a495b20a625e15307d4a6cf9ce37622212e", "url": "https://github.com/ConsenSys/teku/commit/c5a85a495b20a625e15307d4a6cf9ce37622212e", "message": "Prune hot blocks up to the slot prior to the latest finalized block\n\nWe need to make sure that the state for the finalized block is preserved\nso that we are able to import blocks on top of the finalized state.", "committedDate": "2020-02-14T16:06:05Z", "type": "forcePushed"}, {"oid": "b4c2f7c7c56a766a3eadc3917248a1c9de268371", "url": "https://github.com/ConsenSys/teku/commit/b4c2f7c7c56a766a3eadc3917248a1c9de268371", "message": "Cut stale comment", "committedDate": "2020-02-14T16:08:03Z", "type": "commit"}]}