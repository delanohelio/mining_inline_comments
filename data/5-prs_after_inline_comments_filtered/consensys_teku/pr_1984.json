{"pr_number": 1984, "pr_title": "Remove the SafeFuture.finish variants which don't handle errors", "pr_createdAt": "2020-05-27T20:28:29Z", "pr_url": "https://github.com/ConsenSys/teku/pull/1984", "timeline": [{"oid": "5e788009da59ad56f040fd0290fe579dd0db805d", "url": "https://github.com/ConsenSys/teku/commit/5e788009da59ad56f040fd0290fe579dd0db805d", "message": "Remove the SafeFuture.finish variants which don't handle errors.\nWe should be explicit about where errors get logged.", "committedDate": "2020-05-27T20:25:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQzODk5Nw==", "url": "https://github.com/ConsenSys/teku/pull/1984#discussion_r431438997", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          this::updateMetadata, error -> LOG.debug(\"Failed to retrieve mpeer metadata\", error));\n          \n          \n            \n                          this::updateMetadata, error -> LOG.debug(\"Failed to retrieve peer metadata\", error));", "author": "macfarla", "createdAt": "2020-05-27T21:00:10Z", "path": "networking/eth2/src/main/java/tech/pegasys/teku/networking/eth2/peers/Eth2Peer.java", "diffHunk": "@@ -76,7 +80,9 @@ public void updateMetadataSeqNumber(final UnsignedLong seqNumber) {\n     Optional<UnsignedLong> curValue = this.remoteMetadataSeqNumber;\n     remoteMetadataSeqNumber = Optional.of(seqNumber);\n     if (curValue.isEmpty() || seqNumber.compareTo(curValue.get()) > 0) {\n-      requestMetadata().finish(this::updateMetadata);\n+      requestMetadata()\n+          .finish(\n+              this::updateMetadata, error -> LOG.debug(\"Failed to retrieve mpeer metadata\", error));", "originalCommit": "5e788009da59ad56f040fd0290fe579dd0db805d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "381efda81b5262f7c651ea8e1d00bb39779a2cdc", "url": "https://github.com/ConsenSys/teku/commit/381efda81b5262f7c651ea8e1d00bb39779a2cdc", "message": "Typo fix.\n\nCo-authored-by: Sally MacFarlane <sally.macfarlane@consensys.net>", "committedDate": "2020-05-27T22:28:00Z", "type": "commit"}, {"oid": "7a6e7555fcf9ba5055cc8e093cea32ed03294988", "url": "https://github.com/ConsenSys/teku/commit/7a6e7555fcf9ba5055cc8e093cea32ed03294988", "message": "Merge branch 'master' into reduce-error-logs", "committedDate": "2020-05-27T22:28:08Z", "type": "commit"}, {"oid": "9470cc8f6536a22c695560d3bfed3cea6c124605", "url": "https://github.com/ConsenSys/teku/commit/9470cc8f6536a22c695560d3bfed3cea6c124605", "message": "Merge branch 'master' into reduce-error-logs", "committedDate": "2020-05-27T22:37:35Z", "type": "commit"}, {"oid": "d9feddb69a3642afecdf46b99cbba2769ff8b29d", "url": "https://github.com/ConsenSys/teku/commit/d9feddb69a3642afecdf46b99cbba2769ff8b29d", "message": "Merge branch 'master' into reduce-error-logs", "committedDate": "2020-05-27T22:47:20Z", "type": "commit"}]}