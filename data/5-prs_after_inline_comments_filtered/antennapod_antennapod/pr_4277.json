{"pr_number": 4277, "pr_title": "Fixed #4235 by enabling swiping actions on locked queue list", "pr_createdAt": "2020-07-07T02:17:53Z", "pr_url": "https://github.com/AntennaPod/AntennaPod/pull/4277", "timeline": [{"oid": "8ab63c649f27cb9abddf7b78c86d3e4089a6c5af", "url": "https://github.com/AntennaPod/AntennaPod/commit/8ab63c649f27cb9abddf7b78c86d3e4089a6c5af", "message": "Fixed #4235 by enabling swiping actions on locked queue list", "committedDate": "2020-07-07T12:26:33Z", "type": "commit"}, {"oid": "7e49a8c3afeea0cdee732252475818a48c1c228c", "url": "https://github.com/AntennaPod/AntennaPod/commit/7e49a8c3afeea0cdee732252475818a48c1c228c", "message": "Changed the way the app treats \"lock\" and \"keep sorted\", this way \"lock\" blocks swiping and dragging, while \"keep sorted\" blocks only dragging", "committedDate": "2020-07-07T22:11:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3NDY1NQ==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4277#discussion_r452674655", "bodyText": "I think that could lead to problems when setting it to not sorted again. In that case, it will not be reset. What about using one single method for the adapter (setDragDropEnabled)?", "author": "ByteHamster", "createdAt": "2020-07-10T07:36:02Z", "path": "app/src/main/java/de/danoeh/antennapod/fragment/QueueFragment.java", "diffHunk": "@@ -340,10 +340,10 @@ public void onConfirmButtonPressed(\n                         SortOrder sortOrder = UserPreferences.getQueueKeepSortedOrder();\n                         DBWriter.reorderQueue(sortOrder, true);\n                         if (recyclerAdapter != null) {\n-                            recyclerAdapter.setLocked(true);\n+                            recyclerAdapter.setKeepSorted(true);", "originalCommit": "7e49a8c3afeea0cdee732252475818a48c1c228c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzAxMTI1Nw==", "url": "https://github.com/AntennaPod/AntennaPod/pull/4277#discussion_r453011257", "bodyText": "After merging the methods a bug occurred when i locked the list then enabled and disabled \"Keep sorted\", when doing that the list would still have drag and drop actions even when blocked solved that by change setDragDropEnabled to updateDragDropEnabled, the new method looks into the User Preferences instead of the parameters passed.\nAlso found a minor bug when the queue is first locked than the \"Keep sorted\" option is enabled, in that case there is no way to unlock the queue without first disabling \"Keep sorted\", I thought two options to solve that:\n1 - Hiding the \"keep sorted\" option when lock is enabled\n2 - Unlock the queue when \"keep sorted\" is marked", "author": "olivoto", "createdAt": "2020-07-10T18:40:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3NDY1NQ=="}], "type": "inlineReview"}, {"oid": "1baa1a511cc648cd734f982eff5e9813c7939936", "url": "https://github.com/AntennaPod/AntennaPod/commit/1baa1a511cc648cd734f982eff5e9813c7939936", "message": "Merged methods setKeepSorted and setLocked in updateDragDropEnabled at QueueRecyclerAdapter", "committedDate": "2020-07-10T18:20:48Z", "type": "commit"}]}