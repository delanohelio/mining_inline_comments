{"pr_number": 2993, "pr_title": "NMS-12656: Query support for aggregated flow documents", "pr_createdAt": "2020-05-01T20:13:10Z", "pr_url": "https://github.com/OpenNMS/opennms/pull/2993", "timeline": [{"oid": "9b7c9991a377215af379087eed39aaef57d0e251", "url": "https://github.com/OpenNMS/opennms/commit/9b7c9991a377215af379087eed39aaef57d0e251", "message": "NMS-12656: Upgrade the version of Elasticsearch used for ITs.", "committedDate": "2020-05-01T20:08:14Z", "type": "commit"}, {"oid": "5a5d3550a04d080813d99ff77d40b647a3980d76", "url": "https://github.com/OpenNMS/opennms/commit/5a5d3550a04d080813d99ff77d40b647a3980d76", "message": "Publish features/drift261 to DockerHub as drift261 tags", "committedDate": "2020-05-01T20:08:15Z", "type": "commit"}, {"oid": "8cc07e6c345212741d85574aa949086339e51acc", "url": "https://github.com/OpenNMS/opennms/commit/8cc07e6c345212741d85574aa949086339e51acc", "message": "NMS-12656: Wire in a new AggregatedFlowRepository to query alternate indices.", "committedDate": "2020-05-01T20:08:15Z", "type": "commit"}, {"oid": "cdf695a5e97ebdd9c8898a4bf48f0f135771e7ee", "url": "https://github.com/OpenNMS/opennms/commit/cdf695a5e97ebdd9c8898a4bf48f0f135771e7ee", "message": "NMS-12663: Fix collapse list when indexPrefix is involved", "committedDate": "2020-05-01T20:08:15Z", "type": "commit"}, {"oid": "62ab6177fff515d546c56451c8b3069741475298", "url": "https://github.com/OpenNMS/opennms/commit/62ab6177fff515d546c56451c8b3069741475298", "message": "NMS-12663: Move timeRangeAggregateThresholdMs to AggregatedFlowRepository", "committedDate": "2020-05-01T20:08:15Z", "type": "commit"}, {"oid": "b914c53161ebac26e1f8b35d9cbac3641ca3cb13", "url": "https://github.com/OpenNMS/opennms/commit/b914c53161ebac26e1f8b35d9cbac3641ca3cb13", "message": "NMS-12656: Refactor the ElasticFlowRepository in order to add\nsupport for queries derived from aggregated flows.", "committedDate": "2020-05-01T20:08:15Z", "type": "commit"}, {"oid": "7ee5b00fa2248a055db31a29bfe9b03a4e5d2e2c", "url": "https://github.com/OpenNMS/opennms/commit/7ee5b00fa2248a055db31a29bfe9b03a4e5d2e2c", "message": "NMS-15656: Cleanup.", "committedDate": "2020-05-01T20:23:39Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODcxODkxNg==", "url": "https://github.com/OpenNMS/opennms/pull/2993#discussion_r418718916", "bodyText": "We upgraded the rate-limited-logger library as part of this patch to be compatible with some other libraries we're using - they no longer rely on joda.", "author": "j-white", "createdAt": "2020-05-01T20:16:30Z", "path": "core/ipc/rpc/kafka/src/main/java/org/opennms/core/ipc/rpc/kafka/KafkaRpcClientFactory.java", "diffHunk": "@@ -124,7 +124,7 @@\n     private static final Logger LOG = LoggerFactory.getLogger(KafkaRpcClientFactory.class);\n     private static final RateLimitedLog RATE_LIMITED_LOG = RateLimitedLog\n             .withRateLimit(LOG)\n-            .maxRate(5).every(Duration.standardSeconds(30))\n+            .maxRate(5).every(Duration.ofSeconds(30))", "originalCommit": "b914c53161ebac26e1f8b35d9cbac3641ca3cb13", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e1a26db9553cfa3eafc857ad67f23f70e2547f10", "url": "https://github.com/OpenNMS/opennms/commit/e1a26db9553cfa3eafc857ad67f23f70e2547f10", "message": "NMS-15656: Fix call to constructor in Blueprint %&$#?@\n\nAlso remove Blueprint artifacts from lib/ that shouldn't be there.", "committedDate": "2020-05-02T01:41:22Z", "type": "commit"}, {"oid": "9aef6dc552d5145ef838b02fac94c07d9d2525b8", "url": "https://github.com/OpenNMS/opennms/commit/9aef6dc552d5145ef838b02fac94c07d9d2525b8", "message": "NMS-15656: Fix behavior of force flags and cleanup.", "committedDate": "2020-05-02T23:09:53Z", "type": "commit"}, {"oid": "cea5d583be610480714c70da9be3a5d76e33ffa1", "url": "https://github.com/OpenNMS/opennms/commit/cea5d583be610480714c70da9be3a5d76e33ffa1", "message": "don't load external DTDs when testing:\n'http://www.eclipse.org/jetty/configure.dtd' is no longer available", "committedDate": "2020-05-03T03:03:18Z", "type": "commit"}]}