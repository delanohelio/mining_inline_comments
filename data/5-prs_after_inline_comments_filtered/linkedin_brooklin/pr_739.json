{"pr_number": 739, "pr_title": "Passing Kafka headers to downstream systems via ProducerRecord", "pr_createdAt": "2020-08-07T00:34:27Z", "pr_url": "https://github.com/linkedin/brooklin/pull/739", "timeline": [{"oid": "bf5c479478ad3139b80bed0a03adac6f72c8d151", "url": "https://github.com/linkedin/brooklin/commit/bf5c479478ad3139b80bed0a03adac6f72c8d151", "message": "Passed headers to BrooklinEnvelope so that they can be assigned in the ProducerRecord downstream", "committedDate": "2020-08-07T00:20:29Z", "type": "commit"}, {"oid": "2d421b60471e7b60099c36fa72e526cde4a7d02a", "url": "https://github.com/linkedin/brooklin/commit/2d421b60471e7b60099c36fa72e526cde4a7d02a", "message": "Passed headers to the ProducerRecord", "committedDate": "2020-08-07T00:20:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIwMjg3OA==", "url": "https://github.com/linkedin/brooklin/pull/739#discussion_r467202878", "bodyText": "We need to do the same in KafkaConnectorTask.translate()", "author": "ahmedahamid", "createdAt": "2020-08-07T18:28:31Z", "path": "datastream-kafka-connector/src/main/java/com/linkedin/datastream/connectors/kafka/mirrormaker/KafkaMirrorMakerConnectorTask.java", "diffHunk": "@@ -241,7 +241,8 @@ protected DatastreamProducerRecord translate(ConsumerRecord<?, ?> fromKafka, Ins\n     String offsetStr = String.valueOf(offset);\n     metadata.put(KAFKA_ORIGIN_OFFSET, offsetStr);\n     metadata.put(BrooklinEnvelopeMetadataConstants.EVENT_TIMESTAMP, String.valueOf(eventsSourceTimestamp));\n-    BrooklinEnvelope envelope = new BrooklinEnvelope(fromKafka.key(), fromKafka.value(), null, metadata);\n+    BrooklinEnvelope envelope = new BrooklinEnvelope(fromKafka.key(), fromKafka.value(), null,\n+        fromKafka.headers(), metadata);", "originalCommit": "2d421b60471e7b60099c36fa72e526cde4a7d02a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI0NzAzOA==", "url": "https://github.com/linkedin/brooklin/pull/739#discussion_r467247038", "bodyText": "I agree. This shouldn't be limited just to BMM. Will get that done next week.", "author": "jzakaryan", "createdAt": "2020-08-07T20:10:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIwMjg3OA=="}], "type": "inlineReview"}]}