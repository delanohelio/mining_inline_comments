{"pr_number": 4090, "pr_title": "Only use InputValidation when formatting voting stake", "pr_createdAt": "2020-03-23T10:05:47Z", "pr_url": "https://github.com/bisq-network/bisq/pull/4090", "timeline": [{"oid": "83d588d374133703b5fd1d10d373ba036d935af4", "url": "https://github.com/bisq-network/bisq/commit/83d588d374133703b5fd1d10d373ba036d935af4", "message": "Only use InputValidation when formatting voting stake", "committedDate": "2020-03-23T10:04:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzNDA4Mg==", "url": "https://github.com/bisq-network/bisq/pull/4090#discussion_r398534082", "bodyText": "Shouldn't this be set at line 676 instead of\n        stakeInputTextField.setValidator(new BsqValidator(bsqFormatter));", "author": "sqrrm", "createdAt": "2020-03-26T12:30:42Z", "path": "desktop/src/main/java/bisq/desktop/main/dao/governance/proposals/ProposalsView.java", "diffHunk": "@@ -554,6 +555,7 @@ private void updateViews() {\n                 if (optionalMyVote.isPresent()) {\n                     MyVote myVote = optionalMyVote.get();\n                     Coin stake = Coin.valueOf(myVote.getBlindVote().getStake());\n+                    stakeInputTextField.setValidator(new InputValidator());", "originalCommit": "83d588d374133703b5fd1d10d373ba036d935af4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODY2NjMxOA==", "url": "https://github.com/bisq-network/bisq/pull/4090#discussion_r398666318", "bodyText": "No the validator there is fine. Just after submitting the vote the value entered is formatted with BSQ in the end which causes the original validator to fail. I think it is good that it is formatted with the code in this case so I didn't remove the formatting, but decided to adapt the validator.", "author": "ripcurlx", "createdAt": "2020-03-26T15:31:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODUzNDA4Mg=="}], "type": "inlineReview"}]}