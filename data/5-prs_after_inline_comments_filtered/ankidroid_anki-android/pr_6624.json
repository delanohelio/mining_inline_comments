{"pr_number": 6624, "pr_title": "AnkiDroidJS: display blank if button unavailable", "pr_createdAt": "2020-07-05T13:58:32Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6624", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4MjIxMQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6624#discussion_r449882211", "bodyText": "The idea seems correct but rather than shoo the horses back in the barn after they escape, should all the button text be cleared on hideEaseButtons?\n\n  \n    \n      Anki-Android/AnkiDroid/src/main/java/com/ichi2/anki/AbstractFlashcardViewer.java\n    \n    \n        Lines 1614 to 1621\n      in\n      7dd8301\n    \n    \n    \n    \n\n        \n          \n           protected void hideEaseButtons() { \n        \n\n        \n          \n               mEase1Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mEase2Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mEase3Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mEase4Layout.setVisibility(View.GONE); \n        \n\n        \n          \n               mFlipCardLayout.setVisibility(View.VISIBLE); \n        \n\n        \n          \n               focusAnswerCompletionField(); \n        \n\n        \n          \n           } \n        \n    \n  \n\n\nYou may have already considered that, but it seems like when if we need to empty strings because in JS vs Java we don't control visibility, we should do that in the same place we control visibility in java\nOtherwise, does seem like it would work here", "author": "mikehardy", "createdAt": "2020-07-05T14:15:06Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/Reviewer.java", "diffHunk": "@@ -693,12 +693,8 @@ protected void displayAnswerBottomBar() {\n         if (shouldShowNextReviewTime()) {\n             mNext1.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_ONE));\n             mNext2.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_TWO));\n-            if (buttonCount > 2) {\n-                mNext3.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_THREE));\n-            }\n-            if (buttonCount > 3) {\n-                mNext4.setText(mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_FOUR));\n-            }\n+            mNext3.setText(buttonCount > 2 ? mSched.nextIvlStr(this, mCurrentCard, Consts.BUTTON_THREE) : \"\");", "originalCommit": "7dd8301088b9afb80f9fb7fd9f2350cd25e80c11", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4NzM5OQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6624#discussion_r449887399", "bodyText": "No real preference between the two - I'll re-push", "author": "david-allison-1", "createdAt": "2020-07-05T15:02:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTg4MjIxMQ=="}], "type": "inlineReview"}, {"oid": "4e3aa9de1013284f2769b26e92157bdf815b1d41", "url": "https://github.com/ankidroid/Anki-Android/commit/4e3aa9de1013284f2769b26e92157bdf815b1d41", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623", "committedDate": "2020-07-05T15:10:55Z", "type": "forcePushed"}, {"oid": "81e62a9ae2f6e13ce86e52ca27206b850d2743fc", "url": "https://github.com/ankidroid/Anki-Android/commit/81e62a9ae2f6e13ce86e52ca27206b850d2743fc", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623", "committedDate": "2020-07-06T15:38:33Z", "type": "forcePushed"}, {"oid": "67ea79451272b4d220be41805865349a2a5859d3", "url": "https://github.com/ankidroid/Anki-Android/commit/67ea79451272b4d220be41805865349a2a5859d3", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623", "committedDate": "2020-07-06T15:58:35Z", "type": "forcePushed"}, {"oid": "583b14841ae94274aadb4b849ddb614b1197a7ed", "url": "https://github.com/ankidroid/Anki-Android/commit/583b14841ae94274aadb4b849ddb614b1197a7ed", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623", "committedDate": "2020-07-06T16:34:10Z", "type": "forcePushed"}, {"oid": "f82d915c901883ea208592326bd5dd9653ba7715", "url": "https://github.com/ankidroid/Anki-Android/commit/f82d915c901883ea208592326bd5dd9653ba7715", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623", "committedDate": "2020-07-06T18:27:39Z", "type": "commit"}, {"oid": "f82d915c901883ea208592326bd5dd9653ba7715", "url": "https://github.com/ankidroid/Anki-Android/commit/f82d915c901883ea208592326bd5dd9653ba7715", "message": "AnkiDroidJS: display blank if button unavailable\n\nFixes 6623", "committedDate": "2020-07-06T18:27:39Z", "type": "forcePushed"}]}