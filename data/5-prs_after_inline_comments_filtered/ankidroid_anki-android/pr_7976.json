{"pr_number": 7976, "pr_title": "\"Unknown field\" message gets translated", "pr_createdAt": "2020-12-28T10:09:27Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7976", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5NTgxMg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r549295812", "bodyText": "Consider keeping this as a hardcoded string", "author": "david-allison-1", "createdAt": "2020-12-28T10:26:11Z", "path": "AnkiDroid/src/test/java/com/ichi2/libanki/ModelTest.java", "diffHunk": "@@ -471,7 +472,7 @@ public void regression_test_pipe() {\n         mm.save(basic, true);\n         Note note = addNoteUsingBasicModel(\"foo\", \"bar\");\n         Card c = note.cards().get(0);\n-        assertThat(c.q(), containsString(\"unknown field\"));\n+        assertThat(c.q(), containsString(getTargetContext().getString(R.string.unknown_field, \"|Front\")));", "originalCommit": "61acf95b79573898c59b8ba4ab1d279a8259756f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5ODgwOQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r549298809", "bodyText": "I thought that, in travis and in @mikehardy's test system, there were localized test. If so, this would fail when the translation are added in crowdin", "author": "Arthur-Milchior", "createdAt": "2020-12-28T10:36:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5NTgxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxMjIxMg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r549312212", "bodyText": "@Config(qualifiers = \"en\") can be used to avoid issues.\nThe main question is the layer that we want to test. I feel having this as a slightly more brittle end-to-end test is worth the risk of breakages due to string changes.", "author": "david-allison-1", "createdAt": "2020-12-28T11:21:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5NTgxMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTM1MDMwMw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r549350303", "bodyText": "we already have a couple english hard codes on purpose for the unit tests to lock them to a specific language, keeping unit test language expectationt hard coded and adding a qualifier works for me", "author": "mikehardy", "createdAt": "2020-12-28T13:35:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5NTgxMg=="}], "type": "inlineReview"}, {"oid": "257185e9068de1b23abc648b52c10de176ebad3f", "url": "https://github.com/ankidroid/Anki-Android/commit/257185e9068de1b23abc648b52c10de176ebad3f", "message": "Translate also Invalid template message", "committedDate": "2020-12-28T16:20:05Z", "type": "forcePushed"}, {"oid": "602261cd1174768029b1667d47ba013e73be2f74", "url": "https://github.com/ankidroid/Anki-Android/commit/602261cd1174768029b1667d47ba013e73be2f74", "message": "Translate also Invalid template message", "committedDate": "2020-12-28T16:21:35Z", "type": "forcePushed"}, {"oid": "8e8effc2968fb0dd7810a257c8cbd2c1031dde59", "url": "https://github.com/ankidroid/Anki-Android/commit/8e8effc2968fb0dd7810a257c8cbd2c1031dde59", "message": "Translate also Invalid template message", "committedDate": "2020-12-28T16:37:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQxMjQ1Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r549412457", "bodyText": "Isn't this also translatable?", "author": "david-allison-1", "createdAt": "2020-12-28T16:46:17Z", "path": "AnkiDroid/src/main/java/com/ichi2/libanki/template/Template.java", "diffHunk": "@@ -299,7 +299,7 @@ private String render_comment() {\n                     return \"Error in filter \" + mod;", "originalCommit": "8e8effc2968fb0dd7810a257c8cbd2c1031dde59", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQxNTI1Ng==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r549415256", "bodyText": "You're totally right. I missed it. I didn't do a thorough search and only corrected what I found", "author": "Arthur-Milchior", "createdAt": "2020-12-28T16:55:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQxMjQ1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDUzNTIzMw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r550535233", "bodyText": "@Arthur-Milchior I think this is just waiting on your correction - no pressure though it's holidays everywhere obviously :-)", "author": "mikehardy", "createdAt": "2020-12-31T16:29:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQxMjQ1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE2MzE0Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r555163147", "bodyText": "@Arthur-Milchior another ping on this one - I think we are missing one extra translation here then we may merge", "author": "mikehardy", "createdAt": "2021-01-11T16:09:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQxMjQ1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTUwNTE1MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7976#discussion_r555505150", "bodyText": "Done", "author": "Arthur-Milchior", "createdAt": "2021-01-12T04:22:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQxMjQ1Nw=="}], "type": "inlineReview"}, {"oid": "72f5f2581a7757fff96ad9c44504198c25f3498a", "url": "https://github.com/ankidroid/Anki-Android/commit/72f5f2581a7757fff96ad9c44504198c25f3498a", "message": "NF: add \"Error filter\" as a ressource string", "committedDate": "2021-01-12T04:21:49Z", "type": "forcePushed"}, {"oid": "724cb2404da5ad0a17bfe621418a6a27e6204b76", "url": "https://github.com/ankidroid/Anki-Android/commit/724cb2404da5ad0a17bfe621418a6a27e6204b76", "message": "NF: add \"Error filter\" as a ressource string", "committedDate": "2021-01-13T00:03:46Z", "type": "commit"}, {"oid": "724cb2404da5ad0a17bfe621418a6a27e6204b76", "url": "https://github.com/ankidroid/Anki-Android/commit/724cb2404da5ad0a17bfe621418a6a27e6204b76", "message": "NF: add \"Error filter\" as a ressource string", "committedDate": "2021-01-13T00:03:46Z", "type": "forcePushed"}]}