{"pr_number": 7282, "pr_title": "\"{{|\" was considered as \"{{#\"", "pr_createdAt": "2020-09-26T09:43:40Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/7282", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQzOTc4NQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/7282#discussion_r495439785", "bodyText": "Doesn't seem necessary", "author": "david-allison-1", "createdAt": "2020-09-26T09:52:17Z", "path": "AnkiDroid/src/test/java/com/ichi2/libanki/ModelTest.java", "diffHunk": "@@ -18,6 +18,7 @@\n import static com.ichi2.libanki.Consts.MODEL_CLOZE;\n import static com.ichi2.libanki.Utils.stripHTML;\n import static org.hamcrest.MatcherAssert.assertThat;\n+import static org.hamcrest.Matchers.contains;", "originalCommit": "45ec6a85ef1f46182c3fbbc5929fce00bf4f57f2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQzOTg5MQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/7282#discussion_r495439891", "bodyText": "Don't leave a broken regression test as a single commit without an @Ignore, it breaks anyone wanting to perform a full bisect and adds commits that don't compile to the history.", "author": "david-allison-1", "createdAt": "2020-09-26T09:53:43Z", "path": "AnkiDroid/src/test/java/com/ichi2/libanki/ModelTest.java", "diffHunk": "@@ -456,4 +457,17 @@ public void test_req() {\n         // TODO:\u00a0Port anki@4e33775ed4346ef136ece6ef5efec5ba46057c6b\n         assertEquals(new JSONArray(\"[0]\"), r.getJSONArray(2));\n     }\n+\n+    @Test\n+    public void regression_test_pipe() {", "originalCommit": "0de1ef9b607707df91fe7cd75fe78bfcdfe76095", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1MTk3Ng==", "url": "https://github.com/ankidroid/Anki-Android/pull/7282#discussion_r495451976", "bodyText": "I've got an excessively bad news: this is what I thought I should do, so this is what I did in all previous regression tests that are now merged.\nThe main idea being that, in order to check that the regression test is actually fixing something, I need to show that something was broken. So that you can test the intermediate commit and check that it is actually broken.\nOtherwise, I could just inadvertently leave a regression test that succeed even before the correction, and so it does not actually test what I expect it to test", "author": "Arthur-Milchior", "createdAt": "2020-09-26T12:27:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQzOTg5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1MjI1MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/7282#discussion_r495452250", "bodyText": "Corrected", "author": "Arthur-Milchior", "createdAt": "2020-09-26T12:31:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQzOTg5MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTU3ODMyMg==", "url": "https://github.com/ankidroid/Anki-Android/pull/7282#discussion_r495578322", "bodyText": "Yeah - and I didn't realize the automated bisect impact so I've been letting them go thinking \"okay, one commit is broken but the next fixes it, no big deal?\" - I like this new style better though and I notice you already used it in a different PR already merged --> \ud83d\udc4d", "author": "mikehardy", "createdAt": "2020-09-27T14:23:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQzOTg5MQ=="}], "type": "inlineReview"}, {"oid": "97d61903701837a85da4c4646a0d6aae1f1bf922", "url": "https://github.com/ankidroid/Anki-Android/commit/97d61903701837a85da4c4646a0d6aae1f1bf922", "message": "NF: regression test for \"{{|\"", "committedDate": "2020-09-26T12:24:04Z", "type": "commit"}, {"oid": "313ac71fd8ddb12585e35b7e2bfb1a56bec2a91b", "url": "https://github.com/ankidroid/Anki-Android/commit/313ac71fd8ddb12585e35b7e2bfb1a56bec2a91b", "message": "NF: correcting | as a valid start of condition\n\nThat was treated as \"#\" because it was detected as a section beginning and render_some_sections only checked whether the\nvalue was \"^\"", "committedDate": "2020-09-26T12:24:09Z", "type": "commit"}, {"oid": "313ac71fd8ddb12585e35b7e2bfb1a56bec2a91b", "url": "https://github.com/ankidroid/Anki-Android/commit/313ac71fd8ddb12585e35b7e2bfb1a56bec2a91b", "message": "NF: correcting | as a valid start of condition\n\nThat was treated as \"#\" because it was detected as a section beginning and render_some_sections only checked whether the\nvalue was \"^\"", "committedDate": "2020-09-26T12:24:09Z", "type": "forcePushed"}]}