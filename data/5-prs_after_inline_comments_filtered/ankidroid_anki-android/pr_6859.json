{"pr_number": 6859, "pr_title": "Use new ACRA APIs to clear AcraLimiter", "pr_createdAt": "2020-08-09T19:38:30Z", "pr_url": "https://github.com/ankidroid/Anki-Android/pull/6859", "timeline": [{"oid": "e764e5465c24eae045a32ffc22f5c2804751c55e", "url": "https://github.com/ankidroid/Anki-Android/commit/e764e5465c24eae045a32ffc22f5c2804751c55e", "message": "Use new ACRA APIs to clear AcraLimiter\n\nWe were manually clearing the limiter on new versions or\nwhen user toggled crash report preferences, but upstream added\nthe necessary APIs to do so, port to thosep", "committedDate": "2020-08-09T20:36:46Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYyNjU0Ng==", "url": "https://github.com/ankidroid/Anki-Android/pull/6859#discussion_r467626546", "bodyText": "Could we keep this method. deleteACRALimiterData has better semantics than new LimiterData().store(this);", "author": "david-allison-1", "createdAt": "2020-08-09T20:40:57Z", "path": "AnkiDroid/src/main/java/com/ichi2/anki/AnkiDroidApp.java", "diffHunk": "@@ -373,16 +373,6 @@ public static void sendExceptionReport(Throwable e, String origin, String additi\n         ACRA.getErrorReporter().handleException(e);\n     }\n \n-    /**\n-     * If you want to make sure that the next exception of any time is posted, you need to clear limiter data\n-     *\n-     * ACRA 5.3.x does this automatically on version upgrade (https://github.com/ACRA/acra/pull/696), until then they blessed deleting file\n-     * @param context the context leading to the directory with ACRA limiter data\n-     */\n-    public static void deleteACRALimiterData(Context context) {\n-        context.getFileStreamPath(\"ACRA-limiter.json\").delete();", "originalCommit": "e764e5465c24eae045a32ffc22f5c2804751c55e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYyNjY3MA==", "url": "https://github.com/ankidroid/Anki-Android/pull/6859#discussion_r467626670", "bodyText": "Ahh - I see what you mean. Yeah sure - then just swap the implementation with the new API-delivered one vs the abstraction-puncture. I agree", "author": "mikehardy", "createdAt": "2020-08-09T20:42:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYyNjU0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYyNzI3Nw==", "url": "https://github.com/ankidroid/Anki-Android/pull/6859#discussion_r467627277", "bodyText": "done", "author": "mikehardy", "createdAt": "2020-08-09T20:49:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYyNjU0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYyNzUyOQ==", "url": "https://github.com/ankidroid/Anki-Android/pull/6859#discussion_r467627529", "bodyText": "Pushed?", "author": "david-allison-1", "createdAt": "2020-08-09T20:51:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYyNjU0Ng=="}], "type": "inlineReview"}, {"oid": "50ef9efad3cf50f5936431aa02dcf60d1c0e6845", "url": "https://github.com/ankidroid/Anki-Android/commit/50ef9efad3cf50f5936431aa02dcf60d1c0e6845", "message": "Use new ACRA APIs to clear AcraLimiter\n\nWe were manually clearing the limiter on new versions or\nwhen user toggled crash report preferences, but upstream added\nthe necessary APIs to do so, port to those", "committedDate": "2020-08-09T20:47:01Z", "type": "commit"}, {"oid": "50ef9efad3cf50f5936431aa02dcf60d1c0e6845", "url": "https://github.com/ankidroid/Anki-Android/commit/50ef9efad3cf50f5936431aa02dcf60d1c0e6845", "message": "Use new ACRA APIs to clear AcraLimiter\n\nWe were manually clearing the limiter on new versions or\nwhen user toggled crash report preferences, but upstream added\nthe necessary APIs to do so, port to those", "committedDate": "2020-08-09T20:47:01Z", "type": "forcePushed"}]}