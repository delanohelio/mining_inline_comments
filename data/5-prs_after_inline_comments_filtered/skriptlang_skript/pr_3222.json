{"pr_number": 3222, "pr_title": "Created 'on block fertilize', added event-player, 'fertilized blocks'\u2026", "pr_createdAt": "2020-07-26T13:12:58Z", "pr_url": "https://github.com/SkriptLang/Skript/pull/3222", "timeline": [{"oid": "9905e5c995d1d5707287b7c8a29cee81ef53f213", "url": "https://github.com/SkriptLang/Skript/commit/9905e5c995d1d5707287b7c8a29cee81ef53f213", "message": "Created 'on block fertilize', added event-player, 'fertilized blocks' and event-block", "committedDate": "2020-07-26T13:12:01Z", "type": "commit"}, {"oid": "da92fa6e7a836042e55a647ea94a0dd644671133", "url": "https://github.com/SkriptLang/Skript/commit/da92fa6e7a836042e55a647ea94a0dd644671133", "message": "Added copyright comment", "committedDate": "2020-07-26T13:13:28Z", "type": "commit"}, {"oid": "b7f5389b65360996d4586939f97c6b281c15ea81", "url": "https://github.com/SkriptLang/Skript/commit/b7f5389b65360996d4586939f97c6b281c15ea81", "message": "Went back to CRLF", "committedDate": "2020-07-26T13:14:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2Mzk1Nw==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460563957", "bodyText": "Since we're checking if this class exists and if im not mistaken its introduced in 1.16.1, it should be added here which version it works on for the docs", "author": "ShaneBeee", "createdAt": "2020-07-26T19:25:35Z", "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -567,5 +568,11 @@\n \t\t\t\"\\tif the clicked button is enchantment option 1:\",\n \t\t\t\"\\t\\tset the applied enchantments to sharpness 10 and unbreaking 10\")\n \t\t.since(\"2.5\");\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))", "originalCommit": "b7f5389b65360996d4586939f97c6b281c15ea81", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NjIwMg==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460566202", "bodyText": "The fertilize event was added in 1.13, but yeah I'll add it there", "author": "DeltaRays", "createdAt": "2020-07-26T19:49:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2Mzk1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NjMwOA==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460566308", "bodyText": "Oh sorry I was thinking about the fertilize block method that was recently added. But yes, 1.13 should be added.", "author": "ShaneBeee", "createdAt": "2020-07-26T19:50:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2Mzk1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDAxNw==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460564017", "bodyText": "same goes here, should annotate with RequiredPlugins(\"Minecraft 1.16.1+\") (If that is the correct version it was added)", "author": "ShaneBeee", "createdAt": "2020-07-26T19:26:10Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,84 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {", "originalCommit": "b7f5389b65360996d4586939f97c6b281c15ea81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDE3OQ==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460564179", "bodyText": "Just out of curiosity, did you test without these getters?\nIf im not mistaken Skript automatically gets block and player from events with these methods, I could be wrong.", "author": "ShaneBeee", "createdAt": "2020-07-26T19:27:55Z", "path": "src/main/java/ch/njol/skript/classes/data/BukkitEventValues.java", "diffHunk": "@@ -915,6 +916,23 @@ public Inventory get(final InventoryClickEvent e) {\n \t\t\t\treturn e.getClickedInventory();\n \t\t\t}\n \t\t}, 0);\n+\t\t//BlockFertilizeEvent\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\")) {\n+\t\t\tEventValues.registerEventValue(BlockFertilizeEvent.class, Block.class, new Getter<Block, BlockFertilizeEvent>() {", "originalCommit": "b7f5389b65360996d4586939f97c6b281c15ea81", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NjI3Ng==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460566276", "bodyText": "Oh I didn't know that, I'll test", "author": "DeltaRays", "createdAt": "2020-07-26T19:50:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDE3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NjYwMg==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460566602", "bodyText": "It works with block but not with player \ud83e\udd14", "author": "DeltaRays", "createdAt": "2020-07-26T19:54:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDE3OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NzEzMA==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460567130", "bodyText": "Ok good to know. I know that often they're wonky, but I that could be an issue with how we've got them registered elsewhere.", "author": "ShaneBeee", "createdAt": "2020-07-26T19:59:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU2NDE3OQ=="}], "type": "inlineReview"}, {"oid": "cb0350f5df7feb017c504366008cd73d25262a6b", "url": "https://github.com/SkriptLang/Skript/commit/cb0350f5df7feb017c504366008cd73d25262a6b", "message": "Removed the unnecessary event-block, added @RequiredPlugins and .requiredPlugins to ExprFertilizedBlocks and the Block Fertilize event", "committedDate": "2020-07-26T19:56:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMTMwNQ==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460901305", "bodyText": "each stream operation should be on its own line.", "author": "FranKusmiruk", "createdAt": "2020-07-27T13:46:42Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn\n+\t\t\t((BlockFertilizeEvent) e).getBlocks().stream().map(BlockStateBlock::new).toArray(BlockStateBlock[]::new);", "originalCommit": "cb0350f5df7feb017c504366008cd73d25262a6b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMTcyNQ==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460901725", "bodyText": "Operations that return a list are often worth implementing the iterator method. In this case, we are only creating instances of BlockStateBlock so it may not be needed though", "author": "FranKusmiruk", "createdAt": "2020-07-27T13:47:17Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,86 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn\n+\t\t\t((BlockFertilizeEvent) e).getBlocks().stream().map(BlockStateBlock::new).toArray(BlockStateBlock[]::new);\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean isSingle() {\n+\t\treturn false;", "originalCommit": "cb0350f5df7feb017c504366008cd73d25262a6b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwNDE4Ng==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r460904186", "bodyText": "Yeah I'm not sure as to whether it is", "author": "DeltaRays", "createdAt": "2020-07-27T13:50:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkwMTcyNQ=="}], "type": "inlineReview"}, {"oid": "cee573589dfb56011810c3673f89a20027d17c3d", "url": "https://github.com/SkriptLang/Skript/commit/cee573589dfb56011810c3673f89a20027d17c3d", "message": "Merge branch 'master' into BlockFertilizeEvent", "committedDate": "2020-07-27T13:48:26Z", "type": "commit"}, {"oid": "8875c0cea68fa87fa3c7a102bc2ce08f2f15021b", "url": "https://github.com/SkriptLang/Skript/commit/8875c0cea68fa87fa3c7a102bc2ce08f2f15021b", "message": "Added an iterator method to ExprFertilizedBlocks", "committedDate": "2020-07-27T13:53:57Z", "type": "commit"}, {"oid": "673ebd1953bf71a561e15da4b1feb5f3e93bc4a0", "url": "https://github.com/SkriptLang/Skript/commit/673ebd1953bf71a561e15da4b1feb5f3e93bc4a0", "message": "Merge remote-tracking branch 'origin/BlockFertilizeEvent' into BlockFertilizeEvent", "committedDate": "2020-07-27T13:54:56Z", "type": "commit"}, {"oid": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf", "url": "https://github.com/SkriptLang/Skript/commit/77c9b9cff2e43e9ecaa77978df4aff806769c1cf", "message": "Merge branch 'master' into BlockFertilizeEvent", "committedDate": "2020-07-28T08:59:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NjAxMA==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461446010", "bodyText": "Missing period at end of sentence.", "author": "ShaneBeee", "createdAt": "2020-07-28T09:27:43Z", "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -567,5 +568,12 @@\n \t\t\t\"\\tif the clicked button is enchantment option 1:\",\n \t\t\t\"\\t\\tset the applied enchantments to sharpness 10 and unbreaking 10\")\n \t\t.since(\"2.5\");\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerEvent(\"Block Fertilize\", SimpleEvent.class, BlockFertilizeEvent.class, \"[block] fertilize\")\n+\t\t\t.description(\"Called when a player fertilizes blocks\")", "originalCommit": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NjM0Mw==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461446343", "bodyText": "The b on blocks should be capitalized", "author": "ShaneBeee", "createdAt": "2020-07-28T09:28:15Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")", "originalCommit": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NjkzMQ==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461446931", "bodyText": "ParseResult should be imported directly", "author": "ShaneBeee", "createdAt": "2020-07-28T09:29:14Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ *   This file is part of Skript.\n+ *\n+ *  Skript is free software: you can redistribute it and/or modify\n+ *  it under the terms of the GNU General Public License as published by\n+ *  the Free Software Foundation, either version 3 of the License, or\n+ *  (at your option) any later version.\n+ *\n+ *  Skript is distributed in the hope that it will be useful,\n+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ *  GNU General Public License for more details.\n+ *\n+ *  You should have received a copy of the GNU General Public License\n+ *  along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, SkriptParser.ParseResult parseResult) {", "originalCommit": "77c9b9cff2e43e9ecaa77978df4aff806769c1cf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "78bf2d074bd22d431487bb81f7ddd166a263ba0f", "url": "https://github.com/SkriptLang/Skript/commit/78bf2d074bd22d431487bb81f7ddd166a263ba0f", "message": "Updated everything accordingly to what ShaneBee said", "committedDate": "2020-07-28T10:01:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3OTIzNg==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461479236", "bodyText": "Nitpick, but it should be Minecraft 1.13+", "author": "Wealthyturtle", "createdAt": "2020-07-28T10:26:46Z", "path": "src/main/java/ch/njol/skript/events/SimpleEvents.java", "diffHunk": "@@ -567,5 +568,12 @@\n \t\t\t\"\\tif the clicked button is enchantment option 1:\",\n \t\t\t\"\\t\\tset the applied enchantments to sharpness 10 and unbreaking 10\")\n \t\t.since(\"2.5\");\n+\t\tif(Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerEvent(\"Block Fertilize\", SimpleEvent.class, BlockFertilizeEvent.class, \"[block] fertilize\")\n+\t\t\t.description(\"Called when a player fertilizes blocks.\")\n+\t\t\t.requiredPlugins(\"Minecraft 1.13 or newer\")", "originalCommit": "78bf2d074bd22d431487bb81f7ddd166a263ba0f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3OTc5OA==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461479798", "bodyText": "Wait nevermind, my bad", "author": "Wealthyturtle", "createdAt": "2020-07-28T10:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ3OTIzNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4MDAzMw==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461480033", "bodyText": "@Since(\"INSERT VERSION\")", "author": "Wealthyturtle", "createdAt": "2020-07-28T10:28:24Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized Blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")", "originalCommit": "78bf2d074bd22d431487bb81f7ddd166a263ba0f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4MDU2Nw==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461480567", "bodyText": "Do\nreturn ((BlockFertilizeEvent) e).getBlocks().stream()\n\t\t\t.map(BlockStateBlock::new)\n\t\t\t.toArray(BlockStateBlock[]::new);", "author": "Wealthyturtle", "createdAt": "2020-07-28T10:29:24Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized Blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"2.5\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn\n+\t\t\t((BlockFertilizeEvent) e).getBlocks().stream()\n+\t\t\t\t.map(BlockStateBlock::new)\n+\t\t\t\t.toArray(BlockStateBlock[]::new);", "originalCommit": "78bf2d074bd22d431487bb81f7ddd166a263ba0f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d7d37b095d568f832ba60d95d58e78993a2f2137", "url": "https://github.com/SkriptLang/Skript/commit/d7d37b095d568f832ba60d95d58e78993a2f2137", "message": "replaced 2.5 with INSERT VERSION", "committedDate": "2020-07-28T10:33:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODkzNw==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461488937", "bodyText": "I think there should be 2 tabs, so\n\t\treturn ((BlockFertilizeEvent) e).getBlocks().stream()\n\t\t\t\t.map(BlockStateBlock::new)\n\t\t\t\t.iterator();\n\nOther than that, I think it's good to merge.", "author": "Wealthyturtle", "createdAt": "2020-07-28T10:46:27Z", "path": "src/main/java/ch/njol/skript/expressions/ExprFertilizedBlocks.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/**\n+ * This file is part of Skript.\n+ *\n+ * Skript is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * Skript is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public License\n+ * along with Skript.  If not, see <http://www.gnu.org/licenses/>.\n+ *\n+ *\n+ * Copyright 2011-2017 Peter G\u00fcttinger and contributors\n+ */\n+package ch.njol.skript.expressions;\n+\n+\n+import java.util.Iterator;\n+\n+import org.bukkit.event.Event;\n+import org.bukkit.event.block.BlockFertilizeEvent;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+import ch.njol.skript.ScriptLoader;\n+import ch.njol.skript.Skript;\n+import ch.njol.skript.doc.Description;\n+import ch.njol.skript.doc.Events;\n+import ch.njol.skript.doc.Examples;\n+import ch.njol.skript.doc.Name;\n+import ch.njol.skript.doc.RequiredPlugins;\n+import ch.njol.skript.doc.Since;\n+import ch.njol.skript.lang.Expression;\n+import ch.njol.skript.lang.ExpressionType;\n+import ch.njol.skript.lang.SkriptParser.ParseResult;\n+import ch.njol.skript.lang.util.SimpleExpression;\n+import ch.njol.skript.util.BlockStateBlock;\n+import ch.njol.util.Kleenean;\n+\n+@Name(\"Fertilized Blocks\")\n+@Description(\"The blocks fertilized in block fertilize events.\")\n+@RequiredPlugins(\"Minecraft 1.13 or newer\")\n+@Events(\"block fertilize\")\n+@Examples(\"the fertilized blocks\")\n+@Since(\"INSERT VERSION\")\n+public class ExprFertilizedBlocks extends SimpleExpression<BlockStateBlock> {\n+\t\n+\tstatic {\n+\t\tif (Skript.classExists(\"org.bukkit.event.block.BlockFertilizeEvent\"))\n+\t\t\tSkript.registerExpression(ExprFertilizedBlocks.class, BlockStateBlock.class, ExpressionType.SIMPLE, \"[all] [the] fertilized blocks\");\n+\t}\n+\t\n+\t@Override\n+\tpublic boolean init(Expression<?>[] exprs, int matchedPattern, Kleenean isDelayed, ParseResult parseResult) {\n+\t\tif (!ScriptLoader.isCurrentEvent(BlockFertilizeEvent.class)) {\n+\t\t\tSkript.error(\"The 'fertilized blocks' are only usable in block fertilize events\");\n+\t\t\treturn false;\n+\t\t}\n+\t\treturn true;\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tprotected BlockStateBlock[] get(Event e) {\n+\t\treturn ((BlockFertilizeEvent) e).getBlocks().stream()\n+\t\t\t\t.map(BlockStateBlock::new)\n+\t\t\t\t.toArray(BlockStateBlock[]::new);\n+\t}\n+\t\n+\t@Nullable\n+\t@Override\n+\tpublic Iterator<? extends BlockStateBlock> iterator(Event e) {\n+\t\treturn ((BlockFertilizeEvent) e).getBlocks().stream()\n+\t\t\t.map(BlockStateBlock::new)\n+\t\t\t.iterator();", "originalCommit": "d7d37b095d568f832ba60d95d58e78993a2f2137", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ5MDMwNA==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461490304", "bodyText": "\ud83e\udd37", "author": "DeltaRays", "createdAt": "2020-07-28T10:49:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ5MTcwMQ==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461491701", "bodyText": "As per coding conventions :)", "author": "Wealthyturtle", "createdAt": "2020-07-28T10:52:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ5MjA2Mw==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461492063", "bodyText": "Oh it's a coding convention?", "author": "DeltaRays", "createdAt": "2020-07-28T10:52:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODkzNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ5MjE4MQ==", "url": "https://github.com/SkriptLang/Skript/pull/3222#discussion_r461492181", "bodyText": "Hadn't noticed, my bad", "author": "DeltaRays", "createdAt": "2020-07-28T10:53:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4ODkzNw=="}], "type": "inlineReview"}, {"oid": "c584696a695373e2db8856b88930d933e3b7e32b", "url": "https://github.com/SkriptLang/Skript/commit/c584696a695373e2db8856b88930d933e3b7e32b", "message": "added one more tab", "committedDate": "2020-07-28T10:53:33Z", "type": "commit"}]}