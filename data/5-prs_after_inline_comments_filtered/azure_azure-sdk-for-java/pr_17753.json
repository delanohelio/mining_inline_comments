{"pr_number": 17753, "pr_title": "AADB2COidcLoginConfigurer OAuth2 Additional Parameters", "pr_createdAt": "2020-11-23T07:19:54Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/17753", "timeline": [{"oid": "5015f09a181f0fda146ab1f5b3ebe0c8a012c9f7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5015f09a181f0fda146ab1f5b3ebe0c8a012c9f7", "message": "fixes #17751", "committedDate": "2020-11-23T07:17:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODUxMDQxNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17753#discussion_r528510415", "bodyText": "Maybe we shouldn't directly manipulate the additional here.", "author": "saragluna", "createdAt": "2020-11-23T07:34:42Z", "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/b2c/AADB2CAuthorizationRequestResolver.java", "diffHunk": "@@ -89,12 +92,11 @@ private OAuth2AuthorizationRequest getB2CAuthorizationRequest(@Nullable OAuth2Au\n \n         cleanupSecurityContextAuthentication();\n \n-        final Map<String, Object> parameters = new HashMap<>(request.getAdditionalParameters());\n-\n-        parameters.put(\"p\", userFlow);\n-        parameters.put(PARAMETER_X_CLIENT_SKU, AAD_B2C_USER_AGENT);\n+        final Map<String, Object> additional = this.properties.getAdditional();\n+        this.properties.getAdditional().put(\"p\", userFlow);", "originalCommit": "5015f09a181f0fda146ab1f5b3ebe0c8a012c9f7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "49e89ae198ac056c950c626a05ed3d134bd5bc3a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/49e89ae198ac056c950c626a05ed3d134bd5bc3a", "message": "modify", "committedDate": "2020-11-23T08:29:00Z", "type": "commit"}, {"oid": "8be2fa61e39481e3389767218a7d65dcadccc842", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8be2fa61e39481e3389767218a7d65dcadccc842", "message": "modify", "committedDate": "2020-11-23T08:51:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTE2MTI3Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/17753#discussion_r529161277", "bodyText": "additionalParameters", "author": "chenrujun", "createdAt": "2020-11-24T02:35:30Z", "path": "sdk/spring/azure-spring-boot/src/main/java/com/azure/spring/autoconfigure/b2c/AADB2CAuthorizationRequestResolver.java", "diffHunk": "@@ -89,12 +93,14 @@ private OAuth2AuthorizationRequest getB2CAuthorizationRequest(@Nullable OAuth2Au\n \n         cleanupSecurityContextAuthentication();\n \n-        final Map<String, Object> parameters = new HashMap<>(request.getAdditionalParameters());\n-\n-        parameters.put(\"p\", userFlow);\n-        parameters.put(PARAMETER_X_CLIENT_SKU, AAD_B2C_USER_AGENT);\n+        final Map<String, Object> additional = new HashMap<>();", "originalCommit": "8be2fa61e39481e3389767218a7d65dcadccc842", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a4300072557ad1a3110cb51843b58039c3c4180b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a4300072557ad1a3110cb51843b58039c3c4180b", "message": "modify", "committedDate": "2020-11-24T02:42:07Z", "type": "commit"}, {"oid": "93bf20d8fc026aa9ca0a4d83e345c364d46a0282", "url": "https://github.com/Azure/azure-sdk-for-java/commit/93bf20d8fc026aa9ca0a4d83e345c364d46a0282", "message": "Merge branch 'master' of github.com:Azure/azure-sdk-for-java into fixes#17751", "committedDate": "2020-11-24T07:59:59Z", "type": "commit"}, {"oid": "b096379a1446247e2188490681644a8005650a83", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b096379a1446247e2188490681644a8005650a83", "message": "modify", "committedDate": "2020-11-24T08:02:21Z", "type": "commit"}]}