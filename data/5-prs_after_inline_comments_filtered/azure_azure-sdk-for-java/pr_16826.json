{"pr_number": 16826, "pr_title": "Added TSGs to exception messages", "pr_createdAt": "2020-10-26T21:23:17Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16826", "timeline": [{"oid": "64b164a84f9882c021e50d14c962748c30c2f9f5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/64b164a84f9882c021e50d14c962748c30c2f9f5", "message": "Added TSGs to exception messages", "committedDate": "2020-10-26T21:22:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5MzY0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16826#discussion_r512293645", "bodyText": "This should already be included in the backend error message. In what scenario would the SDK be generating this message?", "author": "j82w", "createdAt": "2020-10-26T21:57:18Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RMResources.java", "diffHunk": "@@ -29,18 +29,18 @@\n     public static final String ResourceTokenNotFound = \"Resource token not found.\";\n     public static final String Unauthorized = \"Unable to authenticate the request. The request requires valid user authentication.\";\n     public static final String Forbidden = \"Unable to proceed with the request. Please check the authorization claims to ensure the required permissions to process the request.\";\n-    public static final String NotFound = \"Entity with the specified id does not exist in the system.\";\n+    public static final String NotFound = \"Entity with the specified id does not exist in the system. More info: https://aka.ms/cosmosdb-tsg-not-found\";", "originalCommit": "64b164a84f9882c021e50d14c962748c30c2f9f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxNzkxMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16826#discussion_r512317910", "bodyText": "There are some instances in AddressResolver code peice which throw NotFound exceptions with this message.\nAlso reading the TSG indicates that this can be thrown by SDK code : https://docs.microsoft.com/en-us/azure/cosmos-db/troubleshoot-not-found", "author": "kushagraThapar", "createdAt": "2020-10-26T22:56:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5MzY0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5NDAwNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16826#discussion_r512294006", "bodyText": "Please create a new link and page java request timeouts. This link should only be returned by the service request timeouts.", "author": "j82w", "createdAt": "2020-10-26T21:58:10Z", "path": "sdk/cosmos/azure-cosmos/src/main/java/com/azure/cosmos/implementation/RMResources.java", "diffHunk": "@@ -29,18 +29,18 @@\n     public static final String ResourceTokenNotFound = \"Resource token not found.\";\n     public static final String Unauthorized = \"Unable to authenticate the request. The request requires valid user authentication.\";\n     public static final String Forbidden = \"Unable to proceed with the request. Please check the authorization claims to ensure the required permissions to process the request.\";\n-    public static final String NotFound = \"Entity with the specified id does not exist in the system.\";\n+    public static final String NotFound = \"Entity with the specified id does not exist in the system. More info: https://aka.ms/cosmosdb-tsg-not-found\";\n     public static final String BadRequest = \"One of the input values is invalid.\";\n     public static final String MethodNotAllowed = \"The requested verb is not supported.\";\n     public static final String EntityAlreadyExists = \"Entity with the specified id already exists in the system.\";\n     public static final String PreconditionFailed = \"Operation cannot be performed because one of the specified precondition is not met.\";\n     public static final String RequestEntityTooLarge = \"The size of the response exceeded the maximum allowed size, limit the  response size by specifying smaller value for '%s' header.\";\n     public static final String Locked = \"\";\n     public static final String RetryWith = \"Retry the request.\";\n-    public static final String TooManyRequests = \"The request rate is too large. Please retry after sometime.\";\n+    public static final String TooManyRequests = \"The request rate is too large. More Request Units may be needed, so no changes were made. Please retry after sometime. Learn more: http://aka.ms/cosmosdb-error-429\";\n     public static final String UnexpectedResourceType = \"ResourceType %s is unexpected.\";\n     public static final String InvalidHeaderValue = \"Value '%s' specified for the header '%s' is invalid.\";\n-    public static final String RequestTimeout = \"Request timed out.\";\n+    public static final String RequestTimeout = \"Request timed out. More info: https://aka.ms/cosmosdb-tsg-request-timeout\";", "originalCommit": "64b164a84f9882c021e50d14c962748c30c2f9f5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxODY4MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16826#discussion_r512318681", "bodyText": "Not sure if I understand this correctly, please help here.\nOn reading this TSG : https://docs.microsoft.com/en-us/azure/cosmos-db/troubleshoot-dot-net-sdk-request-timeout, it seems that this link should not only be returned from service, as requestTimeout happens on client side as well, and we throw error using this message. The TSG clearly describes the requestTimeout API on the client side.", "author": "kushagraThapar", "createdAt": "2020-10-26T22:59:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5NDAwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjM0NjcwNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16826#discussion_r512346706", "bodyText": "This link should be returned by the service: https://docs.microsoft.com/en-us/azure/cosmos-db/troubleshoot-request-timeout\nThis link should be returned by the .NET SDK: https://docs.microsoft.com/en-us/azure/cosmos-db/troubleshoot-dot-net-sdk-request-timeout\n\nSo Java SDK should have a new page just for it's client side generated request timeouts. If it is a timeout from the service then the Java SDK shouldn't need to add anything because it will already have the link.", "author": "j82w", "createdAt": "2020-10-27T00:28:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5NDAwNg=="}], "type": "inlineReview"}, {"oid": "035f1bd3592c93e44c72c21e5429648ee1995b5c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/035f1bd3592c93e44c72c21e5429648ee1995b5c", "message": "Updated TSG links to microsoft docs for java sdk v4", "committedDate": "2020-10-30T17:03:05Z", "type": "commit"}]}