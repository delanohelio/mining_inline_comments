{"pr_number": 12975, "pr_title": "Updates prefetch algorithm and test updates.", "pr_createdAt": "2020-07-09T18:55:58Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12975", "timeline": [{"oid": "a5b8eb5a82537409d17b6fef9e483d83ce7f7f68", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a5b8eb5a82537409d17b6fef9e483d83ce7f7f68", "message": "Remove parentConnection from linkProcessor.", "committedDate": "2020-07-09T18:59:11Z", "type": "commit"}, {"oid": "5a4e3293fb48e72c998433c1c10fdd5c5e0cc7b9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/5a4e3293fb48e72c998433c1c10fdd5c5e0cc7b9", "message": "Split terminal signal in processor.", "committedDate": "2020-07-09T18:59:16Z", "type": "commit"}, {"oid": "f90312c933ffb4e0e9b5f41f956a4bd2e52dbc72", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f90312c933ffb4e0e9b5f41f956a4bd2e52dbc72", "message": "Fix build break from removing parentConnection.", "committedDate": "2020-07-09T18:59:46Z", "type": "commit"}, {"oid": "88c0bbbc56f01d23e0961894f02ccaf64ab23d98", "url": "https://github.com/Azure/azure-sdk-for-java/commit/88c0bbbc56f01d23e0961894f02ccaf64ab23d98", "message": "Remove parentConnection from link processor.", "committedDate": "2020-07-09T18:59:51Z", "type": "commit"}, {"oid": "a25aa19ea3ed86e32571ca5423da753edec6b279", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a25aa19ea3ed86e32571ca5423da753edec6b279", "message": "Fixing test for receiving from multiple sessions.", "committedDate": "2020-07-09T18:59:51Z", "type": "commit"}, {"oid": "4089d5768f7d18722f2631a699c0c1de368d829a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4089d5768f7d18722f2631a699c0c1de368d829a", "message": "Add comment for lock tokens on received messages.", "committedDate": "2020-07-09T18:59:51Z", "type": "commit"}, {"oid": "25bf621d5667a5da3d1b301d77e240f182a17879", "url": "https://github.com/Azure/azure-sdk-for-java/commit/25bf621d5667a5da3d1b301d77e240f182a17879", "message": "Using prefetch buffer.", "committedDate": "2020-07-09T18:59:52Z", "type": "commit"}, {"oid": "25bf621d5667a5da3d1b301d77e240f182a17879", "url": "https://github.com/Azure/azure-sdk-for-java/commit/25bf621d5667a5da3d1b301d77e240f182a17879", "message": "Using prefetch buffer.", "committedDate": "2020-07-09T18:59:52Z", "type": "forcePushed"}, {"oid": "b0d0370684b17d93348ed2e1ddbb71464ee1af05", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b0d0370684b17d93348ed2e1ddbb71464ee1af05", "message": "Add logic for emptyCreditListener when empty.", "committedDate": "2020-07-09T19:07:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQzODQyMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12975#discussion_r452438423", "bodyText": "This could be excessive in logs, should this be debug message ?", "author": "hemanttanwar", "createdAt": "2020-07-09T19:22:00Z", "path": "sdk/servicebus/azure-messaging-servicebus/src/main/java/com/azure/messaging/servicebus/UnnamedSessionReceiver.java", "diffHunk": "@@ -101,9 +105,12 @@\n                     return;\n                 }\n \n-                final String token = CoreUtils.isNullOrEmpty(context.getMessage().getLockToken())\n-                    ? context.getMessage().getLockToken()\n+                final ServiceBusReceivedMessage message = context.getMessage();\n+                final String token = !CoreUtils.isNullOrEmpty(message.getLockToken())\n+                    ? message.getLockToken()\n                     : \"\";\n+\n+                logger.info(\"Received sessionId[{}] messageId[{}]\", context.getSessionId(), message.getMessageId());", "originalCommit": "b0d0370684b17d93348ed2e1ddbb71464ee1af05", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjUxMjcwOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12975#discussion_r452512709", "bodyText": "Oh yeah. Let me change this tov erbose.", "author": "conniey", "createdAt": "2020-07-09T21:56:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQzODQyMw=="}], "type": "inlineReview"}, {"oid": "2bc860b0c9edd33bb792d090acd0c3034ae2d238", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2bc860b0c9edd33bb792d090acd0c3034ae2d238", "message": "Fixing test breaks.", "committedDate": "2020-07-09T20:57:47Z", "type": "commit"}, {"oid": "664788df59fee3f511488bc35bb1ad01f5858f97", "url": "https://github.com/Azure/azure-sdk-for-java/commit/664788df59fee3f511488bc35bb1ad01f5858f97", "message": "Fix checkstyles.", "committedDate": "2020-07-09T21:00:18Z", "type": "commit"}, {"oid": "18e8ebfc4f535645e639af3f035e3fb3b36565fb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/18e8ebfc4f535645e639af3f035e3fb3b36565fb", "message": "Pass prefetch into parameter when publishing.", "committedDate": "2020-07-09T22:09:57Z", "type": "commit"}, {"oid": "0a394ada59ce8fc0e829666838bd36d45975af88", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0a394ada59ce8fc0e829666838bd36d45975af88", "message": "Consider ReceiveMode when using prefetch so we continue to fetch.", "committedDate": "2020-07-10T06:36:56Z", "type": "commit"}]}