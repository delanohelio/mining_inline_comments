{"pr_number": 11994, "pr_title": "Updated cosmos docs and code snippets", "pr_createdAt": "2020-06-09T19:40:38Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/11994", "timeline": [{"oid": "116f3eeda5c9aee2784d9732cfa3cdcf008fadc8", "url": "https://github.com/Azure/azure-sdk-for-java/commit/116f3eeda5c9aee2784d9732cfa3cdcf008fadc8", "message": "Updated cosmos docs and code snippets", "committedDate": "2020-06-09T19:39:59Z", "type": "commit"}, {"oid": "d555cbbc3bbe7f19421505261ca637331e2175a4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d555cbbc3bbe7f19421505261ca637331e2175a4", "message": "Merge branch 'master' into update_cosmos_docs", "committedDate": "2020-06-09T21:07:20Z", "type": "commit"}, {"oid": "d9b04beb24bc69655e5fcec93e3936efdb3747f1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d9b04beb24bc69655e5fcec93e3936efdb3747f1", "message": "updated code snippet with some dummy client, database and container", "committedDate": "2020-06-09T21:20:37Z", "type": "commit"}, {"oid": "110c4c506defef3ed928676eb9e703615fcee73e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/110c4c506defef3ed928676eb9e703615fcee73e", "message": "Fixed empty <p> tags", "committedDate": "2020-06-09T21:35:52Z", "type": "commit"}, {"oid": "e955003ee16fbca08d7684062222fa97f60a8f48", "url": "https://github.com/Azure/azure-sdk-for-java/commit/e955003ee16fbca08d7684062222fa97f60a8f48", "message": "Removed nesting from code snippets and created separate snippets", "committedDate": "2020-06-09T23:02:43Z", "type": "commit"}, {"oid": "3179422a4e69cfbb2a2d6695560381343e6d4fe5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3179422a4e69cfbb2a2d6695560381343e6d4fe5", "message": "Added snippet path to client parent pom", "committedDate": "2020-06-09T23:56:59Z", "type": "commit"}, {"oid": "a86635e108ca60e8ed3058cf3c06a7126b490701", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a86635e108ca60e8ed3058cf3c06a7126b490701", "message": "Added encoding properties to pom.xmls", "committedDate": "2020-06-10T00:17:12Z", "type": "commit"}, {"oid": "dc1e4763529ff3a31cf2c4c045e31020bd69bd0a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/dc1e4763529ff3a31cf2c4c045e31020bd69bd0a", "message": "Added correct encoding to continuationToken", "committedDate": "2020-06-10T00:39:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwNjEwOQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11994#discussion_r437806109", "bodyText": "If we reference this in the docs, we should make sure that we capture that this string must be unique like suffix this with a random generated string", "author": "milismsft", "createdAt": "2020-06-10T01:15:01Z", "path": "sdk/cosmos/azure-cosmos/src/samples/java/com/azure/cosmos/ChangeFeedProcessorCodeSnippet.java", "diffHunk": "@@ -2,25 +2,51 @@\n // Licensed under the MIT License.\n package com.azure.cosmos;\n \n+import com.fasterxml.jackson.databind.JsonNode;\n+\n /**\n  * Code snippets for {@link ChangeFeedProcessor}\n  */\n public class ChangeFeedProcessorCodeSnippet {\n \n     public void changeFeedProcessorBuilderCodeSnippet() {\n-        String hostName = null;\n-        CosmosAsyncContainer feedContainer = null;\n-        CosmosAsyncContainer leaseContainer = null;\n+        String hostName = \"test-host-name\";", "originalCommit": "dc1e4763529ff3a31cf2c4c045e31020bd69bd0a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwOTY5Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11994#discussion_r437809693", "bodyText": "This doesn't get referenced in the docs at all.. This was just to fix the javadocs warnings.", "author": "kushagraThapar", "createdAt": "2020-06-10T01:28:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwNjEwOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwOTgxMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11994#discussion_r437809810", "bodyText": "Docs only show what is between BEGIN and END tags", "author": "kushagraThapar", "createdAt": "2020-06-10T01:29:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwNjEwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwNjI0Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11994#discussion_r437806246", "bodyText": "see previous comment", "author": "milismsft", "createdAt": "2020-06-10T01:15:33Z", "path": "sdk/cosmos/azure-cosmos/src/samples/java/com/azure/cosmos/ChangeFeedProcessorCodeSnippet.java", "diffHunk": "@@ -2,25 +2,51 @@\n // Licensed under the MIT License.\n package com.azure.cosmos;\n \n+import com.fasterxml.jackson.databind.JsonNode;\n+\n /**\n  * Code snippets for {@link ChangeFeedProcessor}\n  */\n public class ChangeFeedProcessorCodeSnippet {\n \n     public void changeFeedProcessorBuilderCodeSnippet() {\n-        String hostName = null;\n-        CosmosAsyncContainer feedContainer = null;\n-        CosmosAsyncContainer leaseContainer = null;\n+        String hostName = \"test-host-name\";\n+        CosmosAsyncClient cosmosAsyncClient = new CosmosClientBuilder().buildAsyncClient();\n+        CosmosAsyncDatabase cosmosAsyncDatabase = cosmosAsyncClient.getDatabase(\"testDb\");\n+        CosmosAsyncContainer feedContainer = cosmosAsyncDatabase.getContainer(\"feedContainer\");\n+        CosmosAsyncContainer leaseContainer = cosmosAsyncDatabase.getContainer(\"leaseContainer\");\n         // BEGIN: com.azure.cosmos.changeFeedProcessor.builder\n         ChangeFeedProcessor changeFeedProcessor = new ChangeFeedProcessorBuilder()\n             .hostName(hostName)\n             .feedContainer(feedContainer)\n             .leaseContainer(leaseContainer)\n             .handleChanges(docs -> {\n-                // Implementation for handling and processing CosmosItemProperties list goes here\n+                for (JsonNode item : docs) {\n+                    // Implementation for handling and processing of each JsonNode item goes here\n+                }\n             })\n             .buildChangeFeedProcessor();\n         // END: com.azure.cosmos.changeFeedProcessor.builder\n     }\n+\n+    public void handleChangesCodeSnippet() {\n+        String hostName = \"test-host-name\";", "originalCommit": "dc1e4763529ff3a31cf2c4c045e31020bd69bd0a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwOTcwNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11994#discussion_r437809705", "bodyText": "This doesn't get referenced in the docs at all.. This was just to fix the javadocs warnings.", "author": "kushagraThapar", "createdAt": "2020-06-10T01:29:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwNjI0Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwOTc5NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/11994#discussion_r437809794", "bodyText": "Docs only show what is between BEGIN and END tags", "author": "kushagraThapar", "createdAt": "2020-06-10T01:29:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwNjI0Ng=="}], "type": "inlineReview"}, {"oid": "4bbbdb3a41ecb8112ba1a5cfbfdbcd5e09046309", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4bbbdb3a41ecb8112ba1a5cfbfdbcd5e09046309", "message": "Updated NON-ASCII characters with unicode values", "committedDate": "2020-06-10T01:28:04Z", "type": "commit"}]}