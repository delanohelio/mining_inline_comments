{"pr_number": 9125, "pr_title": "Created base clients for ChangeFeed", "pr_createdAt": "2020-03-16T17:17:31Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/9125", "timeline": [{"oid": "3a003964c73d6473f772fa1571a13621d188dc1e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3a003964c73d6473f772fa1571a13621d188dc1e", "message": "added some samples", "committedDate": "2020-03-13T23:15:29Z", "type": "commit"}, {"oid": "28bff51d79caad83e4a74e36cab7124aa73e4ce1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/28bff51d79caad83e4a74e36cab7124aa73e4ce1", "message": "added blank test base", "committedDate": "2020-03-16T17:15:43Z", "type": "commit"}, {"oid": "2ba741264d270b20d843285c34c0cfbcadd659a3", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2ba741264d270b20d843285c34c0cfbcadd659a3", "message": "analyze step issues", "committedDate": "2020-03-16T17:45:21Z", "type": "commit"}, {"oid": "80ce1aeb43f7578262d6e16ae39d8b6258489a06", "url": "https://github.com/Azure/azure-sdk-for-java/commit/80ce1aeb43f7578262d6e16ae39d8b6258489a06", "message": "added temp method to pass CI", "committedDate": "2020-03-16T18:51:45Z", "type": "commit"}, {"oid": "19b6d0fda95cb30ac66c367a10786dd19272dc87", "url": "https://github.com/Azure/azure-sdk-for-java/commit/19b6d0fda95cb30ac66c367a10786dd19272dc87", "message": "made package private", "committedDate": "2020-03-16T21:37:31Z", "type": "commit"}, {"oid": "7b73949e72798c971ec13556ad7624aed4bfd55f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7b73949e72798c971ec13556ad7624aed4bfd55f", "message": "fixed ci", "committedDate": "2020-03-16T21:54:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzMzM5Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393333397", "bodyText": "Maybe a newline here?", "author": "seanmcc-msft", "createdAt": "2020-03-16T21:59:45Z", "path": "sdk/storage/azure-storage-blob/src/main/java/module-info.java", "diffHunk": "@@ -15,7 +15,7 @@\n     exports com.azure.storage.blob.implementation to\n         com.azure.storage.blob.cryptography,\n         com.azure.storage.blob.batch,\n-        com.azure.storage.file.datalake;    // FIXME this should not be a long-term solution\n+        com.azure.storage.file.datalake, azure.storage.blob.changefeed;    // FIXME this should not be a long-term solution", "originalCommit": "7b73949e72798c971ec13556ad7624aed4bfd55f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzNDU2NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393334564", "bodyText": "done", "author": "gapra-msft", "createdAt": "2020-03-16T22:02:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzMzM5Nw=="}], "type": "inlineReview"}, {"oid": "c0e75a9670d7a5843062eb9467d72c94a35bc0fe", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c0e75a9670d7a5843062eb9467d72c94a35bc0fe", "message": "added new line", "committedDate": "2020-03-16T22:02:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzNzgyOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393337828", "bodyText": "I'd like to have more informative docs. Not sure if you were planning on adding that later.", "author": "rickle-msft", "createdAt": "2020-03-16T22:11:40Z", "path": "sdk/storage/azure-storage-blob-changefeed/src/main/java/com/azure/storage/blob/changefeed/BlobChangefeedAsyncClient.java", "diffHunk": "@@ -4,10 +4,38 @@\n package com.azure.storage.blob.changefeed;\n \n import com.azure.core.annotation.ServiceClient;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.core.util.logging.ClientLogger;\n+import com.azure.storage.blob.BlobContainerAsyncClient;\n+import com.azure.storage.blob.BlobContainerClientBuilder;\n+import com.azure.storage.blob.BlobServiceVersion;\n \n /**\n- * TEMP\n+ * This class provides a client that contains all operations that apply to Azure Storage Blob changefeed.", "originalCommit": "7b73949e72798c971ec13556ad7624aed4bfd55f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzM0NjQ2NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393346465", "bodyText": "yep, I will add more information as I understand more about ChangeFeed and add more related classes.", "author": "gapra-msft", "createdAt": "2020-03-16T22:31:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzNzgyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzODAyMQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393338021", "bodyText": "\"as called respectively\"", "author": "rickle-msft", "createdAt": "2020-03-16T22:12:12Z", "path": "sdk/storage/azure-storage-blob-changefeed/src/main/java/com/azure/storage/blob/changefeed/BlobChangefeedClientBuilder.java", "diffHunk": "@@ -4,10 +4,72 @@\n package com.azure.storage.blob.changefeed;\n \n import com.azure.core.annotation.ServiceClientBuilder;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.storage.blob.BlobServiceAsyncClient;\n+import com.azure.storage.blob.BlobServiceClient;\n+import com.azure.storage.blob.BlobServiceVersion;\n \n /**\n- * TEMP\n+ * This class provides a fluent builder API to help aid the configuration and instantiation of\n+ * {@link BlobChangefeedClient BlobChangefeedClients} and {@link BlobChangefeedAsyncClient BlobChangefeedAsyncClients}\n+ * when {@link #buildClient() buildClient} and {@link #buildAsyncClient() buildAsyncClient} as called respectively.", "originalCommit": "7b73949e72798c971ec13556ad7624aed4bfd55f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzODQ0Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393338446", "bodyText": "I think we can just say using the URL (or endpoint) and pipeline of the passed client. I don't think we need to specify that we use the getters.", "author": "rickle-msft", "createdAt": "2020-03-16T22:13:17Z", "path": "sdk/storage/azure-storage-blob-changefeed/src/main/java/com/azure/storage/blob/changefeed/BlobChangefeedClientBuilder.java", "diffHunk": "@@ -4,10 +4,72 @@\n package com.azure.storage.blob.changefeed;\n \n import com.azure.core.annotation.ServiceClientBuilder;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.storage.blob.BlobServiceAsyncClient;\n+import com.azure.storage.blob.BlobServiceClient;\n+import com.azure.storage.blob.BlobServiceVersion;\n \n /**\n- * TEMP\n+ * This class provides a fluent builder API to help aid the configuration and instantiation of\n+ * {@link BlobChangefeedClient BlobChangefeedClients} and {@link BlobChangefeedAsyncClient BlobChangefeedAsyncClients}\n+ * when {@link #buildClient() buildClient} and {@link #buildAsyncClient() buildAsyncClient} as called respectively.\n  */\n @ServiceClientBuilder(serviceClients = {BlobChangefeedClient.class, BlobChangefeedAsyncClient.class})\n-public class BlobChangefeedClientBuilder {\n+public final class BlobChangefeedClientBuilder {\n+    private final String accountUrl;\n+    private final HttpPipeline pipeline;\n+    private final BlobServiceVersion version;\n+\n+    /**\n+     * Constructs the {@link BlobChangefeedClientBuilder} using the {@link BlobServiceClient#getAccountUrl() account\n+     * URL} and {@link BlobServiceClient#getHttpPipeline() HttpPipeline} properties of the passed {@link", "originalCommit": "7b73949e72798c971ec13556ad7624aed4bfd55f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzODY3OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393338679", "bodyText": "Are we planning on adding options? Or should we change the doc?", "author": "rickle-msft", "createdAt": "2020-03-16T22:13:52Z", "path": "sdk/storage/azure-storage-blob-changefeed/src/main/java/com/azure/storage/blob/changefeed/BlobChangefeedClientBuilder.java", "diffHunk": "@@ -4,10 +4,72 @@\n package com.azure.storage.blob.changefeed;\n \n import com.azure.core.annotation.ServiceClientBuilder;\n+import com.azure.core.http.HttpPipeline;\n+import com.azure.storage.blob.BlobServiceAsyncClient;\n+import com.azure.storage.blob.BlobServiceClient;\n+import com.azure.storage.blob.BlobServiceVersion;\n \n /**\n- * TEMP\n+ * This class provides a fluent builder API to help aid the configuration and instantiation of\n+ * {@link BlobChangefeedClient BlobChangefeedClients} and {@link BlobChangefeedAsyncClient BlobChangefeedAsyncClients}\n+ * when {@link #buildClient() buildClient} and {@link #buildAsyncClient() buildAsyncClient} as called respectively.\n  */\n @ServiceClientBuilder(serviceClients = {BlobChangefeedClient.class, BlobChangefeedAsyncClient.class})\n-public class BlobChangefeedClientBuilder {\n+public final class BlobChangefeedClientBuilder {\n+    private final String accountUrl;\n+    private final HttpPipeline pipeline;\n+    private final BlobServiceVersion version;\n+\n+    /**\n+     * Constructs the {@link BlobChangefeedClientBuilder} using the {@link BlobServiceClient#getAccountUrl() account\n+     * URL} and {@link BlobServiceClient#getHttpPipeline() HttpPipeline} properties of the passed {@link\n+     * BlobServiceClient}.\n+     *\n+     * @param client {@link BlobServiceClient} whose properties are used to configure the builder.\n+     */\n+    public BlobChangefeedClientBuilder(BlobServiceClient client) {\n+        this.accountUrl = client.getAccountUrl();\n+        this.pipeline = client.getHttpPipeline();\n+        this.version = client.getServiceVersion();\n+    }\n+\n+    /**\n+     * Constructs the {@link BlobChangefeedClientBuilder} using the {@link BlobServiceAsyncClient#getAccountUrl()\n+     * account URL} and {@link BlobServiceAsyncClient#getHttpPipeline() HttpPipeline} properties of the passed {@link\n+     * BlobServiceAsyncClient}.\n+     *\n+     * @param client {@link BlobServiceClient} whose properties are used to configure the builder.\n+     */\n+    public BlobChangefeedClientBuilder(BlobServiceAsyncClient client) {\n+        this.accountUrl = client.getAccountUrl();\n+        this.pipeline = client.getHttpPipeline();\n+        this.version = client.getServiceVersion();\n+    }\n+\n+    /**\n+     * Creates a {@link BlobChangefeedClient} based on options set in the builder.", "originalCommit": "7b73949e72798c971ec13556ad7624aed4bfd55f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzM0Njg3NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9125#discussion_r393346874", "bodyText": "Let me change the doc for now and add it if we do end up adding options", "author": "gapra-msft", "createdAt": "2020-03-16T22:32:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzODY3OQ=="}], "type": "inlineReview"}, {"oid": "8a5028d1e21775be70ace2a1009b11d5f55dfa0c", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8a5028d1e21775be70ace2a1009b11d5f55dfa0c", "message": "added another change to pass ci", "committedDate": "2020-03-16T22:27:39Z", "type": "commit"}, {"oid": "65024ea6e5f09488d0d4341fba9f6823a0bd2636", "url": "https://github.com/Azure/azure-sdk-for-java/commit/65024ea6e5f09488d0d4341fba9f6823a0bd2636", "message": "changed docs", "committedDate": "2020-03-16T22:35:21Z", "type": "commit"}]}