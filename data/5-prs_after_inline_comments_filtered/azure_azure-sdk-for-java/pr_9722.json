{"pr_number": 9722, "pr_title": "Fixed sorting order of shared key headers", "pr_createdAt": "2020-03-31T20:41:56Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/9722", "timeline": [{"oid": "39333a27eb80623dc0dcfb756092f322a99cf52b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/39333a27eb80623dc0dcfb756092f322a99cf52b", "message": "fixed sort of shared key headers", "committedDate": "2020-03-31T20:38:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIxNTI0Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9722#discussion_r401215242", "bodyText": "Should we use Collator.getInstance(Locale)  ? Otherwise this will use local machine or JVM default which might not be what we expect. I guess en_US would be safe choice.", "author": "kasobol-msft", "createdAt": "2020-03-31T21:06:13Z", "path": "sdk/storage/azure-storage-common/src/main/java/com/azure/storage/common/StorageSharedKeyCredential.java", "diffHunk": "@@ -156,7 +157,8 @@ private String getAdditionalXmsHeaders(Map<String, String> headers) {\n             return \"\";\n         }\n \n-        Collections.sort(xmsHeaderNameArray);\n+        /* Culture-sensitive word sort */\n+        Collections.sort(xmsHeaderNameArray, Collator.getInstance());", "originalCommit": "39333a27eb80623dc0dcfb756092f322a99cf52b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIxNjk4MQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9722#discussion_r401216981", "bodyText": "good point, yeah I wasn't too sure which one to pin it to if I did. There's also Locale.ROOT, Locale.US and Locale.ENGLISH", "author": "gapra-msft", "createdAt": "2020-03-31T21:09:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIxNTI0Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIyMDUyNg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/9722#discussion_r401220526", "bodyText": "Javadoc of Locale.ROOT looks promising - I'd give that a try. If that doesn't work Locale.US.", "author": "kasobol-msft", "createdAt": "2020-03-31T21:16:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTIxNTI0Mg=="}], "type": "inlineReview"}, {"oid": "7672e4a72d33de123fa472d8832d995902f3e877", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7672e4a72d33de123fa472d8832d995902f3e877", "message": "added Locale.ROOT", "committedDate": "2020-03-31T21:43:09Z", "type": "commit"}]}