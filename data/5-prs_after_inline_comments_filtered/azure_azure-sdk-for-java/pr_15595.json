{"pr_number": 15595, "pr_title": "mgmt, regen resources on review feedback, use generated client interface instead of concrete client class", "pr_createdAt": "2020-09-24T06:42:36Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/15595", "timeline": [{"oid": "035dbe16867b612194365d627e1b81f8f9536ca0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/035dbe16867b612194365d627e1b81f8f9536ca0", "message": "regen resources, using client interface", "committedDate": "2020-09-24T06:27:09Z", "type": "commit"}, {"oid": "336a8209cf3171899480ce16f35d853b519b94d9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/336a8209cf3171899480ce16f35d853b519b94d9", "message": "update AcceptedImp.newAccepted", "committedDate": "2020-09-24T06:34:24Z", "type": "commit"}, {"oid": "8aa52d0a33d7b295896ade284da031bd6223aec4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8aa52d0a33d7b295896ade284da031bd6223aec4", "message": "fix checkstyle", "committedDate": "2020-09-24T06:40:38Z", "type": "commit"}, {"oid": "f93450b093948bb98c717ea3954f59e493f36d6f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f93450b093948bb98c717ea3954f59e493f36d6f", "message": "fix spotbugs", "committedDate": "2020-09-24T07:26:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDA5NTUxNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15595#discussion_r494095515", "bodyText": "Attempt to replace the class with interface.", "author": "weidongxu-microsoft", "createdAt": "2020-09-24T07:27:12Z", "path": "sdk/resourcemanager/azure-resourcemanager-resources/src/main/java/com/azure/resourcemanager/resources/fluent/DeploymentOperationsClient.java", "diffHunk": "@@ -4,304 +4,31 @@\n \n package com.azure.resourcemanager.resources.fluent;\n \n-import com.azure.core.annotation.ExpectedResponses;\n-import com.azure.core.annotation.Get;\n-import com.azure.core.annotation.Headers;\n-import com.azure.core.annotation.Host;\n-import com.azure.core.annotation.HostParam;\n-import com.azure.core.annotation.PathParam;\n-import com.azure.core.annotation.QueryParam;\n import com.azure.core.annotation.ReturnType;\n-import com.azure.core.annotation.ServiceInterface;\n import com.azure.core.annotation.ServiceMethod;\n-import com.azure.core.annotation.UnexpectedResponseExceptionType;\n import com.azure.core.http.rest.PagedFlux;\n import com.azure.core.http.rest.PagedIterable;\n-import com.azure.core.http.rest.PagedResponse;\n-import com.azure.core.http.rest.PagedResponseBase;\n import com.azure.core.http.rest.Response;\n-import com.azure.core.http.rest.RestProxy;\n-import com.azure.core.management.exception.ManagementException;\n import com.azure.core.util.Context;\n-import com.azure.core.util.FluxUtil;\n-import com.azure.core.util.logging.ClientLogger;\n import com.azure.resourcemanager.resources.fluent.models.DeploymentOperationInner;\n-import com.azure.resourcemanager.resources.models.DeploymentOperationsListResult;\n import reactor.core.publisher.Mono;\n \n-/** An instance of this class provides access to all the operations defined in DeploymentOperations. */\n-public final class DeploymentOperationsClient {\n-    private final ClientLogger logger = new ClientLogger(DeploymentOperationsClient.class);\n-\n-    /** The proxy service used to perform REST calls. */\n-    private final DeploymentOperationsService service;\n-\n-    /** The service client containing this operation class. */\n-    private final ResourceManagementClient client;\n-\n-    /**\n-     * Initializes an instance of DeploymentOperationsClient.\n-     *\n-     * @param client the instance of the service client containing this operation class.\n-     */\n-    DeploymentOperationsClient(ResourceManagementClient client) {\n-        this.service =\n-            RestProxy\n-                .create(DeploymentOperationsService.class, client.getHttpPipeline(), client.getSerializerAdapter());\n-        this.client = client;\n-    }\n-\n-    /**\n-     * The interface defining all the services for ResourceManagementClientDeploymentOperations to be used by the proxy\n-     * service to perform REST calls.\n-     */\n-    @Host(\"{$host}\")\n-    @ServiceInterface(name = \"ResourceManagementCl\")\n-    private interface DeploymentOperationsService {\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationInner>> getAtScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(value = \"scope\", encoded = true) String scope,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @PathParam(\"operationId\") String operationId,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/operations\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(value = \"scope\", encoded = true) String scope,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @QueryParam(\"$top\") Integer top,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationInner>> getAtTenantScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @PathParam(\"operationId\") String operationId,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"/providers/Microsoft.Resources/deployments/{deploymentName}/operations\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtTenantScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @QueryParam(\"$top\") Integer top,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\n-            \"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments\"\n-                + \"/{deploymentName}/operations/{operationId}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationInner>> getAtManagementGroupScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"groupId\") String groupId,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @PathParam(\"operationId\") String operationId,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\n-            \"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments\"\n-                + \"/{deploymentName}/operations\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtManagementGroupScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"groupId\") String groupId,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @QueryParam(\"$top\") Integer top,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\n-            \"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations\"\n-                + \"/{operationId}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationInner>> getAtSubscriptionScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @PathParam(\"operationId\") String operationId,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            @PathParam(\"subscriptionId\") String subscriptionId,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtSubscriptionScope(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @QueryParam(\"$top\") Integer top,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            @PathParam(\"subscriptionId\") String subscriptionId,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\n-            \"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/deployments/{deploymentName}/operations\"\n-                + \"/{operationId}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationInner>> get(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"resourceGroupName\") String resourceGroupName,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @PathParam(\"operationId\") String operationId,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            @PathParam(\"subscriptionId\") String subscriptionId,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\n-            \"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/deployments/{deploymentName}\"\n-                + \"/operations\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listByResourceGroup(\n-            @HostParam(\"$host\") String endpoint,\n-            @PathParam(\"resourceGroupName\") String resourceGroupName,\n-            @PathParam(\"deploymentName\") String deploymentName,\n-            @QueryParam(\"$top\") Integer top,\n-            @QueryParam(\"api-version\") String apiVersion,\n-            @PathParam(\"subscriptionId\") String subscriptionId,\n-            Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"{nextLink}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtScopeNext(\n-            @PathParam(value = \"nextLink\", encoded = true) String nextLink, Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"{nextLink}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtTenantScopeNext(\n-            @PathParam(value = \"nextLink\", encoded = true) String nextLink, Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"{nextLink}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtManagementGroupScopeNext(\n-            @PathParam(value = \"nextLink\", encoded = true) String nextLink, Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"{nextLink}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listAtSubscriptionScopeNext(\n-            @PathParam(value = \"nextLink\", encoded = true) String nextLink, Context context);\n-\n-        @Headers({\"Accept: application/json\", \"Content-Type: application/json\"})\n-        @Get(\"{nextLink}\")\n-        @ExpectedResponses({200})\n-        @UnexpectedResponseExceptionType(ManagementException.class)\n-        Mono<Response<DeploymentOperationsListResult>> listNext(\n-            @PathParam(value = \"nextLink\", encoded = true) String nextLink, Context context);\n-    }\n-\n-    /**\n-     * Gets a deployments operation.\n-     *\n-     * @param scope The resource scope.\n-     * @param deploymentName The name of the deployment.\n-     * @param operationId The ID of the operation to get.\n-     * @throws IllegalArgumentException thrown if parameters fail the validation.\n-     * @throws ManagementException thrown if the request is rejected by server.\n-     * @throws RuntimeException all other wrapped checked exceptions if the request fails to be sent.\n-     * @return a deployments operation.\n-     */\n-    @ServiceMethod(returns = ReturnType.SINGLE)\n-    public Mono<Response<DeploymentOperationInner>> getAtScopeWithResponseAsync(\n-        String scope, String deploymentName, String operationId) {\n-        if (this.client.getEndpoint() == null) {\n-            return Mono\n-                .error(\n-                    new IllegalArgumentException(\n-                        \"Parameter this.client.getEndpoint() is required and cannot be null.\"));\n-        }\n-        if (scope == null) {\n-            return Mono.error(new IllegalArgumentException(\"Parameter scope is required and cannot be null.\"));\n-        }\n-        if (deploymentName == null) {\n-            return Mono.error(new IllegalArgumentException(\"Parameter deploymentName is required and cannot be null.\"));\n-        }\n-        if (operationId == null) {\n-            return Mono.error(new IllegalArgumentException(\"Parameter operationId is required and cannot be null.\"));\n-        }\n-        return FluxUtil\n-            .withContext(\n-                context ->\n-                    service\n-                        .getAtScope(\n-                            this.client.getEndpoint(),\n-                            scope,\n-                            deploymentName,\n-                            operationId,\n-                            this.client.getApiVersion(),\n-                            context))\n-            .subscriberContext(context -> context.putAll(FluxUtil.toReactorContext(this.client.getContext())));\n-    }\n-\n+/** An instance of this class provides access to all the operations defined in DeploymentOperationsClient. */\n+public interface DeploymentOperationsClient {", "originalCommit": "8aa52d0a33d7b295896ade284da031bd6223aec4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}