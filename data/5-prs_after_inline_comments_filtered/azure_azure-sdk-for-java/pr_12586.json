{"pr_number": 12586, "pr_title": "UX study updates", "pr_createdAt": "2020-06-29T04:32:08Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/12586", "timeline": [{"oid": "acc27607921249059945a55e02828d6c7dd4f6d1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/acc27607921249059945a55e02828d6c7dd4f6d1", "message": "javadoc updates", "committedDate": "2020-06-29T04:31:33Z", "type": "commit"}, {"oid": "afcee343e598952e566f3c6218a73a66f136f385", "url": "https://github.com/Azure/azure-sdk-for-java/commit/afcee343e598952e566f3c6218a73a66f136f385", "message": "checkstyle update", "committedDate": "2020-06-29T06:48:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA3MzAyMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447073023", "bodyText": "should we say content operation here?", "author": "kristapratico", "createdAt": "2020-06-29T15:48:45Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -195,18 +195,17 @@\n     }\n \n     /**\n-     * Recognizes layout data from documents using optical character recognition (OCR) and a custom trained\n-     * model.\n+     * Recognizes content/layout data from documents using optical character recognition (OCR).\n      * <p>The service does not support cancellation of the long running operation and returns with an\n      * error message indicating absence of cancellation support.</p>\n      *\n      * <p><strong>Code sample</strong></p>\n      * {@codesnippet com.azure.ai.formrecognizer.FormRecognizerAsyncClient.beginRecognizeContentFromUrl#string}\n      *\n-     * @param formUrl The source URL to the input form.\n+     * @param formUrl The URL of the form to analyze.\n      *\n-     * @return A {@link PollerFlux} that polls the recognize custom form operation until it has completed, has failed,\n-     * or has been cancelled. The completed operation returns a List of {@link FormPage}.\n+     * @return A {@link PollerFlux} that polls the recognize layout operation until it has completed, has failed, or has", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA3MzM2OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447073369", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * or has been cancelled. The completed operation returns a List of {@link RecognizedReceipt}.\n          \n          \n            \n                 * or has been cancelled. The completed operation returns a List of {@link RecognizedForm}.", "author": "kristapratico", "createdAt": "2020-06-29T15:49:19Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -309,11 +306,12 @@\n      * model.\n      * <p>The service does not support cancellation of the long running operation and returns with an\n      * error message indicating absence of cancellation support.</p>\n+     * See <a href=\"https://aka.ms/azsdk/python/formrecognizer/receiptfields\">here</a> for fields found on a receipt.\n      *\n      * <p><strong>Code sample</strong></p>\n      * {@codesnippet com.azure.ai.formrecognizer.FormRecognizerAsyncClient.beginRecognizeReceiptsFromUrl#string}\n      *\n-     * @param receiptUrl The source URL to the input receipt.\n+     * @param receiptUrl The URL of the receipt to analyze.\n      *\n      * @return A {@link PollerFlux} that polls the recognize receipt operation until it has completed, has failed,\n      * or has been cancelled. The completed operation returns a List of {@link RecognizedReceipt}.", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEwNjE0Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447106143", "bodyText": "This also happens in other parts of the document", "author": "maririos", "createdAt": "2020-06-29T16:39:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA3MzM2OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEyNTE2MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447125160", "bodyText": "I still have the receipt design changes in a PR so this will be taken care there - #12380", "author": "samvaity", "createdAt": "2020-06-29T17:11:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA3MzM2OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA4NjY0Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447086647", "bodyText": "do you validate the size in the client?\nAlso, is this constrain from the service?", "author": "maririos", "createdAt": "2020-06-29T16:09:00Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -133,9 +133,9 @@\n      * @param length The exact length of the data. Size of the file must be less than 50 MB.", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEyNTYxNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447125614", "bodyText": "We do not validate the size on the client and yes it is a constraint from the service.", "author": "samvaity", "createdAt": "2020-06-29T17:11:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA4NjY0Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE1MjIxMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447152213", "bodyText": "I would prefer deleting this from here then, in case the service decides to change the limitations", "author": "maririos", "createdAt": "2020-06-29T17:58:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA4NjY0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA4ODA1Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447088052", "bodyText": "should it say recognized?", "author": "maririos", "createdAt": "2020-06-29T16:11:01Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -133,9 +133,9 @@\n      * @param length The exact length of the data. Size of the file must be less than 50 MB.\n      * @param modelId The UUID string format custom trained model Id to be used.\n      * @param formContentType The type of the provided form. Supported Media types including .pdf, .jpg, .png or\n-     * .tiff type file stream.\n+     * .tiff type file stream. Content-type is auto-detected and could be {@code null}.\n      *\n-     * @return A {@link PollerFlux} that polls the recognize receipt operation until it has completed, has failed,\n+     * @return A {@link PollerFlux} that polls the recognize custom form operation until it has completed, has failed,", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA4OTU1NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447089555", "bodyText": "any reason we use layout instead of recognized content operation? similar to what Krista said above", "author": "maririos", "createdAt": "2020-06-29T16:13:18Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -247,10 +245,10 @@\n      * @param form The data of the form to recognize content information from.\n      * @param length The exact length of the data. Size of the file must be less than 50 MB.\n      * @param formContentType The type of the provided form. Supported Media types including .pdf, .jpg, .png or\n-     * .tiff type file stream.\n+     * .tiff type file stream. Content-type is auto-detected and could be {@code null}.\n      *\n-     * @return A {@link PollerFlux} that polls the recognize receipt operation until it has completed, has failed,\n-     * or has been cancelled. The completed operation returns a List of {@link FormPage}.\n+     * @return A {@link PollerFlux} polls the recognize layout operation until it has completed, has failed, or has", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5Mzc0OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447093748", "bodyText": "consider changing to extracted element. it could be a whole line or a single word and eventually it could be the selection in a checkbox element", "author": "maririos", "createdAt": "2020-06-29T16:19:43Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/models/FormContent.java", "diffHunk": "@@ -12,7 +12,7 @@\n public abstract class FormContent {\n \n     /*\n-     * Text content of the extracted field.\n+     * Text content of the extracted line.", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5NTIxOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447095218", "bodyText": "same here", "author": "maririos", "createdAt": "2020-06-29T16:21:46Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/models/FormContent.java", "diffHunk": "@@ -49,9 +49,9 @@ public BoundingBox getBoundingBox() {\n     }\n \n     /**\n-     * The text of the extracted item.\n+     * The text content of the extracted line.", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5ODY1NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447098654", "bodyText": "remove the en-us from the link so that it is set to the user locale", "author": "maririos", "createdAt": "2020-06-29T16:27:12Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/FormTrainingAsyncClient.java", "diffHunk": "@@ -125,17 +125,19 @@ String getEndpoint() {\n      * Other type of content is ignored.\n      * <p>The service does not support cancellation of the long running operation and returns with an\n      * error message indicating absence of cancellation support.</p>\n+     * See <a href=\"https://docs.microsoft.com/en-us/azure/cognitive-services/form-recognizer/build-training-data-set#upload-your-training-data\">here</a>", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5ODc5Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447098793", "bodyText": "same with other links", "author": "maririos", "createdAt": "2020-06-29T16:27:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5ODY1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEwNDM0NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447104345", "bodyText": "because it also returns information about the resource itself (like the capacity) I will suggest\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Get account information for all custom models on the form recognizer account with an Http response.\n          \n          \n            \n                 * Get account information of the form recognizer account with an Http response.", "author": "maririos", "createdAt": "2020-06-29T16:36:36Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/FormTrainingAsyncClient.java", "diffHunk": "@@ -219,28 +223,30 @@ String getEndpoint() {\n     }\n \n     Mono<Response<CustomFormModel>> getCustomModelWithResponse(String modelId, Context context) {\n-        Objects.requireNonNull(modelId, \"'modelId' cannot be null\");\n-\n+        if (!CoreUtils.isNullOrEmpty(modelId)) {\n+            throw logger.logExceptionAsError(new IllegalArgumentException(\"'modelId' is required and cannot\"\n+                + \" be null or empty\"));\n+        }\n         return service.getCustomModelWithResponseAsync(UUID.fromString(modelId), true, context)\n             .onErrorMap(Utility::mapToHttpResponseExceptionIfExist)\n             .map(response -> new SimpleResponse<>(response, toCustomFormModel(response.getValue())));\n     }\n \n     /**\n-     * Get account information for all custom models.\n+     * Get account information for all custom models on the form recognizer account.\n      *\n      * <p><strong>Code sample</strong></p>\n      * {@codesnippet com.azure.ai.formrecognizer.training.FormTrainingAsyncClient.getAccountProperties}\n      *\n-     * @return The account information.\n+     * @return The requested account information details.\n      */\n     @ServiceMethod(returns = ReturnType.SINGLE)\n     public Mono<AccountProperties> getAccountProperties() {\n         return getAccountPropertiesWithResponse().flatMap(FluxUtil::toMono);\n     }\n \n     /**\n-     * Get account information.\n+     * Get account information for all custom models on the form recognizer account with an Http response.", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEwNDU5MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447104590", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return A {@link Response} containing containing status code and HTTP headers\n          \n          \n            \n                 * @return A {@link Response} containing status code and HTTP headers", "author": "maririos", "createdAt": "2020-06-29T16:36:58Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/training/FormTrainingAsyncClient.java", "diffHunk": "@@ -288,8 +294,8 @@ String getEndpoint() {\n      *\n      * @param modelId The UUID string format model identifier.\n      *\n-     * @return A {@link Mono} containing containing status code and HTTP headers\n-     * @throws NullPointerException If {@code modelId} is {@code null}.\n+     * @return A {@link Response} containing containing status code and HTTP headers", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEwNjQ4Ng==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447106486", "bodyText": "is there a reason why we left this code?", "author": "maririos", "createdAt": "2020-06-29T16:40:06Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerClientJavaDocCodeSnippets.java", "diffHunk": "@@ -250,10 +249,10 @@ public void beginRecognizeReceiptsFromUrl() {\n      */\n     public void beginRecognizeReceipts() throws IOException {", "originalCommit": "afcee343e598952e566f3c6218a73a66f136f385", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEzMzA3OA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447133078", "bodyText": "Oh yeah, receipt design changes are part of a separate PR #12380. Haven't merged that one yet!", "author": "samvaity", "createdAt": "2020-06-29T17:25:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzEwNjQ4Ng=="}], "type": "inlineReview"}, {"oid": "3e1c620de1a1c4fd2a87e9ca4faa5b9b7095c21e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/3e1c620de1a1c4fd2a87e9ca4faa5b9b7095c21e", "message": "review comments", "committedDate": "2020-06-29T22:39:26Z", "type": "commit"}, {"oid": "6ef4a9061c09118ce9816038a43117b29320fd68", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6ef4a9061c09118ce9816038a43117b29320fd68", "message": "update readme", "committedDate": "2020-06-29T22:58:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMxNjE3Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447316177", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @return A {@link PollerFlux} polls the recognize contentFr operation until it has completed, has failed, or has\n          \n          \n            \n                 * @return A {@link PollerFlux} polls the recognize content operation until it has completed, has failed, or has", "author": "kristapratico", "createdAt": "2020-06-29T23:29:10Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java", "diffHunk": "@@ -276,8 +273,8 @@\n      * @param recognizeOptions The configurable {@code RecognizeOptions options} that may be passed when recognizing\n      * content on a form.\n      *\n-     * @return A {@link PollerFlux} that polls the recognize receipt operation until it has completed, has failed,\n-     * or has been cancelled. The completed operation returns a List of {@link FormPage}.\n+     * @return A {@link PollerFlux} polls the recognize contentFr operation until it has completed, has failed, or has", "originalCommit": "6ef4a9061c09118ce9816038a43117b29320fd68", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzMxODQ0Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/12586#discussion_r447318443", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                System.out.printf(\"Page Angle: %s%n\", recognizedForm.getTextAngle());\n          \n          \n            \n                                System.out.printf(\"Text angle: %s%n\", recognizedForm.getTextAngle());", "author": "kristapratico", "createdAt": "2020-06-29T23:35:32Z", "path": "sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClientJavaDocCodeSnippets.java", "diffHunk": "@@ -153,20 +149,19 @@ public void beginRecognizeCustomFormsWithOptions() throws IOException {\n      */\n     public void beginRecognizeContentFromUrl() {\n         // BEGIN: com.azure.ai.formrecognizer.FormRecognizerAsyncClient.beginRecognizeContentFromUrl#string\n-        String sourceFilePath = \"{file_source_url}\";\n-        formRecognizerAsyncClient.beginRecognizeContentFromUrl(sourceFilePath).subscribe(\n-            recognizePollingOperation ->\n-                recognizePollingOperation.getFinalResult().subscribe(layoutPageResults ->\n-                    layoutPageResults.forEach(recognizedForm -> {\n-                        System.out.printf(\"Page Angle: %s%n\", recognizedForm.getTextAngle());\n-                        System.out.printf(\"Page Dimension unit: %s%n\", recognizedForm.getUnit());\n-                        // Table information\n-                        System.out.println(\"Recognized Tables: \");\n-                        recognizedForm.getTables().forEach(formTable ->\n-                            formTable.getCells().forEach(recognizedTableCell ->\n-                                System.out.printf(\"%s \", recognizedTableCell.getText())));\n-                    })\n-                ));\n+        String formUrl = \"{form_url}\";\n+        formRecognizerAsyncClient.beginRecognizeContentFromUrl(formUrl).subscribe(\n+            recognizePollingOperation -> recognizePollingOperation.getFinalResult().subscribe(contentPageResult -> {\n+                // Table information\n+                contentPageResult.forEach(recognizedForm -> {\n+                    System.out.printf(\"Page Angle: %s%n\", recognizedForm.getTextAngle());", "originalCommit": "6ef4a9061c09118ce9816038a43117b29320fd68", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f4cfbae065f176974a5ab88de4d0e5bd0fb6d42b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f4cfbae065f176974a5ab88de4d0e5bd0fb6d42b", "message": "Update sdk/formrecognizer/azure-ai-formrecognizer/src/main/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClient.java\n\nCo-authored-by: Krista Pratico <krpratic@microsoft.com>", "committedDate": "2020-06-30T01:19:50Z", "type": "commit"}, {"oid": "6f52d6e3a4c870b129143780da7098fca240db3e", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6f52d6e3a4c870b129143780da7098fca240db3e", "message": "Update sdk/formrecognizer/azure-ai-formrecognizer/src/samples/java/com/azure/ai/formrecognizer/FormRecognizerAsyncClientJavaDocCodeSnippets.java\n\nCo-authored-by: Krista Pratico <krpratic@microsoft.com>", "committedDate": "2020-06-30T01:20:00Z", "type": "commit"}]}