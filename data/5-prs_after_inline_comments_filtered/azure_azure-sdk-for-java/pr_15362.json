{"pr_number": 15362, "pr_title": "Return 401 instead of 500 if JWT expired.", "pr_createdAt": "2020-09-18T09:28:59Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/15362", "timeline": [{"oid": "59e540a7455c74234a01892acebc90494e76dcb5", "url": "https://github.com/Azure/azure-sdk-for-java/commit/59e540a7455c74234a01892acebc90494e76dcb5", "message": "Return '401' in AADAuthenticationFilter if JWT expired.", "committedDate": "2020-09-21T05:21:02Z", "type": "commit"}, {"oid": "b8a40ff100a34ff706b46358feb2d382aae48fec", "url": "https://github.com/Azure/azure-sdk-for-java/commit/b8a40ff100a34ff706b46358feb2d382aae48fec", "message": "Return '401' in AADAppRoleStatelessAuthenticationFilter if JWT expired.", "committedDate": "2020-09-21T05:21:03Z", "type": "commit"}, {"oid": "210e444a3dfd628815f66c23f81f813c6c952b19", "url": "https://github.com/Azure/azure-sdk-for-java/commit/210e444a3dfd628815f66c23f81f813c6c952b19", "message": "Return '401' for all kinds of BadJWTException.", "committedDate": "2020-09-21T05:21:03Z", "type": "commit"}, {"oid": "4c3a7f63240c796946028480eb8782045e300e92", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4c3a7f63240c796946028480eb8782045e300e92", "message": "Fix integration test: not reghrow JWTException.", "committedDate": "2020-09-21T05:21:04Z", "type": "commit"}, {"oid": "4c3a7f63240c796946028480eb8782045e300e92", "url": "https://github.com/Azure/azure-sdk-for-java/commit/4c3a7f63240c796946028480eb8782045e300e92", "message": "Fix integration test: not reghrow JWTException.", "committedDate": "2020-09-21T05:21:04Z", "type": "forcePushed"}, {"oid": "428b915a69056c7e6e6e20976b7099dc3a07f8ef", "url": "https://github.com/Azure/azure-sdk-for-java/commit/428b915a69056c7e6e6e20976b7099dc3a07f8ef", "message": "Fix integration test error in KeyVaultIt.java", "committedDate": "2020-09-21T07:03:58Z", "type": "commit"}, {"oid": "f0a106063d52a7ccd69927cf1952287eac632d09", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f0a106063d52a7ccd69927cf1952287eac632d09", "message": "Delete boolean variable: cleanupRequired", "committedDate": "2020-09-22T04:56:56Z", "type": "commit"}, {"oid": "bebf1d850309cbd337cad248513cc444ec6431c7", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bebf1d850309cbd337cad248513cc444ec6431c7", "message": "Recover logic: execute 'filterChain.doFilter' even if (aadIssuedBearerToken == null || alreadyAuthenticated()).", "committedDate": "2020-09-22T05:17:12Z", "type": "commit"}, {"oid": "213be79bb4e9319e69dd9024391c69356580959f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/213be79bb4e9319e69dd9024391c69356580959f", "message": "Add aadIssuedBearerToken in AADAuthenticationFilter.", "committedDate": "2020-09-22T05:21:03Z", "type": "commit"}, {"oid": "02f15b2bea194b14b21544f9f74175d8dbf866b4", "url": "https://github.com/Azure/azure-sdk-for-java/commit/02f15b2bea194b14b21544f9f74175d8dbf866b4", "message": "Remove unused variable.", "committedDate": "2020-09-22T05:22:24Z", "type": "commit"}, {"oid": "7a0468d2f0b8f7cbe356816079d0093b6590ef35", "url": "https://github.com/Azure/azure-sdk-for-java/commit/7a0468d2f0b8f7cbe356816079d0093b6590ef35", "message": "Fix: use 'getHeader' instead of 'getAttribute'.", "committedDate": "2020-09-22T05:32:12Z", "type": "commit"}, {"oid": "f92cd968494b8f13db1ad199d76346b1089c96c9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f92cd968494b8f13db1ad199d76346b1089c96c9", "message": "Move 'bearer' constant to Constants.java.", "committedDate": "2020-09-22T05:42:38Z", "type": "commit"}, {"oid": "33bc4075f52fb743ff878b29ea1a7262e0cd57ee", "url": "https://github.com/Azure/azure-sdk-for-java/commit/33bc4075f52fb743ff878b29ea1a7262e0cd57ee", "message": "No logic change, just format code.", "committedDate": "2020-09-22T05:48:35Z", "type": "commit"}, {"oid": "c4ec7473efdcdcab4642fd764bd64a82ff126655", "url": "https://github.com/Azure/azure-sdk-for-java/commit/c4ec7473efdcdcab4642fd764bd64a82ff126655", "message": "Add a whitespace at the end of 'Bearer'.", "committedDate": "2020-09-22T05:51:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ5NjMzOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15362#discussion_r492496338", "bodyText": "Do we need to add some verification logic here?", "author": "saragluna", "createdAt": "2020-09-22T06:21:47Z", "path": "sdk/spring/azure-spring-boot/src/test/java/com/microsoft/azure/spring/autoconfigure/aad/AADAppRoleAuthenticationFilterTest.java", "diffHunk": "@@ -105,8 +105,8 @@ public void testDoFilterGoodCase()\n         assertNull(\"Authentication has not been cleaned up!\", SecurityContextHolder.getContext().getAuthentication());\n     }\n \n-    @Test(expected = ServletException.class)\n-    public void testDoFilterShouldRethrowJWTException()\n+    @Test\n+    public void testDoFilterShouldNotRethrowJWTException()", "originalCommit": "c4ec7473efdcdcab4642fd764bd64a82ff126655", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUxMDcyMA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/15362#discussion_r492510720", "bodyText": "Updated.", "author": "chenrujun", "createdAt": "2020-09-22T06:56:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjQ5NjMzOA=="}], "type": "inlineReview"}, {"oid": "00c6919952cd5ec4c928697a4c9e985054776219", "url": "https://github.com/Azure/azure-sdk-for-java/commit/00c6919952cd5ec4c928697a4c9e985054776219", "message": "Check the status of response in unit test.", "committedDate": "2020-09-22T06:46:39Z", "type": "commit"}, {"oid": "d0cb9c310fe47d9fbd390d6fa9855ed713347f8d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/d0cb9c310fe47d9fbd390d6fa9855ed713347f8d", "message": "Update method name of unit test.", "committedDate": "2020-09-22T06:49:42Z", "type": "commit"}]}