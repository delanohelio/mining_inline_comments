{"pr_number": 14536, "pr_title": "Add createTableIfNotExists methods to clients", "pr_createdAt": "2020-08-27T23:01:45Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/14536", "timeline": [{"oid": "f1fc6923cf7e1a8c6a0b243d62c5a6d77bb967e0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/f1fc6923cf7e1a8c6a0b243d62c5a6d77bb967e0", "message": "Add createIfNotExists to TableServiceClients", "committedDate": "2020-08-29T00:00:13Z", "type": "forcePushed"}, {"oid": "2a6b56d9084a2ad47f9328f5c29f87ecdb9602c0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2a6b56d9084a2ad47f9328f5c29f87ecdb9602c0", "message": "Add createIfNotExists to TableServiceClients", "committedDate": "2020-08-29T00:47:27Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3MDk1Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14536#discussion_r480270953", "bodyText": "I believe the throw should be here", "author": "conniey", "createdAt": "2020-08-31T17:14:57Z", "path": "sdk/tables/azure-data-tables/src/main/java/com/azure/data/tables/implementation/TablesModelHelper.java", "diffHunk": "@@ -0,0 +1,115 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+package com.azure.data.tables.implementation;\n+\n+import com.azure.core.util.logging.ClientLogger;\n+import com.azure.data.tables.implementation.models.TableResponseProperties;\n+import com.azure.data.tables.models.TableEntity;\n+import com.azure.data.tables.models.TableItem;\n+\n+import java.time.OffsetDateTime;\n+import java.util.Objects;\n+\n+/**\n+ * Used to access internal methods on models.\n+ */\n+public final class TablesModelHelper {\n+    private static EntityAccessor entityAccessor;\n+    private static ItemCreator itemCreator;\n+\n+    static {\n+        // Force classes' static blocks to execute\n+        try {\n+            Class.forName(TableEntity.class.getName(), true, TableEntity.class.getClassLoader());\n+            Class.forName(TableItem.class.getName(), true, TableItem.class.getClassLoader());\n+        } catch (ClassNotFoundException e) {\n+            AssertionError err = new AssertionError(\"Failed to initialize TablesModelHelper dependency classes.\", e);\n+            new ClientLogger(TablesModelHelper.class).logThrowableAsError(err);", "originalCommit": "2a6b56d9084a2ad47f9328f5c29f87ecdb9602c0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3Mjk4OQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14536#discussion_r480272989", "bodyText": "That's how it was before but it causes a SpotBugs error. Apparently, a throw block inside a static initializer must throw an AssertionError. However the return type of logThrowableAsError is Throwable. So it complains about an unchecked cast. Since logThrowableAsError just takes a throwable, logs it, and returns the same throwable, I felt this was a better way rather than suppressing the unchecked cast warning.", "author": "bsiegel", "createdAt": "2020-08-31T17:19:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI3MDk1Mw=="}], "type": "inlineReview"}, {"oid": "72caebceadfa1a5f5fb3dc36d8c36ba30e30022d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/72caebceadfa1a5f5fb3dc36d8c36ba30e30022d", "message": "Add createIfNotExists to TableServiceClients", "committedDate": "2020-08-31T17:35:29Z", "type": "commit"}, {"oid": "72caebceadfa1a5f5fb3dc36d8c36ba30e30022d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/72caebceadfa1a5f5fb3dc36d8c36ba30e30022d", "message": "Add createIfNotExists to TableServiceClients", "committedDate": "2020-08-31T17:35:29Z", "type": "forcePushed"}]}