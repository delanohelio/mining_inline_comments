{"pr_number": 14341, "pr_title": "api(adt): Add API design doc for relationship APIs", "pr_createdAt": "2020-08-21T16:56:25Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/14341", "timeline": [{"oid": "1db610783613fcdb12dd2da98942e460bc3e4b25", "url": "https://github.com/Azure/azure-sdk-for-java/commit/1db610783613fcdb12dd2da98942e460bc3e4b25", "message": "api(adt): Add API design doc for relationship APIs", "committedDate": "2020-08-21T16:40:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgzNzgyOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14341#discussion_r474837828", "bodyText": "What is the semaphore for?", "author": "drwill-ms", "createdAt": "2020-08-21T17:41:31Z", "path": "sdk/digitaltwins/azure-digitaltwins-core/src/samples/java/com/azure/digitaltwins/core/AsyncSample.java", "diffHunk": "@@ -27,16 +38,107 @@ public static void main(String[] args) throws InterruptedException\n         DigitalTwinsAsyncClient client = new DigitalTwinsClientBuilder()\n             .tokenCredential(tokenCredential)\n             .endpoint(endpoint)\n+            .httpLogOptions(\n+                new HttpLogOptions()\n+                    .setLogLevel(HttpLogDetailLevel.BODY_AND_HEADERS))\n             .buildAsyncClient();\n \n-        Mono<DigitalTwinsGetByIdResponse> asyncResponse = client.getDigitalTwin(digitalTwinId);\n+        // Create the source and target twins\n+        final Semaphore createTwinsSemaphore = new Semaphore(0);", "originalCommit": "1db610783613fcdb12dd2da98942e460bc3e4b25", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgzOTMyNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14341#discussion_r474839324", "bodyText": "I gather that is how continuation is known when an \"async\" method is complete. That must be standard, eh?", "author": "drwill-ms", "createdAt": "2020-08-21T17:44:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgzNzgyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDg4OTAzNA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/14341#discussion_r474889034", "bodyText": "yeah, since you subscribe to these async APIs, the calling thread will resume irrespective of the state of the async API call.\nSince our subsequent operations are dependent on the previous operations, we have to \"block\" the thread until the async call completes.", "author": "abhipsaMisra", "createdAt": "2020-08-21T19:24:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDgzNzgyOA=="}], "type": "inlineReview"}, {"oid": "a0c6b7b1ad39b2c0536a7782d78113009fc7c532", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a0c6b7b1ad39b2c0536a7782d78113009fc7c532", "message": "cr comments", "committedDate": "2020-08-21T19:26:06Z", "type": "commit"}, {"oid": "943f920c5a0b33b3f35cd6ac3d47e643b25ed2c6", "url": "https://github.com/Azure/azure-sdk-for-java/commit/943f920c5a0b33b3f35cd6ac3d47e643b25ed2c6", "message": "build failure fixed in sample", "committedDate": "2020-08-21T19:34:56Z", "type": "commit"}, {"oid": "05cc3c0f390cde4ead8acf744e79822c4b7d4938", "url": "https://github.com/Azure/azure-sdk-for-java/commit/05cc3c0f390cde4ead8acf744e79822c4b7d4938", "message": "adding group ID again", "committedDate": "2020-08-21T20:33:45Z", "type": "commit"}]}