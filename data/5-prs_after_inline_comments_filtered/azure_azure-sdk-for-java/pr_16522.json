{"pr_number": 16522, "pr_title": "Identity Device Code , Client Certificate and VS Code Credential updates", "pr_createdAt": "2020-10-19T17:57:07Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/16522", "timeline": [{"oid": "066a906c2f5bcf9a9955bc0bca790b17c282e7c1", "url": "https://github.com/Azure/azure-sdk-for-java/commit/066a906c2f5bcf9a9955bc0bca790b17c282e7c1", "message": "update code", "committedDate": "2020-10-19T17:55:49Z", "type": "commit"}, {"oid": "2bd7b0395e45eebbdd818df3af8b4945789a068a", "url": "https://github.com/Azure/azure-sdk-for-java/commit/2bd7b0395e45eebbdd818df3af8b4945789a068a", "message": "address Client Certificate Credential feedback", "committedDate": "2020-10-30T17:48:53Z", "type": "commit"}, {"oid": "669e4741edda475cc5bb748116601308ca006f79", "url": "https://github.com/Azure/azure-sdk-for-java/commit/669e4741edda475cc5bb748116601308ca006f79", "message": "Merge remote-tracking branch 'upstream/master' into identity-device-and-vscode-cred-updates-oct-2020", "committedDate": "2020-10-30T17:53:34Z", "type": "commit"}, {"oid": "da2fd877c624b7f9645b2334aa9c64eaf3a9be7b", "url": "https://github.com/Azure/azure-sdk-for-java/commit/da2fd877c624b7f9645b2334aa9c64eaf3a9be7b", "message": "Fix spotbugs", "committedDate": "2020-10-30T18:06:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMyNDgzNQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16522#discussion_r515324835", "bodyText": "Single sign on ID? This is the client ID of Azure CLI.", "author": "jianghaolu", "createdAt": "2020-10-30T19:21:20Z", "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/util/IdentityConstants.java", "diffHunk": "@@ -0,0 +1,11 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.identity.implementation.util;\n+\n+public class IdentityConstants {\n+    /**\n+     * The Single Sign On ID.\n+     */\n+    public static final String DEVELOPER_SINGLE_SIGN_ON_ID = \"04b07795-8ddb-461a-bbee-02f9e1bf7b46\";", "originalCommit": "da2fd877c624b7f9645b2334aa9c64eaf3a9be7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM1MTQ1Mw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16522#discussion_r515351453", "bodyText": "Yeah the CLI ID is being used temporarily here in other languages too, until we get official single sign on Client Id.", "author": "g2vinay", "createdAt": "2020-10-30T20:08:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMyNDgzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMyNTIzMw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16522#discussion_r515325233", "bodyText": "Why not use Throwable?", "author": "jianghaolu", "createdAt": "2020-10-30T19:22:12Z", "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/VisualStudioCacheAccessor.java", "diffHunk": "@@ -131,7 +131,7 @@ public String getCredentials(String serviceName, String accountName) {\n \n                 byte[] readCreds = keyRingAccessor.read();\n                 credential = new String(readCreds, StandardCharsets.UTF_8);\n-            } catch (Exception e) {\n+            } catch (Exception | UnsatisfiedLinkError e) {", "originalCommit": "da2fd877c624b7f9645b2334aa9c64eaf3a9be7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM1MDg2MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16522#discussion_r515350860", "bodyText": "Throwable will work too, but didn't want to aggressively block other Error types which may qualify to fail the credential.", "author": "g2vinay", "createdAt": "2020-10-30T20:07:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTMyNTIzMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY4OTk1MA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16522#discussion_r515689950", "bodyText": "For internal consistency you should consider changing the name on the identityClientOptions too", "author": "JonathanGiles", "createdAt": "2020-11-01T23:49:31Z", "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/ClientCertificateCredentialBuilder.java", "diffHunk": "@@ -99,11 +97,12 @@ ClientCertificateCredentialBuilder enablePersistentCache() {\n      * Specifies if the x5c claim (public key of the certificate) should be sent as part of the authentication request\n      * and enable subject name / issuer based authentication. The default value is false.\n      *\n-     * @param includeX5c the flag to indicate if x5c should be sent as part of authentication request.\n+     * @param sendCertificateChain the flag to indicate if certificate chain should be sent as part of authentication\n+     * request.\n      * @return An updated instance of this builder.\n      */\n-    public ClientCertificateCredentialBuilder includeX5c(boolean includeX5c) {\n-        this.identityClientOptions.setIncludeX5c(includeX5c);\n+    public ClientCertificateCredentialBuilder sendCertificateChain(boolean sendCertificateChain) {\n+        this.identityClientOptions.setIncludeX5c(sendCertificateChain);", "originalCommit": "da2fd877c624b7f9645b2334aa9c64eaf3a9be7b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY5MDk1NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/16522#discussion_r515690954", "bodyText": "I would expect all strings going into logs would refer to it as \"VS Code\"?", "author": "JonathanGiles", "createdAt": "2020-11-01T23:59:05Z", "path": "sdk/identity/azure-identity/src/main/java/com/azure/identity/implementation/VisualStudioCacheAccessor.java", "diffHunk": "@@ -131,7 +131,7 @@ public String getCredentials(String serviceName, String accountName) {\n \n                 byte[] readCreds = keyRingAccessor.read();\n                 credential = new String(readCreds, StandardCharsets.UTF_8);\n-            } catch (Exception e) {\n+            } catch (Exception | UnsatisfiedLinkError e) {\n                 throw logger.logExceptionAsError(new CredentialUnavailableException(\n                         \"Failed to read Vs Code credentials from Linux Key Ring.\", e));", "originalCommit": "da2fd877c624b7f9645b2334aa9c64eaf3a9be7b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}