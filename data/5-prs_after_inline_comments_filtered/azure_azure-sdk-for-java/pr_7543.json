{"pr_number": 7543, "pr_title": "Added ability to rename across file systems", "pr_createdAt": "2020-01-17T21:57:28Z", "pr_url": "https://github.com/Azure/azure-sdk-for-java/pull/7543", "timeline": [{"oid": "8a4fae1d3e7723c7d09035c9e5f346043764e7fa", "url": "https://github.com/Azure/azure-sdk-for-java/commit/8a4fae1d3e7723c7d09035c9e5f346043764e7fa", "message": "Added ability to rename across file systems", "committedDate": "2020-01-17T21:56:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE1MzM5Mg==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7543#discussion_r368153392", "bodyText": "change to destinationFileSystem", "author": "gapra-msft", "createdAt": "2020-01-17T21:58:13Z", "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakeDirectoryAsyncClient.java", "diffHunk": "@@ -424,10 +428,11 @@ public DataLakeDirectoryAsyncClient getSubdirectoryAsyncClient(String subdirecto\n      * @return A {@link Mono} containing a {@link Response} whose {@link Response#getValue() value} contains a {@link\n      * DataLakeDirectoryAsyncClient} used to interact with the directory created.\n      */\n-    public Mono<Response<DataLakeDirectoryAsyncClient>> renameWithResponse(String destinationPath,\n-        DataLakeRequestConditions sourceRequestConditions, DataLakeRequestConditions destinationRequestConditions) {\n+    public Mono<Response<DataLakeDirectoryAsyncClient>> renameWithResponse(String fileSystemName,", "originalCommit": "8a4fae1d3e7723c7d09035c9e5f346043764e7fa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ca2ab17fdd0637b6b64ff8b5689334d4772668a9", "url": "https://github.com/Azure/azure-sdk-for-java/commit/ca2ab17fdd0637b6b64ff8b5689334d4772668a9", "message": "renamed param", "committedDate": "2020-01-17T21:59:42Z", "type": "commit"}, {"oid": "6e9d8e547289cce5a6a460a7413fe59b1d9e89d0", "url": "https://github.com/Azure/azure-sdk-for-java/commit/6e9d8e547289cce5a6a460a7413fe59b1d9e89d0", "message": "Fixed line length", "committedDate": "2020-01-17T22:16:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE1OTUyOA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7543#discussion_r368159528", "bodyText": "Any reason this comment doesn't state that null will use the current file system as the other comments have?", "author": "alzimmermsft", "createdAt": "2020-01-17T22:18:34Z", "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakePathAsyncClient.java", "diffHunk": "@@ -676,17 +676,22 @@ public DataLakeServiceVersion getServiceVersion() {\n     /**\n      * Package-private rename method for use by {@link DataLakeFileAsyncClient} and {@link DataLakeDirectoryAsyncClient}\n      *\n+     * @param destinationFileSystem The file system of the destination within the account.", "originalCommit": "ca2ab17fdd0637b6b64ff8b5689334d4772668a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE2MTI3NA==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7543#discussion_r368161274", "bodyText": "It's internal so I didn't bother changing it, I can change it though.", "author": "gapra-msft", "createdAt": "2020-01-17T22:23:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE1OTUyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE2MDI3Nw==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7543#discussion_r368160277", "bodyText": "Any reason this doesn't default destinationFileSystem to the current file system? Looks like renameWithResponse will pass the current file system as the destinationFileSystem value. Seems odd to allow null in one case and not in another very similar case.", "author": "alzimmermsft", "createdAt": "2020-01-17T22:21:03Z", "path": "sdk/storage/azure-storage-file-datalake/src/main/java/com/azure/storage/file/datalake/DataLakePathAsyncClient.java", "diffHunk": "@@ -719,32 +724,38 @@ public DataLakeServiceVersion getServiceVersion() {\n     }\n \n     /**\n-     * Takes in a destination path and creates a DataLakePathAsyncClient with a new path name\n+     * Takes in a destination and creates a DataLakePathAsyncClient with a new path\n+     * @param destinationFileSystem The destination file system\n      * @param destinationPath The destination path\n      * @return A DataLakePathAsyncClient\n      */\n-    DataLakePathAsyncClient getPathAsyncClient(String destinationPath) {\n+    DataLakePathAsyncClient getPathAsyncClient(String destinationFileSystem, String destinationPath) {\n+        if (CoreUtils.isNullOrEmpty(destinationFileSystem)) {\n+            throw logger.logExceptionAsError(new IllegalArgumentException(", "originalCommit": "ca2ab17fdd0637b6b64ff8b5689334d4772668a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE2MTM1NQ==", "url": "https://github.com/Azure/azure-sdk-for-java/pull/7543#discussion_r368161355", "bodyText": "Sure, I can change that", "author": "gapra-msft", "createdAt": "2020-01-17T22:24:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE2MDI3Nw=="}], "type": "inlineReview"}, {"oid": "bb40887afaab7e2abc18b8422ec21f61b6232ced", "url": "https://github.com/Azure/azure-sdk-for-java/commit/bb40887afaab7e2abc18b8422ec21f61b6232ced", "message": "moved null checks", "committedDate": "2020-01-17T22:26:37Z", "type": "commit"}, {"oid": "807d0f4343507bb51788e02eb16e5b4dcafd3635", "url": "https://github.com/Azure/azure-sdk-for-java/commit/807d0f4343507bb51788e02eb16e5b4dcafd3635", "message": "Added null param", "committedDate": "2020-01-17T22:45:07Z", "type": "commit"}, {"oid": "a0f415450f238e243ec2f76faa2eb16c9545f9cb", "url": "https://github.com/Azure/azure-sdk-for-java/commit/a0f415450f238e243ec2f76faa2eb16c9545f9cb", "message": "Changed line length in samples", "committedDate": "2020-01-17T23:00:24Z", "type": "commit"}, {"oid": "603c499e6268307d1c485f480cf3fb430095012f", "url": "https://github.com/Azure/azure-sdk-for-java/commit/603c499e6268307d1c485f480cf3fb430095012f", "message": "changed version", "committedDate": "2020-01-17T23:05:04Z", "type": "commit"}, {"oid": "12f91f40330219eb6c924865ef410aab17086d09", "url": "https://github.com/Azure/azure-sdk-for-java/commit/12f91f40330219eb6c924865ef410aab17086d09", "message": "Changed line length", "committedDate": "2020-01-17T23:23:04Z", "type": "commit"}, {"oid": "0731138a4ed9cd1fa38ce40fdbde6cda124a298d", "url": "https://github.com/Azure/azure-sdk-for-java/commit/0731138a4ed9cd1fa38ce40fdbde6cda124a298d", "message": "Merge branch 'master' into storage/datalakeMoveFileSystem", "committedDate": "2020-01-22T00:34:40Z", "type": "commit"}]}