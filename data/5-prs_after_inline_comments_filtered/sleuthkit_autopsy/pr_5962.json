{"pr_number": 5962, "pr_title": "6453 persona required fields", "pr_createdAt": "2020-06-09T18:56:00Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/5962", "timeline": [{"oid": "c8e60d55fa0dc6ef50428a8a0e24b8a106f7ec59", "url": "https://github.com/sleuthkit/autopsy/commit/c8e60d55fa0dc6ef50428a8a0e24b8a106f7ec59", "message": "6390 persona searching by account", "committedDate": "2020-06-08T22:24:55Z", "type": "commit"}, {"oid": "877a07667d6e91e9a8a1cb6f3d0f31d0119949f6", "url": "https://github.com/sleuthkit/autopsy/commit/877a07667d6e91e9a8a1cb6f3d0f31d0119949f6", "message": "6390 PR comment", "committedDate": "2020-06-08T22:55:58Z", "type": "commit"}, {"oid": "8b01f3b86b6c9c5eacc090c5982cf73c11e97cfe", "url": "https://github.com/sleuthkit/autopsy/commit/8b01f3b86b6c9c5eacc090c5982cf73c11e97cfe", "message": "6390 remove setPersonaName", "committedDate": "2020-06-09T14:30:53Z", "type": "commit"}, {"oid": "9167850b18f6869e9e41c400c113a763959aee04", "url": "https://github.com/sleuthkit/autopsy/commit/9167850b18f6869e9e41c400c113a763959aee04", "message": "6453 Persona justification required", "committedDate": "2020-06-09T18:50:30Z", "type": "commit"}, {"oid": "70e3579104e4d0c56ed4bce6658c9934fa59d812", "url": "https://github.com/sleuthkit/autopsy/commit/70e3579104e4d0c56ed4bce6658c9934fa59d812", "message": "Merge remote-tracking branch 'sleuthkit/develop' into 6453_persona_required_fields", "committedDate": "2020-06-09T18:55:27Z", "type": "commit"}, {"oid": "ccde487976f705eaf1ae7ada1032db32f0fa6ba0", "url": "https://github.com/sleuthkit/autopsy/commit/ccde487976f705eaf1ae7ada1032db32f0fa6ba0", "message": "Merge remote-tracking branch 'sleuthkit/develop' into 6453_persona_required_fields", "committedDate": "2020-06-10T17:40:38Z", "type": "commit"}, {"oid": "187d333a4b887fe8c5702e349d248f6d2cba12ee", "url": "https://github.com/sleuthkit/autopsy/commit/187d333a4b887fe8c5702e349d248f6d2cba12ee", "message": "Merge remote-tracking branch 'sleuthkit/develop' into 6453_persona_required_fields", "committedDate": "2020-06-11T15:13:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODkxMDg5Mg==", "url": "https://github.com/sleuthkit/autopsy/pull/5962#discussion_r438910892", "bodyText": "Check for null.  This might be from another PR.", "author": "raman-bt", "createdAt": "2020-06-11T16:19:11Z", "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "diffHunk": "@@ -392,6 +392,34 @@ private static Persona getPersonaByUUID(String uuid) throws CentralRepoException\n         return queryCallback.getPersonas();\n     }\n     \n+    /**\n+     * Gets the rows from the Personas table where persona accounts' names are\n+     * similar to the given one. Persona marked as DELETED are not returned.\n+     *\n+     * @param partialName Name substring to match.\n+     * @return Collection of personas matching the given name substring, may be\n+     * empty if no match is found.\n+     *\n+     * @throws CentralRepoException If there is an error in querying the\n+     * Personas table.\n+     */\n+    public static Collection<Persona> getPersonaByAccountIdentifierLike(String partialName) throws CentralRepoException {\n+        String queryClause = \"SELECT DISTINCT accounts.id as a_id,\"\n+                + \"p.id, p.uuid, p.name, p.comment, p.created_date, p.modified_date, p.status_id, p.examiner_id, e.login_name, e.display_name\"\n+                + \" FROM accounts\"\n+                + \" JOIN persona_accounts as pa ON pa.account_id = accounts.id\"\n+                + \" JOIN personas as p ON p.id = pa.persona_id\"\n+                + \" JOIN examiners as e ON e.id = p.examiner_id\"\n+                + \" WHERE LOWER(accounts.account_unique_identifier) LIKE LOWER('%\" + partialName + \"%')\"\n+                + \" AND p.status_id != \" + Persona.PersonaStatus.DELETED.getStatusId()\n+                + \" GROUP BY p.id\";\n+\n+        PersonaQueryCallback queryCallback = new PersonaQueryCallback();\n+        CentralRepository.getInstance().executeSelectSQL(queryClause, queryCallback);", "originalCommit": "187d333a4b887fe8c5702e349d248f6d2cba12ee", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "18ee6d8fd9810277f8c0002950b103eef03b21f5", "url": "https://github.com/sleuthkit/autopsy/commit/18ee6d8fd9810277f8c0002950b103eef03b21f5", "message": "Merge branch 'develop' into 6453_persona_required_fields", "committedDate": "2020-06-11T17:34:34Z", "type": "commit"}, {"oid": "0f161c057cff70c447ef3f45a7d2575b21b38f68", "url": "https://github.com/sleuthkit/autopsy/commit/0f161c057cff70c447ef3f45a7d2575b21b38f68", "message": "6453: PR comment", "committedDate": "2020-06-11T17:37:56Z", "type": "commit"}, {"oid": "de8af75d61bf2ab4e86a3797bcdf3d09b796feac", "url": "https://github.com/sleuthkit/autopsy/commit/de8af75d61bf2ab4e86a3797bcdf3d09b796feac", "message": "Merge branch '6453_persona_required_fields' of github.com:ethteck/autopsy into 6453_persona_required_fields", "committedDate": "2020-06-11T17:38:03Z", "type": "commit"}]}