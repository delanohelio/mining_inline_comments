{"pr_number": 5964, "pr_title": "Solr4 and solr8", "pr_createdAt": "2020-06-10T15:07:25Z", "pr_url": "https://github.com/sleuthkit/autopsy/pull/5964", "timeline": [{"oid": "d3ba5f6d8295f62a59f10249ef3eea7e3ec429db", "url": "https://github.com/sleuthkit/autopsy/commit/d3ba5f6d8295f62a59f10249ef3eea7e3ec429db", "message": "Merge pull request #5376 from sleuthkit/develop\n\nMerge develop branch into solr-8-upgrade branch", "committedDate": "2019-10-28T14:03:14Z", "type": "commit"}, {"oid": "8aff4230dd226bb713365b49939a4b138652b026", "url": "https://github.com/sleuthkit/autopsy/commit/8aff4230dd226bb713365b49939a4b138652b026", "message": "First cut at Solr 8 support", "committedDate": "2019-10-31T20:45:40Z", "type": "commit"}, {"oid": "929806d37e3a1a752d8a0c7886aaf5e6e8c67a4e", "url": "https://github.com/sleuthkit/autopsy/commit/929806d37e3a1a752d8a0c7886aaf5e6e8c67a4e", "message": "More work", "committedDate": "2019-11-04T22:17:09Z", "type": "commit"}, {"oid": "db062b6e03bf3168fd8d040f9a906af0c16923d3", "url": "https://github.com/sleuthkit/autopsy/commit/db062b6e03bf3168fd8d040f9a906af0c16923d3", "message": "Merge pull request #5402 from sleuthkit/develop\n\nMerge develop branch into solr8-upgrade branch", "committedDate": "2019-11-06T21:31:57Z", "type": "commit"}, {"oid": "c83c13d8dca6033f4f221c2ce12a522b4195bc4b", "url": "https://github.com/sleuthkit/autopsy/commit/c83c13d8dca6033f4f221c2ce12a522b4195bc4b", "message": "Got embedded Solr server to work", "committedDate": "2019-11-11T15:22:46Z", "type": "commit"}, {"oid": "aa028edd6c76979210d18ac4f1caafdd3014e2ba", "url": "https://github.com/sleuthkit/autopsy/commit/aa028edd6c76979210d18ac4f1caafdd3014e2ba", "message": "Merge branch 'solr-8-upgrade' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2019-11-11T15:24:53Z", "type": "commit"}, {"oid": "b90f164117da5bc9805ebb7056e645610e9ad9b5", "url": "https://github.com/sleuthkit/autopsy/commit/b90f164117da5bc9805ebb7056e645610e9ad9b5", "message": "Merge pull request #5415 from sleuthkit/develop\n\nMerge develop branch into solr-8 upgrade branch", "committedDate": "2019-11-14T15:09:20Z", "type": "commit"}, {"oid": "30e8655e7995454cbb0b9da0eeba8caee977d6a5", "url": "https://github.com/sleuthkit/autopsy/commit/30e8655e7995454cbb0b9da0eeba8caee977d6a5", "message": "More work", "committedDate": "2019-11-15T19:30:17Z", "type": "commit"}, {"oid": "6cd4ba3f8592779dd265b40958c27cf1e2f4c8fe", "url": "https://github.com/sleuthkit/autopsy/commit/6cd4ba3f8592779dd265b40958c27cf1e2f4c8fe", "message": "Merged develop", "committedDate": "2019-11-15T19:52:35Z", "type": "commit"}, {"oid": "86548bbab5eb367259fd9bab66e5a1eab029472d", "url": "https://github.com/sleuthkit/autopsy/commit/86548bbab5eb367259fd9bab66e5a1eab029472d", "message": "Using collections API for everything instead of cores API", "committedDate": "2019-11-21T19:01:58Z", "type": "commit"}, {"oid": "4af49dc6ad9a47f94c393c30adf4d3c4c097525a", "url": "https://github.com/sleuthkit/autopsy/commit/4af49dc6ad9a47f94c393c30adf4d3c4c097525a", "message": "Merge pull request #5445 from sleuthkit/develop\n\nMerge develop branch onto solr-8-upgrade branch", "committedDate": "2019-11-22T21:16:49Z", "type": "commit"}, {"oid": "3438e331f454144cd6fad3999ba8f7b5ae916d71", "url": "https://github.com/sleuthkit/autopsy/commit/3438e331f454144cd6fad3999ba8f7b5ae916d71", "message": "work on embedded solr", "committedDate": "2019-11-26T16:24:32Z", "type": "commit"}, {"oid": "4d368a970d411fde3be4a02a715c34fe692fc8dd", "url": "https://github.com/sleuthkit/autopsy/commit/4d368a970d411fde3be4a02a715c34fe692fc8dd", "message": "Merge branch 'solr-8-upgrade' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2019-11-26T20:09:33Z", "type": "commit"}, {"oid": "3e9d729f1be7e6775fca9e749cdee0960a6540e3", "url": "https://github.com/sleuthkit/autopsy/commit/3e9d729f1be7e6775fca9e749cdee0960a6540e3", "message": "Fixed embedded Solr shutdown issue", "committedDate": "2019-11-26T20:53:31Z", "type": "commit"}, {"oid": "67dc73a02de91ea638c81199c75de66da3b16dad", "url": "https://github.com/sleuthkit/autopsy/commit/67dc73a02de91ea638c81199c75de66da3b16dad", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2019-11-27T19:06:29Z", "type": "commit"}, {"oid": "b44e55624241b4c6ee721c8ee4c8fff42f8069ac", "url": "https://github.com/sleuthkit/autopsy/commit/b44e55624241b4c6ee721c8ee4c8fff42f8069ac", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2019-11-27T22:01:31Z", "type": "commit"}, {"oid": "1758d1e2fb5a53f23db9c16e4e4e3ce0139bb07b", "url": "https://github.com/sleuthkit/autopsy/commit/1758d1e2fb5a53f23db9c16e4e4e3ce0139bb07b", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2019-12-09T20:45:49Z", "type": "commit"}, {"oid": "f8bd9b4bf057902445bb7e22f7f0e63c40b37e50", "url": "https://github.com/sleuthkit/autopsy/commit/f8bd9b4bf057902445bb7e22f7f0e63c40b37e50", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2019-12-12T16:34:56Z", "type": "commit"}, {"oid": "d215c3a46e4cc5cd2da0380b245585deb7235220", "url": "https://github.com/sleuthkit/autopsy/commit/d215c3a46e4cc5cd2da0380b245585deb7235220", "message": "Embedded solr work", "committedDate": "2019-12-16T19:39:06Z", "type": "commit"}, {"oid": "58b3055cd93639b7b5349d83feba49d96ca899a3", "url": "https://github.com/sleuthkit/autopsy/commit/58b3055cd93639b7b5349d83feba49d96ca899a3", "message": "More work on embedded server", "committedDate": "2019-12-16T21:53:02Z", "type": "commit"}, {"oid": "4645f07d18435fe4106e39e6fb868bcee116baaa", "url": "https://github.com/sleuthkit/autopsy/commit/4645f07d18435fe4106e39e6fb868bcee116baaa", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2019-12-18T16:14:30Z", "type": "commit"}, {"oid": "82badf54c2909bc30fbae6486841d9b5cba97af4", "url": "https://github.com/sleuthkit/autopsy/commit/82badf54c2909bc30fbae6486841d9b5cba97af4", "message": "Fixed SU core unloading and reloading issues", "committedDate": "2019-12-18T23:13:18Z", "type": "commit"}, {"oid": "2a49364df2df50f56d4967bb7674bd0f1a4bde07", "url": "https://github.com/sleuthkit/autopsy/commit/2a49364df2df50f56d4967bb7674bd0f1a4bde07", "message": "Polishing", "committedDate": "2019-12-19T17:50:28Z", "type": "commit"}, {"oid": "e84dfea1ba3e0fe768b2fe6344910bb3fc7f233b", "url": "https://github.com/sleuthkit/autopsy/commit/e84dfea1ba3e0fe768b2fe6344910bb3fc7f233b", "message": "Polishing", "committedDate": "2019-12-19T17:50:56Z", "type": "commit"}, {"oid": "31301c4d91fb159252ec1efbf9ce3655daf4cb3f", "url": "https://github.com/sleuthkit/autopsy/commit/31301c4d91fb159252ec1efbf9ce3655daf4cb3f", "message": "Testing loading MU cores", "committedDate": "2020-01-08T16:10:02Z", "type": "commit"}, {"oid": "52a42b59a8402772abdf95bb915330297ad09940", "url": "https://github.com/sleuthkit/autopsy/commit/52a42b59a8402772abdf95bb915330297ad09940", "message": "Merge branch 'release-4.14.0' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-01-08T18:46:45Z", "type": "commit"}, {"oid": "22d01ec0917bed7a861bc9370b21c854bcf1783c", "url": "https://github.com/sleuthkit/autopsy/commit/22d01ec0917bed7a861bc9370b21c854bcf1783c", "message": "No longer re-loading MU cores", "committedDate": "2020-01-08T20:34:58Z", "type": "commit"}, {"oid": "a4a398e97ee058e1a37365ed86116c1be90777a4", "url": "https://github.com/sleuthkit/autopsy/commit/a4a398e97ee058e1a37365ed86116c1be90777a4", "message": "Changes to how Autopsy Java is found", "committedDate": "2020-01-09T20:01:46Z", "type": "commit"}, {"oid": "d97a11e60b446fe62c33e5d23397efc50a0428c5", "url": "https://github.com/sleuthkit/autopsy/commit/d97a11e60b446fe62c33e5d23397efc50a0428c5", "message": "Fix for embedded Solr AutopsyConfig", "committedDate": "2020-01-10T20:07:34Z", "type": "commit"}, {"oid": "e69862eded87353ec5973d0e969e6b5e25b7c7d0", "url": "https://github.com/sleuthkit/autopsy/commit/e69862eded87353ec5973d0e969e6b5e25b7c7d0", "message": "Merge branch 'release-4.14.0' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-01-19T22:46:56Z", "type": "commit"}, {"oid": "69c666d29bcc90787b2a2b90e86d8ef705f4a156", "url": "https://github.com/sleuthkit/autopsy/commit/69c666d29bcc90787b2a2b90e86d8ef705f4a156", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-01-21T17:47:20Z", "type": "commit"}, {"oid": "892c088e163b0d37e45a1e1332b90f1791c468bc", "url": "https://github.com/sleuthkit/autopsy/commit/892c088e163b0d37e45a1e1332b90f1791c468bc", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-01-22T19:39:26Z", "type": "commit"}, {"oid": "3d547dd6e67b3044b464aee8e582aac2f3d65f11", "url": "https://github.com/sleuthkit/autopsy/commit/3d547dd6e67b3044b464aee8e582aac2f3d65f11", "message": "Fix for memory leak", "committedDate": "2020-01-23T15:28:19Z", "type": "commit"}, {"oid": "99e4973c0a1366bc14438f275be57113bd9587d5", "url": "https://github.com/sleuthkit/autopsy/commit/99e4973c0a1366bc14438f275be57113bd9587d5", "message": "minor", "committedDate": "2020-01-24T21:53:53Z", "type": "commit"}, {"oid": "37120f47c17f05a46f7b5061ed2a3e5fb48faff2", "url": "https://github.com/sleuthkit/autopsy/commit/37120f47c17f05a46f7b5061ed2a3e5fb48faff2", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-01-27T18:22:43Z", "type": "commit"}, {"oid": "c386d79a75794775472a4b2ff4e2542bddc49614", "url": "https://github.com/sleuthkit/autopsy/commit/c386d79a75794775472a4b2ff4e2542bddc49614", "message": "Added re-tries", "committedDate": "2020-02-04T18:03:47Z", "type": "commit"}, {"oid": "fdacbe1387f3c4471c434e2f012fee98ed6cc9b3", "url": "https://github.com/sleuthkit/autopsy/commit/fdacbe1387f3c4471c434e2f012fee98ed6cc9b3", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-02-04T19:53:21Z", "type": "commit"}, {"oid": "1ce5a59aedbe8a81d934d5ae1f057c7b0e5bebac", "url": "https://github.com/sleuthkit/autopsy/commit/1ce5a59aedbe8a81d934d5ae1f057c7b0e5bebac", "message": "Specifying index directory again", "committedDate": "2020-02-05T17:50:14Z", "type": "commit"}, {"oid": "ab2456cddd47e58544402130fb8e6193d583b733", "url": "https://github.com/sleuthkit/autopsy/commit/ab2456cddd47e58544402130fb8e6193d583b733", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-02-05T20:06:08Z", "type": "commit"}, {"oid": "c82ac72d9df194ecd514337757dde6037ce3f788", "url": "https://github.com/sleuthkit/autopsy/commit/c82ac72d9df194ecd514337757dde6037ce3f788", "message": "Merge pull request #5566 from eugene7646/solr8_libraries\n\nSolr8 libraries", "committedDate": "2020-02-10T18:57:45Z", "type": "commit"}, {"oid": "2e36c8a4d6afe44745f391bdc7083d0458daa2e1", "url": "https://github.com/sleuthkit/autopsy/commit/2e36c8a4d6afe44745f391bdc7083d0458daa2e1", "message": "Getting ClousSolrClient to work", "committedDate": "2020-02-12T15:06:02Z", "type": "commit"}, {"oid": "ca0b47b4c1671fbe2a5f8e0339c65ad1481ab377", "url": "https://github.com/sleuthkit/autopsy/commit/ca0b47b4c1671fbe2a5f8e0339c65ad1481ab377", "message": "Merge branch 'solr-8-upgrade' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-02-12T20:31:32Z", "type": "commit"}, {"oid": "aaeb8b02c4841f6f6818483d28c03e24fc4e3e3d", "url": "https://github.com/sleuthkit/autopsy/commit/aaeb8b02c4841f6f6818483d28c03e24fc4e3e3d", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr8_libraries", "committedDate": "2020-02-12T20:31:49Z", "type": "commit"}, {"oid": "853a969b0b00aaef8a4bb3b427226bb6c80270db", "url": "https://github.com/sleuthkit/autopsy/commit/853a969b0b00aaef8a4bb3b427226bb6c80270db", "message": "first cut", "committedDate": "2020-02-14T17:51:49Z", "type": "commit"}, {"oid": "676a9df83def20932eba540205b347223d5db985", "url": "https://github.com/sleuthkit/autopsy/commit/676a9df83def20932eba540205b347223d5db985", "message": "Added logging", "committedDate": "2020-02-20T20:53:20Z", "type": "commit"}, {"oid": "29b0f51e5730e1ea1ecb5f578bf97eb4c0bc6504", "url": "https://github.com/sleuthkit/autopsy/commit/29b0f51e5730e1ea1ecb5f578bf97eb4c0bc6504", "message": "Merged develop", "committedDate": "2020-03-10T21:08:53Z", "type": "commit"}, {"oid": "0ae7dca0b6502f36c6e49ba0646138d643f2467a", "url": "https://github.com/sleuthkit/autopsy/commit/0ae7dca0b6502f36c6e49ba0646138d643f2467a", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into CloudSolrClient", "committedDate": "2020-03-10T21:09:22Z", "type": "commit"}, {"oid": "e2614b15d8942f5d48ed167996d3ce095ee5e376", "url": "https://github.com/sleuthkit/autopsy/commit/e2614b15d8942f5d48ed167996d3ce095ee5e376", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into CloudSolrClient", "committedDate": "2020-03-10T21:22:28Z", "type": "commit"}, {"oid": "3296c443af2bbd912cc160692aefd893ccabd37a", "url": "https://github.com/sleuthkit/autopsy/commit/3296c443af2bbd912cc160692aefd893ccabd37a", "message": "Not setting data directory", "committedDate": "2020-03-23T14:50:57Z", "type": "commit"}, {"oid": "062388ea30ad1d6c126fc022f019ee69c0ed8d9f", "url": "https://github.com/sleuthkit/autopsy/commit/062388ea30ad1d6c126fc022f019ee69c0ed8d9f", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into CloudSolrClient", "committedDate": "2020-03-25T16:49:44Z", "type": "commit"}, {"oid": "b6aa9e9d2d31055aa5a282a6b2cfc3db92f899df", "url": "https://github.com/sleuthkit/autopsy/commit/b6aa9e9d2d31055aa5a282a6b2cfc3db92f899df", "message": "Upgraded to ZK 3.5.5", "committedDate": "2020-03-26T15:09:43Z", "type": "commit"}, {"oid": "6d2167ffb9f11d70c9bf3f63094d23449b90f39d", "url": "https://github.com/sleuthkit/autopsy/commit/6d2167ffb9f11d70c9bf3f63094d23449b90f39d", "message": "Latest develop", "committedDate": "2020-04-06T18:09:27Z", "type": "commit"}, {"oid": "79103742c8f9555c7002ada64c0ed1f263b80a4a", "url": "https://github.com/sleuthkit/autopsy/commit/79103742c8f9555c7002ada64c0ed1f263b80a4a", "message": "Merged develop", "committedDate": "2020-04-16T19:42:12Z", "type": "commit"}, {"oid": "62eecbca74c643daa4742bbf5db874961aaab18a", "url": "https://github.com/sleuthkit/autopsy/commit/62eecbca74c643daa4742bbf5db874961aaab18a", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into CloudSolrClient", "committedDate": "2020-04-20T18:12:44Z", "type": "commit"}, {"oid": "28491b2783ce270379537dd4eaaa4e988eeeb5c3", "url": "https://github.com/sleuthkit/autopsy/commit/28491b2783ce270379537dd4eaaa4e988eeeb5c3", "message": "Added backup and restore, re-using solr client", "committedDate": "2020-04-21T16:27:48Z", "type": "commit"}, {"oid": "79620d3df55129380e8316d9cb27c6c9752d2fe1", "url": "https://github.com/sleuthkit/autopsy/commit/79620d3df55129380e8316d9cb27c6c9752d2fe1", "message": "Getting list of Solr servers from Solr", "committedDate": "2020-04-23T19:33:31Z", "type": "commit"}, {"oid": "a3bb2a9f20354a6ef8dfff3412b224b57080e4e8", "url": "https://github.com/sleuthkit/autopsy/commit/a3bb2a9f20354a6ef8dfff3412b224b57080e4e8", "message": "Merged develop", "committedDate": "2020-04-23T20:24:09Z", "type": "commit"}, {"oid": "9adbea8f9e4d0447b139c64dae98ec9edcd11286", "url": "https://github.com/sleuthkit/autopsy/commit/9adbea8f9e4d0447b139c64dae98ec9edcd11286", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into CloudSolrClient", "committedDate": "2020-04-24T17:45:48Z", "type": "commit"}, {"oid": "06aed9122edce2fbb2227547434643d7bc3360fb", "url": "https://github.com/sleuthkit/autopsy/commit/06aed9122edce2fbb2227547434643d7bc3360fb", "message": "Fix for external ZK", "committedDate": "2020-04-25T13:10:25Z", "type": "commit"}, {"oid": "6ddff4948c45a194b50a377a4379eaa3c2a370aa", "url": "https://github.com/sleuthkit/autopsy/commit/6ddff4948c45a194b50a377a4379eaa3c2a370aa", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into CloudSolrClient", "committedDate": "2020-04-29T17:28:49Z", "type": "commit"}, {"oid": "62fcdb8e6690118f8368b9dc0b80e94919be9196", "url": "https://github.com/sleuthkit/autopsy/commit/62fcdb8e6690118f8368b9dc0b80e94919be9196", "message": "Support for ConcurrentUpdateSolrClient", "committedDate": "2020-04-30T22:28:14Z", "type": "commit"}, {"oid": "14920185620ed7d3e7b2fae5d6b2162ffaaf73db", "url": "https://github.com/sleuthkit/autopsy/commit/14920185620ed7d3e7b2fae5d6b2162ffaaf73db", "message": "test opening solr4 cases", "committedDate": "2020-05-01T17:53:51Z", "type": "commit"}, {"oid": "562cf37fd309563b8af310b8dce5e456d1626839", "url": "https://github.com/sleuthkit/autopsy/commit/562cf37fd309563b8af310b8dce5e456d1626839", "message": "First cut at supporting solr4", "committedDate": "2020-05-03T14:10:52Z", "type": "commit"}, {"oid": "e9606647013b0844460971c4376f7ad1939f98d1", "url": "https://github.com/sleuthkit/autopsy/commit/e9606647013b0844460971c4376f7ad1939f98d1", "message": "More embedded solr4 support", "committedDate": "2020-05-04T21:05:20Z", "type": "commit"}, {"oid": "703272f23d4cd62868a4707e6eeeb2c2fa296aea", "url": "https://github.com/sleuthkit/autopsy/commit/703272f23d4cd62868a4707e6eeeb2c2fa296aea", "message": "More work to support Solr4", "committedDate": "2020-05-05T18:06:21Z", "type": "commit"}, {"oid": "685c1f3c6a75d1464739179799021385a95141fd", "url": "https://github.com/sleuthkit/autopsy/commit/685c1f3c6a75d1464739179799021385a95141fd", "message": "Automating Solr4 ivy and build process", "committedDate": "2020-05-05T21:24:08Z", "type": "commit"}, {"oid": "38a8d576ebbb13be12f13a3c3ba8127bce5d4336", "url": "https://github.com/sleuthkit/autopsy/commit/38a8d576ebbb13be12f13a3c3ba8127bce5d4336", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr4_and_solr8", "committedDate": "2020-05-14T17:15:47Z", "type": "commit"}, {"oid": "fd1554c7f07d3217afab9dda9e0c1763f65e0a34", "url": "https://github.com/sleuthkit/autopsy/commit/fd1554c7f07d3217afab9dda9e0c1763f65e0a34", "message": "Code cleanup", "committedDate": "2020-05-14T20:28:53Z", "type": "commit"}, {"oid": "d777d630e9c21bff3d945da7b3aff3aece8f3146", "url": "https://github.com/sleuthkit/autopsy/commit/d777d630e9c21bff3d945da7b3aff3aece8f3146", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr4_and_solr8", "committedDate": "2020-05-15T18:15:08Z", "type": "commit"}, {"oid": "ccd755524f207b9843ac591772d49b56ab83ae88", "url": "https://github.com/sleuthkit/autopsy/commit/ccd755524f207b9843ac591772d49b56ab83ae88", "message": "Fixes to SolrSearchService", "committedDate": "2020-05-16T00:23:11Z", "type": "commit"}, {"oid": "39dc0c9cd9aa93810a832f265b363a4743a039bc", "url": "https://github.com/sleuthkit/autopsy/commit/39dc0c9cd9aa93810a832f265b363a4743a039bc", "message": "Code cleanup", "committedDate": "2020-05-27T14:28:38Z", "type": "commit"}, {"oid": "9af6ca1d7fb9a3593b84fecfc06b429b8cc48d8e", "url": "https://github.com/sleuthkit/autopsy/commit/9af6ca1d7fb9a3593b84fecfc06b429b8cc48d8e", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr4_and_solr8", "committedDate": "2020-05-28T14:48:02Z", "type": "commit"}, {"oid": "5750f831646f0d13131595f4f4d2c80e5c45e7a2", "url": "https://github.com/sleuthkit/autopsy/commit/5750f831646f0d13131595f4f4d2c80e5c45e7a2", "message": "Opening indexes for multiple versions of Solr", "committedDate": "2020-05-28T18:47:24Z", "type": "commit"}, {"oid": "14d0b2027e769eac8b600e4018b56256f4d3c8aa", "url": "https://github.com/sleuthkit/autopsy/commit/14d0b2027e769eac8b600e4018b56256f4d3c8aa", "message": "Resolved Java path issue for embedded servers", "committedDate": "2020-05-28T20:51:05Z", "type": "commit"}, {"oid": "d62c0009435d72c3b7c2c3d298a6afb656e72e12", "url": "https://github.com/sleuthkit/autopsy/commit/d62c0009435d72c3b7c2c3d298a6afb656e72e12", "message": "Keeping track of which embedded server to start or stop", "committedDate": "2020-05-29T16:30:33Z", "type": "commit"}, {"oid": "cf50848d60b6ce8f4a9050468e15c5a32b4ab2d6", "url": "https://github.com/sleuthkit/autopsy/commit/cf50848d60b6ce8f4a9050468e15c5a32b4ab2d6", "message": "Automating solr 4 vs 8 local server", "committedDate": "2020-05-29T18:45:27Z", "type": "commit"}, {"oid": "cc9138637f9e1710ed3cf11484ac64f6cd934e18", "url": "https://github.com/sleuthkit/autopsy/commit/cc9138637f9e1710ed3cf11484ac64f6cd934e18", "message": "DIY cloud support", "committedDate": "2020-05-29T19:09:29Z", "type": "commit"}, {"oid": "d18bf10d37ba4da3508db94a177c49ec7e139f38", "url": "https://github.com/sleuthkit/autopsy/commit/d18bf10d37ba4da3508db94a177c49ec7e139f38", "message": "UI work", "committedDate": "2020-06-01T17:07:29Z", "type": "commit"}, {"oid": "8a9b96b8b58d63d4ceb22ea61cac3001a295023d", "url": "https://github.com/sleuthkit/autopsy/commit/8a9b96b8b58d63d4ceb22ea61cac3001a295023d", "message": "Cleaning up KWS build process", "committedDate": "2020-06-01T19:51:05Z", "type": "commit"}, {"oid": "8d5c5e5255565a243b2c805970bed83e709b22cd", "url": "https://github.com/sleuthkit/autopsy/commit/8d5c5e5255565a243b2c805970bed83e709b22cd", "message": "Cleaning up Solr scripts from hard codings", "committedDate": "2020-06-01T20:22:05Z", "type": "commit"}, {"oid": "3f0d8781d0ceae558dc58d0ed72aaaa4078a4daa", "url": "https://github.com/sleuthkit/autopsy/commit/3f0d8781d0ceae558dc58d0ed72aaaa4078a4daa", "message": "New UI to specify Solr 4 and ZK", "committedDate": "2020-06-03T19:32:33Z", "type": "commit"}, {"oid": "2c46dc0c38724de2f95014816fb90fe38367e304", "url": "https://github.com/sleuthkit/autopsy/commit/2c46dc0c38724de2f95014816fb90fe38367e304", "message": "Added a check whether a reboot is required", "committedDate": "2020-06-03T22:08:08Z", "type": "commit"}, {"oid": "2f72ea384c1648dfa11076052eb184689df89dea", "url": "https://github.com/sleuthkit/autopsy/commit/2f72ea384c1648dfa11076052eb184689df89dea", "message": "Removed duplicate", "committedDate": "2020-06-03T22:32:39Z", "type": "commit"}, {"oid": "5387a4fb4005a7174700acb9860eb0047ff45103", "url": "https://github.com/sleuthkit/autopsy/commit/5387a4fb4005a7174700acb9860eb0047ff45103", "message": "Fixed paths", "committedDate": "2020-06-04T19:02:51Z", "type": "commit"}, {"oid": "35095fb363bd3c74ce3c480ec1d78e16cfc8463c", "url": "https://github.com/sleuthkit/autopsy/commit/35095fb363bd3c74ce3c480ec1d78e16cfc8463c", "message": "Exporting SolrJ packages when building Autopsy ZIP", "committedDate": "2020-06-04T20:08:30Z", "type": "commit"}, {"oid": "09270f2fa8fd54ebb89464300e1d1b24b6222535", "url": "https://github.com/sleuthkit/autopsy/commit/09270f2fa8fd54ebb89464300e1d1b24b6222535", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr4_and_solr8", "committedDate": "2020-06-04T22:35:13Z", "type": "commit"}, {"oid": "5620371112e43a22dbd9de13ad71cd7384a26e94", "url": "https://github.com/sleuthkit/autopsy/commit/5620371112e43a22dbd9de13ad71cd7384a26e94", "message": "No longer hashing SolrJ connections", "committedDate": "2020-06-05T19:31:27Z", "type": "commit"}, {"oid": "ab48b33509689223c480db1146f50788eb57a87f", "url": "https://github.com/sleuthkit/autopsy/commit/ab48b33509689223c480db1146f50788eb57a87f", "message": "User preferences", "committedDate": "2020-06-05T19:43:58Z", "type": "commit"}, {"oid": "f35297d9c17609aa6f659f1c68f663cf21bfcd9e", "url": "https://github.com/sleuthkit/autopsy/commit/f35297d9c17609aa6f659f1c68f663cf21bfcd9e", "message": "Changing user preferences", "committedDate": "2020-06-08T19:40:12Z", "type": "commit"}, {"oid": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "url": "https://github.com/sleuthkit/autopsy/commit/d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "message": "Merge branch 'develop' of github.com:sleuthkit/autopsy into solr4_and_solr8", "committedDate": "2020-06-09T17:07:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMzYxNQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438203615", "bodyText": "This should just be 2020 - 2020, or just 2020, not 2011 - 2020.", "author": "rcordovano", "createdAt": "2020-06-10T15:16:37Z", "path": "Core/src/org/sleuthkit/autopsy/coordinationservice/utils/CoordinationServiceUtils.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/*\n+ * Autopsy Forensic Browser\n+ *\n+ * Copyright 2011-2018 Basis Technology Corp.", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0MzI2Mg==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438343262", "bodyText": "Done.", "author": "eugene7646", "createdAt": "2020-06-10T18:58:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwMzYxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwNjYzMA==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438206630", "bodyText": "I don't think that these need to be public.", "author": "rcordovano", "createdAt": "2020-06-10T15:20:41Z", "path": "Core/src/org/sleuthkit/autopsy/core/UserPreferences.java", "diffHunk": "@@ -54,8 +54,15 @@\n     public static final String EXTERNAL_DATABASE_USER = \"ExternalDatabaseUsername\"; //NON-NLS\n     public static final String EXTERNAL_DATABASE_PASSWORD = \"ExternalDatabasePassword\"; //NON-NLS\n     public static final String EXTERNAL_DATABASE_TYPE = \"ExternalDatabaseType\"; //NON-NLS\n-    public static final String INDEXING_SERVER_HOST = \"IndexingServerHost\"; //NON-NLS\n-    public static final String INDEXING_SERVER_PORT = \"IndexingServerPort\"; //NON-NLS\n+    public static final String SOLR8_SERVER_HOST = \"Solr8ServerHost\"; //NON-NLS\n+    public static final String SOLR8_SERVER_PORT = \"Solr8ServerPort\"; //NON-NLS\n+    public static final String SOLR4_SERVER_HOST = \"Solr4ServerHost\"; //NON-NLS\n+    public static final String SOLR4_SERVER_PORT = \"Solr4ServerPort\"; //NON-NLS\n+    public static final String INDEXING_MAX_SHARDS = \"IndexingMaxShards\"; //NON-NLS\n+    public static final String INDEXING_DOC_QUEUE_SIZE = \"IndexingDocumentQueueSize\"; //NON-NLS\n+    public static final String INDEXING_NUM_THREADS = \"IndexingNumThreads\"; //NON-NLS\n+    public static final String ZK_SERVER_HOST = \"ZookeeperServerHost\"; //NON-NLS\n+    public static final String ZK_SERVER_PORT = \"ZookeeperServerPort\"; //NON-NLS", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5NjAzNg==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438396036", "bodyText": "Done.", "author": "eugene7646", "createdAt": "2020-06-10T20:41:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIwNjYzMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIxOTY2Ng==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438219666", "bodyText": "I would much prefer these new APIs to be in a non-public package. There is no reason we should expose these settings to all module writers, etc. We can do the same thing we did with org.sleuthkit.autopsy.commandlineingest.UserPreferences. Let's make a non-public package named org.sleuthkit.autopsy.userpreferences.", "author": "rcordovano", "createdAt": "2020-06-10T15:37:02Z", "path": "Core/src/org/sleuthkit/autopsy/core/UserPreferences.java", "diffHunk": "@@ -324,21 +331,77 @@ public static boolean getIsMultiUserModeEnabled() {\n     }\n \n     public static String getIndexingServerHost() {\n-        return preferences.get(INDEXING_SERVER_HOST, \"\");\n+        return preferences.get(SOLR8_SERVER_HOST, \"\");\n     }\n \n     public static void setIndexingServerHost(String hostName) {\n-        preferences.put(INDEXING_SERVER_HOST, hostName);\n+        preferences.put(SOLR8_SERVER_HOST, hostName);\n     }\n \n     public static String getIndexingServerPort() {\n-        return preferences.get(INDEXING_SERVER_PORT, \"8983\");\n+        return preferences.get(SOLR8_SERVER_PORT, \"8983\");\n     }\n \n     public static void setIndexingServerPort(int port) {\n-        preferences.putInt(INDEXING_SERVER_PORT, port);\n+        preferences.putInt(SOLR8_SERVER_PORT, port);\n+    }\n+    \n+    public static String getSolr4ServerHost() {\n+        return preferences.get(SOLR4_SERVER_HOST, \"\");\n+    }\n+\n+    public static void setSolr4ServerHost(String hostName) {\n+        preferences.put(SOLR4_SERVER_HOST, hostName);\n+    }    \n+    \n+    public static String getSolr4ServerPort() {\n+        return preferences.get(SOLR4_SERVER_PORT, \"\");\n+    }\n+\n+    public static void setSolr4ServerPort(String port) {\n+        preferences.put(SOLR4_SERVER_PORT, port);\n+    }    \n+    \n+    public static String getZkServerHost() {\n+        return preferences.get(ZK_SERVER_HOST, \"\");\n+    }\n+    \n+    public static void setZkServerHost(String hostName) {\n+        preferences.put(ZK_SERVER_HOST, hostName);\n+    }\n+\n+    public static String getZkServerPort() {\n+        return preferences.get(ZK_SERVER_PORT, \"\");\n+    }\n+\n+    public static void setZkServerPort(String port) {\n+        preferences.put(ZK_SERVER_PORT, port);\n+    }\n+    \n+    public static void setMaxNumShards(int maxShards) {\n+        preferences.putInt(INDEXING_MAX_SHARDS, maxShards);\n+    }\n+\n+    public static int getMaxNumShards() {\n+        return preferences.getInt(INDEXING_MAX_SHARDS, 0);\n+    }\n+\n+    public static int getNumThreads() {\n+        return preferences.getInt(INDEXING_NUM_THREADS, 10);\n     }\n \n+    public static void setNumThreads(int maxShards) {\n+        preferences.putInt(INDEXING_NUM_THREADS, maxShards);\n+    }\n+    \n+    public static void setDocumentsQueueSize(int maxShards) {\n+        preferences.putInt(INDEXING_DOC_QUEUE_SIZE, maxShards);\n+    }\n+\n+    public static int getDocumentsQueueSize() {\n+        return preferences.getInt(INDEXING_DOC_QUEUE_SIZE, 1000);\n+    }\n+    ", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM3Njc0Mw==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438376743", "bodyText": "@rcordovano ugh! I just went through the trouble of implementing this class and all the methods, and modified all of the code that used these methods - only to find out that these methods/settings are used by KWS NBM, and therefore they have to be publicly exported by Autopsy Core. There are 2 methods that are only used by KWS so they can move to KWS UserPreferences, but Solr 8 & Solr 4 settings must be public.", "author": "eugene7646", "createdAt": "2020-06-10T20:02:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIxOTY2Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5NzE4OA==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438397188", "bodyText": "I moved KWS specific preferences (number of shards, concurrent client queue size, etc) into a separate KWS user preferences. Everything else had to stay in public Core preferences.\nAlso, none of the command line ingest preferences were being used any more, everything is being passes as CL input now, so I cleaned that up as well.", "author": "eugene7646", "createdAt": "2020-06-10T20:43:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIxOTY2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIyMDc1MQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438220751", "bodyText": "These should not need to be public.", "author": "rcordovano", "createdAt": "2020-06-10T15:38:34Z", "path": "Core/src/org/sleuthkit/autopsy/core/UserPreferences.java", "diffHunk": "@@ -54,8 +54,15 @@\n     public static final String EXTERNAL_DATABASE_USER = \"ExternalDatabaseUsername\"; //NON-NLS\n     public static final String EXTERNAL_DATABASE_PASSWORD = \"ExternalDatabasePassword\"; //NON-NLS\n     public static final String EXTERNAL_DATABASE_TYPE = \"ExternalDatabaseType\"; //NON-NLS\n-    public static final String INDEXING_SERVER_HOST = \"IndexingServerHost\"; //NON-NLS\n-    public static final String INDEXING_SERVER_PORT = \"IndexingServerPort\"; //NON-NLS\n+    public static final String SOLR8_SERVER_HOST = \"Solr8ServerHost\"; //NON-NLS\n+    public static final String SOLR8_SERVER_PORT = \"Solr8ServerPort\"; //NON-NLS\n+    public static final String SOLR4_SERVER_HOST = \"Solr4ServerHost\"; //NON-NLS\n+    public static final String SOLR4_SERVER_PORT = \"Solr4ServerPort\"; //NON-NLS\n+    public static final String INDEXING_MAX_SHARDS = \"IndexingMaxShards\"; //NON-NLS\n+    public static final String INDEXING_DOC_QUEUE_SIZE = \"IndexingDocumentQueueSize\"; //NON-NLS\n+    public static final String INDEXING_NUM_THREADS = \"IndexingNumThreads\"; //NON-NLS\n+    public static final String ZK_SERVER_HOST = \"ZookeeperServerHost\"; //NON-NLS\n+    public static final String ZK_SERVER_PORT = \"ZookeeperServerPort\"; //NON-NLS", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5NjEyOA==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438396128", "bodyText": "Done.", "author": "eugene7646", "createdAt": "2020-06-10T20:41:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIyMDc1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIzMTEwMg==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438231102", "bodyText": "Do we need to set disableSearch if the schema is not compatible as well? Can we reduce the number of flags, by any chance?", "author": "rcordovano", "createdAt": "2020-06-10T15:53:24Z", "path": "KeywordSearch/src/org/sleuthkit/autopsy/keywordsearch/DropdownToolbar.java", "diffHunk": "@@ -183,24 +183,14 @@ public void propertyChange(PropertyChangeEvent evt) {\n                             }\n                             else {\n                                 Index indexInfo = server.getIndexInfo();\n-                                if (IndexFinder.getCurrentSolrVersion().equals(indexInfo.getSolrVersion())) {\n-                                    /*\n-                                     * Solr version is current, so check the Solr\n-                                     * schema version and selectively enable the ad\n-                                     * hoc search UI components.\n-                                     */\n-                                    boolean schemaIsCompatible = indexInfo.isCompatible(IndexFinder.getCurrentSchemaVersion());\n-                                    listsButton.setEnabled(schemaIsCompatible);\n-                                    searchDropButton.setEnabled(true);\n-                                    dropPanel.setRegexSearchEnabled(schemaIsCompatible);\n-                                    active = true;\n-                                } else {\n-                                    /*\n-                                     * Unsupported Solr version, disable the ad hoc\n-                                     * search UI components.\n-                                     */\n-                                    disableSearch = true;\n-                                }\n+\n+                                // Check the Solr schema version and selectively \n+                                // enable the ad hoc search UI components.\n+                                boolean schemaIsCompatible = indexInfo.isCompatible(IndexFinder.getCurrentSchemaVersion());\n+                                listsButton.setEnabled(schemaIsCompatible);\n+                                searchDropButton.setEnabled(true);\n+                                dropPanel.setRegexSearchEnabled(schemaIsCompatible);\n+                                active = true;", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg3NDgzNQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438874835", "bodyText": "If we have an incompatible schema, we should just disable search altogether. That is a viable generic solution going forward, as opposed to some partial enabling based on a specific schema change.", "author": "rcordovano", "createdAt": "2020-06-11T15:32:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIzMTEwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI1NTEwMg==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438255102", "bodyText": "This code appears to be obsolete. Is there such a thing as read only mode for keyword search any more?", "author": "rcordovano", "createdAt": "2020-06-10T16:26:26Z", "path": "KeywordSearch/src/org/sleuthkit/autopsy/keywordsearch/SolrSearchService.java", "diffHunk": "@@ -350,34 +328,27 @@ public void openCaseResources(CaseContext context) throws AutopsyServiceExceptio\n                     return;\n                 }\n \n-                double currentSolrVersion = NumberUtils.toDouble(IndexFinder.getCurrentSolrVersion());\n-                double indexSolrVersion = NumberUtils.toDouble(indexToUse.getSolrVersion());\n-                if (indexSolrVersion == currentSolrVersion) {\n-                    // latest Solr version but schema not compatible. index should be used in read-only mode\n-                    if (!indexToUse.isCompatible(IndexFinder.getCurrentSchemaVersion()) && RuntimeProperties.runningWithGUI()) {\n-                        // pop up a message box to indicate the read-only restrictions.\n-                        JOptionPane optionPane = new JOptionPane(\n-                                NbBundle.getMessage(this.getClass(), \"SolrSearchService.IndexReadOnlyDialog.msg\"),\n-                                JOptionPane.WARNING_MESSAGE,\n-                                JOptionPane.DEFAULT_OPTION);\n-                        try {\n-                            SwingUtilities.invokeAndWait(() -> {\n-                                JDialog dialog = optionPane.createDialog(NbBundle.getMessage(this.getClass(), \"SolrSearchService.IndexReadOnlyDialog.title\"));\n-                                dialog.setVisible(true);\n-                            });\n-                        } catch (InterruptedException ex) {\n-                            // Cancelled\n-                            return;\n-                        } catch (InvocationTargetException ex) {\n-                            throw new AutopsyServiceException(\"Error displaying limited search features warning dialog\", ex);\n-                        }\n+                // if schema is not compatible, index should be used in read-only mode\n+                if (!indexToUse.isCompatible(IndexFinder.getCurrentSchemaVersion()) && RuntimeProperties.runningWithGUI()) {\n+                    // pop up a message box to indicate the read-only restrictions.\n+                    JOptionPane optionPane = new JOptionPane(\n+                            NbBundle.getMessage(this.getClass(), \"SolrSearchService.IndexReadOnlyDialog.msg\"),\n+                            JOptionPane.WARNING_MESSAGE,\n+                            JOptionPane.DEFAULT_OPTION);\n+                    try {\n+                        SwingUtilities.invokeAndWait(() -> {\n+                            JDialog dialog = optionPane.createDialog(NbBundle.getMessage(this.getClass(), \"SolrSearchService.IndexReadOnlyDialog.title\"));\n+                            dialog.setVisible(true);\n+                        });\n+                    } catch (InterruptedException ex) {\n+                        // Cancelled\n+                        return;\n+                    } catch (InvocationTargetException ex) {\n+                        throw new AutopsyServiceException(\"Error displaying limited search features warning dialog\", ex);", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI1ODQ0Mw==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438258443", "bodyText": "Should this call getSolrClient()?", "author": "rcordovano", "createdAt": "2020-06-10T16:31:43Z", "path": "KeywordSearch/src/org/sleuthkit/autopsy/keywordsearch/Server.java", "diffHunk": "@@ -222,47 +226,76 @@ public String toString() {\n     private int currentSolrServerPort = 0;\n     private int currentSolrStopPort = 0;\n     private static final boolean DEBUG = false;//(Version.getBuildType() == Version.Type.DEVELOPMENT);\n-    private static final String SOLR = \"solr\";\n-    private static final String CORE_PROPERTIES = \"core.properties\";\n+    private static final int NUM_COLLECTION_CREATION_RETRIES = 5;\n \n     public enum CORE_EVT_STATES {\n \n         STOPPED, STARTED\n     };\n+    \n+    private enum SOLR_VERSION {\n+\n+        SOLR8, SOLR4\n+    };\n \n     // A reference to the locally running Solr instance.\n-    private final HttpSolrServer localSolrServer;\n+    private final ConcurrentUpdateSolrClient localSolrServer;\n+    private SOLR_VERSION localServerVersion = SOLR_VERSION.SOLR8; // start local Solr 8 by default\n \n     // A reference to the Solr server we are currently connected to for the Case.\n     // This could be a local or remote server.\n-    private HttpSolrServer currentSolrServer;\n+    private ConcurrentUpdateSolrClient currentSolrServer;\n \n-    private Core currentCore;\n+    private Collection currentCollection;\n     private final ReentrantReadWriteLock currentCoreLock;\n \n-    private final File solrFolder;\n-    private Path solrHome;\n+    private final File solr8Folder;\n+    private Path solr8CmdPath;\n+    private Path solr8Home;\n     private final ServerAction serverAction;\n     private InputStreamPrinterThread errorRedirectThread;\n \n+    private final File solr4Folder;\n+    private Path solr4Home;    \n     /**\n      * New instance for the server at the given URL\n      *\n      */\n     Server() {\n         initSettings();\n \n-        this.localSolrServer = new HttpSolrServer(\"http://localhost:\" + currentSolrServerPort + \"/solr\"); //NON-NLS\n+        this.localSolrServer = new ConcurrentUpdateSolrClient.Builder(\"http://localhost:\" + currentSolrServerPort + \"/solr\").build(); //NON-NLS", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0MzQ1OQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438343459", "bodyText": "Done.", "author": "eugene7646", "createdAt": "2020-06-10T18:58:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI1ODQ0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MDU4Nw==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438260587", "bodyText": "We should document that we do not do this for Solr 4 because it is runs in Jetty.", "author": "rcordovano", "createdAt": "2020-06-10T16:35:13Z", "path": "KeywordSearch/src/org/sleuthkit/autopsy/keywordsearch/Server.java", "diffHunk": "@@ -222,47 +226,76 @@ public String toString() {\n     private int currentSolrServerPort = 0;\n     private int currentSolrStopPort = 0;\n     private static final boolean DEBUG = false;//(Version.getBuildType() == Version.Type.DEVELOPMENT);\n-    private static final String SOLR = \"solr\";\n-    private static final String CORE_PROPERTIES = \"core.properties\";\n+    private static final int NUM_COLLECTION_CREATION_RETRIES = 5;\n \n     public enum CORE_EVT_STATES {\n \n         STOPPED, STARTED\n     };\n+    \n+    private enum SOLR_VERSION {\n+\n+        SOLR8, SOLR4\n+    };\n \n     // A reference to the locally running Solr instance.\n-    private final HttpSolrServer localSolrServer;\n+    private final ConcurrentUpdateSolrClient localSolrServer;\n+    private SOLR_VERSION localServerVersion = SOLR_VERSION.SOLR8; // start local Solr 8 by default\n \n     // A reference to the Solr server we are currently connected to for the Case.\n     // This could be a local or remote server.\n-    private HttpSolrServer currentSolrServer;\n+    private ConcurrentUpdateSolrClient currentSolrServer;\n \n-    private Core currentCore;\n+    private Collection currentCollection;\n     private final ReentrantReadWriteLock currentCoreLock;\n \n-    private final File solrFolder;\n-    private Path solrHome;\n+    private final File solr8Folder;\n+    private Path solr8CmdPath;\n+    private Path solr8Home;\n     private final ServerAction serverAction;\n     private InputStreamPrinterThread errorRedirectThread;\n \n+    private final File solr4Folder;\n+    private Path solr4Home;    \n     /**\n      * New instance for the server at the given URL\n      *\n      */\n     Server() {\n         initSettings();\n \n-        this.localSolrServer = new HttpSolrServer(\"http://localhost:\" + currentSolrServerPort + \"/solr\"); //NON-NLS\n+        this.localSolrServer = new ConcurrentUpdateSolrClient.Builder(\"http://localhost:\" + currentSolrServerPort + \"/solr\").build(); //NON-NLS\n         serverAction = new ServerAction();\n-        solrFolder = InstalledFileLocator.getDefault().locate(\"solr\", Server.class.getPackage().getName(), false); //NON-NLS\n+        solr8Folder = InstalledFileLocator.getDefault().locate(\"solr\", Server.class.getPackage().getName(), false); //NON-NLS\n+        solr4Folder = InstalledFileLocator.getDefault().locate(\"solr4\", Server.class.getPackage().getName(), false); //NON-NLS\n+        \n+        // Figure out where Java is located. The Java home location \n+        // will be passed as the SOLR_JAVA_HOME environment\n+        // variable to the Solr script but it can be overridden by the user in\n+        // either autopsy-solr.cmd or autopsy-solr-in.cmd.\n         javaPath = PlatformUtil.getJavaPath();\n+        \n+        // This is our customized version of the Solr batch script to start/stop Solr.\n+        solr8CmdPath = Paths.get(solr8Folder.getAbsolutePath(), \"bin\", \"autopsy-solr.cmd\"); //NON-NLS", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM5NzM5OQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438397399", "bodyText": "Done.", "author": "eugene7646", "createdAt": "2020-06-10T20:44:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MDU4Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2OTcwMQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438269701", "bodyText": "We should remove the preceding comments.", "author": "rcordovano", "createdAt": "2020-06-10T16:50:21Z", "path": "KeywordSearch/src/org/sleuthkit/autopsy/keywordsearch/Server.java", "diffHunk": "@@ -1599,9 +1940,17 @@ private String getSolrContent(long contentID, int chunkID) {\n         synchronized void close() throws KeywordSearchModuleException {\n             // We only unload cores for \"single-user\" cases.\n             if (this.caseType == CaseType.MULTI_USER_CASE) {\n+                solrClient.close();\n                 return;\n             }\n \n+            /* NOTE: there is no way to unload collections. Only cores can be unloaded.\n+            Since we set \"transient=true\" and \"loadOnStartup=false\" on all cores that \n+            we create, we shouldn't need to explicitly unload cores. Leaving the core below\n+            for reference. */\n+            \n+            // core name is (collectionName + \"_shard1_replica_n1\")\n+            //String coreName = this.name + \"_shard1_replica_n1\";", "originalCommit": "d8cbf9eabea1b8863bfe91532a1e7747ddc08566", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODM0MzUwOQ==", "url": "https://github.com/sleuthkit/autopsy/pull/5964#discussion_r438343509", "bodyText": "Done.", "author": "eugene7646", "createdAt": "2020-06-10T18:58:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2OTcwMQ=="}], "type": "inlineReview"}, {"oid": "5a87a5688650b8e842611dfc73973597e5924692", "url": "https://github.com/sleuthkit/autopsy/commit/5a87a5688650b8e842611dfc73973597e5924692", "message": "Code review", "committedDate": "2020-06-10T18:58:31Z", "type": "commit"}, {"oid": "7a13309a6fb0784af9be01a2c3763c7b8f55e0a4", "url": "https://github.com/sleuthkit/autopsy/commit/7a13309a6fb0784af9be01a2c3763c7b8f55e0a4", "message": "Clean up user preferences", "committedDate": "2020-06-10T20:42:01Z", "type": "commit"}, {"oid": "caa47296426822a363626cb685aa8c5cd16d68fd", "url": "https://github.com/sleuthkit/autopsy/commit/caa47296426822a363626cb685aa8c5cd16d68fd", "message": "Changes to solr variable and method names", "committedDate": "2020-06-11T13:41:23Z", "type": "commit"}, {"oid": "1e94487f2c21544e75a50d13c40ab33af5586641", "url": "https://github.com/sleuthkit/autopsy/commit/1e94487f2c21544e75a50d13c40ab33af5586641", "message": "Code review", "committedDate": "2020-06-11T17:48:19Z", "type": "commit"}]}