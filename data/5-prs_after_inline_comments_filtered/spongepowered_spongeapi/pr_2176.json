{"pr_number": 2176, "pr_title": "Add stable-7 commits to api-8", "pr_createdAt": "2020-07-17T23:05:52Z", "pr_url": "https://github.com/SpongePowered/SpongeAPI/pull/2176", "timeline": [{"oid": "f12f8e7743844b8761b890ce3e440911e97c6f38", "url": "https://github.com/SpongePowered/SpongeAPI/commit/f12f8e7743844b8761b890ce3e440911e97c6f38", "message": "Ensure that an exact match is always returned alone.\n\nAlso added unit tests\n\nFixes #2566", "committedDate": "2020-04-14T16:25:33Z", "type": "commit"}, {"oid": "45bec6c9cc6463c8ad8b5e403731347ecb4b6f10", "url": "https://github.com/SpongePowered/SpongeAPI/commit/45bec6c9cc6463c8ad8b5e403731347ecb4b6f10", "message": "Add SerializationBehaviors.METADATA_ONLY.", "committedDate": "2020-05-05T03:12:52Z", "type": "commit"}, {"oid": "2ebf7ff43155f4729363928baebdc76a9bb47f2d", "url": "https://github.com/SpongePowered/SpongeAPI/commit/2ebf7ff43155f4729363928baebdc76a9bb47f2d", "message": "Add totem effect to ParticleTypes (#2120)", "committedDate": "2020-05-19T15:18:41Z", "type": "commit"}, {"oid": "79fb019bd6245e8415016dcfc71a75242f298f55", "url": "https://github.com/SpongePowered/SpongeAPI/commit/79fb019bd6245e8415016dcfc71a75242f298f55", "message": "deprecate LaunchProjectileEvent", "committedDate": "2020-05-19T18:06:28Z", "type": "commit"}, {"oid": "d871149cbd3ca6004436e730419b58757affb1cd", "url": "https://github.com/SpongePowered/SpongeAPI/commit/d871149cbd3ca6004436e730419b58757affb1cd", "message": "Fix Account#getBalance javadoc returning the wrong result", "committedDate": "2020-05-30T11:42:41Z", "type": "commit"}, {"oid": "8714ed5ec180c484040f751c1435bf8536a996fe", "url": "https://github.com/SpongePowered/SpongeAPI/commit/8714ed5ec180c484040f751c1435bf8536a996fe", "message": "Merge SerializationBehaviors.METADATA_ONLY addition. Merges #2084\n\nSigned-off-by: Gabriel Harris-Rouquette <gabizou@me.com>", "committedDate": "2020-05-31T22:11:04Z", "type": "commit"}, {"oid": "96bb9d1b806a4ac8758d53f2784f4acf5fe66218", "url": "https://github.com/SpongePowered/SpongeAPI/commit/96bb9d1b806a4ac8758d53f2784f4acf5fe66218", "message": "Fix completion with allOf element\n\nFixes #2126", "committedDate": "2020-06-02T17:41:49Z", "type": "commit"}, {"oid": "4e17b0a7b2ae122d98494e13cc058e5f09f0ec03", "url": "https://github.com/SpongePowered/SpongeAPI/commit/4e17b0a7b2ae122d98494e13cc058e5f09f0ec03", "message": "Only add child command arguments to context if there are any\n\nFixes #2128", "committedDate": "2020-06-05T23:27:55Z", "type": "commit"}, {"oid": "bd284c2285db20792bddc554615b9fefcf0e8986", "url": "https://github.com/SpongePowered/SpongeAPI/commit/bd284c2285db20792bddc554615b9fefcf0e8986", "message": "Add select and whilst to BlockRay\n\nAdd new functions to replace stopFilter and skipFilter\r\n\r\nThese functions have been deprecated and replaced with whilst and select, along with clearer javadocs.", "committedDate": "2020-06-09T16:14:54Z", "type": "commit"}, {"oid": "bb14b831b537a7b37539eaf6fd3fa72c5090f9c1", "url": "https://github.com/SpongePowered/SpongeAPI/commit/bb14b831b537a7b37539eaf6fd3fa72c5090f9c1", "message": "Use non-deprecated methods from BlockRay, ensure that a hit is selected", "committedDate": "2020-06-09T16:46:54Z", "type": "commit"}, {"oid": "c154fd4b06cddc1dd0f3557f46349eddf681fee1", "url": "https://github.com/SpongePowered/SpongeAPI/commit/c154fd4b06cddc1dd0f3557f46349eddf681fee1", "message": "Add SaveChunkEvent.\n\nSigned-off-by: Chris Sanders <zidane@spongepowered.org>", "committedDate": "2020-06-10T17:36:05Z", "type": "commit"}, {"oid": "e4abe364d98f6f068018fd96525f88f5fb47a0cf", "url": "https://github.com/SpongePowered/SpongeAPI/commit/e4abe364d98f6f068018fd96525f88f5fb47a0cf", "message": "Add simple Placeholder system\n\nThis enables plugins to register their own PlaceholderParsers to the Sponge registry, enabling plugins to provide and access placeholders without needing a third party plugin.\n\nNotably, this PR does NOT include a templating system. This is intentional, to allow plugins to provide their own systems as now.\n\nPart of the ideas from #1891", "committedDate": "2020-06-14T09:27:36Z", "type": "commit"}, {"oid": "712c42d9e5dfc53fed6da9767b930978a1c119e4", "url": "https://github.com/SpongePowered/SpongeAPI/commit/712c42d9e5dfc53fed6da9767b930978a1c119e4", "message": "Bump guice version to 4.2.3 (#2123)", "committedDate": "2020-07-02T19:51:52Z", "type": "commit"}, {"oid": "94d7fb22fcc0b77e5af44b9f9e7dc68534ecc3da", "url": "https://github.com/SpongePowered/SpongeAPI/commit/94d7fb22fcc0b77e5af44b9f9e7dc68534ecc3da", "message": "Delete CODEOWNERS", "committedDate": "2020-07-05T15:12:35Z", "type": "commit"}, {"oid": "1415757c7c73bbd11747bfe7522cebcb734d0a6c", "url": "https://github.com/SpongePowered/SpongeAPI/commit/1415757c7c73bbd11747bfe7522cebcb734d0a6c", "message": "Update to new text library", "committedDate": "2020-07-20T19:19:13Z", "type": "forcePushed"}, {"oid": "45aad2716dcc535e9135fc1383bb7ea4c680fc7d", "url": "https://github.com/SpongePowered/SpongeAPI/commit/45aad2716dcc535e9135fc1383bb7ea4c680fc7d", "message": "Merge branch 'stable-7' into api8", "committedDate": "2020-07-20T19:54:02Z", "type": "forcePushed"}, {"oid": "7330bc23164f9ae62cea00841c4db4e844dfe64c", "url": "https://github.com/SpongePowered/SpongeAPI/commit/7330bc23164f9ae62cea00841c4db4e844dfe64c", "message": "Revert \"Bump guice version to 4.2.3 (#2123)\"\n\nThis reverts commit 712c42d9e5dfc53fed6da9767b930978a1c119e4.", "committedDate": "2020-07-21T08:20:30Z", "type": "commit"}, {"oid": "0eb0e31eecea8287c39b041a599986ba2a1a4b34", "url": "https://github.com/SpongePowered/SpongeAPI/commit/0eb0e31eecea8287c39b041a599986ba2a1a4b34", "message": "Merge branch 'stable-7' into update/7", "committedDate": "2020-07-22T17:58:40Z", "type": "forcePushed"}, {"oid": "24c2f015a465600586cf2ec6f47d80415fbcc3a9", "url": "https://github.com/SpongePowered/SpongeAPI/commit/24c2f015a465600586cf2ec6f47d80415fbcc3a9", "message": "Add defined flags to CommandContext (#2033)\n\n* Allow context to track defined flags for complex flag parsing, such as with optional values.\r\n* Include flags in context snapshot, add flag to context after parsing, and delegate to valueElement for completion when present.\r\n* Inline MARK_TRUE_FUNC", "committedDate": "2020-07-25T09:42:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQ0NzM2MQ==", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2176#discussion_r460447361", "bodyText": "Should turn into Suppliers, DummyObjectProvider is gonna be nuked.", "author": "gabizou", "createdAt": "2020-07-25T21:14:50Z", "path": "src/main/java/org/spongepowered/api/placeholder/PlaceholderParsers.java", "diffHunk": "@@ -22,47 +22,32 @@\n  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  * THE SOFTWARE.\n  */\n-package org.spongepowered.api.event.entity.living;\n+package org.spongepowered.api.placeholder;\n \n-import org.spongepowered.api.entity.living.Humanoid;\n-import org.spongepowered.api.event.Cancellable;\n-import org.spongepowered.api.event.Event;\n-import org.spongepowered.api.util.annotation.eventgen.GenerateFactoryMethod;\n+import org.spongepowered.api.util.generator.dummy.DummyObjectProvider;\n \n /**\n- * Called when a human's level is changed.\n+ * Contains Sponge provided {@link PlaceholderParser}s.\n  */\n-@GenerateFactoryMethod\n-public interface ChangeLevelEvent extends Event, Cancellable {\n+public class PlaceholderParsers {\n \n-    /**\n-     * Gets the {@link Humanoid}.\n-     *\n-     * @return The humanoid\n-     */\n-    Humanoid getHumanoid();\n+    // SORTFIELDS: ON\n \n     /**\n-     * Gets the original level of the human.\n-     *\n-     * @return The original level of the human\n+     * A parser that returns the associated source's current world, if\n+     * applicable, else the default world.\n      */\n-    int getOriginalLevel();\n+    static PlaceholderParser CURRENT_WORLD = DummyObjectProvider.createFor(PlaceholderParser.class, \"CURRENT_WORLD\");", "originalCommit": "0eb0e31eecea8287c39b041a599986ba2a1a4b34", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQ1MTE0OA==", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2176#discussion_r460451148", "bodyText": "Done", "author": "ImMorpheus", "createdAt": "2020-07-25T22:05:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQ0NzM2MQ=="}], "type": "inlineReview"}, {"oid": "ef9bf338f1b12a9e07ba1c1ae989ebde58f9a959", "url": "https://github.com/SpongePowered/SpongeAPI/commit/ef9bf338f1b12a9e07ba1c1ae989ebde58f9a959", "message": "Update Configurate to 3.7", "committedDate": "2020-07-30T20:20:12Z", "type": "commit"}, {"oid": "1507645b78f06f74371f699dfbaa78f82971918a", "url": "https://github.com/SpongePowered/SpongeAPI/commit/1507645b78f06f74371f699dfbaa78f82971918a", "message": "text: Support reading DataContainer text format from Configurate (#2198)", "committedDate": "2020-08-05T08:36:44Z", "type": "commit"}, {"oid": "d7465c68fc188806cb90e1d892c6ff718a2fe737", "url": "https://github.com/SpongePowered/SpongeAPI/commit/d7465c68fc188806cb90e1d892c6ff718a2fe737", "message": "Update Configurate to 3.7.1", "committedDate": "2020-08-10T15:26:44Z", "type": "commit"}, {"oid": "73e9a4015e845e7ebae2dfc1e93d804994c2db14", "url": "https://github.com/SpongePowered/SpongeAPI/commit/73e9a4015e845e7ebae2dfc1e93d804994c2db14", "message": "Clarify Location#getExtent javadocs\n\nSee #2196", "committedDate": "2020-08-15T12:26:22Z", "type": "commit"}, {"oid": "1b3861cc7ed1dfeab6f9b4cfc4bab027e035d041", "url": "https://github.com/SpongePowered/SpongeAPI/commit/1b3861cc7ed1dfeab6f9b4cfc4bab027e035d041", "message": "Add Location#isAvailable\n\nSee #2196", "committedDate": "2020-08-15T12:36:36Z", "type": "commit"}, {"oid": "04ac0913422e99251dbfca455005845f8cd9edf0", "url": "https://github.com/SpongePowered/SpongeAPI/commit/04ac0913422e99251dbfca455005845f8cd9edf0", "message": "Deprecate unused elements of the KickPlayerEvent", "committedDate": "2020-08-15T13:06:05Z", "type": "commit"}, {"oid": "a4f0f0b2bfecfd55be4c7c2c32159d222f402c72", "url": "https://github.com/SpongePowered/SpongeAPI/commit/a4f0f0b2bfecfd55be4c7c2c32159d222f402c72", "message": "Merge branch 'stable-7' into api-8", "committedDate": "2020-08-22T22:18:18Z", "type": "commit"}, {"oid": "a4f0f0b2bfecfd55be4c7c2c32159d222f402c72", "url": "https://github.com/SpongePowered/SpongeAPI/commit/a4f0f0b2bfecfd55be4c7c2c32159d222f402c72", "message": "Merge branch 'stable-7' into api-8", "committedDate": "2020-08-22T22:18:18Z", "type": "forcePushed"}, {"oid": "3643edede0bf63c6f3fb8696963a3b91fe8e1901", "url": "https://github.com/SpongePowered/SpongeAPI/commit/3643edede0bf63c6f3fb8696963a3b91fe8e1901", "message": "Remove ChangeLevelEvent", "committedDate": "2020-08-22T22:28:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY1NTQ4MQ==", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2176#discussion_r479655481", "bodyText": "Extra lines", "author": "Zidane", "createdAt": "2020-08-29T14:34:57Z", "path": "src/main/java/org/spongepowered/api/CatalogTypes.java", "diffHunk": "@@ -220,6 +221,9 @@\n \n     public static final Class<PortalType> PORTAL_TYPE = PortalType.class;\n \n+    public static final Class<PlaceholderParser> PLACEHOLDER_PARSER = PlaceholderParser.class;\n+", "originalCommit": "3643edede0bf63c6f3fb8696963a3b91fe8e1901", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY1NTUyNw==", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2176#discussion_r479655527", "bodyText": "finalize", "author": "Zidane", "createdAt": "2020-08-29T14:35:23Z", "path": "src/main/java/org/spongepowered/api/placeholder/PlaceholderParsers.java", "diffHunk": "@@ -22,47 +22,34 @@\n  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  * THE SOFTWARE.\n  */\n-package org.spongepowered.api.event.entity.living;\n+package org.spongepowered.api.text.placeholder;\n \n-import org.spongepowered.api.entity.living.Humanoid;\n-import org.spongepowered.api.event.Cancellable;\n-import org.spongepowered.api.event.Event;\n-import org.spongepowered.api.util.annotation.eventgen.GenerateFactoryMethod;\n+import org.spongepowered.api.Sponge;\n+\n+import java.util.function.Supplier;\n \n /**\n- * Called when a human's level is changed.\n+ * Contains Sponge provided {@link PlaceholderParser}s.\n  */\n-@GenerateFactoryMethod\n-public interface ChangeLevelEvent extends Event, Cancellable {\n+public class PlaceholderParsers {", "originalCommit": "3643edede0bf63c6f3fb8696963a3b91fe8e1901", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY1NTU2MA==", "url": "https://github.com/SpongePowered/SpongeAPI/pull/2176#discussion_r479655560", "bodyText": "PlaceholderComponent", "author": "Zidane", "createdAt": "2020-08-29T14:35:45Z", "path": "src/main/java/org/spongepowered/api/placeholder/PlaceholderText.java", "diffHunk": "@@ -0,0 +1,132 @@\n+/*\n+ * This file is part of SpongeAPI, licensed under the MIT License (MIT).\n+ *\n+ * Copyright (c) SpongePowered <https://www.spongepowered.org>\n+ * Copyright (c) contributors\n+ *\n+ * Permission is hereby granted, free of charge, to any person obtaining a copy\n+ * of this software and associated documentation files (the \"Software\"), to deal\n+ * in the Software without restriction, including without limitation the rights\n+ * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n+ * copies of the Software, and to permit persons to whom the Software is\n+ * furnished to do so, subject to the following conditions:\n+ *\n+ * The above copyright notice and this permission notice shall be included in\n+ * all copies or substantial portions of the Software.\n+ *\n+ * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+ * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+ * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+ * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+ * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+ * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+ * THE SOFTWARE.\n+ */\n+package org.spongepowered.api.text.placeholder;\n+\n+import net.kyori.adventure.text.Component;\n+import net.kyori.adventure.text.ComponentLike;\n+import net.kyori.adventure.text.TextComponent;\n+import org.checkerframework.checker.nullness.qual.NonNull;\n+import org.spongepowered.api.Sponge;\n+import org.spongepowered.api.util.ResettableBuilder;\n+\n+/**\n+ * A {@link ComponentLike} that can be used in {@link Component} building methods\n+ * that represents a placeholder in text.\n+ *\n+ * <p>A {@link PlaceholderText} is the collection of a {@link PlaceholderParser}\n+ * along with contextual data in the supplied {@link PlaceholderContext},\n+ * enabling its use in a {@link TextComponent} object.</p>\n+ *\n+ * <p>Such placeholders will generally be built from tokenized strings, however\n+ * these objects make no assumption about the format of text templating. Such a\n+ * system can therefore be used by other templating engines without conforming\n+ * to a particular standard.</p>\n+ *\n+ * <p>The {@link PlaceholderContext} is fixed when this object is created, but\n+ * {@link PlaceholderParser#parse(PlaceholderContext)} is not called until\n+ * {@link #asComponent()} is called. Thus, any {@link TextComponent} object that is created\n+ * will reflect the time that the {@link TextComponent} object was requested, and not when\n+ * this object itself was created. It therefore follows that implementations must\n+ * not cache the result of {@link #asComponent()} unless it is known that the supplied\n+ * parser is <strong>not</strong> sensitive to the time of invocation.</p>\n+ */\n+public interface PlaceholderText extends ComponentLike {", "originalCommit": "3643edede0bf63c6f3fb8696963a3b91fe8e1901", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4a8b3c1e81348e88b31d7be0602af1ed16553bc0", "url": "https://github.com/SpongePowered/SpongeAPI/commit/4a8b3c1e81348e88b31d7be0602af1ed16553bc0", "message": "Finalise", "committedDate": "2020-08-29T14:39:45Z", "type": "commit"}, {"oid": "e71e1b119c37797b781aaa7c8681d2e211cefa18", "url": "https://github.com/SpongePowered/SpongeAPI/commit/e71e1b119c37797b781aaa7c8681d2e211cefa18", "message": "Extra line", "committedDate": "2020-08-29T14:40:34Z", "type": "commit"}, {"oid": "d13687ee98d5d60878b5bfd28c00ddeb785bbfe6", "url": "https://github.com/SpongePowered/SpongeAPI/commit/d13687ee98d5d60878b5bfd28c00ddeb785bbfe6", "message": "PlaceholderText -> PlaceholderComponent", "committedDate": "2020-08-29T14:43:10Z", "type": "commit"}, {"oid": "edbdf81ba1c2b9edaab81594e605875da348811d", "url": "https://github.com/SpongePowered/SpongeAPI/commit/edbdf81ba1c2b9edaab81594e605875da348811d", "message": "Fix package", "committedDate": "2020-08-29T14:43:55Z", "type": "commit"}, {"oid": "7b0633742a2cedbf6b46e8627c98064ec503f824", "url": "https://github.com/SpongePowered/SpongeAPI/commit/7b0633742a2cedbf6b46e8627c98064ec503f824", "message": "Add SaveChunkEvent.\n\nSigned-off-by: Chris Sanders <zidane@spongepowered.org>", "committedDate": "2020-08-29T15:02:29Z", "type": "forcePushed"}, {"oid": "7b0633742a2cedbf6b46e8627c98064ec503f824", "url": "https://github.com/SpongePowered/SpongeAPI/commit/7b0633742a2cedbf6b46e8627c98064ec503f824", "message": "Add SaveChunkEvent.\n\nSigned-off-by: Chris Sanders <zidane@spongepowered.org>", "committedDate": "2020-08-29T15:02:29Z", "type": "commit"}]}