{"pr_number": 1177, "pr_title": "Compute: support to set eviction policy in vmss", "pr_createdAt": "2020-05-06T04:11:43Z", "pr_url": "https://github.com/Azure/azure-libraries-for-java/pull/1177", "timeline": [{"oid": "7ecbb31b0b1c436b7a97e4b9d5ee5d8168dc0834", "url": "https://github.com/Azure/azure-libraries-for-java/commit/7ecbb31b0b1c436b7a97e4b9d5ee5d8168dc0834", "message": "Compute: support to set eviction policy in vmss", "committedDate": "2020-05-06T04:09:44Z", "type": "commit"}, {"oid": "fc51707545d7f5eb9a44cbf440753a48aa466be8", "url": "https://github.com/Azure/azure-libraries-for-java/commit/fc51707545d7f5eb9a44cbf440753a48aa466be8", "message": "Compute: deprecate low priority in vmss", "committedDate": "2020-05-06T05:46:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU1Nzc5Ng==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1177#discussion_r420557796", "bodyText": "Probably just withSpotVirtualMachine, as in doc?", "author": "weidongxu-microsoft", "createdAt": "2020-05-06T05:49:15Z", "path": "azure-mgmt-compute/src/main/java/com/microsoft/azure/management/compute/VirtualMachineScaleSet.java", "diffHunk": "@@ -1739,8 +1739,25 @@ WithManagedCreate withNewDataDiskFromImage(int imageLun,\n              *\n              * @return the next stage of the definition\n              */\n-            @Beta(Beta.SinceVersion.V1_11_0)\n+            @Deprecated\n             WithCreate withLowPriorityVirtualMachine(VirtualMachineEvictionPolicyTypes policy);\n+\n+            /**\n+             * Specify that virtual machines in the scale set should be spot priority VMs.\n+             *\n+             * @return the next stage of the definition\n+             */\n+            WithCreate withSpotPriorityVirtualMachine();", "originalCommit": "fc51707545d7f5eb9a44cbf440753a48aa466be8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU2MTA2OQ==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1177#discussion_r420561069", "bodyText": "If so, should we set withSpot() instead of withSpotPriority() in VM?", "author": "xseeseesee", "createdAt": "2020-05-06T06:00:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU1Nzc5Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU2Mzk1Ng==", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1177#discussion_r420563956", "bodyText": "OK, withSpot seems not very intuitive as well. Then keep it as withSpotPriorityVirtualMachine.\nKeep the PR open for a while to see if there is other opinions.", "author": "weidongxu-microsoft", "createdAt": "2020-05-06T06:10:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU1Nzc5Ng=="}], "type": "inlineReview"}, {"oid": "7ce722758c89a94679cd22d8de4537a55a634488", "url": "https://github.com/Azure/azure-libraries-for-java/commit/7ce722758c89a94679cd22d8de4537a55a634488", "message": "Compute: deprecate low priority in vm", "committedDate": "2020-05-06T05:53:40Z", "type": "commit"}]}