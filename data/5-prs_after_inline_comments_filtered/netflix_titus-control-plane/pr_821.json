{"pr_number": 821, "pr_title": "Minor Improvements", "pr_createdAt": "2020-03-25T00:06:10Z", "pr_url": "https://github.com/Netflix/titus-control-plane/pull/821", "timeline": [{"oid": "a72740a7f45ae983d06e102fdfe2183e9dd7cee0", "url": "https://github.com/Netflix/titus-control-plane/commit/a72740a7f45ae983d06e102fdfe2183e9dd7cee0", "message": "change jobDescriptor annotation payload to use the json API representation\nadd explicit ipv4 task attribute\nadd ipv6 task attribute if the container has an ipv6 address\nadd job id and application to passthrough attributes", "committedDate": "2020-03-25T00:04:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk0MjEwOA==", "url": "https://github.com/Netflix/titus-control-plane/pull/821#discussion_r397942108", "bodyText": "Does it mean this field is not processed yet by VK?", "author": "tbak", "createdAt": "2020-03-25T15:23:40Z", "path": "titus-server-master/src/main/java/com/netflix/titus/master/mesos/kubeapiserver/KubeUtil.java", "diffHunk": "@@ -234,8 +238,13 @@ public static String getNodeIpV4Address(V1Node node) {\n         annotations.put(\"containerInfo\", encodedContainerInfo);\n \n         if (includeJobDescriptor) {\n-            String jobDescriptorJson = CommonObjectMappers.writeValueAsString(ObjectMappers.storeMapper(), job.getJobDescriptor());\n-            annotations.put(\"jobDescriptor\", StringExt.gzipAndBase64Encode(jobDescriptorJson));\n+            JobDescriptor grpcJobDescriptor = GrpcJobManagementModelConverters.toGrpcJobDescriptor(job.getJobDescriptor());", "originalCommit": "a72740a7f45ae983d06e102fdfe2183e9dd7cee0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk1ODI5NA==", "url": "https://github.com/Netflix/titus-control-plane/pull/821#discussion_r397958294", "bodyText": "correct", "author": "corindwyer", "createdAt": "2020-03-25T15:43:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzk0MjEwOA=="}], "type": "inlineReview"}]}