{"pr_number": 329, "pr_title": "[Analytcis] Minimize visibility of classes and methods", "pr_createdAt": "2020-03-26T03:17:50Z", "pr_url": "https://github.com/aws-amplify/amplify-android/pull/329", "timeline": [{"oid": "4783539866c9cc503c4043e14e5a0761f4449759", "url": "https://github.com/aws-amplify/amplify-android/commit/4783539866c9cc503c4043e14e5a0761f4449759", "message": "Minimize accessibility whereever possible", "committedDate": "2020-03-24T22:54:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODYyNjE0MQ==", "url": "https://github.com/aws-amplify/amplify-android/pull/329#discussion_r398626141", "bodyText": "Without specifying public, doesn't it default to package-private which leads consumers of Amplify not to be able to view this?", "author": "TrekSoft", "createdAt": "2020-03-26T14:41:16Z", "path": "aws-analytics-pinpoint/src/main/java/com/amplifyframework/analytics/pinpoint/AmazonPinpointAnalyticsPluginConfiguration.java", "diffHunk": "@@ -18,32 +18,29 @@\n /**\n  * Configuration options for Amplify Analytics Pinpoint plugin.\n  */\n-public final class AmazonPinpointAnalyticsPluginConfiguration {\n+final class AmazonPinpointAnalyticsPluginConfiguration {", "originalCommit": "4783539866c9cc503c4043e14e5a0761f4449759", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODcyNzY1OA==", "url": "https://github.com/aws-amplify/amplify-android/pull/329#discussion_r398727658", "bodyText": "Yes; this is the key question. Should a user have access to this object, or it better internal? Unless we have a use case in mind where the user should interact with this thing, lesser access is the better default.", "author": "jamesonwilliams", "createdAt": "2020-03-26T16:48:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODYyNjE0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODc2MTE1OA==", "url": "https://github.com/aws-amplify/amplify-android/pull/329#discussion_r398761158", "bodyText": "If we're making this change, so that the customer can only provide JSON configuration,  having a configuration object at all might be extraneous. We already don't have one in Storage and the one in API seems like an unnecessary extra step where we read the JSON into the configuration object only to then read the same data back out of the configuration object.", "author": "TrekSoft", "createdAt": "2020-03-26T17:33:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODYyNjE0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkxNTk1Mw==", "url": "https://github.com/aws-amplify/amplify-android/pull/329#discussion_r398915953", "bodyText": "In our design the Plugin implementations are a development entry point. Kind of like an Activity class in Android. So, you could easily build a functioning system by writing all of your code in this class. But, the implementation will only grows, as features / bugfixes come in. So, the best thing you can do is to defensively split stuff out of the plugin implementation from the get-go. A reasonable question to ask at each iteration is \"how can I decouple my business logic from this plugin class?\"", "author": "jamesonwilliams", "createdAt": "2020-03-26T21:54:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODYyNjE0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5MjY4MQ==", "url": "https://github.com/aws-amplify/amplify-android/pull/329#discussion_r398892681", "bodyText": "How come this is getting removed? Isn't this PR about changing visibility of class/feild members? But, this looks like a functional change.", "author": "jamesonwilliams", "createdAt": "2020-03-26T21:05:57Z", "path": "aws-analytics-pinpoint/src/main/java/com/amplifyframework/analytics/pinpoint/AmazonPinpointAnalyticsPlugin.java", "diffHunk": "@@ -324,14 +324,6 @@ public void configure(@NonNull JSONObject pluginConfiguration, @NonNull Context\n                                 .getLong(PinpointConfigurationKey.AUTO_FLUSH_INTERVAL.getConfigurationKey()));\n             }\n \n-            if (pluginConfiguration", "originalCommit": "4783539866c9cc503c4043e14e5a0761f4449759", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzI3MzUzOA==", "url": "https://github.com/aws-amplify/amplify-android/pull/329#discussion_r403273538", "bodyText": "Oh I should have kept it separate but this does not change the functionality. This flag is not required since the session is defined by app being in foreground and background rather than by time interval. So concept of time interval doesn't make sense anymore.", "author": "desokroshan", "createdAt": "2020-04-03T19:41:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5MjY4MQ=="}], "type": "inlineReview"}, {"oid": "22395a03d60b43d7fc2d40bfc0689db0e9e1b7a0", "url": "https://github.com/aws-amplify/amplify-android/commit/22395a03d60b43d7fc2d40bfc0689db0e9e1b7a0", "message": "Merge branch 'master' into roshan/analytics-minimize-accessibility", "committedDate": "2020-04-03T19:56:15Z", "type": "commit"}]}