{"pr_number": 479, "pr_title": "[aws-datastore] Minor code style tweaks in SQLiteStorageAdapter", "pr_createdAt": "2020-05-17T05:53:32Z", "pr_url": "https://github.com/aws-amplify/amplify-android/pull/479", "timeline": [{"oid": "d9209c669bc19810dec0ae27428268f3a36b907b", "url": "https://github.com/aws-amplify/amplify-android/commit/d9209c669bc19810dec0ae27428268f3a36b907b", "message": "[aws-datastore] Minor code style rweaks in SQLiteStorageAdapter", "committedDate": "2020-05-17T05:52:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI0NTcxOQ==", "url": "https://github.com/aws-amplify/amplify-android/pull/479#discussion_r426245719", "bodyText": "Outside of the bounds of this PR, but we don't need to actually transit data from SQLite here. You could change \"*\" to \"1\" given all we are doing is checking the count of returned rows in the cursor.", "author": "jpignata", "createdAt": "2020-05-17T10:44:30Z", "path": "aws-datastore/src/main/java/com/amplifyframework/datastore/storage/sqlite/SQLiteStorageAdapter.java", "diffHunk": "@@ -732,16 +732,11 @@ private boolean dataExistsInSQLiteTable(\n             @NonNull String columnName,\n             @NonNull String columnValue) {\n         // SELECT * FROM '{tableName}' WHERE {columnName} = '{columnValue}'\n-        final String queryString = new StringBuilder()\n-                .append(SqlKeyword.SELECT).append(SqlKeyword.DELIMITER)\n-                .append(\"*\").append(SqlKeyword.DELIMITER)\n-                .append(SqlKeyword.FROM).append(SqlKeyword.DELIMITER)\n-                .append(Quotes.wrapInSingle(tableName)).append(SqlKeyword.DELIMITER)\n-                .append(SqlKeyword.WHERE).append(SqlKeyword.DELIMITER)\n-                .append(columnName).append(SqlKeyword.DELIMITER)\n-                .append(SqlKeyword.EQUAL).append(SqlKeyword.DELIMITER)\n-                .append(Quotes.wrapInSingle(columnValue))\n-                .toString();\n+        final String queryString = \"\" +\n+            SqlKeyword.SELECT + SqlKeyword.DELIMITER + \"*\" + SqlKeyword.DELIMITER +", "originalCommit": "d9209c669bc19810dec0ae27428268f3a36b907b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI1ODA0Nw==", "url": "https://github.com/aws-amplify/amplify-android/pull/479#discussion_r426258047", "bodyText": "Aha! TIL https://stackoverflow.com/a/7171072/695787\nLet's do it in a separate PR", "author": "jamesonwilliams", "createdAt": "2020-05-17T12:52:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI0NTcxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI0NTgzOQ==", "url": "https://github.com/aws-amplify/amplify-android/pull/479#discussion_r426245839", "bodyText": "Unused?", "author": "jpignata", "createdAt": "2020-05-17T10:45:36Z", "path": "aws-datastore/src/main/java/com/amplifyframework/datastore/storage/sqlite/SQLiteStorageAdapter.java", "diffHunk": "@@ -785,11 +774,6 @@ private Completable updateModels() {\n         return gson.getAdapter(itemClass).fromJson(modelInJsonFormat);\n     }\n \n-    @VisibleForTesting\n-    Cursor getQueryAllCursor(@NonNull String tableName) throws DataStoreException {", "originalCommit": "d9209c669bc19810dec0ae27428268f3a36b907b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI1Nzk2MQ==", "url": "https://github.com/aws-amplify/amplify-android/pull/479#discussion_r426257961", "bodyText": "'Twas, 'twas", "author": "jamesonwilliams", "createdAt": "2020-05-17T12:51:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI0NTgzOQ=="}], "type": "inlineReview"}, {"oid": "68a3acfffb263447707d4f627d785d18a946ce9c", "url": "https://github.com/aws-amplify/amplify-android/commit/68a3acfffb263447707d4f627d785d18a946ce9c", "message": "Merge remote-tracking branch 'origin/master' into sqlite_adapter_minor_formats", "committedDate": "2020-05-17T13:03:33Z", "type": "commit"}]}