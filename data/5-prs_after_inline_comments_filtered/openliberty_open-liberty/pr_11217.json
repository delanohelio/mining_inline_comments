{"pr_number": 11217, "pr_title": "fix clientManagement ui bug", "pr_createdAt": "2020-03-06T18:49:33Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/11217", "timeline": [{"oid": "1b617ce032fb0d96c531c1f621b747fafdf44b86", "url": "https://github.com/OpenLiberty/open-liberty/commit/1b617ce032fb0d96c531c1f621b747fafdf44b86", "message": "fix one double login bug, fix clientManagement ui bug", "committedDate": "2020-03-06T18:48:13Z", "type": "commit"}, {"oid": "9ff8795b0b5f574f4b71433adf60c115e2cd40b1", "url": "https://github.com/OpenLiberty/open-liberty/commit/9ff8795b0b5f574f4b71433adf60c115e2cd40b1", "message": "add tokenmanagement ui endpoints to secured list", "committedDate": "2020-03-13T17:24:00Z", "type": "commit"}, {"oid": "88b21f8e3cb5c6f8d0c25763575bcd229aee226c", "url": "https://github.com/OpenLiberty/open-liberty/commit/88b21f8e3cb5c6f8d0c25763575bcd229aee226c", "message": "add client mgmt as oidc protected endpoint", "committedDate": "2020-03-16T20:47:17Z", "type": "commit"}, {"oid": "e9f415ec06b326d93006ba0f95cb291a94a6b1cf", "url": "https://github.com/OpenLiberty/open-liberty/commit/e9f415ec06b326d93006ba0f95cb291a94a6b1cf", "message": "Merge remote-tracking branch 'origin/integration' into oidc_ui_problems", "committedDate": "2020-03-17T14:55:38Z", "type": "commit"}, {"oid": "1d7afb74f0ca47fb4c86ecbad74a4b6416bddc15", "url": "https://github.com/OpenLiberty/open-liberty/commit/1d7afb74f0ca47fb4c86ecbad74a4b6416bddc15", "message": "revert change to oidc server impl", "committedDate": "2020-03-23T22:32:49Z", "type": "commit"}, {"oid": "d2d651a76062359b7243eff4638a2108e307ea7c", "url": "https://github.com/OpenLiberty/open-liberty/commit/d2d651a76062359b7243eff4638a2108e307ea7c", "message": "remove print statement", "committedDate": "2020-03-23T22:37:29Z", "type": "commit"}, {"oid": "a33b1fc4b73bd4ef2e18ae8b1b01e1e3d42a44c5", "url": "https://github.com/OpenLiberty/open-liberty/commit/a33b1fc4b73bd4ef2e18ae8b1b01e1e3d42a44c5", "message": "remove print statement take2", "committedDate": "2020-03-23T22:38:53Z", "type": "commit"}, {"oid": "837493268e2b30fd38d1c30615ae770e56a802d3", "url": "https://github.com/OpenLiberty/open-liberty/commit/837493268e2b30fd38d1c30615ae770e56a802d3", "message": "remove print statement take2", "committedDate": "2020-03-23T22:39:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ2NDc0NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11217#discussion_r397464745", "bodyText": "Removing the LibertyOAuth20Provider.KEY_CLIENT_TRUSTED_URI_PREFIXES.equals(attributeId) check in isUnsupportedRegistrationAttribute() should make this if statement superfluous.", "author": "ayoho", "createdAt": "2020-03-24T21:13:40Z", "path": "dev/com.ibm.ws.security.oauth/src/com/ibm/ws/security/oauth20/web/OAuth20ClientMetatypeService.java", "diffHunk": "@@ -236,14 +236,17 @@ private JsonObject createMetatypeJsonForObjectClassDefinition(MetaTypeInformatio\n \n     @Trivial\n     private boolean isAttributeToIgnore(AttributeDefinition attrDef) {\n+        if (attrDef.getID().equals(LibertyOAuth20Provider.KEY_CLIENT_TRUSTED_URI_PREFIXES)) {\n+            return false;\n+        }", "originalCommit": "837493268e2b30fd38d1c30615ae770e56a802d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg4OTIyNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11217#discussion_r397889227", "bodyText": "fixed", "author": "brutif", "createdAt": "2020-03-25T14:18:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ2NDc0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ2NjY3Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11217#discussion_r397466677", "bodyText": "HttpServletRequest.getCookies() can return null, which would cause this line to throw an NPE.", "author": "ayoho", "createdAt": "2020-03-24T21:17:36Z", "path": "dev/com.ibm.ws.security.openidconnect.client/src/com/ibm/ws/security/openidconnect/client/internal/OidcClientImpl.java", "diffHunk": "@@ -425,16 +425,33 @@ public ProviderAuthenticationResult authenticate(HttpServletRequest req,\n         return oidcClientAuthenticator.authenticate(req, res, oidcClientConfig);\n     }\n \n+    private boolean requestHasOidcCookie(HttpServletRequest req) {\n+        Cookie[] cookies = req.getCookies();\n+        for (int i = 0; i < cookies.length; i++) {", "originalCommit": "837493268e2b30fd38d1c30615ae770e56a802d3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg4OTExNw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11217#discussion_r397889117", "bodyText": "good catch, fixed", "author": "brutif", "createdAt": "2020-03-25T14:18:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQ2NjY3Nw=="}], "type": "inlineReview"}, {"oid": "51667431a0a565b50dc0ec096a08baf0d4ac1eed", "url": "https://github.com/OpenLiberty/open-liberty/commit/51667431a0a565b50dc0ec096a08baf0d4ac1eed", "message": "updates for code review", "committedDate": "2020-03-25T14:15:39Z", "type": "commit"}]}