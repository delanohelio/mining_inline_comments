{"pr_number": 11548, "pr_title": "Port jca bean validation tests", "pr_createdAt": "2020-03-30T22:21:56Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/11548", "timeline": [{"oid": "1eac52b835f7f65fa850f52b090b97fbfe85f6f9", "url": "https://github.com/OpenLiberty/open-liberty/commit/1eac52b835f7f65fa850f52b090b97fbfe85f6f9", "message": "Update for OL", "committedDate": "2020-03-30T22:22:42Z", "type": "forcePushed"}, {"oid": "08c5c43b785357af5ecd6cce341feac09f8951d6", "url": "https://github.com/OpenLiberty/open-liberty/commit/08c5c43b785357af5ecd6cce341feac09f8951d6", "message": "Update for OL", "committedDate": "2020-03-31T14:56:05Z", "type": "forcePushed"}, {"oid": "280e9cae85ae506cd16d453b78ffaf0b643db893", "url": "https://github.com/OpenLiberty/open-liberty/commit/280e9cae85ae506cd16d453b78ffaf0b643db893", "message": "init upload", "committedDate": "2020-03-31T14:57:11Z", "type": "commit"}, {"oid": "c336bd126895365d545482df04a083f6954fa57e", "url": "https://github.com/OpenLiberty/open-liberty/commit/c336bd126895365d545482df04a083f6954fa57e", "message": "Update for OL", "committedDate": "2020-03-31T14:57:13Z", "type": "commit"}, {"oid": "c336bd126895365d545482df04a083f6954fa57e", "url": "https://github.com/OpenLiberty/open-liberty/commit/c336bd126895365d545482df04a083f6954fa57e", "message": "Update for OL", "committedDate": "2020-03-31T14:57:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4ODc3NQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11548#discussion_r400988775", "bodyText": "can we evaluate the runtime of these test method? Since this one is doing a server restart I expect it takes >5s -- can we move this test and other long-running tests to FULL mode?", "author": "aguibert", "createdAt": "2020-03-31T15:06:19Z", "path": "dev/com.ibm.ws.jca_fat_bval/fat/src/com/ibm/ws/jca/fat/bval/BeanValidationTest.java", "diffHunk": "@@ -0,0 +1,201 @@\n+/*******************************************************************************\n+ * Copyright (c) 2014, 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.jca.fat.bval;\n+\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.fail;\n+\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+\n+import org.junit.After;\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import com.ibm.websphere.simplicity.ShrinkHelper;\n+\n+import componenttest.annotation.ExpectedFFDC;\n+import componenttest.annotation.Server;\n+import componenttest.custom.junit.runner.FATRunner;\n+import componenttest.topology.impl.LibertyServer;\n+import componenttest.topology.utils.FATServletClient;\n+\n+@RunWith(FATRunner.class)\n+public class BeanValidationTest extends FATServletClient {\n+    private static final String BVAL_APP = \"jca-bval\";\n+    private static final String BVAL_RAR = \"BvalRA\";\n+\n+    @Server(\"com.ibm.ws.jca.fat.bval\")\n+    public static LibertyServer server;\n+\n+    @BeforeClass\n+    public static void setUp() throws Exception {\n+        // Create applications\n+        ShrinkHelper.defaultApp(server, BVAL_APP, \"web\", \"web.mdb\");\n+        ShrinkHelper.defaultRar(server, BVAL_RAR, \"com.ibm.bval.jca.adapter\");\n+    }\n+\n+    @AfterClass\n+    public static void tearDown() throws Exception {\n+        if (server.isStarted())\n+            server.stopServer();\n+    }\n+\n+    @After\n+    public void afterEach() throws Exception {\n+        if (server.isStarted())\n+            server.stopServer();\n+    }\n+\n+    /**\n+     * Utility method to run a test on RABValServlet.\n+     *\n+     * @param query query string for the servlet\n+     * @return output of the servlet\n+     * @throws IOException if an error occurs\n+     */\n+    private StringBuilder runInServlet(String queryString) throws Exception {\n+        return runTestWithResponse(server, BVAL_APP, \"testBeanValidation&\" + queryString);\n+    }\n+\n+    @Test\n+    public void testAddAndFind() throws Exception {", "originalCommit": "c336bd126895365d545482df04a083f6954fa57e", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "354d3ea133af7f309566f803fb7cdf7e9e7fec2e", "url": "https://github.com/OpenLiberty/open-liberty/commit/354d3ea133af7f309566f803fb7cdf7e9e7fec2e", "message": "Feedback changes", "committedDate": "2020-04-01T13:59:28Z", "type": "commit"}, {"oid": "354d3ea133af7f309566f803fb7cdf7e9e7fec2e", "url": "https://github.com/OpenLiberty/open-liberty/commit/354d3ea133af7f309566f803fb7cdf7e9e7fec2e", "message": "Feedback changes", "committedDate": "2020-04-01T13:59:28Z", "type": "forcePushed"}, {"oid": "05905f8ea978562e3a0573212bd9615fb0e7dfd4", "url": "https://github.com/OpenLiberty/open-liberty/commit/05905f8ea978562e3a0573212bd9615fb0e7dfd4", "message": "refactor directory names case sensitive on linux", "committedDate": "2020-04-01T14:40:08Z", "type": "commit"}]}