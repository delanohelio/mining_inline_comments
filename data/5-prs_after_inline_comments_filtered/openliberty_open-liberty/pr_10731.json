{"pr_number": 10731, "pr_title": "MP Rest Client 1.4 initial implementation - based on 1.4-RC2", "pr_createdAt": "2020-02-04T23:34:08Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/10731", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxMTkyNA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10731#discussion_r376311924", "bodyText": "Need to test with MP Config 1.4", "author": "tevans78", "createdAt": "2020-02-07T10:11:40Z", "path": "dev/com.ibm.ws.microprofile.rest.client.FT_fat/fat/src/com/ibm/ws/microprofile/rest/client/fat/FATSuite.java", "diffHunk": "@@ -13,10 +13,52 @@\n import org.junit.runner.RunWith;\n import org.junit.runners.Suite;\n import org.junit.runners.Suite.SuiteClasses;\n+import componenttest.rules.repeater.FeatureReplacementAction;\n \n @RunWith(Suite.class)\n @SuiteClasses({\n                 RetryTest.class,\n                 TimeoutTest.class\n })\n-public class FATSuite {}\n+public class FATSuite {\n+    private static final String[] ALL_VERSIONS = {\"1.0\", \"1.1\", \"1.2\", \"1.3\", \"1.4\"};\n+\n+    static FeatureReplacementAction MP_REST_CLIENT(String version, String serverName) {\n+        return MP_REST_CLIENT(new FeatureReplacementAction(), version, serverName);\n+    }\n+\n+    static FeatureReplacementAction MP_REST_CLIENT(FeatureReplacementAction action, String version, String serverName) {\n+        return use(action, \"mpRestClient\", version)\n+                        .withID(\"mpRestClient-\" + version)\n+                        .forServers(serverName);\n+    }\n+\n+    static FeatureReplacementAction MP_REST_CLIENT_WITH_CONFIG(String version, String serverName) {\n+        return MP_REST_CLIENT_WITH_CONFIG(new FeatureReplacementAction(), version, serverName);\n+    }\n+\n+    static FeatureReplacementAction MP_REST_CLIENT_WITH_CONFIG(FeatureReplacementAction action, String version, String serverName) {\n+        action = use(action, \"mpRestClient\", version)\n+                        .withID(\"mpRestClient-\" + version)\n+                        .forServers(serverName);\n+        if (\"1.0\".equals(version) || \"1.1\".equals(version)) {\n+            return use(action, \"mpConfig\", \"1.1\", \"1.3\");\n+        }\n+        return use(action, \"mpConfig\", \"1.3\", \"1.1\");", "originalCommit": "40e24a1710033e0bd753c0281a6cce3a185c9b31", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjQzNDY5OQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10731#discussion_r376434699", "bodyText": "Done, thanks for the review!", "author": "andymc12", "createdAt": "2020-02-07T14:59:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxMTkyNA=="}], "type": "inlineReview"}, {"oid": "34bf017d61c43ae06e15833ca9e03eff24ace4c2", "url": "https://github.com/OpenLiberty/open-liberty/commit/34bf017d61c43ae06e15833ca9e03eff24ace4c2", "message": "Adding mpRestClient-1.4 to tested.features", "committedDate": "2020-02-07T14:54:54Z", "type": "forcePushed"}, {"oid": "ec6ee9cf0542148a1afbceb4f83a36f1bed2127d", "url": "https://github.com/OpenLiberty/open-liberty/commit/ec6ee9cf0542148a1afbceb4f83a36f1bed2127d", "message": "Adding mpRestClient-1.4 to tested.features", "committedDate": "2020-02-07T14:58:18Z", "type": "forcePushed"}, {"oid": "e4ff7a64fce7b408d383fd016df07a64c5650f0b", "url": "https://github.com/OpenLiberty/open-liberty/commit/e4ff7a64fce7b408d383fd016df07a64c5650f0b", "message": "MP Rest Client 1.4 initial implementation - based on 1.4-RC2", "committedDate": "2020-02-10T20:14:28Z", "type": "commit"}, {"oid": "d34a840758f53a90aa67670dd444f05956e0766c", "url": "https://github.com/OpenLiberty/open-liberty/commit/d34a840758f53a90aa67670dd444f05956e0766c", "message": "Adding mpRestClient-1.4 to tested.features", "committedDate": "2020-02-10T20:14:28Z", "type": "commit"}, {"oid": "d34a840758f53a90aa67670dd444f05956e0766c", "url": "https://github.com/OpenLiberty/open-liberty/commit/d34a840758f53a90aa67670dd444f05956e0766c", "message": "Adding mpRestClient-1.4 to tested.features", "committedDate": "2020-02-10T20:14:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU1NjE2Nw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10731#discussion_r377556167", "bodyText": "Just checking... is it right that this test does not use FeatureReplacementAction.EE8_FEATURES() like the others do?", "author": "tevans78", "createdAt": "2020-02-11T10:40:53Z", "path": "dev/com.ibm.ws.microprofile.rest.client_fat/fat/src/com/ibm/ws/microprofile/rest/client/fat/JsonbContextTest.java", "diffHunk": "@@ -33,7 +33,8 @@\n \n     @ClassRule\n     public static RepeatTests r = RepeatTests.withoutModification()\n-        .andWith(FATSuite.MP_REST_CLIENT_WITH_CONFIG(\"1.3\", SERVER_NAME));\n+        .andWith(FATSuite.MP_REST_CLIENT_WITH_CONFIG(\"1.3\", SERVER_NAME))\n+        .andWith(FATSuite.MP_REST_CLIENT_WITH_CONFIG(\"1.4\", SERVER_NAME));", "originalCommit": "d34a840758f53a90aa67670dd444f05956e0766c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQ3NjUwNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/10731#discussion_r378476505", "bodyText": "Yes, that is correct.  JSON-B is only in EE8, so we don't need to run it again with any other EE level (until EE9...).", "author": "andymc12", "createdAt": "2020-02-12T19:50:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU1NjE2Nw=="}], "type": "inlineReview"}]}