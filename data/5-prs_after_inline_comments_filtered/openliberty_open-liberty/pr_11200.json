{"pr_number": 11200, "pr_title": "serialized context fails after mpContextPropagation-1.0 is disabled", "pr_createdAt": "2020-03-05T14:56:03Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/11200", "timeline": [{"oid": "b59ba978787678cc31f6cf32d52d9ba8c9fc2786", "url": "https://github.com/OpenLiberty/open-liberty/commit/b59ba978787678cc31f6cf32d52d9ba8c9fc2786", "message": "Issue #11199 serialized context fails after mpContextPropagation-1.0 is disabled", "committedDate": "2020-03-05T14:54:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM1NTk3Ng==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11200#discussion_r388355976", "bodyText": "What do you think about adding a debug trace if the \"com.ibm.ws.concurrent.mp.cleared.context.provider\" provider is ignored?", "author": "andymc12", "createdAt": "2020-03-05T15:10:58Z", "path": "dev/com.ibm.ws.context/src/com/ibm/ws/context/service/serializable/ThreadContextDescriptorImpl.java", "diffHunk": "@@ -147,7 +147,7 @@ public ThreadContextDescriptorImpl(Map<String, String> execProps, @Sensitive byt\n                     for (int i = 0; i < contextBytes.length; i++) {\n                         String providerName = providerNames.get(i);\n                         ThreadContextProvider contextProvider = threadContextMgr.threadContextProviders.getService(providerName);\n-                        if (contextProvider == null)\n+                        if (contextProvider == null && !\"com.ibm.ws.concurrent.mp.cleared.context.provider\".equals(providerName))", "originalCommit": "b59ba978787678cc31f6cf32d52d9ba8c9fc2786", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NjIxMw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/11200#discussion_r388396213", "bodyText": "I would be willing to add it, but trace for it is already there a couple of lines later:\n                        if (trace && tc.isDebugEnabled())\n                            Tr.debug(this, tc, providerName, contextProvider);\n\nThis will print the provider name, \"com.ibm.ws.concurrent.mp.cleared.context.provider\" along with the value null, where for every other provider name, it will print the provider.", "author": "njr-11", "createdAt": "2020-03-05T16:08:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM1NTk3Ng=="}], "type": "inlineReview"}]}