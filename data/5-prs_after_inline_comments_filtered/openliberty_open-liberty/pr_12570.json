{"pr_number": 12570, "pr_title": "Create websocket-2.0 feature and enable Jakarta run in wsoc FAT ", "pr_createdAt": "2020-06-10T23:35:02Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/12570", "timeline": [{"oid": "10b900f5b5361a32015f4eeb1e889188c257032c", "url": "https://github.com/OpenLiberty/open-liberty/commit/10b900f5b5361a32015f4eeb1e889188c257032c", "message": "Create websocket-2.0 feature, Update addClassToHandlesTypesStartupSet to handle jakarta classes", "committedDate": "2020-06-10T23:37:49Z", "type": "forcePushed"}, {"oid": "b8cd2ef8e49e6125b3a442af3feb989f1589a25a", "url": "https://github.com/OpenLiberty/open-liberty/commit/b8cd2ef8e49e6125b3a442af3feb989f1589a25a", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-06T19:34:27Z", "type": "forcePushed"}, {"oid": "1562d59696190f9ac54c2baf6d3cbc7e09199a67", "url": "https://github.com/OpenLiberty/open-liberty/commit/1562d59696190f9ac54c2baf6d3cbc7e09199a67", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-06T19:52:42Z", "type": "forcePushed"}, {"oid": "84e3d684d5b502b8f894fc59e831e5161f3bd4c8", "url": "https://github.com/OpenLiberty/open-liberty/commit/84e3d684d5b502b8f894fc59e831e5161f3bd4c8", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-06T21:20:49Z", "type": "forcePushed"}, {"oid": "3ca92fe8cece68de1e5a1c90956a68fb6b29915f", "url": "https://github.com/OpenLiberty/open-liberty/commit/3ca92fe8cece68de1e5a1c90956a68fb6b29915f", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T00:29:41Z", "type": "forcePushed"}, {"oid": "ff492b9c785a50ed643fd09960ea5e7c7f9c446d", "url": "https://github.com/OpenLiberty/open-liberty/commit/ff492b9c785a50ed643fd09960ea5e7c7f9c446d", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T13:04:25Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDgzOTQwMA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12570#discussion_r450839400", "bodyText": "This seems unnecessary.  You can just add to websocket-2.0 to the EE9_FEATURES_ARRAY in this class.  You will also need to update the ee7 and ee8 array though to included websocket-1.x there as well.", "author": "jhanders34", "createdAt": "2020-07-07T12:51:21Z", "path": "dev/fattest.simplicity/src/componenttest/rules/repeater/JakartaEE9Action.java", "diffHunk": "@@ -87,6 +87,14 @@ public JakartaEE9Action() {\n         withID(ID);\n     }\n \n+    public JakartaEE9Action(Set<String> removeFeatures, Set<String> addFeatures) {", "originalCommit": "3ca92fe8cece68de1e5a1c90956a68fb6b29915f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg0NTMyOA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12570#discussion_r450845328", "bodyText": "How long does it take to run with the repeat.  Should the withoutModification go with full fat and just the jakartaee9 one be used for lite mode?", "author": "jhanders34", "createdAt": "2020-07-07T13:00:52Z", "path": "dev/io.openliberty.wsoc.internal_fat/fat/src/io/openliberty/wsoc/FATSuite.java", "diffHunk": "@@ -28,12 +35,19 @@\n  * The classes specified in the @SuiteClasses annotation\n  * below should represent all of the test cases for this FAT.\n  */\n-@SuiteClasses({ BasicTest.class, \n+@SuiteClasses({ BasicTest.class,\n                 WebSocket11Test.class\n })\n public class FATSuite {\n     private static final Class<?> c = FATSuite.class;\n \n+    static Set<String> removeFeatures = new HashSet<>(Arrays.asList(\"websocket-1.0\", \"websocket-1.1\"));\n+    static Set<String> addFeatures = new HashSet<>(Arrays.asList(\"websocket-2.0\"));\n+\n+    @ClassRule\n+    public static RepeatTests repeat = RepeatTests.withoutModification()", "originalCommit": "3ca92fe8cece68de1e5a1c90956a68fb6b29915f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDk4MjY5MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12570#discussion_r450982690", "bodyText": "Updated", "author": "volosied", "createdAt": "2020-07-07T16:12:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg0NTMyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAzMzE5Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/12570#discussion_r451033193", "bodyText": "and reverted because tests have the full fat annotation", "author": "volosied", "createdAt": "2020-07-07T17:36:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg0NTMyOA=="}], "type": "inlineReview"}, {"oid": "0f2618cba9a6c7c4b24b133e266d01f9de6752fd", "url": "https://github.com/OpenLiberty/open-liberty/commit/0f2618cba9a6c7c4b24b133e266d01f9de6752fd", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T15:54:21Z", "type": "forcePushed"}, {"oid": "1206a3f5c6d67b0f47b3875dcb9a53d7af0f88bc", "url": "https://github.com/OpenLiberty/open-liberty/commit/1206a3f5c6d67b0f47b3875dcb9a53d7af0f88bc", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T16:24:09Z", "type": "forcePushed"}, {"oid": "ecbeae813aef1c2ac6b88b696854494b9cebe634", "url": "https://github.com/OpenLiberty/open-liberty/commit/ecbeae813aef1c2ac6b88b696854494b9cebe634", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T16:55:00Z", "type": "forcePushed"}, {"oid": "1d2d12c5057b07dcd8434867a36f6799d7909e0c", "url": "https://github.com/OpenLiberty/open-liberty/commit/1d2d12c5057b07dcd8434867a36f6799d7909e0c", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T17:03:21Z", "type": "forcePushed"}, {"oid": "5e7c38ef69dc850f783c48b80ea82321da469473", "url": "https://github.com/OpenLiberty/open-liberty/commit/5e7c38ef69dc850f783c48b80ea82321da469473", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T17:16:47Z", "type": "forcePushed"}, {"oid": "451a18664bfc7bca0779fb1f1e1dc213fc7f4a54", "url": "https://github.com/OpenLiberty/open-liberty/commit/451a18664bfc7bca0779fb1f1e1dc213fc7f4a54", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T17:27:13Z", "type": "forcePushed"}, {"oid": "17336a93115c888181d9967848e32b6bc4565706", "url": "https://github.com/OpenLiberty/open-liberty/commit/17336a93115c888181d9967848e32b6bc4565706", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T17:28:53Z", "type": "forcePushed"}, {"oid": "00fcd6d31005db6e12870c238ed2d6efed76e050", "url": "https://github.com/OpenLiberty/open-liberty/commit/00fcd6d31005db6e12870c238ed2d6efed76e050", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T17:58:03Z", "type": "forcePushed"}, {"oid": "135d0bb37d16defc5b912b735e4a720e843b843d", "url": "https://github.com/OpenLiberty/open-liberty/commit/135d0bb37d16defc5b912b735e4a720e843b843d", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T18:01:24Z", "type": "forcePushed"}, {"oid": "7c18c862fd0216f07fad591446295519e5a86c48", "url": "https://github.com/OpenLiberty/open-liberty/commit/7c18c862fd0216f07fad591446295519e5a86c48", "message": "Enable EE9 Repeat Test in Websocket FAT", "committedDate": "2020-07-07T18:26:02Z", "type": "forcePushed"}, {"oid": "de41a69a25e7f7ff2e4ea0bec5955245a6f3fe31", "url": "https://github.com/OpenLiberty/open-liberty/commit/de41a69a25e7f7ff2e4ea0bec5955245a6f3fe31", "message": "Enable EE9 Repeat Tests to Websocket FAT", "committedDate": "2020-07-07T21:49:44Z", "type": "forcePushed"}, {"oid": "eced19fa6610a33fe122ecc3de10e8efe02edb53", "url": "https://github.com/OpenLiberty/open-liberty/commit/eced19fa6610a33fe122ecc3de10e8efe02edb53", "message": "Enable EE9 Repeat Tests to Websocket FAT", "committedDate": "2020-07-07T22:06:07Z", "type": "forcePushed"}, {"oid": "85b09e0e3bba5f8344a2800dccd1df8aaa7aa12c", "url": "https://github.com/OpenLiberty/open-liberty/commit/85b09e0e3bba5f8344a2800dccd1df8aaa7aa12c", "message": "Enable EE9 Repeat Tests to Websocket FAT", "committedDate": "2020-07-07T22:14:40Z", "type": "forcePushed"}, {"oid": "de2bfcdd118d8e04e94ca282b6d61bf3437d7cc4", "url": "https://github.com/OpenLiberty/open-liberty/commit/de2bfcdd118d8e04e94ca282b6d61bf3437d7cc4", "message": "Enable EE9 Repeat Tests to Websocket FAT", "committedDate": "2020-07-07T22:33:17Z", "type": "forcePushed"}, {"oid": "61d43eb76c71bc127ef032cc2fcba235ea121ecd", "url": "https://github.com/OpenLiberty/open-liberty/commit/61d43eb76c71bc127ef032cc2fcba235ea121ecd", "message": "Enable EE9 Repeat Tests to Websocket FAT", "committedDate": "2020-07-07T22:40:45Z", "type": "forcePushed"}, {"oid": "2f62e9b80f2811fa8de72a4c861348747f5e2936", "url": "https://github.com/OpenLiberty/open-liberty/commit/2f62e9b80f2811fa8de72a4c861348747f5e2936", "message": "Create the jakarta websocket-2.0 feature", "committedDate": "2020-07-08T13:48:50Z", "type": "commit"}, {"oid": "9b873bc69eca3b9762101bf92c6ff2c71f8aeba4", "url": "https://github.com/OpenLiberty/open-liberty/commit/9b873bc69eca3b9762101bf92c6ff2c71f8aeba4", "message": "Add fullFATOnly functionality to EmptyAction", "committedDate": "2020-07-08T13:48:55Z", "type": "commit"}, {"oid": "79f37cb1a5d2f805c4d8256440a4ab1b4d3f8209", "url": "https://github.com/OpenLiberty/open-liberty/commit/79f37cb1a5d2f805c4d8256440a4ab1b4d3f8209", "message": "Enable EE9 Repeat Tests to Websocket FAT", "committedDate": "2020-07-08T13:48:55Z", "type": "commit"}, {"oid": "79f37cb1a5d2f805c4d8256440a4ab1b4d3f8209", "url": "https://github.com/OpenLiberty/open-liberty/commit/79f37cb1a5d2f805c4d8256440a4ab1b4d3f8209", "message": "Enable EE9 Repeat Tests to Websocket FAT", "committedDate": "2020-07-08T13:48:55Z", "type": "forcePushed"}]}