{"pr_number": 13023, "pr_title": "Jakarta Concurrency with Jakarta Enterprise Beans", "pr_createdAt": "2020-07-14T19:16:38Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/13023", "timeline": [{"oid": "f23c8ee8101606f8e3870b611e5a6411db5a0a46", "url": "https://github.com/OpenLiberty/open-liberty/commit/f23c8ee8101606f8e3870b611e5a6411db5a0a46", "message": "Issue #11329 test Jakarta Concurrency with Jakarta Enterprise Beans", "committedDate": "2020-07-14T19:12:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYwMTUxNg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13023#discussion_r454601516", "bodyText": "Eventually this check will evaluate to false once ejblite-4.0 is added to JakartaEEE9Action, so instead lets use this more direct check:\nif (JakartaEE9Action.isActive()) {\n  // ...\n}", "author": "aguibert", "createdAt": "2020-07-14T19:45:51Z", "path": "dev/com.ibm.ws.concurrent_fat_ejb/fat/src/com/ibm/ws/concurrent/ejb/fat/ConcurrentEJBTest.java", "diffHunk": "@@ -38,12 +42,23 @@\n \n     public static final String APP_NAME = \"concurrent\";\n \n+    @ClassRule\n+    public static RepeatTests r = RepeatTests\n+                    .withoutModification()\n+                    .andWith(new JakartaEE9Action());\n+\n     @Server(\"com.ibm.ws.concurrent.fat.ejb\")\n     @TestServlet(servlet = ConcurrentFATServlet.class, path = APP_NAME)\n     public static LibertyServer server;\n \n     @BeforeClass\n     public static void setUp() throws Exception {\n+        ServerConfiguration config = server.getServerConfiguration();\n+        if (config.getFeatureManager().getFeatures().contains(\"servlet-5.0\") && config.getFeatureManager().getFeatures().remove(\"ejblite-3.2\")) {", "originalCommit": "f23c8ee8101606f8e3870b611e5a6411db5a0a46", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYxODkyNQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/13023#discussion_r454618925", "bodyText": "It turns out the whole issue the test was trying to work around here (jndi-1.0 present in ejblite-3.2 but absent from ejblite-4.0) is no longer the case, so this code back can be deleted entirely.  I've added a commit for that.", "author": "njr-11", "createdAt": "2020-07-14T20:18:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYwMTUxNg=="}], "type": "inlineReview"}, {"oid": "80cd3fc63596d85b4e96826652c488cb0f115dd7", "url": "https://github.com/OpenLiberty/open-liberty/commit/80cd3fc63596d85b4e96826652c488cb0f115dd7", "message": "Issue #11329 code review comment to remove unnecessary code", "committedDate": "2020-07-14T20:10:41Z", "type": "commit"}, {"oid": "489f681f17109c50ba30e96027c81a77c6a158b4", "url": "https://github.com/OpenLiberty/open-liberty/commit/489f681f17109c50ba30e96027c81a77c6a158b4", "message": "Merge branch 'integration' into 11329-jakarta-concurrency-with-jakarta-enterprise-beans", "committedDate": "2020-07-15T11:12:27Z", "type": "commit"}]}