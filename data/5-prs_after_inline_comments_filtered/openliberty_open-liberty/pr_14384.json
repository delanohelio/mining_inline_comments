{"pr_number": 14384, "pr_title": "allow components to add additional features when using EE9 repeat action", "pr_createdAt": "2020-10-07T22:48:56Z", "pr_url": "https://github.com/OpenLiberty/open-liberty/pull/14384", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM3NjU4Mg==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14384#discussion_r501376582", "bodyText": "Looks like no change in the code here, just breaking it out into its own method right?", "author": "aguibert", "createdAt": "2020-10-08T00:01:53Z", "path": "dev/fattest.simplicity/src/componenttest/rules/repeater/FeatureReplacementAction.java", "diffHunk": "@@ -417,6 +383,45 @@ public void setup() throws Exception {\n             LibertyClientFactory.getLibertyClient(clientName);\n     }\n \n+    protected void swizzleFeatures(Set<String> features) {", "originalCommit": "7a9822756e1ff589cf23ee46df85cd06db2b18d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM3NzI3MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14384#discussion_r501377270", "bodyText": "Suggested name change: swizzelFeatures --> replaceFeatures", "author": "aguibert", "createdAt": "2020-10-08T00:04:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM3NjU4Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTgzMDQ2Mw==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14384#discussion_r501830463", "bodyText": "Right - I had originally moved that to its own method in order to extend only that functionality.  If we make the change to the base class as you suggested later, then we no longer to split it out.", "author": "andymc12", "createdAt": "2020-10-08T15:53:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM3NjU4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM3NzY5MA==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14384#discussion_r501377690", "bodyText": "If we are going to add this new API I think it makes sense to add it in FeatureReplacementAction so it can apply to all subclasses, rather than only putting it on the JakartaEE9Action", "author": "aguibert", "createdAt": "2020-10-08T00:05:45Z", "path": "dev/fattest.simplicity/src/componenttest/rules/repeater/JakartaEE9Action.java", "diffHunk": "@@ -133,6 +135,11 @@ public JakartaEE9Action addFeatures(Set<String> addFeatures) {\n         return (JakartaEE9Action) super.addFeatures(addFeatures);\n     }\n \n+    public JakartaEE9Action addAdditionalFeatures(Set<String> additionalFeatures) {", "originalCommit": "7a9822756e1ff589cf23ee46df85cd06db2b18d0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM3ODkyMQ==", "url": "https://github.com/OpenLiberty/open-liberty/pull/14384#discussion_r501378921", "bodyText": "Could we do a different name for this method? Without knowing the background it's not clear what \"additional features\" mean. The purpose of this new method is to \"add a feature that will always be added to configs\" (also referred to as \"force adding\"). So perhaps name change addAdditionalFeatures --> forceAddFeature or alwaysAddFeature. Another option could be overloading addFeatures with a boolean param for force add like: addFeatures(Set<String>, boolean forciblyAdd)\nWhatever method signature we go with, javadoc please!", "author": "aguibert", "createdAt": "2020-10-08T00:10:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM3NzY5MA=="}], "type": "inlineReview"}, {"oid": "e41fb1ec2395d89b575cfa4addbea01938d3cb81", "url": "https://github.com/OpenLiberty/open-liberty/commit/e41fb1ec2395d89b575cfa4addbea01938d3cb81", "message": "allow components to add additional features when using EE9 repeat action", "committedDate": "2020-10-08T15:51:32Z", "type": "commit"}, {"oid": "e41fb1ec2395d89b575cfa4addbea01938d3cb81", "url": "https://github.com/OpenLiberty/open-liberty/commit/e41fb1ec2395d89b575cfa4addbea01938d3cb81", "message": "allow components to add additional features when using EE9 repeat action", "committedDate": "2020-10-08T15:51:32Z", "type": "forcePushed"}]}