{"pr_number": 13008, "pr_title": "[WFLY-13065] Options for reverse-proxy max-request-time and connection-idle-timeout are specified as seconds", "pr_createdAt": "2020-02-18T11:04:42Z", "pr_url": "https://github.com/wildfly/wildfly/pull/13008", "timeline": [{"oid": "4cef9c79267d2d3573193f1f6efb3e3857561813", "url": "https://github.com/wildfly/wildfly/commit/4cef9c79267d2d3573193f1f6efb3e3857561813", "message": "[WFLY-13065] Options for reverse-proxy max-request-time and connection-idle-timeout are specified as seconds", "committedDate": "2020-05-20T07:13:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk3NjUzMg==", "url": "https://github.com/wildfly/wildfly/pull/13008#discussion_r427976532", "bodyText": "We need a transformer to deal with this one. If this isn't configured a server running the current version will use 60000 and one running a previous version will us 60. The servers should be consistent, so the transformer would explicitly tell the legacy server to use 60000.\nUnfortunately \"Attribute has a different default value\" at https://docs.wildfly.org/19.1/Extending_WildFly.html#common-transformation-use-cases doesn't explicitly illustrate how to do this", "author": "bstansberry", "createdAt": "2020-05-20T12:41:18Z", "path": "undertow/src/main/java/org/wildfly/extension/undertow/handlers/ReverseProxyHandler.java", "diffHunk": "@@ -95,8 +96,8 @@\n     public static final AttributeDefinition CONNECTION_IDLE_TIMEOUT = new SimpleAttributeDefinitionBuilder(Constants.CONNECTION_IDLE_TIMEOUT, ModelType.INT)\n             .setRequired(false)\n             .setAllowExpression(true)\n-            .setDefaultValue(new ModelNode(60L))\n-            .setMeasurementUnit(MeasurementUnit.SECONDS)\n+            .setDefaultValue(new ModelNode(60000))", "originalCommit": "4cef9c79267d2d3573193f1f6efb3e3857561813", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "757e380760103ef65c4e5574891c559c3ee2100f", "url": "https://github.com/wildfly/wildfly/commit/757e380760103ef65c4e5574891c559c3ee2100f", "message": "[WFLY-13065] Options for reverse-proxy max-request-time and connection-idle-timeout are specified as seconds", "committedDate": "2020-05-20T17:57:50Z", "type": "commit"}, {"oid": "757e380760103ef65c4e5574891c559c3ee2100f", "url": "https://github.com/wildfly/wildfly/commit/757e380760103ef65c4e5574891c559c3ee2100f", "message": "[WFLY-13065] Options for reverse-proxy max-request-time and connection-idle-timeout are specified as seconds", "committedDate": "2020-05-20T17:57:50Z", "type": "forcePushed"}]}