{"pr_number": 3962, "pr_title": "remove ConcurrentMapChunkCache", "pr_createdAt": "2020-05-17T01:55:55Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/3962", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk0MzQ1OQ==", "url": "https://github.com/MovingBlocks/Terasology/pull/3962#discussion_r504943459", "bodyText": "I guess this needs to be JOML-ified now?", "author": "skaldarnar", "createdAt": "2020-10-14T20:10:32Z", "path": "engine/src/main/java/org/terasology/world/chunks/localChunkProvider/LocalChunkProvider.java", "diffHunk": "@@ -112,38 +111,23 @@\n \n     private BlockManager blockManager;\n     private ExtraBlockDataManager extraDataManager;\n-    private final ChunkCache chunkCache;\n-    private final Supplier<ChunkFinalizer> chunkFinalizerSupplier;\n+    private final Map<Vector3i, Chunk> chunkCache = Maps.newConcurrentMap();", "originalCommit": "a7d77d3c56dfd36cdc901ce0ed481635a53e8feb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk0NzE0Nw==", "url": "https://github.com/MovingBlocks/Terasology/pull/3962#discussion_r504947147", "bodyText": "when is the \"end of the chunk overhaul\"? \ud83e\udd14", "author": "skaldarnar", "createdAt": "2020-10-14T20:17:43Z", "path": "engine/src/main/java/org/terasology/world/chunks/localChunkProvider/LocalChunkProvider.java", "diffHunk": "@@ -112,38 +111,23 @@\n \n     private BlockManager blockManager;\n     private ExtraBlockDataManager extraDataManager;\n-    private final ChunkCache chunkCache;\n-    private final Supplier<ChunkFinalizer> chunkFinalizerSupplier;\n+    private final Map<Vector3i, Chunk> chunkCache = Maps.newConcurrentMap();\n     private BlockEntityRegistry registry;\n \n+    //TODO: Michael Pollind -- if we have more then one finalizer use  Supplier<ChunkFinalizer[]> and ChunkFinalizer[]\n+    private final Supplier<ChunkFinalizer> chunkFinalizerSupplier;\n     private ChunkFinalizer chunkFinalizer;\n \n-    //TODO Remove this old constructor at the end of the chunk overhaul", "originalCommit": "a7d77d3c56dfd36cdc901ce0ed481635a53e8feb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk0ODA5Mg==", "url": "https://github.com/MovingBlocks/Terasology/pull/3962#discussion_r504948092", "bodyText": "What do we need to store the supplier as member here? When is it used?", "author": "skaldarnar", "createdAt": "2020-10-14T20:19:26Z", "path": "engine/src/main/java/org/terasology/world/chunks/localChunkProvider/LocalChunkProvider.java", "diffHunk": "@@ -112,38 +111,23 @@\n \n     private BlockManager blockManager;\n     private ExtraBlockDataManager extraDataManager;\n-    private final ChunkCache chunkCache;\n-    private final Supplier<ChunkFinalizer> chunkFinalizerSupplier;\n+    private final Map<Vector3i, Chunk> chunkCache = Maps.newConcurrentMap();\n     private BlockEntityRegistry registry;\n \n+    //TODO: Michael Pollind -- if we have more then one finalizer use  Supplier<ChunkFinalizer[]> and ChunkFinalizer[]\n+    private final Supplier<ChunkFinalizer> chunkFinalizerSupplier;", "originalCommit": "a7d77d3c56dfd36cdc901ce0ed481635a53e8feb", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "193d44f5670535b0245c90814dc7b56ed655c05f", "url": "https://github.com/MovingBlocks/Terasology/commit/193d44f5670535b0245c90814dc7b56ed655c05f", "message": "remove ConcurrentMapChunkCache", "committedDate": "2020-10-15T04:35:41Z", "type": "commit"}, {"oid": "193d44f5670535b0245c90814dc7b56ed655c05f", "url": "https://github.com/MovingBlocks/Terasology/commit/193d44f5670535b0245c90814dc7b56ed655c05f", "message": "remove ConcurrentMapChunkCache", "committedDate": "2020-10-15T04:35:41Z", "type": "forcePushed"}]}