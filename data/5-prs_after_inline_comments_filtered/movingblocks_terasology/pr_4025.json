{"pr_number": 4025, "pr_title": "fix: do not skip setting default world generator", "pr_createdAt": "2020-06-02T20:34:18Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/4025", "timeline": [{"oid": "7585a2d8b05cacc6b8df4010d621ea24edf5805e", "url": "https://github.com/MovingBlocks/Terasology/commit/7585a2d8b05cacc6b8df4010d621ea24edf5805e", "message": "fix: do not skip setting default world generator for default gameplay module", "committedDate": "2020-06-02T20:22:36Z", "type": "commit"}, {"oid": "fa406a6bfe2ca4dee5f147a3a1ac1de20291f98f", "url": "https://github.com/MovingBlocks/Terasology/commit/fa406a6bfe2ca4dee5f147a3a1ac1de20291f98f", "message": "fix: remove use of raw types", "committedDate": "2020-06-02T20:23:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI4NjQyMg==", "url": "https://github.com/MovingBlocks/Terasology/pull/4025#discussion_r435286422", "bodyText": "Why did this become necessary?\nIt looks like the default generator was only used under a specific condition. Now you are potentially overwriting the generator, regardless the value of configDefaultModuleName.\nThe changes to DefaultWorldGeneratorPluginLibrary.java are fixing the issue on their own btw.", "author": "kBlaszczyk", "createdAt": "2020-06-04T14:07:44Z", "path": "engine/src/main/java/org/terasology/rendering/nui/layers/mainMenu/NewGameScreen.java", "diffHunk": "@@ -268,9 +268,7 @@ public void onOpened() {\n         if (defaultGameplayModule != null) {\n             gameplay.setSelection(defaultGameplayModule);\n \n-            if (configDefaultModuleName.equalsIgnoreCase(DEFAULT_GAME_TEMPLATE_NAME)) {\n-                setDefaultGeneratorOfGameplayModule(defaultGameplayModule);\n-            }\n+            setDefaultGeneratorOfGameplayModule(defaultGameplayModule);", "originalCommit": "fa406a6bfe2ca4dee5f147a3a1ac1de20291f98f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTMyMDQyNg==", "url": "https://github.com/MovingBlocks/Terasology/pull/4025#discussion_r435320426", "bodyText": "Yeah, that specific condition was \"is the default module Josharias Survival?\"\nwhy that specific condition, that is a good question, I wish I knew.\n\nNow you are potentially overwriting the generator\n\noverwriting it? The problem I was encountering is that it wasn't written in the first place.\nUnder what conditions do we not want the default generator to be set?\n(I think some things here could be clearer if we separated some of this world-configuration code from the UI callbacks, but that's more than I wanted to bite off at the moment.)", "author": "keturn", "createdAt": "2020-06-04T14:51:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI4NjQyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM3Nzg0OA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4025#discussion_r435377848", "bodyText": "I was able to reproduce the necessity of this change.", "author": "kBlaszczyk", "createdAt": "2020-06-04T16:08:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI4NjQyMg=="}], "type": "inlineReview"}]}