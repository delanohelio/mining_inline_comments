{"pr_number": 3970, "pr_title": "maint: upgrade gradle to 6.4 from 6.0", "pr_createdAt": "2020-05-19T16:39:38Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/3970", "timeline": [{"oid": "204d3cb694a0d745d5f44ef22636992aa8116570", "url": "https://github.com/MovingBlocks/Terasology/commit/204d3cb694a0d745d5f44ef22636992aa8116570", "message": "maint: include module classes in :facades:PC:run", "committedDate": "2020-05-23T17:47:34Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MzE4NQ==", "url": "https://github.com/MovingBlocks/Terasology/pull/3970#discussion_r429583185", "bodyText": "Using Optional::get surrounded by try-catch is an anti-pattern to me. Instead, use Optional::orElseThrow:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    try {\n          \n          \n            \n                        this.textureMat = Assets.getMaterial(\"engine:UITexture\").get();\n          \n          \n            \n                    } catch (java.util.NoSuchElementException noSuch) {\n          \n          \n            \n                        // Some extra attention to how this is reported, because this is often the first asset we try to load.\n          \n          \n            \n                        throw new RuntimeException(\"Failing to find engine textures\", noSuch);\n          \n          \n            \n                    }\n          \n          \n            \n                    this.textureMat = \n          \n          \n            \n                        Assets.getMaterial(\"engine:UITexture\")\n          \n          \n            \n                            .orElseThrow(e -> throw new RuntimeException(\"Failing to find engine textures\", e));", "author": "skaldarnar", "createdAt": "2020-05-23T22:31:08Z", "path": "engine/src/main/java/org/terasology/rendering/nui/internal/LwjglCanvasRenderer.java", "diffHunk": "@@ -113,7 +113,12 @@\n \n     public LwjglCanvasRenderer(Context context) {\n         // TODO use context to get assets instead of static methods\n-        this.textureMat = Assets.getMaterial(\"engine:UITexture\").get();\n+        try {\n+            this.textureMat = Assets.getMaterial(\"engine:UITexture\").get();\n+        } catch (java.util.NoSuchElementException noSuch) {\n+            // Some extra attention to how this is reported, because this is often the first asset we try to load.\n+            throw new RuntimeException(\"Failing to find engine textures\", noSuch);\n+        }", "originalCommit": "00effbea0e0b310633e430a088ff0c28f8069e14", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTY2NjU1Mw==", "url": "https://github.com/MovingBlocks/Terasology/pull/3970#discussion_r429666553", "bodyText": "Trivial but: two lines instead of three here? Can probably combine the first two and still have the .orElseThrow flow nicely?", "author": "Cervator", "createdAt": "2020-05-24T19:18:12Z", "path": "engine/src/main/java/org/terasology/rendering/nui/internal/LwjglCanvasRenderer.java", "diffHunk": "@@ -113,7 +113,9 @@\n \n     public LwjglCanvasRenderer(Context context) {\n         // TODO use context to get assets instead of static methods\n-        this.textureMat = Assets.getMaterial(\"engine:UITexture\").get();\n+        this.textureMat = ", "originalCommit": "fbaf5f4807050f8545b4dfc88430b5f0c1d7ab81", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e05bdeaa72a476da078100d7f9229eb7a130ef42", "url": "https://github.com/MovingBlocks/Terasology/commit/e05bdeaa72a476da078100d7f9229eb7a130ef42", "message": "gradle: modernize dependency declarations\n\nthese were deprecated.", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "1c75727e67378d3184032e7a0222f580051f0671", "url": "https://github.com/MovingBlocks/Terasology/commit/1c75727e67378d3184032e7a0222f580051f0671", "message": "gradle: update snowplow to 0.9.0\n\nthey've started publishing to jcenter and bintray, no longer need their own repository.", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "4717e12f47f1a1bb9256cf636967eccc424c40c5", "url": "https://github.com/MovingBlocks/Terasology/commit/4717e12f47f1a1bb9256cf636967eccc424c40c5", "message": "gradle: it's spelled EXCLUDE", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "e9cd37e4811198650f5f3ac120c02b9867d49f17", "url": "https://github.com/MovingBlocks/Terasology/commit/e9cd37e4811198650f5f3ac120c02b9867d49f17", "message": "tidy unused import", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "4664bff959ec3bda05f3b273dd524725282e5aea", "url": "https://github.com/MovingBlocks/Terasology/commit/4664bff959ec3bda05f3b273dd524725282e5aea", "message": "gradle upgrade to 6.4.1", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "c24b4bcbc2b0df98c77340203ee847a9a77e055f", "url": "https://github.com/MovingBlocks/Terasology/commit/c24b4bcbc2b0df98c77340203ee847a9a77e055f", "message": "gradle: use java \"application\" plugin for the facade.", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "48fdae4f79cf8aaf02226ebee18ae5beb54c9a1e", "url": "https://github.com/MovingBlocks/Terasology/commit/48fdae4f79cf8aaf02226ebee18ae5beb54c9a1e", "message": "update gradle & groovy wrappers\n\nmakes groovy work with post-2018 gradle.\nhttps://github.com/MovingBlocks/groovy-wrapper/pull/4", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "129a914be8e7503e204da67cfa9cae9b5dd29899", "url": "https://github.com/MovingBlocks/Terasology/commit/129a914be8e7503e204da67cfa9cae9b5dd29899", "message": "gradle(modules): skip modules without modules.txt\n\nand remove some redundant directory-setting", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "57bd4dfcc0994314c0f117d8e11922163ff3173c", "url": "https://github.com/MovingBlocks/Terasology/commit/57bd4dfcc0994314c0f117d8e11922163ff3173c", "message": "maint(gradle): tidy some repository declarations", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "cd20b4f4461a6e98c73677e28966287653557a27", "url": "https://github.com/MovingBlocks/Terasology/commit/cd20b4f4461a6e98c73677e28966287653557a27", "message": "feat(facades): provide run tasks", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "8ffa463e81f39c98bf21e294362f7ec77b11a6ce", "url": "https://github.com/MovingBlocks/Terasology/commit/8ffa463e81f39c98bf21e294362f7ec77b11a6ce", "message": "maint(gradle): tidy", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "f0c0b27c15505d923c4693d38a7a094c1bfff6e2", "url": "https://github.com/MovingBlocks/Terasology/commit/f0c0b27c15505d923c4693d38a7a094c1bfff6e2", "message": "maint(gradle): snowplow needn't be both impl and api", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "3a92737ddbc67a8961cdfaa7ad40d61ed007289c", "url": "https://github.com/MovingBlocks/Terasology/commit/3a92737ddbc67a8961cdfaa7ad40d61ed007289c", "message": "feat(groovyw): don't refresh build.gradle for directories without module.txt", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "be55e2ae79022c22855f0eee808b92ae39c0325d", "url": "https://github.com/MovingBlocks/Terasology/commit/be55e2ae79022c22855f0eee808b92ae39c0325d", "message": "maint(gradle): clean up logging/prints", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "6be6cf1381341eb409a671c3cb704fcbafe2ad84", "url": "https://github.com/MovingBlocks/Terasology/commit/6be6cf1381341eb409a671c3cb704fcbafe2ad84", "message": "maint(gradle): allowInsecureProtocol where necessary", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "f5c9d4f8b773c588e298e0f6a5ebc443a53d1d70", "url": "https://github.com/MovingBlocks/Terasology/commit/f5c9d4f8b773c588e298e0f6a5ebc443a53d1d70", "message": "maint: include module classes in :facades:PC:run", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "769ffcdceb7402f9698c70b74d387673ee2e804f", "url": "https://github.com/MovingBlocks/Terasology/commit/769ffcdceb7402f9698c70b74d387673ee2e804f", "message": "fix(engine): null checks and exception messages\n\nFor various things I ran in to while my build was a little messed up. Doesn't make things less broken, but hopefully makes it easier to see what the broken part is.", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "6cc2a20f997e56d82b7ddb8362ac4e4aaeb4e1ef", "url": "https://github.com/MovingBlocks/Terasology/commit/6cc2a20f997e56d82b7ddb8362ac4e4aaeb4e1ef", "message": "fix(build): artifactory is insecure \ud83d\ude31", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "ed4a915f15c9bdc563f0de24c308d8667153fb68", "url": "https://github.com/MovingBlocks/Terasology/commit/ed4a915f15c9bdc563f0de24c308d8667153fb68", "message": "fix(build): be sure copyResourcesToClasses always runs when `classes` task does\n\n`classes` depends on both compileJava and resources.\n\nThis is enabling the jank, but I am trying to limit the scope of this PR.", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "2cc7f75eb161395b87109a08af07be80f78db921", "url": "https://github.com/MovingBlocks/Terasology/commit/2cc7f75eb161395b87109a08af07be80f78db921", "message": "fix(build): remove stray debug settings", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "3104f79674cadea14e7237b56bc07c0fcbb5860a", "url": "https://github.com/MovingBlocks/Terasology/commit/3104f79674cadea14e7237b56bc07c0fcbb5860a", "message": "doc(gradle): insecure repositories are scary\n\nCo-authored-by: Tobias Nett <skaldarnar@googlemail.com>", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "9e6f33e1e5e4c24b9f26c0b6a5a5540d4f34df78", "url": "https://github.com/MovingBlocks/Terasology/commit/9e6f33e1e5e4c24b9f26c0b6a5a5540d4f34df78", "message": "refactor(engine): prefer `orElseThrow` on Option instead of try/catch\n\nCo-authored-by: Tobias Nett <skaldarnar@googlemail.com>", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "7afa3fd8609609952af3de28fb8e144d9ab5116d", "url": "https://github.com/MovingBlocks/Terasology/commit/7afa3fd8609609952af3de28fb8e144d9ab5116d", "message": "refactor(build): declare module test dependencies", "committedDate": "2020-05-24T21:12:22Z", "type": "commit"}, {"oid": "1a57e3194d14160c47098ff8aa06dc9f53245042", "url": "https://github.com/MovingBlocks/Terasology/commit/1a57e3194d14160c47098ff8aa06dc9f53245042", "message": "refactor(build): remove duplicate api & implementation dependencies", "committedDate": "2020-05-24T21:33:17Z", "type": "commit"}, {"oid": "d70d1c2e969a31d763261c5ff3ea57a41165d0d0", "url": "https://github.com/MovingBlocks/Terasology/commit/d70d1c2e969a31d763261c5ff3ea57a41165d0d0", "message": "chore(build): match crashreporter version to engine's", "committedDate": "2020-05-24T21:33:53Z", "type": "commit"}, {"oid": "0e947302705b4b0e2c04b7f03130f9e525549f81", "url": "https://github.com/MovingBlocks/Terasology/commit/0e947302705b4b0e2c04b7f03130f9e525549f81", "message": "chore: tidying\n\nreviewers assure me these aren't needed", "committedDate": "2020-05-24T21:35:24Z", "type": "commit"}, {"oid": "386a127f08d8aa5102907bee43a74222f9c1edb9", "url": "https://github.com/MovingBlocks/Terasology/commit/386a127f08d8aa5102907bee43a74222f9c1edb9", "message": "doc: explain why this asset gets extra error handling", "committedDate": "2020-05-24T21:44:09Z", "type": "commit"}, {"oid": "4bb290128f336657d09faf7b3ae059a3a2d45648", "url": "https://github.com/MovingBlocks/Terasology/commit/4bb290128f336657d09faf7b3ae059a3a2d45648", "message": "config(idea): wrap long lines at some point", "committedDate": "2020-05-24T21:44:41Z", "type": "commit"}, {"oid": "4bb290128f336657d09faf7b3ae059a3a2d45648", "url": "https://github.com/MovingBlocks/Terasology/commit/4bb290128f336657d09faf7b3ae059a3a2d45648", "message": "config(idea): wrap long lines at some point", "committedDate": "2020-05-24T21:44:41Z", "type": "forcePushed"}]}