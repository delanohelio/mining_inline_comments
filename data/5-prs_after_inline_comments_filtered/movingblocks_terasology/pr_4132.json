{"pr_number": 4132, "pr_title": "chore: Extract relevance code for ChunkProvider's to RelevanceSystem", "pr_createdAt": "2020-08-18T21:27:04Z", "pr_url": "https://github.com/MovingBlocks/Terasology/pull/4132", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjEwOTA5OA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4132#discussion_r476109098", "bodyText": "Eh? If this is inaccurate why not remove it, rather than comment it out? Or did it apply to the whole package before? Which might have been a good thing?", "author": "Cervator", "createdAt": "2020-08-25T03:19:49Z", "path": "engine/src/main/java/org/terasology/protobuf/package-info.java", "diffHunk": "@@ -13,7 +13,7 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-@Generated(\"com.google.protobuf\")\n+//@Generated(\"com.google.protobuf\")", "originalCommit": "4810f38ad98eba8dd0ee5e1c621a62eda3576f76", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE0MzIxNw==", "url": "https://github.com/MovingBlocks/Terasology/pull/4132#discussion_r476143217", "bodyText": "Oh, forget.", "author": "DarkWeird", "createdAt": "2020-08-25T04:09:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjEwOTA5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjExNzgzNw==", "url": "https://github.com/MovingBlocks/Terasology/pull/4132#discussion_r476117837", "bodyText": "If you spot classes with empty Javadoc blocks like this please see if you could either fill them in with meaningful documentation (best option!) or just delete them. They were created accidentally long ago when we had auto-generated @author blocks and removed all of them (leaving the otherwise empty blocks)", "author": "Cervator", "createdAt": "2020-08-25T03:32:26Z", "path": "engine/src/main/java/org/terasology/world/chunks/localChunkProvider/LocalChunkProvider.java", "diffHunk": "@@ -73,50 +56,37 @@\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;\n-import java.util.Comparator;\n import java.util.Iterator;\n import java.util.List;\n-import java.util.Map;\n import java.util.Set;\n import java.util.concurrent.BlockingQueue;\n-import java.util.concurrent.locks.ReadWriteLock;\n-import java.util.concurrent.locks.ReentrantReadWriteLock;\n import java.util.function.Supplier;\n \n /**\n+ *", "originalCommit": "4810f38ad98eba8dd0ee5e1c621a62eda3576f76", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE0NTQyMA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4132#discussion_r476145420", "bodyText": "Coming soon.. in second part of refactoring", "author": "DarkWeird", "createdAt": "2020-08-25T04:12:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjExNzgzNw=="}], "type": "inlineReview"}, {"oid": "689773b8852177b31ecd67b1dec6627eca0a7b1e", "url": "https://github.com/MovingBlocks/Terasology/commit/689773b8852177b31ecd67b1dec6627eca0a7b1e", "message": "chore: Extract relevance code for ChunkProvider's to RelevanceSystem", "committedDate": "2020-08-26T06:21:21Z", "type": "commit"}, {"oid": "ecc25eeb2946ef99303a99ef481444d107b2616d", "url": "https://github.com/MovingBlocks/Terasology/commit/ecc25eeb2946ef99303a99ef481444d107b2616d", "message": "doc: Add javadocs to RelevanceSystem", "committedDate": "2020-08-26T06:21:21Z", "type": "commit"}, {"oid": "86703ad8e1be9467293a1254532120f3ac46b550", "url": "https://github.com/MovingBlocks/Terasology/commit/86703ad8e1be9467293a1254532120f3ac46b550", "message": "refactor: rename RelevanceSystem's methods", "committedDate": "2020-08-26T06:21:21Z", "type": "commit"}, {"oid": "256adff499cf1844ace1b77dcc09438677a6e78d", "url": "https://github.com/MovingBlocks/Terasology/commit/256adff499cf1844ace1b77dcc09438677a6e78d", "message": "chore: Copyright, remove unused constructor parameter", "committedDate": "2020-08-26T06:21:21Z", "type": "commit"}, {"oid": "4b2fa078758e6c9a95cc4661ae877f29bf262ac4", "url": "https://github.com/MovingBlocks/Terasology/commit/4b2fa078758e6c9a95cc4661ae877f29bf262ac4", "message": "fix: fix constructor usage with remove parameter", "committedDate": "2020-08-26T06:21:21Z", "type": "commit"}, {"oid": "0b5beb84dd9bfed449cf006d95ec1a203f91b9cb", "url": "https://github.com/MovingBlocks/Terasology/commit/0b5beb84dd9bfed449cf006d95ec1a203f91b9cb", "message": "chore: revert package-info.java for protobuf", "committedDate": "2020-08-26T06:21:21Z", "type": "commit"}, {"oid": "0b5beb84dd9bfed449cf006d95ec1a203f91b9cb", "url": "https://github.com/MovingBlocks/Terasology/commit/0b5beb84dd9bfed449cf006d95ec1a203f91b9cb", "message": "chore: revert package-info.java for protobuf", "committedDate": "2020-08-26T06:21:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg2NDk4MA==", "url": "https://github.com/MovingBlocks/Terasology/pull/4132#discussion_r478864980", "bodyText": "is this code threaded? wondering why this is removed, my assumption is that you found out this is single threaded. looking around a bit it seems like that is the case.", "author": "pollend", "createdAt": "2020-08-28T06:48:09Z", "path": "engine/src/main/java/org/terasology/world/chunks/localChunkProvider/LocalChunkProvider.java", "diffHunk": "@@ -338,15 +245,9 @@ private void generateQueuedEntities(EntityStore store) {\n \n     @Override\n     public void beginUpdate() {\n-        regionLock.readLock().lock();\n-        try {\n-            updateRelevance();\n-            deactivateBlocks();\n-            checkForUnload();\n-            makeChunksAvailable();\n-        } finally {\n-            regionLock.readLock().unlock();\n-        }", "originalCommit": "0b5beb84dd9bfed449cf006d95ec1a203f91b9cb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg3MzQ1Mg==", "url": "https://github.com/MovingBlocks/Terasology/pull/4132#discussion_r478873452", "bodyText": "regionLock really need used only by updateRelevance, which was moved to RelevanceSystem(regionLock moved there also)", "author": "DarkWeird", "createdAt": "2020-08-28T07:09:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg2NDk4MA=="}], "type": "inlineReview"}]}