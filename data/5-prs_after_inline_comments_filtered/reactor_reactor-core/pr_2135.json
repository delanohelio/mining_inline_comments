{"pr_number": 2135, "pr_title": "[doc] Polish doc of Iterable operators, clarify iterator() calls", "pr_createdAt": "2020-04-24T14:36:48Z", "pr_url": "https://github.com/reactor/reactor-core/pull/2135", "timeline": [{"oid": "c88fe5b20901eb285701ea2633f79603b6a86605", "url": "https://github.com/reactor/reactor-core/commit/c88fe5b20901eb285701ea2633f79603b6a86605", "message": "[doc] Polish doc of Iterable operators, clarify iterator() calls\n\nThis commit improves the javadoc from #2014:\n - missed adding the javadoc discard tags to `fromIterable` and\n `fromStream`\n - align javadocs of `concatMapIterable` and `flatMapIterable` since\n they are aliases\n\nIt also improves the wording and clarifies that `flatMapIterable` and\n`fromIterable` discard support can lead to multiple `iterator()` calls.\n\nFixes #2127", "committedDate": "2020-04-24T14:30:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDYzNjg3MQ==", "url": "https://github.com/reactor/reactor-core/pull/2135#discussion_r414636871", "bodyText": "I'd put this attribute after the double iterator() clarification, otherwise it reads as a detail of discard and will be ignored", "author": "bsideup", "createdAt": "2020-04-24T14:51:05Z", "path": "reactor-core/src/main/java/reactor/core/publisher/Flux.java", "diffHunk": "@@ -979,10 +979,16 @@\n \n \t/**\n \t * Create a {@link Flux} that emits the items contained in the provided {@link Iterable}.\n-\t * A new iterator will be created for each subscriber.\n+\t * The {@link Iterable#iterator()} method will be invoked at least once and at most twice\n+\t * for each subscriber (see onDiscard information below).\n \t * <p>\n \t * <img class=\"marble\" src=\"doc-files/marbles/fromIterable.svg\" alt=\"\">\n \t *\n+\t * @reactor.discard Upon cancellation, this operator attempts to discard remainder of the", "originalCommit": "c88fe5b20901eb285701ea2633f79603b6a86605", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDcxMDgzNw==", "url": "https://github.com/reactor/reactor-core/pull/2135#discussion_r414710837", "bodyText": "actually I see that Intellij still doesn't show all the content of these custom tags. Maybe we need to rework all that part of the javadoc to mention the discard caveats in the body and just use the tags as markers or something \ud83e\udd14", "author": "simonbasle", "createdAt": "2020-04-24T16:36:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDYzNjg3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDcxMTE1Mw==", "url": "https://github.com/reactor/reactor-core/pull/2135#discussion_r414711153", "bodyText": "in the meantime, the tag is only rendered out of the body of the javadoc when generating HTML", "author": "simonbasle", "createdAt": "2020-04-24T16:37:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDYzNjg3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDczODI0Nw==", "url": "https://github.com/reactor/reactor-core/pull/2135#discussion_r414738247", "bodyText": "@bsideup I have reworked the javadoc a bit, introducing a bit of duplication as an example of how info could be split between tag and javadoc body (so that IDE still convey important information if they don't display the tags)", "author": "simonbasle", "createdAt": "2020-04-24T17:21:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDYzNjg3MQ=="}], "type": "inlineReview"}, {"oid": "eda88ab534c1717331571a6bd77ade9bbbf0899a", "url": "https://github.com/reactor/reactor-core/commit/eda88ab534c1717331571a6bd77ade9bbbf0899a", "message": "polish javadoc further, change Mono, duplicate information in body and tag", "committedDate": "2020-04-24T17:19:45Z", "type": "commit"}]}