{"pr_number": 3556, "pr_title": "Feature/log readfile error log path", "pr_createdAt": "2020-06-11T12:39:11Z", "pr_url": "https://github.com/dockstore/dockstore/pull/3556", "timeline": [{"oid": "c7556a642188d4e6f7e62d68cb19de2b54131488", "url": "https://github.com/dockstore/dockstore/commit/c7556a642188d4e6f7e62d68cb19de2b54131488", "message": "include file name in log for io exception from readfile", "committedDate": "2020-06-10T20:03:39Z", "type": "commit"}, {"oid": "0b50c1fe4b4c43eb37e095794930599155a90a67", "url": "https://github.com/dockstore/dockstore/commit/0b50c1fe4b4c43eb37e095794930599155a90a67", "message": "improve the error message for the readFile call", "committedDate": "2020-06-10T20:24:49Z", "type": "commit"}, {"oid": "3fcde73c68ad537ed8d2ebca568cd28a9d6217ea", "url": "https://github.com/dockstore/dockstore/commit/3fcde73c68ad537ed8d2ebca568cd28a9d6217ea", "message": "some more improvements to logging", "committedDate": "2020-06-10T20:31:01Z", "type": "commit"}, {"oid": "7b5ff20d01f6e70df10da3c94dd958dc4533bc95", "url": "https://github.com/dockstore/dockstore/commit/7b5ff20d01f6e70df10da3c94dd958dc4533bc95", "message": "a few more logging updates", "committedDate": "2020-06-10T20:31:54Z", "type": "commit"}, {"oid": "95e74da341c87824ebdb8ea31131ef5547e0fd12", "url": "https://github.com/dockstore/dockstore/commit/95e74da341c87824ebdb8ea31131ef5547e0fd12", "message": "throw exception when cannot reach the repository on github", "committedDate": "2020-06-11T14:03:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgxNDEyNg==", "url": "https://github.com/dockstore/dockstore/pull/3556#discussion_r438814126", "bodyText": "In the past, this might bring down a refresh org or refresh all. But since we're getting rid of those, it hopefully doesn't matter.", "author": "denis-yuen", "createdAt": "2020-06-11T14:07:55Z", "path": "dockstore-webservice/src/main/java/io/dockstore/webservice/helpers/GitHubSourceCodeRepo.java", "diffHunk": "@@ -118,8 +118,8 @@ public String readFile(String repositoryId, String fileName, String reference) {\n         try {\n             repo = github.getRepository(repositoryId);\n         } catch (IOException e) {\n-            LOG.error(gitUsername + \": IOException on readFile \" + e.getMessage());\n-            return null;\n+            LOG.error(gitUsername + \": IOException on readFile while trying to get the repository \" + repositoryId + \" \" + e.getMessage());\n+            throw new CustomWebApplicationException(\"Could not get repository \" + repositoryId + \" from GitHub.\", HttpStatus.SC_BAD_REQUEST);", "originalCommit": "95e74da341c87824ebdb8ea31131ef5547e0fd12", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg2MjA1Mg==", "url": "https://github.com/dockstore/dockstore/pull/3556#discussion_r438862052", "bodyText": "I don't know this code that well, but this seems like a big change. What happens if a workflow imports 3 files, but it only finds two of the files? Before this change, would there be a \"partial\" version, with some of the files, and now there will be none?", "author": "coverbeck", "createdAt": "2020-06-11T15:16:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgxNDEyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg3NDk0Mw==", "url": "https://github.com/dockstore/dockstore/pull/3556#discussion_r438874943", "bodyText": "Follow up thought -- if we weren't doing a null check when this is being invoked, then this is better than it was.", "author": "coverbeck", "createdAt": "2020-06-11T15:32:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgxNDEyNg=="}], "type": "inlineReview"}, {"oid": "ed1c5662bd8268b0a505791c363b675755d6096b", "url": "https://github.com/dockstore/dockstore/commit/ed1c5662bd8268b0a505791c363b675755d6096b", "message": "print exception as well", "committedDate": "2020-06-11T18:11:41Z", "type": "commit"}, {"oid": "1ee2da1b9eb9ad2b68581b54a324f5d4c7a4ae71", "url": "https://github.com/dockstore/dockstore/commit/1ee2da1b9eb9ad2b68581b54a324f5d4c7a4ae71", "message": "Merge branch 'develop' into feature/log-readfile-error-log-path", "committedDate": "2020-06-11T18:31:43Z", "type": "commit"}, {"oid": "0f9bc0d8c77744f3da2e326df64b61aa9239bfa6", "url": "https://github.com/dockstore/dockstore/commit/0f9bc0d8c77744f3da2e326df64b61aa9239bfa6", "message": "Merge branch 'develop' into feature/log-readfile-error-log-path", "committedDate": "2020-06-11T20:36:24Z", "type": "commit"}, {"oid": "ea7eb679a1cf8c7f64dff58789a42751e2070c4d", "url": "https://github.com/dockstore/dockstore/commit/ea7eb679a1cf8c7f64dff58789a42751e2070c4d", "message": "Merge branch 'develop' into feature/log-readfile-error-log-path", "committedDate": "2020-06-12T12:59:46Z", "type": "commit"}]}