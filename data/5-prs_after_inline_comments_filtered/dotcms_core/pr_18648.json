{"pr_number": 18648, "pr_title": "Additional fix for 18525", "pr_createdAt": "2020-06-11T20:00:04Z", "pr_url": "https://github.com/dotCMS/core/pull/18648", "timeline": [{"oid": "c6b0110f024e7ff505ae6845e918293f48d215fa", "url": "https://github.com/dotCMS/core/commit/c6b0110f024e7ff505ae6845e918293f48d215fa", "message": "#18525 Fixing issue that prevented archived related content being retrieved. This change only affects legacy relationship", "committedDate": "2020-06-11T19:51:06Z", "type": "commit"}, {"oid": "b336fa2c82ae817882e27adbd744bc294743d1ca", "url": "https://github.com/dotCMS/core/commit/b336fa2c82ae817882e27adbd744bc294743d1ca", "message": "#18525 Fixing JS error that prevented legacy relationships being rendered in Edit Contentlet portlet", "committedDate": "2020-06-11T19:51:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAzOTk0Mw==", "url": "https://github.com/dotCMS/core/pull/18648#discussion_r439039943", "bodyText": "the checkout already nulls the inode", "author": "dsilvam", "createdAt": "2020-06-11T20:09:03Z", "path": "dotCMS/src/integration-test/java/com/dotcms/content/elasticsearch/business/ESContentFactoryImplTest.java", "diffHunk": "@@ -734,4 +734,121 @@ public void test_translateQueryWithLicense(){\n         assertFalse(\n                 translatedQuery.getQuery().contains(\"-basetype:\" + BaseContentType.FORM.getType()));\n     }\n+\n+    /**\n+     * Method to test: {@link ESContentFactoryImpl#findContentletByIdentifierAnyLanguage(String)}\n+     * Given Scenario: Happy path to get a contentlet given its identifier regardless of the language\n+     * ExpectedResult: The method should return a contentlet\n+     *\n+     * @throws DotSecurityException\n+     * @throws DotDataException\n+     */\n+    @Test\n+    public void test_findContentletByIdentifierAnyLanguage()\n+            throws DotSecurityException, DotDataException {\n+\n+        final ContentletAPI contentletAPI = APILocator.getContentletAPI();\n+        final User user = APILocator.systemUser();\n+        final Language language1 = new LanguageDataGen().nextPersisted();\n+        final Language language2 = new LanguageDataGen().nextPersisted();\n+\n+        final ContentType bannerLikeContentType = TestDataUtils.getBannerLikeContentType();\n+\n+        final Contentlet banner1 = TestDataUtils\n+                .getBannerLikeContent(true, language1.getId(), bannerLikeContentType.id(), null);\n+\n+        Contentlet banner2 = contentletAPI.checkout(banner1.getInode(), APILocator.systemUser(), false);\n+\n+        banner2.setLanguageId(language2.getId());\n+        banner2.setInode(\"\");", "originalCommit": "b336fa2c82ae817882e27adbd744bc294743d1ca", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA1NDMzOA==", "url": "https://github.com/dotCMS/core/pull/18648#discussion_r439054338", "bodyText": "Done", "author": "nollymar", "createdAt": "2020-06-11T20:30:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAzOTk0Mw=="}], "type": "inlineReview"}, {"oid": "faa47bd32525d698974dbb4f72dc3d0fff2ee7c6", "url": "https://github.com/dotCMS/core/commit/faa47bd32525d698974dbb4f72dc3d0fff2ee7c6", "message": "#18525 Removing unnecessary set of inode. Code review suggestion", "committedDate": "2020-06-11T20:30:16Z", "type": "commit"}]}