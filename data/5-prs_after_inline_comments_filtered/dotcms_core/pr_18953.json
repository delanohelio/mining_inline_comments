{"pr_number": 18953, "pr_title": "#18951 : When the root path (\"/\") is being requested for the System Hos\u2026", "pr_createdAt": "2020-07-22T22:33:42Z", "pr_url": "https://github.com/dotCMS/core/pull/18953", "timeline": [{"oid": "65ee66da0efac7d89561f73f703a3deb3fa1c654", "url": "https://github.com/dotCMS/core/commit/65ee66da0efac7d89561f73f703a3deb3fa1c654", "message": "#18951 : When the root path (\"/\") is being request for the System Host or any other Site, the API must return the internal `/System folder` instance. In specific circumstances, during the Reindex Process, the Folder Factory is failing to read the `/System folder` appropriately. By calling the `findSystemFolder()` method now, we're making sure that the API is either (1) retrieving de System Folder from cache or the DB, or (2) re-creating it in case it has been deleted somehow.", "committedDate": "2020-07-22T22:32:47Z", "type": "commit"}, {"oid": "9e80ae97cc6c16b4ef1a832b6d391d69688ee490", "url": "https://github.com/dotCMS/core/commit/9e80ae97cc6c16b4ef1a832b6d391d69688ee490", "message": "#18951 Adding ITs", "committedDate": "2020-08-19T23:17:26Z", "type": "commit"}, {"oid": "ae4dbb3e4ce7ea32f27e1d401c9d545b35fabdb6", "url": "https://github.com/dotCMS/core/commit/ae4dbb3e4ce7ea32f27e1d401c9d545b35fabdb6", "message": "Merge branch 'master' of https://github.com/dotCMS/core into issue-18951-reindex-intermittently-failing-to-retrieve-parent-folder", "committedDate": "2020-08-19T23:26:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQzNTU0OQ==", "url": "https://github.com/dotCMS/core/pull/18953#discussion_r473435549", "bodyText": "Codacy found an issue: A method/constructor should not explicitly throw java.lang.Exception", "author": "dev-dotcms", "createdAt": "2020-08-19T23:34:21Z", "path": "dotCMS/src/integration-test/java/com/dotmarketing/portlets/folders/business/FolderFactoryImplTest.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package com.dotmarketing.portlets.folders.business;\n+\n+import static com.dotmarketing.portlets.folders.business.FolderAPI.SYSTEM_FOLDER_PARENT_PATH;\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+import com.dotcms.datagen.FolderDataGen;\n+import com.dotcms.datagen.SiteDataGen;\n+import com.dotcms.util.IntegrationTestInitService;\n+import com.dotmarketing.beans.Host;\n+import com.dotmarketing.business.APILocator;\n+import com.dotmarketing.business.CacheLocator;\n+import com.dotmarketing.exception.DotDataException;\n+import com.dotmarketing.portlets.folders.model.Folder;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+\n+public class FolderFactoryImplTest {\n+\n+    @BeforeClass\n+    public static void prepare() throws Exception {", "originalCommit": "ae4dbb3e4ce7ea32f27e1d401c9d545b35fabdb6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQzNTU2Mg==", "url": "https://github.com/dotCMS/core/pull/18953#discussion_r473435562", "bodyText": "Codacy found an issue: Avoid unused imports such as 'com.dotmarketing.portlets.folders.business.FolderAPI.SYSTEM_FOLDER_PARENT_PATH'", "author": "dev-dotcms", "createdAt": "2020-08-19T23:34:22Z", "path": "dotCMS/src/integration-test/java/com/dotmarketing/portlets/folders/business/FolderFactoryImplTest.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package com.dotmarketing.portlets.folders.business;\n+\n+import static com.dotmarketing.portlets.folders.business.FolderAPI.SYSTEM_FOLDER_PARENT_PATH;", "originalCommit": "ae4dbb3e4ce7ea32f27e1d401c9d545b35fabdb6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}