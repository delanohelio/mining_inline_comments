{"pr_number": 18713, "pr_title": "#18587  fix for the secretes getting wiped out", "pr_createdAt": "2020-06-19T04:47:24Z", "pr_url": "https://github.com/dotCMS/core/pull/18713", "timeline": [{"oid": "95a877392ec49237b48925bca9abe52a5d452e98", "url": "https://github.com/dotCMS/core/commit/95a877392ec49237b48925bca9abe52a5d452e98", "message": "#18587  fix for the secretes getting wiped out", "committedDate": "2020-06-19T04:32:00Z", "type": "commit"}, {"oid": "e8d85f03b92f93573c0fd3bc35660b7d5ebb07ba", "url": "https://github.com/dotCMS/core/commit/e8d85f03b92f93573c0fd3bc35660b7d5ebb07ba", "message": "#18587  optmized imports", "committedDate": "2020-06-19T14:33:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkzNzIwMQ==", "url": "https://github.com/dotCMS/core/pull/18713#discussion_r442937201", "bodyText": "Shouldn't we have also a Postman test for this one?", "author": "dsilvam", "createdAt": "2020-06-19T16:28:20Z", "path": "dotCMS/src/integration-test/java/com/dotcms/rest/api/v1/apps/AppsResourceTest.java", "diffHunk": "@@ -363,6 +367,95 @@ public void Test_Create_App_descriptor_Then_Create_App_Integration_Then_Delete_O\n         }\n     }\n \n+    /**\n+     * Test we save a secret that is described as 1 public value and 2 hidden ones\n+     * Given scenario: We create a secret then we update the non-hidden (public) values and send a string of asters like the UI would\n+     * Expected Result: Only the public value  was supposed to be updated. The other 2 hidden fields should remain the same since we sent a bunch of *****\n+     * @throws IOException\n+     */\n+    @Test\n+    public void Test_Create_App_descriptor_Then_Create_App_Integration_Then_Update_Secrets()", "originalCommit": "95a877392ec49237b48925bca9abe52a5d452e98", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkzODY2Ng==", "url": "https://github.com/dotCMS/core/pull/18713#discussion_r442938666", "bodyText": "Well for one.. the validation I perform here can not be done from postman. Since at this level I can still access the values of the secrets. If I attempt the same validation from an http client. The hidden values would have got through the serializer that changes hidden secrets by a string of asters so the final values would look like '*****' making it not possible to do the same type of validation.\nAnd.. would it be a bit redundant... Cuz I'm testing here the Resource per se. I don't think it makes sense to have the same test written twice.\nMaybe we should state what needs to be tested from postman and what needs to be tested from code.", "author": "fabrizzio-dotCMS", "createdAt": "2020-06-19T16:31:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkzNzIwMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk0OTM4MQ==", "url": "https://github.com/dotCMS/core/pull/18713#discussion_r442949381", "bodyText": "Sure makes sense. What we need is some postman coverage against these resources. Doesn't have to be with this particular case. Because if someone changes the endpoint path in code, an integration won't catch that... because it hits the java class directly.", "author": "dsilvam", "createdAt": "2020-06-19T16:55:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjkzNzIwMQ=="}], "type": "inlineReview"}]}