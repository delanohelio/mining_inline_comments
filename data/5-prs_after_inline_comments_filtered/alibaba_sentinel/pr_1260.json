{"pr_number": 1260, "pr_title": "Better compatibility of dashboard to sentinel-transport-simple-http", "pr_createdAt": "2020-01-16T06:24:06Z", "pr_url": "https://github.com/alibaba/Sentinel/pull/1260", "timeline": [{"oid": "7885a4c424d3d63aa367173b9ea35ea86fe563c7", "url": "https://github.com/alibaba/Sentinel/commit/7885a4c424d3d63aa367173b9ea35ea86fe563c7", "message": "Better compatibility of dashboard to legacy and new sentinel-transport-simple-http(on Content-Type)", "committedDate": "2020-01-16T06:20:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4NDM3OQ==", "url": "https://github.com/alibaba/Sentinel/pull/1260#discussion_r368284379", "bodyText": "Shall we add some comments here?", "author": "sczyh30", "createdAt": "2020-01-19T10:49:45Z", "path": "sentinel-dashboard/src/main/java/com/alibaba/csp/sentinel/dashboard/client/SentinelApiClient.java", "diffHunk": "@@ -169,14 +188,17 @@ private StringBuilder queryString(Map<String, String> params) {\n         return queryStringBuilder;\n     }\n     \n-    private HttpUriRequest postRequest(String url, Map<String, String> params) {\n+    protected static HttpUriRequest postRequest(String url, Map<String, String> params, boolean supportEnhancedContentType) {\n         HttpPost httpPost = new HttpPost(url);\n         if (params != null && params.size() > 0) {\n             List<NameValuePair> list = new ArrayList<>(params.size());\n             for (Entry<String, String> entry : params.entrySet()) {\n                 list.add(new BasicNameValuePair(entry.getKey(), entry.getValue()));\n             }\n             httpPost.setEntity(new UrlEncodedFormEntity(list, Consts.UTF_8));\n+            if (!supportEnhancedContentType) {", "originalCommit": "7885a4c424d3d63aa367173b9ea35ea86fe563c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4NTcyOA==", "url": "https://github.com/alibaba/Sentinel/pull/1260#discussion_r368285728", "bodyText": "They are placed at the relevant function and referenced here now.", "author": "jasonjoo2010", "createdAt": "2020-01-19T11:13:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4NDM3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4NDQxMw==", "url": "https://github.com/alibaba/Sentinel/pull/1260#discussion_r368284413", "bodyText": "Plz add the license header.", "author": "sczyh30", "createdAt": "2020-01-19T10:50:15Z", "path": "sentinel-dashboard/src/test/java/com/alibaba/csp/sentinel/dashboard/client/SentinelApiClientTest.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package com.alibaba.csp.sentinel.dashboard.client;", "originalCommit": "7885a4c424d3d63aa367173b9ea35ea86fe563c7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4NTczOQ==", "url": "https://github.com/alibaba/Sentinel/pull/1260#discussion_r368285739", "bodyText": "Supplied.", "author": "jasonjoo2010", "createdAt": "2020-01-19T11:13:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4NDQxMw=="}], "type": "inlineReview"}, {"oid": "118d99056cf05c612169d087a0d76e33cc9ba15b", "url": "https://github.com/alibaba/Sentinel/commit/118d99056cf05c612169d087a0d76e33cc9ba15b", "message": "Suppy the missing license and comment", "committedDate": "2020-01-19T11:11:59Z", "type": "commit"}]}