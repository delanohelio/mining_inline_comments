{"pr_number": 3700, "pr_title": "Allow console name to be translated", "pr_createdAt": "2020-10-03T11:07:56Z", "pr_url": "https://github.com/EssentialsX/Essentials/pull/3700", "timeline": [{"oid": "eea0a327c4b43225a9eeb3652e060f48799dda11", "url": "https://github.com/EssentialsX/Essentials/commit/eea0a327c4b43225a9eeb3652e060f48799dda11", "message": "Console name i18n", "committedDate": "2020-10-03T11:09:07Z", "type": "commit"}, {"oid": "eea0a327c4b43225a9eeb3652e060f48799dda11", "url": "https://github.com/EssentialsX/Essentials/commit/eea0a327c4b43225a9eeb3652e060f48799dda11", "message": "Console name i18n", "committedDate": "2020-10-03T11:09:07Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDc4OQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499140789", "bodyText": "Unnecessary diff", "author": "l1ttleO", "createdAt": "2020-10-03T11:40:47Z", "path": "Essentials/src/com/earth2me/essentials/Console.java", "diffHunk": "@@ -2,15 +2,17 @@\n \n import com.earth2me.essentials.messaging.IMessageRecipient;\n import com.earth2me.essentials.messaging.SimpleMessageRecipient;\n-", "originalCommit": "eea0a327c4b43225a9eeb3652e060f48799dda11", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MTI0MQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499141241", "bodyText": "That's auto formatting again. Usually there's just an empty line between usual imports and static ones. With all due respect, do you have any notes on the actual code?", "author": "Haarolean", "createdAt": "2020-10-03T11:47:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDc4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MTQ4OQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499141489", "bodyText": "Actual code seems good. (to me atleast)", "author": "l1ttleO", "createdAt": "2020-10-03T11:52:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDc4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDgwNg==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499140806", "bodyText": "Unnecessary diff", "author": "l1ttleO", "createdAt": "2020-10-03T11:41:04Z", "path": "Essentials/src/com/earth2me/essentials/Console.java", "diffHunk": "@@ -2,15 +2,17 @@\n \n import com.earth2me.essentials.messaging.IMessageRecipient;\n import com.earth2me.essentials.messaging.SimpleMessageRecipient;\n-\n import org.bukkit.Server;\n import org.bukkit.command.CommandSender;\n \n+import static com.earth2me.essentials.I18n.tl;\n+\n \n public final class Console implements IMessageRecipient {\n     public static final String NAME = \"Console\";\n+    public static final String DISPLAY_NAME = tl(\"consoleName\");\n     private static Console instance; // Set in essentials\n-    \n+", "originalCommit": "eea0a327c4b43225a9eeb3652e060f48799dda11", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MTIxNA==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499141214", "bodyText": "Auto formatting. There was 4 black spaces on this empty line.", "author": "Haarolean", "createdAt": "2020-10-03T11:47:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDgwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDg3Mg==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499140872", "bodyText": "Why did you change that?", "author": "l1ttleO", "createdAt": "2020-10-03T11:42:13Z", "path": "Essentials/src/com/earth2me/essentials/Console.java", "diffHunk": "@@ -39,39 +41,47 @@ public CommandSender getCommandSender() {\n         return ess.getServer().getConsoleSender();\n     }\n \n-    @Override public String getName() {\n+    @Override\n+    public String getName() {\n         return Console.NAME;\n     }\n \n-    @Override public String getDisplayName() {\n-        return Console.NAME;\n+    @Override\n+    public String getDisplayName() {\n+        return Console.DISPLAY_NAME;\n     }\n \n-    @Override public void sendMessage(String message) {\n+    @Override\n+    public void sendMessage(String message) {\n         getCommandSender().sendMessage(message);\n     }\n \n-    @Override public boolean isReachable() {\n+    @Override\n+    public boolean isReachable() {\n         return true;", "originalCommit": "eea0a327c4b43225a9eeb3652e060f48799dda11", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MTAxNQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499141015", "bodyText": "Auto formatting. I've checked the projects, turns out mostly there's a line break after annotations. Since there's no clear code style I decided to keep it this way. If you mind, I can revert.", "author": "Haarolean", "createdAt": "2020-10-03T11:44:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDg3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE2NzI4Ng==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499167286", "bodyText": "Please turn off auto formatting and keep a minimal diff when working on Essentials PRs. Reverting it would be ideal. \ud83d\ude04", "author": "pop4959", "createdAt": "2020-10-03T17:42:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDg3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MjYxNQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499172615", "bodyText": "Waiting on #3701 to rebase.", "author": "Haarolean", "createdAt": "2020-10-03T18:52:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDg3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE3MjgwNQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r499172805", "bodyText": "no rush, PRs usually take a little while before merging anyways\nhappy oktoberfest still \ud83d\ude04", "author": "pop4959", "createdAt": "2020-10-03T18:54:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE0MDg3Mg=="}], "type": "inlineReview"}, {"oid": "d6bc1d03f4c70bd1bde3e456b97eef5d55b16274", "url": "https://github.com/EssentialsX/Essentials/commit/d6bc1d03f4c70bd1bde3e456b97eef5d55b16274", "message": "Fix native ascii conversion", "committedDate": "2020-10-03T11:51:06Z", "type": "commit"}, {"oid": "d6bc1d03f4c70bd1bde3e456b97eef5d55b16274", "url": "https://github.com/EssentialsX/Essentials/commit/d6bc1d03f4c70bd1bde3e456b97eef5d55b16274", "message": "Fix native ascii conversion", "committedDate": "2020-10-03T11:51:06Z", "type": "forcePushed"}, {"oid": "99aa10442289fb388c008cf66ef7edbe001261e4", "url": "https://github.com/EssentialsX/Essentials/commit/99aa10442289fb388c008cf66ef7edbe001261e4", "message": "Merge remote-tracking branch 'upstream/2.x' into feature/2756\n\n# Conflicts:\n#\tEssentials/src/com/earth2me/essentials/Console.java\n#\tEssentials/src/com/earth2me/essentials/EssentialsUpgrade.java\n#\tEssentials/src/com/earth2me/essentials/commands/Commandban.java\n#\tEssentials/src/com/earth2me/essentials/commands/Commandbanip.java\n#\tEssentials/src/com/earth2me/essentials/commands/Commandmsg.java\n#\tEssentials/src/com/earth2me/essentials/commands/Commandtempbanip.java", "committedDate": "2020-10-05T09:09:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MTY2MQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r501641661", "bodyText": "please keep this to one line", "author": "JRoy", "createdAt": "2020-10-08T11:19:10Z", "path": "EssentialsXMPP/src/com/earth2me/essentials/xmpp/Commandxmpp.java", "diffHunk": "@@ -25,7 +25,9 @@ protected void run(final Server server, final CommandSource sender, final String\n         }\n \n         final String message = getFinalArg(args, 1);\n-        final String senderName = sender.isPlayer() ? ess.getUser(sender.getPlayer()).getDisplayName() : Console.NAME;\n+        final String senderName = sender.isPlayer()\n+                ? ess.getUser(sender.getPlayer()).getDisplayName()\n+                : Console.DISPLAY_NAME;", "originalCommit": "99aa10442289fb388c008cf66ef7edbe001261e4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0NjI1Mg==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r501646252", "bodyText": "I don't see any line lengths/wrapping guidelines in #3701, so I used common sense here -- wrapped everything which was above 120 symbols. A successful build indicates that no checkstyle rule was violated. I don't mind applying required length if there's any project-scope preference, not a personal opinion.\n@md678685, any thoughts on this?", "author": "Haarolean", "createdAt": "2020-10-08T11:27:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MTY2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY1MzY2NQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r501653665", "bodyText": "Pretty sure the Essentials code doesn't split lines unless creating a builder class, I could be wrong however.", "author": "JRoy", "createdAt": "2020-10-08T11:41:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MTY2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk2OTMwOA==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r501969308", "bodyText": "Yeah just as a convention, I don't think Essentials normally wraps lines. Just because no checkstyle rule was violated (it was also added extremely recently) doesn't mean we can't still discuss it. \ud83d\ude04 Maybe let MD comment on this since he's managing those rules but I think one line is more correct here as far as I know.", "author": "pop4959", "createdAt": "2020-10-08T19:41:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MTY2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk0NDE5NQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r516944195", "bodyText": "@mdcfe bump?", "author": "Haarolean", "createdAt": "2020-11-03T20:43:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MTY2MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY0NjcwNw==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r519646707", "bodyText": "One line is preferable where possible - many of these line breaks feel arbitrary.", "author": "mdcfe", "createdAt": "2020-11-09T09:00:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MTY2MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MTk1MQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r501641951", "bodyText": "please keep this to one line", "author": "JRoy", "createdAt": "2020-10-08T11:19:43Z", "path": "Essentials/src/com/earth2me/essentials/commands/Commandmsg.java", "diffHunk": "@@ -40,8 +40,9 @@ public void run(final Server server, final CommandSource sender, final String co\n         }\n \n         // Sending messages to console\n-        if (args[0].equalsIgnoreCase(Console.NAME)) {\n-            final IMessageRecipient messageSender = sender.isPlayer() ? ess.getUser(sender.getPlayer()) : Console.getInstance();\n+        if (args[0].equalsIgnoreCase(Console.NAME) || args[0].equalsIgnoreCase(Console.DISPLAY_NAME)) {\n+            final IMessageRecipient messageSender = sender.isPlayer() ? ess.getUser(sender.getPlayer()) :\n+                    Console.getInstance();", "originalCommit": "99aa10442289fb388c008cf66ef7edbe001261e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MjMwNA==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r501642304", "bodyText": "please keep this to one line", "author": "JRoy", "createdAt": "2020-10-08T11:20:19Z", "path": "Essentials/src/com/earth2me/essentials/commands/Commandbanip.java", "diffHunk": "@@ -50,18 +51,19 @@ public void run(final Server server, final CommandSource sender, final String co\n             banReason = tl(\"defaultBanReason\");\n         }\n \n-        final String banDisplay = tl(\"banFormat\", banReason, senderName);\n+        final String banDisplay = tl(\"banFormat\", banReason, senderDisplayName);\n \n         ess.getServer().getBanList(BanList.Type.IP).addBan(ipAddress, banReason, null, senderName);\n-        server.getLogger().log(Level.INFO, tl(\"playerBanIpAddress\", senderName, ipAddress, banReason));\n+        server.getLogger().log(Level.INFO, tl(\"playerBanIpAddress\", senderDisplayName, ipAddress, banReason));\n \n         for (final Player player : ess.getServer().getOnlinePlayers()) {\n             if (player.getAddress().getAddress().getHostAddress().equalsIgnoreCase(ipAddress)) {\n                 player.kickPlayer(banDisplay);\n             }\n         }\n \n-        ess.broadcastMessage(\"essentials.banip.notify\", tl(\"playerBanIpAddress\", senderName, ipAddress, banReason));\n+        ess.broadcastMessage(\"essentials.banip.notify\", tl(\"playerBanIpAddress\",\n+                senderDisplayName, ipAddress, banReason));", "originalCommit": "99aa10442289fb388c008cf66ef7edbe001261e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTY0MjM3OQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r501642379", "bodyText": "please keep this to one line", "author": "JRoy", "createdAt": "2020-10-08T11:20:27Z", "path": "Essentials/src/com/earth2me/essentials/commands/Commandban.java", "diffHunk": "@@ -50,16 +51,17 @@ public void run(final Server server, final CommandSource sender, final String co\n \n         ess.getServer().getBanList(BanList.Type.NAME).addBan(user.getName(), banReason, null, senderName);\n \n-        final String banDisplay = tl(\"banFormat\", banReason, senderName);\n+        final String banDisplay = tl(\"banFormat\", banReason, senderDisplayName);\n \n         user.getBase().kickPlayer(banDisplay);\n-        server.getLogger().log(Level.INFO, tl(\"playerBanned\", senderName, user.getName(), banDisplay));\n+        server.getLogger().log(Level.INFO, tl(\"playerBanned\", senderDisplayName, user.getName(), banDisplay));\n \n         if (nomatch) {\n             sender.sendMessage(tl(\"userUnknown\", user.getName()));\n         }\n \n-        ess.broadcastMessage(\"essentials.ban.notify\", tl(\"playerBanned\", senderName, user.getName(), banReason));\n+        ess.broadcastMessage(\"essentials.ban.notify\", tl(\"playerBanned\",\n+                senderDisplayName, user.getName(), banReason));", "originalCommit": "99aa10442289fb388c008cf66ef7edbe001261e4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a3a17109a5d53d1e32e7ec6eb1664271da345feb", "url": "https://github.com/EssentialsX/Essentials/commit/a3a17109a5d53d1e32e7ec6eb1664271da345feb", "message": "Sort newly added property", "committedDate": "2020-10-08T11:31:28Z", "type": "commit"}, {"oid": "3e56729df6b67bac6213304789d0320b544fab80", "url": "https://github.com/EssentialsX/Essentials/commit/3e56729df6b67bac6213304789d0320b544fab80", "message": "Rollback line breaks", "committedDate": "2020-11-24T10:19:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY2ODYyNQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r529668625", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    final Date date = banTimeout == 0 ? null : new Date(banTimeout);\n          \n          \n            \n                    Bukkit.getBanList(BanList.Type.NAME).addBan(playerName, banReason, date, Console.NAME);\n          \n          \n            \n                    Bukkit.getBanList(BanList.Type.NAME).addBan(playerName, banReason, banTimeout == 0 ? null : new Date(banTimeout), Console.NAME);", "author": "JRoy", "createdAt": "2020-11-24T15:51:45Z", "path": "Essentials/src/com/earth2me/essentials/EssentialsUpgrade.java", "diffHunk": "@@ -680,11 +680,8 @@ public void banFormatChange() {\n     }\n \n     private void updateBan(final String playerName, final String banReason, final Long banTimeout) {\n-        if (banTimeout == 0) {\n-            Bukkit.getBanList(BanList.Type.NAME).addBan(playerName, banReason, null, Console.NAME);\n-        } else {\n-            Bukkit.getBanList(BanList.Type.NAME).addBan(playerName, banReason, new Date(banTimeout), Console.NAME);\n-        }\n+        final Date date = banTimeout == 0 ? null : new Date(banTimeout);\n+        Bukkit.getBanList(BanList.Type.NAME).addBan(playerName, banReason, date, Console.NAME);", "originalCommit": "3e56729df6b67bac6213304789d0320b544fab80", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY4MjU0MA==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r529682540", "bodyText": "@JRoy what's wrong with inline variables?", "author": "Haarolean", "createdAt": "2020-11-24T16:01:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY2ODYyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY4NDIxMg==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r529684212", "bodyText": "You don't need to declare another variable here when you're just going to declare and use it once", "author": "JRoy", "createdAt": "2020-11-24T16:02:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY2ODYyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY4ODYxNQ==", "url": "https://github.com/EssentialsX/Essentials/pull/3700#discussion_r529688615", "bodyText": "Ah, nvm, I see.\nI've extracted it coz the line was too long and it's easier to read. But whatevs.", "author": "Haarolean", "createdAt": "2020-11-24T16:05:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTY2ODYyNQ=="}], "type": "inlineReview"}, {"oid": "8f33943c39f033c85e2b067bb67ed2c302eb3a26", "url": "https://github.com/EssentialsX/Essentials/commit/8f33943c39f033c85e2b067bb67ed2c302eb3a26", "message": "Review fix++\n\nCo-authored-by: Josh Roy <10731363+JRoy@users.noreply.github.com>", "committedDate": "2020-11-24T16:05:39Z", "type": "commit"}, {"oid": "7f6b06dcc8940527873f483496d51d83ac8fbd97", "url": "https://github.com/EssentialsX/Essentials/commit/7f6b06dcc8940527873f483496d51d83ac8fbd97", "message": "Merge remote-tracking branch 'upstream/2.x' into feature/2756", "committedDate": "2020-11-27T09:24:15Z", "type": "commit"}, {"oid": "61684e223603471fd58bf28c452643f69c357e7a", "url": "https://github.com/EssentialsX/Essentials/commit/61684e223603471fd58bf28c452643f69c357e7a", "message": "Merge remote-tracking branch 'upstream/2.x' into feature/2756", "committedDate": "2020-12-07T09:06:56Z", "type": "commit"}]}