{"pr_number": 3036, "pr_title": "Edited finding firstName and lastName in displayName", "pr_createdAt": "2020-12-14T09:10:39Z", "pr_url": "https://github.com/CESNET/perun/pull/3036", "timeline": [{"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "url": "https://github.com/CESNET/perun/commit/e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "message": "Edited finding firstName and lastName in displayName\n\n* If the name placed at the first position in displayName (it can be firstName or lastName) is the same as middle name, then the parsing was incorrect.\n* This use case has been fixed and all tests run successfully.", "committedDate": "2020-12-14T21:21:40Z", "type": "commit"}, {"oid": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "url": "https://github.com/CESNET/perun/commit/e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "message": "Edited finding firstName and lastName in displayName\n\n* If the name placed at the first position in displayName (it can be firstName or lastName) is the same as middle name, then the parsing was incorrect.\n* This use case has been fixed and all tests run successfully.", "committedDate": "2020-12-14T21:21:40Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ3MTI3NA==", "url": "https://github.com/CESNET/perun/pull/3036#discussion_r543471274", "bodyText": "It would be better to use parseTitlesBefore()", "author": "mvocu", "createdAt": "2020-12-15T16:00:08Z", "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/impl/RegistrarManagerImpl.java", "diffHunk": "@@ -3533,8 +3533,14 @@ private boolean tryToParseTitlesAndMiddleNameFromPattern(Candidate candidate, St\n \t\t\t\t\t\"titles after, but get \" + matcher.groupCount() + \" groups.\" );\n \t\t}\n \n-\t\tparseTitlesBefore(candidate, matcher.group(1).trim());\n-\t\tparseMiddleName(candidate, matcher.group(2).trim());\n+\t\t// if the middle name equals to the first name placed in displayName (it can be firstName or lastName too)\n+\t\tif (matcher.group(1).contains(firstName)) {\n+\t\t\tcandidate.setTitleBefore(matcher.group(1).split(firstName)[0].trim());", "originalCommit": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ3MjAzOQ==", "url": "https://github.com/CESNET/perun/pull/3036#discussion_r543472039", "bodyText": "Likewise for parseMiddleName()", "author": "mvocu", "createdAt": "2020-12-15T16:01:03Z", "path": "perun-registrar-lib/src/main/java/cz/metacentrum/perun/registrar/impl/RegistrarManagerImpl.java", "diffHunk": "@@ -3533,8 +3533,14 @@ private boolean tryToParseTitlesAndMiddleNameFromPattern(Candidate candidate, St\n \t\t\t\t\t\"titles after, but get \" + matcher.groupCount() + \" groups.\" );\n \t\t}\n \n-\t\tparseTitlesBefore(candidate, matcher.group(1).trim());\n-\t\tparseMiddleName(candidate, matcher.group(2).trim());\n+\t\t// if the middle name equals to the first name placed in displayName (it can be firstName or lastName too)\n+\t\tif (matcher.group(1).contains(firstName)) {\n+\t\t\tcandidate.setTitleBefore(matcher.group(1).split(firstName)[0].trim());\n+\t\t\tcandidate.setMiddleName(firstName);", "originalCommit": "e087c53dd3ce5c1d4f700fc26d7dd9a6e57a55a4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}