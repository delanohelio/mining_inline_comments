{"pr_number": 2887, "pr_title": "Removed functionality for creating sponsored users", "pr_createdAt": "2020-09-07T08:48:19Z", "pr_url": "https://github.com/CESNET/perun/pull/2887", "timeline": [{"oid": "bbf934ea795357c7b1469075ce548dc1295a0b19", "url": "https://github.com/CESNET/perun/commit/bbf934ea795357c7b1469075ce548dc1295a0b19", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way.", "committedDate": "2020-09-07T09:09:44Z", "type": "forcePushed"}, {"oid": "2c31ed5aca54cb52aaef61a93cdc80f18834d45b", "url": "https://github.com/CESNET/perun/commit/2c31ed5aca54cb52aaef61a93cdc80f18834d45b", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way.", "committedDate": "2020-09-07T09:15:28Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzODc0Nw==", "url": "https://github.com/CESNET/perun/pull/2887#discussion_r484338747", "bodyText": "I think you don't need to delete this test, just the first part.", "author": "Vojtech-Sassmann", "createdAt": "2020-09-07T10:19:18Z", "path": "perun-core/src/test/java/cz/metacentrum/perun/core/entry/UsersManagerEntryIntegrationTest.java", "diffHunk": "@@ -156,33 +156,6 @@ public void getSpecificUsers() throws Exception {\n \t\tassertTrue(users.contains(sponsoredUser));\n \t}\n \n-\t@Test\n-\tpublic void setAndUnsetSpecificUser() throws Exception {\n-\t\tSystem.out.println(CLASS_NAME + \"setAndUnsetSpecificUser\");\n-\t\tsetUpUser();\n-\t\tUser owner = user;\n-\n-\t\tassertTrue(\"User should be sponsored\", sponsoredUser.isSponsoredUser());\n-\t\tusersManager.unsetSpecificUser(sess, sponsoredUser, SpecificUserType.SPONSORED);\n-\t\tUser user1 = usersManager.getUserById(sess, sponsoredUser.getId());\n-\t\tassertTrue(\"User shouldn't be sponsored\", !user1.isSponsoredUser());\n-\t\tusersManager.setSpecificUser(sess, user1, SpecificUserType.SPONSORED, owner);\n-\t\tuser1 = usersManager.getUserById(sess, user1.getId());\n-\t\tassertTrue(\"User should be sponsored again\", user1.isSponsoredUser());\n-\t\tList<User> owners = usersManager.getUsersBySpecificUser(sess, user1);\n-\t\tassertTrue(\"There should be just our owner\", owners.size() == 1 && owners.contains(owner));\n-\n-\t\tassertTrue(\"User should be service user\", serviceUser1.isServiceUser());\n-\t\tusersManager.unsetSpecificUser(sess, serviceUser1, SpecificUserType.SERVICE);\n-\t\tUser user2 = usersManager.getUserById(sess, serviceUser1.getId());\n-\t\tassertTrue(\"User shouldn't be service user\", !user2.isServiceUser());\n-\t\tusersManager.setSpecificUser(sess, user2, SpecificUserType.SERVICE, owner);\n-\t\tuser2 = usersManager.getUserById(sess, user2.getId());\n-\t\tassertTrue(\"User should be service user again\", user2.isServiceUser());\n-\t\towners = usersManager.getUsersBySpecificUser(sess, user2);\n-\t\tassertTrue(\"There should be just our owner\", owners.size() == 1 && owners.contains(owner));", "originalCommit": "2c31ed5aca54cb52aaef61a93cdc80f18834d45b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM1MDY4NA==", "url": "https://github.com/CESNET/perun/pull/2887#discussion_r484350684", "bodyText": "Fixed", "author": "balcirakpeter", "createdAt": "2020-09-07T10:43:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDMzODc0Nw=="}], "type": "inlineReview"}, {"oid": "547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "url": "https://github.com/CESNET/perun/commit/547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way.", "committedDate": "2020-09-07T10:43:05Z", "type": "commit"}, {"oid": "547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "url": "https://github.com/CESNET/perun/commit/547a7e5ca50b7a0c7a2cc7e31fa7ab3128563535", "message": "Removed functionality for creating sponsored users\n\n- We want to use new functionality for sponsored members. We don't want\n  to Create sponsored users anymore.\n- Therefore, all places where it could be called from outside were\n  removed or forbiden.\n- We do not want to remove all logic around sponsored users (old way) for now,\n  because there are still users which are set this way.", "committedDate": "2020-09-07T10:43:05Z", "type": "forcePushed"}]}