{"pr_number": 6419, "pr_title": "#6418: SelectOneMenu: performance-optimization", "pr_createdAt": "2020-10-17T21:42:34Z", "pr_url": "https://github.com/primefaces/primefaces/pull/6419", "timeline": [{"oid": "4ba1f5bce7859fa81dad8c036aa16c228d11401a", "url": "https://github.com/primefaces/primefaces/commit/4ba1f5bce7859fa81dad8c036aa16c228d11401a", "message": "#6418: SelectOneMenu: performance-optimization", "committedDate": "2020-10-17T19:23:59Z", "type": "commit"}, {"oid": "36024f2842bd0a6418015c4106ffc90d70fbb42d", "url": "https://github.com/primefaces/primefaces/commit/36024f2842bd0a6418015c4106ffc90d70fbb42d", "message": "#6418: SelectOneMenu: performance-optimization", "committedDate": "2020-10-17T20:25:08Z", "type": "commit"}, {"oid": "7a41b061cf6c4efe1b82f24647ac789bd5b9c78b", "url": "https://github.com/primefaces/primefaces/commit/7a41b061cf6c4efe1b82f24647ac789bd5b9c78b", "message": "#6418: SelectOneMenu: performance-optimization\n\nclient-side PanelContent (WIP)", "committedDate": "2020-10-17T21:35:02Z", "type": "commit"}, {"oid": "15d1046d439ed2d1ac0df8da49dd209d8668fbac", "url": "https://github.com/primefaces/primefaces/commit/15d1046d439ed2d1ac0df8da49dd209d8668fbac", "message": "#6418: SelectOneMenu: JsDoc", "committedDate": "2020-10-17T21:45:19Z", "type": "commit"}, {"oid": "843d594ee13a93bf8091fefa41f66e0db31ce2e6", "url": "https://github.com/primefaces/primefaces/commit/843d594ee13a93bf8091fefa41f66e0db31ce2e6", "message": "#6418: SelectOneMenu: add TODOs", "committedDate": "2020-10-17T21:52:24Z", "type": "commit"}, {"oid": "0fba6715dc86a5d007832fea10a20f5cb4a6986f", "url": "https://github.com/primefaces/primefaces/commit/0fba6715dc86a5d007832fea10a20f5cb4a6986f", "message": "#6418: SelectOneMenu: performance-optimization\n\ngood night :-)", "committedDate": "2020-10-17T22:12:31Z", "type": "commit"}, {"oid": "f3f014aea3b25a0f54aa558db6eaa9de7720e0d2", "url": "https://github.com/primefaces/primefaces/commit/f3f014aea3b25a0f54aa558db6eaa9de7720e0d2", "message": "#6418: SelectOneMenu: SelectItemGroup & Refactoring", "committedDate": "2020-10-18T09:15:09Z", "type": "commit"}, {"oid": "3fc8cfe79e00ffb72f97881633965eec3f0a7566", "url": "https://github.com/primefaces/primefaces/commit/3fc8cfe79e00ffb72f97881633965eec3f0a7566", "message": "#6418: SelectOneMenu: JsDoc", "committedDate": "2020-10-18T09:18:14Z", "type": "commit"}, {"oid": "fca25bfae91bd81e5187982eca379a4e5f895f9a", "url": "https://github.com/primefaces/primefaces/commit/fca25bfae91bd81e5187982eca379a4e5f895f9a", "message": "#6418: SelectOneMenu: Refactoring, disabled, label, escape", "committedDate": "2020-10-18T12:31:18Z", "type": "commit"}, {"oid": "0be57ff4b39be738312e5d2c8217900860865178", "url": "https://github.com/primefaces/primefaces/commit/0be57ff4b39be738312e5d2c8217900860865178", "message": "#6418: SelectOneMenu: JsDoc", "committedDate": "2020-10-18T12:34:52Z", "type": "commit"}, {"oid": "51d39fea320467362d179d07226f9afe22436300", "url": "https://github.com/primefaces/primefaces/commit/51d39fea320467362d179d07226f9afe22436300", "message": "#6418: SelectOneMenu: JsDoc", "committedDate": "2020-10-18T12:37:47Z", "type": "commit"}, {"oid": "1cebb3cf7e87513ae984ac82ff97567c3db4667a", "url": "https://github.com/primefaces/primefaces/commit/1cebb3cf7e87513ae984ac82ff97567c3db4667a", "message": "#6418: SelectOneMenu: escape", "committedDate": "2020-10-18T18:24:32Z", "type": "commit"}, {"oid": "90b90a31e4cb0331f7181d9f614d4c86ab903c8c", "url": "https://github.com/primefaces/primefaces/commit/90b90a31e4cb0331f7181d9f614d4c86ab903c8c", "message": "#6418: SelectOneMenu: escape", "committedDate": "2020-10-18T18:38:34Z", "type": "commit"}, {"oid": "bbe1110991c5a79e74609875195f017724d36581", "url": "https://github.com/primefaces/primefaces/commit/bbe1110991c5a79e74609875195f017724d36581", "message": "#6418: SelectOneMenu: escape", "committedDate": "2020-10-18T18:58:39Z", "type": "commit"}, {"oid": "8705b9bd56e6ad1bc4eea6a2daf75c15daf0c315", "url": "https://github.com/primefaces/primefaces/commit/8705b9bd56e6ad1bc4eea6a2daf75c15daf0c315", "message": "#6418: SelectOneMenu: Refactoring", "committedDate": "2020-10-19T16:41:34Z", "type": "commit"}, {"oid": "56cef307e532da3b9dac9cec287be5ae876b17ee", "url": "https://github.com/primefaces/primefaces/commit/56cef307e532da3b9dac9cec287be5ae876b17ee", "message": "#6418: SelectOneMenu: Cleanup", "committedDate": "2020-10-19T16:44:20Z", "type": "commit"}, {"oid": "259b26db4cf27fb6f57b233c01695efbfda00eb0", "url": "https://github.com/primefaces/primefaces/commit/259b26db4cf27fb6f57b233c01695efbfda00eb0", "message": "#6418: SelectOneMenu: isNoSelectionOption", "committedDate": "2020-10-19T17:09:27Z", "type": "commit"}, {"oid": "b8587e4aedc6f84fca9741ddfc17d96f7c10cba9", "url": "https://github.com/primefaces/primefaces/commit/b8587e4aedc6f84fca9741ddfc17d96f7c10cba9", "message": "#6418: SelectOneMenu: escape", "committedDate": "2020-10-19T17:20:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQzMzAyOQ==", "url": "https://github.com/primefaces/primefaces/pull/6419#discussion_r508433029", "bodyText": "I think its safe to get rid of these loggers and system.nanotime calls?", "author": "melloware", "createdAt": "2020-10-20T11:46:05Z", "path": "src/main/java/org/primefaces/component/selectonemenu/SelectOneMenuRenderer.java", "diffHunk": "@@ -143,10 +152,17 @@ protected void encodeMarkup(FacesContext context, SelectOneMenu menu) throws IOE\n         }\n         renderARIACombobox(context, menu);\n \n+        long t1 = System.nanoTime();\n         encodeInput(context, menu, clientId, selectItems, values, submittedValues, converter);\n+        long t2 = System.nanoTime();\n         encodeLabel(context, menu, selectItems);\n         encodeMenuIcon(context, menu, valid);\n+        long t3 = System.nanoTime();\n         encodePanel(context, menu, selectItems);\n+        long t4 = System.nanoTime();\n+\n+        LOGGER.log(Level.INFO, \"SelectOneMenuRenderer#encodeInput \" + ((t2 - t1) / 1000000));\n+        LOGGER.log(Level.INFO, \"SelectOneMenuRenderer#encodePanel \" + ((t4 - t3) / 1000000));", "originalCommit": "b8587e4aedc6f84fca9741ddfc17d96f7c10cba9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQzMzE4OQ==", "url": "https://github.com/primefaces/primefaces/pull/6419#discussion_r508433189", "bodyText": "Remove LOGGER and System.nanoTime calls?", "author": "melloware", "createdAt": "2020-10-20T11:46:25Z", "path": "src/main/java/org/primefaces/component/selectonemenu/SelectOneMenuRenderer.java", "diffHunk": "@@ -105,8 +108,14 @@ public void encodeEnd(FacesContext context, UIComponent component) throws IOExce\n             Object values = getValues(menu);\n             Object submittedValues = getSubmittedValues(menu);\n \n+            long t1 = System.nanoTime();\n             encodeHiddenSelect(context, menu, clientId, selectItems, values, submittedValues, converter);\n+            long t2 = System.nanoTime();\n             encodePanelContent(context, menu, selectItems);\n+            long t3 = System.nanoTime();\n+\n+            LOGGER.log(Level.INFO, \"SelectOneMenuRenderer#encodeHiddenSelect \" + ((t2 - t1) / 1000000));\n+            LOGGER.log(Level.INFO, \"SelectOneMenuRenderer#encodePanelContent \" + ((t3 - t2) / 1000000));", "originalCommit": "b8587e4aedc6f84fca9741ddfc17d96f7c10cba9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "81478852a82dc7a713cb1097831786b18af108d8", "url": "https://github.com/primefaces/primefaces/commit/81478852a82dc7a713cb1097831786b18af108d8", "message": "#6418: SelectOneMenu: Cleanup", "committedDate": "2020-10-20T16:56:58Z", "type": "commit"}, {"oid": "c644c266b845de0763ad87f3caa8ccbeb432874c", "url": "https://github.com/primefaces/primefaces/commit/c644c266b845de0763ad87f3caa8ccbeb432874c", "message": "#6418: SelectOneMenu: Refactoring", "committedDate": "2020-10-20T17:25:31Z", "type": "commit"}]}