{"pr_number": 6339, "pr_title": "implement #6337: DataGrid: add rowStyle and rowStyleClass-attributes", "pr_createdAt": "2020-09-23T18:14:04Z", "pr_url": "https://github.com/primefaces/primefaces/pull/6339", "timeline": [{"oid": "193a4e3ae5dda7f1ee9b2839397463187580a7b3", "url": "https://github.com/primefaces/primefaces/commit/193a4e3ae5dda7f1ee9b2839397463187580a7b3", "message": "implement #6337: DataGrid: add rowStyle and rowStyleClass-attributes", "committedDate": "2020-09-23T18:12:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc5ODM0Mw==", "url": "https://github.com/primefaces/primefaces/pull/6339#discussion_r493798343", "bodyText": "By moving this outside the loop doesn't that mean only 1 row will ever be created?  this looks like it was meant to create a DIV per row?", "author": "melloware", "createdAt": "2020-09-23T18:23:01Z", "path": "src/main/java/org/primefaces/component/datagrid/DataGridRenderer.java", "diffHunk": "@@ -170,20 +171,24 @@ protected void encodeGrid(FacesContext context, DataGrid grid) throws IOExceptio\n         int itemsToRender = rows != 0 ? rows : grid.getRowCount();\n         int numberOfRowsToRender = (itemsToRender + columns - 1) / columns;\n         int displayedItemsToRender = rowIndex + itemsToRender;\n-        String columnClass = DataGrid.COLUMN_CLASS + \" \" + GridLayoutUtils.getColumnClass(columns);\n+        String columnClass = DataGrid.COLUMN_CLASS + \" \" + GridLayoutUtils.getColumnClass(columns) + \" \" + grid.getRowStyleClass();\n+        String columnInlineStyle = grid.getRowStyle();\n+\n+        writer.startElement(\"div\", null);\n+        writer.writeAttribute(\"class\", DataGrid.GRID_ROW_CLASS, null);", "originalCommit": "193a4e3ae5dda7f1ee9b2839397463187580a7b3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzgxMTM4MA==", "url": "https://github.com/primefaces/primefaces/pull/6339#discussion_r493811380", "bodyText": "This IMO was necessary for a very old grid system before PrimeFaces 6.0 introduced Grid CSS.\nIMO DataGrid was adapted to Grid CSS at some point, but this was never cleaned up.", "author": "christophs78", "createdAt": "2020-09-23T18:43:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc5ODM0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzgxNDY0OQ==", "url": "https://github.com/primefaces/primefaces/pull/6339#discussion_r493814649", "bodyText": "... and i had to modify this because with ui-g over each row there was no way to add additional responsiveness.\nCheck this against the showcase. :-)", "author": "christophs78", "createdAt": "2020-09-23T18:47:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc5ODM0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzgxNDg4Nw==", "url": "https://github.com/primefaces/primefaces/pull/6339#discussion_r493814887", "bodyText": "perfect", "author": "melloware", "createdAt": "2020-09-23T18:47:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc5ODM0Mw=="}], "type": "inlineReview"}, {"oid": "60401e7c2bb12db900cbf1cbf6bdd37c1868fe6e", "url": "https://github.com/primefaces/primefaces/commit/60401e7c2bb12db900cbf1cbf6bdd37c1868fe6e", "message": "#6337: cosmetics", "committedDate": "2020-09-23T18:41:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIyOTM5Mg==", "url": "https://github.com/primefaces/primefaces/pull/6339#discussion_r494229392", "bodyText": "sorry one more thing will + grid.getRowStyleClass append the word \"null\" if its not set?  typically we check for !LangUtils.isvalueblank before appending an optional style class?", "author": "melloware", "createdAt": "2020-09-24T11:12:25Z", "path": "src/main/java/org/primefaces/component/datagrid/DataGridRenderer.java", "diffHunk": "@@ -170,20 +171,24 @@ protected void encodeGrid(FacesContext context, DataGrid grid) throws IOExceptio\n         int itemsToRender = rows != 0 ? rows : grid.getRowCount();\n         int numberOfRowsToRender = (itemsToRender + columns - 1) / columns;\n         int displayedItemsToRender = rowIndex + itemsToRender;\n-        String columnClass = DataGrid.COLUMN_CLASS + \" \" + GridLayoutUtils.getColumnClass(columns);\n+        String columnClass = DataGrid.COLUMN_CLASS + \" \" + GridLayoutUtils.getColumnClass(columns) + \" \" + grid.getRowStyleClass();", "originalCommit": "60401e7c2bb12db900cbf1cbf6bdd37c1868fe6e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2MTI0NA==", "url": "https://github.com/primefaces/primefaces/pull/6339#discussion_r494361244", "bodyText": "Thanks for pointing me on this!", "author": "christophs78", "createdAt": "2020-09-24T14:23:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIyOTM5Mg=="}], "type": "inlineReview"}, {"oid": "9b30857ba0e7db5c0c43da168b85caba1e62d5aa", "url": "https://github.com/primefaces/primefaces/commit/9b30857ba0e7db5c0c43da168b85caba1e62d5aa", "message": "#6337: blank-check", "committedDate": "2020-09-24T14:20:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDQyMTM0Mw==", "url": "https://github.com/primefaces/primefaces/pull/6339#discussion_r494421343", "bodyText": "Maybe I am not seeing it but I don't see where you are using the columnClass variable?  I don't see you setting it anywhere?", "author": "melloware", "createdAt": "2020-09-24T15:41:47Z", "path": "src/main/java/org/primefaces/component/datagrid/DataGridRenderer.java", "diffHunk": "@@ -171,19 +172,27 @@ protected void encodeGrid(FacesContext context, DataGrid grid) throws IOExceptio\n         int numberOfRowsToRender = (itemsToRender + columns - 1) / columns;\n         int displayedItemsToRender = rowIndex + itemsToRender;\n         String columnClass = DataGrid.COLUMN_CLASS + \" \" + GridLayoutUtils.getColumnClass(columns);\n+        String columnInlineStyle = grid.getRowStyle();\n+\n+        if (!LangUtils.isValueBlank(grid.getRowStyleClass())) {\n+            columnClass += \" \" + grid.getRowStyleClass();\n+        }", "originalCommit": "9b30857ba0e7db5c0c43da168b85caba1e62d5aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}