{"pr_number": 1813, "pr_title": "#1812 minor code cleanup", "pr_createdAt": "2020-01-05T14:07:28Z", "pr_url": "https://github.com/eclipse/rdf4j/pull/1813", "timeline": [{"oid": "11c9fc601bc8de19c9f292e93dc1ac1d239e9109", "url": "https://github.com/eclipse/rdf4j/commit/11c9fc601bc8de19c9f292e93dc1ac1d239e9109", "message": "#1812 minor code cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-01-05T14:06:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA5ODIxNw==", "url": "https://github.com/eclipse/rdf4j/pull/1813#discussion_r363098217", "bodyText": "Arrays.asList(ar) is a free operation.", "author": "hmottestad", "createdAt": "2020-01-05T14:56:17Z", "path": "core/util/src/main/java/org/eclipse/rdf4j/common/net/ParsedIRI.java", "diffHunk": "@@ -136,14 +136,12 @@\n \t\tfor (Object set : sets) {\n \t\t\tif (set instanceof int[][]) {\n \t\t\t\tint[][] ar = (int[][]) set;\n-\t\t\t\tfor (int i = 0; i < ar.length; i++) {\n-\t\t\t\t\tlist.add(ar[i]);\n-\t\t\t\t}\n+\t\t\t\tlist.addAll(Arrays.asList(ar));", "originalCommit": "11c9fc601bc8de19c9f292e93dc1ac1d239e9109", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA5ODI3MQ==", "url": "https://github.com/eclipse/rdf4j/pull/1813#discussion_r363098271", "bodyText": "Asserts only execute if asserts are enabled. Throwing exceptions is better.", "author": "hmottestad", "createdAt": "2020-01-05T14:57:05Z", "path": "core/util/src/main/java/org/eclipse/rdf4j/common/net/ParsedIRI.java", "diffHunk": "@@ -136,14 +136,12 @@\n \t\tfor (Object set : sets) {\n \t\t\tif (set instanceof int[][]) {\n \t\t\t\tint[][] ar = (int[][]) set;\n-\t\t\t\tfor (int i = 0; i < ar.length; i++) {\n-\t\t\t\t\tlist.add(ar[i]);\n-\t\t\t\t}\n+\t\t\t\tlist.addAll(Arrays.asList(ar));\n \t\t\t} else if (set instanceof Character) {\n \t\t\t\tchar chr = (Character) set;\n \t\t\t\tlist.add(new int[] { chr, chr });\n \t\t\t} else {\n-\t\t\t\tassert false;", "originalCommit": "11c9fc601bc8de19c9f292e93dc1ac1d239e9109", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1MjcxMQ==", "url": "https://github.com/eclipse/rdf4j/pull/1813#discussion_r363152711", "bodyText": "I'm happy to get rid of assertions, but I'd like to dig in a bit deeper before approving this, because it changes the production behavior: previously it would have silently returned here, now it throws an exception.", "author": "jeenbroekstra", "createdAt": "2020-01-06T04:10:03Z", "path": "core/util/src/main/java/org/eclipse/rdf4j/common/net/ParsedIRI.java", "diffHunk": "@@ -237,8 +234,7 @@ public static ParsedIRI create(String str) {\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t} catch (UnsupportedEncodingException ex) {\n-\t\t\t\tassert false;\n-\t\t\t\treturn null;\n+\t\t\t\tthrow new IllegalStateException(ex);", "originalCommit": "11c9fc601bc8de19c9f292e93dc1ac1d239e9109", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzI4NjkyOA==", "url": "https://github.com/eclipse/rdf4j/pull/1813#discussion_r367286928", "bodyText": "Never mind, has a closer look, totally a \"should never happen\". Happy to merge.", "author": "jeenbroekstra", "createdAt": "2020-01-16T08:31:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE1MjcxMQ=="}], "type": "inlineReview"}]}