{"pr_number": 2539, "pr_title": "GH-2083 New SHACL Abstract Syntax Tree", "pr_createdAt": "2020-09-27T19:11:34Z", "pr_url": "https://github.com/eclipse/rdf4j/pull/2539", "timeline": [{"oid": "57c00cbde514f2546391ecc8eeb5396e3fa305bc", "url": "https://github.com/eclipse/rdf4j/commit/57c00cbde514f2546391ecc8eeb5396e3fa305bc", "message": "negation should handle overridden targets\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-21T05:59:20Z", "type": "commit"}, {"oid": "779185d0504856f0de3866971d480910c8da0d8c", "url": "https://github.com/eclipse/rdf4j/commit/779185d0504856f0de3866971d480910c8da0d8c", "message": "more fixes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-21T06:15:55Z", "type": "commit"}, {"oid": "8d8604ee1551b367cbcb782bc5e3c8dfcf39c668", "url": "https://github.com/eclipse/rdf4j/commit/8d8604ee1551b367cbcb782bc5e3c8dfcf39c668", "message": "another edge case\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-21T20:10:08Z", "type": "commit"}, {"oid": "e7f412541c09aafa6a7b93b664fc6a936595b9ae", "url": "https://github.com/eclipse/rdf4j/commit/e7f412541c09aafa6a7b93b664fc6a936595b9ae", "message": "sh:hasValue seems to work\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-23T15:57:53Z", "type": "commit"}, {"oid": "778e11f62f02e32ba9209ffda97cd92a0ccde392", "url": "https://github.com/eclipse/rdf4j/commit/778e11f62f02e32ba9209ffda97cd92a0ccde392", "message": "bug fix\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-23T17:02:22Z", "type": "commit"}, {"oid": "5eb1529db3e284a0c8b537900d8f4a0cf2b659ab", "url": "https://github.com/eclipse/rdf4j/commit/5eb1529db3e284a0c8b537900d8f4a0cf2b659ab", "message": "wip\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-24T07:22:08Z", "type": "commit"}, {"oid": "99a095fd01c8abb95244d508af6ef7f7e6ce0b96", "url": "https://github.com/eclipse/rdf4j/commit/99a095fd01c8abb95244d508af6ef7f7e6ce0b96", "message": "trying to normalize the reports\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-24T07:54:37Z", "type": "commit"}, {"oid": "5e66ea3f697aeaffb6f3b97c88e3ec9d578061e0", "url": "https://github.com/eclipse/rdf4j/commit/5e66ea3f697aeaffb6f3b97c88e3ec9d578061e0", "message": "reverted back\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-24T07:58:50Z", "type": "commit"}, {"oid": "1a7c0c056590e3ca8fbcd44af44d67870ed4c431", "url": "https://github.com/eclipse/rdf4j/commit/1a7c0c056590e3ca8fbcd44af44d67870ed4c431", "message": "more passing class constraints\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-24T19:13:04Z", "type": "commit"}, {"oid": "2f8bb0a5410a1af731cd7ac560189750629ecee1", "url": "https://github.com/eclipse/rdf4j/commit/2f8bb0a5410a1af731cd7ac560189750629ecee1", "message": "cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-24T19:14:22Z", "type": "commit"}, {"oid": "c53ab12a7ecef5ff40f9a2976d29d7ecf7e9fa60", "url": "https://github.com/eclipse/rdf4j/commit/c53ab12a7ecef5ff40f9a2976d29d7ecf7e9fa60", "message": "wip\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-24T19:20:10Z", "type": "commit"}, {"oid": "ace764c517ab5e7656a137ca12b3e465630bd412", "url": "https://github.com/eclipse/rdf4j/commit/ace764c517ab5e7656a137ca12b3e465630bd412", "message": "handle negatio better for sh:class constraint\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-25T07:04:08Z", "type": "commit"}, {"oid": "9e4c2c69d62cc94261bfe38a2298c7f701b42591", "url": "https://github.com/eclipse/rdf4j/commit/9e4c2c69d62cc94261bfe38a2298c7f701b42591", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-25T07:25:47Z", "type": "commit"}, {"oid": "cb8d2c943b76ec466c903045195f34c76a2c50cc", "url": "https://github.com/eclipse/rdf4j/commit/cb8d2c943b76ec466c903045195f34c76a2c50cc", "message": "fixed bug in datatype constraint\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-26T12:56:50Z", "type": "commit"}, {"oid": "cf5437232744090f0f294adb78559e21a6720f2f", "url": "https://github.com/eclipse/rdf4j/commit/cf5437232744090f0f294adb78559e21a6720f2f", "message": "bug fix\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-26T13:05:34Z", "type": "commit"}, {"oid": "52d87b2083627da956711f79d654806803e8e93c", "url": "https://github.com/eclipse/rdf4j/commit/52d87b2083627da956711f79d654806803e8e93c", "message": "made more tests to show a bug\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-26T13:36:18Z", "type": "commit"}, {"oid": "ca202de154de481f02bdc8283816637f0f2a3e9a", "url": "https://github.com/eclipse/rdf4j/commit/ca202de154de481f02bdc8283816637f0f2a3e9a", "message": "fixed bug\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-26T15:44:26Z", "type": "commit"}, {"oid": "bcf5ebc529743c8919cf7b013a92b0fc2af6b8cc", "url": "https://github.com/eclipse/rdf4j/commit/bcf5ebc529743c8919cf7b013a92b0fc2af6b8cc", "message": "fixed last bug in sh:not\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T08:32:47Z", "type": "commit"}, {"oid": "697adbf87e523488585b707621d44d0d485a6364", "url": "https://github.com/eclipse/rdf4j/commit/697adbf87e523488585b707621d44d0d485a6364", "message": "better subclass support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T11:15:15Z", "type": "commit"}, {"oid": "8edccc0f04b6e5e7908fbd77b581f55918c2e7f8", "url": "https://github.com/eclipse/rdf4j/commit/8edccc0f04b6e5e7908fbd77b581f55918c2e7f8", "message": "bug fix and simplification\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T11:35:32Z", "type": "commit"}, {"oid": "258b477ae4ce06c9ba273827ab89570b32ad6a22", "url": "https://github.com/eclipse/rdf4j/commit/258b477ae4ce06c9ba273827ab89570b32ad6a22", "message": "cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T11:42:42Z", "type": "commit"}, {"oid": "b197de07f6c04addd2ae4cca3fc1f3fb41a7409a", "url": "https://github.com/eclipse/rdf4j/commit/b197de07f6c04addd2ae4cca3fc1f3fb41a7409a", "message": "dash:hasValueIn\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T14:27:28Z", "type": "commit"}, {"oid": "4847ffc5dd2ba19c77d5576578ec32f74bf97cbc", "url": "https://github.com/eclipse/rdf4j/commit/4847ffc5dd2ba19c77d5576578ec32f74bf97cbc", "message": "some cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T14:31:19Z", "type": "commit"}, {"oid": "9d7acb3033f49d3a0cfe9452b56be50e4214a75c", "url": "https://github.com/eclipse/rdf4j/commit/9d7acb3033f49d3a0cfe9452b56be50e4214a75c", "message": "start working on revalidation\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T14:56:54Z", "type": "commit"}, {"oid": "d2684532caae98019bcf4281e5ae99cb030f2f5b", "url": "https://github.com/eclipse/rdf4j/commit/d2684532caae98019bcf4281e5ae99cb030f2f5b", "message": "most of the revalidation cases are passing now\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T15:19:32Z", "type": "commit"}, {"oid": "7b4f8351f7af1bbed73ce89b3263aa494c0ae87c", "url": "https://github.com/eclipse/rdf4j/commit/7b4f8351f7af1bbed73ce89b3263aa494c0ae87c", "message": "revalidation works\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T15:26:59Z", "type": "commit"}, {"oid": "ce312444e934617782013fff7e031b9a3dab5947", "url": "https://github.com/eclipse/rdf4j/commit/ce312444e934617782013fff7e031b9a3dab5947", "message": "fixing some tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T16:03:08Z", "type": "commit"}, {"oid": "415a5f89be4c34924d1faa77591651956a1cc618", "url": "https://github.com/eclipse/rdf4j/commit/415a5f89be4c34924d1faa77591651956a1cc618", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-09-27T19:14:09Z", "type": "commit"}, {"oid": "0ca0979b126e30941e587ee6290fac5868fa28bf", "url": "https://github.com/eclipse/rdf4j/commit/0ca0979b126e30941e587ee6290fac5868fa28bf", "message": "reduce number of validation plans\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-27T20:02:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTYzNjk0MA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r495636940", "bodyText": "Nice idea to create an anonymous variable this way, but this will cause syntactically illegal variable names - in SPARQL, variable names cannot contain '-'. See createAnonVar in the SPARQL TupleExpBuilder, which use this to create the name:\n new Var(\"_anon_\" + UUID.randomUUID().toString().replaceAll(\"-\", \"_\")); \n\nYou probably also need to set the isAnonymous flag.\nMight be a good idea to handle this in one place (here in the constructor) and refactor the TupleExprBuilder and other places where we create anonymous vars. We've had problems in the past with the naming pattern not being consistent, so DRYing this up is a good idea.", "author": "jeenbroekstra", "createdAt": "2020-09-28T00:13:18Z", "path": "core/queryalgebra/model/src/main/java/org/eclipse/rdf4j/query/algebra/Var.java", "diffHunk": "@@ -42,6 +45,11 @@ public Var(String name, Value value) {\n \t\tsetValue(value);\n \t}\n \n+\tpublic Var(Value value) {\n+\t\tthis(UUID.randomUUID() + \"_anon\");", "originalCommit": "0ca0979b126e30941e587ee6290fac5868fa28bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTY5NDcxMA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r495694710", "bodyText": "I'm not sure if I use this code anymore, will have to take another look. Might be something left over from testing.\nI've updated the code. I used .replace instead of .replaceAll since .replace is the same as .replaceAll except that it doesn't support regex.", "author": "hmottestad", "createdAt": "2020-09-28T05:22:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTYzNjk0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTYzNzU4Mg==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r495637582", "bodyText": "Two things:\n\nlet's call the package 'ast' rather than 'abstractsyntaxtree', to be consistent with how we do this for SPARQL and SeRQL as well.\nI thought part of the idea was to have an AST that is not \"just\" usable by the SAIL, but also potentially for other SHACL implementations. If that is still the case it should be put in a in a more generic package: org.eclipse.rdf4j.shacl.ast, and ideally a separate module as well.", "author": "jeenbroekstra", "createdAt": "2020-09-28T00:18:35Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/ConnectionsGroup.java", "diffHunk": "@@ -14,11 +14,10 @@\n import java.util.concurrent.ConcurrentLinkedQueue;\n \n import org.eclipse.rdf4j.common.annotation.InternalUseOnly;\n-import org.eclipse.rdf4j.common.transaction.TransactionSetting;\n import org.eclipse.rdf4j.sail.Sail;\n import org.eclipse.rdf4j.sail.SailConnection;\n-import org.eclipse.rdf4j.sail.shacl.planNodes.BufferedSplitter;\n-import org.eclipse.rdf4j.sail.shacl.planNodes.PlanNode;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.BufferedSplitter;", "originalCommit": "0ca0979b126e30941e587ee6290fac5868fa28bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTY5MzAxMw==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r495693013", "bodyText": "It's called abstract syntax tree so that it can exist together with the old AST. We can rename it before merging.", "author": "hmottestad", "createdAt": "2020-09-28T05:15:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTYzNzU4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTYzNzk5MQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r495637991", "bodyText": "ObNitpick, this should be all caps.", "author": "jeenbroekstra", "createdAt": "2020-09-28T00:22:06Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/ValidationApproach.java", "diffHunk": "@@ -0,0 +1,16 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree;\n+\n+public enum ValidationApproach {\n+\n+\tTransactional,", "originalCommit": "0ca0979b126e30941e587ee6290fac5868fa28bf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTYzODE5Ng==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r495638196", "bodyText": "Ah, this suggests that this AST is still tightly coupled to the ShaclSail, in which case separating it out to a generic package probably makes little sense.", "author": "jeenbroekstra", "createdAt": "2020-09-28T00:23:52Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/constraintcomponents/AndConstraintComponent.java", "diffHunk": "@@ -0,0 +1,128 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.constraintcomponents;\n+\n+import java.util.List;\n+import java.util.Set;\n+import java.util.stream.Collectors;\n+\n+import org.eclipse.rdf4j.model.IRI;\n+import org.eclipse.rdf4j.model.Model;\n+import org.eclipse.rdf4j.model.Resource;\n+import org.eclipse.rdf4j.model.vocabulary.SHACL;\n+import org.eclipse.rdf4j.repository.RepositoryConnection;\n+import org.eclipse.rdf4j.sail.shacl.AST.ShaclProperties;\n+import org.eclipse.rdf4j.sail.shacl.ConnectionsGroup;\n+import org.eclipse.rdf4j.sail.shacl.ShaclSail;\n+import org.eclipse.rdf4j.sail.shacl.SourceConstraintComponent;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.Cache;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.HelperTool;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.NodeShape;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.PropertyShape;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.Shape;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.DebugPlanNode;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.EmptyNode;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.PlanNode;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.PlanNodeProvider;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.UnionNode;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.Unique;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.targets.TargetChain;\n+\n+public class AndConstraintComponent extends AbstractConstraintComponent {\n+\tList<Shape> and;\n+\n+\tpublic AndConstraintComponent(Resource id, RepositoryConnection connection,\n+\t\t\tCache cache, ShaclSail shaclSail) {", "originalCommit": "0ca0979b126e30941e587ee6290fac5868fa28bf", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTY5MzMzMQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r495693331", "bodyText": "It's not that tightly coupled. The SHACL sail is only used to get hold of some user settings. Could make an interface for that instead.", "author": "hmottestad", "createdAt": "2020-09-28T05:16:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTYzODE5Ng=="}], "type": "inlineReview"}, {"oid": "aabf22249d24dc1fc41c952e6422be8a4080ce0d", "url": "https://github.com/eclipse/rdf4j/commit/aabf22249d24dc1fc41c952e6422be8a4080ce0d", "message": "fix from code review\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-28T05:55:27Z", "type": "commit"}, {"oid": "9c5be43316fc80a72a0b4657eaf2e3a4172e9509", "url": "https://github.com/eclipse/rdf4j/commit/9c5be43316fc80a72a0b4657eaf2e3a4172e9509", "message": "clean up code\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-28T16:29:51Z", "type": "commit"}, {"oid": "603479306f58cd13ea882a44ca508bcfd023e81a", "url": "https://github.com/eclipse/rdf4j/commit/603479306f58cd13ea882a44ca508bcfd023e81a", "message": "support for dash all subject and all objects\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-28T19:58:04Z", "type": "commit"}, {"oid": "aee7583afd5933d7db097b59062e9408b5564b71", "url": "https://github.com/eclipse/rdf4j/commit/aee7583afd5933d7db097b59062e9408b5564b71", "message": "caching doesn't work, but at least it doesn't crash\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-01T08:34:07Z", "type": "commit"}, {"oid": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "url": "https://github.com/eclipse/rdf4j/commit/c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-10-01T15:58:29Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NTAyMA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498885020", "bodyText": "That sound helpful for performance. Do you have a comparison between the resources used by the old AST and the new one?", "author": "rdstn", "createdAt": "2020-10-02T15:14:42Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/Cache.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.function.Function;\n+\n+import org.eclipse.rdf4j.model.Resource;\n+\n+public class Cache {", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1NDMzOQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r499154339", "bodyText": "I think it's just the cache used to allow parsing of SHACL with recursion. We don't allow for executing SHACL with recursion though, but parsing is a first step. The actual cache, which is also available in the current SHACL implementation is broken at the moment.", "author": "hmottestad", "createdAt": "2020-10-03T14:51:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NTAyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NzU3OA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498887578", "bodyText": "This may be useful otuside of the abstract syntax tree. Perhaps movement to the common package might be relevant.", "author": "rdstn", "createdAt": "2020-10-02T15:19:02Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/HelperTool.java", "diffHunk": "@@ -0,0 +1,85 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.stream.Stream;\n+\n+import org.eclipse.rdf4j.model.Model;\n+import org.eclipse.rdf4j.model.Resource;\n+import org.eclipse.rdf4j.model.Statement;\n+import org.eclipse.rdf4j.model.Value;\n+import org.eclipse.rdf4j.model.ValueFactory;\n+import org.eclipse.rdf4j.model.impl.SimpleValueFactory;\n+import org.eclipse.rdf4j.model.vocabulary.RDF;\n+import org.eclipse.rdf4j.repository.RepositoryConnection;\n+\n+public class HelperTool {", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MjAzNw==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530772037", "bodyText": "We already have generic utility functions for converting between java collections and rdf collections. @hmottestad any reason you're not just reusing org.eclipse.rdf4j.model.util.RDFCollections (or perhaps org.eclipse.rdf4j.repository.util.Connections) here?", "author": "jeenbroekstra", "createdAt": "2020-11-26T04:48:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NzU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3Njk5Mg==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530776992", "bodyText": "Doesn't supporting generics.", "author": "hmottestad", "createdAt": "2020-11-26T05:10:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NzU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDgzNjQwNQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530836405", "bodyText": "Doesn't supporting generics.\n\nOk, if you need generics, how about we add this to the RDFCollections util instead?", "author": "jeenbroekstra", "createdAt": "2020-11-26T08:04:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NzU3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2MzczMQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530863731", "bodyText": "That's essentially what Rado's comment boils down to.", "author": "hmottestad", "createdAt": "2020-11-26T08:51:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg4NzU3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5NDYwNQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498894605", "bodyText": "From what I've seen, this gets thrown only for paths, but aren't qualified shapes also not yet done?", "author": "rdstn", "createdAt": "2020-10-02T15:30:57Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/ShaclUnsupportedException.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree;\n+\n+public class ShaclUnsupportedException extends UnsupportedOperationException {", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1NDQzMw==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r499154433", "bodyText": "I'm not very consisten with this. I'm unsure if I want to throw and exception in general for unsupported things or just simply log a message.", "author": "hmottestad", "createdAt": "2020-10-03T14:52:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5NDYwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5ODMwMA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498898300", "bodyText": "Do we have details on the difference between the validation approaches? And could we configure them easily?", "author": "rdstn", "createdAt": "2020-10-02T15:37:33Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/ValidationApproach.java", "diffHunk": "@@ -0,0 +1,18 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree;\n+\n+public enum ValidationApproach {", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1NDYwMA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r499154600", "bodyText": "When generating the validation plan we ask what the preferred validation approach is. Things aren't working that well at the moment so it's mostly disabled. But the code is here so we have somewhere to start.", "author": "hmottestad", "createdAt": "2020-10-03T14:54:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODg5ODMwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkwODI0NA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498908244", "bodyText": "The blank nodes (not here in particular, generally in the internal SHACL implementation) are a bit of a nuissance. We are using a cluster of several synchronized repositories and they tend to assign different blank node IDs. It's also occasionally problematic to fetch and parse the SHACL schema from the database - though that's easier to resolve with a bit of development effort. Is there a way to make them more consistent?", "author": "rdstn", "createdAt": "2020-10-02T15:55:24Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/constraintcomponents/NodeKindConstraintComponent.java", "diffHunk": "@@ -0,0 +1,88 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.constraintcomponents;\n+\n+import java.util.Set;\n+import java.util.function.Function;\n+\n+import org.eclipse.rdf4j.model.IRI;\n+import org.eclipse.rdf4j.model.Model;\n+import org.eclipse.rdf4j.model.Resource;\n+import org.eclipse.rdf4j.model.vocabulary.SHACL;\n+import org.eclipse.rdf4j.sail.shacl.SourceConstraintComponent;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.FilterPlanNode;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.NodeKindFilter;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.PlanNode;\n+\n+public class NodeKindConstraintComponent extends SimpleAbstractConstraintComponent {\n+\n+\tNodeKind nodeKind;\n+\n+\tpublic NodeKindConstraintComponent(Resource nodeKind) {\n+\t\tthis.nodeKind = NodeKind.from(nodeKind);\n+\t}\n+\n+\t@Override\n+\tString getSparqlFilterExpression(String varName, boolean negated) {\n+\t\tif (negated) {\n+\t\t\treturn \"(isIRI(?\" + varName + \") && <\" + nodeKind.iri + \"> IN ( <\" + SHACL.IRI + \">, <\"\n+\t\t\t\t\t+ SHACL.BLANK_NODE_OR_IRI + \">, <\" + SHACL.IRI_OR_LITERAL + \"> ) ) ||\\n\" +", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkwOTU2Mg==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498909562", "bodyText": "Probably this one has the second highest priority after InversePath.", "author": "rdstn", "createdAt": "2020-10-02T15:57:50Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/paths/AlternativePath.java", "diffHunk": "@@ -0,0 +1,55 @@\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.paths;\n+\n+import java.util.Set;\n+import java.util.stream.Stream;\n+\n+import org.eclipse.rdf4j.model.IRI;\n+import org.eclipse.rdf4j.model.Model;\n+import org.eclipse.rdf4j.model.Resource;\n+import org.eclipse.rdf4j.model.vocabulary.SHACL;\n+import org.eclipse.rdf4j.query.algebra.StatementPattern;\n+import org.eclipse.rdf4j.query.algebra.Var;\n+import org.eclipse.rdf4j.repository.RepositoryConnection;\n+import org.eclipse.rdf4j.sail.shacl.ConnectionsGroup;\n+import org.eclipse.rdf4j.sail.shacl.RdfsSubClassOfReasoner;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.ShaclUnsupportedException;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.PlanNode;\n+import org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes.PlanNodeWrapper;\n+\n+public class AlternativePath extends Path {", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkyMDMyMg==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498920322", "bodyText": "This could be moved to the util class?", "author": "rdstn", "createdAt": "2020-10-02T16:18:53Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/planNodes/Formatter.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eclipse RDF4J contributors.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Distribution License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/org/documents/edl-v10.php.\n+ *******************************************************************************/\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes;\n+\n+import org.eclipse.rdf4j.model.IRI;\n+import org.eclipse.rdf4j.model.Value;\n+import org.eclipse.rdf4j.model.vocabulary.RDF;\n+import org.eclipse.rdf4j.model.vocabulary.RDFS;\n+import org.eclipse.rdf4j.model.vocabulary.SHACL;\n+\n+public class Formatter {", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkyMjA5OA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r498922098", "bodyText": "Looks like we have some subtagging, which is good.", "author": "rdstn", "createdAt": "2020-10-02T16:22:11Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/abstractsyntaxtree/planNodes/LanguageInFilter.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 Eclipse RDF4J contributors.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Distribution License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/org/documents/edl-v10.php.\n+ *******************************************************************************/\n+\n+package org.eclipse.rdf4j.sail.shacl.abstractsyntaxtree.planNodes;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.Set;\n+\n+import org.eclipse.rdf4j.model.Literal;\n+import org.eclipse.rdf4j.model.util.Literals;\n+\n+/**\n+ * @author H\u00e5vard Ottestad\n+ */\n+public class LanguageInFilter extends FilterPlanNode {\n+\n+\tprivate final List<String> languageRanges;\n+\tprivate final Set<String> lowerCaseLanguageIn;\n+\n+\tpublic LanguageInFilter(PlanNode parent, Set<String> lowerCaseLanguageIn, List<String> languageRanges) {\n+\t\tsuper(parent);\n+\t\tthis.lowerCaseLanguageIn = lowerCaseLanguageIn;\n+\t\tthis.languageRanges = languageRanges;\n+\t}\n+\n+\t@Override\n+\tboolean checkTuple(ValidationTuple t) {\n+\t\tif (!(t.getValue() instanceof Literal)) {\n+\t\t\treturn false;\n+\t\t}\n+\n+\t\tOptional<String> language = ((Literal) t.getValue()).getLanguage();\n+\t\tif (!language.isPresent()) {\n+\t\t\treturn false;\n+\t\t}\n+\n+\t\t// early matching\n+\t\tboolean languageMatches = language.map(String::toLowerCase).filter(lowerCaseLanguageIn::contains).isPresent();\n+\t\tif (languageMatches) {\n+\t\t\treturn true;\n+\t\t}\n+\n+\t\t// test according to BCP47\n+\t\tString langTag = language.get();\n+\n+\t\tfor (String languageRange : languageRanges) {\n+\t\t\tif (Literals.langMatches(langTag, languageRange)) {", "originalCommit": "c481380da9d3ccc2f89097ef0c2149cb7f80f9f8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d9f82577e6c3165e6ccdead523bd2661cda9d0c4", "url": "https://github.com/eclipse/rdf4j/commit/d9f82577e6c3165e6ccdead523bd2661cda9d0c4", "message": "update benchmark\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-02T18:49:18Z", "type": "commit"}, {"oid": "979069cb85158469845577079664f6308f3ebe89", "url": "https://github.com/eclipse/rdf4j/commit/979069cb85158469845577079664f6308f3ebe89", "message": "update benchmarks\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-02T19:57:09Z", "type": "commit"}, {"oid": "ba58240b939a7535facd42bb58f4e63ced312a21", "url": "https://github.com/eclipse/rdf4j/commit/ba58240b939a7535facd42bb58f4e63ced312a21", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-10-03T08:32:24Z", "type": "commit"}, {"oid": "2ab20e0112ab3448d6fae18a318f9343dddcf999", "url": "https://github.com/eclipse/rdf4j/commit/2ab20e0112ab3448d6fae18a318f9343dddcf999", "message": "implemented requires evalutation correctly\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-03T09:46:41Z", "type": "commit"}, {"oid": "700b81ec5ba3ab665b2d0c41ea029354872cab49", "url": "https://github.com/eclipse/rdf4j/commit/700b81ec5ba3ab665b2d0c41ea029354872cab49", "message": "performance fix for sparql parsing in the target chain retriever class\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-03T15:38:41Z", "type": "commit"}, {"oid": "9a32ea77e6df4ed1c3aa02b37912a985670122ac", "url": "https://github.com/eclipse/rdf4j/commit/9a32ea77e6df4ed1c3aa02b37912a985670122ac", "message": "rename variables\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-03T15:43:51Z", "type": "commit"}, {"oid": "d0d3e4a5d5c7d3d9fd7e2961761b70bc7f67ce25", "url": "https://github.com/eclipse/rdf4j/commit/d0d3e4a5d5c7d3d9fd7e2961761b70bc7f67ce25", "message": "fix benchmark\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-03T15:53:44Z", "type": "commit"}, {"oid": "e5f3f18e31bdc04431d48e62ad41c2fe0fbfa7bc", "url": "https://github.com/eclipse/rdf4j/commit/e5f3f18e31bdc04431d48e62ad41c2fe0fbfa7bc", "message": "lazy initialization for better perfomance\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-03T19:07:12Z", "type": "commit"}, {"oid": "8a0742fbe1c99f65c50be215313ac28b71769845", "url": "https://github.com/eclipse/rdf4j/commit/8a0742fbe1c99f65c50be215313ac28b71769845", "message": "reduce file writes for test\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-03T19:20:22Z", "type": "commit"}, {"oid": "ceeb3518a9223f5c8b7acdaf6732276c060e48be", "url": "https://github.com/eclipse/rdf4j/commit/ceeb3518a9223f5c8b7acdaf6732276c060e48be", "message": "support for parsing qualified shapes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-04T12:55:38Z", "type": "commit"}, {"oid": "689c77d82c1e7bae848604493df149518091ee8a", "url": "https://github.com/eclipse/rdf4j/commit/689c77d82c1e7bae848604493df149518091ee8a", "message": "modified compliance tests to be easier to parse\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-04T14:35:59Z", "type": "commit"}, {"oid": "463a687d0d74bbc35ddc00d76818846926853514", "url": "https://github.com/eclipse/rdf4j/commit/463a687d0d74bbc35ddc00d76818846926853514", "message": "enabled more tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-04T15:12:39Z", "type": "commit"}, {"oid": "006f9a39a01369b92d6c0a1a2645cd5282c5d7c1", "url": "https://github.com/eclipse/rdf4j/commit/006f9a39a01369b92d6c0a1a2645cd5282c5d7c1", "message": "fix qualified shapes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-04T15:21:08Z", "type": "commit"}, {"oid": "cca822ef892e739e4bd15933b08337ad80b125e7", "url": "https://github.com/eclipse/rdf4j/commit/cca822ef892e739e4bd15933b08337ad80b125e7", "message": "sh:deactivated should work now\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-04T15:32:12Z", "type": "commit"}, {"oid": "3e862a78f6445a234848f4c86053c558c0663fdd", "url": "https://github.com/eclipse/rdf4j/commit/3e862a78f6445a234848f4c86053c558c0663fdd", "message": "cleanup test report files\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-04T15:35:27Z", "type": "commit"}, {"oid": "48b8489307b2e0273c5c8a685494083730e09ad2", "url": "https://github.com/eclipse/rdf4j/commit/48b8489307b2e0273c5c8a685494083730e09ad2", "message": "initial qualified shape code\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-05T07:39:20Z", "type": "commit"}, {"oid": "762e675d0f62e6215ffc3caeffa7c519e472f028", "url": "https://github.com/eclipse/rdf4j/commit/762e675d0f62e6215ffc3caeffa7c519e472f028", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-06T08:04:15Z", "type": "commit"}, {"oid": "4d9a7f9cb7f1c83c772682dbc0f2454bc2c72e6b", "url": "https://github.com/eclipse/rdf4j/commit/4d9a7f9cb7f1c83c772682dbc0f2454bc2c72e6b", "message": "WIP target shape\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-12T14:05:51Z", "type": "commit"}, {"oid": "08c466400ed08802ba763ae08bd37df9515ba5aa", "url": "https://github.com/eclipse/rdf4j/commit/08c466400ed08802ba763ae08bd37df9515ba5aa", "message": "fix before merging develop\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-12T14:19:21Z", "type": "commit"}, {"oid": "d6e72822934a29659e6a997b33a45e4cde0300ea", "url": "https://github.com/eclipse/rdf4j/commit/d6e72822934a29659e6a997b33a45e4cde0300ea", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-10-12T14:19:30Z", "type": "commit"}, {"oid": "7f244c76b68b4d0d7933e49c1ccfd45c50a08c2a", "url": "https://github.com/eclipse/rdf4j/commit/7f244c76b68b4d0d7933e49c1ccfd45c50a08c2a", "message": "formatting\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-12T14:26:41Z", "type": "commit"}, {"oid": "82d7e0174fd663438397d38085bf5eb35bd4d635", "url": "https://github.com/eclipse/rdf4j/commit/82d7e0174fd663438397d38085bf5eb35bd4d635", "message": "WIP qualified shapes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-12T18:11:27Z", "type": "commit"}, {"oid": "163aa76dfafbf35f093618d85ca5d852dcb57860", "url": "https://github.com/eclipse/rdf4j/commit/163aa76dfafbf35f093618d85ca5d852dcb57860", "message": "more implementation of min and max qualified count\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-12T18:52:24Z", "type": "commit"}, {"oid": "2e2c4444a05650dd8be83f6931857d8e1098fa3a", "url": "https://github.com/eclipse/rdf4j/commit/2e2c4444a05650dd8be83f6931857d8e1098fa3a", "message": "fix tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-10-25T09:18:55Z", "type": "commit"}, {"oid": "18b2588acfdb5dcd8e6422dad5af97f8f23e3a4e", "url": "https://github.com/eclipse/rdf4j/commit/18b2588acfdb5dcd8e6422dad5af97f8f23e3a4e", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-04T19:38:27Z", "type": "commit"}, {"oid": "fa8bc102598cd412904818881500bbfdbb74b463", "url": "https://github.com/eclipse/rdf4j/commit/fa8bc102598cd412904818881500bbfdbb74b463", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-11-04T20:13:13Z", "type": "commit"}, {"oid": "425965b79d9d398cf7389fa4265105760a93c92b", "url": "https://github.com/eclipse/rdf4j/commit/425965b79d9d398cf7389fa4265105760a93c92b", "message": "wip\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-04T20:21:33Z", "type": "commit"}, {"oid": "57beadb23f5c19e6d27be2303369923be2b39bb9", "url": "https://github.com/eclipse/rdf4j/commit/57beadb23f5c19e6d27be2303369923be2b39bb9", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-06T16:06:36Z", "type": "commit"}, {"oid": "b0aad7850fb0ba7130b279c5d72a335decf52e68", "url": "https://github.com/eclipse/rdf4j/commit/b0aad7850fb0ba7130b279c5d72a335decf52e68", "message": "fix after merge\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-06T17:25:35Z", "type": "commit"}, {"oid": "6857412ae3845e4c4182335c168bc778908a8eb7", "url": "https://github.com/eclipse/rdf4j/commit/6857412ae3845e4c4182335c168bc778908a8eb7", "message": "WIP\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-07T10:18:56Z", "type": "commit"}, {"oid": "4244cb593dd0687ad8912958f3f1a6d9e45e7e3b", "url": "https://github.com/eclipse/rdf4j/commit/4244cb593dd0687ad8912958f3f1a6d9e45e7e3b", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-16T15:46:04Z", "type": "commit"}, {"oid": "45ce695ba46f188c6ea5cdb2d45921a6d8108690", "url": "https://github.com/eclipse/rdf4j/commit/45ce695ba46f188c6ea5cdb2d45921a6d8108690", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-11-16T15:46:49Z", "type": "commit"}, {"oid": "c9772a39194eb476a4308ba8c1c0b6025abcdf40", "url": "https://github.com/eclipse/rdf4j/commit/c9772a39194eb476a4308ba8c1c0b6025abcdf40", "message": "fix\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-16T15:50:51Z", "type": "commit"}, {"oid": "308ac2438e959a5da790c5aa33869ec63e4e789f", "url": "https://github.com/eclipse/rdf4j/commit/308ac2438e959a5da790c5aa33869ec63e4e789f", "message": "possibly more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-16T16:02:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530764371", "bodyText": "Let's make sure this uses the same algorithm as oer.query.parser.sparql.TupleExprBuilder#createAnonVar:\n\"_anon_\" + UUID.randomUUID().toString().replaceAll(\"-\", \"_\")\n\nIn fact if we add this as a convenience thing here in the Var class, let's also make sure TupleExprBuilder reuses it (you don't have to do that in this PR btw, it's a bit out of scope :))", "author": "jeenbroekstra", "createdAt": "2020-11-26T04:16:34Z", "path": "core/queryalgebra/model/src/main/java/org/eclipse/rdf4j/query/algebra/Var.java", "diffHunk": "@@ -42,6 +45,12 @@ public Var(String name, Value value) {\n \t\tsetValue(value);\n \t}\n \n+\tpublic Var(Value value) {\n+\t\tthis(UUID.randomUUID().toString().replace(\"-\", \"\") + \"_anon\");", "originalCommit": "308ac2438e959a5da790c5aa33869ec63e4e789f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc5MDI0MQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530790241", "bodyText": "I'm actually going to redo some of the use of Var and StatementPattern because things aren't working as I want with the last bit of the support for rsx:targetShape. I was actually considering making some more constructors in Var and also a static constant anonymous instance. Also quite annoying that there is no documentation in the Var class!", "author": "hmottestad", "createdAt": "2020-11-26T06:01:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg0MTM1Ng==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530841356", "bodyText": "(I think github might be having some issues, because some of my comments are showing up when I look at the diff, but not here - forgive me if I appear to say things twice)\nA few more constructors to make (anonymous) Var creation sounds fine. Not sure about a static constant, at least not for general inside the Var class itself - that sounds problematic in the sense that even if it's anonymous, it still has identity. You can't just reuse the same anonymous var everywhere.\nAs for documentation: I agree that it could be better, but Var is a relatively simple container class, anything specific you're missing specs on?", "author": "jeenbroekstra", "createdAt": "2020-11-26T08:14:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2NDE4NA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530864184", "bodyText": "Would be nice with some examples of combinations that are legal and what they match to in the query. And simple definitions for all the fields.", "author": "hmottestad", "createdAt": "2020-11-26T08:52:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDg2OTQ4MA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530869480", "bodyText": "I presume that anonymous means that it doesn't have a variable name (which makes me wonder why null doesn't suffice). However it can still have a value. Var with variable name and constant value is probably equivalent to a variable bound at query time.", "author": "hmottestad", "createdAt": "2020-11-26T09:00:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTI0MjY3NA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r531242674", "bodyText": "To explain: anonymous vars are vars that have no specific user-defined name in the query (or more precisely: a variable that can not be in the projection). In SPARQL this happens, for example, when a query involves a blank node:\n SELECT * WHERE {\n      [] rdf:type :Foo ;\n         rdfs:label ?label .\n }\n\nThe [] in the above query is represented as an anonymous variable in the algebra. However it still needs a separate identity because (as you can see) it needs to appear in two statement patterns - we are executing a join on the anonymous var. And there may be more than one anonymous var in the same query (a second blank node), which means we can't just reuse the same Var instance everywhere.\nAnother point where they occur in SPARQL queries is in path expressions. For example this SPARQL query:\n?start :p1/p2 ?end.\n\ninternally gets represented by two statement patterns, where the object-var of the first is the subject-var of the second. Again, the variable is anonymous, but its identity is still important as the 'glue-component' in the path expression.\nI agree though that there is some ambiguity and lack of documentation in how the Var class handles this. Having to set the the isAnonymous flag in addition to assigning it a generated name sounds superfluous (although in sparql there actually is a corner case where an anonymous var still has a user-defined name: when you use blank node identifiers in the query: _:mybnode rdf:type :Foo.).", "author": "jeenbroekstra", "createdAt": "2020-11-26T22:33:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTI0MzMxNg==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r531243316", "bodyText": "As for why null doesn't suffice: we need to be able to serialize the algebra. And the internal mechanics of the evaluation engine rely on being able to set values for vars by means of using the variable name as a key in a Binding(Set) object.", "author": "jeenbroekstra", "createdAt": "2020-11-26T22:36:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU3MTY1OQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r531571659", "bodyText": "I think I will migrate away from Var and StatementPattern then since my usecase is similar but sufficiently different. I'm using it as a two step process for retrieving the minimal amount of data from the backing store. Essentially I want to express things like:\nFor a query:\n?a rdf:type ex:Company.\n?b ex:subsidiary ?c.\nBound to whatever matches the patterns:\n\n?a rdf:type ex:company\n?b ex:subsidiary ?c\n\nBut sometimes it gets more complicated, for some of the SHACL components and I need a pattern like:\n\n?b null ?c\nOr\n?a rdf:type null\n\nFor the same query.\nThese patterns I run against the changeset for the transaction and then use the results to bind the variables in the query to retrieve less data when validating.\nAs an example. If I say that every person that has an address they must have max 1 street name. Then we only need to retrieve people and their street names if either a street name is added or a person is added. We can ignore any removals. And we don't need to revalidate all people and their street names, only ones that could actually now violate the rule based on the changes in the transaction.", "author": "hmottestad", "createdAt": "2020-11-27T12:23:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDM3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2OTg2OA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530769868", "bodyText": "Can we replace this massive switch statement with a simple strategy pattern? Bit more coding but in the end probably a lot more readable and maintainable.\nAlso: can we replace the hardcoded strings with constant references?", "author": "jeenbroekstra", "createdAt": "2020-11-26T04:39:57Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/AST/ShaclProperties.java", "diffHunk": "@@ -48,39 +61,70 @@\n \tprivate Literal maxInclusive;\n \n \tprivate final List<String> pattern = new ArrayList<>();\n-\tprivate String flags = \"\";\n+\tprivate String flags = null;\n \n \tprivate final Set<Resource> targetClass = new HashSet<>();\n \tprivate final TreeSet<Value> targetNode = new TreeSet<>(new ValueComparator());\n \tprivate final Set<IRI> targetSubjectsOf = new HashSet<>();\n \tprivate final Set<IRI> targetObjectsOf = new HashSet<>();\n \tprivate final List<Resource> targetShape = new ArrayList<>();\n \n+\tprivate Resource qualifiedValueShape;\n+\tprivate Long qualifiedMinCount;\n+\tprivate Long qualifiedMaxCount;\n+\tprivate Boolean qualifiedValueShapesDisjoint;\n+\n \tprivate final List<Resource> target = new ArrayList<>();\n \n \tprivate boolean deactivated = false;\n \n \tprivate boolean uniqueLang = false;\n \n+\tboolean closed = false;\n+\tprivate Resource ignoredProperties;\n+\n+\tprivate Resource id;\n+\n+\tprivate final List<Literal> message = new ArrayList<>();\n+\n \tpublic ShaclProperties() {\n \t}\n \n-\tpublic ShaclProperties(Resource propertyShapeId, SailRepositoryConnection connection) {\n-\n-\t\ttry (Stream<Statement> stream = connection.getStatements(propertyShapeId, null, null).stream()) {\n+\tpublic ShaclProperties(Resource id, RepositoryConnection connection) {\n+\t\tthis.id = id;\n+\t\ttry (Stream<Statement> stream = connection.getStatements(id, null, null, true).stream()) {\n \t\t\tstream.forEach(statement -> {\n \t\t\t\tString predicate = statement.getPredicate().toString();\n \t\t\t\tValue object = statement.getObject();\n \t\t\t\tswitch (predicate) {\n+\t\t\t\tcase \"http://www.w3.org/1999/02/22-rdf-syntax-ns#type\":", "originalCommit": "308ac2438e959a5da790c5aa33869ec63e4e789f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3Nzg5OQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530777899", "bodyText": "This code was written for performance. It was originally a bunch of getStatement calls, but those ended up being considerably slower. This class essentially just converts the raw graph in a java object to make things easier to work with. Hence the naming of the variables and getters. They all reflect the rdf property.", "author": "hmottestad", "createdAt": "2020-11-26T05:13:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2OTg2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTI0MDE3Mg==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r531240172", "bodyText": "I'm not convinced about the performance argument to be honest - I don't doubt that this code performs significantly better than what was previously there, but I do doubt that using hardcoded strings instead of reusing RDF.TYPE.stringValue()  is a significant factor in that (or indeed that a case statement is so much quicker than a simple dictionary lookup / strategy pattern impl).  However, I also appreciate that the focus should be on getting this in a mergable state, so maybe this isn't the highest priority.\nI would suggest to liberally comment and javadoc the code though, to make it clear what is going on (in particular javadoc on the getters to say which RDF property they correspond to might be useful).", "author": "jeenbroekstra", "createdAt": "2020-11-26T22:20:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2OTg2OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQxODA0NQ==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r531418045", "bodyText": "It's just a java limitation. Can't use SHACL.PROPERTY.toString() because it's not bound at compile time.", "author": "hmottestad", "createdAt": "2020-11-27T07:13:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2OTg2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MDQwNA==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530770404", "bodyText": "Given that it returns a list, rename to getMessages()?", "author": "jeenbroekstra", "createdAt": "2020-11-26T04:42:09Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/AST/ShaclProperties.java", "diffHunk": "@@ -319,10 +404,58 @@ public boolean isUniqueLang() {\n \t\treturn uniqueLang;\n \t}\n \n-\tpublic Value getHasValue() {\n+\tpublic Resource getId() {\n+\t\treturn id;\n+\t}\n+\n+\tpublic IRI getType() {\n+\t\treturn type;\n+\t}\n+\n+\tpublic List<Literal> getMessage() {", "originalCommit": "308ac2438e959a5da790c5aa33869ec63e4e789f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc3MDUyMw==", "url": "https://github.com/eclipse/rdf4j/pull/2539#discussion_r530770523", "bodyText": "Same here: getProperties()?", "author": "jeenbroekstra", "createdAt": "2020-11-26T04:42:38Z", "path": "core/sail/shacl/src/main/java/org/eclipse/rdf4j/sail/shacl/AST/ShaclProperties.java", "diffHunk": "@@ -319,10 +404,58 @@ public boolean isUniqueLang() {\n \t\treturn uniqueLang;\n \t}\n \n-\tpublic Value getHasValue() {\n+\tpublic Resource getId() {\n+\t\treturn id;\n+\t}\n+\n+\tpublic IRI getType() {\n+\t\treturn type;\n+\t}\n+\n+\tpublic List<Literal> getMessage() {\n+\t\treturn message;\n+\t}\n+\n+\tpublic List<Resource> getProperty() {", "originalCommit": "308ac2438e959a5da790c5aa33869ec63e4e789f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cf54e8bb8225926d696383054a6378314b8ab1a2", "url": "https://github.com/eclipse/rdf4j/commit/cf54e8bb8225926d696383054a6378314b8ab1a2", "message": "migrated away from StatementPattern and Var\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-30T20:08:37Z", "type": "commit"}, {"oid": "7b4ae18ff490d8cd091ad5b6dd784f8b490b2448", "url": "https://github.com/eclipse/rdf4j/commit/7b4ae18ff490d8cd091ad5b6dd784f8b490b2448", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-11-30T20:15:10Z", "type": "commit"}, {"oid": "e27266d6eabc60b3244fd162a0dea5fc32ebd3b5", "url": "https://github.com/eclipse/rdf4j/commit/e27266d6eabc60b3244fd162a0dea5fc32ebd3b5", "message": "rsx target shape should be complete\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-12-01T11:45:52Z", "type": "commit"}, {"oid": "0fa965963272ad46dffb47f6cb0655903b10b672", "url": "https://github.com/eclipse/rdf4j/commit/0fa965963272ad46dffb47f6cb0655903b10b672", "message": "minor fixes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-12-07T19:16:37Z", "type": "commit"}, {"oid": "4dd018c7fd7dd9120c97df26a6ea742cca2fe226", "url": "https://github.com/eclipse/rdf4j/commit/4dd018c7fd7dd9120c97df26a6ea742cca2fe226", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-12-07T19:17:19Z", "type": "commit"}, {"oid": "856fc2dad8fc9dcb563de5e41b1284dce65d8a1c", "url": "https://github.com/eclipse/rdf4j/commit/856fc2dad8fc9dcb563de5e41b1284dce65d8a1c", "message": "new test cases and a minor fix\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-12-07T20:09:14Z", "type": "commit"}, {"oid": "2e5ed6b1c72d13a396dbf0e3c5a83db64174c9a3", "url": "https://github.com/eclipse/rdf4j/commit/2e5ed6b1c72d13a396dbf0e3c5a83db64174c9a3", "message": "code cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-12-15T16:58:22Z", "type": "commit"}, {"oid": "e8534041bbb810244c24d80465950988e2099b42", "url": "https://github.com/eclipse/rdf4j/commit/e8534041bbb810244c24d80465950988e2099b42", "message": "fix tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-12-15T20:36:16Z", "type": "commit"}, {"oid": "981bb7e2469fab519e11e300c8d7e16c6ca6e039", "url": "https://github.com/eclipse/rdf4j/commit/981bb7e2469fab519e11e300c8d7e16c6ca6e039", "message": "more cleanup\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-12-15T20:59:02Z", "type": "commit"}, {"oid": "b92cc4d782f19f55413faf381d2871d7abe8b4da", "url": "https://github.com/eclipse/rdf4j/commit/b92cc4d782f19f55413faf381d2871d7abe8b4da", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-12-15T21:26:49Z", "type": "commit"}, {"oid": "4c284c363ea2063179c4699fd9d3ae55235415d1", "url": "https://github.com/eclipse/rdf4j/commit/4c284c363ea2063179c4699fd9d3ae55235415d1", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-12-15T23:29:38Z", "type": "commit"}, {"oid": "72bd090c61db0fb9921179b4b144f67270453d01", "url": "https://github.com/eclipse/rdf4j/commit/72bd090c61db0fb9921179b4b144f67270453d01", "message": "GH-2083 use of RDFS and update shapes to comply with the SHACL spec\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-10T14:34:10Z", "type": "commit"}, {"oid": "d6be694e9c5bf44a8a8dc1fed02443b85121d4cd", "url": "https://github.com/eclipse/rdf4j/commit/d6be694e9c5bf44a8a8dc1fed02443b85121d4cd", "message": "GH-2083 support for basic shapes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-10T20:19:26Z", "type": "commit"}, {"oid": "374f49a2e4f7669822e709975cee895986ca5571", "url": "https://github.com/eclipse/rdf4j/commit/374f49a2e4f7669822e709975cee895986ca5571", "message": "GH-2083 support for recursive shapes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-10T20:52:24Z", "type": "commit"}, {"oid": "b84d5b66cf4857cdcfd28c8575cc7931cb0e19db", "url": "https://github.com/eclipse/rdf4j/commit/b84d5b66cf4857cdcfd28c8575cc7931cb0e19db", "message": "GH-2083 exportable to model\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-11T10:41:10Z", "type": "commit"}, {"oid": "c9f18746e1fc34cc8cdfd33cc707c40b54d2654f", "url": "https://github.com/eclipse/rdf4j/commit/c9f18746e1fc34cc8cdfd33cc707c40b54d2654f", "message": "GH-2083 support for sh:or\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-11T20:22:36Z", "type": "commit"}, {"oid": "32134a97f2f93d5754f715888f362311658f410f", "url": "https://github.com/eclipse/rdf4j/commit/32134a97f2f93d5754f715888f362311658f410f", "message": "GH-2083 max count support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-12T08:34:22Z", "type": "commit"}, {"oid": "5b317381abdcff85c59040f6bd16be7e66b394e1", "url": "https://github.com/eclipse/rdf4j/commit/5b317381abdcff85c59040f6bd16be7e66b394e1", "message": "GH-2083 sh:not support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-12T10:02:59Z", "type": "commit"}, {"oid": "68502a6557c03b530116867175d00fbe803f2dc0", "url": "https://github.com/eclipse/rdf4j/commit/68502a6557c03b530116867175d00fbe803f2dc0", "message": "GH-2083 support for datatype and some restrictions\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-12T15:29:34Z", "type": "commit"}, {"oid": "640fe45bb0eae876177f2d235c93ae4cbb3c0986", "url": "https://github.com/eclipse/rdf4j/commit/640fe45bb0eae876177f2d235c93ae4cbb3c0986", "message": "GH-2083 AST can now parse all SHACL structures we have tests for\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-13T15:49:45Z", "type": "commit"}, {"oid": "184650afbf3390f393e39e614c0dca9c13780e46", "url": "https://github.com/eclipse/rdf4j/commit/184650afbf3390f393e39e614c0dca9c13780e46", "message": "GH-2083 formatting and better error handling\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-13T15:49:45Z", "type": "commit"}, {"oid": "849339fd41f759b27bb78121162fa5d8e0397f5e", "url": "https://github.com/eclipse/rdf4j/commit/849339fd41f759b27bb78121162fa5d8e0397f5e", "message": "GH-2083 support for parent\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-14T12:46:26Z", "type": "commit"}, {"oid": "6aba211b719abae2fc11d6ffcb54224b2a1f9c83", "url": "https://github.com/eclipse/rdf4j/commit/6aba211b719abae2fc11d6ffcb54224b2a1f9c83", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-25T08:21:57Z", "type": "commit"}, {"oid": "bca76e5d36d3c071cdfa39771c2a894a4f82fdc4", "url": "https://github.com/eclipse/rdf4j/commit/bca76e5d36d3c071cdfa39771c2a894a4f82fdc4", "message": "Merge develop\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-04-28T13:49:04Z", "type": "commit"}, {"oid": "005c713c0bf46e3780390d824561c50e8b5a6942", "url": "https://github.com/eclipse/rdf4j/commit/005c713c0bf46e3780390d824561c50e8b5a6942", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-05-08T08:30:57Z", "type": "commit"}, {"oid": "c2dfc70298cf3b867e10d490a9ae18b150897c16", "url": "https://github.com/eclipse/rdf4j/commit/c2dfc70298cf3b867e10d490a9ae18b150897c16", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-02T16:19:19Z", "type": "commit"}, {"oid": "17eb9acbbee58ef5eae2312007cd464617f6a31c", "url": "https://github.com/eclipse/rdf4j/commit/17eb9acbbee58ef5eae2312007cd464617f6a31c", "message": "Support for inverse path\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-02T16:44:29Z", "type": "commit"}, {"oid": "966195664a72e5c074fdb2aca9f8e46a2a7c7ce8", "url": "https://github.com/eclipse/rdf4j/commit/966195664a72e5c074fdb2aca9f8e46a2a7c7ce8", "message": "more path support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-03T19:35:13Z", "type": "commit"}, {"oid": "67ba1ae5250d8cb2cd98d450346c7c5ba8f1bf0d", "url": "https://github.com/eclipse/rdf4j/commit/67ba1ae5250d8cb2cd98d450346c7c5ba8f1bf0d", "message": "support for sequence paths\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-04T06:42:21Z", "type": "commit"}, {"oid": "b1b664608f207f1b40ff2cfb0ad4ac69c861598b", "url": "https://github.com/eclipse/rdf4j/commit/b1b664608f207f1b40ff2cfb0ad4ac69c861598b", "message": "another sequence path test\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-04T07:18:37Z", "type": "commit"}, {"oid": "a5aa4c2d2c49c4bef2ded90ba9d176c51d2c8a3f", "url": "https://github.com/eclipse/rdf4j/commit/a5aa4c2d2c49c4bef2ded90ba9d176c51d2c8a3f", "message": "splitting of shapes into the smallest shapes to make parallel execution faster\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-04T16:15:29Z", "type": "commit"}, {"oid": "291b1c2dce5ac535c1d00fb83d70686ce5ebbe68", "url": "https://github.com/eclipse/rdf4j/commit/291b1c2dce5ac535c1d00fb83d70686ce5ebbe68", "message": "beginning of target chain implementation\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-04T19:11:18Z", "type": "commit"}, {"oid": "6cacd82fc1548df2d54701e062fa0ff147d1dd53", "url": "https://github.com/eclipse/rdf4j/commit/6cacd82fc1548df2d54701e062fa0ff147d1dd53", "message": "optimizable target chains\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-04T19:37:49Z", "type": "commit"}, {"oid": "b44805dfeb9dc1c17acf2394f3383867dba99d4c", "url": "https://github.com/eclipse/rdf4j/commit/b44805dfeb9dc1c17acf2394f3383867dba99d4c", "message": "added a test\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-06T08:02:24Z", "type": "commit"}, {"oid": "278b74114c830bc76b4b40bf6ea8d52a78807fde", "url": "https://github.com/eclipse/rdf4j/commit/278b74114c830bc76b4b40bf6ea8d52a78807fde", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-06-08T10:29:44Z", "type": "commit"}, {"oid": "883198f9f5e22b0feb1bda070bb2a0c5bdfa5664", "url": "https://github.com/eclipse/rdf4j/commit/883198f9f5e22b0feb1bda070bb2a0c5bdfa5664", "message": "support parsing of more constraint components\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-08T11:35:29Z", "type": "commit"}, {"oid": "f2723420c148ae5220f4d51c13a906be641f413d", "url": "https://github.com/eclipse/rdf4j/commit/f2723420c148ae5220f4d51c13a906be641f413d", "message": "starting to generate plans\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-08T15:25:58Z", "type": "commit"}, {"oid": "e088ad542da663a67674fbfa2f694dd731faaca8", "url": "https://github.com/eclipse/rdf4j/commit/e088ad542da663a67674fbfa2f694dd731faaca8", "message": "POC for migrating from tuple to a specific construct used for validation info\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-10T16:37:42Z", "type": "commit"}, {"oid": "fa5b6035f5b2dbc3a82399860bbc2214876c998f", "url": "https://github.com/eclipse/rdf4j/commit/fa5b6035f5b2dbc3a82399860bbc2214876c998f", "message": "getting closer to handling target chains\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-10T19:01:42Z", "type": "commit"}, {"oid": "f8ec560a20bafa8822c6b79f083916863a92bcef", "url": "https://github.com/eclipse/rdf4j/commit/f8ec560a20bafa8822c6b79f083916863a92bcef", "message": "start handling longer target chains\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-10T19:52:35Z", "type": "commit"}, {"oid": "48db587b1ecb3cccdacac41d18647af825a4f8e1", "url": "https://github.com/eclipse/rdf4j/commit/48db587b1ecb3cccdacac41d18647af825a4f8e1", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-06-11T05:47:54Z", "type": "commit"}, {"oid": "c3553a001de43bab7869531081079e089c2c8858", "url": "https://github.com/eclipse/rdf4j/commit/c3553a001de43bab7869531081079e089c2c8858", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-06-12T16:22:04Z", "type": "commit"}, {"oid": "f32f25e246d279dcb4c31d0bb398b658a292652d", "url": "https://github.com/eclipse/rdf4j/commit/f32f25e246d279dcb4c31d0bb398b658a292652d", "message": "tests for sh:node\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-15T20:32:03Z", "type": "commit"}, {"oid": "2689c4b5c7c1692ce3696381b1f818f7bd3b5071", "url": "https://github.com/eclipse/rdf4j/commit/2689c4b5c7c1692ce3696381b1f818f7bd3b5071", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-16T06:45:26Z", "type": "commit"}, {"oid": "85b5c0d41f4fbf747fd2603e107776d552e3929d", "url": "https://github.com/eclipse/rdf4j/commit/85b5c0d41f4fbf747fd2603e107776d552e3929d", "message": "start validating report\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-16T07:30:53Z", "type": "commit"}, {"oid": "e99ce146b4d5465168f64eb0ce0fba739c6d4421", "url": "https://github.com/eclipse/rdf4j/commit/e99ce146b4d5465168f64eb0ce0fba739c6d4421", "message": "started creating reports\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-17T05:56:08Z", "type": "commit"}, {"oid": "3360c4b7488c6b3aa1d6830dac3c5cbec4c2ac9c", "url": "https://github.com/eclipse/rdf4j/commit/3360c4b7488c6b3aa1d6830dac3c5cbec4c2ac9c", "message": "more reports\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-17T06:11:01Z", "type": "commit"}, {"oid": "e7be6b737954db1e03f50ca55f1dc4efecd3e47a", "url": "https://github.com/eclipse/rdf4j/commit/e7be6b737954db1e03f50ca55f1dc4efecd3e47a", "message": "report generation works as expected now\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-21T14:45:00Z", "type": "commit"}, {"oid": "8da45092ca2664470988337330cf329bb8ec0b68", "url": "https://github.com/eclipse/rdf4j/commit/8da45092ca2664470988337330cf329bb8ec0b68", "message": "WIP migrating all plan nodes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-21T19:57:42Z", "type": "commit"}, {"oid": "49dc2abd2cdc2d9dd90f6bce7c371513a15dec4c", "url": "https://github.com/eclipse/rdf4j/commit/49dc2abd2cdc2d9dd90f6bce7c371513a15dec4c", "message": "most plan nodes are working now\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-21T21:28:09Z", "type": "commit"}, {"oid": "9df58a98ec2d56273b14b57893d8b9752324efba", "url": "https://github.com/eclipse/rdf4j/commit/9df58a98ec2d56273b14b57893d8b9752324efba", "message": "migrated all plan nodes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-21T23:18:21Z", "type": "commit"}, {"oid": "9b011fff58b2b3c281d9e621461128a5e2511853", "url": "https://github.com/eclipse/rdf4j/commit/9b011fff58b2b3c281d9e621461128a5e2511853", "message": "full plan for datatype restriction\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-21T23:44:11Z", "type": "commit"}, {"oid": "dd0c3df335b30d8da724a6d50bd0d4e69a4a2532", "url": "https://github.com/eclipse/rdf4j/commit/dd0c3df335b30d8da724a6d50bd0d4e69a4a2532", "message": "started on target filter\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-22T00:03:02Z", "type": "commit"}, {"oid": "b2ec1b2733c70ad44131c59513d8a8741f3e9c14", "url": "https://github.com/eclipse/rdf4j/commit/b2ec1b2733c70ad44131c59513d8a8741f3e9c14", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-06-27T14:16:15Z", "type": "commit"}, {"oid": "419f6844210bd6bf0cf3f9eb7986adf6388c8b41", "url": "https://github.com/eclipse/rdf4j/commit/419f6844210bd6bf0cf3f9eb7986adf6388c8b41", "message": "remove phase0 concept\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-28T20:16:44Z", "type": "commit"}, {"oid": "cc03a33c2cb57efbb228ee49625accc5fda6228c", "url": "https://github.com/eclipse/rdf4j/commit/cc03a33c2cb57efbb228ee49625accc5fda6228c", "message": "beginnings of sparql based validation\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-06-28T21:33:15Z", "type": "commit"}, {"oid": "b8392d9fe575e2265d00cc337eb091476ab7c5d7", "url": "https://github.com/eclipse/rdf4j/commit/b8392d9fe575e2265d00cc337eb091476ab7c5d7", "message": "merge develop\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-21T19:02:05Z", "type": "commit"}, {"oid": "b0c4485cf06702d73cd62b6d627a23b774762949", "url": "https://github.com/eclipse/rdf4j/commit/b0c4485cf06702d73cd62b6d627a23b774762949", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-25T09:37:53Z", "type": "commit"}, {"oid": "542a6ae2fdc2a44f2ac3fda87baf729769e62897", "url": "https://github.com/eclipse/rdf4j/commit/542a6ae2fdc2a44f2ac3fda87baf729769e62897", "message": "GH-2083 simplified plan for simple validation nodes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-25T10:23:27Z", "type": "commit"}, {"oid": "d81ba5bad279163f4a30b13db3e32a9e0d6d2f70", "url": "https://github.com/eclipse/rdf4j/commit/d81ba5bad279163f4a30b13db3e32a9e0d6d2f70", "message": "more passing shapes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T10:37:47Z", "type": "commit"}, {"oid": "af33460c4de65ba112f522bbdbf10cf876529007", "url": "https://github.com/eclipse/rdf4j/commit/af33460c4de65ba112f522bbdbf10cf876529007", "message": "more fixes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T11:30:07Z", "type": "commit"}, {"oid": "99f4b00194bc192d76ec4f4a73464c19f14368b4", "url": "https://github.com/eclipse/rdf4j/commit/99f4b00194bc192d76ec4f4a73464c19f14368b4", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T11:45:47Z", "type": "commit"}, {"oid": "899b6ae262dc5320359bbc86bd155c85e15170ce", "url": "https://github.com/eclipse/rdf4j/commit/899b6ae262dc5320359bbc86bd155c85e15170ce", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T13:18:32Z", "type": "commit"}, {"oid": "fb90fc28ca312ff4dbb5169f852a33147c2f3c7c", "url": "https://github.com/eclipse/rdf4j/commit/fb90fc28ca312ff4dbb5169f852a33147c2f3c7c", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T15:25:58Z", "type": "commit"}, {"oid": "1b4b3456fe359537a1046eca883ea8efe3ef7d44", "url": "https://github.com/eclipse/rdf4j/commit/1b4b3456fe359537a1046eca883ea8efe3ef7d44", "message": "WIP\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T15:46:18Z", "type": "commit"}, {"oid": "eae9f24ff2fd220223724d2b1536cc7e1e627a59", "url": "https://github.com/eclipse/rdf4j/commit/eae9f24ff2fd220223724d2b1536cc7e1e627a59", "message": "fixed more tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T16:19:37Z", "type": "commit"}, {"oid": "615495484b9abd7aaeda7bec85324ae2bf918e3e", "url": "https://github.com/eclipse/rdf4j/commit/615495484b9abd7aaeda7bec85324ae2bf918e3e", "message": "fix regex in sparql\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T20:25:23Z", "type": "commit"}, {"oid": "40dd2615632a169be69bf95e5150bb34fd7e9566", "url": "https://github.com/eclipse/rdf4j/commit/40dd2615632a169be69bf95e5150bb34fd7e9566", "message": "fixed all the edge cases here\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T21:24:25Z", "type": "commit"}, {"oid": "1e97b8efb35d800034e0ec969553cb4a89c4f600", "url": "https://github.com/eclipse/rdf4j/commit/1e97b8efb35d800034e0ec969553cb4a89c4f600", "message": "fix\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-26T21:30:18Z", "type": "commit"}, {"oid": "34116ca36e08364c240d8a5811658c286287e974", "url": "https://github.com/eclipse/rdf4j/commit/34116ca36e08364c240d8a5811658c286287e974", "message": "starting to implement sh:not\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-29T16:20:29Z", "type": "commit"}, {"oid": "bca9cef35f1ed8f2a0a698c2d6c41174add44c46", "url": "https://github.com/eclipse/rdf4j/commit/bca9cef35f1ed8f2a0a698c2d6c41174add44c46", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-29T16:25:51Z", "type": "commit"}, {"oid": "7dafafaa86b0310a1ed184418aef24d0eea53eda", "url": "https://github.com/eclipse/rdf4j/commit/7dafafaa86b0310a1ed184418aef24d0eea53eda", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-31T20:59:23Z", "type": "commit"}, {"oid": "742880ca159f97036efd17f9209bbb23901dac42", "url": "https://github.com/eclipse/rdf4j/commit/742880ca159f97036efd17f9209bbb23901dac42", "message": "wip\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-07-31T21:13:57Z", "type": "commit"}, {"oid": "dc494cdf576c3d6d93d8a2cd847740b77061e366", "url": "https://github.com/eclipse/rdf4j/commit/dc494cdf576c3d6d93d8a2cd847740b77061e366", "message": "typo\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-04T19:19:13Z", "type": "commit"}, {"oid": "f90e5087f9331aae809a381529b24233e91b1a03", "url": "https://github.com/eclipse/rdf4j/commit/f90e5087f9331aae809a381529b24233e91b1a03", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-08-05T14:00:39Z", "type": "commit"}, {"oid": "6f31942000d8fa4d34c4436da321f79c49353aa6", "url": "https://github.com/eclipse/rdf4j/commit/6f31942000d8fa4d34c4436da321f79c49353aa6", "message": "blank node inlining\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-05T14:02:31Z", "type": "commit"}, {"oid": "6d5932b4a01c8b402c9da28e331e53a6a2660402", "url": "https://github.com/eclipse/rdf4j/commit/6d5932b4a01c8b402c9da28e331e53a6a2660402", "message": "wip sh:or sh:not\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-05T14:28:14Z", "type": "commit"}, {"oid": "3f934c048e45aa587f5a611432e4a6f534610fd9", "url": "https://github.com/eclipse/rdf4j/commit/3f934c048e45aa587f5a611432e4a6f534610fd9", "message": "initial negation support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-07T15:05:34Z", "type": "commit"}, {"oid": "c60048ac12f57470cb26698b0bc6ac157150b90e", "url": "https://github.com/eclipse/rdf4j/commit/c60048ac12f57470cb26698b0bc6ac157150b90e", "message": "more tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-07T15:19:14Z", "type": "commit"}, {"oid": "6fb1b9af2a65ff9cc59d4d3854e72788466b65a4", "url": "https://github.com/eclipse/rdf4j/commit/6fb1b9af2a65ff9cc59d4d3854e72788466b65a4", "message": "more WIP on sh:not\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-07T20:57:58Z", "type": "commit"}, {"oid": "09ae2fdea42d5062c38eb3a6a88b74193b1d8ebd", "url": "https://github.com/eclipse/rdf4j/commit/09ae2fdea42d5062c38eb3a6a88b74193b1d8ebd", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-18T19:38:00Z", "type": "commit"}, {"oid": "6670eb64791533bb8654b909733c624ed4f4bb07", "url": "https://github.com/eclipse/rdf4j/commit/6670eb64791533bb8654b909733c624ed4f4bb07", "message": "more negation support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-19T09:28:21Z", "type": "commit"}, {"oid": "4765a57cc555084057e40a696c4b531bfb06348a", "url": "https://github.com/eclipse/rdf4j/commit/4765a57cc555084057e40a696c4b531bfb06348a", "message": "start on sh:or support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-19T10:07:57Z", "type": "commit"}, {"oid": "1b81987f9c499add12682c117841954e20fca024", "url": "https://github.com/eclipse/rdf4j/commit/1b81987f9c499add12682c117841954e20fca024", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-19T10:09:16Z", "type": "commit"}, {"oid": "56ecd7edb97b4c53cb55b1062de7be3c4a227a3a", "url": "https://github.com/eclipse/rdf4j/commit/56ecd7edb97b4c53cb55b1062de7be3c4a227a3a", "message": "WIP\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-20T19:24:09Z", "type": "commit"}, {"oid": "72ae870c7f5dbf6c3c83afa1ec262c3ac18ea692", "url": "https://github.com/eclipse/rdf4j/commit/72ae870c7f5dbf6c3c83afa1ec262c3ac18ea692", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-08-31T17:43:49Z", "type": "commit"}, {"oid": "5b05fa2314fdc6aca33a8e111eeba74a7885df57", "url": "https://github.com/eclipse/rdf4j/commit/5b05fa2314fdc6aca33a8e111eeba74a7885df57", "message": "cleanup and scoping\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-31T17:57:57Z", "type": "commit"}, {"oid": "2ad935cc9aefb7b28aded98dd9ac08817c5e7fb8", "url": "https://github.com/eclipse/rdf4j/commit/2ad935cc9aefb7b28aded98dd9ac08817c5e7fb8", "message": "updated test cases\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-08-31T18:21:33Z", "type": "commit"}, {"oid": "594124da1040ef6e38cb9d096eaca6b2a577ee0f", "url": "https://github.com/eclipse/rdf4j/commit/594124da1040ef6e38cb9d096eaca6b2a577ee0f", "message": "initial functional negation\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-02T18:47:59Z", "type": "commit"}, {"oid": "bf8b014a5fe24ed59d3a136d710ffee1376af56e", "url": "https://github.com/eclipse/rdf4j/commit/bf8b014a5fe24ed59d3a136d710ffee1376af56e", "message": "WIP supporting nodeshape\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-04T19:56:57Z", "type": "commit"}, {"oid": "6ea986279ae752721469f607b4c8cb08b613e05f", "url": "https://github.com/eclipse/rdf4j/commit/6ea986279ae752721469f607b4c8cb08b613e05f", "message": "more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-04T20:08:42Z", "type": "commit"}, {"oid": "719e379e740fcbd77b9483cd044d793981cefa72", "url": "https://github.com/eclipse/rdf4j/commit/719e379e740fcbd77b9483cd044d793981cefa72", "message": "introduced a negation node\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-06T10:58:32Z", "type": "commit"}, {"oid": "88e0d16b3aa6dbeed9510412d3712383675692a0", "url": "https://github.com/eclipse/rdf4j/commit/88e0d16b3aa6dbeed9510412d3712383675692a0", "message": "possible fix for negation\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-06T11:38:39Z", "type": "commit"}, {"oid": "5dd43d3bb67547f3f50ef150ec3f6a9156492473", "url": "https://github.com/eclipse/rdf4j/commit/5dd43d3bb67547f3f50ef150ec3f6a9156492473", "message": "WIP supporting negation\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-09T08:44:08Z", "type": "commit"}, {"oid": "34ea8277e4507f91e757983ad356d01321e531e7", "url": "https://github.com/eclipse/rdf4j/commit/34ea8277e4507f91e757983ad356d01321e531e7", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-13T17:51:52Z", "type": "commit"}, {"oid": "95c3c44a65bba966f5da3e7928281a53374547bb", "url": "https://github.com/eclipse/rdf4j/commit/95c3c44a65bba966f5da3e7928281a53374547bb", "message": "improved test performance\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-13T18:12:08Z", "type": "commit"}, {"oid": "3d4ee1802f4048d2e8c482ccc1954ef877704940", "url": "https://github.com/eclipse/rdf4j/commit/3d4ee1802f4048d2e8c482ccc1954ef877704940", "message": "negation works now\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-13T20:56:10Z", "type": "commit"}, {"oid": "b4b5c9febd39ea905d5e14cf979ce23f2294bbd1", "url": "https://github.com/eclipse/rdf4j/commit/b4b5c9febd39ea905d5e14cf979ce23f2294bbd1", "message": "support for sh:and\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-14T05:44:02Z", "type": "commit"}, {"oid": "94e4f529db44e9f8b65f07b2931b3276023b49df", "url": "https://github.com/eclipse/rdf4j/commit/94e4f529db44e9f8b65f07b2931b3276023b49df", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-14T23:38:55Z", "type": "commit"}, {"oid": "18f70bbd83fc4f239f37c5fd36e6b43c5cea386c", "url": "https://github.com/eclipse/rdf4j/commit/18f70bbd83fc4f239f37c5fd36e6b43c5cea386c", "message": "fixed a bug when comparing two validation tuples\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-15T20:22:22Z", "type": "commit"}, {"oid": "c7512c979d458cbb25d27a7f4535878d4a554d4d", "url": "https://github.com/eclipse/rdf4j/commit/c7512c979d458cbb25d27a7f4535878d4a554d4d", "message": "add a validation tuple test\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-15T20:26:15Z", "type": "commit"}, {"oid": "a75254c99ebe58a98f019e2f70054e0612189fc2", "url": "https://github.com/eclipse/rdf4j/commit/a75254c99ebe58a98f019e2f70054e0612189fc2", "message": "better handling of ordered nodes\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-19T09:40:02Z", "type": "commit"}, {"oid": "9dc55f57c56d3e4d54fdd03dcf7dd3130333c949", "url": "https://github.com/eclipse/rdf4j/commit/9dc55f57c56d3e4d54fdd03dcf7dd3130333c949", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-19T10:19:51Z", "type": "commit"}, {"oid": "4b0866c8bd4befc120ec1a5dd7d2826344ab5d0e", "url": "https://github.com/eclipse/rdf4j/commit/4b0866c8bd4befc120ec1a5dd7d2826344ab5d0e", "message": "enabled tests for sh:and and sh:or\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-19T10:27:40Z", "type": "commit"}, {"oid": "bbeb9d455d3faa727d2a64fd1bfe2b7ad69786f0", "url": "https://github.com/eclipse/rdf4j/commit/bbeb9d455d3faa727d2a64fd1bfe2b7ad69786f0", "message": "sh:or mostly works\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-19T17:42:59Z", "type": "commit"}, {"oid": "8305328d7ab2e03b96f8e60593717135402812e7", "url": "https://github.com/eclipse/rdf4j/commit/8305328d7ab2e03b96f8e60593717135402812e7", "message": "Merge branch 'develop' into GH-2083-new-shacl-ast", "committedDate": "2020-09-19T17:43:56Z", "type": "commit"}, {"oid": "af012f244dd67c1ed664bd784f3e401381f6dc5c", "url": "https://github.com/eclipse/rdf4j/commit/af012f244dd67c1ed664bd784f3e401381f6dc5c", "message": "unique lang support\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-19T20:22:30Z", "type": "commit"}, {"oid": "778f2d1391844542faeee7a06c5eba73b74e013d", "url": "https://github.com/eclipse/rdf4j/commit/778f2d1391844542faeee7a06c5eba73b74e013d", "message": "enabled another test\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-19T20:25:25Z", "type": "commit"}, {"oid": "d62f987182c4c4d4aed433570d868083e6ae6cb3", "url": "https://github.com/eclipse/rdf4j/commit/d62f987182c4c4d4aed433570d868083e6ae6cb3", "message": "most minCount and maxCount tests are passing\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-20T15:51:23Z", "type": "commit"}, {"oid": "103ccfa294866c6c5ff08f613eb18ffcfa82bd9f", "url": "https://github.com/eclipse/rdf4j/commit/103ccfa294866c6c5ff08f613eb18ffcfa82bd9f", "message": "support for more shacl features\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-20T20:33:21Z", "type": "commit"}, {"oid": "a13b94d4f11f47259bda637e3c4d7e0e5c2c2e69", "url": "https://github.com/eclipse/rdf4j/commit/a13b94d4f11f47259bda637e3c4d7e0e5c2c2e69", "message": "cloning works as expected and more passing tests\n\nSigned-off-by: Ha\u030avard Ottestad <hmottestad@gmail.com>", "committedDate": "2020-09-21T05:39:57Z", "type": "commit"}]}