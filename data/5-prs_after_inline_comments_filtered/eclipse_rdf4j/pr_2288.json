{"pr_number": 2288, "pr_title": "GH-2158: Added getAllValues function to QueryResults", "pr_createdAt": "2020-05-28T12:24:12Z", "pr_url": "https://github.com/eclipse/rdf4j/pull/2288", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2OTIxOQ==", "url": "https://github.com/eclipse/rdf4j/pull/2288#discussion_r432169219", "bodyText": "The code is correct, but it is possible to write it in a slightly shorter way, since in this case the compiler already knows the result type: I'd suggest to use return ArrayList<>(); instead of return ArrayList<Value>()", "author": "barthanssens", "createdAt": "2020-05-28T22:59:07Z", "path": "core/query/src/main/java/org/eclipse/rdf4j/query/QueryResults.java", "diffHunk": "@@ -87,6 +88,24 @@ public static Model asModel(CloseableIteration<? extends Statement, ? extends RD\n \t\treturn model;\n \t}\n \n+\t/**\n+\t * Returns a list of values of a particular variable out of the QueryResult.\n+\t *\n+\t * @param result\n+\t * @param var    variable for which list of values needs to be returned\n+\t * @return a list of Values of var\n+\t * @throws QueryEvaluationException\n+\t */\n+\tpublic static List<Value> getAllValues(TupleQueryResult result, String var) throws QueryEvaluationException {\n+\t\ttry (Stream<BindingSet> stream = result.stream()) {\n+\t\t\tif (result.getBindingNames().contains(var)) {\n+\t\t\t\treturn stream.map(bs -> bs.getValue(var)).collect(Collectors.toList());\n+\t\t\t} else {\n+\t\t\t\treturn new ArrayList<Value>();", "originalCommit": "cc326a0b12163f9c0183c2d5273395b6347df1b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE3MzI5Mw==", "url": "https://github.com/eclipse/rdf4j/pull/2288#discussion_r432173293", "bodyText": "A second way to reduce the amount of code even further would be to use a ternary operator, but that's just a matter of taste (some people like this style, some don't because it can be harder to read).\nI.e.\nreturn result.getBindingNames().contains(var) \n          ? stream.map(..\n          : new ArrayList<>();", "author": "barthanssens", "createdAt": "2020-05-28T23:11:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2OTIxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI1NzM4MA==", "url": "https://github.com/eclipse/rdf4j/pull/2288#discussion_r432257380", "bodyText": "Thank you @barthanssens . I will make these changes.", "author": "navdhaagarwal", "createdAt": "2020-05-29T05:05:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2OTIxOQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjI4OTM0Mg==", "url": "https://github.com/eclipse/rdf4j/pull/2288#discussion_r432289342", "bodyText": "Collections.emptyList() is a great option if we need an empty list.", "author": "hmottestad", "createdAt": "2020-05-29T06:54:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE2OTIxOQ=="}], "type": "inlineReview"}, {"oid": "c3dba032a1f23dd2badc642b10ad30eb7863a5c0", "url": "https://github.com/eclipse/rdf4j/commit/c3dba032a1f23dd2badc642b10ad30eb7863a5c0", "message": "GH-2158: Added getAllValues function to QueryResults\n\nSigned-off-by: shubhi0108 <shubhi16267@iiitd.ac.in>\n\nGH-2158: Formatted getAllValues function\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH-2158: Added a test\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH-2158: changed function name\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH2158: Final check with one more test\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH2158: changes made\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>", "committedDate": "2020-05-29T07:18:50Z", "type": "commit"}, {"oid": "c3dba032a1f23dd2badc642b10ad30eb7863a5c0", "url": "https://github.com/eclipse/rdf4j/commit/c3dba032a1f23dd2badc642b10ad30eb7863a5c0", "message": "GH-2158: Added getAllValues function to QueryResults\n\nSigned-off-by: shubhi0108 <shubhi16267@iiitd.ac.in>\n\nGH-2158: Formatted getAllValues function\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH-2158: Added a test\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH-2158: changed function name\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH2158: Final check with one more test\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>\n\nGH2158: changes made\n\nSigned-off-by: navdhaagarwal <navdha16250@iiitd.ac.in>", "committedDate": "2020-05-29T07:18:50Z", "type": "forcePushed"}]}