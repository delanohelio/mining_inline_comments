{"pr_number": 3314, "pr_title": "wip/6.0 Fix a regular expression sloppiness in IndexQueryHintHandler", "pr_createdAt": "2020-03-26T06:59:41Z", "pr_url": "https://github.com/hibernate/hibernate-orm/pull/3314", "timeline": [{"oid": "93ac2d40d773a6eca7ec67db8d10dac440168825", "url": "https://github.com/hibernate/hibernate-orm/commit/93ac2d40d773a6eca7ec67db8d10dac440168825", "message": "fix a RE sloppiness in IndexQueryHintHandler", "committedDate": "2020-03-26T16:32:06Z", "type": "commit"}, {"oid": "93ac2d40d773a6eca7ec67db8d10dac440168825", "url": "https://github.com/hibernate/hibernate-orm/commit/93ac2d40d773a6eca7ec67db8d10dac440168825", "message": "fix a RE sloppiness in IndexQueryHintHandler", "committedDate": "2020-03-26T16:32:06Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODcxNzExNQ==", "url": "https://github.com/hibernate/hibernate-orm/pull/3314#discussion_r398717115", "bodyText": "without \\b boundary spec, the following SQL query could easily explode:\nselect * from whereabouts;", "author": "NathanQingyangXu", "createdAt": "2020-03-26T16:34:46Z", "path": "hibernate-core/src/main/java/org/hibernate/dialect/hint/IndexQueryHintHandler.java", "diffHunk": "@@ -25,7 +25,7 @@\n \n \tpublic static final IndexQueryHintHandler INSTANCE = new IndexQueryHintHandler();\n \n-\tprivate static final Pattern QUERY_PATTERN = Pattern.compile( \"^(select.*?from.*?)(where.*?)$\" );\n+\tprivate static final Pattern QUERY_PATTERN = Pattern.compile( \"^\\\\s*(select\\\\b.+?\\\\bfrom\\\\b.+?)(\\\\bwhere\\\\b.+?)$\" );", "originalCommit": "93ac2d40d773a6eca7ec67db8d10dac440168825", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}