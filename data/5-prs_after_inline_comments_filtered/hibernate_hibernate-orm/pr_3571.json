{"pr_number": 3571, "pr_title": "HHH-14220 Skip test when bytecode provider is Javassist", "pr_createdAt": "2020-09-28T17:00:17Z", "pr_url": "https://github.com/hibernate/hibernate-orm/pull/3571", "timeline": [{"oid": "a1505c4c9679e3e2a84d868fd4d7de8d64a52ddc", "url": "https://github.com/hibernate/hibernate-orm/commit/a1505c4c9679e3e2a84d868fd4d7de8d64a52ddc", "message": "HHH-14220 Skip test when bytecode provider is Javassist", "committedDate": "2020-09-28T16:58:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjE0NjAwMA==", "url": "https://github.com/hibernate/hibernate-orm/pull/3571#discussion_r496146000", "bodyText": "testing against javaassist might be more accurate and maintainable. The above logic is based on the precondition that the only non-bytebuddy provider is javaassist, which might not be correct all the time.", "author": "NathanQingyangXu", "createdAt": "2020-09-28T18:20:00Z", "path": "hibernate-core/src/test/java/org/hibernate/test/bytecode/enhancement/lazy/proxy/inlinedirtychecking/DirtyCheckPrivateUnMappedCollectionTest.java", "diffHunk": "@@ -45,11 +48,21 @@ protected void configureStandardServiceRegistryBuilder(StandardServiceRegistryBu\n \n \t@Override\n \tprotected void applyMetadataSources(MetadataSources sources) {\n-\t\tsources.addAnnotatedClass( Measurement.class );\n+\t\tString byteCodeProvider = Environment.getProperties().getProperty( AvailableSettings.BYTECODE_PROVIDER );\n+\t\tif ( byteCodeProvider != null && !Environment.BYTECODE_PROVIDER_NAME_BYTEBUDDY.equals( byteCodeProvider ) ) {", "originalCommit": "a1505c4c9679e3e2a84d868fd4d7de8d64a52ddc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}