{"pr_number": 203, "pr_title": "Manually starting GPS and opening a recorded track bug fixed. Fixes #200.", "pr_createdAt": "2020-04-30T08:00:25Z", "pr_url": "https://github.com/OpenTracksApp/OpenTracks/pull/203", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzkxNjM2NQ==", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/203#discussion_r417916365", "bodyText": "That is somehow implicit and hard to see.\nCan we somehow make this easier to read?", "author": "dennisguse", "createdAt": "2020-04-30T10:38:00Z", "path": "src/main/java/de/dennisguse/opentracks/TrackListActivity.java", "diffHunk": "@@ -205,7 +205,7 @@ public void onClick(View v) {\n             if (!PreferencesUtils.isRecording(recordingTrackId)) {\n                 // Not recording -> Recording\n                 updateMenuItems(false, true);\n-                Intent newIntent = IntentUtils.newIntent(TrackListActivity.this, TrackDetailActivity.class);\n+                Intent newIntent = IntentUtils.newIntent(TrackListActivity.this, TrackDetailActivity.class).putExtra(TrackDetailActivity.EXTRA_RECORDING_REQUEST, true);", "originalCommit": "363bb76e2c53550cd789f5e25fb188bead510ec0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODAwMjEzNQ==", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/203#discussion_r418002135", "bodyText": "I've reviewed code before resume option and I've followed the same approach. Before, TrackListActivity used a flag called startNewRecording to know if user had been clicked on record button to start a recording, so if user clicked on Start GPS button it has not start recording because startNewRecording == false.\nNow, TrackDetailActivity uses a flag called isRecordingRequest to know if it has to start a recording. So, if an Activity wants to start a new recording must starts TrackDetailActivity passing true in the extra argument EXTRA_RECORDING_REQUEST.\nThen, if someone want to use TrackDetailActivity should understand what EXTRA_ data is for. Yes, that become code a harder one.\nTrackListActivity and TrackDetailActivity need to \"speak\" each other. The other option is doing so through Service and the logic become harder.\nI can't think of anything better, some clue may help. Anyway, I can give this a spin.\n\nOfftopic: Maybe #171 is an option to simplify all this. With TrackListActivity, TrackDetailActivity and TrackRecordActivity could be more simple.", "author": "rgmf", "createdAt": "2020-04-30T13:18:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzkxNjM2NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA2MzM4MQ==", "url": "https://github.com/OpenTracksApp/OpenTracks/pull/203#discussion_r418063381", "bodyText": "I just meant the long line :)\nIt is so easy to overlook this additional putExtra.\n#171: I totally agree.", "author": "dennisguse", "createdAt": "2020-04-30T14:43:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzkxNjM2NQ=="}], "type": "inlineReview"}, {"oid": "160174149549f44b0565c308a290fdebb00285d2", "url": "https://github.com/OpenTracksApp/OpenTracks/commit/160174149549f44b0565c308a290fdebb00285d2", "message": "Manually starting GPS and opening a recorded track bug fixed. Fixes #200.", "committedDate": "2020-04-30T16:57:12Z", "type": "forcePushed"}, {"oid": "160174149549f44b0565c308a290fdebb00285d2", "url": "https://github.com/OpenTracksApp/OpenTracks/commit/160174149549f44b0565c308a290fdebb00285d2", "message": "Manually starting GPS and opening a recorded track bug fixed. Fixes #200.", "committedDate": "2020-04-30T16:57:12Z", "type": "commit"}]}