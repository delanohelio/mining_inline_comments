{"pr_number": 7461, "pr_title": "IGNITE-12710 Extension log in rebuild indexes to search problems.", "pr_createdAt": "2020-02-20T21:47:31Z", "pr_url": "https://github.com/apache/ignite/pull/7461", "timeline": [{"oid": "04d2a79157058bbc36d9d9ff24a7ddef95dff34a", "url": "https://github.com/apache/ignite/commit/04d2a79157058bbc36d9d9ff24a7ddef95dff34a", "message": "IGNITE-12710 Extension log in rebuild indexes to search problems.", "committedDate": "2020-02-20T21:46:55Z", "type": "commit"}, {"oid": "05da1511f529e282ad26eaa1571134ef94328526", "url": "https://github.com/apache/ignite/commit/05da1511f529e282ad26eaa1571134ef94328526", "message": "IGNITE-12710 Fix codestyle.", "committedDate": "2020-02-20T21:57:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ0MDY4NQ==", "url": "https://github.com/apache/ignite/pull/7461#discussion_r382440685", "bodyText": "Before the change we were waiting complete compound future, now we can skip it. It looks strange.", "author": "ygerzhedovich", "createdAt": "2020-02-21T07:56:18Z", "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCacheVisitorImpl.java", "diffHunk": "@@ -157,8 +171,55 @@ public SchemaIndexCacheVisitorImpl(GridCacheContext cctx, SchemaIndexCacheFilter\n             throw e;\n         }\n \n-        if (fut != null)\n-            fut.get();\n+        if (fut != null && stat != null) {", "originalCommit": "05da1511f529e282ad26eaa1571134ef94328526", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b5aa697d8dbe440b8ddb56c04311b882480510c4", "url": "https://github.com/apache/ignite/commit/b5aa697d8dbe440b8ddb56c04311b882480510c4", "message": "Merge branch 'ai-master' into ignite-12710", "committedDate": "2020-03-27T17:59:44Z", "type": "commit"}, {"oid": "93bed1cbf6aa2558e05c1c6f6120b577667e1e0e", "url": "https://github.com/apache/ignite/commit/93bed1cbf6aa2558e05c1c6f6120b577667e1e0e", "message": "IGNITE-12710 Fix merge errors.", "committedDate": "2020-03-27T18:21:02Z", "type": "commit"}, {"oid": "b7accac1bcc0fb03ff91bd114f615c675e7710f9", "url": "https://github.com/apache/ignite/commit/b7accac1bcc0fb03ff91bd114f615c675e7710f9", "message": "IGNITE-12710 Fix merge errors.", "committedDate": "2020-03-27T18:30:40Z", "type": "commit"}, {"oid": "6a16f92d88856d696559999d3a3e8e23e9983c88", "url": "https://github.com/apache/ignite/commit/6a16f92d88856d696559999d3a3e8e23e9983c88", "message": "IGNITE-12710 WIP.", "committedDate": "2020-03-27T19:32:15Z", "type": "commit"}, {"oid": "5762c4df36a8fb6455e4636f875ebe8973078b3a", "url": "https://github.com/apache/ignite/commit/5762c4df36a8fb6455e4636f875ebe8973078b3a", "message": "IGNITE-12710 Small fix.", "committedDate": "2020-03-27T19:34:55Z", "type": "commit"}, {"oid": "feedacc0414a96b22fb4e1bc4ff2e7a7066d5eb4", "url": "https://github.com/apache/ignite/commit/feedacc0414a96b22fb4e1bc4ff2e7a7066d5eb4", "message": "IGNITE-12710 Fix javadoc.", "committedDate": "2020-03-27T19:40:09Z", "type": "commit"}, {"oid": "b45ee2acfda933f28ce7fd7bef3b08467fe5f7c7", "url": "https://github.com/apache/ignite/commit/b45ee2acfda933f28ce7fd7bef3b08467fe5f7c7", "message": "IGNITE-12710 Fix javadoc.", "committedDate": "2020-03-27T19:40:34Z", "type": "commit"}, {"oid": "8ad8238acfc5d7b029d5292adfbc73ad1519edd1", "url": "https://github.com/apache/ignite/commit/8ad8238acfc5d7b029d5292adfbc73ad1519edd1", "message": "IGNITE-12710 Fix type.", "committedDate": "2020-03-27T19:44:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgwNjcwOA==", "url": "https://github.com/apache/ignite/pull/7461#discussion_r400806708", "bodyText": "Looks like all of these 3 params can be squashed into single closure right here.", "author": "AMashenkov", "createdAt": "2020-03-31T10:29:25Z", "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCachePartitionWorker.java", "diffHunk": "@@ -227,7 +237,7 @@ private void processKey(KeyCacheObject key) throws IgniteCheckedException {\n                 GridCacheEntryEx entry = cctx.cache().entryEx(key);\n \n                 try {\n-                    entry.updateIndex(rowFilter, clo);\n+                    entry.updateIndex(rowFilter, clo, indexCacheStat);", "originalCommit": "8ad8238acfc5d7b029d5292adfbc73ad1519edd1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg4MzYzNw==", "url": "https://github.com/apache/ignite/pull/7461#discussion_r400883637", "bodyText": "Done", "author": "antonovsergey93", "createdAt": "2020-03-31T12:46:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgwNjcwOA=="}], "type": "inlineReview"}, {"oid": "e35adbaeb64ad5d7b5a79a4ff64aec544c6a106f", "url": "https://github.com/apache/ignite/commit/e35adbaeb64ad5d7b5a79a4ff64aec544c6a106f", "message": "IGNITE-12710. Code review fixes.", "committedDate": "2020-03-31T12:45:48Z", "type": "commit"}, {"oid": "bbf62434ac6e3ae31451fe7d6963fdc0e2f7a914", "url": "https://github.com/apache/ignite/commit/bbf62434ac6e3ae31451fe7d6963fdc0e2f7a914", "message": "IGNITE-12710 Fix codestyle.", "committedDate": "2020-03-31T13:23:39Z", "type": "commit"}]}