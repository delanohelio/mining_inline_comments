{"pr_number": 8197, "pr_title": "IGNITE-13386 [ML]: Add new distances (BrayCurtis, Canberra, JensenShannon and etc)", "pr_createdAt": "2020-08-29T21:20:26Z", "pr_url": "https://github.com/apache/ignite/pull/8197", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYzOTI3OQ==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483639279", "bodyText": "Could we add here the default value which could make sense?", "author": "zaleslaw", "createdAt": "2020-09-04T14:09:06Z", "path": "modules/ml/src/main/java/org/apache/ignite/ml/math/distances/JensenShannonDistance.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import org.apache.ignite.ml.math.exceptions.math.CardinalityException;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.util.MatrixUtil;\n+\n+/**\n+ * Calculates the JensenShannonDistance distance between two points.\n+ */\n+public class JensenShannonDistance implements DistanceMeasure {\n+  /**\n+   * Serializable version identifier.\n+   */\n+  private static final long serialVersionUID = 1771556549784040093L;\n+\n+  private final Double base;\n+\n+  public JensenShannonDistance() {\n+    base = null;", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODM4Nw==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484518387", "bodyText": "Add Math.E as default value because Math.log(Math.E) == 1 and js /= Math.log(Math.E) is equal to js /= 1", "author": "mrk-andreev", "createdAt": "2020-09-07T16:40:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYzOTI3OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYzOTk5MA==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483639990", "bodyText": "Could you please add a link to the Wiki or paper or put the formula in pseudocode (will be useful for understanding)?", "author": "zaleslaw", "createdAt": "2020-09-04T14:10:23Z", "path": "modules/ml/src/main/java/org/apache/ignite/ml/math/distances/JensenShannonDistance.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import org.apache.ignite.ml.math.exceptions.math.CardinalityException;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.util.MatrixUtil;\n+\n+/**\n+ * Calculates the JensenShannonDistance distance between two points.", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODU2OA==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484518568", "bodyText": "Added link to wikipedia.", "author": "mrk-andreev", "createdAt": "2020-09-07T16:41:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYzOTk5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDA0NA==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483640044", "bodyText": "Could you please add a link to the Wiki or paper or put the formula in pseudocode (will be useful for understanding)?", "author": "zaleslaw", "createdAt": "2020-09-04T14:10:31Z", "path": "modules/ml/src/main/java/org/apache/ignite/ml/math/distances/CanberraDistance.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import org.apache.ignite.ml.math.exceptions.math.CardinalityException;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.util.MatrixUtil;\n+\n+/**\n+ * Calculates the Canberra distance between two points.", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODY2MQ==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484518661", "bodyText": "Added link to wikipedia.", "author": "mrk-andreev", "createdAt": "2020-09-07T16:41:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDA0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDExOQ==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483640119", "bodyText": "Could you please add a link to the Wiki or paper or put the formula in pseudocode (will be useful for understanding)?", "author": "zaleslaw", "createdAt": "2020-09-04T14:10:38Z", "path": "modules/ml/src/main/java/org/apache/ignite/ml/math/distances/BrayCurtisDistance.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import org.apache.ignite.ml.math.exceptions.math.CardinalityException;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.util.MatrixUtil;\n+\n+/**\n+ * Calculates the Bray Curtis distance between two points.", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODc1Mg==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484518752", "bodyText": "Added link to wikipedia.", "author": "mrk-andreev", "createdAt": "2020-09-07T16:42:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDExOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDY0NQ==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483640645", "bodyText": "Add a comment for this test", "author": "zaleslaw", "createdAt": "2020-09-04T14:11:32Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/BrayCurtisDistanceTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class BrayCurtisDistanceTest {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxODkzNA==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484518934", "bodyText": "Add comment like\n/**\n * Evaluate BrayCurtisDistance in multiple test datasets\n */", "author": "mrk-andreev", "createdAt": "2020-09-07T16:42:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDY0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDc3OA==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483640778", "bodyText": "add a comment for the public method", "author": "zaleslaw", "createdAt": "2020-09-04T14:11:44Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/BrayCurtisDistanceTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class BrayCurtisDistanceTest {\n+  /** Precision. */\n+  private static final double PRECISION = 0.01;\n+\n+  @Parameterized.Parameters(name = \"{0}\")\n+  public static Collection<TestData> data() {\n+    return Arrays.asList(\n+        new TestData(\n+            new double[] {0, 0, 0},\n+            new double[] {2, 1, 0},\n+            1.0\n+        ),\n+        new TestData(\n+            new double[] {1, 2, 3},\n+            new double[] {2, 1, 0},\n+            0.55\n+        ),\n+        new TestData(\n+            new double[] {1, 2, 3},\n+            new double[] {2, 1, 50},\n+            0.83\n+        ),\n+        new TestData(\n+            new double[] {1, -100, 3},\n+            new double[] {2, 1, -50},\n+            1.04\n+        )\n+    );\n+  }\n+\n+  private final TestData testData;\n+\n+  public BrayCurtisDistanceTest(TestData testData) {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxOTM2MQ==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484519361", "bodyText": "Add comment like\n/** */", "author": "mrk-andreev", "createdAt": "2020-09-07T16:44:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDc3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDk4Mg==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483640982", "bodyText": "Add a comment for this class", "author": "zaleslaw", "createdAt": "2020-09-04T14:12:06Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/CanberraDistanceTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class CanberraDistanceTest {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUxOTQ1MQ==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484519451", "bodyText": "Add comment like\n/**\n * Evaluate CanberraDistance in multiple test datasets\n */", "author": "mrk-andreev", "createdAt": "2020-09-07T16:44:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MDk4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTE1Mw==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483641153", "bodyText": "add a comment for the public static Collection", "author": "zaleslaw", "createdAt": "2020-09-04T14:12:25Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/CanberraDistanceTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class CanberraDistanceTest {\n+  /** Precision. */\n+  private static final double PRECISION = 0.01;\n+\n+  @Parameterized.Parameters(name = \"{0}\")\n+  public static Collection<TestData> data() {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTI2Mg==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483641262", "bodyText": "Please, comment this", "author": "zaleslaw", "createdAt": "2020-09-04T14:12:36Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/CanberraDistanceTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class CanberraDistanceTest {\n+  /** Precision. */\n+  private static final double PRECISION = 0.01;\n+\n+  @Parameterized.Parameters(name = \"{0}\")\n+  public static Collection<TestData> data() {\n+    return Arrays.asList(\n+        new TestData(\n+            new double[] {0, 0, 0},\n+            new double[] {2, 1, 0},\n+            2.0\n+        ),\n+        new TestData(\n+            new double[] {1, 2, 3},\n+            new double[] {2, 1, 0},\n+            1.66\n+        ),\n+        new TestData(\n+            new double[] {1, 2, 3},\n+            new double[] {2, 1, 50},\n+            1.55\n+        ),\n+        new TestData(\n+            new double[] {1, -100, 3},\n+            new double[] {2, 1, -50},\n+            2.33\n+        )\n+    );\n+  }\n+\n+  private final TestData testData;\n+\n+  public CanberraDistanceTest(TestData testData) {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyMDEyNg==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484520126", "bodyText": "Add comment like\n/** */", "author": "mrk-andreev", "createdAt": "2020-09-07T16:47:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTI2Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTU4Mw==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483641583", "bodyText": "Maybe these parameters could become default?", "author": "zaleslaw", "createdAt": "2020-09-04T14:13:15Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/DistanceTest.java", "diffHunk": "@@ -40,6 +40,10 @@\n         new EuclideanDistance(),\n         new HammingDistance(),\n         new ManhattanDistance(),\n+        new BrayCurtisDistance(),\n+        new CanberraDistance(),\n+        new JensenShannonDistance(),\n+        new WeightedMinkowskiDistance(4, new DenseVector(new double[]{1, 1, 1})),", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyMDk3MA==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484520970", "bodyText": "We can set default value for p (power) parameter as 2, but weight can not be default because weight's is dimensional dependent. If we want to evaluate distance between d(a,b), then a.size() == b.size() && a.size() == weight.size().\nOr I can use null for weight and use them only when weight != null.", "author": "mrk-andreev", "createdAt": "2020-09-07T16:50:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTU4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTgwMg==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483641802", "bodyText": "Comment this class please", "author": "zaleslaw", "createdAt": "2020-09-04T14:13:36Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/JensenShannonDistanceTest.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class JensenShannonDistanceTest {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyMTA0Nw==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484521047", "bodyText": "Add comment like\n/** */", "author": "mrk-andreev", "createdAt": "2020-09-07T16:50:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTgwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTkxNw==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483641917", "bodyText": "Comment this class please", "author": "zaleslaw", "createdAt": "2020-09-04T14:13:48Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/WeightedMinkowskiDistanceTest.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class WeightedMinkowskiDistanceTest {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyMTA4Ng==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484521086", "bodyText": "Add comment like\n/** */", "author": "mrk-andreev", "createdAt": "2020-09-07T16:50:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0MTkxNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0NzYwOQ==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r483647609", "bodyText": "change the test name to test+, because it could create problems with next migration to next versions of JUNIt framework", "author": "zaleslaw", "createdAt": "2020-09-04T14:23:32Z", "path": "modules/ml/src/test/java/org/apache/ignite/ml/math/distances/WeightedMinkowskiDistanceTest.java", "diffHunk": "@@ -0,0 +1,106 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.ignite.ml.math.distances;\n+\n+import java.util.Arrays;\n+import java.util.Collection;\n+import org.apache.ignite.ml.math.primitives.vector.Vector;\n+import org.apache.ignite.ml.math.primitives.vector.impl.DenseVector;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class WeightedMinkowskiDistanceTest {\n+  /** Precision. */\n+  private static final double PRECISION = 0.01;\n+\n+  @Parameterized.Parameters(name = \"{0}\")\n+  public static Collection<TestData> data() {\n+    return Arrays.asList(\n+        new TestData(\n+            new double[] {1.0, 0.0, 0.0},\n+            new double[] {0.0, 1.0, 0.0},\n+            1,\n+            new double[] {1, 1, 1},\n+            2.0\n+        ),\n+        new TestData(\n+            new double[] {1.0, 0.0, 0.0},\n+            new double[] {0.0, 1.0, 0.0},\n+            2,\n+            new double[] {1, 1, 1},\n+            1.41\n+        ),\n+        new TestData(\n+            new double[] {1.0, 0.0, 0.0},\n+            new double[] {0.0, 1.0, 0.0},\n+            3,\n+            new double[] {1, 1, 1},\n+            1.25\n+        )\n+    );\n+  }\n+\n+  private final TestData testData;\n+\n+  public WeightedMinkowskiDistanceTest(TestData testData) {\n+    this.testData = testData;\n+  }\n+\n+  @Test\n+  public void test() {", "originalCommit": "c0408b4a78abfb29605fc724b6be77b8bda5b265", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUyMTIzNw==", "url": "https://github.com/apache/ignite/pull/8197#discussion_r484521237", "bodyText": "I renamed my tests like test<distanceName.", "author": "mrk-andreev", "createdAt": "2020-09-07T16:51:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0NzYwOQ=="}], "type": "inlineReview"}, {"oid": "a85c85952a456525ef98d1ecf5503784d26933c1", "url": "https://github.com/apache/ignite/commit/a85c85952a456525ef98d1ecf5503784d26933c1", "message": "IGNITE-13386: add BrayCurtis,Canberra,JensenShannon,WeightedMinkowski distances", "committedDate": "2020-09-07T16:36:29Z", "type": "forcePushed"}, {"oid": "fde8a4b02059e5e8bf6142a0f4e2c929ed034238", "url": "https://github.com/apache/ignite/commit/fde8a4b02059e5e8bf6142a0f4e2c929ed034238", "message": "IGNITE-13386: add BrayCurtis,Canberra,JensenShannon,WeightedMinkowski distances", "committedDate": "2020-09-07T16:43:10Z", "type": "forcePushed"}, {"oid": "7c86935bb3a6ee0a01c6dc4ef2ac248457d5e695", "url": "https://github.com/apache/ignite/commit/7c86935bb3a6ee0a01c6dc4ef2ac248457d5e695", "message": "IGNITE-13386: add BrayCurtis,Canberra,JensenShannon,WeightedMinkowski distances", "committedDate": "2020-09-07T16:45:53Z", "type": "forcePushed"}, {"oid": "b7d15830501faf70dbf7975aea5ed5cefd001aeb", "url": "https://github.com/apache/ignite/commit/b7d15830501faf70dbf7975aea5ed5cefd001aeb", "message": "IGNITE-13386: add BrayCurtis,Canberra,JensenShannon,WeightedMinkowski distances", "committedDate": "2020-10-08T15:23:51Z", "type": "commit"}, {"oid": "b7d15830501faf70dbf7975aea5ed5cefd001aeb", "url": "https://github.com/apache/ignite/commit/b7d15830501faf70dbf7975aea5ed5cefd001aeb", "message": "IGNITE-13386: add BrayCurtis,Canberra,JensenShannon,WeightedMinkowski distances", "committedDate": "2020-10-08T15:23:51Z", "type": "forcePushed"}]}