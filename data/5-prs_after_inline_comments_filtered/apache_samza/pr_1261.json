{"pr_number": 1261, "pr_title": "SAMZA-2447: Checkpoint dir removal should only search in valid store dirs", "pr_createdAt": "2020-01-28T22:52:55Z", "pr_url": "https://github.com/apache/samza/pull/1261", "timeline": [{"oid": "ed00c96ca4db973a849a21dbeb0a86012488e229", "url": "https://github.com/apache/samza/commit/ed00c96ca4db973a849a21dbeb0a86012488e229", "message": "Check for null result of listFiles() in TransactionalStateTaskStorageManager", "committedDate": "2020-01-28T22:41:32Z", "type": "commit"}, {"oid": "ce2603a1c9a15b102117ae54324e3d8546ac3452", "url": "https://github.com/apache/samza/commit/ce2603a1c9a15b102117ae54324e3d8546ac3452", "message": "remove unused import", "committedDate": "2020-01-28T22:51:50Z", "type": "commit"}, {"oid": "69c8fa58e5574862d459ee8aacf222d070cd7f3e", "url": "https://github.com/apache/samza/commit/69c8fa58e5574862d459ee8aacf222d070cd7f3e", "message": "checkstyle", "committedDate": "2020-01-28T23:09:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjExMTkyMA==", "url": "https://github.com/apache/samza/pull/1261#discussion_r372111920", "bodyText": "Looks like this is testing the specific sub-case when listFiles returns null. If so, let's rename method to reflect that (e.g. testRemoveOldCheckpointsWhenXYZ", "author": "prateekm", "createdAt": "2020-01-28T23:15:13Z", "path": "samza-core/src/test/scala/org/apache/samza/storage/TestTransactionalStateTaskStorageManager.java", "diffHunk": "@@ -492,6 +493,32 @@ public void testWriteChangelogOffsetFilesWithNoChangelogOffset() throws IOExcept\n     fail(\"Should have thrown an exception if no changelog offset found for checkpointed store\");\n   }\n \n+  @Test\n+  public void testRemoveOldCheckpoints() {", "originalCommit": "69c8fa58e5574862d459ee8aacf222d070cd7f3e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjExODc2NA==", "url": "https://github.com/apache/samza/pull/1261#discussion_r372118764", "bodyText": "done", "author": "bkonold", "createdAt": "2020-01-28T23:35:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjExMTkyMA=="}], "type": "inlineReview"}, {"oid": "434200d332d1263df472bec7f147bf34f1eb173d", "url": "https://github.com/apache/samza/commit/434200d332d1263df472bec7f147bf34f1eb173d", "message": "make test method name more specific", "committedDate": "2020-01-28T23:35:02Z", "type": "commit"}]}