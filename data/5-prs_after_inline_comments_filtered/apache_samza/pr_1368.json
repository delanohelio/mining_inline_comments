{"pr_number": 1368, "pr_title": "SAMZA-2532: Refactor MetricsSnapshotReporter and MetricsSnapshotReporterFactory", "pr_createdAt": "2020-05-27T06:12:19Z", "pr_url": "https://github.com/apache/samza/pull/1368", "timeline": [{"oid": "4bbf276c6118e6ad9d4801023ac2c90472c0898a", "url": "https://github.com/apache/samza/commit/4bbf276c6118e6ad9d4801023ac2c90472c0898a", "message": "SAMZA-2532: Refactor MetricsSnapshotReporter and MetricsSnapshotReporterFactory\n\nChanges:\nThe refactoring done to make the reporter stable when\nexceptions are encountered. The patch also breaks down the\nrun() method in the MetricsSnapshotReporter into smaller\noverridable pieces to make it more extendable/re-usable.\n\nTests: None\nAPI Changes: None\nUpgrade Instructions: None\nUsage Instructions: None", "committedDate": "2020-05-27T05:46:13Z", "type": "commit"}, {"oid": "0c712ae0122c4bfb12ba81adee3e0ed5e7adf386", "url": "https://github.com/apache/samza/commit/0c712ae0122c4bfb12ba81adee3e0ed5e7adf386", "message": "Simplify changes", "committedDate": "2020-05-27T06:49:19Z", "type": "commit"}, {"oid": "7fa9bd204b75f78d20ac19d9c7d6ddc6c25d46be", "url": "https://github.com/apache/samza/commit/7fa9bd204b75f78d20ac19d9c7d6ddc6c25d46be", "message": "Change blacklist log level to debug", "committedDate": "2020-05-27T18:33:51Z", "type": "commit"}, {"oid": "b5ae87bb7c2e8d52128583b9f390ce9062c738ee", "url": "https://github.com/apache/samza/commit/b5ae87bb7c2e8d52128583b9f390ce9062c738ee", "message": "Exposing system producer from reporter", "committedDate": "2020-05-27T19:33:51Z", "type": "commit"}, {"oid": "071b0456a53f1ebdc6e729d7d89e45ef158e33d4", "url": "https://github.com/apache/samza/commit/071b0456a53f1ebdc6e729d7d89e45ef158e33d4", "message": "Change pollingInterval to reportingInterval", "committedDate": "2020-05-28T00:34:10Z", "type": "commit"}, {"oid": "940d2aa595305445f45ccfb9a5b1d225fdce8134", "url": "https://github.com/apache/samza/commit/940d2aa595305445f45ccfb9a5b1d225fdce8134", "message": "made helper functions protected", "committedDate": "2020-05-29T17:30:42Z", "type": "commit"}, {"oid": "30f2eb5ab768e87e702b48663b857ecb98e3e2bf", "url": "https://github.com/apache/samza/commit/30f2eb5ab768e87e702b48663b857ecb98e3e2bf", "message": "added test for metrics emit", "committedDate": "2020-05-29T20:08:58Z", "type": "commit"}, {"oid": "9f064194aa060690499cef7f9bbee328e8fb7cc3", "url": "https://github.com/apache/samza/commit/9f064194aa060690499cef7f9bbee328e8fb7cc3", "message": "Fix checkstyle", "committedDate": "2020-05-31T01:57:18Z", "type": "commit"}, {"oid": "a5e68853b934cee9aac461734d4bf26e34e5bc54", "url": "https://github.com/apache/samza/commit/a5e68853b934cee9aac461734d4bf26e34e5bc54", "message": "remove getProducer in MSR", "committedDate": "2020-06-03T17:18:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDczMzY4OQ==", "url": "https://github.com/apache/samza/pull/1368#discussion_r434733689", "bodyText": "can we use explicit exports instead of wildcards?", "author": "mynameborat", "createdAt": "2020-06-03T17:24:53Z", "path": "samza-core/src/test/java/org/apache/samza/metrics/TestMetricsSnapshotReporter.java", "diffHunk": "@@ -19,23 +19,51 @@\n \n package org.apache.samza.metrics;\n \n+import java.util.List;\n+import java.util.Map;\n+import org.apache.samza.metrics.reporter.MetricsSnapshot;\n import org.apache.samza.metrics.reporter.MetricsSnapshotReporter;\n import org.apache.samza.serializers.MetricsSnapshotSerdeV2;\n+import org.apache.samza.serializers.Serializer;\n+import org.apache.samza.system.OutgoingMessageEnvelope;\n+import org.apache.samza.system.SystemProducer;\n import org.apache.samza.system.SystemStream;\n-import org.apache.samza.system.inmemory.InMemorySystemProducer;\n import org.junit.Assert;\n+import org.junit.Before;\n import org.junit.Test;\n+import org.mockito.ArgumentCaptor;\n import scala.Some;\n import scala.runtime.AbstractFunction0;\n \n+import static org.mockito.Mockito.*;", "originalCommit": "a5e68853b934cee9aac461734d4bf26e34e5bc54", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7a17b2bb0a686ee5dacba1455073088747c54ced", "url": "https://github.com/apache/samza/commit/7a17b2bb0a686ee5dacba1455073088747c54ced", "message": "remove static import", "committedDate": "2020-06-03T17:32:44Z", "type": "commit"}]}