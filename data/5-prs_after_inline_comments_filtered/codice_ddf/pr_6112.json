{"pr_number": 6112, "pr_title": "DDF-6111 Changes the CSRF filter from being a servlet filter to a security filter to prevent future race condition", "pr_createdAt": "2020-06-02T21:33:51Z", "pr_url": "https://github.com/codice/ddf/pull/6112", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIzMjMzMw==", "url": "https://github.com/codice/ddf/pull/6112#discussion_r434232333", "bodyText": "\u270f\ufe0f Just a minor thing, but an \"authorization failure\" would be more fitting imo", "author": "SmithJosh", "createdAt": "2020-06-02T23:39:47Z", "path": "platform/security/filter/security-filter-csrf/src/main/java/org/codice/ddf/security/filter/csrf/CsrfFilter.java", "diffHunk": "@@ -174,14 +176,14 @@ public void doFilter(ServletRequest request, ServletResponse response, FilterCha\n       if (protectedContexts.stream().anyMatch(targetContextPath::startsWith)\n           && doBrowserProtectionFilter(\n               httpRequest, httpResponse, targetContextPath, requestMethod)) {\n-        return;\n+        throw new AuthenticationFailureException();\n       }\n \n       // Execute CSRF check if user is accessing /services\n       if (targetContextPath.startsWith(SERVICE_CONTEXT)\n           && doSystemProtectionFilter(\n               httpRequest, httpResponse, targetContextPath, requestMethod, userAgentHeader)) {\n-        return;\n+        throw new AuthenticationFailureException();", "originalCommit": "83012cd46d2943c4e7baa11d8f72f9197fb15726", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ba2281800f7334b5d589f76100cb1878b39688a3", "url": "https://github.com/codice/ddf/commit/ba2281800f7334b5d589f76100cb1878b39688a3", "message": "DDF-6111 Changes the CSRF filter from being a servlet filter to a security filter to prevent future race condition", "committedDate": "2020-06-03T16:30:33Z", "type": "commit"}, {"oid": "ba2281800f7334b5d589f76100cb1878b39688a3", "url": "https://github.com/codice/ddf/commit/ba2281800f7334b5d589f76100cb1878b39688a3", "message": "DDF-6111 Changes the CSRF filter from being a servlet filter to a security filter to prevent future race condition", "committedDate": "2020-06-03T16:30:33Z", "type": "forcePushed"}, {"oid": "e8202e985f21f03d2c73ac82313f8367a55893b8", "url": "https://github.com/codice/ddf/commit/e8202e985f21f03d2c73ac82313f8367a55893b8", "message": "Reordered the filters", "committedDate": "2020-06-08T21:40:24Z", "type": "commit"}, {"oid": "9b78371d4a39ab6af9c8e8a0dfef41bfc7a7cf61", "url": "https://github.com/codice/ddf/commit/9b78371d4a39ab6af9c8e8a0dfef41bfc7a7cf61", "message": "Fixed unit test", "committedDate": "2020-06-09T00:52:14Z", "type": "commit"}]}