{"pr_number": 1507, "pr_title": "Porting quickfixes for illegal rule references", "pr_createdAt": "2020-08-10T09:55:30Z", "pr_url": "https://github.com/eclipse/xtext-eclipse/pull/1507", "timeline": [{"oid": "b3949ed2d9eee1215d2374cfc809792b7b53a9ef", "url": "https://github.com/eclipse/xtext-eclipse/commit/b3949ed2d9eee1215d2374cfc809792b7b53a9ef", "message": "Porting quickfixes for illegal rule references\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>", "committedDate": "2020-08-10T11:31:17Z", "type": "forcePushed"}, {"oid": "f7c49672f79b79497fd5fa2f6a819bfb9be5b4a9", "url": "https://github.com/eclipse/xtext-eclipse/commit/f7c49672f79b79497fd5fa2f6a819bfb9be5b4a9", "message": "Porting quickfixes for illegal rule references\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>", "committedDate": "2020-08-10T13:58:54Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTQwMDE0Ng==", "url": "https://github.com/eclipse/xtext-eclipse/pull/1507#discussion_r475400146", "bodyText": "I'm aware that this is code has been like this for ages: If we figure that we should have another round on this, it could be worthwhile to use the org.eclipse.xtext.formatting.IIndentationInformation instead of the hardcoded \\t (tab) character", "author": "szarnekow", "createdAt": "2020-08-24T07:41:30Z", "path": "org.eclipse.xtext.xtext.ui/src/org/eclipse/xtext/xtext/ui/editor/quickfix/XtextGrammarQuickfixProvider.java", "diffHunk": "@@ -687,17 +709,14 @@ public void fixInvalidHiddenToken(Issue issue, IssueResolutionAcceptor acceptor)\n \t\t\t\t});\n \t}\n \n-\tprivate ISemanticModification createNewRule(String ruleName, boolean isFragment) {\n+\tprivate ISemanticModification createNewRule(String ruleName, String ruleType) {\n \t\treturn (element, context) -> {\n \t\t\tAbstractRule abstractRule = EcoreUtil2.getContainerOfType(element, AbstractRule.class);\n \t\t\tICompositeNode node = NodeModelUtils.getNode(abstractRule);\n \t\t\tString nl = context.getXtextDocument().getLineDelimiter(0);\n \t\t\tStringBuilder builder = new StringBuilder(nl + nl);\n-\t\t\tif (abstractRule instanceof TerminalRule) {\n-\t\t\t\tbuilder.append(\"terminal \");\n-\t\t\t\tif (isFragment) {\n-\t\t\t\t\tbuilder.append(\"fragment \");\n-\t\t\t\t}\n+\t\t\tif (ruleType != null) {\n+\t\t\t\tbuilder.append(ruleType);\n \t\t\t}\n \t\t\tString newRule = builder.append(ruleName).append(\":\" + nl + \"\\t\" + nl + \";\").toString();", "originalCommit": "f7c49672f79b79497fd5fa2f6a819bfb9be5b4a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTQwNDEwNg==", "url": "https://github.com/eclipse/xtext-eclipse/pull/1507#discussion_r475404106", "bodyText": "would also handle this in a follow up", "author": "cdietrich", "createdAt": "2020-08-24T07:48:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTQwMDE0Ng=="}], "type": "inlineReview"}, {"oid": "f5238df76b35ed54f20e30795c34d0b6a93a0700", "url": "https://github.com/eclipse/xtext-eclipse/commit/f5238df76b35ed54f20e30795c34d0b6a93a0700", "message": "Porting quickfixes for illegal rule references\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>", "committedDate": "2020-08-25T10:45:23Z", "type": "commit"}, {"oid": "f5238df76b35ed54f20e30795c34d0b6a93a0700", "url": "https://github.com/eclipse/xtext-eclipse/commit/f5238df76b35ed54f20e30795c34d0b6a93a0700", "message": "Porting quickfixes for illegal rule references\n\nSigned-off-by: nbhusare <neerajbhusare@gmail.com>", "committedDate": "2020-08-25T10:45:23Z", "type": "forcePushed"}]}