{"pr_number": 943, "pr_title": "optimize list property read", "pr_createdAt": "2020-04-11T14:36:08Z", "pr_url": "https://github.com/hugegraph/hugegraph/pull/943", "timeline": [{"oid": "7c1638d10ec3eddab11ec640da1cb010875ae7b5", "url": "https://github.com/hugegraph/hugegraph/commit/7c1638d10ec3eddab11ec640da1cb010875ae7b5", "message": "optimize list property read\n\nChange-Id: I621e5cb441f48c961ffc5ea78a83d5428238c4c2", "committedDate": "2020-04-11T16:04:37Z", "type": "commit"}, {"oid": "0901e35cd0ee556dafde2ed3918ea7b10d346f78", "url": "https://github.com/hugegraph/hugegraph/commit/0901e35cd0ee556dafde2ed3918ea7b10d346f78", "message": "optimize cache with capatity=0\n\nChange-Id: I0f05c8f6484c392a5fb278ec2c92b9d2a4d906b5", "committedDate": "2020-04-11T16:04:39Z", "type": "commit"}, {"oid": "0901e35cd0ee556dafde2ed3918ea7b10d346f78", "url": "https://github.com/hugegraph/hugegraph/commit/0901e35cd0ee556dafde2ed3918ea7b10d346f78", "message": "optimize cache with capatity=0\n\nChange-Id: I0f05c8f6484c392a5fb278ec2c92b9d2a4d906b5", "committedDate": "2020-04-11T16:04:39Z", "type": "forcePushed"}, {"oid": "4d9ad5bd8031135436307019d4d87cad66fd4612", "url": "https://github.com/hugegraph/hugegraph/commit/4d9ad5bd8031135436307019d4d87cad66fd4612", "message": "optimize string format which cost ~3% time when query.toString()\n\nChange-Id: Ic066730ccf5f35f71a56156389c55085cd34f2cb", "committedDate": "2020-04-11T18:08:49Z", "type": "commit"}, {"oid": "8f3efec347777c10cc327c5b72ef29a7fe9a7b8d", "url": "https://github.com/hugegraph/hugegraph/commit/8f3efec347777c10cc327c5b72ef29a7fe9a7b8d", "message": "optimize assignId(): EdgeId.asString() cost 6% time\n\nChange-Id: Ie1edacdfaf5028fea184fde6f787fa05a13c9ac3", "committedDate": "2020-04-11T18:45:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzExMTIyMw==", "url": "https://github.com/hugegraph/hugegraph/pull/943#discussion_r407111223", "bodyText": "false", "author": "zhoney", "createdAt": "2020-04-11T21:08:40Z", "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/schema/PropertyKey.java", "diffHunk": "@@ -217,11 +217,13 @@ public String clazz() {\n \n     public <V> V validValueOrThrow(V value) {\n         V validValue = this.validValue(value);\n-        E.checkArgument(validValue != null,\n-                        \"Invalid property value '%s' for key '%s', \" +\n-                        \"expect a value of type %s, actual type %s\",\n-                        value, this.name(), this.clazz(),\n-                        value.getClass().getSimpleName());\n+        if (validValue == null) {\n+            E.checkArgument(validValue != null,\n+                            \"Invalid property value '%s' for key '%s', \" +", "originalCommit": "8f3efec347777c10cc327c5b72ef29a7fe9a7b8d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}