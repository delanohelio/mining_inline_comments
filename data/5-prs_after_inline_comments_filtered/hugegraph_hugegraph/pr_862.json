{"pr_number": 862, "pr_title": "check for unexpected sysprop query", "pr_createdAt": "2020-02-23T17:14:54Z", "pr_url": "https://github.com/hugegraph/hugegraph/pull/862", "timeline": [{"oid": "5dff41b5a854ae4a009a7a3681daa89a1eecbc13", "url": "https://github.com/hugegraph/hugegraph/commit/5dff41b5a854ae4a009a7a3681daa89a1eecbc13", "message": "check unexpected sysprop query\n\nfix: #861\nChange-Id: Idd72a7640750c1669b95c8e30dfe053107e015d6", "committedDate": "2020-02-23T17:13:15Z", "type": "commit"}, {"oid": "2ca3e5f1b333db91a9c504cc157ccd4e64ed6583", "url": "https://github.com/hugegraph/hugegraph/commit/2ca3e5f1b333db91a9c504cc157ccd4e64ed6583", "message": "workaround: cassandra column with null value can't be queryed with CONTAINS\n\nChange-Id: Iac062950c62e3dd88c4894ee03ae100b145bfcaf", "committedDate": "2020-02-25T09:57:28Z", "type": "commit"}, {"oid": "48debc2be7e6107a6997c2b173ca148a5e4c7582", "url": "https://github.com/hugegraph/hugegraph/commit/48debc2be7e6107a6997c2b173ca148a5e4c7582", "message": "string2HugeKey() disallow pass syspprop from gremlin\n\nChange-Id: I319703286f65fd38819b2de91d7c9a18203ceafd", "committedDate": "2020-03-22T17:48:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTkwNTc1OA==", "url": "https://github.com/hugegraph/hugegraph/pull/862#discussion_r399905758", "bodyText": "vertex", "author": "Linary", "createdAt": "2020-03-30T03:12:51Z", "path": "hugegraph-core/src/main/java/com/baidu/hugegraph/backend/tx/GraphTransaction.java", "diffHunk": "@@ -995,13 +995,51 @@ public static boolean matchEdgeSortKeys(ConditionQuery query,\n         return false;\n     }\n \n-    public static void verifyEdgesConditionQuery(ConditionQuery query) {\n+    private static void verifyVerticesConditionQuery(ConditionQuery query) {\n+        assert query.resultType().isVertex();\n+\n+        int total = query.conditions().size();\n+        if (total == 1) {\n+            /*\n+             * Supported query:\n+             *  1.query just by edge label", "originalCommit": "48debc2be7e6107a6997c2b173ca148a5e4c7582", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}