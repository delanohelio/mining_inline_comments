{"pr_number": 7896, "pr_title": "Some test cleanup", "pr_createdAt": "2020-01-08T03:16:03Z", "pr_url": "https://github.com/JMRI/JMRI/pull/7896", "timeline": [{"oid": "f1873494c24ebb45cab7176980fecc0c3bae909b", "url": "https://github.com/JMRI/JMRI/commit/f1873494c24ebb45cab7176980fecc0c3bae909b", "message": "prevent loading of WarrantShutdownTask in warrant tests", "committedDate": "2020-01-07T04:10:24Z", "type": "commit"}, {"oid": "cb8c3ba4aa2eed8e0749f0a7ad240ad25bf3adbe", "url": "https://github.com/JMRI/JMRI/commit/cb8c3ba4aa2eed8e0749f0a7ad240ad25bf3adbe", "message": "Merge branch 'master' of https://github.com/JMRI/JMRI into development", "committedDate": "2020-01-08T00:22:50Z", "type": "commit"}, {"oid": "ed5d2abf19375dc383f1e186a6e73198b4dc9251", "url": "https://github.com/JMRI/JMRI/commit/ed5d2abf19375dc383f1e186a6e73198b4dc9251", "message": "catch illegal state exception when timer is already cancelled", "committedDate": "2020-01-08T00:28:04Z", "type": "commit"}, {"oid": "36eceb7ec311e6c15526f282d8662fa2536b4419", "url": "https://github.com/JMRI/JMRI/commit/36eceb7ec311e6c15526f282d8662fa2536b4419", "message": "improve shutdown", "committedDate": "2020-01-08T02:11:56Z", "type": "commit"}, {"oid": "d78d52f61035b5a2a870085e8639bac992ce8458", "url": "https://github.com/JMRI/JMRI/commit/d78d52f61035b5a2a870085e8639bac992ce8458", "message": "fix compile error", "committedDate": "2020-01-08T02:22:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDE5Mjg2MA==", "url": "https://github.com/JMRI/JMRI/pull/7896#discussion_r364192860", "bodyText": "Why not use JUnitUitl.clearShutdownManager()?", "author": "rhwood", "createdAt": "2020-01-08T11:47:56Z", "path": "java/test/jmri/RunCucumberIT.java", "diffHunk": "@@ -37,6 +37,15 @@ public static void beforeTests(){\n    @AfterClass\n    public static void afterTests(){\n       jmri.util.web.BrowserFactory.CloseAllDriver();\n+      if (InstanceManager.containsDefault(ShutDownManager.class)) {", "originalCommit": "d78d52f61035b5a2a870085e8639bac992ce8458", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ1OTUzNQ==", "url": "https://github.com/JMRI/JMRI/pull/7896#discussion_r364459535", "bodyText": "Because clear shutdown manager method is deprecated and I don\u2019t want this bit of code to be removed.\nBecause the cucumber tests are integration tests, the test runner doesn\u2019t always know what is started.  ( i.e. we don\u2019t create every object in test setup ) so it doesn\u2019t know if a task is going to create a shutdown task or not.\nThis was prompted by a JSon object creating a shutdown task that stuck around and failed the test, despite the fact that all the test steps completed successfully.", "author": "pabender", "createdAt": "2020-01-08T21:47:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDE5Mjg2MA=="}], "type": "inlineReview"}]}