{"pr_number": 2366, "pr_title": "look for app sources in correct locations", "pr_createdAt": "2020-04-20T12:55:55Z", "pr_url": "https://github.com/oracle/graal/pull/2366", "timeline": [{"oid": "ab37a016462147e20e24874aa768778ec5aa2fc6", "url": "https://github.com/oracle/graal/commit/ab37a016462147e20e24874aa768778ec5aa2fc6", "message": "look for app sources in correct locations", "committedDate": "2020-04-20T12:53:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ==", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411377625", "bodyText": "aren't you missing another\nfile = subPath.toFile();\n\nhere?", "author": "olpaw", "createdAt": "2020-04-20T13:29:45Z", "path": "substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/image/sources/ApplicationSourceCache.java", "diffHunk": "@@ -107,6 +107,17 @@ private void trySourceRoot(String sourceRoot, boolean fromClassPath) {\n                 // try the path as provided\n                 File file = sourcePath.toFile();\n                 if (file.exists() && file.isDirectory()) {\n+                    // see if we have src/main/java or src/java\n+                    Path subPath = sourcePath.resolve(\"main\").resolve(\"java\");\n+                    file = subPath.toFile();\n+                    if (file.exists() && file.isDirectory()) {\n+                        sourcePath = subPath;\n+                    } else {\n+                        subPath = sourcePath.resolve(\"java\");", "originalCommit": "ab37a016462147e20e24874aa768778ec5aa2fc6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQwMTAxNw==", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411401017", "bodyText": "cc @adinn", "author": "olpaw", "createdAt": "2020-04-20T13:59:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQwMzEyNA==", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411403124", "bodyText": "doh! pushed a correction.", "author": "adinn", "createdAt": "2020-04-20T14:02:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQwNTg3NQ==", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411405875", "bodyText": "hehe ... that's why I prefer Files.isDirectory(...), Files.exists(...), ...", "author": "olpaw", "createdAt": "2020-04-20T14:05:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ=="}], "type": "inlineReview"}, {"oid": "ac0496a293539b244e3e9eb3b097f8801b3fa783", "url": "https://github.com/oracle/graal/commit/ac0496a293539b244e3e9eb3b097f8801b3fa783", "message": "add mising file update", "committedDate": "2020-04-20T14:01:46Z", "type": "commit"}]}