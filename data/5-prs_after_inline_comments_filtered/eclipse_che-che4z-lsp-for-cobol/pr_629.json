{"pr_number": 629, "pr_title": "fix: Fix exception logging after analysis #546", "pr_createdAt": "2020-11-09T15:32:36Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/629", "timeline": [{"oid": "9d18600dc509ceb9df68bf5db1afb4d1f3d9a5ba", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/9d18600dc509ceb9df68bf5db1afb4d1f3d9a5ba", "message": "fix: Fix exception logging after analysis #546\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>", "committedDate": "2020-11-09T15:44:22Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM2NTc4OA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/629#discussion_r520365788", "bodyText": "Oh no =) It has become quite complicated. Could you please change it to:\nLOG.error(createDescriptiveErrorMessage(\"analysis\", uri), e);", "author": "grianbrcom", "createdAt": "2020-11-10T08:13:23Z", "path": "server/src/main/java/com/broadcom/lsp/cobol/service/CobolTextDocumentService.java", "diffHunk": "@@ -251,21 +251,23 @@ private void clearAnalysedFutureObject(String uri) {\n \n   private void analyzeDocumentFirstTime(String uri, String text, boolean userRequest) {\n     registerDocument(uri, new CobolDocumentModel(text, AnalysisResult.empty()));\n-    Future<?> docAnalysisFuture = threadPool.submit(\n+    Future<?> docAnalysisFuture =\n+        threadPool.submit(\n             () -> {\n               try {\n                 CopybookProcessingMode copybookProcessingMode =\n-                        CopybookProcessingMode.getCopybookProcessingMode(\n-                                uri,\n-                                userRequest\n-                                        ? CopybookProcessingMode.ENABLED_VERBOSE\n-                                        : CopybookProcessingMode.ENABLED);\n+                    CopybookProcessingMode.getCopybookProcessingMode(\n+                        uri,\n+                        userRequest\n+                            ? CopybookProcessingMode.ENABLED_VERBOSE\n+                            : CopybookProcessingMode.ENABLED);\n                 AnalysisResult result = engine.analyze(uri, text, copybookProcessingMode);\n                 ofNullable(docs.get(uri)).ifPresent(doc -> doc.setAnalysisResult(result));\n                 publishResult(uri, result, copybookProcessingMode);\n                 outlineMap.get(uri).complete(result.getOutlineTree());\n               } catch (Exception e) {\n-                reportExceptionIfThrown(createDescriptiveErrorMessage(\"analysis\", uri));\n+                reportExceptionIfThrown(createDescriptiveErrorMessage(\"analysis\", uri))\n+                    .accept(null, e);", "originalCommit": "9d18600dc509ceb9df68bf5db1afb4d1f3d9a5ba", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM4NjA0MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/629#discussion_r520386040", "bodyText": "Done.", "author": "ap891843", "createdAt": "2020-11-10T08:46:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDM2NTc4OA=="}], "type": "inlineReview"}, {"oid": "ebebb0a1bc458dc46064b99603e92d8927f3d8ec", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/ebebb0a1bc458dc46064b99603e92d8927f3d8ec", "message": "fix: Fix exception logging after analysis #546\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>", "committedDate": "2020-11-10T08:45:23Z", "type": "commit"}, {"oid": "ebebb0a1bc458dc46064b99603e92d8927f3d8ec", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/ebebb0a1bc458dc46064b99603e92d8927f3d8ec", "message": "fix: Fix exception logging after analysis #546\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>", "committedDate": "2020-11-10T08:45:23Z", "type": "forcePushed"}]}