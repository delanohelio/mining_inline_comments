{"pr_number": 189, "pr_title": "Copybooks autocomplete introduction", "pr_createdAt": "2020-02-06T13:36:25Z", "pr_url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189", "timeline": [{"oid": "fcf3faf4289b1477438fac7c86fe65f1bca14991", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/fcf3faf4289b1477438fac7c86fe65f1bca14991", "message": "added implementation for copybook autocomplete from cobol document and fixed tests\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-05T15:35:59Z", "type": "commit"}, {"oid": "809c5fc662ef26bcff412b1d76177ddae7fa01f9", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/809c5fc662ef26bcff412b1d76177ddae7fa01f9", "message": "added junit test for CopybookCompletion class\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-06T11:13:36Z", "type": "commit"}, {"oid": "5db920082b39a37981a15ed80195422d9f9fe473", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/5db920082b39a37981a15ed80195422d9f9fe473", "message": "adding CopybookCompletionsTest to AllTests\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-06T11:15:09Z", "type": "commit"}, {"oid": "abc86d84d7b3afe38d4c163a0f7e8b1e96079dec", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/abc86d84d7b3afe38d4c163a0f7e8b1e96079dec", "message": "Merge branch 'development' into copybooks_autocomplete", "committedDate": "2020-02-06T11:16:32Z", "type": "commit"}, {"oid": "be2164c03d20b40d205455f83e2b5160d465878e", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/be2164c03d20b40d205455f83e2b5160d465878e", "message": "Merge branch 'development' into copybooks_autocomplete", "committedDate": "2020-02-06T13:11:36Z", "type": "commit"}, {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/4306d075f8b0d2eb96f5061d39815a26ef62c314", "message": "added javadocs annotation for both CopybookCompletion and CopybookCompletionTest\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-06T13:12:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0NjA2MA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r375846060", "bodyText": "testCopybookCompletion?", "author": "temanbrcom", "createdAt": "2020-02-06T13:55:02Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/service/delegates/completions/CopybookCompletionTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/*\n+ * Copyright (c) 2020 Broadcom.\n+ * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *\n+ * This program and the accompanying materials are made\n+ * available under the terms of the Eclipse Public License 2.0\n+ * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *\n+ * Contributors:\n+ *    Broadcom, Inc. - initial API and implementation\n+ */\n+\n+package com.ca.lsp.cobol.service.delegates.completions;\n+\n+import static org.junit.Assert.*;\n+\n+import com.ca.lsp.cobol.service.MyDocumentModel;\n+import com.ca.lsp.cobol.service.delegates.validations.AnalysisResult;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import org.eclipse.lsp4j.CompletionItem;\n+import org.eclipse.lsp4j.CompletionItemKind;\n+import org.eclipse.lsp4j.CompletionParams;\n+import org.eclipse.lsp4j.Location;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.TextDocumentIdentifier;\n+import org.junit.Test;\n+\n+/**\n+ * Testing Copybook autocomplete class, to determine if copybook names will be correctly detected\n+ * and shown in the autocomplete list\n+ */\n+public class CopybookCompletionTest {\n+\n+  private static final String TEXT =\n+      \"       IDENTIFICATION DIVISION.\\n\"\n+          + \"       PROGRAM-ID. ID1.\\n\"\n+          + \"       AUTHOR. Author.\"\n+          + \"       ENVIRONMENT DIVISION.\\n\"\n+          + \"       DATA DIVISION.\\n\"\n+          + \"       WORKING-STORAGE SECTION.\\n\"\n+          + \"       01 TBPARM1      PIC 99 VALUE 5.\\n\"\n+          + \"       01 TBPARM2      PIC 99 VALUE 0.\\n\"\n+          + \"       01 ATCDEM4      PIC X(7) VALUE 'ATCDEM4'.\\n\"\n+          + \"       01 P1PARM1      PIC 99 VALUE 0.\\n\"\n+          + \"       COPY BRDCMCP.\\n\"\n+          + \"       PROCEDURE DIVISION.\\n\"\n+          + \"       PROGB.\\n\"\n+          + \"           PERFORM WITH TEST BEFORE UNTIL TBPARM1 = 0\\n\"\n+          + \"             SUBTRACT 1 FROM T\\n\"\n+          + \"             CALL 'ATCDEM4' \\n\"\n+          + \"           END-PERFORM\\n\"\n+          + \"       END PROGRAM ID1.\";\n+\n+  @Test\n+  public void testVariableCompletion() {", "originalCommit": "4306d075f8b0d2eb96f5061d39815a26ef62c314", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMwMzgyMA==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r376303820", "bodyText": "fixed", "author": "abdrabrcom", "createdAt": "2020-02-07T09:53:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0NjA2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0Njg0Ng==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r375846846", "bodyText": "This should be duplicated in the TestModule", "author": "temanbrcom", "createdAt": "2020-02-06T13:56:17Z", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/broadcom/lsp/cdi/module/service/ServiceModule.java", "diffHunk": "@@ -66,6 +66,7 @@ private void bindCompletions() {\n     completionBinding.addBinding().to(ParagraphCompletion.class);\n     completionBinding.addBinding().to(SnippetCompletion.class);\n     completionBinding.addBinding().to(KeywordCompletion.class);\n+    completionBinding.addBinding().to(CopybookCompletion.class);", "originalCommit": "4306d075f8b0d2eb96f5061d39815a26ef62c314", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMwNjY0Nw==", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r376306647", "bodyText": "Added", "author": "abdrabrcom", "createdAt": "2020-02-07T09:59:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0Njg0Ng=="}], "type": "inlineReview"}, {"oid": "b26663b4fb784b5905dfc6e45f747c774570cb38", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/b26663b4fb784b5905dfc6e45f747c774570cb38", "message": "reverted back packagejson and packagelock fixing naming issue and adding missing entry to testmodule\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-07T10:08:46Z", "type": "commit"}, {"oid": "24159302f51cfb90a654e783fb2285b8f098ac8a", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/24159302f51cfb90a654e783fb2285b8f098ac8a", "message": "Merge branch 'development' into copybooks_autocomplete", "committedDate": "2020-02-07T10:09:52Z", "type": "commit"}, {"oid": "67daa43dfa1773437cf6c2c999899ea203a96ee8", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/67daa43dfa1773437cf6c2c999899ea203a96ee8", "message": "fixed packagelock\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>", "committedDate": "2020-02-07T10:20:41Z", "type": "commit"}]}