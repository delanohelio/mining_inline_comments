{"pr_number": 1176, "pr_title": "Makes Http adapters finishable with only (response, span)", "pr_createdAt": "2020-04-27T08:08:25Z", "pr_url": "https://github.com/openzipkin/brave/pull/1176", "timeline": [{"oid": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db", "url": "https://github.com/openzipkin/brave/commit/fe4ec46c35af4de17d2c370f13de40cb3e31a0db", "message": "Makes Http adapters finishable with only (response, span)\n\nSimilar to #999, HTTP should also be able to derive the error directly\nfrom `HttpResponse` vs a second argument. This also allows exceptions\nthat nest status codes to become parsable into span tags.", "committedDate": "2020-04-27T08:06:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwMTk5Mw==", "url": "https://github.com/openzipkin/brave/pull/1176#discussion_r415601993", "bodyText": "note: changes to this file are mainly to it almost identical to RpcHandler in #999", "author": "codefromthecrypt", "createdAt": "2020-04-27T08:10:08Z", "path": "instrumentation/http/src/main/java/brave/http/HttpHandler.java", "diffHunk": "@@ -15,6 +15,9 @@\n \n import brave.Span;\n import brave.internal.Nullable;\n+import brave.internal.Platform;\n+\n+import static brave.internal.Throwables.propagateIfFatal;\n \n abstract class HttpHandler {", "originalCommit": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "0b3c31302029b29e3bf8c4cc615010745ee9f0a0", "url": "https://github.com/openzipkin/brave/commit/0b3c31302029b29e3bf8c4cc615010745ee9f0a0", "message": "missing test copies", "committedDate": "2020-04-27T08:14:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwMzY1NQ==", "url": "https://github.com/openzipkin/brave/pull/1176#discussion_r415603655", "bodyText": "The space is back!", "author": "anuraaga", "createdAt": "2020-04-27T08:12:40Z", "path": "instrumentation/http/src/main/java/brave/http/HttpClientHandler.java", "diffHunk": "@@ -97,7 +97,7 @@\n     this.tracer = httpTracing.tracing().tracer();\n     this.sampler = httpTracing.tracing().sampler();\n     this.httpSampler = httpTracing.clientRequestSampler();\n-    this.serverName = !\"\".equals(httpTracing.serverName()) ? httpTracing.serverName() : null;\n+    this.serverName = !\"\" .equals(httpTracing.serverName()) ? httpTracing.serverName() : null;", "originalCommit": "fe4ec46c35af4de17d2c370f13de40cb3e31a0db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTY1MjIzNA==", "url": "https://github.com/openzipkin/brave/pull/1176#discussion_r415652234", "bodyText": "haha grrrr", "author": "codefromthecrypt", "createdAt": "2020-04-27T09:22:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTYwMzY1NQ=="}], "type": "inlineReview"}, {"oid": "956941fc56cda140459f69d3a4362ec97f869932", "url": "https://github.com/openzipkin/brave/commit/956941fc56cda140459f69d3a4362ec97f869932", "message": "un.. space.. my heart...", "committedDate": "2020-04-27T09:23:59Z", "type": "commit"}]}