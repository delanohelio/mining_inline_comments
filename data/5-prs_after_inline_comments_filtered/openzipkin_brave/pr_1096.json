{"pr_number": 1096, "pr_title": "Updates to latest gRPC and stops writing the \"method\" tag", "pr_createdAt": "2020-02-24T06:12:40Z", "pr_url": "https://github.com/openzipkin/brave/pull/1096", "timeline": [{"oid": "d540b1818774e477af940da05a08d5a77a343d8b", "url": "https://github.com/openzipkin/brave/commit/d540b1818774e477af940da05a08d5a77a343d8b", "message": "Updates to latest gRPC and stops writing the \"parent\" tag\n\nThis completes the promise made in Brave 5.9.2's release notes:\n> Our gRPC instrumentation was written to be compatible with the Census project. Starting with gRPC v1.22, the Census integration stopped propagating the tag \"method\". While we still propagate this, the next minor version of Brave will also stop, and save needless in-process and wire overhead. As gRPC dropped Census as a core dependency in v1.27, we will similarly also de-prioritize interop with Census.", "committedDate": "2020-02-24T06:28:36Z", "type": "commit"}, {"oid": "b9f0ce07f96256d45cc49514f76ce8776175f96b", "url": "https://github.com/openzipkin/brave/commit/b9f0ce07f96256d45cc49514f76ce8776175f96b", "message": "finish", "committedDate": "2020-02-24T06:29:57Z", "type": "commit"}, {"oid": "b9f0ce07f96256d45cc49514f76ce8776175f96b", "url": "https://github.com/openzipkin/brave/commit/b9f0ce07f96256d45cc49514f76ce8776175f96b", "message": "finish", "committedDate": "2020-02-24T06:29:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzEwMDY2OQ==", "url": "https://github.com/openzipkin/brave/pull/1096#discussion_r383100669", "bodyText": "note: we still propagate it now, just we don't refresh it.", "author": "codefromthecrypt", "createdAt": "2020-02-24T06:31:01Z", "path": "instrumentation/grpc/src/main/java/brave/grpc/GrpcPropagation.java", "diffHunk": "@@ -39,14 +38,6 @@\n   static final Metadata.Key<Map<String, String>> GRPC_TAGS_BIN =\n     Metadata.Key.of(\"grpc-tags-bin\", new TagContextBinaryMarshaller());\n \n-  /**\n-   * The census tag key corresponding to the {@link MethodDescriptor#getFullMethodName()}.\n-   *\n-   * <p>Note: this was removed in gRPC 1.22. We currently continue to propagate it for interop with\n-   * earlier versions of gRPC.\n-   */\n-  static final String RPC_METHOD = \"method\";", "originalCommit": "b9f0ce07f96256d45cc49514f76ce8776175f96b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}