{"pr_number": 116, "pr_title": "Improve List IDP endpoint with addtional query param called ''requiredAttributes\" ", "pr_createdAt": "2020-03-12T10:53:15Z", "pr_url": "https://github.com/wso2/identity-api-server/pull/116", "timeline": [{"oid": "71425c2be78ee89ee6430a598f3a23da8adc5295", "url": "https://github.com/wso2/identity-api-server/commit/71425c2be78ee89ee6430a598f3a23da8adc5295", "message": "Fix wso2/product-is#7823 issue in IDP REST API", "committedDate": "2020-03-04T04:21:45Z", "type": "commit"}, {"oid": "f84fc0012c01375e0849ab1ef61d48033ca3e99a", "url": "https://github.com/wso2/identity-api-server/commit/f84fc0012c01375e0849ab1ef61d48033ca3e99a", "message": "Fix https://github.com/wso2/product-is/issues/7864, support requiredAttributes in list IDP.", "committedDate": "2020-03-12T10:51:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU1NDUxOQ==", "url": "https://github.com/wso2/identity-api-server/pull/116#discussion_r391554519", "bodyText": "we can use StringUtils.split and void if (StringUtils.isNotBlank(requiredAttributes))  check", "author": "emswbandara", "createdAt": "2020-03-12T11:20:28Z", "path": "components/org.wso2.carbon.identity.api.server.idp/org.wso2.carbon.identity.api.server.idp.v1/src/main/java/org/wso2/carbon/identity/api/server/idp/v1/core/ServerIdpManagementService.java", "diffHunk": "@@ -110,22 +110,26 @@\n     /**\n      * Get list of identity providers.\n      *\n-     * @param attributes Required attributes in the IDP list response.\n+     * @param requiredAttributes Required attributes in the IDP list response.\n      * @param limit      Items per page.\n      * @param offset     Offset.\n      * @param filter     Filter string. E.g. filter=\"name\" sw \"google\" and \"isEnabled\" eq \"true\"\n      * @param sortBy     Attribute to sort the IDPs by. E.g. name\n      * @param sortOrder  Order in which IDPs should be sorted. Can be either ASC or DESC.\n      * @return IdentityProviderListResponse.\n      */\n-    public IdentityProviderListResponse getIDPs(String attributes, Integer limit, Integer offset, String filter, String\n-            sortBy, String sortOrder) {\n+    public IdentityProviderListResponse getIDPs(String requiredAttributes, Integer limit, Integer offset, String filter,\n+                                                String sortBy, String sortOrder) {\n \n-        handleNotImplementedCapabilities(attributes);\n         try {\n+            List<String> requestedAttributeList = null;\n+            if (StringUtils.isNotBlank(requiredAttributes)) {\n+                requestedAttributeList = new ArrayList<>(Arrays.asList(requiredAttributes.split(\",\")));", "originalCommit": "f84fc0012c01375e0849ab1ef61d48033ca3e99a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1NTQ0NQ==", "url": "https://github.com/wso2/identity-api-server/pull/116#discussion_r392955445", "bodyText": "StringUtils.split(requiredAttributes, \",\") will return null if requiredAttributes is null.\nArrays.asList(StringUtils.split(requiredAttributes, \",\")) will thow NPE if StringUtils.split(requiredAttributes, \",\") return null, so we need to add null check.", "author": "sarubi", "createdAt": "2020-03-16T11:38:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU1NDUxOQ=="}], "type": "inlineReview"}, {"oid": "32c9a491bec1638a91baf2241b334ed69974a30d", "url": "https://github.com/wso2/identity-api-server/commit/32c9a491bec1638a91baf2241b334ed69974a30d", "message": "refactored", "committedDate": "2020-03-16T12:01:26Z", "type": "commit"}, {"oid": "1f08e97c47e15533ba72d292baf295aa84248acc", "url": "https://github.com/wso2/identity-api-server/commit/1f08e97c47e15533ba72d292baf295aa84248acc", "message": "update framework version", "committedDate": "2020-03-18T14:58:18Z", "type": "commit"}, {"oid": "0343f35dd0b20e8e375585bb43b4873fdc5efc9f", "url": "https://github.com/wso2/identity-api-server/commit/0343f35dd0b20e8e375585bb43b4873fdc5efc9f", "message": "Merge branch 'master' of https://github.com/wso2/identity-api-server into idp-rest-api-required-attribute-param", "committedDate": "2020-03-19T04:19:40Z", "type": "commit"}, {"oid": "04d1f19b62cda94d373a75b8bb621353b00926e5", "url": "https://github.com/wso2/identity-api-server/commit/04d1f19b62cda94d373a75b8bb621353b00926e5", "message": "fix merge conflicts", "committedDate": "2020-03-19T05:28:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxNjU1NA==", "url": "https://github.com/wso2/identity-api-server/pull/116#discussion_r394816554", "bodyText": "do we need this import?", "author": "emswbandara", "createdAt": "2020-03-19T06:38:02Z", "path": "components/org.wso2.carbon.identity.api.server.idp/org.wso2.carbon.identity.api.server.idp.v1/src/gen/java/org/wso2/carbon/identity/api/server/idp/v1/IdentityProvidersApiService.java", "diffHunk": "@@ -20,6 +20,7 @@\n import org.wso2.carbon.identity.api.server.idp.v1.model.*;\n import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n import org.apache.cxf.jaxrs.ext.multipart.Multipart;\n+import java.io.InputStream;", "originalCommit": "04d1f19b62cda94d373a75b8bb621353b00926e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxODU0NQ==", "url": "https://github.com/wso2/identity-api-server/pull/116#discussion_r394818545", "bodyText": "this is generated code, do we need to alter it?", "author": "sarubi", "createdAt": "2020-03-19T06:44:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxNjU1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxNjgxNQ==", "url": "https://github.com/wso2/identity-api-server/pull/116#discussion_r394816815", "bodyText": "do we need these imports?", "author": "emswbandara", "createdAt": "2020-03-19T06:38:45Z", "path": "components/org.wso2.carbon.identity.api.server.idp/org.wso2.carbon.identity.api.server.idp.v1/src/gen/java/org/wso2/carbon/identity/api/server/idp/v1/IdentityProvidersApi.java", "diffHunk": "@@ -17,6 +17,10 @@\n package org.wso2.carbon.identity.api.server.idp.v1;\n \n import org.springframework.beans.factory.annotation.Autowired;\n+import org.apache.cxf.jaxrs.ext.multipart.Attachment;", "originalCommit": "04d1f19b62cda94d373a75b8bb621353b00926e5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxODgzMw==", "url": "https://github.com/wso2/identity-api-server/pull/116#discussion_r394818833", "bodyText": "this also under generated code..", "author": "sarubi", "createdAt": "2020-03-19T06:45:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxNjgxNQ=="}], "type": "inlineReview"}]}