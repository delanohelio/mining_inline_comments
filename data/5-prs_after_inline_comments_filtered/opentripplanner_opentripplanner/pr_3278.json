{"pr_number": 3278, "pr_title": "Save all nodes even if they contain bikeRental/bikeParking tags", "pr_createdAt": "2020-12-04T12:11:34Z", "pr_url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3278", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE5NTU0Mw==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3278#discussion_r536195543", "bodyText": "Could you add an else if where appropriate here?\nAlso, we try to avoid if(...) <stmt>; the codestyle is if(...) { <stmt>; }, {} is always used, to avoid mistakes.", "author": "t2gran", "createdAt": "2020-12-04T15:49:54Z", "path": "src/main/java/org/opentripplanner/graph_builder/module/osm/OSMDatabase.java", "diffHunk": "@@ -211,11 +211,9 @@ public boolean isNodeBelongsToWay(Long nodeId) {\n     public void addNode(OSMNode node) {\n         if (node.isBikeRental()) {\n             bikeRentalNodes.put(node.getId(), node);\n-            return;\n         }\n         if (node.isBikeParking()) {\n             bikeParkingNodes.put(node.getId(), node);\n-            return;\n         }\n         if (!(waysNodeIds.contains(node.getId()) || areaNodeIds.contains(node.getId()) || node", "originalCommit": "dcb068dca211a936ef61502b3c25dc9901e3ff5f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMwNTg0MA==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3278#discussion_r540305840", "bodyText": "There is no need for an else if.\nIs it preferred to have code style changes with functionality changes, or would it make better sense to have that in separate commits / pull requests?\nWould reformating the file using the intellij-code-style.xml be acceptable? Does that represent the accepted code style?", "author": "flaktack", "createdAt": "2020-12-10T16:22:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE5NTU0Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MDkxODIwMg==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3278#discussion_r570918202", "bodyText": "We have some problem with getting the intellij-code-style.xml to work properly. Sometimes it do not make the desired line breaks. Especially it tend to leve do this:\n    AType a = service.foo(argumentShouldBeOnNextLine,\n        nextArgument,\n        andSoOn\n    );\n\nthe correct way is:\n    AType a = service.foo(\n        argumentShouldBeOnNextLine,\n        nextArgument,\n        andSoOn\n    );\n\nI use it on blocks of code, and sometimes on entire files - but a look over and fix the problem above.\nThere are settings for this, and I spent a day to get it to work, but sadly it does not. I think the underlying problem is the precedence of the format rules and the order they are applied.\nI am very sorry this does not work. I am happy to adjust the code-style, if we can find a way to make this work and maintain readability. I want code in the same scope(e.g. method arguments) to be indented to the same level.\nWhen we have a code-style that works I would love to apply it on the entire Java code code base.", "author": "t2gran", "createdAt": "2021-02-05T11:57:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE5NTU0Mw=="}], "type": "inlineReview"}, {"oid": "0b7aa950fc3c8c7cbbe9e8162b2f11e84f0d3c87", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/0b7aa950fc3c8c7cbbe9e8162b2f11e84f0d3c87", "message": "Save all nodes even if they contain bikeRental/bikeParking tags\n\nOtherwise the node will not be added to nodesById and the way/relation\nusing it will be ignored.", "committedDate": "2021-01-19T07:44:23Z", "type": "commit"}, {"oid": "bcf0591de05d7d55b58340b7e444521f4f789285", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/bcf0591de05d7d55b58340b7e444521f4f789285", "message": "Add missing braces to if statements in OSMDatabase to match the codestyle", "committedDate": "2021-01-19T07:44:23Z", "type": "commit"}, {"oid": "bcf0591de05d7d55b58340b7e444521f4f789285", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/bcf0591de05d7d55b58340b7e444521f4f789285", "message": "Add missing braces to if statements in OSMDatabase to match the codestyle", "committedDate": "2021-01-19T07:44:23Z", "type": "forcePushed"}]}