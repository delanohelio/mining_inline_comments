{"pr_number": 2971, "pr_title": "FL_3 - Otp2 filter results - Filter chain, walk/wait reluctance, debug", "pr_createdAt": "2020-02-11T12:31:20Z", "pr_url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2971", "timeline": [{"oid": "4c46723dbea36c001a1ce6f128cd6dd71e6f82d9", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/4c46723dbea36c001a1ce6f128cd6dd71e6f82d9", "message": "WalkReluctance & WaitReluctance supported, and fix cost equals \"transit second cost\" in OTP domain(not in raptor). Set default board cost to 10 minutes.", "committedDate": "2020-02-11T12:24:03Z", "type": "commit"}, {"oid": "c7df735316135fa4e65555951a2384f1bf455102", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/c7df735316135fa4e65555951a2384f1bf455102", "message": "Bugfix int style.css in OTP client.", "committedDate": "2020-02-11T12:24:03Z", "type": "commit"}, {"oid": "04bc986e3abd03c71ae748b593fdbe98cecbd0a9", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/04bc986e3abd03c71ae748b593fdbe98cecbd0a9", "message": "Implement a working filter-chain.", "committedDate": "2020-02-11T12:24:03Z", "type": "commit"}, {"oid": "aa05398de164b2b5d24426c9e0d13fee6a1496d5", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/aa05398de164b2b5d24426c9e0d13fee6a1496d5", "message": "Enable debug for filter-chain - returning all itineraries, just mark deleted once.", "committedDate": "2020-02-11T12:55:19Z", "type": "forcePushed"}, {"oid": "800f1f67681925531d27ca8690a6933e9c1531f6", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/800f1f67681925531d27ca8690a6933e9c1531f6", "message": "Enable debug for filter-chain - returning all itineraries, just mark deleted once.", "committedDate": "2020-02-11T16:43:38Z", "type": "commit"}, {"oid": "800f1f67681925531d27ca8690a6933e9c1531f6", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/800f1f67681925531d27ca8690a6933e9c1531f6", "message": "Enable debug for filter-chain - returning all itineraries, just mark deleted once.", "committedDate": "2020-02-11T16:43:38Z", "type": "forcePushed"}, {"oid": "3808b623f2a5a5bac60e914977288ef58ffacdfc", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/3808b623f2a5a5bac60e914977288ef58ffacdfc", "message": "Merge branch 'dev-2.x' into otp2_filter_results_3_chain", "committedDate": "2020-02-12T09:44:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODEzNTA2Ng==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2971#discussion_r378135066", "bodyText": "We could add units to the constant names.", "author": "abyrd", "createdAt": "2020-02-12T09:38:09Z", "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "diffHunk": "@@ -54,17 +56,22 @@\n      * To avoid long searches witch might degrade the performance we use an upper limit\n      * to the distance for none transit what we would allow.\n      */\n-    public static final double MAX_WALK_DISTANCE = 50_000;\n-    public static final double MAX_BIKE_DISTANCE = 150_000;\n-    public static final double MAX_CAR_DISTANCE = 500_000;\n+    private static final double MAX_WALK_DISTANCE = 50_000;\n+    private static final double MAX_BIKE_DISTANCE = 150_000;\n+    private static final double MAX_CAR_DISTANCE = 500_000;", "originalCommit": "04bc986e3abd03c71ae748b593fdbe98cecbd0a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQ5MzQ5NA==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2971#discussion_r378493494", "bodyText": "The unit is meters, added to constants.", "author": "t2gran", "createdAt": "2020-02-12T20:25:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODEzNTA2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODEzNTYzNA==", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2971#discussion_r378135634", "bodyText": "Add to documentation: this function should not change the List instance passed in, but may change the elements in that List, and may return a List with a subset of the elements (or even different, new elements?)", "author": "abyrd", "createdAt": "2020-02-12T09:39:05Z", "path": "src/main/java/org/opentripplanner/routing/algorithm/filterchain/ItineraryFilter.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package org.opentripplanner.routing.algorithm.filterchain;\n+\n+import org.opentripplanner.model.plan.Itinerary;\n+\n+import java.util.List;\n+\n+/**\n+ * Filter or decorate itineraries.\n+ */\n+public interface ItineraryFilter {\n+\n+    /**\n+     * A name used for debugging filters to attach to elements deleted by the filter.\n+     */\n+    String name();\n+\n+    /**\n+     * Process the given itineraries returning the result.", "originalCommit": "04bc986e3abd03c71ae748b593fdbe98cecbd0a9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "27fdc25449694cf9e2dd01b4091a0b907a861747", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/27fdc25449694cf9e2dd01b4091a0b907a861747", "message": "Review - Added JavaDoc and improved unit-tests. Slightly changed the GroupByFilter.groupMaxLimit function to round off properly.", "committedDate": "2020-02-12T20:21:43Z", "type": "commit"}, {"oid": "a0acd1af705b56b3e30289f28ab958690445f992", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/a0acd1af705b56b3e30289f28ab958690445f992", "message": "Merge commit '3808b623' into otp2_filter_results_3_chain", "committedDate": "2020-02-12T20:23:01Z", "type": "commit"}, {"oid": "a0acd1af705b56b3e30289f28ab958690445f992", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/a0acd1af705b56b3e30289f28ab958690445f992", "message": "Merge commit '3808b623' into otp2_filter_results_3_chain", "committedDate": "2020-02-12T20:23:01Z", "type": "forcePushed"}, {"oid": "2b075f25040ad55bdf5804278d8a4527e89f1e3e", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/2b075f25040ad55bdf5804278d8a4527e89f1e3e", "message": "Merge branch 'dev-2.x' into otp2_filter_results_3_chain", "committedDate": "2020-02-12T20:26:36Z", "type": "commit"}, {"oid": "7e93635f100aef7b2956ce3d8a80bf6bb7e84010", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/7e93635f100aef7b2956ce3d8a80bf6bb7e84010", "message": "Cleanup JavaDoc on ItineraryFilter", "committedDate": "2020-02-12T21:04:48Z", "type": "commit"}, {"oid": "aeefcde859b8f4fbf53a93c880b7f35d9b9adc82", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/aeefcde859b8f4fbf53a93c880b7f35d9b9adc82", "message": "Merge branch 'dev-2.x' into otp2_filter_results_3_chain", "committedDate": "2020-02-14T10:28:52Z", "type": "commit"}, {"oid": "7a254808b6a52ed8a657eb91066ef71e93fa059f", "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/7a254808b6a52ed8a657eb91066ef71e93fa059f", "message": "JavaDoc fix on ItineraryFilter.", "committedDate": "2020-02-14T10:39:06Z", "type": "commit"}]}