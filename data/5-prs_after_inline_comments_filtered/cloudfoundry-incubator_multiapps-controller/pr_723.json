{"pr_number": 723, "pr_title": "Abort processes in action required state immediately", "pr_createdAt": "2020-01-10T17:06:47Z", "pr_url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/723", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTY4OTE2Nw==", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/723#discussion_r365689167", "bodyText": "Do it outside the loop.", "author": "enchobelezirev", "createdAt": "2020-01-13T08:45:13Z", "path": "com.sap.cloud.lm.sl.cf.process/src/main/java/com/sap/cloud/lm/sl/cf/process/flowable/FlowableFacade.java", "diffHunk": "@@ -229,13 +229,20 @@ public void deleteProcessInstance(String processInstanceId, String deleteReason)\n         long overallAbortDeadline = System.currentTimeMillis() + DEFAULT_ABORT_WAIT_TIMEOUT_MS + DEFAULT_ABORT_TIMEOUT_MS;\n         while (true) {\n             try {\n+                if (isProcessInstanceAtReceiveTask(processInstanceId)) {", "originalCommit": "3ea7fee37ad41aa5bbf15b5527a9553c07c3530e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTY5ODAzMQ==", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/pull/723#discussion_r365698031", "bodyText": "It should remain in the outer loop, because of OptimisticLockingException mitigation", "author": "boyan-velinov", "createdAt": "2020-01-13T09:10:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTY4OTE2Nw=="}], "type": "inlineReview"}, {"oid": "8cf6864645cff330285adb57325c468272b26ab8", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/8cf6864645cff330285adb57325c468272b26ab8", "message": "Abort processes in action required state immediate\n\nAnd decrease timeout to wait for deadletter jobs\n\nJira: LMCROSSITXSADEPLOY-1761", "committedDate": "2020-01-13T09:04:57Z", "type": "forcePushed"}, {"oid": "4674923549249b7631fc844feaf111bb8a1390ef", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/4674923549249b7631fc844feaf111bb8a1390ef", "message": "Abort processes in action required state immediately\n\nAnd decrease timeout to wait for deadletter jobs\n\nJira: LMCROSSITXSADEPLOY-1761", "committedDate": "2020-01-13T09:06:19Z", "type": "commit"}, {"oid": "4674923549249b7631fc844feaf111bb8a1390ef", "url": "https://github.com/cloudfoundry-incubator/multiapps-controller/commit/4674923549249b7631fc844feaf111bb8a1390ef", "message": "Abort processes in action required state immediately\n\nAnd decrease timeout to wait for deadletter jobs\n\nJira: LMCROSSITXSADEPLOY-1761", "committedDate": "2020-01-13T09:06:19Z", "type": "forcePushed"}]}