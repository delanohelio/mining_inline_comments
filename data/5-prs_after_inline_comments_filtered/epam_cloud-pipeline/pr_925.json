{"pr_number": 925, "pr_title": "Issue 919 send notification only for certain statuses", "pr_createdAt": "2020-01-29T12:15:50Z", "pr_url": "https://github.com/epam/cloud-pipeline/pull/925", "timeline": [{"oid": "9888b094587259bd65f5b1b9fa140988c9950b6e", "url": "https://github.com/epam/cloud-pipeline/commit/9888b094587259bd65f5b1b9fa140988c9950b6e", "message": "(issue #919) add statusesToInform field to NotificationSettings class, to be able to send notifications only for specified run statuses", "committedDate": "2020-01-29T11:37:58Z", "type": "commit"}, {"oid": "9d06ef1dea9fb2e3428cf1180b407c34312d2291", "url": "https://github.com/epam/cloud-pipeline/commit/9d06ef1dea9fb2e3428cf1180b407c34312d2291", "message": "(issue #919) tests", "committedDate": "2020-01-29T11:37:58Z", "type": "commit"}, {"oid": "196bcb095751f7fd609bd83f85cb463d0d3a0129", "url": "https://github.com/epam/cloud-pipeline/commit/196bcb095751f7fd609bd83f85cb463d0d3a0129", "message": "(issue #919) logging", "committedDate": "2020-01-29T12:15:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY3MDY5Mw==", "url": "https://github.com/epam/cloud-pipeline/pull/925#discussion_r374670693", "bodyText": "If statuses are not defined we shall proceed with notification", "author": "mzueva", "createdAt": "2020-02-04T13:32:07Z", "path": "api/src/main/java/com/epam/pipeline/manager/notification/NotificationManager.java", "diffHunk": "@@ -206,6 +208,14 @@ public void notifyRunStatusChanged(PipelineRun pipelineRun) {\n             return;\n         }\n \n+        final List<TaskStatus> runStatusesToReport = ListUtils.emptyIfNull(runStatusSettings.getStatusesToInform());\n+        if (CollectionUtils.isEmpty(runStatusesToReport) || !runStatusesToReport.contains(pipelineRun.getStatus())) {", "originalCommit": "196bcb095751f7fd609bd83f85cb463d0d3a0129", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "e6771b316496c62421d3d695e78da9ef4277d08d", "url": "https://github.com/epam/cloud-pipeline/commit/e6771b316496c62421d3d695e78da9ef4277d08d", "message": "(issue #919) corrections on review", "committedDate": "2020-02-04T13:48:04Z", "type": "commit"}, {"oid": "c7d80f9d6fd9d59658b12e67d54928f3f66f0ece", "url": "https://github.com/epam/cloud-pipeline/commit/c7d80f9d6fd9d59658b12e67d54928f3f66f0ece", "message": "(issue #919) corrections on review", "committedDate": "2020-02-04T14:09:59Z", "type": "commit"}]}