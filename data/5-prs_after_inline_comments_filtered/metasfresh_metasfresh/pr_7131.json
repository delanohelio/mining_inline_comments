{"pr_number": 7131, "pr_title": "collecting classes for same application in same package", "pr_createdAt": "2020-08-13T08:57:20Z", "pr_url": "https://github.com/metasfresh/metasfresh/pull/7131", "timeline": [{"oid": "db1a337ac1e2d1c0e28371ba865fa19b6c3878c0", "url": "https://github.com/metasfresh/metasfresh/commit/db1a337ac1e2d1c0e28371ba865fa19b6c3878c0", "message": "collecting classes for same application in same package\n\n..before, it was all routes in one package, all pojos in one package etc\nNow it's e.g. all the stepcom.code in one package", "committedDate": "2020-07-11T06:54:42Z", "type": "commit"}, {"oid": "f34471c28ead81477cac8100160955be040bf2bb", "url": "https://github.com/metasfresh/metasfresh/commit/f34471c28ead81477cac8100160955be040bf2bb", "message": "clean out some very old types and verify it still compiles", "committedDate": "2020-07-16T14:57:31Z", "type": "commit"}, {"oid": "bdf3811878e1988741f6da1d331ce091961f94cc", "url": "https://github.com/metasfresh/metasfresh/commit/bdf3811878e1988741f6da1d331ce091961f94cc", "message": "bring the current schema as exported by metasfresh...\n\n manually remove redundant minOccurs and maxOccurs", "committedDate": "2020-07-16T15:04:48Z", "type": "commit"}, {"oid": "7c95dd1696735eca354f24cc83ed02dae92cc61d", "url": "https://github.com/metasfresh/metasfresh/commit/7c95dd1696735eca354f24cc83ed02dae92cc61d", "message": "Merge remote-tracking branch 'origin/intensive_care_uat' into invisible_croissant_uat_move_edi_classes\n\n# Conflicts:\n#\tmisc/services/edi/pom.xml", "committedDate": "2020-07-21T04:40:36Z", "type": "commit"}, {"oid": "6a7e0ce5bae1150c392bcb15c2646d33b97b0338", "url": "https://github.com/metasfresh/metasfresh/commit/6a7e0ce5bae1150c392bcb15c2646d33b97b0338", "message": "Merge branch 'master' into invisible_croissant_uat_move_edi_classes", "committedDate": "2020-07-22T06:24:18Z", "type": "commit"}, {"oid": "5212b5f297327dca9e1d5cf94a8ca50c42894f2f", "url": "https://github.com/metasfresh/metasfresh/commit/5212b5f297327dca9e1d5cf94a8ca50c42894f2f", "message": "fix for enforcer RequirePluginVersions rule", "committedDate": "2020-07-22T06:30:55Z", "type": "commit"}, {"oid": "dfe8e8ccfea53212330cce464fb555d2cf245104", "url": "https://github.com/metasfresh/metasfresh/commit/dfe8e8ccfea53212330cce464fb555d2cf245104", "message": "start making the target clearing center configurable via...\n\n desadv and invoic properties", "committedDate": "2020-07-22T22:31:40Z", "type": "commit"}, {"oid": "6575795851e26be08abf7d6391926e317330a55b", "url": "https://github.com/metasfresh/metasfresh/commit/6575795851e26be08abf7d6391926e317330a55b", "message": "move stuff around some more", "committedDate": "2020-07-22T22:35:59Z", "type": "commit"}, {"oid": "c6140688481b335292df41c9f6d2c008ae15d414", "url": "https://github.com/metasfresh/metasfresh/commit/c6140688481b335292df41c9f6d2c008ae15d414", "message": "minor", "committedDate": "2020-07-22T22:37:53Z", "type": "commit"}, {"oid": "8ce5b06e15070cad7b31423beea330b60c0107b1", "url": "https://github.com/metasfresh/metasfresh/commit/8ce5b06e15070cad7b31423beea330b60c0107b1", "message": "slightly rearranging properties", "committedDate": "2020-07-23T09:30:07Z", "type": "commit"}, {"oid": "edf0b16b9b34ee4c0084bb7d0bc2c193ab423857", "url": "https://github.com/metasfresh/metasfresh/commit/edf0b16b9b34ee4c0084bb7d0bc2c193ab423857", "message": "renaming some properties", "committedDate": "2020-07-23T10:47:10Z", "type": "commit"}, {"oid": "3deff54075e34c1078e39d665cf1d0cd61499505", "url": "https://github.com/metasfresh/metasfresh/commit/3deff54075e34c1078e39d665cf1d0cd61499505", "message": "fix after-rename-compile-error", "committedDate": "2020-07-23T10:52:04Z", "type": "commit"}, {"oid": "e5a011ae469535fbfb706e1be559dbe19d8c3b47", "url": "https://github.com/metasfresh/metasfresh/commit/e5a011ae469535fbfb706e1be559dbe19d8c3b47", "message": "fix wrt missing marshaling", "committedDate": "2020-07-23T13:54:39Z", "type": "commit"}, {"oid": "cfd74edd839a22d37a7182dc88c659c8fd0da48e", "url": "https://github.com/metasfresh/metasfresh/commit/cfd74edd839a22d37a7182dc88c659c8fd0da48e", "message": "fix route-id", "committedDate": "2020-07-23T14:13:10Z", "type": "commit"}, {"oid": "c7f2f8430b0d9f19c4d18c787b66aaf0e839b8d8", "url": "https://github.com/metasfresh/metasfresh/commit/c7f2f8430b0d9f19c4d18c787b66aaf0e839b8d8", "message": "manually copy the changes from master", "committedDate": "2020-07-23T14:56:06Z", "type": "commit"}, {"oid": "d4d6e8bc61ed9be6a33e8ccf7b3e9fae14dfdd24", "url": "https://github.com/metasfresh/metasfresh/commit/d4d6e8bc61ed9be6a33e8ccf7b3e9fae14dfdd24", "message": "manually sync updated parent pom from master", "committedDate": "2020-07-23T15:02:38Z", "type": "commit"}, {"oid": "186b864eb8bf6f9b040cae9dd083342b72a3e37b", "url": "https://github.com/metasfresh/metasfresh/commit/186b864eb8bf6f9b040cae9dd083342b72a3e37b", "message": "in the process of upgrading camel-edi to 3.4.0", "committedDate": "2020-07-23T15:55:14Z", "type": "commit"}, {"oid": "a079af016ca1d0cb726d4fa10413e9d569b1be8b", "url": "https://github.com/metasfresh/metasfresh/commit/a079af016ca1d0cb726d4fa10413e9d569b1be8b", "message": "move edi to be paralel to shipping", "committedDate": "2020-07-23T16:39:17Z", "type": "commit"}, {"oid": "a13dd8a13a5720d5697a2e320dfcbd8668996690", "url": "https://github.com/metasfresh/metasfresh/commit/a13dd8a13a5720d5697a2e320dfcbd8668996690", "message": "solve compile issues etc", "committedDate": "2020-07-23T21:12:04Z", "type": "commit"}, {"oid": "ef4007cd4ea7aa3d6e0dc8e06970a614933ef300", "url": "https://github.com/metasfresh/metasfresh/commit/ef4007cd4ea7aa3d6e0dc8e06970a614933ef300", "message": "re-add plugin, bc it's used", "committedDate": "2020-07-23T21:51:25Z", "type": "commit"}, {"oid": "ffe4c300d30d140b4e8d1e7c33b5e447153123e6", "url": "https://github.com/metasfresh/metasfresh/commit/ffe4c300d30d140b4e8d1e7c33b5e447153123e6", "message": "attempt to update docker java version", "committedDate": "2020-07-23T22:05:04Z", "type": "commit"}, {"oid": "3f510ffea6b5c910caa160fe4d246db02ce0676b", "url": "https://github.com/metasfresh/metasfresh/commit/3f510ffea6b5c910caa160fe4d246db02ce0676b", "message": "camel-shipping: remove accidentally(?) added dependency\n\nalso, in parent-pom: define \"env\" for the case of local (-non-jenkins) builds", "committedDate": "2020-07-27T10:18:59Z", "type": "commit"}, {"oid": "cb22ce3ad6fa56fd77729f76d8bf4459025cbe84", "url": "https://github.com/metasfresh/metasfresh/commit/cb22ce3ad6fa56fd77729f76d8bf4459025cbe84", "message": "push test stub", "committedDate": "2020-07-30T04:21:44Z", "type": "commit"}, {"oid": "936339ceb9aa40ebf2f1f0a9d5143957c1a1a123", "url": "https://github.com/metasfresh/metasfresh/commit/936339ceb9aa40ebf2f1f0a9d5143957c1a1a123", "message": "Fix extends schema.xsd, fix EcosioDesadvRoute; also:\n\n* fix the test at EcosioDesadvRouteTest\n* schema.xsd: add EDI_ImpC_OLCands parent and desadv-Dropship_Location_ID element\n* AddressQual: add javadoc from stepcom-documentation\n* C_Async_Batch: whitespace-only\n* other changes: refactor Constants.EP_AMQP_TO_MF to be feasible for testing", "committedDate": "2020-07-30T09:07:03Z", "type": "commit"}, {"oid": "54e1b3e63e406f77d108c371a9f9b5e7d47d3f0d", "url": "https://github.com/metasfresh/metasfresh/commit/54e1b3e63e406f77d108c371a9f9b5e7d47d3f0d", "message": "fix EcosioInvoicRoute and test", "committedDate": "2020-07-30T09:25:05Z", "type": "commit"}, {"oid": "8cc7d814bb1b576c4ce24ffb12480bf8a68d7a9d", "url": "https://github.com/metasfresh/metasfresh/commit/8cc7d814bb1b576c4ce24ffb12480bf8a68d7a9d", "message": "Add dropship-fields to desadv\n\n#7085", "committedDate": "2020-07-30T10:21:34Z", "type": "commit"}, {"oid": "19076739daae864876611f2554704abb9030dc5d", "url": "https://github.com/metasfresh/metasfresh/commit/19076739daae864876611f2554704abb9030dc5d", "message": "set Dropship location when creating new desadv record\n\n#7085", "committedDate": "2020-07-30T10:27:27Z", "type": "commit"}, {"oid": "7a483214d187557a1909ee5e34fa13eb336b218b", "url": "https://github.com/metasfresh/metasfresh/commit/7a483214d187557a1909ee5e34fa13eb336b218b", "message": "add unit test and support for splitting C_OLCands\n\n#7085", "committedDate": "2020-07-30T12:29:28Z", "type": "commit"}, {"oid": "1f99f7e4eda16c667b728c0a522d17a38644e830", "url": "https://github.com/metasfresh/metasfresh/commit/1f99f7e4eda16c667b728c0a522d17a38644e830", "message": "update jacoco-maven-plugin version to 0.8.5\n\nhopefully it will work with java 14, thx to https://stackoverflow.com/a/61154016/1012103\n\n#7085", "committedDate": "2020-07-30T14:10:05Z", "type": "commit"}, {"oid": "ff43854d6fcfb405397fce76d03b65f9ab6ac4a2", "url": "https://github.com/metasfresh/metasfresh/commit/ff43854d6fcfb405397fce76d03b65f9ab6ac4a2", "message": "also restore building the uber-jar (for now)\n\n#7085", "committedDate": "2020-07-30T14:27:49Z", "type": "commit"}, {"oid": "885324b44c30c50cfb12b508e0b838fef311a5ef", "url": "https://github.com/metasfresh/metasfresh/commit/885324b44c30c50cfb12b508e0b838fef311a5ef", "message": "fix typo in XSD-File\n\n#7085", "committedDate": "2020-07-31T08:19:35Z", "type": "commit"}, {"oid": "9327ff211c694879f318a5b054fc1c3db9796f16", "url": "https://github.com/metasfresh/metasfresh/commit/9327ff211c694879f318a5b054fc1c3db9796f16", "message": "fix startup script\n\n#7085", "committedDate": "2020-07-31T08:23:31Z", "type": "commit"}, {"oid": "f3c8c25779ff85cc633821a292bf4f75d4df6690", "url": "https://github.com/metasfresh/metasfresh/commit/f3c8c25779ff85cc633821a292bf4f75d4df6690", "message": "use latest APM agent, hoping it works with java-14\n\n#7085", "committedDate": "2020-07-31T08:37:16Z", "type": "commit"}, {"oid": "27bc53c3de1ca4aa84eba7e3e1f10ffa1283ef21", "url": "https://github.com/metasfresh/metasfresh/commit/27bc53c3de1ca4aa84eba7e3e1f10ffa1283ef21", "message": "add missing smooks-dependency; start test for compudata-orders\n\n#7085", "committedDate": "2020-07-31T09:48:32Z", "type": "commit"}, {"oid": "f0ce46b2b650cf424e4a810d9fdaf8e3535ae1fc", "url": "https://github.com/metasfresh/metasfresh/commit/f0ce46b2b650cf424e4a810d9fdaf8e3535ae1fc", "message": "work on a unit test for fixed-lenght ORDERS\n\n#7085", "committedDate": "2020-07-31T10:07:38Z", "type": "commit"}, {"oid": "d0ce1f9ceeb6f1d7a7477f569f31831e7f036776", "url": "https://github.com/metasfresh/metasfresh/commit/d0ce1f9ceeb6f1d7a7477f569f31831e7f036776", "message": "add previously missing smooks dependency\n\n#7085", "committedDate": "2020-07-31T10:30:06Z", "type": "commit"}, {"oid": "16153f2cbcdb33675d3c60871e5042987dfc1b04", "url": "https://github.com/metasfresh/metasfresh/commit/16153f2cbcdb33675d3c60871e5042987dfc1b04", "message": "change field length of applicationRef\n\nlooks like the following fields where mored, and the like is 2 chars longer than was implied by the field length sum", "committedDate": "2020-08-03T14:32:39Z", "type": "commit"}, {"oid": "117b176518e4c50d844d35ccdfbfded0d3cd09f8", "url": "https://github.com/metasfresh/metasfresh/commit/117b176518e4c50d844d35ccdfbfded0d3cd09f8", "message": "Merge remote-tracking branch 'origin/intensive_care_uat' into invisible_croissant_uat_move_edi_classes", "committedDate": "2020-08-10T12:25:57Z", "type": "commit"}, {"oid": "0a9b69ba30d360e671b86be9fa606278433c0182", "url": "https://github.com/metasfresh/metasfresh/commit/0a9b69ba30d360e671b86be9fa606278433c0182", "message": "adopt code to new XSD\n\n..and do numerous small code improvements\n\nhttps://github.com/metasfresh/metasfresh/issues/7085", "committedDate": "2020-08-10T13:43:52Z", "type": "commit"}, {"oid": "f9520e86b7c89ebf183ce68b1cb5b0bbfc518bde", "url": "https://github.com/metasfresh/metasfresh/commit/f9520e86b7c89ebf183ce68b1cb5b0bbfc518bde", "message": "stop trying to fix 3rd-party dependency convergence errors\n\n also use camel-*-starter dependecies\n\nhttps://github.com/metasfresh/metasfresh/issues/7085", "committedDate": "2020-08-10T15:25:37Z", "type": "commit"}, {"oid": "c37dfd5084abfcffd8be29f85097bf353796f182", "url": "https://github.com/metasfresh/metasfresh/commit/c37dfd5084abfcffd8be29f85097bf353796f182", "message": "different fixes\n\n* fix (remove) incorrect DateFormat attribute when exporting xsd-date*\n* go back to using xsd:date and datetime (->XMLGregorianCalendar) for e.g. MovementDate\n* when importing ecosio olcand-xml, then supplement e.g. AD_Client_Value from application.properties\n* add additional address to olcand XML import format\n\n#7085", "committedDate": "2020-08-11T19:15:50Z", "type": "commit"}, {"oid": "9716e63a59f67db5b6205b5b3f4e10c06b5079fa", "url": "https://github.com/metasfresh/metasfresh/commit/9716e63a59f67db5b6205b5b3f4e10c06b5079fa", "message": "minor", "committedDate": "2020-08-12T09:56:21Z", "type": "commit"}, {"oid": "70149eba3619ee031ee1e7026b1e4d8688c9150d", "url": "https://github.com/metasfresh/metasfresh/commit/70149eba3619ee031ee1e7026b1e4d8688c9150d", "message": "specify ecosio file names and fix error via streamCaching\n\n#7085", "committedDate": "2020-08-12T14:31:29Z", "type": "commit"}, {"oid": "eeb28e714b410bfe819f3828391e07378d98bfca", "url": "https://github.com/metasfresh/metasfresh/commit/eeb28e714b410bfe819f3828391e07378d98bfca", "message": "fix deprecated method call in ExcelOLCandRoute\n\n#7085", "committedDate": "2020-08-13T08:35:56Z", "type": "commit"}, {"oid": "ce454ce269bbeb55d8c02a9615a48e88ac7d1031", "url": "https://github.com/metasfresh/metasfresh/commit/ce454ce269bbeb55d8c02a9615a48e88ac7d1031", "message": "Merge remote-tracking branch 'origin/intensive_care_uat' into invisible_croissant_uat_move_edi_classes", "committedDate": "2020-08-13T08:59:01Z", "type": "commit"}, {"oid": "7caefa61613d38dc0aaa35dc03cead8025b73b6b", "url": "https://github.com/metasfresh/metasfresh/commit/7caefa61613d38dc0aaa35dc03cead8025b73b6b", "message": "Merge remote-tracking branch 'origin/intensive_care_uat' into invisible_croissant_uat_move_edi_classes\n\nsolved Conflicts:\n\tbackend/de.metas.business.rest-api-impl/pom.xml\n\tbackend/de.metas.business.rest-api-impl/src/main/java/de/metas/rest_api/shipping/ShipmentCandidatesRestController.java\n\tbackend/de.metas.handlingunits.base/src/main/java/de/metas/handlingunits/impl/CreatePackagesRequest.java\n\tmisc/de-metas-common/de-metas-common-filemaker/src/main/java/de/metas/common/filemaker/FMPXMLRESULT.java\n\tmisc/de-metas-common/de-metas-common-rest_api/src/main/java/de/metas/common/rest_api/JsonAttributeInstance.java\n\tmisc/de-metas-common/de-metas-common-rest_api/src/main/java/de/metas/common/rest_api/JsonMetasfreshId.java\n\tmisc/de-metas-common/de-metas-common-shipping/pom.xml\n\tmisc/de-metas-common/de-metas-common-shipping/src/main/java/de/metas/common/shipping/shipmentcandidate/JsonResponseShipmentCandidate.java\n\tmisc/de-metas-common/de-metas-common-shipping/src/test/java/de/metas/common/shipping/shipmentcandidate/JsonSerializeDeserializeTests.java\n\tmisc/services/camel/de-metas-camel-edi/src/main/java/de/metas/edi/esb/desadvexport/stepcom/qualifier/PackagingCode.java\n\tmisc/services/camel/de-metas-camel-shipmentschedule/src/main/java/de/metas/camel/shipment/MainApp.java\n\tmisc/services/camel/de-metas-camel-shipping/buildfile.groovy\n\tmisc/services/camel/de-metas-camel-shipping/src/main/java/de/metas/camel/shipping/MainApp.java\n\tmisc/services/camel/de-metas-camel-shipping/src/main/java/de/metas/camel/shipping/receiptcandidate/ReceiptCandidateJsonToXmlProcessor.java\n\tmisc/services/camel/de-metas-camel-shipping/src/main/java/de/metas/camel/shipping/shipment/ShipmentResponseProcessor.java\n\tmisc/services/camel/de-metas-camel-shipping/src/main/resources/shipping.properties", "committedDate": "2020-08-13T09:47:24Z", "type": "commit"}, {"oid": "c75dcdd019b44c09f9c54fd6af9a0a9affdbb663", "url": "https://github.com/metasfresh/metasfresh/commit/c75dcdd019b44c09f9c54fd6af9a0a9affdbb663", "message": "after-merge-compile-fixes\n\n#7085", "committedDate": "2020-08-13T10:01:05Z", "type": "commit"}, {"oid": "9a99b0c01bded6e08a4be8aba0efc8db1988df32", "url": "https://github.com/metasfresh/metasfresh/commit/9a99b0c01bded6e08a4be8aba0efc8db1988df32", "message": "fix after-merge compile errors", "committedDate": "2020-08-13T12:20:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDE1MzM1MA==", "url": "https://github.com/metasfresh/metasfresh/pull/7131#discussion_r470153350", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?>\\n\"\n          \n          \n            \n            \t\t\t\t\t\t+ \"<EDI_Invoice_Feedback AD_Client_Value=\\\"ADClientValueAttr\\\" ReplicationEvent=\\\"5\\\" ReplicationMode=\\\"0\\\" ReplicationType=\\\"M\\\" Version=\\\"*\\\">\\n\"\n          \n          \n            \n            \t\t\t\t\t\t+ \"    <C_Invoice_ID>1001</C_Invoice_ID>\\n\"\n          \n          \n            \n            \t\t\t\t\t\t+ \"    <EDI_ExportStatus>S</EDI_ExportStatus>\\n\"\n          \n          \n            \n            \t\t\t\t\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?>\"\n          \n          \n            \n            \t\t\t\t\t\t+ \"<EDI_Invoice_Feedback AD_Client_Value=\\\"ADClientValueAttr\\\" ReplicationEvent=\\\"5\\\" ReplicationMode=\\\"0\\\" ReplicationType=\\\"M\\\" Version=\\\"*\\\">\"\n          \n          \n            \n            \t\t\t\t\t\t+ \"    <C_Invoice_ID>1001</C_Invoice_ID>\"\n          \n          \n            \n            \t\t\t\t\t\t+ \"    <EDI_ExportStatus>S</EDI_ExportStatus>\"", "author": "metas-ts", "createdAt": "2020-08-13T18:14:49Z", "path": "misc/services/camel/de-metas-camel-edi/src/test/java/de/metas/edi/esb/invoicexport/ecosio/EcosioInvoicRouteTest.java", "diffHunk": "@@ -0,0 +1,104 @@\n+/*\n+ * #%L\n+ * de-metas-camel-edi\n+ * %%\n+ * Copyright (C) 2020 metas GmbH\n+ * %%\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU General Public License as\n+ * published by the Free Software Foundation, either version 2 of the\n+ * License, or (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU General Public\n+ * License along with this program. If not, see\n+ * <http://www.gnu.org/licenses/gpl-2.0.html>.\n+ * #L%\n+ */\n+\n+package de.metas.edi.esb.invoicexport.ecosio;\n+\n+import de.metas.edi.esb.commons.Constants;\n+import de.metas.edi.esb.commons.processor.feedback.helper.EDIXmlFeedbackHelper;\n+import de.metas.edi.esb.jaxb.metasfresh.ObjectFactory;\n+import org.apache.camel.EndpointInject;\n+import org.apache.camel.builder.RouteBuilder;\n+import org.apache.camel.component.mock.MockEndpoint;\n+import org.apache.camel.test.junit5.CamelTestSupport;\n+import org.junit.jupiter.api.Test;\n+\n+import java.io.IOException;\n+import java.math.BigInteger;\n+import java.util.Properties;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+class EcosioInvoicRouteTest extends CamelTestSupport\n+{\n+\t@EndpointInject(\"mock:fileOutputEndpoint\")\n+\tprivate MockEndpoint fileOutputEndpoint;\n+\n+\t@EndpointInject(\"mock:ep.rabbitmq.to.mf\")\n+\tprivate MockEndpoint feedbackOutputEndpoint;\n+\n+\t@Override\n+\tprotected RouteBuilder createRouteBuilder()\n+\t{\n+\t\treturn new EcosioInvoicRoute();\n+\t}\n+\n+\t@Override\n+\tprotected Properties useOverridePropertiesWithPropertiesComponent()\n+\t{\n+\t\tfinal var properties = new Properties();\n+\t\ttry\n+\t\t{\n+\t\t\tproperties.load(EcosioInvoicRouteTest.class.getClassLoader().getResourceAsStream(\"application.properties\"));\n+\t\t\tproperties.setProperty(EcosioInvoicRoute.OUTPUT_INVOIC_LOCAL, \"mock:fileOutputEndpoint\");\n+\t\t\tproperties.setProperty(Constants.EP_AMQP_TO_MF, \"mock:ep.rabbitmq.to.mf\");\n+\t\t\treturn properties;\n+\t\t}\n+\t\tcatch (IOException e)\n+\t\t{\n+\t\t\tthrow new RuntimeException(e);\n+\t\t}\n+\t}\n+\n+\t@Test\n+\tvoid empty_invoic() throws Exception\n+\t{\n+\t\tfinal var ediExpInvoicType = new ObjectFactory().createEDICctopInvoicVType();\n+\t\tediExpInvoicType.setCInvoiceID(new BigInteger(\"1001\"));\n+\t\tediExpInvoicType.setADClientValueAttr(\"ADClientValueAttr\");\n+\n+\t\ttemplate.sendBodyAndHeader(\n+\t\t\t\tEcosioInvoicRoute.EP_EDI_METASFRESH_XML_INVOIC_CONSUMER /*endpoint-URI*/,\n+\t\t\t\tediExpInvoicType /*actual invoicBody*/,\n+\n+\t\t\t\tEDIXmlFeedbackHelper.HEADER_OriginalXMLBody, ediExpInvoicType // this header is otherwise set by the preceeding generic route\n+\t\t);\n+\n+\t\tfileOutputEndpoint.expectedMessageCount(1);\n+\t\tfileOutputEndpoint.assertIsSatisfied(1000);\n+\t\tfinal var invoicBody = fileOutputEndpoint.getExchanges().get(0).getIn().getBody(String.class);\n+\t\tassertThat(invoicBody).isEqualToIgnoringWhitespace(\n+\t\t\t\t\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?>\\n\"\n+\t\t\t\t\t\t+ \"<EDI_cctop_invoic_v AD_Client_Value=\\\"ADClientValueAttr\\\">\\n\"\n+\t\t\t\t\t\t+ \"    <C_Invoice_ID>1001</C_Invoice_ID>\\n\"\n+\t\t\t\t\t\t+ \"</EDI_cctop_invoic_v>\");\n+\n+\t\tfeedbackOutputEndpoint.expectedMessageCount(1);\n+\t\tfeedbackOutputEndpoint.assertIsSatisfied(1000);\n+\t\tfinal var feedBackBody = feedbackOutputEndpoint.getExchanges().get(0).getIn().getBody(String.class);\n+\t\tassertThat(feedBackBody).isEqualToIgnoringWhitespace(\n+\t\t\t\t\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"yes\\\"?>\\n\"\n+\t\t\t\t\t\t+ \"<EDI_Invoice_Feedback AD_Client_Value=\\\"ADClientValueAttr\\\" ReplicationEvent=\\\"5\\\" ReplicationMode=\\\"0\\\" ReplicationType=\\\"M\\\" Version=\\\"*\\\">\\n\"\n+\t\t\t\t\t\t+ \"    <C_Invoice_ID>1001</C_Invoice_ID>\\n\"\n+\t\t\t\t\t\t+ \"    <EDI_ExportStatus>S</EDI_ExportStatus>\\n\"", "originalCommit": "9a99b0c01bded6e08a4be8aba0efc8db1988df32", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "1baf795b06623eb7b240ce78816492c6489fea98", "url": "https://github.com/metasfresh/metasfresh/commit/1baf795b06623eb7b240ce78816492c6489fea98", "message": "after-merge-cleanup", "committedDate": "2020-08-13T19:29:52Z", "type": "commit"}, {"oid": "f11f768ca96a5e11626201d4adad15c934a021c9", "url": "https://github.com/metasfresh/metasfresh/commit/f11f768ca96a5e11626201d4adad15c934a021c9", "message": "Update misc/services/camel/de-metas-camel-edi/src/test/java/de/metas/edi/esb/invoicexport/ecosio/EcosioInvoicRouteTest.java", "committedDate": "2020-08-14T05:22:22Z", "type": "commit"}, {"oid": "17adc96f593e6a4693a345bfdb57de0f02e93a15", "url": "https://github.com/metasfresh/metasfresh/commit/17adc96f593e6a4693a345bfdb57de0f02e93a15", "message": "Update misc/parent-pom/pom.xml", "committedDate": "2020-08-14T05:22:44Z", "type": "commit"}]}