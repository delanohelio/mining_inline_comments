{"pr_number": 1933, "pr_title": "WIP: New JPA example and archetype using Pokemons", "pr_createdAt": "2020-06-04T20:10:49Z", "pr_url": "https://github.com/oracle/helidon/pull/1933", "timeline": [{"oid": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "url": "https://github.com/oracle/helidon/commit/7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "message": "Fixed some copyright headers.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-04T20:14:14Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyNzY1OQ==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435527659", "bodyText": "Name of the class is PokemonResource.", "author": "ljnelson", "createdAt": "2020-06-04T20:24:09Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonResource.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import javax.inject.Inject;\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.persistence.TypedQuery;\n+import javax.transaction.Transaction;\n+import javax.transaction.Transactional;\n+import javax.ws.rs.BadRequestException;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DELETE;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.NotFoundException;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.GenericEntity;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+/**\n+ * Class PokemonService.", "originalCommit": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTc4NTI4Mw==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435785283", "bodyText": "Also such a javadoc is useless. If this is your template, please change it to TODO: Javadoc, to make sure it is reported ;)", "author": "tomas-langer", "createdAt": "2020-06-05T08:58:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyNzY1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkzMTg1Mw==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435931853", "bodyText": "Will fix javadocs.", "author": "spericas", "createdAt": "2020-06-05T13:46:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyNzY1OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyNzg4MQ==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435527881", "bodyText": "Double-checking that you mean for this to be in effectively @Dependent (per-lookup) scope and not, say, @Singleton or @ApplicationScoped.", "author": "ljnelson", "createdAt": "2020-06-04T20:24:40Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonResource.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import javax.inject.Inject;\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.persistence.TypedQuery;\n+import javax.transaction.Transaction;\n+import javax.transaction.Transactional;\n+import javax.ws.rs.BadRequestException;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DELETE;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.NotFoundException;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.GenericEntity;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+/**\n+ * Class PokemonService.\n+ */\n+@Path(\"pokemon\")\n+public class PokemonResource {", "originalCommit": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkzMzcxMw==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435933713", "bodyText": "Yeap", "author": "spericas", "createdAt": "2020-06-05T13:49:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyNzg4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyODY5OA==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435528698", "bodyText": "Not needed, and not used.", "author": "ljnelson", "createdAt": "2020-06-04T20:26:17Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonResource.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import javax.inject.Inject;\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.persistence.TypedQuery;\n+import javax.transaction.Transaction;\n+import javax.transaction.Transactional;\n+import javax.ws.rs.BadRequestException;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DELETE;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.NotFoundException;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.GenericEntity;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+/**\n+ * Class PokemonService.\n+ */\n+@Path(\"pokemon\")\n+public class PokemonResource {\n+\n+    @PersistenceContext(unitName = \"test\")\n+    private EntityManager entityManager;\n+\n+    @Inject\n+    private Transaction transaction;", "originalCommit": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk1NzEyMQ==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435957121", "bodyText": "Fixed", "author": "spericas", "createdAt": "2020-06-05T14:24:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyODY5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyOTU3MA==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435529570", "bodyText": "In the other resource methods, you don't use Response.  (Personally I like using Response for everything.)  Consider picking one way or the other, not mixing them?", "author": "ljnelson", "createdAt": "2020-06-04T20:28:04Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonResource.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import javax.inject.Inject;\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.persistence.TypedQuery;\n+import javax.transaction.Transaction;\n+import javax.transaction.Transactional;\n+import javax.ws.rs.BadRequestException;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DELETE;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.NotFoundException;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.GenericEntity;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+/**\n+ * Class PokemonService.\n+ */\n+@Path(\"pokemon\")\n+public class PokemonResource {\n+\n+    @PersistenceContext(unitName = \"test\")\n+    private EntityManager entityManager;\n+\n+    @Inject\n+    private Transaction transaction;\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getPokemons() {", "originalCommit": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk1NzIwNg==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435957206", "bodyText": "Fixed.", "author": "spericas", "createdAt": "2020-06-05T14:24:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyOTU3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyOTc1Mw==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435529753", "bodyText": "Nit: list.isEmpty()", "author": "ljnelson", "createdAt": "2020-06-04T20:28:24Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonResource.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import javax.inject.Inject;\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.persistence.TypedQuery;\n+import javax.transaction.Transaction;\n+import javax.transaction.Transactional;\n+import javax.ws.rs.BadRequestException;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DELETE;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.NotFoundException;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.GenericEntity;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+/**\n+ * Class PokemonService.\n+ */\n+@Path(\"pokemon\")\n+public class PokemonResource {\n+\n+    @PersistenceContext(unitName = \"test\")\n+    private EntityManager entityManager;\n+\n+    @Inject\n+    private Transaction transaction;\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getPokemons() {\n+        List<Pokemon> pokemons =  entityManager.createNamedQuery(\"getPokemons\", Pokemon.class).getResultList();\n+        return Response.ok(new GenericEntity<>(pokemons){}).build();\n+    }\n+\n+    @GET\n+    @Path(\"{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Pokemon getPokemonById(@PathParam(\"id\") String id) {\n+        try {\n+            return entityManager.find(Pokemon.class, Integer.valueOf(id));\n+        } catch (IllegalArgumentException e) {\n+            throw new NotFoundException(\"Unable to find pokemon with ID \" + id);\n+        }\n+    }\n+\n+    @DELETE\n+    @Path(\"{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Transactional(Transactional.TxType.REQUIRED)\n+    public void deletePokemon(@PathParam(\"id\") String id) {\n+        Pokemon pokemon = getPokemonById(id);\n+        entityManager.remove(pokemon);\n+    }\n+\n+    @GET\n+    @Path(\"name/{name}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Pokemon getPokemonByName(@PathParam(\"name\") String name) {\n+        TypedQuery<Pokemon> query = entityManager.createNamedQuery(\"getPokemonByName\", Pokemon.class);\n+        List<Pokemon> list = query.setParameter(\"name\", name).getResultList();\n+        if (list.size() == 0) {", "originalCommit": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkzMjE4MA==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435932180", "bodyText": "That's better.", "author": "spericas", "createdAt": "2020-06-05T13:47:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyOTc1Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTk1NzM1OQ==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435957359", "bodyText": "Fixed.", "author": "spericas", "createdAt": "2020-06-05T14:24:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUyOTc1Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMDE4NQ==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435530185", "bodyText": "Mm, not always a bad request, right?", "author": "ljnelson", "createdAt": "2020-06-04T20:29:16Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonResource.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import javax.inject.Inject;\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.persistence.TypedQuery;\n+import javax.transaction.Transaction;\n+import javax.transaction.Transactional;\n+import javax.ws.rs.BadRequestException;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DELETE;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.NotFoundException;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.GenericEntity;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+/**\n+ * Class PokemonService.\n+ */\n+@Path(\"pokemon\")\n+public class PokemonResource {\n+\n+    @PersistenceContext(unitName = \"test\")\n+    private EntityManager entityManager;\n+\n+    @Inject\n+    private Transaction transaction;\n+\n+    @GET\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getPokemons() {\n+        List<Pokemon> pokemons =  entityManager.createNamedQuery(\"getPokemons\", Pokemon.class).getResultList();\n+        return Response.ok(new GenericEntity<>(pokemons){}).build();\n+    }\n+\n+    @GET\n+    @Path(\"{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Pokemon getPokemonById(@PathParam(\"id\") String id) {\n+        try {\n+            return entityManager.find(Pokemon.class, Integer.valueOf(id));\n+        } catch (IllegalArgumentException e) {\n+            throw new NotFoundException(\"Unable to find pokemon with ID \" + id);\n+        }\n+    }\n+\n+    @DELETE\n+    @Path(\"{id}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    @Transactional(Transactional.TxType.REQUIRED)\n+    public void deletePokemon(@PathParam(\"id\") String id) {\n+        Pokemon pokemon = getPokemonById(id);\n+        entityManager.remove(pokemon);\n+    }\n+\n+    @GET\n+    @Path(\"name/{name}\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Pokemon getPokemonByName(@PathParam(\"name\") String name) {\n+        TypedQuery<Pokemon> query = entityManager.createNamedQuery(\"getPokemonByName\", Pokemon.class);\n+        List<Pokemon> list = query.setParameter(\"name\", name).getResultList();\n+        if (list.size() == 0) {\n+            throw new NotFoundException(\"Unable to find pokemon with name \" + name);\n+        }\n+        return list.get(0);\n+    }\n+\n+    @POST\n+    @Consumes(MediaType.APPLICATION_JSON)\n+    @Transactional(Transactional.TxType.REQUIRED)\n+    public void createPokemon(Pokemon pokemon) {\n+        try {\n+            PokemonType pokemonType = entityManager.createNamedQuery(\"getPokemonTypeById\", PokemonType.class)\n+                    .setParameter(\"id\", pokemon.getType()).getSingleResult();\n+            pokemon.setPokemonType(pokemonType);\n+            entityManager.persist(pokemon);\n+        } catch (Exception e) {\n+            throw new BadRequestException(\"Unable to create pokemon with ID \" + pokemon.getId());", "originalCommit": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTkzMjM1Mg==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435932352", "bodyText": "Maybe be not, but I prefer to keep the example simple.", "author": "spericas", "createdAt": "2020-06-05T13:47:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMDE4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTUzMDUwMw==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r435530503", "bodyText": "Name of the class is actually PokemonTypeResource", "author": "ljnelson", "createdAt": "2020-06-04T20:29:48Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonTypeResource.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.GenericEntity;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import java.util.List;\n+\n+/**\n+ * Class TypeResource.", "originalCommit": "7598d00564f5e8fd6f0f6bba4e309c3b9671c5aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bc2dd6580cab937d07e4192061eb4ea6205a9f96", "url": "https://github.com/oracle/helidon/commit/bc2dd6580cab937d07e4192061eb4ea6205a9f96", "message": "Move test dependencies into main pom.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T13:54:10Z", "type": "commit"}, {"oid": "b5d18b40228e364aa7320d0f035197e23258fe58", "url": "https://github.com/oracle/helidon/commit/b5d18b40228e364aa7320d0f035197e23258fe58", "message": "New JPA MP test using Pokemons. Will be used as starting point for new archetype.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T14:31:02Z", "type": "commit"}, {"oid": "0d8ee3a5d42e3da00abbe60273fa2d15d44f5cbf", "url": "https://github.com/oracle/helidon/commit/0d8ee3a5d42e3da00abbe60273fa2d15d44f5cbf", "message": "Implementation updates and a test class.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T14:31:02Z", "type": "commit"}, {"oid": "62788e207791d8c497baf9075361bb63f6499a0c", "url": "https://github.com/oracle/helidon/commit/62788e207791d8c497baf9075361bb63f6499a0c", "message": "Fixed some copyright headers.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T14:31:02Z", "type": "commit"}, {"oid": "139f686782edd8d96cff1345d1d8708e5521518b", "url": "https://github.com/oracle/helidon/commit/139f686782edd8d96cff1345d1d8708e5521518b", "message": "Re-arranged pom dependencies. Improved Javadocs and a few other small changes.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T14:31:02Z", "type": "commit"}, {"oid": "46097adfcf086a33f72bd94dd3b06b8fada96e63", "url": "https://github.com/oracle/helidon/commit/46097adfcf086a33f72bd94dd3b06b8fada96e63", "message": "Make return types consistent in resource classes.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T14:31:02Z", "type": "commit"}, {"oid": "a9357aa0c2105641a1a6b8a41838ce97f0698fd7", "url": "https://github.com/oracle/helidon/commit/a9357aa0c2105641a1a6b8a41838ce97f0698fd7", "message": "Some pom changes and use of Hibernate.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T14:31:02Z", "type": "commit"}, {"oid": "a9357aa0c2105641a1a6b8a41838ce97f0698fd7", "url": "https://github.com/oracle/helidon/commit/a9357aa0c2105641a1a6b8a41838ce97f0698fd7", "message": "Some pom changes and use of Hibernate.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T14:31:02Z", "type": "forcePushed"}, {"oid": "1e89d124eb8ea40195581883e95f59d252762154", "url": "https://github.com/oracle/helidon/commit/1e89d124eb8ea40195581883e95f59d252762154", "message": "Property for external DB and H2 dialect.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-08T17:04:17Z", "type": "commit"}, {"oid": "51100cb7912a56a4cd8d06fcdbd01cb01ce92bec", "url": "https://github.com/oracle/helidon/commit/51100cb7912a56a4cd8d06fcdbd01cb01ce92bec", "message": "New database-mp archetype. Renamed existing archetype directories by adding the 'bare-' prefix.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-09T14:23:52Z", "type": "commit"}, {"oid": "99931b4d1f98821f1a5f64c4f8fcfb796024c81a", "url": "https://github.com/oracle/helidon/commit/99931b4d1f98821f1a5f64c4f8fcfb796024c81a", "message": "Fixed checkstyle problems.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-09T15:04:36Z", "type": "commit"}, {"oid": "31738d36a2d5d6588927fd172e1cd167bb18b1a6", "url": "https://github.com/oracle/helidon/commit/31738d36a2d5d6588927fd172e1cd167bb18b1a6", "message": "Copyright header.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-09T15:14:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI4OTgxNg==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r438289816", "bodyText": "Nit: this list and all the other things in this doc comment will not be formatted in any javadoc output.  Normally I'd not say anything but this is an archetype, and so serves as an example to customers.", "author": "ljnelson", "createdAt": "2020-06-10T17:24:37Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonResource.java", "diffHunk": "@@ -0,0 +1,133 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import java.util.List;\n+\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.persistence.TypedQuery;\n+import javax.transaction.Transactional;\n+import javax.ws.rs.BadRequestException;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.DELETE;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.NotFoundException;\n+import javax.ws.rs.POST;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+\n+/**\n+ * This class implements REST endpoints to interact with Pokemons. The following\n+ * operations are supported:\n+ *\n+ * GET /pokemon: Retrieve list of all pokemons", "originalCommit": "31738d36a2d5d6588927fd172e1cd167bb18b1a6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0ODQ1NQ==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r438848455", "bodyText": "Yeap, thought about that too. I'll address this.", "author": "spericas", "createdAt": "2020-06-11T14:56:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI4OTgxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg2MDQ0NQ==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r438860445", "bodyText": "Updated the archetype files only.", "author": "spericas", "createdAt": "2020-06-11T15:14:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI4OTgxNg=="}], "type": "inlineReview"}, {"oid": "d797e00df4ab0d39ce6656ee955f781c1d05f478", "url": "https://github.com/oracle/helidon/commit/d797e00df4ab0d39ce6656ee955f781c1d05f478", "message": "Better list formatting in Javadoc.\n\nSigned-off-by: Santiago Pericasgeertsen <santiago.pericasgeertsen@oracle.com>", "committedDate": "2020-06-11T15:13:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk5MDcxOA==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r438990718", "bodyText": "Nit: javadoc formatting again", "author": "ljnelson", "createdAt": "2020-06-11T18:32:36Z", "path": "examples/integrations/cdi/pokemons/src/main/java/io/helidon/examples/integrations/cdi/pokemon/PokemonTypeResource.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/*\n+ * Copyright (c) 2020 Oracle and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.helidon.examples.integrations.cdi.pokemon;\n+\n+import java.util.List;\n+\n+import javax.persistence.EntityManager;\n+import javax.persistence.PersistenceContext;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+\n+/**\n+ * This class implements a REST endpoint to retrieve Pokemon types.\n+ *\n+ * GET /type: Retrieve list of all pokemon types", "originalCommit": "d797e00df4ab0d39ce6656ee955f781c1d05f478", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk5NTg5OA==", "url": "https://github.com/oracle/helidon/pull/1933#discussion_r438995898", "bodyText": "I only modified the archetype, not the example. Other examples are like that.", "author": "spericas", "createdAt": "2020-06-11T18:42:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk5MDcxOA=="}], "type": "inlineReview"}]}