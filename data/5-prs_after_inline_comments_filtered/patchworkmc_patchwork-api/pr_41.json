{"pr_number": 41, "pr_title": "we fix double char", "pr_createdAt": "2020-02-03T10:29:16Z", "pr_url": "https://github.com/PatchworkMC/patchwork-api/pull/41", "timeline": [{"oid": "9d56fc6c4170c13647d2c3d4577fbb9d126b208a", "url": "https://github.com/PatchworkMC/patchwork-api/commit/9d56fc6c4170c13647d2c3d4577fbb9d126b208a", "message": "actually let's just overwrite because mojang is simply ignoring all the returned booleans and we are not able to grab them meaning that we have to just overwrite it\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-02-03T10:24:17Z", "type": "commit"}, {"oid": "73ec3d88bfed399e162c294d521e6bb015c8fd75", "url": "https://github.com/PatchworkMC/patchwork-api/commit/73ec3d88bfed399e162c294d521e6bb015c8fd75", "message": "bump version\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-02-03T10:30:00Z", "type": "commit"}, {"oid": "08952fc0c33fc18bf4d28ceecd57e176b69140db", "url": "https://github.com/PatchworkMC/patchwork-api/commit/08952fc0c33fc18bf4d28ceecd57e176b69140db", "message": "redirect and inject\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-02-03T17:10:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDIyOTUxMQ==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/41#discussion_r374229511", "bodyText": "Change all the mixin names in this class to something meaningful, like hookCharTypedEventPre", "author": "TheGlitch76", "createdAt": "2020-02-03T17:15:21Z", "path": "patchwork-gui/src/main/java/com/patchworkmc/mixin/gui/MixinKeyboard.java", "diffHunk": "@@ -74,20 +75,26 @@ private void postKeyEvent(int i, boolean[] bls, ParentElement element, int key,\n \t}\n \n \t@Inject(method = \"method_1458\", at = @At(\"HEAD\"), cancellable = true)\n-\tprivate static void charEvent(Element element, int character, int mods, CallbackInfo info) {\n+\tprivate static void method_1458(Element element, int character, int mods, CallbackInfo info) {", "originalCommit": "08952fc0c33fc18bf4d28ceecd57e176b69140db", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a54a781df33dffafbbb5cf39e8b9d64e5b8ae960", "url": "https://github.com/PatchworkMC/patchwork-api/commit/a54a781df33dffafbbb5cf39e8b9d64e5b8ae960", "message": "renamed\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>", "committedDate": "2020-02-03T17:16:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDIzMzUyMw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/41#discussion_r374233523", "bodyText": "won't this only fire the event if element.charTyped() returns false? Is that intentional?", "author": "TheGlitch76", "createdAt": "2020-02-03T17:22:57Z", "path": "patchwork-gui/src/main/java/com/patchworkmc/mixin/gui/MixinKeyboard.java", "diffHunk": "@@ -74,20 +75,26 @@ private void postKeyEvent(int i, boolean[] bls, ParentElement element, int key,\n \t}\n \n \t@Inject(method = \"method_1458\", at = @At(\"HEAD\"), cancellable = true)\n-\tprivate static void charEvent(Element element, int character, int mods, CallbackInfo info) {\n+\tprivate static void preCharTyped(Element element, int character, int mods, CallbackInfo info) {\n \t\tif (MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Pre((Screen) element, (char) character, mods))) {\n \t\t\tinfo.cancel();\n-\t\t} else if (!element.charTyped((char) character, mods)) {\n-\t\t\tMinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Post((Screen) element, (char) character, mods));\n \t\t}\n \t}\n \n+\t@Redirect(method = \"method_1458\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/client/gui/Element;charTyped(CI)Z\"))\n+\tprivate static boolean charTyped(Element element, char character, int mods) {\n+\t\treturn element.charTyped(character, mods) || MinecraftForge.EVENT_BUS.post(new GuiScreenEvent.KeyboardCharTypedEvent.Post((Screen) element, character, mods));", "originalCommit": "a54a781df33dffafbbb5cf39e8b9d64e5b8ae960", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}