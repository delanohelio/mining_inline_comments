{"pr_number": 30, "pr_title": "EntityTypes", "pr_createdAt": "2020-01-19T21:53:33Z", "pr_url": "https://github.com/PatchworkMC/patchwork-api/pull/30", "timeline": [{"oid": "a2cc80bc44513f6e5fa34cd4a3b35fb1bace0b3f", "url": "https://github.com/PatchworkMC/patchwork-api/commit/a2cc80bc44513f6e5fa34cd4a3b35fb1bace0b3f", "message": "Add support for EntityTypes", "committedDate": "2020-01-19T21:45:03Z", "type": "commit"}, {"oid": "5449d0ddf78f20962818b4b40f4d8c890100f4c9", "url": "https://github.com/PatchworkMC/patchwork-api/commit/5449d0ddf78f20962818b4b40f4d8c890100f4c9", "message": "checkstyle", "committedDate": "2020-01-19T21:48:25Z", "type": "commit"}, {"oid": "d4f43d3eb103633673aec250f0e2409b7bd1210d", "url": "https://github.com/PatchworkMC/patchwork-api/commit/d4f43d3eb103633673aec250f0e2409b7bd1210d", "message": "Fix checkstyle + add license headers", "committedDate": "2020-01-19T21:50:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMyNTkwMw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r368325903", "bodyText": "This is an unrelated fix, this package name didn't match the ones used everywhere else.", "author": "TheGlitch76", "createdAt": "2020-01-19T21:54:27Z", "path": "patchwork-extensions-shearing/src/main/java/com/patchworkmc/impl/extension/shearing/Shearables.java", "diffHunk": "@@ -17,7 +17,7 @@\n  * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n  */\n \n-package com.patchworkmc.impl.extensions.shearing;\n+package com.patchworkmc.impl.extension.shearing;", "originalCommit": "d4f43d3eb103633673aec250f0e2409b7bd1210d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc0NzI5NQ==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r368747295", "bodyText": "No? com.patchworkmc.mixin.extensions.shearing is what all of the shearing mixins use, and MinecraftForge uses net.minecraftforge.common.extensions. The only exception is MixinStatusEffect. If you want to rename all of the other patchwork packages, fine, but this is only halfway. I think this refactor makes sense for another PR. I'm still split if extension or extensions makes more sense for the package name: Forge uses extensions, and most of patchwork uses extensions.", "author": "coderbot16", "createdAt": "2020-01-20T22:37:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMyNTkwMw=="}], "type": "inlineReview"}, {"oid": "34f351c9f32fcb7a7c034a1aa6a08ecf112f789c", "url": "https://github.com/PatchworkMC/patchwork-api/commit/34f351c9f32fcb7a7c034a1aa6a08ecf112f789c", "message": "Remove TODO involving potential mixin conflicts", "committedDate": "2020-01-19T21:55:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc0OTUyMw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r368749523", "bodyText": "Is the interface needed here? I don't think this is ever accessed externally.", "author": "coderbot16", "createdAt": "2020-01-20T22:49:21Z", "path": "patchwork-vanilla-patches/src/main/java/com/patchworkmc/mixin/patches/bugfixes/MixinEntityTypeBuilder.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2019, 2019\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.mixin.patches.bugfixes;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.spongepowered.asm.mixin.Final;\n+import org.spongepowered.asm.mixin.Implements;\n+import org.spongepowered.asm.mixin.Interface;\n+import org.spongepowered.asm.mixin.Intrinsic;\n+import org.spongepowered.asm.mixin.Mixin;\n+import org.spongepowered.asm.mixin.Shadow;\n+import org.spongepowered.asm.mixin.Unique;\n+\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityCategory;\n+import net.minecraft.entity.EntityDimensions;\n+import net.minecraft.entity.EntityType;\n+\n+import com.patchworkmc.impl.patches.bugfixes.EntityTypeBuilderShim;\n+\n+@Mixin(EntityType.Builder.class)\n+@Implements(@Interface(iface = EntityTypeBuilderShim.class, prefix = \"patchwork$\"))", "originalCommit": "34f351c9f32fcb7a7c034a1aa6a08ecf112f789c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1ODQyOA==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r368758428", "bodyText": "You need the shim for the proxy overwrite thing", "author": "TheGlitch76", "createdAt": "2020-01-20T23:36:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc0OTUyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODc1MDY3Nw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r368750677", "bodyText": "Make this a javadoc of the interface?", "author": "coderbot16", "createdAt": "2020-01-20T22:54:30Z", "path": "patchwork-extensions/src/main/java/com/patchworkmc/impl/extension/PatchworkEntityTypeExtensions.java", "diffHunk": "@@ -0,0 +1,33 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2019, 2019\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.impl.extension;\n+\n+import net.minecraft.entity.Entity;\n+\n+public interface PatchworkEntityTypeExtensions<T extends Entity> {\n+\t// Patchwork: Forge does this through patching the constructor instead", "originalCommit": "34f351c9f32fcb7a7c034a1aa6a08ecf112f789c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "36ddaeda9ab0b38900ed2482a60c1bc327205acb", "url": "https://github.com/PatchworkMC/patchwork-api/commit/36ddaeda9ab0b38900ed2482a60c1bc327205acb", "message": "Apply suggestions from code review\n\nCo-Authored-By: coderbot16 <coderbot16@gmail.com>", "committedDate": "2020-01-20T23:39:34Z", "type": "commit"}, {"oid": "667ebe163c742c9165bfa503858901978a2db242", "url": "https://github.com/PatchworkMC/patchwork-api/commit/667ebe163c742c9165bfa503858901978a2db242", "message": "More code review", "committedDate": "2020-01-22T23:23:28Z", "type": "commit"}, {"oid": "dc33e8babeb02e5b83eb556e2f962436b760b42e", "url": "https://github.com/PatchworkMC/patchwork-api/commit/dc33e8babeb02e5b83eb556e2f962436b760b42e", "message": "Merge branch 'feature/entitytypes' of github.com:PatchworkMC/patchwork-api into feature/entitytypes", "committedDate": "2020-01-22T23:25:57Z", "type": "commit"}, {"oid": "e7df84af809e083268f684b79f9ab06b68c2035a", "url": "https://github.com/PatchworkMC/patchwork-api/commit/e7df84af809e083268f684b79f9ab06b68c2035a", "message": "review", "committedDate": "2020-01-23T17:15:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkxNTAwNg==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r370915006", "bodyText": "One question? why is this class required? You don't need an interface to add methods iirc.", "author": "shedaniel", "createdAt": "2020-01-25T05:19:58Z", "path": "patchwork-extensions/src/main/java/com/patchworkmc/impl/extension/PatchworkEntityTypeBuilderExtensions.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2019, 2019\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.impl.extension;\n+\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityType;\n+\n+/**\n+ * Forge does this through patching the constructor instead, we just add methods with mixins instead.\n+ */\n+public interface PatchworkEntityTypeBuilderExtensions<T extends Entity> {", "originalCommit": "e7df84af809e083268f684b79f9ab06b68c2035a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjcxNzc0Ng==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r372717746", "bodyText": "Maybe not (i'm not sure from the docs), but not including this makes it impossible to reference our added methods with duck typing in Fabric code.", "author": "TheGlitch76", "createdAt": "2020-01-30T01:20:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkxNTAwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMwOTY3Ng==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r373309676", "bodyText": "On one hand we don't need this because we don't use this directly, on the other other mods may want to compile against this. I'm still uncertain whether it's necessary.", "author": "coderbot16", "createdAt": "2020-01-31T04:14:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkxNTAwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwNzgwNQ==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r373807805", "bodyText": "If we have patchwork-patcher patching source code this is required.", "author": "TheGlitch76", "createdAt": "2020-02-01T23:15:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkxNTAwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk2OTQ1Nw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r370969457", "bodyText": "After some discussion in #mixin, I don't think that this will work in production, since it doesn't get remapped. We'll need another approach perhaps.", "author": "coderbot16", "createdAt": "2020-01-26T02:35:30Z", "path": "patchwork-vanilla-patches/src/main/java/com/patchworkmc/mixin/patches/bugfixes/MixinEntityTypeBuilder.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2019, 2019\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.mixin.patches.bugfixes;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.spongepowered.asm.mixin.Final;\n+import org.spongepowered.asm.mixin.Implements;\n+import org.spongepowered.asm.mixin.Interface;\n+import org.spongepowered.asm.mixin.Intrinsic;\n+import org.spongepowered.asm.mixin.Mixin;\n+import org.spongepowered.asm.mixin.Shadow;\n+import org.spongepowered.asm.mixin.Unique;\n+\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityCategory;\n+import net.minecraft.entity.EntityDimensions;\n+import net.minecraft.entity.EntityType;\n+\n+import com.patchworkmc.impl.patches.bugfixes.EntityTypeBuilderShim;\n+\n+@Mixin(EntityType.Builder.class)\n+@Implements(@Interface(iface = EntityTypeBuilderShim.class, prefix = \"patchwork$\"))\n+public abstract class MixinEntityTypeBuilder<T extends Entity> {\n+\t@Unique\n+\tprivate static final Logger LOGGER = LogManager.getLogger();\n+\n+\t@Shadow\n+\tpublic abstract EntityType<T> build(String id);\n+\n+\t@Shadow\n+\t@Final\n+\tprivate EntityType.EntityFactory<T> factory;\n+\n+\t@Shadow\n+\t@Final\n+\tprivate EntityCategory category;\n+\n+\t@Shadow\n+\tprivate boolean saveable;\n+\n+\t@Shadow\n+\tprivate boolean summonable;\n+\n+\t@Shadow\n+\tprivate boolean fireImmune;\n+\n+\t@Shadow\n+\tprivate boolean field_19424;\n+\n+\t@Shadow\n+\tprivate EntityDimensions size;\n+\n+\t/**\n+\t * Fixes MC-170128: Cannot build an EntityType without a datafixer due to an IllegalArgumentException.\n+\t */\n+\t@Intrinsic(displace = true)\n+\tpublic EntityType<T> patchwork$build(String id) {", "originalCommit": "e7df84af809e083268f684b79f9ab06b68c2035a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "00d15e16b7f793e6228130f0c6b53807f8a0cd39", "url": "https://github.com/PatchworkMC/patchwork-api/commit/00d15e16b7f793e6228130f0c6b53807f8a0cd39", "message": "Merge branch 'master' of github.com:PatchworkMC/patchwork-api into feature/entitytypes\n\n\u0001 Conflicts:\n\u0001\tpatchwork-registries/src/main/java/com/patchworkmc/mixin/registries/MixinEntityType.java\n\u0001\tpatchwork-registries/src/main/resources/patchwork-registries.mixins.json", "committedDate": "2020-01-26T23:31:35Z", "type": "commit"}, {"oid": "359f42cfd375c5c017c5f6f23b48acb768c7ff38", "url": "https://github.com/PatchworkMC/patchwork-api/commit/359f42cfd375c5c017c5f6f23b48acb768c7ff38", "message": "Use @Redirect instead of a weird intrinsic displacement + update license headers", "committedDate": "2020-01-26T23:54:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMwOTc1MA==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r373309750", "bodyText": "Note that setCustomClientFactory will be handled by the networking module.", "author": "coderbot16", "createdAt": "2020-01-31T04:15:25Z", "path": "patchwork-extensions/src/main/java/com/patchworkmc/impl/extension/PatchworkEntityTypeBuilderExtensions.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.impl.extension;\n+\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityType;\n+\n+/**\n+ * Forge does this through patching the constructor instead, we just add methods with mixins instead.\n+ */\n+public interface PatchworkEntityTypeBuilderExtensions<T extends Entity> {\n+\tEntityType.Builder<T> setUpdateInterval(int interval);\n+\n+\tEntityType.Builder<T> setTrackingRange(int range);\n+\n+\tEntityType.Builder<T> setShouldReceiveVelocityUpdates(boolean value);\n+\n+\t// TODO: setCustomClientFactory", "originalCommit": "359f42cfd375c5c017c5f6f23b48acb768c7ff38", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMwOTc3NA==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r373309774", "bodyText": "Same here", "author": "coderbot16", "createdAt": "2020-01-31T04:15:32Z", "path": "patchwork-extensions/src/main/java/com/patchworkmc/impl/extension/PatchworkEntityTypeExtensions.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.impl.extension;\n+\n+import net.minecraft.entity.Entity;\n+\n+/**\n+ * Forge does this through patching the constructor instead, we just add methods with mixins instead.\n+ */\n+public interface PatchworkEntityTypeExtensions<T extends Entity> {\n+\tvoid setUpdateInterval(int interval);\n+\n+\tvoid setTrackingRange(int range);\n+\n+\tvoid setShouldReceiveVelocityUpdates(boolean value);\n+\n+\t// TODO: setCustomClientFactory", "originalCommit": "359f42cfd375c5c017c5f6f23b48acb768c7ff38", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMxMDM3Nw==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r373310377", "bodyText": "All of these Shadows appear to be unused....", "author": "coderbot16", "createdAt": "2020-01-31T04:19:47Z", "path": "patchwork-vanilla-patches/src/main/java/com/patchworkmc/mixin/patches/bugfixes/MixinEntityTypeBuilder.java", "diffHunk": "@@ -0,0 +1,81 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.mixin.patches.bugfixes;\n+\n+import com.mojang.datafixers.DSL;\n+import com.mojang.datafixers.schemas.Schema;\n+import com.mojang.datafixers.types.Type;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.spongepowered.asm.mixin.Final;\n+import org.spongepowered.asm.mixin.Mixin;\n+import org.spongepowered.asm.mixin.Shadow;\n+import org.spongepowered.asm.mixin.Unique;\n+import org.spongepowered.asm.mixin.injection.At;\n+import org.spongepowered.asm.mixin.injection.Redirect;\n+\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityCategory;\n+import net.minecraft.entity.EntityDimensions;\n+import net.minecraft.entity.EntityType;\n+\n+@Mixin(EntityType.Builder.class)\n+public abstract class MixinEntityTypeBuilder<T extends Entity> {\n+\t@Unique\n+\tprivate static final Logger LOGGER = LogManager.getLogger();\n+\n+\t@Shadow\n+\t@Final\n+\tprivate EntityType.EntityFactory<T> factory;", "originalCommit": "359f42cfd375c5c017c5f6f23b48acb768c7ff38", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "34f20db3d26b9bd38ef5cf01d8aa97db466e9fc6", "url": "https://github.com/PatchworkMC/patchwork-api/commit/34f20db3d26b9bd38ef5cf01d8aa97db466e9fc6", "message": "Reviews", "committedDate": "2020-02-01T22:10:24Z", "type": "commit"}, {"oid": "b3b7bc9d54f0d6bda3789fa0388029d84247ab46", "url": "https://github.com/PatchworkMC/patchwork-api/commit/b3b7bc9d54f0d6bda3789fa0388029d84247ab46", "message": "Move patchwork icon to proper folder in `patchwork-vanilla-patches`.", "committedDate": "2020-02-01T23:06:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2ODUxNA==", "url": "https://github.com/PatchworkMC/patchwork-api/pull/30#discussion_r373868514", "bodyText": "build should not get remapped.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t@Redirect(method = \"build\", at = @At(value = \"INVOKE\", target = \"Lcom/mojang/datafixers/schemas/Schema;getChoiceType(Lcom/mojang/datafixers/DSL$TypeReference;Ljava/lang/String;)Lcom/mojang/datafixers/types/Type;\"), remap = false)\n          \n          \n            \n            \t@Redirect(method = \"build\", at = @At(value = \"INVOKE\", target = \"Lcom/mojang/datafixers/schemas/Schema;getChoiceType(Lcom/mojang/datafixers/DSL$TypeReference;Ljava/lang/String;)Lcom/mojang/datafixers/types/Type;\", remap = false))", "author": "coderbot16", "createdAt": "2020-02-02T19:21:36Z", "path": "patchwork-vanilla-patches/src/main/java/com/patchworkmc/mixin/patches/bugfixes/MixinEntityTypeBuilder.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Minecraft Forge, Patchwork Project\n+ * Copyright (c) 2016-2020, 2019-2020\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package com.patchworkmc.mixin.patches.bugfixes;\n+\n+import com.mojang.datafixers.DSL;\n+import com.mojang.datafixers.schemas.Schema;\n+import com.mojang.datafixers.types.Type;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+import org.spongepowered.asm.mixin.Mixin;\n+import org.spongepowered.asm.mixin.Unique;\n+import org.spongepowered.asm.mixin.injection.At;\n+import org.spongepowered.asm.mixin.injection.Redirect;\n+\n+import net.minecraft.entity.Entity;\n+import net.minecraft.entity.EntityType;\n+\n+@Mixin(EntityType.Builder.class)\n+public abstract class MixinEntityTypeBuilder<T extends Entity> {\n+\t@Unique\n+\tprivate static final Logger LOGGER = LogManager.getLogger();\n+\n+\t/**\n+\t * Fixes MC-170128: Cannot build an EntityType without a datafixer due to an IllegalArgumentException.\n+\t */\n+\t@Redirect(method = \"build\", at = @At(value = \"INVOKE\", target = \"Lcom/mojang/datafixers/schemas/Schema;getChoiceType(Lcom/mojang/datafixers/DSL$TypeReference;Ljava/lang/String;)Lcom/mojang/datafixers/types/Type;\"), remap = false)", "originalCommit": "b3b7bc9d54f0d6bda3789fa0388029d84247ab46", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a1e4234966273e324175be64c354fbeed7c70991", "url": "https://github.com/PatchworkMC/patchwork-api/commit/a1e4234966273e324175be64c354fbeed7c70991", "message": "Update patchwork-vanilla-patches/src/main/java/com/patchworkmc/mixin/patches/bugfixes/MixinEntityTypeBuilder.java\n\nCo-Authored-By: coderbot16 <coderbot16@gmail.com>", "committedDate": "2020-02-02T19:44:07Z", "type": "commit"}]}