{"pr_number": 8143, "pr_title": "Add x-wso2-api-security extension", "pr_createdAt": "2020-02-03T08:45:09Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8143", "timeline": [{"oid": "dd17d7f89f9a044fc3e38d3fa5285b8d227fa949", "url": "https://github.com/wso2/carbon-apimgt/commit/dd17d7f89f9a044fc3e38d3fa5285b8d227fa949", "message": "Add x-wso2-api-security extension", "committedDate": "2020-02-03T08:40:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk3ODg1OQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8143#discussion_r373978859", "bodyText": "can you please check the charactior length is correct?", "author": "ruks", "createdAt": "2020-02-03T08:48:54Z", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS2Parser.java", "diffHunk": "@@ -527,6 +527,7 @@ public String getOASDefinitionForPublisher(API api, String oasDefinition) throws\n         if (api.getTransports() != null) {\n             swagger.setVendorExtension(APIConstants.X_WSO2_TRANSPORTS, api.getTransports().split(\",\"));\n         }\n+        swagger.setVendorExtension(APIConstants.SWAGGER_X_WSO2_API_SECURITY, OASParserUtil.getAPISecurity(api.getApiSecurity()));", "originalCommit": "dd17d7f89f9a044fc3e38d3fa5285b8d227fa949", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk3ODkyMg==", "url": "https://github.com/wso2/carbon-apimgt/pull/8143#discussion_r373978922", "bodyText": "can you please check the charactior length is correct?", "author": "ruks", "createdAt": "2020-02-03T08:49:04Z", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OAS3Parser.java", "diffHunk": "@@ -516,6 +516,7 @@ public String getOASDefinitionForPublisher(API api, String oasDefinition) throws\n         if (api.getTransports() != null) {\n             openAPI.addExtension(APIConstants.X_WSO2_TRANSPORTS, api.getTransports().split(\",\"));\n         }\n+        openAPI.addExtension(APIConstants.SWAGGER_X_WSO2_API_SECURITY, OASParserUtil.getAPISecurity(api.getApiSecurity()));", "originalCommit": "dd17d7f89f9a044fc3e38d3fa5285b8d227fa949", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk3OTMxMQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/8143#discussion_r373979311", "bodyText": "can we use a meaningful name for s? ex: security?", "author": "ruks", "createdAt": "2020-02-03T08:49:56Z", "path": "components/apimgt/org.wso2.carbon.apimgt.impl/src/main/java/org/wso2/carbon/apimgt/impl/definitions/OASParserUtil.java", "diffHunk": "@@ -1102,4 +1103,22 @@ public static void removePublisherSpecificInfo(Map<String, Object> extensions) {\n             extensions.remove(APIConstants.X_WSO2_TRANSPORTS);\n         }\n     }\n+\n+    /**\n+     * Get Application level security\n+     * @param security string\n+     * @return List of api security\n+     */\n+    public static List<String> getAPISecurity(String security){\n+        List<String> apiSecurityList = new ArrayList<>();\n+        if (security != null) {\n+            String[] securityList = security.split(\",\");\n+            for (String s : securityList) {", "originalCommit": "dd17d7f89f9a044fc3e38d3fa5285b8d227fa949", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8136561bef51c04d30b693566710e47b548190a0", "url": "https://github.com/wso2/carbon-apimgt/commit/8136561bef51c04d30b693566710e47b548190a0", "message": "Fix review comments", "committedDate": "2020-02-03T08:57:24Z", "type": "commit"}]}