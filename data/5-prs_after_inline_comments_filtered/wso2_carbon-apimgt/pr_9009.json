{"pr_number": 9009, "pr_title": "Modify gatewayRESTAPI parameters ", "pr_createdAt": "2020-07-21T07:06:37Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/9009", "timeline": [{"oid": "7955ecc73d8145d75b1d117d1e47b1686d761774", "url": "https://github.com/wso2/carbon-apimgt/commit/7955ecc73d8145d75b1d117d1e47b1686d761774", "message": "Change parameters for the REST API calls", "committedDate": "2020-07-20T17:35:47Z", "type": "commit"}, {"oid": "7dd94f42c021ad9d89b9fe6f73ff1ee20b9d5326", "url": "https://github.com/wso2/carbon-apimgt/commit/7dd94f42c021ad9d89b9fe6f73ff1ee20b9d5326", "message": "Modify deploy and undeploy resources", "committedDate": "2020-07-21T06:30:43Z", "type": "commit"}, {"oid": "581f2ced586de97fd7cbe1778dd57939a2c452aa", "url": "https://github.com/wso2/carbon-apimgt/commit/581f2ced586de97fd7cbe1778dd57939a2c452aa", "message": "Add deleted file", "committedDate": "2020-07-21T06:33:21Z", "type": "commit"}, {"oid": "b8e275caf81bae89f75164ada7f214f14fe8f37e", "url": "https://github.com/wso2/carbon-apimgt/commit/b8e275caf81bae89f75164ada7f214f14fe8f37e", "message": "Add deleted file", "committedDate": "2020-07-21T06:34:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NjMxMA==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457966310", "bodyText": "Formatting error", "author": "1akshitha", "createdAt": "2020-07-21T09:35:04Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/DeployApiApiServiceImpl.java", "diffHunk": "@@ -19,19 +19,29 @@\n package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n \n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n \n import javax.ws.rs.core.Response;\n \n import org.json.JSONObject;\n \n+import java.util.Map;\n+\n public class DeployApiApiServiceImpl implements DeployApiApiService {\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response deployApiPost(String apiName, String gatewayLabel, String apiId, MessageContext messageContext) {\n+    public Response deployApiPost(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n-        boolean status = inMemoryApiDeployer.deployAPI(apiId, gatewayLabel);\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "originalCommit": "b8e275caf81bae89f75164ada7f214f14fe8f37e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTEwMQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991101", "bodyText": "b99a273", "author": "Sarangan0219", "createdAt": "2020-07-21T10:19:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NjMxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NzczMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457967733", "bodyText": "formatting error", "author": "1akshitha", "createdAt": "2020-07-21T09:37:39Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "diffHunk": "@@ -26,22 +26,34 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.EndpointAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n import org.wso2.carbon.endpoint.EndpointAdminException;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class EndPointsApiServiceImpl implements EndPointsApiService {\n \n     private static final Log log = LogFactory.getLog(EndPointsApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response endPointsGet(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response endPointsGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "originalCommit": "b8e275caf81bae89f75164ada7f214f14fe8f37e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTA2NQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991065", "bodyText": "b99a273", "author": "Sarangan0219", "createdAt": "2020-07-21T10:18:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2NzczMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTQzNw==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457969437", "bodyText": "Don't we have this super tenant as a constant in APIConstants? If so please point to that.", "author": "1akshitha", "createdAt": "2020-07-21T09:40:38Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/LocalEntryApiServiceImpl.java", "diffHunk": "@@ -28,19 +28,29 @@\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.LocalEntryServiceProxy;\n import org.wso2.carbon.apimgt.impl.APIAdminImpl;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class LocalEntryApiServiceImpl implements LocalEntryApiService {\n \n     private static final Log log = LogFactory.getLog(LocalEntryApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";", "originalCommit": "b8e275caf81bae89f75164ada7f214f14fe8f37e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTAzOA==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991038", "bodyText": "b99a273", "author": "Sarangan0219", "createdAt": "2020-07-21T10:18:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTQzNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTk3Mg==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457969972", "bodyText": "Point to the constant in APIConstants.", "author": "1akshitha", "createdAt": "2020-07-21T09:41:33Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "diffHunk": "@@ -27,22 +27,31 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.SequenceAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class SequenceApiServiceImpl implements SequenceApiService {\n \n     private static final Log log = LogFactory.getLog(SequenceApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";", "originalCommit": "b8e275caf81bae89f75164ada7f214f14fe8f37e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MTAwMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457991003", "bodyText": "b99a273", "author": "Sarangan0219", "createdAt": "2020-07-21T10:18:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk2OTk3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDA3MA==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457970070", "bodyText": "Formatting error", "author": "1akshitha", "createdAt": "2020-07-21T09:41:41Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/SequenceApiServiceImpl.java", "diffHunk": "@@ -27,22 +27,31 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.SequenceAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class SequenceApiServiceImpl implements SequenceApiService {\n \n     private static final Log log = LogFactory.getLog(SequenceApiServiceImpl.class);\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response sequenceGet(String apiName, String label, String apiId, MessageContext messageContext) {\n-\n+    public Response sequenceGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "originalCommit": "b8e275caf81bae89f75164ada7f214f14fe8f37e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDk4MQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990981", "bodyText": "b99a273", "author": "Sarangan0219", "createdAt": "2020-07-21T10:18:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDA3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDU0MA==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457970540", "bodyText": "Formatting error", "author": "1akshitha", "createdAt": "2020-07-21T09:42:32Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/UndeployApiApiServiceImpl.java", "diffHunk": "@@ -20,16 +20,26 @@\n \n import org.json.JSONObject;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class UndeployApiApiServiceImpl implements UndeployApiApiService {\n+    private final String SUPER_TENAT_DOMAIN = \"carbon.super\";\n \n-    public Response undeployApiPost(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response undeployApiPost(String apiName, String version , String tenantDomain,\n+            MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null){\n+            tenantDomain =SUPER_TENAT_DOMAIN;", "originalCommit": "b8e275caf81bae89f75164ada7f214f14fe8f37e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDk1NQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r457990955", "bodyText": "b99a273", "author": "Sarangan0219", "createdAt": "2020-07-21T10:18:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk3MDU0MA=="}], "type": "inlineReview"}, {"oid": "b99a273017722380eaa25c62f86587c522498b9a", "url": "https://github.com/wso2/carbon-apimgt/commit/b99a273017722380eaa25c62f86587c522498b9a", "message": "Address review comments", "committedDate": "2020-07-21T10:03:50Z", "type": "commit"}, {"oid": "d3466da657fc0fc8274dcdfe8475b28056613497", "url": "https://github.com/wso2/carbon-apimgt/commit/d3466da657fc0fc8274dcdfe8475b28056613497", "message": "delete files", "committedDate": "2020-07-21T10:05:20Z", "type": "commit"}, {"oid": "69f2a5260399f23aa6626125cc57998b6bb84e0f", "url": "https://github.com/wso2/carbon-apimgt/commit/69f2a5260399f23aa6626125cc57998b6bb84e0f", "message": "resolve merge conflicts", "committedDate": "2020-07-21T10:09:38Z", "type": "commit"}, {"oid": "edb9d74ddb388c1d677d111e1102e746bf43707e", "url": "https://github.com/wso2/carbon-apimgt/commit/edb9d74ddb388c1d677d111e1102e746bf43707e", "message": "Add files", "committedDate": "2020-07-21T10:14:27Z", "type": "commit"}, {"oid": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8", "url": "https://github.com/wso2/carbon-apimgt/commit/7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8", "message": "refractor code", "committedDate": "2020-07-21T10:33:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMxMzQyMQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r497313421", "bodyText": "Do we need extra lines?", "author": "Shehanir", "createdAt": "2020-09-30T07:56:35Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/EndPointsApiServiceImpl.java", "diffHunk": "@@ -26,22 +26,33 @@\n import org.wso2.carbon.apimgt.api.gateway.GatewayContentDTO;\n import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n import org.wso2.carbon.apimgt.gateway.utils.EndpointAdminServiceProxy;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n import org.apache.cxf.jaxrs.ext.MessageContext;\n import org.wso2.carbon.apimgt.rest.api.util.utils.RestApiUtil;\n import org.wso2.carbon.endpoint.EndpointAdminException;\n \n import javax.ws.rs.core.Response;\n+import java.util.Map;\n \n public class EndPointsApiServiceImpl implements EndPointsApiService {\n \n     private static final Log log = LogFactory.getLog(EndPointsApiServiceImpl.class);\n \n-    public Response endPointsGet(String apiName, String label, String apiId, MessageContext messageContext) {\n+    public Response endPointsGet(String apiName, String version , String tenantDomain, MessageContext messageContext) {\n \n         InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null) {\n+            tenantDomain = APIConstants.SUPER_TENANT_DOMAIN;\n+        }\n+\n+        Map<String, String> apiAttributes = inMemoryApiDeployer.getGatewayAPIAttributes(apiName, version, tenantDomain);\n+        String apiId = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.API_ID);\n+        String label = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.LABEL);\n+\n         GatewayAPIDTO gatewayAPIDTO = inMemoryApiDeployer.getAPIArtifact(apiId, label);\n         JSONObject responseObj = new JSONObject();\n+", "originalCommit": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MDI4Ng==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552090286", "bodyText": "Removed in the Latest Version", "author": "Sarangan0219", "createdAt": "2021-01-05T17:44:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMxMzQyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQxMTEwOQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r497411109", "bodyText": "Shall we add license headers?", "author": "renuka-fernando", "createdAt": "2020-09-30T10:39:07Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;", "originalCommit": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MTAzMg==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552091032", "bodyText": "dfbd644", "author": "Sarangan0219", "createdAt": "2021-01-05T17:46:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQxMTEwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjEwMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r551746103", "bodyText": "Please remove the unnecessary new lines.", "author": "chamindias", "createdAt": "2021-01-05T06:49:40Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n+\n+import org.json.JSONObject;\n+import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.*;\n+\n+import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n+import org.apache.cxf.jaxrs.ext.MessageContext;\n+\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.DeployResponseDTO;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.ErrorDTO;\n+\n+import java.util.List;\n+\n+import java.io.InputStream;\n+import java.util.Map;\n+\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.core.SecurityContext;\n+\n+", "originalCommit": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MTAxMA==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552091010", "bodyText": "dfbd644", "author": "Sarangan0219", "createdAt": "2021-01-05T17:46:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjEwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjMzMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r551746333", "bodyText": "Can't we use a constant here?", "author": "chamindias", "createdAt": "2021-01-05T06:50:21Z", "path": "components/apimgt/org.wso2.carbon.apimgt.rest.api.gateway.v1/src/main/java/org/wso2/carbon/apimgt/rest/api/gateway/v1/impl/RedeployApiApiServiceImpl.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package org.wso2.carbon.apimgt.rest.api.gateway.v1.impl;\n+\n+import org.json.JSONObject;\n+import org.wso2.carbon.apimgt.gateway.InMemoryAPIDeployer;\n+import org.wso2.carbon.apimgt.impl.APIConstants;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.*;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.*;\n+\n+import org.apache.cxf.jaxrs.ext.multipart.Attachment;\n+import org.apache.cxf.jaxrs.ext.MessageContext;\n+\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.DeployResponseDTO;\n+import org.wso2.carbon.apimgt.rest.api.gateway.v1.dto.ErrorDTO;\n+\n+import java.util.List;\n+\n+import java.io.InputStream;\n+import java.util.Map;\n+\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.core.SecurityContext;\n+\n+\n+public class RedeployApiApiServiceImpl implements RedeployApiApiService {\n+\n+    public Response redeployApiPost(String apiName, String version , String tenantDomain,\n+            MessageContext messageContext) {\n+\n+        InMemoryAPIDeployer inMemoryApiDeployer = new InMemoryAPIDeployer();\n+        if (tenantDomain == null) {\n+            tenantDomain = APIConstants.SUPER_TENANT_DOMAIN;\n+        }\n+        Map<String, String> apiAttributes = inMemoryApiDeployer.getGatewayAPIAttributes(apiName, version, tenantDomain);\n+        String apiId = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.API_ID);\n+        String label = apiAttributes.get(APIConstants.GatewayArtifactSynchronizer.LABEL);\n+        boolean status = inMemoryApiDeployer.deployAPI(apiId, label);\n+\n+        JSONObject responseObj = new JSONObject();\n+        if (status) {\n+            responseObj.put(\"Message\", \"Success\");", "originalCommit": "7bc5f9c2d7bdf813d244a41d3a8c078bde6e54c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjA5MDA0NQ==", "url": "https://github.com/wso2/carbon-apimgt/pull/9009#discussion_r552090045", "bodyText": "Response Changed to apiName + \" redeployed successfully in the Gateway\" in the latest version", "author": "Sarangan0219", "createdAt": "2021-01-05T17:44:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTc0NjMzMw=="}], "type": "inlineReview"}]}