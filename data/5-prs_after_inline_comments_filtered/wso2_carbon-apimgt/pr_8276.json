{"pr_number": 8276, "pr_title": "Fix null pointer exception issue in JWT grant", "pr_createdAt": "2020-03-02T05:00:33Z", "pr_url": "https://github.com/wso2/carbon-apimgt/pull/8276", "timeline": [{"oid": "c2ca6819057dffc2477e9d01d1385fa3a58e7170", "url": "https://github.com/wso2/carbon-apimgt/commit/c2ca6819057dffc2477e9d01d1385fa3a58e7170", "message": "Fix null pointer exception issue in JWT grant", "committedDate": "2020-03-02T05:06:03Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjAzMw==", "url": "https://github.com/wso2/carbon-apimgt/pull/8276#discussion_r386202033", "bodyText": "120 character limit exceeds. Please fix in other places as well.", "author": "menakaj", "createdAt": "2020-03-02T05:23:09Z", "path": "components/apimgt/org.wso2.carbon.apimgt.keymgt/src/main/java/org/wso2/carbon/apimgt/keymgt/token/ExtendedJWTBearerGrantHandler.java", "diffHunk": "@@ -107,6 +119,26 @@\n         return ScopesIssuer.getInstance().setScopes(tokReqMsgCtx);\n     }\n \n+    private IdentityProvider getResidentIDPForIssuer(String tenantDomain, String jwtIssuer) throws IdentityOAuth2Exception {\n+        String issuer = \"\";\n+\n+        IdentityProvider residentIdentityProvider;\n+        try {\n+            residentIdentityProvider = IdentityProviderManager.getInstance().getResidentIdP(tenantDomain);\n+        } catch (IdentityProviderManagementException var7) {\n+            String errorMsg = String.format(\"Error while getting Resident Identity Provider of '%s' tenant.\", tenantDomain);\n+            throw new IdentityOAuth2Exception(errorMsg, var7);\n+        }\n+\n+        FederatedAuthenticatorConfig[] fedAuthnConfigs = residentIdentityProvider.getFederatedAuthenticatorConfigs();\n+        FederatedAuthenticatorConfig oauthAuthenticatorConfig = IdentityApplicationManagementUtil.getFederatedAuthenticator(fedAuthnConfigs, \"openidconnect\");", "originalCommit": "c2ca6819057dffc2477e9d01d1385fa3a58e7170", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjc3MA==", "url": "https://github.com/wso2/carbon-apimgt/pull/8276#discussion_r386202770", "bodyText": "resolved", "author": "CrowleyRajapakse", "createdAt": "2020-03-02T05:27:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwMjAzMw=="}], "type": "inlineReview"}, {"oid": "1edb85d59b751c9fa881213d2505ce2fe26179ad", "url": "https://github.com/wso2/carbon-apimgt/commit/1edb85d59b751c9fa881213d2505ce2fe26179ad", "message": "Fix null pointer exception issue in JWT grant", "committedDate": "2020-03-02T05:25:53Z", "type": "commit"}, {"oid": "1edb85d59b751c9fa881213d2505ce2fe26179ad", "url": "https://github.com/wso2/carbon-apimgt/commit/1edb85d59b751c9fa881213d2505ce2fe26179ad", "message": "Fix null pointer exception issue in JWT grant", "committedDate": "2020-03-02T05:25:53Z", "type": "forcePushed"}]}