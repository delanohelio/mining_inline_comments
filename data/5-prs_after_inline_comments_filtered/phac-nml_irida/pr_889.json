{"pr_number": 889, "pr_title": "Pipeline Launch: File Selection", "pr_createdAt": "2020-12-14T17:13:49Z", "pr_url": "https://github.com/phac-nml/irida/pull/889", "timeline": [{"oid": "b5c0858f4942fcaba9afcd0df6beaeb5a0eb4618", "url": "https://github.com/phac-nml/irida/commit/b5c0858f4942fcaba9afcd0df6beaeb5a0eb4618", "message": "Change the layout based on the width", "committedDate": "2020-11-26T16:57:49Z", "type": "commit"}, {"oid": "42d088062e5fe053ad3039c2feabb86c43b02053", "url": "https://github.com/phac-nml/irida/commit/42d088062e5fe053ad3039c2feabb86c43b02053", "message": "Working on tabs for smaller displays", "committedDate": "2020-11-26T17:50:37Z", "type": "commit"}, {"oid": "e4d455ccb2fe50e4e981ce7bbb7818c2732e5c42", "url": "https://github.com/phac-nml/irida/commit/e4d455ccb2fe50e4e981ce7bbb7818c2732e5c42", "message": "WOrking on getting files", "committedDate": "2020-11-26T20:02:53Z", "type": "commit"}, {"oid": "58e7eeba3434704f94686f04adea221578adf469", "url": "https://github.com/phac-nml/irida/commit/58e7eeba3434704f94686f04adea221578adf469", "message": "Merge branch 'cart-sample-details' into launch_files\n\n# Conflicts:\n#\tsrc/main/webapp/resources/js/components/files/DragUpload.jsx\n#\tsrc/main/webapp/resources/js/components/icons/Icons.jsx\n#\tsrc/main/webapp/resources/js/pages/projects/reference-files/ReferenceFiles.jsx", "committedDate": "2020-12-07T15:47:30Z", "type": "commit"}, {"oid": "95d36a66cb5b6a2c9765a8c20a0aae82e7df9bdb", "url": "https://github.com/phac-nml/irida/commit/95d36a66cb5b6a2c9765a8c20a0aae82e7df9bdb", "message": "Starting to work on the server calls for files", "committedDate": "2020-12-07T17:07:32Z", "type": "commit"}, {"oid": "50ea1e8d5a1be5a57e922d44001137a4101d7ceb", "url": "https://github.com/phac-nml/irida/commit/50ea1e8d5a1be5a57e922d44001137a4101d7ceb", "message": "Merge branch 'cart-sample-details' into launch_files", "committedDate": "2020-12-07T20:46:02Z", "type": "commit"}, {"oid": "c0efdfff0d788820e0568348dfc2fe005fcf0956", "url": "https://github.com/phac-nml/irida/commit/c0efdfff0d788820e0568348dfc2fe005fcf0956", "message": "Get sample details from server", "committedDate": "2020-12-07T20:47:41Z", "type": "commit"}, {"oid": "ddce28d7aeab8868bf1e650eba61ddf5c59b66e5", "url": "https://github.com/phac-nml/irida/commit/ddce28d7aeab8868bf1e650eba61ddf5c59b66e5", "message": "Merge branch 'cart-sample-details' into launch_files", "committedDate": "2020-12-08T16:51:48Z", "type": "commit"}, {"oid": "81d92d3ea5d8c936a67c216743ed4e3c46beba76", "url": "https://github.com/phac-nml/irida/commit/81d92d3ea5d8c936a67c216743ed4e3c46beba76", "message": "Display samples and files to be run on the pipeline.\n\nHide samples that cannot be run by default.", "committedDate": "2020-12-09T13:09:12Z", "type": "commit"}, {"oid": "283661a7934799b0283a0d6220ed88bff4b8d1f2", "url": "https://github.com/phac-nml/irida/commit/283661a7934799b0283a0d6220ed88bff4b8d1f2", "message": "Remove sample directly on the page", "committedDate": "2020-12-09T14:17:33Z", "type": "commit"}, {"oid": "e579edf6c73e441707ea9eef677de914dc21fef8", "url": "https://github.com/phac-nml/irida/commit/e579edf6c73e441707ea9eef677de914dc21fef8", "message": "Always use a key on lists!!", "committedDate": "2020-12-09T22:51:52Z", "type": "commit"}, {"oid": "e94d9ec564402582a4afee4350da084a0408d7af", "url": "https://github.com/phac-nml/irida/commit/e94d9ec564402582a4afee4350da084a0408d7af", "message": "Fixed styling issues with DragUpload", "committedDate": "2020-12-10T01:58:03Z", "type": "commit"}, {"oid": "cb120a54b82a141b1d01cfc06324273478fec43b", "url": "https://github.com/phac-nml/irida/commit/cb120a54b82a141b1d01cfc06324273478fec43b", "message": "Merge branch 'cart-sample-details' into launch_files\n\n# Conflicts:\n#\tsrc/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UISampleService.java\n#\tsrc/main/resources/i18n/messages.properties\n#\tsrc/main/webapp/package.json\n#\tsrc/main/webapp/yarn.lock", "committedDate": "2020-12-10T20:37:44Z", "type": "commit"}, {"oid": "4552002dac573d8ad4fcc1f89195a2e03756c92d", "url": "https://github.com/phac-nml/irida/commit/4552002dac573d8ad4fcc1f89195a2e03756c92d", "message": "Cleaning up merge", "committedDate": "2020-12-10T20:55:49Z", "type": "commit"}, {"oid": "59a0394d0fb796032fac2275fd5b80b4145b9ffa", "url": "https://github.com/phac-nml/irida/commit/59a0394d0fb796032fac2275fd5b80b4145b9ffa", "message": "Merge branch 'cart-sample-details' into launch_files", "committedDate": "2020-12-11T13:54:37Z", "type": "commit"}, {"oid": "03b12caad23c11babb45e50b4c4c47ca35242dbf", "url": "https://github.com/phac-nml/irida/commit/03b12caad23c11babb45e50b4c4c47ca35242dbf", "message": "Merge branch 'cart-sample-details' into launch_files", "committedDate": "2020-12-14T14:57:58Z", "type": "commit"}, {"oid": "afe37c655e2c3f6fede9e2af37d8b95bfd87b1c8", "url": "https://github.com/phac-nml/irida/commit/afe37c655e2c3f6fede9e2af37d8b95bfd87b1c8", "message": "Fixed merge conflict", "committedDate": "2020-12-14T17:08:43Z", "type": "commit"}, {"oid": "717e47c52f30ffd399627906c526b75e7d121636", "url": "https://github.com/phac-nml/irida/commit/717e47c52f30ffd399627906c526b75e7d121636", "message": "Merge branch 'cart-sample-details' into launch_files", "committedDate": "2020-12-15T13:12:20Z", "type": "commit"}, {"oid": "ea8f6c0f52bca3bd54f735f453829bb788859dd0", "url": "https://github.com/phac-nml/irida/commit/ea8f6c0f52bca3bd54f735f453829bb788859dd0", "message": "Matching radio select", "committedDate": "2020-12-15T15:06:06Z", "type": "commit"}, {"oid": "5f518533ac8a57ee5cee4ab14112d10eac6fec26", "url": "https://github.com/phac-nml/irida/commit/5f518533ac8a57ee5cee4ab14112d10eac6fec26", "message": "Standardize the way block radio items are displayed", "committedDate": "2020-12-15T18:50:34Z", "type": "commit"}, {"oid": "36e97ffbd70894f31dd4b7934dbf7b59a1e6b897", "url": "https://github.com/phac-nml/irida/commit/36e97ffbd70894f31dd4b7934dbf7b59a1e6b897", "message": "Merge branch 'launch__base' into launch_files\n\n# Conflicts:\n#\tsrc/main/webapp/resources/js/pages/launch/LaunchContent.jsx\n#\tsrc/main/webapp/resources/js/pages/projects/reference-files/ReferenceFiles.jsx", "committedDate": "2020-12-15T19:00:52Z", "type": "commit"}, {"oid": "48c0bdd6ee0ed70cef1f0470349a0512507a3e7d", "url": "https://github.com/phac-nml/irida/commit/48c0bdd6ee0ed70cef1f0470349a0512507a3e7d", "message": "Fixed some merge issues", "committedDate": "2020-12-15T19:41:57Z", "type": "commit"}, {"oid": "58aab3147973238c7c5357acdd26a66dba7d554c", "url": "https://github.com/phac-nml/irida/commit/58aab3147973238c7c5357acdd26a66dba7d554c", "message": "Added JavaDoc", "committedDate": "2020-12-15T19:49:30Z", "type": "commit"}, {"oid": "6285158832ef8f2a7f50d8ee07b2be5d29e94fb3", "url": "https://github.com/phac-nml/irida/commit/6285158832ef8f2a7f50d8ee07b2be5d29e94fb3", "message": "Commented on why internal Project class", "committedDate": "2020-12-15T19:51:37Z", "type": "commit"}, {"oid": "f0e21f915b1b9ec422b15fcf9eac338013f284f7", "url": "https://github.com/phac-nml/irida/commit/f0e21f915b1b9ec422b15fcf9eac338013f284f7", "message": "Updated JavaDoc and removed unused method", "committedDate": "2020-12-15T20:10:10Z", "type": "commit"}, {"oid": "0f6918d1a7b8f977e18afeeeb3d60a59024fefd2", "url": "https://github.com/phac-nml/irida/commit/0f6918d1a7b8f977e18afeeeb3d60a59024fefd2", "message": "Updated JavaDoc", "committedDate": "2020-12-15T20:13:28Z", "type": "commit"}, {"oid": "0c013819e6ce80b7b313b1e77444a6c1c53e8f57", "url": "https://github.com/phac-nml/irida/commit/0c013819e6ce80b7b313b1e77444a6c1c53e8f57", "message": "Updated JSDoc and fix error handling", "committedDate": "2020-12-15T20:16:40Z", "type": "commit"}, {"oid": "293c4e529ee2b2911410696be48a4af17c911ad5", "url": "https://github.com/phac-nml/irida/commit/293c4e529ee2b2911410696be48a4af17c911ad5", "message": "Updated JSDoc", "committedDate": "2020-12-15T20:18:23Z", "type": "commit"}, {"oid": "2a2c24cd5b93f7399b64e2de86eb266e38904e4d", "url": "https://github.com/phac-nml/irida/commit/2a2c24cd5b93f7399b64e2de86eb266e38904e4d", "message": "Properly pass id attribute to react component", "committedDate": "2020-12-15T20:23:45Z", "type": "commit"}, {"oid": "e2deee63f4243e07049bf827bf5ef761f38e2c3f", "url": "https://github.com/phac-nml/irida/commit/e2deee63f4243e07049bf827bf5ef761f38e2c3f", "message": "Moved section header to proper folder", "committedDate": "2020-12-15T20:25:44Z", "type": "commit"}, {"oid": "9a0520053225f919158f1a4339fea9696dec7e92", "url": "https://github.com/phac-nml/irida/commit/9a0520053225f919158f1a4339fea9696dec7e92", "message": "Updated JSDoc", "committedDate": "2020-12-15T20:27:19Z", "type": "commit"}, {"oid": "9e53f76ac26ee009d510c2d8b09ffcf3eeb8c300", "url": "https://github.com/phac-nml/irida/commit/9e53f76ac26ee009d510c2d8b09ffcf3eeb8c300", "message": "Updated JavaDoc", "committedDate": "2020-12-15T20:42:19Z", "type": "commit"}, {"oid": "202f99d72b909bfffd861d2137a341819be9b293", "url": "https://github.com/phac-nml/irida/commit/202f99d72b909bfffd861d2137a341819be9b293", "message": "Fixed JavaDoc errors", "committedDate": "2020-12-16T11:03:35Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjAyMTk0Mw==", "url": "https://github.com/phac-nml/irida/pull/889#discussion_r546021943", "bodyText": "Change variable ls to launchSample or something to make it more clear", "author": "deepsidhu85", "createdAt": "2020-12-18T18:46:59Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIPipelineSampleService.java", "diffHunk": "@@ -0,0 +1,56 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.services;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Map;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+\n+import ca.corefacility.bioinformatics.irida.model.project.Project;\n+import ca.corefacility.bioinformatics.irida.model.sample.Sample;\n+import ca.corefacility.bioinformatics.irida.model.sequenceFile.SequencingObject;\n+import ca.corefacility.bioinformatics.irida.ria.web.launchPipeline.dtos.LaunchSample;\n+\n+/**\n+ * UI Service for all things related to samples within the pipeline\n+ */\n+@Component\n+public class UIPipelineSampleService {\n+\tprivate final UISampleService sampleService;\n+\tprivate final UICartService cartService;\n+\n+\t@Autowired\n+\tpublic UIPipelineSampleService(UISampleService sampleService, UICartService cartService) {\n+\t\tthis.sampleService = sampleService;\n+\t\tthis.cartService = cartService;\n+\t}\n+\n+\t/**\n+\t * Get a list of the samples that are in the cart and get their associated sequence files that\n+\t * can be used on the current pipeline\n+\t *\n+\t * @param paired  Whether paired end files can be run on the current pipeline\n+\t * @param singles Whether single end files can be run on the current pipeline\n+\t * @return list of samples containing their associated sequencing data\n+\t */\n+\tpublic List<LaunchSample> getPipelineSamples(boolean paired, boolean singles) {\n+\t\tMap<Project, List<Sample>> cart = cartService.getFullCart();\n+\t\tList<LaunchSample> samples = new ArrayList<>();\n+\t\tcart.forEach((project, projectSamples) -> {\n+\t\t\tfor (Sample sample : projectSamples) {\n+\t\t\t\tLaunchSample ls = new LaunchSample(sample, project);", "originalCommit": "202f99d72b909bfffd861d2137a341819be9b293", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA2Mzg2Ng==", "url": "https://github.com/phac-nml/irida/pull/889#discussion_r546063866", "bodyText": "Updated in 816dd5f", "author": "joshsadam", "createdAt": "2020-12-18T20:02:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjAyMTk0Mw=="}], "type": "inlineReview"}, {"oid": "12c3073e466016cf65502b0063b414c85a846a59", "url": "https://github.com/phac-nml/irida/commit/12c3073e466016cf65502b0063b414c85a846a59", "message": "Cleaned up section headings", "committedDate": "2020-12-18T19:57:35Z", "type": "commit"}, {"oid": "c22841d88426c7aff7446e90af83e91ad7044b53", "url": "https://github.com/phac-nml/irida/commit/c22841d88426c7aff7446e90af83e91ad7044b53", "message": "Removed unused notifications import", "committedDate": "2020-12-18T19:58:27Z", "type": "commit"}, {"oid": "816dd5f6219aa976df98061c945d3d578c9dbac5", "url": "https://github.com/phac-nml/irida/commit/816dd5f6219aa976df98061c945d3d578c9dbac5", "message": "Updated variable name", "committedDate": "2020-12-18T20:02:15Z", "type": "commit"}, {"oid": "6da8d9bff13a33be6bceec4b4f0a2a30a50ed075", "url": "https://github.com/phac-nml/irida/commit/6da8d9bff13a33be6bceec4b4f0a2a30a50ed075", "message": "Updated variable anme to make more readable", "committedDate": "2020-12-18T20:05:37Z", "type": "commit"}, {"oid": "ab4014ebb2261779550f82d5caffb6c5e7d95abf", "url": "https://github.com/phac-nml/irida/commit/ab4014ebb2261779550f82d5caffb6c5e7d95abf", "message": "Updated variable name", "committedDate": "2020-12-18T20:08:33Z", "type": "commit"}, {"oid": "1f439228120aafd4fb6c7818526a305e0498fc0e", "url": "https://github.com/phac-nml/irida/commit/1f439228120aafd4fb6c7818526a305e0498fc0e", "message": "Updated variable name.\n\nRemoved my favourite letter 's'", "committedDate": "2020-12-18T20:12:48Z", "type": "commit"}, {"oid": "36217e186faf24e3afa542f73527c487c7048c32", "url": "https://github.com/phac-nml/irida/commit/36217e186faf24e3afa542f73527c487c7048c32", "message": "Updated JSDoc", "committedDate": "2020-12-18T20:26:29Z", "type": "commit"}]}