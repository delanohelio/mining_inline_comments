{"pr_number": 805, "pr_title": "Fix remote oath for remote connections", "pr_createdAt": "2020-09-18T01:53:26Z", "pr_url": "https://github.com/phac-nml/irida/pull/805", "timeline": [{"oid": "700deb532176abba8120b7ae8ada6ce88936923b", "url": "https://github.com/phac-nml/irida/commit/700deb532176abba8120b7ae8ada6ce88936923b", "message": "Merge branch 'FIX-remote-oath' of github.com:phac-nml/irida into FIX-remote-oath", "committedDate": "2020-09-21T13:40:42Z", "type": "commit"}, {"oid": "970abad05c821aecdb2edf803a3fb790763097bd", "url": "https://github.com/phac-nml/irida/commit/970abad05c821aecdb2edf803a3fb790763097bd", "message": "Removed unused variable in test", "committedDate": "2020-09-21T13:45:44Z", "type": "commit"}, {"oid": "dd1ce1a96974ae9fa69d31c97b812766a173be2e", "url": "https://github.com/phac-nml/irida/commit/dd1ce1a96974ae9fa69d31c97b812766a173be2e", "message": "Removed unused imports and variable", "committedDate": "2020-09-21T13:57:28Z", "type": "commit"}, {"oid": "dd60eba4bae1e652711ef39c17a61b44b42bfdaf", "url": "https://github.com/phac-nml/irida/commit/dd60eba4bae1e652711ef39c17a61b44b42bfdaf", "message": "\ud83d\udea7 Updated remote connection details page.", "committedDate": "2020-09-09T12:34:34Z", "type": "commit"}, {"oid": "a5a804b8bf56f9cad1e10fcfb001f26364780575", "url": "https://github.com/phac-nml/irida/commit/a5a804b8bf56f9cad1e10fcfb001f26364780575", "message": "\ud83d\udcd7 Updated JavaDoc", "committedDate": "2020-09-09T14:55:23Z", "type": "commit"}, {"oid": "994dbb1902d018170f61e02876e864f6e8c8fade", "url": "https://github.com/phac-nml/irida/commit/994dbb1902d018170f61e02876e864f6e8c8fade", "message": "\ud83d\udcd7 Updated JavaDoc", "committedDate": "2020-09-09T15:02:05Z", "type": "commit"}, {"oid": "99ea6117a2773524876f60bb0e4b845b5c9d3f06", "url": "https://github.com/phac-nml/irida/commit/99ea6117a2773524876f60bb0e4b845b5c9d3f06", "message": "\ud83d\udcd7 Updated JavaDoc", "committedDate": "2020-09-09T15:50:26Z", "type": "commit"}, {"oid": "8e634696cffb8aeadb23c228056c7be5dd420280", "url": "https://github.com/phac-nml/irida/commit/8e634696cffb8aeadb23c228056c7be5dd420280", "message": "\ud83d\udea7 Looked down ajax paths only for admins", "committedDate": "2020-09-09T15:51:40Z", "type": "commit"}, {"oid": "1413227d5888e60467a0637e70d8f607bde27718", "url": "https://github.com/phac-nml/irida/commit/1413227d5888e60467a0637e70d8f607bde27718", "message": "\ud83d\udea7 Fixed path after creating a new remote connection", "committedDate": "2020-09-09T16:04:28Z", "type": "commit"}, {"oid": "620994a816bca35a7150cffe62ed268ee1ffb3be", "url": "https://github.com/phac-nml/irida/commit/620994a816bca35a7150cffe62ed268ee1ffb3be", "message": "\ud83d\udea7 Fixed hard coded identifier", "committedDate": "2020-09-09T16:04:45Z", "type": "commit"}, {"oid": "90c859aa406b78b724c4b7682b660ad42ac42b53", "url": "https://github.com/phac-nml/irida/commit/90c859aa406b78b724c4b7682b660ad42ac42b53", "message": "\u267b\ufe0f Cleaned up unused files and webpack entry", "committedDate": "2020-09-09T16:08:14Z", "type": "commit"}, {"oid": "628e59aa465049da8d78d273f3f5fbd5b92533f9", "url": "https://github.com/phac-nml/irida/commit/628e59aa465049da8d78d273f3f5fbd5b92533f9", "message": "\ud83d\udcdd Updated JSDoc", "committedDate": "2020-09-09T16:28:06Z", "type": "commit"}, {"oid": "8df8f1dbe5f7ba343bb37296ee9d03b42c26c182", "url": "https://github.com/phac-nml/irida/commit/8df8f1dbe5f7ba343bb37296ee9d03b42c26c182", "message": "\ud83d\udea7 Removed commented out code block", "committedDate": "2020-09-09T16:35:50Z", "type": "commit"}, {"oid": "a848423295157e8125533affc78c322123458f19", "url": "https://github.com/phac-nml/irida/commit/a848423295157e8125533affc78c322123458f19", "message": "\ud83d\udea7 Fixed code formatting", "committedDate": "2020-09-09T16:36:23Z", "type": "commit"}, {"oid": "15ca7648d06578c1ef1fb03927490f9c6c93638c", "url": "https://github.com/phac-nml/irida/commit/15ca7648d06578c1ef1fb03927490f9c6c93638c", "message": "\ud83d\udc7d Updated i18n", "committedDate": "2020-09-09T18:06:47Z", "type": "commit"}, {"oid": "094f2e5d5b21b211c45905e3efb57309cf50e7a1", "url": "https://github.com/phac-nml/irida/commit/094f2e5d5b21b211c45905e3efb57309cf50e7a1", "message": "Merge branch 'development' into FIX-remote-oauth-CLIENT_DETAILS", "committedDate": "2020-09-10T11:26:36Z", "type": "commit"}, {"oid": "0af75a361185e9cabb1509974ee933681eb258d2", "url": "https://github.com/phac-nml/irida/commit/0af75a361185e9cabb1509974ee933681eb258d2", "message": ":white_check_mark: Update UI Tests", "committedDate": "2020-09-10T14:27:19Z", "type": "commit"}, {"oid": "6243aec5aa412933762090ef6229179dab7eac7b", "url": "https://github.com/phac-nml/irida/commit/6243aec5aa412933762090ef6229179dab7eac7b", "message": ":white_check_mark: Fixed broken tests", "committedDate": "2020-09-10T15:00:01Z", "type": "commit"}, {"oid": "90949c31cd12831dc08bb5ebfeca503887f29463", "url": "https://github.com/phac-nml/irida/commit/90949c31cd12831dc08bb5ebfeca503887f29463", "message": ":white_check_mark: Fixed broken test", "committedDate": "2020-09-10T16:07:14Z", "type": "commit"}, {"oid": "ce1181cbe25a65976f89078de42dd74ea42225b1", "url": "https://github.com/phac-nml/irida/commit/ce1181cbe25a65976f89078de42dd74ea42225b1", "message": "\ud83d\udea7 Ignore these tests, implement again on next branch", "committedDate": "2020-09-10T17:49:07Z", "type": "commit"}, {"oid": "b0798b53ce9725e51d93ccab62a45c48cba0bef5", "url": "https://github.com/phac-nml/irida/commit/b0798b53ce9725e51d93ccab62a45c48cba0bef5", "message": ":white_check_mark: Fixed broken test", "committedDate": "2020-09-10T18:36:28Z", "type": "commit"}, {"oid": "d1ddb3bce2ef058439f46723926917dda86dd217", "url": "https://github.com/phac-nml/irida/commit/d1ddb3bce2ef058439f46723926917dda86dd217", "message": "Ignore broken tests.", "committedDate": "2020-09-10T18:47:25Z", "type": "commit"}, {"oid": "389e0c8e0180920907a6caf234ea154e235db04c", "url": "https://github.com/phac-nml/irida/commit/389e0c8e0180920907a6caf234ea154e235db04c", "message": ":construction: Working fetch projects when switching apis", "committedDate": "2020-09-11T12:07:08Z", "type": "commit"}, {"oid": "ffce86308d56cb0bdcafea2672cdc2d80780d956", "url": "https://github.com/phac-nml/irida/commit/ffce86308d56cb0bdcafea2672cdc2d80780d956", "message": ":construction: Working create remote.:construction:\n\nStill needs to have redirect and errors set up.", "committedDate": "2020-09-11T17:45:46Z", "type": "commit"}, {"oid": "b1767b6f742f5b51dbae7c587cf188f7fc7abc57", "url": "https://github.com/phac-nml/irida/commit/b1767b6f742f5b51dbae7c587cf188f7fc7abc57", "message": ":construction: Working with redirect", "committedDate": "2020-09-11T17:53:17Z", "type": "commit"}, {"oid": "3ebb66ddad4ecfc119e870092b558679b548b252", "url": "https://github.com/phac-nml/irida/commit/3ebb66ddad4ecfc119e870092b558679b548b252", "message": ":memo: Updated CHANGELOG.md", "committedDate": "2020-09-11T18:08:14Z", "type": "commit"}, {"oid": "e44c7e70d89ea0bee0892c95ff49b3f005ff4eb4", "url": "https://github.com/phac-nml/irida/commit/e44c7e70d89ea0bee0892c95ff49b3f005ff4eb4", "message": ":recycle: Cleaning up old code and updating i18n", "committedDate": "2020-09-11T18:33:32Z", "type": "commit"}, {"oid": "0e65dc7c8ad6eacb9c1707f0d0e61474a83936db", "url": "https://github.com/phac-nml/irida/commit/0e65dc7c8ad6eacb9c1707f0d0e61474a83936db", "message": ":recycle: Removed unused method calls", "committedDate": "2020-09-14T11:26:33Z", "type": "commit"}, {"oid": "2ec33e76113a2299b092ea14a0beeb6c8e1e3ec2", "url": "https://github.com/phac-nml/irida/commit/2ec33e76113a2299b092ea14a0beeb6c8e1e3ec2", "message": ":bulb: Updated JavaDoc", "committedDate": "2020-09-14T12:32:11Z", "type": "commit"}, {"oid": "32e2ad220274e602ab45fbd4e68d0a07db969c5a", "url": "https://github.com/phac-nml/irida/commit/32e2ad220274e602ab45fbd4e68d0a07db969c5a", "message": ":white_check_mark: Updated service testing", "committedDate": "2020-09-14T12:37:49Z", "type": "commit"}, {"oid": "c78cd65b81b6a59f4958b43b532e5786b9408b33", "url": "https://github.com/phac-nml/irida/commit/c78cd65b81b6a59f4958b43b532e5786b9408b33", "message": ":construction: Add check to see if the token is expired.", "committedDate": "2020-09-14T15:01:12Z", "type": "commit"}, {"oid": "97af6a369f9c335b1fb56bf2f519398f55316f0e", "url": "https://github.com/phac-nml/irida/commit/97af6a369f9c335b1fb56bf2f519398f55316f0e", "message": "Merge branch 'FIX-remote-oauth-CLIENT_DETAILS' into FIX-remoate-oath-CREATE_REMOTE_PROJECT\n\n# Conflicts:\n#\tsrc/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIRemoteAPIService.java", "committedDate": "2020-09-14T15:14:05Z", "type": "commit"}, {"oid": "5fd394498c4cc6d5e46a16d1055787e6895f1633", "url": "https://github.com/phac-nml/irida/commit/5fd394498c4cc6d5e46a16d1055787e6895f1633", "message": ":construction: Cleaned up imports from merge", "committedDate": "2020-09-14T16:03:25Z", "type": "commit"}, {"oid": "0ba73ad0e6d12451424eaa56c29e1200da12f8ed", "url": "https://github.com/phac-nml/irida/commit/0ba73ad0e6d12451424eaa56c29e1200da12f8ed", "message": ":construction: Fixed removed page request", "committedDate": "2020-09-14T16:22:04Z", "type": "commit"}, {"oid": "9d4782802e91e49d4a912d2e5e422561250aaa51", "url": "https://github.com/phac-nml/irida/commit/9d4782802e91e49d4a912d2e5e422561250aaa51", "message": ":memo: Fixed typo in CHANGELOG.md", "committedDate": "2020-09-14T17:27:38Z", "type": "commit"}, {"oid": "3b17dd0bdc30ef487b860880c60e059b8ccbd2ac", "url": "https://github.com/phac-nml/irida/commit/3b17dd0bdc30ef487b860880c60e059b8ccbd2ac", "message": ":bulb: Updated JavaDoc", "committedDate": "2020-09-14T17:39:26Z", "type": "commit"}, {"oid": "f41b1d6c59ec6d875bd65693071965cd3e39965f", "url": "https://github.com/phac-nml/irida/commit/f41b1d6c59ec6d875bd65693071965cd3e39965f", "message": ":construction: Updated request to create remote project with better enum support", "committedDate": "2020-09-14T17:58:05Z", "type": "commit"}, {"oid": "5b4cb7fbb52a1cee26cbb096b064961ddace1d61", "url": "https://github.com/phac-nml/irida/commit/5b4cb7fbb52a1cee26cbb096b064961ddace1d61", "message": ":memo: Fixed typo", "committedDate": "2020-09-14T18:13:38Z", "type": "commit"}, {"oid": "6776d1b0c0a53952420effbd5a157263be78b4e6", "url": "https://github.com/phac-nml/irida/commit/6776d1b0c0a53952420effbd5a157263be78b4e6", "message": ":memo: Fixed typo", "committedDate": "2020-09-14T18:15:25Z", "type": "commit"}, {"oid": "80ebcbb567a318e20b3e7437e9884cd80440ecf4", "url": "https://github.com/phac-nml/irida/commit/80ebcbb567a318e20b3e7437e9884cd80440ecf4", "message": ":construction: removed old angular reference and page variables", "committedDate": "2020-09-14T18:33:08Z", "type": "commit"}, {"oid": "7bfe2c4a7fa552679b66d3a8884f3d115c0701ac", "url": "https://github.com/phac-nml/irida/commit/7bfe2c4a7fa552679b66d3a8884f3d115c0701ac", "message": ":construction: Seperated out the create form", "committedDate": "2020-09-14T18:55:58Z", "type": "commit"}, {"oid": "2e654ab99b60e780b635f9ec402c3381298b7609", "url": "https://github.com/phac-nml/irida/commit/2e654ab99b60e780b635f9ec402c3381298b7609", "message": ":construction: This was added to the wrong page", "committedDate": "2020-09-15T10:38:28Z", "type": "commit"}, {"oid": "e9e1554b9a578679e6f94a30b7745e7a8ca7be11", "url": "https://github.com/phac-nml/irida/commit/e9e1554b9a578679e6f94a30b7745e7a8ca7be11", "message": ":construction: Fixed issue with sync frequencies", "committedDate": "2020-09-15T11:32:25Z", "type": "commit"}, {"oid": "f261953c51a7511b4f0f5365c5a707e2ba964b8b", "url": "https://github.com/phac-nml/irida/commit/f261953c51a7511b4f0f5365c5a707e2ba964b8b", "message": ":memo: Updated CHANGELOG.md", "committedDate": "2020-09-15T11:40:15Z", "type": "commit"}, {"oid": "1bed89508ebc796091a80d8e68a964fdd9676377", "url": "https://github.com/phac-nml/irida/commit/1bed89508ebc796091a80d8e68a964fdd9676377", "message": "Merge branch 'FIX-remote-oauth-CLIENT_DETAILS' into FIX-remoate-oath-CREATE_REMOTE_PROJECT\n\n# Conflicts:\n#\tCHANGELOG.md", "committedDate": "2020-09-15T11:40:53Z", "type": "commit"}, {"oid": "c1a7990bd9d94aa551b0410b1fda607a67fc8936", "url": "https://github.com/phac-nml/irida/commit/c1a7990bd9d94aa551b0410b1fda607a67fc8936", "message": ":construction: Fixed issue with center popup window on screen", "committedDate": "2020-09-15T13:16:02Z", "type": "commit"}, {"oid": "ac8d0804c0d4ddf25e5ce842583b2ad1b8497e4a", "url": "https://github.com/phac-nml/irida/commit/ac8d0804c0d4ddf25e5ce842583b2ad1b8497e4a", "message": ":bulb: Fixed typo in CreateRemoteProjectRequest docs", "committedDate": "2020-09-15T14:33:56Z", "type": "commit"}, {"oid": "dfa5eb9b72f9eaa86543808399d04478990f3f19", "url": "https://github.com/phac-nml/irida/commit/dfa5eb9b72f9eaa86543808399d04478990f3f19", "message": "Updated remote project sync settings page to use ant design and react. Updated CHANGELOG", "committedDate": "2020-09-15T15:02:06Z", "type": "commit"}, {"oid": "093d796b9ac509052ebe935171e839d857c9c5ad", "url": "https://github.com/phac-nml/irida/commit/093d796b9ac509052ebe935171e839d857c9c5ad", "message": "Merge pull request #797 from phac-nml/FIX-remote-oauth-CLIENT_DETAILS\n\nFix remote oauth remote connection details", "committedDate": "2020-09-15T15:06:43Z", "type": "commit"}, {"oid": "26a8c51a985225f5d437842d7001c65d15ab100c", "url": "https://github.com/phac-nml/irida/commit/26a8c51a985225f5d437842d7001c65d15ab100c", "message": "Merged in create remote project branch", "committedDate": "2020-09-15T15:12:06Z", "type": "commit"}, {"oid": "e6279225572747be61cfd7b03fbda8dfb5e6e536", "url": "https://github.com/phac-nml/irida/commit/e6279225572747be61cfd7b03fbda8dfb5e6e536", "message": ":white_check_mark: Fixed broken tests", "committedDate": "2020-09-15T15:53:02Z", "type": "commit"}, {"oid": "585c70733be6286d5dae2c90f1fbdaffcb590ef3", "url": "https://github.com/phac-nml/irida/commit/585c70733be6286d5dae2c90f1fbdaffcb590ef3", "message": "Merge branch 'FIX-remote-oath' into FIX-remoate-oath-CREATE_REMOTE_PROJECT", "committedDate": "2020-09-15T17:02:05Z", "type": "commit"}, {"oid": "54b94c5c35432332250094d188eaa406e7c1e38b", "url": "https://github.com/phac-nml/irida/commit/54b94c5c35432332250094d188eaa406e7c1e38b", "message": "Removed file no longer needed", "committedDate": "2020-09-15T17:19:35Z", "type": "commit"}, {"oid": "cf21801406f8704b290fe2765b38dd26ac6bd17f", "url": "https://github.com/phac-nml/irida/commit/cf21801406f8704b290fe2765b38dd26ac6bd17f", "message": ":fire: This class was not used anymore", "committedDate": "2020-09-15T17:23:12Z", "type": "commit"}, {"oid": "76197dc4c28387a4bfb35cc6133e5ae2b0044731", "url": "https://github.com/phac-nml/irida/commit/76197dc4c28387a4bfb35cc6133e5ae2b0044731", "message": ":bulb: Added JSDoc", "committedDate": "2020-09-15T17:25:09Z", "type": "commit"}, {"oid": "822fbe4d0a6e2fa59b9a28536d5e05606f1e7987", "url": "https://github.com/phac-nml/irida/commit/822fbe4d0a6e2fa59b9a28536d5e05606f1e7987", "message": ":globe_with_meridians: Updated i18n", "committedDate": "2020-09-15T17:32:06Z", "type": "commit"}, {"oid": "611706cbe6ec2624b3ea759cf6541983c98a771e", "url": "https://github.com/phac-nml/irida/commit/611706cbe6ec2624b3ea759cf6541983c98a771e", "message": ":bulb: Updated JSDoc", "committedDate": "2020-09-15T17:34:08Z", "type": "commit"}, {"oid": "ce1fd0fb310580677d61cf5181f797dc265e52e1", "url": "https://github.com/phac-nml/irida/commit/ce1fd0fb310580677d61cf5181f797dc265e52e1", "message": "Merge branch 'FIX-remoate-oath-CREATE_REMOTE_PROJECT' into FIX-remote-oauth-PROJECT_SYNC_SETTINGS", "committedDate": "2020-09-15T17:37:00Z", "type": "commit"}, {"oid": "68d3acaeba753d0395ebb82cf7b475f5af7d89c4", "url": "https://github.com/phac-nml/irida/commit/68d3acaeba753d0395ebb82cf7b475f5af7d89c4", "message": "Added javadoc for method", "committedDate": "2020-09-15T17:48:00Z", "type": "commit"}, {"oid": "bb34052964426a9d5f05269592dbeb56afcf1e82", "url": "https://github.com/phac-nml/irida/commit/bb34052964426a9d5f05269592dbeb56afcf1e82", "message": "Added comments, removed page variable", "committedDate": "2020-09-15T18:11:07Z", "type": "commit"}, {"oid": "00cff37f2827c5d40a090f4e365138f1227d7726", "url": "https://github.com/phac-nml/irida/commit/00cff37f2827c5d40a090f4e365138f1227d7726", "message": ":recycle: Made the sync frequency into its own component", "committedDate": "2020-09-15T19:46:32Z", "type": "commit"}, {"oid": "4c7714e2284ab0d8ad76c3e3755b419bcdc1ace1", "url": "https://github.com/phac-nml/irida/commit/4c7714e2284ab0d8ad76c3e3755b419bcdc1ace1", "message": ":construction: Removed offensive word alert!", "committedDate": "2020-09-15T19:48:49Z", "type": "commit"}, {"oid": "444a9070624fde9eeebd2f33a1e2442564f72152", "url": "https://github.com/phac-nml/irida/commit/444a9070624fde9eeebd2f33a1e2442564f72152", "message": "Merge branch 'FIX-remoate-oath-CREATE_REMOTE_PROJECT' into FIX-remote-oauth-PROJECT_SYNC_SETTINGS", "committedDate": "2020-09-15T19:50:08Z", "type": "commit"}, {"oid": "de55c629770a6fc3924ffbd65eb135a6082c68e8", "url": "https://github.com/phac-nml/irida/commit/de55c629770a6fc3924ffbd65eb135a6082c68e8", "message": "Removed translations not needed and removed page variables for these translations. Updated ProjectSynchronizationSettings component to use SyncFrequencySelect component for selecting sync frequency", "committedDate": "2020-09-15T21:31:49Z", "type": "commit"}, {"oid": "99be6b95c6ae4c797b364ef41f1041e008012357", "url": "https://github.com/phac-nml/irida/commit/99be6b95c6ae4c797b364ef41f1041e008012357", "message": "Removed logging statement", "committedDate": "2020-09-15T21:34:12Z", "type": "commit"}, {"oid": "da661e69eb6dbb64f291c61d4b410c701d38896c", "url": "https://github.com/phac-nml/irida/commit/da661e69eb6dbb64f291c61d4b410c701d38896c", "message": ":white_check_mark: Fixed broken remote sync page tests", "committedDate": "2020-09-16T12:10:24Z", "type": "commit"}, {"oid": "3d6d0f3b96d75b15fe89acee2419483bf6c9a1d0", "url": "https://github.com/phac-nml/irida/commit/3d6d0f3b96d75b15fe89acee2419483bf6c9a1d0", "message": "\ud83d\udcdd Updated synchronize-connect-api image", "committedDate": "2020-09-16T12:51:45Z", "type": "commit"}, {"oid": "99b9b2d97a3014eecc0984690abfa1329d6c20b3", "url": "https://github.com/phac-nml/irida/commit/99b9b2d97a3014eecc0984690abfa1329d6c20b3", "message": "Merge branch 'FIX-remoate-oath-CREATE_REMOTE_PROJECT' into FIX-remote-oauth-PROJECT_SYNC_SETTINGS", "committedDate": "2020-09-16T13:02:53Z", "type": "commit"}, {"oid": "a070fc4c969c001014f9f08c2acbf7776413c9a7", "url": "https://github.com/phac-nml/irida/commit/a070fc4c969c001014f9f08c2acbf7776413c9a7", "message": ":memo: Updated create remote project docs", "committedDate": "2020-09-16T13:16:58Z", "type": "commit"}, {"oid": "d6e05c3fc8762cb07c7bd654025517140657c154", "url": "https://github.com/phac-nml/irida/commit/d6e05c3fc8762cb07c7bd654025517140657c154", "message": "Renamed RemoteProjectInfo to RemoteProjectSettings. Added labelRequired to SyncFrequency which accepts true or false and will only display the label if it is set to true(default).", "committedDate": "2020-09-16T13:36:55Z", "type": "commit"}, {"oid": "613c3bdff8d57fd636f70faf98af2d158e57a3ff", "url": "https://github.com/phac-nml/irida/commit/613c3bdff8d57fd636f70faf98af2d158e57a3ff", "message": "Merge branch 'FIX-remoate-oath-CREATE_REMOTE_PROJECT' into FIX-remote-oauth-PROJECT_SYNC_SETTINGS", "committedDate": "2020-09-16T13:37:48Z", "type": "commit"}, {"oid": "12402016c95c022c3045f77f3884ff9f5a2844de", "url": "https://github.com/phac-nml/irida/commit/12402016c95c022c3045f77f3884ff9f5a2844de", "message": "Added translation", "committedDate": "2020-09-16T13:40:04Z", "type": "commit"}, {"oid": "53ea6f844c9ef95a23be3c891b912668b30c214c", "url": "https://github.com/phac-nml/irida/commit/53ea6f844c9ef95a23be3c891b912668b30c214c", "message": "Merge branch 'development' into FIX-remote-oath\n\n# Conflicts:\n#\tCHANGELOG.md", "committedDate": "2020-09-16T13:58:02Z", "type": "commit"}, {"oid": "11bab01d21a1fcfe66b5172dc764675e60a29992", "url": "https://github.com/phac-nml/irida/commit/11bab01d21a1fcfe66b5172dc764675e60a29992", "message": "Merge branch 'FIX-remote-oath' into FIX-remoate-oath-CREATE_REMOTE_PROJECT\n\n# Conflicts:\n#\tCHANGELOG.md", "committedDate": "2020-09-16T13:58:32Z", "type": "commit"}, {"oid": "5f075abf9f50d06c85db05bc609e0fcb2a4e1b1b", "url": "https://github.com/phac-nml/irida/commit/5f075abf9f50d06c85db05bc609e0fcb2a4e1b1b", "message": "Merge pull request #801 from phac-nml/FIX-remoate-oath-CREATE_REMOTE_PROJECT\n\nFix remoate oath create remote project", "committedDate": "2020-09-16T16:43:01Z", "type": "commit"}, {"oid": "3a3484fc895a6fcb96b6682639f90ebd53b993b5", "url": "https://github.com/phac-nml/irida/commit/3a3484fc895a6fcb96b6682639f90ebd53b993b5", "message": "Added test for remote project synchronization settings page", "committedDate": "2020-09-16T17:44:05Z", "type": "commit"}, {"oid": "5bc543eee44a8410455f2cbe94057ef721e15826", "url": "https://github.com/phac-nml/irida/commit/5bc543eee44a8410455f2cbe94057ef721e15826", "message": "Moved ajax methods to new controller. Updated sync mapping method to accept a RemoteProjectSettingsUpdateRequest dto instead of individual params.", "committedDate": "2020-09-16T20:02:08Z", "type": "commit"}, {"oid": "cb49da0eb457ff518d28cbb65a89cbef087821f5", "url": "https://github.com/phac-nml/irida/commit/cb49da0eb457ff518d28cbb65a89cbef087821f5", "message": "Removed redundant setting of base url", "committedDate": "2020-09-16T20:07:30Z", "type": "commit"}, {"oid": "910177cfbe369c72a9c125601432c54076e13bc2", "url": "https://github.com/phac-nml/irida/commit/910177cfbe369c72a9c125601432c54076e13bc2", "message": "Removed br tags, updated to use ant design title, removed redudnant === true when checking if forceSync is set", "committedDate": "2020-09-17T13:02:45Z", "type": "commit"}, {"oid": "3bd93720a5eb17ec1c86cc4c22cfa47f30d13312", "url": "https://github.com/phac-nml/irida/commit/3bd93720a5eb17ec1c86cc4c22cfa47f30d13312", "message": "Created new UIRemoteProjectService and refactored code from ProjectSettingsRemoteAjaxController into this service to clean up controller. Updated translation keys to preface with server.ProjectRemote which are returned for that component. Updated controller methods to return ResponseEntity<DTOTYYPE> and uiremoteprojectservice to return objects rather than a map", "committedDate": "2020-09-17T13:57:31Z", "type": "commit"}, {"oid": "a7b64f193de58ec912b52536d2aaa704a43a136f", "url": "https://github.com/phac-nml/irida/commit/a7b64f193de58ec912b52536d2aaa704a43a136f", "message": "Added javadoc", "committedDate": "2020-09-17T14:19:01Z", "type": "commit"}, {"oid": "dc6a7340bb060bcf798d856d3e29b7da3fff9389", "url": "https://github.com/phac-nml/irida/commit/dc6a7340bb060bcf798d856d3e29b7da3fff9389", "message": "Updated to catch an exception and return bad request http status", "committedDate": "2020-09-17T15:08:25Z", "type": "commit"}, {"oid": "deadda89bc903a755b112249d583af346979c0b1", "url": "https://github.com/phac-nml/irida/commit/deadda89bc903a755b112249d583af346979c0b1", "message": "Fixed @throws", "committedDate": "2020-09-17T16:19:39Z", "type": "commit"}, {"oid": "3e5bf6b70ebe214662db5bfdb373e63ef3ce09c4", "url": "https://github.com/phac-nml/irida/commit/3e5bf6b70ebe214662db5bfdb373e63ef3ce09c4", "message": "Added tests for uiremoteprojectservice. Updated getProjectRemoteSettings method to catch an error. Updated remote-projects.js api calls to catch and throw errors that the component can catch and display", "committedDate": "2020-09-17T19:35:08Z", "type": "commit"}, {"oid": "ba7a8819c99d1ca4df9d991866f82f8ec1229d79", "url": "https://github.com/phac-nml/irida/commit/ba7a8819c99d1ca4df9d991866f82f8ec1229d79", "message": "Added missing @param to javadoc", "committedDate": "2020-09-17T19:56:12Z", "type": "commit"}, {"oid": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "url": "https://github.com/phac-nml/irida/commit/c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "message": "Merge pull request #803 from deepsidhu85/FIX-remote-oauth-PROJECT_SYNC_SETTINGS\n\nFix remote oauth project sync settings", "committedDate": "2020-09-18T01:51:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkzODkxMQ==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490938911", "bodyText": "Remove commented out code or re-enable if needed please.", "author": "tom114", "createdAt": "2020-09-18T13:11:59Z", "path": "src/test/java/ca/corefacility/bioinformatics/irida/ria/integration/pages/remoteapi/RemoteAPIDetailsPage.java", "diffHunk": "@@ -56,76 +83,75 @@ public void confirmDelete() {\n \t\tconfirmButton.click();\n \t}\n \n-\tpublic ApiStatus getRemoteApiStatus() {\n-\t\tWebElement connectionStatus = (new WebDriverWait(driver, 10)).until(ExpectedConditions\n-\t\t\t\t.presenceOfElementLocated(By.className(\"status-label\")));\n-\n-\t\tString labelClass = connectionStatus.getAttribute(\"class\");\n-\t\tif (labelClass.contains(\"api-connected\")) {\n-\t\t\treturn ApiStatus.CONNECTED;\n-\t\t} else if (labelClass.contains(\"api-invalid\")) {\n-\t\t\treturn ApiStatus.INVALID;\n-\t\t} else if (labelClass.contains(\"api-error\")) {\n-\t\t\treturn ApiStatus.ERROR;\n+\tpublic boolean isRemoteAPIConnected() {\n+\t\ttry {\n+\t\t\treturn remoteStatusConnected.isDisplayed();\n+\t\t} catch (NoSuchElementException e) {\n+\t\t\treturn false;\n \t\t}\n-\n-\t\tthrow new ElementNotVisibleException(\"Coudldn't get api status\");\n \t}\n \n \tpublic void clickConnect() {\n-\t\tWebElement connectButton = (new WebDriverWait(driver, 10)).until(ExpectedConditions.elementToBeClickable(By\n-\t\t\t\t.className(\"oauth-connect-link\")));\n-\t\tconnectButton.click();\n-\n-\t\twaitForAjax();\n+\t\tremoteStatusConnect.click();\n \n \t}\n \n \tpublic void clickAuthorize() {\n-\t\tdriver.switchTo().frame(\"oauth-connect-frame\");\n+\t\tString parentWindowHandler = driver.getWindowHandle(); // Store your parent window\n+\t\tString subWindowHandler = null;\n+\n+\t\tSet<String> handles = driver.getWindowHandles(); // get all window handles\n+\t\tfor (String handle : handles) {\n+\t\t\tsubWindowHandler = handle;\n+\t\t}\n+\t\tdriver.switchTo().window(subWindowHandler); // switch to popup window\n+\n+\t\t// Now you are in the popup window, perform necessary actions here\n+\n \t\tWebElement authorizeButton = driver.findElement(By.id(\"authorize-btn\"));\n \t\tauthorizeButton.click();\n \n-\t\tdriver.switchTo().defaultContent();\n+\n+\t\tdriver.switchTo().window(parentWindowHandler);  // switch back to parent window\n \n \t\twaitForTime(8000);\n \t}\n \n-\tpublic boolean checkDeleteSuccess() {\n-\t\tboolean deleted = false;\n-\n-\t\tlogger.debug(\"Checking for client existence\");\n-\t\tdo {\n-\t\t\ttry {\n-\t\t\t\tWebElement el = driver.findElement(By.className(\"ant-page-header-heading-title\"));\n-\t\t\t\tif (el.getText().equals(\"Remote IRIDA Connections\")) {\n-\t\t\t\t\tlogger.debug(\"Successfully loaded client list page\");\n-\t\t\t\t\twaitForAjax();\n-\t\t\t\t\tlogger.debug(\"Table loaded\");\n-\t\t\t\t\tList<WebElement> findElements = driver.findElements(By.className(\"remoteApiCol\"));\n-\t\t\t\t\tdeleted = true;\n-\t\t\t\t\t// check if the element is in the table\n-\t\t\t\t\tfor (WebElement ele : findElements) {\n-\t\t\t\t\t\tif (ele.getText().equals(clientId)) {\n-\t\t\t\t\t\t\tdeleted = false;\n-\t\t\t\t\t\t}\n-\t\t\t\t\t}\n-\t\t\t\t}\n-\t\t\t} catch (StaleElementReferenceException e) {\n-\t\t\t\tlogger.debug(\"Got stale element reference exception when trying to get text on h1, trying again.\");\n-\t\t\t}\n-\t\t} while (!deleted);\n-\n-\n-\t\treturn deleted;\n-\t}\n+//\tpublic boolean checkDeleteSuccess() {", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAwOTY4MA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491009680", "bodyText": "Removed in e965419", "author": "joshsadam", "createdAt": "2020-09-18T15:00:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkzODkxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MTk0Ng==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490951946", "bodyText": "Should this go into the dto path instead of just in the base ajax one?", "author": "tom114", "createdAt": "2020-09-18T13:33:07Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/CreateRemoteProjectRequest.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax;\n+\n+import ca.corefacility.bioinformatics.irida.model.project.ProjectSyncFrequency;\n+\n+/**\n+ * Used to capture details about creating a new remote project through the UI\n+ */\n+public class CreateRemoteProjectRequest {", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxMDk0OA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491010948", "bodyText": "Uh yeah, it totally should, good catch, don't know how it got there. \u00a0Moved in 0329d5b", "author": "joshsadam", "createdAt": "2020-09-18T15:02:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MTk0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MjUwNA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490952504", "bodyText": "This should not need a @RestController mapping.  Just @Controller right?", "author": "tom114", "createdAt": "2020-09-18T13:34:02Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/RemoteAPIAjaxController.java", "diffHunk": "@@ -0,0 +1,148 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax;\n+\n+import java.util.Date;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Page;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.MediaType;\n+import org.springframework.http.ResponseEntity;\n+import org.springframework.security.access.prepost.PreAuthorize;\n+import org.springframework.web.bind.annotation.*;\n+\n+import ca.corefacility.bioinformatics.irida.exceptions.EntityNotFoundException;\n+import ca.corefacility.bioinformatics.irida.exceptions.IridaOAuthException;\n+import ca.corefacility.bioinformatics.irida.model.RemoteAPI;\n+import ca.corefacility.bioinformatics.irida.repositories.specification.RemoteAPISpecification;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteAPIModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteProjectModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxErrorResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.rempoteapi.dto.RemoteAPITableModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.services.UIRemoteAPIService;\n+import ca.corefacility.bioinformatics.irida.service.RemoteAPIService;\n+\n+/**\n+ * Controller for asynchronous requests for remote api functionality.\n+ */\n+@RestController", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxMjQ4Nw==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491012487", "bodyText": "No this is completely intentional. \u00a0\"@RestController is a specialized version of the controller. It includes the @controller and @responsebody annotations and as a result, simplifies the controller implementation\" from https://www.baeldung.com/spring-controller-vs-restcontroller This works since this is a purely AJAX controller.", "author": "joshsadam", "createdAt": "2020-09-18T15:05:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MjUwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MzU2MA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490953560", "bodyText": "There's enough of these dto classes to make a sub package for the Remote API stuff.  That package is getting messy.", "author": "tom114", "createdAt": "2020-09-18T13:35:41Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/dto/RemoteProjectSettingsUpdateRequest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax.dto;\n+\n+import ca.corefacility.bioinformatics.irida.model.project.ProjectSyncFrequency;\n+\n+/**\n+ * Used to handle requests from the UI to update settings for a remote sync'd project.\n+ * The field is the attribute to be update, and the value is the value to set to that field.\n+ */\n+\n+public class RemoteProjectSettingsUpdateRequest {", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxNTIzMw==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491015233", "bodyText": "Sure, that makes sense. Updated in 276dbcf", "author": "joshsadam", "createdAt": "2020-09-18T15:09:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MzU2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1NDAxOQ==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490954019", "bodyText": "Again, this should likely be a @Controller", "author": "tom114", "createdAt": "2020-09-18T13:36:25Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/ProjectSettingsRemoteAjaxController.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.projects.settings;\n+\n+import java.security.Principal;\n+import java.util.Locale;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.ResponseEntity;\n+import org.springframework.security.access.prepost.PreAuthorize;\n+import org.springframework.web.bind.annotation.*;\n+\n+import ca.corefacility.bioinformatics.irida.model.project.Project;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteProjectSettings;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteProjectSettingsUpdateRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxErrorResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxUpdateItemSuccessResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.services.UIRemoteProjectService;\n+\n+/**\n+ * Controller for managing settings for a remotely sync'd project\n+ * asynchronously\n+ */\n+@RestController", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxNTY4OA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491015688", "bodyText": "Nope, same comment as above", "author": "joshsadam", "createdAt": "2020-09-18T15:10:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1NDAxOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1NDY1MA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490954650", "bodyText": "Do we need 2 separate classes for this?  It's a combined 3 methods between this class and the Ajax controller.", "author": "tom114", "createdAt": "2020-09-18T13:37:29Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/projects/settings/ProjectSettingsRemoteController.java", "diffHunk": "@@ -29,88 +21,16 @@\n @RequestMapping(\"/projects/{projectId}/settings\")\n public class ProjectSettingsRemoteController {\n \n-\tprivate MessageSource messageSource;\n \tprivate ProjectService projectService;\n-\tprivate ProjectRemoteService projectRemoteService;\n-\tprivate UserService userService;\n \tprivate ProjectControllerUtils projectControllerUtils;\n \n \t@Autowired\n-\tpublic ProjectSettingsRemoteController(MessageSource messageSource, ProjectService projectService,\n-\t\t\tProjectRemoteService projectRemoteService, UserService userService,\n+\tpublic ProjectSettingsRemoteController(ProjectService projectService,", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAzMDc0Mw==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491030743", "bodyText": "@deepsidhu85 \u00a0and I have been working really hard at keeping all the controllers really lean and only handling what their job is. \u00a0A @controller's job is to return a view and that's it, a @RestController is to handle an ajax request. \u00a0If either of those those actually need some data (which is basically always for the ajax controllers), they can reach out to a specifically designed service. \u00a0That way it is easy to know where to go to find/fix a problem. \u00a0It keeps the controllers nice and lean and easy to read and way easier to test.", "author": "joshsadam", "createdAt": "2020-09-18T15:35:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1NDY1MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1NjUxMQ==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490956511", "bodyText": "What's the point of this class?  It's just re-wrapping other service methods.  Every method is only called from one place.  Why not just have the functionality in those places?", "author": "tom114", "createdAt": "2020-09-18T13:40:28Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIRemoteAPIService.java", "diffHunk": "@@ -0,0 +1,120 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.services;\n+\n+import java.util.ArrayList;\n+import java.util.Date;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+\n+import ca.corefacility.bioinformatics.irida.exceptions.IridaOAuthException;\n+import ca.corefacility.bioinformatics.irida.model.RemoteAPI;\n+import ca.corefacility.bioinformatics.irida.model.RemoteAPIToken;\n+import ca.corefacility.bioinformatics.irida.model.project.Project;\n+import ca.corefacility.bioinformatics.irida.model.remote.RemoteStatus;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.CreateRemoteProjectRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteAPIModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteProjectModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxCreateItemSuccessResponse;\n+import ca.corefacility.bioinformatics.irida.service.ProjectService;\n+import ca.corefacility.bioinformatics.irida.service.RemoteAPIService;\n+import ca.corefacility.bioinformatics.irida.service.RemoteAPITokenService;\n+import ca.corefacility.bioinformatics.irida.service.remote.ProjectRemoteService;\n+\n+/**\n+ * UI Service to handle request for Remote APIs\n+ */\n+@Component\n+public class UIRemoteAPIService {", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1NzA3MQ==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490957071", "bodyText": "Same deal with this class.  These 2 methods are only used in one place.  Why add an extra class?", "author": "tom114", "createdAt": "2020-09-18T13:41:22Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/services/UIRemoteProjectService.java", "diffHunk": "@@ -0,0 +1,132 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.services;\n+\n+import java.security.Principal;\n+import java.util.Date;\n+import java.util.HashMap;\n+import java.util.Locale;\n+import java.util.Map;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.context.MessageSource;\n+import org.springframework.stereotype.Component;\n+\n+import ca.corefacility.bioinformatics.irida.model.RemoteAPI;\n+import ca.corefacility.bioinformatics.irida.model.project.Project;\n+import ca.corefacility.bioinformatics.irida.model.project.ProjectSyncFrequency;\n+import ca.corefacility.bioinformatics.irida.model.remote.RemoteStatus;\n+import ca.corefacility.bioinformatics.irida.model.user.User;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteProjectSettings;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.RemoteProjectSettingsUpdateRequest;\n+import ca.corefacility.bioinformatics.irida.service.ProjectService;\n+import ca.corefacility.bioinformatics.irida.service.remote.ProjectRemoteService;\n+import ca.corefacility.bioinformatics.irida.service.user.UserService;\n+\n+/**\n+ * A utility class for doing operations on remote project sync settings.\n+ */\n+\n+@Component\n+public class UIRemoteProjectService {\n+\tprivate MessageSource messageSource;\n+\tprivate ProjectService projectService;\n+\tprivate ProjectRemoteService projectRemoteService;\n+\tprivate UserService userService;\n+\n+\t@Autowired\n+\tpublic UIRemoteProjectService(MessageSource messageSource, ProjectService projectService,", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAzMDk1OQ==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491030959", "bodyText": "Same deal here, please see above response.", "author": "joshsadam", "createdAt": "2020-09-18T15:35:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1NzA3MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MTM0Ng==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490961346", "bodyText": "Remove commented code", "author": "tom114", "createdAt": "2020-09-18T13:47:41Z", "path": "src/test/java/ca/corefacility/bioinformatics/irida/ria/integration/pages/projects/ProjectSyncPage.java", "diffHunk": "@@ -38,19 +37,25 @@ public static ProjectSyncPage goTo(WebDriver driver) {\n \t}\n \n \tpublic void selectApi(int index) {\n-\t\tnew Select(apiSelection).selectByIndex(index);\n+\t\tWebDriverWait wait = new WebDriverWait(driver, 2);\n+\t\twait.until(ExpectedConditions.elementToBeClickable(apiSelection));\n+\t\tapiSelection.findElement(By.className(\"ant-select-selection-item\")).click();\n+\t\twait.until(ExpectedConditions.visibilityOfElementLocated(By.className(\"ant-select-item\")));\n+\t\tdriver.findElements(By.className(\"ant-select-item\")).get(index).click();\n \t}\n \n \tpublic boolean areProjectsAvailable() {\n-\t\treturn projectSelection.isEnabled();\n-\t}\n-\n-\tpublic void selectProjectInListing(int index) {\n-\t\tnew Select(projectSelection).selectByIndex(index);\n+\t\treturn projectSelection.isDisplayed();\n \t}\n \n-\tpublic void openAdvanced() {\n-\t\tadvancedToggle.click();\n+\tpublic void selectProjectInListing(String name) {\n+\t\tWebDriverWait wait = new WebDriverWait(driver, 2);\n+\t\twait.until(ExpectedConditions.elementToBeClickable(projectSelection));\n+\t\tprojectSelection.findElement(By.className(\"ant-select-selection-search\")).click();\n+\t\tdriver.switchTo().activeElement().sendKeys(name);\n+\t\tdriver.switchTo().activeElement().sendKeys(Keys.ENTER);\n+//\t\twait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.className(\"ant-select-item\")));\n+//\t\tdriver.findElements(By.className(\"ant-select-item\")).get(index).click();", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTAxNjc4OA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491016788", "bodyText": "Removed in 4d34497", "author": "joshsadam", "createdAt": "2020-09-18T15:12:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MTM0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MTcwMA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490961700", "bodyText": "Remove commented code if its not needed, or redo method if it is needed", "author": "tom114", "createdAt": "2020-09-18T13:48:14Z", "path": "src/test/java/ca/corefacility/bioinformatics/irida/ria/integration/remoteapi/CreateRemoteAPIPageIT.java", "diffHunk": "@@ -76,20 +81,20 @@ public void testCreateClientWithSpacesInFront() {\n \n \t@Test\n \tpublic void testAndConnectToClient() {\n-\t\tString baseUrl = page.getBaseUrl();\n-\t\tString url = baseUrl + \"api\";\n-\n-\t\tpage.createRemoteAPIWithDetails(\"new name\", url, clientId, clientSecret);\n-\t\tassertTrue(\"client should have been created\", page.checkSuccess());\n-\n-\t\tRemoteAPIDetailsPage remoteAPIDetailsPage = new RemoteAPIDetailsPage(driver());\n-\n-\t\tApiStatus remoteApiStatus = remoteAPIDetailsPage.getRemoteApiStatus();\n-\t\tassertEquals(\"api status should be invalid\", ApiStatus.INVALID, remoteApiStatus);\n-\t\tremoteAPIDetailsPage.clickConnect();\n-\t\tremoteAPIDetailsPage.clickAuthorize();\n-\n-\t\tremoteApiStatus = remoteAPIDetailsPage.getRemoteApiStatus();\n-\t\tassertEquals(\"api status should be connected\", ApiStatus.CONNECTED, remoteApiStatus);\n+//\t\tString baseUrl = page.getBaseUrl();", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MjU5NA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490962594", "bodyText": "Is this test re-written somewhere else?", "author": "tom114", "createdAt": "2020-09-18T13:49:31Z", "path": "src/test/java/ca/corefacility/bioinformatics/irida/ria/unit/web/oauth/RemoteAPIAjaxControllerTest.java", "diffHunk": "@@ -149,18 +142,4 @@ public void getAjaxAPIListTest() {\n \t\tassertEquals(\"Should have 1 Remote API\", 1, response.getDataSource()\n \t\t\t\t.size());\n \t}\n-\n-\t@Test\n-\tpublic void checkAPIStatusTest() {", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTEwOTc0MQ==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491109741", "bodyText": "Yes, they are all in the UIRemoteAPIServiceTest", "author": "joshsadam", "createdAt": "2020-09-18T18:04:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MjU5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MzIzNw==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r490963237", "bodyText": "All these tests need re-enabled", "author": "tom114", "createdAt": "2020-09-18T13:50:26Z", "path": "src/test/java/ca/corefacility/bioinformatics/irida/ria/integration/remoteapi/CreateRemoteAPIPageIT.java", "diffHunk": "@@ -1,30 +1,33 @@\n package ca.corefacility.bioinformatics.irida.ria.integration.remoteapi;\n \n+import org.junit.Before;\n+import org.junit.Ignore;\n+import org.junit.Test;\n+\n import ca.corefacility.bioinformatics.irida.ria.integration.AbstractIridaUIITChromeDriver;\n import ca.corefacility.bioinformatics.irida.ria.integration.pages.LoginPage;\n import ca.corefacility.bioinformatics.irida.ria.integration.pages.clients.ClientDetailsPage;\n import ca.corefacility.bioinformatics.irida.ria.integration.pages.clients.CreateClientPage;\n import ca.corefacility.bioinformatics.irida.ria.integration.pages.remoteapi.CreateRemoteAPIPage;\n-import ca.corefacility.bioinformatics.irida.ria.integration.pages.remoteapi.RemoteAPIDetailsPage;\n-import ca.corefacility.bioinformatics.irida.ria.integration.pages.remoteapi.RemoteAPIDetailsPage.ApiStatus;\n import ca.corefacility.bioinformatics.irida.ria.integration.utilities.RemoteApiUtilities;\n+\n import com.github.springtestdbunit.annotation.DatabaseSetup;\n-import org.junit.Before;\n-import org.junit.Test;\n \n-import static org.junit.Assert.*;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.assertTrue;\n \n /**\n  * IT for the client details page\n  *\n  */\n @DatabaseSetup(\"/ca/corefacility/bioinformatics/irida/ria/web/oauth/CreateRemoteApisIT.xml\")\n+@Ignore", "originalCommit": "c81a496bb8d8f6ade3c4ca8dac9e242264b8648f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTEwOTA1MQ==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491109051", "bodyText": "Updated in f1c4406", "author": "joshsadam", "createdAt": "2020-09-18T18:02:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk2MzIzNw=="}], "type": "inlineReview"}, {"oid": "e9654191e5a7f198e107c314edc58c16ce1c3b6a", "url": "https://github.com/phac-nml/irida/commit/e9654191e5a7f198e107c314edc58c16ce1c3b6a", "message": ":recycle: Removed commented out code", "committedDate": "2020-09-18T15:00:15Z", "type": "commit"}, {"oid": "0329d5b43f232db6869d7ff6b513458cef54bb70", "url": "https://github.com/phac-nml/irida/commit/0329d5b43f232db6869d7ff6b513458cef54bb70", "message": ":recycle: Moved CreateRemoteProjectRequest to dto", "committedDate": "2020-09-18T15:02:07Z", "type": "commit"}, {"oid": "276dbcfde37eb7f873588b4ee2bb58652775aaf3", "url": "https://github.com/phac-nml/irida/commit/276dbcfde37eb7f873588b4ee2bb58652775aaf3", "message": ":recycle: Add better directory structure for remote dtos", "committedDate": "2020-09-18T15:09:06Z", "type": "commit"}, {"oid": "4d34497e17a101f1facfe81be4aa0b073cc03a1f", "url": "https://github.com/phac-nml/irida/commit/4d34497e17a101f1facfe81be4aa0b073cc03a1f", "message": ":fire: Removed commented out code", "committedDate": "2020-09-18T15:11:54Z", "type": "commit"}, {"oid": "d9c9a3b2d7dc90dcbd71b3102efb9e3d6228804b", "url": "https://github.com/phac-nml/irida/commit/d9c9a3b2d7dc90dcbd71b3102efb9e3d6228804b", "message": "Updated checkApiStatus to check if  api service status returns a 200 http status code otherwise an exception is thrown and the connect button is displayed for the api", "committedDate": "2020-09-18T16:20:54Z", "type": "commit"}, {"oid": "34df5d80ada1ae4d449fc4317796c09e033e40c4", "url": "https://github.com/phac-nml/irida/commit/34df5d80ada1ae4d449fc4317796c09e033e40c4", "message": "Merge branch 'FIX-remote-oath' of github.com:phac-nml/irida into FIX-remote-oath", "committedDate": "2020-09-18T16:21:55Z", "type": "commit"}, {"oid": "d75b5591bb56a0e02266cd1afbcaa6aee1bd97a4", "url": "https://github.com/phac-nml/irida/commit/d75b5591bb56a0e02266cd1afbcaa6aee1bd97a4", "message": "Fixed entry in CHANGELOG which was in the wrong section", "committedDate": "2020-09-18T16:28:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA2NDM3NA==", "url": "https://github.com/phac-nml/irida/pull/805#discussion_r491064374", "bodyText": "Looks like this isn't being used and can be removed", "author": "deepsidhu85", "createdAt": "2020-09-18T16:33:55Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/ria/web/ajax/RemoteAPIAjaxController.java", "diffHunk": "@@ -0,0 +1,149 @@\n+package ca.corefacility.bioinformatics.irida.ria.web.ajax;\n+\n+import java.util.Date;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Page;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.http.MediaType;\n+import org.springframework.http.ResponseEntity;\n+import org.springframework.security.access.prepost.PreAuthorize;\n+import org.springframework.web.bind.annotation.*;\n+\n+import ca.corefacility.bioinformatics.irida.exceptions.EntityNotFoundException;\n+import ca.corefacility.bioinformatics.irida.exceptions.IridaOAuthException;\n+import ca.corefacility.bioinformatics.irida.model.RemoteAPI;\n+import ca.corefacility.bioinformatics.irida.repositories.specification.RemoteAPISpecification;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxErrorResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.ajax.AjaxResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.remote.CreateRemoteProjectRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.remote.RemoteAPIModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.ajax.dto.remote.RemoteProjectModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableRequest;\n+import ca.corefacility.bioinformatics.irida.ria.web.models.tables.TableResponse;\n+import ca.corefacility.bioinformatics.irida.ria.web.rempoteapi.dto.RemoteAPITableModel;\n+import ca.corefacility.bioinformatics.irida.ria.web.services.UIRemoteAPIService;\n+import ca.corefacility.bioinformatics.irida.service.RemoteAPIService;\n+\n+/**\n+ * Controller for asynchronous requests for remote api functionality.\n+ */\n+@RestController\n+@RequestMapping(\"/ajax/remote_api\")\n+public class RemoteAPIAjaxController {\n+    private final RemoteAPIService remoteAPIService;\n+    private final UIRemoteAPIService service;\n+\n+    public static final String INVALID_OAUTH_TOKEN = \"invalid_token\";", "originalCommit": "d75b5591bb56a0e02266cd1afbcaa6aee1bd97a4", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "69d1d1918a4605eb13db0f957774e9a54c9d6e2a", "url": "https://github.com/phac-nml/irida/commit/69d1d1918a4605eb13db0f957774e9a54c9d6e2a", "message": "Added test to test for revoked tokens", "committedDate": "2020-09-18T17:59:13Z", "type": "commit"}, {"oid": "f1c440608dc4b38b3115d97a9a4d769a93097609", "url": "https://github.com/phac-nml/irida/commit/f1c440608dc4b38b3115d97a9a4d769a93097609", "message": ":white_check_mark: Fixed ignored tests", "committedDate": "2020-09-18T18:00:48Z", "type": "commit"}, {"oid": "02df8e91230e7ead27a4a2a0fd0b0553c5075e3f", "url": "https://github.com/phac-nml/irida/commit/02df8e91230e7ead27a4a2a0fd0b0553c5075e3f", "message": "Merge remote-tracking branch 'origin/FIX-remote-oath' into FIX-remote-oath", "committedDate": "2020-09-18T18:00:54Z", "type": "commit"}, {"oid": "1aac2ae7d80ebbfc42fdef9427cb38a798662ea6", "url": "https://github.com/phac-nml/irida/commit/1aac2ae7d80ebbfc42fdef9427cb38a798662ea6", "message": "Renamed test", "committedDate": "2020-09-18T18:05:00Z", "type": "commit"}, {"oid": "e37c98d8ae4f0da8819cea7d261f722fc3cd06f6", "url": "https://github.com/phac-nml/irida/commit/e37c98d8ae4f0da8819cea7d261f722fc3cd06f6", "message": ":white_check_mark: Fixed broken test due to wrong base url", "committedDate": "2020-09-21T10:26:35Z", "type": "commit"}, {"oid": "ce49c319abfb6f2f01bf5ae57ad8b8178f78f8f2", "url": "https://github.com/phac-nml/irida/commit/ce49c319abfb6f2f01bf5ae57ad8b8178f78f8f2", "message": "Merge remote-tracking branch 'origin/FIX-remote-oath' into FIX-remote-oath", "committedDate": "2020-09-21T10:26:49Z", "type": "commit"}, {"oid": "04e66c70150e7f9f30223fbb8704819db08c6eba", "url": "https://github.com/phac-nml/irida/commit/04e66c70150e7f9f30223fbb8704819db08c6eba", "message": "Removed unused variable", "committedDate": "2020-09-21T13:36:36Z", "type": "commit"}]}