{"pr_number": 844, "pr_title": "Announcements upgrade database", "pr_createdAt": "2020-10-28T15:33:42Z", "pr_url": "https://github.com/phac-nml/irida/pull/844", "timeline": [{"oid": "bda6a980f272a4a1fe39a88beb7cfbf1dd07a435", "url": "https://github.com/phac-nml/irida/commit/bda6a980f272a4a1fe39a88beb7cfbf1dd07a435", "message": "adding liquibase changes to add new title and priority columns to the announcements table", "committedDate": "2020-10-28T15:01:31Z", "type": "commit"}, {"oid": "09c38933065c2f73c8ada70f797482f68931d95a", "url": "https://github.com/phac-nml/irida/commit/09c38933065c2f73c8ada70f797482f68931d95a", "message": "adding scripts that populate the new title column in the announcements table", "committedDate": "2020-10-28T15:16:32Z", "type": "commit"}, {"oid": "e82ed0098fcc74120f96a3c417f4e313dbb80de2", "url": "https://github.com/phac-nml/irida/commit/e82ed0098fcc74120f96a3c417f4e313dbb80de2", "message": "reflecting the new announcement changes in the model object", "committedDate": "2020-10-28T19:41:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzcxNzE4OA==", "url": "https://github.com/phac-nml/irida/pull/844#discussion_r513717188", "bodyText": "This is a bit pedantic, but in most cases we like to use the primitive boolean where we can in the models.  Capital B Boolean sometimes can get us into a weird tri-state since it can also be null.", "author": "tom114", "createdAt": "2020-10-28T19:48:22Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/model/announcements/Announcement.java", "diffHunk": "@@ -48,10 +48,17 @@\n     @Column(name = \"created_date\", updatable = false)\n     private Date createdDate;\n \n+    @Column(name = \"title\")\n+    private String title;\n+\n     @Column(name = \"message\")\n     @Lob\n     private String message;\n \n+    @Column(name = \"priority\")\n+    @NotNull\n+    private Boolean priority;", "originalCommit": "e82ed0098fcc74120f96a3c417f4e313dbb80de2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ4MzgwOA==", "url": "https://github.com/phac-nml/irida/pull/844#discussion_r514483808", "bodyText": "Done. Please see 3b1ab44.", "author": "ksierks", "createdAt": "2020-10-29T18:38:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzcxNzE4OA=="}], "type": "inlineReview"}, {"oid": "5e0137610a04374a1b730e8eb9f1a90a991b96be", "url": "https://github.com/phac-nml/irida/commit/5e0137610a04374a1b730e8eb9f1a90a991b96be", "message": "setting announcement priority column to default false", "committedDate": "2020-10-29T17:25:23Z", "type": "commit"}, {"oid": "19a454c15f2baadf1a22d9f7da226d04a5197912", "url": "https://github.com/phac-nml/irida/commit/19a454c15f2baadf1a22d9f7da226d04a5197912", "message": "adding some documentation to the python scripts", "committedDate": "2020-10-29T18:35:29Z", "type": "commit"}, {"oid": "3b1ab44793167beaede37b37b46c11335359f81f", "url": "https://github.com/phac-nml/irida/commit/3b1ab44793167beaede37b37b46c11335359f81f", "message": "changing announcement priority data type from Boolean to boolean", "committedDate": "2020-10-29T18:55:14Z", "type": "commit"}, {"oid": "8328ac4df67c43e5694c7ebf59f67836d836baf9", "url": "https://github.com/phac-nml/irida/commit/8328ac4df67c43e5694c7ebf59f67836d836baf9", "message": "adding default value to title in announcement table", "committedDate": "2020-10-29T19:03:30Z", "type": "commit"}, {"oid": "f6aae03c16b38cc1e465ff7a86fa8cece6297e0d", "url": "https://github.com/phac-nml/irida/commit/f6aae03c16b38cc1e465ff7a86fa8cece6297e0d", "message": "removing third party libraries from python script", "committedDate": "2020-10-30T12:32:00Z", "type": "commit"}, {"oid": "835920ad38513b8a0ec8efcff9a8ac8c1434ec7f", "url": "https://github.com/phac-nml/irida/commit/835920ad38513b8a0ec8efcff9a8ac8c1434ec7f", "message": "reverting change", "committedDate": "2020-10-30T12:53:59Z", "type": "commit"}, {"oid": "dee5891e98e3ed096e2edda6065051c62087d94d", "url": "https://github.com/phac-nml/irida/commit/dee5891e98e3ed096e2edda6065051c62087d94d", "message": "updating regular expression", "committedDate": "2020-10-30T13:47:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE1OTA0OQ==", "url": "https://github.com/phac-nml/irida/pull/844#discussion_r515159049", "bodyText": "Since this field is not null in the liquibase please add @NotNull here as well please.", "author": "tom114", "createdAt": "2020-10-30T14:55:25Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/model/announcements/Announcement.java", "diffHunk": "@@ -48,10 +48,17 @@\n     @Column(name = \"created_date\", updatable = false)\n     private Date createdDate;\n \n+    @Column(name = \"title\")\n+    private String title;", "originalCommit": "dee5891e98e3ed096e2edda6065051c62087d94d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIxNzQzOA==", "url": "https://github.com/phac-nml/irida/pull/844#discussion_r515217438", "bodyText": "Sorry I missed this. Please see bd781b5.", "author": "ksierks", "createdAt": "2020-10-30T16:19:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE1OTA0OQ=="}], "type": "inlineReview"}, {"oid": "bd781b5750cdd53260d15238c2e6a9e398c09c1d", "url": "https://github.com/phac-nml/irida/commit/bd781b5750cdd53260d15238c2e6a9e398c09c1d", "message": "making announcement title not null", "committedDate": "2020-10-30T16:11:43Z", "type": "commit"}, {"oid": "649d36421ac3535ab3a16283aac93e9e96130a64", "url": "https://github.com/phac-nml/irida/commit/649d36421ac3535ab3a16283aac93e9e96130a64", "message": "adding more commments to python script", "committedDate": "2020-10-30T16:18:03Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIyNjk2NQ==", "url": "https://github.com/phac-nml/irida/pull/844#discussion_r515226965", "bodyText": "Looks like an accidental addition here", "author": "tom114", "createdAt": "2020-10-30T16:35:11Z", "path": "src/main/java/ca/corefacility/bioinformatics/irida/model/announcements/Announcement.java", "diffHunk": "@@ -31,7 +31,7 @@\n  * An announcement object. Announcements can be created only by admin users, and announcements\n  * are displayed on the dashboard page.\n  */\n-@Entity\n+@Entity.sql", "originalCommit": "649d36421ac3535ab3a16283aac93e9e96130a64", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIzMDgzNQ==", "url": "https://github.com/phac-nml/irida/pull/844#discussion_r515230835", "bodyText": "My mistake. Please see d57593d.", "author": "ksierks", "createdAt": "2020-10-30T16:41:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIyNjk2NQ=="}], "type": "inlineReview"}, {"oid": "d57593d3e1ae927a707170237a803d18d7edb1c3", "url": "https://github.com/phac-nml/irida/commit/d57593d3e1ae927a707170237a803d18d7edb1c3", "message": "reverting mistake", "committedDate": "2020-10-30T16:40:22Z", "type": "commit"}, {"oid": "5e99a12949d8abbde11ffbe791b35846b6d2e104", "url": "https://github.com/phac-nml/irida/commit/5e99a12949d8abbde11ffbe791b35846b6d2e104", "message": "title is getting auto populated by liquibase", "committedDate": "2020-11-03T13:23:58Z", "type": "commit"}, {"oid": "f79d1ffb165ec9620a3a465b77df392aa29b00e4", "url": "https://github.com/phac-nml/irida/commit/f79d1ffb165ec9620a3a465b77df392aa29b00e4", "message": "changing default database credentials on scripts", "committedDate": "2020-11-03T13:32:13Z", "type": "commit"}, {"oid": "7a9b7eaab92153dda3da0124fa24c5b7de0e32b4", "url": "https://github.com/phac-nml/irida/commit/7a9b7eaab92153dda3da0124fa24c5b7de0e32b4", "message": "adding a readme for how to run the scripts", "committedDate": "2020-11-03T14:42:47Z", "type": "commit"}, {"oid": "776a1562764fa2036657b8bba02916d1ea9b1b9b", "url": "https://github.com/phac-nml/irida/commit/776a1562764fa2036657b8bba02916d1ea9b1b9b", "message": "adding a readme for how to run the scripts", "committedDate": "2020-11-03T14:45:25Z", "type": "commit"}, {"oid": "cad41a5c5b492472a2c327c888a1e58494b59140", "url": "https://github.com/phac-nml/irida/commit/cad41a5c5b492472a2c327c888a1e58494b59140", "message": "changing README to be more constistent with Makefile", "committedDate": "2020-11-03T14:54:14Z", "type": "commit"}, {"oid": "9fdf41fc21506daadb3333d4ac53e97c2f8391d3", "url": "https://github.com/phac-nml/irida/commit/9fdf41fc21506daadb3333d4ac53e97c2f8391d3", "message": "pip freeze requirements", "committedDate": "2020-11-03T15:12:04Z", "type": "commit"}]}