{"pr_number": 23020, "pr_title": "Add support for block statement", "pr_createdAt": "2020-04-30T07:28:04Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020", "timeline": [{"oid": "8ee8e2e71b3a161d28b6c5d0c8526d02353c6d2e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8ee8e2e71b3a161d28b6c5d0c8526d02353c6d2e", "message": "Add grammar for block-stmt", "committedDate": "2020-04-29T15:23:42Z", "type": "commit"}, {"oid": "f2c945a21904633e2db38c80b3c4a263285d553a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f2c945a21904633e2db38c80b3c4a263285d553a", "message": "Visit and analyze all phases related to block-stmt", "committedDate": "2020-04-29T20:27:36Z", "type": "commit"}, {"oid": "269edc722877285ebdd9e1f05fa026949f1a0ef8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/269edc722877285ebdd9e1f05fa026949f1a0ef8", "message": "Add block-stmt tests", "committedDate": "2020-04-30T07:04:07Z", "type": "commit"}, {"oid": "74c0feca982c9f82ede80b73068e5e91b60e6fe4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/74c0feca982c9f82ede80b73068e5e91b60e6fe4", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into issue-22872\n\n\u0001 Conflicts:\n\u0001\tcompiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/parser/antlr4/BallerinaParser.java", "committedDate": "2020-04-30T08:00:38Z", "type": "commit"}, {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e18bf1b3999e27f28fee465e6f930493248ca190", "message": "Regenerate ballerina parser", "committedDate": "2020-04-30T13:59:24Z", "type": "commit"}, {"oid": "e18bf1b3999e27f28fee465e6f930493248ca190", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e18bf1b3999e27f28fee465e6f930493248ca190", "message": "Regenerate ballerina parser", "committedDate": "2020-04-30T13:59:24Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU5NDY4Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r420594682", "bodyText": "Suggested change", "author": "dulajdilshan", "createdAt": "2020-05-06T07:30:01Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {\n+\n+    public BLangBlockStmt body;\n+\n+    public BLangBlock() {\n+    }\n+\n+    public BLangBlock(BLangBlockStmt body) {\n+", "originalCommit": "e18bf1b3999e27f28fee465e6f930493248ca190", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc1MTU2Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423751562", "bodyText": "Changed", "author": "chiranSachintha", "createdAt": "2020-05-12T13:53:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU5NDY4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMTU4MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422811581", "bodyText": "Can we not use BLangBlockStmt, BlockStatementNode with some modifications instead of introducing new nodes? They are the same right? IMO, with this change we're introducing two ways to do the same thing.\n@pubudu91 thoughts?", "author": "MaryamZi", "createdAt": "2020-05-11T06:34:02Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/tree/statements/BLangBlock.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.wso2.ballerinalang.compiler.tree.statements;\n+\n+import org.ballerinalang.model.tree.NodeKind;\n+import org.ballerinalang.model.tree.statements.BlockNode;\n+import org.ballerinalang.model.tree.statements.BlockStatementNode;\n+import org.wso2.ballerinalang.compiler.tree.BLangNodeVisitor;\n+\n+/**\n+ * @since 0.94\n+ */\n+public class BLangBlock extends BLangStatement implements BlockNode {", "originalCommit": "e18bf1b3999e27f28fee465e6f930493248ca190", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg0NzE5OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r422847198", "bodyText": "The reason to add new node is to specialize block statement as one type of statement. I think when considering BLangBlockStmt it keeps all types of statements.", "author": "chiranSachintha", "createdAt": "2020-05-11T07:47:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMTU4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc1NjQyOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423756429", "bodyText": "Logic was changed according to available nodes.(BLangBlockStmt, BlockStatementNode)", "author": "chiranSachintha", "createdAt": "2020-05-12T13:59:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgxMTU4MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTM1NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423435354", "bodyText": "wrong year", "author": "SupunS", "createdAt": "2020-05-12T03:07:10Z", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "originalCommit": "e18bf1b3999e27f28fee465e6f930493248ca190", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc1NjgxNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423756817", "bodyText": "Changed", "author": "chiranSachintha", "createdAt": "2020-05-12T14:00:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTM1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQzNTcwMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23020#discussion_r423435703", "bodyText": "you can use a single line description, and then use <code> { statement* } </code> to represent the code", "author": "SupunS", "createdAt": "2020-05-12T03:08:43Z", "path": "compiler/ballerina-lang/src/main/java/org/ballerinalang/model/tree/statements/BlockNode.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ *  Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+\n+package org.ballerinalang.model.tree.statements;\n+\n+/**\n+ * {.\n+ *  body.\n+ * }.", "originalCommit": "e18bf1b3999e27f28fee465e6f930493248ca190", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4580a05ff04f3cd7cd3b5a8bdd221704e83507a4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4580a05ff04f3cd7cd3b5a8bdd221704e83507a4", "message": "Fix review suggestions", "committedDate": "2020-05-12T09:25:03Z", "type": "commit"}, {"oid": "91d7aa61b0351cb94296b5ad5e0e7f4803090ceb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/91d7aa61b0351cb94296b5ad5e0e7f4803090ceb", "message": "Modify some block-stmt tests", "committedDate": "2020-05-12T11:39:28Z", "type": "commit"}, {"oid": "44cb6a9972c8cf428fcb1adddcd3e50664b26f7d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/44cb6a9972c8cf428fcb1adddcd3e50664b26f7d", "message": "Fix review suggestions", "committedDate": "2020-05-13T08:02:07Z", "type": "commit"}, {"oid": "7c9823d814c21565b7ac3650b3228ee639999b5d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c9823d814c21565b7ac3650b3228ee639999b5d", "message": "Fix review suggestions", "committedDate": "2020-05-13T11:28:09Z", "type": "commit"}, {"oid": "8e261302d663440ca5640c849479740e42d482b8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8e261302d663440ca5640c849479740e42d482b8", "message": "Apply suggestions from code review\n\nCo-authored-by: Maryam Ziyad <maryamziyadm@gmail.com>", "committedDate": "2020-05-13T16:35:57Z", "type": "commit"}, {"oid": "75e550af801cdb1c4ecc3165c9a0705d71c3fbb9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/75e550af801cdb1c4ecc3165c9a0705d71c3fbb9", "message": "Fix failure tests", "committedDate": "2020-05-13T17:26:16Z", "type": "commit"}, {"oid": "3dd614a1fc2227030cf7ff3138567fcff0934547", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3dd614a1fc2227030cf7ff3138567fcff0934547", "message": "Merge branch 'issue-22872' of https://github.com/chiranSachintha/ballerina-lang into issue-22872", "committedDate": "2020-05-13T17:30:58Z", "type": "commit"}]}