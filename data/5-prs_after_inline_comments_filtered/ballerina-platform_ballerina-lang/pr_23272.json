{"pr_number": 23272, "pr_title": "Add distinct type support to new parser", "pr_createdAt": "2020-05-14T16:04:58Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/23272", "timeline": [{"oid": "700e1c498a73ea72d6f5fdee2518a49ddf38e72d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/700e1c498a73ea72d6f5fdee2518a49ddf38e72d", "message": "distinct lexer terminal.", "committedDate": "2020-05-14T06:59:06Z", "type": "commit"}, {"oid": "6290b1651cfd8a53f43a61d00f3d2d5790d950e8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6290b1651cfd8a53f43a61d00f3d2d5790d950e8", "message": "Merge branch 'intersection-type' into distinct-type", "committedDate": "2020-05-14T07:00:08Z", "type": "commit"}, {"oid": "fe9bc58402d6c404cd43666cadf8473e33eef548", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fe9bc58402d6c404cd43666cadf8473e33eef548", "message": "distinct type descriptor support.", "committedDate": "2020-05-14T07:19:19Z", "type": "commit"}, {"oid": "618c0480576c1235bf5101a60b9b07110945aa5c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/618c0480576c1235bf5101a60b9b07110945aa5c", "message": "Merge branch 'intersection-type' into distinct-type", "committedDate": "2020-05-14T07:23:15Z", "type": "commit"}, {"oid": "fd7bda3955995aefedd7b551d3b0c16efd3821f8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fd7bda3955995aefedd7b551d3b0c16efd3821f8", "message": "Recovery logic for disctinct type descriptor.", "committedDate": "2020-05-14T07:34:25Z", "type": "commit"}, {"oid": "ccf724a6969ce2d9ad3d512841acb2966c364fb8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ccf724a6969ce2d9ad3d512841acb2966c364fb8", "message": "Test cases for distinct type descriptor.", "committedDate": "2020-05-14T07:54:48Z", "type": "commit"}, {"oid": "789b9a0cbc5becaa84402e2f5f2c4020464678dc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/789b9a0cbc5becaa84402e2f5f2c4020464678dc", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into distinct-type", "committedDate": "2020-05-14T16:02:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MDY0Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23272#discussion_r425260647", "bodyText": "I feel we can live without the TYPE_DESC_IN_DISTINCT_TYPE_DESC. What if we pass the parent context (the one that comes to parseTypeDescriptorInternal() method) as is?", "author": "SupunS", "createdAt": "2020-05-14T16:14:44Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -8462,4 +8465,31 @@ private STNode parseReadonlyKeyword() {\n             return sol.recoveredNode;\n         }\n     }\n+\n+    /**\n+     * Parse distinct type descriptor.\n+     * <p>distinct-type-desc := distinct type-desc</p>\n+     *\n+     * @return Parsed node\n+     */\n+    private STNode parseDistinctTypeDesc() {\n+        STNode distinctKeywordToken = parseDistinctKeyword();\n+        STNode typeDescriptorNode = parseTypeDescriptor(ParserRuleContext.TYPE_DESC_IN_DISTINCT_TYPE_DESC);", "originalCommit": "789b9a0cbc5becaa84402e2f5f2c4020464678dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a505625cbff956105960b5579c23862441f1a607", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a505625cbff956105960b5579c23862441f1a607", "message": "Removed context TYPE_DESC_IN_DISTINCT_TYPE_DESC", "committedDate": "2020-05-14T16:24:32Z", "type": "commit"}, {"oid": "6fa74d58ff9e5958aa2d7ac321e534a82ef3e6ea", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6fa74d58ff9e5958aa2d7ac321e534a82ef3e6ea", "message": "Passed parent ctx to parseDistinctTypeDesc() method.", "committedDate": "2020-05-14T16:57:56Z", "type": "commit"}, {"oid": "289b4494de281e26455784d289cc71e0ba324943", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/289b4494de281e26455784d289cc71e0ba324943", "message": "Changed readonly and distinct type as simple types.", "committedDate": "2020-05-15T04:42:30Z", "type": "commit"}, {"oid": "b5ade4bd652544d0ac5b5b0aef5bcb681a82ae5e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5ade4bd652544d0ac5b5b0aef5bcb681a82ae5e", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into distinct-type", "committedDate": "2020-05-15T04:51:39Z", "type": "commit"}]}