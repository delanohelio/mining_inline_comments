{"pr_number": 24835, "pr_title": "Support executing a single test function", "pr_createdAt": "2020-07-19T18:45:31Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835", "timeline": [{"oid": "f515897b4193dccfe4e92080103312c54565bede", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f515897b4193dccfe4e92080103312c54565bede", "message": "Support executing a single test function", "committedDate": "2020-07-18T06:07:00Z", "type": "commit"}, {"oid": "717774d1957589d105e06bdea3ae8c8676fbebd0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/717774d1957589d105e06bdea3ae8c8676fbebd0", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-07-18T06:07:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgwMzgwMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#discussion_r460803801", "bodyText": "Have we considered having tests for test cases that fail as well?\nSuppose we have a test case named testFunc3 that is set to fail. If we have the command --tests testFunc2, testFunc3 , then will the result be 2 passing, 1 failing?\nAlso does the execution continue if the testFunc3 is provided at the start. Something like --tests testFunc3, testFunc2?", "author": "Ibaqu", "createdAt": "2020-07-27T10:44:48Z", "path": "tests/testerina-integration-test/src/test/java/org/ballerinalang/testerina/test/SelectedFunctionTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*\n+ *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *  http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing,\n+ *  software distributed under the License is distributed on an\n+ *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ *  KIND, either express or implied.  See the License for the\n+ *  specific language governing permissions and limitations\n+ *  under the License.\n+ */\n+package org.ballerinalang.testerina.test;\n+\n+import org.ballerinalang.test.context.BMainInstance;\n+import org.ballerinalang.test.context.BallerinaTestException;\n+import org.ballerinalang.test.context.LogLeecher;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.Test;\n+\n+import static org.ballerinalang.test.context.LogLeecher.LeecherType.ERROR;\n+\n+/**\n+ * Test class containing tests related to selective function tests.\n+ */\n+public class SelectedFunctionTest extends BaseTestCase {\n+\n+    private BMainInstance balClient;\n+    private String projectPath;\n+\n+    @BeforeClass\n+    public void setup() throws BallerinaTestException {\n+        balClient = new BMainInstance(balServer);\n+        projectPath = singleFilesProjectPath.resolve(\"single-test-execution\").toString();\n+    }\n+\n+    @Test\n+    public void testSingleFunctionExecution() throws BallerinaTestException {\n+        String msg = \"1 passing\";\n+        LogLeecher clientLeecher = new LogLeecher(msg);\n+        balClient.runMain(\"test\", new String[]{\"--tests\", \"testFunc\", \"single-test-execution.bal\"},\n+                null, new String[]{}, new LogLeecher[]{clientLeecher}, projectPath);\n+        clientLeecher.waitForText(20000);\n+    }\n+\n+    @Test\n+    public void testDependentFunctionExecution() throws BallerinaTestException {\n+        String msg = \"2 passing\";\n+        LogLeecher clientLeecher = new LogLeecher(msg);\n+        balClient.runMain(\"test\", new String[]{\"--tests\", \"testFunc2\", \"single-test-execution.bal\"},\n+                null, new String[]{}, new LogLeecher[]{clientLeecher}, projectPath);\n+        clientLeecher.waitForText(20000);\n+    }\n+\n+    @Test\n+    public void testMultipleFunctionExecution() throws BallerinaTestException {\n+        String msg = \"2 passing\";\n+        LogLeecher clientLeecher = new LogLeecher(msg);\n+        balClient.runMain(\"test\", new String[]{\"--tests\", \"testFunc,testFunc2\",", "originalCommit": "717774d1957589d105e06bdea3ae8c8676fbebd0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgzMjY2MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24835#discussion_r460832660", "bodyText": "@Ibaqu The test failure Is similar to how failed tests are handled in our test suites.\nThe order of execution is similar to the default test execution. The tests are not run in the order we pass them to the --tests flag.", "author": "Dilhasha", "createdAt": "2020-07-27T11:45:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgwMzgwMQ=="}], "type": "inlineReview"}, {"oid": "f934b7d09146704926875babaec3603f45791393", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f934b7d09146704926875babaec3603f45791393", "message": "Resolve conflicts with master", "committedDate": "2020-07-28T06:32:27Z", "type": "commit"}, {"oid": "9aa9fbb93e6103eedd55572b0d47f0a6654ca6cc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9aa9fbb93e6103eedd55572b0d47f0a6654ca6cc", "message": "Add license header to for new test file", "committedDate": "2020-07-28T10:04:13Z", "type": "commit"}, {"oid": "68dd7b909e0c504e71028b3ac29f802222b9a0be", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/68dd7b909e0c504e71028b3ac29f802222b9a0be", "message": "Add missing license headers to test files", "committedDate": "2020-07-28T10:11:39Z", "type": "commit"}, {"oid": "ffddb907c4fbd21c94d800fb291146ab5f269792", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ffddb907c4fbd21c94d800fb291146ab5f269792", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into issue-24628-master", "committedDate": "2020-07-29T09:56:47Z", "type": "commit"}, {"oid": "29aeee215e9e4a0c205459ae074557172b5560c8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/29aeee215e9e4a0c205459ae074557172b5560c8", "message": "Fix line numbers after adding license header", "committedDate": "2020-07-29T13:39:07Z", "type": "commit"}]}