{"pr_number": 24691, "pr_title": "Add cookie field in the WebSocket config", "pr_createdAt": "2020-07-10T08:08:26Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/24691", "timeline": [{"oid": "d2f8528818b40f759a1d585b7f62871d7b0d35b0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d2f8528818b40f759a1d585b7f62871d7b0d35b0", "message": "Add the cookie field in the config", "committedDate": "2020-07-10T08:01:11Z", "type": "commit"}, {"oid": "89175bf7dfe631bc0950a4f907a3b502adb87928", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/89175bf7dfe631bc0950a4f907a3b502adb87928", "message": "Add the new line", "committedDate": "2020-07-10T08:04:33Z", "type": "commit"}, {"oid": "81910335405de54f51c8fc5eea261263d2682f67", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/81910335405de54f51c8fc5eea261263d2682f67", "message": "change the description", "committedDate": "2020-07-10T08:11:38Z", "type": "commit"}, {"oid": "d1b2a621c5f91d526ab50c63edc5072e923948d4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d1b2a621c5f91d526ab50c63edc5072e923948d4", "message": "Fix test failure", "committedDate": "2020-07-10T08:47:29Z", "type": "commit"}, {"oid": "4479dd208ae671deedbec5670878ba5f835a3622", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4479dd208ae671deedbec5670878ba5f835a3622", "message": "Merge with master", "committedDate": "2020-07-10T08:54:24Z", "type": "commit"}, {"oid": "c3fc6ae9a9a1c982d6e1212650b94b4e7cff7d89", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c3fc6ae9a9a1c982d6e1212650b94b4e7cff7d89", "message": "Remove white spaces", "committedDate": "2020-07-10T09:11:47Z", "type": "commit"}, {"oid": "6c2e01e241ec533574f09edd023f1d4d1f0217b3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6c2e01e241ec533574f09edd023f1d4d1f0217b3", "message": "Merge https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-07-10T10:54:10Z", "type": "commit"}, {"oid": "ca1b034c996bbfbe135ad4178aa813a05a5e950b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ca1b034c996bbfbe135ad4178aa813a05a5e950b", "message": "Fix server core test failures", "committedDate": "2020-07-10T11:48:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjgxMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24691#discussion_r455026812", "bodyText": "can this headers be null?", "author": "chamil321", "createdAt": "2020-07-15T12:51:59Z", "path": "stdlib/http/src/main/java/org/ballerinalang/net/http/websocket/WebSocketUtil.java", "diffHunk": "@@ -502,12 +500,31 @@ public static void populateClientConnectorConfig(MapValue<BString, Object> clien\n                 clientEndpointConfig.getBooleanValue(WebSocketConstants.COMPRESSION_ENABLED_CONFIG));\n     }\n \n-    private static Map<String, String> getCustomHeaders(MapValue<BString, Object> headers) {\n+    private static void populateCustomHeaders(MapValue<BString, Object> clientEndpointConfig,\n+                                              WebSocketClientConnectorConfig clientConnectorConfig) {\n         Map<String, String> customHeaders = new HashMap<>();\n-        headers.entrySet().forEach(\n-                entry -> customHeaders.put(entry.getKey().getValue(), headers.get(entry.getKey()).toString())\n-        );\n-        return customHeaders;\n+        @SuppressWarnings(WebSocketConstants.UNCHECKED)\n+        MapValue<BString, Object> headers = (MapValue<BString, Object>) clientEndpointConfig.getMapValue(\n+                WebSocketConstants.CLIENT_CUSTOM_HEADERS_CONFIG);\n+        if (!headers.isEmpty()) {", "originalCommit": "ca1b034c996bbfbe135ad4178aa813a05a5e950b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTUyODIwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24691#discussion_r455528205", "bodyText": "Yes, It can be null as it gets from the WebSocket config", "author": "kalaiyarasiganeshalingam", "createdAt": "2020-07-16T06:01:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjgxMg=="}], "type": "inlineReview"}]}