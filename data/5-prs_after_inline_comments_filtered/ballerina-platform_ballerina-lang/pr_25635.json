{"pr_number": 25635, "pr_title": "Verify and Fix XML related Formatter test case scenarios", "pr_createdAt": "2020-09-07T04:20:31Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25635", "timeline": [{"oid": "cda11d8ded8317fff61e267051796b8660ad046c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cda11d8ded8317fff61e267051796b8660ad046c", "message": "Modify FormattingTreeModifier.java", "committedDate": "2020-09-07T04:07:38Z", "type": "commit"}, {"oid": "100f7da6b67891637bf046fce793650a8b217ccb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/100f7da6b67891637bf046fce793650a8b217ccb", "message": "Fix XML related formatter test issues", "committedDate": "2020-09-07T04:10:30Z", "type": "commit"}, {"oid": "1f98511818c9ad998dc1c7cfdde1f398b0a6ebf3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1f98511818c9ad998dc1c7cfdde1f398b0a6ebf3", "message": "Merge branch 'master' into formatter-fixes", "committedDate": "2020-09-07T04:11:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDE4NDYzOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25635#discussion_r484184638", "bodyText": "Shouldn't this be an AND expression here? Since both the namespacePrefix and the asKeyword should not be null.", "author": "IrushiL", "createdAt": "2020-09-07T05:05:07Z", "path": "misc/formatter/modules/formatter-core/src/main/java/org/ballerinalang/formatter/core/FormattingTreeModifier.java", "diffHunk": "@@ -1186,12 +1186,16 @@ public XMLNamespaceDeclarationNode transform(XMLNamespaceDeclarationNode xMLName\n         Token asKeyword = getToken(xMLNamespaceDeclarationNode.asKeyword().orElse(null));\n         IdentifierToken namespacePrefix = this.modifyNode(xMLNamespaceDeclarationNode.namespacePrefix().orElse(null));\n         Token semicolonToken = getToken(xMLNamespaceDeclarationNode.semicolonToken());\n+        if (asKeyword != null || namespacePrefix != null) {", "originalCommit": "1f98511818c9ad998dc1c7cfdde1f398b0a6ebf3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDM2MDIyNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25635#discussion_r484360227", "bodyText": "The purpose of using the OR is, if either one of asKeyword or namespacePrefix is available (not null), then the if condition would be true and both of them should be present when applying the modifications.\nOtherwise if even a single one out of them is null, there would be an assertion error generated when checking in the Objects.requireNonNull() methods of tree node modifier utility.\nAnd, even if the asKeyword is null, still the parser would be returning a MISSING[as] token if the namespacePrefix is present.\nIs this approach correct, or, are there any other suggestions?", "author": "sanjana", "createdAt": "2020-09-07T11:02:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDE4NDYzOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDgxMjE3Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25635#discussion_r484812177", "bodyText": "@IrushiL, Thank you for pointing out the issue here. Fixed the logical error.", "author": "sanjana", "createdAt": "2020-09-08T10:23:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDE4NDYzOA=="}], "type": "inlineReview"}, {"oid": "824f0df51299bf3b03d3a7835a48ec7ca39673ba", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/824f0df51299bf3b03d3a7835a48ec7ca39673ba", "message": "Limit formatter related statements to only XMLNSDeclarationStatementsTest", "committedDate": "2020-09-07T11:06:57Z", "type": "commit"}, {"oid": "375d45951a6d852a31fef569260aa83f3d3bc0e2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/375d45951a6d852a31fef569260aa83f3d3bc0e2", "message": "Correct logical error in FormattingTreeModifier.java", "committedDate": "2020-09-08T10:19:23Z", "type": "commit"}, {"oid": "cc0a1068ed5662cc5491615572e18668110b5fa9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cc0a1068ed5662cc5491615572e18668110b5fa9", "message": "Merge branch 'master' into formatter-fixes", "committedDate": "2020-09-08T10:20:51Z", "type": "commit"}, {"oid": "07ba9163d45b093545de212088376f244f951447", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/07ba9163d45b093545de212088376f244f951447", "message": "Fix windows newline char issue in formatter", "committedDate": "2020-09-10T00:10:35Z", "type": "commit"}, {"oid": "5037e340085edba801d6f20b40920cadad7e7a88", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5037e340085edba801d6f20b40920cadad7e7a88", "message": "Merge branch 'master' into formatter-fixes", "committedDate": "2020-09-10T00:12:02Z", "type": "commit"}, {"oid": "4a6cb9a55eba01382557a8f38ac9ffef04ddeb16", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4a6cb9a55eba01382557a8f38ac9ffef04ddeb16", "message": "Fix whitespace formatting in xmlns_declaration_statement_1.bal assertion", "committedDate": "2020-09-10T07:38:21Z", "type": "commit"}, {"oid": "8f31b42412fa74e4fc95c59a08e642d80112c0fe", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8f31b42412fa74e4fc95c59a08e642d80112c0fe", "message": "Modify start column in xMLNamespaceDeclarationNode", "committedDate": "2020-09-10T07:40:20Z", "type": "commit"}, {"oid": "bebe579ea282697e2c0aa6b1b2320ac5cd9a3e1f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bebe579ea282697e2c0aa6b1b2320ac5cd9a3e1f", "message": "Remove superfluous newline replacement in FormatterTest", "committedDate": "2020-09-10T07:42:38Z", "type": "commit"}, {"oid": "f1ffe6bd51dfd72d13a1a67c4083483f463a4ea0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f1ffe6bd51dfd72d13a1a67c4083483f463a4ea0", "message": "Merge branch 'master' into formatter-fixes", "committedDate": "2020-09-10T07:44:49Z", "type": "commit"}]}