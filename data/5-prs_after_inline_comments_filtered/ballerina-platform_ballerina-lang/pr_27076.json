{"pr_number": 27076, "pr_title": "Add import auto-completion support for new project structure", "pr_createdAt": "2020-11-23T08:11:09Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/27076", "timeline": [{"oid": "04237e02b171a1d5ac3440eb487a8fff7da49fb1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04237e02b171a1d5ac3440eb487a8fff7da49fb1", "message": "add import completions suggestion for the new project structure", "committedDate": "2020-11-23T07:48:24Z", "type": "commit"}, {"oid": "76c94bcf033721adfcc65ae04abf53e538e668bc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/76c94bcf033721adfcc65ae04abf53e538e668bc", "message": "Merge branch 'master' into dev-branch", "committedDate": "2020-11-23T07:50:19Z", "type": "commit"}, {"oid": "543a5b97d83767d8de17a84b4e1afd3b8e70455a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/543a5b97d83767d8de17a84b4e1afd3b8e70455a", "message": "add tests for the new import suggestions", "committedDate": "2020-11-23T09:52:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYxODIxOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27076#discussion_r528618218", "bodyText": "Let's keep the currentDocument as  the lazy loading field. Then we can  calculate module, package, project on top of it. We can push it on post SLP6.", "author": "rasika", "createdAt": "2020-11-23T10:55:44Z", "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/contexts/AbstractDocumentServiceContext.java", "diffHunk": "@@ -123,6 +126,15 @@ public WorkspaceManager workspace() {\n         return this.currentDocImports;\n     }\n \n+    @Override\n+    public Optional<Module> currentModule() {\n+        if (this.currentModule == null) {\n+            this.currentModule = this.workspaceManager.module(this.filePath).orElse(null);", "originalCommit": "543a5b97d83767d8de17a84b4e1afd3b8e70455a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYxODY5Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27076#discussion_r528618692", "bodyText": "+1", "author": "nadeeshaan", "createdAt": "2020-11-23T10:56:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYxODIxOA=="}], "type": "inlineReview"}]}