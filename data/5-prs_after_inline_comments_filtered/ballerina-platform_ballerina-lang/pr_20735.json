{"pr_number": 20735, "pr_title": "Add Ballerina Stream type", "pr_createdAt": "2020-01-24T08:19:17Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/20735", "timeline": [{"oid": "93d483fc9194a0e73acd90d6ce9d9c6d2ed65e74", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/93d483fc9194a0e73acd90d6ce9d9c6d2ed65e74", "message": "Add old ballerina stream type\n\nThis partially reverts commit 693f81b7", "committedDate": "2020-01-24T08:10:32Z", "type": "commit"}, {"oid": "3d0fd12eb7c18022d4c2aab0e16dbeeb677a5f0f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3d0fd12eb7c18022d4c2aab0e16dbeeb677a5f0f", "message": "Make stream type un-initializable with new", "committedDate": "2020-01-27T09:19:35Z", "type": "commit"}, {"oid": "180e69f0f0f2561ad8ee4c258573b2f39e2496d5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/180e69f0f0f2561ad8ee4c258573b2f39e2496d5", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into add-stream-type", "committedDate": "2020-01-27T09:20:01Z", "type": "commit"}, {"oid": "47a612cb975eaf79b20aaf6d44ca7c8474446c8a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/47a612cb975eaf79b20aaf6d44ca7c8474446c8a", "message": "Remove publish, subscribe and stream init from old stream construct", "committedDate": "2020-01-28T02:53:45Z", "type": "commit"}, {"oid": "d06049afc9cddc18776f8daed5dc24e384750ac8", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d06049afc9cddc18776f8daed5dc24e384750ac8", "message": "Add Streamvalue function filter and toStream functions", "committedDate": "2020-01-29T09:18:53Z", "type": "commit"}, {"oid": "11cbe980b3005dcbff76ac3148fccecbbe7354a7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/11cbe980b3005dcbff76ac3148fccecbbe7354a7", "message": "Merge pull request #24 from Hoolalaa/add-stream-type\n\nAdd Streamvalue function filter and toStream functions", "committedDate": "2020-01-29T09:22:21Z", "type": "commit"}, {"oid": "651bff806adb044546ad7d50b45016b7e0f57ee3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/651bff806adb044546ad7d50b45016b7e0f57ee3", "message": "Refactor Streamvalue function filter and toStream functions", "committedDate": "2020-01-29T11:47:16Z", "type": "commit"}, {"oid": "718d09ccce5d724f5bcfaee6ead2cfd225342eaf", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/718d09ccce5d724f5bcfaee6ead2cfd225342eaf", "message": "Add tests for streams filter functionality", "committedDate": "2020-01-29T11:48:59Z", "type": "commit"}, {"oid": "b5d4386e21583b5a286519ca57a8547f262ee236", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b5d4386e21583b5a286519ca57a8547f262ee236", "message": "Refactor code", "committedDate": "2020-01-29T11:55:26Z", "type": "commit"}, {"oid": "6ce050e1eb4f0331e27814ba5eb7f1a116535365", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ce050e1eb4f0331e27814ba5eb7f1a116535365", "message": "Add mapper functionality - not the impl", "committedDate": "2020-01-29T14:43:09Z", "type": "commit"}, {"oid": "af72bebabb813d407471dc428b53ff799b71a70e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/af72bebabb813d407471dc428b53ff799b71a70e", "message": "Refactor tests", "committedDate": "2020-01-29T14:51:39Z", "type": "commit"}, {"oid": "a7c88a80990d3398e56ba899905a326e9e224e06", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a7c88a80990d3398e56ba899905a326e9e224e06", "message": "Refactor tests", "committedDate": "2020-01-29T14:59:56Z", "type": "commit"}, {"oid": "0aa4996ccf1d9fd8741005e3f7ca0c0d32af52c6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0aa4996ccf1d9fd8741005e3f7ca0c0d32af52c6", "message": "Improve tests to check the end of the bounded stream", "committedDate": "2020-01-29T15:03:55Z", "type": "commit"}, {"oid": "64393c689ce36397c186a8d91bd64b9e8d13272d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/64393c689ce36397c186a8d91bd64b9e8d13272d", "message": "Merge pull request #25 from Hoolalaa/add-stream-type\n\nAdd stream filter functionality tests", "committedDate": "2020-01-30T02:54:37Z", "type": "commit"}, {"oid": "81530eb39fcc4d4cf2a70f794276461be5c052a6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/81530eb39fcc4d4cf2a70f794276461be5c052a6", "message": "Add initial impl of `lang.stream:map()`", "committedDate": "2020-01-30T02:57:51Z", "type": "commit"}, {"oid": "7da471d36310e8a329d5e3ab7b19182d0bf79aef", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7da471d36310e8a329d5e3ab7b19182d0bf79aef", "message": "Add impl of `lang.stream:map()`", "committedDate": "2020-01-30T06:36:02Z", "type": "commit"}, {"oid": "2789601d65c7ed284584e50a677815b4af53759d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2789601d65c7ed284584e50a677815b4af53759d", "message": "Add temp fix for chained stream function invocations", "committedDate": "2020-01-30T09:53:43Z", "type": "commit"}, {"oid": "27c9ee4c84063201013121701d87ecec9fc7bb17", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/27c9ee4c84063201013121701d87ecec9fc7bb17", "message": "Fix laziness", "committedDate": "2020-01-30T13:10:01Z", "type": "commit"}, {"oid": "09656c72b3ee8fd46982807283b4ccba96ac6508", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/09656c72b3ee8fd46982807283b4ccba96ac6508", "message": "Format code", "committedDate": "2020-01-30T13:13:31Z", "type": "commit"}, {"oid": "2532d21c35ae98d789c0b21bf1e7954301e982a3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2532d21c35ae98d789c0b21bf1e7954301e982a3", "message": "Remove duplicate code", "committedDate": "2020-01-31T04:02:54Z", "type": "commit"}, {"oid": "49069caaac862181f56e2458862057a868939c85", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/49069caaac862181f56e2458862057a868939c85", "message": "Merge pull request #26 from Hoolalaa/add-stream-type\n\nFix laziness", "committedDate": "2020-01-31T04:11:08Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1NjgwOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20735#discussion_r373356809", "bodyText": "Let's update the year in license file as 2020.", "author": "mohanvive", "createdAt": "2020-01-31T08:09:17Z", "path": "bvm/ballerina-core/src/main/java/org/ballerinalang/model/types/BStreamType.java", "diffHunk": "@@ -0,0 +1,94 @@\n+/*\n+ *  Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "originalCommit": "49069caaac862181f56e2458862057a868939c85", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1OTM2Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20735#discussion_r373359363", "bodyText": "Do we need this change?", "author": "mohanvive", "createdAt": "2020-01-31T08:17:26Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/programfile/ProgramFileConstants.java", "diffHunk": "@@ -25,9 +25,9 @@\n \n     public static final int MAGIC_NUMBER = 0xBA1DA4CE;\n     public static final short VERSION_NUMBER = 50;\n-    public static final int BIR_VERSION_NUMBER = 52;\n-    public static final short MIN_SUPPORTED_VERSION = 52;\n-    public static final short MAX_SUPPORTED_VERSION = 52;\n+    public static final int BIR_VERSION_NUMBER = 51;\n+    public static final short MIN_SUPPORTED_VERSION = 51;\n+    public static final short MAX_SUPPORTED_VERSION = 51;", "originalCommit": "49069caaac862181f56e2458862057a868939c85", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM3NTUyMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20735#discussion_r373375523", "bodyText": "This is to make sure the BIR version of the reader and the writer. This was changed earlier, as the stream type was removed. However, since this is sort of a revert PR, and we re-introduce stream type, earlier BIR version should still support, without any issues", "author": "grainier", "createdAt": "2020-01-31T09:03:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM1OTM2Mw=="}], "type": "inlineReview"}, {"oid": "135ff716642d1debaabd80017bed990f181482c9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/135ff716642d1debaabd80017bed990f181482c9", "message": "Fix license headers", "committedDate": "2020-01-31T08:34:27Z", "type": "commit"}, {"oid": "a0495a8a426790c80ccd2403bc4b33f48a032448", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a0495a8a426790c80ccd2403bc4b33f48a032448", "message": "Fix checkstyle issues", "committedDate": "2020-01-31T09:07:44Z", "type": "commit"}, {"oid": "35ef4be6703f00d7c26998d6fa35c313daf8e4b7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/35ef4be6703f00d7c26998d6fa35c313daf8e4b7", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into add-stream-type", "committedDate": "2020-01-31T09:09:44Z", "type": "commit"}, {"oid": "0a986645f786aecce312a3921ae43b24db2330a3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0a986645f786aecce312a3921ae43b24db2330a3", "message": "Fix checkstyle issues", "committedDate": "2020-01-31T10:07:00Z", "type": "commit"}, {"oid": "b9a30f732754a18530992bf3c65728f0e8ba8c8c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b9a30f732754a18530992bf3c65728f0e8ba8c8c", "message": "Merge branch 'master' of github.com:ballerina-platform/ballerina-lang into add-stream-type", "committedDate": "2020-02-03T04:42:30Z", "type": "commit"}, {"oid": "9df19c378c2cc343f4cec483482d63053fa0ba32", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9df19c378c2cc343f4cec483482d63053fa0ba32", "message": "Fix completion test cases", "committedDate": "2020-02-03T05:53:54Z", "type": "commit"}, {"oid": "d29ee58fba49357e93fecb48987cea50bf7ccfdf", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d29ee58fba49357e93fecb48987cea50bf7ccfdf", "message": "Fix create java docs issues", "committedDate": "2020-02-03T06:31:41Z", "type": "commit"}, {"oid": "f0081a7ef460c0803fa6192a2e6919e1cc9d0a72", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f0081a7ef460c0803fa6192a2e6919e1cc9d0a72", "message": "Fix lang server tests", "committedDate": "2020-02-03T10:15:52Z", "type": "commit"}, {"oid": "6d873507659d138304a23475ce1ed71f31e28422", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6d873507659d138304a23475ce1ed71f31e28422", "message": "Remove NewStream and stream literal", "committedDate": "2020-02-05T04:41:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTA1OTM4Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20735#discussion_r375059382", "bodyText": "We can remove this as we dont have any streamTypeChecker related code now", "author": "gimantha", "createdAt": "2020-02-05T04:58:15Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/semantics/analyzer/TypeParamAnalyzer.java", "diffHunk": "@@ -114,6 +115,12 @@ public static boolean containsTypeParam(BType type) {\n \n     void checkForTypeParamsInArg(BType actualType, SymbolEnv env, BType expType) {\n \n+        if (actualType == null) {", "originalCommit": "6d873507659d138304a23475ce1ed71f31e28422", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "255ad3b6070bbac4583dd0fd8e341fb8ba235234", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/255ad3b6070bbac4583dd0fd8e341fb8ba235234", "message": "Update license year", "committedDate": "2020-02-05T05:08:57Z", "type": "commit"}, {"oid": "598295eb14d7a2c3e7ba75d780e63758c797e1ba", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/598295eb14d7a2c3e7ba75d780e63758c797e1ba", "message": "Remove null check since StreamTypeChecker is no longer present", "committedDate": "2020-02-05T05:09:41Z", "type": "commit"}, {"oid": "781fd5922d2b64693e96fd73b5edab14b3f9a3a3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/781fd5922d2b64693e96fd73b5edab14b3f9a3a3", "message": "Remove stream based lang server tests", "committedDate": "2020-02-05T05:13:03Z", "type": "commit"}, {"oid": "bee746ecf4ea906034c9d2528e48d4187b81d3d9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bee746ecf4ea906034c9d2528e48d4187b81d3d9", "message": "Remove stream based types test", "committedDate": "2020-02-05T05:22:17Z", "type": "commit"}]}