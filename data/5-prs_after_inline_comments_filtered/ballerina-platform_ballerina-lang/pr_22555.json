{"pr_number": 22555, "pr_title": "Add optional type support", "pr_createdAt": "2020-04-09T18:11:59Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/22555", "timeline": [{"oid": "e891e10f3655e45e1d2ebe41663be1753650efb3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e891e10f3655e45e1d2ebe41663be1753650efb3", "message": "Optional type support with recovery logic", "committedDate": "2020-04-09T10:33:27Z", "type": "commit"}, {"oid": "c9255d121a440bc78f5d02b87d486049ee57209b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c9255d121a440bc78f5d02b87d486049ee57209b", "message": "Test cases for the optional type", "committedDate": "2020-04-09T17:50:21Z", "type": "commit"}, {"oid": "401a5858046cd5dd525121e61573e7ab09a2e4af", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/401a5858046cd5dd525121e61573e7ab09a2e4af", "message": "Resolved merge conflicts", "committedDate": "2020-04-09T17:59:05Z", "type": "commit"}, {"oid": "2739ff2732df7a58b973fcbcb52acbec97093b07", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2739ff2732df7a58b973fcbcb52acbec97093b07", "message": "Removed extra new lines", "committedDate": "2020-04-09T18:10:03Z", "type": "commit"}, {"oid": "c951518cecff9cdb4a370aff60ddf570441aa440", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c951518cecff9cdb4a370aff60ddf570441aa440", "message": "Changed the logic of detecting the optional type descriptor", "committedDate": "2020-04-10T04:32:54Z", "type": "commit"}, {"oid": "d99444dba942b2363d4163cc753f234726a288f6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d99444dba942b2363d4163cc753f234726a288f6", "message": "Merge branch 'incremental-parser' of https://github.com/ballerina-platform/ballerina-lang into incremental-parser", "committedDate": "2020-04-10T04:33:26Z", "type": "commit"}, {"oid": "c38aeaf5265b74f843b95ae22ba4be5dc68f23a9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c38aeaf5265b74f843b95ae22ba4be5dc68f23a9", "message": "Modified optional type descriptor node.\n\nModified OptionalTypeDescriptor.java and other necessory changes to match with the new Node style", "committedDate": "2020-04-10T05:18:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYxMjM5MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22555#discussion_r406612391", "bodyText": "Since we push to the context stack when entering the optional-type-desc, we need to pop it too, when exiting from it.\nWe usually do that in the getNextRule().", "author": "SupunS", "createdAt": "2020-04-10T05:46:40Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerinalang/compiler/internal/parser/BallerinaParserErrorHandler.java", "diffHunk": "@@ -1232,6 +1234,7 @@ private ParserRuleContext getNextRule(ParserRuleContext currentCtx, int nextLook\n             case CONSTANT_DECL:\n             case NIL_TYPE_DESCRIPTOR:\n             case COMPOUND_ASSIGNMENT_STMT:\n+            case OPTIONAL_TYPE_DESCRIPTOR:", "originalCommit": "c38aeaf5265b74f843b95ae22ba4be5dc68f23a9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY1NjQwMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/22555#discussion_r406656400", "bodyText": "@SupunS I have corrected it please review again.", "author": "rdulmina", "createdAt": "2020-04-10T08:18:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjYxMjM5MQ=="}], "type": "inlineReview"}, {"oid": "30f7357c9e7911bbbfb4f97733588d130699cb70", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/30f7357c9e7911bbbfb4f97733588d130699cb70", "message": "End contex after parsing the optional type\n\nIn the recovery logic after seen a question mark, if the parent contex is optional type descriptor then end the contex", "committedDate": "2020-04-10T08:13:32Z", "type": "commit"}]}