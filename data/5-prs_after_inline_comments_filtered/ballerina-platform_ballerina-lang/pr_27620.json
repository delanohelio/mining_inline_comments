{"pr_number": 27620, "pr_title": "Fix included record parameter issue with `init` function", "pr_createdAt": "2020-12-22T09:46:14Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/27620", "timeline": [{"oid": "b50af60e65e2b7cbd06300dab0612df9aa1b210a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b50af60e65e2b7cbd06300dab0612df9aa1b210a", "message": "Set flags of generated init function", "committedDate": "2020-12-22T09:40:50Z", "type": "commit"}, {"oid": "fdd66ecf9617e975a00e3dad9f253a68961e66a7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fdd66ecf9617e975a00e3dad9f253a68961e66a7", "message": "Add unit tests for included record parameter", "committedDate": "2020-12-22T09:41:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4MzYxMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27620#discussion_r547183613", "bodyText": "Let's fix the alignment here - align this with the start of Flags.asMask(requiredParameter.flagSet), similar to the rest of the args below.", "author": "MaryamZi", "createdAt": "2020-12-22T10:03:04Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/Desugar.java", "diffHunk": "@@ -536,7 +536,8 @@ private void addRequiredParamsToGeneratedInitFunction(BLangFunction initFunction\n                     ASTBuilderUtil.createVariable(initFunction.pos,\n                                                   requiredParameter.name.getValue(), requiredParameter.type,\n                                                   createRequiredParamExpr(requiredParameter.expr),\n-                                                  new BVarSymbol(0, names.fromString(requiredParameter.name.getValue()),\n+                                                  new BVarSymbol(Flags.asMask(requiredParameter.flagSet),\n+                                                  names.fromString(requiredParameter.name.getValue()),", "originalCommit": "fdd66ecf9617e975a00e3dad9f253a68961e66a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE5MzU1NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27620#discussion_r547193555", "bodyText": "Fixed.", "author": "chiranSachintha", "createdAt": "2020-12-22T10:22:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4MzYxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4NDE2NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27620#discussion_r547184164", "bodyText": "Are these names correct? IMO, it implies there's a param of a function type.", "author": "MaryamZi", "createdAt": "2020-12-22T10:04:05Z", "path": "tests/jballerina-unit-test/src/test/java/org/ballerinalang/test/functions/FunctionWithIncludedRecordParam.java", "diffHunk": "@@ -185,4 +185,9 @@ public void testFunctionOfFunctionTypedParamWithIncludedRecordParam21() {\n     public void testFunctionOfFunctionTypedParamWithIncludedRecordParam22() {\n         BRunUtil.invoke(result, \"testFunctionOfFunctionTypedParamWithIncludedRecordParam22\");\n     }\n+\n+    @Test\n+    public void testFunctionOfFunctionTypedParamWithIncludedRecordParam23() {\n+        BRunUtil.invoke(result, \"testFunctionOfFunctionTypedParamWithIncludedRecordParam23\");", "originalCommit": "fdd66ecf9617e975a00e3dad9f253a68961e66a7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE5NDE0MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27620#discussion_r547194140", "bodyText": "Change as functionWithIncludedRecordParameters.", "author": "chiranSachintha", "createdAt": "2020-12-22T10:23:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzE4NDE2NA=="}], "type": "inlineReview"}, {"oid": "deca04b6ba1462cd717703fbb44d91afff34132b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/deca04b6ba1462cd717703fbb44d91afff34132b", "message": "Fix review suggestions", "committedDate": "2020-12-22T10:22:03Z", "type": "commit"}]}