{"pr_number": 21883, "pr_title": "Apply fix #21872 to all xml items", "pr_createdAt": "2020-03-17T13:24:38Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/21883", "timeline": [{"oid": "79b70dec5614e039dd67424ac96ab3e6bad324c6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/79b70dec5614e039dd67424ac96ab3e6bad324c6", "message": "Perform pull member up on serialize method", "committedDate": "2020-03-17T12:14:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc1MDMyNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21883#discussion_r393750326", "bodyText": "What would outputStream be if it comes to the else clause?", "author": "MaryamZi", "createdAt": "2020-03-17T15:09:30Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/XMLValue.java", "diffHunk": "@@ -195,4 +197,20 @@ public void setChildren(XMLValue seq) {\n     public abstract XMLValue children(String qname);\n \n     public abstract XMLValue getItem(int index);\n+\n+    @Override\n+    public void serialize(OutputStream outputStream) {\n+        try {\n+            if (outputStream instanceof BallerinaXMLSerializer) {\n+                ((BallerinaXMLSerializer) outputStream).write(this);\n+            } else {", "originalCommit": "79b70dec5614e039dd67424ac96ab3e6bad324c6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc1NzMyNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/21883#discussion_r393757325", "bodyText": "ballerina-lang/bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/BallerinaXMLSerializer.java\n    \n    \n         Line 153\n      in\n      5a44cf7\n    \n    \n    \n    \n\n        \n          \n           xmlValue.getChildrenSeq().serialize(this); \n        \n    \n  \n\n here the outputStream is BallerinaXMLSerializer, which means we just want to append serialized xml to this outputStream.\nElse it's a generic output stream that doesn't know how to write an xml value, so we decorate it with BallerinaXMLSerializer which knows how to write xml values.", "author": "rdhananjaya", "createdAt": "2020-03-17T15:19:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzc1MDMyNg=="}], "type": "inlineReview"}]}