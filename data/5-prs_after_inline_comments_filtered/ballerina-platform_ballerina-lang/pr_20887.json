{"pr_number": 20887, "pr_title": "Migrate generateNewXML* to use StringValue", "pr_createdAt": "2020-02-06T07:02:33Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887", "timeline": [{"oid": "0631d3b2c4d944cde049259b551bf67e602d4824", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0631d3b2c4d944cde049259b551bf67e602d4824", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763", "committedDate": "2020-02-06T08:29:55Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMjcwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375712705", "bodyText": "Use BString", "author": "vinok88", "createdAt": "2020-02-06T09:07:33Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/AbstractArrayValue.java", "diffHunk": "@@ -392,5 +392,10 @@ public Object next() {\n         public boolean hasNext() {\n             return cursor < length;\n         }\n+\n+        @Override\n+        public StringValue bStringValue() {", "originalCommit": "0631d3b2c4d944cde049259b551bf67e602d4824", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzE0NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375713145", "bodyText": "'null' return??", "author": "vinok88", "createdAt": "2020-02-06T09:08:28Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/BmpStringValue.java", "diffHunk": "@@ -59,6 +59,11 @@ public String stringValue() {\n         return value;\n     }\n \n+    @Override\n+    public StringValue bStringValue() {\n+        return null;", "originalCommit": "0631d3b2c4d944cde049259b551bf67e602d4824", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzg2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375713861", "bodyText": "Created an issue to track this: #20886 Need to migrate all implementations of BValue. Currently it returns null.", "author": "riyafa", "createdAt": "2020-02-06T09:09:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzE0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzMxMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375713310", "bodyText": "Use BString", "author": "vinok88", "createdAt": "2020-02-06T09:08:51Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/DecimalValue.java", "diffHunk": "@@ -230,6 +230,11 @@ public String stringValue() {\n         return value.toString();\n     }\n \n+    @Override\n+    public StringValue bStringValue() {", "originalCommit": "0631d3b2c4d944cde049259b551bf67e602d4824", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxMzQ2Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375713466", "bodyText": "Use BString", "author": "vinok88", "createdAt": "2020-02-06T09:09:07Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/ErrorValue.java", "diffHunk": "@@ -54,51 +54,52 @@\n \n     private static final long serialVersionUID = 1L;\n     private final BType type;\n-    private final String reason;\n+    private final StringValue reason;", "originalCommit": "0631d3b2c4d944cde049259b551bf67e602d4824", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTcxNDEzOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375714139", "bodyText": "Use BString. Check other places as well.", "author": "vinok88", "createdAt": "2020-02-06T09:10:33Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/values/StreamValue.java", "diffHunk": "@@ -98,6 +98,11 @@ public String stringValue() {\n         return \"stream <\" + getType().toString() + \">\";\n     }\n \n+    @Override\n+    public StringValue bStringValue() {", "originalCommit": "0631d3b2c4d944cde049259b551bf67e602d4824", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTgyMTM2MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/20887#discussion_r375821361", "bodyText": "can we just call the old function here instead coping the content?", "author": "manuranga", "createdAt": "2020-02-06T13:05:06Z", "path": "bvm/ballerina-runtime/src/main/java/org/ballerinalang/jvm/XMLFactory.java", "diffHunk": "@@ -359,24 +414,60 @@ public static XMLValue tableToXML(TableValue table) {\n         return new XMLItem(omText);\n     }\n \n+    /**\n+     * Create a comment type XMLValue.\n+     *\n+     * @param contentVal Text content\n+     * @return XMLValue Text type XMLValue\n+     */\n+    public static XMLValue<?> createXMLText(StringValue contentVal) {\n+        String content = contentVal.getValue();\n+        // Remove carriage return on windows environments to eliminate additional &#xd; being added", "originalCommit": "0631d3b2c4d944cde049259b551bf67e602d4824", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "c758e388e1f484551e72dece9cd22513a9af8b96", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c758e388e1f484551e72dece9cd22513a9af8b96", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763", "committedDate": "2020-02-10T06:00:26Z", "type": "forcePushed"}, {"oid": "04727c3c9b39c08ea7c906d8c89d617e4f58f435", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04727c3c9b39c08ea7c906d8c89d617e4f58f435", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763", "committedDate": "2020-02-10T06:21:33Z", "type": "forcePushed"}, {"oid": "cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763", "committedDate": "2020-02-10T11:14:02Z", "type": "commit"}, {"oid": "cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cc5e10e5c3e625493428a8e07c9aae0cf9f24ea5", "message": "Migrate generateNewXML* to use StringValue\n\nResolve https://github.com/ballerina-platform/ballerina-lang/issues/20763", "committedDate": "2020-02-10T11:14:02Z", "type": "forcePushed"}]}