{"pr_number": 27400, "pr_title": "Fix starting transaction coordinator even if the local transactions are used", "pr_createdAt": "2020-12-09T05:08:59Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/27400", "timeline": [{"oid": "3b967ec46cff50d866515bba0336f73cb1422beb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3b967ec46cff50d866515bba0336f73cb1422beb", "message": "Add changes to start transaction coordinator", "committedDate": "2020-12-09T04:53:27Z", "type": "commit"}, {"oid": "434917a21e7cce8fc0e28ae776854c9f9acf4636", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/434917a21e7cce8fc0e28ae776854c9f9acf4636", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn\n\n\u0001 Conflicts:\n\u0001\tcompiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/TransactionDesugar.java", "committedDate": "2020-12-09T05:02:54Z", "type": "commit"}, {"oid": "6c28242f710c8c385a9823d53da7528bc2b43159", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6c28242f710c8c385a9823d53da7528bc2b43159", "message": "Fix conflicts", "committedDate": "2020-12-09T05:04:21Z", "type": "commit"}, {"oid": "e7d97d6cedc1ffefb8be82677f7498027f24cd69", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e7d97d6cedc1ffefb8be82677f7498027f24cd69", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn", "committedDate": "2020-12-09T10:41:14Z", "type": "commit"}, {"oid": "66be13eb949528174f7cd11fc3115661f5bb08ca", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/66be13eb949528174f7cd11fc3115661f5bb08ca", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn", "committedDate": "2020-12-09T13:15:30Z", "type": "commit"}, {"oid": "f66d12a4961ac8781ecb4a97c28447a1e9e4de6d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f66d12a4961ac8781ecb4a97c28447a1e9e4de6d", "message": "Add suggested changes", "committedDate": "2020-12-10T05:04:24Z", "type": "commit"}, {"oid": "f0632c6e6ea246b0229e33024af73bf9e0d0c192", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f0632c6e6ea246b0229e33024af73bf9e0d0c192", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into trx-coordn", "committedDate": "2020-12-10T05:06:11Z", "type": "commit"}, {"oid": "8b9e32ab97de16ca0c1b45219e381fa03c844d2d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8b9e32ab97de16ca0c1b45219e381fa03c844d2d", "message": "Revert \"Add suggested changes\"\n\nThis reverts commit f66d12a4961ac8781ecb4a97c28447a1e9e4de6d.", "committedDate": "2020-12-10T05:44:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI5Nzk5MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27400#discussion_r542297990", "bodyText": "Lets move this to transactionDesugar or rename it to TransactionCoordinatorService.", "author": "gimantha", "createdAt": "2020-12-14T11:04:14Z", "path": "compiler/ballerina-lang/src/main/java/org/wso2/ballerinalang/compiler/desugar/Desugar.java", "diffHunk": "@@ -1176,6 +1179,12 @@ public void visit(BLangFunction funcNode) {\n         BType currentReturnType = this.forceCastReturnType;\n         this.forceCastReturnType = null;\n         funcNode.body = rewrite(funcNode.body, funcEnv);\n+        if (serviceStarted) {", "originalCommit": "8b9e32ab97de16ca0c1b45219e381fa03c844d2d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzAzOTc5NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27400#discussion_r543039794", "bodyText": "This approach was modified via #27477", "author": "lasinicl", "createdAt": "2020-12-15T04:36:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI5Nzk5MA=="}], "type": "inlineReview"}]}