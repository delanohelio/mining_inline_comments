{"pr_number": 23753, "pr_title": "Fix errors in messaging modules", "pr_createdAt": "2020-06-05T15:38:33Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/23753", "timeline": [{"oid": "8e0820bf583e0ed990e2edf91db9207c9740cfe4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8e0820bf583e0ed990e2edf91db9207c9740cfe4", "message": "Fix rabbitmq module errors", "committedDate": "2020-06-05T15:36:58Z", "type": "commit"}, {"oid": "63988e38f7e1dd60e2ca33b1c914e0156e0a0bc2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/63988e38f7e1dd60e2ca33b1c914e0156e0a0bc2", "message": "Fix formatting in rabbitmq module", "committedDate": "2020-06-05T15:43:56Z", "type": "commit"}, {"oid": "fdfa3c84aacb4102dc3e54f34eaa8fea71c06440", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fdfa3c84aacb4102dc3e54f34eaa8fea71c06440", "message": "Fix nats module errors", "committedDate": "2020-06-06T05:15:41Z", "type": "commit"}, {"oid": "d75960fb419de07a124a8e0f715af15ae764d736", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d75960fb419de07a124a8e0f715af15ae764d736", "message": "Fix formatting in nats module", "committedDate": "2020-06-06T05:17:20Z", "type": "commit"}, {"oid": "8261062aab8e7cdf92ffd9e5ef8fdf9ac5b22539", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8261062aab8e7cdf92ffd9e5ef8fdf9ac5b22539", "message": "Fix kafka module errors", "committedDate": "2020-06-06T05:52:39Z", "type": "commit"}, {"oid": "3ea1b04d7681a05c7a3ddafaf873637e846c3b19", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3ea1b04d7681a05c7a3ddafaf873637e846c3b19", "message": "Fix kafka unit test failures", "committedDate": "2020-06-06T06:32:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI0NTY4NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23753#discussion_r436245685", "bodyText": "Shall we replace the param reason with errorType or typeId", "author": "chamil321", "createdAt": "2020-06-06T07:04:08Z", "path": "stdlib/messaging/kafka/src/main/java/org/ballerinalang/messaging/kafka/utils/KafkaUtils.java", "diffHunk": "@@ -628,26 +630,15 @@ private static Object getBValues(Object value, String type) {\n     }\n \n     public static BError createKafkaError(String message, String reason) {\n-        MapValue<BString, Object> detail = createKafkaDetailRecord(message);\n-        return BValueCreator.createErrorValue(StringUtils.fromString(reason), detail);\n+        return BallerinaErrors.createDistinctError(reason, KafkaConstants.KAFKA_PACKAGE_ID, message);\n     }\n \n-    public static BError createKafkaError(String message, String reason, BError cause) {\n-        MapValue<BString, Object> detail = createKafkaDetailRecord(message, cause);\n-        return BValueCreator.createErrorValue(StringUtils.fromString(reason), detail);\n-    }\n-\n-    private static MapValue<BString, Object> createKafkaDetailRecord(String message) {\n-        return createKafkaDetailRecord(message, null);\n-    }\n-\n-    private static MapValue<BString, Object> createKafkaDetailRecord(String message, BError cause) {\n-        MapValue<BString, Object> detail = createKafkaRecord(KafkaConstants.DETAIL_RECORD_NAME);\n-        return BallerinaValues.createRecord(detail, message, cause);\n+    public static BError createKafkaError(String message, String reason, ErrorValue cause) {", "originalCommit": "3ea1b04d7681a05c7a3ddafaf873637e846c3b19", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "34d30facdab73e012f3b1169bbbf65be7e322b07", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/34d30facdab73e012f3b1169bbbf65be7e322b07", "message": "Add changes from code review", "committedDate": "2020-06-06T07:52:52Z", "type": "commit"}]}