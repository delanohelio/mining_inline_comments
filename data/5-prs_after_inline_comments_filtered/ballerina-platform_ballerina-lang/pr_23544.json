{"pr_number": 23544, "pr_title": "Improve array util functions and bindings in the Bindgen tool", "pr_createdAt": "2020-05-27T11:38:21Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544", "timeline": [{"oid": "4f02dc775c7dc52f2073f2493ed9fcdb8acfc927", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4f02dc775c7dc52f2073f2493ed9fcdb8acfc927", "message": "Refactor the output stream", "committedDate": "2020-05-27T11:22:58Z", "type": "commit"}, {"oid": "9ac2d585bd6fe34a0c121aa81b3c325c5abcbffc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9ac2d585bd6fe34a0c121aa81b3c325c5abcbffc", "message": "Change the default access modifier to private", "committedDate": "2020-05-27T11:23:10Z", "type": "commit"}, {"oid": "2eba80f487444b18a2cc60ee41ecda605fa182e5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2eba80f487444b18a2cc60ee41ecda605fa182e5", "message": "Add the new array util functions", "committedDate": "2020-05-27T11:23:21Z", "type": "commit"}, {"oid": "5d6e81493bb83f694cfeb9f791a2f7b2f4a19013", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5d6e81493bb83f694cfeb9f791a2f7b2f4a19013", "message": "Change the mappings to use the new array util functions", "committedDate": "2020-05-27T11:29:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1Nzg5Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431057896", "bodyText": "@IrushiL Its good to use setters for a non static property, since this is a static property can't we just pass outStream to relevant static methods as a param?", "author": "keizer619", "createdAt": "2020-05-27T11:51:12Z", "path": "misc/ballerina-bindgen/src/main/java/org/ballerinalang/bindgen/utils/MvnResolverUtils.java", "diffHunk": "@@ -173,4 +173,8 @@ private static String getModuleName(Path projectRoot, String outputPath) {\n         }\n         return null;\n     }\n+\n+    public static void setOutStream(PrintStream outStream) {\n+        MvnResolverUtils.outStream = outStream;", "originalCommit": "5d6e81493bb83f694cfeb9f791a2f7b2f4a19013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5NDg4Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431594883", "bodyText": "Refactored the code and made it a private variable instantiated through the constructor.", "author": "IrushiL", "createdAt": "2020-05-28T05:47:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1Nzg5Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1NDUzOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431054538", "bodyText": "Can't we make this package-private since it is only used in one place inside package.", "author": "pramodya1994", "createdAt": "2020-05-27T11:44:36Z", "path": "misc/ballerina-bindgen/src/main/java/org/ballerinalang/bindgen/command/BindingsGenerator.java", "diffHunk": "@@ -88,9 +88,9 @@\n     private static Set<JError> exceptionList = new HashSet<>();\n     private static Map<String, String> failedClassGens = new HashMap<>();\n \n-    public BindingsGenerator(PrintStream stream) {\n-        this.outStream = stream;\n-        this.errStream = stream;\n+    public BindingsGenerator(PrintStream out, PrintStream err) {", "originalCommit": "5d6e81493bb83f694cfeb9f791a2f7b2f4a19013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5NDk1Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431594956", "bodyText": "Done", "author": "IrushiL", "createdAt": "2020-05-28T05:48:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1NDUzOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1NTQ3NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431055474", "bodyText": "Are we using this method anywhere?", "author": "pramodya1994", "createdAt": "2020-05-27T11:46:20Z", "path": "misc/ballerina-bindgen/src/main/java/org/ballerinalang/bindgen/model/JClass.java", "diffHunk": "@@ -177,4 +178,8 @@ public String getShortClassName() {\n     public String getPackageName() {\n         return packageName;\n     }\n+\n+    public void setAccessModifier(String accessModifier) {", "originalCommit": "5d6e81493bb83f694cfeb9f791a2f7b2f4a19013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5NTUzNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431595537", "bodyText": "This is added to set the access modifier of a binding object that is to be generated. It is not used at the moment, but we intend on providing a flag to set it during the command execution. This will be implemented in the near future.", "author": "IrushiL", "createdAt": "2020-05-28T05:49:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1NTQ3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1ODMzNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431058336", "bodyText": "Seems getClassNamesInJar and getModuleName methods is never used, Shall we remove it if there is no usage?", "author": "pramodya1994", "createdAt": "2020-05-27T11:51:59Z", "path": "misc/ballerina-bindgen/src/main/java/org/ballerinalang/bindgen/utils/BindgenUtils.java", "diffHunk": "@@ -90,8 +90,8 @@\n     private BindgenUtils() {", "originalCommit": "5d6e81493bb83f694cfeb9f791a2f7b2f4a19013", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTU5NTg3OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/23544#discussion_r431595879", "bodyText": "These 2 methods were kept as util methods for future use. But I removed them for now and will add them when it's actually being used.", "author": "IrushiL", "createdAt": "2020-05-28T05:51:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1ODMzNg=="}], "type": "inlineReview"}, {"oid": "373c1ea4527d251b3f5a4c142c761bf61226c8b0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/373c1ea4527d251b3f5a4c142c761bf61226c8b0", "message": "Refactor the code", "committedDate": "2020-05-28T05:45:23Z", "type": "commit"}]}