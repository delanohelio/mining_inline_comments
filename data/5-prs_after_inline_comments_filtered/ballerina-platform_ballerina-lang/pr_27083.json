{"pr_number": 27083, "pr_title": "Sync Data mapper code action with latest ballerina api", "pr_createdAt": "2020-11-23T11:09:41Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083", "timeline": [{"oid": "8cd01e35ef04c6655c014688b668d8ea2064682c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8cd01e35ef04c6655c014688b668d8ea2064682c", "message": "Test blang", "committedDate": "2020-11-13T08:07:19Z", "type": "commit"}, {"oid": "5a37e5ef2ef76136f33e365305f4825f7354fc52", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5a37e5ef2ef76136f33e365305f4825f7354fc52", "message": "Test sementic model", "committedDate": "2020-11-16T05:42:37Z", "type": "commit"}, {"oid": "ab580ec1a4b4ba1650f3b7f48190b319a52a26c5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ab580ec1a4b4ba1650f3b7f48190b319a52a26c5", "message": "Test sementic model", "committedDate": "2020-11-16T06:56:05Z", "type": "commit"}, {"oid": "23fe4b1783e5795aee32b67ff145d78958b87a98", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/23fe4b1783e5795aee32b67ff145d78958b87a98", "message": "Merge upstream", "committedDate": "2020-11-23T05:46:43Z", "type": "commit"}, {"oid": "3ce11b55d8fcd9df5b3d2b9b4cc0b60d8cf338db", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3ce11b55d8fcd9df5b3d2b9b4cc0b60d8cf338db", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-11-23T10:51:30Z", "type": "commit"}, {"oid": "eec91b6c122fb1f934a3f87f10cc65e06ec122e4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/eec91b6c122fb1f934a3f87f10cc65e06ec122e4", "message": "Sync datamapper codeaction with latest api changes", "committedDate": "2020-11-23T11:03:10Z", "type": "commit"}, {"oid": "73d05d8178626df3f9d6cd09183751b8a505a9e3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/73d05d8178626df3f9d6cd09183751b8a505a9e3", "message": "Update datamapper codeaction unit tests utils", "committedDate": "2020-11-23T11:04:24Z", "type": "commit"}, {"oid": "44b9a899d509e1b1b9ce6eb235a6abbaaf8ff3e1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/44b9a899d509e1b1b9ce6eb235a6abbaaf8ff3e1", "message": "Fix checkstyle issues", "committedDate": "2020-11-23T11:48:54Z", "type": "commit"}, {"oid": "710ae9a255b6b65d6ee7f026f333484ddc04ac95", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/710ae9a255b6b65d6ee7f026f333484ddc04ac95", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-11-23T11:58:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg2NzA3NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#discussion_r528867074", "bodyText": "Shall we remove unnecessary methods from Test Util?", "author": "rasika", "createdAt": "2020-11-23T17:14:45Z", "path": "misc/ballerinalang-data-mapper/src/test/java/org/ballerinalang/datamapper/util/TestUtil.java", "diffHunk": "@@ -64,17 +81,150 @@\n  */\n public class TestUtil {\n \n+    private static final String HOVER = \"textDocument/hover\";\n+\n+    private static final String CODELENS = \"textDocument/codeLens\";\n+\n+    private static final String COMPLETION = \"textDocument/completion\";\n+\n+    private static final String SIGNATURE_HELP = \"textDocument/signatureHelp\";\n+\n+    private static final String DEFINITION = \"textDocument/definition\";\n+\n+    private static final String REFERENCES = \"textDocument/references\";\n+\n+    private static final String RENAME = \"textDocument/rename\";\n+\n+    private static final String EXECUTE_COMMAND = \"workspace/executeCommand\";\n+\n     private static final String CODE_ACTION = \"textDocument/codeAction\";\n \n+    private static final String FORMATTING = \"textDocument/formatting\";\n+\n+    private static final String IMPLEMENTATION = \"textDocument/implementation\";\n+\n+    private static final String DOCUMENT_SYMBOL = \"textDocument/documentSymbol\";\n+\n+    private static final String WORKSPACE_SYMBOL_COMMAND = \"workspace/symbol\";\n+\n     private static final String WORKSPACE_CONFIG_CHANGE = \"workspace/didChangeConfiguration\";\n \n     private static final Gson GSON = new Gson();\n \n-    private static final WorkspaceManager workspaceManager = new BallerinaWorkspaceManager();\n-\n     private TestUtil() {\n     }\n \n+    /**\n+     * Get the textDocument/hover response.\n+     *\n+     * @param filePath        Path of the Bal file\n+     * @param position        Cursor Position\n+     * @param serviceEndpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getHoverResponse(String filePath, Position position, Endpoint serviceEndpoint) {\n+        CompletableFuture result = serviceEndpoint.request(HOVER, getTextDocumentPositionParams(filePath, position));\n+        return getResponseString(result);\n+    }\n+\n+    /**\n+     * Get the textDocument/codeLens response.\n+     *\n+     * @param filePath        Path of the Bal file\n+     * @param serviceEndpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getCodeLensesResponse(String filePath, Endpoint serviceEndpoint) {\n+        TextDocumentIdentifier identifier = getTextDocumentIdentifier(filePath);\n+        CodeLensParams codeLensParams = new CodeLensParams(identifier);\n+        CompletableFuture result = serviceEndpoint.request(CODELENS, codeLensParams);\n+        return getResponseString(result);\n+    }\n+\n+    /**\n+     * Get the textDocument/completion response.\n+     *\n+     * @param filePath Path of the Bal file\n+     * @param position Cursor Position\n+     * @param endpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getCompletionResponse(String filePath, Position position, Endpoint endpoint) {", "originalCommit": "710ae9a255b6b65d6ee7f026f333484ddc04ac95", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg4NTI2Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#discussion_r528885267", "bodyText": "Removed the unnecessary methods", "author": "isuruRuhu", "createdAt": "2020-11-23T17:43:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg2NzA3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg2NzQ5NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#discussion_r528867494", "bodyText": "Shall we remove unnecessary methods from Test Util? Please revisit all methods in this class", "author": "rasika", "createdAt": "2020-11-23T17:15:23Z", "path": "misc/ballerinalang-data-mapper/src/test/java/org/ballerinalang/datamapper/util/TestUtil.java", "diffHunk": "@@ -64,17 +81,150 @@\n  */\n public class TestUtil {\n \n+    private static final String HOVER = \"textDocument/hover\";\n+\n+    private static final String CODELENS = \"textDocument/codeLens\";\n+\n+    private static final String COMPLETION = \"textDocument/completion\";\n+\n+    private static final String SIGNATURE_HELP = \"textDocument/signatureHelp\";\n+\n+    private static final String DEFINITION = \"textDocument/definition\";\n+\n+    private static final String REFERENCES = \"textDocument/references\";\n+\n+    private static final String RENAME = \"textDocument/rename\";\n+\n+    private static final String EXECUTE_COMMAND = \"workspace/executeCommand\";\n+\n     private static final String CODE_ACTION = \"textDocument/codeAction\";\n \n+    private static final String FORMATTING = \"textDocument/formatting\";\n+\n+    private static final String IMPLEMENTATION = \"textDocument/implementation\";\n+\n+    private static final String DOCUMENT_SYMBOL = \"textDocument/documentSymbol\";\n+\n+    private static final String WORKSPACE_SYMBOL_COMMAND = \"workspace/symbol\";\n+\n     private static final String WORKSPACE_CONFIG_CHANGE = \"workspace/didChangeConfiguration\";\n \n     private static final Gson GSON = new Gson();\n \n-    private static final WorkspaceManager workspaceManager = new BallerinaWorkspaceManager();\n-\n     private TestUtil() {\n     }\n \n+    /**\n+     * Get the textDocument/hover response.\n+     *\n+     * @param filePath        Path of the Bal file\n+     * @param position        Cursor Position\n+     * @param serviceEndpoint Service Endpoint to Language Server\n+     * @return {@link String}   Response as String\n+     */\n+    public static String getHoverResponse(String filePath, Position position, Endpoint serviceEndpoint) {", "originalCommit": "710ae9a255b6b65d6ee7f026f333484ddc04ac95", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg4NTQzNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/27083#discussion_r528885436", "bodyText": "Removed unnecessary methods", "author": "isuruRuhu", "createdAt": "2020-11-23T17:43:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg2NzQ5NA=="}], "type": "inlineReview"}, {"oid": "e99b524ae104ac22c99f6b71a883f709338c6d66", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e99b524ae104ac22c99f6b71a883f709338c6d66", "message": "Remove the unused methods", "committedDate": "2020-11-23T17:42:03Z", "type": "commit"}, {"oid": "688e484d503eea4cf6728f991ea9706f39b182eb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/688e484d503eea4cf6728f991ea9706f39b182eb", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-11-23T17:42:24Z", "type": "commit"}]}