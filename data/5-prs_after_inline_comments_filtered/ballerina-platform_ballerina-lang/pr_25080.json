{"pr_number": 25080, "pr_title": "Add support for Incremental Diff for SyntaxTree in LangServer", "pr_createdAt": "2020-07-31T14:44:04Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080", "timeline": [{"oid": "6ef8b3d955fd4368ac131f413eadcea11a79b50d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6ef8b3d955fd4368ac131f413eadcea11a79b50d", "message": "Remove unused signature source-pruner\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-07-31T14:41:50Z", "type": "commit"}, {"oid": "0597bec46829c3d7ea690ed58ddd4bb6c401c35b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0597bec46829c3d7ea690ed58ddd4bb6c401c35b", "message": "Remove getContent api call\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-07-31T14:41:54Z", "type": "commit"}, {"oid": "04c92002c33846d5c94f351ee25540e0b2540c8a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/04c92002c33846d5c94f351ee25540e0b2540c8a", "message": "Move into incremental doc change\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-07-31T14:43:09Z", "type": "commit"}, {"oid": "a3d6d89e671c7f39b57d0028af12ec28de51102d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a3d6d89e671c7f39b57d0028af12ec28de51102d", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into incre-doc", "committedDate": "2020-08-04T06:05:11Z", "type": "commit"}, {"oid": "389caaa1a53b3ccf496c23270d5c38240a27032d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/389caaa1a53b3ccf496c23270d5c38240a27032d", "message": "Make doc-sync full temporary\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-08-04T07:14:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3OTE3NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465479174", "bodyText": "Shall we try early return here? May be for the inner if-else as well we can try that?", "author": "nadeeshaan", "createdAt": "2020-08-05T05:20:34Z", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/workspace/WorkspaceDocumentManagerImpl.java", "diffHunk": "@@ -90,14 +97,39 @@ public void openFile(Path filePath, String content) throws WorkspaceDocumentExce\n      * {@inheritDoc}\n      */\n     @Override\n-    public void updateFile(Path filePath, String updatedContent) throws WorkspaceDocumentException {\n+    public void updateFile(Path filePath, List<TextDocumentContentChangeEvent> changeEvent)\n+            throws WorkspaceDocumentException {\n         if (isFileOpen(filePath)) {", "originalCommit": "389caaa1a53b3ccf496c23270d5c38240a27032d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxNDI1MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465514251", "bodyText": "+1 will update", "author": "rasika", "createdAt": "2020-08-05T06:59:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ3OTE3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ4MTQ3Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465481476", "bodyText": "With the removal of ANTLR, may be we can optimize this part", "author": "nadeeshaan", "createdAt": "2020-08-05T05:28:29Z", "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/command/executors/CreateFunctionExecutor.java", "diffHunk": "@@ -198,6 +194,24 @@ public Object execute(LSContext context) throws LSCommandExecutorException {\n         return applyWorkspaceEdit(Collections.singletonList(Either.forLeft(textDocumentEdit)), client);\n     }\n \n+    private BLangCompilationUnit getCurrentCUnit(LSContext context, BLangPackage packageNode) {\n+    /*\n+    In windows platform, relative file path key components are separated with \"\\\" while antlr always uses \"/\"", "originalCommit": "389caaa1a53b3ccf496c23270d5c38240a27032d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTUxNDA4MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465514080", "bodyText": "Yes, we might be able to optimize this. Shall we add this in a separate PR since we have the same logic in many places?", "author": "rasika", "createdAt": "2020-08-05T06:58:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ4MTQ3Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU0MDI1Nw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25080#discussion_r465540257", "bodyText": "+1 let's do this after an API revamp", "author": "nadeeshaan", "createdAt": "2020-08-05T07:51:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ4MTQ3Ng=="}], "type": "inlineReview"}, {"oid": "994972a6e415d1dcf3edba62d8f2d18c9b0345e2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/994972a6e415d1dcf3edba62d8f2d18c9b0345e2", "message": "Add fail fast strategy when file is not open\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-08-05T07:00:03Z", "type": "commit"}]}