{"pr_number": 25022, "pr_title": "Add data mapping code action", "pr_createdAt": "2020-07-29T19:30:55Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022", "timeline": [{"oid": "c3b9571a353a179c20345f2703495867008fc7f6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c3b9571a353a179c20345f2703495867008fc7f6", "message": "[data-mapper] Initial commit", "committedDate": "2020-07-05T09:59:08Z", "type": "commit"}, {"oid": "0641d8836f53b3c91fe8785332ac30156339f074", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0641d8836f53b3c91fe8785332ac30156339f074", "message": "[data-mapper] Add Issue Template", "committedDate": "2020-07-05T09:59:08Z", "type": "commit"}, {"oid": "e11f5aad1b7b90dfc5a7f1e4dd5eaee70d300e30", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e11f5aad1b7b90dfc5a7f1e4dd5eaee70d300e30", "message": "[data-mapper] Add Pull Request Template", "committedDate": "2020-07-05T09:59:08Z", "type": "commit"}, {"oid": "da2d606f11fb4537818eda138ba3fe9f6500ecea", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/da2d606f11fb4537818eda138ba3fe9f6500ecea", "message": "[data-mapper] Initial commit", "committedDate": "2020-07-05T09:59:22Z", "type": "commit"}, {"oid": "f433b0b46b92b60e187d7c48891c3b1823526185", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f433b0b46b92b60e187d7c48891c3b1823526185", "message": "[data-mapper] Add AIDataMapperCodeAction file and update build.gradle file", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "1bcbd5013c33da7e096979fd07bcc14825239e7b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1bcbd5013c33da7e096979fd07bcc14825239e7b", "message": "[data-mapper] Add resources", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "7026ba598fb43755656b906190b05471df4c23b1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7026ba598fb43755656b906190b05471df4c23b1", "message": "[data-mapper] Add a script to build the project", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "ff7447cdfeef3775e9cfa464ddc63f9735198a3a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ff7447cdfeef3775e9cfa464ddc63f9735198a3a", "message": "[data-mapper] Update README", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "40864e929f56be0658815a3c5acdbab2d43379bc", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/40864e929f56be0658815a3c5acdbab2d43379bc", "message": "[data-mapper] Update README", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "8ca12a0548fc8c3624b5b3fd7bbc6538ba5acda6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8ca12a0548fc8c3624b5b3fd7bbc6538ba5acda6", "message": "[data-mapper] Update run.sh script", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "43bc42db7ff90a6d7f77a5df275997a4b7663502", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/43bc42db7ff90a6d7f77a5df275997a4b7663502", "message": "[data-mapper] Fix bugs", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "90ac83c70158f8df4b49fad2745db06a06b86986", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/90ac83c70158f8df4b49fad2745db06a06b86986", "message": "[data-mapper] Add .jar of the code action", "committedDate": "2020-07-05T10:00:02Z", "type": "commit"}, {"oid": "7a3dfc99df66edc856442d4d0be516586d0037f5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7a3dfc99df66edc856442d4d0be516586d0037f5", "message": "[data-mapper] Extend function to handle one char variable names", "committedDate": "2020-07-05T10:00:03Z", "type": "commit"}, {"oid": "cb92f3ffbacdeb8cca14d4eea2460e04da78524e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb92f3ffbacdeb8cca14d4eea2460e04da78524e", "message": "[data-mapper] Remove packageID from generated mapping function", "committedDate": "2020-07-05T10:00:03Z", "type": "commit"}, {"oid": "0bd4f2cf55fef112e35b59470a9508965b45ff77", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0bd4f2cf55fef112e35b59470a9508965b45ff77", "message": "[data-mapper] Update run.sh", "committedDate": "2020-07-05T10:00:03Z", "type": "commit"}, {"oid": "0fd57ca22e6abb2e724e2d3b56ae7803e5d7cc49", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0fd57ca22e6abb2e724e2d3b56ae7803e5d7cc49", "message": "[data-mapper] Format code according to WSO2 style guide", "committedDate": "2020-07-05T10:00:03Z", "type": "commit"}, {"oid": "c9185f2c3dcbc493cad0caebd5eacc4a6ea7f0e9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c9185f2c3dcbc493cad0caebd5eacc4a6ea7f0e9", "message": "[data-mapper] Update .gitignore", "committedDate": "2020-07-05T10:04:11Z", "type": "commit"}, {"oid": "ba50d4bf7dbd7734655dfe68b34910c4c431b342", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ba50d4bf7dbd7734655dfe68b34910c4c431b342", "message": "[data-mapper] Delete .idea .gradle related files", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "289113335d7b4ff3829db3d8a6a070b694e9d733", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/289113335d7b4ff3829db3d8a6a070b694e9d733", "message": "[data-mapper] Improve exception handling", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "3b7596291edb8909691696090e06452cff6c7817", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3b7596291edb8909691696090e06452cff6c7817", "message": "[data-mapper] Update code action to neglect field assignments", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "fc65d45269657b607d6b6af7eaabedfa425584c7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fc65d45269657b607d6b6af7eaabedfa425584c7", "message": "[data-mapper] Set the AI end point via env variable", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "976afb51415c21ed19af31376a05e88a8fd1b8d6", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/976afb51415c21ed19af31376a05e88a8fd1b8d6", "message": "[data-mapper] Modify the AI-end point environment variable check", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "3ac00e2815e7d517cb48af841ae1cb28036eafbe", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3ac00e2815e7d517cb48af841ae1cb28036eafbe", "message": "[data-mapper] Modify the AI-end point environment variable check", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "4f46cbc7cd544b74677ab16f7d9e7dba4a4834e0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4f46cbc7cd544b74677ab16f7d9e7dba4a4834e0", "message": "[data-mapper] Fix SpotBugs warnings", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "f36715720f710482d68817b85dda5546160017a0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f36715720f710482d68817b85dda5546160017a0", "message": "[data-mapper] Add SpotBugs and checkstyle", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "8e1b64565c43f465ae8bb5f5581a04c778d7bbba", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8e1b64565c43f465ae8bb5f5581a04c778d7bbba", "message": "[data-mapper] Add spotbugs-exclude.xml", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "517ea56de265a7efffae34f9247cad04668f418c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/517ea56de265a7efffae34f9247cad04668f418c", "message": "[data-mapper] Add checkstyle.xml", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "a7202291902e69410fb7d5b00b048431d312a04d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a7202291902e69410fb7d5b00b048431d312a04d", "message": "[data-mapper] Change code style to match checkstyle standards", "committedDate": "2020-07-05T10:04:13Z", "type": "commit"}, {"oid": "f9e9e1657d6d937f7aeda9fc2c49fc3e5515ec91", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f9e9e1657d6d937f7aeda9fc2c49fc3e5515ec91", "message": "[data-mapper] Edit build.gradle to get ballerina-1.2.0 packages", "committedDate": "2020-07-05T10:05:30Z", "type": "commit"}, {"oid": "c40fa21da627aa0635004822b807377f40fb27a7", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c40fa21da627aa0635004822b807377f40fb27a7", "message": "[data-mapper] Remove run.sh", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "b1afc93d1a63c86c205d107f4559a2d968f10f47", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b1afc93d1a63c86c205d107f4559a2d968f10f47", "message": "[data-mapper] Update README", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "235f33f52a592518eea03673db6390490a9a3034", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/235f33f52a592518eea03673db6390490a9a3034", "message": "[data-mapper] Change code action title", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "d3e03332dc6c653f6dc9a591db5183d605364398", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/d3e03332dc6c653f6dc9a591db5183d605364398", "message": "[data-mapper] Add\u00a0license headers", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "bedca5b9e5deca2fc7f3041bb2ba5fd081687fc9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bedca5b9e5deca2fc7f3041bb2ba5fd081687fc9", "message": "[data-mapper] Change package path of CodeAction", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "766fbac9fb147ea4aa370b4c750897158bbd77d2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/766fbac9fb147ea4aa370b4c750897158bbd77d2", "message": "[data-mapper] Fix bug in recordToJSON method", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "80dcf91a1c9b74b0d88d402f645d700947e6ba8f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/80dcf91a1c9b74b0d88d402f645d700947e6ba8f", "message": "[data-mapper] Add constatnt declartions for reused constants", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "4ded88b18d0e27d0853d70a395043c30aed51414", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4ded88b18d0e27d0853d70a395043c30aed51414", "message": "[data-mapper] Modify build.gradle to release and publish", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "6953d63e725e6b81f74a47712c4cb9021123a793", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6953d63e725e6b81f74a47712c4cb9021123a793", "message": "[data-mapper] Add release plugin", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "cf25a5a4b72ccf319ed14a04b69e2e8214adefbd", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cf25a5a4b72ccf319ed14a04b69e2e8214adefbd", "message": "[data-mapper] Prevent hard coding data type tags", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "408ac90038bcb9941b8b159b6986cac186468a72", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/408ac90038bcb9941b8b159b6986cac186468a72", "message": "[data-mapper] Add functionality for array data types", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "89fc8b649f355a86a4a8808b64dbc7a266bc201e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/89fc8b649f355a86a4a8808b64dbc7a266bc201e", "message": "[data-mapper] Add source code for VS Code plugin", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "38c5b9829646872802b8142977397385c56a4329", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/38c5b9829646872802b8142977397385c56a4329", "message": "[data-mapper] Bump to next snapshot version", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "be45d84a2fb7be344a886b62a9e41c6837addcfb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/be45d84a2fb7be344a886b62a9e41c6837addcfb", "message": "[data-mapper] JSONify the request input stream", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "344c4df150c25b1d467e4ffd264a1d021ed1691a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/344c4df150c25b1d467e4ffd264a1d021ed1691a", "message": "[data-mapper] Change method of parsing response JSON", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "7835a332e644a5d11df429e5bae93f004595c2ca", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7835a332e644a5d11df429e5bae93f004595c2ca", "message": "[data-mapper] Change variable names", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "74373158ddcf3ccaa7f5e848a763cf4c72b94c56", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/74373158ddcf3ccaa7f5e848a763cf4c72b94c56", "message": "[data-mapper] Change spotbugs configuration", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "8164ae831b6b95166fad0c6142f82f09263554aa", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8164ae831b6b95166fad0c6142f82f09263554aa", "message": "[data-mapper] Add client side cache", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "8490a17b11d72e75043539561dcd4552bcbe1ba0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8490a17b11d72e75043539561dcd4552bcbe1ba0", "message": "[data-mapper] Add contants", "committedDate": "2020-07-05T10:06:37Z", "type": "commit"}, {"oid": "5742d82113b7e2a29d104239eb1a48d6baac8f61", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5742d82113b7e2a29d104239eb1a48d6baac8f61", "message": "[data-mapper] Add functionality to disconnect connection after using", "committedDate": "2020-07-05T10:06:38Z", "type": "commit"}, {"oid": "9b14759b5d1dab69836eb6a29638c9c5f36a4c3f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9b14759b5d1dab69836eb6a29638c9c5f36a4c3f", "message": "[data-mapper] Change AI service default URL", "committedDate": "2020-07-05T10:06:38Z", "type": "commit"}, {"oid": "422394af5ecf952f61c70c929f9a759f61c5d8bd", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/422394af5ecf952f61c70c929f9a759f61c5d8bd", "message": "Integrate data-mapper code action", "committedDate": "2020-07-08T03:18:42Z", "type": "commit"}, {"oid": "42fc364872846a9e8ec7814728ddc6b2f886c28f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/42fc364872846a9e8ec7814728ddc6b2f886c28f", "message": "Merge branch 'master' into add-data-mapper", "committedDate": "2020-07-08T03:58:11Z", "type": "commit"}, {"oid": "82445e3152bfabd857b187632ecbceaa1b388188", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/82445e3152bfabd857b187632ecbceaa1b388188", "message": "Add configs for data-mapper code action", "committedDate": "2020-07-09T05:19:27Z", "type": "commit"}, {"oid": "896277a66ab0fd0c17d834c3eac48b8466032a9d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/896277a66ab0fd0c17d834c3eac48b8466032a9d", "message": "Update build.gradle", "committedDate": "2020-07-09T05:27:34Z", "type": "commit"}, {"oid": "2d57c3f060cad42009580b6a7996f6126f496ae1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2d57c3f060cad42009580b6a7996f6126f496ae1", "message": "Merge branch 'master' into add-data-mapper", "committedDate": "2020-07-09T05:43:12Z", "type": "commit"}, {"oid": "054a4e07b2c762a979b9f5fdeeba8c5f0fa00384", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/054a4e07b2c762a979b9f5fdeeba8c5f0fa00384", "message": "Edit package.json in vscode plugin", "committedDate": "2020-07-09T05:52:56Z", "type": "commit"}, {"oid": "edefda0ffef730b379bedb2dbfe713febd8f1b65", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/edefda0ffef730b379bedb2dbfe713febd8f1b65", "message": "Add standard libraries to Gradle", "committedDate": "2020-07-17T03:05:13Z", "type": "commit"}, {"oid": "38e6103a124d7e4794cd8c530728d0095f9ffc46", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/38e6103a124d7e4794cd8c530728d0095f9ffc46", "message": "Merge branch 'master' into add-data-mapper", "committedDate": "2020-07-17T03:13:33Z", "type": "commit"}, {"oid": "6587bfbe1eef4919fd7cc8745591c30dd14aca8e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6587bfbe1eef4919fd7cc8745591c30dd14aca8e", "message": "Update build.gradle", "committedDate": "2020-07-17T14:09:14Z", "type": "commit"}, {"oid": "2390349be832d34f14286cb0dcbf9749324c35bf", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2390349be832d34f14286cb0dcbf9749324c35bf", "message": "Add test classes for data mapper code action", "committedDate": "2020-07-20T18:03:36Z", "type": "commit"}, {"oid": "6b92101dbc6bc88794f0292f79859ef5a87f0c3b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6b92101dbc6bc88794f0292f79859ef5a87f0c3b", "message": "Format code to comply with best practices", "committedDate": "2020-07-24T05:40:03Z", "type": "commit"}, {"oid": "1459491394e25f2ef083e31a8873495a08727b11", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1459491394e25f2ef083e31a8873495a08727b11", "message": "Add PowerMockito to mock backend service", "committedDate": "2020-07-24T05:42:39Z", "type": "commit"}, {"oid": "f3a87c8297cf492a0297626db01c6966f0a38829", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f3a87c8297cf492a0297626db01c6966f0a38829", "message": "Add a code action exception", "committedDate": "2020-07-24T05:43:59Z", "type": "commit"}, {"oid": "15cd5085d3e8f6018a4154fe6065d518f2f9890b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/15cd5085d3e8f6018a4154fe6065d518f2f9890b", "message": "Re-format the code", "committedDate": "2020-07-28T03:23:43Z", "type": "commit"}, {"oid": "8997c646f56672fad6d5dc6ed62500180c526276", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8997c646f56672fad6d5dc6ed62500180c526276", "message": "Re-format the code", "committedDate": "2020-07-29T19:23:40Z", "type": "commit"}, {"oid": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/567f0056394f6a218b3fd2c8ce94369d94b8d662", "message": "Update test code", "committedDate": "2020-07-29T19:25:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NjgxMA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462696810", "bodyText": "Remove this extra line feed", "author": "rasika", "createdAt": "2020-07-30T02:26:51Z", "path": "language-server/modules/langserver-commons/src/main/java/org/ballerinalang/langserver/commons/codeaction/LSCodeActionProviderException.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.ballerinalang.langserver.commons.codeaction;\n+\n+/**\n+ * Exception for Language Server Code Actions.\n+ *\n+ * @since 2.0.0\n+ */\n+public class LSCodeActionProviderException extends Exception {\n+\n+    public LSCodeActionProviderException(String message) {\n+", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxOTI1Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463419253", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-07-31T05:56:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NjgxMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NjgyOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462696828", "bodyText": "Remove this extra line feed", "author": "rasika", "createdAt": "2020-07-30T02:26:58Z", "path": "language-server/modules/langserver-commons/src/main/java/org/ballerinalang/langserver/commons/codeaction/LSCodeActionProviderException.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.ballerinalang.langserver.commons.codeaction;\n+\n+/**\n+ * Exception for Language Server Code Actions.\n+ *\n+ * @since 2.0.0\n+ */\n+public class LSCodeActionProviderException extends Exception {\n+\n+    public LSCodeActionProviderException(String message) {\n+\n+        super(message);\n+    }\n+\n+    public LSCodeActionProviderException(String message, Throwable cause) {\n+", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxOTI5OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463419299", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-07-31T05:56:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NjgyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5Njg1OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462696858", "bodyText": "Remove this extra line feed", "author": "rasika", "createdAt": "2020-07-30T02:27:04Z", "path": "language-server/modules/langserver-commons/src/main/java/org/ballerinalang/langserver/commons/codeaction/LSCodeActionProviderException.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.ballerinalang.langserver.commons.codeaction;\n+\n+/**\n+ * Exception for Language Server Code Actions.\n+ *\n+ * @since 2.0.0\n+ */\n+public class LSCodeActionProviderException extends Exception {\n+\n+    public LSCodeActionProviderException(String message) {\n+\n+        super(message);\n+    }\n+\n+    public LSCodeActionProviderException(String message, Throwable cause) {\n+\n+        super(message, cause);\n+    }\n+\n+    public LSCodeActionProviderException(Throwable cause) {\n+", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxOTM1MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463419351", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-07-31T05:56:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5Njg1OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NjkwOA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462696908", "bodyText": "Remove this extra line feed", "author": "rasika", "createdAt": "2020-07-30T02:27:13Z", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/config/DataMapperConfig.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.ballerinalang.langserver.compiler.config;\n+\n+/**\n+ * Ballerina CodeLens Configuration.\n+ */\n+public class DataMapperConfig {\n+    private final boolean enabled;\n+    private final String url;\n+\n+    DataMapperConfig() {\n+        this.enabled = false;\n+        this.url = \"\";\n+    }\n+\n+    public boolean isEnabled() {\n+", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxOTc1OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463419759", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-07-31T05:58:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NjkwOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5Njk4MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462696980", "bodyText": "Remove this extra line feed, check for other places as well", "author": "rasika", "createdAt": "2020-07-30T02:27:32Z", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/config/DataMapperConfig.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.ballerinalang.langserver.compiler.config;\n+\n+/**\n+ * Ballerina CodeLens Configuration.\n+ */\n+public class DataMapperConfig {\n+    private final boolean enabled;\n+    private final String url;\n+\n+    DataMapperConfig() {\n+        this.enabled = false;\n+        this.url = \"\";\n+    }\n+\n+    public boolean isEnabled() {\n+\n+        return enabled;\n+    }\n+\n+    public String getUrl() {\n+", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxOTc5Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463419796", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-07-31T05:58:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5Njk4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NzE3MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462697170", "bodyText": "Add code-docs for public methods", "author": "rasika", "createdAt": "2020-07-30T02:28:15Z", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/config/DataMapperConfig.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.ballerinalang.langserver.compiler.config;\n+\n+/**\n+ * Ballerina CodeLens Configuration.\n+ */\n+public class DataMapperConfig {\n+    private final boolean enabled;\n+    private final String url;\n+\n+    DataMapperConfig() {\n+        this.enabled = false;\n+        this.url = \"\";\n+    }\n+\n+    public boolean isEnabled() {", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMDkwNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463420906", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-07-31T06:02:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NzE3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NzIwNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462697207", "bodyText": "Add code-docs for public methods", "author": "rasika", "createdAt": "2020-07-30T02:28:22Z", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/config/DataMapperConfig.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.ballerinalang.langserver.compiler.config;\n+\n+/**\n+ * Ballerina CodeLens Configuration.\n+ */\n+public class DataMapperConfig {\n+    private final boolean enabled;\n+    private final String url;\n+\n+    DataMapperConfig() {\n+        this.enabled = false;\n+        this.url = \"\";\n+    }\n+\n+    public boolean isEnabled() {\n+\n+        return enabled;\n+    }\n+\n+    public String getUrl() {", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMDk4MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463420981", "bodyText": "Added code-docs", "author": "Ayodhya94", "createdAt": "2020-07-31T06:02:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5NzIwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5ODQ3NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462698475", "bodyText": "Can we move this part into try-with-resources approach? So we can remove https://github.com/ballerina-platform/ballerina-lang/pull/25022/files#diff-c9d62fe95c71192e4a81b263dc056364R66 part", "author": "rasika", "createdAt": "2020-07-30T02:33:18Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/utils/HttpClientRequest.java", "diffHunk": "@@ -0,0 +1,172 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.utils;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.BufferedReader;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.io.OutputStream;\n+import java.io.OutputStreamWriter;\n+import java.io.Writer;\n+import java.net.HttpURLConnection;\n+import java.net.ProtocolException;\n+import java.net.URL;\n+import java.net.URLConnection;\n+import java.nio.charset.Charset;\n+import java.nio.charset.StandardCharsets;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.Map;\n+\n+/**\n+ * This class can be used to send http request.\n+ */\n+public class HttpClientRequest {\n+    private static final Logger LOG = LoggerFactory.getLogger(HttpClientRequest.class);\n+    private static final int DEFAULT_READ_TIMEOUT = 30000;\n+\n+    /**\n+     * Send an HTTP POST request to a service.\n+     *\n+     * @param endpoint - service endpoint\n+     * @param postBody - message payload\n+     * @param headers  http request headers map\n+     * @return - HttpResponse from end point\n+     * @throws IOException If an error occurs while sending the GET request\n+     */\n+    public static HttpResponse doPost(String endpoint, String postBody, Map<String, String> headers)\n+            throws IOException {\n+        HttpURLConnection urlConnection = null;\n+        try {\n+            urlConnection = getURLConnection(endpoint);", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5OTE1NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462699154", "bodyText": "Add code-docs for public methods(even you copied it from somewhere else)", "author": "rasika", "createdAt": "2020-07-30T02:35:50Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/utils/HttpResponse.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.utils;\n+\n+import java.util.Map;\n+\n+/**\n+ * This class is a simple representation of an HTTP response.\n+ */\n+public class HttpResponse {\n+    private String data;\n+    private int responseCode;\n+    private String responseMessage;\n+    private Map<String, String> headers;\n+\n+    public HttpResponse(String data, int responseCode) {\n+        this.data = data;\n+        this.responseCode = responseCode;\n+    }\n+\n+    public HttpResponse(String data, int responseCode, Map<String, String> headers) {\n+        this.data = data;\n+        this.responseCode = responseCode;\n+        this.headers = headers;\n+    }\n+\n+    public String getData() {", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3NjI0MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463476240", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-07-31T08:28:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5OTE1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5OTIwNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462699206", "bodyText": "Add code-docs for public methods", "author": "rasika", "createdAt": "2020-07-30T02:36:04Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/utils/HttpResponse.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.utils;\n+\n+import java.util.Map;\n+\n+/**\n+ * This class is a simple representation of an HTTP response.\n+ */\n+public class HttpResponse {\n+    private String data;\n+    private int responseCode;\n+    private String responseMessage;\n+    private Map<String, String> headers;\n+\n+    public HttpResponse(String data, int responseCode) {\n+        this.data = data;\n+        this.responseCode = responseCode;\n+    }\n+\n+    public HttpResponse(String data, int responseCode, Map<String, String> headers) {\n+        this.data = data;\n+        this.responseCode = responseCode;\n+        this.headers = headers;\n+    }\n+\n+    public String getData() {\n+        return data;\n+    }\n+\n+    public int getResponseCode() {", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ3NjE2NQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463476165", "bodyText": "Added code-docs", "author": "Ayodhya94", "createdAt": "2020-07-31T08:28:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5OTIwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5OTU0OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462699549", "bodyText": "this test method is bit long, commenting would helpful for  readability", "author": "rasika", "createdAt": "2020-07-30T02:37:23Z", "path": "misc/ballerinalang-data-mapper/src/test/java/org/ballerinalang/datamapper/codeaction/CodeActionTest.java", "diffHunk": "@@ -0,0 +1,259 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.codeaction;\n+\n+import com.google.gson.JsonArray;\n+import com.google.gson.JsonElement;\n+import com.google.gson.JsonObject;\n+import com.google.gson.JsonParser;\n+import org.ballerinalang.datamapper.util.FileUtils;\n+import org.ballerinalang.datamapper.util.TestUtil;\n+import org.ballerinalang.datamapper.utils.HttpClientRequest;\n+import org.ballerinalang.datamapper.utils.HttpResponse;\n+import org.ballerinalang.langserver.codeaction.CodeActionUtil;\n+import org.eclipse.lsp4j.CodeActionContext;\n+import org.eclipse.lsp4j.Diagnostic;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.jsonrpc.Endpoint;\n+import org.junit.runner.RunWith;\n+import org.powermock.api.mockito.PowerMockito;\n+import org.powermock.core.classloader.annotations.PrepareForTest;\n+import org.powermock.modules.junit4.PowerMockRunner;\n+import org.powermock.modules.testng.PowerMockTestCase;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.testng.Assert;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.BeforeClass;\n+import org.testng.annotations.DataProvider;\n+import org.testng.annotations.Test;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Map;\n+\n+import static org.mockito.Matchers.any;\n+\n+/**\n+ * Test Cases for CodeActions.\n+ *\n+ * @since 2.0.0\n+ */\n+@RunWith(PowerMockRunner.class)\n+@PrepareForTest(HttpClientRequest.class)\n+public class CodeActionTest extends PowerMockTestCase {\n+\n+    private Endpoint serviceEndpoint;\n+\n+    private JsonParser parser = new JsonParser();\n+\n+    private Path sourcesPath = new File(getClass().getClassLoader().getResource(\"codeaction\").getFile()).toPath();\n+\n+    private static final Logger log = LoggerFactory.getLogger(CodeActionTest.class);\n+    private static final int HTTP_200_OK = 200;\n+    private static final int HTTP_422_UN_PROCESSABLE_ENTITY = 422;\n+    private static final int HTTP_500_INTERNAL_SERVER_ERROR = 500;\n+\n+    @BeforeClass\n+    private void init() {\n+        this.serviceEndpoint = TestUtil.initializeLanguageSever();\n+        String startConfigPath = \"codeaction\" + File.separator + \"config\" + File.separator + \"startConfig.json\";\n+        JsonObject configs = FileUtils.fileContentAsObject(startConfigPath);\n+        TestUtil.setWorkspaceConfig(serviceEndpoint, configs);\n+    }\n+\n+    @Test(dataProvider = \"codeAction-data-mapper-data-provider\")\n+    public void testDataMapperCodeAction(String config, String source) throws Exception {", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDc4NzkxNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r464787916", "bodyText": "Done", "author": "Ayodhya94", "createdAt": "2020-08-04T04:12:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjY5OTU0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcwMTM4Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462701383", "bodyText": "Missing license agreement", "author": "nadeeshaan", "createdAt": "2020-07-30T02:44:30Z", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/config/DataMapperConfig.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.ballerinalang.langserver.compiler.config;", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMTMwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463421305", "bodyText": "Added license agreement", "author": "Ayodhya94", "createdAt": "2020-07-31T06:04:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcwMTM4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA5NTUzNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469095536", "bodyText": "It seems the license header is not properly added. The last part is missing and also new lines are missing. Refer [1] for example.\n[1] https://github.com/ballerina-platform/ballerina-lang/blob/master/tool-plugins/intellij/src/main/java/io/ballerina/plugins/idea/preloading/LSClientConfig.java", "author": "anupama-pathirage", "createdAt": "2020-08-12T08:32:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcwMTM4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcwMTQ5OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r462701499", "bodyText": "format needed", "author": "nadeeshaan", "createdAt": "2020-07-30T02:44:54Z", "path": "language-server/modules/langserver-compiler/src/main/java/org/ballerinalang/langserver/compiler/config/LSClientConfig.java", "diffHunk": "@@ -105,4 +107,9 @@ public boolean isTraceLogEnabled() {\n     public GoToDefinitionConfig getGoToDefinition() {\n         return goToDefinition;\n     }\n+\n+    public DataMapperConfig getDataMapper() {\n+", "originalCommit": "567f0056394f6a218b3fd2c8ce94369d94b8d662", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMTc2Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r463421766", "bodyText": "Formatted", "author": "Ayodhya94", "createdAt": "2020-07-31T06:05:48Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjcwMTQ5OQ=="}], "type": "inlineReview"}, {"oid": "59fd5837bcf2dbebd8ec4255fdf517c8cdda0d57", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/59fd5837bcf2dbebd8ec4255fdf517c8cdda0d57", "message": "Re-format code to address review comments", "committedDate": "2020-07-31T08:13:57Z", "type": "commit"}, {"oid": "f4c97db010c1ef064829762cb7240ecea53a6645", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f4c97db010c1ef064829762cb7240ecea53a6645", "message": "Remove unwanted changes", "committedDate": "2020-08-04T04:27:05Z", "type": "commit"}, {"oid": "02462ab450b9b384710c99d4dbe95aa8735945a3", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/02462ab450b9b384710c99d4dbe95aa8735945a3", "message": "Format code to address reviews", "committedDate": "2020-08-04T04:29:11Z", "type": "commit"}, {"oid": "4138ea002d12ec558196dbcaa3ecd2242f14d8e0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4138ea002d12ec558196dbcaa3ecd2242f14d8e0", "message": "Format code to address reviews", "committedDate": "2020-08-04T04:39:23Z", "type": "commit"}, {"oid": "2fafcb807bf0c1ea1a0ca53acf58709409d1473b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2fafcb807bf0c1ea1a0ca53acf58709409d1473b", "message": "Change backend service url", "committedDate": "2020-08-04T09:40:52Z", "type": "commit"}, {"oid": "a48342b86c719e8494ab5aab85e188f326921f09", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a48342b86c719e8494ab5aab85e188f326921f09", "message": "Merge branch 'master' into add-data-mapper", "committedDate": "2020-08-04T09:53:04Z", "type": "commit"}, {"oid": "5c725688767b18ef9ed87f7033d60506a78fcdce", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5c725688767b18ef9ed87f7033d60506a78fcdce", "message": "Change back end URL", "committedDate": "2020-08-06T03:24:29Z", "type": "commit"}, {"oid": "5bdd032f517b347d43e1c37bee1a8c5f20d1cf09", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/5bdd032f517b347d43e1c37bee1a8c5f20d1cf09", "message": "Merge branch 'master' into add-data-mapper", "committedDate": "2020-08-07T09:53:02Z", "type": "commit"}, {"oid": "8c46c81e485c1361f1fd460a16ad50bc5dd1a174", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8c46c81e485c1361f1fd460a16ad50bc5dd1a174", "message": "Merge branch 'master' into add-data-mapper", "committedDate": "2020-08-10T01:20:56Z", "type": "commit"}, {"oid": "1ddadd0c7ae15c52c8c797ad0be440fd004c7620", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1ddadd0c7ae15c52c8c797ad0be440fd004c7620", "message": "Bug fix", "committedDate": "2020-08-10T01:36:07Z", "type": "commit"}, {"oid": "a2f595321eb4065943e4b9a3d29d3e60430a4c5c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/a2f595321eb4065943e4b9a3d29d3e60430a4c5c", "message": "Change backend url", "committedDate": "2020-08-10T01:36:29Z", "type": "commit"}, {"oid": "9fe6c4df3febeb9bb71217cf50f11585195dec22", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/9fe6c4df3febeb9bb71217cf50f11585195dec22", "message": "Add new lines at the end", "committedDate": "2020-08-11T12:11:47Z", "type": "commit"}, {"oid": "fc7a3e3899d053f351bb6884ecef8c843093d61f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fc7a3e3899d053f351bb6884ecef8c843093d61f", "message": "Merge branch 'master' into add-data-mapper", "committedDate": "2020-08-11T12:13:32Z", "type": "commit"}, {"oid": "0b74279f2836174fa8ab32341fc0c954995b959c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/0b74279f2836174fa8ab32341fc0c954995b959c", "message": "Remove unwanted lib from gradle", "committedDate": "2020-08-11T13:03:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA5NTQxMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469095413", "bodyText": "It seems the license header is not properly added. The last part is missing and also new lines are missing. Refer [1] for example.\n[1] https://github.com/ballerina-platform/ballerina-lang/blob/master/tool-plugins/intellij/src/main/java/io/ballerina/plugins/idea/preloading/LSClientConfig.java", "author": "anupama-pathirage", "createdAt": "2020-08-12T08:31:51Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/AIDataMapperCodeAction.java", "diffHunk": "@@ -0,0 +1,144 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper;", "originalCommit": "0b74279f2836174fa8ab32341fc0c954995b959c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE3NTMxMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469175313", "bodyText": "Changed the license header as suggested", "author": "Ayodhya94", "createdAt": "2020-08-12T10:56:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA5NTQxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA5NTcwMw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469095703", "bodyText": "Same as above. Check all the places.", "author": "anupama-pathirage", "createdAt": "2020-08-12T08:32:23Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/AIDataMapperCodeActionUtil.java", "diffHunk": "@@ -0,0 +1,234 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */", "originalCommit": "0b74279f2836174fa8ab32341fc0c954995b959c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE3NTQ3OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469175478", "bodyText": "Changed the license headers as suggested", "author": "Ayodhya94", "createdAt": "2020-08-12T10:56:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA5NTcwMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA5Njc4Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469096782", "bodyText": "Can we define set of constants for these fields as we are using them in multiple places. Then we can find the usages easily and change easily in future if requrired.", "author": "anupama-pathirage", "createdAt": "2020-08-12T08:34:26Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/AIDataMapperCodeActionUtil.java", "diffHunk": "@@ -0,0 +1,234 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper;\n+\n+import com.google.common.cache.Cache;\n+import com.google.common.cache.CacheBuilder;\n+import com.google.gson.JsonArray;\n+import com.google.gson.JsonElement;\n+import com.google.gson.JsonObject;\n+import com.google.gson.JsonParser;\n+import org.ballerinalang.datamapper.utils.HttpClientRequest;\n+import org.ballerinalang.datamapper.utils.HttpResponse;\n+import org.ballerinalang.langserver.common.constants.CommandConstants;\n+import org.ballerinalang.langserver.common.utils.CommonUtil;\n+import org.ballerinalang.langserver.commons.LSContext;\n+import org.ballerinalang.langserver.commons.workspace.WorkspaceDocumentException;\n+import org.ballerinalang.langserver.commons.workspace.WorkspaceDocumentManager;\n+import org.ballerinalang.langserver.compiler.DocumentServiceKeys;\n+import org.ballerinalang.langserver.compiler.config.LSClientConfigHolder;\n+import org.ballerinalang.langserver.util.references.SymbolReferencesModel;\n+import org.eclipse.lsp4j.Diagnostic;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.TextEdit;\n+import org.wso2.ballerinalang.compiler.semantics.model.symbols.BSymbol;\n+import org.wso2.ballerinalang.compiler.semantics.model.types.BArrayType;\n+import org.wso2.ballerinalang.compiler.semantics.model.types.BField;\n+import org.wso2.ballerinalang.compiler.semantics.model.types.BRecordType;\n+import org.wso2.ballerinalang.compiler.semantics.model.types.BType;\n+import org.wso2.ballerinalang.compiler.tree.BLangNode;\n+import org.wso2.ballerinalang.compiler.tree.expressions.BLangSimpleVarRef;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.regex.Matcher;\n+\n+/**\n+ * Automatic data mapping code action related utils.\n+ */\n+class AIDataMapperCodeActionUtil {\n+    private static final int HTTP_200_OK = 200;\n+    private static final int HTTP_422_UN_PROCESSABLE_ENTITY = 422;\n+    private static final int HTTP_500_INTERNAL_SERVER_ERROR = 500;\n+    private static final int MAXIMUM_CACHE_SIZE = 100;\n+    private static Cache<Integer, String> mappingCache =\n+            CacheBuilder.newBuilder().maximumSize(MAXIMUM_CACHE_SIZE).build();\n+\n+    /**\n+     * Returns the workspace edits for the automatic data mapping code action.\n+     *\n+     * @param context     {@link LSContext}\n+     * @param refAtCursor {@link SymbolReferencesModel.Reference}\n+     * @param diagnostic  {@link Diagnostic}\n+     * @return edits for the data mapper code action\n+     * @throws IOException                throws if error occurred when getting generatedRecordMappingFunction\n+     * @throws WorkspaceDocumentException throws if error occurred when reading file content\n+     */\n+    static List<TextEdit> getAIDataMapperCodeActionEdits(LSContext context,\n+                                                         SymbolReferencesModel.Reference refAtCursor,\n+                                                         Diagnostic diagnostic)\n+            throws IOException, WorkspaceDocumentException {\n+        List<TextEdit> fEdits = new ArrayList<>();\n+        String diagnosticMessage = diagnostic.getMessage();\n+        Matcher matcher = CommandConstants.INCOMPATIBLE_TYPE_PATTERN.matcher(diagnosticMessage);\n+\n+        if (!(matcher.find() && matcher.groupCount() > 1)) {\n+            return fEdits;\n+        }\n+        String foundTypeLeft = matcher.group(1)\n+                .replaceAll(refAtCursor.getSymbol().type.tsymbol.pkgID.toString() + \":\",\n+                        \"\");  // variable at left side of the equal sign\n+        String foundTypeRight = matcher.group(2)\n+                .replaceAll(refAtCursor.getSymbol().type.tsymbol.pkgID.toString() + \":\",\n+                        \"\");  // variable at right side of the equal sign\n+\n+        // Insert function call in the code where error is found\n+        BLangNode bLangNode = refAtCursor.getbLangNode();\n+        Position startPos = new Position(bLangNode.pos.sLine - 1, bLangNode.pos.sCol - 1);\n+        Position endPosWithSemiColon = new Position(bLangNode.pos.eLine - 1, bLangNode.pos.eCol);\n+        Range newTextRange = new Range(startPos, endPosWithSemiColon);\n+\n+        BSymbol symbolAtCursor = refAtCursor.getSymbol();\n+        String generatedFunctionName =\n+                String.format(\"map%sTo%s(%s);\", foundTypeRight, foundTypeLeft, symbolAtCursor.name.value);\n+        fEdits.add(new TextEdit(newTextRange, generatedFunctionName));\n+\n+        // Insert function declaration at the bottom of the file\n+        WorkspaceDocumentManager docManager = context.get(DocumentServiceKeys.DOC_MANAGER_KEY);\n+        Optional<Path> filePath = CommonUtil.getPathFromURI(context.get(DocumentServiceKeys.FILE_URI_KEY));\n+        if (filePath.isPresent()) {\n+            String fileContent = docManager.getFileContent(Paths.get(String.valueOf(filePath.get())));\n+            String functionName = String.format(\"map%sTo%s (%s\", foundTypeRight, foundTypeLeft, foundTypeRight);\n+            if (!fileContent.contains(functionName)) {\n+                int numberOfLinesInFile = fileContent.split(\"\\n\").length;\n+                Position startPosOfLastLine = new Position(numberOfLinesInFile + 2, 0);\n+                Position endPosOfLastLine = new Position(numberOfLinesInFile + 2, 1);\n+                Range newFunctionRange = new Range(startPosOfLastLine, endPosOfLastLine);\n+                String generatedRecordMappingFunction =\n+                        getGeneratedRecordMappingFunction(bLangNode, symbolAtCursor, foundTypeLeft, foundTypeRight);\n+                fEdits.add(new TextEdit(newFunctionRange, generatedRecordMappingFunction));\n+            }\n+        }\n+        return fEdits;\n+    }\n+\n+    /**\n+     * Given two record types, this returns a function with mapped schemas.\n+     *\n+     * @param bLangNode      {@link BLangNode}\n+     * @param symbolAtCursor {@link BSymbol}\n+     * @param foundTypeLeft  {@link String}\n+     * @param foundTypeRight {@link String}\n+     * @return function string with mapped schemas\n+     * @throws IOException throws if error occurred when getting mapped function\n+     */\n+    private static String getGeneratedRecordMappingFunction(BLangNode bLangNode, BSymbol symbolAtCursor,\n+                                                            String foundTypeLeft, String foundTypeRight)\n+            throws IOException {\n+        JsonObject rightRecordJSON = new JsonObject();\n+        JsonObject leftRecordJSON = new JsonObject();\n+\n+        // Schema 1\n+        BType variableTypeMappingFrom = symbolAtCursor.type;\n+        if (variableTypeMappingFrom instanceof BRecordType) {\n+            List<BField> rightSchemaFields = new ArrayList<>(((BRecordType) variableTypeMappingFrom).fields.values());\n+            JsonObject rightSchema = (JsonObject) recordToJSON(rightSchemaFields);\n+\n+            rightRecordJSON.addProperty(\"schema\", foundTypeRight);", "originalCommit": "0b74279f2836174fa8ab32341fc0c954995b959c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTIyNDgyMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469224821", "bodyText": "Defined them as constants", "author": "Ayodhya94", "createdAt": "2020-08-12T12:32:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA5Njc4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTEwNjgwNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469106805", "bodyText": "Should be = new HashMap<>();", "author": "anupama-pathirage", "createdAt": "2020-08-12T08:51:21Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/utils/HttpClientRequest.java", "diffHunk": "@@ -0,0 +1,173 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.utils;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.BufferedReader;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.io.OutputStream;\n+import java.io.OutputStreamWriter;\n+import java.io.Writer;\n+import java.net.HttpURLConnection;\n+import java.net.ProtocolException;\n+import java.net.URL;\n+import java.net.URLConnection;\n+import java.nio.charset.Charset;\n+import java.nio.charset.StandardCharsets;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.Map;\n+\n+/**\n+ * This class can be used to send http request.\n+ */\n+public class HttpClientRequest {\n+    private static final Logger LOG = LoggerFactory.getLogger(HttpClientRequest.class);\n+    private static final int DEFAULT_READ_TIMEOUT = 30000;\n+\n+    /**\n+     * Send an HTTP POST request to a service.\n+     *\n+     * @param endpoint - service endpoint\n+     * @param postBody - message payload\n+     * @param headers  http request headers map\n+     * @return - HttpResponse from end point\n+     * @throws IOException If an error occurs while sending the GET request\n+     */\n+    public static HttpResponse doPost(String endpoint, String postBody, Map<String, String> headers)\n+            throws IOException {\n+        HttpURLConnection urlConnection = null;\n+        try {\n+            urlConnection = getURLConnection(endpoint);\n+            setHeadersAndMethod(urlConnection, headers, \"POST\");\n+            try (OutputStream out = urlConnection.getOutputStream();\n+                 Writer writer = new OutputStreamWriter(out, StandardCharsets.UTF_8)) {\n+                writer.write(postBody);\n+            }\n+            return buildResponse(urlConnection);\n+        } finally {\n+            if (urlConnection != null) {\n+                urlConnection.disconnect();\n+            }\n+        }\n+    }\n+\n+    private static HttpURLConnection getURLConnection(String requestUrl) throws IOException {\n+        return getURLConnection(requestUrl, DEFAULT_READ_TIMEOUT);\n+    }\n+\n+    private static HttpURLConnection getURLConnection(String requestUrl, int readTimeout) throws IOException {\n+        URL url = new URL(requestUrl);\n+        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n+        conn.setDoOutput(true);\n+        conn.setReadTimeout(readTimeout);\n+        conn.setConnectTimeout(15000);\n+        conn.setDoInput(true);\n+        conn.setUseCaches(true);\n+        conn.setAllowUserInteraction(false);\n+        return conn;\n+    }\n+\n+    private static Map<String, String> readHeaders(URLConnection urlConnection) {\n+        Iterator<String> itr = urlConnection.getHeaderFields().keySet().iterator();\n+        Map<String, String> headers = new HashMap();", "originalCommit": "0b74279f2836174fa8ab32341fc0c954995b959c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE3ODIxNg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469178216", "bodyText": "Changed", "author": "Ayodhya94", "createdAt": "2020-08-12T11:02:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTEwNjgwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTEwODQ5MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469108490", "bodyText": "Why readTimeout is passed as a parameter as it is constant. Also for connect time out also, we have used a constant value(15000) but it is not passed as a parameter or defined as a constant. Can we follow the same convention for all the properties?", "author": "anupama-pathirage", "createdAt": "2020-08-12T08:53:58Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/utils/HttpClientRequest.java", "diffHunk": "@@ -0,0 +1,173 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.utils;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.BufferedReader;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.io.OutputStream;\n+import java.io.OutputStreamWriter;\n+import java.io.Writer;\n+import java.net.HttpURLConnection;\n+import java.net.ProtocolException;\n+import java.net.URL;\n+import java.net.URLConnection;\n+import java.nio.charset.Charset;\n+import java.nio.charset.StandardCharsets;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.Map;\n+\n+/**\n+ * This class can be used to send http request.\n+ */\n+public class HttpClientRequest {\n+    private static final Logger LOG = LoggerFactory.getLogger(HttpClientRequest.class);\n+    private static final int DEFAULT_READ_TIMEOUT = 30000;\n+\n+    /**\n+     * Send an HTTP POST request to a service.\n+     *\n+     * @param endpoint - service endpoint\n+     * @param postBody - message payload\n+     * @param headers  http request headers map\n+     * @return - HttpResponse from end point\n+     * @throws IOException If an error occurs while sending the GET request\n+     */\n+    public static HttpResponse doPost(String endpoint, String postBody, Map<String, String> headers)\n+            throws IOException {\n+        HttpURLConnection urlConnection = null;\n+        try {\n+            urlConnection = getURLConnection(endpoint);\n+            setHeadersAndMethod(urlConnection, headers, \"POST\");\n+            try (OutputStream out = urlConnection.getOutputStream();\n+                 Writer writer = new OutputStreamWriter(out, StandardCharsets.UTF_8)) {\n+                writer.write(postBody);\n+            }\n+            return buildResponse(urlConnection);\n+        } finally {\n+            if (urlConnection != null) {\n+                urlConnection.disconnect();\n+            }\n+        }\n+    }\n+\n+    private static HttpURLConnection getURLConnection(String requestUrl) throws IOException {\n+        return getURLConnection(requestUrl, DEFAULT_READ_TIMEOUT);\n+    }\n+\n+    private static HttpURLConnection getURLConnection(String requestUrl, int readTimeout) throws IOException {", "originalCommit": "0b74279f2836174fa8ab32341fc0c954995b959c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE4MDk5NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469180994", "bodyText": "Made the changes to follow the same convention.", "author": "Ayodhya94", "createdAt": "2020-08-12T11:08:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTEwODQ5MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTEwOTUwOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469109509", "bodyText": "We have only one usage of buildResponse function. So why do we need to pass throwError as a parameter which is always false.", "author": "anupama-pathirage", "createdAt": "2020-08-12T08:55:37Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/utils/HttpClientRequest.java", "diffHunk": "@@ -0,0 +1,173 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.utils;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import java.io.BufferedReader;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.io.InputStreamReader;\n+import java.io.OutputStream;\n+import java.io.OutputStreamWriter;\n+import java.io.Writer;\n+import java.net.HttpURLConnection;\n+import java.net.ProtocolException;\n+import java.net.URL;\n+import java.net.URLConnection;\n+import java.nio.charset.Charset;\n+import java.nio.charset.StandardCharsets;\n+import java.util.HashMap;\n+import java.util.Iterator;\n+import java.util.Map;\n+\n+/**\n+ * This class can be used to send http request.\n+ */\n+public class HttpClientRequest {\n+    private static final Logger LOG = LoggerFactory.getLogger(HttpClientRequest.class);\n+    private static final int DEFAULT_READ_TIMEOUT = 30000;\n+\n+    /**\n+     * Send an HTTP POST request to a service.\n+     *\n+     * @param endpoint - service endpoint\n+     * @param postBody - message payload\n+     * @param headers  http request headers map\n+     * @return - HttpResponse from end point\n+     * @throws IOException If an error occurs while sending the GET request\n+     */\n+    public static HttpResponse doPost(String endpoint, String postBody, Map<String, String> headers)\n+            throws IOException {\n+        HttpURLConnection urlConnection = null;\n+        try {\n+            urlConnection = getURLConnection(endpoint);\n+            setHeadersAndMethod(urlConnection, headers, \"POST\");\n+            try (OutputStream out = urlConnection.getOutputStream();\n+                 Writer writer = new OutputStreamWriter(out, StandardCharsets.UTF_8)) {\n+                writer.write(postBody);\n+            }\n+            return buildResponse(urlConnection);\n+        } finally {\n+            if (urlConnection != null) {\n+                urlConnection.disconnect();\n+            }\n+        }\n+    }\n+\n+    private static HttpURLConnection getURLConnection(String requestUrl) throws IOException {\n+        return getURLConnection(requestUrl, DEFAULT_READ_TIMEOUT);\n+    }\n+\n+    private static HttpURLConnection getURLConnection(String requestUrl, int readTimeout) throws IOException {\n+        URL url = new URL(requestUrl);\n+        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n+        conn.setDoOutput(true);\n+        conn.setReadTimeout(readTimeout);\n+        conn.setConnectTimeout(15000);\n+        conn.setDoInput(true);\n+        conn.setUseCaches(true);\n+        conn.setAllowUserInteraction(false);\n+        return conn;\n+    }\n+\n+    private static Map<String, String> readHeaders(URLConnection urlConnection) {\n+        Iterator<String> itr = urlConnection.getHeaderFields().keySet().iterator();\n+        Map<String, String> headers = new HashMap();\n+        while (itr.hasNext()) {\n+            String key = itr.next();\n+            if (key != null) {\n+                headers.put(key, urlConnection.getHeaderField(key));\n+            }\n+        }\n+        return headers;\n+    }\n+\n+    private static void setHeadersAndMethod(HttpURLConnection conn, Map<String, String> headers, String method)\n+            throws ProtocolException {\n+        for (Map.Entry<String, String> e : headers.entrySet()) {\n+            conn.addRequestProperty(e.getKey(), e.getValue());\n+        }\n+        conn.setRequestMethod(method);\n+    }\n+\n+    private static HttpResponse buildResponse(HttpURLConnection conn) throws IOException {\n+        return buildResponse(conn, defaultResponseBuilder, false);\n+    }\n+\n+    private static HttpResponse buildResponse(HttpURLConnection conn,", "originalCommit": "0b74279f2836174fa8ab32341fc0c954995b959c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE4MjM3OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469182379", "bodyText": "Removed unwanted parameter", "author": "Ayodhya94", "createdAt": "2020-08-12T11:11:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTEwOTUwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE2NTQ3NA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469165474", "bodyText": "Input parameter headers is unused.", "author": "anupama-pathirage", "createdAt": "2020-08-12T10:35:41Z", "path": "misc/ballerinalang-data-mapper/src/main/java/org/ballerinalang/datamapper/utils/HttpResponse.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.com). All Rights Reserved.\n+ *\n+ * This software is the property of WSO2 Inc. and its suppliers, if any.\n+ * Dissemination of any information or reproduction of any material contained\n+ * herein is strictly forbidden, unless permitted by WSO2 in accordance with\n+ * the WSO2 Commercial License available at http://wso2.com/licenses.\n+ * For specific language governing the permissions and limitations under\n+ * this license, please see the license as well as any agreement you\u2019ve\n+ * entered into with WSO2 governing the purchase of this software and any\n+ */\n+package org.ballerinalang.datamapper.utils;\n+\n+import java.util.Map;\n+\n+/**\n+ * This class is a simple representation of an HTTP response.\n+ */\n+public class HttpResponse {\n+    private String data;\n+    private int responseCode;\n+\n+    /**\n+     * This method set data and response code of a HTTP request response.\n+     * @param data {@link String}\n+     * @param responseCode {@link int}\n+     */\n+    public HttpResponse(String data, int responseCode) {\n+        this.data = data;\n+        this.responseCode = responseCode;\n+    }\n+\n+    HttpResponse(String data, int responseCode, Map<String, String> headers) {", "originalCommit": "0b74279f2836174fa8ab32341fc0c954995b959c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE4Mzc1Mg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/25022#discussion_r469183752", "bodyText": "Removed unwanted parameters", "author": "Ayodhya94", "createdAt": "2020-08-12T11:14:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTE2NTQ3NA=="}], "type": "inlineReview"}]}