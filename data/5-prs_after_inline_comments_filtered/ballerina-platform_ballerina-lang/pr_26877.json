{"pr_number": 26877, "pr_title": "Enable code action tests and migrate pending into Semantic API", "pr_createdAt": "2020-11-11T17:51:50Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26877", "timeline": [{"oid": "bc0d77d31770ecc0b86ae8deafafd58038dbc9a5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/bc0d77d31770ecc0b86ae8deafafd58038dbc9a5", "message": "Move code-actions into new structure\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-04T12:09:48Z", "type": "commit"}, {"oid": "8442dc8d27b8b1fe155aecf2e84b8869420242a9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8442dc8d27b8b1fe155aecf2e84b8869420242a9", "message": "Introduce code-action priorities for sorting\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-04T12:09:57Z", "type": "commit"}, {"oid": "c6a3060e2f16a1ff84aa749e4ba3e775792dda8b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/c6a3060e2f16a1ff84aa749e4ba3e775792dda8b", "message": "Fix and migrate optional !isPresent into isEmpty\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-04T12:09:58Z", "type": "commit"}, {"oid": "ba67ab3368abc2c22a9e2d0798291a186142b5ae", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ba67ab3368abc2c22a9e2d0798291a186142b5ae", "message": "Rename currentPosition into currentIdentifierPos\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-04T12:09:58Z", "type": "commit"}, {"oid": "300af7b8590dec3a531db71c03186603e9c2c7f9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/300af7b8590dec3a531db71c03186603e9c2c7f9", "message": "Revamp create-variable and introduce error-type handling\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-04T12:11:40Z", "type": "commit"}, {"oid": "f08038d5bc1bfe3b661430fbc955cfc0cd8d9009", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f08038d5bc1bfe3b661430fbc955cfc0cd8d9009", "message": "Revamp code-actions structure\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-06T10:03:29Z", "type": "commit"}, {"oid": "45ac3d8ede479813ec2bd671fbf9bb0db074ad7f", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/45ac3d8ede479813ec2bd671fbf9bb0db074ad7f", "message": "Enable code action tests\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T04:17:45Z", "type": "commit"}, {"oid": "4f148d414135a41b63052f2f32227aef42e020eb", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/4f148d414135a41b63052f2f32227aef42e020eb", "message": "Fix signature() styling issues\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T04:18:36Z", "type": "commit"}, {"oid": "62bb9c9649c25b32953bf90e32e56cf397714e2e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/62bb9c9649c25b32953bf90e32e56cf397714e2e", "message": "Improve error handling in code-actions\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T04:19:03Z", "type": "commit"}, {"oid": "8823e68aef49000b65aa5e06c757764c851a7575", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8823e68aef49000b65aa5e06c757764c851a7575", "message": "Revamp generate variable name for a given symbol\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T04:19:30Z", "type": "commit"}, {"oid": "05cfbda81a20f4e1dcba32c9883668f66591f185", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/05cfbda81a20f4e1dcba32c9883668f66591f185", "message": "Fix NPE in semantic-api when traversing spread record field\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T04:20:09Z", "type": "commit"}, {"oid": "958d3769e6691fb4766625a4cd535cca44e5e1e9", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/958d3769e6691fb4766625a4cd535cca44e5e1e9", "message": "Add fixes for finding type-symbol\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T04:22:59Z", "type": "commit"}, {"oid": "e8318bfbc704e0fdceb7380e1cb77a25fb106f3c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e8318bfbc704e0fdceb7380e1cb77a25fb106f3c", "message": "Fix add-doc code action test issues\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T10:15:20Z", "type": "commit"}, {"oid": "8531bfd94121372d4a85be94fdd3fa63568053ea", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8531bfd94121372d4a85be94fdd3fa63568053ea", "message": "Change code-action title\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-09T10:16:49Z", "type": "commit"}, {"oid": "50b86741ea7aaf0a182b3fe98c922065c9e579d2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/50b86741ea7aaf0a182b3fe98c922065c9e579d2", "message": "Fix checkstyle issues\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T08:08:06Z", "type": "commit"}, {"oid": "fb0e0cd0b74e65ec8ef21f201b8e44dcfadfffb4", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fb0e0cd0b74e65ec8ef21f201b8e44dcfadfffb4", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang into code-actions-revamp\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T09:59:57Z", "type": "commit"}, {"oid": "54fbe52362e13dfd28a50f61c640499a6dbb3345", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/54fbe52362e13dfd28a50f61c640499a6dbb3345", "message": "Refactor code position selection for code actions\n\nRefactor the logic for selecting the position to display/not display the code actions.\n\n(cherry picked from commit 045192af68d3aa4a85192f0c4d3dce78e37a59f5)\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T10:40:05Z", "type": "commit"}, {"oid": "6948d44254b19fac9ec6ec3a9b3f0ea180aaf633", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/6948d44254b19fac9ec6ec3a9b3f0ea180aaf633", "message": "Fix unthrown exception issue\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T10:42:52Z", "type": "commit"}, {"oid": "abf367439c24c6d51d77ec61d3bdbe56404b0271", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/abf367439c24c6d51d77ec61d3bdbe56404b0271", "message": "Fix check style issues\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T10:56:01Z", "type": "commit"}, {"oid": "f02b4a28c12f0104886624089ae1291ccf37c663", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f02b4a28c12f0104886624089ae1291ccf37c663", "message": "Temporary comment code-actions\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T11:19:28Z", "type": "commit"}, {"oid": "463bf792a6c243d9b162f3a1dcf54247399f1e39", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/463bf792a6c243d9b162f3a1dcf54247399f1e39", "message": "Fix spotbugs issues\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T11:19:47Z", "type": "commit"}, {"oid": "e6a1d98939cae6e1b8e4201c46213613b7533473", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e6a1d98939cae6e1b8e4201c46213613b7533473", "message": "Temporary commented code-actions\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T11:56:45Z", "type": "commit"}, {"oid": "08a109388077df92ad6be965f9bacc05ff757e2b", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/08a109388077df92ad6be965f9bacc05ff757e2b", "message": "Fix failing test\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-11T17:58:37Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTc3NjA1OA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26877#discussion_r521776058", "bodyText": "There are some commented code sections. Is this intensional?", "author": "nadeeshaan", "createdAt": "2020-11-12T02:21:59Z", "path": "language-server/modules/langserver-core/src/main/java/org/ballerinalang/langserver/codeaction/providers/ImplementFunctionsCodeAction.java", "diffHunk": "@@ -0,0 +1,148 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.ballerinalang.langserver.codeaction.providers;\n+\n+import io.ballerina.compiler.syntax.tree.SyntaxTree;\n+import org.ballerinalang.annotation.JavaSPIService;\n+import org.ballerinalang.langserver.common.constants.CommandConstants;\n+import org.ballerinalang.langserver.commons.LSContext;\n+import org.ballerinalang.langserver.commons.codeaction.spi.PositionDetails;\n+import org.ballerinalang.langserver.compiler.DocumentServiceKeys;\n+import org.eclipse.lsp4j.CodeAction;\n+import org.eclipse.lsp4j.Diagnostic;\n+import org.eclipse.lsp4j.TextEdit;\n+\n+import java.util.ArrayList;\n+import java.util.Collections;\n+import java.util.List;\n+\n+/**\n+ * Code Action for implementing functions of an object.\n+ *\n+ * @since 1.2.0\n+ */\n+@JavaSPIService(\"org.ballerinalang.langserver.commons.codeaction.spi.LSCodeActionProvider\")\n+public class ImplementFunctionsCodeAction extends AbstractCodeActionProvider {\n+    private static final String NO_IMPL_FOUND_FOR_FUNCTION = \"no implementation found for the function\";\n+\n+    @Override\n+    public boolean isEnabled() {\n+        return false;\n+    }\n+\n+    /**\n+     * {@inheritDoc}\n+     */\n+    @Override\n+    public List<CodeAction> getDiagBasedCodeActions(Diagnostic diagnostic,\n+                                                    PositionDetails positionDetails, List<Diagnostic> allDiagnostics,\n+                                                    SyntaxTree syntaxTree, LSContext context) {\n+        if (!(diagnostic.getMessage().startsWith(NO_IMPL_FOUND_FOR_FUNCTION))) {\n+            return Collections.emptyList();\n+        }\n+//        BLangPackage bLangPackage = context.get(DocumentServiceKeys.CURRENT_BLANG_PACKAGE_CONTEXT_KEY);", "originalCommit": "08a109388077df92ad6be965f9bacc05ff757e2b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTgzOTAzOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26877#discussion_r521839039", "bodyText": "Yes, this is due to spotbugs complaints and had to comment them since fixes are huge. Will send a separate PR for this.", "author": "rasika", "createdAt": "2020-11-12T04:56:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTc3NjA1OA=="}], "type": "inlineReview"}, {"oid": "cb0bc975ff2a9c1a7f718e8c2289b5b4b3d22098", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cb0bc975ff2a9c1a7f718e8c2289b5b4b3d22098", "message": "Fix failing test\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-12T03:01:27Z", "type": "forcePushed"}, {"oid": "de610c860592136ddcc1d362d9498a252c07d12a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/de610c860592136ddcc1d362d9498a252c07d12a", "message": "Fix failing test\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-12T04:36:12Z", "type": "commit"}, {"oid": "de610c860592136ddcc1d362d9498a252c07d12a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/de610c860592136ddcc1d362d9498a252c07d12a", "message": "Fix failing test\n\nSigned-off-by: Rasika <info.rasika@gmail.com>", "committedDate": "2020-11-12T04:36:12Z", "type": "forcePushed"}]}