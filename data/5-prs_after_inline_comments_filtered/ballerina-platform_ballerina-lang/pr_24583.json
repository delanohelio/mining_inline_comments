{"pr_number": 24583, "pr_title": "Implement setModuleLogLevel function in Log API", "pr_createdAt": "2020-07-03T13:34:40Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/24583", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc2MDUwOQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24583#discussion_r450760509", "bodyText": "Why are we removing this function?", "author": "daneshk", "createdAt": "2020-07-07T10:19:19Z", "path": "bvm/ballerina-logging/src/main/java/org/ballerinalang/logging/BLogManager.java", "diffHunk": "@@ -118,15 +118,6 @@ public BLogLevel getPackageLogLevel(String pkg) {\n         return loggerLevels.containsKey(pkg) ? loggerLevels.get(pkg) : ballerinaUserLogLevel;\n     }\n \n-    /**\n-     * Get the global log level.\n-     *\n-     * @return ballerinaUserLogLevel\n-     */\n-    public BLogLevel getGlobalLogLevel() {\n-        return ballerinaUserLogLevel;\n-    }", "originalCommit": "6475087b634f47f3e72dcd84c8cd59fe18a8ad0a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc2NTIwMQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24583#discussion_r450765201", "bodyText": "This function is no longer used.", "author": "MadhukaHarith92", "createdAt": "2020-07-07T10:28:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc2MDUwOQ=="}], "type": "inlineReview"}, {"oid": "3fa1daab78d51fac48860f82bc09865c92837d36", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/3fa1daab78d51fac48860f82bc09865c92837d36", "message": "Implement setModuleLogLevel function in Log API", "committedDate": "2020-07-08T11:39:58Z", "type": "commit"}, {"oid": "ee161eb12fa477b7437d37e4c196fac16d89e180", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/ee161eb12fa477b7437d37e4c196fac16d89e180", "message": "Fix review changes", "committedDate": "2020-07-08T11:39:58Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc1NDY0Ng==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24583#discussion_r451754646", "bodyText": "Instead of this switch case, you can use the existing API provided for converting a string log level value to a BLogLevel enum.\nLOG_MANAGER.setModuleLogLevel(BLogLevel.toBLogLevel(level), module);", "author": "pubudu91", "createdAt": "2020-07-08T18:46:23Z", "path": "stdlib/log-api/src/main/java/org/ballerinalang/stdlib/log/Utils.java", "diffHunk": "@@ -103,4 +112,36 @@ public static void printWarn(Object msg) {\n                     });\n         }\n     }\n+\n+    public static void setModuleLogLevel(BString logLevel, Object moduleName) {\n+        String module;\n+        if (moduleName == null) {\n+            module = getPackagePath();\n+        } else {\n+            module = moduleName.toString();\n+        }\n+        String level = logLevel.getValue();\n+        switch (level) {\n+            case debug:\n+                LOG_MANAGER.setModuleLogLevel(BLogLevel.DEBUG, module);\n+                break;\n+            case error:\n+                LOG_MANAGER.setModuleLogLevel(BLogLevel.ERROR, module);\n+                break;\n+            case info:\n+                LOG_MANAGER.setModuleLogLevel(BLogLevel.INFO, module);\n+                break;\n+            case warn:\n+                LOG_MANAGER.setModuleLogLevel(BLogLevel.WARN, module);\n+                break;\n+            case trace:\n+                LOG_MANAGER.setModuleLogLevel(BLogLevel.TRACE, module);\n+                break;\n+            case off:\n+                LOG_MANAGER.setModuleLogLevel(BLogLevel.OFF, module);\n+                break;\n+            default:\n+                LOG_MANAGER.setModuleLogLevel(BLogLevel.ALL, module);", "originalCommit": "4bbc1b73166c7ed90f45928998a6ddeef3fdca3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjAyMzY2MA==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24583#discussion_r452023660", "bodyText": "Updated in a15bfd2", "author": "MadhukaHarith92", "createdAt": "2020-07-09T07:39:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc1NDY0Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIzNjQ4MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24583#discussion_r452236481", "bodyText": "These are now unused right?", "author": "pubudu91", "createdAt": "2020-07-09T13:56:14Z", "path": "stdlib/log-api/src/main/java/org/ballerinalang/stdlib/log/Utils.java", "diffHunk": "@@ -28,6 +29,14 @@\n  */\n public class Utils extends AbstractLogFunction {\n \n+    private static final String debug = \"DEBUG\";\n+    private static final String error = \"ERROR\";\n+    private static final String info = \"INFO\";\n+    private static final String warn = \"WARN\";\n+    private static final String trace = \"TRACE\";\n+    private static final String all = \"ALL\";\n+    private static final String off = \"OFF\";", "originalCommit": "472b7ca2c222a0c4055fb5ad0861df82a4592d07", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjI1OTI0OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/24583#discussion_r452259249", "bodyText": "Yes, removed.", "author": "MadhukaHarith92", "createdAt": "2020-07-09T14:27:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIzNjQ4MQ=="}], "type": "inlineReview"}, {"oid": "265cf918167880f599638b344ed6c5a0eb3bb848", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/265cf918167880f599638b344ed6c5a0eb3bb848", "message": "Fix review changes", "committedDate": "2020-07-09T14:26:04Z", "type": "commit"}]}