{"pr_number": 26172, "pr_title": "Remove XML functional constructors ", "pr_createdAt": "2020-10-01T17:29:46Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172", "timeline": [{"oid": "cceace97332de3db6766baf4f5107edd0f6af1ce", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/cceace97332de3db6766baf4f5107edd0f6af1ce", "message": "Remove functional constructor related code", "committedDate": "2020-10-01T16:36:03Z", "type": "commit"}, {"oid": "02dad9dfef8cc7269b86f2f35e416238d1d34658", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/02dad9dfef8cc7269b86f2f35e416238d1d34658", "message": "Fix EOF", "committedDate": "2020-10-01T21:04:40Z", "type": "commit"}, {"oid": "97b6bd86a52479b91c785dd253340f3b25bb1547", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/97b6bd86a52479b91c785dd253340f3b25bb1547", "message": "Skip XMLTypeDescContextTest test", "committedDate": "2020-10-02T13:15:52Z", "type": "commit"}, {"oid": "03aad200251243eb212111d63d371ca204a4fbf2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/03aad200251243eb212111d63d371ca204a4fbf2", "message": "Remove unused import", "committedDate": "2020-10-02T13:36:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTgwMzIyNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r499803227", "bodyText": "Incorrect year?", "author": "anupama-pathirage", "createdAt": "2020-10-05T18:52:01Z", "path": "langlib/lang.xml/src/main/java/org/ballerinalang/langlib/xml/CreateText.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ *   Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.", "originalCommit": "03aad200251243eb212111d63d371ca204a4fbf2", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7c570d80c9e0cddd72f74bb97258677be2458161", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/7c570d80c9e0cddd72f74bb97258677be2458161", "message": "Update year", "committedDate": "2020-10-06T05:14:06Z", "type": "commit"}, {"oid": "8736208961ae88e977ae5fbdb3bc2c76016f1eec", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8736208961ae88e977ae5fbdb3bc2c76016f1eec", "message": "Resolve conflicts", "committedDate": "2020-10-06T08:01:45Z", "type": "commit"}, {"oid": "21a9480a78cfba266318aa80e1309fe0c1aaecd2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/21a9480a78cfba266318aa80e1309fe0c1aaecd2", "message": "Delete unwanted files", "committedDate": "2020-10-06T08:05:13Z", "type": "commit"}, {"oid": "2d9f23d930a0520a05ae6df834261018f6d68826", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2d9f23d930a0520a05ae6df834261018f6d68826", "message": "Update CreateText", "committedDate": "2020-10-06T10:44:35Z", "type": "commit"}, {"oid": "337f12b50d6a9f42e455eabf8f49e6c5bab40242", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/337f12b50d6a9f42e455eabf8f49e6c5bab40242", "message": "Update createText function", "committedDate": "2020-10-06T13:45:25Z", "type": "commit"}, {"oid": "43371d0002aa7d3b5b23fca1620192b39b175468", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/43371d0002aa7d3b5b23fca1620192b39b175468", "message": "Remove strand from createText", "committedDate": "2020-10-06T14:24:07Z", "type": "commit"}, {"oid": "fcf1ac2f8b34cc93468e499013db9feab34d2a49", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fcf1ac2f8b34cc93468e499013db9feab34d2a49", "message": "Remove unused imports", "committedDate": "2020-10-06T15:43:40Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDcyMjEyNw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r500722127", "bodyText": "Shall we remove this? I don't think we'll need this again, even if we do, we can add it then.", "author": "MaryamZi", "createdAt": "2020-10-07T03:52:22Z", "path": "langlib/lang.xml/src/main/java/org/ballerinalang/langlib/xml/CreateText.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ *   Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ *  WSO2 Inc. licenses this file to you under the Apache License,\n+ *  Version 2.0 (the \"License\"); you may not use this file except\n+ *  in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+package org.ballerinalang.langlib.xml;\n+\n+import org.ballerinalang.jvm.XMLFactory;\n+import org.ballerinalang.jvm.api.values.BString;\n+import org.ballerinalang.jvm.values.XMLValue;\n+\n+/**\n+ * Create XML text value from string.\n+ *\n+ * @since Swan Lake\n+ */\n+//@BallerinaFunction(\n+//        orgName = \"ballerina\", packageName = \"lang.xml\", version = XML_VERSION,\n+//        functionName = \"createText\",\n+//        args = {@Argument(name = \"string\", type = TypeKind.STRING)},\n+//        returnType = {@ReturnType(type = TypeKind.XML)},\n+//        isPublic = true\n+//)", "originalCommit": "fcf1ac2f8b34cc93468e499013db9feab34d2a49", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDcyMjM1OQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r500722359", "bodyText": "Shall we just invoke the function here and write the assertion in Ballerina itself?", "author": "MaryamZi", "createdAt": "2020-10-07T03:53:25Z", "path": "langlib/langlib-test/src/test/java/org/ballerinalang/langlib/test/LangLibXMLTest.java", "diffHunk": "@@ -187,6 +187,12 @@ public void testCreateComment() {\n         assertEquals((returns[0]).stringValue(), \"<!--This text should be wraped in xml comment-->\");\n     }\n \n+    @Test\n+    public void testCreateText() {\n+        BValue[] returns = BRunUtil.invoke(compileResult, \"testCreateText\");\n+        assertEquals((returns[0]).stringValue(), \"This is xml text\");", "originalCommit": "fcf1ac2f8b34cc93468e499013db9feab34d2a49", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzAzMjk0Mw==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r503032943", "bodyText": "All the assertions in this class is done in the class itself, so that is why I did the assertion of testCreateText() here. Is it okay to only change this.", "author": "suleka96", "createdAt": "2020-10-12T04:30:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDcyMjM1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzAzNDYwMg==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26172#discussion_r503034602", "bodyText": "Yes, that's OK. We can make sure that whatever new code we add does this, and when we're eventually migrating all the assertions to Ballerina, we only have to fix the old ones.", "author": "MaryamZi", "createdAt": "2020-10-12T04:38:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDcyMjM1OQ=="}], "type": "inlineReview"}, {"oid": "2f53551aeccdba95f33b9021b67d853f759085e1", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/2f53551aeccdba95f33b9021b67d853f759085e1", "message": "Refactor code and add tests", "committedDate": "2020-10-12T08:20:43Z", "type": "commit"}, {"oid": "1bb5137353f42162d0560544886898bddf7cd40c", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/1bb5137353f42162d0560544886898bddf7cd40c", "message": "Refactor tests", "committedDate": "2020-10-13T15:49:50Z", "type": "commit"}, {"oid": "8592dd92d7a4b9cabe2d68872f5292a3fd9e4f57", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8592dd92d7a4b9cabe2d68872f5292a3fd9e4f57", "message": "Update doc comments", "committedDate": "2020-10-13T20:23:57Z", "type": "commit"}, {"oid": "b6b613079c374145e3cb8b45b9f05ddba5400cd0", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/b6b613079c374145e3cb8b45b9f05ddba5400cd0", "message": "Update doc comments", "committedDate": "2020-10-13T20:30:18Z", "type": "commit"}, {"oid": "f842c93dbb406e803643d3503a0d5d02c07f3303", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/f842c93dbb406e803643d3503a0d5d02c07f3303", "message": "Revert \"Update doc comments\"\n\nThis reverts commit b6b613079c374145e3cb8b45b9f05ddba5400cd0.\n\nRevert Doc comment changes", "committedDate": "2020-10-20T04:58:43Z", "type": "commit"}, {"oid": "07ce7feb538d9cf292f7c9f5a440c6ac371e098e", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/07ce7feb538d9cf292f7c9f5a440c6ac371e098e", "message": "Revert \"Update doc comments\"\n\nThis reverts commit 8592dd92d7a4b9cabe2d68872f5292a3fd9e4f57.\n\nRevert update doc comment", "committedDate": "2020-10-20T05:00:17Z", "type": "commit"}, {"oid": "502c630740caf46df95fecc2609fb388f105035a", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/502c630740caf46df95fecc2609fb388f105035a", "message": "Fix merge issues", "committedDate": "2020-10-20T12:17:29Z", "type": "commit"}]}