{"pr_number": 26203, "pr_title": "Restrict zero match clauses in match statement", "pr_createdAt": "2020-10-05T07:48:48Z", "pr_url": "https://github.com/ballerina-platform/ballerina-lang/pull/26203", "timeline": [{"oid": "44017938c7c6453a1c1d0365e0c4b30807bedc2d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/44017938c7c6453a1c1d0365e0c4b30807bedc2d", "message": "Parser changes for validating empty match clauses.", "committedDate": "2020-10-02T11:00:57Z", "type": "commit"}, {"oid": "df6cbbc1047404f763a6cbc77f4a0c88499e7b36", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/df6cbbc1047404f763a6cbc77f4a0c88499e7b36", "message": "Test cases and recovery for zero match clause.", "committedDate": "2020-10-05T07:34:42Z", "type": "commit"}, {"oid": "e2e512836140ee6449ee1c5f106efc6e911ef5d2", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/e2e512836140ee6449ee1c5f106efc6e911ef5d2", "message": "Merge branch 'master' of https://github.com/ballerina-platform/ballerina-lang", "committedDate": "2020-10-05T07:37:40Z", "type": "commit"}, {"oid": "8cb805acc4718f98bfc2b5318c84462d4e280a3d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8cb805acc4718f98bfc2b5318c84462d4e280a3d", "message": "Insert record to syntax_diagnostic_message.properties", "committedDate": "2020-10-05T07:45:48Z", "type": "commit"}, {"oid": "8cb805acc4718f98bfc2b5318c84462d4e280a3d", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/8cb805acc4718f98bfc2b5318c84462d4e280a3d", "message": "Insert record to syntax_diagnostic_message.properties", "committedDate": "2020-10-05T07:45:48Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE2MTY0MQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26203#discussion_r500161641", "bodyText": "shouldn't be returning here", "author": "SupunS", "createdAt": "2020-10-06T10:14:23Z", "path": "compiler/ballerina-parser/src/main/java/io/ballerina/compiler/internal/parser/BallerinaParser.java", "diffHunk": "@@ -11802,7 +11802,19 @@ private STNode parseMatchStatement() {\n         STNode actionOrExpr = parseActionOrExpression();\n         startContext(ParserRuleContext.MATCH_BODY);\n         STNode openBrace = parseOpenBrace();\n-        STNode matchClauses = parseMatchClauses();\n+        // Parse match clauses list\n+        List<STNode> matchClausesList = new ArrayList<>();\n+        while (!isEndOfMatchClauses(peek().kind)) {\n+            STNode clause = parseMatchClause();\n+            matchClausesList.add(clause);\n+        }\n+        STNode matchClauses =  STNodeFactory.createNodeList(matchClausesList);\n+        // At least one match clause required\n+        if (isNodeListEmpty(matchClauses)) {\n+            return SyntaxErrors.addDiagnostic(openBrace,", "originalCommit": "8cb805acc4718f98bfc2b5318c84462d4e280a3d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE2OTIzNQ==", "url": "https://github.com/ballerina-platform/ballerina-lang/pull/26203#discussion_r500169235", "bodyText": "updated thanx", "author": "rdulmina", "createdAt": "2020-10-06T10:28:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDE2MTY0MQ=="}], "type": "inlineReview"}, {"oid": "fe98ce39b5a827326618e1a8c6dbde180ae0a0b5", "url": "https://github.com/ballerina-platform/ballerina-lang/commit/fe98ce39b5a827326618e1a8c6dbde180ae0a0b5", "message": "Reword error msg\nReword error msg for zero match clause and remove incorrect return.", "committedDate": "2020-10-06T10:27:46Z", "type": "commit"}]}