{"pr_number": 3694, "pr_title": "[#3685] added translations to question group", "pr_createdAt": "2020-11-30T11:03:31Z", "pr_url": "https://github.com/akvo/akvo-flow/pull/3694", "timeline": [{"oid": "3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2", "url": "https://github.com/akvo/akvo-flow/commit/3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2", "message": "[#3685] added translations to question group", "committedDate": "2020-11-30T11:00:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjUzNTA4Mw==", "url": "https://github.com/akvo/akvo-flow/pull/3694#discussion_r532535083", "bodyText": "Wont it happen here that if we have a list of translation for both the group description and the group name that one will be overwritten for the same language?", "author": "muloem", "createdAt": "2020-11-30T11:41:28Z", "path": "GAE/src/com/gallatinsystems/survey/dao/QuestionGroupDao.java", "diffHunk": "@@ -79,6 +85,16 @@ public void deleteGroupsForSurvey(Long surveyId) throws IllegalDeletionException\n         if (groups != null) {\n             int i = 1;\n             for (QuestionGroup group : groups) {\n+                List<Translation> translations = translationDao.findTranslations(\n+                        group.getKey().getId(), Translation.ParentType.QUESTION_GROUP_DESC,\n+                        Translation.ParentType.QUESTION_GROUP_NAME);\n+                HashMap<String, Translation> translationMap = new HashMap<>();\n+                if (translations != null) {\n+                    for (Translation t: translations) {\n+                        translationMap.put(t.getLanguageCode(), t);", "originalCommit": "3651493b9a47f515c3cdfa9cc36101cf4ba0c5b2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU1NDQyOQ==", "url": "https://github.com/akvo/akvo-flow/pull/3694#discussion_r532554429", "bodyText": "you are right, after checking the Translations, it seem group description does not exist but I removed it from the query just in case", "author": "valllllll2000", "createdAt": "2020-11-30T12:16:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjUzNTA4Mw=="}], "type": "inlineReview"}, {"oid": "2b0c37d0f3a338312a52fc33444d7de5448efe39", "url": "https://github.com/akvo/akvo-flow/commit/2b0c37d0f3a338312a52fc33444d7de5448efe39", "message": "[#3685] added test for group when no translations", "committedDate": "2020-11-30T11:56:33Z", "type": "commit"}, {"oid": "5beffd0004655ac096f63cf93c326f0ad8295ad7", "url": "https://github.com/akvo/akvo-flow/commit/5beffd0004655ac096f63cf93c326f0ad8295ad7", "message": "[#3685] use only \tquestion group name translation type", "committedDate": "2020-11-30T12:14:01Z", "type": "commit"}, {"oid": "bf6118be2bb310978ac782620bf565b4f60e7ab4", "url": "https://github.com/akvo/akvo-flow/commit/bf6118be2bb310978ac782620bf565b4f60e7ab4", "message": "[#3685] add translations to dto + add getters and setters", "committedDate": "2020-11-30T13:02:10Z", "type": "commit"}]}