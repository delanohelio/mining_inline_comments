{"pr_number": 570, "pr_title": "HDDS-3035. Add ability to enable Ratis metrics in OzoneManager.", "pr_createdAt": "2020-02-20T05:31:58Z", "pr_url": "https://github.com/apache/ozone/pull/570", "timeline": [{"oid": "545075349aca5bb7e15e64ef768e628467cf5862", "url": "https://github.com/apache/ozone/commit/545075349aca5bb7e15e64ef768e628467cf5862", "message": "HDDS-3035. Add ability to enable Ratis metrics in OzoneManager.", "committedDate": "2020-02-20T05:29:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjg0MDQxOA==", "url": "https://github.com/apache/ozone/pull/570#discussion_r382840418", "bodyText": "One comment. We can probably add ratis reporters only if Ratis is enabled.", "author": "avijayanhwx", "createdAt": "2020-02-21T22:40:58Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/OzoneManager.java", "diffHunk": "@@ -1068,14 +1074,20 @@ public OMMetrics getMetrics() {\n    * Start service.\n    */\n   public void start() throws IOException {\n-\n     omClientProtocolMetrics.register();\n+    HddsServerUtil.initializeMetrics(configuration, \"OzoneManager\");", "originalCommit": "545075349aca5bb7e15e64ef768e628467cf5862", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b1a86ea5b992a108fe8b38b0b5e5b0beeebf2f8c", "url": "https://github.com/apache/ozone/commit/b1a86ea5b992a108fe8b38b0b5e5b0beeebf2f8c", "message": "HDDS-3035. Addressed review comments.", "committedDate": "2020-02-22T00:01:47Z", "type": "commit"}, {"oid": "996c2259c52e498e68ba0717cd31b7ac6ea0e34f", "url": "https://github.com/apache/ozone/commit/996c2259c52e498e68ba0717cd31b7ac6ea0e34f", "message": "Checkstyle fix.", "committedDate": "2020-02-22T00:11:54Z", "type": "commit"}]}