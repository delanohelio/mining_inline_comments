{"pr_number": 1414, "pr_title": "HDDS-4231. Background Service blocks on task results.", "pr_createdAt": "2020-09-10T10:46:23Z", "pr_url": "https://github.com/apache/ozone/pull/1414", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjUwNTE2Mg==", "url": "https://github.com/apache/ozone/pull/1414#discussion_r486505162", "bodyText": "Usually long is not enough to contain NANOSECONDS but this variable seems just a service timeout, which should be a very small number so it should be fine.", "author": "amaliujia", "createdAt": "2020-09-10T17:14:34Z", "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/utils/BackgroundService.java", "diffHunk": "@@ -62,11 +56,11 @@ public BackgroundService(String serviceName, long interval,\n     this.interval = interval;\n     this.unit = unit;\n     this.serviceName = serviceName;\n-    this.serviceTimeout = serviceTimeout;\n+    this.serviceTimeoutInNanos = TimeDuration.valueOf(serviceTimeout, unit)\n+            .toLong(TimeUnit.NANOSECONDS);", "originalCommit": "5aaf4e1a49110383303fd3cfa0ad54fc392d82db", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njg0MTI2NA==", "url": "https://github.com/apache/ozone/pull/1414#discussion_r486841264", "bodyText": "I think we are ok with long even for nanoseconds. long can support a value of ~292 years denoted as nanoseconds.", "author": "lokeshj1703", "createdAt": "2020-09-11T07:57:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjUwNTE2Mg=="}], "type": "inlineReview"}, {"oid": "97a3f60102ea966f9cdf76bf8e196ef81a0dd9e6", "url": "https://github.com/apache/ozone/commit/97a3f60102ea966f9cdf76bf8e196ef81a0dd9e6", "message": "HDDS-4231. Background Service blocks on task results.", "committedDate": "2020-09-28T06:08:23Z", "type": "commit"}, {"oid": "56ad40441c7f0eebe35c7421269cef5546848e03", "url": "https://github.com/apache/ozone/commit/56ad40441c7f0eebe35c7421269cef5546848e03", "message": "Fix unit test", "committedDate": "2020-09-28T06:08:24Z", "type": "commit"}, {"oid": "56ad40441c7f0eebe35c7421269cef5546848e03", "url": "https://github.com/apache/ozone/commit/56ad40441c7f0eebe35c7421269cef5546848e03", "message": "Fix unit test", "committedDate": "2020-09-28T06:08:24Z", "type": "forcePushed"}, {"oid": "a34edf3c5ba9bd8251d6e3621dbe16c194a50f15", "url": "https://github.com/apache/ozone/commit/a34edf3c5ba9bd8251d6e3621dbe16c194a50f15", "message": "Address review comments", "committedDate": "2020-09-29T06:33:10Z", "type": "commit"}]}