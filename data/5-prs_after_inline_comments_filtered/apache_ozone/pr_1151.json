{"pr_number": 1151, "pr_title": "HDDS-3191: switch from SCMPipelineManager to PipelineManagerV2Impl", "pr_createdAt": "2020-07-01T03:03:59Z", "pr_url": "https://github.com/apache/ozone/pull/1151", "timeline": [{"oid": "78852df5fa72678d5d42d127886dfda721b061b3", "url": "https://github.com/apache/ozone/commit/78852df5fa72678d5d42d127886dfda721b061b3", "message": "HDDS-3191: switch from SCMPipelineManager to PipelineManagerV2Impl", "committedDate": "2020-07-01T03:48:35Z", "type": "forcePushed"}, {"oid": "e09f9155978c27fb640594c6c224e7099cdb0ad0", "url": "https://github.com/apache/ozone/commit/e09f9155978c27fb640594c6c224e7099cdb0ad0", "message": "HDDS-3191: switch from SCMPipelineManager to PipelineManagerV2Impl", "committedDate": "2020-07-01T06:59:53Z", "type": "forcePushed"}, {"oid": "7469acc56b3b8b78a91f5d2ec7674ad99e39e983", "url": "https://github.com/apache/ozone/commit/7469acc56b3b8b78a91f5d2ec7674ad99e39e983", "message": "HDDS-3191: switch from SCMPipelineManager to PipelineManagerV2Impl", "committedDate": "2020-07-01T12:17:19Z", "type": "forcePushed"}, {"oid": "78b78ba9e8e61c1d00966160300af1a8e20e06d4", "url": "https://github.com/apache/ozone/commit/78b78ba9e8e61c1d00966160300af1a8e20e06d4", "message": "HDDS-3191: switch from SCMPipelineManager to PipelineManagerV2Impl", "committedDate": "2020-07-01T13:28:19Z", "type": "commit"}, {"oid": "78b78ba9e8e61c1d00966160300af1a8e20e06d4", "url": "https://github.com/apache/ozone/commit/78b78ba9e8e61c1d00966160300af1a8e20e06d4", "message": "HDDS-3191: switch from SCMPipelineManager to PipelineManagerV2Impl", "committedDate": "2020-07-01T13:28:19Z", "type": "forcePushed"}, {"oid": "78b78ba9e8e61c1d00966160300af1a8e20e06d4", "url": "https://github.com/apache/ozone/commit/78b78ba9e8e61c1d00966160300af1a8e20e06d4", "message": "HDDS-3191: switch from SCMPipelineManager to PipelineManagerV2Impl", "committedDate": "2020-07-01T13:28:19Z", "type": "forcePushed"}, {"oid": "aee459f7723976192c44a254c5f607d9cda4be76", "url": "https://github.com/apache/ozone/commit/aee459f7723976192c44a254c5f607d9cda4be76", "message": "HDDS-3191: trigger CI", "committedDate": "2020-07-01T15:58:53Z", "type": "forcePushed"}, {"oid": "80e3a1756f351a238b637fa88019d3abe01fc049", "url": "https://github.com/apache/ozone/commit/80e3a1756f351a238b637fa88019d3abe01fc049", "message": "HDDS-3191: Compile error in acceptance test on HDDS-2823, contributed by adoroszlai", "committedDate": "2020-07-02T02:47:37Z", "type": "forcePushed"}, {"oid": "091540cc15ad9ca4d63c66d052fb7e87b7f81317", "url": "https://github.com/apache/ozone/commit/091540cc15ad9ca4d63c66d052fb7e87b7f81317", "message": "HDDS-3191: Compile error in acceptance test on HDDS-2823, contributed by adoroszlai", "committedDate": "2020-07-02T03:54:03Z", "type": "forcePushed"}, {"oid": "bf2075e385cca40fa0f579c7a9425fe96b0fd95e", "url": "https://github.com/apache/ozone/commit/bf2075e385cca40fa0f579c7a9425fe96b0fd95e", "message": "HDDS-3191: Compile error in acceptance test on HDDS-2823. Contributed by adoroszlai", "committedDate": "2020-07-02T06:49:46Z", "type": "forcePushed"}, {"oid": "d4d2a9d200527bc8a92468afc088095d2f4ab10b", "url": "https://github.com/apache/ozone/commit/d4d2a9d200527bc8a92468afc088095d2f4ab10b", "message": "HDDS-3191: Compile error in acceptance test on HDDS-2823, contributed by adoroszlai", "committedDate": "2020-07-02T08:07:44Z", "type": "forcePushed"}, {"oid": "0b7f8cb4d9d3cbab5d8ed3098be91cfa1b98b95f", "url": "https://github.com/apache/ozone/commit/0b7f8cb4d9d3cbab5d8ed3098be91cfa1b98b95f", "message": "HDDS-3191: Compile error in acceptance test on HDDS-2823. Contributed by adoroszlai", "committedDate": "2020-07-03T02:07:39Z", "type": "forcePushed"}, {"oid": "78485ca9217e7c7372e83d87e081e1b88826ad7b", "url": "https://github.com/apache/ozone/commit/78485ca9217e7c7372e83d87e081e1b88826ad7b", "message": "Merge branch 'HDDS-2823' into HDDS-3191", "committedDate": "2020-07-06T04:05:32Z", "type": "commit"}, {"oid": "78485ca9217e7c7372e83d87e081e1b88826ad7b", "url": "https://github.com/apache/ozone/commit/78485ca9217e7c7372e83d87e081e1b88826ad7b", "message": "Merge branch 'HDDS-2823' into HDDS-3191", "committedDate": "2020-07-06T04:05:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0OTE3OA==", "url": "https://github.com/apache/ozone/pull/1151#discussion_r451149178", "bodyText": "Is there a reason to change long to double here and force conversion later?", "author": "xiaoyuyao", "createdAt": "2020-07-07T21:18:24Z", "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAConfiguration.java", "diffHunk": "@@ -78,7 +78,7 @@\n       description = \"The size of the raft segment used by Apache Ratis on\" +\n           \" SCM. (16 KB by default)\"\n   )\n-  private long raftSegmentSize = 16L * 1024L;\n+  private double raftSegmentSize = 16L * 1024L;", "originalCommit": "78485ca9217e7c7372e83d87e081e1b88826ad7b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI1NjU4MA==", "url": "https://github.com/apache/ozone/pull/1151#discussion_r451256580", "bodyText": "you will see that ConfigType.SIZE will be reflected as StorageUnit, which need be double.\nrefer to ConfigurationReflectionUtil,\n          case SIZE:\n            forcedFieldSet(field, configuration,\n                from.getStorageSize(key, \"0B\", configAnnotation.sizeUnit()));\n            break;\n\nand ConfigurationSource\n  default double getStorageSize(String name, String defaultValue,\n      StorageUnit targetUnit)\n\nThis code is not reached before, so merged into HDDS-2823 without breaking CI.", "author": "GlenGeng", "createdAt": "2020-07-08T03:09:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0OTE3OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNTMyNQ==", "url": "https://github.com/apache/ozone/pull/1151#discussion_r454525325", "bodyText": "I see. Thanks for the details.", "author": "xiaoyuyao", "createdAt": "2020-07-14T17:33:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0OTE3OA=="}], "type": "inlineReview"}, {"oid": "422968e5a2069b994a5a5abe4b648d9fc371098e", "url": "https://github.com/apache/ozone/commit/422968e5a2069b994a5a5abe4b648d9fc371098e", "message": "HDDS-3191: Fix review comments", "committedDate": "2020-07-09T02:50:29Z", "type": "forcePushed"}, {"oid": "10b924a280e5517e44626d3003ea5713ad874ac9", "url": "https://github.com/apache/ozone/commit/10b924a280e5517e44626d3003ea5713ad874ac9", "message": "HDDS-3191: Fix review comments.", "committedDate": "2020-07-10T08:28:11Z", "type": "commit"}, {"oid": "10b924a280e5517e44626d3003ea5713ad874ac9", "url": "https://github.com/apache/ozone/commit/10b924a280e5517e44626d3003ea5713ad874ac9", "message": "HDDS-3191: Fix review comments.", "committedDate": "2020-07-10T08:28:11Z", "type": "forcePushed"}, {"oid": "19c830c2cdf749f8fa41cb4cd14482506c7b8801", "url": "https://github.com/apache/ozone/commit/19c830c2cdf749f8fa41cb4cd14482506c7b8801", "message": "Merge branch 'github/HDDS-2823' into HDDS-3191", "committedDate": "2020-07-13T10:49:26Z", "type": "forcePushed"}, {"oid": "328255bb0cf66fbe0bc6d06c54e4e8ba8f625ba8", "url": "https://github.com/apache/ozone/commit/328255bb0cf66fbe0bc6d06c54e4e8ba8f625ba8", "message": "Merge branch HDDS-2823 into HDDS-3191", "committedDate": "2020-07-13T13:32:49Z", "type": "commit"}, {"oid": "328255bb0cf66fbe0bc6d06c54e4e8ba8f625ba8", "url": "https://github.com/apache/ozone/commit/328255bb0cf66fbe0bc6d06c54e4e8ba8f625ba8", "message": "Merge branch HDDS-2823 into HDDS-3191", "committedDate": "2020-07-13T13:32:49Z", "type": "forcePushed"}]}