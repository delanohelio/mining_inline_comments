{"pr_number": 564, "pr_title": "HDDS-3031. OM HA- Client requests get LeaderNotReadyException after OM's restart.", "pr_createdAt": "2020-02-19T01:07:51Z", "pr_url": "https://github.com/apache/ozone/pull/564", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ1ODI4MA==", "url": "https://github.com/apache/ozone/pull/564#discussion_r381458280", "bodyText": "Keeping this log message at info level will flood the log file. It prints the Request body also.", "author": "hanishakoneru", "createdAt": "2020-02-19T18:21:41Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/volume/OMVolumeCreateRequest.java", "diffHunk": "@@ -164,7 +164,7 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n           // Replay implies the response has already been returned to\n           // the client. So take no further action and return a dummy\n           // OMClientResponse.\n-          LOG.debug(\"Replayed Transaction {} ignored. Request: {}\",\n+          LOG.info(\"Replayed Transaction {} ignored. Request: {}\",", "originalCommit": "421b375e1510205f6a688fe9291e138bfe845788", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ2MDc0Mw==", "url": "https://github.com/apache/ozone/pull/564#discussion_r381460743", "bodyText": "Missed adding addResponseToDoubleBuffer() here.", "author": "hanishakoneru", "createdAt": "2020-02-19T18:26:06Z", "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/s3/multipart/S3InitiateMultipartUploadRequest.java", "diffHunk": "@@ -203,11 +203,7 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n       omClientResponse = new S3InitiateMultipartUploadResponse(\n           createErrorOMResponse(omResponse, exception));\n     } finally {\n-      if (omClientResponse != null) {\n-        omClientResponse.setFlushFuture(\n-            ozoneManagerDoubleBufferHelper.add(omClientResponse,\n-                transactionLogIndex));\n-      }\n+", "originalCommit": "421b375e1510205f6a688fe9291e138bfe845788", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3ead61cd8796993fbb58ac3875e3a2e660dcbec4", "url": "https://github.com/apache/ozone/commit/3ead61cd8796993fbb58ac3875e3a2e660dcbec4", "message": "HDDS-3031. OM HA- Client requests get LeaderNotReadyException after OM restart.", "committedDate": "2020-02-19T20:34:26Z", "type": "commit"}, {"oid": "6545d1eee14a6987adb25506821c67f95afb9e19", "url": "https://github.com/apache/ozone/commit/6545d1eee14a6987adb25506821c67f95afb9e19", "message": "check style.", "committedDate": "2020-02-19T20:34:26Z", "type": "commit"}, {"oid": "b09ecced6cf92194adc11e9f5a52d91b75502964", "url": "https://github.com/apache/ozone/commit/b09ecced6cf92194adc11e9f5a52d91b75502964", "message": "review comments.", "committedDate": "2020-02-19T20:34:27Z", "type": "commit"}, {"oid": "b09ecced6cf92194adc11e9f5a52d91b75502964", "url": "https://github.com/apache/ozone/commit/b09ecced6cf92194adc11e9f5a52d91b75502964", "message": "review comments.", "committedDate": "2020-02-19T20:34:27Z", "type": "forcePushed"}]}