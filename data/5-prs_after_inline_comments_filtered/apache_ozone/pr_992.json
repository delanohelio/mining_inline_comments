{"pr_number": 992, "pr_title": "HDDS-3627. Remove FilteredClassloader and replace with maven based hadoop2/hadoop3 ozonefs generation", "pr_createdAt": "2020-05-29T12:04:05Z", "pr_url": "https://github.com/apache/ozone/pull/992", "timeline": [{"oid": "b0a2369f12bf29d0eac1f6ca4a7581f0be1e94d1", "url": "https://github.com/apache/ozone/commit/b0a2369f12bf29d0eac1f6ca4a7581f0be1e94d1", "message": "HDDS-3501. OzoneFileStatus should not extend FileStatus", "committedDate": "2020-04-29T11:48:21Z", "type": "commit"}, {"oid": "48db549ecfdd68d2c59356339edf856299d9aa75", "url": "https://github.com/apache/ozone/commit/48db549ecfdd68d2c59356339edf856299d9aa75", "message": "HDDS-3500. Hide OMFailoverProxyProvider usage behind an interface", "committedDate": "2020-04-29T14:20:05Z", "type": "commit"}, {"oid": "85b9358301bb8912dc0523a6bf3caa84dbf654ab", "url": "https://github.com/apache/ozone/commit/85b9358301bb8912dc0523a6bf3caa84dbf654ab", "message": "fix Delegation token provider", "committedDate": "2020-04-29T14:36:15Z", "type": "commit"}, {"oid": "6e38d7c199eb95309684fa2603190a699058a95f", "url": "https://github.com/apache/ozone/commit/6e38d7c199eb95309684fa2603190a699058a95f", "message": "import generic factory from the feature branch", "committedDate": "2020-04-29T14:46:19Z", "type": "commit"}, {"oid": "bbd54d03478ae5102ee524159256285240d0a911", "url": "https://github.com/apache/ozone/commit/bbd54d03478ae5102ee524159256285240d0a911", "message": "checkstyle + rat fixes", "committedDate": "2020-04-29T14:52:31Z", "type": "commit"}, {"oid": "5b2d8490f898b6c140764cd20a1453a1cfda273c", "url": "https://github.com/apache/ozone/commit/5b2d8490f898b6c140764cd20a1453a1cfda273c", "message": "Merge branch 'HDDS-3501' into HDDS-3458", "committedDate": "2020-04-29T14:55:53Z", "type": "commit"}, {"oid": "bfb540ea1d54850aaf7ad4099f5ae6d27f0fed35", "url": "https://github.com/apache/ozone/commit/bfb540ea1d54850aaf7ad4099f5ae6d27f0fed35", "message": "HDDS-3458. Support Hadoop 2.x with build-time classpath separation instead of isolated classloader", "committedDate": "2020-04-30T09:16:10Z", "type": "commit"}, {"oid": "a5d29a2c1f951cde78d05af454cf649489e81121", "url": "https://github.com/apache/ozone/commit/a5d29a2c1f951cde78d05af454cf649489e81121", "message": "fix findbugs + exception", "committedDate": "2020-04-30T11:28:42Z", "type": "commit"}, {"oid": "d6a1743c63a06f7d8d732599df1e1db5aa9e38e7", "url": "https://github.com/apache/ozone/commit/d6a1743c63a06f7d8d732599df1e1db5aa9e38e7", "message": "fix unit tests", "committedDate": "2020-04-30T13:39:31Z", "type": "commit"}, {"oid": "44a11e96d74c497c8809da18c313c772eebd0330", "url": "https://github.com/apache/ozone/commit/44a11e96d74c497c8809da18c313c772eebd0330", "message": "Merge branch 'HDDS-3500' into HDDS-3458", "committedDate": "2020-04-30T13:49:58Z", "type": "commit"}, {"oid": "1fac08ed480bf1498fd2f56fd00b1b06f05947ac", "url": "https://github.com/apache/ozone/commit/1fac08ed480bf1498fd2f56fd00b1b06f05947ac", "message": "Merge branch 'HDDS-3501' into HDDS-3458", "committedDate": "2020-04-30T13:50:00Z", "type": "commit"}, {"oid": "ff1f6d04b5289e0f7606b19ccca4b88280603344", "url": "https://github.com/apache/ozone/commit/ff1f6d04b5289e0f7606b19ccca4b88280603344", "message": "HDDS-3458", "committedDate": "2020-04-30T15:55:07Z", "type": "commit"}, {"oid": "e2491d53c4567b4d096e2ba8e26d9824b32a9d59", "url": "https://github.com/apache/ozone/commit/e2491d53c4567b4d096e2ba8e26d9824b32a9d59", "message": "fix findbugs violations", "committedDate": "2020-05-04T13:35:37Z", "type": "commit"}, {"oid": "ea2ee622e00be2fde9014125d7094102ab5bd0c1", "url": "https://github.com/apache/ozone/commit/ea2ee622e00be2fde9014125d7094102ab5bd0c1", "message": "import message of unit test", "committedDate": "2020-05-04T13:46:14Z", "type": "commit"}, {"oid": "7be2c5697ca3dad0a63b35dbfbf59777fffbbcda", "url": "https://github.com/apache/ozone/commit/7be2c5697ca3dad0a63b35dbfbf59777fffbbcda", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3500", "committedDate": "2020-05-04T13:47:33Z", "type": "commit"}, {"oid": "32e696555c8e5e63cb1a2b38fc3ab5476345962b", "url": "https://github.com/apache/ozone/commit/32e696555c8e5e63cb1a2b38fc3ab5476345962b", "message": "fix merge problem", "committedDate": "2020-05-04T14:09:50Z", "type": "commit"}, {"oid": "ae24b35b976d59639d921124b107c7e2050cb11a", "url": "https://github.com/apache/ozone/commit/ae24b35b976d59639d921124b107c7e2050cb11a", "message": "remove client invocation handler", "committedDate": "2020-05-04T14:09:56Z", "type": "commit"}, {"oid": "280a0ef8585fe56da1cfc5c421c06552c31acba3", "url": "https://github.com/apache/ozone/commit/280a0ef8585fe56da1cfc5c421c06552c31acba3", "message": "fix missed merge commit", "committedDate": "2020-05-04T14:29:07Z", "type": "commit"}, {"oid": "5a65118c25cdf5276bbc242aa0a265f4327337be", "url": "https://github.com/apache/ozone/commit/5a65118c25cdf5276bbc242aa0a265f4327337be", "message": "fix unit test", "committedDate": "2020-05-04T14:29:17Z", "type": "commit"}, {"oid": "23611263cc1ea9745ecd8c3a6a6a2345af5e0523", "url": "https://github.com/apache/ozone/commit/23611263cc1ea9745ecd8c3a6a6a2345af5e0523", "message": "fix unit test", "committedDate": "2020-05-04T14:34:40Z", "type": "commit"}, {"oid": "82b70be50e48e47b48d57814616fcbe1ffe58cdf", "url": "https://github.com/apache/ozone/commit/82b70be50e48e47b48d57814616fcbe1ffe58cdf", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3501", "committedDate": "2020-05-05T12:05:51Z", "type": "commit"}, {"oid": "6f822badcff6509b77bfb7705f6c73a97e22dcc7", "url": "https://github.com/apache/ozone/commit/6f822badcff6509b77bfb7705f6c73a97e22dcc7", "message": "fix unit test", "committedDate": "2020-05-06T07:10:08Z", "type": "commit"}, {"oid": "67bd632b0bb2532df0262f7c9f0d8825e99c1f64", "url": "https://github.com/apache/ozone/commit/67bd632b0bb2532df0262f7c9f0d8825e99c1f64", "message": "add close method", "committedDate": "2020-05-06T12:32:24Z", "type": "commit"}, {"oid": "bf7e0401fb748071db100342d41a3d7be47e1b4c", "url": "https://github.com/apache/ozone/commit/bf7e0401fb748071db100342d41a3d7be47e1b4c", "message": "fix Hadoop RPC caching problem", "committedDate": "2020-05-07T14:37:32Z", "type": "commit"}, {"oid": "b26c977e74054e28413964ca0d6601096a84f77f", "url": "https://github.com/apache/ozone/commit/b26c977e74054e28413964ca0d6601096a84f77f", "message": "checkstyle fix", "committedDate": "2020-05-07T14:42:09Z", "type": "commit"}, {"oid": "f05924c3a172e04876d5ab2e434811cabbfc9971", "url": "https://github.com/apache/ozone/commit/f05924c3a172e04876d5ab2e434811cabbfc9971", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3500", "committedDate": "2020-05-07T15:31:50Z", "type": "commit"}, {"oid": "6f414868f5dffabe923656089f211e45f35c89f9", "url": "https://github.com/apache/ozone/commit/6f414868f5dffabe923656089f211e45f35c89f9", "message": "move delegation token test to separated class", "committedDate": "2020-05-08T14:10:02Z", "type": "commit"}, {"oid": "f43edd3b2ce46c6336d1d2cfee51d0cd7bc9dd11", "url": "https://github.com/apache/ozone/commit/f43edd3b2ce46c6336d1d2cfee51d0cd7bc9dd11", "message": "retrigger build with empty commit", "committedDate": "2020-05-11T13:57:45Z", "type": "commit"}, {"oid": "ed08e39b9e26adae91c2a485dd41d06aecf4b87d", "url": "https://github.com/apache/ozone/commit/ed08e39b9e26adae91c2a485dd41d06aecf4b87d", "message": "Trigger new build with empty commit", "committedDate": "2020-05-12T10:26:42Z", "type": "commit"}, {"oid": "de3e2e29a362c5e9723db6ebd6527bc1de87b36e", "url": "https://github.com/apache/ozone/commit/de3e2e29a362c5e9723db6ebd6527bc1de87b36e", "message": "fix unit tests", "committedDate": "2020-05-13T09:51:31Z", "type": "commit"}, {"oid": "28b6884dac0de238ab5b759aea4d9027c046b911", "url": "https://github.com/apache/ozone/commit/28b6884dac0de238ab5b759aea4d9027c046b911", "message": "Merge remote-tracking branch 'elek/HDDS-3500' into HDDS-3500", "committedDate": "2020-05-13T10:58:05Z", "type": "commit"}, {"oid": "054f2a0205af079a7764c8ecf54f83b13bd966b5", "url": "https://github.com/apache/ozone/commit/054f2a0205af079a7764c8ecf54f83b13bd966b5", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3500", "committedDate": "2020-05-18T12:56:08Z", "type": "commit"}, {"oid": "3c9a3a70a2aceb8fe1b61ad56d9268e096cc3166", "url": "https://github.com/apache/ozone/commit/3c9a3a70a2aceb8fe1b61ad56d9268e096cc3166", "message": "HDDS-3609. Avoid to use Hadoop3.x IOUtils in Ozone Client", "committedDate": "2020-05-18T13:20:48Z", "type": "commit"}, {"oid": "f91a566c3c3ce4b057a0a70014cfcdcc0bd131d3", "url": "https://github.com/apache/ozone/commit/f91a566c3c3ce4b057a0a70014cfcdcc0bd131d3", "message": "Merge branch 'HDDS-3500' into HDDS-3458", "committedDate": "2020-05-19T14:23:55Z", "type": "commit"}, {"oid": "9d87cc63c43c796af365c4ae06b55824bc988309", "url": "https://github.com/apache/ozone/commit/9d87cc63c43c796af365c4ae06b55824bc988309", "message": "Merge branch 'HDDS-3501' into HDDS-3458", "committedDate": "2020-05-19T14:24:01Z", "type": "commit"}, {"oid": "c5ee351437360948e5867cb518631f228e055d7d", "url": "https://github.com/apache/ozone/commit/c5ee351437360948e5867cb518631f228e055d7d", "message": "Merge branch 'HDDS-3609' into HDDS-3458", "committedDate": "2020-05-19T14:25:21Z", "type": "commit"}, {"oid": "0f3021d4fc96ae19ac5e4f2aa0a96e4dc444d014", "url": "https://github.com/apache/ozone/commit/0f3021d4fc96ae19ac5e4f2aa0a96e4dc444d014", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3458", "committedDate": "2020-05-19T14:25:31Z", "type": "commit"}, {"oid": "bfc466a38348abab321bded770dbdddeebe269e6", "url": "https://github.com/apache/ozone/commit/bfc466a38348abab321bded770dbdddeebe269e6", "message": "fix all the smoketests and ozonefs project generation", "committedDate": "2020-05-20T11:10:23Z", "type": "commit"}, {"oid": "65ba34050c70a3c1a445b6e6c25dbd340aed1af9", "url": "https://github.com/apache/ozone/commit/65ba34050c70a3c1a445b6e6c25dbd340aed1af9", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3627", "committedDate": "2020-05-20T12:39:41Z", "type": "commit"}, {"oid": "1054650ff88a83a833cba19366a1921094213606", "url": "https://github.com/apache/ozone/commit/1054650ff88a83a833cba19366a1921094213606", "message": "remove unit test", "committedDate": "2020-05-20T12:43:53Z", "type": "commit"}, {"oid": "554f8fad8a2f34319637be289d64a34000e9f1ea", "url": "https://github.com/apache/ozone/commit/554f8fad8a2f34319637be289d64a34000e9f1ea", "message": "fix OzoneFileSystem", "committedDate": "2020-05-20T12:48:02Z", "type": "commit"}, {"oid": "ef8ccfe8e9af2f9bedc66614a2a3e8930bdfdcaf", "url": "https://github.com/apache/ozone/commit/ef8ccfe8e9af2f9bedc66614a2a3e8930bdfdcaf", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3500", "committedDate": "2020-05-20T12:52:20Z", "type": "commit"}, {"oid": "e7695dc4b7264276a44d4bf9ad83ea1593121038", "url": "https://github.com/apache/ozone/commit/e7695dc4b7264276a44d4bf9ad83ea1593121038", "message": "restore OmFailoverProxyUtil", "committedDate": "2020-05-20T12:59:12Z", "type": "commit"}, {"oid": "5db726fd9050b5d296479f17204d62f462b27bab", "url": "https://github.com/apache/ozone/commit/5db726fd9050b5d296479f17204d62f462b27bab", "message": "reworking unit tests after merge", "committedDate": "2020-05-20T13:10:40Z", "type": "commit"}, {"oid": "dd4dc346b85cd3eeafd36a39a8260ff8128d7fa7", "url": "https://github.com/apache/ozone/commit/dd4dc346b85cd3eeafd36a39a8260ff8128d7fa7", "message": "retrigger build with empty commit", "committedDate": "2020-05-20T15:05:13Z", "type": "commit"}, {"oid": "45dacaeb139059e96b5b6993b25e16b793c1f59f", "url": "https://github.com/apache/ozone/commit/45dacaeb139059e96b5b6993b25e16b793c1f59f", "message": "fix java docs", "committedDate": "2020-05-21T09:47:16Z", "type": "commit"}, {"oid": "6fb48d58918fb2c5b96ddbf6cc65ffeddd775aab", "url": "https://github.com/apache/ozone/commit/6fb48d58918fb2c5b96ddbf6cc65ffeddd775aab", "message": "revert import only chages", "committedDate": "2020-05-21T09:49:38Z", "type": "commit"}, {"oid": "0114f52af504c1924f00ad9027415f38242876c1", "url": "https://github.com/apache/ozone/commit/0114f52af504c1924f00ad9027415f38242876c1", "message": "restore TestOzoneRpcClientAbstract.testOMClientProxyProvider", "committedDate": "2020-05-21T10:02:00Z", "type": "commit"}, {"oid": "7f3a16b60c58ba6f1d716583224ba16e27601362", "url": "https://github.com/apache/ozone/commit/7f3a16b60c58ba6f1d716583224ba16e27601362", "message": "fix the name of the logger", "committedDate": "2020-05-21T10:05:31Z", "type": "commit"}, {"oid": "f2c2dbac1237aadc4ea2ea8ff116394a0b6f64c0", "url": "https://github.com/apache/ozone/commit/f2c2dbac1237aadc4ea2ea8ff116394a0b6f64c0", "message": "Don't use getOMLeader and simplify test util", "committedDate": "2020-05-21T10:12:11Z", "type": "commit"}, {"oid": "808e93f60692bd3fd54d80645c3b6bb05741796c", "url": "https://github.com/apache/ozone/commit/808e93f60692bd3fd54d80645c3b6bb05741796c", "message": "checkstyle fix", "committedDate": "2020-05-21T10:19:20Z", "type": "commit"}, {"oid": "ea25ef3ff4eadfc6dbb30079b5bee9175daec02f", "url": "https://github.com/apache/ozone/commit/ea25ef3ff4eadfc6dbb30079b5bee9175daec02f", "message": "Merge remote-tracking branch 'elek/HDDS-3500' into HDDS-3500", "committedDate": "2020-05-21T10:19:54Z", "type": "commit"}, {"oid": "1718b23f5999776350e33d160cc59fdd5c449433", "url": "https://github.com/apache/ozone/commit/1718b23f5999776350e33d160cc59fdd5c449433", "message": "Merge branch 'HDDS-3500' into HDDS-3627", "committedDate": "2020-05-21T13:19:40Z", "type": "commit"}, {"oid": "ca381313d42f42e5da43a09f05c76706fc873970", "url": "https://github.com/apache/ozone/commit/ca381313d42f42e5da43a09f05c76706fc873970", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3627", "committedDate": "2020-05-21T13:24:04Z", "type": "commit"}, {"oid": "3162cab7c905c9d772e599ec25a4afdd75a53d56", "url": "https://github.com/apache/ozone/commit/3162cab7c905c9d772e599ec25a4afdd75a53d56", "message": "use commons io closeQuitely", "committedDate": "2020-05-22T08:34:15Z", "type": "commit"}, {"oid": "83acaab9234f72b2ca31925a2793200947f5bd11", "url": "https://github.com/apache/ozone/commit/83acaab9234f72b2ca31925a2793200947f5bd11", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3609", "committedDate": "2020-05-22T08:35:09Z", "type": "commit"}, {"oid": "60895aad637eecd0def8609b800c8c0734cb83e6", "url": "https://github.com/apache/ozone/commit/60895aad637eecd0def8609b800c8c0734cb83e6", "message": "Merge branch 'HDDS-3609' into HDDS-3627", "committedDate": "2020-05-22T11:37:59Z", "type": "commit"}, {"oid": "111339cb983ce9596545d5d780424c3af1e9c189", "url": "https://github.com/apache/ozone/commit/111339cb983ce9596545d5d780424c3af1e9c189", "message": "rat and findbug fixes", "committedDate": "2020-05-22T12:16:44Z", "type": "commit"}, {"oid": "636e61e2928f4ca613a0c3bcce92c107d5251eb6", "url": "https://github.com/apache/ozone/commit/636e61e2928f4ca613a0c3bcce92c107d5251eb6", "message": "code style + RAT fixes", "committedDate": "2020-05-22T12:19:53Z", "type": "commit"}, {"oid": "450ed829efcb0bea98c829d1442a5471b8359806", "url": "https://github.com/apache/ozone/commit/450ed829efcb0bea98c829d1442a5471b8359806", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3627", "committedDate": "2020-05-27T14:24:31Z", "type": "commit"}, {"oid": "ab6a94b511ea25e49b7a85e6a35b5b7036a40c76", "url": "https://github.com/apache/ozone/commit/ab6a94b511ea25e49b7a85e6a35b5b7036a40c76", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3627", "committedDate": "2020-05-28T10:35:47Z", "type": "commit"}, {"oid": "0e7878e8c95a27e50ab1c063039d43a1dc0dc678", "url": "https://github.com/apache/ozone/commit/0e7878e8c95a27e50ab1c063039d43a1dc0dc678", "message": "fix volume/bucket order", "committedDate": "2020-05-28T11:39:10Z", "type": "commit"}, {"oid": "4d6749362b039827280295674aa32f4703a072ac", "url": "https://github.com/apache/ozone/commit/4d6749362b039827280295674aa32f4703a072ac", "message": "HDDS-3609. Avoid to use Hadoop3.x IOUtils in Ozone Client", "committedDate": "2020-05-29T09:06:36Z", "type": "commit"}, {"oid": "1b87e12d5141ef28c9e38f9f7432011cbe1ebfd5", "url": "https://github.com/apache/ozone/commit/1b87e12d5141ef28c9e38f9f7432011cbe1ebfd5", "message": "IOUtils fix", "committedDate": "2020-05-29T09:29:44Z", "type": "commit"}, {"oid": "079aa300edfe2ee7d86c623d6e477d6fac96f0e9", "url": "https://github.com/apache/ozone/commit/079aa300edfe2ee7d86c623d6e477d6fac96f0e9", "message": "fix IOUtils", "committedDate": "2020-05-29T09:57:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ5ODc5MQ==", "url": "https://github.com/apache/ozone/pull/992#discussion_r433498791", "bodyText": "Can you remove OzoneConfigKeys#OZONE_FS_ISOLATED_CLASSLOADER as well?", "author": "xiaoyuyao", "createdAt": "2020-06-01T21:24:42Z", "path": "hadoop-ozone/ozonefs-common/src/main/java/org/apache/hadoop/fs/ozone/BasicOzoneFileSystem.java", "diffHunk": "@@ -145,18 +145,6 @@ public void initialize(URI name, Configuration conf) throws IOException {\n           .build();\n       LOG.trace(\"Ozone URI for ozfs initialization is {}\", uri);\n \n-      //isolated is the default for ozonefs-lib-legacy which includes the\n-      // /ozonefs.txt, otherwise the default is false. It could be overridden.\n-      boolean defaultValue =\n-          BasicOzoneFileSystem.class.getClassLoader()\n-              .getResource(\"ozonefs.txt\")\n-              != null;\n-\n-      //Use string here instead of the constant as constant may not be available\n-      //on the classpath of a hadoop 2.7\n-      boolean isolatedClassloader =\n-          conf.getBoolean(\"ozone.fs.isolated-classloader\", defaultValue);", "originalCommit": "079aa300edfe2ee7d86c623d6e477d6fac96f0e9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzgzMTc4NA==", "url": "https://github.com/apache/ozone/pull/992#discussion_r433831784", "bodyText": "done.", "author": "elek", "createdAt": "2020-06-02T12:19:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ5ODc5MQ=="}], "type": "inlineReview"}, {"oid": "de707bcc38b6425abf43bbb77203f7f47c86e0eb", "url": "https://github.com/apache/ozone/commit/de707bcc38b6425abf43bbb77203f7f47c86e0eb", "message": "remove deprecated configuration value", "committedDate": "2020-06-02T12:16:58Z", "type": "commit"}, {"oid": "27d44371a26d3451764eb57a252f75295f8b3359", "url": "https://github.com/apache/ozone/commit/27d44371a26d3451764eb57a252f75295f8b3359", "message": "retrigger build with empty commit", "committedDate": "2020-06-03T10:23:20Z", "type": "commit"}]}