{"pr_number": 724, "pr_title": "HDDS-3282. ozone.http.filter.initializers can't be set properly for S\u2026", "pr_createdAt": "2020-03-26T00:34:37Z", "pr_url": "https://github.com/apache/ozone/pull/724", "timeline": [{"oid": "0a91f8fdeb9c8de83e07da24074ed4af3c73e70d", "url": "https://github.com/apache/ozone/commit/0a91f8fdeb9c8de83e07da24074ed4af3c73e70d", "message": "HDDS-3282. ozone.http.filter.initializers can't be set properly for SPNEGO auth.", "committedDate": "2020-04-17T03:54:52Z", "type": "forcePushed"}, {"oid": "2385d9b4534bc28b5ea22f46f637c3636b8d79b5", "url": "https://github.com/apache/ozone/commit/2385d9b4534bc28b5ea22f46f637c3636b8d79b5", "message": "HDDS-3282. ozone.http.filter.initializers can't be set properly for SPNEGO auth.", "committedDate": "2020-04-21T21:16:43Z", "type": "commit"}, {"oid": "1b3fd6c0bc5d111a62c78572d260898db15e6ce4", "url": "https://github.com/apache/ozone/commit/1b3fd6c0bc5d111a62c78572d260898db15e6ce4", "message": "Fix the acceptance test", "committedDate": "2020-04-21T23:28:31Z", "type": "commit"}, {"oid": "1b3fd6c0bc5d111a62c78572d260898db15e6ce4", "url": "https://github.com/apache/ozone/commit/1b3fd6c0bc5d111a62c78572d260898db15e6ce4", "message": "Fix the acceptance test", "committedDate": "2020-04-21T23:28:31Z", "type": "forcePushed"}, {"oid": "c236cd1d3f6d875f04959ca7c19aab4b9079bfd5", "url": "https://github.com/apache/ozone/commit/c236cd1d3f6d875f04959ca7c19aab4b9079bfd5", "message": "fix docker-compose issue with recon http keytab key name", "committedDate": "2020-04-22T02:12:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg1OTg0OA==", "url": "https://github.com/apache/ozone/pull/724#discussion_r412859848", "bodyText": "Are these classes copied from Hadoop being removed and dependency on Hadoop being re-introduced intentionally? CC @elek", "author": "adoroszlai", "createdAt": "2020-04-22T10:22:23Z", "path": "hadoop-hdds/framework/src/main/java/org/apache/hadoop/hdds/server/http/HttpServer2.java", "diffHunk": "@@ -57,6 +57,9 @@\n import org.apache.hadoop.hdds.conf.ConfigurationSource;\n import org.apache.hadoop.hdds.conf.OzoneConfiguration;\n import org.apache.hadoop.hdds.utils.LegacyHadoopConfigurationSource;\n+import org.apache.hadoop.http.FilterContainer;\n+import org.apache.hadoop.http.FilterInitializer;\n+import org.apache.hadoop.http.lib.StaticUserWebFilter;", "originalCommit": "c236cd1d3f6d875f04959ca7c19aab4b9079bfd5", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzE0MDAxMw==", "url": "https://github.com/apache/ozone/pull/724#discussion_r413140013", "bodyText": "@adoroszlai Yes, these are brought back to get SPNEGO work with our fork of Httpserver2. SPNEGO is implemented by KerberosAuthenticationHandler/KerberosAuthenticator in hadoop-common.\nOn server side, KerberosAuthenticationHandler is initialized by AuthenticationFilterInitializer that implements org.apache.hadoop.http.FilterInitializer. Unless, we decide to fork more code from hadoop-common, I think we should stick with the FilterContainer/FilterInitilaizer/StaticUserWebFilter from hadoop-common given the fact that there are barely major change in SPNEGO from hadoop 2 to hadoop 3.", "author": "xiaoyuyao", "createdAt": "2020-04-22T16:40:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjg1OTg0OA=="}], "type": "inlineReview"}, {"oid": "cd10e344bfbbab5e7046fecf7ba64fd143046afd", "url": "https://github.com/apache/ozone/commit/cd10e344bfbbab5e7046fecf7ba64fd143046afd", "message": "Merge branch 'master' into HDDS-3282", "committedDate": "2020-04-30T19:10:09Z", "type": "commit"}, {"oid": "362c635694ca6155df720b34d3cc40833cc1a185", "url": "https://github.com/apache/ozone/commit/362c635694ca6155df720b34d3cc40833cc1a185", "message": "trigger new CI check", "committedDate": "2020-05-01T05:20:30Z", "type": "commit"}]}