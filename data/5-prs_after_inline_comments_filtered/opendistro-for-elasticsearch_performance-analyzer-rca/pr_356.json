{"pr_number": 356, "pr_title": "Expose queue rejection time period setting in rca.conf", "pr_createdAt": "2020-08-07T20:53:51Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/356", "timeline": [{"oid": "be7e02d293bce7fc77d4da820588769a8fa44f6c", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/be7e02d293bce7fc77d4da820588769a8fa44f6c", "message": "Expose queue rejection time period setting in rca.conf", "committedDate": "2020-08-07T20:43:07Z", "type": "commit"}, {"oid": "936fd0d8c2223f29e66c4dca33b6682e8298962a", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/936fd0d8c2223f29e66c4dca33b6682e8298962a", "message": "Merge remote-tracking branch 'origin' into rguo-fix-bug3", "committedDate": "2020-08-07T20:57:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI4MjIxOA==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/356#discussion_r467282218", "bodyText": "Is there a reason why it should be in a static inner class of its own ?", "author": "yojs", "createdAt": "2020-08-07T21:32:34Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/rca/configs/QueueRejectionRcaConfig.java", "diffHunk": "@@ -0,0 +1,40 @@\n+/*\n+ * Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\").\n+ * You may not use this file except in compliance with the License.\n+ * A copy of the License is located at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * or in the \"license\" file accompanying this file. This file is distributed\n+ * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ * express or implied. See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ */\n+\n+package com.amazon.opendistro.elasticsearch.performanceanalyzer.rca.configs;\n+\n+import com.amazon.opendistro.elasticsearch.performanceanalyzer.rca.framework.core.RcaConf;\n+\n+public class QueueRejectionRcaConfig {\n+  private Integer rejectionTimePeriodInSeconds;\n+  public static final int DEFAULT_REJECTION_TIME_PERIOD_IN_SECONDS = 300;\n+  public static final String CONFIG_NAME = \"queue-rejection-rca\";\n+\n+  public QueueRejectionRcaConfig(final RcaConf rcaConf) {\n+    rejectionTimePeriodInSeconds = rcaConf.readRcaConfig(\n+        CONFIG_NAME, RCA_CONF_KEY_CONSTANTS.REJECTION_TIME_PERIOD_IN_SECONDS, Integer.class);\n+    if (rejectionTimePeriodInSeconds == null) {\n+      rejectionTimePeriodInSeconds = DEFAULT_REJECTION_TIME_PERIOD_IN_SECONDS;\n+    }\n+  }\n+\n+  public int getRejectionTimePeriodInSeconds() {\n+    return rejectionTimePeriodInSeconds;\n+  }\n+\n+  public static class RCA_CONF_KEY_CONSTANTS {\n+    public static final String REJECTION_TIME_PERIOD_IN_SECONDS = \"rejection-time-period-in-seconds\";", "originalCommit": "936fd0d8c2223f29e66c4dca33b6682e8298962a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI5NTYyMQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/356#discussion_r467295621", "bodyText": "the reason is because we might want to add more settings to this RCA in the future so it would be better to keep all consts under the same inner class.", "author": "rguo-aws", "createdAt": "2020-08-07T21:50:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzI4MjIxOA=="}], "type": "inlineReview"}, {"oid": "d37d595012298bcce6bbfa26082c0bb0f4697fd3", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/d37d595012298bcce6bbfa26082c0bb0f4697fd3", "message": "Add unit test", "committedDate": "2020-08-07T21:45:52Z", "type": "commit"}, {"oid": "cbb2e4c606b998947bda977961d321c8e7babc74", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/cbb2e4c606b998947bda977961d321c8e7babc74", "message": "Address more PR comments", "committedDate": "2020-08-07T21:49:01Z", "type": "commit"}]}