{"pr_number": 275, "pr_title": "Fix bugs in Decision Maker", "pr_createdAt": "2020-07-15T00:38:45Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275", "timeline": [{"oid": "539f8cf01d97564bd56b1d785035b476f30e50f0", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/539f8cf01d97564bd56b1d785035b476f30e50f0", "message": "Add client interface and fix bugs in Decision Maker", "committedDate": "2020-07-14T22:14:13Z", "type": "commit"}, {"oid": "7592bddda87f9d2b1cafd52a2fdb391783d073b4", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/7592bddda87f9d2b1cafd52a2fdb391783d073b4", "message": "Fix check style", "committedDate": "2020-07-15T00:51:36Z", "type": "commit"}, {"oid": "ec53505aa73db2842c6fc21b26fb007d409c9f20", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/ec53505aa73db2842c6fc21b26fb007d409c9f20", "message": "remove space", "committedDate": "2020-07-15T01:02:46Z", "type": "commit"}, {"oid": "13e16650bcb6e9aeea5a76e6c377d9becb500408", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/13e16650bcb6e9aeea5a76e6c377d9becb500408", "message": "remove client", "committedDate": "2020-07-15T19:41:23Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0MDMwOQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#discussion_r455440309", "bodyText": "nit: decider + \": \" + actions ? (assuming this is for logging?)", "author": "vigyasharma", "createdAt": "2020-07-16T00:27:45Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/decisionmaker/deciders/Decision.java", "diffHunk": "@@ -54,6 +54,11 @@ public void setDecider(String decider) {\n     this.decider = decider;\n   }\n \n+  @Override\n+  public String toString() {\n+    return decider + actions;", "originalCommit": "13e16650bcb6e9aeea5a76e6c377d9becb500408", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyMjQ4MQ==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#discussion_r456122481", "bodyText": "done", "author": "rguo-aws", "createdAt": "2020-07-16T22:54:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ0MDMwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTk1OTkzMA==", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/pull/275#discussion_r455959930", "bodyText": "Wondering if we should update the metric count before the logging, thoughts?", "author": "khushbr", "createdAt": "2020-07-16T17:41:29Z", "path": "src/main/java/com/amazon/opendistro/elasticsearch/performanceanalyzer/decisionmaker/deciders/Publisher.java", "diffHunk": "@@ -43,18 +46,30 @@ public EmptyFlowUnit operate() {\n       LOG.info(\"Executing action: [{}]\", action.name());\n       action.execute();\n     }\n-\n     return new EmptyFlowUnit(System.currentTimeMillis());\n   }\n \n-  /* Publisher does not have downstream nodes and does not emit flow units\n-   */\n-\n   @Override\n   public void generateFlowUnitListFromLocal(FlowUnitOperationArgWrapper args) {\n-    assert true;\n+    LOG.debug(\"Publisher: Executing fromLocal: {}\", name());\n+    long startTime = System.currentTimeMillis();\n+\n+    try {\n+      this.operate();\n+    } catch (Exception ex) {\n+      LOG.error(\"Publisher: Exception in operate\", ex);\n+      PerformanceAnalyzerApp.ERRORS_AND_EXCEPTIONS_AGGREGATOR.updateStat(", "originalCommit": "13e16650bcb6e9aeea5a76e6c377d9becb500408", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b7fbbfcd6e18df2d9048763b7ce9d47159223e44", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/b7fbbfcd6e18df2d9048763b7ce9d47159223e44", "message": "Merge remote-tracking branch 'origin' into rguo-dm-fix", "committedDate": "2020-07-16T22:48:50Z", "type": "commit"}, {"oid": "6b5a32946db0f04bbb9ce27f3a42dd71f68fa7ab", "url": "https://github.com/opendistro-for-elasticsearch/performance-analyzer-rca/commit/6b5a32946db0f04bbb9ce27f3a42dd71f68fa7ab", "message": "Address PR comments", "committedDate": "2020-07-16T22:53:04Z", "type": "commit"}]}