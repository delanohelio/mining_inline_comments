{"pr_number": 1902, "pr_title": "Variable equipment size, part 1", "pr_createdAt": "2020-04-30T01:51:46Z", "pr_url": "https://github.com/MegaMek/megamek/pull/1902", "timeline": [{"oid": "66ce75543e96f031e356e278289d97f1f7154161", "url": "https://github.com/MegaMek/megamek/commit/66ce75543e96f031e356e278289d97f1f7154161", "message": "Changed ammoCapacity field to a more generic size field.", "committedDate": "2020-04-28T17:02:20Z", "type": "commit"}, {"oid": "73e67ac2e543a8584f475b353f192fc0d6df5635", "url": "https://github.com/MegaMek/megamek/commit/73e67ac2e543a8584f475b353f192fc0d6df5635", "message": "Use Mounted#size for determining weight, cost, and name of drone systems and MASH.", "committedDate": "2020-04-28T18:26:21Z", "type": "commit"}, {"oid": "ac092ea3e2e24d5d180adfc611d291ffd0a0bf58", "url": "https://github.com/MegaMek/megamek/commit/ac092ea3e2e24d5d180adfc611d291ffd0a0bf58", "message": "Removed drone and MASH extra equipment and repurposed their flags.", "committedDate": "2020-04-28T20:13:37Z", "type": "commit"}, {"oid": "2e3dd59be3d89d5cf8ab687804649ac13c0bbe66", "url": "https://github.com/MegaMek/megamek/commit/2e3dd59be3d89d5cf8ab687804649ac13c0bbe66", "message": "Include equipment size in mount name and description.", "committedDate": "2020-04-28T21:18:09Z", "type": "commit"}, {"oid": "d6fb536b5eddfe874a1efa9aa6b8e801fd34852d", "url": "https://github.com/MegaMek/megamek/commit/d6fb536b5eddfe874a1efa9aa6b8e801fd34852d", "message": "Add MASH variable size weight and cost calculations.", "committedDate": "2020-04-29T05:57:12Z", "type": "commit"}, {"oid": "83b038cb7524d1ee07d91b56ea4a434854bf5881", "url": "https://github.com/MegaMek/megamek/commit/83b038cb7524d1ee07d91b56ea4a434854bf5881", "message": "Legacy support extra drone and extra mash in aerospace loaders.", "committedDate": "2020-04-29T06:14:05Z", "type": "commit"}, {"oid": "2ded223465c502768b774650205cbedb140ae756", "url": "https://github.com/MegaMek/megamek/commit/2ded223465c502768b774650205cbedb140ae756", "message": "Shortname fields for ATAC and DTAC.", "committedDate": "2020-04-29T06:17:16Z", "type": "commit"}, {"oid": "7687c87e949f3fc4dd6b554d5ddb379797ec0b5a", "url": "https://github.com/MegaMek/megamek/commit/7687c87e949f3fc4dd6b554d5ddb379797ec0b5a", "message": "Save and load size field to and from the unit file.", "committedDate": "2020-04-29T20:54:36Z", "type": "commit"}, {"oid": "de7a0abe13374a213a81b86efe50d143b6b366a5", "url": "https://github.com/MegaMek/megamek/commit/de7a0abe13374a213a81b86efe50d143b6b366a5", "message": "Use a spinner to edit the size column on the equipment tab.", "committedDate": "2020-04-30T01:12:47Z", "type": "commit"}, {"oid": "96edd65edf569f7c8f75a77a2a6e997e23821bbd", "url": "https://github.com/MegaMek/megamek/commit/96edd65edf569f7c8f75a77a2a6e997e23821bbd", "message": "Fix DTAC weight calculation.", "committedDate": "2020-04-30T01:13:51Z", "type": "commit"}, {"oid": "18ebc4d5e44fe8d39f14d1b76880c0db160ca28f", "url": "https://github.com/MegaMek/megamek/commit/18ebc4d5e44fe8d39f14d1b76880c0db160ca28f", "message": "Merge remote-tracking branch 'origin/master' into variable_equipment_size", "committedDate": "2020-05-07T21:08:54Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgyNjA3Nw==", "url": "https://github.com/MegaMek/megamek/pull/1902#discussion_r421826077", "bodyText": "Missing the format argument.", "author": "sixlettervariables", "createdAt": "2020-05-07T22:15:52Z", "path": "megamek/src/megamek/common/MiscType.java", "diffHunk": "@@ -435,13 +434,51 @@ public double getDamageDivisor() {\n         return damageDivisor;\n     }\n \n+    private String sizeSuffix(double size) {\n+        if (hasFlag(F_VARIABLE_SIZE)) {\n+            if (hasFlag(MiscType.F_DRONE_CARRIER_CONTROL)\n+                    || hasFlag(MiscType.F_ATAC) || hasFlag(MiscType.F_DTAC)) {\n+                return String.format(\" (%d %s)\", (int) size, size > 1 ?\n+                        Messages.getString(\"MiscType.drones\") :\n+                        Messages.getString(\"MiscType.drone\"));\n+            } else if (hasFlag(MiscType.F_MASH)) {\n+                return String.format(\" (%d %s)\", (int) size, size > 1 ?\n+                        Messages.getString(\"MiscType.theaters\") :\n+                        Messages.getString(\"MiscType.theater\"));\n+            } else if (hasFlag(MiscType.F_LADDER)) {\n+                return String.format(\" (%d m\");", "originalCommit": "18ebc4d5e44fe8d39f14d1b76880c0db160ca28f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "279639ff06e949bb413d688da6f7fae9f46485a8", "url": "https://github.com/MegaMek/megamek/commit/279639ff06e949bb413d688da6f7fae9f46485a8", "message": "Added missing format argument.", "committedDate": "2020-05-07T22:30:48Z", "type": "commit"}, {"oid": "50d5f0f6680650140ec20929e47e46cf8f0ac857", "url": "https://github.com/MegaMek/megamek/commit/50d5f0f6680650140ec20929e47e46cf8f0ac857", "message": "Make narrowing in assignment explicit.", "committedDate": "2020-05-07T22:31:52Z", "type": "commit"}]}