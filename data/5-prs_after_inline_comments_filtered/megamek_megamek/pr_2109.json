{"pr_number": 2109, "pr_title": "fix path enumerator NPEs for destroyed entities", "pr_createdAt": "2020-08-05T01:39:22Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2109", "timeline": [{"oid": "fa9f0d867bd6dbd3106080732afc9884989edd3a", "url": "https://github.com/MegaMek/megamek/commit/fa9f0d867bd6dbd3106080732afc9884989edd3a", "message": "fix path enumerator NPEs for destroyed entities", "committedDate": "2020-08-05T01:35:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQzMDg4MQ==", "url": "https://github.com/MegaMek/megamek/pull/2109#discussion_r465430881", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(getGame().getEntity(mover.getId()) == null) {\n          \n          \n            \n                        if (getGame().getEntity(mover.getId()) == null) {", "author": "Windchild292", "createdAt": "2020-08-05T02:11:59Z", "path": "megamek/src/megamek/client/bot/princess/PathEnumerator.java", "diffHunk": "@@ -179,6 +179,16 @@ public void recalculateMovesFor(final Entity mover) {\n             // Clear out any already calculated paths.\n             getUnitPaths().remove(mover.getId());\n             getLongRangePaths().remove(mover.getId());\n+            \n+            // if the entity does not exist in the game for any reason, let's cut out safely\n+            // otherwise, we'll run into problems calculating paths\n+            if(getGame().getEntity(mover.getId()) == null) {", "originalCommit": "fa9f0d867bd6dbd3106080732afc9884989edd3a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "64f0133d7ae2d9a544c23c550eb93c86a83f305a", "url": "https://github.com/MegaMek/megamek/commit/64f0133d7ae2d9a544c23c550eb93c86a83f305a", "message": "Update megamek/src/megamek/client/bot/princess/PathEnumerator.java\n\nCo-authored-by: Justin Bowen <39067288+Windchild292@users.noreply.github.com>", "committedDate": "2020-08-05T02:14:30Z", "type": "commit"}]}