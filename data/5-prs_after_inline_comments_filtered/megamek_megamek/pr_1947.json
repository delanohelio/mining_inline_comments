{"pr_number": 1947, "pr_title": "minor performance improvement", "pr_createdAt": "2020-05-14T02:15:23Z", "pr_url": "https://github.com/MegaMek/megamek/pull/1947", "timeline": [{"oid": "7495e285953383b2b7ae15f65b4d8bd78b630fae", "url": "https://github.com/MegaMek/megamek/commit/7495e285953383b2b7ae15f65b4d8bd78b630fae", "message": "minor performance improvement", "committedDate": "2020-05-14T02:04:17Z", "type": "commit"}, {"oid": "a796ef88e6404410706188ea4b435566eb69bed1", "url": "https://github.com/MegaMek/megamek/commit/a796ef88e6404410706188ea4b435566eb69bed1", "message": "actual fix", "committedDate": "2020-05-14T02:50:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg0Njc0MA==", "url": "https://github.com/MegaMek/megamek/pull/1947#discussion_r424846740", "bodyText": "Does the caller add to it? Or could the caller just receive say Collections.emptyList instead?", "author": "sixlettervariables", "createdAt": "2020-05-14T03:13:07Z", "path": "megamek/src/megamek/common/MoveStep.java", "diffHunk": "@@ -3962,6 +3964,10 @@ public boolean useSpheroidAtmosphere(IGame game, Entity en) {\n      * @return An {@link ArrayList} of {@link Coords} containing buildings within a dropship's landing zone.\n      */\n     public ArrayList<Coords> getCrushedBuildingLocs() {", "originalCommit": "a796ef88e6404410706188ea4b435566eb69bed1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg1NTI4Nw==", "url": "https://github.com/MegaMek/megamek/pull/1947#discussion_r424855287", "bodyText": "No, but it looks like I introduced a few bugs with that optimization.", "author": "NickAragua", "createdAt": "2020-05-14T03:49:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg0Njc0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5Nzg0MA==", "url": "https://github.com/MegaMek/megamek/pull/1947#discussion_r425397840", "bodyText": "Found a place where this collection was being added to without being initalized.", "author": "NickAragua", "createdAt": "2020-05-14T20:03:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg0Njc0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg0Njg4MA==", "url": "https://github.com/MegaMek/megamek/pull/1947#discussion_r424846880", "bodyText": "Does the caller add to this? Or could we return an empty map to them via Collections.emptyMap?", "author": "sixlettervariables", "createdAt": "2020-05-14T03:13:51Z", "path": "megamek/src/megamek/common/MoveStep.java", "diffHunk": "@@ -475,6 +473,10 @@ public Coords getTargetPosition() {\n     }\n \n     public TreeMap<Integer, Vector<Integer>> getLaunched() {", "originalCommit": "a796ef88e6404410706188ea4b435566eb69bed1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5OTAyMQ==", "url": "https://github.com/MegaMek/megamek/pull/1947#discussion_r425399021", "bodyText": "I think we better initialize it anyway, out of an abundance of caution. That function is invoked very infrequently, and in places where the minute performance hit of checking if the underlying var has been initialized doesn't matter (user interactions, movement processing on server).", "author": "NickAragua", "createdAt": "2020-05-14T20:05:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg0Njg4MA=="}], "type": "inlineReview"}, {"oid": "c6b4ea020b6fd2e23c5e9a7cda5c745d5f02877a", "url": "https://github.com/MegaMek/megamek/commit/c6b4ea020b6fd2e23c5e9a7cda5c745d5f02877a", "message": "fix introduced npe", "committedDate": "2020-05-14T20:13:57Z", "type": "commit"}]}