{"pr_number": 2252, "pr_title": "Board Loading fix", "pr_createdAt": "2020-09-26T08:12:48Z", "pr_url": "https://github.com/MegaMek/megamek/pull/2252", "timeline": [{"oid": "349dc918f6c0a94a20413c761c3a4ce772aa8efd", "url": "https://github.com/MegaMek/megamek/commit/349dc918f6c0a94a20413c761c3a4ce772aa8efd", "message": "Allow loading xx * yyy size boards", "committedDate": "2020-09-26T07:21:24Z", "type": "commit"}, {"oid": "a45dd4b3b9a8f14e293f997eb417c04ca648b5ba", "url": "https://github.com/MegaMek/megamek/commit/a45dd4b3b9a8f14e293f997eb417c04ca648b5ba", "message": "Small corrections", "committedDate": "2020-09-26T07:47:40Z", "type": "commit"}, {"oid": "9e441c21801615319e5065ad967890ce797689fc", "url": "https://github.com/MegaMek/megamek/commit/9e441c21801615319e5065ad967890ce797689fc", "message": "Error correction #2", "committedDate": "2020-09-26T08:07:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NTg2Mw==", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495455863", "bodyText": "Curious why you decided to append the ex instead of have it as MegaMek.getLogger().error(this, \"IO Error opening file to load board!\", ex);", "author": "Windchild292", "createdAt": "2020-09-26T13:15:42Z", "path": "megamek/src/megamek/common/Board.java", "diffHunk": "@@ -956,16 +951,10 @@ public void load(final String filename) {\n      */\n     @Override\n     public void load(final File filepath) {\n-        // load a board\n-        try {\n-            java.io.InputStream is = new FileInputStream(filepath);\n-            // tell the board to load!\n+        try (InputStream is = new FileInputStream(filepath)) {\n             load(is);\n-            // okay, done!\n-            is.close();\n-        } catch (java.io.IOException ex) {\n-            System.err.println(\"error opening file to load board!\");\n-            System.err.println(ex);\n+        } catch (IOException ex) {\n+            MegaMek.getLogger().error(this, \"IO Error opening file to load board! \" + ex);", "originalCommit": "9e441c21801615319e5065ad967890ce797689fc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1OTUzOQ==", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495459539", "bodyText": "I just replicated what was done before without much thought. Didn't even notice that ex was the exception, not a message... I'll change it.", "author": "SJuliez", "createdAt": "2020-09-26T14:00:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NTg2Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ1NjQzMg==", "url": "https://github.com/MegaMek/megamek/pull/2252#discussion_r495456432", "bodyText": "Same error message twice in the same method without a way to tell them apart, which could cause issues in the future.", "author": "Windchild292", "createdAt": "2020-09-26T13:22:35Z", "path": "megamek/src/megamek/common/Board.java", "diffHunk": "@@ -1093,10 +1075,10 @@ public void load(InputStream is, StringBuffer errBuff, boolean continueLoadOnErr\n         if (isValid(nd, nw, nh, errBuff) && ((nw > 1) || (nh > 1) || (di == (nw * nh)))) {\n             newData(nw, nh, nd, errBuff);\n         } else if (continueLoadOnError && ((nw > 1) || (nh > 1) || (di == (nw * nh)))) {\n-            System.err.println(\"Error reading board, data invalid.\");\n+            MegaMek.getLogger().error(this, \"Invalid board data!\");\n             newData(nw, nh, nd, errBuff);\n         } else if (errBuff == null){\n-            System.err.println(\"Error reading board, data invalid.\");\n+            MegaMek.getLogger().error(this, \"Invalid board data!\");", "originalCommit": "9e441c21801615319e5065ad967890ce797689fc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}