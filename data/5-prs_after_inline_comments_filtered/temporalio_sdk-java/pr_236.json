{"pr_number": 236, "pr_title": "Remove reset sticky call from cache invalidation", "pr_createdAt": "2020-10-29T22:25:48Z", "pr_url": "https://github.com/temporalio/sdk-java/pull/236", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDY2MzQ4NQ==", "url": "https://github.com/temporalio/sdk-java/pull/236#discussion_r514663485", "bodyText": "Do we need this call if this is the task with the full history?", "author": "mfateev", "createdAt": "2020-10-30T01:23:31Z", "path": "temporal-sdk/src/main/java/io/temporal/internal/replay/ReplayWorkflowTaskHandler.java", "diffHunk": "@@ -216,6 +217,14 @@ private Result handleWorkflowTaskWithEmbeddedQuery(\n \n       if (stickyTaskQueueName != null) {\n         cache.invalidate(execution, metricsScope);\n+        // Execute asynchronously", "originalCommit": "116e89dec67994e094161341ad4263ad8732147e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDc5MDA2Mw==", "url": "https://github.com/temporalio/sdk-java/pull/236#discussion_r514790063", "bodyText": "Added a check.", "author": "vitarb", "createdAt": "2020-10-30T03:39:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDY2MzQ4NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDc3Njg5Ng==", "url": "https://github.com/temporalio/sdk-java/pull/236#discussion_r514776896", "bodyText": "Add comment to explain why it is async", "author": "mfateev", "createdAt": "2020-10-30T03:27:31Z", "path": "temporal-sdk/src/main/java/io/temporal/internal/replay/ReplayWorkflowTaskHandler.java", "diffHunk": "@@ -227,6 +234,16 @@ private Result handleWorkflowTaskWithEmbeddedQuery(\n     }\n   }\n \n+  private void resetStickyTaskList(WorkflowExecution execution) {\n+    service", "originalCommit": "182234106c67f57d32bb775ff6ad177c6e85535f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9f020593b79261a74ce9834a7b012362ca02c3aa", "url": "https://github.com/temporalio/sdk-java/commit/9f020593b79261a74ce9834a7b012362ca02c3aa", "message": "Remove reset sticky call from cache invalidation", "committedDate": "2020-10-30T03:48:13Z", "type": "commit"}, {"oid": "bbef9a581aaa5d701682a3f9e5b4e2607dd04273", "url": "https://github.com/temporalio/sdk-java/commit/bbef9a581aaa5d701682a3f9e5b4e2607dd04273", "message": "extract method", "committedDate": "2020-10-30T03:48:13Z", "type": "commit"}, {"oid": "bd7cf1c2883f82227dbf7f02ba67d44b9fe3ccc5", "url": "https://github.com/temporalio/sdk-java/commit/bd7cf1c2883f82227dbf7f02ba67d44b9fe3ccc5", "message": "Avoid doing reset sticky when history if full", "committedDate": "2020-10-30T03:48:13Z", "type": "commit"}, {"oid": "bd7cf1c2883f82227dbf7f02ba67d44b9fe3ccc5", "url": "https://github.com/temporalio/sdk-java/commit/bd7cf1c2883f82227dbf7f02ba67d44b9fe3ccc5", "message": "Avoid doing reset sticky when history if full", "committedDate": "2020-10-30T03:48:13Z", "type": "forcePushed"}]}