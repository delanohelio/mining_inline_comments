{"pr_number": 556, "pr_title": "Fix shared poller's buffer", "pr_createdAt": "2020-02-25T06:23:02Z", "pr_url": "https://github.com/hashgraph/hedera-mirror-node/pull/556", "timeline": [{"oid": "149815f0c8dfccaffa8cef06f2853cf2836fb189", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/149815f0c8dfccaffa8cef06f2853cf2836fb189", "message": "Fix shared poller's buffer\n\nSigned-off-by: Steven Sheehy <steven.sheehy@hedera.com>", "committedDate": "2020-02-25T06:19:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkyMTQ2Mg==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/556#discussion_r383921462", "bodyText": "If we don't already have it we should add a test that confirms the filled buffer plays back multiple times to new subscribers and maybe one that plays back along with some new messages.\nBasically to confirm that the buffer contents update each time and play back as expected", "author": "Nana-EC", "createdAt": "2020-02-25T14:43:33Z", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/listener/SharedPollingTopicListenerTest.java", "diffHunk": "@@ -98,4 +98,26 @@ void multipleSubscribers() {\n                 .thenCancel()\n                 .verify(Duration.ofMillis(100));\n     }\n+\n+    @Test\n+    void bufferFilled() {", "originalCommit": "149815f0c8dfccaffa8cef06f2853cf2836fb189", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzk0Nzk4NA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/556#discussion_r383947984", "bodyText": "We have a multi-subscriber test, but could probably get more involved. Will add more tests in a future PR", "author": "steven-sheehy", "createdAt": "2020-02-25T15:23:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkyMTQ2Mg=="}], "type": "inlineReview"}]}