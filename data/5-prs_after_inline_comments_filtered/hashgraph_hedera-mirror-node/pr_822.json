{"pr_number": 822, "pr_title": "Containerize acceptance tests", "pr_createdAt": "2020-06-11T16:03:46Z", "pr_url": "https://github.com/hashgraph/hedera-mirror-node/pull/822", "timeline": [{"oid": "d2c9dd3b4f64266d11e0604b05d0c9884e5ca2ca", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/d2c9dd3b4f64266d11e0604b05d0c9884e5ca2ca", "message": "Add aggregate-third-party-report logic\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-11T21:24:16Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyODYzMg==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/822#discussion_r440328632", "bodyText": "Very hard to read. Please move rate calculation to variables for clarity.", "author": "steven-sheehy", "createdAt": "2020-06-15T17:19:49Z", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/result/HCSSamplerResult.java", "diffHunk": "@@ -74,10 +88,17 @@ public void onNext(T result) {\n \n     public void onComplete() {\n         String errorMessage = subscribeError == null ? \"\" : subscribeError.getMessage();\n-        log.info(\"Observed {} historic and {} incoming messages in {} ({}/s). Last message received {} ago. {}\",\n-                historicalMessageCount,\n-                incomingMessageCount, stopwatch, getMessageRate(), lastMessage, success ? \"Success\" :\n+        log.info(\"Observed {} total messages in {} ({}/s). Last message received {} ago. {}.\",\n+                getTotalMessageCount(), totalStopwatch, String\n+                        .format(\"%.02f\", getMessageRate(getTotalMessageCount(), totalStopwatch)), lastMessage,", "originalCommit": "386bc0cdde6000df3c500a0f291fc04c638a07b8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTkyNTU3NA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/822#discussion_r441925574", "bodyText": "Done", "author": "Nana-EC", "createdAt": "2020-06-18T01:57:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMyODYzMg=="}], "type": "inlineReview"}, {"oid": "978e9b1695a622d8b4b9db98fabd7dc216237bd9", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/978e9b1695a622d8b4b9db98fabd7dc216237bd9", "message": "Added base docker file with account balancecheck entrypoint\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:41Z", "type": "commit"}, {"oid": "c81f11e6d1d40c9eca03f1dac5566d973fff5301", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/c81f11e6d1d40c9eca03f1dac5566d973fff5301", "message": "Moved test run to bash script for more options\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:41Z", "type": "commit"}, {"oid": "80f9db70fb031bfdd0d95ee19b44aaf67e825c75", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/80f9db70fb031bfdd0d95ee19b44aaf67e825c75", "message": "Go with junit-platform-console-standalone and copy target with deps to DOcker Image\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:42Z", "type": "commit"}, {"oid": "0734d3f6949696cf1ea916a7321199c83383a1a6", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/0734d3f6949696cf1ea916a7321199c83383a1a6", "message": "cleaned up dependency generation\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:42Z", "type": "commit"}, {"oid": "50a0112694009a400289b259f8b30789174d9fdf", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/50a0112694009a400289b259f8b30789174d9fdf", "message": "Switched back to maven and github pull approach\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:42Z", "type": "commit"}, {"oid": "c44b0e8e1632ea678e29db94e684696d5c0aae00", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/c44b0e8e1632ea678e29db94e684696d5c0aae00", "message": "Moved Dockerfile to base dir and added to maven flow\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:42Z", "type": "commit"}, {"oid": "7dc12de698780a2d83b495b9ff281af9e4bfa825", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/7dc12de698780a2d83b495b9ff281af9e4bfa825", "message": "Added 3rd party license report\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:42Z", "type": "commit"}, {"oid": "d96a4ddf9bb24161602d68c527156fb4122ea5a0", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/d96a4ddf9bb24161602d68c527156fb4122ea5a0", "message": "Remove thrid party report\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:42Z", "type": "commit"}, {"oid": "e2882d5a169f40708fa8b3c7007b198f9f69a925", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/e2882d5a169f40708fa8b3c7007b198f9f69a925", "message": "Add aggregate-third-party-report logic\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "ed53e3144a41f4e48574a5440d5c40b201149010", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/ed53e3144a41f4e48574a5440d5c40b201149010", "message": "Add image cleanup logic for test images\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "07f5911ae710b26e87cc56724532eaa8ee4072d7", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/07f5911ae710b26e87cc56724532eaa8ee4072d7", "message": "Set bacth mode\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "1ed84e5aa1919781cab8e777e2c2522f5305957e", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/1ed84e5aa1919781cab8e777e2c2522f5305957e", "message": "Added support for subscribe x seconds ago for  historic and incoming subscribe\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "5ede725f806c74e94cdadafd388b637e22886c40", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/5ede725f806c74e94cdadafd388b637e22886c40", "message": "Improves logging for subscribe perf scenario and avoids jmeter report folder issue when no clean is done\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "6d33f7305f841cee88f442181fd427a4ad0712e1", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/6d33f7305f841cee88f442181fd427a4ad0712e1", "message": " Fix subscribe logic failure due to stopwatch\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "c530ceda1e3ac69b7a34aa5515574eb1527e121f", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/c530ceda1e3ac69b7a34aa5515574eb1527e121f", "message": "Wrap stopwatch stops to prevent errors\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "4072f7135409716cf0515b71b4f5cee913136d85", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/4072f7135409716cf0515b71b4f5cee913136d85", "message": "Improved rate accuracy calculation\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "44c9461d858661dd3ff185530c20ae49fd8a011b", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/44c9461d858661dd3ff185530c20ae49fd8a011b", "message": "Added comment for netty downgrade\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:03:43Z", "type": "commit"}, {"oid": "8336f9555d32983211ebe96e40e2ab6a2ecbe8cd", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/8336f9555d32983211ebe96e40e2ab6a2ecbe8cd", "message": "Added base docker file with account balancecheck entrypoint\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:04:17Z", "type": "commit"}, {"oid": "1e866b0e61fb366906311d688b3efaa4b3c760a6", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/1e866b0e61fb366906311d688b3efaa4b3c760a6", "message": "Moved test run to bash script for more options\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:04:17Z", "type": "commit"}, {"oid": "26a1a9d704f52ae68476921972e14ba0eceb6b94", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/26a1a9d704f52ae68476921972e14ba0eceb6b94", "message": "Go with junit-platform-console-standalone and copy target with deps to DOcker Image\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:04:17Z", "type": "commit"}, {"oid": "432e126ff7a1a007e9fcc29b267c28273da5da33", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/432e126ff7a1a007e9fcc29b267c28273da5da33", "message": "cleaned up dependency generation\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:04:17Z", "type": "commit"}, {"oid": "dee058ffe3e5b9ee72428d683389e381def9ff13", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/dee058ffe3e5b9ee72428d683389e381def9ff13", "message": "Switched back to maven and github pull approach\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:04:17Z", "type": "commit"}, {"oid": "b3f7a4fc138f38861b957ecba55787b6b29df0f7", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/b3f7a4fc138f38861b957ecba55787b6b29df0f7", "message": "Moved Dockerfile to base dir and added to maven flow\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:05:36Z", "type": "commit"}, {"oid": "3120aabc9ea76af394ea38a520d02bbda18a01c2", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/3120aabc9ea76af394ea38a520d02bbda18a01c2", "message": "Added 3rd party license report\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:05:36Z", "type": "commit"}, {"oid": "1ad438c603e8d59daf6e717e8a9a92de753a8908", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/1ad438c603e8d59daf6e717e8a9a92de753a8908", "message": "Remove thrid party report\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:05:36Z", "type": "commit"}, {"oid": "76a24f3729ba0f3cba9fdbeb89d3a3808390e30a", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/76a24f3729ba0f3cba9fdbeb89d3a3808390e30a", "message": "Set bacth mode\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:05:53Z", "type": "commit"}, {"oid": "931932aa1088743a02b50149dbd19dcece76b145", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/931932aa1088743a02b50149dbd19dcece76b145", "message": "Improves logging for subscribe perf scenario and avoids jmeter report folder issue when no clean is done\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:08:33Z", "type": "commit"}, {"oid": "f7d5debaa7546d11c75dd6753e79e7e66f2062e7", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/f7d5debaa7546d11c75dd6753e79e7e66f2062e7", "message": "Move license logic to test module\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:08:33Z", "type": "commit"}, {"oid": "dcc858aa6722734cacc118b27fbd6af878fa57c9", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/dcc858aa6722734cacc118b27fbd6af878fa57c9", "message": "Moved docker containerization to test module\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:08:33Z", "type": "commit"}, {"oid": "8e29b630398e7b8bd490ef5a4e7024b1d10dc359", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/8e29b630398e7b8bd490ef5a4e7024b1d10dc359", "message": "Added logic to print status every 1 min in perf tests\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:08:33Z", "type": "commit"}, {"oid": "33c98d447482c6a83755bcc9f3a3997776fdcaca", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/33c98d447482c6a83755bcc9f3a3997776fdcaca", "message": " Correct grc tag\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:08:33Z", "type": "commit"}, {"oid": "33c98d447482c6a83755bcc9f3a3997776fdcaca", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/33c98d447482c6a83755bcc9f3a3997776fdcaca", "message": " Correct grc tag\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:08:33Z", "type": "forcePushed"}, {"oid": "c4e23bcd295086f5d576482a24f74f94a33422c3", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/c4e23bcd295086f5d576482a24f74f94a33422c3", "message": "Fix rebase conflict\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T02:21:39Z", "type": "commit"}, {"oid": "3c9e5cdfdf4d1137c532fa5f85e237ebba877365", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/3c9e5cdfdf4d1137c532fa5f85e237ebba877365", "message": "Resolve license download issues\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T17:39:42Z", "type": "commit"}, {"oid": "8f369bd32b1d438c1796325cac2da61ced153ade", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/8f369bd32b1d438c1796325cac2da61ced153ade", "message": "Fixed dependency naming for xpp3\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-18T17:43:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ4MjkwOA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/822#discussion_r442482908", "bodyText": "scheduler is null at this point resulting in a NPE, right?", "author": "steven-sheehy", "createdAt": "2020-06-18T20:25:43Z", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/HCSDirectStubTopicSampler.java", "diffHunk": "@@ -109,19 +110,20 @@ public void onCompleted() {\n                 result.onComplete();\n             }\n         };\n+        ScheduledExecutorService scheduler = null;\n \n         try {\n             asyncStub.subscribeTopic(request, responseObserver);\n+            scheduler.scheduleAtFixedRate(() -> {", "originalCommit": "8f369bd32b1d438c1796325cac2da61ced153ade", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzMxMzY2OA==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/822#discussion_r443313668", "bodyText": "Fixed", "author": "Nana-EC", "createdAt": "2020-06-22T04:40:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ4MjkwOA=="}], "type": "inlineReview"}, {"oid": "2af763d6e83283609d2ba967e40c6f00367688d5", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/2af763d6e83283609d2ba967e40c6f00367688d5", "message": "Addressed feedback on files locations and license replace logic\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-22T04:38:47Z", "type": "commit"}, {"oid": "a32622b80b64cacbfd18c1c88ca7b84f3dc8cfdd", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/a32622b80b64cacbfd18c1c88ca7b84f3dc8cfdd", "message": "Moved docker file and updated documentation\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>", "committedDate": "2020-06-22T15:06:11Z", "type": "commit"}]}