{"pr_number": 763, "pr_title": "Set default topicRunningHashV2AddedTimestamp based on network", "pr_createdAt": "2020-05-15T20:02:31Z", "pr_url": "https://github.com/hashgraph/hedera-mirror-node/pull/763", "timeline": [{"oid": "0f1f7c338832230f305c680944c9e06eb73dbf79", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/0f1f7c338832230f305c680944c9e06eb73dbf79", "message": "Set default topicRunningHashV2AddedTimestamp based on network\n\nSigned-off-by: Apekshit Sharma <apekshit.sharma@hedera.com>", "committedDate": "2020-05-15T19:52:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjAzNjgxNQ==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/763#discussion_r426036815", "bodyText": "I would prefer we hardcode the mainnet time for mainnet deploy that is currently scheduled on status.hedera.com for Thursday, May 21st, at 17:00 UTC. We can always update it later if it changes.\nWe wanted it to fail fast on deploy to mainnet, but the version that we will actually deploy to mainnet that runs this patch will be 0.10.1 anyway and that will fail fast if this is not populated. So we are fine with a possibly inaccurate timestamp for mainnet for 0.12.x.", "author": "steven-sheehy", "createdAt": "2020-05-15T20:41:09Z", "path": "hedera-mirror-importer/src/main/java/com/hedera/mirror/importer/config/MirrorImporterConfiguration.java", "diffHunk": "@@ -103,6 +110,25 @@ AwsCredentialsProvider awsCredentialsProvider(CommonDownloaderProperties downloa\n         return awsCredentials;\n     }\n \n+    @Bean\n+    FlywayConfigurationCustomizer flywayConfigurationCustomizer() {\n+        return configuration -> {\n+            Long timestamp = mirrorProperties.getTopicRunningHashV2AddedTimestamp();\n+            if (timestamp == null) {\n+                if (mirrorProperties.getNetwork() == HederaNetwork.MAINNET) {\n+                    throw new IllegalArgumentException(\"topicRunningHashV2AddedTimestamp is unknown for MAINNET. To \" +", "originalCommit": "0f1f7c338832230f305c680944c9e06eb73dbf79", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA1NTQ1OQ==", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/763#discussion_r426055459", "bodyText": "Updated timestamp to mainnet release time.\nAm not worried about us. We know all about it.\nJust that, I don't want anyone to have corrupt data if they upgrade from before 0.10.0  to 0.12.x. Also BRD has its wanted fix in 0.12.x too.\nAs long as we put right timestamp in 0.12.0, even if it means delaying release a couple days, it's good.", "author": "apeksharma", "createdAt": "2020-05-15T21:28:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjAzNjgxNQ=="}], "type": "inlineReview"}, {"oid": "b1449d5bfdf17e7a9ec1d684cdd4d6e188ac0669", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/b1449d5bfdf17e7a9ec1d684cdd4d6e188ac0669", "message": "hard code mainnet time\n\nSigned-off-by: Apekshit Sharma <apekshit.sharma@hedera.com>", "committedDate": "2020-05-15T21:18:24Z", "type": "commit"}, {"oid": "9382e1d5e165b0ee7b75fc5516279786131d494b", "url": "https://github.com/hashgraph/hedera-mirror-node/commit/9382e1d5e165b0ee7b75fc5516279786131d494b", "message": "address review\n\nSigned-off-by: Apekshit Sharma <apekshit.sharma@hedera.com>", "committedDate": "2020-05-16T09:07:17Z", "type": "commit"}]}