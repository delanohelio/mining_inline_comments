{"pr_number": 2692, "pr_title": "healthcare API: update remaining dicom/ and hl7v2/ files from v1beta1 to v1", "pr_createdAt": "2020-04-20T18:31:30Z", "pr_url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2692", "timeline": [{"oid": "d8e6e591f71ecb627f2509943a0cba577caa0b9b", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/d8e6e591f71ecb627f2509943a0cba577caa0b9b", "message": "healthcare API: update remaining dicom/ and hl7v2/ files from v1beta1 to v1", "committedDate": "2020-04-20T18:29:32Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1NTIzNQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2692#discussion_r411655235", "bodyText": "Copy / paste nit, duplicate comment", "author": "gguuss", "createdAt": "2020-04-20T20:04:20Z", "path": "healthcare/v1/src/main/java/snippets/healthcare/dicom/DicomStoreImport.java", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright 2019 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package snippets.healthcare.dicom;\n+\n+// [START healthcare_import_dicom_instance]\n+import com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\n+import com.google.api.client.http.HttpHeaders;\n+import com.google.api.client.http.HttpRequestInitializer;\n+import com.google.api.client.http.javanet.NetHttpTransport;\n+import com.google.api.client.json.JsonFactory;\n+import com.google.api.client.json.jackson2.JacksonFactory;\n+import com.google.api.services.healthcare.v1.CloudHealthcare;\n+import com.google.api.services.healthcare.v1.CloudHealthcare.Projects.Locations.Datasets.DicomStores;\n+import com.google.api.services.healthcare.v1.CloudHealthcareScopes;\n+import com.google.api.services.healthcare.v1.model.GoogleCloudHealthcareV1DicomGcsSource;\n+import com.google.api.services.healthcare.v1.model.ImportDicomDataRequest;\n+import com.google.api.services.healthcare.v1.model.Operation;\n+import java.io.IOException;\n+import java.util.Collections;\n+\n+public class DicomStoreImport {\n+  private static final String DICOM_NAME = \"projects/%s/locations/%s/datasets/%s/dicomStores/%s\";\n+  private static final JsonFactory JSON_FACTORY = new JacksonFactory();\n+  private static final NetHttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n+\n+  public static void dicomStoreImport(String dicomStoreName, String gcsUri) throws IOException {\n+    // String dicomStoreName =\n+    //    String.format(\n+    //        DICOM_NAME, \"your-project-id\", \"your-region-id\", \"your-dataset-id\", \"your-dicom-id\");\n+    // String gcsUri = \"gs://your-bucket-id/path/to/destination/dir\"\n+\n+    // Initialize the client, which will be used to interact with the service.\n+    CloudHealthcare client = createClient();\n+\n+    // Configure where the store should be imported from.\n+    GoogleCloudHealthcareV1DicomGcsSource gcsSource =\n+        new GoogleCloudHealthcareV1DicomGcsSource().setUri(gcsUri);\n+    ImportDicomDataRequest importRequest = new ImportDicomDataRequest().setGcsSource(gcsSource);\n+\n+    // Create request and configure any parameters.\n+    DicomStores.CloudHealthcareImport request =\n+        client\n+            .projects()\n+            .locations()\n+            .datasets()\n+            .dicomStores()\n+            .healthcareImport(dicomStoreName, importRequest);\n+\n+    // Execute the request, wait for the operation to complete, and process the results.", "originalCommit": "d8e6e591f71ecb627f2509943a0cba577caa0b9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTcyMzg2Mw==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2692#discussion_r411723863", "bodyText": "Done.", "author": "noerog", "createdAt": "2020-04-20T22:06:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1NTIzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1NTUyNQ==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2692#discussion_r411655525", "bodyText": "If it's a new file, 2020.", "author": "gguuss", "createdAt": "2020-04-20T20:04:49Z", "path": "healthcare/v1/src/main/java/snippets/healthcare/dicom/DicomStoreList.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/*\n+ * Copyright 2019 Google LLC", "originalCommit": "d8e6e591f71ecb627f2509943a0cba577caa0b9b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTcyMzg1MA==", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2692#discussion_r411723850", "bodyText": "The OSS team said that if you're just moving a file, then you keep the original copyright date. I don't know the particulars of whether copying a file into a new directory constitutes \"moving\", wdyt?", "author": "noerog", "createdAt": "2020-04-20T22:06:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTY1NTUyNQ=="}], "type": "inlineReview"}, {"oid": "229eb2d3eccf00c83bf44cd74f995bab5e4a9847", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/229eb2d3eccf00c83bf44cd74f995bab5e4a9847", "message": "fix nit", "committedDate": "2020-04-20T22:05:39Z", "type": "commit"}]}