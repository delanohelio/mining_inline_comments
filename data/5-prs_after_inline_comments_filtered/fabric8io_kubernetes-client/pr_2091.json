{"pr_number": 2091, "pr_title": "add filter node metrics via labels", "pr_createdAt": "2020-03-26T02:19:21Z", "pr_url": "https://github.com/fabric8io/kubernetes-client/pull/2091", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTIyMjEwNA==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#discussion_r399222104", "bodyText": "Nit: please don't use raw types (replace with new HashMap<>()", "author": "manusa", "createdAt": "2020-03-27T12:14:53Z", "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/dsl/internal/NodeMetricOperationsTest.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package io.fabric8.kubernetes.client.dsl.internal;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+\n+import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetricsList;\n+\n+public class NodeMetricOperationsTest {\n+\n+\tprivate DefaultKubernetesClient defaultKubernetesClient;\n+\n+\t@BeforeEach\n+\tpublic void setUp() {\n+\t\tdefaultKubernetesClient = new DefaultKubernetesClient();\n+\t}\n+\n+\t@AfterEach\n+\tpublic void tearDown() {\n+\t\tdefaultKubernetesClient.close();\n+\t\tdefaultKubernetesClient = null;\n+\t}\n+\n+\tpublic void testGetMetricsViaLabl() {\n+\t\tMap<String,Object> lablesMap = new HashMap();", "originalCommit": "a941fb544e770ccf0c1dcf5b710058959c0dad5a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTIyMjUwNA==", "url": "https://github.com/fabric8io/kubernetes-client/pull/2091#discussion_r399222504", "bodyText": "What's the test testing exactly, what would be the output of\nNodeMetricsList nodeMetricList = defaultKubernetesClient.top().nodes().metrics();\nnodeMetricList.getItems().size() // ??", "author": "manusa", "createdAt": "2020-03-27T12:15:46Z", "path": "kubernetes-client/src/test/java/io/fabric8/kubernetes/client/dsl/internal/NodeMetricOperationsTest.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package io.fabric8.kubernetes.client.dsl.internal;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.junit.jupiter.api.AfterEach;\n+import org.junit.jupiter.api.BeforeEach;\n+\n+import io.fabric8.kubernetes.api.model.metrics.v1beta1.NodeMetricsList;\n+\n+public class NodeMetricOperationsTest {\n+\n+\tprivate DefaultKubernetesClient defaultKubernetesClient;\n+\n+\t@BeforeEach\n+\tpublic void setUp() {\n+\t\tdefaultKubernetesClient = new DefaultKubernetesClient();\n+\t}\n+\n+\t@AfterEach\n+\tpublic void tearDown() {\n+\t\tdefaultKubernetesClient.close();\n+\t\tdefaultKubernetesClient = null;\n+\t}\n+\n+\tpublic void testGetMetricsViaLabl() {\n+\t\tMap<String,Object> lablesMap = new HashMap();\n+\t\tlablesMap.put(\"ss\", \"true\");\n+\t\tlablesMap.put(\"cs\", \"true\");\n+\t\tNodeMetricsList nodeMetricList = defaultKubernetesClient.top().nodes().metrics(lablesMap);", "originalCommit": "a941fb544e770ccf0c1dcf5b710058959c0dad5a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "cdcdecbc8ee96010d744af5c2b1fe9b3fb5bdb2e", "url": "https://github.com/fabric8io/kubernetes-client/commit/cdcdecbc8ee96010d744af5c2b1fe9b3fb5bdb2e", "message": "add filter node metrics via labels", "committedDate": "2020-04-02T05:35:10Z", "type": "commit"}, {"oid": "80bcae6b47115ef2a04e3602f180ee9079dab5d3", "url": "https://github.com/fabric8io/kubernetes-client/commit/80bcae6b47115ef2a04e3602f180ee9079dab5d3", "message": "add filter node metrics via labels", "committedDate": "2020-04-02T05:35:10Z", "type": "commit"}, {"oid": "32b28acb48b22000293adb35066eda89218c2d77", "url": "https://github.com/fabric8io/kubernetes-client/commit/32b28acb48b22000293adb35066eda89218c2d77", "message": "add filter node metrics via labels unit test and update changelog", "committedDate": "2020-04-02T05:40:03Z", "type": "commit"}, {"oid": "dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "url": "https://github.com/fabric8io/kubernetes-client/commit/dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "message": "Added a test for fetching Node Metrics with labels", "committedDate": "2020-04-02T06:35:53Z", "type": "commit"}, {"oid": "dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "url": "https://github.com/fabric8io/kubernetes-client/commit/dfb27ba2c5e9d36babed2efa11d4e2f7ca2c7d25", "message": "Added a test for fetching Node Metrics with labels", "committedDate": "2020-04-02T06:35:53Z", "type": "forcePushed"}]}