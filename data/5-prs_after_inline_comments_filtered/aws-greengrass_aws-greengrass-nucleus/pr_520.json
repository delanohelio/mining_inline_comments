{"pr_number": 520, "pr_title": "Use the existing \"parameters\" as new configuration's kernel config ke\u2026", "pr_createdAt": "2020-10-13T06:24:26Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520", "timeline": [{"oid": "5c3f9cb065b5caa453246bdb64742eefe3d113c0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/5c3f9cb065b5caa453246bdb64742eefe3d113c0", "message": "Use the existing \"parameters\" as new configuration's kernel config key to keep functionality working", "committedDate": "2020-10-13T06:23:51Z", "type": "commit"}, {"oid": "06bfaf80bbefeed8d4b7d34d57d3113ea52d5464", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/06bfaf80bbefeed8d4b7d34d57d3113ea52d5464", "message": "checkstyle", "committedDate": "2020-10-13T07:00:04Z", "type": "commit"}, {"oid": "89dc0f83c69e62eec2a9a6d27e7bebae06f3c891", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/89dc0f83c69e62eec2a9a6d27e7bebae06f3c891", "message": "need to merge for backward compatibility", "committedDate": "2020-10-13T15:50:26Z", "type": "commit"}, {"oid": "1eb44c008026ba43d4d65f9704211eb964569655", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1eb44c008026ba43d4d65f9704211eb964569655", "message": "Merge branch 'master' into component_config_kernel_key", "committedDate": "2020-10-13T16:27:01Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA5MzI2NA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#discussion_r504093264", "bodyText": "not sure I understand this change, shouldn't you just remove CONFIGURATION_CONFIG_KEY and replace all usages of it with the PARAMETERS_CONFIG_KEY?", "author": "MikeDombo", "createdAt": "2020-10-13T16:28:52Z", "path": "src/main/java/com/aws/greengrass/builtin/services/cli/CLIServiceAgent.java", "diffHunk": "@@ -115,13 +114,9 @@ public GetComponentDetailsResponse getComponentDetails(GetComponentDetailsReques\n         if (service.getServiceConfig().find(VERSION_CONFIG_KEY) != null) {\n             componentDetails.setVersion(Coerce.toString(service.getServiceConfig().find(VERSION_CONFIG_KEY).getOnce()));\n         }\n-        if (service.getServiceConfig().findInteriorChild(PARAMETERS_CONFIG_KEY) != null) {\n-            componentDetails\n-                    .setConfiguration(service.getServiceConfig().findInteriorChild(PARAMETERS_CONFIG_KEY).toPOJO());\n-        }\n         if (service.getServiceConfig().findInteriorChild(CONFIGURATION_CONFIG_KEY) != null) {\n-            componentDetails.setNestedConfiguration(\n-                    service.getServiceConfig().findInteriorChild(CONFIGURATION_CONFIG_KEY).toPOJO());\n+            componentDetails\n+                    .setConfiguration(service.getServiceConfig().findInteriorChild(CONFIGURATION_CONFIG_KEY).toPOJO());", "originalCommit": "1eb44c008026ba43d4d65f9704211eb964569655", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDEwMTI2Mg==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#discussion_r504101262", "bodyText": "hah this is just so that you and others don't need to rollback for changed plugins :p", "author": "leaf94", "createdAt": "2020-10-13T16:38:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA5MzI2NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDEyMDcwOQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#discussion_r504120709", "bodyText": "quick question about the TODO. what will be renamed?", "author": "youtuyy", "createdAt": "2020-10-13T17:07:31Z", "path": "src/main/java/com/aws/greengrass/componentmanager/KernelConfigResolver.java", "diffHunk": "@@ -56,7 +56,9 @@\n     public static final String VERSION_CONFIG_KEY = \"version\";\n     public static final String PREV_VERSION_CONFIG_KEY = \"previousVersion\";\n     public static final String PARAMETERS_CONFIG_KEY = \"parameters\";\n-    public static final String CONFIGURATION_CONFIG_KEY = \"configuration\";\n+\n+    // for easier migration. TODO rename after removing param.\n+    public static final String CONFIGURATION_CONFIG_KEY = \"parameters\";", "originalCommit": "1eb44c008026ba43d4d65f9704211eb964569655", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDEyOTMyNw==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/520#discussion_r504129327", "bodyText": "Rename the configuration's kernel config key to \"configuration\" as that's more correct than \"parameters\"", "author": "leaf94", "createdAt": "2020-10-13T17:21:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDEyMDcwOQ=="}], "type": "inlineReview"}]}