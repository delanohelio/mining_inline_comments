{"pr_number": 278, "pr_title": "M1 demo merge back", "pr_createdAt": "2020-06-11T16:16:04Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278", "timeline": [{"oid": "1c4cba3bd31e3ca86e9d0d880106029c33cfc7e3", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1c4cba3bd31e3ca86e9d0d880106029c33cfc7e3", "message": "initial", "committedDate": "2020-05-29T16:43:02Z", "type": "commit"}, {"oid": "66031afb465c65dbd47e5170b6067ed90019127e", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/66031afb465c65dbd47e5170b6067ed90019127e", "message": "initial", "committedDate": "2020-05-29T16:43:58Z", "type": "commit"}, {"oid": "d6b2f318dcff309eb74bfe621a660c131a4bf421", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/d6b2f318dcff309eb74bfe621a660c131a4bf421", "message": "initial", "committedDate": "2020-05-29T16:44:19Z", "type": "commit"}, {"oid": "50d9a5bb7f73f0bd04e8dd395f3788ddd201f4ab", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/50d9a5bb7f73f0bd04e8dd395f3788ddd201f4ab", "message": "Add Stream Manager component", "committedDate": "2020-05-29T17:42:23Z", "type": "commit"}, {"oid": "ff185466ad98ce599cc3fd4115fd0191d3e79634", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ff185466ad98ce599cc3fd4115fd0191d3e79634", "message": "Add instruction for using Stream Manager component", "committedDate": "2020-05-29T18:24:18Z", "type": "commit"}, {"oid": "579ca0bbb1045c243de3dbdf5246716b7c76ac7e", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/579ca0bbb1045c243de3dbdf5246716b7c76ac7e", "message": "Add first yaml of packages", "committedDate": "2020-05-29T19:15:49Z", "type": "commit"}, {"oid": "b671034752c6645ab7f5bdb78cdec97a3dcd433b", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b671034752c6645ab7f5bdb78cdec97a3dcd433b", "message": "Merge branch 'master' into m1-demo", "committedDate": "2020-05-29T21:20:45Z", "type": "commit"}, {"oid": "93b0656864951d5c137ed169b8eb5167314a2389", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/93b0656864951d5c137ed169b8eb5167314a2389", "message": "rename MyObjectDetectionApp", "committedDate": "2020-05-29T21:28:40Z", "type": "commit"}, {"oid": "48c7d7559cd8a9766457a4cd3562ac06d76cc4fa", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/48c7d7559cd8a9766457a4cd3562ac06d76cc4fa", "message": "Add safetToUpdate", "committedDate": "2020-06-01T17:34:46Z", "type": "commit"}, {"oid": "4d7c215cdfb3b331422ec38e4a023dddf59d8691", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/4d7c215cdfb3b331422ec38e4a023dddf59d8691", "message": "Part 4: promote local dev app to cloud", "committedDate": "2020-06-01T18:52:01Z", "type": "commit"}, {"oid": "4330e792a171135d30a2bb72460296d4cc6c8d6b", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/4330e792a171135d30a2bb72460296d4cc6c8d6b", "message": "Add hook for tenserflow and camera\n\nAdd hook for tenserflow and camera\nAdd parameter parsing", "committedDate": "2020-06-01T18:59:40Z", "type": "commit"}, {"oid": "104df895e055d5f01861ade62765e44057b6a1b5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/104df895e055d5f01861ade62765e44057b6a1b5", "message": "Part 4: add Platforms to recipe file", "committedDate": "2020-06-01T19:13:39Z", "type": "commit"}, {"oid": "8eb8a5ca6cdea712ad765aa0d1e213b8b96408ea", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/8eb8a5ca6cdea712ad765aa0d1e213b8b96408ea", "message": "Add example config.yaml for Stream Manager", "committedDate": "2020-06-01T20:14:58Z", "type": "commit"}, {"oid": "71648ee8bd9828d034cb5c1c4295d660cdc49f1f", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/71648ee8bd9828d034cb5c1c4295d660cdc49f1f", "message": "Merge branch 'master' into m1-demo", "committedDate": "2020-06-01T21:49:46Z", "type": "commit"}, {"oid": "24d986df28e5a7777f49dd2dca906ee3de3ab097", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/24d986df28e5a7777f49dd2dca906ee3de3ab097", "message": "Add script to zip package", "committedDate": "2020-06-01T22:27:04Z", "type": "commit"}, {"oid": "80e779e74657a6c0522cb31928cea9bd47cfd952", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/80e779e74657a6c0522cb31928cea9bd47cfd952", "message": "Adding stream manager scripts for M1 demo and fixing few bugs", "committedDate": "2020-06-02T02:15:53Z", "type": "commit"}, {"oid": "91bbfb614dada52877751bf3b4cc641c5c68911e", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/91bbfb614dada52877751bf3b4cc641c5c68911e", "message": "Changing the parameter name as per the Kinesis DataAnalytics application. Adding region as environment variable to stream manager recipe", "committedDate": "2020-06-02T09:02:04Z", "type": "commit"}, {"oid": "e62a6e3289f765827ec3fe89695f0fe19d9f13e5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/e62a6e3289f765827ec3fe89695f0fe19d9f13e5", "message": "initial", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "713fb76d2df450a54af71b590caeb7f0bd415c74", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/713fb76d2df450a54af71b590caeb7f0bd415c74", "message": "initial", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "09778f1c8b3a3171a192f306778bf5c5c1b041d9", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/09778f1c8b3a3171a192f306778bf5c5c1b041d9", "message": "initial", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "00c69e6ebfa29efcd5670e17b0e524ebe729c367", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/00c69e6ebfa29efcd5670e17b0e524ebe729c367", "message": "Add Stream Manager component", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "10d7b9a4254ab4998755b8d919cb45ef338a0457", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/10d7b9a4254ab4998755b8d919cb45ef338a0457", "message": "Add instruction for using Stream Manager component", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "b41af7940424a9eb517b08549069bd36547bfdf5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b41af7940424a9eb517b08549069bd36547bfdf5", "message": "Add first yaml of packages", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "7790a496b4a579e8a0aafc7f302044c68aa5f7c8", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7790a496b4a579e8a0aafc7f302044c68aa5f7c8", "message": "rename MyObjectDetectionApp", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "0bffab0f4210d6671e7968a18d6bf860e3e256b1", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0bffab0f4210d6671e7968a18d6bf860e3e256b1", "message": "Add safetToUpdate", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "34ad022adf8474052edb21f03062f1873328377e", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/34ad022adf8474052edb21f03062f1873328377e", "message": "Part 4: promote local dev app to cloud", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "66d466125c8299b4cc946825168396434d6e6980", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/66d466125c8299b4cc946825168396434d6e6980", "message": "Add hook for tenserflow and camera\n\nAdd hook for tenserflow and camera\nAdd parameter parsing", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "b53d8f8871808f7c5677a9c8579367d3c42942b2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b53d8f8871808f7c5677a9c8579367d3c42942b2", "message": "Part 4: add Platforms to recipe file", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "b45e3e7bfca61609aa917de6f55d58c94d91dad9", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b45e3e7bfca61609aa917de6f55d58c94d91dad9", "message": "Add example config.yaml for Stream Manager", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "a5a4cd55d9dbc6b1f91ab7f1fec3ed7d4a493631", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a5a4cd55d9dbc6b1f91ab7f1fec3ed7d4a493631", "message": "Add script to zip package", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "7ea244831ffff0d2865fe41c5f311d357aca238c", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7ea244831ffff0d2865fe41c5f311d357aca238c", "message": "Adding stream manager scripts for M1 demo and fixing few bugs", "committedDate": "2020-06-02T10:08:31Z", "type": "commit"}, {"oid": "45c7c8d1d17947057dff70e3c9ef1368941e13af", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/45c7c8d1d17947057dff70e3c9ef1368941e13af", "message": "merge", "committedDate": "2020-06-02T11:03:22Z", "type": "commit"}, {"oid": "6d793c32af758e68a1a94dc907c49bcf307bb069", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/6d793c32af758e68a1a94dc907c49bcf307bb069", "message": "Add Stream manager recipe 0.9.1. This is uploaded to CMS.", "committedDate": "2020-06-02T16:28:00Z", "type": "commit"}, {"oid": "ba27ee60130317aa51a98a29d39f3d7460395651", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ba27ee60130317aa51a98a29d39f3d7460395651", "message": "Stream Manager 1.1.0 is not uploaded to CMS yet.\nComment out the artifacts within the recipe.", "committedDate": "2020-06-02T16:29:45Z", "type": "commit"}, {"oid": "193fc6a910e66c0f3d9bb17a7260fe0ce7141e81", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/193fc6a910e66c0f3d9bb17a7260fe0ce7141e81", "message": "TES auto start", "committedDate": "2020-06-02T17:40:16Z", "type": "commit"}, {"oid": "fc9fa6834ccdc4ce22ced1adb4e26648a124b6e7", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/fc9fa6834ccdc4ce22ced1adb4e26648a124b6e7", "message": "Merge branch 'm1-demo' of github.com:aws/aws-greengrass-kernel into m1-demo", "committedDate": "2020-06-02T17:41:20Z", "type": "commit"}, {"oid": "12aa0f2f6cbe6a2b329c06e7364ea3913b919ef4", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/12aa0f2f6cbe6a2b329c06e7364ea3913b919ef4", "message": "Add HomeSecurityApp", "committedDate": "2020-06-02T19:17:36Z", "type": "commit"}, {"oid": "b27501bcd5c18137c0a445a198c45b7f07bd3eab", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b27501bcd5c18137c0a445a198c45b7f07bd3eab", "message": "update stream manager instruction", "committedDate": "2020-06-02T21:06:10Z", "type": "commit"}, {"oid": "7cd72891e216a1ac260b8217cf972beef6ce78e8", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/7cd72891e216a1ac260b8217cf972beef6ce78e8", "message": "Hardcode CMS endpoint during kernel startup (#267)", "committedDate": "2020-06-03T00:02:29Z", "type": "commit"}, {"oid": "e58f5c917a7fed0fca21050dd32e98c7a5e8fe42", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/e58f5c917a7fed0fca21050dd32e98c7a5e8fe42", "message": "Merge remote-tracking branch 'origin/master' into m1-demo", "committedDate": "2020-06-03T19:00:15Z", "type": "commit"}, {"oid": "310a954f85625bab40a252023f4fe935a1872c02", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/310a954f85625bab40a252023f4fe935a1872c02", "message": "Sync all code running on the pi", "committedDate": "2020-06-03T19:06:58Z", "type": "commit"}, {"oid": "ba06c10d350b051be027e3a3430073e7156b176e", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ba06c10d350b051be027e3a3430073e7156b176e", "message": "Sync all code running on the pi", "committedDate": "2020-06-03T19:07:17Z", "type": "commit"}, {"oid": "a67c4be6241ffd5eb2865c83890d45c3d14c2dad", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a67c4be6241ffd5eb2865c83890d45c3d14c2dad", "message": "the magical activate", "committedDate": "2020-06-03T21:43:18Z", "type": "commit"}, {"oid": "bb78b426e285372eb97814b3b4389f9c15da230d", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/bb78b426e285372eb97814b3b4389f9c15da230d", "message": "recorded version", "committedDate": "2020-06-04T10:12:00Z", "type": "commit"}, {"oid": "08fbc00a04aa8cb4d12272eb8d42dd91929e5d36", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/08fbc00a04aa8cb4d12272eb8d42dd91929e5d36", "message": "Add more output in launch evergreen", "committedDate": "2020-06-05T00:20:40Z", "type": "commit"}, {"oid": "0a00b670569eeb43947aa748af1ee23976f30654", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/0a00b670569eeb43947aa748af1ee23976f30654", "message": "Update HomeSecurityApp artifacts and recipe", "committedDate": "2020-06-05T01:08:42Z", "type": "commit"}, {"oid": "ec86b33864deb1e7cd3956c63a594a4f496d1eb5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/ec86b33864deb1e7cd3956c63a594a4f496d1eb5", "message": "Merge master to fix easy script", "committedDate": "2020-06-05T06:23:41Z", "type": "commit"}, {"oid": "33b571b6d367e914f8cb91f1fa9b37863ac20775", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/33b571b6d367e914f8cb91f1fa9b37863ac20775", "message": "switch some logs to println", "committedDate": "2020-06-11T15:32:58Z", "type": "commit"}, {"oid": "a28e263fc5b6c8ccee7f9e110f95e7f305025be8", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/a28e263fc5b6c8ccee7f9e110f95e7f305025be8", "message": "Merge branch 'm1-demo' of github.com:aws/aws-greengrass-kernel into m1-demo", "committedDate": "2020-06-11T15:33:36Z", "type": "commit"}, {"oid": "1941fdadc5394e26e23a0e58422e6d5ca689bee5", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/1941fdadc5394e26e23a0e58422e6d5ca689bee5", "message": "merge origin master", "committedDate": "2020-06-11T15:46:54Z", "type": "commit"}, {"oid": "5bbfd894a37de61c8f4d2999706115b9755f32ba", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/5bbfd894a37de61c8f4d2999706115b9755f32ba", "message": "delete all m1-demo artifacts", "committedDate": "2020-06-11T15:48:04Z", "type": "commit"}, {"oid": "570beaca8b6817488f145211201923787b3092c2", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/570beaca8b6817488f145211201923787b3092c2", "message": "remove autostart for TES", "committedDate": "2020-06-11T15:54:39Z", "type": "commit"}, {"oid": "c600d440631544f6790c96436e7a89034ef56cc9", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/c600d440631544f6790c96436e7a89034ef56cc9", "message": "checkstyle", "committedDate": "2020-06-11T15:57:16Z", "type": "commit"}, {"oid": "b4451b2d91bd2122b27c4301f02aa55f1a228d85", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/b4451b2d91bd2122b27c4301f02aa55f1a228d85", "message": "Put back polling freq", "committedDate": "2020-06-11T16:11:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODEzNQ==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r438978135", "bodyText": "Don't need this anymore. Fixed in listAvailablePackageMetadata.", "author": "hui-yang", "createdAt": "2020-06-11T18:08:44Z", "path": "src/main/java/com/aws/iot/evergreen/packagemanager/PackageManager.java", "diffHunk": "@@ -91,7 +92,7 @@ public PackageManager(GreengrassRepositoryDownloader greengrassArtifactDownloade\n \n         // 2. list available packages locally\n         List<PackageMetadata> packageMetadataList =\n-                packageStore.listAvailablePackageMetadata(packageName, versionRequirement);\n+                new ArrayList<>(packageStore.listAvailablePackageMetadata(packageName, versionRequirement));", "originalCommit": "b4451b2d91bd2122b27c4301f02aa55f1a228d85", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwMzY5OA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r439003698", "bodyText": "Discussed offline. Prefer to keep this at the high level so that it's safe even if sub-methods returning immutable list. Good callout from Hui that we could leverage javadoc to indicate the @return is immutable or not.", "author": "leaf94", "createdAt": "2020-06-11T18:57:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODEzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODQxOA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r438978418", "bodyText": "Don't need this. Fixed in Ln 159", "author": "hui-yang", "createdAt": "2020-06-11T18:09:20Z", "path": "src/main/java/com/aws/iot/evergreen/packagemanager/models/PackageRecipe.java", "diffHunk": "@@ -173,7 +173,7 @@ public Semver getVersion() {\n                     }\n                 }\n \n-                if (dependencyType.isEmpty()) {\n+                if (dependencyType == null || dependencyType.isEmpty()) {", "originalCommit": "b4451b2d91bd2122b27c4301f02aa55f1a228d85", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwMjY4Ng==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/278#discussion_r439002686", "bodyText": "Done.", "author": "leaf94", "createdAt": "2020-06-11T18:55:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk3ODQxOA=="}], "type": "inlineReview"}, {"oid": "267144efeeeb926a74e7f4c967dcb1a70aee0c7e", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/267144efeeeb926a74e7f4c967dcb1a70aee0c7e", "message": "Hui's comment", "committedDate": "2020-06-11T18:54:50Z", "type": "commit"}]}