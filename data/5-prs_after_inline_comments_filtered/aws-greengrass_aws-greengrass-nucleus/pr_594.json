{"pr_number": 594, "pr_title": "Get filename from greengrass uri", "pr_createdAt": "2020-10-31T02:55:58Z", "pr_url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/594", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQ0NzMxNA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/594#discussion_r515447314", "bodyText": "Rename this test now?", "author": "shaguptashaikh", "createdAt": "2020-10-31T02:58:27Z", "path": "src/test/java/com/aws/greengrass/componentmanager/plugins/GreengrassRepositoryDownloaderTest.java", "diffHunk": "@@ -114,19 +115,15 @@ void GIVEN_http_connection_error_WHEN_attempt_download_THEN_return_exception() t\n     }\n \n     @Test\n-    void GIVEN_filename_in_disposition_WHEN_attempt_resolve_filename_THEN_parse_filename() throws Exception {\n-        String filename = downloader.extractFilename(new URL(\"https://www.amazon.com/artifact.txt\"),\n-                \"attachment; \" + \"filename=\\\"filename.jpg\\\"\");\n-\n-        assertThat(filename, is(\"filename.jpg\"));\n-    }\n-\n-    @Test\n-    void GIVEN_filename_in_url_WHEN_attempt_resolve_filename_THEN_parse_filename() throws Exception {\n-        String filename =\n-                downloader.extractFilename(new URL(\"https://www.amazon.com/artifact.txt?key=value\"), \"attachment\");\n-\n-        assertThat(filename, is(\"artifact.txt\"));\n+    void GIVEN_filename_in_disposition_WHEN_attempt_resolve_filename_THEN_parse_filename() {", "originalCommit": "7b517dc727c0c8009c96dce78274037350d8c1c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTQ0NzMyOA==", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/pull/594#discussion_r515447328", "bodyText": "Get rid of the TODO above, and from line 96", "author": "shaguptashaikh", "createdAt": "2020-10-31T02:58:48Z", "path": "src/main/java/com/aws/greengrass/componentmanager/plugins/GreengrassRepositoryDownloader.java", "diffHunk": "@@ -159,7 +130,12 @@ public File getArtifactFile(Path artifactDir, ComponentArtifact artifact, Compon\n         //  file name and that's the accurate name, but here we're only using the scheme specific part\n         //  of the URI when we don't find the file in cloud, we need to follow up on what is the\n         //  right way to get file name\n-        return artifactDir.resolve(artifact.getArtifactUri().getSchemeSpecificPart()).toFile();", "originalCommit": "7b517dc727c0c8009c96dce78274037350d8c1c8", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4e6ea4b380809f0b54171571ee4c46db1446c1d0", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/4e6ea4b380809f0b54171571ee4c46db1446c1d0", "message": "Get filename from greengrass uri", "committedDate": "2020-10-31T03:03:54Z", "type": "forcePushed"}, {"oid": "76bfe8396ed879a34ad6f5a2547a2ffe5b758a4c", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/76bfe8396ed879a34ad6f5a2547a2ffe5b758a4c", "message": "Get filename from greengrass uri", "committedDate": "2020-10-31T03:12:15Z", "type": "commit"}, {"oid": "76bfe8396ed879a34ad6f5a2547a2ffe5b758a4c", "url": "https://github.com/aws-greengrass/aws-greengrass-nucleus/commit/76bfe8396ed879a34ad6f5a2547a2ffe5b758a4c", "message": "Get filename from greengrass uri", "committedDate": "2020-10-31T03:12:15Z", "type": "forcePushed"}]}