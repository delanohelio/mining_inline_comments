{"pr_number": 2660, "pr_title": "Server disable schematic option (fix #2382)", "pr_createdAt": "2020-09-22T16:49:50Z", "pr_url": "https://github.com/Anuken/Mindustry/pull/2660", "timeline": [{"oid": "337d5b05313fef1f8118498afd06d92f0a56280a", "url": "https://github.com/Anuken/Mindustry/commit/337d5b05313fef1f8118498afd06d92f0a56280a", "message": "Merge pull request #1 from Anuken/master\n\n$ update", "committedDate": "2020-08-04T15:33:50Z", "type": "commit"}, {"oid": "fe18222c6c5a6b60531d60b4ad73724b6851375d", "url": "https://github.com/Anuken/Mindustry/commit/fe18222c6c5a6b60531d60b4ad73724b6851375d", "message": "block schematics", "committedDate": "2020-08-19T14:11:00Z", "type": "commit"}, {"oid": "a95296eccced7ddf85020ab35f378c6d280a302e", "url": "https://github.com/Anuken/Mindustry/commit/a95296eccced7ddf85020ab35f378c6d280a302e", "message": "Merge pull request #3 from Anuken/master\n\nmerge 2", "committedDate": "2020-08-19T14:13:15Z", "type": "commit"}, {"oid": "4334a3c24bb1642c34ecb44825eafd75c070ce2d", "url": "https://github.com/Anuken/Mindustry/commit/4334a3c24bb1642c34ecb44825eafd75c070ce2d", "message": "Merge branch 'master' into schematic", "committedDate": "2020-08-19T14:14:48Z", "type": "commit"}, {"oid": "4938aac7317381e64e670e774a744b6f7bd738d5", "url": "https://github.com/Anuken/Mindustry/commit/4938aac7317381e64e670e774a744b6f7bd738d5", "message": "schematic server setting", "committedDate": "2020-08-19T17:10:25Z", "type": "commit"}, {"oid": "3753e8f54a9cde43375408abc68cbcc0f2fa007d", "url": "https://github.com/Anuken/Mindustry/commit/3753e8f54a9cde43375408abc68cbcc0f2fa007d", "message": "global rule not working", "committedDate": "2020-08-19T18:29:03Z", "type": "commit"}, {"oid": "0d425456befd4a7e907201d804db0bbac8e7b20e", "url": "https://github.com/Anuken/Mindustry/commit/0d425456befd4a7e907201d804db0bbac8e7b20e", "message": "allow copies", "committedDate": "2020-08-20T18:46:04Z", "type": "commit"}, {"oid": "a418d7e59f6a80580b18c8db03f8a9aa8ec23258", "url": "https://github.com/Anuken/Mindustry/commit/a418d7e59f6a80580b18c8db03f8a9aa8ec23258", "message": "fix mobile copysetting", "committedDate": "2020-08-20T21:34:24Z", "type": "commit"}, {"oid": "fee15caf7aa42f112eebe4c465885b6c37fd51a5", "url": "https://github.com/Anuken/Mindustry/commit/fee15caf7aa42f112eebe4c465885b6c37fd51a5", "message": "Merge branch 'master' into schematic", "committedDate": "2020-08-28T11:38:46Z", "type": "commit"}, {"oid": "51065b57c4da0fcbeae006c8b0a22a82de39146d", "url": "https://github.com/Anuken/Mindustry/commit/51065b57c4da0fcbeae006c8b0a22a82de39146d", "message": "info popup", "committedDate": "2020-09-22T16:40:04Z", "type": "commit"}, {"oid": "f4003fd463bf5822f26e1bb4b70ed186ed1dd5ac", "url": "https://github.com/Anuken/Mindustry/commit/f4003fd463bf5822f26e1bb4b70ed186ed1dd5ac", "message": "merge", "committedDate": "2020-09-22T16:41:24Z", "type": "commit"}, {"oid": "393ca67291d69ed80223fbec40378641f50361f0", "url": "https://github.com/Anuken/Mindustry/commit/393ca67291d69ed80223fbec40378641f50361f0", "message": "cleanup", "committedDate": "2020-09-22T16:42:59Z", "type": "commit"}, {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae", "url": "https://github.com/Anuken/Mindustry/commit/3a3367b510c0fe6ec0c858bd76138b8951b010ae", "message": "prepush2", "committedDate": "2020-09-22T16:46:28Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4ODg5Nw==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492888897", "bodyText": "It's true by default, why add it here in the first place?", "author": "Anuken", "createdAt": "2020-09-22T16:52:07Z", "path": "server/src/mindustry/server/ServerControl.java", "diffHunk": "@@ -61,7 +61,7 @@ public ServerControl(String[] args){\n             \"bans\", \"\",\n             \"admins\", \"\",\n             \"shufflemode\", \"custom\",\n-            \"globalrules\", \"{reactorExplosions: false}\"\n+            \"globalrules\", \"{reactorExplosions: false}\" //schematicAllowed: true} //is not working", "originalCommit": "3a3367b510c0fe6ec0c858bd76138b8951b010ae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5ODIzNw==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492898237", "bodyText": "I removed the comment but I couldn't find a way to add an extra argument.", "author": "J-VdS", "createdAt": "2020-09-22T17:06:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4ODg5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTAxMQ==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889011", "bodyText": "Why?", "author": "Anuken", "createdAt": "2020-09-22T16:52:18Z", "path": "core/src/mindustry/input/MobileInput.java", "diffHunk": "@@ -488,7 +488,7 @@ public boolean touchUp(int screenX, int screenY, int pointer, KeyCode button){\n             selectRequests.clear();\n             lastSchematic = schematics.create(lineStartX, lineStartY, lastLineX, lastLineY);\n             useSchematic(lastSchematic);\n-            if(selectRequests.isEmpty()){\n+            if (selectRequests.isEmpty()) {", "originalCommit": "3a3367b510c0fe6ec0c858bd76138b8951b010ae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5NzM3MQ==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492897371", "bodyText": "idk, I didn't touch that file", "author": "J-VdS", "createdAt": "2020-09-22T17:05:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTAxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTA3OA==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889078", "bodyText": "Why?", "author": "Anuken", "createdAt": "2020-09-22T16:52:24Z", "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -344,7 +344,7 @@ public void buildPlacementUI(Table table){\n \n         table.button(Icon.paste, Styles.clearPartiali, () -> {\n             ui.schematics.show();\n-        }).tooltip(\"@schematics\");\n+        }).tooltip(\"Schematics\");", "originalCommit": "3a3367b510c0fe6ec0c858bd76138b8951b010ae", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5NDQ5NQ==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492894495", "bodyText": "typo", "author": "J-VdS", "createdAt": "2020-09-22T17:00:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTA3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTEyMw==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889123", "bodyText": "Why?", "author": "Anuken", "createdAt": "2020-09-22T16:52:28Z", "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -416,7 +416,7 @@ void pollInput(){\n         if(Core.input.keyRelease(Binding.schematic_select) && !Core.scene.hasKeyboard()){\n             lastSchematic = schematics.create(schemX, schemY, rawCursorX, rawCursorY);\n             useSchematic(lastSchematic);\n-            if(selectRequests.isEmpty()){\n+            if (selectRequests.isEmpty()) {", "originalCommit": "3a3367b510c0fe6ec0c858bd76138b8951b010ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTU4Ng==", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889586", "bodyText": "random space", "author": "Anuken", "createdAt": "2020-09-22T16:53:13Z", "path": "core/src/mindustry/ui/dialogs/SchematicsDialog.java", "diffHunk": "@@ -64,8 +65,12 @@ void setup(){\n \n             t.update(() -> {\n                 if(Core.input.keyTap(Binding.chat) && Core.scene.getKeyboardFocus() == searchField && firstSchematic != null){\n-                    control.input.useSchematic(firstSchematic);\n-                    hide();\n+                    if(!Vars.state.rules.schematicAllowed){\n+                        ui.showInfo(\"@schematic.disabled\");\n+                    }else {", "originalCommit": "3a3367b510c0fe6ec0c858bd76138b8951b010ae", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "89ea055a24a7b37c9306e7558de327026aaafd00", "url": "https://github.com/Anuken/Mindustry/commit/89ea055a24a7b37c9306e7558de327026aaafd00", "message": "comment change", "committedDate": "2020-09-22T16:58:47Z", "type": "commit"}, {"oid": "4608697d0d16191ab685adce34398eb3a68c8fc0", "url": "https://github.com/Anuken/Mindustry/commit/4608697d0d16191ab685adce34398eb3a68c8fc0", "message": "capitals", "committedDate": "2020-09-22T16:59:35Z", "type": "commit"}, {"oid": "ba4612ed96c3c8c4c95ee6ccf86a2187405ce222", "url": "https://github.com/Anuken/Mindustry/commit/ba4612ed96c3c8c4c95ee6ccf86a2187405ce222", "message": "indent", "committedDate": "2020-09-22T17:00:25Z", "type": "commit"}, {"oid": "a0913c67dff1c36a05dba1ab3aec77f1dbeea5f3", "url": "https://github.com/Anuken/Mindustry/commit/a0913c67dff1c36a05dba1ab3aec77f1dbeea5f3", "message": "Update DesktopInput.java", "committedDate": "2020-09-22T17:01:51Z", "type": "commit"}, {"oid": "890dfdeb063d6e8b49c07184f64ff82698e0783b", "url": "https://github.com/Anuken/Mindustry/commit/890dfdeb063d6e8b49c07184f64ff82698e0783b", "message": "weird intellij", "committedDate": "2020-09-22T17:03:27Z", "type": "commit"}, {"oid": "428c396968eee57cb0b7b7ad903b40f0ad331cf5", "url": "https://github.com/Anuken/Mindustry/commit/428c396968eee57cb0b7b7ad903b40f0ad331cf5", "message": "Update SchematicsDialog.java", "committedDate": "2020-09-22T17:04:05Z", "type": "commit"}, {"oid": "28cd08bdd17e361780c5e69e40fd9d0dbdbc9ae9", "url": "https://github.com/Anuken/Mindustry/commit/28cd08bdd17e361780c5e69e40fd9d0dbdbc9ae9", "message": "idk", "committedDate": "2020-09-22T17:04:42Z", "type": "commit"}, {"oid": "1e10817708b2422e6bbda09d413e75ded736a619", "url": "https://github.com/Anuken/Mindustry/commit/1e10817708b2422e6bbda09d413e75ded736a619", "message": "revert file", "committedDate": "2020-09-23T14:26:48Z", "type": "commit"}, {"oid": "d0c6f3274b24ce6222c89bdc0b9a282365086ba0", "url": "https://github.com/Anuken/Mindustry/commit/d0c6f3274b24ce6222c89bdc0b9a282365086ba0", "message": "Merge branch 'master' into schematic", "committedDate": "2020-09-23T14:29:41Z", "type": "commit"}]}