{"pr_number": 4207, "pr_title": "Catch NPE from #4204", "pr_createdAt": "2020-11-05T16:58:30Z", "pr_url": "https://github.com/getodk/collect/pull/4207", "timeline": [{"oid": "0f9b51bc8b33c59c2c31e5e96763fa2846952ca7", "url": "https://github.com/getodk/collect/commit/0f9b51bc8b33c59c2c31e5e96763fa2846952ca7", "message": "Check for null exception's cause in FormEntryViewModel.addRepeat", "committedDate": "2020-11-05T16:39:20Z", "type": "commit"}, {"oid": "d6e3732cf6f12f8650ead0445da8082306bac50b", "url": "https://github.com/getodk/collect/commit/d6e3732cf6f12f8650ead0445da8082306bac50b", "message": "Added tests", "committedDate": "2020-11-05T16:39:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIzNjAyMg==", "url": "https://github.com/getodk/collect/pull/4207#discussion_r518236022", "bodyText": "I think that if there's no cause, we should use the exception's own message. That should still provide more specific information.", "author": "lognaturel", "createdAt": "2020-11-05T17:39:12Z", "path": "collect_app/src/main/java/org/odk/collect/android/formentry/FormEntryViewModel.java", "diffHunk": "@@ -83,14 +83,14 @@ public void addRepeat(boolean fromPrompt) {\n         try {\n             formController.newRepeat();\n         } catch (RuntimeException e) {\n-            error.setValue(e.getCause().getMessage());\n+            error.setValue(e.getCause() != null ? e.getCause().getMessage() : \"Unknown issue occurred while adding a new group\");", "originalCommit": "d6e3732cf6f12f8650ead0445da8082306bac50b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODI3ODExMw==", "url": "https://github.com/getodk/collect/pull/4207#discussion_r518278113", "bodyText": "Ok done.", "author": "grzesiek2010", "createdAt": "2020-11-05T18:39:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIzNjAyMg=="}], "type": "inlineReview"}, {"oid": "521a0b236d9ac9a80c8e8ab05e25fd1998eac7c7", "url": "https://github.com/getodk/collect/commit/521a0b236d9ac9a80c8e8ab05e25fd1998eac7c7", "message": "Improved the solution", "committedDate": "2020-11-05T18:39:04Z", "type": "commit"}]}