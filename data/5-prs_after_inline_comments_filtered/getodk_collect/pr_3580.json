{"pr_number": 3580, "pr_title": "Focus on textfield on ServerUrl, Username, Password and shows keyboard.", "pr_createdAt": "2020-01-10T17:54:12Z", "pr_url": "https://github.com/getodk/collect/pull/3580", "timeline": [{"oid": "9d3f529fe2cd535e3cca181b0e26f75635afaade", "url": "https://github.com/getodk/collect/commit/9d3f529fe2cd535e3cca181b0e26f75635afaade", "message": "Merge pull request #1 from opendatakit/master\n\nUpdating my repo", "committedDate": "2020-01-10T16:14:55Z", "type": "commit"}, {"oid": "f7d1ed3f62cc5eadf34f69ec1c164fa80576ef23", "url": "https://github.com/getodk/collect/commit/f7d1ed3f62cc5eadf34f69ec1c164fa80576ef23", "message": "Add focus on Server Url,UserName and Password in Server Setting and show keyboard", "committedDate": "2020-01-10T17:17:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgyMjk5NQ==", "url": "https://github.com/getodk/collect/pull/3580#discussion_r365822995", "bodyText": "This code looks right to me but I think these listeners should be setup in addAggregatePreferences along with the rest of the setup for each Preference.\nI handn't noticed @grzesiek2010's comment. I think he's right that we should investigate the default behaviour here and understand if this is a problem just for our app or not. If we do go with this solution though I think it's good to move this listener setup to addAggregatePreferences along with the rest of the setup for each Preference.", "author": "seadowg", "createdAt": "2020-01-13T14:10:37Z", "path": "collect_app/src/main/java/org/odk/collect/android/preferences/ServerPreferencesFragment.java", "diffHunk": "@@ -490,4 +490,21 @@ private void continueOnBackPressed() {\n     public void doBack() {\n         runGoogleAccountValidation();\n     }\n+\n+    @Override\n+    public void onResume() {\n+        super.onResume();\n+        serverUrlPreference.setOnPreferenceClickListener(preference -> {", "originalCommit": "f7d1ed3f62cc5eadf34f69ec1c164fa80576ef23", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY4OTIwNg==", "url": "https://github.com/getodk/collect/pull/3580#discussion_r366689206", "bodyText": "@grzesiek2010 and @seadowg, Yes I had checked that  before pull request and that is the default behaviour\n\nSo, Should I remove the code?", "author": "Vivever", "createdAt": "2020-01-15T04:13:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgyMjk5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjgwNDY2OQ==", "url": "https://github.com/getodk/collect/pull/3580#discussion_r366804669", "bodyText": "Yuck that's annoying. I'm not seeing that problem in Android settings but maybe they work around it as well.\nPersonally I think it makes sense to keep these changes as it's definitely a better experience (in the most basic sense it cuts down on taps). What do you think @grzesiek2010?", "author": "seadowg", "createdAt": "2020-01-15T10:37:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgyMjk5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjgxMDkxMQ==", "url": "https://github.com/getodk/collect/pull/3580#discussion_r366810911", "bodyText": "I'm not sure but also not strongly against so you can proceed @Vivever but as I said we have more such EditTextPreferences to fix.", "author": "grzesiek2010", "createdAt": "2020-01-15T10:50:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgyMjk5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk5OTA4NA==", "url": "https://github.com/getodk/collect/pull/3580#discussion_r366999084", "bodyText": "@grzesiek2010, I will find them and fix them.", "author": "Vivever", "createdAt": "2020-01-15T17:11:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgyMjk5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzk1ODM0NA==", "url": "https://github.com/getodk/collect/pull/3580#discussion_r367958344", "bodyText": "@grzesiek2010 @seadowg  There was only one extra EditTextPreference (Admin Password in Admin Settings) which I have fixed.\nOther preferences are either checkbox or radio buttons.", "author": "Vivever", "createdAt": "2020-01-17T14:20:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgyMjk5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODUyMTQ2MQ==", "url": "https://github.com/getodk/collect/pull/3580#discussion_r368521461", "bodyText": "Thanks for looking at that @Vivever! As far as I can see there are still a few fields in \"User and device identity\" > \"Form metadata\".\nAs I said before it'd be better not to call setPreferenceClickListener in onResume. These should probably go with the rest of the preference setup in ServerPreferencesFragment#addAggregatePreferences. In other fragments it can just be in onCreate. You shouldn't need to setPreferenceClickListener(null) either as the preference object won't (as far as I know) outlive the Fragment in memory.", "author": "seadowg", "createdAt": "2020-01-20T12:26:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTgyMjk5NQ=="}], "type": "inlineReview"}, {"oid": "61bdfe7154641c649057aca93f42240777b8e443", "url": "https://github.com/getodk/collect/commit/61bdfe7154641c649057aca93f42240777b8e443", "message": "Add focus on all applicable preferences.\nDereference the preference references as they are causing memory leak.", "committedDate": "2020-01-17T14:09:12Z", "type": "commit"}, {"oid": "f45cf244a9016bafbe4fb72fb0c9b92db6426c2f", "url": "https://github.com/getodk/collect/commit/f45cf244a9016bafbe4fb72fb0c9b92db6426c2f", "message": "Add focus to remaining EditTextPreference", "committedDate": "2020-01-24T12:05:20Z", "type": "commit"}]}