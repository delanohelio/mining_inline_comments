{"pr_number": 2686, "pr_title": "Use FilterReduceRule", "pr_createdAt": "2020-11-20T08:08:47Z", "pr_url": "https://github.com/hazelcast/hazelcast-jet/pull/2686", "timeline": [{"oid": "97086d46bb774bb536548c067420cce5f12643f9", "url": "https://github.com/hazelcast/hazelcast-jet/commit/97086d46bb774bb536548c067420cce5f12643f9", "message": "Use FilterReduceRule", "committedDate": "2020-11-20T08:05:30Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUzMzc4MQ==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2686#discussion_r527533781", "bodyText": "Shouldn't we also add PROJECT_INSTANCE and JOIN_INSTANCE?", "author": "viliam-durina", "createdAt": "2020-11-20T08:52:22Z", "path": "hazelcast-jet-sql/src/main/java/com/hazelcast/jet/sql/impl/opt/logical/LogicalRules.java", "diffHunk": "@@ -40,6 +41,7 @@ public static RuleSet getRuleSet() {\n                 FilterMergeRule.INSTANCE,\n                 FilterProjectTransposeRule.INSTANCE,\n                 FilterIntoScanLogicalRule.INSTANCE,\n+                ReduceExpressionsRule.FILTER_INSTANCE,", "originalCommit": "97086d46bb774bb536548c067420cce5f12643f9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUzNDQ4OQ==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2686#discussion_r527534489", "bodyText": "JOIN_INSTANCE will be included with joins.\nRegarding PROJECT_INSTANCE I could not find a case where it would be applicable apart from CASE which is not supported (yet).", "author": "gierlachg", "createdAt": "2020-11-20T08:53:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUzMzc4MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxMjMwOQ==", "url": "https://github.com/hazelcast/hazelcast-jet/pull/2686#discussion_r527612309", "bodyText": "JOIN_INSTANCE - my mistake\nPROJECT_INSTANCE: I thought it will simplify a + 1 + 1 to a + 2, but it doesn't... Also that a IS NULL AND a IS NOT NULL is simplified to false, but it doesn't... I thought Calcite does this.", "author": "viliam-durina", "createdAt": "2020-11-20T10:55:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzUzMzc4MQ=="}], "type": "inlineReview"}]}