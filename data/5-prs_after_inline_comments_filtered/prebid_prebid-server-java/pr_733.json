{"pr_number": 733, "pr_title": "Add support for CPM override in Rubicon bidder", "pr_createdAt": "2020-05-25T10:44:00Z", "pr_url": "https://github.com/prebid/prebid-server-java/pull/733", "timeline": [{"oid": "6464a3c50cd73cac29595a57aa65d71a11d30327", "url": "https://github.com/prebid/prebid-server-java/commit/6464a3c50cd73cac29595a57aa65d71a11d30327", "message": "Add support for CPM override in Rubicon bidder", "committedDate": "2020-05-25T10:42:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5OTAxOA==", "url": "https://github.com/prebid/prebid-server-java/pull/733#discussion_r429899018", "bodyText": "In Go they set price if it is more than zero, but probably it is bc they don't have nill.\nBut probably it is better to check, bc in this case, cpmOvveride can override normal price. (corner case)", "author": "DGarbar", "createdAt": "2020-05-25T12:04:28Z", "path": "src/main/java/org/prebid/server/bidder/rubicon/RubiconBidder.java", "diffHunk": "@@ -773,9 +787,45 @@ private Bid updateBid(Bid bid, BidResponse bidResponse) {\n             // copy bidResponse.bidid to openrtb_response.seatbid.bid.id\n             bid.setId(bidResponse.getBidid());\n         }\n+\n+        final Float cpmOverride = ObjectUtils.defaultIfNull(cpmOverrideFromImp(imp), cmpOverrideFromRequest);\n+        if (cpmOverride != null) {", "originalCommit": "6464a3c50cd73cac29595a57aa65d71a11d30327", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTk0NDExMw==", "url": "https://github.com/prebid/prebid-server-java/pull/733#discussion_r429944113", "bodyText": "ok, added comment Unconditionally set price if coming from CPM override.", "author": "rpanchyk", "createdAt": "2020-05-25T13:47:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5OTAxOA=="}], "type": "inlineReview"}, {"oid": "b715ed078d62cfabfe5f42e8aa68e85f00fe6247", "url": "https://github.com/prebid/prebid-server-java/commit/b715ed078d62cfabfe5f42e8aa68e85f00fe6247", "message": "Add support for CPM override in Rubicon bidder - fix after review", "committedDate": "2020-05-25T13:45:53Z", "type": "commit"}, {"oid": "9e9169e3c0cf6da02389dba1fe106fd6338ae4f3", "url": "https://github.com/prebid/prebid-server-java/commit/9e9169e3c0cf6da02389dba1fe106fd6338ae4f3", "message": "Merge branch 'master' into add-support-for-cpmoverride\n\n# Conflicts:\n#\tdocs/pbs-java-and-go-features-review.md\n#\tsrc/main/java/org/prebid/server/auction/ExchangeService.java\n#\tsrc/main/java/org/prebid/server/bidder/rubicon/RubiconBidder.java\n#\tsrc/test/java/org/prebid/server/bidder/rubicon/RubiconBidderTest.java", "committedDate": "2020-07-30T13:20:47Z", "type": "commit"}, {"oid": "aba82a94a7ad841aa4cff1fb2351f0dc79044db7", "url": "https://github.com/prebid/prebid-server-java/commit/aba82a94a7ad841aa4cff1fb2351f0dc79044db7", "message": "Remove RubiconExt.java and RubiconExtPrebid.java", "committedDate": "2020-07-30T13:59:37Z", "type": "commit"}]}