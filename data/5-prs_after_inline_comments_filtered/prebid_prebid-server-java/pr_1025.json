{"pr_number": 1025, "pr_title": "Admixer bidder review", "pr_createdAt": "2020-11-19T00:57:51Z", "pr_url": "https://github.com/prebid/prebid-server-java/pull/1025", "timeline": [{"oid": "e27428b1610953875bab4085e2231fe3d82e50e1", "url": "https://github.com/prebid/prebid-server-java/commit/e27428b1610953875bab4085e2231fe3d82e50e1", "message": "Admixer bid review", "committedDate": "2020-11-19T00:54:21Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg2NjYyMQ==", "url": "https://github.com/prebid/prebid-server-java/pull/1025#discussion_r526866621", "bodyText": "This can throw NumberFormatException which we're not catching.", "author": "rpanchyk", "createdAt": "2020-11-19T13:08:42Z", "path": "src/main/java/org/prebid/server/bidder/admixer/AdmixerBidder.java", "diffHunk": "@@ -83,21 +79,25 @@ public AdmixerBidder(String endpointUrl, JacksonMapper mapper) {\n     }\n \n     private ExtImpAdmixer parseImpExt(Imp imp) {\n+        final ExtImpAdmixer extImpAdmixer;\n         try {\n-            return mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n+            extImpAdmixer = mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n         } catch (IllegalArgumentException e) {\n-            throw new PreBidException(e.getMessage(), e);\n+            throw new PreBidException(String.format(\"Wrong Admixer bidder ext in imp with id : %s\", imp.getId()));\n         }\n-    }\n-\n-    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n-        if (extImpAdmixer.getZone().length() != 36) {\n+        if (StringUtils.length(extImpAdmixer.getZone()) != 36) {\n             throw new PreBidException(\"ZoneId must be UUID/GUID\");\n         }\n \n+        return extImpAdmixer;\n+    }\n+\n+    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n+        final Double extImpFloor = extImpAdmixer.getCustomFloor();\n+        final BigDecimal customFloor = extImpFloor != null ? BigDecimal.valueOf(extImpFloor) : BigDecimal.ZERO;", "originalCommit": "e27428b1610953875bab4085e2231fe3d82e50e1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg3NTQwMA==", "url": "https://github.com/prebid/prebid-server-java/pull/1025#discussion_r526875400", "bodyText": "My bad, no issue. Value is already checked for null before converting.", "author": "rpanchyk", "createdAt": "2020-11-19T13:22:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg2NjYyMQ=="}], "type": "inlineReview"}]}