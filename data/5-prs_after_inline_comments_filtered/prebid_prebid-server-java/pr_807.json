{"pr_number": 807, "pr_title": "Add Orbidder bidder", "pr_createdAt": "2020-07-13T10:04:27Z", "pr_url": "https://github.com/prebid/prebid-server-java/pull/807", "timeline": [{"oid": "50ee3fa7b637b5c0bacabb9029b414b723a107f3", "url": "https://github.com/prebid/prebid-server-java/commit/50ee3fa7b637b5c0bacabb9029b414b723a107f3", "message": "Add OrbidderBidder and tests", "committedDate": "2020-07-13T10:03:24Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI5NDgwNA==", "url": "https://github.com/prebid/prebid-server-java/pull/807#discussion_r486294804", "bodyText": "No reason for the check - RequestValidator cares.", "author": "rpanchyk", "createdAt": "2020-09-10T12:27:11Z", "path": "src/main/java/org/prebid/server/bidder/orbidder/OrbidderBidder.java", "diffHunk": "@@ -0,0 +1,131 @@\n+package org.prebid.server.bidder.orbidder;\n+\n+import com.fasterxml.jackson.core.type.TypeReference;\n+import com.fasterxml.jackson.databind.node.ObjectNode;\n+import com.iab.openrtb.request.BidRequest;\n+import com.iab.openrtb.request.Imp;\n+import com.iab.openrtb.response.BidResponse;\n+import com.iab.openrtb.response.SeatBid;\n+import io.netty.handler.codec.http.HttpResponseStatus;\n+import io.vertx.core.http.HttpMethod;\n+import org.apache.commons.collections4.CollectionUtils;\n+import org.prebid.server.bidder.Bidder;\n+import org.prebid.server.bidder.model.BidderBid;\n+import org.prebid.server.bidder.model.BidderError;\n+import org.prebid.server.bidder.model.HttpCall;\n+import org.prebid.server.bidder.model.HttpRequest;\n+import org.prebid.server.bidder.model.Result;\n+import org.prebid.server.exception.PreBidException;\n+import org.prebid.server.json.DecodeException;\n+import org.prebid.server.json.JacksonMapper;\n+import org.prebid.server.proto.openrtb.ext.ExtPrebid;\n+import org.prebid.server.proto.openrtb.ext.request.orbidder.ExtImpOrbidder;\n+import org.prebid.server.proto.openrtb.ext.response.BidType;\n+import org.prebid.server.util.HttpUtil;\n+\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+public class OrbidderBidder implements Bidder<BidRequest> {\n+\n+    private static final TypeReference<ExtPrebid<?, ExtImpOrbidder>> ORBIDDER_EXT_TYPE_REFERENCE =\n+            new TypeReference<ExtPrebid<?, ExtImpOrbidder>>() {\n+            };\n+\n+    private static final String DEFAULT_BID_CURRENCY = \"USD\";\n+\n+    private final String endpointUrl;\n+    private final JacksonMapper mapper;\n+\n+    public OrbidderBidder(String endpointUrl, JacksonMapper mapper) {\n+        this.endpointUrl = HttpUtil.validateUrl(Objects.requireNonNull(endpointUrl));\n+        this.mapper = Objects.requireNonNull(mapper);\n+    }\n+\n+    @Override\n+    public Result<List<HttpRequest<BidRequest>>> makeHttpRequests(BidRequest request) {\n+        final List<BidderError> errors = new ArrayList<>();\n+        final List<Imp> validImps = new ArrayList<>();\n+\n+        if (CollectionUtils.isEmpty(request.getImp())) {", "originalCommit": "50ee3fa7b637b5c0bacabb9029b414b723a107f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI5NTgwMA==", "url": "https://github.com/prebid/prebid-server-java/pull/807#discussion_r486295800", "bodyText": "No need for annotation here.", "author": "rpanchyk", "createdAt": "2020-09-10T12:28:41Z", "path": "src/main/java/org/prebid/server/proto/openrtb/ext/request/orbidder/ExtImpOrbidder.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package org.prebid.server.proto.openrtb.ext.request.orbidder;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import lombok.AllArgsConstructor;\n+import lombok.Value;\n+\n+import java.math.BigDecimal;\n+\n+@Value\n+@AllArgsConstructor(staticName = \"of\")\n+public class ExtImpOrbidder {\n+\n+    @JsonProperty(\"accountId\")\n+    String accountId;\n+\n+    @JsonProperty(\"placementId\")\n+    String placementId;\n+\n+    @JsonProperty(\"bidfloor\")", "originalCommit": "50ee3fa7b637b5c0bacabb9029b414b723a107f3", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6d0460c051f1a3773e381cd561f8e200ad307b5d", "url": "https://github.com/prebid/prebid-server-java/commit/6d0460c051f1a3773e381cd561f8e200ad307b5d", "message": "Small refactoring of code", "committedDate": "2020-09-11T09:43:33Z", "type": "commit"}, {"oid": "76d8708639071a494c5b4278c5a4be61b17f9754", "url": "https://github.com/prebid/prebid-server-java/commit/76d8708639071a494c5b4278c5a4be61b17f9754", "message": "Merge branch 'master' into add-orbidder-bidder", "committedDate": "2020-09-11T11:59:28Z", "type": "commit"}, {"oid": "baf74664cf0b400feaed7eee58579293b9ea7bc7", "url": "https://github.com/prebid/prebid-server-java/commit/baf74664cf0b400feaed7eee58579293b9ea7bc7", "message": "Merge branch 'master' into add-orbidder-bidder", "committedDate": "2020-09-15T17:26:49Z", "type": "commit"}]}