{"pr_number": 4500, "pr_title": "fix: support conversion of STRING to BIGINT for window bounds", "pr_createdAt": "2020-02-10T10:46:44Z", "pr_url": "https://github.com/confluentinc/ksql/pull/4500", "timeline": [{"oid": "8357d3430dbb2aab0fe0dced7e2180505d1fa71a", "url": "https://github.com/confluentinc/ksql/commit/8357d3430dbb2aab0fe0dced7e2180505d1fa71a", "message": "fix: support conversion of STRING to BIGINT for window bounds\n\nFixes: https://github.com/confluentinc/ksql/issues/4482\n\nComparison and Between expressions in the WHERE clause already support magic conversion from a STRING containing a ISO formatted datetime into a BIGINT for the `ROWTIME` column.\n\nThis changes extends the support to cover the `WINDOWSTART` and `WINDOWEND` columns.\n\nThe change also fixes a bug where by a numeric Between expression on `ROWTIME` resulted in a class-cast exception, e.g. `WHERE ROWTIME < 123546794894`.", "committedDate": "2020-02-10T10:46:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzM2MDAwNw==", "url": "https://github.com/confluentinc/ksql/pull/4500#discussion_r377360007", "bodyText": "\ud83d\ude02 \ud83e\udd14 \ud83d\ude44", "author": "agavra", "createdAt": "2020-02-10T22:39:24Z", "path": "ksql-engine/src/main/java/io/confluent/ksql/engine/rewrite/StatementRewriteForMagicPseudoTimestamp.java", "diffHunk": "@@ -24,28 +25,33 @@\n import io.confluent.ksql.execution.expression.tree.LongLiteral;\n import io.confluent.ksql.execution.expression.tree.StringLiteral;\n import io.confluent.ksql.execution.expression.tree.VisitParentExpressionVisitor;\n+import io.confluent.ksql.name.ColumnName;\n import io.confluent.ksql.util.SchemaUtil;\n import io.confluent.ksql.util.timestamp.PartialStringToTimestampParser;\n import java.util.Objects;\n import java.util.Optional;\n+import java.util.Set;\n+\n+public class StatementRewriteForMagicPseudoTimestamp {", "originalCommit": "8357d3430dbb2aab0fe0dced7e2180505d1fa71a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}