{"pr_number": 6785, "pr_title": "chore: fix multi-column GROUP BY support with new execution steps", "pr_createdAt": "2020-12-16T07:34:21Z", "pr_url": "https://github.com/confluentinc/ksql/pull/6785", "timeline": [{"oid": "db710057c9818a9760db40fab95813d18ef3f055", "url": "https://github.com/confluentinc/ksql/commit/db710057c9818a9760db40fab95813d18ef3f055", "message": "chore: split GroupByParamsFactory", "committedDate": "2020-12-16T07:03:55Z", "type": "commit"}, {"oid": "7bfbc9e83ceed99528e15a6080b51427fce293d6", "url": "https://github.com/confluentinc/ksql/commit/7bfbc9e83ceed99528e15a6080b51427fce293d6", "message": "chore: split execution steps", "committedDate": "2020-12-16T07:04:14Z", "type": "commit"}, {"oid": "261128a8925c9a5610964ae4d370baa1066f6f53", "url": "https://github.com/confluentinc/ksql/commit/261128a8925c9a5610964ae4d370baa1066f6f53", "message": "chore: split group by builders", "committedDate": "2020-12-16T07:04:15Z", "type": "commit"}, {"oid": "d8f99bb23f7ffc7b2800b5ba3d1179a003677b92", "url": "https://github.com/confluentinc/ksql/commit/d8f99bb23f7ffc7b2800b5ba3d1179a003677b92", "message": "chore: finish wiring up new steps", "committedDate": "2020-12-16T07:04:20Z", "type": "commit"}, {"oid": "902449726ff8447e25febdb051dc0fb46fe30c26", "url": "https://github.com/confluentinc/ksql/commit/902449726ff8447e25febdb051dc0fb46fe30c26", "message": "test: fix test", "committedDate": "2020-12-16T07:50:55Z", "type": "commit"}, {"oid": "f628749318a2017963891199f2abc85c483b74d7", "url": "https://github.com/confluentinc/ksql/commit/f628749318a2017963891199f2abc85c483b74d7", "message": "chore: update plan schema", "committedDate": "2020-12-16T16:04:07Z", "type": "commit"}, {"oid": "f90e8ed17bf02da42ea643781f0c60dbf863f3ab", "url": "https://github.com/confluentinc/ksql/commit/f90e8ed17bf02da42ea643781f0c60dbf863f3ab", "message": "chore: fix key schema upgrade check", "committedDate": "2020-12-16T17:43:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ5ODgwMg==", "url": "https://github.com/confluentinc/ksql/pull/6785#discussion_r544498802", "bodyText": "to avoid confusion that I have with StreamSelectKey every time i look at the class, what do you think about (in a follow-up PR) changing the class name of StreamGroupBy to StreamGroupByV2 and StreamSelectKey to StreamSelectKeyV2", "author": "agavra", "createdAt": "2020-12-16T17:46:55Z", "path": "ksqldb-execution/src/main/java/io/confluent/ksql/execution/plan/ExecutionStep.java", "diffHunk": "@@ -31,7 +31,8 @@\n     @Type(value = StreamAggregate.class, name = \"streamAggregateV1\"),\n     @Type(value = StreamFilter.class, name = \"streamFilterV1\"),\n     @Type(value = StreamFlatMap.class, name = \"streamFlatMapV1\"),\n-    @Type(value = StreamGroupBy.class, name = \"streamGroupByV1\"),\n+    @Type(value = StreamGroupByV1.class, name = \"streamGroupByV1\"),\n+    @Type(value = StreamGroupBy.class, name = \"streamGroupByV2\"),", "originalCommit": "7bfbc9e83ceed99528e15a6080b51427fce293d6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYyNDM5Ng==", "url": "https://github.com/confluentinc/ksql/pull/6785#discussion_r544624396", "bodyText": "I actually rather like the convention that the non-versioned class is always the latest. It makes it easier to find the latest code rather than needing to first check/reason about what the latest version is.\nWould you want to rename just the execution step classes or also the affiliated builders and execution plan traversal visitor methods? If the confusion is just around the execution step classes themselves, I could be on-board for that rename. I'm not sure renaming the others saves more confusion than is worth the toil it creates but I don't feel too strongly.", "author": "vcrfxia", "createdAt": "2020-12-16T21:08:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ5ODgwMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzNDgyOA==", "url": "https://github.com/confluentinc/ksql/pull/6785#discussion_r544634828", "bodyText": "fair enough, I don't feel too strongly and I guess I can see it either way", "author": "agavra", "createdAt": "2020-12-16T21:27:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQ5ODgwMg=="}], "type": "inlineReview"}]}