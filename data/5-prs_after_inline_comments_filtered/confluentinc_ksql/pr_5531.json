{"pr_number": 5531, "pr_title": "fix: zero decimal bug", "pr_createdAt": "2020-06-02T22:59:25Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5531", "timeline": [{"oid": "3efcb493edceba26253abc32a39b00938cda7345", "url": "https://github.com/confluentinc/ksql/commit/3efcb493edceba26253abc32a39b00938cda7345", "message": "fix zero decimal bug", "committedDate": "2020-06-02T22:52:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIyOTg1NQ==", "url": "https://github.com/confluentinc/ksql/pull/5531#discussion_r434229855", "bodyText": "nit: use BigDecimal.ZERO", "author": "agavra", "createdAt": "2020-06-02T23:31:07Z", "path": "ksqldb-common/src/main/java/io/confluent/ksql/util/DecimalUtil.java", "diffHunk": "@@ -234,6 +234,10 @@ private static void ensureMax(final BigDecimal value, final int precision, final\n   }\n \n   public static SqlType fromValue(final BigDecimal value) {\n+    final BigDecimal bigDecimalZero = new BigDecimal(\"0\");", "originalCommit": "3efcb493edceba26253abc32a39b00938cda7345", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIyOTkyNA==", "url": "https://github.com/confluentinc/ksql/pull/5531#discussion_r434229924", "bodyText": "let's add a comment in here explaining what's going on on and why we have to do this", "author": "agavra", "createdAt": "2020-06-02T23:31:26Z", "path": "ksqldb-common/src/main/java/io/confluent/ksql/util/DecimalUtil.java", "diffHunk": "@@ -234,6 +234,10 @@ private static void ensureMax(final BigDecimal value, final int precision, final\n   }\n \n   public static SqlType fromValue(final BigDecimal value) {\n+    final BigDecimal bigDecimalZero = new BigDecimal(\"0\");\n+    if (value.compareTo(bigDecimalZero) == 0) {", "originalCommit": "3efcb493edceba26253abc32a39b00938cda7345", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9ed6b7a1d8255b7505a91a5c3ced2af8a6e29b7a", "url": "https://github.com/confluentinc/ksql/commit/9ed6b7a1d8255b7505a91a5c3ced2af8a6e29b7a", "message": "fix zero decimal bug", "committedDate": "2020-06-03T16:25:06Z", "type": "commit"}, {"oid": "952ee70f7ce100bc0f376c4c6e887abafa40e304", "url": "https://github.com/confluentinc/ksql/commit/952ee70f7ce100bc0f376c4c6e887abafa40e304", "message": "fix zero decimal bug", "committedDate": "2020-06-03T17:46:41Z", "type": "commit"}, {"oid": "8d65350c3456cff77219afc69ba350f291408592", "url": "https://github.com/confluentinc/ksql/commit/8d65350c3456cff77219afc69ba350f291408592", "message": "fix zero decimal bug and add test", "committedDate": "2020-06-03T20:59:56Z", "type": "commit"}, {"oid": "e2e9e6f22cf0c09c88f54b52aa7fe41949538aaf", "url": "https://github.com/confluentinc/ksql/commit/e2e9e6f22cf0c09c88f54b52aa7fe41949538aaf", "message": "merge conflict", "committedDate": "2020-06-03T21:09:59Z", "type": "commit"}, {"oid": "44da38dfcb9a625fa57293c9b21799b437038d93", "url": "https://github.com/confluentinc/ksql/commit/44da38dfcb9a625fa57293c9b21799b437038d93", "message": "fix zero decimal bug add tests", "committedDate": "2020-06-03T21:15:16Z", "type": "commit"}, {"oid": "8f7e3812d2e095cf255069b1014496214c67821e", "url": "https://github.com/confluentinc/ksql/commit/8f7e3812d2e095cf255069b1014496214c67821e", "message": "merge conflicts", "committedDate": "2020-06-03T21:24:55Z", "type": "commit"}]}