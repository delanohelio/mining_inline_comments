{"pr_number": 5656, "pr_title": "fix: allow empty structs in schema inference", "pr_createdAt": "2020-06-19T17:28:11Z", "pr_url": "https://github.com/confluentinc/ksql/pull/5656", "timeline": [{"oid": "8f3d15ff93b1264ad702339bafb29d55576c9b5d", "url": "https://github.com/confluentinc/ksql/commit/8f3d15ff93b1264ad702339bafb29d55576c9b5d", "message": "fix: allow empy structs in schema inference", "committedDate": "2020-06-19T17:25:31Z", "type": "commit"}, {"oid": "19361f8c5d0e40251e8e99cdc72497fbe016d36e", "url": "https://github.com/confluentinc/ksql/commit/19361f8c5d0e40251e8e99cdc72497fbe016d36e", "message": "test :add tests", "committedDate": "2020-06-19T18:15:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4NDIyNQ==", "url": "https://github.com/confluentinc/ksql/pull/5656#discussion_r442984225", "bodyText": "Just curious, what does the below collector return with empty fields?", "author": "AlanConfluent", "createdAt": "2020-06-19T18:18:47Z", "path": "ksqldb-common/src/main/java/io/confluent/ksql/schema/connect/SqlSchemaFormatter.java", "diffHunk": "@@ -161,6 +161,9 @@ public String visitMap(final Schema schema, final String key, final String value\n     }\n \n     public String visitStruct(final Schema schema, final List<? extends String> fields) {\n+      if (fields.isEmpty()) {\n+        return \"STRUCT< >\";\n+      }", "originalCommit": "8f3d15ff93b1264ad702339bafb29d55576c9b5d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4NjAwNw==", "url": "https://github.com/confluentinc/ksql/pull/5656#discussion_r442986007", "bodyText": "STRUCT<>", "author": "agavra", "createdAt": "2020-06-19T18:22:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjk4NDIyNQ=="}], "type": "inlineReview"}, {"oid": "93098ce4575f5e76eecf4d1af1e1c9066527a6ce", "url": "https://github.com/confluentinc/ksql/commit/93098ce4575f5e76eecf4d1af1e1c9066527a6ce", "message": "fix: change historical test", "committedDate": "2020-06-19T19:43:00Z", "type": "commit"}]}