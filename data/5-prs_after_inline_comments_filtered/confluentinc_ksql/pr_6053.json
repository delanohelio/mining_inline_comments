{"pr_number": 6053, "pr_title": "test: fix flaky test due to static state", "pr_createdAt": "2020-08-19T20:11:01Z", "pr_url": "https://github.com/confluentinc/ksql/pull/6053", "timeline": [{"oid": "d1ac8e49163d5073fd8a85368af8a0a15f7261a0", "url": "https://github.com/confluentinc/ksql/commit/d1ac8e49163d5073fd8a85368af8a0a15f7261a0", "message": "test: fix flaky test due to static state\n\nThe `TlsTest` tended to fail locally when running other tests in parallel. Investigation showed this is due to shared state in `ServerKeyStore`: the path to the key store.  The test needed to write a bad cert and then assert requests failed, but if another test ran it would override the bad cert with a good one.", "committedDate": "2020-08-19T20:10:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAwMzk1NA==", "url": "https://github.com/confluentinc/ksql/pull/6053#discussion_r474003954", "bodyText": "Hey @big-andy-coates , can we undo this change? It's intentional that TlsTest extends ApiTest so we have test coverage for issuing requests to a TLS-enabled server.", "author": "vcrfxia", "createdAt": "2020-08-20T13:57:38Z", "path": "ksqldb-rest-app/src/test/java/io/confluent/ksql/api/TlsTest.java", "diffHunk": "@@ -35,22 +35,20 @@\n import java.util.concurrent.TimeUnit;\n import org.apache.kafka.common.config.SslConfigs;\n import org.junit.Test;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n \n-public class TlsTest extends ApiTest {\n+public class TlsTest extends BaseApiTest {", "originalCommit": "d1ac8e49163d5073fd8a85368af8a0a15f7261a0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTcxMDM0Mg==", "url": "https://github.com/confluentinc/ksql/pull/6053#discussion_r485710342", "bodyText": "Done in #6144", "author": "big-andy-coates", "createdAt": "2020-09-09T15:38:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAwMzk1NA=="}], "type": "inlineReview"}]}