{"pr_number": 4979, "pr_title": "[core] Extracting recommendations to validation framework", "pr_createdAt": "2020-01-12T04:40:04Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/4979", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNzcxNA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4979#discussion_r366637714", "bodyText": "Note this API change. I think this is unused by users due to the package private APIs elsewhere in this PR. We can target 4.3 if there are concerns.", "author": "jimschubert", "createdAt": "2020-01-15T00:08:32Z", "path": "modules/openapi-generator-core/src/main/java/org/openapitools/codegen/validation/ValidationRule.java", "diffHunk": "@@ -60,7 +60,7 @@ public String getFailureMessage() {\n      *\n      * @return <code>true</code> if the object state is valid according to this rule, otherwise <code>false</code>.\n      */\n-    public boolean evaluate(Object input) {", "originalCommit": "2e3b9272264386a8d0a34df88abf08c886fc9259", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODIyOTM4OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/4979#discussion_r368229389", "bodyText": "I've rebased to 4.3 (planned for release in 5 weeks or so), just to be safe.", "author": "jimschubert", "createdAt": "2020-01-18T14:22:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYzNzcxNA=="}], "type": "inlineReview"}, {"oid": "557e4be723d37e73f349bf38df4166cc2a8be6d2", "url": "https://github.com/OpenAPITools/openapi-generator/commit/557e4be723d37e73f349bf38df4166cc2a8be6d2", "message": "Update operationId values in test", "committedDate": "2020-01-18T14:15:22Z", "type": "forcePushed"}, {"oid": "88856720c4cff2e2a069cca990ec14029e021b60", "url": "https://github.com/OpenAPITools/openapi-generator/commit/88856720c4cff2e2a069cca990ec14029e021b60", "message": "[core] Extracting recommendations to validation framework\n\nThis is work to extract recommendation logic out of the CLI validate command\ninto a shared evaluation instance which can be used elsewhere (such as Gradle,\nor the Online tool).\n\nFor now, these validations are in addition to those provided by swagger-parser and\nare only the following recommendations:\n\n* Apache/Nginx warning that header values with underscore are dropped by default\n* Unused models/schemas\n* Use of properties with oneOf, which is ambiguous in OpenAPI Specification\n\nI've allowed for disabling recommendations via System properties, since this is\nsomething that has been requested a few times by users. System properties in this\ncommit include:\n\n* openapi.generator.rule.recommendations=false\n  - Allows for disabling recommendations completely. This wouldn't include all warnings\n    and errors, only those we deem to be suggestions\n* openapi.generator.rule.apache-nginx-underscore=false\n  - Allows for disabling the Apache/Nginx warning when header names have underscore\n  - This is a legacy CGI configuration, and doesn't affect all web servers\n* openapi.generator.rule.oneof-properties-ambiguity=false\n  - We support this functionality, but the specification may not intend for it\n  - This is more to reduce noise\n* openapi.generator.rule.unused-schemas=false\n  - We will warn when a schema is not referenced outside of Components, which\n    users have requested to be able to turn off", "committedDate": "2020-01-31T13:53:22Z", "type": "commit"}, {"oid": "3c1ef7550609f1278823143c51fda1f5ed8f796f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/3c1ef7550609f1278823143c51fda1f5ed8f796f", "message": "Move to oas package and add javadoc comments", "committedDate": "2020-01-31T13:53:33Z", "type": "commit"}, {"oid": "018ace788a4290cd5459c990430011903b7d5c27", "url": "https://github.com/OpenAPITools/openapi-generator/commit/018ace788a4290cd5459c990430011903b7d5c27", "message": "Refactor and test recommendation validations", "committedDate": "2020-01-31T13:53:33Z", "type": "commit"}, {"oid": "2a5191fe7d14ebbff8c3c6de71730b4072aacf96", "url": "https://github.com/OpenAPITools/openapi-generator/commit/2a5191fe7d14ebbff8c3c6de71730b4072aacf96", "message": "Refactor validation function signatures to return explicit state rather than boolean", "committedDate": "2020-01-31T13:53:34Z", "type": "commit"}, {"oid": "5d4ab5070244b1e8b8882a6d793ce740b8efc348", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5d4ab5070244b1e8b8882a6d793ce740b8efc348", "message": "Add operation recommendation for GET/HEAD w/body\n\nRecommendation can be disabled via system property:\n\n-Dopenapi.generator.rule.anti-patterns.uri-unexpected-body=false", "committedDate": "2020-01-31T13:53:34Z", "type": "commit"}, {"oid": "129d0e1486cbc13c76bb6ccf56df296a1e491ffd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/129d0e1486cbc13c76bb6ccf56df296a1e491ffd", "message": "Update operationId values in test", "committedDate": "2020-01-31T13:53:35Z", "type": "commit"}, {"oid": "129d0e1486cbc13c76bb6ccf56df296a1e491ffd", "url": "https://github.com/OpenAPITools/openapi-generator/commit/129d0e1486cbc13c76bb6ccf56df296a1e491ffd", "message": "Update operationId values in test", "committedDate": "2020-01-31T13:53:35Z", "type": "forcePushed"}]}