{"pr_number": 8049, "pr_title": "Fix port when the URL doesn't have port specified", "pr_createdAt": "2020-11-30T13:24:09Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/8049", "timeline": [{"oid": "f368d056d55514cce698711f8e85ff3f47797779", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f368d056d55514cce698711f8e85ff3f47797779", "message": "fix port missingin oas 3 spec", "committedDate": "2020-11-30T13:20:10Z", "type": "commit"}, {"oid": "36e1b40c64fc7ef2040abd437102df13e9e4ff1a", "url": "https://github.com/OpenAPITools/openapi-generator/commit/36e1b40c64fc7ef2040abd437102df13e9e4ff1a", "message": "update samples", "committedDate": "2020-11-30T13:23:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYzNTM4Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8049#discussion_r532635387", "bodyText": "I guess that does the trick but why was the port -1 to begin with? Some default value? Unfortunate conversion or something?\nIf there's no way to make it so it doesn't get the -1 value I suppose a comment explaining why -1 is a possible value and needs to be handled would help in the future.\nPort 80 and 443 people can figure it out, -1, not so much I guess.", "author": "jfeltesse-mdsol", "createdAt": "2020-11-30T14:26:53Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultGenerator.java", "diffHunk": "@@ -769,7 +769,7 @@ private void generateSupportingFiles(List<File> files, Map<String, Object> bundl\n         bundle.put(\"basePathWithoutHost\", basePathWithoutHost);\n         bundle.put(\"scheme\", URLPathUtils.getScheme(url, config));\n         bundle.put(\"host\", url.getHost());\n-        if (url.getPort() != 80 && url.getPort() != 443 ) {\n+        if (url.getPort() != 80 && url.getPort() != 443 && url.getPort() != -1) {", "originalCommit": "36e1b40c64fc7ef2040abd437102df13e9e4ff1a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYzOTk4Nw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/8049#discussion_r532639987", "bodyText": "The getPort() function is a part of URL class. The function getPort() returns the port of a specified URL. The function returns the port number or -1 if the port is not set\n\nRef: https://www.geeksforgeeks.org/url-getport-method-in-java-with-examples/", "author": "wing328", "createdAt": "2020-11-30T14:33:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYzNTM4Nw=="}], "type": "inlineReview"}]}