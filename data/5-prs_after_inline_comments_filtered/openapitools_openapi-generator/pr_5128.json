{"pr_number": 5128, "pr_title": "[typescript-angular] Import models from a single model/models.ts", "pr_createdAt": "2020-01-28T02:12:33Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5128", "timeline": [{"oid": "0786e3466ffb4177185b0fa63893d30abf167bb3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0786e3466ffb4177185b0fa63893d30abf167bb3", "message": "Sync with upstream. Includes fixes for typescript-angular", "committedDate": "2020-01-25T23:51:15Z", "type": "commit"}, {"oid": "b24315fea15b8ec5de1120bdbefe4088fc9272d3", "url": "https://github.com/OpenAPITools/openapi-generator/commit/b24315fea15b8ec5de1120bdbefe4088fc9272d3", "message": "Make api to models from a single model/models.ts instead of individual model files.\nFixes inconsistent usage of file names with inline models (inline-model-1, inline-model-2, ...)", "committedDate": "2020-01-28T02:02:10Z", "type": "commit"}, {"oid": "d4f5aecabd266329fbbdb3f1505e942c94862aff", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d4f5aecabd266329fbbdb3f1505e942c94862aff", "message": "Remove additional mapped filename prop from api imports (since it's not reliable)", "committedDate": "2020-01-28T02:02:15Z", "type": "commit"}, {"oid": "644bc5d6a36a1234418e7aebf4e01931501545fa", "url": "https://github.com/OpenAPITools/openapi-generator/commit/644bc5d6a36a1234418e7aebf4e01931501545fa", "message": "Rerun ./bin/typescript-angular-petstore-all.sh", "committedDate": "2020-01-28T02:02:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU4MTg4OQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5128#discussion_r371581889", "bodyText": "NOTE: This is not actually needed for the fix.\nHowever, after the the changes in this PR this filename property is no longer used in the templates. And this is not reliable anyway in the case of inline models. So I just did this cleanup rather than accumulating it as tech debt.\nApparently, this might break some setups that use externally-provided templates (via --template-dir).\nI'm not sure what the policy is for such changes - is it safe to push to master? Should there be any changelog covering that? Or is it ok because codegen does not consider such custom properties a part of a public contract?\nOpen to suggestions here!", "author": "amakhrov", "createdAt": "2020-01-28T02:17:55Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/TypeScriptAngularClientCodegen.java", "diffHunk": "@@ -448,13 +448,6 @@ public void postProcessParameter(CodegenParameter parameter) {\n \n         operations.put(\"hasSomeFormParams\", hasSomeFormParams);\n \n-        // Add additional filename information for model imports in the services\n-        List<Map<String, Object>> imports = (List<Map<String, Object>>) operations.get(\"imports\");\n-        for (Map<String, Object> im : imports) {\n-            im.put(\"filename\", im.get(\"import\"));\n-            im.put(\"classname\", im.get(\"classname\"));\n-        }\n-", "originalCommit": "644bc5d6a36a1234418e7aebf4e01931501545fa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyODgzNw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5128#discussion_r371628837", "bodyText": "I suggest to leave it there, and remove it later for a major release", "author": "macjohnny", "createdAt": "2020-01-28T06:36:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU4MTg4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTYyOTUwNg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5128#discussion_r371629506", "bodyText": "I'll restore these shortly and add a comment saying it's not used any more", "author": "amakhrov", "createdAt": "2020-01-28T06:38:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU4MTg4OQ=="}], "type": "inlineReview"}, {"oid": "17c08894e45e5658eacdb22d9aa717935a811ef5", "url": "https://github.com/OpenAPITools/openapi-generator/commit/17c08894e45e5658eacdb22d9aa717935a811ef5", "message": "Restore the `filename` property passed to the templates, with a comment it's no longer used", "committedDate": "2020-01-28T06:42:18Z", "type": "commit"}]}