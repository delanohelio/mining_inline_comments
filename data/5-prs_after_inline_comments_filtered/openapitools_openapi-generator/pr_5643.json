{"pr_number": 5643, "pr_title": "[bug][html2] Fix visibility of body/response schemas", "pr_createdAt": "2020-03-20T11:01:50Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5643", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDYxMzYyMQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5643#discussion_r404613621", "bodyText": "I wonder if you can share a minimal spec to reproduce the issue fixed by this change?", "author": "wing328", "createdAt": "2020-04-07T08:02:27Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/DefaultCodegen.java", "diffHunk": "@@ -5482,13 +5482,20 @@ public CodegenParameter fromRequestBody(RequestBody body, Set<String> imports, S\n             setParameterNullable(codegenParameter, codegenProperty);\n         }\n \n+        addJsonSchemaForBodyRequestInCaseItsNotPresent(codegenParameter, body);\n+\n         // set the parameter's example value\n         // should be overridden by lang codegen\n         setParameterExampleValue(codegenParameter, body);\n \n         return codegenParameter;\n     }\n \n+    private void addJsonSchemaForBodyRequestInCaseItsNotPresent(CodegenParameter codegenParameter, RequestBody body){\n+        if(codegenParameter.jsonSchema == null)\n+            codegenParameter.jsonSchema = Json.pretty(body);", "originalCommit": "bf2636d67883a8e0ccf088bea9d20027fd12f65d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDkwMTMzNQ==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5643#discussion_r410901335", "bodyText": "I commented on my phone, and this was attached at the PR level rather than response here. I'm duplicating my response here in case you didn't see it.\nThis affects every spec. You can see the current samples, none of which display body parameter information.", "author": "jimschubert", "createdAt": "2020-04-19T13:09:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDYxMzYyMQ=="}], "type": "inlineReview"}, {"oid": "d8790d92773e2888795ca03a93ba1bc957c616a5", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d8790d92773e2888795ca03a93ba1bc957c616a5", "message": "1441 fix visibility of body/response schemas", "committedDate": "2020-04-19T05:26:50Z", "type": "commit"}, {"oid": "d8790d92773e2888795ca03a93ba1bc957c616a5", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d8790d92773e2888795ca03a93ba1bc957c616a5", "message": "1441 fix visibility of body/response schemas", "committedDate": "2020-04-19T05:26:50Z", "type": "forcePushed"}, {"oid": "949dfd6e5bace1df69d55ac7516171321fa891f6", "url": "https://github.com/OpenAPITools/openapi-generator/commit/949dfd6e5bace1df69d55ac7516171321fa891f6", "message": "Remove non-project files", "committedDate": "2020-04-19T12:41:57Z", "type": "commit"}, {"oid": "452029fd71c884d84791295b0a0e9dcee26f7fdf", "url": "https://github.com/OpenAPITools/openapi-generator/commit/452029fd71c884d84791295b0a0e9dcee26f7fdf", "message": "[html] Handle schemas with array items", "committedDate": "2020-04-19T12:44:55Z", "type": "commit"}, {"oid": "d7f66c2ad4e35d13f736be684c3da121488398e7", "url": "https://github.com/OpenAPITools/openapi-generator/commit/d7f66c2ad4e35d13f736be684c3da121488398e7", "message": "[html2] Point to template directory in bin script", "committedDate": "2020-04-19T12:48:40Z", "type": "commit"}, {"oid": "f7681cab12e4daf02fa61ba7e149aebb12091c94", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f7681cab12e4daf02fa61ba7e149aebb12091c94", "message": "[html2] Regenerate sample", "committedDate": "2020-04-19T12:49:53Z", "type": "commit"}]}