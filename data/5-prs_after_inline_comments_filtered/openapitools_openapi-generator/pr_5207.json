{"pr_number": 5207, "pr_title": "[typescript] Make additional properties access safer", "pr_createdAt": "2020-02-04T23:56:45Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/5207", "timeline": [{"oid": "07a77270c6a78a0714aa819483b72c57cd17b71f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/07a77270c6a78a0714aa819483b72c57cd17b71f", "message": "[typescript-fetch] Make additional properties access safer\n\nInstead of asserting that any key access returns a valid property, force\nthe consumer to check that the value is defined.", "committedDate": "2020-02-04T23:35:04Z", "type": "commit"}, {"oid": "3d9e650b627ee7a615d7097dac27661fe0e43dc8", "url": "https://github.com/OpenAPITools/openapi-generator/commit/3d9e650b627ee7a615d7097dac27661fe0e43dc8", "message": "Update tests", "committedDate": "2020-02-04T23:44:31Z", "type": "commit"}, {"oid": "19aee766856eb0f3f95f924bc984bd90f6a6eb86", "url": "https://github.com/OpenAPITools/openapi-generator/commit/19aee766856eb0f3f95f924bc984bd90f6a6eb86", "message": "Put null-safe additional props behind and flag and share", "committedDate": "2020-02-06T19:25:46Z", "type": "commit"}, {"oid": "4d0384c95a16499fb8e2fcab19bc1d964980329d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/4d0384c95a16499fb8e2fcab19bc1d964980329d", "message": "Undo over copy", "committedDate": "2020-02-06T19:27:49Z", "type": "commit"}, {"oid": "74da96b8a50298560c405748289e61ad63682360", "url": "https://github.com/OpenAPITools/openapi-generator/commit/74da96b8a50298560c405748289e61ad63682360", "message": "Update docs", "committedDate": "2020-02-06T21:09:43Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjExNTQxNg==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5207#discussion_r376115416", "bodyText": "Suggest moving it to AbstractTypescript codegen. I believe the purpose of CodegenConstants is to store stuff that is applicable to many if not all generators. While the change introduced in this PR is very typescript-specific", "author": "amakhrov", "createdAt": "2020-02-06T22:22:17Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/CodegenConstants.java", "diffHunk": "@@ -251,6 +251,9 @@\n     public static final String SUPPORTS_ES6 = \"supportsES6\";\n     public static final String SUPPORTS_ES6_DESC = \"Generate code that conforms to ES6.\";\n \n+    public static final String NULL_SAFE_ADDITIONAL_PROPS = \"nullSafeAdditionalProps\";\n+    public static final String NULL_SAFE_ADDITIONAL_PROPS_DESC = \"Set to make additional properties types declare that their indexer may return undefined\";", "originalCommit": "74da96b8a50298560c405748289e61ad63682360", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjEyMjczOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5207#discussion_r376122738", "bodyText": "Gotcha. I was following the pattern of SUPPORTS_ES6 above, but it does seem a bit too broad.", "author": "asmundg", "createdAt": "2020-02-06T22:41:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjExNTQxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjEyNDY4Mw==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/5207#discussion_r376124683", "bodyText": "I see! Yeah it looks inconsistent across the app. SUPPORTS_ES6 was introduced years ago, but some later addition (NPM_VERSION, etc) are made directly in AbstractTypescript, which makes more sense to me.", "author": "amakhrov", "createdAt": "2020-02-06T22:46:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjExNTQxNg=="}], "type": "inlineReview"}, {"oid": "27bdc97f7bd1bb28f042911355f90e811682f507", "url": "https://github.com/OpenAPITools/openapi-generator/commit/27bdc97f7bd1bb28f042911355f90e811682f507", "message": "Rearrange code", "committedDate": "2020-02-06T22:51:20Z", "type": "commit"}, {"oid": "5952d899c830472b807cbb01e982295a63ad1c52", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5952d899c830472b807cbb01e982295a63ad1c52", "message": "Move to unit tests", "committedDate": "2020-02-07T16:42:19Z", "type": "commit"}]}