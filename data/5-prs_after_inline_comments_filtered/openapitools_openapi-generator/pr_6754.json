{"pr_number": 6754, "pr_title": "[PowerShell] discard readonly properties in Initialize cmdlets", "pr_createdAt": "2020-06-23T10:04:07Z", "pr_url": "https://github.com/OpenAPITools/openapi-generator/pull/6754", "timeline": [{"oid": "49f2b4bb8064d385f08b8a5cc04da176b0d557aa", "url": "https://github.com/OpenAPITools/openapi-generator/commit/49f2b4bb8064d385f08b8a5cc04da176b0d557aa", "message": "Merge pull request #1 from OpenAPITools/master\n\ntest", "committedDate": "2020-04-16T11:43:24Z", "type": "commit"}, {"oid": "ad24d348d28835edfc90385a33357d6d51eef02d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ad24d348d28835edfc90385a33357d6d51eef02d", "message": "ValidatePattern having double quote(\") throws exception on running Build.ps1", "committedDate": "2020-04-16T11:59:58Z", "type": "commit"}, {"oid": "8bcd51d6a5cdaf81f1b274f293132bb012cf69a9", "url": "https://github.com/OpenAPITools/openapi-generator/commit/8bcd51d6a5cdaf81f1b274f293132bb012cf69a9", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-04-17T04:42:18Z", "type": "commit"}, {"oid": "ff0094804ab7c885251b31ad3a60a058c24006c0", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ff0094804ab7c885251b31ad3a60a058c24006c0", "message": "fix tab with space", "committedDate": "2020-04-17T07:50:52Z", "type": "commit"}, {"oid": "f865bd8eb8410394d938a502902231fc6331b444", "url": "https://github.com/OpenAPITools/openapi-generator/commit/f865bd8eb8410394d938a502902231fc6331b444", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-05-05T10:09:49Z", "type": "commit"}, {"oid": "1d0d4e14ecb102e453559d04b65c9dc4377bb0d7", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1d0d4e14ecb102e453559d04b65c9dc4377bb0d7", "message": "[powershell-experimental] : http signature auth", "committedDate": "2020-05-05T10:47:45Z", "type": "commit"}, {"oid": "5372b5ae8adb29e532afb3d45f51571b6a171127", "url": "https://github.com/OpenAPITools/openapi-generator/commit/5372b5ae8adb29e532afb3d45f51571b6a171127", "message": "fix the tab issue", "committedDate": "2020-05-05T11:25:19Z", "type": "commit"}, {"oid": "e6a43442a809d3bdb602828c47ffe7f977f0a508", "url": "https://github.com/OpenAPITools/openapi-generator/commit/e6a43442a809d3bdb602828c47ffe7f977f0a508", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-05-22T07:26:26Z", "type": "commit"}, {"oid": "c6a6a82a76a2326799093b6ffe219a174dd62620", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c6a6a82a76a2326799093b6ffe219a174dd62620", "message": "merge cnflict fix for powershell experimental", "committedDate": "2020-05-22T07:30:16Z", "type": "commit"}, {"oid": "0d66824619223487bd519b0bceb243621a0df8ce", "url": "https://github.com/OpenAPITools/openapi-generator/commit/0d66824619223487bd519b0bceb243621a0df8ce", "message": "Htpp signing : added support for ecdsa", "committedDate": "2020-05-22T08:44:14Z", "type": "commit"}, {"oid": "206be22c80674d4d5d7be6bda30ede2b7bba8642", "url": "https://github.com/OpenAPITools/openapi-generator/commit/206be22c80674d4d5d7be6bda30ede2b7bba8642", "message": "Merge remote-tracking branch 'upstream/master'", "committedDate": "2020-05-26T06:23:36Z", "type": "commit"}, {"oid": "7c67a2afec1555568ad1917495463ba81a083a66", "url": "https://github.com/OpenAPITools/openapi-generator/commit/7c67a2afec1555568ad1917495463ba81a083a66", "message": "Update modules/openapi-generator/src/main/resources/powershell/configuration.mustache\n\nCo-authored-by: Sebastien Rosset <serosset@cisco.com>", "committedDate": "2020-05-26T06:36:36Z", "type": "commit"}, {"oid": "c1f19a20d171fcd8d178cf31922443d78d2da056", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c1f19a20d171fcd8d178cf31922443d78d2da056", "message": "Update modules/openapi-generator/src/main/resources/powershell/configuration.mustache\n\nCo-authored-by: Sebastien Rosset <serosset@cisco.com>", "committedDate": "2020-05-26T06:37:51Z", "type": "commit"}, {"oid": "1381f3bfa385ae43dc82de5ced662226eaee0dac", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1381f3bfa385ae43dc82de5ced662226eaee0dac", "message": "Update modules/openapi-generator/src/main/resources/powershell/configuration.mustache\n\nCo-authored-by: Sebastien Rosset <serosset@cisco.com>", "committedDate": "2020-05-26T06:39:41Z", "type": "commit"}, {"oid": "83e81bc52971de380aebae999438151a04c18130", "url": "https://github.com/OpenAPITools/openapi-generator/commit/83e81bc52971de380aebae999438151a04c18130", "message": "Update modules/openapi-generator/src/main/resources/powershell/configuration.mustache\n\nCo-authored-by: Sebastien Rosset <serosset@cisco.com>", "committedDate": "2020-05-26T06:39:57Z", "type": "commit"}, {"oid": "dd6d0b5576fa525e1b19c5d504260cc3c694bf8b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/dd6d0b5576fa525e1b19c5d504260cc3c694bf8b", "message": "Update modules/openapi-generator/src/main/resources/powershell/configuration.mustache\n\nCo-authored-by: Sebastien Rosset <serosset@cisco.com>", "committedDate": "2020-05-26T06:40:15Z", "type": "commit"}, {"oid": "984f77f9475da5a4965d6c2952ece69f02bbc790", "url": "https://github.com/OpenAPITools/openapi-generator/commit/984f77f9475da5a4965d6c2952ece69f02bbc790", "message": "HttpSigningHeader accepts any header available in request to calculate the signature.", "committedDate": "2020-05-26T10:55:17Z", "type": "commit"}, {"oid": "c8676f5c5b0dbed18399da8107409438a4883402", "url": "https://github.com/OpenAPITools/openapi-generator/commit/c8676f5c5b0dbed18399da8107409438a4883402", "message": "Merge branch 'master' of github.com:Ghufz/openapi-generator", "committedDate": "2020-05-26T11:02:32Z", "type": "commit"}, {"oid": "e954b4ff2cb31304daa8f6eab8b7786e9dc2db1d", "url": "https://github.com/OpenAPITools/openapi-generator/commit/e954b4ff2cb31304daa8f6eab8b7786e9dc2db1d", "message": "Update modules/openapi-generator/src/main/resources/powershell/http_signature_auth.mustache\n\nCo-authored-by: Sebastien Rosset <serosset@cisco.com>", "committedDate": "2020-05-26T11:05:04Z", "type": "commit"}, {"oid": "9ef5ac6c13b59e918c75eb8ab206b769e7a0c99c", "url": "https://github.com/OpenAPITools/openapi-generator/commit/9ef5ac6c13b59e918c75eb8ab206b769e7a0c99c", "message": "Incorporated the review comments", "committedDate": "2020-05-27T06:24:26Z", "type": "commit"}, {"oid": "979b6d1c03ca1e9365549fca4ffed7b678fd601f", "url": "https://github.com/OpenAPITools/openapi-generator/commit/979b6d1c03ca1e9365549fca4ffed7b678fd601f", "message": "Merge branch 'master' of github.com:Ghufz/openapi-generator", "committedDate": "2020-05-27T06:24:45Z", "type": "commit"}, {"oid": "a78a8dd75b17355c633a8df9edab16635faf8c55", "url": "https://github.com/OpenAPITools/openapi-generator/commit/a78a8dd75b17355c633a8df9edab16635faf8c55", "message": "addressed the merge conflict", "committedDate": "2020-05-27T06:30:49Z", "type": "commit"}, {"oid": "1096e494f7b3f00fd9106b8c64251c7afaf032cc", "url": "https://github.com/OpenAPITools/openapi-generator/commit/1096e494f7b3f00fd9106b8c64251c7afaf032cc", "message": "fix the pester issueMerge remote-tracking branch 'upstream/master'", "committedDate": "2020-05-29T07:48:16Z", "type": "commit"}, {"oid": "e92d0c91e80eb068afc49aad27bd8b8f74155a54", "url": "https://github.com/OpenAPITools/openapi-generator/commit/e92d0c91e80eb068afc49aad27bd8b8f74155a54", "message": "Merge remote-tracking branch 'upstream/master'\nUpdate the fork repo", "committedDate": "2020-06-23T09:06:06Z", "type": "commit"}, {"oid": "ec1cc4fd0db0fba3c6cb1a85508000e585488b0b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/ec1cc4fd0db0fba3c6cb1a85508000e585488b0b", "message": "discard readonly property in initialize cmdlets", "committedDate": "2020-06-23T09:54:44Z", "type": "commit"}, {"oid": "e0b79c9e450b95dbea19d67fc2af6c1f9eac826e", "url": "https://github.com/OpenAPITools/openapi-generator/commit/e0b79c9e450b95dbea19d67fc2af6c1f9eac826e", "message": "update doc", "committedDate": "2020-06-23T15:37:42Z", "type": "commit"}, {"oid": "92f5e796d139d975e4d4cb8ea576703c4387194b", "url": "https://github.com/OpenAPITools/openapi-generator/commit/92f5e796d139d975e4d4cb8ea576703c4387194b", "message": "update powershell sample", "committedDate": "2020-06-24T09:34:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTM5NjMwOA==", "url": "https://github.com/OpenAPITools/openapi-generator/pull/6754#discussion_r445396308", "bodyText": "I'll rename the extension to x-ps-last-writable instead to make it conform to the naming convention", "author": "wing328", "createdAt": "2020-06-25T08:33:45Z", "path": "modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/PowerShellClientCodegen.java", "diffHunk": "@@ -905,9 +921,19 @@ public String toParamName(String name) {\n         for (Object _mo : models) {\n             Map<String, Object> _model = (Map<String, Object>) _mo;\n             CodegenModel model = (CodegenModel) _model.get(\"model\");\n+            CodegenProperty lastWritableProperty = null;\n \n             for (CodegenProperty cp : model.allVars) {\n                 cp.vendorExtensions.put(\"x-powershell-data-type\", getPSDataType(cp));\n+                if(this.discardReadOnly && !cp.isReadOnly) {\n+                    lastWritableProperty = cp;\n+                }\n+            }\n+\n+            // Mark the last readonly false property\n+            if(this.discardReadOnly && lastWritableProperty != null) {\n+                lastWritableProperty.vendorExtensions.put(\"x-lastWritable\", true);", "originalCommit": "92f5e796d139d975e4d4cb8ea576703c4387194b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}