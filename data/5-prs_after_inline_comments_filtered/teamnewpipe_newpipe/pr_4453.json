{"pr_number": 4453, "pr_title": "Add button in settings to clear reCAPTCHA cookies", "pr_createdAt": "2020-10-08T17:34:40Z", "pr_url": "https://github.com/TeamNewPipe/NewPipe/pull/4453", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYzMjg2Mw==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4453#discussion_r504632863", "bodyText": "Here you should also clear the downloader's cookies:\nDownloaderImpl.getInstance().setCookie(ReCaptchaActivity.RECAPTCHA_COOKIES_KEY, \"\");", "author": "Stypox", "createdAt": "2020-10-14T12:24:19Z", "path": "app/src/main/java/org/schabi/newpipe/settings/ContentSettingsFragment.java", "diffHunk": "@@ -75,6 +75,15 @@ public void onCreate(@Nullable final Bundle savedInstanceState) {\n                 .getPreferredContentCountry(requireContext());\n         initialLanguage = PreferenceManager\n                 .getDefaultSharedPreferences(requireContext()).getString(\"app_language_key\", \"en\");\n+\n+        findPreference(getString(R.string.clear_cookie_key))\n+                .setOnPreferenceClickListener(preference -> {\n+                    defaultPreferences.edit()\n+                            .putString(getString(R.string.recaptcha_cookies_key), \"\").apply();\n+                    Toast.makeText(getActivity(), R.string.recaptcha_cookies_cleared,\n+                            Toast.LENGTH_SHORT).show();\n+                    return true;", "originalCommit": "1e72bd0f72338f7bd920715d64a0bd8e83459943", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYzNjQ1OQ==", "url": "https://github.com/TeamNewPipe/NewPipe/pull/4453#discussion_r504636459", "bodyText": "Oh, I forgot we kept it in memory there.", "author": "wb9688", "createdAt": "2020-10-14T12:30:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYzMjg2Mw=="}], "type": "inlineReview"}, {"oid": "2c23678fb9026f1800951357eccace8f08c5d815", "url": "https://github.com/TeamNewPipe/NewPipe/commit/2c23678fb9026f1800951357eccace8f08c5d815", "message": "Add button in settings to clear reCAPTCHA cookies", "committedDate": "2020-10-14T12:39:08Z", "type": "commit"}]}