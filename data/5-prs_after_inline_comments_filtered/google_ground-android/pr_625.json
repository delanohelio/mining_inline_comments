{"pr_number": 625, "pr_title": "Set GPS lock icon using data bound tint", "pr_createdAt": "2020-11-10T15:35:35Z", "pr_url": "https://github.com/google/ground-android/pull/625", "timeline": [{"oid": "5355996d3a578223f2d9f98c1329495764e4033c", "url": "https://github.com/google/ground-android/commit/5355996d3a578223f2d9f98c1329495764e4033c", "message": "Set GPS lock icon using data bound tint", "committedDate": "2020-11-10T12:23:30Z", "type": "commit"}, {"oid": "c7e32a67029bf6430cf0bdddcc15b651d02f7d44", "url": "https://github.com/google/ground-android/commit/c7e32a67029bf6430cf0bdddcc15b651d02f7d44", "message": "Move default lock value up to LiveData streams", "committedDate": "2020-11-10T12:36:14Z", "type": "commit"}, {"oid": "cbbee78e5825da541ead4cd18d60ceee49d0fa7e", "url": "https://github.com/google/ground-android/commit/cbbee78e5825da541ead4cd18d60ceee49d0fa7e", "message": "Remove transparency from location lock icon", "committedDate": "2020-11-10T12:41:17Z", "type": "commit"}, {"oid": "1fe82861cb044f0b4a6a07147553a7dbd997d44a", "url": "https://github.com/google/ground-android/commit/1fe82861cb044f0b4a6a07147553a7dbd997d44a", "message": "Merge branch 'master' into issue-593", "committedDate": "2020-11-10T15:38:56Z", "type": "commit"}, {"oid": "3aac71c9a2be5e9526398839d941af48795536cf", "url": "https://github.com/google/ground-android/commit/3aac71c9a2be5e9526398839d941af48795536cf", "message": "Restore PNG location lock icons", "committedDate": "2020-11-10T15:47:35Z", "type": "commit"}, {"oid": "2f7b996504a89064876b2797f2bd7c1200dff78c", "url": "https://github.com/google/ground-android/commit/2f7b996504a89064876b2797f2bd7c1200dff78c", "message": "Merge remote-tracking branch 'origin/issue-593' into issue-593", "committedDate": "2020-11-10T15:52:13Z", "type": "commit"}, {"oid": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0", "url": "https://github.com/google/ground-android/commit/1cb3c8e10810fac19a551ef59c7931f55e80c9c0", "message": "Merge branch 'master' into issue-593", "committedDate": "2020-11-10T16:02:59Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg==", "url": "https://github.com/google/ground-android/pull/625#discussion_r520686006", "bodyText": "Can we move this to the MapContainerFragment? Only the true/false should be exposed and then the color can be set using data binding. We can also get rid of the BindingAdapter then. Wdyt?", "author": "shobhitagarwal1612", "createdAt": "2020-11-10T16:12:34Z", "path": "gnd/src/main/java/com/google/android/gnd/ui/home/mapcontainer/MapContainerViewModel.java", "diffHunk": "@@ -99,6 +100,11 @@\n     this.locationLockState =\n         LiveDataReactiveStreams.fromPublisher(\n             locationLockStateFlowable.startWith(BooleanOrError.falseValue()));\n+    this.iconTint =\n+        LiveDataReactiveStreams.fromPublisher(\n+            locationLockStateFlowable\n+                .map(locked -> locked.isTrue() ? R.color.colorMapBlue : R.color.colorGrey800)\n+                .startWith(R.color.colorGrey800));", "originalCommit": "1cb3c8e10810fac19a551ef59c7931f55e80c9c0", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTQ0NDMyOA==", "url": "https://github.com/google/ground-android/pull/625#discussion_r521444328", "bodyText": "How would we use data binding without the BindingAdapter? What would that look like?\nAlso note that we aim to have as little logic as possible in the View components (MapContainerFragment) to improve testability, so moving this in this into the Fragment might be consider a move in the opposite direction. Open to ideas though!", "author": "gino-m", "createdAt": "2020-11-11T15:37:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTk2MTgwMQ==", "url": "https://github.com/google/ground-android/pull/625#discussion_r521961801", "bodyText": "On second thought, let's stick with the current approach. Sorry for the confusion!", "author": "shobhitagarwal1612", "createdAt": "2020-11-12T09:30:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY4NjAwNg=="}], "type": "inlineReview"}, {"oid": "b4efe28c29edc3b8f4dcb5ae6650d69dc45213e0", "url": "https://github.com/google/ground-android/commit/b4efe28c29edc3b8f4dcb5ae6650d69dc45213e0", "message": "Restore PNG location lock icons", "committedDate": "2020-11-10T16:54:21Z", "type": "commit"}, {"oid": "fc7c7d86ca68cec209295675f29de43a69b94199", "url": "https://github.com/google/ground-android/commit/fc7c7d86ca68cec209295675f29de43a69b94199", "message": "Merge remote-tracking branch 'origin/issue-593' into issue-593", "committedDate": "2020-11-10T16:54:34Z", "type": "commit"}, {"oid": "2df14be60082a5f935af8e8ec1927e058eac9663", "url": "https://github.com/google/ground-android/commit/2df14be60082a5f935af8e8ec1927e058eac9663", "message": "Add required XML header", "committedDate": "2020-11-11T15:43:36Z", "type": "commit"}]}