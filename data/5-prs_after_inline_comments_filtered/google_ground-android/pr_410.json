{"pr_number": 410, "pr_title": "[Cleanup] Use DataBinding for TwoLineToolbar", "pr_createdAt": "2020-03-21T18:02:58Z", "pr_url": "https://github.com/google/ground-android/pull/410", "timeline": [{"oid": "5b00f52677d839ae7297fc632573d8306bc67ded", "url": "https://github.com/google/ground-android/commit/5b00f52677d839ae7297fc632573d8306bc67ded", "message": "Refactor ObservationDetails screen\n\n - Move setters to layout via DataBinding\n - Remove boilerplate\n - Clean view model", "committedDate": "2020-03-21T17:37:10Z", "type": "commit"}, {"oid": "dfddcbf2857db9e09b636482dbc91422781a974d", "url": "https://github.com/google/ground-android/commit/dfddcbf2857db9e09b636482dbc91422781a974d", "message": "Refactor feature_sheet_chrome.xml", "committedDate": "2020-03-21T17:42:44Z", "type": "commit"}, {"oid": "8abd42912a21852cb0bb3a9e583fa91acbb84ba8", "url": "https://github.com/google/ground-android/commit/8abd42912a21852cb0bb3a9e583fa91acbb84ba8", "message": "Refactor EditObservationFragment", "committedDate": "2020-03-21T17:49:34Z", "type": "commit"}, {"oid": "1a503750145f728da8547cce29acd3644dddf50e", "url": "https://github.com/google/ground-android/commit/1a503750145f728da8547cce29acd3644dddf50e", "message": "Remove unused field TAG", "committedDate": "2020-03-21T18:09:18Z", "type": "commit"}, {"oid": "ad76847a168ac8909cab421b325f83f3511f253c", "url": "https://github.com/google/ground-android/commit/ad76847a168ac8909cab421b325f83f3511f253c", "message": "Log -> Timber", "committedDate": "2020-03-21T18:12:14Z", "type": "commit"}, {"oid": "1384266f4177ba5fdb5162a70d09da3284572449", "url": "https://github.com/google/ground-android/commit/1384266f4177ba5fdb5162a70d09da3284572449", "message": "Remove padding to center align title with toolbar icons", "committedDate": "2020-03-21T18:20:23Z", "type": "commit"}, {"oid": "c62c634e787215f0c27d205ffcadddfa5da84f3f", "url": "https://github.com/google/ground-android/commit/c62c634e787215f0c27d205ffcadddfa5da84f3f", "message": "Merge branch 'master' into refactor#1", "committedDate": "2020-03-24T06:23:19Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkyOTEzOA==", "url": "https://github.com/google/ground-android/pull/410#discussion_r398929138", "bodyText": "To avoid the ternary operator below you could change this to if(subtitle == null || subtitle.isEmpty()){ // GONE } else { // VISIBLE }.", "author": "dturner", "createdAt": "2020-03-26T22:25:05Z", "path": "gnd/src/main/java/com/google/android/gnd/ui/common/TwoLineToolbar.java", "diffHunk": "@@ -41,12 +41,16 @@ public TwoLineToolbar(Context context, @Nullable AttributeSet attrs) {\n     ButterKnife.bind(this);\n   }\n \n-  public void setTitle(String title) {\n+  public void setTitle(@Nullable String title) {\n     titleText.setText(title);\n   }\n \n-  public void setSubtitle(String subtitle) {\n+  public void setSubtitle(@Nullable String subtitle) {\n     subtitleText.setText(subtitle);\n-    subtitleText.setVisibility(subtitle.isEmpty() ? View.GONE : View.VISIBLE);\n+    if (subtitle == null) {", "originalCommit": "c62c634e787215f0c27d205ffcadddfa5da84f3f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkyOTMyMg==", "url": "https://github.com/google/ground-android/pull/410#discussion_r398929322", "bodyText": "nit: These logging changes would be better in a different PR since they are unrelated to the DataBinding change.", "author": "dturner", "createdAt": "2020-03-26T22:25:32Z", "path": "gnd/src/main/java/com/google/android/gnd/MainActivity.java", "diffHunk": "@@ -45,6 +44,7 @@\n import dagger.android.support.DaggerAppCompatActivity;\n import javax.inject.Inject;\n import javax.inject.Singleton;\n+import timber.log.Timber;", "originalCommit": "c62c634e787215f0c27d205ffcadddfa5da84f3f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "8ebc6858294e7b4ecac9f45d7fd34da45689aa10", "url": "https://github.com/google/ground-android/commit/8ebc6858294e7b4ecac9f45d7fd34da45689aa10", "message": "Merge branch 'master' into refactor#1", "committedDate": "2020-03-27T04:29:13Z", "type": "commit"}, {"oid": "06c79f426aca85c51e74164b5107894c9a559e72", "url": "https://github.com/google/ground-android/commit/06c79f426aca85c51e74164b5107894c9a559e72", "message": "Simplify ternary with if condition", "committedDate": "2020-03-27T04:32:50Z", "type": "commit"}, {"oid": "2d97f782241ee3fda051f0f4454f12760a5d4b79", "url": "https://github.com/google/ground-android/commit/2d97f782241ee3fda051f0f4454f12760a5d4b79", "message": "Revert timber changes", "committedDate": "2020-03-27T04:33:52Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQyMDU0NA==", "url": "https://github.com/google/ground-android/pull/410#discussion_r399420544", "bodyText": "Still seeing a few of these Timber changes but it's super picky so LGTM.", "author": "dturner", "createdAt": "2020-03-27T17:17:11Z", "path": "gnd/src/main/java/com/google/android/gnd/ui/home/HomeScreenFragment.java", "diffHunk": "@@ -362,7 +359,7 @@ private int getSelectedProjectIndex(Project activeProject) {\n \n   private void onShowAddFeatureDialogRequest(Point location) {\n     if (!Loadable.getValue(viewModel.getActiveProject()).isPresent()) {\n-      Log.e(TAG, \"Attempting to add feature while no project loaded\");\n+      Timber.e(\"Attempting to add feature while no project loaded\");", "originalCommit": "2d97f782241ee3fda051f0f4454f12760a5d4b79", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQ0NjQ0Mw==", "url": "https://github.com/google/ground-android/pull/410#discussion_r399446443", "bodyText": "I just thought of cleaning it up while we were editing the file. But will remember the suggestion for future PRs. Thanks", "author": "shobhitagarwal1612", "createdAt": "2020-03-27T18:00:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQyMDU0NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUyNDk4MA==", "url": "https://github.com/google/ground-android/pull/410#discussion_r399524980", "bodyText": "+1 to cleaning these up in bulk in a separate PR, but ok for this one.", "author": "gino-m", "createdAt": "2020-03-27T20:36:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQyMDU0NA=="}], "type": "inlineReview"}]}