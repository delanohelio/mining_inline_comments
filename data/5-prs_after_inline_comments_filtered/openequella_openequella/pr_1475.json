{"pr_number": 1475, "pr_title": "Feature/improve-oEQ-accessibility", "pr_createdAt": "2020-02-11T00:47:11Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/1475", "timeline": [{"oid": "5eb932d425824404b7b0b67bd5ac2d505659a77b", "url": "https://github.com/openequella/openEQUELLA/commit/5eb932d425824404b7b0b67bd5ac2d505659a77b", "message": "Add the ability of setting aria-label text to HTML elements.", "committedDate": "2020-02-11T00:26:40Z", "type": "commit"}, {"oid": "77fc3353f5036b4a623e5cf3bb13766169f4a8b6", "url": "https://github.com/openequella/openEQUELLA/commit/77fc3353f5036b4a623e5cf3bb13766169f4a8b6", "message": "Fix a spelling issue and all characters of 'screenoptions' should be lowercase.", "committedDate": "2020-02-11T01:00:36Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODA1MDM3Nw==", "url": "https://github.com/openequella/openEQUELLA/pull/1475#discussion_r378050377", "bodyText": "This seems curious.. You check to see if state.getLabelText() is not empty, however then you use just plain getLabelText() rather than state.getLabelText(). Considering the getLabelText() implementation in AbstractComponentRenderer simply does the state.getLabelText() you could stick to only using that for both calls.", "author": "edalex-ian", "createdAt": "2020-02-12T05:45:32Z", "path": "Source/Plugins/Core/com.equella.core/src/com/tle/web/sections/standard/renderers/AbstractElementRenderer.java", "diffHunk": "@@ -34,7 +34,10 @@ public AbstractElementRenderer(HtmlComponentState state) {\n   protected void prepareFirstAttributes(SectionWriter writer, Map<String, String> attrs)\n       throws IOException {\n     super.prepareFirstAttributes(writer, attrs);\n-    attrs.put(\"name\", getName(writer)); // $NON-NLS-1$\n+    attrs.put(\"name\", getName(writer));\n+    if (state.getLabel() == null && !state.getLabelText().isEmpty()) {\n+      attrs.put(\"aria-label\", getLabelText());", "originalCommit": "77fc3353f5036b4a623e5cf3bb13766169f4a8b6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a7e1b4acac006e1a17a1486190e26a457584e019", "url": "https://github.com/openequella/openEQUELLA/commit/a7e1b4acac006e1a17a1486190e26a457584e019", "message": "Fix accessibility issues for below oEQ Web components\n* Screen option\n* Search button in the Quick Search Portlet\n* Filter, Sort, Share buttons in the Search page\n* Show attachments button in the Search page\n* Archive extractions dropdown\n* Mandatory fields (textfield only)\n* Modal dialogs", "committedDate": "2020-02-13T06:26:52Z", "type": "commit"}, {"oid": "378b13d498ed41c5c902509b16c61e17a5ace162", "url": "https://github.com/openequella/openEQUELLA/commit/378b13d498ed41c5c902509b16c61e17a5ace162", "message": "Give the title DIVs of dialogs a proper id", "committedDate": "2020-02-13T22:50:49Z", "type": "commit"}, {"oid": "58240c537a7983c0b84affb2a025ebb2bf2260b4", "url": "https://github.com/openequella/openEQUELLA/commit/58240c537a7983c0b84affb2a025ebb2bf2260b4", "message": "Add labels to Star rating", "committedDate": "2020-02-14T00:33:51Z", "type": "commit"}]}