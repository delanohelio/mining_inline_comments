{"pr_number": 1513, "pr_title": "Add new Search Settings page", "pr_createdAt": "2020-02-27T23:20:49Z", "pr_url": "https://github.com/openequella/openEQUELLA/pull/1513", "timeline": [{"oid": "7f649cc92edccd56c834d6fa2e9f1a36c8ffce3a", "url": "https://github.com/openequella/openEQUELLA/commit/7f649cc92edccd56c834d6fa2e9f1a36c8ffce3a", "message": "Add new subcategory to Searching menu", "committedDate": "2020-02-27T22:54:17Z", "type": "commit"}, {"oid": "5ac359d9bb3b1bb371cc75e803fd2ec1e342fcc3", "url": "https://github.com/openequella/openEQUELLA/commit/5ac359d9bb3b1bb371cc75e803fd2ec1e342fcc3", "message": "Add type definitions and API call methods", "committedDate": "2020-02-27T22:54:17Z", "type": "commit"}, {"oid": "240d537d3da94c6cfeb300458d89d70ca4aac8b6", "url": "https://github.com/openequella/openEQUELLA/commit/240d537d3da94c6cfeb300458d89d70ca4aac8b6", "message": "Add route for new search page", "committedDate": "2020-02-27T22:54:17Z", "type": "commit"}, {"oid": "fcb8f4993e93a2d2de65fb305fa8121c07512720", "url": "https://github.com/openequella/openEQUELLA/commit/fcb8f4993e93a2d2de65fb305fa8121c07512720", "message": "Create language strings", "committedDate": "2020-02-27T22:54:17Z", "type": "commit"}, {"oid": "8b0cf2ec46cc311c9f8cbfe5ac57732eb144c4b5", "url": "https://github.com/openequella/openEQUELLA/commit/8b0cf2ec46cc311c9f8cbfe5ac57732eb144c4b5", "message": "Implement Search Page settings page", "committedDate": "2020-02-27T22:54:18Z", "type": "commit"}, {"oid": "1f0ca9ef28eb2e66ba4720f6b49988a89118b9d9", "url": "https://github.com/openequella/openEQUELLA/commit/1f0ca9ef28eb2e66ba4720f6b49988a89118b9d9", "message": "Test against correct ACL", "committedDate": "2020-02-27T23:18:34Z", "type": "commit"}, {"oid": "785419fe8644c464207788427625c03e71ad8807", "url": "https://github.com/openequella/openEQUELLA/commit/785419fe8644c464207788427625c03e71ad8807", "message": "Add IDs for test access", "committedDate": "2020-02-28T05:30:41Z", "type": "commit"}, {"oid": "29207a692771b73c1696fc1ac077b15a52320491", "url": "https://github.com/openequella/openEQUELLA/commit/29207a692771b73c1696fc1ac077b15a52320491", "message": "Change incorrect POST calls to PUT calls", "committedDate": "2020-02-28T05:31:08Z", "type": "commit"}, {"oid": "54ac8d620e8d1af0b22b7396bb05d5c3ad216e5a", "url": "https://github.com/openequella/openEQUELLA/commit/54ac8d620e8d1af0b22b7396bb05d5c3ad216e5a", "message": "Add method for detecting presence of Image Gallery button on search page", "committedDate": "2020-02-28T05:33:17Z", "type": "commit"}, {"oid": "71194b4850b083b00198e4fa5d6fbb2eba0887d2", "url": "https://github.com/openequella/openEQUELLA/commit/71194b4850b083b00198e4fa5d6fbb2eba0887d2", "message": "Update tests to work with the new page and remove filter tests for now", "committedDate": "2020-02-28T05:34:47Z", "type": "commit"}, {"oid": "3c78888208267d483425dd5a224b77c79f0bc3d8", "url": "https://github.com/openequella/openEQUELLA/commit/3c78888208267d483425dd5a224b77c79f0bc3d8", "message": "Increase padding on form controls", "committedDate": "2020-02-28T05:43:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUzMTc5Nw==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r385531797", "bodyText": "Different schools of thought but in the past I've primarily aimed to make the functional tests easily readable, relying on a combination of page objects, fluent methods and ensuring complexity is not in the test method itself.\nThis file has a lot of repeating logic that bloats the test, e.g.\nSearchSettingsPage ssp = new SettingsPage(context).load().searchSettings().load();\n...something\nssp.save();\n\nAlternative might be something like below, which chains things together when all that's desired is the end result so the test can then assert things\nSearchSettingsPage ssp = new SettingsPage(context)\n    .loadSearchSettings()\n    .doSomething()\n    .doOtherThing()\n    .save()\n\nThere's also quite a bit use of hard asserts (fail after the first assert failure) rather than soft asserts (run all the asserts and fail if any fail), this can result in one error hiding other errors.", "author": "edalex-tom", "createdAt": "2020-02-28T06:46:59Z", "path": "autotest/OldTests/src/test/java/com/tle/webtests/test/searching/SearchSettingsTest.java", "diffHunk": "@@ -164,89 +154,29 @@ public void testDisableCloud() {\n     assertTrue(!ssp.isDisableCloud(), \"Cloud was not enabled\");\n   }\n \n-  // Test the setup/usage of the MIME type search filters\n-  @Test(dataProvider = \"filters\")\n-  public void testSetupSearchFilters(String filterName, String mimetype, int count) {\n-    logon(\"AutoTest\", \"automated\");\n-    SearchSettingsPage ssp = new SettingsPage(context).load().searchSettings();\n-    CreateSearchFilterPage sfp = ssp.addFilter();\n-    sfp.setName(filterName).selectMimeType(mimetype, true).save();\n-\n-    // Check for receipt\n-    ReceiptPage.waiter(\"Search filter saved successfully\", ssp).get();\n-\n-    // Check table\n-    assertTrue(ssp.hasFilter(filterName), \"Did not find filter with name: \" + filterName);\n-\n-    SearchPage searchPage = new SearchPage(context).load();\n-    assertTrue(\n-        searchPage.hasResourceTypeFilter(filterName),\n-        \"Expected to find \" + filterName + \" in resource type filters\");\n-    searchPage.clearResourceTypeFilters();\n-    searchPage.checkResourceTypeFilter(filterName, true);\n-    String itemName = MessageFormat.format(\"SearchSettings - Image {0} - {1}\", count, filterName);\n-    ItemListPage results = SearchPage.searchExact(context, itemName);\n-    assertTrue(results.doesResultExist(itemName, 1));\n-  }\n-\n-  // Test the editing of MIME type search filters\n-  @Test(dependsOnMethods = {\"testRemoveSearchFilters\"})\n-  public void testEditSearchFilter() {\n+  @Test\n+  public void testDisableGallery() {", "originalCommit": "3c78888208267d483425dd5a224b77c79f0bc3d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxNzg2MA==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r394817860", "bodyText": "Definitely all good feedback. \ud83d\udc4d\nAnd something we are aiming for all new tests - I believe @SammyIsConfused is across this from other new tests done. I guess here we're just trying to make sure existing tests continue to function. It'd be nice to refactor them, but we'd quickly run out of time. :'(", "author": "edalex-ian", "createdAt": "2020-03-19T06:42:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUzMTc5Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUzMjkwNA==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r385532904", "bodyText": "Is there ever a scenario where a page object construction is not followed by a load?", "author": "edalex-tom", "createdAt": "2020-02-28T06:51:26Z", "path": "autotest/OldTests/src/test/java/com/tle/webtests/test/searching/SearchSettingsTest.java", "diffHunk": "@@ -164,89 +154,29 @@ public void testDisableCloud() {\n     assertTrue(!ssp.isDisableCloud(), \"Cloud was not enabled\");\n   }\n \n-  // Test the setup/usage of the MIME type search filters\n-  @Test(dataProvider = \"filters\")\n-  public void testSetupSearchFilters(String filterName, String mimetype, int count) {\n-    logon(\"AutoTest\", \"automated\");\n-    SearchSettingsPage ssp = new SettingsPage(context).load().searchSettings();\n-    CreateSearchFilterPage sfp = ssp.addFilter();\n-    sfp.setName(filterName).selectMimeType(mimetype, true).save();\n-\n-    // Check for receipt\n-    ReceiptPage.waiter(\"Search filter saved successfully\", ssp).get();\n-\n-    // Check table\n-    assertTrue(ssp.hasFilter(filterName), \"Did not find filter with name: \" + filterName);\n-\n-    SearchPage searchPage = new SearchPage(context).load();\n-    assertTrue(\n-        searchPage.hasResourceTypeFilter(filterName),\n-        \"Expected to find \" + filterName + \" in resource type filters\");\n-    searchPage.clearResourceTypeFilters();\n-    searchPage.checkResourceTypeFilter(filterName, true);\n-    String itemName = MessageFormat.format(\"SearchSettings - Image {0} - {1}\", count, filterName);\n-    ItemListPage results = SearchPage.searchExact(context, itemName);\n-    assertTrue(results.doesResultExist(itemName, 1));\n-  }\n-\n-  // Test the editing of MIME type search filters\n-  @Test(dependsOnMethods = {\"testRemoveSearchFilters\"})\n-  public void testEditSearchFilter() {\n+  @Test\n+  public void testDisableGallery() {\n+    // Disable Images Gallery view\n     logon(\"AutoTest\", \"automated\");\n-    SearchSettingsPage ssp = new SettingsPage(context).load().searchSettings();\n-    CreateSearchFilterPage sfp = ssp.addFilter();\n-    String filterName = \"All Images\";\n-    String filterNameEdited = \"All Images - Edited\";\n-\n-    sfp.saveWithErrors();\n-    assertTrue(sfp.nameValidationExists());\n-    assertTrue(sfp.mimeTypeValidationExists());\n-\n-    sfp.setName(filterName).saveWithErrors();\n-    assertTrue(!sfp.nameValidationExists());\n-\n-    sfp.setName(\"\");\n-    sfp.selectMimeTypes(\n-            Arrays.asList(\"image/jpeg\", \"image/bmp\", \"image/png\", \"image/tiff\", \"equella/plan\"))\n-        .saveWithErrors();\n-    assertTrue(!sfp.mimeTypeValidationExists());\n-\n-    ssp = sfp.setName(filterName).save();\n-\n-    sfp = ssp.editFilter(filterName);\n-    ((JavascriptExecutor) getContext().getDriver())\n-        .executeScript(\"window.scrollTo(0, -document.body.scrollHeight)\");\n-    sfp.selectMimeType(\"equella/plan\", false);\n-    ssp = sfp.selectMimeType(\"image/gif\", true).setName(filterNameEdited).save().get();\n-    assertTrue(\n-        ssp.hasFilter(filterNameEdited), \"Filter '\" + filterNameEdited + \"' was not present\");\n+    SearchSettingsPage ssp = new SettingsPage(context).load().searchSettings().load();\n+    ssp.setDisableImageGallery(true);\n+    ssp.save();\n \n+    // Go to search page, test that gallery is disabled\n     SearchPage searchPage = new SearchPage(context).load();\n-    assertTrue(searchPage.hasResourceTypeFilter(filterNameEdited));\n+    assertFalse(searchPage.isImagesLinkAvailable());\n \n-    ssp = new SettingsPage(context).load().searchSettings();\n-    sfp = ssp.editFilter(filterNameEdited);\n-    String bogusName = \"bogusfiltername\";\n-    sfp.setName(bogusName).cancel();\n-    assertTrue(!ssp.hasFilter(bogusName));\n-\n-    ssp = new SettingsPage(context).load().searchSettings();\n-    ssp.removeFilter(filterNameEdited);\n-    assertTrue(!ssp.hasFilter(filterNameEdited));\n-  }\n+    // Now reenable Images Gallery\n+    ssp = new SettingsPage(context).load().searchSettings().load();\n+    ssp.setDisableImageGallery(false);\n+    ssp.save();\n \n-  // Test the removal of the MIME type search filters\n-  @Test(\n-      dependsOnMethods = {\"testSetupSearchFilters\"},\n-      dataProvider = \"filters\")\n-  public void testRemoveSearchFilters(String filterName, String mimetype, int count) {\n-    SearchSettingsPage ssp = new SettingsPage(context).load().searchSettings();\n-    ssp.removeFilter(filterName);\n-    assertTrue(!ssp.hasFilter(filterName), \"Expected not to see \" + filterName + \" after removal\");\n+    // Go to search page, test that gallery is enabled\n+    searchPage = new SearchPage(context).load();", "originalCommit": "3c78888208267d483425dd5a224b77c79f0bc3d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjIwOTQxOA==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r386209418", "bodyText": "Quite a lot are followed by a get", "author": "PenghaiZhang", "createdAt": "2020-03-02T06:00:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUzMjkwNA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUzNjU2OA==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r385536568", "bodyText": "Should the constant still be used?", "author": "edalex-tom", "createdAt": "2020-02-28T07:03:33Z", "path": "autotest/Tests/src/main/java/com/tle/webtests/pageobject/searching/SearchSettingsPage.java", "diffHunk": "@@ -43,25 +44,34 @@\n   @FindBy(id = \"cs_dc\")\n   private WebElement disableCloud;\n \n+  @FindBy(id = \"_disableGallery\")\n+  private WebElement disableGalleryCheckbox;\n+\n+  @FindBy(id = \"_sortOrder\")\n+  private WebElement sortOrderDropdown;\n+\n   private EquellaSelect resultOrder;\n \n   public SearchSettingsPage(PageContext context) {\n-    super(context, By.xpath(\"//h2[text()='\" + SEARCH_SETTINGS_SECTION_TITLE + \"']\"));\n+    super(context, By.xpath(\"//h5[text()='Search page settings']\"));", "originalCommit": "3c78888208267d483425dd5a224b77c79f0bc3d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc5NzI2MA==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r386797260", "bodyText": "Yep! Done.", "author": "SammyIsConfused", "createdAt": "2020-03-03T04:47:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTUzNjU2OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU0NzkxNQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r385547915", "bodyText": "Not sure on any preferences towards adding javadoc to tests", "author": "edalex-tom", "createdAt": "2020-02-28T07:42:32Z", "path": "autotest/Tests/src/main/java/com/tle/webtests/pageobject/searching/SearchSettingsPage.java", "diffHunk": "@@ -43,25 +44,34 @@\n   @FindBy(id = \"cs_dc\")\n   private WebElement disableCloud;\n \n+  @FindBy(id = \"_disableGallery\")\n+  private WebElement disableGalleryCheckbox;\n+\n+  @FindBy(id = \"_sortOrder\")\n+  private WebElement sortOrderDropdown;\n+\n   private EquellaSelect resultOrder;\n \n   public SearchSettingsPage(PageContext context) {", "originalCommit": "3c78888208267d483425dd5a224b77c79f0bc3d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDgxOTIwOA==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r394819208", "bodyText": "I have a preference for JavaDoc in tests. \ud83d\ude01\nI find it especially in XyzPage classes to tell me where/what this page actually is meant to be representing. Could be good to quickly add that in @SammyIsConfused", "author": "edalex-ian", "createdAt": "2020-03-19T06:46:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU0NzkxNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU1MDQwNQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r385550405", "bodyText": "Is the normalize-space needed?\nIf the xpath fails then I'm not sure the test really informs what was there, e.g. if Images isn't found then the test could output what was found to give more information about the failure.  Otherwise someone would need to check the artifacts?  I don't know if the UIs tests are performing screenshots and page dumps on failures", "author": "edalex-tom", "createdAt": "2020-02-28T07:50:25Z", "path": "autotest/Tests/src/main/java/com/tle/webtests/pageobject/searching/SearchPage.java", "diffHunk": "@@ -145,6 +145,14 @@ public PowerSearchPage setWithinPowerSearch(String powersearch) {\n     return new PowerSearchPage(this).get();\n   }\n \n+  public boolean isImagesLinkAvailable() {\n+    return driver\n+            .findElements(\n+                By.xpath(\"//div[@id='result-type-select']/a[normalize-space(@title) = 'Images']\"))", "originalCommit": "3c78888208267d483425dd5a224b77c79f0bc3d8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc5NjY5OQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r386796699", "bodyText": "It hasn't generally been the pattern so far to add context to failures in oEQ (not that that means we shouldn't) mainly because screenshots on failures are performed.", "author": "SammyIsConfused", "createdAt": "2020-03-03T04:44:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU1MDQwNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njk1MTE4MQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r386951181", "bodyText": "Fair enough, I've never found screenshots to be super useful from UI tests and have added helpers in the past to dump the HTML plus any console errors", "author": "edalex-tom", "createdAt": "2020-03-03T11:12:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU1MDQwNQ=="}], "type": "inlineReview"}, {"oid": "f86a7cf7c1770609ba2f47697833415dcb071eda", "url": "https://github.com/openequella/openEQUELLA/commit/f86a7cf7c1770609ba2f47697833415dcb071eda", "message": "Change string variable identifier to be more specific", "committedDate": "2020-03-02T23:20:11Z", "type": "commit"}, {"oid": "35618918d932d7ae0afe28cc945ec861e84af778", "url": "https://github.com/openequella/openEQUELLA/commit/35618918d932d7ae0afe28cc945ec861e84af778", "message": "Change from section containers to Grid containers, remove unneccessary styles", "committedDate": "2020-03-02T23:53:26Z", "type": "commit"}, {"oid": "6e4b314dfee633307212697316d840b104dbd811", "url": "https://github.com/openequella/openEQUELLA/commit/6e4b314dfee633307212697316d840b104dbd811", "message": "Simplify API call chaining", "committedDate": "2020-03-03T00:14:03Z", "type": "commit"}, {"oid": "079ca239f36281163ff7507e18560a89bc41f3c4", "url": "https://github.com/openequella/openEQUELLA/commit/079ca239f36281163ff7507e18560a89bc41f3c4", "message": "Simplify null check", "committedDate": "2020-03-03T00:31:49Z", "type": "commit"}, {"oid": "186cb0e6e296b1ada4ff569399186a7c1dcc8e7f", "url": "https://github.com/openequella/openEQUELLA/commit/186cb0e6e296b1ada4ff569399186a7c1dcc8e7f", "message": "Refactor components into their own files", "committedDate": "2020-03-03T04:03:57Z", "type": "commit"}, {"oid": "e4009595bda78fa22001e54481bbad20a7bc18a8", "url": "https://github.com/openequella/openEQUELLA/commit/e4009595bda78fa22001e54481bbad20a7bc18a8", "message": "Handle permissions errors", "committedDate": "2020-03-03T04:25:27Z", "type": "commit"}, {"oid": "c4c38374c676cb35b1a5cba8126e854b75c04de5", "url": "https://github.com/openequella/openEQUELLA/commit/c4c38374c676cb35b1a5cba8126e854b75c04de5", "message": "Fix edge case in which a non-standard axios error would have no display", "committedDate": "2020-03-03T04:29:40Z", "type": "commit"}, {"oid": "1faeea19d32456609c2dff87d3bdb150b2026262", "url": "https://github.com/openequella/openEQUELLA/commit/1faeea19d32456609c2dff87d3bdb150b2026262", "message": "Use constant string in xpath", "committedDate": "2020-03-03T04:42:36Z", "type": "commit"}, {"oid": "d3eabaf29100e33dee6d6a8fc8c9c994efd59733", "url": "https://github.com/openequella/openEQUELLA/commit/d3eabaf29100e33dee6d6a8fc8c9c994efd59733", "message": "Remove normalize-space from xpath", "committedDate": "2020-03-03T04:43:08Z", "type": "commit"}, {"oid": "1ece8ed9989bdec1c0d73c6b5ac2d334d6793e41", "url": "https://github.com/openequella/openEQUELLA/commit/1ece8ed9989bdec1c0d73c6b5ac2d334d6793e41", "message": "Make testDisableGallery more readable", "committedDate": "2020-03-03T04:57:30Z", "type": "commit"}, {"oid": "8e76e7362a3bbe0b9fb3a5ca5c6e90b2eccb44f7", "url": "https://github.com/openequella/openEQUELLA/commit/8e76e7362a3bbe0b9fb3a5ca5c6e90b2eccb44f7", "message": "Revert to just using setState calls rather than a wrapper function", "committedDate": "2020-03-03T06:01:42Z", "type": "commit"}, {"oid": "3258a7d79bf50ef886f7723b65c02050ae428c85", "url": "https://github.com/openequella/openEQUELLA/commit/3258a7d79bf50ef886f7723b65c02050ae428c85", "message": "Rename error and success flags", "committedDate": "2020-03-03T23:00:22Z", "type": "commit"}, {"oid": "f3d48897a583be5d0cd20bdad27f25926b9b1e4e", "url": "https://github.com/openequella/openEQUELLA/commit/f3d48897a583be5d0cd20bdad27f25926b9b1e4e", "message": "Create SettingsCheckbox.tsx wrapper for form control", "committedDate": "2020-03-04T00:20:47Z", "type": "commit"}, {"oid": "c117a10ef16af8dd80359a3da27433c7ec5d4581", "url": "https://github.com/openequella/openEQUELLA/commit/c117a10ef16af8dd80359a3da27433c7ec5d4581", "message": "Remove commented out code", "committedDate": "2020-03-04T00:27:46Z", "type": "commit"}, {"oid": "6aadeafc9886390c9c4966f2d738326aaa9b0454", "url": "https://github.com/openequella/openEQUELLA/commit/6aadeafc9886390c9c4966f2d738326aaa9b0454", "message": "Destructure props in the function signature", "committedDate": "2020-03-04T00:49:09Z", "type": "commit"}, {"oid": "019d1b87cd15ec78752a4afd0c19893489e49652", "url": "https://github.com/openequella/openEQUELLA/commit/019d1b87cd15ec78752a4afd0c19893489e49652", "message": "Stop DefaultSortOrderSetting from accessing the whole searchsettings object", "committedDate": "2020-03-04T00:59:35Z", "type": "commit"}, {"oid": "31eaebb1a5257e6be67057f67580be4c0f8d929e", "url": "https://github.com/openequella/openEQUELLA/commit/31eaebb1a5257e6be67057f67580be4c0f8d929e", "message": "Use React.Fragment rather than a needless Grid container", "committedDate": "2020-03-04T02:05:29Z", "type": "commit"}, {"oid": "9892492dfa81d60edb0be8d8cd40a78c27f18edd", "url": "https://github.com/openequella/openEQUELLA/commit/9892492dfa81d60edb0be8d8cd40a78c27f18edd", "message": "Wrap DefaultSortOrderSetting with FormControl rather than Grid", "committedDate": "2020-03-04T03:05:40Z", "type": "commit"}, {"oid": "8ed4df73d903fd73e00460847e1848ab444de07a", "url": "https://github.com/openequella/openEQUELLA/commit/8ed4df73d903fd73e00460847e1848ab444de07a", "message": "Use original institution to prevent test collisions\n\nSearchSettingsTest gets in the way of SearchSettingsAutoCompleteTest if\nboth are in the same institution. So, SearchSettingsTest returns to its\noriginal institution.", "committedDate": "2020-03-05T00:56:33Z", "type": "commit"}, {"oid": "309d6af2ab505111130f9e63115127bab4c936a5", "url": "https://github.com/openequella/openEQUELLA/commit/309d6af2ab505111130f9e63115127bab4c936a5", "message": "Add Jest snapshot test", "committedDate": "2020-03-05T03:47:47Z", "type": "commit"}, {"oid": "b4323fbb2ecff72fea71727b8d024404271a273d", "url": "https://github.com/openequella/openEQUELLA/commit/b4323fbb2ecff72fea71727b8d024404271a273d", "message": "Add jest options to package.json", "committedDate": "2020-03-05T04:11:58Z", "type": "commit"}, {"oid": "4e31b345b29523c3ef16772e1dab58d2e22df28f", "url": "https://github.com/openequella/openEQUELLA/commit/4e31b345b29523c3ef16772e1dab58d2e22df28f", "message": "Enable Jest on JS and TS", "committedDate": "2020-03-10T01:33:14Z", "type": "commit"}, {"oid": "1206660028bdefd2dbca35ee616df0c423bf0d35", "url": "https://github.com/openequella/openEQUELLA/commit/1206660028bdefd2dbca35ee616df0c423bf0d35", "message": "Add display names to jest configurations", "committedDate": "2020-03-10T01:39:50Z", "type": "commit"}, {"oid": "331551ecc8d9af79e3301bc671c6e3a817dde6f0", "url": "https://github.com/openequella/openEQUELLA/commit/331551ecc8d9af79e3301bc671c6e3a817dde6f0", "message": "Add dependency for jest-config", "committedDate": "2020-03-10T02:42:42Z", "type": "commit"}, {"oid": "e3ba64bc010d389df250fc602eb1e5a37325ff84", "url": "https://github.com/openequella/openEQUELLA/commit/e3ba64bc010d389df250fc602eb1e5a37325ff84", "message": "Merge branch 'develop' into feature/add_new_search_settings_page", "committedDate": "2020-03-16T23:01:08Z", "type": "commit"}, {"oid": "aa8a6f402597380f1bbffc33603b1398b366d030", "url": "https://github.com/openequella/openEQUELLA/commit/aa8a6f402597380f1bbffc33603b1398b366d030", "message": "Make Jest config match develop", "committedDate": "2020-03-16T23:53:47Z", "type": "commit"}, {"oid": "48d91b56004660198a9ce47a530bc2d27e4be9b9", "url": "https://github.com/openequella/openEQUELLA/commit/48d91b56004660198a9ce47a530bc2d27e4be9b9", "message": "Move test to match with existing pattern", "committedDate": "2020-03-16T23:54:30Z", "type": "commit"}, {"oid": "9669fa05799836bf0d191a08cd099f1f8da9dbc9", "url": "https://github.com/openequella/openEQUELLA/commit/9669fa05799836bf0d191a08cd099f1f8da9dbc9", "message": "Remove unnecessary snapshot test, add onchange testing", "committedDate": "2020-03-17T00:04:18Z", "type": "commit"}, {"oid": "c759ec728f96e02420675b13ff9054425dd51cd4", "url": "https://github.com/openequella/openEQUELLA/commit/c759ec728f96e02420675b13ff9054425dd51cd4", "message": "Merge branch 'component/search_configuration' into feature/add_new_search_settings_page", "committedDate": "2020-03-17T00:19:28Z", "type": "commit"}, {"oid": "bad9f3c3b2424aede5ce83f9be57d9eaf33b80c9", "url": "https://github.com/openequella/openEQUELLA/commit/bad9f3c3b2424aede5ce83f9be57d9eaf33b80c9", "message": "Make useStyles a const\n\nCo-Authored-By: Christian Murphy <christian.murphy.42@gmail.com>", "committedDate": "2020-03-17T00:21:57Z", "type": "commit"}, {"oid": "e0af72915ed229133c417a729ece7f7c22706d02", "url": "https://github.com/openequella/openEQUELLA/commit/e0af72915ed229133c417a729ece7f7c22706d02", "message": "Add wait to save on SearchSettings tests", "committedDate": "2020-03-17T02:53:33Z", "type": "commit"}, {"oid": "24ad41a49b05a7b3f6ff2ad0d5a672fbeb379a62", "url": "https://github.com/openequella/openEQUELLA/commit/24ad41a49b05a7b3f6ff2ad0d5a672fbeb379a62", "message": "Remove whitespace", "committedDate": "2020-03-17T03:33:19Z", "type": "commit"}, {"oid": "ad4f66186ac2b99cd51e1b64715d77844c030d64", "url": "https://github.com/openequella/openEQUELLA/commit/ad4f66186ac2b99cd51e1b64715d77844c030d64", "message": "Merge branch 'develop' into feature/add_new_search_settings_page", "committedDate": "2020-03-17T23:02:25Z", "type": "commit"}, {"oid": "eaf2013d1cd693f0cac1b0e94c5dcdcf4937836f", "url": "https://github.com/openequella/openEQUELLA/commit/eaf2013d1cd693f0cac1b0e94c5dcdcf4937836f", "message": "Fix SearchSettingsTest flakiness", "committedDate": "2020-03-18T00:22:41Z", "type": "commit"}, {"oid": "860d36c5fdc2827b3514088b6c36db0dd4f9ae3f", "url": "https://github.com/openequella/openEQUELLA/commit/860d36c5fdc2827b3514088b6c36db0dd4f9ae3f", "message": "Put save button inside grid", "committedDate": "2020-03-18T02:38:38Z", "type": "commit"}, {"oid": "2e6bb714f2806f022e5c520a725f5b6846d981ae", "url": "https://github.com/openequella/openEQUELLA/commit/2e6bb714f2806f022e5c520a725f5b6846d981ae", "message": "Use JavascriptExecutor for save click\n\nIssue with test in codebuild causes selenium click to break.", "committedDate": "2020-03-18T03:27:29Z", "type": "commit"}, {"oid": "1c82763f509ab8e932cba299ca0465336627b323", "url": "https://github.com/openequella/openEQUELLA/commit/1c82763f509ab8e932cba299ca0465336627b323", "message": "Use helper functions in Jest Test", "committedDate": "2020-03-18T05:27:32Z", "type": "commit"}, {"oid": "201a8a3887fdf287deabd6d8e51482cab512b270", "url": "https://github.com/openequella/openEQUELLA/commit/201a8a3887fdf287deabd6d8e51482cab512b270", "message": "Delete obsolete js version of jest.setup.js", "committedDate": "2020-03-18T05:28:00Z", "type": "commit"}, {"oid": "338ff79f864821e663982a6a79e4ce2d482d1f79", "url": "https://github.com/openequella/openEQUELLA/commit/338ff79f864821e663982a6a79e4ce2d482d1f79", "message": "Pin dependency", "committedDate": "2020-03-18T05:28:13Z", "type": "commit"}, {"oid": "94f49e47b78e5a109af5718dbcff016c95397668", "url": "https://github.com/openequella/openEQUELLA/commit/94f49e47b78e5a109af5718dbcff016c95397668", "message": "Merge branch 'component/search_configuration' into feature/add_new_search_settings_page", "committedDate": "2020-03-19T05:27:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDk5MDAyNQ==", "url": "https://github.com/openequella/openEQUELLA/pull/1513#discussion_r394990025", "bodyText": "Suggested change", "author": "ChristianMurphy", "createdAt": "2020-03-19T12:30:25Z", "path": "autotest/Tests/src/main/java/com/tle/webtests/pageobject/SettingsPage.java", "diffHunk": "@@ -29,9 +29,8 @@\n   public static final String SEARCH_SETTINGS_LINK_TITLE = \"Search page\";\n   public static final String COURSE_DEFAULTS_LINK_TITLE = \"Copyright\";\n   private static final String SEARCH_SETTING_TITLE = \"Searching and content indexing\";\n-\n+  ", "originalCommit": "94f49e47b78e5a109af5718dbcff016c95397668", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "fcc09b07a8adbc8a074666ed49b5a68c144b3411", "url": "https://github.com/openequella/openEQUELLA/commit/fcc09b07a8adbc8a074666ed49b5a68c144b3411", "message": "Add a generic axios error handler and refactor away from Axios in the page", "committedDate": "2020-03-20T01:31:16Z", "type": "commit"}, {"oid": "6fa295a214c727ec103c0ec5ce71b722492e61d6", "url": "https://github.com/openequella/openEQUELLA/commit/6fa295a214c727ec103c0ec5ce71b722492e61d6", "message": "Reword Searching settings to Search settings", "committedDate": "2020-03-20T01:34:44Z", "type": "commit"}, {"oid": "a7988e721c50936e8af5bbaf595d786f97666186", "url": "https://github.com/openequella/openEQUELLA/commit/a7988e721c50936e8af5bbaf595d786f97666186", "message": "Remove whitespace", "committedDate": "2020-03-20T01:37:09Z", "type": "commit"}, {"oid": "63ba11b6c9483ad0b71374d0665616094184f45e", "url": "https://github.com/openequella/openEQUELLA/commit/63ba11b6c9483ad0b71374d0665616094184f45e", "message": "Add a comment in SearchSettingsPage.java", "committedDate": "2020-03-20T01:41:25Z", "type": "commit"}, {"oid": "d01a58c8e6d12094f30aab5882a28e41950883df", "url": "https://github.com/openequella/openEQUELLA/commit/d01a58c8e6d12094f30aab5882a28e41950883df", "message": "Surround on change with describe block", "committedDate": "2020-03-20T01:46:39Z", "type": "commit"}, {"oid": "1815864fc3e6fdc48cb026e68d5df77ef2366e0d", "url": "https://github.com/openequella/openEQUELLA/commit/1815864fc3e6fdc48cb026e68d5df77ef2366e0d", "message": "Merge branch 'feature/add_new_search_settings_page' of github.com:SammyIsConfused/openEQUELLA into feature/add_new_search_settings_page", "committedDate": "2020-03-20T01:49:16Z", "type": "commit"}, {"oid": "c3a5d6867864098e80cb34247c2b4fb6c887269a", "url": "https://github.com/openequella/openEQUELLA/commit/c3a5d6867864098e80cb34247c2b4fb6c887269a", "message": "Wrap the API promises in functions", "committedDate": "2020-03-20T02:05:41Z", "type": "commit"}, {"oid": "d3284df7803df15e1f271d623375f335e9d8abcd", "url": "https://github.com/openequella/openEQUELLA/commit/d3284df7803df15e1f271d623375f335e9d8abcd", "message": "Merge branch 'component/search_configuration' into feature/add_new_search_settings_page", "committedDate": "2020-03-20T03:46:34Z", "type": "commit"}, {"oid": "e6c051a5eea0141a4e7a1331626cee65b3ed5459", "url": "https://github.com/openequella/openEQUELLA/commit/e6c051a5eea0141a4e7a1331626cee65b3ed5459", "message": "Fix prettier", "committedDate": "2020-03-23T23:09:35Z", "type": "commit"}, {"oid": "d793a756242b009c53a974d90c0d17ab77479923", "url": "https://github.com/openequella/openEQUELLA/commit/d793a756242b009c53a974d90c0d17ab77479923", "message": "Merge branch 'feature/add_new_search_settings_page' of github.com:SammyIsConfused/openEQUELLA into feature/add_new_search_settings_page", "committedDate": "2020-03-23T23:11:10Z", "type": "commit"}, {"oid": "39c968e0393ac1539ef6f092eb5450db6b59a385", "url": "https://github.com/openequella/openEQUELLA/commit/39c968e0393ac1539ef6f092eb5450db6b59a385", "message": "Run the correct version of Prettier", "committedDate": "2020-03-24T00:38:54Z", "type": "commit"}, {"oid": "9d705911898c4ef23ab712d0361a6a78c71dcb6a", "url": "https://github.com/openequella/openEQUELLA/commit/9d705911898c4ef23ab712d0361a6a78c71dcb6a", "message": "Reorder imports", "committedDate": "2020-03-24T00:47:21Z", "type": "commit"}]}