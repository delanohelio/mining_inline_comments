{"pr_number": 2197, "pr_title": "Fix for navigation of saved form", "pr_createdAt": "2020-03-19T09:42:44Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2197", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw==", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r395071733", "bodyText": "What was the old flag set for? I would have guessed this would at the very least be changed to\nFormEntryConstants.EVALUATE_CONSTRAINTS and !activity.mFormController.isFormReadOnly()", "author": "ctsims", "createdAt": "2020-03-19T14:33:48Z", "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "diffHunk": "@@ -392,7 +392,7 @@ private void showNextView(boolean resuming) {\n         }\n \n         if (activity.currentPromptIsQuestion()) {\n-            if (!activity.saveAnswersForCurrentScreen(FormEntryConstants.EVALUATE_CONSTRAINTS)) {\n+            if (!activity.saveAnswersForCurrentScreen(!activity.mFormController.isFormReadOnly())) {", "originalCommit": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA4NDYyOA==", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r395084628", "bodyText": "@ctsims  FormEntryConstants.EVALUATE_CONSTRAINTS is a constant that equates to true, so it doesn't really make a difference.  Do you want to include it more for semantics ?", "author": "shubham1g5", "createdAt": "2020-03-19T14:50:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjQzMDk5OA==", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r396430998", "bodyText": "FYI @ctsims", "author": "ShivamPokhriyal", "createdAt": "2020-03-23T12:58:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjUxMzM2MQ==", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r396513361", "bodyText": "@shubham1g5 I think the best way to say it is that either the FormEntryConstants.EVALUATE_CONSTRAINTS does something (in which case we should leave it in the code) or that it's antiquated and we don't use it anymore, in which case we should remove the definition of the value in addition to its use here. I'm not comfortable with only doing one.", "author": "ctsims", "createdAt": "2020-03-23T14:56:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU1NjM4OA==", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r396556388", "bodyText": "That makes sense! I don't see any particular use of them and thought they were there just for better semantics. Definitely pro removing them. cc: @ShivamPokhriyal", "author": "shubham1g5", "createdAt": "2020-03-23T15:52:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}], "type": "inlineReview"}, {"oid": "5b343d4d0edd9d2417026b33792cbf5693d04020", "url": "https://github.com/dimagi/commcare-android/commit/5b343d4d0edd9d2417026b33792cbf5693d04020", "message": "Fix for navigation of saved form\n\nIn case of validation condition on a non-required question, navigation of submitted form gives constraint violation error for validation error", "committedDate": "2020-03-21T05:57:59Z", "type": "commit"}, {"oid": "5b343d4d0edd9d2417026b33792cbf5693d04020", "url": "https://github.com/dimagi/commcare-android/commit/5b343d4d0edd9d2417026b33792cbf5693d04020", "message": "Fix for navigation of saved form\n\nIn case of validation condition on a non-required question, navigation of submitted form gives constraint violation error for validation error", "committedDate": "2020-03-21T05:57:59Z", "type": "forcePushed"}, {"oid": "252cca18b5177cc0314d20fd93c0b74ef0649077", "url": "https://github.com/dimagi/commcare-android/commit/252cca18b5177cc0314d20fd93c0b74ef0649077", "message": "Remove FormEntryConstants for evaluating constraints", "committedDate": "2020-03-24T05:43:42Z", "type": "commit"}]}