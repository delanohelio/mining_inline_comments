{"pr_number": 2297, "pr_title": "Don't crash when no form is found in storage while XForm Uninstall", "pr_createdAt": "2020-07-27T20:08:53Z", "pr_url": "https://github.com/dimagi/commcare-android/pull/2297", "timeline": [{"oid": "6a205f1e7e0e97749b5970dc62b2b77dba400e96", "url": "https://github.com/dimagi/commcare-android/commit/6a205f1e7e0e97749b5970dc62b2b77dba400e96", "message": "don't crash when no form is found in storage while uninstall", "committedDate": "2020-07-27T19:53:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE0MDczOA==", "url": "https://github.com/dimagi/commcare-android/pull/2297#discussion_r461140738", "bodyText": "Separately trying to confirm a suspicion that this fails sometimes causing the update installation to get blocked.", "author": "shubham1g5", "createdAt": "2020-07-27T20:10:48Z", "path": "app/src/org/commcare/android/resource/installers/FileSystemInstaller.java", "diffHunk": "@@ -213,6 +213,10 @@ public boolean upgrade(Resource r, AndroidCommCarePlatform platform) {\n             String finalLocation = localDestination + \"/\" + filepart;\r\n \r\n             if (!FileSystemUtils.moveFrom(localLocation, finalLocation, false)) {\r\n+                Logger.log(LogTypes.TYPE_RESOURCES, \"Failed to move resource \" + r.getDescriptor() +\r\n+                        \" during upgrade from origin file path \" + localLocation + \" to  desination file path \" +\r\n+                        finalLocation + \". Origin file exists = \" + new File(localLocation).exists()\r\n+                        + \" and Destination File exits = \" + new File(finalLocation).exists());\r", "originalCommit": "6a205f1e7e0e97749b5970dc62b2b77dba400e96", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "5ea9af6f276885189933a6ce22ad13f67014bb56", "url": "https://github.com/dimagi/commcare-android/commit/5ea9af6f276885189933a6ce22ad13f67014bb56", "message": "Better comment", "committedDate": "2020-07-27T20:49:54Z", "type": "commit"}, {"oid": "461a96473ceb81a9e50436a5806ff51a2059eafb", "url": "https://github.com/dimagi/commcare-android/commit/461a96473ceb81a9e50436a5806ff51a2059eafb", "message": "Merge branch 'master' into xformUninstallCrashFix", "committedDate": "2020-07-30T07:03:23Z", "type": "commit"}]}