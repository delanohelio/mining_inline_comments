{"pr_number": 1520, "pr_title": "Wit action impl", "pr_createdAt": "2020-03-31T19:55:14Z", "pr_url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520", "timeline": [{"oid": "65ab3c880c62a2fad8cdf315906e0dc1f2501177", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/65ab3c880c62a2fad8cdf315906e0dc1f2501177", "message": "Add actions for download and WIT\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-27T22:50:21Z", "type": "commit"}, {"oid": "366b647339557c3a9bbe35448ac6899e85964f8a", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/366b647339557c3a9bbe35448ac6899e85964f8a", "message": "Minor fix\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-27T22:56:59Z", "type": "commit"}, {"oid": "90813e4ad1ea2396a45bfa3f864d15217223225f", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/90813e4ad1ea2396a45bfa3f864d15217223225f", "message": "Minor fix of the formating\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-30T03:26:03Z", "type": "commit"}, {"oid": "8693494ab40a0d757e4fd6392f8c1dfe2962b545", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/8693494ab40a0d757e4fd6392f8c1dfe2962b545", "message": "Address review comment\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-30T07:51:28Z", "type": "commit"}, {"oid": "5f43bd30b1457581236d307791dbea32885f50f1", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/5f43bd30b1457581236d307791dbea32885f50f1", "message": "WIT impl\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-30T17:15:59Z", "type": "commit"}, {"oid": "b26787dfe747a94f16082a580d77ca7d85b96bff", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b26787dfe747a94f16082a580d77ca7d85b96bff", "message": "Add execcommand\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-30T19:18:31Z", "type": "commit"}, {"oid": "001dadd9990c4261427bf2d73372e7e5effaa6f4", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/001dadd9990c4261427bf2d73372e7e5effaa6f4", "message": "Use tmpDir as the root of the work dir\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-30T22:52:32Z", "type": "commit"}, {"oid": "e3a53772269bdd2323640dd26f54be98cb9e85ec", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e3a53772269bdd2323640dd26f54be98cb9e85ec", "message": "Minor fixes\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-30T23:45:58Z", "type": "commit"}, {"oid": "a5190d0bcf79722ba6c8de06789b6672326d1bef", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/a5190d0bcf79722ba6c8de06789b6672326d1bef", "message": "Support unzip WIT\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-31T02:58:37Z", "type": "commit"}, {"oid": "b7e74b05719954f7980f57a5f6c6243571f08b43", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b7e74b05719954f7980f57a5f6c6243571f08b43", "message": "More impl\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-31T14:25:29Z", "type": "commit"}, {"oid": "031f1bddd6b1ce4f126ea3d0c3e230e7ba362ab5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/031f1bddd6b1ce4f126ea3d0c3e230e7ba362ab5", "message": "Merge remote-tracking branch 'origin/mii-new-integration-tests' into WIT-action-impl\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>\n\nConflicts:\n\tnew-integration-tests/pom.xml\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/TestActions.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/InstallParams.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/Installer.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/WITParams.java\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/WebLogicImageTool.java", "committedDate": "2020-03-31T16:25:45Z", "type": "commit"}, {"oid": "806aa7aa51eb30f4a82380dfd4683ff3c68bcd61", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/806aa7aa51eb30f4a82380dfd4683ff3c68bcd61", "message": "Rename a class\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-31T16:32:03Z", "type": "commit"}, {"oid": "b5567b19f5e085c01676f28d9b044d3b028b19e9", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/b5567b19f5e085c01676f28d9b044d3b028b19e9", "message": "Add ProcessBuilder code commented out\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-31T19:39:23Z", "type": "commit"}, {"oid": "03472bf656ae95d3974184d1131be46c686cfc0e", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/03472bf656ae95d3974184d1131be46c686cfc0e", "message": "Minor fix\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-03-31T19:57:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU1MjYzMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401552632", "bodyText": "This method can be used outside of installer. For helm, I need to execute a command. Can you move these methods to a common class.", "author": "vanajamukkara", "createdAt": "2020-04-01T11:43:56Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/InstallWITCommon.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes.actions.impl.primitive;\n+\n+// import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.IOException;\n+// import java.io.InputStreamReader;\n+// import java.util.Map;\n+\n+import oracle.weblogic.kubernetes.utils.ExecCommand;\n+import oracle.weblogic.kubernetes.utils.ExecResult;\n+\n+import static oracle.weblogic.kubernetes.extensions.LoggedTest.logger;\n+\n+/**\n+ * The common fuctionality of Installer and WebLogicImageTool\n+ */\n+public class InstallWITCommon {\n+\n+  protected static final String WORK_DIR \n+      = System.getProperty(\"java.io.tmpdir\") + \"/it-results\";\n+\n+  /* Use ProcessBuilder\n+  protected boolean executeAndVerify(String command, boolean redirectOutput) {\n+    ProcessBuilder builder = new ProcessBuilder();\n+    builder.command(command);\n+    logger.info(\"Executing command = \" + command + \"\\n env = \" + builder.environment());\n+    try {\n+      Process process = builder.start();\n+\n+      // if (redirectOutput) {\n+      StringBuilder output = new StringBuilder();\n+\n+      BufferedReader reader = new BufferedReader(\n+          new InputStreamReader(process.getInputStream()));\n+      String line;\n+      while ((line = reader.readLine()) != null) {\n+        output.append(line + \"\\n\");\n+      }\n+      int exitCode = process.waitFor();\n+      return exitCode == 0;\n+    } catch (IOException ioe) {\n+      ioe.printStackTrace();\n+      return false;\n+    } catch (InterruptedException ie) {\n+      ie.printStackTrace();\n+      return false;\n+    }\n+  }\n+  */\n+  \n+  protected boolean executeAndVerify(String command, boolean redirectOutput) {", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3ODAyMQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401578021", "bodyText": "will do.", "author": "doxiao", "createdAt": "2020-04-01T12:31:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU1MjYzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU4ODg1Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401588856", "bodyText": "I'll move it to a common class under actions.impl. will that work for you?", "author": "doxiao", "createdAt": "2020-04-01T12:49:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU1MjYzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc5ODQzNQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401798435", "bodyText": "done. Added new common class is ActionImplCommon.java.", "author": "doxiao", "createdAt": "2020-04-01T17:48:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU1MjYzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTgxNjAzMA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401816030", "bodyText": "@vanajamukkara ^^^", "author": "doxiao", "createdAt": "2020-04-01T18:17:53Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU1MjYzMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODM4OQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401568389", "bodyText": "include messages on asserts, so if they fail we get a descriptive message", "author": "markxnelson", "createdAt": "2020-04-01T12:14:47Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItWITValidation.java", "diffHunk": "@@ -0,0 +1,49 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes;\n+\n+import oracle.weblogic.kubernetes.actions.TestActions;\n+import oracle.weblogic.kubernetes.actions.impl.primitive.WITParams;\n+import oracle.weblogic.kubernetes.actions.impl.primitive.WebLogicImageTool;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+@DisplayName(\"Simple validation of basic WIT functions\")\n+class ItWITValidation implements LoggedTest {\n+  @Test\n+  @DisplayName(\"Create a MII image\")\n+  public void testCreatingMIIImage() {\n+\n+    // install WIT using the default version and location\n+    boolean downloadWIT = TestActions.installWIT(\n+        null /* version */, \n+        null /* location */,\n+        false /* do not redirect output */);\n+   \n+    assertEquals(true, downloadWIT);", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3NzQwOA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401577408", "bodyText": "will do", "author": "doxiao", "createdAt": "2020-04-01T12:30:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODM4OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc5ODUzNQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401798535", "bodyText": "done", "author": "doxiao", "createdAt": "2020-04-01T17:48:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODM4OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401568895", "bodyText": "maybe these should just be defaults?\nwe could have a defaults() method on WITParams to set these? @rjeberhard what do you think?", "author": "markxnelson", "createdAt": "2020-04-01T12:15:38Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItWITValidation.java", "diffHunk": "@@ -0,0 +1,49 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes;\n+\n+import oracle.weblogic.kubernetes.actions.TestActions;\n+import oracle.weblogic.kubernetes.actions.impl.primitive.WITParams;\n+import oracle.weblogic.kubernetes.actions.impl.primitive.WebLogicImageTool;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+@DisplayName(\"Simple validation of basic WIT functions\")\n+class ItWITValidation implements LoggedTest {\n+  @Test\n+  @DisplayName(\"Create a MII image\")\n+  public void testCreatingMIIImage() {\n+\n+    // install WIT using the default version and location\n+    boolean downloadWIT = TestActions.installWIT(\n+        null /* version */, \n+        null /* location */,\n+        false /* do not redirect output */);\n+   \n+    assertEquals(true, downloadWIT);\n+    \n+    // install WDT using the default version and location\n+    boolean downloadWDT = TestActions.installWDT(\n+        null /* version */, \n+        null /* location */,\n+        false /* do not redirect output */);\n+\n+    assertEquals(true, downloadWDT);\n+\n+    // create the MII image\n+    // TODO add model files and other contents to the image once we have those resources\n+    WITParams params = new WITParams()\n+        .baseImageName(WebLogicImageTool.WLS_BASE_IMAGE_NAME)", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTYzNzU5OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401637598", "bodyText": "Makes sense to me, and would make these a little less verbose and easier to read.", "author": "ddsharpe", "createdAt": "2020-04-01T13:59:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcxNTg4Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401715887", "bodyText": "I have made the changes locally, and the code looks much better. Thanks.", "author": "doxiao", "createdAt": "2020-04-01T15:43:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcyMDcxNg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401720716", "bodyText": "I also moved the constants in WebLogicImageTool into WITParams. I like it.\nThe only thing that I don't like is that the test code still refers to the impl class WITParams. We'll have to introduce an interface to avoid that. Shall I do that? or any other suggestions?", "author": "doxiao", "createdAt": "2020-04-01T15:49:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcyOTgyMA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401729820", "bodyText": "@ddsharpe suggested a withWITParams() or something like that, which can be static imported, and returns an instance, so you don't need to write/init the class name....", "author": "markxnelson", "createdAt": "2020-04-01T16:02:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0ODA0Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401748046", "bodyText": "Let me explore more. thanks.", "author": "doxiao", "createdAt": "2020-04-01T16:29:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc3MjU0MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401772541", "bodyText": "I got something working:). Will push soon.", "author": "doxiao", "createdAt": "2020-04-01T17:06:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc5ODYzNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401798637", "bodyText": "done", "author": "doxiao", "createdAt": "2020-04-01T17:48:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg1Mjg4Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401852886", "bodyText": "made one more change for this. I am happy now:).", "author": "doxiao", "createdAt": "2020-04-01T19:21:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2ODg5NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2OTg0OA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401569848", "bodyText": "fluent api's do not use the prefix get\npublic String thing() {\n  return thing;\n}\n\npublic Whatever thing(String newThing) {\n  this.thing = newThing;\n  return this;\n}", "author": "markxnelson", "createdAt": "2020-04-01T12:17:19Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/InstallParams.java", "diffHunk": "@@ -3,27 +3,100 @@\n \n package oracle.weblogic.kubernetes.actions.impl.primitive;\n \n-// Presents all parameters that the test InstallParams needs.\n+/**\n+ * Presents all parameters for downloading a tool.\n+ */\n \n public class InstallParams {\n+  public static final String WIT_TYPE = \"WIT\";\n+  public static final String WDT_TYPE = \"WDT\";\n \n-  private String type;\n+  public static final String DEFAULT_WIT_DOWNLOAD_URL = \"https://github.com//oracle/weblogic-image-tool\";\n+  public static final String DEFAULT_WIT_VERSION    = \"release-1.8.3\";\n+  public static final String WIT_FILE_NAME  = \"imagetool.zip\";\n+\n+  public static final String DEFAULT_WDT_DOWNLOAD_URL = \"https://github.com//oracle/weblogic-deploy-tooling\";\n+  public static final String DEFAULT_WDT_VERSION    = \"weblogic-deploy-tooling-1.7.2\";\n+  public static final String WDT_FILE_NAME  = \"weblogic-deploy.zip\";\n+\n+  // WIT or WDT\n+  private String type = \"WIT\";\n+  // The version of the tool\n   private String version;\n+  // The download site location\n   private String location;\n+  // Whether verify before download\n+  private boolean verify = true;\n+  // Whether the download zip file needs to be unziped\n+  private boolean unzip = false;\n+  // Whether the output of the command is redirected to system out\n+  private boolean redirect = true;\n \n   public InstallParams type(String type) {\n     this.type = type;\n     return this;\n   }\n \n+  public String getType() {", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Njk5MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401576991", "bodyText": "will do", "author": "doxiao", "createdAt": "2020-04-01T12:29:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2OTg0OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc5ODczNA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401798734", "bodyText": "done", "author": "doxiao", "createdAt": "2020-04-01T17:48:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2OTg0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MDg1NQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401570855", "bodyText": "don't just swallow the exception.\nat least log it", "author": "markxnelson", "createdAt": "2020-04-01T12:19:08Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/InstallWITCommon.java", "diffHunk": "@@ -0,0 +1,81 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes.actions.impl.primitive;\n+\n+// import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.IOException;\n+// import java.io.InputStreamReader;\n+// import java.util.Map;\n+\n+import oracle.weblogic.kubernetes.utils.ExecCommand;\n+import oracle.weblogic.kubernetes.utils.ExecResult;\n+\n+import static oracle.weblogic.kubernetes.extensions.LoggedTest.logger;\n+\n+/**\n+ * The common fuctionality of Installer and WebLogicImageTool\n+ */\n+public class InstallWITCommon {\n+\n+  protected static final String WORK_DIR \n+      = System.getProperty(\"java.io.tmpdir\") + \"/it-results\";\n+\n+  /* Use ProcessBuilder\n+  protected boolean executeAndVerify(String command, boolean redirectOutput) {\n+    ProcessBuilder builder = new ProcessBuilder();\n+    builder.command(command);\n+    logger.info(\"Executing command = \" + command + \"\\n env = \" + builder.environment());\n+    try {\n+      Process process = builder.start();\n+\n+      // if (redirectOutput) {\n+      StringBuilder output = new StringBuilder();\n+\n+      BufferedReader reader = new BufferedReader(\n+          new InputStreamReader(process.getInputStream()));\n+      String line;\n+      while ((line = reader.readLine()) != null) {\n+        output.append(line + \"\\n\");\n+      }\n+      int exitCode = process.waitFor();\n+      return exitCode == 0;\n+    } catch (IOException ioe) {\n+      ioe.printStackTrace();\n+      return false;\n+    } catch (InterruptedException ie) {\n+      ie.printStackTrace();\n+      return false;\n+    }\n+  }\n+  */\n+  \n+  protected boolean executeAndVerify(String command, boolean redirectOutput) {\n+    logger.info(\"Executing command = \" + command);\n+    try {\n+      checkDirectory(WORK_DIR);\n+      ExecResult result = ExecCommand.exec(command, redirectOutput);\n+      return result.exitValue() == 0;\n+    } catch (IOException ioe) {\n+      return false;", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Njg2NQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401576865", "bodyText": "will do", "author": "doxiao", "createdAt": "2020-04-01T12:29:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MDg1NQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc5OTAzNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401799037", "bodyText": "done - added a warning log message.", "author": "doxiao", "createdAt": "2020-04-01T17:49:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MDg1NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTQwNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401571407", "bodyText": "improve doc", "author": "markxnelson", "createdAt": "2020-04-01T12:20:09Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/WITParams.java", "diffHunk": "@@ -5,52 +5,119 @@\n \n import java.util.List;\n \n-// Presents all parameters for WIT commands\n+/**\n+ * Presents all parameters for downloading a tool.", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3NjY4MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401576680", "bodyText": "will do", "author": "doxiao", "createdAt": "2020-04-01T12:29:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTQwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc5OTE5NA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401799194", "bodyText": "updated", "author": "doxiao", "createdAt": "2020-04-01T17:49:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTQwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTk0MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401571941", "bodyText": "put each param on a new line please", "author": "markxnelson", "createdAt": "2020-04-01T12:21:05Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/utils/ExecCommand.java", "diffHunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes.utils;\n+\n+import java.io.BufferedReader;\n+import java.io.ByteArrayInputStream;\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.InputStreamReader;\n+import java.io.OutputStream;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.stream.Collectors;\n+\n+import com.google.common.io.ByteStreams;\n+\n+/** \n+ * Class for executing shell commands from java. \n+ */\n+public class ExecCommand {\n+\n+  public static ExecResult exec(String command) throws IOException, InterruptedException {\n+    return exec(command, false, null);\n+  }\n+\n+  public static ExecResult exec(String command, boolean isRedirectToOut) \n+      throws IOException, InterruptedException {\n+    return exec(command, isRedirectToOut, null);\n+  }\n+\n+  /**\n+   * execute command.\n+   * @param command command\n+   * @param isRedirectToOut redirect to out flag\n+   * @param additionalEnvMap additional environment map\n+   * @return result\n+   * @throws IOException if the command failed to execute\n+   * @throws InterruptedException if the process was interrupted\n+   */\n+  public static ExecResult exec(\n+      String command, boolean isRedirectToOut, Map<String, String> additionalEnvMap)", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3NjUxOQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401576519", "bodyText": "will do", "author": "doxiao", "createdAt": "2020-04-01T12:29:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTk0MQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc5OTI3Ng==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401799276", "bodyText": "done", "author": "doxiao", "createdAt": "2020-04-01T17:49:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTk0MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Mjk4Mw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401572983", "bodyText": "did you copy this from somewhere else? the copyright dates look wrong", "author": "markxnelson", "createdAt": "2020-04-01T12:22:51Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/utils/ExecCommand.java", "diffHunk": "@@ -0,0 +1,146 @@\n+// Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.", "originalCommit": "03472bf656ae95d3974184d1131be46c686cfc0e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3NjM5Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401576397", "bodyText": "yes. it is copied from the existing integration test code.", "author": "doxiao", "createdAt": "2020-04-01T12:28:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Mjk4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU4MjI4NQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401582285", "bodyText": "I did not change it since the class does exist since 2018. Shall I change it?", "author": "doxiao", "createdAt": "2020-04-01T12:39:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Mjk4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU5MTg4MQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401591881", "bodyText": "so you are saying you copied it from somewhere else?", "author": "markxnelson", "createdAt": "2020-04-01T12:54:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Mjk4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcwOTUwMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401709502", "bodyText": "yes, I copied both ExecCommand.java and ExecResult.java from integration-tests/src/test/java/oracle/kubernetes/operator/utils dir.", "author": "doxiao", "createdAt": "2020-04-01T15:34:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Mjk4Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTcxOTI0Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r401719247", "bodyText": "ok fair enough", "author": "markxnelson", "createdAt": "2020-04-01T15:47:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3Mjk4Mw=="}], "type": "inlineReview"}, {"oid": "63d2e2919869b2514788a6a4c044e874b2b6236a", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/63d2e2919869b2514788a6a4c044e874b2b6236a", "message": "Setup WIT list parameters\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-04-01T12:25:07Z", "type": "commit"}, {"oid": "13d41fc2aa1457459d5e9139f514a51db35d595c", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/13d41fc2aa1457459d5e9139f514a51db35d595c", "message": "Address review comments\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-04-01T17:44:50Z", "type": "commit"}, {"oid": "369e74d0817958982814bcff9d4ead839a9d99c5", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/369e74d0817958982814bcff9d4ead839a9d99c5", "message": "Merge remote-tracking branch 'origin/mii-new-integration-tests' into WIT-action-impl", "committedDate": "2020-04-01T18:56:07Z", "type": "commit"}, {"oid": "535e26e990b64e9fa57ed0ab4c95330388b8c15f", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/535e26e990b64e9fa57ed0ab4c95330388b8c15f", "message": "More review change\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-04-01T19:19:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMTI0MA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402411240", "bodyText": "i would prefer that tests just assume it is there and use it -- let the impl worry about whether or not it needs to download it under the covers", "author": "markxnelson", "createdAt": "2020-04-02T15:37:45Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItWITValidation.java", "diffHunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes;\n+\n+import oracle.weblogic.kubernetes.actions.TestActions;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Test;\n+\n+import static oracle.weblogic.kubernetes.actions.TestActions.withWITParams;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+@DisplayName(\"Simple validation of basic WIT functions\")\n+class ItWITValidation implements LoggedTest {\n+  @Test\n+  @DisplayName(\"Create a MII image\")\n+  public void testCreatingMIIImage() {\n+\n+    // install WIT using the default version and location", "originalCommit": "535e26e990b64e9fa57ed0ab4c95330388b8c15f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQyODE3Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402428177", "bodyText": "I'll make the change.", "author": "doxiao", "createdAt": "2020-04-02T16:01:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMTI0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0MTM0Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402441347", "bodyText": "The original thinking was that we'll have a place does all prerequisites. The code of downloading WIT/WDT will be moved to that place once we have it. The download code here just demonstrates how to do it.", "author": "doxiao", "createdAt": "2020-04-02T16:20:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMTI0MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0NzEyNg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402447126", "bodyText": "I can add a comment to indicate that, if that's okay with you.\nOtherwise I'll move it into the impl class and remove the static access methods in TestActions. We'll have to add them back to TestActions when we have an action that does all prerequisites.", "author": "doxiao", "createdAt": "2020-04-02T16:29:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMTI0MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMjQwMA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402412400", "bodyText": "use //", "author": "markxnelson", "createdAt": "2020-04-02T15:39:24Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItWITValidation.java", "diffHunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes;\n+\n+import oracle.weblogic.kubernetes.actions.TestActions;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Test;\n+\n+import static oracle.weblogic.kubernetes.actions.TestActions.withWITParams;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+@DisplayName(\"Simple validation of basic WIT functions\")\n+class ItWITValidation implements LoggedTest {\n+  @Test\n+  @DisplayName(\"Create a MII image\")\n+  public void testCreatingMIIImage() {\n+\n+    // install WIT using the default version and location\n+    boolean downloadWIT = TestActions.installWIT(\n+        null /* version */, ", "originalCommit": "535e26e990b64e9fa57ed0ab4c95330388b8c15f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjUxODUyMw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402518523", "bodyText": "This comment does not exist any more in the latest.", "author": "doxiao", "createdAt": "2020-04-02T18:18:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMjQwMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMzEwNw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402413107", "bodyText": "is this unfinished? does not seem to do anything", "author": "markxnelson", "createdAt": "2020-04-02T15:40:22Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/ItWITValidation.java", "diffHunk": "@@ -0,0 +1,42 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes;\n+\n+import oracle.weblogic.kubernetes.actions.TestActions;\n+import oracle.weblogic.kubernetes.extensions.LoggedTest;\n+import org.junit.jupiter.api.DisplayName;\n+import org.junit.jupiter.api.Test;\n+\n+import static oracle.weblogic.kubernetes.actions.TestActions.withWITParams;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+\n+@DisplayName(\"Simple validation of basic WIT functions\")\n+class ItWITValidation implements LoggedTest {\n+  @Test\n+  @DisplayName(\"Create a MII image\")\n+  public void testCreatingMIIImage() {\n+\n+    // install WIT using the default version and location\n+    boolean downloadWIT = TestActions.installWIT(\n+        null /* version */, \n+        null /* location */,\n+        false /* do not redirect output */);\n+   \n+    assertEquals(true, downloadWIT, \"Failed to download or unzip WebLogic Image Tool\");\n+    \n+    // install WDT using the default version and location\n+    boolean downloadWDT = TestActions.installWDT(\n+        null /* version */, \n+        null /* location */,\n+        false /* do not redirect output */);\n+\n+    assertEquals(true, downloadWDT, \"Failed to download WebLogic Deploy Tool\");\n+\n+    // create the MII image\n+    // TODO add model files and other contents to the image once we have those resources\n+    boolean success = TestActions.createMIIImage(withWITParams());", "originalCommit": "535e26e990b64e9fa57ed0ab4c95330388b8c15f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQyODM5OQ==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402428399", "bodyText": "it creates a MII image using the default values. I am working on adding more contents into the image; will be in a different PR.", "author": "doxiao", "createdAt": "2020-04-02T16:01:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMzEwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU0NzkzMg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402547932", "bodyText": "ok fair enough", "author": "markxnelson", "createdAt": "2020-04-02T19:08:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMzEwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxNDMxOA==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402414318", "bodyText": "don't think we need javadoc for the constructor, it's pretty clear what it does", "author": "markxnelson", "createdAt": "2020-04-02T15:42:03Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/utils/ExecResult.java", "diffHunk": "@@ -0,0 +1,44 @@\n+// Copyright (c) 2018, 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes.utils;\n+\n+import java.io.IOException;\n+\n+/**\n+ * Class that holds the results of using java to exec a command (i.e. exit value, stdout and stderr)\n+ */\n+public class ExecResult {\n+  private int exitValue;\n+  private String stdout;\n+  private String stderr;\n+\n+  /**", "originalCommit": "535e26e990b64e9fa57ed0ab4c95330388b8c15f", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQ0Mjc0Nw==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402442747", "bodyText": "Good catch! The class was copied from existing integration tests. I removed the comment.", "author": "doxiao", "createdAt": "2020-04-02T16:22:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxNDMxOA=="}], "type": "inlineReview"}, {"oid": "f2dc2c18a3ecb3212a2b39002b3cf8d3c9a04fcb", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/f2dc2c18a3ecb3212a2b39002b3cf8d3c9a04fcb", "message": "More review comments\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-04-02T16:46:06Z", "type": "commit"}, {"oid": "339ff3bce47fac6dada5dfe921b1d93048a5b222", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/339ff3bce47fac6dada5dfe921b1d93048a5b222", "message": "Minor style fix\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-04-02T16:51:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU0MDQ5Mg==", "url": "https://github.com/oracle/weblogic-kubernetes-operator/pull/1520#discussion_r402540492", "bodyText": "directories", "author": "rjeberhard", "createdAt": "2020-04-02T18:55:33Z", "path": "new-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/impl/primitive/InstallWITCommon.java", "diffHunk": "@@ -0,0 +1,58 @@\n+// Copyright (c) 2020, Oracle Corporation and/or its affiliates.\n+// Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.\n+\n+package oracle.weblogic.kubernetes.actions.impl.primitive;\n+\n+import java.io.File;\n+import java.io.FileNotFoundException;\n+\n+import oracle.weblogic.kubernetes.actions.impl.ActionImplCommon;\n+\n+import static oracle.weblogic.kubernetes.extensions.LoggedTest.logger;\n+\n+/**\n+ * The common functionality of Installer and WebLogicImageTool\n+ */\n+public class InstallWITCommon extends ActionImplCommon {\n+\n+  protected static final String WORK_DIR \n+      = System.getProperty(\"java.io.tmpdir\") + \"/it-results\";\n+  protected static final String IMAGE_TOOL \n+      = WORK_DIR + \"/imagetool/bin/imagetool.sh\";\n+\n+\n+  /**\n+   * Check if the required directoies exist.", "originalCommit": "339ff3bce47fac6dada5dfe921b1d93048a5b222", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "093a7e6e14854df6907b67ca3d995205eacb370d", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/093a7e6e14854df6907b67ca3d995205eacb370d", "message": "Move download WIT/WDT code into the impl\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-04-02T19:01:54Z", "type": "commit"}, {"oid": "3bba920221123a12f77233a72a2437032423f139", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/3bba920221123a12f77233a72a2437032423f139", "message": "Merge remote-tracking branch 'origin/mii-new-integration-tests' into WIT-action-impl\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>\n\nConflicts:\n\tnew-integration-tests/src/test/java/oracle/weblogic/kubernetes/actions/TestActions.java", "committedDate": "2020-04-02T19:05:02Z", "type": "commit"}, {"oid": "e79cc33d3636d9f17936db1880d0e07c472e84e3", "url": "https://github.com/oracle/weblogic-kubernetes-operator/commit/e79cc33d3636d9f17936db1880d0e07c472e84e3", "message": "Fix a typo\n\nSigned-off-by: doxiao <dongbo.xiao@oracle.com>", "committedDate": "2020-04-02T19:09:53Z", "type": "commit"}]}