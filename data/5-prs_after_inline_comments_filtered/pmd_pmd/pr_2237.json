{"pr_number": 2237, "pr_title": "[core] Add Node#findDescendantsOfType with crossFindBoundaries that", "pr_createdAt": "2020-01-17T17:44:59Z", "pr_url": "https://github.com/pmd/pmd/pull/2237", "timeline": [{"oid": "fa85b4786d7064524cc603ea6ac3908acef39e1f", "url": "https://github.com/pmd/pmd/commit/fa85b4786d7064524cc603ea6ac3908acef39e1f", "message": "[core] Add Node#findDescendantsOfType with crossFindBoundaries that\nreturns a list like all other find-methods", "committedDate": "2020-01-17T17:29:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI4ODQwMA==", "url": "https://github.com/pmd/pmd/pull/2237#discussion_r368288400", "bodyText": "On 7.0.x, node streams use these methods internally to iterate. This means, iteration here cannnot use node streams. #2220 anyway makes the class internal and documents this. I'll fix this when merging on 7.0.\nOh I didn't see this was on AbstractNode. Everything is moved to TraversalUtils on 7.0.x.", "author": "oowekyala", "createdAt": "2020-01-19T12:00:34Z", "path": "pmd-core/src/main/java/net/sourceforge/pmd/lang/ast/AbstractNode.java", "diffHunk": "@@ -373,8 +378,7 @@ public Node getNthParent(final int n) {\n     private static <T> void findDescendantsOfType(final Node node, final Class<T> targetType, final List<T> results,\n                                                   final boolean crossFindBoundaries) {\n \n-        for (int i = 0; i < node.getNumChildren(); i++) {\n-            final Node child = node.getChild(i);\n+        for (Node child : node.children()) {", "originalCommit": "fa85b4786d7064524cc603ea6ac3908acef39e1f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}