{"pr_number": 1905, "pr_title": "Add in check if game is running", "pr_createdAt": "2020-09-14T00:59:04Z", "pr_url": "https://github.com/FAForever/downlords-faf-client/pull/1905", "timeline": [{"oid": "d2705c669fc3f44ca7bd9734f31836585c7fd594", "url": "https://github.com/FAForever/downlords-faf-client/commit/d2705c669fc3f44ca7bd9734f31836585c7fd594", "message": "Add in check if game is running", "committedDate": "2020-09-19T12:17:09Z", "type": "commit"}, {"oid": "70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "url": "https://github.com/FAForever/downlords-faf-client/commit/70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "message": "Use fxStage0.7.4", "committedDate": "2020-09-19T12:17:10Z", "type": "commit"}, {"oid": "70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "url": "https://github.com/FAForever/downlords-faf-client/commit/70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "message": "Use fxStage0.7.4", "committedDate": "2020-09-19T12:17:10Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTI4MTUxOA==", "url": "https://github.com/FAForever/downlords-faf-client/pull/1905#discussion_r499281518", "bodyText": "Platform.exit()", "author": "1-alex98", "createdAt": "2020-10-04T19:41:50Z", "path": "src/main/java/com/faforever/client/FafClientApplication.java", "diffHunk": "@@ -125,6 +136,25 @@ private void showMainWindow(FxStage fxStage) {\n     controller.display();\n   }\n \n+  private void closeMainWindow(WindowEvent event) {\n+    if (applicationContext.getBean(GameService.class).isGameRunning()) {\n+      I18n i18n = applicationContext.getBean(I18n.class);\n+      NotificationService notificationService = applicationContext.getBean(NotificationService.class);\n+      notificationService.addNotification(new ImmediateNotification(i18n.get(\"exitWarning.title\"),\n+          i18n.get(\"exitWarning.message\"),\n+          Severity.WARN,\n+          asList(\n+              new Action(i18n.get(\"yes\"), ev -> {\n+                Window window = (Window) event.getSource();\n+                window.hide();", "originalCommit": "70e83a8dddb9d6894522d1caa9f3073c3f8462a0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "232265fe554fcddf62ff9956ccc5165e558b1e0a", "url": "https://github.com/FAForever/downlords-faf-client/commit/232265fe554fcddf62ff9956ccc5165e558b1e0a", "message": "Use platform.exit", "committedDate": "2020-10-04T19:51:23Z", "type": "commit"}]}