{"pr_number": 12919, "pr_title": "[BEAM-10832] Fixed ClickhouseIO's getTableSchema method is called before Pipeline Starts", "pr_createdAt": "2020-09-23T18:27:53Z", "pr_url": "https://github.com/apache/beam/pull/12919", "timeline": [{"oid": "75641fbcd18042021eb515f18ee79163bc2ddab5", "url": "https://github.com/apache/beam/commit/75641fbcd18042021eb515f18ee79163bc2ddab5", "message": "Moved getTableSchema method from expand to setup in ClickHouseIO", "committedDate": "2020-09-23T18:23:15Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTg1ODc4OQ==", "url": "https://github.com/apache/beam/pull/12919#discussion_r495858789", "bodyText": "Why is it synchronized? I don't see it doing any concurrent changes", "author": "kanterov", "createdAt": "2020-09-28T11:05:48Z", "path": "sdks/java/io/clickhouse/src/main/java/org/apache/beam/sdk/io/clickhouse/ClickHouseIO.java", "diffHunk": "@@ -473,7 +471,7 @@ private void flush() throws Exception {\n    * @param table table name\n    * @return table schema\n    */\n-  public static TableSchema getTableSchema(String jdbcUrl, String table) {\n+  public static synchronized TableSchema getTableSchema(String jdbcUrl, String table) {", "originalCommit": "75641fbcd18042021eb515f18ee79163bc2ddab5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "08d9aae2b8e9a75e3f70dcc98f29dd2461deb8c6", "url": "https://github.com/apache/beam/commit/08d9aae2b8e9a75e3f70dcc98f29dd2461deb8c6", "message": "Added a Nullable TableSchema field in Clickhouse.Write", "committedDate": "2020-10-01T12:56:35Z", "type": "commit"}, {"oid": "86688d728cecd8e37e50721c09ef319f2db40435", "url": "https://github.com/apache/beam/commit/86688d728cecd8e37e50721c09ef319f2db40435", "message": "Merge branch 'master' of https://github.com/apache/beam into BEAM-10832", "committedDate": "2020-10-02T14:20:03Z", "type": "commit"}]}