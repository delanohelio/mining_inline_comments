{"pr_number": 12494, "pr_title": "[BEAM-10658] Update BigQuery storage sources to v1 API", "pr_createdAt": "2020-08-07T07:04:51Z", "pr_url": "https://github.com/apache/beam/pull/12494", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTk2MDk3Mg==", "url": "https://github.com/apache/beam/pull/12494#discussion_r475960972", "bodyText": "Is this format standardized ? If so can we add a reference here ?", "author": "chamikaramj", "createdAt": "2020-08-24T23:32:24Z", "path": "sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryHelpers.java", "diffHunk": "@@ -348,22 +347,17 @@ static RetryJobIdResult getRetryJobId(\n     UNKNOWN,\n   }\n \n-  @VisibleForTesting\n-  static TableReferenceProto.TableReference toTableRefProto(TableReference ref) {\n-    TableReferenceProto.TableReference.Builder builder =\n-        TableReferenceProto.TableReference.newBuilder();\n-    if (ref.getProjectId() != null) {\n-      builder.setProjectId(ref.getProjectId());\n-    }\n-    return builder.setDatasetId(ref.getDatasetId()).setTableId(ref.getTableId()).build();\n+  static String toProjectResourceName(String projectName) {\n+    return \"projects/\" + projectName;", "originalCommit": "b993977b4021c666f9699ff65e83d64cc397b67d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MDA5Mw==", "url": "https://github.com/apache/beam/pull/12494#discussion_r476580093", "bodyText": "Done.", "author": "kmjung", "createdAt": "2020-08-25T16:29:16Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTk2MDk3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTk2MTA1NQ==", "url": "https://github.com/apache/beam/pull/12494#discussion_r475961055", "bodyText": "Ditto.", "author": "chamikaramj", "createdAt": "2020-08-24T23:32:30Z", "path": "sdks/java/io/google-cloud-platform/src/main/java/org/apache/beam/sdk/io/gcp/bigquery/BigQueryHelpers.java", "diffHunk": "@@ -348,22 +347,17 @@ static RetryJobIdResult getRetryJobId(\n     UNKNOWN,\n   }\n \n-  @VisibleForTesting\n-  static TableReferenceProto.TableReference toTableRefProto(TableReference ref) {\n-    TableReferenceProto.TableReference.Builder builder =\n-        TableReferenceProto.TableReference.newBuilder();\n-    if (ref.getProjectId() != null) {\n-      builder.setProjectId(ref.getProjectId());\n-    }\n-    return builder.setDatasetId(ref.getDatasetId()).setTableId(ref.getTableId()).build();\n+  static String toProjectResourceName(String projectName) {\n+    return \"projects/\" + projectName;\n   }\n \n-  @VisibleForTesting\n-  static TableReference toTableRef(TableReferenceProto.TableReference ref) {\n-    return new TableReference()\n-        .setProjectId(ref.getProjectId())\n-        .setDatasetId(ref.getDatasetId())\n-        .setTableId(ref.getTableId());\n+  static String toTableResourceName(TableReference tableReference) {", "originalCommit": "b993977b4021c666f9699ff65e83d64cc397b67d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU4MDE2Ng==", "url": "https://github.com/apache/beam/pull/12494#discussion_r476580166", "bodyText": "Done.", "author": "kmjung", "createdAt": "2020-08-25T16:29:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTk2MTA1NQ=="}], "type": "inlineReview"}, {"oid": "ed865476eb34a0aed7cff30741c31587b0eb4508", "url": "https://github.com/apache/beam/commit/ed865476eb34a0aed7cff30741c31587b0eb4508", "message": "Update BigQuery storage API source to v1", "committedDate": "2020-08-25T16:27:44Z", "type": "commit"}, {"oid": "e7e98685635d936bb5574cde9d9c2cf5f82983b9", "url": "https://github.com/apache/beam/commit/e7e98685635d936bb5574cde9d9c2cf5f82983b9", "message": "Make stream progress reporting work with v1 API", "committedDate": "2020-08-25T16:27:44Z", "type": "commit"}, {"oid": "36a14df52c35e97005e22590ebbc17f250a94500", "url": "https://github.com/apache/beam/commit/36a14df52c35e97005e22590ebbc17f250a94500", "message": "Clean up some leftovers", "committedDate": "2020-08-25T16:27:44Z", "type": "commit"}, {"oid": "a298af189b46d6d74a8d8742e523c0780fabdb26", "url": "https://github.com/apache/beam/commit/a298af189b46d6d74a8d8742e523c0780fabdb26", "message": "Address code review feedback", "committedDate": "2020-08-25T16:27:44Z", "type": "commit"}, {"oid": "a298af189b46d6d74a8d8742e523c0780fabdb26", "url": "https://github.com/apache/beam/commit/a298af189b46d6d74a8d8742e523c0780fabdb26", "message": "Address code review feedback", "committedDate": "2020-08-25T16:27:44Z", "type": "forcePushed"}]}