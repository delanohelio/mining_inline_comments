{"pr_number": 13492, "pr_title": "[BEAM-2888]-GSoD: Script to generate data for capability matrix", "pr_createdAt": "2020-12-05T16:16:20Z", "pr_url": "https://github.com/apache/beam/pull/13492", "timeline": [{"oid": "4b93d00edaa9546d5664bea5c06837d33970ae4d", "url": "https://github.com/apache/beam/commit/4b93d00edaa9546d5664bea5c06837d33970ae4d", "message": "initial changes", "committedDate": "2020-11-12T10:33:18Z", "type": "commit"}, {"oid": "918aaf6fb7686d1963baa06f61113d90a279517d", "url": "https://github.com/apache/beam/commit/918aaf6fb7686d1963baa06f61113d90a279517d", "message": "processing code", "committedDate": "2020-11-12T15:13:58Z", "type": "commit"}, {"oid": "60533e9dca83db5203434f07151654b89475de18", "url": "https://github.com/apache/beam/commit/60533e9dca83db5203434f07151654b89475de18", "message": "fixed errors", "committedDate": "2020-11-12T15:38:13Z", "type": "commit"}, {"oid": "c275a8bd6f76700921725f3aa5571e2747688c7f", "url": "https://github.com/apache/beam/commit/c275a8bd6f76700921725f3aa5571e2747688c7f", "message": "fixed imports", "committedDate": "2020-11-12T15:48:31Z", "type": "commit"}, {"oid": "8120d45a128306d7f602d5a8017d6a2fa9ef8730", "url": "https://github.com/apache/beam/commit/8120d45a128306d7f602d5a8017d6a2fa9ef8730", "message": "updated configuration", "committedDate": "2020-11-12T16:42:52Z", "type": "commit"}, {"oid": "88b18deeb55f78806fe0eb854bcac6d2412ef401", "url": "https://github.com/apache/beam/commit/88b18deeb55f78806fe0eb854bcac6d2412ef401", "message": "updated the output format", "committedDate": "2020-11-19T15:58:22Z", "type": "commit"}, {"oid": "dad20e96472d16b19000ec61d679c9ba23038e6f", "url": "https://github.com/apache/beam/commit/dad20e96472d16b19000ec61d679c9ba23038e6f", "message": "added not run tests", "committedDate": "2020-12-03T15:33:03Z", "type": "commit"}, {"oid": "102c317ec265973d52dee25883d5d64ee66c563a", "url": "https://github.com/apache/beam/commit/102c317ec265973d52dee25883d5d64ee66c563a", "message": "added readme", "committedDate": "2020-12-03T15:34:36Z", "type": "commit"}, {"oid": "70f94788f0ca1f48d9cd52caa70c6ed9dd797461", "url": "https://github.com/apache/beam/commit/70f94788f0ca1f48d9cd52caa70c6ed9dd797461", "message": "deleted gradle jar", "committedDate": "2020-12-03T15:37:29Z", "type": "commit"}, {"oid": "5e9290d26be18f1ea1cce85618b35d2695a0a523", "url": "https://github.com/apache/beam/commit/5e9290d26be18f1ea1cce85618b35d2695a0a523", "message": "read output file from commandline", "committedDate": "2020-12-03T16:19:40Z", "type": "commit"}, {"oid": "8fbb56f6b9272181f16df8477a494c8cfc226524", "url": "https://github.com/apache/beam/commit/8fbb56f6b9272181f16df8477a494c8cfc226524", "message": "added code comments", "committedDate": "2020-12-03T16:47:58Z", "type": "commit"}, {"oid": "842245d1105c6cedb6141fe7a1cefe38011fd095", "url": "https://github.com/apache/beam/commit/842245d1105c6cedb6141fe7a1cefe38011fd095", "message": "code comment", "committedDate": "2020-12-03T16:52:39Z", "type": "commit"}, {"oid": "e2abf14a28f1d7a96eb5bcb3230f35daddd0a77f", "url": "https://github.com/apache/beam/commit/e2abf14a28f1d7a96eb5bcb3230f35daddd0a77f", "message": "added Readme", "committedDate": "2020-12-05T13:41:26Z", "type": "commit"}, {"oid": "294586a554a6075ea22d4530d18f1f35561c211a", "url": "https://github.com/apache/beam/commit/294586a554a6075ea22d4530d18f1f35561c211a", "message": "added apache licence", "committedDate": "2020-12-10T12:47:43Z", "type": "commit"}, {"oid": "d69cc0108a5240050d90f7505147b4b8af713ad7", "url": "https://github.com/apache/beam/commit/d69cc0108a5240050d90f7505147b4b8af713ad7", "message": "adding test categories", "committedDate": "2021-03-11T16:03:20Z", "type": "commit"}, {"oid": "9f621535da05340badeafbd27dbb2d17834405ce", "url": "https://github.com/apache/beam/commit/9f621535da05340badeafbd27dbb2d17834405ce", "message": "rebase with beam master", "committedDate": "2021-03-11T16:25:00Z", "type": "commit"}, {"oid": "bc91fa1aa36db08c5a1586aaae65bbb1ddae93aa", "url": "https://github.com/apache/beam/commit/bc91fa1aa36db08c5a1586aaae65bbb1ddae93aa", "message": "adding apache licence", "committedDate": "2021-03-11T16:30:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjYzNzk3NQ==", "url": "https://github.com/apache/beam/pull/13492#discussion_r592637975", "bodyText": "you don't need to change this, but the next time you need to create a class to hold values, consider using AutoValue. They save a lot of time and prevent issues with implementation: https://github.com/google/auto/blob/master/value/userguide/index.md", "author": "pabloem", "createdAt": "2021-03-11T19:02:08Z", "path": ".test-infra/validate-runner/src/main/java/org/apache/beam/validate/runner/model/CaseResult.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.beam.validate.runner.model;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+\n+import java.util.List;\n+import java.util.Objects;\n+\n+@JsonIgnoreProperties(ignoreUnknown = true)\n+public class CaseResult {\n+    private String className;\n+    private String name;", "originalCommit": "bc91fa1aa36db08c5a1586aaae65bbb1ddae93aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjY0MDI0Nw==", "url": "https://github.com/apache/beam/pull/13492#discussion_r592640247", "bodyText": "It seems like BatchTestService and StreamTestService are almost identical. Maybe you could create a ModeTestService with a constructor ModeTestService(String mode), and simplify that code?", "author": "pabloem", "createdAt": "2021-03-11T19:04:48Z", "path": ".test-infra/validate-runner/src/main/java/org/apache/beam/validate/runner/service/BatchTestService.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.beam.validate.runner.service;\n+\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import net.sf.json.JSONObject;\n+import org.apache.beam.validate.runner.model.CaseResult;\n+import org.apache.beam.validate.runner.model.Configuration;\n+import org.apache.beam.validate.runner.model.TestResult;\n+import org.apache.beam.validate.runner.util.FileReaderUtil;\n+\n+import org.apache.commons.lang3.tuple.Pair;\n+\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.Map;\n+import java.util.Set;\n+\n+public class BatchTestService implements TestService {\n+\n+    // Stores all the tests which are run across runners in batch mode\n+    private static Set<Pair<String, String>> batchTests = new HashSet<>();\n+\n+    //Stores the tests which are run for the particular runner.\n+    private HashMap<String, Set<CaseResult>> map = new HashMap<>();\n+\n+    public JSONObject getBatchTests() {\n+        try {\n+            Configuration configuration = FileReaderUtil.readConfiguration();\n+            for(Map<String, String> job : configuration.getBatch()) {\n+                try {\n+                    TestResult testResult = new ObjectMapper().readValue(getUrl(job,configuration), TestResult.class);\n+                    batchTests.addAll(getTestNames(testResult));\n+                    map.put((String) job.keySet().toArray()[0], getAllTests(testResult));\n+                } catch (Exception ex) {\n+                    ex.printStackTrace();\n+                }\n+            }\n+        } catch (Exception ex) {\n+            ex.printStackTrace();\n+        }\n+        JSONObject outputDetails = new JSONObject();\n+        outputDetails.put(\"batch\", process(batchTests, map));\n+        return outputDetails;", "originalCommit": "bc91fa1aa36db08c5a1586aaae65bbb1ddae93aa", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYwOTU2ODc5Nw==", "url": "https://github.com/apache/beam/pull/13492#discussion_r609568797", "bodyText": "updated", "author": "sruthiskumar", "createdAt": "2021-04-08T10:54:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MjY0MDI0Nw=="}], "type": "inlineReview"}, {"oid": "e3964ac1697b20f6739fe503eeaffffda8a66b14", "url": "https://github.com/apache/beam/commit/e3964ac1697b20f6739fe503eeaffffda8a66b14", "message": "review comment fix", "committedDate": "2021-03-18T17:01:10Z", "type": "commit"}, {"oid": "627205b8551c425fb85cecd637113dbe995418a6", "url": "https://github.com/apache/beam/commit/627205b8551c425fb85cecd637113dbe995418a6", "message": "review comment fix", "committedDate": "2021-04-08T10:24:50Z", "type": "commit"}, {"oid": "75c09316eb6789461a03c33c3257bd4926e0fd1c", "url": "https://github.com/apache/beam/commit/75c09316eb6789461a03c33c3257bd4926e0fd1c", "message": "initial changes", "committedDate": "2021-04-08T10:25:38Z", "type": "commit"}, {"oid": "1d0585b87a58fdf2b2aa36d84b670f98b545f351", "url": "https://github.com/apache/beam/commit/1d0585b87a58fdf2b2aa36d84b670f98b545f351", "message": "processing code", "committedDate": "2021-04-08T10:25:38Z", "type": "commit"}, {"oid": "f6c176d7d64a041fb37f2287fe9ed42e3dc6911c", "url": "https://github.com/apache/beam/commit/f6c176d7d64a041fb37f2287fe9ed42e3dc6911c", "message": "fixed errors", "committedDate": "2021-04-08T10:25:38Z", "type": "commit"}, {"oid": "44b6a45c30cfd029c98bfd14cfb80d5fbd327eec", "url": "https://github.com/apache/beam/commit/44b6a45c30cfd029c98bfd14cfb80d5fbd327eec", "message": "fixed imports", "committedDate": "2021-04-08T10:25:38Z", "type": "commit"}, {"oid": "95d865811e87db1a764eb0b031581fc9045f52d6", "url": "https://github.com/apache/beam/commit/95d865811e87db1a764eb0b031581fc9045f52d6", "message": "updated configuration", "committedDate": "2021-04-08T10:25:38Z", "type": "commit"}, {"oid": "fe5455b9a23c337f16390d14734fb545d97d26fa", "url": "https://github.com/apache/beam/commit/fe5455b9a23c337f16390d14734fb545d97d26fa", "message": "updated the output format", "committedDate": "2021-04-08T10:25:38Z", "type": "commit"}, {"oid": "b54893140bf1d975cb35ca24fc810e4d70649251", "url": "https://github.com/apache/beam/commit/b54893140bf1d975cb35ca24fc810e4d70649251", "message": "added not run tests", "committedDate": "2021-04-08T10:25:39Z", "type": "commit"}, {"oid": "9129d9233fc78aec5dfefe8fd2be12c7874ce53d", "url": "https://github.com/apache/beam/commit/9129d9233fc78aec5dfefe8fd2be12c7874ce53d", "message": "added readme", "committedDate": "2021-04-08T10:27:24Z", "type": "commit"}, {"oid": "ab5a511eab3f1eeb1616b3a2ff7179a8a9b6b8d2", "url": "https://github.com/apache/beam/commit/ab5a511eab3f1eeb1616b3a2ff7179a8a9b6b8d2", "message": "deleted gradle jar", "committedDate": "2021-04-08T10:27:24Z", "type": "commit"}, {"oid": "5fed7bf319b9825305c52b141295e37328fe413b", "url": "https://github.com/apache/beam/commit/5fed7bf319b9825305c52b141295e37328fe413b", "message": "read output file from commandline", "committedDate": "2021-04-08T10:27:25Z", "type": "commit"}, {"oid": "cb5375fa2a37a0c8595034e5839ebcca63ed025f", "url": "https://github.com/apache/beam/commit/cb5375fa2a37a0c8595034e5839ebcca63ed025f", "message": "added code comments", "committedDate": "2021-04-08T10:27:25Z", "type": "commit"}, {"oid": "c849f693aae2297c327a5cdcb2ec0aef3c35ff5e", "url": "https://github.com/apache/beam/commit/c849f693aae2297c327a5cdcb2ec0aef3c35ff5e", "message": "code comment", "committedDate": "2021-04-08T10:27:25Z", "type": "commit"}, {"oid": "6e29c8cb5148459621caffa75a45f9464c384c57", "url": "https://github.com/apache/beam/commit/6e29c8cb5148459621caffa75a45f9464c384c57", "message": "added Readme", "committedDate": "2021-04-08T10:27:26Z", "type": "commit"}, {"oid": "65ed1592cb918809ee38d6581a99ab1b163c3963", "url": "https://github.com/apache/beam/commit/65ed1592cb918809ee38d6581a99ab1b163c3963", "message": "added apache licence", "committedDate": "2021-04-08T10:27:26Z", "type": "commit"}, {"oid": "35f92e93afb5eccda7971d555fb239affcad9711", "url": "https://github.com/apache/beam/commit/35f92e93afb5eccda7971d555fb239affcad9711", "message": "adding test categories", "committedDate": "2021-04-08T10:27:26Z", "type": "commit"}, {"oid": "0d7eb47b87544e40408d78e0641067db5cd7e74a", "url": "https://github.com/apache/beam/commit/0d7eb47b87544e40408d78e0641067db5cd7e74a", "message": "adding apache licence", "committedDate": "2021-04-08T10:27:26Z", "type": "commit"}, {"oid": "33763f51a153b6336593c59ca4dd16f04ffa2df0", "url": "https://github.com/apache/beam/commit/33763f51a153b6336593c59ca4dd16f04ffa2df0", "message": "review comment fix", "committedDate": "2021-04-08T10:27:27Z", "type": "commit"}, {"oid": "be107d733796b4534600906c9a9369297b92c9cc", "url": "https://github.com/apache/beam/commit/be107d733796b4534600906c9a9369297b92c9cc", "message": "review comment fix", "committedDate": "2021-04-08T10:27:27Z", "type": "commit"}, {"oid": "873f723205772b79955b157629e8410402203c81", "url": "https://github.com/apache/beam/commit/873f723205772b79955b157629e8410402203c81", "message": "rebase with master", "committedDate": "2021-04-08T10:28:53Z", "type": "commit"}, {"oid": "830bd9001c70fb6a69ba860529410f4e1ebeab08", "url": "https://github.com/apache/beam/commit/830bd9001c70fb6a69ba860529410f4e1ebeab08", "message": "refactoring", "committedDate": "2021-04-08T10:53:40Z", "type": "commit"}, {"oid": "469083076b7c5b4ea4e736c2a6724d19437cbf29", "url": "https://github.com/apache/beam/commit/469083076b7c5b4ea4e736c2a6724d19437cbf29", "message": "removed output file", "committedDate": "2021-04-08T13:53:56Z", "type": "commit"}, {"oid": "e769b087c7b231af471ee500e88ffd8aec2fee71", "url": "https://github.com/apache/beam/commit/e769b087c7b231af471ee500e88ffd8aec2fee71", "message": "updated dependency", "committedDate": "2021-04-08T16:52:39Z", "type": "commit"}, {"oid": "dcd1f4758fabda62f1d26ae9615019a59cb3ac75", "url": "https://github.com/apache/beam/commit/dcd1f4758fabda62f1d26ae9615019a59cb3ac75", "message": "minor update to readme", "committedDate": "2021-04-08T18:47:18Z", "type": "commit"}]}