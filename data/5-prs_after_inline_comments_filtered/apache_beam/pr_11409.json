{"pr_number": 11409, "pr_title": "[BEAM-2939] Update unbounded source as SDF wrapper to resume successfully.", "pr_createdAt": "2020-04-13T21:23:37Z", "pr_url": "https://github.com/apache/beam/pull/11409", "timeline": [{"oid": "a39daa6e00585f233fb147bdea2fd298ef26b1c2", "url": "https://github.com/apache/beam/commit/a39daa6e00585f233fb147bdea2fd298ef26b1c2", "message": "[BEAM-2939] Update unbounded source as SDF wrapper to resume successfully.\n\nThis fixes a bug where UnboundedReader's API for start() and advance() return false\nwhen there is no data right now but there could be data in the future which is\ndifferent from BoundedReader start() and advance() which only return false on\ncompletion.\n\nVerified on Dataflow with KafkaIO.", "committedDate": "2020-04-13T21:22:46Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzczNDAxMg==", "url": "https://github.com/apache/beam/pull/11409#discussion_r407734012", "bodyText": "Intended?", "author": "ihji", "createdAt": "2020-04-13T21:32:20Z", "path": "sdks/java/core/src/main/java/org/apache/beam/sdk/io/Read.java", "diffHunk": "@@ -743,8 +727,6 @@ public boolean tryClaim(UnboundedSourceValue<OutputT>[] position) {\n               currentReader.close();\n             } catch (IOException closeException) {\n               e.addSuppressed(closeException);\n-            } finally {", "originalCommit": "a39daa6e00585f233fb147bdea2fd298ef26b1c2", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODMxMTU5Ng==", "url": "https://github.com/apache/beam/pull/11409#discussion_r408311596", "bodyText": "Yes, we keep the reader around and let the gc mechanism get rid of it.", "author": "lukecwik", "createdAt": "2020-04-14T17:29:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzczNDAxMg=="}], "type": "inlineReview"}, {"oid": "27c2c75117d4a60067e48b6e844a62d7160cf88a", "url": "https://github.com/apache/beam/commit/27c2c75117d4a60067e48b6e844a62d7160cf88a", "message": "fixup! Fix spotbugs warning", "committedDate": "2020-04-14T17:28:08Z", "type": "commit"}]}