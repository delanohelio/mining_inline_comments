{"pr_number": 12983, "pr_title": "[BEAM-10994] Add hotKeyLoggingEnabled to the Java DataflowPipelineOptions", "pr_createdAt": "2020-10-01T00:07:42Z", "pr_url": "https://github.com/apache/beam/pull/12983", "timeline": [{"oid": "06b5a1acac365534975e9600f85a8cea118c7af1", "url": "https://github.com/apache/beam/commit/06b5a1acac365534975e9600f85a8cea118c7af1", "message": "Add hotKeyLoggingEnabled to the Java DataflowPipelineOptions\n\nThis will ultimately control whether or not the literal hot key content\nis logged to Cloud Logging.", "committedDate": "2020-10-01T00:02:48Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODMzNTcyNw==", "url": "https://github.com/apache/beam/pull/12983#discussion_r498335727", "bodyText": "Note that you can use \"is\" for boolean types on the getter. Do whatever is the most common though in the codebase for consistency reasons.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              boolean getHotKeyLoggingEnabled();\n          \n          \n            \n              boolean isHotKeyLoggingEnabled();", "author": "lukecwik", "createdAt": "2020-10-01T15:31:27Z", "path": "runners/google-cloud-dataflow-java/src/main/java/org/apache/beam/runners/dataflow/options/DataflowPipelineOptions.java", "diffHunk": "@@ -197,4 +197,11 @@ public String create(PipelineOptions options) {\n           .toString();\n     }\n   }\n+\n+  /** If enabled then the literal key will be logged to Cloud Logging if a hot key is detected. */\n+  @Description(\n+      \"If enabled then the literal key will be logged to Cloud Logging if a hot key is detected.\")\n+  boolean getHotKeyLoggingEnabled();", "originalCommit": "06b5a1acac365534975e9600f85a8cea118c7af1", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "2286ab5c5c9eeedeca5f3b31efcb0a4514a9e8c7", "url": "https://github.com/apache/beam/commit/2286ab5c5c9eeedeca5f3b31efcb0a4514a9e8c7", "message": "getHotKeyLoggingEnabled -> isHotKeyLoggingEnabled\n\nCo-authored-by: Lukasz Cwik <lcwik@google.com>", "committedDate": "2020-10-01T19:18:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODUyNjkzMg==", "url": "https://github.com/apache/beam/pull/12983#discussion_r498526932", "bodyText": "I don't believe there is value in testing this as PipelineOptionsFactoryTest covers these kinds of tests.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n                @Test\n          \n          \n            \n                public void testHotKeyLoggingEnabled() {\n          \n          \n            \n                  DataflowPipelineOptions options = PipelineOptionsFactory.as(DataflowPipelineOptions.class);\n          \n          \n            \n                  options.setHotKeyLoggingEnabled(true);\n          \n          \n            \n                  assertEquals(true, options.getHotKeyLoggingEnabled());\n          \n          \n            \n                }", "author": "lukecwik", "createdAt": "2020-10-01T21:40:13Z", "path": "runners/google-cloud-dataflow-java/src/test/java/org/apache/beam/runners/dataflow/options/DataflowPipelineOptionsTest.java", "diffHunk": "@@ -243,5 +243,12 @@ public void testDefaultGcpRegionFromGcloud() throws IOException, InterruptedExce\n       DataflowPipelineOptions options = PipelineOptionsFactory.as(DataflowPipelineOptions.class);\n       assertEquals(\"us-west1\", options.getRegion());\n     }\n+\n+    @Test\n+    public void testHotKeyLoggingEnabled() {\n+      DataflowPipelineOptions options = PipelineOptionsFactory.as(DataflowPipelineOptions.class);\n+      options.setHotKeyLoggingEnabled(true);\n+      assertEquals(true, options.getHotKeyLoggingEnabled());\n+    }", "originalCommit": "2286ab5c5c9eeedeca5f3b31efcb0a4514a9e8c7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "36678badeccc605c4123cdcf0a18617e9b6ffdb5", "url": "https://github.com/apache/beam/commit/36678badeccc605c4123cdcf0a18617e9b6ffdb5", "message": "Update runners/google-cloud-dataflow-java/src/test/java/org/apache/beam/runners/dataflow/options/DataflowPipelineOptionsTest.java", "committedDate": "2020-10-01T21:40:33Z", "type": "commit"}]}