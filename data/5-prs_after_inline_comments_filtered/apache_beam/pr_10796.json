{"pr_number": 10796, "pr_title": "Refine access level for `sdks/java/extensions/protobuf`", "pr_createdAt": "2020-02-06T22:45:23Z", "pr_url": "https://github.com/apache/beam/pull/10796", "timeline": [{"oid": "94d37c00b06802528ac85d24324211d7298c76b4", "url": "https://github.com/apache/beam/commit/94d37c00b06802528ac85d24324211d7298c76b4", "message": "Remove unsed class ProtoMessageSchema", "committedDate": "2020-02-07T13:08:21Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzY2MA==", "url": "https://github.com/apache/beam/pull/10796#discussion_r376697660", "bodyText": "this needs to be kept public", "author": "alexvanboxel", "createdAt": "2020-02-08T08:51:17Z", "path": "sdks/java/extensions/protobuf/src/main/java/org/apache/beam/sdk/extensions/protobuf/DynamicProtoCoder.java", "diffHunk": "@@ -46,15 +46,15 @@\n  * <p>{@link DynamicProtoCoder} is not registered in the global {@link CoderRegistry} as the\n  * descriptor is required to create the coder.\n  */\n-public class DynamicProtoCoder extends ProtoCoder<DynamicMessage> {\n+class DynamicProtoCoder extends ProtoCoder<DynamicMessage> {", "originalCommit": "94d37c00b06802528ac85d24324211d7298c76b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA0NzUyNQ==", "url": "https://github.com/apache/beam/pull/10796#discussion_r377047525", "bodyText": "ok", "author": "iemejia", "createdAt": "2020-02-10T13:00:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzY2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzY4Mw==", "url": "https://github.com/apache/beam/pull/10796#discussion_r376697683", "bodyText": "Keep public as well", "author": "alexvanboxel", "createdAt": "2020-02-08T08:51:36Z", "path": "sdks/java/extensions/protobuf/src/main/java/org/apache/beam/sdk/extensions/protobuf/DynamicProtoCoder.java", "diffHunk": "@@ -46,15 +46,15 @@\n  * <p>{@link DynamicProtoCoder} is not registered in the global {@link CoderRegistry} as the\n  * descriptor is required to create the coder.\n  */\n-public class DynamicProtoCoder extends ProtoCoder<DynamicMessage> {\n+class DynamicProtoCoder extends ProtoCoder<DynamicMessage> {\n \n   public static final long serialVersionUID = 1L;\n \n   /**\n    * Returns a {@link DynamicProtoCoder} for the Protocol Buffers {@link DynamicMessage} for the\n    * given {@link Descriptors.Descriptor}.\n    */\n-  public static DynamicProtoCoder of(Descriptors.Descriptor protoMessageDescriptor) {\n+  static DynamicProtoCoder of(Descriptors.Descriptor protoMessageDescriptor) {", "originalCommit": "94d37c00b06802528ac85d24324211d7298c76b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA0NzYzOA==", "url": "https://github.com/apache/beam/pull/10796#discussion_r377047638", "bodyText": "ok", "author": "iemejia", "createdAt": "2020-02-10T13:00:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzY4Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzcwMg==", "url": "https://github.com/apache/beam/pull/10796#discussion_r376697702", "bodyText": "Keep public", "author": "alexvanboxel", "createdAt": "2020-02-08T08:51:51Z", "path": "sdks/java/extensions/protobuf/src/main/java/org/apache/beam/sdk/extensions/protobuf/ProtoDomain.java", "diffHunk": "@@ -44,7 +44,7 @@\n  * <p>ProtoDomains aren't assumed to be used on with normal Message descriptors, only with\n  * DynamicMessage descriptors.\n  */\n-public final class ProtoDomain implements Serializable {\n+final class ProtoDomain implements Serializable {", "originalCommit": "94d37c00b06802528ac85d24324211d7298c76b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA0ODQ5Mg==", "url": "https://github.com/apache/beam/pull/10796#discussion_r377048492", "bodyText": "ok", "author": "iemejia", "createdAt": "2020-02-10T13:02:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzcwMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5Nzc5NA==", "url": "https://github.com/apache/beam/pull/10796#discussion_r376697794", "bodyText": "Do NOT delete", "author": "alexvanboxel", "createdAt": "2020-02-08T08:53:57Z", "path": "sdks/java/extensions/protobuf/src/test/java/org/apache/beam/sdk/extensions/protobuf/ProtoMessageSchemaTest.java", "diffHunk": "@@ -1,249 +0,0 @@\n-/*", "originalCommit": "94d37c00b06802528ac85d24324211d7298c76b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA4Njc2Ng==", "url": "https://github.com/apache/beam/pull/10796#discussion_r377086766", "bodyText": "Yep if I undo the delete of ProtoMessageSchema I won't delete this one.", "author": "iemejia", "createdAt": "2020-02-10T14:15:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5Nzc5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzgyOQ==", "url": "https://github.com/apache/beam/pull/10796#discussion_r376697829", "bodyText": "Do NOT delete!", "author": "alexvanboxel", "createdAt": "2020-02-08T08:54:46Z", "path": "sdks/java/extensions/protobuf/src/main/java/org/apache/beam/sdk/extensions/protobuf/ProtoMessageSchema.java", "diffHunk": "@@ -1,125 +0,0 @@\n-/*", "originalCommit": "94d37c00b06802528ac85d24324211d7298c76b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA0OTMxMg==", "url": "https://github.com/apache/beam/pull/10796#discussion_r377049312", "bodyText": "Why? This one is currently not used by anyone, or is this coming in a subsequent PR?\nNotice that I have been refining access and removed dead code on the assumption that we should not be exposing code that we are not using (as part of the API/Schema refinements).", "author": "iemejia", "createdAt": "2020-02-10T13:04:26Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5NzgyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5ODAwMQ==", "url": "https://github.com/apache/beam/pull/10796#discussion_r376698001", "bodyText": "It think that this need to be kept public as well. Not sure though... it can but used externally to create a schema from a descriptor.", "author": "alexvanboxel", "createdAt": "2020-02-08T08:58:00Z", "path": "sdks/java/extensions/protobuf/src/main/java/org/apache/beam/sdk/extensions/protobuf/ProtoSchemaTranslator.java", "diffHunk": "@@ -107,8 +108,8 @@\n  *   <li>google.protobuf.BytesValue maps to a nullable FieldType.BYTES\n  * </ul>\n  */\n-@Experimental(Experimental.Kind.SCHEMAS)\n-public class ProtoSchemaTranslator {", "originalCommit": "94d37c00b06802528ac85d24324211d7298c76b4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA5MDQ3Nw==", "url": "https://github.com/apache/beam/pull/10796#discussion_r377090477", "bodyText": "This one looks like an Internal util class no?\nUsers who need to create an explicit Schema at the moment can get it via ProtoMessageSchema#schemaFor\nWDYT of letting it Internal and exposing it only once required? or exposing anything else required via the other public classes.", "author": "iemejia", "createdAt": "2020-02-10T14:21:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjY5ODAwMQ=="}], "type": "inlineReview"}, {"oid": "dbe2f682983509850b401d1be2739c53dd967e5d", "url": "https://github.com/apache/beam/commit/dbe2f682983509850b401d1be2739c53dd967e5d", "message": "Refine access level for `sdks/java/extensions/protobuf`", "committedDate": "2020-02-10T14:23:39Z", "type": "forcePushed"}, {"oid": "2d2b0a1ce55974093748e7a89cac89895cb00d72", "url": "https://github.com/apache/beam/commit/2d2b0a1ce55974093748e7a89cac89895cb00d72", "message": "Refine access level for `sdks/java/extensions/protobuf`", "committedDate": "2020-02-10T20:53:16Z", "type": "forcePushed"}, {"oid": "c4d006c290e23cb100e19f307f8a696c76b47ee3", "url": "https://github.com/apache/beam/commit/c4d006c290e23cb100e19f307f8a696c76b47ee3", "message": "Refine access level for `sdks/java/extensions/protobuf`", "committedDate": "2020-02-26T17:25:14Z", "type": "commit"}, {"oid": "c4d006c290e23cb100e19f307f8a696c76b47ee3", "url": "https://github.com/apache/beam/commit/c4d006c290e23cb100e19f307f8a696c76b47ee3", "message": "Refine access level for `sdks/java/extensions/protobuf`", "committedDate": "2020-02-26T17:25:14Z", "type": "forcePushed"}]}