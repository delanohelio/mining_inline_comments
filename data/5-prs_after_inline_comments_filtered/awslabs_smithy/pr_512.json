{"pr_number": 512, "pr_title": "Don't raise validation erros from renaming", "pr_createdAt": "2020-07-28T21:43:37Z", "pr_url": "https://github.com/awslabs/smithy/pull/512", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1NTIzNQ==", "url": "https://github.com/awslabs/smithy/pull/512#discussion_r462055235", "bodyText": "If we're doing this, can you also disable validation in the model assembler?", "author": "mtdowling", "createdAt": "2020-07-29T05:56:02Z", "path": "smithy-model/src/main/java/software/amazon/smithy/model/transform/RenameShapes.java", "diffHunk": "@@ -69,9 +70,11 @@ Model transform(ModelTransformer transformer, Model model) {\n         // Use visitor to traverse node and rebuild model.\n         Node newModel = node.accept(new RenameShapeVisitor(toRename, renamed));\n \n-        return assembler.addDocumentNode(newModel)\n-                .assemble()\n-                .unwrap();\n+        ValidatedResult<Model> result = assembler.addDocumentNode(newModel).assemble();", "originalCommit": "a2243c94b67ecaa1ba73f86dbbf37d3e2f57a104", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4a95e76b1f3be6768026bb4741507efde82512e5", "url": "https://github.com/awslabs/smithy/commit/4a95e76b1f3be6768026bb4741507efde82512e5", "message": "Don't raise validation erros from renaming\n\nNone of the other transformers raise validation errors when\nthey produce a model in an invalid state, so the rename transformer\nshouldn't either. With this change a tool could attempt to resolve\nany issue before the model is actually used.", "committedDate": "2020-07-29T16:54:50Z", "type": "commit"}, {"oid": "476b1230a50fa6492eec5666fb4d8ace081a282c", "url": "https://github.com/awslabs/smithy/commit/476b1230a50fa6492eec5666fb4d8ace081a282c", "message": "Don't perform assembler validation in renamer\n\nThis disables validation in the default model assembler for the\nrename transformer.", "committedDate": "2020-07-29T17:00:26Z", "type": "commit"}, {"oid": "476b1230a50fa6492eec5666fb4d8ace081a282c", "url": "https://github.com/awslabs/smithy/commit/476b1230a50fa6492eec5666fb4d8ace081a282c", "message": "Don't perform assembler validation in renamer\n\nThis disables validation in the default model assembler for the\nrename transformer.", "committedDate": "2020-07-29T17:00:26Z", "type": "forcePushed"}]}