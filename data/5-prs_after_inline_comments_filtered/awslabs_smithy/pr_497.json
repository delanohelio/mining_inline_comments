{"pr_number": 497, "pr_title": "Refactor the spec to better explain the semantic model", "pr_createdAt": "2020-07-14T22:02:17Z", "pr_url": "https://github.com/awslabs/smithy/pull/497", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MzUxNA==", "url": "https://github.com/awslabs/smithy/pull/497#discussion_r454673514", "bodyText": "I consider this a bug since it's at odds with how literally every other value is resolved to a shape ID. There were two instances that used this in the prelude that were fixed. I did not see any other cases that would be affected by this in models that I sampled.", "author": "mtdowling", "createdAt": "2020-07-14T22:07:06Z", "path": "smithy-model/src/main/java/software/amazon/smithy/model/traits/TraitDefinition.java", "diffHunk": "@@ -158,12 +157,6 @@ public Builder selector(Selector selector) {\n \n         public Builder addConflict(String trait) {\n             Objects.requireNonNull(trait);\n-\n-            // Use absolute trait names.\n-            if (!trait.contains(\"#\")) {", "originalCommit": "bd819fc1d22fb627141f6a09a187940ad27c81d0", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4d344f2a860974cb571bcd301bbf8d3e4d9601ba", "url": "https://github.com/awslabs/smithy/commit/4d344f2a860974cb571bcd301bbf8d3e4d9601ba", "message": "Replace SVGs with plain-text\n\nThis looks pretty exactly like what I'd want formatted SVGs to look\nlike. I created a custom RST directive called \"text-figure\" that works\njust like a figure, but the contents is literal text. Using a normal\ncode-block could work too, but unfortunately, the caption appears above\nthe diagram rather than below (which is pretty uncommon in technical\nwriting).", "committedDate": "2020-07-15T07:27:00Z", "type": "forcePushed"}, {"oid": "627e7e97e9a7cced278658dd56006717954c52f0", "url": "https://github.com/awslabs/smithy/commit/627e7e97e9a7cced278658dd56006717954c52f0", "message": "Refactor the spec to better explain the semantic model\n\nThe semantic model is a much more important concept now that we have two\nrepresentations for models (the AST and IDL), and these representations\nare meant to build up the same graph of shapes regardless of their\ndifferent syntactic features. The spec is also now laid out in an easier\nto understand way since it explains the high-level concepts, shapes, and\ntraits before diving into the details of the IDL ABNF.\n\nVarious aspects of the model have been clarified:\n\n* Applying traits externally is the same as applying them inline in the\n  semantic model.\n* Simplifications to the documentation_comment ABNF so that it is now\n  just one of the two kinds of `comment` productions.\n* A broader overview of the model, including transformations.\n* More information on namespaces, including that there can be multiple\n  namespaces loaded into the semantic model.\n* More information on how and why models would be merged together (it's\n  left up to tooling to combine and merge models, but the semantics of\n  merging models are described in the spec).\n* Lots of minor error corrections in the spec.\n* The special behavior around resolving relative shape IDs in the\n  \"conflicts\" property of the `trait` trait have been removed since that\n  is at odds with the rest of the model.\n\nThis commit moves various headings around and removes some pages, but\nredirects are issued when a removed page is visited.\n\nThis commit also ensures that requirements.txt is used for docs.\nSince we're using a github repo for the redirects package, we need to\ninstall it using a special syntax. There some docs around how to pull\nthis off with setup.py, but I couldn't get it to work:\nhttps://python-packaging.readthedocs.io/en/latest/dependencies.html#packages-not-on-pypi", "committedDate": "2020-07-16T00:19:39Z", "type": "commit"}, {"oid": "627e7e97e9a7cced278658dd56006717954c52f0", "url": "https://github.com/awslabs/smithy/commit/627e7e97e9a7cced278658dd56006717954c52f0", "message": "Refactor the spec to better explain the semantic model\n\nThe semantic model is a much more important concept now that we have two\nrepresentations for models (the AST and IDL), and these representations\nare meant to build up the same graph of shapes regardless of their\ndifferent syntactic features. The spec is also now laid out in an easier\nto understand way since it explains the high-level concepts, shapes, and\ntraits before diving into the details of the IDL ABNF.\n\nVarious aspects of the model have been clarified:\n\n* Applying traits externally is the same as applying them inline in the\n  semantic model.\n* Simplifications to the documentation_comment ABNF so that it is now\n  just one of the two kinds of `comment` productions.\n* A broader overview of the model, including transformations.\n* More information on namespaces, including that there can be multiple\n  namespaces loaded into the semantic model.\n* More information on how and why models would be merged together (it's\n  left up to tooling to combine and merge models, but the semantics of\n  merging models are described in the spec).\n* Lots of minor error corrections in the spec.\n* The special behavior around resolving relative shape IDs in the\n  \"conflicts\" property of the `trait` trait have been removed since that\n  is at odds with the rest of the model.\n\nThis commit moves various headings around and removes some pages, but\nredirects are issued when a removed page is visited.\n\nThis commit also ensures that requirements.txt is used for docs.\nSince we're using a github repo for the redirects package, we need to\ninstall it using a special syntax. There some docs around how to pull\nthis off with setup.py, but I couldn't get it to work:\nhttps://python-packaging.readthedocs.io/en/latest/dependencies.html#packages-not-on-pypi", "committedDate": "2020-07-16T00:19:39Z", "type": "forcePushed"}]}