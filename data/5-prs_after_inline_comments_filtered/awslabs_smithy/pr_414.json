{"pr_number": 414, "pr_title": "Improve JSON parsing", "pr_createdAt": "2020-05-03T21:10:05Z", "pr_url": "https://github.com/awslabs/smithy/pull/414", "timeline": [{"oid": "a9a6748a8d9f7bb975aec7af547e3578d7ddbe6b", "url": "https://github.com/awslabs/smithy/commit/a9a6748a8d9f7bb975aec7af547e3578d7ddbe6b", "message": "Improve JSON parsing\n\nThis commit updates the forked version of our JSON parser to use\nSourceLocation directly, not need a stack of source locations when\nparsing node values because the parser now passes that in when calling\nend* methods, and swaps our ParseException with ModelSyntaxException.\nThis improves the performance of the JSON parser a bit and also removes\ncode that was duplicative with things in the rest of the project (like\nLocation vs SourceLocation).", "committedDate": "2020-05-03T21:07:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU0NjA4OA==", "url": "https://github.com/awslabs/smithy/pull/414#discussion_r419546088", "bodyText": "There are a decent amount of commented out lines here that, if uncommented, would route to methods on JsonHandler that no longer exist.", "author": "kstich", "createdAt": "2020-05-04T16:01:50Z", "path": "smithy-model/src/main/java/software/amazon/smithy/model/node/internal/JsonParser.java", "diffHunk": "@@ -199,12 +212,12 @@ private void readArray() throws IOException {\n         skipWhiteSpace();\n         if (readChar(']')) {\n             nestingLevel--;\n-            handler.endArray(array);\n+            handler.endArray(array, location);\n             return;\n         }\n         do {\n             skipWhiteSpace();\n-            handler.startArrayValue(array);\n+            // handler.startArrayValue(array);", "originalCommit": "a9a6748a8d9f7bb975aec7af547e3578d7ddbe6b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3NjI2Mw==", "url": "https://github.com/awslabs/smithy/pull/414#discussion_r419576263", "bodyText": "This is meant to help us figure out how to update this class if/when the upstream project gets updated", "author": "mtdowling", "createdAt": "2020-05-04T16:46:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU0NjA4OA=="}], "type": "inlineReview"}]}