{"pr_number": 2842, "pr_title": "Use Writer Thread for Cache Eviction", "pr_createdAt": "2020-12-10T03:30:29Z", "pr_url": "https://github.com/CorfuDB/CorfuDB/pull/2842", "timeline": [{"oid": "d63b3c6e10984305ce268d5ed1b6119f98065909", "url": "https://github.com/CorfuDB/CorfuDB/commit/d63b3c6e10984305ce268d5ed1b6119f98065909", "message": "Use Writer Thread For Eviction\n\nIf unspecified Caffeine will use the common thread pool to execute\nits cache eviction logic, this can be confusing when debugging\nand it causes multiple threads to \"spin up\" since it uses a\nforkjoin pool. This patch makes the writing thread do the eviction.", "committedDate": "2020-12-10T03:35:06Z", "type": "commit"}, {"oid": "d63b3c6e10984305ce268d5ed1b6119f98065909", "url": "https://github.com/CorfuDB/CorfuDB/commit/d63b3c6e10984305ce268d5ed1b6119f98065909", "message": "Use Writer Thread For Eviction\n\nIf unspecified Caffeine will use the common thread pool to execute\nits cache eviction logic, this can be confusing when debugging\nand it causes multiple threads to \"spin up\" since it uses a\nforkjoin pool. This patch makes the writing thread do the eviction.", "committedDate": "2020-12-10T03:35:06Z", "type": "forcePushed"}, {"oid": "4df1a85005420b328ff58b94afd6b3a58f5a53e9", "url": "https://github.com/CorfuDB/CorfuDB/commit/4df1a85005420b328ff58b94afd6b3a58f5a53e9", "message": "Merge branch 'master' into moveExecutor2", "committedDate": "2020-12-10T05:07:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDUzOTQ4NQ==", "url": "https://github.com/CorfuDB/CorfuDB/pull/2842#discussion_r540539485", "bodyText": "Noteworthy : #2460 (comment)", "author": "Maithem", "createdAt": "2020-12-10T22:20:21Z", "path": "infrastructure/src/main/java/org/corfudb/infrastructure/LogUnitServerCache.java", "diffHunk": "@@ -55,6 +55,7 @@ public LogUnitServerCache(LogUnitServerConfig config, StreamLog streamLog) {\n                 .<Long, ILogData>weigher((addr, logData) -> getLogDataTotalSize(logData))\n                 .maximumWeight(config.getMaxCacheSize())\n                 .recordStats()\n+                .executor(Runnable::run)", "originalCommit": "4df1a85005420b328ff58b94afd6b3a58f5a53e9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}