{"pr_number": 2418, "pr_title": "Runtime: exit systemDownHandler on WrongClusterException", "pr_createdAt": "2020-02-19T00:01:38Z", "pr_url": "https://github.com/CorfuDB/CorfuDB/pull/2418", "timeline": [{"oid": "f3a3b3ed470e2ee274631182aa2bc320374270fb", "url": "https://github.com/CorfuDB/CorfuDB/commit/f3a3b3ed470e2ee274631182aa2bc320374270fb", "message": "Runtime: exit systemDownHandler on WrongClusterException\n\nIf a node has been added to a cluster the existing\nclients should exit early so they can be restarted.\nCurrently they just spin in systemDownHandler.", "committedDate": "2020-02-19T00:02:32Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTAwOTkzNQ==", "url": "https://github.com/CorfuDB/CorfuDB/pull/2418#discussion_r381009935", "bodyText": "Doesn't AbstractView have the same issue ?", "author": "Maithem", "createdAt": "2020-02-19T00:12:13Z", "path": "runtime/src/main/java/org/corfudb/runtime/CorfuRuntime.java", "diffHunk": "@@ -982,6 +982,9 @@ private void pruneRemovedRouters(@Nonnull Layout layout) {\n                     } catch (InterruptedException ie) {\n                         throw new UnrecoverableCorfuInterruptedError(\n                                 \"Interrupted during layout fetch\", ie);\n+                    } catch (WrongClusterException we) {\n+                        // It is futile trying to re-connect to the wrong cluster\n+                        throw new UnrecoverableCorfuError(\"WrongClusterException:\", we);", "originalCommit": "f3a3b3ed470e2ee274631182aa2bc320374270fb", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzkwNTQzMw==", "url": "https://github.com/CorfuDB/CorfuDB/pull/2418#discussion_r387905433", "bodyText": "thanks fixed.", "author": "hisundar", "createdAt": "2020-03-04T20:06:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTAwOTkzNQ=="}], "type": "inlineReview"}, {"oid": "338cea7217fef7fe66951f5966b51db5b0e3ecaf", "url": "https://github.com/CorfuDB/CorfuDB/commit/338cea7217fef7fe66951f5966b51db5b0e3ecaf", "message": "Runtime: exit systemDownHandler on WrongClusterException\n\nIf a node has been added to a cluster the existing\nclients should exit early so they can be restarted.\nCurrently they just spin in systemDownHandler.\nReduce the ignoreTrimmedException to debug level.", "committedDate": "2020-02-21T21:08:30Z", "type": "commit"}, {"oid": "338cea7217fef7fe66951f5966b51db5b0e3ecaf", "url": "https://github.com/CorfuDB/CorfuDB/commit/338cea7217fef7fe66951f5966b51db5b0e3ecaf", "message": "Runtime: exit systemDownHandler on WrongClusterException\n\nIf a node has been added to a cluster the existing\nclients should exit early so they can be restarted.\nCurrently they just spin in systemDownHandler.\nReduce the ignoreTrimmedException to debug level.", "committedDate": "2020-02-21T21:08:30Z", "type": "forcePushed"}, {"oid": "2bd3e93e690d6e76c748b3f5c70b9f71a8a9dedc", "url": "https://github.com/CorfuDB/CorfuDB/commit/2bd3e93e690d6e76c748b3f5c70b9f71a8a9dedc", "message": "Merge branch 'master' into exitOnWrongEpoch", "committedDate": "2020-02-25T22:02:59Z", "type": "commit"}, {"oid": "d5594f87f2db06e8b459b8271d734d1e3b09365e", "url": "https://github.com/CorfuDB/CorfuDB/commit/d5594f87f2db06e8b459b8271d734d1e3b09365e", "message": "Merge branch 'master' into exitOnWrongEpoch", "committedDate": "2020-03-02T19:41:34Z", "type": "commit"}, {"oid": "a213aa9ec6cc0cbcd981b418f102bdc95ee1a02e", "url": "https://github.com/CorfuDB/CorfuDB/commit/a213aa9ec6cc0cbcd981b418f102bdc95ee1a02e", "message": "Merge branch 'master' into exitOnWrongEpoch", "committedDate": "2020-03-04T00:59:48Z", "type": "commit"}, {"oid": "3b15e24345c9139e849fbc08e782260210675b86", "url": "https://github.com/CorfuDB/CorfuDB/commit/3b15e24345c9139e849fbc08e782260210675b86", "message": "Merge branch 'master' into exitOnWrongEpoch", "committedDate": "2020-03-04T19:48:50Z", "type": "commit"}]}