{"pr_number": 5034, "pr_title": "GEODE-8055: create index command should work on sub regions", "pr_createdAt": "2020-04-30T20:45:03Z", "pr_url": "https://github.com/apache/geode/pull/5034", "timeline": [{"oid": "426d6225a2df8d2edd6dabc7c2960bc4100f570b", "url": "https://github.com/apache/geode/commit/426d6225a2df8d2edd6dabc7c2960bc4100f570b", "message": "GEODE-8055: create index command should work on sub regions", "committedDate": "2020-04-30T21:30:57Z", "type": "forcePushed"}, {"oid": "975ec84d020ab5dd10ab40dda3de72fb8fb0419d", "url": "https://github.com/apache/geode/commit/975ec84d020ab5dd10ab40dda3de72fb8fb0419d", "message": "GEODE-8055: create index command should work on sub regions", "committedDate": "2020-05-01T05:06:17Z", "type": "forcePushed"}, {"oid": "df119089cf4731ebd5126da75d68dd70341f0657", "url": "https://github.com/apache/geode/commit/df119089cf4731ebd5126da75d68dd70341f0657", "message": "GEODE-8055: create index command should work on sub regions", "committedDate": "2020-05-01T15:35:52Z", "type": "commit"}, {"oid": "df119089cf4731ebd5126da75d68dd70341f0657", "url": "https://github.com/apache/geode/commit/df119089cf4731ebd5126da75d68dd70341f0657", "message": "GEODE-8055: create index command should work on sub regions", "committedDate": "2020-05-01T15:35:52Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0NzQ1Nw==", "url": "https://github.com/apache/geode/pull/5034#discussion_r419647457", "bodyText": "I feel this logic need some comments or use better name for variables found and regions.\nIt tried to find the last layer of subregion's RegionConfig and validate it exists.", "author": "gesterzhou", "createdAt": "2020-05-04T18:41:45Z", "path": "geode-core/src/main/java/org/apache/geode/cache/configuration/CacheConfig.java", "diffHunk": "@@ -1024,11 +1025,22 @@ public void setVersion(String value) {\n     this.version = value;\n   }\n \n+  // this supports looking for sub regions\n   public RegionConfig findRegionConfiguration(String regionPath) {\n     if (regionPath.startsWith(SEPARATOR)) {\n       regionPath = regionPath.substring(1);\n     }\n-    return find(getRegions(), regionPath);\n+    List<RegionConfig> regions = getRegions();\n+    RegionConfig found = null;\n+    for (String regionToken : regionPath.split(SEPARATOR)) {\n+      found = Identifiable.find(regions, regionToken);", "originalCommit": "df119089cf4731ebd5126da75d68dd70341f0657", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}