{"pr_number": 4805, "pr_title": "PR.clear's event id should be created and used in BR", "pr_createdAt": "2020-03-13T00:21:03Z", "pr_url": "https://github.com/apache/geode/pull/4805", "timeline": [{"oid": "ccb543fc2b3911304d15c84cda36b6ede0c2a41b", "url": "https://github.com/apache/geode/commit/ccb543fc2b3911304d15c84cda36b6ede0c2a41b", "message": "GEODE-7683: introduce BR.cmnClearRegion\n\nCo-authored-by: Xiaojian Zhou <gzhou@pivotal.io>\n\nGEODE-7684: Create messaging class for PR Clear (#4689)\n\n* Added new message class and test\n\nCo-authored-by: Benjamin Ross <bross@pivotal.io>\nCo-authored-by: Donal Evans <doevans@pivotal.io>", "committedDate": "2020-03-06T02:02:34Z", "type": "commit"}, {"oid": "43bd36442c0472eb5c139e7aa7dff61fe6425879", "url": "https://github.com/apache/geode/commit/43bd36442c0472eb5c139e7aa7dff61fe6425879", "message": "GEODE-7682: add PR.clear  API (#4755)\n\n* GEODE-7683: introduce BR.cmnClearRegion\r\n\r\nCo-authored-by: Xiaojian Zhou <gzhou@pivotal.io>", "committedDate": "2020-03-06T07:46:36Z", "type": "commit"}, {"oid": "cc32e722197037d408509ea13b49087ca898455f", "url": "https://github.com/apache/geode/commit/cc32e722197037d408509ea13b49087ca898455f", "message": "GEODE-7857: PR.clear's event id should be created and used in BR", "committedDate": "2020-03-09T17:44:49Z", "type": "commit"}, {"oid": "5b2666e5bc9f6d1fbe48786283f129f806b6aab9", "url": "https://github.com/apache/geode/commit/5b2666e5bc9f6d1fbe48786283f129f806b6aab9", "message": "add junit tests", "committedDate": "2020-03-13T00:19:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI0Mzk5NA==", "url": "https://github.com/apache/geode/pull/4805#discussion_r393243994", "bodyText": "I am not sure why the RegionShortcut is changed here.", "author": "jchen21", "createdAt": "2020-03-16T18:53:40Z", "path": "geode-core/src/distributedTest/java/org/apache/geode/internal/cache/PartitionedRegionPersistentClearDUnitTest.java", "diffHunk": "@@ -21,6 +21,6 @@\n public class PartitionedRegionPersistentClearDUnitTest extends PartitionedRegionClearDUnitTest {\n \n   protected RegionShortcut getRegionShortCut() {\n-    return RegionShortcut.PARTITION_REDUNDANT_PERSISTENT_OVERFLOW;\n+    return RegionShortcut.PARTITION_REDUNDANT_PERSISTENT;", "originalCommit": "5b2666e5bc9f6d1fbe48786283f129f806b6aab9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI5OTMwNg==", "url": "https://github.com/apache/geode/pull/4805#discussion_r393299306", "bodyText": "it was put a wrong one.", "author": "gesterzhou", "createdAt": "2020-03-16T20:45:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI0Mzk5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI0NzYzMg==", "url": "https://github.com/apache/geode/pull/4805#discussion_r393247632", "bodyText": "We can remove the implementation of RegionEventImpl.setRegion()", "author": "jchen21", "createdAt": "2020-03-16T18:59:01Z", "path": "geode-core/src/main/java/org/apache/geode/internal/cache/partitioned/ClearPRMessage.java", "diffHunk": "@@ -168,9 +173,8 @@ public boolean doLocalClear(PartitionedRegion region)\n       throw new ForceReattemptException(BUCKET_NON_PRIMARY_MESSAGE);\n     }\n     try {\n-      RegionEventImpl regionEvent = new RegionEventImpl();\n-      regionEvent.setOperation(Operation.REGION_CLEAR);\n-      regionEvent.setRegion(bucketRegion);", "originalCommit": "5b2666e5bc9f6d1fbe48786283f129f806b6aab9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMwMzMyOQ==", "url": "https://github.com/apache/geode/pull/4805#discussion_r393303329", "bodyText": "you are right. I fixed it.", "author": "gesterzhou", "createdAt": "2020-03-16T20:51:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI0NzYzMg=="}], "type": "inlineReview"}, {"oid": "b774ad1617c977f0e2cea2673366b5f391d1637b", "url": "https://github.com/apache/geode/commit/b774ad1617c977f0e2cea2673366b5f391d1637b", "message": "remove the unused setRegion method", "committedDate": "2020-03-16T20:57:04Z", "type": "commit"}, {"oid": "955b70d8d024b2b5de455c98523a3e1036f3e9d5", "url": "https://github.com/apache/geode/commit/955b70d8d024b2b5de455c98523a3e1036f3e9d5", "message": "Merge branch 'feature/GEODE-7665' into feature/GEODE-7857", "committedDate": "2020-03-16T22:38:09Z", "type": "commit"}]}