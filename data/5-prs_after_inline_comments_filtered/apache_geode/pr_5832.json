{"pr_number": 5832, "pr_title": "GEODE-8778: Change conserve-sockets default value to false", "pr_createdAt": "2020-12-09T20:31:32Z", "pr_url": "https://github.com/apache/geode/pull/5832", "timeline": [{"oid": "3d921d64a9995c1d9115f60916787dd49e111a66", "url": "https://github.com/apache/geode/commit/3d921d64a9995c1d9115f60916787dd49e111a66", "message": "GEODE-8778: Change conserve-sockets default value to false\n\n- Update certain tests to explicitly set conserve-sockets=true to allow\nthem to pass\n- Update docs to reflect new default\n\nAuthored-by: Donal Evans <doevans@vmware.com>", "committedDate": "2020-12-09T20:24:05Z", "type": "commit"}, {"oid": "189d8ab848f62d4b6cd1b401486ca8831b19ae6b", "url": "https://github.com/apache/geode/commit/189d8ab848f62d4b6cd1b401486ca8831b19ae6b", "message": "Add ignored exception to test, do not explicitly set conserve-sockets\n\nAuthored-by: Donal Evans <doevans@vmware.com>", "committedDate": "2020-12-09T21:18:00Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY5NDQ5Mw==", "url": "https://github.com/apache/geode/pull/5832#discussion_r539694493", "bodyText": "Perhaps if this test is explicitly testing the conserver socket true scenario the name of the test class or some java docs should indicate that.", "author": "pivotal-jbarrett", "createdAt": "2020-12-09T22:26:10Z", "path": "geode-core/src/distributedTest/java/org/apache/geode/internal/tcp/CloseConnectionTest.java", "diffHunk": "@@ -40,14 +41,15 @@\n import org.apache.geode.test.dunit.rules.DistributedRule;\n \n public class CloseConnectionTest implements Serializable {\n+  private static final long serialVersionUID = 3692493564204797623L;\n   private VM vm0;\n   private VM vm1;\n \n   @Rule\n   public DistributedRule distributedRule = new DistributedRule();\n \n   @Rule\n-  public CacheRule cacheRule = new CacheRule();\n+  public CacheRule cacheRule = new CacheRule.Builder().addConfig(CONSERVE_SOCKETS, \"true\").build();", "originalCommit": "189d8ab848f62d4b6cd1b401486ca8831b19ae6b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTc0NTQwNw==", "url": "https://github.com/apache/geode/pull/5832#discussion_r539745407", "bodyText": "The test class only contains one test case, which is sharedSenderShouldRecoverFromClosedSocket(). It's not immediately obvious that this implies conserve-sockets=true so adding some javadocs would be a good idea, I think.", "author": "DonalEvans", "createdAt": "2020-12-10T00:14:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTY5NDQ5Mw=="}], "type": "inlineReview"}, {"oid": "6a68105b5831e2356c15db17a6f9de75ac8beb61", "url": "https://github.com/apache/geode/commit/6a68105b5831e2356c15db17a6f9de75ac8beb61", "message": "Add comment to explain use of conserve-sockets=true in test\n\nAuthored-by: Donal Evans <doevans@vmware.com>", "committedDate": "2020-12-10T00:13:33Z", "type": "commit"}]}