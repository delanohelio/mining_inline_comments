{"pr_number": 4556, "pr_title": "GEODE-7542: Remove dependency upon JavaWorkarounds.", "pr_createdAt": "2020-01-01T00:04:15Z", "pr_url": "https://github.com/apache/geode/pull/4556", "timeline": [{"oid": "b7062ee9d778a513f1da0ad898ff9e537065846b", "url": "https://github.com/apache/geode/commit/b7062ee9d778a513f1da0ad898ff9e537065846b", "message": "GEODE-7542: Remove dependency upon JavaWorkarounds.\n\n- moved class to geode-common module", "committedDate": "2020-01-01T00:02:57Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk3MDYzMg==", "url": "https://github.com/apache/geode/pull/4556#discussion_r362970632", "bodyText": "Am I reading that this class is now an allowed dependency, because of its movement from geode-core into geode-common?", "author": "rhoughton-pivot", "createdAt": "2020-01-03T21:41:50Z", "path": "geode-core/src/test/java/org/apache/geode/distributed/internal/membership/MembershipDependenciesJUnitTest.java", "diffHunk": "@@ -93,6 +93,7 @@\n               .or(resideInAPackage(\"org.apache.geode.logging.internal.executors..\"))\n               .or(resideInAPackage(\"org.apache.geode.distributed.internal.tcpserver..\"))\n               .or(type(LocalHostUtil.class))\n+              .or(type(JavaWorkarounds.class))", "originalCommit": "b7062ee9d778a513f1da0ad898ff9e537065846b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQxODA5MQ==", "url": "https://github.com/apache/geode/pull/4556#discussion_r363418091", "bodyText": "Yes. Although this test should probably be written to specify what packages are allowed, not individual classes?", "author": "upthewaterspout", "createdAt": "2020-01-06T18:23:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk3MDYzMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQyNDI0NA==", "url": "https://github.com/apache/geode/pull/4556#discussion_r363424244", "bodyText": "@rhoughton-pivot Nope, just breaking the dependency the soon to be module membership would have on this class being in geode-core\n@upthewaterspout I'll adjust the ArchUnit exception to be package based, which might necessitate an ArchUnit test in geode-common to cross check , but maybe that's another Story", "author": "echobravopapa", "createdAt": "2020-01-06T18:38:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk3MDYzMg=="}], "type": "inlineReview"}, {"oid": "4cec4bd451c63a88ffc8b4d8df050b8fe4fd2942", "url": "https://github.com/apache/geode/commit/4cec4bd451c63a88ffc8b4d8df050b8fe4fd2942", "message": "Moved JavaWorkarounds to a new package.", "committedDate": "2020-01-06T18:19:39Z", "type": "commit"}, {"oid": "6b4d8fd7e2cec1c411c9c7cf6b3e7135ee70d4f6", "url": "https://github.com/apache/geode/commit/6b4d8fd7e2cec1c411c9c7cf6b3e7135ee70d4f6", "message": "Clean up ArchUnit exceptions to be package based, when possible.", "committedDate": "2020-01-06T18:43:09Z", "type": "commit"}]}