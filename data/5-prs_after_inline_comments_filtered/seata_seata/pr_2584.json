{"pr_number": 2584, "pr_title": "feature: StateHandlerInterceptor and StateRouterInterceptor support SPI", "pr_createdAt": "2020-04-21T08:29:37Z", "pr_url": "https://github.com/seata/seata/pull/2584", "timeline": [{"oid": "eae76bbab56f6439cbec81a2d8c62ce761688fdc", "url": "https://github.com/seata/seata/commit/eae76bbab56f6439cbec81a2d8c62ce761688fdc", "message": "saga StateHandlerInterceptor and StateRouterInterceptor support SPI", "committedDate": "2020-04-21T08:22:20Z", "type": "commit"}, {"oid": "684f90ba76c0d12aa1b75dfc918fbb8fd13788df", "url": "https://github.com/seata/seata/commit/684f90ba76c0d12aa1b75dfc918fbb8fd13788df", "message": "Merge branch 'develop' into saga_interceptor_spi", "committedDate": "2020-04-21T15:09:02Z", "type": "commit"}, {"oid": "cf3820c38ff4ec6862ac19142e36feaefec55082", "url": "https://github.com/seata/seata/commit/cf3820c38ff4ec6862ac19142e36feaefec55082", "message": "Merge branch 'develop' into saga_interceptor_spi", "committedDate": "2020-05-07T06:23:41Z", "type": "commit"}, {"oid": "ac00b3bc07ac6697ba15f690ed8eaf50019baf46", "url": "https://github.com/seata/seata/commit/ac00b3bc07ac6697ba15f690ed8eaf50019baf46", "message": "Merge branch 'develop' into saga_interceptor_spi", "committedDate": "2020-06-17T08:52:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQwNjQ3Nw==", "url": "https://github.com/seata/seata/pull/2584#discussion_r441406477", "bodyText": "Whether need to sort the interceptor?", "author": "slievrly", "createdAt": "2020-06-17T09:21:56Z", "path": "saga/seata-saga-engine/src/main/java/io/seata/saga/engine/pcext/handlers/ServiceTaskStateHandler.java", "diffHunk": "@@ -239,6 +239,13 @@ private Object compensateSubStateMachine(ProcessContext context, ServiceTaskStat\n         return interceptors;\n     }\n \n+    @Override\n+    public void addInterceptor(StateHandlerInterceptor interceptor) {\n+        if (interceptors != null && !interceptors.contains(interceptor)) {\n+            interceptors.add(interceptor);", "originalCommit": "ac00b3bc07ac6697ba15f690ed8eaf50019baf46", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQyMjcyOA==", "url": "https://github.com/seata/seata/pull/2584#discussion_r441422728", "bodyText": "Sorting has been done in EnhancedServiceLoader.findAllExtensionDefinition method", "author": "long187", "createdAt": "2020-06-17T09:47:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQwNjQ3Nw=="}], "type": "inlineReview"}]}