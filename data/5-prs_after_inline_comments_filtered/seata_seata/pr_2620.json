{"pr_number": 2620, "pr_title": "feature: support group configuration in nacos registry", "pr_createdAt": "2020-04-27T04:00:49Z", "pr_url": "https://github.com/seata/seata/pull/2620", "timeline": [{"oid": "d038b85d555afc8afc4e802505483549182f9155", "url": "https://github.com/seata/seata/commit/d038b85d555afc8afc4e802505483549182f9155", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-27T03:54:51Z", "type": "commit"}, {"oid": "17e9479dd49e87400b0c1ccd7d6d4340a4f17eb2", "url": "https://github.com/seata/seata/commit/17e9479dd49e87400b0c1ccd7d6d4340a4f17eb2", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-27T03:57:16Z", "type": "commit"}, {"oid": "a8765cd80964a17963f6c94814fecccbc0819197", "url": "https://github.com/seata/seata/commit/a8765cd80964a17963f6c94814fecccbc0819197", "message": "Merge branch 'develop' into group", "committedDate": "2020-04-27T03:58:01Z", "type": "commit"}, {"oid": "45f6cf925f90406ae553d9df1ca3db7758145893", "url": "https://github.com/seata/seata/commit/45f6cf925f90406ae553d9df1ca3db7758145893", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-27T06:23:12Z", "type": "commit"}, {"oid": "ad76b39dc086b918858ffc4365ac875b51e1408d", "url": "https://github.com/seata/seata/commit/ad76b39dc086b918858ffc4365ac875b51e1408d", "message": "fix unable to register nacos (#2598)", "committedDate": "2020-04-27T06:38:33Z", "type": "commit"}, {"oid": "f1138021f15e0657dac20c07c581e4b4b0afb88d", "url": "https://github.com/seata/seata/commit/f1138021f15e0657dac20c07c581e4b4b0afb88d", "message": "bugfix: nacos-script adapt to nacos 1.2 on permission control. (#2610)", "committedDate": "2020-04-27T06:38:35Z", "type": "commit"}, {"oid": "d2d74f3278d1a0aaa6fe3b2f596c8c6857d6240a", "url": "https://github.com/seata/seata/commit/d2d74f3278d1a0aaa6fe3b2f596c8c6857d6240a", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-27T06:38:37Z", "type": "commit"}, {"oid": "98ffc60a4e05e448b60775942086d23a260f96b2", "url": "https://github.com/seata/seata/commit/98ffc60a4e05e448b60775942086d23a260f96b2", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-27T06:39:37Z", "type": "commit"}, {"oid": "ebc6b0e37cca7771d6e19f6b46f7b4249368c185", "url": "https://github.com/seata/seata/commit/ebc6b0e37cca7771d6e19f6b46f7b4249368c185", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-27T06:43:57Z", "type": "commit"}, {"oid": "392e7ce1e92dd22d1336d6a29d8114346ce7c674", "url": "https://github.com/seata/seata/commit/392e7ce1e92dd22d1336d6a29d8114346ce7c674", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-27T06:55:02Z", "type": "commit"}, {"oid": "eb6a263e758829a5aaa78f9345bf1cb7f4a92851", "url": "https://github.com/seata/seata/commit/eb6a263e758829a5aaa78f9345bf1cb7f4a92851", "message": "Merge branch 'develop' into group", "committedDate": "2020-04-27T06:56:27Z", "type": "commit"}, {"oid": "46eee1a72103093d3f8c9d2e908004edb227b230", "url": "https://github.com/seata/seata/commit/46eee1a72103093d3f8c9d2e908004edb227b230", "message": "Merge branch 'develop' into group", "committedDate": "2020-04-27T08:36:38Z", "type": "commit"}, {"oid": "667ec7088ec138397303662f71e6199fb144aab3", "url": "https://github.com/seata/seata/commit/667ec7088ec138397303662f71e6199fb144aab3", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-28T01:37:55Z", "type": "commit"}, {"oid": "b007f3ea2d881bc0938b0f6bf7312c1590452e6e", "url": "https://github.com/seata/seata/commit/b007f3ea2d881bc0938b0f6bf7312c1590452e6e", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-28T01:43:52Z", "type": "commit"}, {"oid": "2d56b5be37426189011c1d616658ccb28c122eb2", "url": "https://github.com/seata/seata/commit/2d56b5be37426189011c1d616658ccb28c122eb2", "message": "Merge branch 'develop' into group", "committedDate": "2020-04-30T06:56:11Z", "type": "commit"}, {"oid": "f7477192feec1b55af432ff7a8d78375fa66a571", "url": "https://github.com/seata/seata/commit/f7477192feec1b55af432ff7a8d78375fa66a571", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-04-30T07:31:32Z", "type": "commit"}, {"oid": "c5873bdc34bddca41c29dc393945ca6d74438cce", "url": "https://github.com/seata/seata/commit/c5873bdc34bddca41c29dc393945ca6d74438cce", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-02T11:09:22Z", "type": "commit"}, {"oid": "8acd2b6e5e426bfdfc5a20354e77993f05355ee4", "url": "https://github.com/seata/seata/commit/8acd2b6e5e426bfdfc5a20354e77993f05355ee4", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-06T02:43:37Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTUwMzI1Nw==", "url": "https://github.com/seata/seata/pull/2620#discussion_r415503257", "bodyText": "please use your own variables", "author": "a364176773", "createdAt": "2020-04-27T04:34:52Z", "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -50,6 +51,7 @@\n     private static final String REGISTRY_TYPE = \"nacos\";\n     private static final String REGISTRY_CLUSTER = \"cluster\";\n     private static final String PRO_APPLICATION_KEY = \"application\";\n+    private static final String PRO_GROUP_KEY = Constants.GROUP;", "originalCommit": "a8765cd80964a17963f6c94814fecccbc0819197", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI3ODMzMA==", "url": "https://github.com/seata/seata/pull/2620#discussion_r416278330", "bodyText": "\u4fee\u6539\u4e3aConstants.GROUP\u7684\u503c,\u800c\u4e0d\u8981\u76f4\u63a5\u4ecenacos\u53bb\u62ff,\u5982\u679c\u4ee5\u540enacos\u7684\u5305\u8def\u5f84\u53d8\u4e86,\u8fd9\u91cc\u4f1a\u62a5\u9519\u7684", "author": "a364176773", "createdAt": "2020-04-28T02:21:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTUwMzI1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ1NTg1NQ==", "url": "https://github.com/seata/seata/pull/2620#discussion_r422455855", "bodyText": "\u5df2\u4fee\u6539", "author": "hsoftxl", "createdAt": "2020-05-09T05:42:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTUwMzI1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTUwMzYxMQ==", "url": "https://github.com/seata/seata/pull/2620#discussion_r415503611", "bodyText": "the second parameter is the default value", "author": "a364176773", "createdAt": "2020-04-27T04:36:01Z", "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -218,6 +220,10 @@ private static String getServiceName() {\n         return FILE_CONFIG.getConfig(getNacosApplicationFileKey(), DEFAULT_APPLICATION);\n     }\n \n+    private static String getServiceGroup() {\n+        return FILE_CONFIG.getConfig(getNacosApplicationGroupKey(), Constants.DEFAULT_GROUP);", "originalCommit": "a8765cd80964a17963f6c94814fecccbc0819197", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjI3ODU3OA==", "url": "https://github.com/seata/seata/pull/2620#discussion_r416278578", "bodyText": "\u53c2\u8003\u4e0a\u9762,\u5b9a\u4e49\u4e00\u4e2akey,value\u662fConstants.DEFAULT_GROUP\u7684value.\u539f\u56e0\u540c\u4e0a", "author": "a364176773", "createdAt": "2020-04-28T02:22:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTUwMzYxMQ=="}], "type": "inlineReview"}, {"oid": "96dd4bd50d09618057f40e6da4286679a6e3793b", "url": "https://github.com/seata/seata/commit/96dd4bd50d09618057f40e6da4286679a6e3793b", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-09T05:28:58Z", "type": "commit"}, {"oid": "745ebcb570f51d3ddef6d4f65b18b1825a6a09aa", "url": "https://github.com/seata/seata/commit/745ebcb570f51d3ddef6d4f65b18b1825a6a09aa", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-05-09T05:35:05Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ1NTY4NA==", "url": "https://github.com/seata/seata/pull/2620#discussion_r422455684", "bodyText": "\u8fd9\u5757\u5e94\u8be5\u8981\u5220\u9664\u5427.", "author": "a364176773", "createdAt": "2020-05-09T05:39:40Z", "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -24,6 +24,7 @@\n import java.util.stream.Collectors;\n \n import com.alibaba.nacos.api.NacosFactory;\n+import com.alibaba.nacos.api.common.Constants;", "originalCommit": "745ebcb570f51d3ddef6d4f65b18b1825a6a09aa", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "bec09c2d3562132f19ee77fa701e7512bce27eb9", "url": "https://github.com/seata/seata/commit/bec09c2d3562132f19ee77fa701e7512bce27eb9", "message": "\u53d1\u73b0TC\u670d\u52a1\u652f\u6301 \u914d\u7f6eGroup", "committedDate": "2020-05-09T10:03:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjczODI4Ng==", "url": "https://github.com/seata/seata/pull/2620#discussion_r422738286", "bodyText": "DEFAULT_GROUP change to SEATA_GROUP unified with the configuration center.", "author": "a364176773", "createdAt": "2020-05-11T01:42:49Z", "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -44,12 +44,14 @@\n public class NacosRegistryServiceImpl implements RegistryService<EventListener> {\n     private static final String DEFAULT_NAMESPACE = \"\";\n     private static final String DEFAULT_CLUSTER = \"default\";\n+    private static final String DEFAULT_GROUP = \"DEFAULT_GROUP\";", "originalCommit": "bec09c2d3562132f19ee77fa701e7512bce27eb9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a747fff33d4cc171093bd85587d747c1c681b531", "url": "https://github.com/seata/seata/commit/a747fff33d4cc171093bd85587d747c1c681b531", "message": "change default group value", "committedDate": "2020-05-11T03:03:53Z", "type": "commit"}, {"oid": "95eec9da99da84a7071cc71594ee840d8c7ce90e", "url": "https://github.com/seata/seata/commit/95eec9da99da84a7071cc71594ee840d8c7ce90e", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-11T03:08:17Z", "type": "commit"}, {"oid": "54df904e80383e9806ed29e5312d5fa2a0c95f6c", "url": "https://github.com/seata/seata/commit/54df904e80383e9806ed29e5312d5fa2a0c95f6c", "message": "change default group value", "committedDate": "2020-05-11T03:25:24Z", "type": "commit"}, {"oid": "a9893de9c54894c936962259a0ad520edef4bb03", "url": "https://github.com/seata/seata/commit/a9893de9c54894c936962259a0ad520edef4bb03", "message": "change default group value", "committedDate": "2020-05-11T07:05:27Z", "type": "commit"}, {"oid": "f64ecfa6b116c3c2388be290a63786546cd891d2", "url": "https://github.com/seata/seata/commit/f64ecfa6b116c3c2388be290a63786546cd891d2", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-12T08:20:07Z", "type": "commit"}, {"oid": "ed99f6be6fa29378fc85da22220b9430f192ed5d", "url": "https://github.com/seata/seata/commit/ed99f6be6fa29378fc85da22220b9430f192ed5d", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-20T01:27:20Z", "type": "commit"}, {"oid": "72e039db7958b693dc64fa8bae6b9b33d0430957", "url": "https://github.com/seata/seata/commit/72e039db7958b693dc64fa8bae6b9b33d0430957", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-25T05:56:15Z", "type": "commit"}, {"oid": "a536200e652236f34b92bd6820347d5b7b848828", "url": "https://github.com/seata/seata/commit/a536200e652236f34b92bd6820347d5b7b848828", "message": "registry group value", "committedDate": "2020-05-25T06:11:18Z", "type": "commit"}, {"oid": "d69f320cdd30596fdc72d2b871eb622e70dbbd98", "url": "https://github.com/seata/seata/commit/d69f320cdd30596fdc72d2b871eb622e70dbbd98", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-27T02:25:33Z", "type": "commit"}, {"oid": "867b515aea83a15704eb7054a0d3f309cb4335da", "url": "https://github.com/seata/seata/commit/867b515aea83a15704eb7054a0d3f309cb4335da", "message": "Merge branch 'develop' into group", "committedDate": "2020-05-29T10:04:50Z", "type": "commit"}, {"oid": "471b7aeb293ff9a9921dbfc9a38ee79660b68264", "url": "https://github.com/seata/seata/commit/471b7aeb293ff9a9921dbfc9a38ee79660b68264", "message": "registry group value", "committedDate": "2020-05-29T10:07:40Z", "type": "commit"}, {"oid": "9b6a5159ba1cdd1dbe073248f4c3d55bed8963a7", "url": "https://github.com/seata/seata/commit/9b6a5159ba1cdd1dbe073248f4c3d55bed8963a7", "message": "Merge branch 'develop' into group", "committedDate": "2020-06-05T00:41:40Z", "type": "commit"}, {"oid": "43845bd83a61c599ea14c1c859fa601eecc572e8", "url": "https://github.com/seata/seata/commit/43845bd83a61c599ea14c1c859fa601eecc572e8", "message": "Merge branch 'develop' into group", "committedDate": "2020-06-05T02:48:18Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI0NzIxNg==", "url": "https://github.com/seata/seata/pull/2620#discussion_r436247216", "bodyText": "DEFAULT_GROUP", "author": "slievrly", "createdAt": "2020-06-06T07:31:14Z", "path": "discovery/seata-discovery-nacos/src/main/java/io/seata/discovery/registry/nacos/NacosRegistryServiceImpl.java", "diffHunk": "@@ -44,12 +43,14 @@\n public class NacosRegistryServiceImpl implements RegistryService<EventListener> {\n     private static final String DEFAULT_NAMESPACE = \"\";\n     private static final String DEFAULT_CLUSTER = \"default\";\n+    private static final String DEFAULT_GROUP = \"SEATA_GROUP\";", "originalCommit": "43845bd83a61c599ea14c1c859fa601eecc572e8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI0NzM3NA==", "url": "https://github.com/seata/seata/pull/2620#discussion_r436247374", "bodyText": "high and low version compatibility needs to be considered", "author": "slievrly", "createdAt": "2020-06-06T07:33:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI0NzIxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NDYxOA==", "url": "https://github.com/seata/seata/pull/2620#discussion_r439964618", "bodyText": "set default value is DEFAULT_GROUP?", "author": "hsoftxl", "createdAt": "2020-06-15T06:54:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI0NzIxNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDIzMzk4Ng==", "url": "https://github.com/seata/seata/pull/2620#discussion_r444233986", "bodyText": "set default value is DEFAULT_GROUP?\n\nyes,backward compatible", "author": "a364176773", "createdAt": "2020-06-23T13:43:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjI0NzIxNg=="}], "type": "inlineReview"}, {"oid": "4ac0ec1d315ca242486ed6d97a9d695d1aa818ee", "url": "https://github.com/seata/seata/commit/4ac0ec1d315ca242486ed6d97a9d695d1aa818ee", "message": "Merge branch 'develop' into group", "committedDate": "2020-06-15T06:17:26Z", "type": "commit"}, {"oid": "95a7a4c150880c7ba88e49ec3e7969d4d7a8d9e7", "url": "https://github.com/seata/seata/commit/95a7a4c150880c7ba88e49ec3e7969d4d7a8d9e7", "message": "Merge branch 'develop' into group", "committedDate": "2020-06-23T13:43:29Z", "type": "commit"}, {"oid": "687fc75e85dec00e38c6e20ec533b3d9efb545b1", "url": "https://github.com/seata/seata/commit/687fc75e85dec00e38c6e20ec533b3d9efb545b1", "message": "Merge branch 'develop' into group", "committedDate": "2020-06-28T09:36:15Z", "type": "commit"}, {"oid": "04e95a91faa01d6a25fcff28086ae1c3657488b9", "url": "https://github.com/seata/seata/commit/04e95a91faa01d6a25fcff28086ae1c3657488b9", "message": "compatible lower version", "committedDate": "2020-06-28T09:38:18Z", "type": "commit"}]}