{"pr_number": 3341, "pr_title": "optimize: get config from file system even without file: prefix", "pr_createdAt": "2020-12-06T07:37:10Z", "pr_url": "https://github.com/seata/seata/pull/3341", "timeline": [{"oid": "45f65cfdd9b5198fc43e042dc4589acafb24706f", "url": "https://github.com/seata/seata/commit/45f65cfdd9b5198fc43e042dc4589acafb24706f", "message": "optimize: show warning if config file not found", "committedDate": "2020-12-06T07:31:55Z", "type": "commit"}, {"oid": "3ed54437887c4e95aac7e0129a439da3e4a82159", "url": "https://github.com/seata/seata/commit/3ed54437887c4e95aac7e0129a439da3e4a82159", "message": "optimize: reduce confusion due to filename", "committedDate": "2020-12-06T08:15:55Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjk4Nzk4MA==", "url": "https://github.com/seata/seata/pull/3341#discussion_r536987980", "bodyText": "SEATA_CONFIG_NAME\u662f\u53ea\u9488\u5bf9registry.conf\u7684,\u800cfile.conf\u662f\u901a\u8fc7registry\u4e2d\u7684config.file.name\u6765\u6307\u5b9a\u7684,\u5efa\u8bae\u518dConfigurationFactory#load\u4e2d\u505a\u63d0\u793a\u8f93\u51fa", "author": "a364176773", "createdAt": "2020-12-06T08:32:39Z", "path": "config/seata-config-core/src/main/java/io/seata/config/FileConfiguration.java", "diffHunk": "@@ -187,6 +187,11 @@ private File getConfigFile(String name) {\n         } catch (UnsupportedEncodingException e) {\n             LOGGER.error(\"file not found--\" + e.getMessage(), e);\n         }\n+\n+        // try to get filename\n+        String basename = StringUtils.isNullOrEmpty(name) ? \"my-config.conf\" : new File(name).getName();", "originalCommit": "3ed54437887c4e95aac7e0129a439da3e4a82159", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f35fb58b9cc8dc9289e1e4bd029515b45c79cbd1", "url": "https://github.com/seata/seata/commit/f35fb58b9cc8dc9289e1e4bd029515b45c79cbd1", "message": "optimize: simplify log message", "committedDate": "2020-12-08T01:13:35Z", "type": "commit"}, {"oid": "3541981b0b8f5e9ecbc5e97acdc12f2e8f45d4b4", "url": "https://github.com/seata/seata/commit/3541981b0b8f5e9ecbc5e97acdc12f2e8f45d4b4", "message": "optimize: try to get config from file system even without 'file:' prefix", "committedDate": "2020-12-08T02:42:10Z", "type": "forcePushed"}, {"oid": "395d1ea22e11a888fedfb9981a18a968291dfce1", "url": "https://github.com/seata/seata/commit/395d1ea22e11a888fedfb9981a18a968291dfce1", "message": "optimize: try to get config from file system even without 'file:' prefix", "committedDate": "2020-12-08T02:52:29Z", "type": "commit"}, {"oid": "395d1ea22e11a888fedfb9981a18a968291dfce1", "url": "https://github.com/seata/seata/commit/395d1ea22e11a888fedfb9981a18a968291dfce1", "message": "optimize: try to get config from file system even without 'file:' prefix", "committedDate": "2020-12-08T02:52:29Z", "type": "forcePushed"}, {"oid": "fe8c23d38fa715e394d5ddc726740ccaf708bf58", "url": "https://github.com/seata/seata/commit/fe8c23d38fa715e394d5ddc726740ccaf708bf58", "message": "refactor: reduce duplicated log message", "committedDate": "2020-12-08T03:08:52Z", "type": "commit"}, {"oid": "bad08c6934d8765f0278e518fbec3a9b8c81dc07", "url": "https://github.com/seata/seata/commit/bad08c6934d8765f0278e518fbec3a9b8c81dc07", "message": "refactor: remove warning, in client environment, maybe load config from spring boot", "committedDate": "2020-12-08T03:34:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzk5NDcyMw==", "url": "https://github.com/seata/seata/pull/3341#discussion_r537994723", "bodyText": "why did you change this", "author": "a364176773", "createdAt": "2020-12-08T02:55:07Z", "path": "config/seata-config-core/src/main/java/io/seata/config/FileConfiguration.java", "diffHunk": "@@ -112,7 +113,7 @@ public FileConfiguration(String name, boolean allowDynamicRefresh) {\n             targetFilePath = file.getPath();\n             fileConfig = FileConfigFactory.load(file, name);\n         }\n-        /**\n+        /*", "originalCommit": "395d1ea22e11a888fedfb9981a18a968291dfce1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM1OTYwOA==", "url": "https://github.com/seata/seata/pull/3341#discussion_r538359608", "bodyText": "/** \u5f00\u5934\u662f javadoc \u7684\u8bed\u6cd5\uff0c\u65b9\u6cd5\u5185\u7684\u6ce8\u91ca\u5e94\u8be5\u7528 /* \u5f00\u5934", "author": "hoverruan", "createdAt": "2020-12-08T13:19:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzk5NDcyMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzk5NTk1NQ==", "url": "https://github.com/seata/seata/pull/3341#discussion_r537995955", "bodyText": "why not use placeholders", "author": "a364176773", "createdAt": "2020-12-08T02:58:40Z", "path": "config/seata-config-core/src/main/java/io/seata/config/FileConfiguration.java", "diffHunk": "@@ -135,58 +136,86 @@ private File getConfigFile(String name) {\n             if (name == null) {\n                 throw new IllegalArgumentException(\"name can't be null\");\n             }\n-            String filePath = null;\n+\n+            // \u662f\u5426\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u8def\u5f84\n             boolean filePathCustom = name.startsWith(SYS_FILE_RESOURCE_PREFIX);\n-            if (filePathCustom) {\n-                filePath = name.substring(SYS_FILE_RESOURCE_PREFIX.length());\n-            } else {\n-                // projectDir first\n-                filePath = this.getClass().getClassLoader().getResource(\"\").getPath() + name;\n-            }\n-            filePath = URLDecoder.decode(filePath, \"utf-8\");\n-            File targetFile = new File(filePath);\n-            if (!targetFile.exists()) {\n-                for (String s : FileConfigFactory.getSuffixSet()) {\n-                    targetFile = new File(filePath + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                    if (targetFile.exists()) {\n-                        if (LOGGER.isInfoEnabled()) {\n-                            LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n-                        }\n-                        return targetFile;\n-                    }\n-                }\n-            } else {\n+            String filePath = filePathCustom ? name.substring(SYS_FILE_RESOURCE_PREFIX.length()) : name;\n+            String decodedPath = URLDecoder.decode(filePath, \"utf-8\");\n+\n+            File targetFile = getFileFromFileSystem(decodedPath);\n+            if (targetFile != null) {\n                 if (LOGGER.isInfoEnabled()) {\n-                    LOGGER.info(\"The configuration file used is {}\", name);\n+                    LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n                 }\n                 return targetFile;\n             }\n+\n             if (!filePathCustom) {\n-                URL resource = this.getClass().getClassLoader().getResource(name);\n-                if (resource == null) {\n-                    for (String s : FileConfigFactory.getSuffixSet()) {\n-                        resource = this.getClass().getClassLoader().getResource(name + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                        if (resource != null) {\n-                            if (LOGGER.isInfoEnabled()) {\n-                                LOGGER.info(\"The configuration file used is {}\", resource.getPath());\n-                            }\n-                            String path = resource.getPath();\n-                            path = URLDecoder.decode(path, \"utf-8\");\n-                            return new File(path);\n-                        }\n+                File classpathFile = getFileFromClasspath(name);\n+                if (classpathFile != null) {\n+                    return classpathFile;\n+                }\n+            }\n+        } catch (UnsupportedEncodingException e) {\n+            LOGGER.error(\"file not found--\" + e.getMessage(), e);", "originalCommit": "395d1ea22e11a888fedfb9981a18a968291dfce1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODM2MDY0NA==", "url": "https://github.com/seata/seata/pull/3341#discussion_r538360644", "bodyText": "\u8fd9\u662f\u539f\u6765\u7684\u4ee3\u7801\uff0c\u91cd\u6784\u7684\u65f6\u5019\u6ca1\u6709\u6539\u52a8", "author": "hoverruan", "createdAt": "2020-12-08T13:20:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzk5NTk1NQ=="}], "type": "inlineReview"}, {"oid": "99fac048c2a8cb283c5f0744f73cdaf196c0348f", "url": "https://github.com/seata/seata/commit/99fac048c2a8cb283c5f0744f73cdaf196c0348f", "message": "refactor: remove e.getMessage()", "committedDate": "2020-12-08T13:48:11Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk3OTcyNQ==", "url": "https://github.com/seata/seata/pull/3341#discussion_r538979725", "bodyText": "LOGGER.error(\"decode name error:{}\",e.getMessage(), e);", "author": "xingfudeshi", "createdAt": "2020-12-09T03:33:00Z", "path": "config/seata-config-core/src/main/java/io/seata/config/FileConfiguration.java", "diffHunk": "@@ -135,58 +136,82 @@ private File getConfigFile(String name) {\n             if (name == null) {\n                 throw new IllegalArgumentException(\"name can't be null\");\n             }\n-            String filePath = null;\n+\n+            // \u662f\u5426\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u8def\u5f84\n             boolean filePathCustom = name.startsWith(SYS_FILE_RESOURCE_PREFIX);\n-            if (filePathCustom) {\n-                filePath = name.substring(SYS_FILE_RESOURCE_PREFIX.length());\n-            } else {\n-                // projectDir first\n-                filePath = this.getClass().getClassLoader().getResource(\"\").getPath() + name;\n-            }\n-            filePath = URLDecoder.decode(filePath, \"utf-8\");\n-            File targetFile = new File(filePath);\n-            if (!targetFile.exists()) {\n-                for (String s : FileConfigFactory.getSuffixSet()) {\n-                    targetFile = new File(filePath + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                    if (targetFile.exists()) {\n-                        if (LOGGER.isInfoEnabled()) {\n-                            LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n-                        }\n-                        return targetFile;\n-                    }\n-                }\n-            } else {\n+            String filePath = filePathCustom ? name.substring(SYS_FILE_RESOURCE_PREFIX.length()) : name;\n+            String decodedPath = URLDecoder.decode(filePath, \"utf-8\");\n+\n+            File targetFile = getFileFromFileSystem(decodedPath);\n+            if (targetFile != null) {\n                 if (LOGGER.isInfoEnabled()) {\n-                    LOGGER.info(\"The configuration file used is {}\", name);\n+                    LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n                 }\n                 return targetFile;\n             }\n+\n             if (!filePathCustom) {\n-                URL resource = this.getClass().getClassLoader().getResource(name);\n-                if (resource == null) {\n-                    for (String s : FileConfigFactory.getSuffixSet()) {\n-                        resource = this.getClass().getClassLoader().getResource(name + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                        if (resource != null) {\n-                            if (LOGGER.isInfoEnabled()) {\n-                                LOGGER.info(\"The configuration file used is {}\", resource.getPath());\n-                            }\n-                            String path = resource.getPath();\n-                            path = URLDecoder.decode(path, \"utf-8\");\n-                            return new File(path);\n-                        }\n-                    }\n-                } else {\n+                File classpathFile = getFileFromClasspath(name);\n+                if (classpathFile != null) {\n+                    return classpathFile;\n+                }\n+            }\n+        } catch (UnsupportedEncodingException e) {\n+            LOGGER.error(\"decode name error\", e);", "originalCommit": "99fac048c2a8cb283c5f0744f73cdaf196c0348f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk4MDEwMQ==", "url": "https://github.com/seata/seata/pull/3341#discussion_r538980101", "bodyText": "URLDecoder.decode(path, StandardCharsets.UTF_8);", "author": "xingfudeshi", "createdAt": "2020-12-09T03:34:18Z", "path": "config/seata-config-core/src/main/java/io/seata/config/FileConfiguration.java", "diffHunk": "@@ -135,58 +136,82 @@ private File getConfigFile(String name) {\n             if (name == null) {\n                 throw new IllegalArgumentException(\"name can't be null\");\n             }\n-            String filePath = null;\n+\n+            // \u662f\u5426\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u8def\u5f84\n             boolean filePathCustom = name.startsWith(SYS_FILE_RESOURCE_PREFIX);\n-            if (filePathCustom) {\n-                filePath = name.substring(SYS_FILE_RESOURCE_PREFIX.length());\n-            } else {\n-                // projectDir first\n-                filePath = this.getClass().getClassLoader().getResource(\"\").getPath() + name;\n-            }\n-            filePath = URLDecoder.decode(filePath, \"utf-8\");\n-            File targetFile = new File(filePath);\n-            if (!targetFile.exists()) {\n-                for (String s : FileConfigFactory.getSuffixSet()) {\n-                    targetFile = new File(filePath + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                    if (targetFile.exists()) {\n-                        if (LOGGER.isInfoEnabled()) {\n-                            LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n-                        }\n-                        return targetFile;\n-                    }\n-                }\n-            } else {\n+            String filePath = filePathCustom ? name.substring(SYS_FILE_RESOURCE_PREFIX.length()) : name;\n+            String decodedPath = URLDecoder.decode(filePath, \"utf-8\");\n+\n+            File targetFile = getFileFromFileSystem(decodedPath);\n+            if (targetFile != null) {\n                 if (LOGGER.isInfoEnabled()) {\n-                    LOGGER.info(\"The configuration file used is {}\", name);\n+                    LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n                 }\n                 return targetFile;\n             }\n+\n             if (!filePathCustom) {\n-                URL resource = this.getClass().getClassLoader().getResource(name);\n-                if (resource == null) {\n-                    for (String s : FileConfigFactory.getSuffixSet()) {\n-                        resource = this.getClass().getClassLoader().getResource(name + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                        if (resource != null) {\n-                            if (LOGGER.isInfoEnabled()) {\n-                                LOGGER.info(\"The configuration file used is {}\", resource.getPath());\n-                            }\n-                            String path = resource.getPath();\n-                            path = URLDecoder.decode(path, \"utf-8\");\n-                            return new File(path);\n-                        }\n-                    }\n-                } else {\n+                File classpathFile = getFileFromClasspath(name);\n+                if (classpathFile != null) {\n+                    return classpathFile;\n+                }\n+            }\n+        } catch (UnsupportedEncodingException e) {\n+            LOGGER.error(\"decode name error\", e);\n+        }\n+\n+        return null;\n+    }\n+\n+    private File getFileFromFileSystem(String decodedPath) {\n+        String[] tryPaths = new String[] {\n+            // first: project dir\n+            Paths.get(this.getClass().getClassLoader().getResource(\"\").getPath(), decodedPath).toString(),\n+            // second: system path\n+            decodedPath\n+        };\n+\n+        for (String tryPath : tryPaths) {\n+            File targetFile = new File(tryPath);\n+            if (targetFile.exists()) {\n+                return targetFile;\n+            }\n+\n+            // try to append config suffix\n+            for (String s : FileConfigFactory.getSuffixSet()) {\n+                targetFile = new File(tryPath + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n+                if (targetFile.exists()) {\n+                    return targetFile;\n+                }\n+            }\n+        }\n+\n+        return null;\n+    }\n+\n+    private File getFileFromClasspath(String name) throws UnsupportedEncodingException {\n+        URL resource = this.getClass().getClassLoader().getResource(name);\n+        if (resource == null) {\n+            for (String s : FileConfigFactory.getSuffixSet()) {\n+                resource = this.getClass().getClassLoader().getResource(name + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n+                if (resource != null) {\n                     if (LOGGER.isInfoEnabled()) {\n-                        LOGGER.info(\"The configuration file used is {}\", name);\n+                        LOGGER.info(\"The configuration file used is {}\", resource.getPath());\n                     }\n                     String path = resource.getPath();\n                     path = URLDecoder.decode(path, \"utf-8\");\n                     return new File(path);\n                 }\n             }\n-        } catch (UnsupportedEncodingException e) {\n-            LOGGER.error(\"file not found--\" + e.getMessage(), e);\n+        } else {\n+            if (LOGGER.isInfoEnabled()) {\n+                LOGGER.info(\"The configuration file used is {}\", name);\n+            }\n+            String path = resource.getPath();\n+            path = URLDecoder.decode(path, \"utf-8\");", "originalCommit": "99fac048c2a8cb283c5f0744f73cdaf196c0348f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk4MDIyNQ==", "url": "https://github.com/seata/seata/pull/3341#discussion_r538980225", "bodyText": "URLDecoder.decode(path, StandardCharsets.UTF_8);", "author": "xingfudeshi", "createdAt": "2020-12-09T03:34:39Z", "path": "config/seata-config-core/src/main/java/io/seata/config/FileConfiguration.java", "diffHunk": "@@ -135,58 +136,82 @@ private File getConfigFile(String name) {\n             if (name == null) {\n                 throw new IllegalArgumentException(\"name can't be null\");\n             }\n-            String filePath = null;\n+\n+            // \u662f\u5426\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u8def\u5f84\n             boolean filePathCustom = name.startsWith(SYS_FILE_RESOURCE_PREFIX);\n-            if (filePathCustom) {\n-                filePath = name.substring(SYS_FILE_RESOURCE_PREFIX.length());\n-            } else {\n-                // projectDir first\n-                filePath = this.getClass().getClassLoader().getResource(\"\").getPath() + name;\n-            }\n-            filePath = URLDecoder.decode(filePath, \"utf-8\");\n-            File targetFile = new File(filePath);\n-            if (!targetFile.exists()) {\n-                for (String s : FileConfigFactory.getSuffixSet()) {\n-                    targetFile = new File(filePath + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                    if (targetFile.exists()) {\n-                        if (LOGGER.isInfoEnabled()) {\n-                            LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n-                        }\n-                        return targetFile;\n-                    }\n-                }\n-            } else {\n+            String filePath = filePathCustom ? name.substring(SYS_FILE_RESOURCE_PREFIX.length()) : name;\n+            String decodedPath = URLDecoder.decode(filePath, \"utf-8\");\n+\n+            File targetFile = getFileFromFileSystem(decodedPath);\n+            if (targetFile != null) {\n                 if (LOGGER.isInfoEnabled()) {\n-                    LOGGER.info(\"The configuration file used is {}\", name);\n+                    LOGGER.info(\"The configuration file used is {}\", targetFile.getPath());\n                 }\n                 return targetFile;\n             }\n+\n             if (!filePathCustom) {\n-                URL resource = this.getClass().getClassLoader().getResource(name);\n-                if (resource == null) {\n-                    for (String s : FileConfigFactory.getSuffixSet()) {\n-                        resource = this.getClass().getClassLoader().getResource(name + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n-                        if (resource != null) {\n-                            if (LOGGER.isInfoEnabled()) {\n-                                LOGGER.info(\"The configuration file used is {}\", resource.getPath());\n-                            }\n-                            String path = resource.getPath();\n-                            path = URLDecoder.decode(path, \"utf-8\");\n-                            return new File(path);\n-                        }\n-                    }\n-                } else {\n+                File classpathFile = getFileFromClasspath(name);\n+                if (classpathFile != null) {\n+                    return classpathFile;\n+                }\n+            }\n+        } catch (UnsupportedEncodingException e) {\n+            LOGGER.error(\"decode name error\", e);\n+        }\n+\n+        return null;\n+    }\n+\n+    private File getFileFromFileSystem(String decodedPath) {\n+        String[] tryPaths = new String[] {\n+            // first: project dir\n+            Paths.get(this.getClass().getClassLoader().getResource(\"\").getPath(), decodedPath).toString(),\n+            // second: system path\n+            decodedPath\n+        };\n+\n+        for (String tryPath : tryPaths) {\n+            File targetFile = new File(tryPath);\n+            if (targetFile.exists()) {\n+                return targetFile;\n+            }\n+\n+            // try to append config suffix\n+            for (String s : FileConfigFactory.getSuffixSet()) {\n+                targetFile = new File(tryPath + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n+                if (targetFile.exists()) {\n+                    return targetFile;\n+                }\n+            }\n+        }\n+\n+        return null;\n+    }\n+\n+    private File getFileFromClasspath(String name) throws UnsupportedEncodingException {\n+        URL resource = this.getClass().getClassLoader().getResource(name);\n+        if (resource == null) {\n+            for (String s : FileConfigFactory.getSuffixSet()) {\n+                resource = this.getClass().getClassLoader().getResource(name + ConfigurationKeys.FILE_CONFIG_SPLIT_CHAR + s);\n+                if (resource != null) {\n                     if (LOGGER.isInfoEnabled()) {\n-                        LOGGER.info(\"The configuration file used is {}\", name);\n+                        LOGGER.info(\"The configuration file used is {}\", resource.getPath());\n                     }\n                     String path = resource.getPath();\n                     path = URLDecoder.decode(path, \"utf-8\");", "originalCommit": "99fac048c2a8cb283c5f0744f73cdaf196c0348f", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "17063ad8795fdac3a09fa4d047144556bae6bbcf", "url": "https://github.com/seata/seata/commit/17063ad8795fdac3a09fa4d047144556bae6bbcf", "message": "refactor: replace \"utf-8\" with StandardCharsets.UTF_8", "committedDate": "2020-12-10T01:42:10Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg1MzQ0MA==", "url": "https://github.com/seata/seata/pull/3341#discussion_r541853440", "bodyText": "\u5efa\u8bae\u4f7f\u7528\u82f1\u6587\u6ce8\u91ca", "author": "a364176773", "createdAt": "2020-12-13T05:57:30Z", "path": "config/seata-config-core/src/main/java/io/seata/config/FileConfiguration.java", "diffHunk": "@@ -135,58 +137,82 @@ private File getConfigFile(String name) {\n             if (name == null) {\n                 throw new IllegalArgumentException(\"name can't be null\");\n             }\n-            String filePath = null;\n+\n+            // \u662f\u5426\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u8def\u5f84", "originalCommit": "17063ad8795fdac3a09fa4d047144556bae6bbcf", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "36a13bd7f014eee2aacca662f0bf79c358c955f7", "url": "https://github.com/seata/seata/commit/36a13bd7f014eee2aacca662f0bf79c358c955f7", "message": "refactor: remove Chinese comment", "committedDate": "2020-12-13T06:28:07Z", "type": "commit"}, {"oid": "36a13bd7f014eee2aacca662f0bf79c358c955f7", "url": "https://github.com/seata/seata/commit/36a13bd7f014eee2aacca662f0bf79c358c955f7", "message": "refactor: remove Chinese comment", "committedDate": "2020-12-13T06:28:07Z", "type": "forcePushed"}, {"oid": "ce757f2771702234fe8e81ff906eafda5315607a", "url": "https://github.com/seata/seata/commit/ce757f2771702234fe8e81ff906eafda5315607a", "message": "refactor: revert using Paths.get to construct paths", "committedDate": "2020-12-13T09:45:11Z", "type": "commit"}]}