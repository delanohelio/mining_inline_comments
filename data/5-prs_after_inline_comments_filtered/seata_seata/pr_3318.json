{"pr_number": 3318, "pr_title": "optimize: make CLIENT_TABLE_META_CHECKER_INTERVAL configurable", "pr_createdAt": "2020-11-30T09:32:48Z", "pr_url": "https://github.com/seata/seata/pull/3318", "timeline": [{"oid": "142225229a76b1f06c9a6313a26c984032db2e05", "url": "https://github.com/seata/seata/commit/142225229a76b1f06c9a6313a26c984032db2e05", "message": "opt config file", "committedDate": "2020-11-30T09:15:52Z", "type": "commit"}, {"oid": "83104d94ec3e4c9d877c75d546ffd92413f73864", "url": "https://github.com/seata/seata/commit/83104d94ec3e4c9d877c75d546ffd92413f73864", "message": "making tableMetaCheckerInterval configurable", "committedDate": "2020-12-04T01:58:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA==", "url": "https://github.com/seata/seata/pull/3318#discussion_r536473024", "bodyText": "I think the configuration of DEFAULT_CLIENT_TABLE_META_CHECK_ENABLE keep false in default", "author": "l81893521", "createdAt": "2020-12-05T01:23:39Z", "path": "common/src/main/java/io/seata/common/DefaultValues.java", "diffHunk": "@@ -30,7 +30,8 @@\n     int DEFAULT_TM_DEGRADE_CHECK_PERIOD = 2000;\n     int DEFAULT_CLIENT_REPORT_RETRY_COUNT = 5;\n     boolean DEFAULT_CLIENT_REPORT_SUCCESS_ENABLE = false;\n-    boolean DEFAULT_CLIENT_TABLE_META_CHECK_ENABLE = false;\n+    boolean DEFAULT_CLIENT_TABLE_META_CHECK_ENABLE = true;", "originalCommit": "83104d94ec3e4c9d877c75d546ffd92413f73864", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA0NTk5Mg==", "url": "https://github.com/seata/seata/pull/3318#discussion_r537045992", "bodyText": "I agree with@l81893521", "author": "xingfudeshi", "createdAt": "2020-12-06T14:06:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE5MDY5Mg==", "url": "https://github.com/seata/seata/pull/3318#discussion_r537190692", "bodyText": "why?", "author": "0000005", "createdAt": "2020-12-07T02:34:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2NDk1Ng==", "url": "https://github.com/seata/seata/pull/3318#discussion_r538064956", "bodyText": "In a production environment, the database table structure generally does not change frequently.", "author": "xingfudeshi", "createdAt": "2020-12-08T06:20:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2NTg3NQ==", "url": "https://github.com/seata/seata/pull/3318#discussion_r538065875", "bodyText": "if it does change frequently,then the checking should be enabled manually and the interval of checking should be set a fit value too.That's why making interval to be configurable is enough.", "author": "xingfudeshi", "createdAt": "2020-12-08T06:23:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIwNTcwMw==", "url": "https://github.com/seata/seata/pull/3318#discussion_r542205703", "bodyText": "I agree to keep DEFAULT_CLIENT_TABLE_META_CHECK_ENABLE  default value as false.", "author": "slievrly", "createdAt": "2020-12-14T08:46:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIwNzU5OA==", "url": "https://github.com/seata/seata/pull/3318#discussion_r542207598", "bodyText": "ok, I will remove this piece of code when I have time.", "author": "0000005", "createdAt": "2020-12-14T08:49:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Mzc5NDkyMA==", "url": "https://github.com/seata/seata/pull/3318#discussion_r543794920", "bodyText": "The work is done, please review my pr. @xiajunhust @l81893521  @slievrly", "author": "0000005", "createdAt": "2020-12-16T00:49:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQ3MzAyNA=="}], "type": "inlineReview"}, {"oid": "ff700d441a7b3ed2ced6401c8b2e15415a02c8f4", "url": "https://github.com/seata/seata/commit/ff700d441a7b3ed2ced6401c8b2e15415a02c8f4", "message": "remove change default value", "committedDate": "2020-12-15T09:29:21Z", "type": "commit"}, {"oid": "ee5f09966f6ee11f9cec997735551edf4ae02ffa", "url": "https://github.com/seata/seata/commit/ee5f09966f6ee11f9cec997735551edf4ae02ffa", "message": "Merge branch 'develop' into fix_refresh_table_mate", "committedDate": "2021-01-13T03:20:36Z", "type": "commit"}]}