{"pr_number": 1498, "pr_title": "Added Upgrade Value Prop on EnrolledCourses & Modal", "pr_createdAt": "2020-12-17T11:52:45Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1498", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNTIxMw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546625213", "bodyText": "better to add type abbrevation like 'll_graded_content_layout', tv_prop_msg.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:23:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -40,6 +49,12 @@ public CourseCardViewHolder(View convertView) {\n             // Overlay foreground image is used as a hack for it.\n             convertView.findViewById(R.id.view_foreground_overlay).setVisibility(View.VISIBLE);\n         }\n+        this.propContainer = (LinearLayout) convertView\n+                .findViewById(R.id.graded_content_layout);\n+        this.coursePropMsg = (TextView) convertView\n+                .findViewById(R.id.prop_msg);\n+        this.learnMore = (AppCompatButton) convertView\n+                .findViewById(R.id.btn_learn_more);", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMjk3NQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547102975", "bodyText": "Updated", "author": "omerhabib26", "createdAt": "2020-12-22T07:00:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNTIxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNzM0OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546627349", "bodyText": "needs auto format.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:28:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+            propContainer.setVisibility(View.VISIBLE);\n+            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n+                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n+                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n+            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);\n+            learnMore.setOnClickListener(onLearnMoreClick);\n+        }\n+        else {\n+            propContainer.setVisibility(View.GONE);\n+        }\n+    }", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMjU2Mw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547102563", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T06:59:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyNzM0OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyODExMA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546628110", "bodyText": "Better to move this condition in MyCoursesAdapter with if (isValuePropEnabled) if possible.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:29:34Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMzE4MQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547103181", "bodyText": "Handling this condition here to Hide/Show the PropContainer based on enrollment mode", "author": "omerhabib26", "createdAt": "2020-12-22T07:01:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYyODExMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYzNDk3OA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546634978", "bodyText": "Use primaryBaseColor instated of neutralBlackT .", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:44:24Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+            propContainer.setVisibility(View.VISIBLE);\n+            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n+                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n+                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMzIzNg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547103236", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T07:01:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYzNDk3OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY0MDI3Mg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546640272", "bodyText": "trophyIcon should be top align as per mock-ups.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T10:55:54Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseCardViewHolder.java", "diffHunk": "@@ -69,4 +84,18 @@ public void setDetails(@NonNull String date) {\n         courseDetails.setVisibility(View.VISIBLE);\n         courseDetails.setText(date);\n     }\n+\n+    public void setHasUpgradeOption(String mode, View.OnClickListener onLearnMoreClick){\n+        if(mode.equalsIgnoreCase(EnrollmentMode.AUDIT.toString())) {\n+            propContainer.setVisibility(View.VISIBLE);\n+            Drawable trophyIcon = new IconDrawable(coursePropMsg.getContext(), FontAwesomeIcons.fa_trophy)\n+                    .sizeRes(coursePropMsg.getContext(), R.dimen.medium_icon_size)\n+                    .colorRes(coursePropMsg.getContext(), R.color.neutralBlackT);\n+            coursePropMsg.setCompoundDrawablesWithIntrinsicBounds(trophyIcon, null, null, null);", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzEwMzM0OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547103349", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T07:01:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY0MDI3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546658116", "bodyText": "set isValuePropEnabled  the default value to true as per Jira Story.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T11:36:46Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/MyCoursesAdapter.java", "diffHunk": "@@ -15,12 +15,17 @@\n \n public abstract class MyCoursesAdapter extends BaseListAdapter<EnrolledCoursesResponse> {\n     private long lastClickTime;\n+    private boolean isValuePropEnabled = false;", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY4ODc3OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546688779", "bodyText": "As per the decision in the team meeting, it should be false by default.\ncc @miankhalid, @saeedbashir.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T12:51:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA4MzAxNg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547083016", "bodyText": "Setting the by_defualt value to true", "author": "omerhabib26", "createdAt": "2020-12-22T05:54:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA5NTk0Nw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547095947", "bodyText": "Set it to false by defualt", "author": "omerhabib26", "createdAt": "2020-12-22T06:38:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1ODExNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY2NDk0NA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r546664944", "bodyText": "Unnecessary change.", "author": "farhan-arshad-dev", "createdAt": "2020-12-21T11:53:41Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/model/api/EnrolledCoursesResponse.java", "diffHunk": "@@ -13,7 +13,7 @@\n     private boolean is_active;\n     private CourseEntry course;\n     private boolean isDiscussionBlackedOut = false;\n-    ", "originalCommit": "022c1e12d2b849c34ed247154e290f8f6cce5dd3", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzA3MDkwNA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547070904", "bodyText": "unable to identify it on the local side will remove it while squashing the commits", "author": "omerhabib26", "createdAt": "2020-12-22T05:09:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY2NDk0NA=="}], "type": "inlineReview"}, {"oid": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "url": "https://github.com/edx/edx-app-android/commit/3fe0716f464d0d51cd5e77dafa06d046d055d087", "message": "Added Upgrade Value Prop on EnrolledCourses + locked content\n- LEARNER-8026, 8111\n- Added Value prop layout on My Courses card\n- Added Value prop modal\n- Added Firebase Remote config for value prop\n- Added locked content on assignments for audit mode\n- Added Analytics events for Value prop", "committedDate": "2020-12-22T07:03:57Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyNzIzNQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547227235", "bodyText": "Unsed method.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:34:16Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -467,6 +467,37 @@ void trackPLSShiftButtonTapped(@NonNull String courseId, @NonNull String enrollm\n     void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollmentMode,\n                                   @NonNull String screenName, boolean isSuccess);\n \n+    /**\n+     * Track the Value Prop Modal appearance\n+     *\n+     * @param courseId     course id of the course through which the modal is appeared\n+     * @param assignmentId Assignment id of course unit\n+     * @param screenName   The screen name through which Modal will appear\n+     */\n+    void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId,\n+                                 @NonNull String screenName);\n+\n+\n+    /**\n+     * Track the Value Prop Learn more button tapped\n+     *\n+     * @param courseId     course id of the course on which button is tapped\n+     * @param assignmentId Assignment id of course unit\n+     * @param screenName   The screen name on which button will be tapped\n+     */\n+    void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId,\n+                                       @NonNull String screenName);\n+\n+\n+    /**\n+     * Track the tapped occurrence on locked content\n+     *\n+     * @param courseId     course id of the course on which button is tapped\n+     * @param assignmentId Assignment id of course unit\n+     */\n+    void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI2ODM3Nw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547268377", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-22T13:08:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyNzIzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyOTM4Ng==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547229386", "bodyText": "Unused constant.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:39:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -582,6 +614,8 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String USER_COURSE_ENROLL_CLICKED = \"edx.bi.app.course.enroll.clicked\";\n         String USER_COURSE_ENROLL_SUCCESS = \"edx.bi.app.course.enroll.success\";\n         String USER_COURSE_UPGRADE_SUCCESS = \"edx.bi.app.course.upgrade.success\";\n+        String VALUE_PROP_LEARN_MORE_CLICKED = \"edx.bi.app.value.prop.learn.more.clicked\";\n+        String LOCKED_CONTENT_CLICKED = \"edx.bi.app.course.unit.locked.content.clicked\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI3MDE4Ng==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547270186", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-22T13:12:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIyOTM4Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMDgyMA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547230820", "bodyText": "the event name will be Value Prop: Modal Course Enrollment when modal is viewed through CourseEnrollment screen.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:42:40Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -783,6 +819,10 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String PLS_BANNER_VIEWED = \"PLS Banner Viewed\";\n         String PLS_SHIFT_DATES_BUTTON_TAPPED = \"PLS Shift Button Tapped\";\n         String PLS_SHIFT_DATES = \"PLS Shift Dates\";\n+        // Value Prop\n+        String VALUE_PROP_LEARN_MORE_CLICKED = \"Value Prop: Learn More Clicked\";\n+        String VALUE_PROP_MODAL_VIEW = \"Value Prop Modal View\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI2ODcwMg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547268702", "bodyText": "decision pending on slack", "author": "omerhabib26", "createdAt": "2020-12-22T13:09:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMDgyMA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMzg1NQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547233855", "bodyText": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be null|empty. In that case, the app should not send empty data.\nFYI @mumer92.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:50:05Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +657,31 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMzk4OA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547233988", "bodyText": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be null|empty. In that case, the app should not send empty data.\nFYI @mumer92.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:50:26Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +657,31 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackLockedContentTapped(@NonNull String courseId, @NonNull String assignmentId) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.COURSE_UNIT_LOCKED_CONTENT, Values.LOCKED_CONTENT_CLICKED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI1MTgwOQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547251809", "bodyText": "@farhan\nYes, when ASSIGNMENT_ID is not available, we are not sending it. Doing same on iOS.", "author": "mumer92", "createdAt": "2020-12-22T12:32:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzMzk4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzNDM4MA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547234380", "bodyText": "In the case of DashBoard type, Modal ASSIGNMENT_ID will be null|empty. In that case, the app should not send empty data.\nFYI @mumer92.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:51:23Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +657,31 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @NonNull String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.ASSIGNMENT_ID, assignmentId);", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzNDYyOQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547234629", "bodyText": "name should be course_enrollment.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:52:00Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -675,11 +709,13 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String LAUNCH_ACTIVITY = \"Launch\";\n         String REGISTER = \"Register\";\n         String LOGIN = \"Login\";\n+        String COURSE_ENROLLMENT = \"Course Enrollment\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzIzNDcwMA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547234700", "bodyText": "unused constant.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T11:52:11Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -675,11 +709,13 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String LAUNCH_ACTIVITY = \"Launch\";\n         String REGISTER = \"Register\";\n         String LOGIN = \"Login\";\n+        String COURSE_ENROLLMENT = \"Course Enrollment\";\n         String COURSE_DASHBOARD = \"Course Dashboard\";\n         String COURSE_OUTLINE = \"Course Outline\";\n         String COURSE_HANDOUTS = \"Course Handouts\";\n         String COURSE_ANNOUNCEMENTS = \"Course Announcements\";\n         String COURSE_DATES = \"Course Dates\";\n+        String COURSE_UNIT = \"Course Unit\";", "originalCommit": "3fe0716f464d0d51cd5e77dafa06d046d055d087", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI0NjY5Mg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547246692", "bodyText": "need to send bi_value with this event.", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T12:20:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -931,4 +931,32 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         aEvent.data.putValue(Keys.SUCCESS, isSuccess);\n         trackSegmentEvent(Events.PLS_SHIFT_DATES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId,\n+                                        @Nullable String assignmentId, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        trackSegmentEvent(Events.VALUE_PROP_MODAL_VIEW, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @NonNull String assignmentId,\n+                                              @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);", "originalCommit": "c6ec7cbe8341e9f164c4f42ef04bf91ef4276422", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzI2OTk2NQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547269965", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-22T13:12:22Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -675,11 +709,13 @@ void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String enrollme\n         String LAUNCH_ACTIVITY = \"Launch\";\n         String REGISTER = \"Register\";\n         String LOGIN = \"Login\";\n+        String COURSE_ENROLLMENT = \"course_enrollment\";\n         String COURSE_DASHBOARD = \"Course Dashboard\";\n         String COURSE_OUTLINE = \"Course Outline\";\n         String COURSE_HANDOUTS = \"Course Handouts\";\n         String COURSE_ANNOUNCEMENTS = \"Course Announcements\";\n         String COURSE_DATES = \"Course Dates\";\n+        String COURSE_UNIT = \"course_unit\";", "originalCommit": "c6ec7cbe8341e9f164c4f42ef04bf91ef4276422", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzE5OQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547323199", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId)", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:56:11Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +658,27 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MDE3MA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547340170", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:26:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzE5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzk0Mg==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547323942", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId)", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:57:27Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -657,4 +658,27 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_MODAL_VIEW);\n+        event.putCourseId(courseId);\n+        if (assignmentId != null) {\n+            event.putString(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.VALUE_PROP_LEARN_MORE_CLICKED, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        event.putCourseId(courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MDIwNA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547340204", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:26:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyMzk0Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDYxMQ==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547324611", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId).", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:58:38Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -931,4 +932,29 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         aEvent.data.putValue(Keys.SUCCESS, isSuccess);\n         trackSegmentEvent(Events.PLS_SHIFT_DATES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId,\n+                                        @Nullable String assignmentId, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MjA0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547342043", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:29:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDYxMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDY3Ng==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547324676", "bodyText": "The condition should be replaced with !TextUtils.isEmpty(assignmentId).", "author": "farhan-arshad-dev", "createdAt": "2020-12-22T14:58:45Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -931,4 +932,29 @@ public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String e\n         aEvent.data.putValue(Keys.SUCCESS, isSuccess);\n         trackSegmentEvent(Events.PLS_SHIFT_DATES, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackValuePropModalView(@NonNull String courseId,\n+                                        @Nullable String assignmentId, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (assignmentId != null) {\n+            aEvent.data.putValue(Keys.ASSIGNMENT_ID, assignmentId);\n+        }\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        trackSegmentEvent(Events.VALUE_PROP_MODAL_VIEW, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackValuePropLearnMoreTapped(@NonNull String courseId, @Nullable String assignmentId,\n+                                              @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, Values.VALUE_PROP_LEARN_MORE_CLICKED);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        if (assignmentId != null) {", "originalCommit": "875eb30a24b76878aed4e8bb8d99fb039f3b458e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzM0MjEyNA==", "url": "https://github.com/edx/edx-app-android/pull/1498#discussion_r547342124", "bodyText": "done", "author": "omerhabib26", "createdAt": "2020-12-22T15:29:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMyNDY3Ng=="}], "type": "inlineReview"}, {"oid": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "url": "https://github.com/edx/edx-app-android/commit/0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "message": "Added Upgrade Value Prop on EnrolledCourses + locked content\n- LEARNER-8026, 8111\n- Added Value prop layout on My Courses card\n- Added Value prop modal\n- Added Firebase Remote config for value prop\n- Added Analytics events for Value prop", "committedDate": "2020-12-22T15:47:27Z", "type": "commit"}, {"oid": "0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "url": "https://github.com/edx/edx-app-android/commit/0076cddb591387b21b5eb7cef8ff3e7731e8be9c", "message": "Added Upgrade Value Prop on EnrolledCourses + locked content\n- LEARNER-8026, 8111\n- Added Value prop layout on My Courses card\n- Added Value prop modal\n- Added Firebase Remote config for value prop\n- Added Analytics events for Value prop", "committedDate": "2020-12-22T15:47:27Z", "type": "forcePushed"}]}