{"pr_number": 1488, "pr_title": "Implement Analytics events for PLS work", "pr_createdAt": "2020-12-02T10:31:35Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1488", "timeline": [{"oid": "1c89003222e7ce422988da88d63528f46be9bad9", "url": "https://github.com/edx/edx-app-android/commit/1c89003222e7ce422988da88d63528f46be9bad9", "message": "Implement Analytics events for PLS work\n- LEARNER-8001\n- Added 3 events as follow:\n  - PLS Banner Viewed\n  - PLS Shift Button Tapped\n  - PLS Shift Dates", "committedDate": "2020-12-02T11:15:48Z", "type": "forcePushed"}, {"oid": "01fb143f99acdffd1bd41c245bca5045608a5942", "url": "https://github.com/edx/edx-app-android/commit/01fb143f99acdffd1bd41c245bca5045608a5942", "message": "Implement Analytics events for PLS work\n- LEARNER-8001\n- Added 3 events as follow:\n  - PLS Banner Viewed\n  - PLS Shift Button Tapped\n  - PLS Shift Dates", "committedDate": "2020-12-04T12:08:00Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTg4OTcyNQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535889725", "bodyText": "IMO Track the PLS Course Dates Banner appearance is more suitable here.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T07:27:54Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMDYwOA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537710608", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:57:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTg4OTcyNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNTc0NA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535925744", "bodyText": "The screen name to track -> The screen name where banner appears.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T08:38:36Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner\n+     *\n+     * @param biValue    biValue of course date banner type\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMDgxMQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537710811", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:57:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNTc0NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNjk5NA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535926994", "bodyText": "IMO Track the PLS Course Dates Shift Dates Button Tapped.  -> Track the Shift Dates button tapped on PLS Course Dates Banner", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T08:40:48Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner\n+     *\n+     * @param biValue    biValue of course date banner type\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     * @param bannerType Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the PLS Course Dates Shift Dates Button Tapped", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMTA2OQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537711069", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:58:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNjk5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNzM0OA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535927348", "bodyText": "same.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T08:41:22Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner\n+     *\n+     * @param biValue    biValue of course date banner type\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     * @param bannerType Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the PLS Course Dates Shift Dates Button Tapped\n+     *\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMTIwOA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537711208", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:58:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNzM0OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNzk2MA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535927960", "bodyText": "I think trackPLSShiftButtonTapped is enough.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T08:42:19Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner\n+     *\n+     * @param biValue    biValue of course date banner type\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     * @param bannerType Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the PLS Course Dates Shift Dates Button Tapped\n+     *\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     */\n+    void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode,", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMTMyMQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537711321", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:58:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyNzk2MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyOTgyMg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535929822", "bodyText": "IMO Track the PLS Course Dates Shift response -> Track that PLS Course Dates Shifted successfully or not.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T08:45:12Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner\n+     *\n+     * @param biValue    biValue of course date banner type\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     * @param bannerType Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the PLS Course Dates Shift Dates Button Tapped\n+     *\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     */\n+    void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode,\n+                                              @NonNull String screenName);\n+\n+    /**\n+     * Track the PLS Course Dates Shift response", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMTQzMQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537711431", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:58:46Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyOTgyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyOTkwNQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535929905", "bodyText": "same.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T08:45:19Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner\n+     *\n+     * @param biValue    biValue of course date banner type\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     * @param bannerType Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the PLS Course Dates Shift Dates Button Tapped\n+     *\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     */\n+    void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode,\n+                                              @NonNull String screenName);\n+\n+    /**\n+     * Track the PLS Course Dates Shift response\n+     *\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing\n+     * @param screenName The screen name to track\n+     * @param isSuccess  Does the shifted successful or not", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMTUyNA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537711524", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:58:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkyOTkwNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkzNjIzNQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r535936235", "bodyText": "The decided screen name are {course_dashboard | dates_screen | assignments_screen}", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T08:55:10Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -635,6 +682,7 @@ void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String\n         String COURSE_DATES = \"Course Dates\";\n         String SECTION_OUTLINE = \"Section Outline\";\n         String UNIT_DETAIL = \"Unit Detail\";\n+        String COURSE_UNIT_ASSIGNMENT = \"Course Assignment\";", "originalCommit": "1c89003222e7ce422988da88d63528f46be9bad9", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMTY4Ng==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537711686", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-12-07T17:59:08Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTkzNjIzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA1ODQzOQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r536058439", "bodyText": "IMO enrolmentMode is more suitable here.\n* @param enrolmentMode enrolment mode of the course where banner appears.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T12:17:20Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner\n+     *\n+     * @param biValue    biValue of course date banner type\n+     * @param courseId   course id of the course we are viewing\n+     * @param courseMode course mode of the course we are viewing", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMDcyMQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537710721", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T17:57:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA1ODQzOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA1OTc5MQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r536059791", "bodyText": "no need to add @NonNull with  boolean isSuccess.", "author": "farhan-arshad-dev", "createdAt": "2020-12-04T12:19:50Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/AnalyticsRegistry.java", "diffHunk": "@@ -439,4 +439,29 @@ public void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull\n             service.trackCastDeviceConnectionChanged(eventName, connectionState, playMedium);\n         }\n     }\n+\n+    @Override\n+    public void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId,\n+                                          @NonNull String courseMode, @NonNull String screenName,\n+                                          @NonNull String bannerType) {\n+        for (Analytics service : services) {\n+            service.trackPLSCourseDatesBanner(biValue, courseId, courseMode, screenName, bannerType);\n+        }\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode,\n+                                                     @NonNull String screenName) {\n+        for (Analytics service : services) {\n+            service.trackPLSCourseDatesShiftButtonTapped(courseId, courseMode, screenName);\n+        }\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String courseMode,\n+                                         @NonNull String screenName, @NonNull boolean isSuccess) {", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMTg4Mw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537711883", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-07T17:59:22Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA1OTc5MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI5NDEzNQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537294135", "bodyText": "category: course_dates is missing.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T07:50:06Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -621,4 +621,34 @@ public void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull\n         }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull String bannerType) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.PLS_BANNER_VIEWED, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.MODE, courseMode);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        event.putString(Keys.BANNER_TYPE, bannerType);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMjgxNA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537712814", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-12-07T18:00:36Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI5NDEzNQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI5ODMwOQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537298309", "bodyText": "same category: course_dates is missing.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T07:58:06Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -621,4 +621,34 @@ public void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull\n         }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull String bannerType) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.PLS_BANNER_VIEWED, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.MODE, courseMode);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        event.putString(Keys.BANNER_TYPE, bannerType);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.PLS_SHIFT_DATES_BUTTON_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.MODE, courseMode);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMjk4Mw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537712983", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-12-07T18:00:52Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI5ODMwOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNDIwNw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537304207", "bodyText": "same category: course_dates is missing.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T08:09:29Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/FirebaseAnalytics.java", "diffHunk": "@@ -621,4 +621,34 @@ public void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull\n         }\n         logFirebaseEvent(event.getName(), event.getBundle());\n     }\n+\n+    @Override\n+    public void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull String bannerType) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.PLS_BANNER_VIEWED, biValue);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.MODE, courseMode);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        event.putString(Keys.BANNER_TYPE, bannerType);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode, @NonNull String screenName) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.PLS_SHIFT_DATES_BUTTON_TAPPED);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.MODE, courseMode);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        event.putString(Keys.CATEGORY, Values.COURSE_DATES);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull boolean isSuccess) {\n+        final FirebaseEvent event = new FirebaseEvent(Events.PLS_SHIFT_DATES);\n+        event.putCourseId(courseId);\n+        event.putString(Keys.MODE, courseMode);\n+        event.putString(Keys.SCREEN_NAME, screenName);\n+        event.putBoolean(Keys.SUCCESS, isSuccess);\n+        logFirebaseEvent(event.getName(), event.getBundle());\n+    }", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMzA3NA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537713074", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-12-07T18:00:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNDIwNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNTU5OQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537305599", "bodyText": "aEvent.properties.putValue(Keys.CATEGORY, \"course_dates\");\n\nis missing.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T08:12:08Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -894,4 +894,35 @@ public void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull\n         }\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull String bannerType) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMzI0Ng==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537713246", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-12-07T18:01:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNTU5OQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNTc0Mw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537305743", "bodyText": "aEvent.properties.putValue(Keys.CATEGORY, \"course_dates\");\n\nis missing.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T08:12:20Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -894,4 +894,35 @@ public void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull\n         }\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull String bannerType) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.MODE, courseMode);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        aEvent.data.putValue(Keys.BANNER_TYPE, bannerType);\n+        trackSegmentEvent(Events.PLS_BANNER_VIEWED, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.COURSE_DATES);", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxMzU0MQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537713541", "bodyText": "it's already there :-P", "author": "omerhabib26", "createdAt": "2020-12-07T18:01:40Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNTc0Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNTgxMw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537305813", "bodyText": "aEvent.properties.putValue(Keys.CATEGORY, \"course_dates\");\n\nis missing.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T08:12:27Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/SegmentAnalytics.java", "diffHunk": "@@ -894,4 +894,35 @@ public void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull\n         }\n         trackSegmentEvent(eventName, aEvent.properties);\n     }\n+\n+    @Override\n+    public void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull String bannerType) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.NAME, biValue);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.MODE, courseMode);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        aEvent.data.putValue(Keys.BANNER_TYPE, bannerType);\n+        trackSegmentEvent(Events.PLS_BANNER_VIEWED, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShiftButtonTapped(@NonNull String courseId, @NonNull String courseMode, @NonNull String screenName) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.properties.putValue(Keys.CATEGORY, Values.COURSE_DATES);\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);\n+        aEvent.data.putValue(Keys.MODE, courseMode);\n+        aEvent.data.putValue(Keys.SCREEN_NAME, screenName);\n+        trackSegmentEvent(Events.PLS_SHIFT_DATES_BUTTON_TAPPED, aEvent.properties);\n+    }\n+\n+    @Override\n+    public void trackPLSCourseDatesShift(@NonNull String courseId, @NonNull String courseMode, @NonNull String screenName, @NonNull boolean isSuccess) {\n+        final SegmentEvent aEvent = new SegmentEvent();\n+        aEvent.data.putValue(Keys.COURSE_ID, courseId);", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcxNDQ5NQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537714495", "bodyText": "added", "author": "omerhabib26", "createdAt": "2020-12-07T18:03:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMwNTgxMw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMyMjc3Mg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537322772", "bodyText": "We can use the following statment instated of adding a parameter for cours_id.\n            minifiedUnit.setCourseId(courseData.getCourse().getId());", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T08:41:19Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/adapters/CourseUnitPagerAdapter.java", "diffHunk": "@@ -114,7 +114,8 @@ else if (isCourseUnitVideo(minifiedUnit)) {\n                 minifiedUnit.getType() != BlockType.PROBLEM) {\n             unitFragment = CourseUnitEmptyFragment.newInstance(minifiedUnit);\n         } else if (minifiedUnit instanceof HtmlBlockModel) {\n-            unitFragment = CourseUnitWebViewFragment.newInstance((HtmlBlockModel) minifiedUnit);\n+            unitFragment = CourseUnitWebViewFragment.newInstance((HtmlBlockModel) minifiedUnit,", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzczMDIxNg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537730216", "bodyText": "no need to add this, as we already have course_id in minifiedUnit", "author": "omerhabib26", "createdAt": "2020-12-07T18:27:03Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMyMjc3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2NDI0Ng==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538064246", "bodyText": "Some times course_id in minifiedUnit so we have to add the statement.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:19:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMyMjc3Mg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4NjcxNw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538086717", "bodyText": "Added", "author": "omerhabib26", "createdAt": "2020-12-08T07:09:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMyMjc3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzM5MTAyNw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537391027", "bodyText": "better to use putString.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T10:23:14Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUnitWebViewFragment.java", "diffHunk": "@@ -49,11 +50,14 @@\n     private CourseDateViewModel courseDateViewModel;\n     private PreLoadingListener preloadingListener;\n     private boolean isPageLoading = false;\n+    private String courseId = \"\", courseMode = \"\";\n \n-    public static CourseUnitWebViewFragment newInstance(HtmlBlockModel unit) {\n+    public static CourseUnitWebViewFragment newInstance(HtmlBlockModel unit, String courseId, String courseMode) {\n         CourseUnitWebViewFragment fragment = new CourseUnitWebViewFragment();\n         Bundle args = new Bundle();\n         args.putSerializable(Router.EXTRA_COURSE_UNIT, unit);\n+        args.putSerializable(Router.EXTRA_COURSE_ID, courseId);\n+        args.putSerializable(Router.EXTRA_COURSE_MODE, courseMode);", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcyOTg0Nw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537729847", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-07T18:26:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzM5MTAyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzM5NzE3Mg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537397172", "bodyText": "remove courseId after getting data from the unit.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T10:32:27Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUnitWebViewFragment.java", "diffHunk": "@@ -49,11 +50,14 @@\n     private CourseDateViewModel courseDateViewModel;\n     private PreLoadingListener preloadingListener;\n     private boolean isPageLoading = false;\n+    private String courseId = \"\", courseMode = \"\";\n \n-    public static CourseUnitWebViewFragment newInstance(HtmlBlockModel unit) {\n+    public static CourseUnitWebViewFragment newInstance(HtmlBlockModel unit, String courseId, String courseMode) {\n         CourseUnitWebViewFragment fragment = new CourseUnitWebViewFragment();\n         Bundle args = new Bundle();\n         args.putSerializable(Router.EXTRA_COURSE_UNIT, unit);\n+        args.putSerializable(Router.EXTRA_COURSE_ID, courseId);", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzcyOTcwNA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537729704", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-07T18:26:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzM5NzE3Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQwNjk5NA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537406994", "bodyText": "Make a separate method to initialize the courseData.", "author": "farhan-arshad-dev", "createdAt": "2020-12-07T10:47:07Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/view/CourseUnitWebViewFragmentTest.java", "diffHunk": "@@ -28,14 +28,15 @@\n import static org.junit.Assert.assertTrue;\n \n public class CourseUnitWebViewFragmentTest extends UiTest {\n+\n+    EnrolledCoursesResponse courseData;\n     /**\n      * Method for iterating through the mock course response data, and\n      * returning the first video block leaf.\n      *\n      * @return The first {@link HtmlBlockModel} leaf in the mock course data\n      */\n     private HtmlBlockModel getHtmlUnit() throws CourseContentNotValidException {\n-        EnrolledCoursesResponse courseData;\n         try {\n             courseData = executeStrict(courseAPI.getEnrolledCourses()).get(0);\n         } catch (Exception e) {", "originalCommit": "01fb143f99acdffd1bd41c245bca5045608a5942", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzc3NzIxOA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r537777218", "bodyText": "Done", "author": "omerhabib26", "createdAt": "2020-12-07T19:36:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQwNjk5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2NjU3MA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538066570", "bodyText": "why we need to add this boolean.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:24:44Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -187,6 +189,7 @@ public void onRefresh() {\n                 // Hide the progress bar as swipe layout has its own progress indicator\n                 loadingIndicator.setVisibility(View.GONE);\n                 errorNotification.hideError();\n+                canFetchBannerInfo = true;", "originalCommit": "f02c64d4c77452b99e5e374360c2913969787f4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3NDEzMw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538074133", "bodyText": "currently, CourseBannerAPI is made twice due to code flow, so to handle this issue I used this boolean to make calls only once", "author": "omerhabib26", "createdAt": "2020-12-08T06:43:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2NjU3MA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4NDc3Mg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538084772", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-08T07:04:42Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2NjU3MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2ODc1MQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538068751", "bodyText": "Deserve doc-string.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:30:15Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -109,6 +109,8 @@\n     private EnrolledCoursesResponse courseData;\n     private String courseComponentId;\n     private boolean isVideoMode;\n+    // Flag to check if the course dates banner API is called or not\n+    private boolean canFetchBannerInfo = true;", "originalCommit": "f02c64d4c77452b99e5e374360c2913969787f4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4NzQwNg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538087406", "bodyText": "removed", "author": "omerhabib26", "createdAt": "2020-12-08T07:10:29Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2ODc1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2OTA1Mg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538069052", "bodyText": "same.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:30:58Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseUnitWebViewFragment.java", "diffHunk": "@@ -134,9 +132,13 @@ private void initInfoBanner(CourseBannerInfoModel courseBannerInfo) {\n             infoBanner.setVisibility(View.GONE);\n             return;\n         }\n-        CourseDateUtil.INSTANCE.setupCourseDatesBanner(infoBanner, courseId, courseMode,\n-                Analytics.Screens.COURSE_UNIT_ASSIGNMENT, environment.getAnalyticsRegistry(), courseBannerInfo,\n-                v -> courseDateViewModel.resetCourseDatesBanner(unit.getCourseId()));\n+        CourseDateUtil.INSTANCE.setupCourseDatesBanner(infoBanner, unit.getCourseId(), enrollmentMode,\n+                Analytics.Screens.PLS_COURSE_UNIT_ASSIGNMENT, environment.getAnalyticsRegistry(), courseBannerInfo,\n+                v -> {\n+                    courseDateViewModel.resetCourseDatesBanner(unit.getCourseId());\n+                    environment.getAnalyticsRegistry().trackPLSShiftButtonTapped(unit.getCourseId(),", "originalCommit": "f02c64d4c77452b99e5e374360c2913969787f4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4NzQ2Mg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538087462", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:10:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2OTA1Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2OTc1NA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538069754", "bodyText": "* Method for iterating through the mocked course data, and return the first video block leaf.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:32:36Z", "path": "OpenEdXMobile/src/test/java/org/edx/mobile/view/CourseUnitWebViewFragmentTest.java", "diffHunk": "@@ -30,18 +30,25 @@\n public class CourseUnitWebViewFragmentTest extends UiTest {\n \n     EnrolledCoursesResponse courseData;\n+\n     /**\n-     * Method for iterating through the mock course response data, and\n-     * returning the first video block leaf.\n-     *\n-     * @return The first {@link HtmlBlockModel} leaf in the mock course data\n+     * Method to initialize Course Data from API\n      */\n-    private HtmlBlockModel getHtmlUnit() throws CourseContentNotValidException {\n+    private void initializeCourseData(){\n         try {\n             courseData = executeStrict(courseAPI.getEnrolledCourses()).get(0);\n         } catch (Exception e) {\n             throw new RuntimeException(e);\n         }\n+    }\n+\n+    /**\n+     * Method for iterating through the mock course response data, and\n+     * returning the first video block leaf.", "originalCommit": "f02c64d4c77452b99e5e374360c2913969787f4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3MDIxNg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538070216", "bodyText": "I think it can be any block, not just the video block", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:33:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2OTc1NA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4ODQyOA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538088428", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:12:43Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA2OTc1NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3MTY3NQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538071675", "bodyText": "IMO course id of the course we are viewing -> course id of the course where banner appear.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:37:14Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner appearance\n+     *\n+     * @param biValue        biValue of course date banner type\n+     * @param courseId       course id of the course we are viewing", "originalCommit": "f02c64d4c77452b99e5e374360c2913969787f4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4OTI0MQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538089241", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:14:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3MTY3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3MTc3Mw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538071773", "bodyText": "IMO course id of the course we are viewing -> course id of the course where banner appear.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:37:30Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner appearance\n+     *\n+     * @param biValue        biValue of course date banner type\n+     * @param courseId       course id of the course we are viewing\n+     * @param enrollmentMode enrollment mode of the course where banner appears\n+     * @param screenName     The screen name where banner appears\n+     * @param bannerType     Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String enrollmentMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the Shift Dates button tapped on PLS Course Dates Banner\n+     *\n+     * @param courseId       course id of the course we are viewing", "originalCommit": "f02c64d4c77452b99e5e374360c2913969787f4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4OTIxNA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538089214", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:14:27Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3MTc3Mw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3MjkyMg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538072922", "bodyText": "IMO course id of the course we are viewing -> course id of the course where banner appear.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T06:40:17Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner appearance\n+     *\n+     * @param biValue        biValue of course date banner type\n+     * @param courseId       course id of the course we are viewing\n+     * @param enrollmentMode enrollment mode of the course where banner appears\n+     * @param screenName     The screen name where banner appears\n+     * @param bannerType     Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String enrollmentMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the Shift Dates button tapped on PLS Course Dates Banner\n+     *\n+     * @param courseId       course id of the course we are viewing\n+     * @param enrollmentMode enrollment mode of the course where button will be tapped\n+     * @param screenName     The screen name on which button will be tapped\n+     */\n+    void trackPLSShiftButtonTapped(@NonNull String courseId, @NonNull String enrollmentMode,\n+                                   @NonNull String screenName);\n+\n+    /**\n+     * Track that PLS Course Dates Shifted successfully or not\n+     *\n+     * @param courseId       course id of the course we are viewing", "originalCommit": "f02c64d4c77452b99e5e374360c2913969787f4e", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA4OTE3OQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538089179", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:14:23Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA3MjkyMg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA5ODQxNg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538098416", "bodyText": "appear  -> appears", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T07:33:06Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner appearance\n+     *\n+     * @param biValue        biValue of course date banner type\n+     * @param courseId       course id of the course where banner appear", "originalCommit": "f106dbb31a134d4d297f2f41dfef3c5603cc7280", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODExMzQ1NQ==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538113455", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:56:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA5ODQxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA5ODQ3NA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538098474", "bodyText": "appear  -> appears", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T07:33:12Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner appearance\n+     *\n+     * @param biValue        biValue of course date banner type\n+     * @param courseId       course id of the course where banner appear\n+     * @param enrollmentMode enrollment mode of the course where banner appears\n+     * @param screenName     The screen name where banner appears\n+     * @param bannerType     Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String enrollmentMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the Shift Dates button tapped on PLS Course Dates Banner\n+     *\n+     * @param courseId       course id of the course where banner appear", "originalCommit": "f106dbb31a134d4d297f2f41dfef3c5603cc7280", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODExMzUzNw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538113537", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:56:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA5ODQ3NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA5ODUyNw==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538098527", "bodyText": "appear  -> appears", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T07:33:16Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/module/analytics/Analytics.java", "diffHunk": "@@ -434,6 +434,39 @@ void trackBulkDownloadSwitchOn(@NonNull String courseId, int totalDownloadableVi\n     void trackCastDeviceConnectionChanged(@NonNull String eventName, @NonNull String connectionState,\n                                           @NonNull String playMedium);\n \n+    /**\n+     * Track the PLS Course Dates Banner appearance\n+     *\n+     * @param biValue        biValue of course date banner type\n+     * @param courseId       course id of the course where banner appear\n+     * @param enrollmentMode enrollment mode of the course where banner appears\n+     * @param screenName     The screen name where banner appears\n+     * @param bannerType     Type of course date banner\n+     */\n+    void trackPLSCourseDatesBanner(@NonNull String biValue, @NonNull String courseId, @NonNull String enrollmentMode,\n+                                   @NonNull String screenName, @NonNull String bannerType);\n+\n+    /**\n+     * Track the Shift Dates button tapped on PLS Course Dates Banner\n+     *\n+     * @param courseId       course id of the course where banner appear\n+     * @param enrollmentMode enrollment mode of the course where button will be tapped\n+     * @param screenName     The screen name on which button will be tapped\n+     */\n+    void trackPLSShiftButtonTapped(@NonNull String courseId, @NonNull String enrollmentMode,\n+                                   @NonNull String screenName);\n+\n+    /**\n+     * Track that PLS Course Dates Shifted successfully or not\n+     *\n+     * @param courseId       course id of the course where banner appear", "originalCommit": "f106dbb31a134d4d297f2f41dfef3c5603cc7280", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODExMzYxNg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538113616", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T07:56:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODA5ODUyNw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODEwMDUwMg==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538100502", "bodyText": "update doc-string accordingly.", "author": "farhan-arshad-dev", "createdAt": "2020-12-08T07:36:47Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/CourseOutlineFragment.java", "diffHunk": "@@ -651,7 +653,7 @@ public void onDestroyActionMode(ActionMode mode) {\n     /**\n      * Load data to the adapter\n      */\n-    private void loadData(@NonNull CourseComponent courseComponent) {\n+    private void loadData(@NonNull CourseComponent courseComponent, boolean isServerCall) {", "originalCommit": "f106dbb31a134d4d297f2f41dfef3c5603cc7280", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODExOTMwMA==", "url": "https://github.com/edx/edx-app-android/pull/1488#discussion_r538119300", "bodyText": "updated", "author": "omerhabib26", "createdAt": "2020-12-08T08:06:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODEwMDUwMg=="}], "type": "inlineReview"}, {"oid": "c5656d3a5091f40f2e81995e6ce9b4a4a709b38e", "url": "https://github.com/edx/edx-app-android/commit/c5656d3a5091f40f2e81995e6ce9b4a4a709b38e", "message": "Implement Analytics events for PLS work\n- LEARNER-8001\n- Added 3 events as follow:\n  - PLS Banner Viewed\n  - PLS Shift Button Tapped\n  - PLS Shift Dates\n- Refactor CourseDateBannerInfo API Call", "committedDate": "2020-12-08T08:02:36Z", "type": "commit"}, {"oid": "c5656d3a5091f40f2e81995e6ce9b4a4a709b38e", "url": "https://github.com/edx/edx-app-android/commit/c5656d3a5091f40f2e81995e6ce9b4a4a709b38e", "message": "Implement Analytics events for PLS work\n- LEARNER-8001\n- Added 3 events as follow:\n  - PLS Banner Viewed\n  - PLS Shift Button Tapped\n  - PLS Shift Dates\n- Refactor CourseDateBannerInfo API Call", "committedDate": "2020-12-08T08:02:36Z", "type": "forcePushed"}]}