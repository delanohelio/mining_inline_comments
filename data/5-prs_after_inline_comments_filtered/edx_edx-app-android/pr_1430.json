{"pr_number": 1430, "pr_title": "Added Confirm email field in registration form", "pr_createdAt": "2020-06-25T09:36:48Z", "pr_url": "https://github.com/edx/edx-app-android/pull/1430", "timeline": [{"oid": "88076aba29e63e1c916647f4b6f3366da5b05dd8", "url": "https://github.com/edx/edx-app-android/commit/88076aba29e63e1c916647f4b6f3366da5b05dd8", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login", "committedDate": "2020-06-25T11:25:52Z", "type": "forcePushed"}, {"oid": "69a19436408d1cc029ca807473a0469b6efa6b62", "url": "https://github.com/edx/edx-app-android/commit/69a19436408d1cc029ca807473a0469b6efa6b62", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login", "committedDate": "2020-06-25T11:36:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODMxNjM0NQ==", "url": "https://github.com/edx/edx-app-android/pull/1430#discussion_r448316345", "bodyText": "IMO, we can merge both the conditions,\nif (RegistrationFieldType.CONFIRM_EMAIL.name().equalsIgnoreCase(fieldName) ||\n                    RegistrationFieldType.PASSWORD.name().equalsIgnoreCase(fieldName)) {\n                field.getView().setVisibility(View.GONE);\n                extraFields.add(field);\n            }", "author": "farhan-arshad-dev", "createdAt": "2020-07-01T12:04:52Z", "path": "OpenEdXMobile/src/main/java/org/edx/mobile/view/RegisterActivity.java", "diffHunk": "@@ -463,15 +477,20 @@ private void updateUIOnSocialLoginToEdxFailure(SocialFactory.SOCIAL_SOURCE_TYPE\n         showRegularMessage(socialType);\n         //populate the field with value from social site\n         populateEmailFromSocialSite(socialType, accessToken);\n-        //hide email and password field\n+        //hide confirm email and password field as we don't need them in case of social signup\n+        List<IRegistrationFieldView> extraFields = new ArrayList<>();\n         for (IRegistrationFieldView field : this.mFieldViews) {\n-            String fieldname = field.getField().getName();\n-            if (\"password\".equalsIgnoreCase(fieldname)) {\n+            String fieldName = field.getField().getName();\n+            if (RegistrationFieldType.CONFIRM_EMAIL.name().equalsIgnoreCase(fieldName)) {\n+                field.getView().setVisibility(View.GONE);\n+                extraFields.add(field);\n+            }\n+            if (RegistrationFieldType.PASSWORD.name().equalsIgnoreCase(fieldName)) {\n                 field.getView().setVisibility(View.GONE);\n-                this.mFieldViews.remove(field);\n-                break;\n+                extraFields.add(field);", "originalCommit": "b1b0818e77aac04b8e770ec56c084c99d3772a51", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "27a7300df448853d1ee1aaf70a92019bd5121c87", "url": "https://github.com/edx/edx-app-android/commit/27a7300df448853d1ee1aaf70a92019bd5121c87", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login", "committedDate": "2020-07-01T15:31:54Z", "type": "commit"}, {"oid": "27a7300df448853d1ee1aaf70a92019bd5121c87", "url": "https://github.com/edx/edx-app-android/commit/27a7300df448853d1ee1aaf70a92019bd5121c87", "message": "Added Confirm email field in registration form\n- LEARNER-7748\n- Verify both email fields before call register account API\n- Update the registration URL API_Version based on config\n- Handle extra fields for Social login", "committedDate": "2020-07-01T15:31:54Z", "type": "forcePushed"}]}