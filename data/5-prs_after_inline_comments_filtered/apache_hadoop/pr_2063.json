{"pr_number": 2063, "pr_title": "HADOOP-17020. Improving RawFileSystem Performance", "pr_createdAt": "2020-06-08T10:31:41Z", "pr_url": "https://github.com/apache/hadoop/pull/2063", "timeline": [{"oid": "c969af854559ff37989195b6c24aac88941c9702", "url": "https://github.com/apache/hadoop/commit/c969af854559ff37989195b6c24aac88941c9702", "message": "HADOOP-17020. RawFileSystem could localize default block size to avoid sync bottleneck in config\n\nContributed by : Mehakmeet Singh", "committedDate": "2020-06-08T10:00:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI5NTM0Mw==", "url": "https://github.com/apache/hadoop/pull/2063#discussion_r437295343", "bodyText": "must be absolute fs uri", "author": "steveloughran", "createdAt": "2020-06-09T10:07:42Z", "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/RawLocalFileSystem.java", "diffHunk": "@@ -100,6 +101,7 @@ public File pathToFile(Path path) {\n   public void initialize(URI uri, Configuration conf) throws IOException {\n     super.initialize(uri, conf);\n     setConf(conf);\n+    defaultBlockSize = getDefaultBlockSize(new Path(\".\"));", "originalCommit": "c969af854559ff37989195b6c24aac88941c9702", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI5NTcyMQ==", "url": "https://github.com/apache/hadoop/pull/2063#discussion_r437295721", "bodyText": "is this a new method, or just an accidental patch quirk", "author": "steveloughran", "createdAt": "2020-06-09T10:08:19Z", "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/RawLocalFileSystem.java", "diffHunk": "@@ -518,7 +520,12 @@ public boolean delete(Path p, boolean recursive) throws IOException {\n     }\n     return new FileStatus[] {\n         new DeprecatedRawLocalFileStatus(localf,\n-        getDefaultBlockSize(f), this) };\n+        defaultBlockSize, this) };\n+  }\n+\n+  @Override\n+  public boolean exists(Path f) throws IOException {\n+    return pathToFile(f).exists();", "originalCommit": "c969af854559ff37989195b6c24aac88941c9702", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTMyMTg2Mg==", "url": "https://github.com/apache/hadoop/pull/2063#discussion_r439321862", "bodyText": "This is a new method(Overriden) for this patch.", "author": "mehakmeet", "createdAt": "2020-06-12T09:51:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI5NTcyMQ=="}], "type": "inlineReview"}, {"oid": "70990d60c0eaa607daea537e7cfe461c94bf8bbb", "url": "https://github.com/apache/hadoop/commit/70990d60c0eaa607daea537e7cfe461c94bf8bbb", "message": "HADOOP-17020. used absolute fs uri as path", "committedDate": "2020-06-11T12:03:00Z", "type": "commit"}]}