{"pr_number": 1942, "pr_title": "MAPREDUCE-7270. TestHistoryViewerPrinter could be failed when the locale isn't English.", "pr_createdAt": "2020-04-07T06:37:10Z", "pr_url": "https://github.com/apache/hadoop/pull/1942", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwNTk4Mg==", "url": "https://github.com/apache/hadoop/pull/1942#discussion_r493005982", "bodyText": "This can be @BeforeClass? Same to tearDown to be static.\nOther than that +1", "author": "liuml07", "createdAt": "2020-09-22T20:14:31Z", "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/jobhistory/TestHistoryViewerPrinter.java", "diffHunk": "@@ -43,6 +46,19 @@\n \n   private final String LINE_SEPARATOR = System.lineSeparator();\n \n+  private Locale defaultLocale;\n+\n+  @Before", "originalCommit": "8b3a251a90773298e23fb27991bd7efb30bba61d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE3ODQ5NQ==", "url": "https://github.com/apache/hadoop/pull/1942#discussion_r493178495", "bodyText": "@liuml07 Okay, I will push that changes.", "author": "sungpeo", "createdAt": "2020-09-23T03:41:33Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzAwNTk4Mg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMDIyOA==", "url": "https://github.com/apache/hadoop/pull/1942#discussion_r493210228", "bodyText": "Sorry I missed in previous review, but do you mind making this a static final variable e.g.\nprivate static final Locale DEFAULT_LOCALE = Locale.getDefault();\n\n?", "author": "liuml07", "createdAt": "2020-09-23T05:42:07Z", "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-core/src/test/java/org/apache/hadoop/mapreduce/jobhistory/TestHistoryViewerPrinter.java", "diffHunk": "@@ -43,6 +46,19 @@\n \n   private final String LINE_SEPARATOR = System.lineSeparator();\n \n+  private static Locale DEFAULT_LOCALE;", "originalCommit": "7f77448d0f04acba911b14c1fc8b2c6d0e7e6009", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4OTE2MjE5Nw==", "url": "https://github.com/apache/hadoop/pull/1942#discussion_r589162197", "bodyText": "@liuml07\nI think the static DEFAULT_LOCALE which could be stale during other test suites or settings,\nbecause, the DEFAULT_LOCALE will be set before all of the tests.\nWhat do you think about?", "author": "sungpeo", "createdAt": "2021-03-08T04:25:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMDIyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDAzMDkzMQ==", "url": "https://github.com/apache/hadoop/pull/1942#discussion_r590030931", "bodyText": "This is only initialized during the static @BeforeClass setUp() method, and it will not change during every test cases in this class.", "author": "liuml07", "createdAt": "2021-03-09T07:41:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMDIyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5MDc5NDk0OA==", "url": "https://github.com/apache/hadoop/pull/1942#discussion_r590794948", "bodyText": "Sorry to confuse you.\nI worried that the result of Locale.getDefault() might be changed.\nBut I get it I don't have to.\nI'll push the change.", "author": "sungpeo", "createdAt": "2021-03-09T22:51:14Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMDIyOA=="}], "type": "inlineReview"}, {"oid": "1577295785c1cb5af6998acfcb8eb5313aa07943", "url": "https://github.com/apache/hadoop/commit/1577295785c1cb5af6998acfcb8eb5313aa07943", "message": "MAPREDUCE-7270. TestHistoryViewerPrinter could be failed when the locale isn't English.\n\n- set Locale.ENGLISH for the test", "committedDate": "2021-04-08T01:37:23Z", "type": "commit"}, {"oid": "d0a17b4ba6e58658fb058514a2f2bde7e9a95ba0", "url": "https://github.com/apache/hadoop/commit/d0a17b4ba6e58658fb058514a2f2bde7e9a95ba0", "message": "changed to be static to set locale in test", "committedDate": "2021-04-08T01:37:23Z", "type": "commit"}, {"oid": "af7c027a27f90045f1abba4ecda5ff78c0d18ba1", "url": "https://github.com/apache/hadoop/commit/af7c027a27f90045f1abba4ecda5ff78c0d18ba1", "message": "Reflect feedback(set DEFAULT_LOCAL static) from lium07", "committedDate": "2021-04-08T01:37:23Z", "type": "commit"}, {"oid": "93cc19586f294fc7e1886010394ada5287b83285", "url": "https://github.com/apache/hadoop/commit/93cc19586f294fc7e1886010394ada5287b83285", "message": "correct indentation", "committedDate": "2021-04-08T01:38:52Z", "type": "commit"}, {"oid": "93cc19586f294fc7e1886010394ada5287b83285", "url": "https://github.com/apache/hadoop/commit/93cc19586f294fc7e1886010394ada5287b83285", "message": "correct indentation", "committedDate": "2021-04-08T01:38:52Z", "type": "forcePushed"}]}