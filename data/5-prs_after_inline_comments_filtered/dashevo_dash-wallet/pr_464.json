{"pr_number": 464, "pr_title": "DashPay: Send payment | Contact UI", "pr_createdAt": "2020-07-28T00:04:46Z", "pr_url": "https://github.com/dashevo/dash-wallet/pull/464", "timeline": [{"oid": "d0b1f71ca8e591ff26dc7c9e81736ae6964ecd6e", "url": "https://github.com/dashevo/dash-wallet/commit/d0b1f71ca8e591ff26dc7c9e81736ae6964ecd6e", "message": "Use dashpay, platform-core, dpp, dapi-client 0.13-SNAPSHOT", "committedDate": "2020-07-06T23:41:11Z", "type": "commit"}, {"oid": "9bace73fb7c512f22381feea225ae13f6c7c1322", "url": "https://github.com/dashevo/dash-wallet/commit/9bace73fb7c512f22381feea225ae13f6c7c1322", "message": "Update to DPP 0.13", "committedDate": "2020-07-06T23:41:40Z", "type": "commit"}, {"oid": "bd6f471ae7d7ed4eceba223928f340d45ecee45e", "url": "https://github.com/dashevo/dash-wallet/commit/bd6f471ae7d7ed4eceba223928f340d45ecee45e", "message": "Change primary key contents of Contact Request table", "committedDate": "2020-07-08T23:25:46Z", "type": "commit"}, {"oid": "9bd08261726792cb1b89b2d1f1700d058f0a55e3", "url": "https://github.com/dashevo/dash-wallet/commit/9bd08261726792cb1b89b2d1f1700d058f0a55e3", "message": "PlatformRepo: Recover Profile if the DashPay contract exists", "committedDate": "2020-07-09T15:53:36Z", "type": "commit"}, {"oid": "8256b844b320df198441bd2c0be9f00ec721b135", "url": "https://github.com/dashevo/dash-wallet/commit/8256b844b320df198441bd2c0be9f00ec721b135", "message": "PlatformRepo: Use records.dashIdentity instead of ownerId", "committedDate": "2020-07-09T15:54:10Z", "type": "commit"}, {"oid": "d124f0e39c818c65e0cf53f243faa0da5041d609", "url": "https://github.com/dashevo/dash-wallet/commit/d124f0e39c818c65e0cf53f243faa0da5041d609", "message": "BlockchainService: Set the DapiClient's masternode list", "committedDate": "2020-07-10T19:23:43Z", "type": "commit"}, {"oid": "7e24158770cc48441532eb3917d2905141d3e2ee", "url": "https://github.com/dashevo/dash-wallet/commit/7e24158770cc48441532eb3917d2905141d3e2ee", "message": "Fix BlockchainIdentity construction (use same platform object as the app)", "committedDate": "2020-07-10T19:23:44Z", "type": "commit"}, {"oid": "e73b2b36b333a6f1cdad0d4f0a30582a3ec4c040", "url": "https://github.com/dashevo/dash-wallet/commit/e73b2b36b333a6f1cdad0d4f0a30582a3ec4c040", "message": "PlatformRepo: If there are on contactRequests, skip searching profiles and names", "committedDate": "2020-07-10T19:23:44Z", "type": "commit"}, {"oid": "23bef1b651814f0ec36542a8a94c4752c44f15f1", "url": "https://github.com/dashevo/dash-wallet/commit/23bef1b651814f0ec36542a8a94c4752c44f15f1", "message": "PlatformRepo: change isPlatformAvailable", "committedDate": "2020-07-10T19:23:45Z", "type": "commit"}, {"oid": "1e3530ca70c1733e3d78bd8304fad0ddd884b035", "url": "https://github.com/dashevo/dash-wallet/commit/1e3530ca70c1733e3d78bd8304fad0ddd884b035", "message": "Refactor some liveData from DashPayViewModel to new classes\n\n* New classes NotificationsLiveData, NotificationCountLiveData\n* Listeners react to updating the contact database and then update data\n* The notifications screen is live", "committedDate": "2020-07-13T22:33:40Z", "type": "commit"}, {"oid": "b7b756b5d79bbf438bb0d3c6ba2b1945137eb8f0", "url": "https://github.com/dashevo/dash-wallet/commit/b7b756b5d79bbf438bb0d3c6ba2b1945137eb8f0", "message": "Fix sort order for notifications", "committedDate": "2020-07-14T14:24:15Z", "type": "commit"}, {"oid": "78d7597ec649ecf1537ed2ab2bef315ad18ca721", "url": "https://github.com/dashevo/dash-wallet/commit/78d7597ec649ecf1537ed2ab2bef315ad18ca721", "message": "Use the fromContactRequest date", "committedDate": "2020-07-14T14:25:07Z", "type": "commit"}, {"oid": "7145eb69351b0aa885ca4edeeef36b4b34a5c3cb", "url": "https://github.com/dashevo/dash-wallet/commit/7145eb69351b0aa885ca4edeeef36b4b34a5c3cb", "message": "PlatformRepo: Make Singleton, replace contact update timer\n\n* Remove timer code from BlockchainServiceImpl", "committedDate": "2020-07-14T21:07:10Z", "type": "commit"}, {"oid": "59f7c7a25c2c36d0166ad844acc0199f3392ad97", "url": "https://github.com/dashevo/dash-wallet/commit/59f7c7a25c2c36d0166ad844acc0199f3392ad97", "message": "Update home screen data when resumed", "committedDate": "2020-07-16T01:00:15Z", "type": "commit"}, {"oid": "a388068208679dbb34e6f9e582029a7ecc0a5665", "url": "https://github.com/dashevo/dash-wallet/commit/a388068208679dbb34e6f9e582029a7ecc0a5665", "message": "ContactsActivity: Update when the database is changed, trigger DB update on resume", "committedDate": "2020-07-16T01:01:05Z", "type": "commit"}, {"oid": "c87ef6a0d7e2355a7553a56b19f633618e127f5b", "url": "https://github.com/dashevo/dash-wallet/commit/c87ef6a0d7e2355a7553a56b19f633618e127f5b", "message": "PlatformRepo: Fix bug that prevented updating contacts", "committedDate": "2020-07-16T01:01:42Z", "type": "commit"}, {"oid": "3e397fcbf0fc68fed5245d8d996967a1ce39d3ee", "url": "https://github.com/dashevo/dash-wallet/commit/3e397fcbf0fc68fed5245d8d996967a1ce39d3ee", "message": "Merge branch 'evonet-develop' of https://github.com/dashevo/dash-wallet into dpp-0.13", "committedDate": "2020-07-17T15:57:15Z", "type": "commit"}, {"oid": "576b010f1e8eace54fa6d3d00af02550ca04e45b", "url": "https://github.com/dashevo/dash-wallet/commit/576b010f1e8eace54fa6d3d00af02550ca04e45b", "message": "Merge branch 'dashpay-notifications-fix' of https://github.com/dashevo/dash-wallet into dpp-0.13", "committedDate": "2020-07-17T18:03:30Z", "type": "commit"}, {"oid": "ace4e589f721cf70d10478ed0a0150208648a49f", "url": "https://github.com/dashevo/dash-wallet/commit/ace4e589f721cf70d10478ed0a0150208648a49f", "message": "Use dpp 0.14-SNAPSHOT related libraries", "committedDate": "2020-07-20T14:55:46Z", "type": "commit"}, {"oid": "41ffaae8a4430b5f13c1613e644c38206a9e679a", "url": "https://github.com/dashevo/dash-wallet/commit/41ffaae8a4430b5f13c1613e644c38206a9e679a", "message": "Add Sending To on Enter Amount and Confirm Screens", "committedDate": "2020-07-21T23:18:15Z", "type": "commit"}, {"oid": "ec0fb3001391fc266a2944727b382694cf8e86a3", "url": "https://github.com/dashevo/dash-wallet/commit/ec0fb3001391fc266a2944727b382694cf8e86a3", "message": "PlatformRepo: Add contact keychains to wallet when updating contacts", "committedDate": "2020-07-22T21:54:20Z", "type": "commit"}, {"oid": "ead06e4aba5de7d6a1158e66ca8c7e179db1ce07", "url": "https://github.com/dashevo/dash-wallet/commit/ead06e4aba5de7d6a1158e66ca8c7e179db1ce07", "message": "Add NotificationItem to handle many types of notifications", "committedDate": "2020-07-22T22:41:33Z", "type": "commit"}, {"oid": "b22c5c51e0ccffc79897e78b6e59d66d30300dea", "url": "https://github.com/dashevo/dash-wallet/commit/b22c5c51e0ccffc79897e78b6e59d66d30300dea", "message": "Merge branch 'evonet-develop' of http://github.com/dashevo/dash-wallet into dpp-0.13\n\n# Conflicts:\n#\twallet/src/de/schildbach/wallet/ui/HeaderBalanceFragment.java\n#\twallet/src/de/schildbach/wallet/ui/dashpay/CreateIdentityService.kt\n#\twallet/src/de/schildbach/wallet/ui/dashpay/DashPayViewModel.kt\n#\twallet/src/de/schildbach/wallet/ui/dashpay/NotificationsActivity.kt\n#\twallet/src/de/schildbach/wallet/ui/dashpay/PlatformRepo.kt", "committedDate": "2020-07-23T21:37:28Z", "type": "commit"}, {"oid": "81ec13ba312d9f7939e69fac0951613483710e78", "url": "https://github.com/dashevo/dash-wallet/commit/81ec13ba312d9f7939e69fac0951613483710e78", "message": "Add Preliminary History to Profile Page if contact was accepted", "committedDate": "2020-07-24T20:41:54Z", "type": "commit"}, {"oid": "a4a12002e92a4dfd1b5d5b90db5277d2dbf7c81d", "url": "https://github.com/dashevo/dash-wallet/commit/a4a12002e92a4dfd1b5d5b90db5277d2dbf7c81d", "message": "Add Preliminary History to Profile Page if contact was accepted (Part 2)", "committedDate": "2020-07-24T20:44:25Z", "type": "commit"}, {"oid": "5a10e4e676e1cbb9f52fe91ef07e7c437614b966", "url": "https://github.com/dashevo/dash-wallet/commit/5a10e4e676e1cbb9f52fe91ef07e7c437614b966", "message": "Add username support to Transaction Details screens\n\nFix other bugs with EnterAmountFragment and ConfirmTransactionDialog", "committedDate": "2020-07-24T20:46:07Z", "type": "commit"}, {"oid": "49701a77282fbeb8d1917e542b0da7f9e59c311e", "url": "https://github.com/dashevo/dash-wallet/commit/49701a77282fbeb8d1917e542b0da7f9e59c311e", "message": "DashPayUserActivity: only show history if its a full contact", "committedDate": "2020-07-25T16:23:18Z", "type": "commit"}, {"oid": "4d74c50ba3f189e3e4b4ae17c837c36513b3e64b", "url": "https://github.com/dashevo/dash-wallet/commit/4d74c50ba3f189e3e4b4ae17c837c36513b3e64b", "message": "BlockchainService: Add reset bloom filters action\n\nSubmit new bloom filters when contact is added", "committedDate": "2020-07-27T14:18:29Z", "type": "commit"}, {"oid": "f553e09a0b3984da9ec9cdf63a2750ed917054ed", "url": "https://github.com/dashevo/dash-wallet/commit/f553e09a0b3984da9ec9cdf63a2750ed917054ed", "message": "DashPayUserActivity: Update screen after Send/Accept (was broken earlier)", "committedDate": "2020-07-27T14:36:45Z", "type": "commit"}, {"oid": "a01e617b82783c673595e243715069e80a0eda2f", "url": "https://github.com/dashevo/dash-wallet/commit/a01e617b82783c673595e243715069e80a0eda2f", "message": "Merge branch 'dpp-0.13' of https://github.com/dashevo/dash-wallet into dashpay-send-payment\n\n# Conflicts:\n#\twallet/src/de/schildbach/wallet/ui/dashpay/DashPayViewModel.kt\n#\twallet/src/de/schildbach/wallet/ui/dashpay/PlatformRepo.kt", "committedDate": "2020-07-27T20:12:20Z", "type": "commit"}, {"oid": "937a2fab1ce379cb83c41bae069d0e42c825f6e9", "url": "https://github.com/dashevo/dash-wallet/commit/937a2fab1ce379cb83c41bae069d0e42c825f6e9", "message": "Use correct flow Send -> Select a Contact -> Contacts Screen\n-> contact -> Enter Amount\n-> Confirm -> Authenticate -> Results -> Profile/History", "committedDate": "2020-07-27T22:14:17Z", "type": "commit"}, {"oid": "424a7a0919ac9c1eb4298534c53f0a4131297612", "url": "https://github.com/dashevo/dash-wallet/commit/424a7a0919ac9c1eb4298534c53f0a4131297612", "message": "Minor changes, restore \"My Contacts Header\" in Select a Contact Screen", "committedDate": "2020-07-27T23:44:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTYzODU3Mw==", "url": "https://github.com/dashevo/dash-wallet/pull/464#discussion_r461638573", "bodyText": "We no longer need InstantSend indicators for PaymentIntent. This was necessary when it was possible to specify InstantSend as a requirement for a transaction which required an extra fee.", "author": "HashEngineering", "createdAt": "2020-07-28T14:44:20Z", "path": "wallet/src/de/schildbach/wallet/data/PaymentIntent.java", "diffHunk": "@@ -163,18 +164,16 @@ private Output(final Parcel in) {\n     @Nullable\n     public final byte[] paymentRequestHash;\n \n-    public boolean useInstantX = false;\n-", "originalCommit": "424a7a0919ac9c1eb4298534c53f0a4131297612", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "4df9c7d11f9a8eac6ba488e8800ed3ff068790c9", "url": "https://github.com/dashevo/dash-wallet/commit/4df9c7d11f9a8eac6ba488e8800ed3ff068790c9", "message": "Other minor changes and code cleanup from self review", "committedDate": "2020-07-28T15:11:19Z", "type": "commit"}, {"oid": "e177219ce5e80e9e02aa4c868d50874936a61192", "url": "https://github.com/dashevo/dash-wallet/commit/e177219ce5e80e9e02aa4c868d50874936a61192", "message": "Merge branch 'evonet-develop' of https://github.com/dashevo/dash-wallet into dashpay-send-payment\n\n# Conflicts:\n#\twallet/src/de/schildbach/wallet/ui/dashpay/PlatformRepo.kt", "committedDate": "2020-07-29T23:00:01Z", "type": "commit"}, {"oid": "d3f39ce39a783632dd1f73da9c83cf11886f148d", "url": "https://github.com/dashevo/dash-wallet/commit/d3f39ce39a783632dd1f73da9c83cf11886f148d", "message": "Remove commented code", "committedDate": "2020-07-29T23:26:30Z", "type": "commit"}, {"oid": "7d98682b3005f1d775d1af3f3b236fb852a7e0aa", "url": "https://github.com/dashevo/dash-wallet/commit/7d98682b3005f1d775d1af3f3b236fb852a7e0aa", "message": "Don't update contacts if there is no dashpay contract or the username is not completely registered", "committedDate": "2020-07-30T17:53:29Z", "type": "commit"}, {"oid": "1934d999130edd41141cc1605d15f27a1c659fff", "url": "https://github.com/dashevo/dash-wallet/commit/1934d999130edd41141cc1605d15f27a1c659fff", "message": "Replace runBlocking in two places", "committedDate": "2020-07-31T13:21:56Z", "type": "commit"}, {"oid": "defb02c61b238aa310295195f5e95862f11d62ef", "url": "https://github.com/dashevo/dash-wallet/commit/defb02c61b238aa310295195f5e95862f11d62ef", "message": "Use loadDistinct when getting profile information", "committedDate": "2020-07-31T15:21:07Z", "type": "commit"}, {"oid": "b0b07c93949bed299fb9c999483fed9adc3a5f39", "url": "https://github.com/dashevo/dash-wallet/commit/b0b07c93949bed299fb9c999483fed9adc3a5f39", "message": "Move RoomDatabaseExtensions to data", "committedDate": "2020-07-31T15:22:40Z", "type": "commit"}, {"oid": "7a9c9ca5626f97d3e811c858e0e4d1abcfe1d1c1", "url": "https://github.com/dashevo/dash-wallet/commit/7a9c9ca5626f97d3e811c858e0e4d1abcfe1d1c1", "message": "Basic implementation of blockchainIdentity caching", "committedDate": "2020-07-31T15:27:27Z", "type": "commit"}, {"oid": "6777dedbf938edda08d9603149cf19d85f9f5e70", "url": "https://github.com/dashevo/dash-wallet/commit/6777dedbf938edda08d9603149cf19d85f9f5e70", "message": "Merge branch 'dashpay-send-payment' of http://github.com/dashevo/dash-wallet into dashpay-send-payment", "committedDate": "2020-07-31T15:31:19Z", "type": "commit"}, {"oid": "c9a0238a667d974b1dfd30f580c20806b34f0f13", "url": "https://github.com/dashevo/dash-wallet/commit/c9a0238a667d974b1dfd30f580c20806b34f0f13", "message": "Removed obsolete code", "committedDate": "2020-07-31T15:36:18Z", "type": "commit"}, {"oid": "41fa6bb794af0023d5020c6c54bb2f304ce99e0c", "url": "https://github.com/dashevo/dash-wallet/commit/41fa6bb794af0023d5020c6c54bb2f304ce99e0c", "message": "Fixed crash when initializing PlatformRepo", "committedDate": "2020-07-31T15:39:55Z", "type": "commit"}, {"oid": "c64440f9879947d41e581438a28c5e76d10e4f4c", "url": "https://github.com/dashevo/dash-wallet/commit/c64440f9879947d41e581438a28c5e76d10e4f4c", "message": "Fixed crash when initializing PlatformRepo", "committedDate": "2020-07-31T15:44:35Z", "type": "commit"}, {"oid": "c925ab0b32857e47bb4d2bdc21b48b493470bd2e", "url": "https://github.com/dashevo/dash-wallet/commit/c925ab0b32857e47bb4d2bdc21b48b493470bd2e", "message": "Merge branch 'dashpay-send-payment' of http://github.com/dashevo/dash-wallet into dashpay-send-payment", "committedDate": "2020-07-31T15:48:20Z", "type": "commit"}, {"oid": "be80467ffbbdded00fe0e63a248cd1fbac40312d", "url": "https://github.com/dashevo/dash-wallet/commit/be80467ffbbdded00fe0e63a248cd1fbac40312d", "message": "Move the start timer back to WalletApplication.initPlatform\n\nOtherwise there was a crash becuase of a missing Looper.prepare() or the\ntimer didn't work.", "committedDate": "2020-07-31T16:29:25Z", "type": "commit"}, {"oid": "0db2cea47c7dd767022f71aff50b9bf4ac253838", "url": "https://github.com/dashevo/dash-wallet/commit/0db2cea47c7dd767022f71aff50b9bf4ac253838", "message": "Remove unused code (blockchainIdentity)", "committedDate": "2020-07-31T16:30:42Z", "type": "commit"}, {"oid": "4d1c575f00d242f6ca878e62aa4e3f713e428c0e", "url": "https://github.com/dashevo/dash-wallet/commit/4d1c575f00d242f6ca878e62aa4e3f713e428c0e", "message": "Remove other runBlocking {}", "committedDate": "2020-07-31T16:32:29Z", "type": "commit"}, {"oid": "33411f56a4cbdaeec53b0d2af92ff0264b36dc67", "url": "https://github.com/dashevo/dash-wallet/commit/33411f56a4cbdaeec53b0d2af92ff0264b36dc67", "message": "Merge branch 'evonet-develop' of http://github.com/dashevo/dash-wallet into dashpay-send-payment\n\n# Conflicts:\n#\twallet/src/de/schildbach/wallet/ui/dashpay/ContactsFragment.kt", "committedDate": "2020-08-03T19:18:03Z", "type": "commit"}, {"oid": "34579ad0b8c3667bc6a0fe3fb010039d9d3a921d", "url": "https://github.com/dashevo/dash-wallet/commit/34579ad0b8c3667bc6a0fe3fb010039d9d3a921d", "message": "DashPayUserActivity: Remove unused createIntent with runBlocking", "committedDate": "2020-08-03T19:19:40Z", "type": "commit"}, {"oid": "9266de2eb5ebbdeea1e2a51a8a2e15e99cd4c11a", "url": "https://github.com/dashevo/dash-wallet/commit/9266de2eb5ebbdeea1e2a51a8a2e15e99cd4c11a", "message": "PlatformRepo: Use backgroundHandler to avoid crashes with Handler", "committedDate": "2020-08-03T19:58:01Z", "type": "commit"}, {"oid": "2e3d14ee5c8b890750694f8fb0ed65bb25e43c90", "url": "https://github.com/dashevo/dash-wallet/commit/2e3d14ee5c8b890750694f8fb0ed65bb25e43c90", "message": "Moved PlatformRepo initialization into main thread.\nReverted deletion of timerHandler which was replaced by backgroundHandler", "committedDate": "2020-08-04T12:03:14Z", "type": "commit"}, {"oid": "172460c5a66c9482f6c46bc2a7e6db96975667fe", "url": "https://github.com/dashevo/dash-wallet/commit/172460c5a66c9482f6c46bc2a7e6db96975667fe", "message": "Changed the way of performing periodic contacts sync by replacing Handler with direct coroutine approach", "committedDate": "2020-08-04T12:49:18Z", "type": "commit"}, {"oid": "9fa994714107f49b0a3c2598ecdef32d4530517a", "url": "https://github.com/dashevo/dash-wallet/commit/9fa994714107f49b0a3c2598ecdef32d4530517a", "message": "Moved PlatformRepo initialization in WalletApplication to loadWalletFromProtobuf() method so that it is triggered for a regular app launches. During the wallet restoration it will be triggered after restoring the identity.", "committedDate": "2020-08-04T14:46:49Z", "type": "commit"}, {"oid": "ea39e16318dab3c1a5b3a4b53688f40b5c042375", "url": "https://github.com/dashevo/dash-wallet/commit/ea39e16318dab3c1a5b3a4b53688f40b5c042375", "message": "Revert \"Moved PlatformRepo initialization in WalletApplication to loadWalletFromProtobuf() method so that it is triggered for a regular app launches. During the wallet restoration it will be triggered after restoring the identity.\"\n\nThis reverts commit 9fa99471", "committedDate": "2020-08-04T15:01:01Z", "type": "commit"}, {"oid": "a484ced785dfb3e1c6be4d8f826642fb82df815a", "url": "https://github.com/dashevo/dash-wallet/commit/a484ced785dfb3e1c6be4d8f826642fb82df815a", "message": "CreateIdentityService: initialize the PlatformRepo after the restore process is complete.", "committedDate": "2020-08-04T15:17:01Z", "type": "commit"}]}