{"pr_number": 393, "pr_title": "Fix repeating group views sharing instance variables", "pr_createdAt": "2020-03-25T14:28:13Z", "pr_url": "https://github.com/opensrp/opensrp-client-native-form/pull/393", "timeline": [{"oid": "ab52015c47cebcc143488e872c6520d3fa12f35f", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/ab52015c47cebcc143488e872c6520d3fa12f35f", "message": "Fix progress dialog never ending\n\n- Fix repeating group bug due to single instance -> instance variables are being overriden and shared by different views\n- Fix progress dialog bug that causes the previous reference to be lost & therefore the dialog cannot be removed", "committedDate": "2020-03-25T14:26:30Z", "type": "commit"}, {"oid": "64f06dcad9d743a7d7adbded271a3e1d442bee96", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/64f06dcad9d743a7d7adbded271a3e1d442bee96", "message": "Change logging to use Timber in JsonFormBaseActivity", "committedDate": "2020-03-30T14:32:06Z", "type": "commit"}, {"oid": "1191207b196a15c0d5da368c79fcc4433d3eb6d2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/1191207b196a15c0d5da368c79fcc4433d3eb6d2", "message": "Fix ConcurrentModificationException from RepeatingGroups due to deleting views while they are being iterated", "committedDate": "2020-03-30T15:11:42Z", "type": "commit"}, {"oid": "228729602f38fcf8f82e1989fd7e5c171106aaba", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/228729602f38fcf8f82e1989fd7e5c171106aaba", "message": "Merge branch 'master' into fix-repeating-group-feature", "committedDate": "2020-03-30T15:12:23Z", "type": "commit"}, {"oid": "55752307f1fb107c8ff943fa6041bc529bb4277c", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/55752307f1fb107c8ff943fa6041bc529bb4277c", "message": "Add tests for Utils.showProgressDialog", "committedDate": "2020-03-31T09:40:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDc4MDgzNQ==", "url": "https://github.com/opensrp/opensrp-client-native-form/pull/393#discussion_r400780835", "bodyText": "This prevents a ConcurrentModificationError that occurs when one of the views is removed and the foreach loop calls next on the Collection", "author": "ekigamba", "createdAt": "2020-03-31T09:46:34Z", "path": "android-json-form-wizard/src/main/java/com/vijay/jsonwizard/activities/JsonFormActivity.java", "diffHunk": "@@ -273,15 +273,16 @@ public void refreshHiddenViews(boolean popup) {\n                     toggleViewVisibility(curView, false, popup);\n                 }\n             } catch (Exception e) {\n-                e.printStackTrace();\n+                Timber.e(e);\n             }\n         }\n     }\n \n     @Override\n     public void refreshSkipLogic(String parentKey, String childKey, boolean popup) {\n         initComparisons();\n-        for (View curView : skipLogicViews.values()) {\n+        View[] views = skipLogicViews.values().toArray(new View[0]);\n+        for (View curView : views) {", "originalCommit": "55752307f1fb107c8ff943fa6041bc529bb4277c", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d5186723294ccd8ff0d7ec1535de8741df30b55d", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/d5186723294ccd8ff0d7ec1535de8741df30b55d", "message": "Update snapshot version to 1.7.30-SNAPSHOT", "committedDate": "2020-03-31T11:19:07Z", "type": "commit"}, {"oid": "6fab89dd61fead8bd3471d55b38fcd4dcfc0acb2", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/6fab89dd61fead8bd3471d55b38fcd4dcfc0acb2", "message": "Fix NumericDatePicker tests", "committedDate": "2020-04-01T08:27:05Z", "type": "commit"}, {"oid": "3a0c11e18cdf4b94ce4506b59f0096841601dc36", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/3a0c11e18cdf4b94ce4506b59f0096841601dc36", "message": "Retrigger codacy", "committedDate": "2020-04-03T07:10:12Z", "type": "forcePushed"}, {"oid": "e571a7d943aa0e67a4ef7cbd3d9d54aa46e70929", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e571a7d943aa0e67a4ef7cbd3d9d54aa46e70929", "message": "Retrigger codacy", "committedDate": "2020-04-03T09:58:41Z", "type": "commit"}, {"oid": "e571a7d943aa0e67a4ef7cbd3d9d54aa46e70929", "url": "https://github.com/opensrp/opensrp-client-native-form/commit/e571a7d943aa0e67a4ef7cbd3d9d54aa46e70929", "message": "Retrigger codacy", "committedDate": "2020-04-03T09:58:41Z", "type": "forcePushed"}]}