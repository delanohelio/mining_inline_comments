{"pr_number": 5144, "pr_title": "Use DevTools service in performance action and delete manager", "pr_createdAt": "2020-12-21T21:53:15Z", "pr_url": "https://github.com/flutter/flutter-intellij/pull/5144", "timeline": [{"oid": "6fb0f0c1c2c312b76b2dd4863779fa990fcc56a9", "url": "https://github.com/flutter/flutter-intellij/commit/6fb0f0c1c2c312b76b2dd4863779fa990fcc56a9", "message": "Use DevTools service in performance action and delete manager", "committedDate": "2020-12-21T21:51:22Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODE3NDIzNA==", "url": "https://github.com/flutter/flutter-intellij/pull/5144#discussion_r548174234", "bodyText": "we should actually move the getProject().isDisposed() checks above logging errors here and elsewhere. If your project has been disposed we don't need to scare the user with an error likely due to the project being closed.", "author": "jacob314", "createdAt": "2020-12-23T19:40:32Z", "path": "src/io/flutter/performance/FlutterPerformanceView.java", "diffHunk": "@@ -201,8 +204,21 @@ private void addPerformanceViewContent(FlutterApp app, ToolWindow toolWindow) {\n \n     final LinkLabel<String> openDevtools = new LinkLabel<>(\"Open DevTools...\", null);\n     openDevtools.setListener((linkLabel, data) -> {\n-      final DevToolsManager devToolsManager = DevToolsManager.getInstance(app.getProject());\n-      devToolsManager.openToScreen(app, null);\n+      AsyncUtils.whenCompleteUiThread(DevToolsService.getInstance(app.getProject()).getDevToolsInstance(), (instance, ex) -> {\n+        if (ex != null) {\n+          LOG.error(ex);\n+          return;\n+        }\n+\n+        if (app.getProject().isDisposed()) {", "originalCommit": "6fb0f0c1c2c312b76b2dd4863779fa990fcc56a9", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7525d8e171433d4ce1a63da8d8840dededd7a029", "url": "https://github.com/flutter/flutter-intellij/commit/7525d8e171433d4ce1a63da8d8840dededd7a029", "message": "Check for project disposal before logging", "committedDate": "2020-12-23T20:00:04Z", "type": "commit"}]}