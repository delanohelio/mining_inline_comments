{"pr_number": 4695, "pr_title": "[ISSUE-3347]", "pr_createdAt": "2020-07-10T10:51:04Z", "pr_url": "https://github.com/flutter/flutter-intellij/pull/4695", "timeline": [{"oid": "514cc65c086fbd502c76445b27d127e570ac55ad", "url": "https://github.com/flutter/flutter-intellij/commit/514cc65c086fbd502c76445b27d127e570ac55ad", "message": "[ISSUE-3347]\nIntelliJ Idea: Display color icons for `Colors.fromARGB` and\n`Colors.fromRGBO` functions", "committedDate": "2020-07-10T10:47:33Z", "type": "commit"}, {"oid": "9f1fa6c2c33583107e7d58a301541b3b744eebce", "url": "https://github.com/flutter/flutter-intellij/commit/9f1fa6c2c33583107e7d58a301541b3b744eebce", "message": "[ISSUE-3347]\nFix test name", "committedDate": "2020-07-10T10:57:09Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkyNTYzMA==", "url": "https://github.com/flutter/flutter-intellij/pull/4695#discussion_r452925630", "bodyText": "We're assuming here that the numbers are in decimal; from spot checking fromARGB call sites, is that a reasonable assumption?", "author": "devoncarew", "createdAt": "2020-07-10T15:47:02Z", "path": "src/io/flutter/editor/ExpressionParsingUtils.java", "diffHunk": "@@ -40,4 +40,58 @@ public static Color parseColor(String text, String colorText) {\n     //noinspection UseJBColor\n     return new Color((int)(value >> 16) & 0xFF, (int)(value >> 8) & 0xFF, (int)value & 0xFF, (int)(value >> 24) & 0xFF);\n   }\n+\n+  public static Color parseColorComponents(String callText, String prefix, boolean isARGB) {\n+    if (callText.startsWith(prefix) && callText.endsWith(\")\")) {\n+      final String colorString = callText.substring(prefix.length(), callText.length() - 1).trim();\n+      final String[] maybeNumbers = colorString.split(\",\");\n+      if (maybeNumbers.length < 4) {\n+        return null;\n+      }\n+      return isARGB ? parseARGBColorComponents(maybeNumbers) : parseRGBOColorComponents(maybeNumbers);\n+    }\n+    return null;\n+  }\n+\n+  private static Color parseARGBColorComponents(String[] maybeNumbers) {\n+    if (maybeNumbers.length < 4) {\n+      return null;\n+    }\n+    final int[] argb = new int[4];\n+    for (int i = 0; i < 4; ++i) {\n+      try {\n+        argb[i] = Integer.parseUnsignedInt(maybeNumbers[i].trim());", "originalCommit": "9f1fa6c2c33583107e7d58a301541b3b744eebce", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDE1MDgzNQ==", "url": "https://github.com/flutter/flutter-intellij/pull/4695#discussion_r454150835", "bodyText": "Thank you, fixed", "author": "dratushnyy", "createdAt": "2020-07-14T07:13:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjkyNTYzMA=="}], "type": "inlineReview"}, {"oid": "67801d02b5a7f3cd3b48e097a302691ca0f35566", "url": "https://github.com/flutter/flutter-intellij/commit/67801d02b5a7f3cd3b48e097a302691ca0f35566", "message": " [ISSUE-3347]\n Allow hex digits in `fromARGB` and `fromRBGO`", "committedDate": "2020-07-14T07:05:22Z", "type": "commit"}, {"oid": "69cb10421c2650f23bcf35a1103abfcb9356c04a", "url": "https://github.com/flutter/flutter-intellij/commit/69cb10421c2650f23bcf35a1103abfcb9356c04a", "message": "[ISSUE-3347]\nAttempt to fix text", "committedDate": "2020-07-14T08:29:55Z", "type": "commit"}, {"oid": "e2b3de9863f62b1983da4eb27567972e5ce94794", "url": "https://github.com/flutter/flutter-intellij/commit/e2b3de9863f62b1983da4eb27567972e5ce94794", "message": "[ISSUE-3347] Fix tests for `Color.fromARGB` and `Color.fromRBGO`", "committedDate": "2020-07-27T05:48:34Z", "type": "commit"}]}