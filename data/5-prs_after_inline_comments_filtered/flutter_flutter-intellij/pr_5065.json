{"pr_number": 5065, "pr_title": "Unset and disable embedded browser option if MacOS Big Sur", "pr_createdAt": "2020-11-19T19:00:57Z", "pr_url": "https://github.com/flutter/flutter-intellij/pull/5065", "timeline": [{"oid": "9d4becc17609edd3b25c02a68134a0844169d95d", "url": "https://github.com/flutter/flutter-intellij/commit/9d4becc17609edd3b25c02a68134a0844169d95d", "message": "Unset and disable embedded browser option if MacOS Big Sur", "committedDate": "2020-11-19T18:20:14Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzE2NDM1MQ==", "url": "https://github.com/flutter/flutter-intellij/pull/5065#discussion_r527164351", "bodyText": "I think the 2nd param to this method is the default value if none is set. If they've previously set a value here, they'll get that value, which I assume we won't want for big sur.\nI'd suggest just changing the start of this method to something like if (SystemInfo.isMacOSBigSur) return false;", "author": "devoncarew", "createdAt": "2020-11-19T20:04:52Z", "path": "src/io/flutter/settings/FlutterSettings.java", "diffHunk": "@@ -269,11 +270,16 @@ public boolean isEnableHotUiInCodeEditor() {\n   }\n \n   public boolean isEnableEmbeddedBrowsers() {\n-    return getPropertiesComponent().getBoolean(enableEmbeddedBrowsersKey, true);\n+    // TODO(helinx): Change default value once JxBrowser is compatible with MacOS 11.\n+    return getPropertiesComponent().getBoolean(enableEmbeddedBrowsersKey, !SystemInfo.isMacOSBigSur);", "originalCommit": "9d4becc17609edd3b25c02a68134a0844169d95d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzE2NDczNA==", "url": "https://github.com/flutter/flutter-intellij/pull/5065#discussion_r527164734", "bodyText": "I don't think we'll need to change the behavior of the setEnableEmbeddedBrowsers() w/ the change to isEnableEmbeddedBrowsers() I suggested above.", "author": "devoncarew", "createdAt": "2020-11-19T20:05:30Z", "path": "src/io/flutter/settings/FlutterSettings.java", "diffHunk": "@@ -269,11 +270,16 @@ public boolean isEnableHotUiInCodeEditor() {\n   }\n \n   public boolean isEnableEmbeddedBrowsers() {\n-    return getPropertiesComponent().getBoolean(enableEmbeddedBrowsersKey, true);\n+    // TODO(helinx): Change default value once JxBrowser is compatible with MacOS 11.\n+    return getPropertiesComponent().getBoolean(enableEmbeddedBrowsersKey, !SystemInfo.isMacOSBigSur);\n   }\n \n   public void setEnableEmbeddedBrowsers(boolean value) {\n-    getPropertiesComponent().setValue(enableEmbeddedBrowsersKey, value, true);\n+    // TODO(helinx): Remove this and change default value below once JxBrowser is compatible with MacOS 11.\n+    if (SystemInfo.isMacOSBigSur) {", "originalCommit": "9d4becc17609edd3b25c02a68134a0844169d95d", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI1MDAwNw==", "url": "https://github.com/flutter/flutter-intellij/pull/5065#discussion_r527250007", "bodyText": "I thought the setting would show up as checked but disabled, but it's always empty if disabled.", "author": "helin24", "createdAt": "2020-11-19T22:35:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzE2NDczNA=="}], "type": "inlineReview"}, {"oid": "de1bb918a2eaa5ea58a8cd200c81f806defa2f0a", "url": "https://github.com/flutter/flutter-intellij/commit/de1bb918a2eaa5ea58a8cd200c81f806defa2f0a", "message": "Simplify returning false for macos11", "committedDate": "2020-11-19T22:27:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI0Nzk3Ng==", "url": "https://github.com/flutter/flutter-intellij/pull/5065#discussion_r527247976", "bodyText": "Perhaps also (conditionally on if we're on big sur):\nmyEnableEmbeddedBrowsersCheckBox.setToolTipText(\"This option not available...\");", "author": "devoncarew", "createdAt": "2020-11-19T22:31:18Z", "path": "src/io/flutter/sdk/FlutterSettingsConfigurable.java", "diffHunk": "@@ -305,6 +306,9 @@ public void reset() {\n \n     myEnableEmbeddedBrowsersCheckBox.setSelected(settings.isEnableEmbeddedBrowsers());\n \n+    // TODO(helinx): Remove this once JxBrowser is compatible with MacOS 11.\n+    myEnableEmbeddedBrowsersCheckBox.setEnabled(!SystemInfo.isMacOSBigSur);", "originalCommit": "de1bb918a2eaa5ea58a8cd200c81f806defa2f0a", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI1MDE2OQ==", "url": "https://github.com/flutter/flutter-intellij/pull/5065#discussion_r527250169", "bodyText": "Oh I didn't realize you could set the tool tip here! Thanks", "author": "helin24", "createdAt": "2020-11-19T22:36:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI0Nzk3Ng=="}], "type": "inlineReview"}, {"oid": "5b61532c6a669a53832242df5496ef2e5a151b91", "url": "https://github.com/flutter/flutter-intellij/commit/5b61532c6a669a53832242df5496ef2e5a151b91", "message": "Modify tooltip message", "committedDate": "2020-11-19T22:35:20Z", "type": "commit"}, {"oid": "dae0a5fde7c6d34c78164f20868b3cbb7e5c23af", "url": "https://github.com/flutter/flutter-intellij/commit/dae0a5fde7c6d34c78164f20868b3cbb7e5c23af", "message": "Make message conditional", "committedDate": "2020-11-19T22:38:49Z", "type": "commit"}, {"oid": "3d01223de5a90852f454f862a973ad38216c9ba9", "url": "https://github.com/flutter/flutter-intellij/commit/3d01223de5a90852f454f862a973ad38216c9ba9", "message": "Use flutter utils function for older versions", "committedDate": "2020-11-19T22:45:56Z", "type": "commit"}, {"oid": "831da4180dbd9a61715f9b90716593e71d0b237f", "url": "https://github.com/flutter/flutter-intellij/commit/831da4180dbd9a61715f9b90716593e71d0b237f", "message": "Remove unnecessary space", "committedDate": "2020-11-19T22:47:02Z", "type": "commit"}, {"oid": "dae1c4a4eade32801626590afdea8847afbd8a89", "url": "https://github.com/flutter/flutter-intellij/commit/dae1c4a4eade32801626590afdea8847afbd8a89", "message": "Trigger test run", "committedDate": "2020-11-20T17:11:43Z", "type": "commit"}, {"oid": "5e6e4960a36348a5e585b8a5a7a3cb88814facb6", "url": "https://github.com/flutter/flutter-intellij/commit/5e6e4960a36348a5e585b8a5a7a3cb88814facb6", "message": "Revert \"Trigger test run\"\n\nThis reverts commit dae1c4a4eade32801626590afdea8847afbd8a89.", "committedDate": "2020-11-20T17:55:46Z", "type": "commit"}]}