{"pr_number": 466, "pr_title": "Add where stats rename command", "pr_createdAt": "2020-05-14T20:20:57Z", "pr_url": "https://github.com/opendistro-for-elasticsearch/sql/pull/466", "timeline": [{"oid": "71d8eb3a9349bef0007fed210fa150d19b6913e8", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/71d8eb3a9349bef0007fed210fa150d19b6913e8", "message": "add aggregator", "committedDate": "2020-05-12T14:42:43Z", "type": "commit"}, {"oid": "fc10dceaf03b9b3148af0a33d6bdd04a6ed394c1", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/fc10dceaf03b9b3148af0a33d6bdd04a6ed394c1", "message": "update", "committedDate": "2020-05-12T14:45:44Z", "type": "commit"}, {"oid": "0040111666854f3314524a6dc4d5f1239979aee8", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/0040111666854f3314524a6dc4d5f1239979aee8", "message": "update", "committedDate": "2020-05-14T05:03:09Z", "type": "commit"}, {"oid": "43ad66e6c5cacc2213d0cdec2fd34ed9f40674bc", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/43ad66e6c5cacc2213d0cdec2fd34ed9f40674bc", "message": "add sum aggregator", "committedDate": "2020-05-14T20:09:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3MTE1MQ==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/466#discussion_r425971151", "bodyText": "Could you add license for this source file?", "author": "chloe-zh", "createdAt": "2020-05-15T18:18:17Z", "path": "core/src/main/java/com/amazon/opendistroforelasticsearch/sql/planner/physical/FilterOperator.java", "diffHunk": "@@ -0,0 +1,55 @@\n+package com.amazon.opendistroforelasticsearch.sql.planner.physical;", "originalCommit": "43ad66e6c5cacc2213d0cdec2fd34ed9f40674bc", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk1MTQ1Nw==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/466#discussion_r426951457", "bodyText": "done.", "author": "penghuo", "createdAt": "2020-05-18T23:46:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3MTE1MQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk3Mzg2NA==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/466#discussion_r425973864", "bodyText": "Remove this comment?", "author": "chloe-zh", "createdAt": "2020-05-15T18:23:39Z", "path": "core/src/test/java/com/amazon/opendistroforelasticsearch/sql/planner/physical/PhysicalPlanNodeVisitorTest.java", "diffHunk": "@@ -0,0 +1,125 @@\n+/*\n+ *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ *   Licensed under the Apache License, Version 2.0 (the \"License\").\n+ *   You may not use this file except in compliance with the License.\n+ *   A copy of the License is located at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *   or in the \"license\" file accompanying this file. This file is distributed\n+ *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ *   express or implied. See the License for the specific language governing\n+ *   permissions and limitations under the License.\n+ */\n+\n+package com.amazon.opendistroforelasticsearch.sql.planner.physical;\n+\n+import com.amazon.opendistroforelasticsearch.sql.expression.DSL;\n+import com.google.common.base.Strings;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMap;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNull;\n+\n+/**\n+ * Todo, testing purpose, delete later.\n+ */", "originalCommit": "43ad66e6c5cacc2213d0cdec2fd34ed9f40674bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a6c526c052743d4429d07bde812a6424cf61f088", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/a6c526c052743d4429d07bde812a6424cf61f088", "message": "update license header", "committedDate": "2020-05-15T23:39:50Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcxNDQ2MQ==", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/466#discussion_r426714461", "bodyText": "PhysicalPlan::close?", "author": "dai-chen", "createdAt": "2020-05-18T15:34:01Z", "path": "core/src/main/java/com/amazon/opendistroforelasticsearch/sql/planner/physical/PhysicalPlan.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to you under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.amazon.opendistroforelasticsearch.sql.planner.physical;\n+\n+import com.amazon.opendistroforelasticsearch.sql.planner.PlanNode;\n+import com.amazon.opendistroforelasticsearch.sql.storage.bindingtuple.BindingTuple;\n+\n+import java.util.Iterator;\n+\n+/**\n+ * Physical plan\n+ */\n+public abstract class PhysicalPlan implements PlanNode<PhysicalPlan>,\n+        Iterator<BindingTuple>,\n+        AutoCloseable {\n+    /**\n+     * Accept the {@link PhysicalPlanNodeVisitor}.\n+     *\n+     * @param visitor visitor.\n+     * @param context visitor context.\n+     * @param <R>     returned object type.\n+     * @param <C>     context type.\n+     * @return returned object.\n+     */\n+    public abstract <R, C> R accept(PhysicalPlanNodeVisitor<R, C> visitor, C context);\n+\n+    public void open() {\n+        getChild().forEach(PhysicalPlan::open);\n+    }\n+\n+    public void close() {\n+        getChild().forEach(PhysicalPlan::open);", "originalCommit": "43ad66e6c5cacc2213d0cdec2fd34ed9f40674bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "91e7154b8f710fb20293d564817d091277fbf01f", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/91e7154b8f710fb20293d564817d091277fbf01f", "message": "update bindingtuple", "committedDate": "2020-05-18T22:25:29Z", "type": "commit"}, {"oid": "cd7e997a8e056f6bcb7fcd7d534a786afb329573", "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/cd7e997a8e056f6bcb7fcd7d534a786afb329573", "message": "address comments", "committedDate": "2020-05-18T22:27:28Z", "type": "commit"}]}