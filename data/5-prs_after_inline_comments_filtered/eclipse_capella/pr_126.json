{"pr_number": 126, "pr_title": "Bugzilla/558030/search and replace", "pr_createdAt": "2020-03-10T08:48:40Z", "pr_url": "https://github.com/eclipse/capella/pull/126", "timeline": [{"oid": "81b3d32b6584ecc68df78c5a853d557007847289", "url": "https://github.com/eclipse/capella/commit/81b3d32b6584ecc68df78c5a853d557007847289", "message": "Search display Tree in Result view\n\nChange-Id: I363b4e190d2b90ef4250bccd88346935b9773ee5\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-03T15:53:20Z", "type": "commit"}, {"oid": "bf86efed6a2ec561c2434bc20822224213871963", "url": "https://github.com/eclipse/capella/commit/bf86efed6a2ec561c2434bc20822224213871963", "message": "Search display Tree in Result view\n\nChange-Id: I9b6214cb7310f1c4513973f85264ecf2cdb8ad8c\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-05T10:31:45Z", "type": "commit"}, {"oid": "27b879aac89491ea8e12aa6d6fb119f42e04ae05", "url": "https://github.com/eclipse/capella/commit/27b879aac89491ea8e12aa6d6fb119f42e04ae05", "message": "Search display as tree/list and perform replace\n\nChange-Id: I8f7c838566ee3c5ac5456dbf0c255419aeb815d5\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-05T12:37:58Z", "type": "commit"}, {"oid": "4e4e923c1ec49e16213486fc8cff9a8a96134db0", "url": "https://github.com/eclipse/capella/commit/4e4e923c1ec49e16213486fc8cff9a8a96134db0", "message": "Navigator\n\nChange-Id: If511a14c484f9f8cca3e3f4a71ed1d630b43fe9c\n\nRefactored show result as tree\n\n\nChange-Id: Ib3ad3ff88d9cfd913898e8ca2764202e1351ce00\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-07T13:57:58Z", "type": "commit"}, {"oid": "4f5f90aeb7978ad40f7ccd1ace53b6f577246100", "url": "https://github.com/eclipse/capella/commit/4f5f90aeb7978ad40f7ccd1ace53b6f577246100", "message": "Show result as tree/list\n\nChange-Id: I895b7dcbe37f7eff678001259749a533812d9ccd\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-07T16:01:44Z", "type": "commit"}, {"oid": "dec2aefa54026ef28899ada71bc4e032ea904c8b", "url": "https://github.com/eclipse/capella/commit/dec2aefa54026ef28899ada71bc4e032ea904c8b", "message": "Search result tree/table + replace in result\n\nChange-Id: I2c64bbd28544c9774aa73dabdd9bb7bbb3d9bf7d", "committedDate": "2020-02-10T10:02:40Z", "type": "commit"}, {"oid": "3e8b169585d150fd4f890457c969472e2ef950de", "url": "https://github.com/eclipse/capella/commit/3e8b169585d150fd4f890457c969472e2ef950de", "message": "Search result tree/table + replace in result\n\nChange-Id: I21d72f408776da64ceef36c0379dfdbee510b89d\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-10T10:10:09Z", "type": "commit"}, {"oid": "63f433e930f1bef11bb4735f446147bf1cca4e48", "url": "https://github.com/eclipse/capella/commit/63f433e930f1bef11bb4735f446147bf1cca4e48", "message": "Added Search For Section\n - Model Elements\n - Attributes\n\n Incomplete:\n - Diagram Elements\n - Filter attributes based on the Meta Classes in left panel\n\nChange-Id: I643f4c8229321070d32298a695c606d2ca775467\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-11T16:03:49Z", "type": "commit"}, {"oid": "987ecfbc82508d7c68ba767833cc2aa3dbe9bad1", "url": "https://github.com/eclipse/capella/commit/987ecfbc82508d7c68ba767833cc2aa3dbe9bad1", "message": "Added Search For Section\n - Model Elements\n - Attributes\n\n Incomplete:\n - Diagram Elements\n - Filter attributes based on the Meta Classes in left panel\n\nChange-Id: Id08b997f123a574920e6c1ddd6a01fa4f19b27c8\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-13T07:34:15Z", "type": "commit"}, {"oid": "bbae0fdb01314c0ef9bb61db83b81a62c0a8c0e0", "url": "https://github.com/eclipse/capella/commit/bbae0fdb01314c0ef9bb61db83b81a62c0a8c0e0", "message": "Added Search For Section\n - Model Elements\n - Attributes\n\n Incomplete:\n - Diagram Elements\n - Filter attributes based on the Meta Classes in left panel\n\nChange-Id: Id5f7a40a8d17ce641fefaa7d6055db12500f6920\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-13T08:21:00Z", "type": "commit"}, {"oid": "cb6a4ae422748cae7d91571c2d25d6caa2722f24", "url": "https://github.com/eclipse/capella/commit/cb6a4ae422748cae7d91571c2d25d6caa2722f24", "message": "Added Search For Section\n - Model Elements\n - Attributes\n\n Incomplete:\n - Diagram Elements\n - Filter attributes based on the Meta Classes in left panel\n\nChange-Id: I941fb859732dc7ad325029738ec51cfc23b1f9bc\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-13T14:00:00Z", "type": "commit"}, {"oid": "88178d7db3316f3eb0ed2f2501b931abd0c66f72", "url": "https://github.com/eclipse/capella/commit/88178d7db3316f3eb0ed2f2501b931abd0c66f72", "message": "Search and Replace:\n\n- search\n- search result\n- replace all\n- search for (only display Eclasses and Attributes)\n\nChange-Id: I53b394ed8c8e074a1fc30d4980afe74b6e307a54\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-17T09:57:02Z", "type": "commit"}, {"oid": "6d0763856bfe1c84ebe2c18245dc027a50daf68a", "url": "https://github.com/eclipse/capella/commit/6d0763856bfe1c84ebe2c18245dc027a50daf68a", "message": "Get Images for EClass\n\nChange-Id: I0000000000000000000000000000000000000000\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-18T12:18:30Z", "type": "commit"}, {"oid": "79b6eb0f4f4c4e302fe0475d892f48242f02e24d", "url": "https://github.com/eclipse/capella/commit/79b6eb0f4f4c4e302fe0475d892f48242f02e24d", "message": "Search by attributes + metaclasses\n\nChange-Id: Iae10cae8a709ee773542660b9c89b9fca9ca270c\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-25T15:11:08Z", "type": "commit"}, {"oid": "26f44ccfc0b8d9a6454b5501d48d5b402c11e76d", "url": "https://github.com/eclipse/capella/commit/26f44ccfc0b8d9a6454b5501d48d5b402c11e76d", "message": "Cache the provided data for Search For (attributes / meta-classes)\n\nChange-Id: Iec8a9d3a78dcee36ec575c813317b5b1e3aff5df\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-26T09:30:45Z", "type": "commit"}, {"oid": "5d9afa6cf8e85aaba270e9d99fa58d6e0fe5375c", "url": "https://github.com/eclipse/capella/commit/5d9afa6cf8e85aaba270e9d99fa58d6e0fe5375c", "message": "Position Capella Search first\n\nChange-Id: I729153338869427132ca001d6e6cc8ac45d62eee\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-26T10:46:35Z", "type": "commit"}, {"oid": "8c88088efd5a8463809fc1b93209f2ed9dee78c6", "url": "https://github.com/eclipse/capella/commit/8c88088efd5a8463809fc1b93209f2ed9dee78c6", "message": "Search and Replace\n\nChange-Id: I1dadc007d0eaac1043ea1739fe0fd7cf75f0158f\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-02-28T15:14:07Z", "type": "commit"}, {"oid": "92b994bb865c874368514db470598ae2e786da42", "url": "https://github.com/eclipse/capella/commit/92b994bb865c874368514db470598ae2e786da42", "message": "Search and Replace\n\nChange-Id: I9b5f5740977b8425d2059734d32714fbde9ada03\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-03T13:53:27Z", "type": "commit"}, {"oid": "0861e1d1ab40d2225aa2009a9b936f064a1c6523", "url": "https://github.com/eclipse/capella/commit/0861e1d1ab40d2225aa2009a9b936f064a1c6523", "message": "Search and Replace\n\nChange-Id: Ic343cf92f7fd90d70f094dd72bedc8b5455050e3\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-03T14:20:31Z", "type": "commit"}, {"oid": "332ba18dcf5bac76366ff79adb2f94c55cd72e5e", "url": "https://github.com/eclipse/capella/commit/332ba18dcf5bac76366ff79adb2f94c55cd72e5e", "message": "Search and replace\n\nChange-Id: I86ba54b532cd920557034994a0306c089bc7609e\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-03T15:26:33Z", "type": "commit"}, {"oid": "dd2b99fb6736225a401d43904a136177be379fed", "url": "https://github.com/eclipse/capella/commit/dd2b99fb6736225a401d43904a136177be379fed", "message": "Search and replace\n\nChange-Id: I2fe7daf8a2c88add1724a1d167d34953b74f5c78\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-03T17:20:41Z", "type": "commit"}, {"oid": "b5e5592f5296d3e9150697596832efc77e07a79a", "url": "https://github.com/eclipse/capella/commit/b5e5592f5296d3e9150697596832efc77e07a79a", "message": "Search and replace\n\n- validate, check if filters are selected\n\nChange-Id: I3cf19aa273b154117d5b7d73fb4c0e3bc17231d8\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-04T07:48:27Z", "type": "commit"}, {"oid": "9acb3fd59018d24f7ef39204ba871c8ac91956b1", "url": "https://github.com/eclipse/capella/commit/9acb3fd59018d24f7ef39204ba871c8ac91956b1", "message": "Search and replace\n- note\n\nChange-Id: Id92fdc073e457dafe8dd3d492bad26b427a2af20\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-04T08:30:49Z", "type": "commit"}, {"oid": "abced2f2f90889f41d46ebb34b905435d5485d50", "url": "https://github.com/eclipse/capella/commit/abced2f2f90889f41d46ebb34b905435d5485d50", "message": "Search and replace improvements\n\nChange-Id: I9b1a070ac434513a1c3bf6f9785d7439557a8d88\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-05T13:37:31Z", "type": "commit"}, {"oid": "f26e91d940e216da64ff679d71b4df4afb935e59", "url": "https://github.com/eclipse/capella/commit/f26e91d940e216da64ff679d71b4df4afb935e59", "message": "Search and replace bug fixing\n\nChange-Id: Ib2a6b804ca51f5ab46c67c5fcb0cc52600fd4691\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-06T09:55:41Z", "type": "commit"}, {"oid": "6eeeef9d9cc10e42a21c70b4bde5eac2e7b3830c", "url": "https://github.com/eclipse/capella/commit/6eeeef9d9cc10e42a21c70b4bde5eac2e7b3830c", "message": "Merge pull request #3 from eclipse/bugzilla/558030/searchAndReplace\n\nSearch display Tree in Result view (#65)", "committedDate": "2020-03-09T12:04:05Z", "type": "commit"}, {"oid": "dedda4e90eb7db5fa53917ede58a813d055c8851", "url": "https://github.com/eclipse/capella/commit/dedda4e90eb7db5fa53917ede58a813d055c8851", "message": "Fix filter the semantic elements\n\nChange-Id: Ibde7292e3765acad58b6c1a009cc1398fc3c0739\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-10T08:46:47Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDIwNzAzMQ==", "url": "https://github.com/eclipse/capella/pull/126#discussion_r390207031", "bodyText": "This should take into account 2 filters at the same time. In this state, a semantic meta-class is displayed when the Semantic filter is checked regardless of the Abstract filter being checked or not. Similarly, an abstract class is displayed when the Abstract filter is checked regardless of the Semantic filter being checked or not.", "author": "minhtutonthat", "createdAt": "2020-03-10T10:04:55Z", "path": "core/plugins/org.polarsys.capella.core.ui.search/src/org/polarsys/capella/core/ui/search/searchfor/MetaClassesParticipantsItemProvider.java", "diffHunk": "@@ -90,16 +91,15 @@ public boolean isShowSemantics() {\n   public void setShowSemantics(boolean showSemantics) {\r\n     this.showSemantics = showSemantics;\r\n   }\r\n-\r\n-  protected boolean isFiltered(Object cls) {\r\n-    if(!showSemantics && !showAbstract)\r\n-      return true;\r\n+  \r\n+  // based on abstract/semantic checks, check if the element is displayed or not\r\n+  protected boolean isDisplayed(Object cls) {\r", "originalCommit": "dedda4e90eb7db5fa53917ede58a813d055c8851", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "6394683224634aca47cca9f97bdce99f69acb6e3", "url": "https://github.com/eclipse/capella/commit/6394683224634aca47cca9f97bdce99f69acb6e3", "message": "Fix filter the semantic elements\n\nChange-Id: Ic090ae22bd9263440a12937836d17556984bda13\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-10T10:55:50Z", "type": "commit"}, {"oid": "f1a6248b08532433b1036aff7eaabf31fab1ac3a", "url": "https://github.com/eclipse/capella/commit/f1a6248b08532433b1036aff7eaabf31fab1ac3a", "message": "Filter metaclasses based on abstract and semantic checks\n\nChange-Id: I4efdb640c04dcaaf59c554130c0b076f9fbb6721\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-10T11:07:53Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMwNDY4Mw==", "url": "https://github.com/eclipse/capella/pull/126#discussion_r390304683", "bodyText": "The logic seems a bit confusing for me. In my opinion, you could do something like:\nboolean abstractFilterPassed = showAbstract == eclass.isAbstract()\nboolean semanticFilterPassed = showSemantics == implifiedCapellaMetadata.INSTANCE.isSemantic(eclass)\nif (abstractFilterPassed && semanticFilterPassed) {\nreturn true;\n}\nreturn false;", "author": "minhtutonthat", "createdAt": "2020-03-10T13:17:45Z", "path": "core/plugins/org.polarsys.capella.core.ui.search/src/org/polarsys/capella/core/ui/search/searchfor/MetaClassesParticipantsItemProvider.java", "diffHunk": "@@ -90,16 +91,21 @@ public boolean isShowSemantics() {\n   public void setShowSemantics(boolean showSemantics) {\r\n     this.showSemantics = showSemantics;\r\n   }\r\n-\r\n-  protected boolean isFiltered(Object cls) {\r\n-    if(!showSemantics && !showAbstract)\r\n-      return true;\r\n+  \r\n+  \r\n+  // based on abstract and semantic checks, check if the element is displayed or not\r\n+  protected boolean isDisplayed(Object cls) {\r\n     if(cls instanceof EClass) {\r\n-      EClass eCls = (EClass) cls;\r\n-      if(showSemantics && !showAbstract && eCls.isAbstract()) {\r\n+      EClass eclass = (EClass) cls;\r\n+      boolean eclassIsSemantic = SimplifiedCapellaMetadata.INSTANCE.isSemantic(eclass);\r", "originalCommit": "f1a6248b08532433b1036aff7eaabf31fab1ac3a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "b8ab0be7273d1fa50c2201048847485a81238f52", "url": "https://github.com/eclipse/capella/commit/b8ab0be7273d1fa50c2201048847485a81238f52", "message": "Filter metaclasses based on abstract and semantic checks\n\nChange-Id: Id6cc289ac4180ed9c3242269ccf19c2fa06c20ca\nSigned-off-by: Georgiana Ecobici <georgiana-elena.ecobici@thalesgroup.com>", "committedDate": "2020-03-10T13:34:22Z", "type": "commit"}]}