{"pr_number": 2420, "pr_title": "1\uff0cno worker condition , master will while ture wait for worker startup 2\uff0cworker response task status sync wait for result", "pr_createdAt": "2020-04-14T06:24:36Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/2420", "timeline": [{"oid": "cf917e909dc5901bd6220754681e8f860f2cc4c2", "url": "https://github.com/apache/dolphinscheduler/commit/cf917e909dc5901bd6220754681e8f860f2cc4c2", "message": "dispatch task fail will set task status failed", "committedDate": "2020-04-13T07:43:31Z", "type": "commit"}, {"oid": "1a27507a10ec91810f80a0f18f63a7e38f918f8f", "url": "https://github.com/apache/dolphinscheduler/commit/1a27507a10ec91810f80a0f18f63a7e38f918f8f", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T05:46:31Z", "type": "commit"}, {"oid": "95d58a295d58a3e5240a464e54b8e30445672034", "url": "https://github.com/apache/dolphinscheduler/commit/95d58a295d58a3e5240a464e54b8e30445672034", "message": "Merge branch 'dev' into dev", "committedDate": "2020-04-14T06:30:48Z", "type": "commit"}, {"oid": "349dd18c7d28a8064a00dd1defd4401720bcb785", "url": "https://github.com/apache/dolphinscheduler/commit/349dd18c7d28a8064a00dd1defd4401720bcb785", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T06:36:31Z", "type": "commit"}, {"oid": "facb043b451d6eae29f52bbd373397f908d1bf81", "url": "https://github.com/apache/dolphinscheduler/commit/facb043b451d6eae29f52bbd373397f908d1bf81", "message": "Merge remote-tracking branch 'origin/dev' into dev", "committedDate": "2020-04-14T06:36:50Z", "type": "commit"}, {"oid": "a7bbc5f2ed256202bfefbdf3046483bf012b7bbd", "url": "https://github.com/apache/dolphinscheduler/commit/a7bbc5f2ed256202bfefbdf3046483bf012b7bbd", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T08:15:59Z", "type": "commit"}, {"oid": "1d79562dd7a70269e491f6eaf372c37b96879735", "url": "https://github.com/apache/dolphinscheduler/commit/1d79562dd7a70269e491f6eaf372c37b96879735", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T08:38:20Z", "type": "commit"}, {"oid": "1cd1ce6a6340f1edad960dc6a16ea48680005c76", "url": "https://github.com/apache/dolphinscheduler/commit/1cd1ce6a6340f1edad960dc6a16ea48680005c76", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T08:44:13Z", "type": "commit"}, {"oid": "0c6b0f297095669a3f8d4baec31d1c8c6786782d", "url": "https://github.com/apache/dolphinscheduler/commit/0c6b0f297095669a3f8d4baec31d1c8c6786782d", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T09:42:15Z", "type": "commit"}, {"oid": "33ec332a2fc20cc0c0e0b2837f4b85be00742562", "url": "https://github.com/apache/dolphinscheduler/commit/33ec332a2fc20cc0c0e0b2837f4b85be00742562", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T10:07:32Z", "type": "commit"}, {"oid": "bd1003f897cebdaa38f6b79038bdb0bc410b7b5c", "url": "https://github.com/apache/dolphinscheduler/commit/bd1003f897cebdaa38f6b79038bdb0bc410b7b5c", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-14T10:40:54Z", "type": "commit"}, {"oid": "a25f2e8c53f6de32e1168d731726dbcbe876acee", "url": "https://github.com/apache/dolphinscheduler/commit/a25f2e8c53f6de32e1168d731726dbcbe876acee", "message": "Merge remote-tracking branch 'remotes/upstream/dev' into dev", "committedDate": "2020-04-15T06:56:27Z", "type": "commit"}, {"oid": "f29f45e4fcb38c3163a0458054202154b843089d", "url": "https://github.com/apache/dolphinscheduler/commit/f29f45e4fcb38c3163a0458054202154b843089d", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-15T07:33:02Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY0Nzc3Mg==", "url": "https://github.com/apache/dolphinscheduler/pull/2420#discussion_r408647772", "bodyText": "when error\uff0c should sleep(200~1000).", "author": "Technoboy-", "createdAt": "2020-04-15T07:50:51Z", "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/master/consumer/TaskPriorityQueueConsumer.java", "diffHunk": "@@ -114,13 +114,19 @@ public void run() {\n     private Boolean dispatch(int taskInstanceId){\n         TaskExecutionContext context = getTaskExecutionContext(taskInstanceId);\n         ExecutionContext executionContext = new ExecutionContext(context.toCommand(), ExecutorType.WORKER, context.getWorkerGroup());\n-        try {\n-            return dispatcher.dispatch(executionContext);\n-        } catch (ExecuteException e) {\n-            logger.error(\"execute exception\", e);\n-            return false;\n-        }\n+        Boolean result = false;\n+        while (Stopper.isRunning()){\n+            try {\n+                result =  dispatcher.dispatch(executionContext);\n+            } catch (ExecuteException e) {\n+                logger.error(\"dispatch error\",e);", "originalCommit": "f29f45e4fcb38c3163a0458054202154b843089d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "f3eb306d7602d3a7f253862a284614bf898c8d4c", "url": "https://github.com/apache/dolphinscheduler/commit/f3eb306d7602d3a7f253862a284614bf898c8d4c", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-15T08:01:45Z", "type": "commit"}, {"oid": "bc84b83111bad392f684fa01d0515f1a42fdb3d7", "url": "https://github.com/apache/dolphinscheduler/commit/bc84b83111bad392f684fa01d0515f1a42fdb3d7", "message": "1\uff0cno worker condition , master will while ture wait for worker startup\n2\uff0cworker response task status sync wait for result", "committedDate": "2020-04-15T08:02:55Z", "type": "commit"}]}