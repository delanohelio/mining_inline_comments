{"pr_number": 2943, "pr_title": "Sqoop task optimization", "pr_createdAt": "2020-06-10T01:35:48Z", "pr_url": "https://github.com/apache/dolphinscheduler/pull/2943", "timeline": [{"oid": "c8f28ab2ba865a40063486ca0879ef183342086d", "url": "https://github.com/apache/dolphinscheduler/commit/c8f28ab2ba865a40063486ca0879ef183342086d", "message": "sqoop task optimization", "committedDate": "2020-06-09T10:16:35Z", "type": "commit"}, {"oid": "50da6951fc09b436eabf3fc2ab6338f325c32fd5", "url": "https://github.com/apache/dolphinscheduler/commit/50da6951fc09b436eabf3fc2ab6338f325c32fd5", "message": "sqoop front-end optimization", "committedDate": "2020-06-09T10:39:29Z", "type": "commit"}, {"oid": "5d83d797d3b2df8b16e94355925bc371a09c91c8", "url": "https://github.com/apache/dolphinscheduler/commit/5d83d797d3b2df8b16e94355925bc371a09c91c8", "message": "modify sqoop task UT", "committedDate": "2020-06-10T01:11:17Z", "type": "commit"}, {"oid": "822addac30278303674cc9468bdef631a69ab33a", "url": "https://github.com/apache/dolphinscheduler/commit/822addac30278303674cc9468bdef631a69ab33a", "message": "add sqoop task UT to pom", "committedDate": "2020-06-10T02:43:22Z", "type": "commit"}, {"oid": "a64c2b383e4def27bd4eb90f1e1df3fe26ab54c8", "url": "https://github.com/apache/dolphinscheduler/commit/a64c2b383e4def27bd4eb90f1e1df3fe26ab54c8", "message": "Merge branch 'dev' of https://github.com/apache/incubator-dolphinscheduler into dev", "committedDate": "2020-06-10T02:44:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA2NzcxNA==", "url": "https://github.com/apache/dolphinscheduler/pull/2943#discussion_r438067714", "bodyText": "If return null, I see the follow-up code, the task will eventually be judged as successful.", "author": "wen-hemin", "createdAt": "2020-06-10T12:00:52Z", "path": "dolphinscheduler-server/src/main/java/org/apache/dolphinscheduler/server/worker/task/sqoop/generator/SqoopJobGenerator.java", "diffHunk": "@@ -62,14 +63,23 @@ private void createSqoopJobGenerator(String sourceType,String targetType){\n      * @return\n      */\n     public String generateSqoopJob(SqoopParameters sqoopParameters,TaskExecutionContext taskExecutionContext){\n-        createSqoopJobGenerator(sqoopParameters.getSourceType(),sqoopParameters.getTargetType());\n-        if(sourceGenerator == null || targetGenerator == null){\n-            return null;\n+\n+        String sqoopScripts = \"\";\n+\n+        if (SqoopJobType.TEMPLATE.getDescp().equals(sqoopParameters.getJobType())) {\n+            createSqoopJobGenerator(sqoopParameters.getSourceType(),sqoopParameters.getTargetType());\n+            if(sourceGenerator == null || targetGenerator == null){\n+                return null;\n+            }", "originalCommit": "a64c2b383e4def27bd4eb90f1e1df3fe26ab54c8", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODE0MTYwNQ==", "url": "https://github.com/apache/dolphinscheduler/pull/2943#discussion_r438141605", "bodyText": "yes, if null should throw a runtimeException", "author": "Eights-Li", "createdAt": "2020-06-10T13:55:58Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODA2NzcxNA=="}], "type": "inlineReview"}, {"oid": "a420644aa3232de564725ceaf7f6b194ac53feb0", "url": "https://github.com/apache/dolphinscheduler/commit/a420644aa3232de564725ceaf7f6b194ac53feb0", "message": "sqoop task source type or target type is null throw exception", "committedDate": "2020-06-10T14:20:01Z", "type": "commit"}]}