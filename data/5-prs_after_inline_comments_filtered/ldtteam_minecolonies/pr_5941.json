{"pr_number": 5941, "pr_title": "Track recipe usage by token in the recipe  manager", "pr_createdAt": "2020-10-17T19:31:54Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/5941", "timeline": [{"oid": "44a0d62ef6909ac41d6f0cbe1013a8e32e9e4c15", "url": "https://github.com/ldtteam/minecolonies/commit/44a0d62ef6909ac41d6f0cbe1013a8e32e9e4c15", "message": "Track recipe usage by token in the recipe  manager", "committedDate": "2020-10-17T19:29:49Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3ODQyMg==", "url": "https://github.com/ldtteam/minecolonies/pull/5941#discussion_r506978422", "bodyText": "No need to check contains - add already does that.", "author": "MatthiasMann", "createdAt": "2020-10-17T19:58:26Z", "path": "src/main/java/com/minecolonies/coremod/colony/requestsystem/management/manager/StandardRecipeManager.java", "diffHunk": "@@ -96,4 +111,20 @@ public void read(@NotNull final CompoundNBT compound)\n         }\n         cache = null;\n     }\n+\n+    @Override\n+    public void reset()\n+    {\n+        recipes.clear();\n+        usedRecipes.clear();\n+    }\n+\n+    @Override\n+    public void registerUse(final IToken<?> token)\n+    {\n+        if(!usedRecipes.contains(token))\n+        {\n+            usedRecipes.add(token);", "originalCommit": "44a0d62ef6909ac41d6f0cbe1013a8e32e9e4c15", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3ODQ1OA==", "url": "https://github.com/ldtteam/minecolonies/pull/5941#discussion_r506978458", "bodyText": "ye it's a set, it shouldn't need contains", "author": "Raycoms", "createdAt": "2020-10-17T19:59:01Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3ODQyMg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3OTA3OQ==", "url": "https://github.com/ldtteam/minecolonies/pull/5941#discussion_r506979079", "bodyText": "Fair enough. Should be fixed.", "author": "Mekle001", "createdAt": "2020-10-17T20:06:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk3ODQyMg=="}], "type": "inlineReview"}, {"oid": "d0f7c5ce2c852a86269b13c0d14676d5952d8e59", "url": "https://github.com/ldtteam/minecolonies/commit/d0f7c5ce2c852a86269b13c0d14676d5952d8e59", "message": "remove contains checks", "committedDate": "2020-10-17T20:02:41Z", "type": "commit"}, {"oid": "fbd645671e8d7808c8d1945ce96645af24ebbc9f", "url": "https://github.com/ldtteam/minecolonies/commit/fbd645671e8d7808c8d1945ce96645af24ebbc9f", "message": "Merge branch 'version/1.15' into clean/globalrecipes", "committedDate": "2020-10-18T14:18:19Z", "type": "commit"}, {"oid": "4135f8cec3a1523a22418622727243f9ab5926e8", "url": "https://github.com/ldtteam/minecolonies/commit/4135f8cec3a1523a22418622727243f9ab5926e8", "message": "Merge branch 'version/1.15' into clean/globalrecipes", "committedDate": "2020-10-19T13:02:35Z", "type": "commit"}]}