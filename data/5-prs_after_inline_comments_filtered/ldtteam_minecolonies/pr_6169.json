{"pr_number": 6169, "pr_title": "Adds 5 new scroll items with unique effects", "pr_createdAt": "2020-11-29T11:36:03Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/6169", "timeline": [{"oid": "12c35de7718f09dc82c4e8e35367aedb50b4b653", "url": "https://github.com/ldtteam/minecolonies/commit/12c35de7718f09dc82c4e8e35367aedb50b4b653", "message": "Adds 5 new scroll items with unique effects:\nA colony home teleportation scroll, which teleports the user to the registered colony. Made by the enchanter\nA colony home area teleportation scroll which teleports the user and nearby players to the colony. Made by the enchanter\nA regeneration scroll, granting regeneration to the player and citizens around him, found in chests.\nA guard help scroll which temporarily summons the guards of a registered guard building to the user on follow mode.\nA worker highlight scroll which can be used on a worker building an highlights the worker with a glow effect and gives him a slight speed effect too.\n\nFix some of our sounds beeing stereo and not playing positioned", "committedDate": "2020-11-29T11:32:38Z", "type": "commit"}, {"oid": "ecd29fc1a161e32bca9f53af5a0db414b71437dc", "url": "https://github.com/ldtteam/minecolonies/commit/ecd29fc1a161e32bca9f53af5a0db414b71437dc", "message": "javadoc", "committedDate": "2020-11-29T13:23:16Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjIyMTE2OA==", "url": "https://github.com/ldtteam/minecolonies/pull/6169#discussion_r532221168", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static final int    FAIL_RESPONSES_TOTAL = 10;\n          \n          \n            \n                public static final int    FAIL_RESPONSES_TOTAL = 14;", "author": "ravenbuilder934", "createdAt": "2020-11-29T14:58:52Z", "path": "src/main/java/com/minecolonies/coremod/items/AbstractItemScroll.java", "diffHunk": "@@ -0,0 +1,167 @@\n+package com.minecolonies.coremod.items;\n+\n+import com.ldtteam.structurize.util.LanguageHandler;\n+import com.minecolonies.api.colony.IColony;\n+import com.minecolonies.api.colony.IColonyManager;\n+import com.minecolonies.api.colony.permissions.Action;\n+import com.minecolonies.api.tileentities.AbstractTileEntityColonyBuilding;\n+import com.minecolonies.api.tileentities.TileEntityColonyBuilding;\n+import com.minecolonies.api.util.BlockPosUtil;\n+import net.minecraft.entity.LivingEntity;\n+import net.minecraft.entity.player.PlayerEntity;\n+import net.minecraft.entity.player.ServerPlayerEntity;\n+import net.minecraft.item.ItemStack;\n+import net.minecraft.item.ItemUseContext;\n+import net.minecraft.item.UseAction;\n+import net.minecraft.nbt.CompoundNBT;\n+import net.minecraft.tileentity.TileEntity;\n+import net.minecraft.util.ActionResult;\n+import net.minecraft.util.ActionResultType;\n+import net.minecraft.util.Hand;\n+import net.minecraft.util.text.TranslationTextComponent;\n+import net.minecraft.world.World;\n+import org.jetbrains.annotations.NotNull;\n+\n+import static com.minecolonies.api.util.constant.NbtTagConstants.TAG_COLONY_ID;\n+\n+/**\n+ * Scroll items base class, does colony registering/checks.\n+ */\n+public abstract class AbstractItemScroll extends AbstractItemMinecolonies\n+{\n+    public static final String TAG_COLONY_DIM       = \"colony_dim\";\n+    public static final String TAG_BUILDING_POS     = \"building_pos\";\n+    public static final int    FAIL_RESPONSES_TOTAL = 10;", "originalCommit": "ecd29fc1a161e32bca9f53af5a0db414b71437dc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a4d8dffffb44486695ffa9f44f1387cbe51696f7", "url": "https://github.com/ldtteam/minecolonies/commit/a4d8dffffb44486695ffa9f44f1387cbe51696f7", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>", "committedDate": "2020-11-29T15:18:19Z", "type": "commit"}, {"oid": "ae13f3fc958848b51585247107c56f8233ed87ff", "url": "https://github.com/ldtteam/minecolonies/commit/ae13f3fc958848b51585247107c56f8233ed87ff", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>", "committedDate": "2020-11-29T15:18:29Z", "type": "commit"}, {"oid": "643964c4afeb015c2567274a2549a5fbada7ebe9", "url": "https://github.com/ldtteam/minecolonies/commit/643964c4afeb015c2567274a2549a5fbada7ebe9", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>", "committedDate": "2020-11-29T15:19:16Z", "type": "commit"}, {"oid": "0fcbb81bccea8d1b4f58c0f7098d1fbc4de359b2", "url": "https://github.com/ldtteam/minecolonies/commit/0fcbb81bccea8d1b4f58c0f7098d1fbc4de359b2", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>", "committedDate": "2020-11-29T15:19:28Z", "type": "commit"}, {"oid": "fbe52bee1096b3e7041dc06dbe92ac4cba4e01a8", "url": "https://github.com/ldtteam/minecolonies/commit/fbe52bee1096b3e7041dc06dbe92ac4cba4e01a8", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>", "committedDate": "2020-11-29T15:21:28Z", "type": "commit"}, {"oid": "f4d260380f189b24fb919434e6b98794ba92dd99", "url": "https://github.com/ldtteam/minecolonies/commit/f4d260380f189b24fb919434e6b98794ba92dd99", "message": "Update src/main/resources/assets/minecolonies/lang/en_us.json\n\nCo-authored-by: ravenbuilder934 <sabrinajamie@outlook.com>", "committedDate": "2020-11-29T18:51:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI1MDQ1Nw==", "url": "https://github.com/ldtteam/minecolonies/pull/6169#discussion_r532250457", "bodyText": "This building was turned into a crafter. Yet no methods where overriden. Sooo is this a default crafter? I think you would like ant to limit the recipes would you not?", "author": "OrionDevelopment", "createdAt": "2020-11-29T18:54:17Z", "path": "src/main/java/com/minecolonies/coremod/colony/buildings/workerbuildings/BuildingEnchanter.java", "diffHunk": "@@ -33,7 +34,7 @@\n /**\n  * The enchanter building.\n  */\n-public class BuildingEnchanter extends AbstractBuildingWorker\n+public class BuildingEnchanter extends AbstractBuildingCrafter", "originalCommit": "f4d260380f189b24fb919434e6b98794ba92dd99", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI1MjE1Nw==", "url": "https://github.com/ldtteam/minecolonies/pull/6169#discussion_r532252157", "bodyText": "@OrionDevelopment afaik that is all data driven now. @Mekle001 this should be fine as is, right?", "author": "Raycoms", "createdAt": "2020-11-29T19:08:18Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI1MDQ1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI1MzA3Ng==", "url": "https://github.com/ldtteam/minecolonies/pull/6169#discussion_r532253076", "bodyText": "hm good point I'll go ahead and test it", "author": "someaddons", "createdAt": "2020-11-29T19:15:20Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI1MDQ1Nw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI1NDExMg==", "url": "https://github.com/ldtteam/minecolonies/pull/6169#discussion_r532254112", "bodyText": "was able to teach it sticks xD", "author": "someaddons", "createdAt": "2020-11-29T19:23:56Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI1MDQ1Nw=="}], "type": "inlineReview"}, {"oid": "20bd09729aa394f87c72e944982371a97424a0fd", "url": "https://github.com/ldtteam/minecolonies/commit/20bd09729aa394f87c72e944982371a97424a0fd", "message": "Small statemachine improvement (#6171)\n\nThis changes the statemachine to no longer do hash lookups frequently when it already does know/has a reference to the result. Instead we do the lookup once the state changes and keep the reference to the current state's transitions.\r\nRemoved streams in the basic statemachine aswell.", "committedDate": "2020-11-29T19:37:42Z", "type": "commit"}, {"oid": "b17e3fa25085479547d8f46fedf3b3aa40b53185", "url": "https://github.com/ldtteam/minecolonies/commit/b17e3fa25085479547d8f46fedf3b3aa40b53185", "message": "fix #6161 (#6167)\n\nPerformance improvement\r\nFix free blocks config\r\nFix abandoned colony calc\r\nFix infinite request loops\r\nFix client side desyncs of racks", "committedDate": "2020-11-29T19:37:42Z", "type": "commit"}, {"oid": "371d5308dae8601e949350b63d579fa8fa60255f", "url": "https://github.com/ldtteam/minecolonies/commit/371d5308dae8601e949350b63d579fa8fa60255f", "message": "disallow adding recipes", "committedDate": "2020-11-29T19:37:59Z", "type": "commit"}]}