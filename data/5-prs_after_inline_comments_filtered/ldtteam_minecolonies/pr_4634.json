{"pr_number": 4634, "pr_title": "Modification in BuilderAi to pickup all needed ressources", "pr_createdAt": "2020-04-14T13:44:50Z", "pr_url": "https://github.com/ldtteam/minecolonies/pull/4634", "timeline": [{"oid": "44abaa0f2579f30e14ef88632614c42824568e3f", "url": "https://github.com/ldtteam/minecolonies/commit/44abaa0f2579f30e14ef88632614c42824568e3f", "message": "Change in BuilderAi to be a little bit more smart\n\nChanged the System to reflect more proper requests if needed material is bigger than stacksize. and also to pick not only full stacks.. instead real values.", "committedDate": "2020-04-14T12:43:54Z", "type": "commit"}, {"oid": "221e836fa6ce2fcfd316e22393c70c21f6e8f89b", "url": "https://github.com/ldtteam/minecolonies/commit/221e836fa6ce2fcfd316e22393c70c21f6e8f89b", "message": "Change in BuilderAi to be a little bit more smart---still has a bug\n\nChanged the System to reflect more proper requests if needed material is bigger than stacksize. and also to pick not only full stacks.. instead real values.", "committedDate": "2020-04-14T13:34:07Z", "type": "commit"}, {"oid": "8a848f3ff39d26c4930d79c1d8ed9ca5163d8eed", "url": "https://github.com/ldtteam/minecolonies/commit/8a848f3ff39d26c4930d79c1d8ed9ca5163d8eed", "message": "Merge remote-tracking branch 'origin/version/1.15' into version/1.15", "committedDate": "2020-04-14T13:34:24Z", "type": "commit"}, {"oid": "147e61250c888807be5b12a96f34bbd90bf4ad01", "url": "https://github.com/ldtteam/minecolonies/commit/147e61250c888807be5b12a96f34bbd90bf4ad01", "message": "Change in BuilderAi to be a little bit more smart\n\nBugfix... endless loop at bigger buildings", "committedDate": "2020-04-14T13:35:30Z", "type": "commit"}, {"oid": "5436848a18e4e2dfaedd6ee5283bb5617e738263", "url": "https://github.com/ldtteam/minecolonies/commit/5436848a18e4e2dfaedd6ee5283bb5617e738263", "message": "Merge branch 'version/1.15' into version/1.15", "committedDate": "2020-04-14T14:16:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3MjI5NA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408172294", "bodyText": "I guess you can remove this here now.", "author": "Raycoms", "createdAt": "2020-04-14T14:17:31Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -245,8 +252,13 @@ private IAIState getNeededItem()\n                 setDelay(2);\n                 return getState();\n             }\n-\n-            tryTransferFromPosToWorker(walkTo, needsCurrently);\n+            // modified for debug and added the Stack itself as a workaround to get the \"real Stacksize\"\n+            if(tryTransferFromPosToWorker(walkTo, needsCurrently, needsCurrentlyStack))", "originalCommit": "5436848a18e4e2dfaedd6ee5283bb5617e738263", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NTg5MA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409195890", "bodyText": "fixed", "author": "lexustec", "createdAt": "2020-04-15T23:39:59Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3MjI5NA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3MzUyOQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408173529", "bodyText": "guess you can roll back this change too", "author": "Raycoms", "createdAt": "2020-04-14T14:19:04Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -1021,9 +1033,8 @@ else if (dumpOneMoreSlot())\n \n         alreadyKept.clear();\n         slotAt = 0;\n-        //collect items that are nice to have if they are available\n-        this.itemsNiceToHave().forEach(this::isInHut);\n-        // we dumped the inventory, reset actions done\n+         this.itemsNiceToHave().forEach(this::isInHut);\n+         // we dumped the inventory, reset actions done", "originalCommit": "5436848a18e4e2dfaedd6ee5283bb5617e738263", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NjA2NA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408486064", "bodyText": "done", "author": "lexustec", "createdAt": "2020-04-14T23:04:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3MzUyOQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NDgyOA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408174828", "bodyText": "this comment can also go then I believe", "author": "Raycoms", "createdAt": "2020-04-14T14:20:48Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -1461,20 +1472,35 @@ public boolean checkIfRequestForItemExistOrCreateAsynch(@NotNull final ItemStack\n      *\n      * @param pos       the position to transfer it from.\n      * @param predicate the predicate to evaluate.\n+     * @param stackInfo the actual stack of the predicate to get the needed value\n      * @return true if succesful.\n      */\n-    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Predicate<ItemStack> predicate)\n+\n+    // modified to reflect the actual stack amount to transfer.  WIP", "originalCommit": "5436848a18e4e2dfaedd6ee5283bb5617e738263", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NjEzMQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408486131", "bodyText": "done", "author": "lexustec", "createdAt": "2020-04-14T23:04:41Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NDgyOA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NTgwOA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409195808", "bodyText": "done", "author": "lexustec", "createdAt": "2020-04-15T23:39:47Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NDgyOA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NTI5OA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408175298", "bodyText": "can you format this properly?\nIn the repo there is a formatting file for intellij you can setup to properly format this too.", "author": "Raycoms", "createdAt": "2020-04-14T14:21:23Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -1461,20 +1472,35 @@ public boolean checkIfRequestForItemExistOrCreateAsynch(@NotNull final ItemStack\n      *\n      * @param pos       the position to transfer it from.\n      * @param predicate the predicate to evaluate.\n+     * @param stackInfo the actual stack of the predicate to get the needed value\n      * @return true if succesful.\n      */\n-    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Predicate<ItemStack> predicate)\n+\n+    // modified to reflect the actual stack amount to transfer.  WIP\n+    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Predicate<ItemStack> predicate, @NotNull final BuildingBuilderResource stackInfo)\n     {\n         final TileEntity entity = world.getTileEntity(pos);\n         if (entity == null)\n         {\n             return false;\n         }\n \n+        // Filter out if Size to pick is bigger than stacksize\n+\n+        int insertAmount =0;\n+        if(stackInfo.getAmount() > stackInfo.getItemStack().getMaxStackSize())\n+        {\n+            insertAmount = stackInfo.getItemStack().getMaxStackSize();\n+        }else{", "originalCommit": "5436848a18e4e2dfaedd6ee5283bb5617e738263", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NTcyMA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409195720", "bodyText": "formatting done", "author": "lexustec", "createdAt": "2020-04-15T23:39:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NTI5OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NjQyNg==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408176426", "bodyText": "I don't understand this change. If the worker has the item in the inventory, then it doesn't have to pick more up, ain't I right?", "author": "Raycoms", "createdAt": "2020-04-14T14:22:48Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/builder/EntityAIStructureBuilder.java", "diffHunk": "@@ -155,15 +199,37 @@ public IAIState pickUpMaterial()\n \n         if (currentStructure.getStage() != StructureIterator.Stage.DECORATE)\n         {\n+            //Log.getLogger().info(\"Check if item is decoration and now is not decoration time\");\n             needsCurrently = needsCurrently.and(stack -> !ItemStackUtils.isDecoration(stack));\n+            //Log.getLogger().info( needsCurrently.toString());\n+\n         }\n \n         if (InventoryUtils.hasItemInItemHandler(worker.getInventoryCitizen(), needsCurrently))\n         {\n-            return getState();\n+            // here still needs to be work done. Here the implementation follows to calculate all items\n+            // which equals the needed item in the inventory of the worker follows.\n+            // at the moment we dump the inventory after each step anyway. so it is not needed.\n+            // the change enables that the builder can pickup more than only one stack.\n+            // This part is unfinished and may be removed entierly later...\n+            // get the amount in Inventory and compares it to the needed amount.\n+//            int amount = needsCurrently.and(stack -> ItemStack.getSize(stack));\n+//\n+//            int otheramount = 0;\n+//            int slot = InventoryUtils.findFirstSlotInItemHandlerNotEmptyWith(worker.getInventoryCitizen(), needsCurrently);\n+//            if (slot != -1) {\n+//                ItemStack myStack = worker.getInventoryCitizen().getStackInSlot(slot);\n+//                otheramount = myStack.getCount();\n+//            }\n+//            Log.getLogger().info(\"But has \"+ otheramount +\" already in local inventory \");\n+            //return getState();\n+            return GATHERING_REQUIRED_MATERIALS;", "originalCommit": "5436848a18e4e2dfaedd6ee5283bb5617e738263", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NjYzNw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408176637", "bodyText": "(You can also remove all the commented out code here)", "author": "Raycoms", "createdAt": "2020-04-14T14:23:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NjQyNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NTYzNw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409195637", "bodyText": "done", "author": "lexustec", "createdAt": "2020-04-15T23:39:13Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE3NjQyNg=="}], "type": "inlineReview"}, {"oid": "0645923db7baed91a5669383e7e101b29eb13e9c", "url": "https://github.com/ldtteam/minecolonies/commit/0645923db7baed91a5669383e7e101b29eb13e9c", "message": "Modified and moved AI code\n\nChanged the System to reflect more proper requests if needed material is bigger than stacksize. and also to pick not only full stacks.. instead real needed values.", "committedDate": "2020-04-14T22:50:24Z", "type": "commit"}, {"oid": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "url": "https://github.com/ldtteam/minecolonies/commit/8926eaa3e83df3954ebdbc259c811b7f8388e313", "message": "Merge remote-tracking branch 'origin/version/1.15' into version/1.15", "committedDate": "2020-04-14T22:51:27Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NDkzMQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408484931", "bodyText": "needs to be like this because the minecraft Tuple is used also. can not include both.", "author": "lexustec", "createdAt": "2020-04-14T23:01:11Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/enchanter/EntityAIWorkEnchanter.java", "diffHunk": "@@ -136,7 +136,7 @@ private IAIState decide()\n                 final int numberOfBooksInBuilding = InventoryUtils.getItemCountInProvider(getOwnBuilding(), IS_BOOK);\n                 if (numberOfBooksInBuilding > 0)\n                 {\n-                    needsCurrently = IS_BOOK;\n+                    needsCurrently = new com.minecolonies.api.util.Tuple<>(IS_BOOK,1);", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4ODU1OA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408488558", "bodyText": "Then please switch out the other tuple for minecraft tuple", "author": "Asherslab", "createdAt": "2020-04-14T23:12:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NDkzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5MjAzOA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408592038", "bodyText": "if i change 139 to new Tuple<> it errors out with can not infere arguments.. if i change the import also at the top Line 237 errors with incompatible values. the com.minecolonies.api.util. was putted by intellij automaticly", "author": "lexustec", "createdAt": "2020-04-15T05:38:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NDkzMQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NTU0NA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409195544", "bodyText": "Modified to the minecraft version.", "author": "lexustec", "createdAt": "2020-04-15T23:38:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NDkzMQ=="}], "type": "inlineReview"}, {"oid": "2240f28e9515e25de0e54fc87cc762ebdfb03279", "url": "https://github.com/ldtteam/minecolonies/commit/2240f28e9515e25de0e54fc87cc762ebdfb03279", "message": "formatting change\n\nfixed formatting", "committedDate": "2020-04-14T23:03:06Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4MzMxNg==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408483316", "bodyText": "If we're using BuildingBuilderResource here (not the builder class) we should change the name of the class", "author": "Asherslab", "createdAt": "2020-04-14T22:56:34Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -121,7 +123,13 @@\n     /**\n      * What he currently might be needing.\n      */\n-    protected Predicate<ItemStack> needsCurrently = null;\n+    protected Tuple<Predicate<ItemStack>, Integer> needsCurrently = null;\n+\n+    /**\n+     * What he currently might be needing but as full information.\n+     * this is a wip workaround... to get Stack Count right\n+     */\n+    protected BuildingBuilderResource needsCurrentlyStack = null;", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5NjI1Mw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408596253", "bodyText": "removed it. was used before the latest commit.", "author": "lexustec", "createdAt": "2020-04-15T05:52:12Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4MzMxNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NDQ3NQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408484475", "bodyText": "Is there a reason we need a tuple here?\nFrom what i can tell the Integer is for how much of an item we need, except that an ItemStack can store the count of items, and no, it's not restricted to 64, can be any Int.", "author": "Asherslab", "createdAt": "2020-04-14T22:59:50Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -121,7 +123,13 @@\n     /**\n      * What he currently might be needing.\n      */\n-    protected Predicate<ItemStack> needsCurrently = null;\n+    protected Tuple<Predicate<ItemStack>, Integer> needsCurrently = null;", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5MzM5Mw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408593393", "bodyText": "Yes the Tuple is needed because only the Predicate is inside. Predicate. this doesnt contain the count. the Tuple <Predicate, Integer> was suggested by Raycoms.", "author": "lexustec", "createdAt": "2020-04-15T05:42:51Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NDQ3NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NTQ1Ng==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408485456", "bodyText": "If this was done for debug, and it does nothing, then please remove it for live.\nNo need to keep it", "author": "Asherslab", "createdAt": "2020-04-14T23:02:54Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -245,8 +253,13 @@ private IAIState getNeededItem()\n                 setDelay(2);\n                 return getState();\n             }\n-\n-            tryTransferFromPosToWorker(walkTo, needsCurrently);\n+            // modified for debug and added the Stack itself as a workaround to get the \"real Stacksize\"\n+            if(tryTransferFromPosToWorker(walkTo, needsCurrently))", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5MzYxMQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408593611", "bodyText": "comment line needs to be changed", "author": "lexustec", "createdAt": "2020-04-15T05:43:28Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NTQ1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE2MjYzOQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409162639", "bodyText": "This should still be removed (nothing inside the if/else cases)", "author": "Asherslab", "createdAt": "2020-04-15T22:06:55Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NTQ1Ng=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NDQxMA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409194410", "bodyText": "already modified", "author": "lexustec", "createdAt": "2020-04-15T23:35:17Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NTQ1Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NTgzOQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408485839", "bodyText": "put a final on here please", "author": "Asherslab", "createdAt": "2020-04-14T23:03:48Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -1463,19 +1475,55 @@ public boolean checkIfRequestForItemExistOrCreateAsynch(@NotNull final ItemStack\n      * @param predicate the predicate to evaluate.\n      * @return true if succesful.\n      */\n-    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Predicate<ItemStack> predicate)\n+\n+    // modified to reflect the actual stack amount to transfer.  WIP\n+    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Tuple<Predicate<ItemStack>, Integer> predicate)\n     {\n         final TileEntity entity = world.getTileEntity(pos);\n         if (entity == null)\n         {\n             return false;\n         }\n \n-        return InventoryUtils.transferXOfFirstSlotInProviderWithIntoNextFreeSlotInItemHandler(\n-          entity,\n-          predicate,\n-          Constants.STACKSIZE,\n-          worker.getInventoryCitizen());\n+        int existingAmount = InventoryUtils.getItemCountInItemHandler(worker.getInventoryCitizen(),predicate.getA());", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NTk5Nw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408485997", "bodyText": "incorrect casing here", "author": "Asherslab", "createdAt": "2020-04-14T23:04:09Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -1463,19 +1475,55 @@ public boolean checkIfRequestForItemExistOrCreateAsynch(@NotNull final ItemStack\n      * @param predicate the predicate to evaluate.\n      * @return true if succesful.\n      */\n-    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Predicate<ItemStack> predicate)\n+\n+    // modified to reflect the actual stack amount to transfer.  WIP\n+    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Tuple<Predicate<ItemStack>, Integer> predicate)\n     {\n         final TileEntity entity = world.getTileEntity(pos);\n         if (entity == null)\n         {\n             return false;\n         }\n \n-        return InventoryUtils.transferXOfFirstSlotInProviderWithIntoNextFreeSlotInItemHandler(\n-          entity,\n-          predicate,\n-          Constants.STACKSIZE,\n-          worker.getInventoryCitizen());\n+        int existingAmount = InventoryUtils.getItemCountInItemHandler(worker.getInventoryCitizen(),predicate.getA());\n+        int amount = 0;\n+        if(predicate.getB() > existingAmount) {\n+            amount = predicate.getB() - existingAmount;\n+        }\n+        else\n+        {\n+            return true; // has already needed transfers...\n+        }\n+\n+        do{\n+            int transferamount = 0;", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NjM2Mg==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408486362", "bodyText": "formatting (as ray said we have a formatting file)", "author": "Asherslab", "createdAt": "2020-04-14T23:05:27Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -1463,19 +1475,55 @@ public boolean checkIfRequestForItemExistOrCreateAsynch(@NotNull final ItemStack\n      * @param predicate the predicate to evaluate.\n      * @return true if succesful.\n      */\n-    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Predicate<ItemStack> predicate)\n+\n+    // modified to reflect the actual stack amount to transfer.  WIP\n+    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Tuple<Predicate<ItemStack>, Integer> predicate)\n     {\n         final TileEntity entity = world.getTileEntity(pos);\n         if (entity == null)\n         {\n             return false;\n         }\n \n-        return InventoryUtils.transferXOfFirstSlotInProviderWithIntoNextFreeSlotInItemHandler(\n-          entity,\n-          predicate,\n-          Constants.STACKSIZE,\n-          worker.getInventoryCitizen());\n+        int existingAmount = InventoryUtils.getItemCountInItemHandler(worker.getInventoryCitizen(),predicate.getA());\n+        int amount = 0;\n+        if(predicate.getB() > existingAmount) {\n+            amount = predicate.getB() - existingAmount;\n+        }\n+        else\n+        {\n+            return true; // has already needed transfers...\n+        }\n+\n+        do{\n+            int transferamount = 0;\n+\n+            if(amount > STACKSIZE)\n+            {\n+                transferamount =  STACKSIZE;\n+            }\n+            else\n+            {\n+                transferamount = amount;\n+            }\n+\n+            amount -= transferamount;\n+\n+            if(!InventoryUtils.transferXOfFirstSlotInProviderWithIntoNextFreeSlotInItemHandler(entity, predicate.getA(),transferamount,worker.getInventoryCitizen()))\n+            {\n+                return false; // couldn't transfer\n+            }\n+        }while(amount > 0);", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NjU4MA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408486580", "bodyText": "Why are we increasing this?", "author": "Asherslab", "createdAt": "2020-04-14T23:06:08Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/builder/EntityAIStructureBuilder.java", "diffHunk": "@@ -77,7 +80,7 @@\n     /**\n      * After how many actions should the builder dump his inventory.\n      */\n-    private static final int ACTIONS_UNTIL_DUMP = 1024;\n+    private static final int ACTIONS_UNTIL_DUMP = 4096;", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE5NTM4NA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r409195384", "bodyText": "if the Builder collected all materials for build we have  about 20 stacks in the inventory. which means if he is going to place all these 1280 blocks he will run back before placing all and dump the inventory. he will dump it anyway between the buildstages. also when he picks more material. I increased it to avoid this behaviour of unnescessary walks.", "author": "lexustec", "createdAt": "2020-04-15T23:38:30Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4NjU4MA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4Nzg0NQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408487845", "bodyText": "import at top of file please", "author": "Asherslab", "createdAt": "2020-04-14T23:09:57Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/enchanter/EntityAIWorkEnchanter.java", "diffHunk": "@@ -136,7 +136,7 @@ private IAIState decide()\n                 final int numberOfBooksInBuilding = InventoryUtils.getItemCountInProvider(getOwnBuilding(), IS_BOOK);\n                 if (numberOfBooksInBuilding > 0)\n                 {\n-                    needsCurrently = IS_BOOK;\n+                    needsCurrently = new com.minecolonies.api.util.Tuple<>(IS_BOOK,1);", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5NDMzMA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408594330", "bodyText": "can not import at top because conflict with minecraft.Tuple in Line 239. if i change 139 to new Tuple<> it errors out with can not infere arguments.. if i change the import also at the top Line 237 errors with incompatible values. the com.minecolonies.api.util. was putted by intellij automaticly", "author": "lexustec", "createdAt": "2020-04-15T05:45:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4Nzg0NQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4Nzg4OA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408487888", "bodyText": "same as above", "author": "Asherslab", "createdAt": "2020-04-14T23:10:04Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/enchanter/EntityAIWorkEnchanter.java", "diffHunk": "@@ -158,7 +158,7 @@ private IAIState decide()\n             final int amountOfAncientTomes = InventoryUtils.getItemCountInProvider(getOwnBuilding(), IS_ANCIENT_TOME);\n             if (amountOfAncientTomes > 0)\n             {\n-                needsCurrently = IS_ANCIENT_TOME;\n+                needsCurrently = new com.minecolonies.api.util.Tuple<>(IS_ANCIENT_TOME,1);", "originalCommit": "8926eaa3e83df3954ebdbc259c811b7f8388e313", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU5NDQ0Nw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408594447", "bodyText": "same as above", "author": "lexustec", "createdAt": "2020-04-15T05:46:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4Nzg4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODcyNDY5NA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r408724694", "bodyText": "Tuple replaced now", "author": "lexustec", "createdAt": "2020-04-15T09:59:54Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODQ4Nzg4OA=="}], "type": "inlineReview"}, {"oid": "01be50403e86161e6c208250db4adb5ac9f90bd8", "url": "https://github.com/ldtteam/minecolonies/commit/01be50403e86161e6c208250db4adb5ac9f90bd8", "message": "Fix and format", "committedDate": "2020-04-15T06:02:50Z", "type": "commit"}, {"oid": "fe885b21d65873591ea85e1ed149ed0861780a71", "url": "https://github.com/ldtteam/minecolonies/commit/fe885b21d65873591ea85e1ed149ed0861780a71", "message": "Format Fix\n\nFixed again. now should be good", "committedDate": "2020-04-15T06:26:37Z", "type": "commit"}, {"oid": "fb8b4a415ac2bf5ab5f2ce926469f3e379bc3c55", "url": "https://github.com/ldtteam/minecolonies/commit/fb8b4a415ac2bf5ab5f2ce926469f3e379bc3c55", "message": "Tuple replace\n\nNow it should be ready for review", "committedDate": "2020-04-15T09:59:24Z", "type": "commit"}, {"oid": "e570e69500186e03ca671be786c93e668cf62028", "url": "https://github.com/ldtteam/minecolonies/commit/e570e69500186e03ca671be786c93e668cf62028", "message": "Warehouse Inventory Total page working\n\nThe Warehouse got a new page which lists now all Warehouse connected Inventory. Icons still missing and window text is abstract for now. I didnt want to fuzz in the Language files for now. correct name needs to be found. Tech wise works nice. Ready for test", "committedDate": "2020-04-15T23:09:56Z", "type": "commit"}, {"oid": "a32b8c3d091bc1f55487d2f422d0d1e41fe82b7f", "url": "https://github.com/ldtteam/minecolonies/commit/a32b8c3d091bc1f55487d2f422d0d1e41fe82b7f", "message": "Revert \"Warehouse Inventory Total page working\"\n\nThis reverts commit e570e69500186e03ca671be786c93e668cf62028.", "committedDate": "2020-04-15T23:21:31Z", "type": "commit"}, {"oid": "680cf584c8e23baa807a6682684eac5d78fbbe66", "url": "https://github.com/ldtteam/minecolonies/commit/680cf584c8e23baa807a6682684eac5d78fbbe66", "message": "changed Function Name\n\nchanged the tryTransferFromPosToWorker to tryTransferFromPosToWorkerIfNeeded", "committedDate": "2020-04-16T12:31:32Z", "type": "commit"}, {"oid": "13f194e6013e8181acac0b8636904fa5b3a660fc", "url": "https://github.com/ldtteam/minecolonies/commit/13f194e6013e8181acac0b8636904fa5b3a660fc", "message": "Building Hiring bug\n\nBuilding hiring was able even if already worker was present.", "committedDate": "2020-04-16T17:34:49Z", "type": "commit"}, {"oid": "f33738cae14cac9a9fd501b7c11e26fb554a771c", "url": "https://github.com/ldtteam/minecolonies/commit/f33738cae14cac9a9fd501b7c11e26fb554a771c", "message": "Added function to average out itemstack pickups for large builds", "committedDate": "2020-04-16T22:36:56Z", "type": "commit"}, {"oid": "6cb36499988c48928343f59d860e99395edcd6f7", "url": "https://github.com/ldtteam/minecolonies/commit/6cb36499988c48928343f59d860e99395edcd6f7", "message": "hotfix stacksize", "committedDate": "2020-04-16T22:41:00Z", "type": "commit"}, {"oid": "2aa935dc3aecfeaf8e2dd058e76e3c524dffb53c", "url": "https://github.com/ldtteam/minecolonies/commit/2aa935dc3aecfeaf8e2dd058e76e3c524dffb53c", "message": "Merge branch 'version/1.15' into version/1.15", "committedDate": "2020-04-17T07:57:04Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MTg4OA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r410061888", "bodyText": "Please adapt the format. While on top.", "author": "OrionDevelopment", "createdAt": "2020-04-17T08:09:50Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/basic/AbstractEntityAIBasic.java", "diffHunk": "@@ -1463,19 +1435,58 @@ public boolean checkIfRequestForItemExistOrCreateAsynch(@NotNull final ItemStack\n      * @param predicate the predicate to evaluate.\n      * @return true if succesful.\n      */\n-    private boolean tryTransferFromPosToWorker(final BlockPos pos, @NotNull final Predicate<ItemStack> predicate)\n+\n+    private boolean tryTransferFromPosToWorkerIfNeeded(final BlockPos pos, @NotNull final Tuple<Predicate<ItemStack>, Integer> predicate)\n     {\n         final TileEntity entity = world.getTileEntity(pos);\n         if (entity == null)\n         {\n             return false;\n         }\n \n-        return InventoryUtils.transferXOfFirstSlotInProviderWithIntoNextFreeSlotInItemHandler(\n-          entity,\n-          predicate,\n-          Constants.STACKSIZE,\n-          worker.getInventoryCitizen());\n+        final int existingAmount = InventoryUtils.getItemCountInItemHandler(worker.getInventoryCitizen(), predicate.getA());\n+        int amount = 0;\n+        if (predicate.getB() > existingAmount)\n+        {\n+            amount = predicate.getB() - existingAmount;\n+        }\n+        else\n+        {\n+            return true; // has already needed transfers...\n+        }\n+\n+        int transferamount = 0;\n+\n+        do", "originalCommit": "2aa935dc3aecfeaf8e2dd058e76e3c524dffb53c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA3MTg5MQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r410071891", "bodyText": "the do {} while is intended because it runs at least once.\na while {} do not.", "author": "lexustec", "createdAt": "2020-04-17T08:28:34Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MTg4OA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA3NTk3NA==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r410075974", "bodyText": "I change it because at this point it is working both ways", "author": "lexustec", "createdAt": "2020-04-17T08:36:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MTg4OA=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MjY1Nw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r410062657", "bodyText": "This is not a constant. Adapt formatting.", "author": "OrionDevelopment", "createdAt": "2020-04-17T08:11:19Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/builder/EntityAIStructureBuilder.java", "diffHunk": "@@ -128,15 +132,55 @@ public IAIState getStateAfterPickUp()\n \n     /**\n      * State to pick up material before going back to work.\n+     *\n      * @return the next state to go to.\n      */\n     public IAIState pickUpMaterial()\n     {\n         final BuildingBuilder building = getOwnBuilding();\n-        final List<Predicate<ItemStack>> neededItemsList = new ArrayList<>();\n-        for (final BuildingBuilderResource stack : building.getNeededResources().values())\n+        final List<Tuple<Predicate<ItemStack>, Integer>> neededItemsList = new ArrayList<>();\n+        boolean ONLY_64 = false;", "originalCommit": "2aa935dc3aecfeaf8e2dd058e76e3c524dffb53c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA3NjExNQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r410076115", "bodyText": "changing", "author": "lexustec", "createdAt": "2020-04-17T08:36:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MjY1Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MzUwMw==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r410063503", "bodyText": "This need to be reworked. The logic here does not take stackability of items which are already contained in the inventory of the worker into account. Also formatting of while loops is of.", "author": "OrionDevelopment", "createdAt": "2020-04-17T08:12:57Z", "path": "src/main/java/com/minecolonies/coremod/entity/ai/citizen/builder/EntityAIStructureBuilder.java", "diffHunk": "@@ -128,15 +132,55 @@ public IAIState getStateAfterPickUp()\n \n     /**\n      * State to pick up material before going back to work.\n+     *\n      * @return the next state to go to.\n      */\n     public IAIState pickUpMaterial()\n     {\n         final BuildingBuilder building = getOwnBuilding();\n-        final List<Predicate<ItemStack>> neededItemsList = new ArrayList<>();\n-        for (final BuildingBuilderResource stack : building.getNeededResources().values())\n+        final List<Tuple<Predicate<ItemStack>, Integer>> neededItemsList = new ArrayList<>();\n+        boolean ONLY_64 = false;\n+\n+        Map<String, BuildingBuilderResource> neededRessourcesMap = building.getNeededResources();\n+        if (neededRessourcesMap.size() > InventoryUtils.openSlotCount(worker.getInventoryCitizen()) - MIN_OPEN_SLOTS)\n         {\n-            neededItemsList.add(itemstack -> ItemStackUtils.compareItemStacksIgnoreStackSize(stack.getItemStack(), itemstack, true, true));\n+            ONLY_64 = true;\n+        }\n+        else\n+        {\n+            int stackCount = 0;", "originalCommit": "2aa935dc3aecfeaf8e2dd058e76e3c524dffb53c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2NTYwNQ==", "url": "https://github.com/ldtteam/minecolonies/pull/4634#discussion_r410065605", "bodyText": "Resolved", "author": "Raycoms", "createdAt": "2020-04-17T08:17:06Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA2MzUwMw=="}], "type": "inlineReview"}, {"oid": "a91918484379a8f0d367922f6e914376c8f045c1", "url": "https://github.com/ldtteam/minecolonies/commit/a91918484379a8f0d367922f6e914376c8f045c1", "message": "Happiness (#4651)\n\nComplete happiness rework:\r\n\r\nAdded four different types of Happiness Modifiers.\r\n\r\nStatic: Depending statically on a value of the citizen\r\nTime Based: Change factor over time\r\nExpiration based: Invoked for a short time (buff for three days on a colonist death for example)\r\nClient Sided: With the factor only for the client side.\r\n\r\nAll the lists in the GUI are now automatically generated from the list of modifiers.", "committedDate": "2020-04-17T08:21:07Z", "type": "commit"}, {"oid": "f519957a0b388d2a27a7e9f4870b029686fc856e", "url": "https://github.com/ldtteam/minecolonies/commit/f519957a0b388d2a27a7e9f4870b029686fc856e", "message": "Fixes\n\nsmall changes,", "committedDate": "2020-04-17T08:37:26Z", "type": "commit"}, {"oid": "75fe9d49ca6df60a195c38023b701bdcd3893ed6", "url": "https://github.com/ldtteam/minecolonies/commit/75fe9d49ca6df60a195c38023b701bdcd3893ed6", "message": "Merge remote-tracking branch 'origin/version/1.15' into version/1.15", "committedDate": "2020-04-17T08:37:41Z", "type": "commit"}, {"oid": "6702a555035108b61a1d59b17f50d875bf2a048b", "url": "https://github.com/ldtteam/minecolonies/commit/6702a555035108b61a1d59b17f50d875bf2a048b", "message": "Feature/code smell (#4659)\n\nAdd a bit more doc\r\nFix some code smell", "committedDate": "2020-04-17T08:58:08Z", "type": "commit"}, {"oid": "525bed6855dcb2e848741138f0299b87c13dc8e2", "url": "https://github.com/ldtteam/minecolonies/commit/525bed6855dcb2e848741138f0299b87c13dc8e2", "message": "hotfix colony load issue", "committedDate": "2020-04-17T09:42:16Z", "type": "commit"}, {"oid": "5d247fbac76236ea197fd5a5c0865cd59a638228", "url": "https://github.com/ldtteam/minecolonies/commit/5d247fbac76236ea197fd5a5c0865cd59a638228", "message": "Update building itemStorage (#4661)\n\n* Update building itemStorage\r\n* hotfix #4649", "committedDate": "2020-04-17T10:56:58Z", "type": "commit"}, {"oid": "43af2307c6a1f970cc23106b805a53f10ca52171", "url": "https://github.com/ldtteam/minecolonies/commit/43af2307c6a1f970cc23106b805a53f10ca52171", "message": "hotfix #4662", "committedDate": "2020-04-17T12:39:15Z", "type": "commit"}, {"oid": "366d9cd1784008ede30079eb7bb5d721c32ac963", "url": "https://github.com/ldtteam/minecolonies/commit/366d9cd1784008ede30079eb7bb5d721c32ac963", "message": "Change in BuilderAi to be a little bit more smart\n\nChanged the System to reflect more proper requests if needed material is bigger than stacksize. and also to pick not only full stacks.. instead real values.", "committedDate": "2020-04-17T17:39:36Z", "type": "commit"}, {"oid": "323069fbc3653f1f3b658eb65afdc9e9f8efa2c9", "url": "https://github.com/ldtteam/minecolonies/commit/323069fbc3653f1f3b658eb65afdc9e9f8efa2c9", "message": "Change in BuilderAi to be a little bit more smart\n\nBugfix... endless loop at bigger buildings", "committedDate": "2020-04-17T17:40:07Z", "type": "commit"}, {"oid": "244ad0404b1ab8247a3fb5e44597e8511edb0012", "url": "https://github.com/ldtteam/minecolonies/commit/244ad0404b1ab8247a3fb5e44597e8511edb0012", "message": "Modified and moved AI code\n\nChanged the System to reflect more proper requests if needed material is bigger than stacksize. and also to pick not only full stacks.. instead real needed values.", "committedDate": "2020-04-17T17:45:55Z", "type": "commit"}, {"oid": "516ecf794d115b4e5d8912db0330b7b4e7ed769a", "url": "https://github.com/ldtteam/minecolonies/commit/516ecf794d115b4e5d8912db0330b7b4e7ed769a", "message": "formatting change\n\nfixed formatting", "committedDate": "2020-04-17T17:45:55Z", "type": "commit"}, {"oid": "dfa6779a9893759cf3ee12a91b9ffa4b53245b5a", "url": "https://github.com/ldtteam/minecolonies/commit/dfa6779a9893759cf3ee12a91b9ffa4b53245b5a", "message": "Fix and format", "committedDate": "2020-04-17T17:46:30Z", "type": "commit"}, {"oid": "6bcdc331b5c82e14a8112dd1cf5d2a7f6f2311fd", "url": "https://github.com/ldtteam/minecolonies/commit/6bcdc331b5c82e14a8112dd1cf5d2a7f6f2311fd", "message": "Format Fix\n\nFixed again. now should be good", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "fecec08da3389201b59433e2aad63f4bc4649319", "url": "https://github.com/ldtteam/minecolonies/commit/fecec08da3389201b59433e2aad63f4bc4649319", "message": "Tuple replace\n\nNow it should be ready for review", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "80f4668f193274a28432ae8f1f75fafded7e1311", "url": "https://github.com/ldtteam/minecolonies/commit/80f4668f193274a28432ae8f1f75fafded7e1311", "message": "Warehouse Inventory Total page working\n\nThe Warehouse got a new page which lists now all Warehouse connected Inventory. Icons still missing and window text is abstract for now. I didnt want to fuzz in the Language files for now. correct name needs to be found. Tech wise works nice. Ready for test", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "0f471f3faed9f481e8bdfb11c77ae879c933e8c3", "url": "https://github.com/ldtteam/minecolonies/commit/0f471f3faed9f481e8bdfb11c77ae879c933e8c3", "message": "Revert \"Warehouse Inventory Total page working\"\n\nThis reverts commit e570e69500186e03ca671be786c93e668cf62028.", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "43880b36bf893fcb18217637646cf51959d7a313", "url": "https://github.com/ldtteam/minecolonies/commit/43880b36bf893fcb18217637646cf51959d7a313", "message": "changed Function Name\n\nchanged the tryTransferFromPosToWorker to tryTransferFromPosToWorkerIfNeeded", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "25606e045b3c1ed9f4c442714eca6350a7f35742", "url": "https://github.com/ldtteam/minecolonies/commit/25606e045b3c1ed9f4c442714eca6350a7f35742", "message": "Building Hiring bug\n\nBuilding hiring was able even if already worker was present.", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "ccaee5dd8922e7b012bc923e7614463944e54ba3", "url": "https://github.com/ldtteam/minecolonies/commit/ccaee5dd8922e7b012bc923e7614463944e54ba3", "message": "Added function to average out itemstack pickups for large builds", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "d888c2bdb413b21f2a6d61acd0fda4bbc1a7c928", "url": "https://github.com/ldtteam/minecolonies/commit/d888c2bdb413b21f2a6d61acd0fda4bbc1a7c928", "message": "hotfix stacksize", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "32db5951d253e416093163fe91164b0e0a61f9fb", "url": "https://github.com/ldtteam/minecolonies/commit/32db5951d253e416093163fe91164b0e0a61f9fb", "message": "Fixes\n\nsmall changes,", "committedDate": "2020-04-17T17:47:07Z", "type": "commit"}, {"oid": "a42e0fed0e3551282c53bf078c316c042aee53f6", "url": "https://github.com/ldtteam/minecolonies/commit/a42e0fed0e3551282c53bf078c316c042aee53f6", "message": "Merge remote-tracking branch 'origin/version/1.15' into version/1.15", "committedDate": "2020-04-17T17:48:30Z", "type": "commit"}]}