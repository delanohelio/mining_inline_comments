{"pr_number": 8063, "pr_title": "Hide usages of websocket 'Session' behind an interface", "pr_createdAt": "2020-11-02T03:45:11Z", "pr_url": "https://github.com/triplea-game/triplea/pull/8063", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTcyOTA3OA==", "url": "https://github.com/triplea-game/triplea/pull/8063#discussion_r515729078", "bodyText": "Method fromSession has a Cognitive Complexity of 8 (exceeds 7 allowed). Consider refactoring.", "author": "codeclimate", "createdAt": "2020-11-02T03:57:03Z", "path": "websocket-server/src/main/java/org/triplea/web/socket/WebSocketSession.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package org.triplea.web.socket;\n+\n+import java.io.IOException;\n+import java.net.InetAddress;\n+import java.util.concurrent.ExecutionException;\n+import javax.websocket.CloseReason;\n+import javax.websocket.Session;\n+import org.slf4j.LoggerFactory;\n+\n+public interface WebSocketSession {\n+  static WebSocketSession fromSession(Session session) {", "originalCommit": "fe415b021d3d375bb24ddcdc198797e325f2138d", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "364481a4ecd9db8172a05fe8462534338f5b4571", "url": "https://github.com/triplea-game/triplea/commit/364481a4ecd9db8172a05fe8462534338f5b4571", "message": "Hide usages of websocket 'Session' being an interface\n\nPreps for a potential standalone websocket server to replace java sockets.\nThe standalone server has a different object type than a session, by\nhiding the 'session' behind an interface we can accomodate for this.\n\nA more significant change to this update is we will still always\nuse a 'GenericWebsocket' for server connections, but instead of\nembedding fields into a 'session', into 'user properties', instead\nwe'll create a static map of classes and their respective generic\nwebsocket handler. Then, the websocket server classes will fetch\nthe generic websocket from this map. To initialite this, we\nnow use an 'init' method to bind a websocket class to its\ngeneric websocket server.", "committedDate": "2020-11-02T04:16:50Z", "type": "commit"}, {"oid": "364481a4ecd9db8172a05fe8462534338f5b4571", "url": "https://github.com/triplea-game/triplea/commit/364481a4ecd9db8172a05fe8462534338f5b4571", "message": "Hide usages of websocket 'Session' being an interface\n\nPreps for a potential standalone websocket server to replace java sockets.\nThe standalone server has a different object type than a session, by\nhiding the 'session' behind an interface we can accomodate for this.\n\nA more significant change to this update is we will still always\nuse a 'GenericWebsocket' for server connections, but instead of\nembedding fields into a 'session', into 'user properties', instead\nwe'll create a static map of classes and their respective generic\nwebsocket handler. Then, the websocket server classes will fetch\nthe generic websocket from this map. To initialite this, we\nnow use an 'init' method to bind a websocket class to its\ngeneric websocket server.", "committedDate": "2020-11-02T04:16:50Z", "type": "forcePushed"}]}