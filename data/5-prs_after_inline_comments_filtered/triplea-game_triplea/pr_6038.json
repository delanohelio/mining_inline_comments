{"pr_number": 6038, "pr_title": "Notify game removed", "pr_createdAt": "2020-03-11T07:54:19Z", "pr_url": "https://github.com/triplea-game/triplea/pull/6038", "timeline": [{"oid": "06c6c4e5503eb23d9cfe44b26533e3b245bde245", "url": "https://github.com/triplea-game/triplea/commit/06c6c4e5503eb23d9cfe44b26533e3b245bde245", "message": "Shutdown lobby watcher on server game cancel", "committedDate": "2020-03-11T06:42:20Z", "type": "commit"}, {"oid": "d39d2f72faffd11f1f45cf56fca3f09ab1bbb766", "url": "https://github.com/triplea-game/triplea/commit/d39d2f72faffd11f1f45cf56fca3f09ab1bbb766", "message": "Shutdown server if lobby staging screen is closed", "committedDate": "2020-03-11T07:47:07Z", "type": "commit"}, {"oid": "a7a1aa338903e60935341494eaffb975459b3c4a", "url": "https://github.com/triplea-game/triplea/commit/a7a1aa338903e60935341494eaffb975459b3c4a", "message": "Add system exit callback to close servermodel if program is exited\n\nThis ensures that we will remove any listed lobby games if we launch\na server game and then exit the program. If we simply leave the program\nwe should be sure to actually keep the game listed as we just change\nstate from running to waiting.", "committedDate": "2020-03-11T07:53:38Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg2NzI1Nw==", "url": "https://github.com/triplea-game/triplea/pull/6038#discussion_r390867257", "bodyText": "What's wrong with calling cancel here?", "author": "RoiEXLab", "createdAt": "2020-03-11T10:14:33Z", "path": "game-core/src/main/java/games/strategy/engine/framework/startup/mc/ServerModel.java", "diffHunk": "@@ -422,7 +426,6 @@ private void createServerMessenger(\n                     .bannedPlayerListener(new PlayerDisconnectAction(serverMessenger, this::cancel))\n                     .shutdownListener(\n                         emptyStringMessage -> {\n-                          cancel();", "originalCommit": "a7a1aa338903e60935341494eaffb975459b3c4a", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}