{"pr_number": 569, "pr_title": "Live TV improvements", "pr_createdAt": "2020-09-23T02:46:07Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569", "timeline": [{"oid": "8983d5c8f23e3a0d63a224a19d1a63743708e394", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/8983d5c8f23e3a0d63a224a19d1a63743708e394", "message": "Add channel name to info bar for <No Program Data> programs.", "committedDate": "2020-09-23T02:31:48Z", "type": "commit"}, {"oid": "eb37af39b1c0133588f20017e4229f46ccded09a", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/eb37af39b1c0133588f20017e4229f46ccded09a", "message": "Add channel name to info bar in CustomPlaybackOverlayFragment.java for <No Program Data> programs.", "committedDate": "2020-09-23T02:41:16Z", "type": "commit"}, {"oid": "a913f133c6731cc71e75250ad3050ace0841cf46", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/a913f133c6731cc71e75250ad3050ace0841cf46", "message": "Remove hard coded strings; start implementing 30 minutes No Program segments", "committedDate": "2020-09-23T04:24:02Z", "type": "commit"}, {"oid": "4e8d33d38728e3ee3f30ce8e4d3fdef355c2b2de", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/4e8d33d38728e3ee3f30ce8e4d3fdef355c2b2de", "message": "Last hard coded string", "committedDate": "2020-09-23T04:31:17Z", "type": "commit"}, {"oid": "3524401a9b66b7432b99e22248852e3a71ea7127", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/3524401a9b66b7432b99e22248852e3a71ea7127", "message": "Add channel surfing in live guide using channel headers; long press and short press actions in non-live guide; skip adding programs that are for a time slot that has been filled by a previous program; fix issue with live guide over scrolling to the left", "committedDate": "2020-09-24T05:46:35Z", "type": "commit"}, {"oid": "b452f7fe5f00a12a8dfd0c7f28e4a6c1d8068f4f", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/b452f7fe5f00a12a8dfd0c7f28e4a6c1d8068f4f", "message": "Attach channel header scrolling to program scrolling; fixed half of lost focus bug", "committedDate": "2020-09-24T06:20:49Z", "type": "commit"}, {"oid": "85ecab725035c802e060ebe087d8ae23f7c08250", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/85ecab725035c802e060ebe087d8ae23f7c08250", "message": "Fix back button for Live TV while viewing show", "committedDate": "2020-09-24T17:35:42Z", "type": "commit"}, {"oid": "57cfc9acc0c8e7b61cf7256b66026853499fb34c", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/57cfc9acc0c8e7b61cf7256b66026853499fb34c", "message": "Finished with channel surfing feature", "committedDate": "2020-09-24T18:13:54Z", "type": "commit"}, {"oid": "809262a4a7075b6a33e831751b08dc059f26afa4", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/809262a4a7075b6a33e831751b08dc059f26afa4", "message": "Long press and short press in live tv guide", "committedDate": "2020-09-24T19:56:20Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3OTU5MQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r494779591", "bodyText": "Either remove, uncomment or add a comment explaining why this line is commented to avoid confusion for other devs", "author": "nielsvanvelzen", "createdAt": "2020-09-25T06:43:03Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/GuideChannelHeader.java", "diffHunk": "@@ -45,14 +48,39 @@ private void initComponent(Context context, ChannelInfoDto channel) {\n         ((TextView) findViewById(R.id.channelName)).setText(channel.getName());\n         ((TextView) findViewById(R.id.channelNumber)).setText(channel.getNumber());\n         mChannelImage = (ImageView) findViewById(R.id.channelImage);\n+\n+        if (fragment != null) {\n+            mActivity = fragment;\n+            this.setFocusable(focusable);\n+            setOnClickListener(new OnClickListener() {\n+                @Override\n+                public void onClick(View v) {\n+                    fragment.switchChannel(channel.getId(), false);\n+                }\n+            });\n+        }\n     }\n \n     public void loadImage() {\n-        Glide.with(mActivity)\n+        Glide.with(mContext)\n                 .load(ImageUtils.getPrimaryImageUrl(mChannel, get(ApiClient.class)))\n                 .override(IMAGE_WIDTH, IMAGE_HEIGHT)\n                 .centerInside()\n                 .into(mChannelImage);\n     }\n \n+    @Override\n+    protected void onFocusChanged(boolean gainFocus, int direction, Rect previouslyFocusedRect) {\n+        super.onFocusChanged(gainFocus, direction, previouslyFocusedRect);\n+\n+        if (gainFocus) {\n+            setBackgroundColor(Utils.getThemeColor(getContext(), android.R.attr.colorAccent));\n+\n+            mActivity.setSelectedProgram(this);\n+        } else {\n+            setBackground(getResources().getDrawable(R.drawable.light_border));\n+        }\n+//        TvApp.getApplication().getLogger().Debug(\"Focus on \" + mProgram.getName() + \" was \" + (gainFocus ? \"gained\" : \"lost\"));", "originalCommit": "809262a4a7075b6a33e831751b08dc059f26afa4", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE5NDcyNA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r495194724", "bodyText": "I'll pull it. That line was already there. I didn't know why myself.", "author": "MrChip53", "createdAt": "2020-09-25T19:39:50Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3OTU5MQ=="}], "type": "inlineReview"}, {"oid": "d468551207f40b21fd77cfb62c8468f06107d1e1", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/d468551207f40b21fd77cfb62c8468f06107d1e1", "message": "change short press to play channel ONLY if its on the show currently airing; Remove comment", "committedDate": "2020-09-26T01:56:29Z", "type": "commit"}, {"oid": "f782cf1dcd3a24411c2f7eade87353d8ec85a785", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/f782cf1dcd3a24411c2f7eade87353d8ec85a785", "message": "Change condition to start channel vs open options", "committedDate": "2020-09-26T04:11:44Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMjA2Ng==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r495512066", "bodyText": "Shouldn\u2019t this be 30*(slot+1)?", "author": "thornbill", "createdAt": "2020-09-27T01:03:06Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/livetv/LiveTvGuideActivity.java", "diffHunk": "@@ -767,26 +797,36 @@ protected void onPostExecute(Void aVoid) {\n \n     private int currentCellId = 0;\n \n+    private GuideChannelHeader getChannelHeader(Context context, ChannelInfoDto channel, boolean focusable){\n+        return new GuideChannelHeader(context, null, channel, focusable);\n+    }\n+\n     private LinearLayout getProgramRow(List<BaseItemDto> programs, String channelId) {\n \n         LinearLayout programRow = new LinearLayout(this);\n \n         if (programs.size() == 0) {\n             if (mFilters.any()) return null; // don't show rows with no program data\n \n-            BaseItemDto empty = new BaseItemDto();\n-            int duration = ((Long)((mCurrentLocalGuideEnd - mCurrentLocalGuideStart) / 60000)).intValue();\n-            empty.setName(\"  <No Program Data Available>\");\n-            empty.setChannelId(channelId);\n-            empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart)));\n-            empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart+(duration*60000))));\n-            ProgramGridCell cell = new ProgramGridCell(this, this, empty);\n-            cell.setId(currentCellId++);\n-            cell.setLayoutParams(new ViewGroup.LayoutParams(duration * PIXELS_PER_MINUTE, ROW_HEIGHT));\n-            cell.setFocusable(true);\n-            programRow.addView(cell);\n-            cell.setLast();\n-            cell.setFirst();\n+            int minutes = ((Long)((mCurrentLocalGuideEnd - mCurrentLocalGuideStart) / 60000)).intValue();\n+            int slot = 0;\n+            do {\n+                BaseItemDto empty = new BaseItemDto();\n+                empty.setName(\"  \" + getString(R.string.no_program_data));\n+                empty.setChannelId(channelId);\n+                empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30*slot) * 60000))));\n+                empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30+(slot+1)) * 60000))));", "originalCommit": "f782cf1dcd3a24411c2f7eade87353d8ec85a785", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUyMDEzMg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r495520132", "bodyText": "Yes. Fixed.", "author": "MrChip53", "createdAt": "2020-09-27T02:56:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMjA2Ng=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMjI0Nw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r495512247", "bodyText": "It shouldn\u2019t be necessary to multiply both sides by 60000 here.", "author": "thornbill", "createdAt": "2020-09-27T01:05:22Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/livetv/LiveTvGuideActivity.java", "diffHunk": "@@ -767,26 +797,36 @@ protected void onPostExecute(Void aVoid) {\n \n     private int currentCellId = 0;\n \n+    private GuideChannelHeader getChannelHeader(Context context, ChannelInfoDto channel, boolean focusable){\n+        return new GuideChannelHeader(context, null, channel, focusable);\n+    }\n+\n     private LinearLayout getProgramRow(List<BaseItemDto> programs, String channelId) {\n \n         LinearLayout programRow = new LinearLayout(this);\n \n         if (programs.size() == 0) {\n             if (mFilters.any()) return null; // don't show rows with no program data\n \n-            BaseItemDto empty = new BaseItemDto();\n-            int duration = ((Long)((mCurrentLocalGuideEnd - mCurrentLocalGuideStart) / 60000)).intValue();\n-            empty.setName(\"  <No Program Data Available>\");\n-            empty.setChannelId(channelId);\n-            empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart)));\n-            empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart+(duration*60000))));\n-            ProgramGridCell cell = new ProgramGridCell(this, this, empty);\n-            cell.setId(currentCellId++);\n-            cell.setLayoutParams(new ViewGroup.LayoutParams(duration * PIXELS_PER_MINUTE, ROW_HEIGHT));\n-            cell.setFocusable(true);\n-            programRow.addView(cell);\n-            cell.setLast();\n-            cell.setFirst();\n+            int minutes = ((Long)((mCurrentLocalGuideEnd - mCurrentLocalGuideStart) / 60000)).intValue();\n+            int slot = 0;\n+            do {\n+                BaseItemDto empty = new BaseItemDto();\n+                empty.setName(\"  \" + getString(R.string.no_program_data));\n+                empty.setChannelId(channelId);\n+                empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30*slot) * 60000))));\n+                empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30+(slot+1)) * 60000))));\n+                ProgramGridCell cell = new ProgramGridCell(this, this, empty, false);\n+                cell.setId(currentCellId++);\n+                cell.setLayoutParams(new ViewGroup.LayoutParams(30 * PIXELS_PER_MINUTE, ROW_HEIGHT));\n+                cell.setFocusable(true);\n+                programRow.addView(cell);\n+                if (slot == 0)\n+                    cell.setFirst();\n+                if (slot == (minutes / 30) - 1)\n+                    cell.setLast();\n+                slot++;\n+            } while((30*slot)*60000 < minutes*60000);", "originalCommit": "f782cf1dcd3a24411c2f7eade87353d8ec85a785", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUyMDE3NA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r495520174", "bodyText": "Agree. Didn't realize the redundancy. Fixed.", "author": "MrChip53", "createdAt": "2020-09-27T02:57:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMjI0Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMjUwNw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r495512507", "bodyText": "Same here", "author": "thornbill", "createdAt": "2020-09-27T01:09:41Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/CustomPlaybackOverlayFragment.java", "diffHunk": "@@ -842,19 +910,35 @@ protected void onPostExecute(Void aVoid) {\n \n     private int currentCellId = 0;\n \n+    private GuideChannelHeader getChannelHeader(Context context, ChannelInfoDto channel, boolean focusable){\n+        return new GuideChannelHeader(context, this, channel, focusable);\n+    }\n+\n     private LinearLayout getProgramRow(List<BaseItemDto> programs, String channelId) {\n         LinearLayout programRow = new LinearLayout(mActivity);\n         if (programs.size() == 0) {\n-            BaseItemDto empty = new BaseItemDto();\n-            empty.setName(mApplication.getString(R.string.no_program_data));\n-            empty.setChannelId(channelId);\n-            empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart)));\n-            empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + (150 * 60000))));\n-            ProgramGridCell cell = new ProgramGridCell(mActivity, mFragment, empty);\n-            cell.setId(currentCellId++);\n-            cell.setLayoutParams(new ViewGroup.LayoutParams(150 * PIXELS_PER_MINUTE, LiveTvGuideActivity.ROW_HEIGHT));\n-            cell.setFocusable(true);\n-            programRow.addView(cell);\n+\n+            int minutes = ((Long)((mCurrentLocalGuideEnd - mCurrentLocalGuideStart) / 60000)).intValue();\n+            int slot = 0;\n+\n+            do {\n+                BaseItemDto empty = new BaseItemDto();\n+                empty.setName(\"  \" + getString(R.string.no_program_data));\n+                empty.setChannelId(channelId);\n+                empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30*slot) * 60000))));\n+                empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30+(slot+1)) * 60000))));", "originalCommit": "f782cf1dcd3a24411c2f7eade87353d8ec85a785", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTUxMjUzNg==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r495512536", "bodyText": "Same here", "author": "thornbill", "createdAt": "2020-09-27T01:10:00Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/CustomPlaybackOverlayFragment.java", "diffHunk": "@@ -842,19 +910,35 @@ protected void onPostExecute(Void aVoid) {\n \n     private int currentCellId = 0;\n \n+    private GuideChannelHeader getChannelHeader(Context context, ChannelInfoDto channel, boolean focusable){\n+        return new GuideChannelHeader(context, this, channel, focusable);\n+    }\n+\n     private LinearLayout getProgramRow(List<BaseItemDto> programs, String channelId) {\n         LinearLayout programRow = new LinearLayout(mActivity);\n         if (programs.size() == 0) {\n-            BaseItemDto empty = new BaseItemDto();\n-            empty.setName(mApplication.getString(R.string.no_program_data));\n-            empty.setChannelId(channelId);\n-            empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart)));\n-            empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + (150 * 60000))));\n-            ProgramGridCell cell = new ProgramGridCell(mActivity, mFragment, empty);\n-            cell.setId(currentCellId++);\n-            cell.setLayoutParams(new ViewGroup.LayoutParams(150 * PIXELS_PER_MINUTE, LiveTvGuideActivity.ROW_HEIGHT));\n-            cell.setFocusable(true);\n-            programRow.addView(cell);\n+\n+            int minutes = ((Long)((mCurrentLocalGuideEnd - mCurrentLocalGuideStart) / 60000)).intValue();\n+            int slot = 0;\n+\n+            do {\n+                BaseItemDto empty = new BaseItemDto();\n+                empty.setName(\"  \" + getString(R.string.no_program_data));\n+                empty.setChannelId(channelId);\n+                empty.setStartDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30*slot) * 60000))));\n+                empty.setEndDate(TimeUtils.convertToUtcDate(new Date(mCurrentLocalGuideStart + ((30+(slot+1)) * 60000))));\n+                ProgramGridCell cell = new ProgramGridCell(mActivity, this, empty, false);\n+                cell.setId(currentCellId++);\n+                cell.setLayoutParams(new ViewGroup.LayoutParams(30 * PIXELS_PER_MINUTE, LiveTvGuideActivity.ROW_HEIGHT));\n+                cell.setFocusable(true);\n+                programRow.addView(cell);\n+                if (slot == 0)\n+                    cell.setFirst();\n+                if (slot == (minutes / 30) - 1)\n+                    cell.setLast();\n+                slot++;\n+            } while((30*slot)*60000 < minutes*60000);", "originalCommit": "f782cf1dcd3a24411c2f7eade87353d8ec85a785", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "461fe1ceb70a5ac625d428dc3d9926c6902d6077", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/461fe1ceb70a5ac625d428dc3d9926c6902d6077", "message": "Requested changes #1", "committedDate": "2020-09-27T02:49:32Z", "type": "commit"}, {"oid": "07e489f6f0a630d4d18e460720668e393ac1edaa", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/07e489f6f0a630d4d18e460720668e393ac1edaa", "message": "Fix favorites at top bug", "committedDate": "2020-09-27T16:38:49Z", "type": "commit"}, {"oid": "c0da70177f0324a3d9ec7e73fa9e0a5324cc3bfe", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/c0da70177f0324a3d9ec7e73fa9e0a5324cc3bfe", "message": "Fix issue #284 and the issue I discovered with the infinite spinner when live guide refreshes", "committedDate": "2020-09-28T03:08:07Z", "type": "commit"}, {"oid": "8b0bacbc146cc3dd61b7e617dfe909319f7bfef7", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/8b0bacbc146cc3dd61b7e617dfe909319f7bfef7", "message": "Fix for bug that locked up non-live guide when re-entering from main menu", "committedDate": "2020-09-29T04:15:31Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxMjI4Nw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r496712287", "bodyText": "It looks like getUserData() can return null, so we should add some checks here to handle that.", "author": "thornbill", "createdAt": "2020-09-29T13:23:25Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/livetv/TvManager.java", "diffHunk": "@@ -248,6 +248,15 @@ public int compare(ChannelInfoDto lhs, ChannelInfoDto rhs) {\n                 }));\n             }\n \n+            if (prefs.favsAtTop) {\n+                Collections.sort(allChannels, new Comparator<ChannelInfoDto>() {\n+                    @Override\n+                    public int compare(ChannelInfoDto channelInfoDto, ChannelInfoDto t1) {\n+                        return -Boolean.compare(channelInfoDto.getUserData().getIsFavorite(), t1.getUserData().getIsFavorite());", "originalCommit": "8b0bacbc146cc3dd61b7e617dfe909319f7bfef7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcxMjgzMA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r496712830", "bodyText": "Maybe just use channel1 and channel2 as the variable names here?", "author": "thornbill", "createdAt": "2020-09-29T13:24:09Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/livetv/TvManager.java", "diffHunk": "@@ -248,6 +248,15 @@ public int compare(ChannelInfoDto lhs, ChannelInfoDto rhs) {\n                 }));\n             }\n \n+            if (prefs.favsAtTop) {\n+                Collections.sort(allChannels, new Comparator<ChannelInfoDto>() {\n+                    @Override\n+                    public int compare(ChannelInfoDto channelInfoDto, ChannelInfoDto t1) {", "originalCommit": "8b0bacbc146cc3dd61b7e617dfe909319f7bfef7", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc2MDg2MQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r496760861", "bodyText": "Why did you change this from using System.currentTimeMillis()?", "author": "thornbill", "createdAt": "2020-09-29T14:24:23Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/livetv/LiveTvGuideActivity.java", "diffHunk": "@@ -260,7 +260,10 @@ protected void onResume() {\n     }\n \n     protected void doLoad() {\n-        if (TvManager.shouldForceReload() || System.currentTimeMillis() > mLastLoad + 3600000) {\n+        Calendar curTime = Calendar.getInstance();\n+        curTime.setTime(new Date());", "originalCommit": "8b0bacbc146cc3dd61b7e617dfe909319f7bfef7", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjkxNjE3Mw==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/569#discussion_r496916173", "bodyText": "I changed a lot of these to use Calendar. For some reason, it appears that the calendar.getTimeMs fucntion adds some sort of zero padding and so Calendars current time would not ever equal Systems current time for me. I can look into this further and see if it was just my bad code or a real issue. The mCurrentGuide longs are set based off of Calendar variables.\nScratch all that I think I did this in another feature that's not ready yet. Also, don't know why I did this because they are the same after checking. Must of been losing my mind, it was late \ud83d\ude04", "author": "MrChip53", "createdAt": "2020-09-29T17:30:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njc2MDg2MQ=="}], "type": "inlineReview"}, {"oid": "d274b1d06646443bb63e3c939ab02541f8aea895", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/d274b1d06646443bb63e3c939ab02541f8aea895", "message": "Requested changes and a couple more hardcoded strings", "committedDate": "2020-09-30T00:37:15Z", "type": "commit"}, {"oid": "0b14be1f4af6dc8f6b513fa4b63c42ae1e10837e", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/0b14be1f4af6dc8f6b513fa4b63c42ae1e10837e", "message": "Remove accidental commit", "committedDate": "2020-09-30T00:43:17Z", "type": "commit"}]}