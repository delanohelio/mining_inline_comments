{"pr_number": 625, "pr_title": "Fix some crashes when trying to play series", "pr_createdAt": "2020-11-13T22:11:23Z", "pr_url": "https://github.com/jellyfin/jellyfin-androidtv/pull/625", "timeline": [{"oid": "3241beec0384b7eb1c166694456a1e1e0d19b1c6", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/3241beec0384b7eb1c166694456a1e1e0d19b1c6", "message": "Fix issue where using the \"Play All\" button on series would crash the app", "committedDate": "2020-11-13T22:04:35Z", "type": "commit"}, {"oid": "e5c0acb0cd8763cf46ac1ff4bd2877b61e07c342", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/e5c0acb0cd8763cf46ac1ff4bd2877b61e07c342", "message": "Fix issue where using the \"Play Next Up\" button on series would crash the app", "committedDate": "2020-11-13T22:09:12Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzcwODY2OQ==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/625#discussion_r523708669", "bodyText": "Brackets please \ud83d\ude4f", "author": "thornbill", "createdAt": "2020-11-15T05:05:49Z", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "diffHunk": "@@ -143,7 +144,17 @@ public void setPlaybackMethod(PlayMethod value) {\n     public BaseItemDto getCurrentlyPlayingItem() {\n         return mItems.size() > mCurrentIndex ? mItems.get(mCurrentIndex) : null;\n     }\n-    public MediaSourceInfo getCurrentMediaSource() { return mCurrentStreamInfo != null && mCurrentStreamInfo.getMediaSource() != null ? mCurrentStreamInfo.getMediaSource() : getCurrentlyPlayingItem().getMediaSources().get(0);}\n+\n+    public MediaSourceInfo getCurrentMediaSource() {\n+        if (mCurrentStreamInfo != null && mCurrentStreamInfo.getMediaSource() != null) {\n+            return mCurrentStreamInfo.getMediaSource();\n+        } else {\n+            ArrayList<MediaSourceInfo> mediaSources = getCurrentlyPlayingItem().getMediaSources();\n+            if (mediaSources == null || mediaSources.isEmpty()) return null;\n+            else return mediaSources.get(0);", "originalCommit": "e5c0acb0cd8763cf46ac1ff4bd2877b61e07c342", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzczMDY3MA==", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/625#discussion_r523730670", "bodyText": "Only because it's Java", "author": "nielsvanvelzen", "createdAt": "2020-11-15T09:11:07Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzcwODY2OQ=="}], "type": "inlineReview"}, {"oid": "aa2a1a52a4afd00ede31df788ce25b37b3a430a6", "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/aa2a1a52a4afd00ede31df788ce25b37b3a430a6", "message": "Fix codestyle in PlaybackController getCurrentMediaSource", "committedDate": "2020-11-15T09:10:46Z", "type": "commit"}]}