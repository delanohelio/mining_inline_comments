{"pr_number": 490, "pr_title": "Use kwargs in truncatehtml filter", "pr_createdAt": "2020-08-25T15:41:39Z", "pr_url": "https://github.com/HubSpot/jinjava/pull/490", "timeline": [{"oid": "b24735ae60baae9b0f34a969c960bc4deb5e69d4", "url": "https://github.com/HubSpot/jinjava/commit/b24735ae60baae9b0f34a969c960bc4deb5e69d4", "message": "Deduce arguments from type", "committedDate": "2020-08-25T15:18:02Z", "type": "commit"}, {"oid": "5ec3305175d4d6017562bca069f436a159e6039e", "url": "https://github.com/HubSpot/jinjava/commit/5ec3305175d4d6017562bca069f436a159e6039e", "message": "Fix prettier", "committedDate": "2020-08-25T15:20:40Z", "type": "commit"}, {"oid": "db55a42863df1b0313980643ee150d4164e8c792", "url": "https://github.com/HubSpot/jinjava/commit/db55a42863df1b0313980643ee150d4164e8c792", "message": "Fix index", "committedDate": "2020-08-25T15:23:08Z", "type": "commit"}, {"oid": "4d9f56727337cdf73d716f037e9817d43fd6405c", "url": "https://github.com/HubSpot/jinjava/commit/4d9f56727337cdf73d716f037e9817d43fd6405c", "message": "fix test", "committedDate": "2020-08-25T15:24:40Z", "type": "commit"}, {"oid": "aec0b1ba7a0a794ed678c1e74fd9b0ef361e2bf3", "url": "https://github.com/HubSpot/jinjava/commit/aec0b1ba7a0a794ed678c1e74fd9b0ef361e2bf3", "message": "Use kwargs instead", "committedDate": "2020-08-25T19:49:07Z", "type": "commit"}, {"oid": "deb25ce8ca356eb4059ddd0f594bc00b2ff6106f", "url": "https://github.com/HubSpot/jinjava/commit/deb25ce8ca356eb4059ddd0f594bc00b2ff6106f", "message": "Fix prettier", "committedDate": "2020-08-25T19:50:29Z", "type": "commit"}, {"oid": "ec1e0e0385055a3a4d1027216e626fd6da5d356b", "url": "https://github.com/HubSpot/jinjava/commit/ec1e0e0385055a3a4d1027216e626fd6da5d356b", "message": "fix nulls", "committedDate": "2020-08-25T19:56:13Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwMzY2NA==", "url": "https://github.com/HubSpot/jinjava/pull/490#discussion_r476703664", "bodyText": "Changed this to use kwargs - there's probably a more generic way of doing this, but I figure that can be tackled when trying to bring this functionality to our other filters.", "author": "liamrharwood", "createdAt": "2020-08-25T20:00:42Z", "path": "src/main/java/com/hubspot/jinjava/lib/filter/TruncateHtmlFilter.java", "diffHunk": "@@ -55,6 +56,47 @@ public String getName() {\n     return \"truncatehtml\";\n   }\n \n+  @Override\n+  public Object filter(\n+    Object var,\n+    JinjavaInterpreter interpreter,\n+    Object[] args,\n+    Map<String, Object> kwargs\n+  ) {\n+    String length = null;\n+    if (kwargs.containsKey((\"length\"))) {\n+      length = Objects.toString(kwargs.get(\"length\"));\n+    }\n+    String end = null;\n+    if (kwargs.containsKey(\"end\")) {", "originalCommit": "ec1e0e0385055a3a4d1027216e626fd6da5d356b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwNDY1OA==", "url": "https://github.com/HubSpot/jinjava/pull/490#discussion_r476704658", "bodyText": "nit: Can these strings be static?", "author": "mattcoley", "createdAt": "2020-08-25T20:02:38Z", "path": "src/main/java/com/hubspot/jinjava/lib/filter/TruncateHtmlFilter.java", "diffHunk": "@@ -55,6 +56,47 @@ public String getName() {\n     return \"truncatehtml\";\n   }\n \n+  @Override\n+  public Object filter(\n+    Object var,\n+    JinjavaInterpreter interpreter,\n+    Object[] args,\n+    Map<String, Object> kwargs\n+  ) {\n+    String length = null;\n+    if (kwargs.containsKey((\"length\"))) {\n+      length = Objects.toString(kwargs.get(\"length\"));\n+    }\n+    String end = null;\n+    if (kwargs.containsKey(\"end\")) {\n+      end = Objects.toString(kwargs.get(\"end\"));\n+    }\n+    String breakword = null;\n+    if (kwargs.containsKey(\"breakword\")) {", "originalCommit": "ec1e0e0385055a3a4d1027216e626fd6da5d356b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "07b72f2e648417aaf5de248c699ccae1a6b8bc0a", "url": "https://github.com/HubSpot/jinjava/commit/07b72f2e648417aaf5de248c699ccae1a6b8bc0a", "message": "Make strings static constants", "committedDate": "2020-08-25T20:18:42Z", "type": "commit"}, {"oid": "79bfaf205cd3debb9cd7cf1f83cf69557974a977", "url": "https://github.com/HubSpot/jinjava/commit/79bfaf205cd3debb9cd7cf1f83cf69557974a977", "message": "Fix pom and syntax error", "committedDate": "2020-08-25T20:20:15Z", "type": "commit"}]}