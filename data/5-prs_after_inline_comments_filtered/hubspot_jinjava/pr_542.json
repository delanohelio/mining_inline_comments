{"pr_number": 542, "pr_title": "Add skeleton for test cases and EagerTagDecorator", "pr_createdAt": "2020-11-23T18:41:04Z", "pr_url": "https://github.com/HubSpot/jinjava/pull/542", "timeline": [{"oid": "b8bc5ff8a0e761638c5567ad3c34ec02f8821b39", "url": "https://github.com/HubSpot/jinjava/commit/b8bc5ff8a0e761638c5567ad3c34ec02f8821b39", "message": "Pull in generic eager tag decorator", "committedDate": "2020-11-12T17:10:08Z", "type": "commit"}, {"oid": "e8f6c4a7b57d35c1052a557e1e8f732036a1c50e", "url": "https://github.com/HubSpot/jinjava/commit/e8f6c4a7b57d35c1052a557e1e8f732036a1c50e", "message": "Add eager test and template interpreter util", "committedDate": "2020-11-12T17:16:58Z", "type": "commit"}, {"oid": "9073889fc1617d57b962627c5cd504ca14364e9f", "url": "https://github.com/HubSpot/jinjava/commit/9073889fc1617d57b962627c5cd504ca14364e9f", "message": "Merge branch 'eager-execution-flags' of github.com:jasmith-hs/jinjava into eager-tag-decorator", "committedDate": "2020-11-12T17:17:34Z", "type": "commit"}, {"oid": "d9469b3c8e5d85042e65bd2fab715187006875d0", "url": "https://github.com/HubSpot/jinjava/commit/d9469b3c8e5d85042e65bd2fab715187006875d0", "message": "Skeletonize EagerTagDecorator and include test resources", "committedDate": "2020-11-12T17:23:12Z", "type": "commit"}, {"oid": "55dd8462b761d77429c6658f024e0374783c9aad", "url": "https://github.com/HubSpot/jinjava/commit/55dd8462b761d77429c6658f024e0374783c9aad", "message": "Add idempotency testing", "committedDate": "2020-11-12T18:39:23Z", "type": "commit"}, {"oid": "eeb6c42e50147f863621a0a874f6579e2b5cd907", "url": "https://github.com/HubSpot/jinjava/commit/eeb6c42e50147f863621a0a874f6579e2b5cd907", "message": "Merge branch 'eager-execution-flags' of github.com:jasmith-hs/jinjava into eager-tag-decorator", "committedDate": "2020-11-13T18:44:18Z", "type": "commit"}, {"oid": "a1fea9ad3db30f9015defca70bd8188fbd156511", "url": "https://github.com/HubSpot/jinjava/commit/a1fea9ad3db30f9015defca70bd8188fbd156511", "message": "Use execution mode in test", "committedDate": "2020-11-13T18:46:16Z", "type": "commit"}, {"oid": "7d009f5c000d1e9da8c4b74905e0fc456951a98a", "url": "https://github.com/HubSpot/jinjava/commit/7d009f5c000d1e9da8c4b74905e0fc456951a98a", "message": "Merge branch 'eager-tag-decorator' of github.com:jasmith-hs/jinjava into eager-tag-decorator", "committedDate": "2020-11-13T18:46:41Z", "type": "commit"}, {"oid": "5ce96bc5e47df9f52b91d3baf91c55b452f10e53", "url": "https://github.com/HubSpot/jinjava/commit/5ce96bc5e47df9f52b91d3baf91c55b452f10e53", "message": "Update for ExecutionMode", "committedDate": "2020-11-13T19:10:05Z", "type": "commit"}, {"oid": "c1e25fd251dbb9030395a54ecf0de8b8b21a85e5", "url": "https://github.com/HubSpot/jinjava/commit/c1e25fd251dbb9030395a54ecf0de8b8b21a85e5", "message": "Use already constructed instance", "committedDate": "2020-11-24T18:34:33Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc5NzgxOA==", "url": "https://github.com/HubSpot/jinjava/pull/542#discussion_r529797818", "bodyText": "This will get called to register each tag in the EagerExecutionMode.prepareContext() (seen here)\n@boulter This is the basic principle for how I am separating the eager execution code from the default execution code. The tags get wrapped with an EagerTagDecorator in this factory so that they can be registered to override the default tags", "author": "jasmith-hs", "createdAt": "2020-11-24T18:40:00Z", "path": "src/main/java/com/hubspot/jinjava/lib/tag/eager/EagerTagFactory.java", "diffHunk": "@@ -0,0 +1,37 @@\n+package com.hubspot.jinjava.lib.tag.eager;\n+\n+import com.google.common.base.Throwables;\n+import com.google.common.collect.ImmutableMap;\n+import com.hubspot.jinjava.lib.tag.Tag;\n+import java.util.Map;\n+import java.util.Optional;\n+\n+public class EagerTagFactory {\n+  public static final Map<Class<? extends Tag>, Class<? extends EagerTagDecorator<? extends Tag>>> EAGER_TAG_OVERRIDES = ImmutableMap\n+    .<Class<? extends Tag>, Class<? extends EagerTagDecorator<?>>>builder()\n+    .build();\n+\n+  @SuppressWarnings(\"unchecked\")\n+  public static <T extends Tag> Optional<EagerTagDecorator<T>> getEagerTagDecorator(\n+    Class<T> clazz\n+  ) {", "originalCommit": "c1e25fd251dbb9030395a54ecf0de8b8b21a85e5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}]}