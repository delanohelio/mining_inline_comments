{"pr_number": 2048, "pr_title": "[enhancement] resolve esc blacklisted status as backend configuration", "pr_createdAt": "2020-02-26T01:17:32Z", "pr_url": "https://github.com/mercadopago/px-android/pull/2048", "timeline": [{"oid": "37d6cf29c0efcaa981aa574c1c4e72de42f12d28", "url": "https://github.com/mercadopago/px-android/commit/37d6cf29c0efcaa981aa574c1c4e72de42f12d28", "message": "* Resolved esc blacklisted status as backend configuration", "committedDate": "2020-02-26T01:14:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDU2Njg0NQ==", "url": "https://github.com/mercadopago/px-android/pull/2048#discussion_r384566845", "bodyText": "Revisar si tiene sentido este chequeo al storear", "author": "guchito9", "createdAt": "2020-02-26T15:27:45Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/EscUtil.java", "diffHunk": "@@ -20,16 +22,18 @@ private static boolean hasValidParametersForESC(@Nullable final PaymentData paym\n             && !TextUtil.isEmpty(paymentDetail);\n     }\n \n-    public static boolean shouldDeleteEsc(@Nullable final PaymentData paymentData,\n-        @Nullable final String paymentStatus, @Nullable final String paymentDetail) {\n+    public static boolean shouldDeleteEsc(@NonNull final Collection<String> escBlacklistedStatus,\n+        @Nullable final PaymentData paymentData, @Nullable final String paymentStatus,\n+        @Nullable final String paymentDetail) {\n         return hasValidParametersForESC(paymentData, paymentStatus, paymentDetail) &&\n-            !StatusHelper.isValidStatusForEsc(paymentDetail);\n+            ListUtil.contains(escBlacklistedStatus, paymentDetail, ListUtil.CONTAIN_IGNORE_CASE);\n     }\n \n-    public static boolean shouldStoreESC(@Nullable final PaymentData paymentData,\n-        @Nullable final String paymentStatus, @Nullable final String paymentDetail) {\n+    public static boolean shouldStoreESC(@NonNull final Collection<String> escBlacklistedStatus,\n+        @Nullable final PaymentData paymentData, @Nullable final String paymentStatus,\n+        @Nullable final String paymentDetail) {\n         return hasValidParametersForESC(paymentData, paymentStatus, paymentDetail) &&\n-            StatusHelper.isValidStatusForEsc(paymentDetail) &&\n+            !ListUtil.contains(escBlacklistedStatus, paymentDetail, ListUtil.CONTAIN_IGNORE_CASE) &&", "originalCommit": "37d6cf29c0efcaa981aa574c1c4e72de42f12d28", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDY4NTA3Ng==", "url": "https://github.com/mercadopago/px-android/pull/2048#discussion_r384685076", "bodyText": "Como son dos checks independientes el de delete y el de store prefiero dejar todas las validaciones que hacen a cada uno individualmente, es decir, que si el esc que estoy queriendo storear se us\u00f3 en un pago cuyo status detail est\u00e1 blacklisteado, no lo storearia independientemente de lo que suceda con el delete.", "author": "cgaggino", "createdAt": "2020-02-26T18:36:11Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDU2Njg0NQ=="}], "type": "inlineReview"}]}