{"pr_number": 2182, "pr_title": "[Enhancement] Persisting payment configuration", "pr_createdAt": "2020-06-05T19:32:34Z", "pr_url": "https://github.com/mercadopago/px-android/pull/2182", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE3ODcyMQ==", "url": "https://github.com/mercadopago/px-android/pull/2182#discussion_r436178721", "bodyText": "saquemos los logs", "author": "cgaggino", "createdAt": "2020-06-05T21:47:31Z", "path": "px-services/src/main/java/com/mercadopago/android/px/internal/util/ParcelableUtil.java", "diffHunk": "@@ -73,10 +76,34 @@ public static void writeOptional(final Parcel dest, @Nullable final Integer numb\n     // For reading from a Serializable\n     public static <K extends Serializable, V extends Serializable> void readSerializableMap(@NonNull final Map<K,V> map,\n         final Parcel parcel, @NonNull final Class<K> kClass, @NonNull final Class<V> vClass) {\n-        int size = parcel.readInt();\n+        final int size = parcel.readInt();\n         for (int i = 0; i < size; i++) {\n             map.put(Objects.requireNonNull(kClass.cast(parcel.readSerializable())),\n                 Objects.requireNonNull(vClass.cast(parcel.readSerializable())));\n         }\n     }\n+\n+    public static byte[] marshall(final Parcelable parcelable) {\n+        final Parcel parcel = Parcel.obtain();\n+        parcelable.writeToParcel(parcel, 0);\n+        final byte[] bytes = parcel.marshall();\n+        Log.d(\"lalala\", \"marshall: \" + bytes.length);", "originalCommit": "907c959c5417c55289be1cf82f5de3f2fd31c7ab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc0NzM1MQ==", "url": "https://github.com/mercadopago/px-android/pull/2182#discussion_r436747351", "bodyText": "Ya mismo!", "author": "guchito9", "createdAt": "2020-06-08T14:21:44Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE3ODcyMQ=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE3OTE3Nw==", "url": "https://github.com/mercadopago/px-android/pull/2182#discussion_r436179177", "bodyText": "Falta el NonNull", "author": "cgaggino", "createdAt": "2020-06-05T21:49:02Z", "path": "px-services/src/main/java/com/mercadopago/android/px/internal/util/ParcelableUtil.java", "diffHunk": "@@ -73,10 +76,34 @@ public static void writeOptional(final Parcel dest, @Nullable final Integer numb\n     // For reading from a Serializable\n     public static <K extends Serializable, V extends Serializable> void readSerializableMap(@NonNull final Map<K,V> map,\n         final Parcel parcel, @NonNull final Class<K> kClass, @NonNull final Class<V> vClass) {\n-        int size = parcel.readInt();\n+        final int size = parcel.readInt();\n         for (int i = 0; i < size; i++) {\n             map.put(Objects.requireNonNull(kClass.cast(parcel.readSerializable())),\n                 Objects.requireNonNull(vClass.cast(parcel.readSerializable())));\n         }\n     }\n+\n+    public static byte[] marshall(final Parcelable parcelable) {", "originalCommit": "907c959c5417c55289be1cf82f5de3f2fd31c7ab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc0NzI3MQ==", "url": "https://github.com/mercadopago/px-android/pull/2182#discussion_r436747271", "bodyText": "Dale", "author": "guchito9", "createdAt": "2020-06-08T14:21:37Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE3OTE3Nw=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE3OTI0Nw==", "url": "https://github.com/mercadopago/px-android/pull/2182#discussion_r436179247", "bodyText": "el creator nonNull?", "author": "cgaggino", "createdAt": "2020-06-05T21:49:14Z", "path": "px-services/src/main/java/com/mercadopago/android/px/internal/util/ParcelableUtil.java", "diffHunk": "@@ -73,10 +76,34 @@ public static void writeOptional(final Parcel dest, @Nullable final Integer numb\n     // For reading from a Serializable\n     public static <K extends Serializable, V extends Serializable> void readSerializableMap(@NonNull final Map<K,V> map,\n         final Parcel parcel, @NonNull final Class<K> kClass, @NonNull final Class<V> vClass) {\n-        int size = parcel.readInt();\n+        final int size = parcel.readInt();\n         for (int i = 0; i < size; i++) {\n             map.put(Objects.requireNonNull(kClass.cast(parcel.readSerializable())),\n                 Objects.requireNonNull(vClass.cast(parcel.readSerializable())));\n         }\n     }\n+\n+    public static byte[] marshall(final Parcelable parcelable) {\n+        final Parcel parcel = Parcel.obtain();\n+        parcelable.writeToParcel(parcel, 0);\n+        final byte[] bytes = parcel.marshall();\n+        Log.d(\"lalala\", \"marshall: \" + bytes.length);\n+        parcel.recycle();\n+        return bytes;\n+    }\n+\n+    public static <T> T unmarshall(final byte[] bytes, final Parcelable.Creator<T> creator) {", "originalCommit": "907c959c5417c55289be1cf82f5de3f2fd31c7ab", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjc0NzYwMg==", "url": "https://github.com/mercadopago/px-android/pull/2182#discussion_r436747602", "bodyText": "Las dos cosas creo", "author": "guchito9", "createdAt": "2020-06-08T14:22:05Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE3OTI0Nw=="}], "type": "inlineReview"}, {"oid": "fa2a09ae4ef1875681787a6e29d4f2a2999755b6", "url": "https://github.com/mercadopago/px-android/commit/fa2a09ae4ef1875681787a6e29d4f2a2999755b6", "message": "Persisting payment configuration", "committedDate": "2020-06-08T14:26:51Z", "type": "commit"}, {"oid": "fa2a09ae4ef1875681787a6e29d4f2a2999755b6", "url": "https://github.com/mercadopago/px-android/commit/fa2a09ae4ef1875681787a6e29d4f2a2999755b6", "message": "Persisting payment configuration", "committedDate": "2020-06-08T14:26:51Z", "type": "forcePushed"}]}