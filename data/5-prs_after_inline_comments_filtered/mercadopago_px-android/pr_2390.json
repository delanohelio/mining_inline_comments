{"pr_number": 2390, "pr_title": "[Feature] Card form bottom sheet", "pr_createdAt": "2020-11-19T22:56:39Z", "pr_url": "https://github.com/mercadopago/px-android/pull/2390", "timeline": [{"oid": "0ca53bca0e9bc48c9efe8b4b2aeff937c2f9224a", "url": "https://github.com/mercadopago/px-android/commit/0ca53bca0e9bc48c9efe8b4b2aeff937c2f9224a", "message": "add sheet option model", "committedDate": "2020-10-28T13:26:28Z", "type": "commit"}, {"oid": "74c0c382be1a882b76e2507979d0d35d832655a7", "url": "https://github.com/mercadopago/px-android/commit/74c0c382be1a882b76e2507979d0d35d832655a7", "message": "card form bottom sheet", "committedDate": "2020-11-15T14:12:00Z", "type": "commit"}, {"oid": "545388463f6e7b40b5d9d0481a528754f916888e", "url": "https://github.com/mercadopago/px-android/commit/545388463f6e7b40b5d9d0481a528754f916888e", "message": "recycler view and adepter added", "committedDate": "2020-11-16T11:59:34Z", "type": "commit"}, {"oid": "dba72f5714e7805d1fde56d0ef4b53ac63b7b857", "url": "https://github.com/mercadopago/px-android/commit/dba72f5714e7805d1fde56d0ef4b53ac63b7b857", "message": "cardformoption click listener added", "committedDate": "2020-11-17T16:56:02Z", "type": "commit"}, {"oid": "9fec05f19d88d6d362ccc8abfb4b75f686db4a8e", "url": "https://github.com/mercadopago/px-android/commit/9fec05f19d88d6d362ccc8abfb4b75f686db4a8e", "message": "add init type to new card meta data", "committedDate": "2020-11-19T14:14:56Z", "type": "commit"}, {"oid": "b8f0fb56e1653d71fb83856c269b9696bcd10da6", "url": "https://github.com/mercadopago/px-android/commit/b8f0fb56e1653d71fb83856c269b9696bcd10da6", "message": "refactor recycler view adapter", "committedDate": "2020-11-19T19:43:23Z", "type": "commit"}, {"oid": "1fa30ae12ac7e5e5209211c8569875ab87fd1b44", "url": "https://github.com/mercadopago/px-android/commit/1fa30ae12ac7e5e5209211c8569875ab87fd1b44", "message": "revert changes", "committedDate": "2020-11-19T22:09:38Z", "type": "commit"}, {"oid": "7768e2e51d5d97f578631fb53b482ffbb59386ba", "url": "https://github.com/mercadopago/px-android/commit/7768e2e51d5d97f578631fb53b482ffbb59386ba", "message": "merge with master", "committedDate": "2020-11-19T22:24:07Z", "type": "commit"}, {"oid": "a0542678a163e15b66de67d9e66e3a88040c003f", "url": "https://github.com/mercadopago/px-android/commit/a0542678a163e15b66de67d9e66e3a88040c003f", "message": "refactor open card form", "committedDate": "2020-11-19T22:45:29Z", "type": "commit"}, {"oid": "23db14f0e593e3863163f103a6978fb770dde76f", "url": "https://github.com/mercadopago/px-android/commit/23db14f0e593e3863163f103a6978fb770dde76f", "message": "add code", "committedDate": "2020-11-19T22:51:53Z", "type": "commit"}, {"oid": "763cbeed2a912da8c65cf31fdaa3b39c70af3c02", "url": "https://github.com/mercadopago/px-android/commit/763cbeed2a912da8c65cf31fdaa3b39c70af3c02", "message": "rename file", "committedDate": "2020-11-20T19:37:46Z", "type": "commit"}, {"oid": "136dc6c637360c17631881c6cd0b0f8e68ede4ef", "url": "https://github.com/mercadopago/px-android/commit/136dc6c637360c17631881c6cd0b0f8e68ede4ef", "message": "update text sizes", "committedDate": "2020-11-24T19:15:10Z", "type": "commit"}, {"oid": "e0a9c19c74abb272bffa4d4a92ddc3c6d1533c14", "url": "https://github.com/mercadopago/px-android/commit/e0a9c19c74abb272bffa4d4a92ddc3c6d1533c14", "message": "rename package", "committedDate": "2020-11-24T20:06:58Z", "type": "commit"}, {"oid": "c4d36e27a59bf17960801b8a5544fa93ab4c4361", "url": "https://github.com/mercadopago/px-android/commit/c4d36e27a59bf17960801b8a5544fa93ab4c4361", "message": "rename package again", "committedDate": "2020-11-24T20:08:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg0OTg0NQ==", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529849845", "bodyText": "List en vez de ArrayList", "author": "guchito9", "createdAt": "2020-11-24T20:12:38Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -81,12 +87,34 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n \n     private void configureAddNewCard(@NonNull final NewCardMetadata newCardMetadata) {\n         addNewCardView.setVisibility(View.VISIBLE);\n+        final ArrayList<CardFormOption> cardFormOptions = newCardMetadata.getSheetOptions();", "originalCommit": "c4d36e27a59bf17960801b8a5544fa93ab4c4361", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg1MDEzMQ==", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529850131", "bodyText": "onClickListener en vez de onCLickListener", "author": "guchito9", "createdAt": "2020-11-24T20:13:20Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -81,12 +87,34 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n \n     private void configureAddNewCard(@NonNull final NewCardMetadata newCardMetadata) {\n         addNewCardView.setVisibility(View.VISIBLE);\n+        final ArrayList<CardFormOption> cardFormOptions = newCardMetadata.getSheetOptions();\n+        final View.OnClickListener onCLickListener;", "originalCommit": "c4d36e27a59bf17960801b8a5544fa93ab4c4361", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg1MjQ5Mg==", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529852492", "bodyText": "Meter\u00eda un fromValue que haga internamente un equalsIgnoreCase dentro del enum mejor", "author": "guchito9", "createdAt": "2020-11-24T20:17:34Z", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/add_new_card/OtherPaymentMethodFragment.java", "diffHunk": "@@ -81,12 +87,34 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n \n     private void configureAddNewCard(@NonNull final NewCardMetadata newCardMetadata) {\n         addNewCardView.setVisibility(View.VISIBLE);\n+        final ArrayList<CardFormOption> cardFormOptions = newCardMetadata.getSheetOptions();\n+        final View.OnClickListener onCLickListener;\n+\n+        if (ListUtil.isEmpty(cardFormOptions) || cardFormOptions.size() == 1) {\n+            final String initType = newCardMetadata.getCardFormInitType().toUpperCase();\n+            onCLickListener = v -> presenter.onAddNewCardSelected(CardFormInitType.valueOf(initType));", "originalCommit": "c4d36e27a59bf17960801b8a5544fa93ab4c4361", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTg1NjQxNQ==", "url": "https://github.com/mercadopago/px-android/pull/2390#discussion_r529856415", "bodyText": "Esto lo har\u00eda como un enum usando serializedName para los valores exactos que vienen de backend. Cualquier cosa ver la clase Button:\nhttps://github.com/mercadopago/px-android/blob/master/px-services/src/main/java/com/mercadopago/android/px/model/internal/Button.kt", "author": "guchito9", "createdAt": "2020-11-24T20:25:01Z", "path": "px-services/src/main/java/com/mercadopago/android/px/model/NewCardMetadata.java", "diffHunk": "@@ -2,14 +2,21 @@\n \n import android.os.Parcel;\n import android.os.Parcelable;\n+import androidx.annotation.Nullable;\n+import com.mercadopago.android.px.model.internal.CardFormOption;\n import com.mercadopago.android.px.model.internal.Text;\n import java.io.Serializable;\n+import java.util.ArrayList;\n \n public final class NewCardMetadata implements Parcelable, Serializable {\n \n     private final Text label;\n     private final Text description;\n     private final String version;\n+    private final String cardFormInitType;", "originalCommit": "c4d36e27a59bf17960801b8a5544fa93ab4c4361", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "ccf728d5c9337a13ef1c1438e3b4b0708f417788", "url": "https://github.com/mercadopago/px-android/commit/ccf728d5c9337a13ef1c1438e3b4b0708f417788", "message": "review changes", "committedDate": "2020-11-25T12:56:43Z", "type": "commit"}, {"oid": "9defeccbb2f06f76497dbd5bcf54f48c18986caa", "url": "https://github.com/mercadopago/px-android/commit/9defeccbb2f06f76497dbd5bcf54f48c18986caa", "message": "update layout sheet option", "committedDate": "2020-11-25T21:29:20Z", "type": "commit"}, {"oid": "2e207fa589582e2c2a357f68c9011083ec8cc6ce", "url": "https://github.com/mercadopago/px-android/commit/2e207fa589582e2c2a357f68c9011083ec8cc6ce", "message": "refactor header bottom sheet", "committedDate": "2020-11-27T19:45:31Z", "type": "commit"}, {"oid": "605e1dd29bc1b9b71a822108779e7f4b29d092ca", "url": "https://github.com/mercadopago/px-android/commit/605e1dd29bc1b9b71a822108779e7f4b29d092ca", "message": "change name method", "committedDate": "2020-11-27T19:56:46Z", "type": "commit"}]}