{"pr_number": 1598, "pr_title": "Adding goquorum-compatibility-enabled config option", "pr_createdAt": "2020-11-23T02:40:08Z", "pr_url": "https://github.com/hyperledger/besu/pull/1598", "timeline": [{"oid": "3c7e6c0cb09432d06b79f806ea7193a7eaff58bd", "url": "https://github.com/hyperledger/besu/commit/3c7e6c0cb09432d06b79f806ea7193a7eaff58bd", "message": "Adding goquorum-compatibility-enabled config option\n\nSigned-off-by: Lucas Saldanha <lucascrsaldanha@gmail.com>", "committedDate": "2020-11-23T02:41:53Z", "type": "forcePushed"}, {"oid": "cc69abd6efca77e3f07f9fe76c22f6c5d1fdfcca", "url": "https://github.com/hyperledger/besu/commit/cc69abd6efca77e3f07f9fe76c22f6c5d1fdfcca", "message": "Adding goquorum-compatibility-enabled config option\n\nSigned-off-by: Lucas Saldanha <lucascrsaldanha@gmail.com>", "committedDate": "2020-11-23T02:47:08Z", "type": "forcePushed"}, {"oid": "d60308c882ed6d64f0a46f663511b73895ba1eac", "url": "https://github.com/hyperledger/besu/commit/d60308c882ed6d64f0a46f663511b73895ba1eac", "message": "Adding goquorum-compatibility-enabled config option\n\nSigned-off-by: Lucas Saldanha <lucascrsaldanha@gmail.com>", "committedDate": "2020-11-23T02:49:33Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ1MTY0NA==", "url": "https://github.com/hyperledger/besu/pull/1598#discussion_r528451644", "bodyText": "all the other methods are validateXXXParams", "author": "macfarla", "createdAt": "2020-11-23T03:01:29Z", "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -1319,6 +1325,7 @@ private BesuCommand validateOptions() {\n     validateNatParams();\n     validateNetStatsParams();\n     validateDnsOptionsParams();\n+    validateGoQuorumOptions();", "originalCommit": "d60308c882ed6d64f0a46f663511b73895ba1eac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ1MjQ4OQ==", "url": "https://github.com/hyperledger/besu/pull/1598#discussion_r528452489", "bodyText": "\"Are you using the correct genesis file\" doesn't quite vibe with IllegalStateException. What about\n\"GoQuorum compatibility mode (enabled) can only be used if genesis file has 'isQuorum' flag set to true.\");", "author": "macfarla", "createdAt": "2020-11-23T03:06:36Z", "path": "besu/src/main/java/org/hyperledger/besu/cli/BesuCommand.java", "diffHunk": "@@ -1388,6 +1395,28 @@ private void validateDnsOptionsParams() {\n     }\n   }\n \n+  private void validateGoQuorumOptions() {\n+    if (isGoQuorumCompatibilityMode) {\n+      final GenesisConfigOptions genesisConfigOptions = readGenesisConfigOptions();\n+\n+      if (!genesisConfigOptions.isQuorum()) {\n+        throw new IllegalStateException(\n+            \"GoQuorum compatibility mode is enabled but genesis file 'isQuorum' flag isn't set to true. Are you using the correct genesis file?\");", "originalCommit": "d60308c882ed6d64f0a46f663511b73895ba1eac", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "9abe1238639d3a372a3bc4bd802083df8d967b21", "url": "https://github.com/hyperledger/besu/commit/9abe1238639d3a372a3bc4bd802083df8d967b21", "message": "Adding goquorum-compatibility-enabled config option\n\nSigned-off-by: Lucas Saldanha <lucascrsaldanha@gmail.com>", "committedDate": "2020-11-23T03:11:18Z", "type": "forcePushed"}, {"oid": "d640523192ff6882c6b01a710ee6cf354525e0a9", "url": "https://github.com/hyperledger/besu/commit/d640523192ff6882c6b01a710ee6cf354525e0a9", "message": "Adding goquorum-compatibility-enabled config option\n\nSigned-off-by: Lucas Saldanha <lucascrsaldanha@gmail.com>", "committedDate": "2020-11-23T03:34:52Z", "type": "commit"}, {"oid": "d640523192ff6882c6b01a710ee6cf354525e0a9", "url": "https://github.com/hyperledger/besu/commit/d640523192ff6882c6b01a710ee6cf354525e0a9", "message": "Adding goquorum-compatibility-enabled config option\n\nSigned-off-by: Lucas Saldanha <lucascrsaldanha@gmail.com>", "committedDate": "2020-11-23T03:34:52Z", "type": "forcePushed"}]}