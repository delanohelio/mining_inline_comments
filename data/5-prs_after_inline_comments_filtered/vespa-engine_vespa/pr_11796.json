{"pr_number": 11796, "pr_title": "Athenz domain cannot be set on instance level, just on the root", "pr_createdAt": "2020-01-15T13:52:11Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/11796", "timeline": [{"oid": "bdeffbd5779255b9924e27c4350400936e6cca68", "url": "https://github.com/vespa-engine/vespa/commit/bdeffbd5779255b9924e27c4350400936e6cca68", "message": "Athenz domain cannot be set on instance level, just on the root", "committedDate": "2020-01-15T13:51:41Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njg4NzUzMA==", "url": "https://github.com/vespa-engine/vespa/pull/11796#discussion_r366887530", "bodyText": "That's not sufficient because it is accessed from the config model. Better to give a date where you can be sure all config models accessing it are gone, without requiring the random person seeing this in the future to do detective work, e.g \"After February 2020\".", "author": "bratseth", "createdAt": "2020-01-15T13:56:51Z", "path": "config-model-api/src/main/java/com/yahoo/config/application/api/DeploymentInstanceSpec.java", "diffHunk": "@@ -182,9 +155,10 @@ public boolean canChangeRevisionAt(Instant instant) {\n     }\n \n     /** Returns the athenz domain if configured */\n-    public Optional<AthenzDomain> athenzDomain() { return athenzDomain; }\n+    // TODO jonmv: Remove when the commit with this comment is deployed on all config servers.", "originalCommit": "bdeffbd5779255b9924e27c4350400936e6cca68", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkwNzgxMA==", "url": "https://github.com/vespa-engine/vespa/pull/11796#discussion_r366907810", "bodyText": "Of course. I have no idea what I was thinking :)", "author": "jonmv", "createdAt": "2020-01-15T14:34:25Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njg4NzUzMA=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkwODExOA==", "url": "https://github.com/vespa-engine/vespa/pull/11796#discussion_r366908118", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // TODO jonmv: Remove when the commit with this comment is deployed on all config servers.\n          \n          \n            \n                // TODO jonmv: Remove when 7.162 is older than the oldest deployed version.", "author": "jonmv", "createdAt": "2020-01-15T14:34:57Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njg4NzUzMA=="}], "type": "inlineReview"}, {"oid": "981e9eb3beee5e0f06e5d27673a989d9ae2f4199", "url": "https://github.com/vespa-engine/vespa/commit/981e9eb3beee5e0f06e5d27673a989d9ae2f4199", "message": "Update removal criterion for public method", "committedDate": "2020-01-15T14:35:10Z", "type": "commit"}]}