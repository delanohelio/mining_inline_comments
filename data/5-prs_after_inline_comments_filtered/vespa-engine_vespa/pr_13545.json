{"pr_number": 13545, "pr_title": "Provision load balancer for config server cluster", "pr_createdAt": "2020-06-11T07:37:18Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/13545", "timeline": [{"oid": "b3b3a7c09f6fee7417cd0fb60ca03abbb38d0950", "url": "https://github.com/vespa-engine/vespa/commit/b3b3a7c09f6fee7417cd0fb60ca03abbb38d0950", "message": "Remove NodeRepository from LoadBalancerService interface", "committedDate": "2020-06-11T07:20:34Z", "type": "commit"}, {"oid": "b83eb4c7cbaa8b736333db9a5e07dc8db810f6d5", "url": "https://github.com/vespa-engine/vespa/commit/b83eb4c7cbaa8b736333db9a5e07dc8db810f6d5", "message": "Extract LoadBalancerSpec", "committedDate": "2020-06-11T07:20:34Z", "type": "commit"}, {"oid": "b2719588db5896062bfb9f29a6d49948fdf44ecd", "url": "https://github.com/vespa-engine/vespa/commit/b2719588db5896062bfb9f29a6d49948fdf44ecd", "message": "Provision load balancer for config server cluster", "committedDate": "2020-06-11T07:20:34Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYwNDE2OQ==", "url": "https://github.com/vespa-engine/vespa/pull/13545#discussion_r438604169", "bodyText": "This is likely not necessary as this code will run on the config server? The zone_id dimension is only relevant on flags used in the controller.", "author": "tokle", "createdAt": "2020-06-11T07:48:06Z", "path": "flags/src/main/java/com/yahoo/vespa/flags/Flags.java", "diffHunk": "@@ -287,6 +287,13 @@\n             CONSOLE_USER_EMAIL\n     );\n \n+    public static final UnboundBooleanFlag CONFIGSERVER_PROVISION_LB = defineFeatureFlag(\n+            \"configserver-provision-lb\", false,\n+            \"Provision load balancer for config server cluster\",\n+            \"Takes effect when zone-config-servers application is redeployed\",\n+            ZONE_ID", "originalCommit": "b2719588db5896062bfb9f29a6d49948fdf44ecd", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYxMTIyNQ==", "url": "https://github.com/vespa-engine/vespa/pull/13545#discussion_r438611225", "bodyText": "Yes, but I want to use the same flag in the controller when implementing DNS updates.", "author": "mpolden", "createdAt": "2020-06-11T08:01:39Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYwNDE2OQ=="}], "type": "inlineReview"}]}