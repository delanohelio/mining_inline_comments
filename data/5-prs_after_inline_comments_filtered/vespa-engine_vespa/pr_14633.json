{"pr_number": 14633, "pr_title": " Comment where payload is checkted in SignatureFilter", "pr_createdAt": "2020-09-30T10:03:13Z", "pr_url": "https://github.com/vespa-engine/vespa/pull/14633", "timeline": [{"oid": "7f11e8043773bbef8f03c6b864b2bbbb5938b734", "url": "https://github.com/vespa-engine/vespa/commit/7f11e8043773bbef8f03c6b864b2bbbb5938b734", "message": "Comment where payload is checkted in SignatureFilter", "committedDate": "2020-09-30T10:02:25Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQwNDM0Mg==", "url": "https://github.com/vespa-engine/vespa/pull/14633#discussion_r497404342", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * request body, so this responsibility falls on the handler consuming the body instead.  For this\n          \n          \n            \n                     * specific case the request body is validated in {@link ApplicationApiHandler.parseDataParts}.\n          \n          \n            \n                     * request body, so this responsibility falls on the handler consuming the body instead.  For the\n          \n          \n            \n                     * deployment cases, the request body is validated in {@link ApplicationApiHandler.parseDataParts}.", "author": "jonmv", "createdAt": "2020-09-30T10:26:26Z", "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/restapi/filter/SignatureFilter.java", "diffHunk": "@@ -65,6 +65,11 @@ public SignatureFilter(Controller controller) {\n     }\n \n     private boolean keyVerifies(PublicKey key, DiscFilterRequest request) {\n+        /* This method only checks that the content hash has been signed by the provided public key, but\n+         * does not verify the content of the request.  jDisc request filters do not allow inspecting the\n+         * request body, so this responsibility falls on the handler consuming the body instead.  For this\n+         * specific case the request body is validated in {@link ApplicationApiHandler.parseDataParts}.", "originalCommit": "7f11e8043773bbef8f03c6b864b2bbbb5938b734", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "d2d453062ff8b6593626b9c9c9ba3f61079ff34c", "url": "https://github.com/vespa-engine/vespa/commit/d2d453062ff8b6593626b9c9c9ba3f61079ff34c", "message": "Update controller-server/src/main/java/com/yahoo/vespa/hosted/controller/restapi/filter/SignatureFilter.java\n\nCo-authored-by: Jon Marius Venstad <jonmv@users.noreply.github.com>", "committedDate": "2020-09-30T10:36:39Z", "type": "commit"}]}