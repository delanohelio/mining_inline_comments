{"pr_number": 1138, "pr_title": "Set up NotificationProcessingHandler before remote params call", "pr_createdAt": "2020-09-08T00:17:15Z", "pr_url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138", "timeline": [{"oid": "b3d32d882e6de8a0da7c85f3501894b06fb01842", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/b3d32d882e6de8a0da7c85f3501894b06fb01842", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\n  * If privacy consent isn't granted then subscription shouldn't happen then the notification will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent", "committedDate": "2020-09-08T00:17:42Z", "type": "forcePushed"}, {"oid": "e9664b339de4f33abea81cb8d551c485ed4ecdf1", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/e9664b339de4f33abea81cb8d551c485ed4ecdf1", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\n  * If privacy consent isn't granted then subscription shouldn't happen then notifications will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent", "committedDate": "2020-09-08T00:19:20Z", "type": "commit"}, {"oid": "e9664b339de4f33abea81cb8d551c485ed4ecdf1", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/e9664b339de4f33abea81cb8d551c485ed4ecdf1", "message": "Set up NotificationProcessingHandler even if remote params or privacy consent is granted\n\n  * setupNotificationExtensionServiceClass method must be called even if remote params aren't called, in that way the user service callback is called\n  * If privacy consent isn't granted then subscription shouldn't happen then notifications will not arrive, because of that it is safe to init service even if we don't have remote params or privacy consent", "committedDate": "2020-09-08T00:19:20Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY1MDIxNQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138#discussion_r484650215", "bodyText": "We should allow someone to change the handler if they choose so we shouldn't add this if check.", "author": "jkasten2", "createdAt": "2020-09-08T04:58:48Z", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OneSignal.java", "diffHunk": "@@ -649,7 +649,8 @@ public static void setAppContext(@NonNull Context context) {\n    }\n \n    static void setNotificationProcessingHandler(NotificationProcessingHandler callback) {\n-      notificationProcessingHandler = callback;\n+      if (notificationProcessingHandler == null)", "originalCommit": "e9664b339de4f33abea81cb8d551c485ed4ecdf1", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA0MTEyNQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138#discussion_r485041125", "bodyText": "this set isn't public, should it be?", "author": "Jeasmine", "createdAt": "2020-09-08T16:15:15Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY1MDIxNQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEwMzQ4Mw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1138#discussion_r485103483", "bodyText": "ah sorry this is the NSE handler, no it should stay internal so it is only setup via the AndroidManifest.xml. Ignore this comment.", "author": "jkasten2", "createdAt": "2020-09-08T18:05:24Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY1MDIxNQ=="}], "type": "inlineReview"}]}