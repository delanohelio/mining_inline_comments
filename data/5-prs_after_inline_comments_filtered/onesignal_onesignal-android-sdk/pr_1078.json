{"pr_number": 1078, "pr_title": "Added HMS integration to dev app", "pr_createdAt": "2020-06-25T23:05:44Z", "pr_url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1078", "timeline": [{"oid": "bef94f6d832d297e9cf9d62adc5e0094d256aafc", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/bef94f6d832d297e9cf9d62adc5e0094d256aafc", "message": "Added HMS intergration to dev app", "committedDate": "2020-07-31T00:21:13Z", "type": "forcePushed"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDYwNDUyMg==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1078#discussion_r464604522", "bodyText": "is ok to be error lvl log?", "author": "Jeasmine", "createdAt": "2020-08-03T19:00:44Z", "path": "OneSignalSDK/app/src/main/java/com/onesignal/example/HmsMessageServiceAppLevel.java", "diffHunk": "@@ -0,0 +1,50 @@\n+package com.onesignal.example;\r\n+\r\n+import android.util.Log;\r\n+\r\n+import com.huawei.hms.push.HmsMessageService;\r\n+import com.huawei.hms.push.RemoteMessage;\r\n+import com.onesignal.OneSignalHmsEventBridge;\r\n+\r\n+public class HmsMessageServiceAppLevel extends HmsMessageService {\r\n+\r\n+    /**\r\n+     * When an app calls the getToken method to apply for a token from the server,\r\n+     * if the server does not return the token during current method calling, the server can return the token through this method later.\r\n+     * This method callback must be completed in 10 seconds. Otherwise, you need to start a new Job for callback processing.\r\n+     * @param token token\r\n+     */\r\n+    @Override\r\n+    public void onNewToken(String token) {\r\n+        Log.e(\"HMS\", \"onNewToken refresh token:\" + token);\r\n+\r\n+        // Forward event on to OneSignal SDK\r\n+        OneSignalHmsEventBridge.onNewToken(this, token);\r\n+    }\r\n+\r\n+    /**\r\n+     * This method is called in the following cases:\r\n+     *   1. \"Data messages\" - App process is alive when received.\r\n+     *   2. \"Notification Message\" - foreground_show = false and app is in focus\r\n+     * This method callback must be completed in 10 seconds. Start a new Job if more time is needed.\r\n+     *\r\n+     * @param message RemoteMessage\r\n+     */\r\n+    @Override\r\n+    public void onMessageReceived(RemoteMessage message) {\r\n+        Log.e(\"HMS\", \"onMessageReceived: \" + message);\r", "originalCommit": "bef94f6d832d297e9cf9d62adc5e0094d256aafc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "871c1e73374886cb0aab934675333297053239e2", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/871c1e73374886cb0aab934675333297053239e2", "message": "Added HMS intergration to dev app", "committedDate": "2021-07-15T23:12:07Z", "type": "commit"}, {"oid": "d25ccf4620d6199031349e57f515f573609358f9", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d25ccf4620d6199031349e57f515f573609358f9", "message": "Update HMS demo app to major release", "committedDate": "2021-07-15T23:34:52Z", "type": "commit"}, {"oid": "6cf49ba737d9084fb7785d813d5487f9e63a7055", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/6cf49ba737d9084fb7785d813d5487f9e63a7055", "message": "Add flavors for Huawei and GMS\n\n* Set enviroment for Huawei devices testing", "committedDate": "2021-07-16T01:10:07Z", "type": "forcePushed"}, {"oid": "28f1ced6238dd7e707f38985a8b7ebd72d5eac1b", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/28f1ced6238dd7e707f38985a8b7ebd72d5eac1b", "message": "Add flavors for Huawei and GMS\n\n* Set enviroment for Huawei devices testing", "committedDate": "2021-07-16T01:15:26Z", "type": "commit"}, {"oid": "28f1ced6238dd7e707f38985a8b7ebd72d5eac1b", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/28f1ced6238dd7e707f38985a8b7ebd72d5eac1b", "message": "Add flavors for Huawei and GMS\n\n* Set enviroment for Huawei devices testing", "committedDate": "2021-07-16T01:15:26Z", "type": "forcePushed"}]}