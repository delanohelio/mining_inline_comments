{"pr_number": 931, "pr_title": "Added null check to fix `NullPointerException` being thrown", "pr_createdAt": "2020-01-28T03:29:33Z", "pr_url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/931", "timeline": [{"oid": "32ebb146577261d52b62d187ac9b499fdf451641", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/32ebb146577261d52b62d187ac9b499fdf451641", "message": "Added null check to fix `NullPointerException` being thrown\n* getRootWindowInsets() from `Activity` `DecorView` is null some cases (most likely when opening the app from cold start)\n* null check will now return early with the decorView height instead of the sum of the height, top inset, and bottom inset", "committedDate": "2020-01-28T03:29:07Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU5ODM5NQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/931#discussion_r371598395", "bodyText": "Let's save decorView.getRootWindowInsets() into a variable just in case it goes null in between calls.", "author": "jkasten2", "createdAt": "2020-01-28T03:50:33Z", "path": "OneSignalSDK/onesignal/src/main/java/com/onesignal/OSViewUtils.java", "diffHunk": "@@ -91,11 +91,12 @@ else  if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP)\n     private static int getWindowHeightAPI23Plus(@NonNull Activity activity) {\n         View decorView = activity.getWindow().getDecorView();\n         // Use use stable heights as SystemWindowInset subtracts the keyboard\n-        int heightWithoutKeyboard =\n-           decorView.getHeight() -\n-           decorView.getRootWindowInsets().getStableInsetBottom() -\n-           decorView.getRootWindowInsets().getStableInsetTop();\n-        return heightWithoutKeyboard;\n+        if (decorView.getRootWindowInsets() == null)", "originalCommit": "32ebb146577261d52b62d187ac9b499fdf451641", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU5ODczNg==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/931#discussion_r371598736", "bodyText": "Very true, thanks", "author": "mikechoch", "createdAt": "2020-01-28T03:52:19Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTU5ODM5NQ=="}], "type": "inlineReview"}, {"oid": "d25f6e3cb331f2a6949fc23d30e4ca4702f5a3fa", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d25f6e3cb331f2a6949fc23d30e4ca4702f5a3fa", "message": "Assigning `WindowInsets` to variable first and then assessing", "committedDate": "2020-01-28T03:54:21Z", "type": "commit"}]}