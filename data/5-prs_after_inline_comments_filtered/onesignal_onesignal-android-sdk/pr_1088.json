{"pr_number": 1088, "pr_title": "Adding testing and runtime dependencies for androidx.work", "pr_createdAt": "2020-07-09T17:56:36Z", "pr_url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1088", "timeline": [{"oid": "d279f87a7adbc43fb48ce4ad3147ca944270e209", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/commit/d279f87a7adbc43fb48ce4ad3147ca944270e209", "message": "Adding testing and runtime dependencies for androidx.work\n* Added `api 'androidx.work:work-runtime:[2.0.0, 2.99.99]'` for onesignal\n* Added `testImplementation 'androidx.test:core:1.2.0'` for unittest\n* Added `testImplementation 'androidx.work:work-testing:2.3.4'` for unittest\n* Added the `TestHelper` methods for `WorkManager` and `AlarmManager` cleanup/setup\n  * Added method calls `setupTestWorkManager` and `resetAlarmManager` to `beforeTestInitAndCleanup` for future usage of `Worker` and `WorkManager` class\n* Also removed deprecated `RuntimeEnvironment.application` usage\n  * Replaced with `ApplicationProvider.getApplicationContext`", "committedDate": "2020-07-09T17:55:56Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwNzY5Mw==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1088#discussion_r452407693", "bodyText": "This removal doesn't look intentional. Can we put it back?", "author": "jkasten2", "createdAt": "2020-07-09T18:23:38Z", "path": "OneSignalSDK/unittest/src/test/java/com/test/onesignal/TestHelpers.java", "diffHunk": "@@ -104,8 +114,6 @@ static void beforeTestInitAndCleanup() throws Exception {\n \n       ShadowDynamicTimer.resetStatics();\n \n-      ShadowOSWebView.resetStatics();", "originalCommit": "d279f87a7adbc43fb48ce4ad3147ca944270e209", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwOTEwOQ==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1088#discussion_r452409109", "bodyText": "It was a duplicate", "author": "mikechoch", "createdAt": "2020-07-09T18:26:10Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwNzY5Mw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwOTM5Mg==", "url": "https://github.com/OneSignal/OneSignal-Android-SDK/pull/1088#discussion_r452409392", "bodyText": "ah you are right", "author": "jkasten2", "createdAt": "2020-07-09T18:26:38Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQwNzY5Mw=="}], "type": "inlineReview"}]}