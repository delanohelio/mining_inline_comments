{"pr_number": 1192, "pr_title": "Enforce autentication for swagger endpoints", "pr_createdAt": "2020-11-25T13:49:02Z", "pr_url": "https://github.com/AthenZ/athenz/pull/1192", "timeline": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM4NzExMQ==", "url": "https://github.com/AthenZ/athenz/pull/1192#discussion_r530387111", "bodyText": "I use the same zms instance to check authentication in swagger endpoints. Same thing in ZTS.", "author": "OferLevi85", "createdAt": "2020-11-25T13:50:00Z", "path": "servers/zms/src/main/java/com/yahoo/athenz/zms/ZMSBinder.java", "diffHunk": "@@ -21,6 +21,6 @@\n \n     @Override\n     protected void configure() {\n-        bind(new ZMSImpl()).to(ZMSHandler.class);\n+        bind(ZMSImplFactory.getZmsInstance()).to(ZMSHandler.class);", "originalCommit": "e6892b60c6f72cd00b176603582c7f4fdd43b7bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM4NzY4Nw==", "url": "https://github.com/AthenZ/athenz/pull/1192#discussion_r530387687", "bodyText": "Basically the same check for authentication as in ZMSResources / ZTSResources", "author": "OferLevi85", "createdAt": "2020-11-25T13:50:54Z", "path": "servers/zms/src/main/java/com/yahoo/athenz/zms/servlet/SwaggerFilter.java", "diffHunk": "@@ -0,0 +1,36 @@\n+package com.yahoo.athenz.zms.servlet;\n+\n+import com.yahoo.athenz.zms.ResourceContext;\n+import com.yahoo.athenz.zms.ZMSHandler;\n+import com.yahoo.athenz.zms.ZMSImplFactory;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import javax.servlet.*;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+import javax.ws.rs.ext.Provider;\n+import java.io.IOException;\n+\n+@Provider\n+public class SwaggerFilter implements javax.servlet.Filter {\n+\n+    private final ZMSHandler zmsHandler = ZMSImplFactory.getZmsInstance();\n+\n+    @Override\n+    public void init(FilterConfig filterConfig) throws ServletException {\n+\n+    }\n+\n+    @Override\n+    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n+        ResourceContext context = this.zmsHandler.newResourceContext((HttpServletRequest) request, (HttpServletResponse) response, \"swagger\");", "originalCommit": "e6892b60c6f72cd00b176603582c7f4fdd43b7bc", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "7bbcb7063f44aed16b578ca6e531adfed436d179", "url": "https://github.com/AthenZ/athenz/commit/7bbcb7063f44aed16b578ca6e531adfed436d179", "message": "Enforce autentication for swagger endpoints", "committedDate": "2020-11-25T16:10:05Z", "type": "forcePushed"}, {"oid": "b060755b7727882a749a62a304b9d14f44b6448f", "url": "https://github.com/AthenZ/athenz/commit/b060755b7727882a749a62a304b9d14f44b6448f", "message": "Enforce autentication for swagger endpoints", "committedDate": "2020-11-25T17:06:46Z", "type": "commit"}, {"oid": "b060755b7727882a749a62a304b9d14f44b6448f", "url": "https://github.com/AthenZ/athenz/commit/b060755b7727882a749a62a304b9d14f44b6448f", "message": "Enforce autentication for swagger endpoints", "committedDate": "2020-11-25T17:06:46Z", "type": "forcePushed"}]}