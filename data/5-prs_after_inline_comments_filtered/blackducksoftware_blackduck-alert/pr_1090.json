{"pr_number": 1090, "pr_title": "Merge feat warnings into feature branch", "pr_createdAt": "2020-07-29T14:37:03Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090", "timeline": [{"oid": "01b2b350159758211cc307c634968db438b594d9", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/01b2b350159758211cc307c634968db438b594d9", "message": "refactor: Create AlertFieldStatus to track severity levels of AlertFieldExceptions", "committedDate": "2020-07-28T20:15:50Z", "type": "commit"}, {"oid": "d44103e330c4a479309cddabb5d1c8a9fe95b12b", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/d44103e330c4a479309cddabb5d1c8a9fe95b12b", "message": "refactor: Update ValidationResult to have a collection of warnings in addition to errors", "committedDate": "2020-07-28T20:17:17Z", "type": "commit"}, {"oid": "e1bb5692f3b39cdb95cb97cd900d562f37612e31", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/e1bb5692f3b39cdb95cb97cd900d562f37612e31", "message": "style: Add comment for method to be deleted after refactor", "committedDate": "2020-07-29T14:39:26Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MjQyMA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462352420", "bodyText": "Since these constructors are private, we only need this constructor. The static methods that construct this object can pass in empty lists as needed.", "author": "jamesrichard91", "createdAt": "2020-07-29T14:40:19Z", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/field/validators/ValidationResult.java", "diffHunk": "@@ -45,31 +46,66 @@ public static ValidationResult errors(String... errors) {\n         return new ValidationResult(Arrays.asList(errors));\n     }\n \n+    public static ValidationResult warnings(Collection<String> warnings) {\n+        return new ValidationResult(List.of(), warnings);\n+    }\n+\n+    public static ValidationResult warnings(String... warnings) {\n+        return new ValidationResult(List.of(), Arrays.asList(warnings));\n+    }\n+\n     public static ValidationResult of(ValidationResult... validationResults) {\n         Collection<String> validationErrors = Arrays.stream(validationResults)\n                                                   .map(ValidationResult::getErrors)\n                                                   .flatMap(Collection::stream)\n                                                   .collect(Collectors.toList());\n-        return new ValidationResult(validationErrors);\n+        Collection<String> validationWarnings = Arrays.stream(validationResults)\n+                                                    .map(ValidationResult::getWarnings)\n+                                                    .flatMap(Collection::stream)\n+                                                    .collect(Collectors.toList());\n+        return new ValidationResult(validationErrors, validationWarnings);\n     }\n \n     private ValidationResult() {\n         this.errors = List.of();\n+        this.warnings = List.of();\n     }\n \n     private ValidationResult(Collection<String> errors) {\n         this.errors = errors;\n+        this.warnings = List.of();\n+    }\n+\n+    private ValidationResult(Collection<String> errors, Collection<String> warnings) {", "originalCommit": "d44103e330c4a479309cddabb5d1c8a9fe95b12b", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462353559", "bodyText": "Should we be adding warnings to the fieldErrors?", "author": "jamesrichard91", "createdAt": "2020-07-29T14:41:48Z", "path": "src/main/java/com/synopsys/integration/alert/web/config/FieldValidationAction.java", "diffHunk": "@@ -63,6 +63,9 @@ public void validateConfig(Map<String, ConfigField> descriptorFields, FieldModel\n                 if (validationResult.hasErrors()) {\n                     fieldErrors.put(key, validationResult.combineErrorMessages());\n                 }\n+                if (validationResult.hasWarnings()) {\n+                    fieldErrors.put(key, validationResult.combineWarningMessages());", "originalCommit": "d44103e330c4a479309cddabb5d1c8a9fe95b12b", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1NTIyMA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462355220", "bodyText": "This is a work in progress.  We are keeping the same functionality for now and making sure that the code is in place to be able to add warnings even though they are treated as errors. The next branch and refactoring will to convert to the objects that contain information about warnings or errors. Taking a phased approach to this refactor.", "author": "psantos1113", "createdAt": "2020-07-29T14:44:00Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1NjY4MQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462356681", "bodyText": "That's our next step.   We know this code works with the existing code and provides the pieces to add warnings.  Next step is to incorporate all of it together.", "author": "psantos1113", "createdAt": "2020-07-29T14:45:49Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1NzE5Ng==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462357196", "bodyText": "Can we add a TODO in the places that we know need to change?", "author": "jamesrichard91", "createdAt": "2020-07-29T14:46:32Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM2MDkzNQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1090#discussion_r462360935", "bodyText": "We will add TODOs as we move forward.  We are working on a feature branch so the feature branch will ultimately be reviewed by everyone.", "author": "psantos1113", "createdAt": "2020-07-29T14:51:31Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM1MzU1OQ=="}], "type": "inlineReview"}, {"oid": "a649350f4589b439477da42d82dcbea9b76fd325", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a649350f4589b439477da42d82dcbea9b76fd325", "message": "refactor: Remove single argument constructor for ValidationResult", "committedDate": "2020-07-29T14:43:36Z", "type": "commit"}]}