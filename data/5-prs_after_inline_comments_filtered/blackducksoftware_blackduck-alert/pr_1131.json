{"pr_number": 1131, "pr_title": "Fix Certificate Controller", "pr_createdAt": "2020-08-24T18:58:15Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131", "timeline": [{"oid": "feb231f1602e69f64bc3f3ef72e39bf3383b3dbd", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/feb231f1602e69f64bc3f3ef72e39bf3383b3dbd", "message": "Fix(Certificate API): Make GET endpoints return correct response type", "committedDate": "2020-08-21T18:54:31Z", "type": "commit"}, {"oid": "414e02283c78b44dc5cf188ec2bd5c428ef1d778", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/414e02283c78b44dc5cf188ec2bd5c428ef1d778", "message": "Fix(Controllers): Update response status for audit, auth, and certificate controllers", "committedDate": "2020-08-21T19:52:12Z", "type": "commit"}, {"oid": "451c5cccefae3dc07acaaf36ce2b6ffc9280fee8", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/451c5cccefae3dc07acaaf36ce2b6ffc9280fee8", "message": "Feat(Certificate API): Add validation endpoint for certificates", "committedDate": "2020-08-24T12:34:42Z", "type": "commit"}, {"oid": "c53bdd23cd1144695daa82588f23e285b687a266", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/c53bdd23cd1144695daa82588f23e285b687a266", "message": "Fix(Certificate API): Enhance certificate error messages and add permissions to validation", "committedDate": "2020-08-24T17:07:00Z", "type": "commit"}, {"oid": "9bbc1d9e07e5b3f5cdfd96f2504f7d1c87f64fcc", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/9bbc1d9e07e5b3f5cdfd96f2504f7d1c87f64fcc", "message": "Fix(Certificate UI): Call validate endpoint before saving", "committedDate": "2020-08-24T18:46:40Z", "type": "commit"}, {"oid": "4ca282c35e177e210add199b85913a2d8c0d2d3c", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/4ca282c35e177e210add199b85913a2d8c0d2d3c", "message": "Merge branch 'master' into gk_fix_cert_controller", "committedDate": "2020-08-24T18:58:42Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475837507", "bodyText": "The class names are confusing to me here. We have a CertificateModel that we run convertToDatabaseModel which changes it to a CustomCertificateModel. I feel like the name CustomCertificateModel is misleading? Or perhaps the convertToDatabaseModel Should be changed?", "author": "bamandel", "createdAt": "2020-08-24T19:15:02Z", "path": "src/main/java/com/synopsys/integration/alert/web/api/certificate/CertificateActions.java", "diffHunk": "@@ -69,6 +70,43 @@ public CertificateActions(CustomCertificateAccessor certificateAccessor, Certifi\n                    .map(this::convertFromDatabaseModel);\n     }\n \n+    public MessageResult validateCertificate(CertificateModel certificateModel) {\n+        CustomCertificateModel convertedModel = convertToDatabaseModel(certificateModel);", "originalCommit": "4ca282c35e177e210add199b85913a2d8c0d2d3c", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzOTQxNw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475839417", "bodyText": "The database API serves a CustomCertificateModel. The REST API serves a CertificateModel.", "author": "gkillough", "createdAt": "2020-08-24T19:18:45Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg0NTY0Mw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475845643", "bodyText": "I guess I'm confused about what a custom certificate is. Is it just a self signed certificate? Or is the user somehow customizing this model?", "author": "bamandel", "createdAt": "2020-08-24T19:31:09Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTg0NzIyOQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/1131#discussion_r475847229", "bodyText": "It would probably be better to call it a UserProvidedCertificate or something, but this code is actually just moved code from lower in the class. I could make the change in this PR, but it's slightly out of scope.", "author": "gkillough", "createdAt": "2020-08-24T19:34:21Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTgzNzUwNw=="}], "type": "inlineReview"}, {"oid": "de19b3c32b864ce65642dcfd484e38e5a8c3e480", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/de19b3c32b864ce65642dcfd484e38e5a8c3e480", "message": "Refactor(Certificate UI): Rename validate and save function in CertificatesPage", "committedDate": "2020-08-24T19:17:40Z", "type": "commit"}, {"oid": "8cae19e30b490f09c19f0ba267c28fe1ef1805a3", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/8cae19e30b490f09c19f0ba267c28fe1ef1805a3", "message": "Fix(Certificate UI): Remove unnecessary else-statement", "committedDate": "2020-08-24T19:48:36Z", "type": "commit"}, {"oid": "fc72aab285b91382a4ad60059a7651d476c7efd2", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/fc72aab285b91382a4ad60059a7651d476c7efd2", "message": "Merge branch 'master' into gk_fix_cert_controller", "committedDate": "2020-08-25T19:08:44Z", "type": "commit"}, {"oid": "0e22813ecd30c35b96eafffa420a930d0653a610", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/0e22813ecd30c35b96eafffa420a930d0653a610", "message": "FIx(Certificate API): Create a validation response object consistent with current UI error handling", "committedDate": "2020-08-26T15:10:08Z", "type": "commit"}, {"oid": "bdc339261b408de5b52b49f5afd1d3ace5e00939", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/bdc339261b408de5b52b49f5afd1d3ace5e00939", "message": "Merge branch 'master' into gk_fix_cert_controller", "committedDate": "2020-08-26T19:22:23Z", "type": "commit"}]}