{"pr_number": 956, "pr_title": "Jr fix job validation", "pr_createdAt": "2020-04-17T18:25:35Z", "pr_url": "https://github.com/blackducksoftware/blackduck-alert/pull/956", "timeline": [{"oid": "e0c7edfdc03578f57075bb122c266ab8960e0281", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/e0c7edfdc03578f57075bb122c266ab8960e0281", "message": "Fix: Updating the job validation to check for global configurations", "committedDate": "2020-04-17T18:12:32Z", "type": "commit"}, {"oid": "84489dde25e1346f1d0898f91c5bad5da05dcaa6", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/84489dde25e1346f1d0898f91c5bad5da05dcaa6", "message": "Fix: Fixing unit tests", "committedDate": "2020-04-17T18:24:51Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM5OTQwNg==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/956#discussion_r410399406", "bodyText": "Can we make this a little bit clearer? Some UIConfigs inherit fields, but don't defined any.", "author": "gkillough", "createdAt": "2020-04-17T18:30:39Z", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/ui/ChannelDistributionUIConfig.java", "diffHunk": "@@ -86,6 +86,11 @@ public ChannelDistributionUIConfig(ChannelKey channelKey, String label, String u\n         return Stream.concat(configFields.stream(), channelDistributionFields.stream()).collect(Collectors.toList());\n     }\n \n+    @Override\n+    public boolean hasFields() {", "originalCommit": "84489dde25e1346f1d0898f91c5bad5da05dcaa6", "replyToReviewId": null, "replies": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQwMDA5Ng==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/956#discussion_r410400096", "bodyText": "Could we make it a final method that checks if createFields() is not empty?", "author": "gkillough", "createdAt": "2020-04-17T18:32:02Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM5OTQwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQxMDI5NQ==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/956#discussion_r410410295", "bodyText": "I wanted to avoid creating the fields just to throw them away and not use them.", "author": "jamesrichard91", "createdAt": "2020-04-17T18:52:35Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM5OTQwNg=="}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQyODA4Mw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/956#discussion_r410428083", "bodyText": "I feel our code is more bug prone if hard code true and false. If a user changes one method they have to remember the other one exists and maybe change it accordingly.", "author": "bamandel", "createdAt": "2020-04-17T19:31:04Z", "replyToReviewId": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDM5OTQwNg=="}], "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQwMDY0Nw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/956#discussion_r410400647", "bodyText": "Can we put all methods that return streams on their own line here?", "author": "gkillough", "createdAt": "2020-04-17T18:33:06Z", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/GlobalConfigExistsValidator.java", "diffHunk": "@@ -75,6 +75,11 @@ public GlobalConfigExistsValidator(ConfigurationAccessor configurationAccessor,\n             List<ConfigurationModel> configurations = configurationAccessor.getConfigurationsByDescriptorNameAndContext(descriptorName, ConfigContextEnum.GLOBAL);\n             if (configurations.isEmpty()) {\n                 return Optional.of(String.format(GLOBAL_CONFIG_MISSING, descriptorDisplayName));\n+            } else {\n+                boolean configurationsAreEmpty = configurations.stream().filter(configuration -> configuration.getCopyOfFieldList().size() > 0).findFirst().isEmpty();", "originalCommit": "84489dde25e1346f1d0898f91c5bad5da05dcaa6", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "a683168a0adfabea64ba2b4fc0d1754e5d222cc5", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a683168a0adfabea64ba2b4fc0d1754e5d222cc5", "message": "Refactoring the method chains to be on new lines", "committedDate": "2020-04-17T18:53:45Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQyMjM2Mw==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/956#discussion_r410422363", "bodyText": "Moving this stream to line 77.5 will allow you to have only the original if statement as streaming over an empty list will hardly have an impact to begin with.", "author": "bamandel", "createdAt": "2020-04-17T19:18:21Z", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/GlobalConfigExistsValidator.java", "diffHunk": "@@ -70,11 +70,22 @@ public GlobalConfigExistsValidator(ConfigurationAccessor configurationAccessor,\n             return Optional.empty();\n         }\n \n-        String descriptorDisplayName = optionalDescriptorKey.map(DescriptorKey::getDisplayName).orElse(descriptorName);\n+        String descriptorDisplayName = optionalDescriptorKey\n+                                           .map(DescriptorKey::getDisplayName)\n+                                           .orElse(descriptorName);\n         try {\n             List<ConfigurationModel> configurations = configurationAccessor.getConfigurationsByDescriptorNameAndContext(descriptorName, ConfigContextEnum.GLOBAL);\n             if (configurations.isEmpty()) {\n                 return Optional.of(String.format(GLOBAL_CONFIG_MISSING, descriptorDisplayName));\n+            } else {\n+                boolean configurationsAreEmpty = configurations", "originalCommit": "a683168a0adfabea64ba2b4fc0d1754e5d222cc5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQyNDM4OA==", "url": "https://github.com/blackducksoftware/blackduck-alert/pull/956#discussion_r410424388", "bodyText": "Since this is just a boolean, should we have it passed through the constructor and remove abstract from this method?", "author": "bamandel", "createdAt": "2020-04-17T19:22:58Z", "path": "alert-common/src/main/java/com/synopsys/integration/alert/common/descriptor/config/ui/UIConfig.java", "diffHunk": "@@ -48,6 +48,8 @@ public UIConfig(String label, String description, String urlName) {\n \n     public abstract List<ConfigField> createFields();\n \n+    public abstract boolean hasFields();", "originalCommit": "a683168a0adfabea64ba2b4fc0d1754e5d222cc5", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "62a214d9cde18ac8930307eaa8debfbcd5f3cf67", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/62a214d9cde18ac8930307eaa8debfbcd5f3cf67", "message": "Fix: Updating based on feedback", "committedDate": "2020-04-17T19:59:28Z", "type": "commit"}, {"oid": "a7ea6e400776b5db9ca9061cedf522a5ecb0cc7f", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/a7ea6e400776b5db9ca9061cedf522a5ecb0cc7f", "message": "Fix: Fixing the UIConfigs", "committedDate": "2020-04-17T20:28:08Z", "type": "commit"}, {"oid": "3a66c4d866e74c2314e46f91c82da961edd91fa8", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/3a66c4d866e74c2314e46f91c82da961edd91fa8", "message": "Refactor: changing the setConfigFields to protected", "committedDate": "2020-04-17T20:31:14Z", "type": "commit"}, {"oid": "479fba06f27da02050911cdacba3e6073395ac60", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/479fba06f27da02050911cdacba3e6073395ac60", "message": "Merge branch 'master' into jr_fix_job_validation", "committedDate": "2020-04-20T17:25:43Z", "type": "commit"}, {"oid": "baf7148c28688d4f87f1de1e282bd0616420944b", "url": "https://github.com/blackducksoftware/blackduck-alert/commit/baf7148c28688d4f87f1de1e282bd0616420944b", "message": "Refactor: Updating to use a PostConstruct method in UiConfig rather than having all the contructors call the setter", "committedDate": "2020-04-20T20:15:06Z", "type": "commit"}]}