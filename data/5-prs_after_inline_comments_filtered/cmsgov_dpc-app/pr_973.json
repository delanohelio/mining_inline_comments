{"pr_number": 973, "pr_title": "DPC-445: Check provenance and group providers", "pr_createdAt": "2020-08-12T23:47:26Z", "pr_url": "https://github.com/CMSgov/dpc-app/pull/973", "timeline": [{"oid": "e8dc3b740f01aa62571b61ee7a240d67b5525275", "url": "https://github.com/CMSgov/dpc-app/commit/e8dc3b740f01aa62571b61ee7a240d67b5525275", "message": "check provider in provenence header and group match", "committedDate": "2020-07-21T20:59:40Z", "type": "commit"}, {"oid": "99b553fef276e25f6fa3ed7fdac482622d582297", "url": "https://github.com/CMSgov/dpc-app/commit/99b553fef276e25f6fa3ed7fdac482622d582297", "message": "add test when provenance practitioner doesn't match group practitioner", "committedDate": "2020-07-22T04:57:26Z", "type": "commit"}, {"oid": "92f8c7f4da5510b41437faa64060067e5c127f62", "url": "https://github.com/CMSgov/dpc-app/commit/92f8c7f4da5510b41437faa64060067e5c127f62", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-07-22T05:00:47Z", "type": "commit"}, {"oid": "1d98f3f4d884b8c54e90f82e38cb5025f55ecc62", "url": "https://github.com/CMSgov/dpc-app/commit/1d98f3f4d884b8c54e90f82e38cb5025f55ecc62", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-07-27T15:25:56Z", "type": "commit"}, {"oid": "0b70654a71666a67c25c4d9da553d3f747218419", "url": "https://github.com/CMSgov/dpc-app/commit/0b70654a71666a67c25c4d9da553d3f747218419", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-07-29T15:46:11Z", "type": "commit"}, {"oid": "9db55a9a6e784e8f6fc5ce2b6eee39475a1978f3", "url": "https://github.com/CMSgov/dpc-app/commit/9db55a9a6e784e8f6fc5ce2b6eee39475a1978f3", "message": "change status code to 422", "committedDate": "2020-08-02T04:54:09Z", "type": "commit"}, {"oid": "d3ff9b77985b011359652d425d09d9e0abf91796", "url": "https://github.com/CMSgov/dpc-app/commit/d3ff9b77985b011359652d425d09d9e0abf91796", "message": "Merge remote-tracking branch 'origin/wh/DPC-445-check-provenence-and-group-providers' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-02T04:54:19Z", "type": "commit"}, {"oid": "fbe5b31d5eb8a43873c40b132d6000b5d19fc471", "url": "https://github.com/CMSgov/dpc-app/commit/fbe5b31d5eb8a43873c40b132d6000b5d19fc471", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-02T04:54:44Z", "type": "commit"}, {"oid": "3200e8723870e4a93dbd5b9d544df602d90c3032", "url": "https://github.com/CMSgov/dpc-app/commit/3200e8723870e4a93dbd5b9d544df602d90c3032", "message": "change to constant", "committedDate": "2020-08-03T15:34:51Z", "type": "commit"}, {"oid": "5f69190aaa458100dc73981296b705124e4eaeb4", "url": "https://github.com/CMSgov/dpc-app/commit/5f69190aaa458100dc73981296b705124e4eaeb4", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-06T14:00:27Z", "type": "commit"}, {"oid": "6d70aa704429a22db877ecaf7c8fb6ae40102785", "url": "https://github.com/CMSgov/dpc-app/commit/6d70aa704429a22db877ecaf7c8fb6ae40102785", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-06T15:51:18Z", "type": "commit"}, {"oid": "12de3a48de9b7150e2b4802ecdc169e5f168cdd3", "url": "https://github.com/CMSgov/dpc-app/commit/12de3a48de9b7150e2b4802ecdc169e5f168cdd3", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-12T02:14:24Z", "type": "commit"}, {"oid": "5db4c3ecf1e1a9dc80a0a2092d4a126ec8bc1ea6", "url": "https://github.com/CMSgov/dpc-app/commit/5db4c3ecf1e1a9dc80a0a2092d4a126ec8bc1ea6", "message": "fix unit tests for creating roster with header matching", "committedDate": "2020-08-12T17:19:31Z", "type": "commit"}, {"oid": "02b6250616cd8fc96a7fdd7d0ded6d28e75a3e66", "url": "https://github.com/CMSgov/dpc-app/commit/02b6250616cd8fc96a7fdd7d0ded6d28e75a3e66", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-12T17:21:39Z", "type": "commit"}, {"oid": "f48dcfc09b7fbdc201bd2d50f8560b319aebe3d9", "url": "https://github.com/CMSgov/dpc-app/commit/f48dcfc09b7fbdc201bd2d50f8560b319aebe3d9", "message": "fix smoke tests", "committedDate": "2020-08-12T23:46:27Z", "type": "commit"}, {"oid": "c7e380dfd183e8a7ec1dfdb3549e09ed18135d81", "url": "https://github.com/CMSgov/dpc-app/commit/c7e380dfd183e8a7ec1dfdb3549e09ed18135d81", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-12T23:49:02Z", "type": "commit"}, {"oid": "6bff349aab88b4fc7f148d7de0767da5d7a2ce38", "url": "https://github.com/CMSgov/dpc-app/commit/6bff349aab88b4fc7f148d7de0767da5d7a2ce38", "message": "remove system.out", "committedDate": "2020-08-12T23:52:07Z", "type": "commit"}, {"oid": "f542813c15eda1f58f128b70bfa0dad6feab1554", "url": "https://github.com/CMSgov/dpc-app/commit/f542813c15eda1f58f128b70bfa0dad6feab1554", "message": "Merge remote-tracking branch 'origin/wh/DPC-445-check-provenence-and-group-providers' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-12T23:52:17Z", "type": "commit"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTYyNjM1OA==", "url": "https://github.com/CMSgov/dpc-app/pull/973#discussion_r469626358", "bodyText": "Method createRosterSubmission has 5 arguments (exceeds 4 allowed). Consider refactoring.", "author": "codeclimate", "createdAt": "2020-08-13T00:36:10Z", "path": "dpc-smoketest/src/main/java/gov/cms/dpc/testing/smoketests/ClientUtils.java", "diffHunk": "@@ -96,10 +96,16 @@ static void handleExportJob(IGenericClient exportClient, List<String> providerNP\n      * @param patientReferences - {@link Map} of patient's associated to a given provider\n      * @throws IOException - throws if unable to read the file\n      */\n-    private static void createRosterSubmission(IGenericClient client, InputStream resource, UUID organizationID, Map<String, Reference> patientReferences) throws IOException {\n+    private static void createRosterSubmission(IGenericClient client, InputStream resource, Bundle providerBundle, UUID organizationID, Map<String, Reference> patientReferences) throws IOException {", "originalCommit": "f542813c15eda1f58f128b70bfa0dad6feab1554", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTYyNjM2MQ==", "url": "https://github.com/CMSgov/dpc-app/pull/973#discussion_r469626361", "bodyText": "Method createAndUploadRosters has 5 arguments (exceeds 4 allowed). Consider refactoring.", "author": "codeclimate", "createdAt": "2020-08-13T00:36:11Z", "path": "dpc-smoketest/src/main/java/gov/cms/dpc/testing/smoketests/ClientUtils.java", "diffHunk": "@@ -294,28 +300,20 @@ private static JobCompletionModel jobCompletionLambda(IGenericClient exportClien\n         return patientReferences;\n     }\n \n-    static List<String> submitPractitioners(String providerBundleFilename, Class<?> baseClass, FhirContext ctx, IGenericClient exportClient) throws IOException {\n+    static Bundle submitPractitioners(String providerBundleFilename, Class<?> baseClass, FhirContext ctx, IGenericClient exportClient) throws IOException {\n         final Bundle providerBundle;\n \n         System.out.println(\"Submitting practitioners\");\n         providerBundle = bundleSubmitter(baseClass, Practitioner.class, providerBundleFilename, ctx.newJsonParser(), exportClient);\n \n-        // Get the provider NPIs\n-        return providerBundle\n-                .getEntry()\n-                .stream()\n-                .map(Bundle.BundleEntryComponent::getResource)\n-                .map(resource -> (Practitioner) resource)\n-                .map(FHIRExtractors::getProviderNPI)\n-                .collect(Collectors.toList());\n+        return providerBundle;\n     }\n \n-    static void createAndUploadRosters(String seedsFile, IGenericClient client, UUID organizationID, Map<String, Reference> patientReferences) throws IOException {\n+    static void createAndUploadRosters(String seedsFile, Bundle providerBundle, IGenericClient client, UUID organizationID, Map<String, Reference> patientReferences) throws IOException {", "originalCommit": "f542813c15eda1f58f128b70bfa0dad6feab1554", "replyToReviewId": null, "replies": null, "type": "inlineReview"}, {"oid": "3604b407acaef65afeccb2ae348ea4250294d28a", "url": "https://github.com/CMSgov/dpc-app/commit/3604b407acaef65afeccb2ae348ea4250294d28a", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-13T17:53:21Z", "type": "commit"}, {"oid": "7661c55a048ca6e043bce3d7f45e992ef12ddd49", "url": "https://github.com/CMSgov/dpc-app/commit/7661c55a048ca6e043bce3d7f45e992ef12ddd49", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-13T20:07:49Z", "type": "commit"}, {"oid": "37c68dd19e787b6279a3ff304bbdac066fe29139", "url": "https://github.com/CMSgov/dpc-app/commit/37c68dd19e787b6279a3ff304bbdac066fe29139", "message": "Merge branch 'master' into wh/DPC-445-check-provenence-and-group-providers", "committedDate": "2020-08-14T13:59:59Z", "type": "commit"}]}